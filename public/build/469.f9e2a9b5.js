/*! For license information please see 469.f9e2a9b5.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[469],{58197:(e,t,n)=>{var i=n(19755),o=n(19755);!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"AutoComplete",(function(){return u}));var r,a=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.getDefaults=function(){return{url:"",method:"get",queryKey:"q",extraData:{},timeout:void 0,requestThrottling:500}},t.prototype.search=function(e,t){var n=this;null!=this.jqXHR&&this.jqXHR.abort();var o={};o[this._settings.queryKey]=e,i.extend(o,this._settings.extraData),this.requestTID&&window.clearTimeout(this.requestTID),this.requestTID=window.setTimeout((function(){n.jqXHR=i.ajax(n._settings.url,{method:n._settings.method,data:o,timeout:n._settings.timeout}),n.jqXHR.done((function(e){t(e)})),n.jqXHR.fail((function(e){var t;null===(t=n._settings)||void 0===t||t.fail(e)})),n.jqXHR.always((function(){n.jqXHR=null}))}),this._settings.requestThrottling)},t}(function(){function e(e){this._settings=i.extend(!0,{},this.getDefaults(),e)}return e.prototype.getDefaults=function(){return{}},e.prototype.getResults=function(e,t,n){return this.results},e.prototype.search=function(e,t){t(this.getResults())},e}()),l=function(){function e(e,t,n,i){this.initialized=!1,this.shown=!1,this.items=[],this.ddMouseover=!1,this._$el=e,this.formatItem=t,this.autoSelect=n,this.noResultsText=i}return e.prototype.init=function(){var e=this,t=i.extend({},this._$el.position(),{height:this._$el[0].offsetHeight});this._dd=i("<ul />"),this._dd.addClass("bootstrap-autocomplete dropdown-menu"),this._dd.insertAfter(this._$el),this._dd.css({top:t.top+this._$el.outerHeight(),left:t.left,width:this._$el.outerWidth()}),this._dd.on("click","li",(function(t){var n=i(t.currentTarget).data("item");e.itemSelectedLaunchEvent(n)})),this._dd.on("keyup",(function(t){if(e.shown){if(27===t.which)e.hide(),e._$el.focus();return!1}})),this._dd.on("mouseenter",(function(t){e.ddMouseover=!0})),this._dd.on("mouseleave",(function(t){e.ddMouseover=!1})),this._dd.on("mouseenter","li",(function(t){e.haveResults&&(i(t.currentTarget).closest("ul").find("li.active").removeClass("active"),i(t.currentTarget).addClass("active"),e.mouseover=!0)})),this._dd.on("mouseleave","li",(function(t){e.mouseover=!1})),this.initialized=!0},e.prototype.checkInitialized=function(){this.initialized||this.init()},Object.defineProperty(e.prototype,"isMouseOver",{get:function(){return this.mouseover},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDdMouseOver",{get:function(){return this.ddMouseover},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"haveResults",{get:function(){return this.items.length>0},enumerable:!1,configurable:!0}),e.prototype.focusNextItem=function(e){if(this.haveResults){var t=this._dd.find("li.active"),n=e?t.prev():t.next();0===n.length&&(n=e?this._dd.find("li").last():this._dd.find("li").first()),t.removeClass("active"),n.addClass("active")}},e.prototype.focusPreviousItem=function(){this.focusNextItem(!0)},e.prototype.selectFocusItem=function(){this._dd.find("li.active").trigger("click")},Object.defineProperty(e.prototype,"isItemFocused",{get:function(){return!!(this.isShown()&&this._dd.find("li.active").length>0)},enumerable:!1,configurable:!0}),e.prototype.show=function(){this.shown||(this._dd.dropdown().show(),this.shown=!0)},e.prototype.isShown=function(){return this.shown},e.prototype.hide=function(){this.shown&&(this._dd.dropdown().hide(),this.shown=!1)},e.prototype.updateItems=function(e,t){this.items=e,this.searchText=t,this.refreshItemList()},e.prototype.showMatchedText=function(e,t){var n=e.toLowerCase().indexOf(t.toLowerCase());if(n>-1){var i=n+t.length;return e.slice(0,n)+"<b>"+e.slice(n,i)+"</b>"+e.slice(i)}return e},e.prototype.refreshItemList=function(){var e=this;this.checkInitialized(),this._dd.empty();var t=[];if(this.items.length>0)this.items.forEach((function(n){var o,r,a=e.formatItem(n);"string"==typeof a&&(a={text:a}),o=e.showMatchedText(a.text,e.searchText),r=void 0!==a.html?a.html:o;var s=a.disabled,l=i("<li >");l.append(i("<a>").attr("href","#!").html(r)).data("item",n),s&&l.addClass("disabled"),t.push(l)}));else{var n=i("<li >");n.append(i("<a>").attr("href","#!").html(this.noResultsText)).addClass("disabled"),t.push(n)}this._dd.append(t)},e.prototype.itemSelectedLaunchEvent=function(e){this._$el.trigger("autocomplete.select",e)},e}(),c=function(){function e(e,t,n,i){this.initialized=!1,this.shown=!1,this.items=[],this.ddMouseover=!1,this._$el=e,this.formatItem=t,this.autoSelect=n,this.noResultsText=i}return e.prototype.getElPos=function(){return i.extend({},this._$el.position(),{height:this._$el[0].offsetHeight})},e.prototype.init=function(){var e=this,t=this.getElPos();this._dd=i("<div />"),this._dd.addClass("bootstrap-autocomplete dropdown-menu"),this._dd.insertAfter(this._$el),this._dd.css({top:t.top+this._$el.outerHeight(),left:t.left,width:this._$el.outerWidth()}),this._dd.on("click",".dropdown-item",(function(t){var n=i(t.currentTarget).data("item");e.itemSelectedLaunchEvent(n),t.preventDefault()})),this._dd.on("keyup",(function(t){if(e.shown){if(27===t.which)e.hide(),e._$el.focus();return!1}})),this._dd.on("mouseenter",(function(t){e.ddMouseover=!0})),this._dd.on("mouseleave",(function(t){e.ddMouseover=!1})),this._dd.on("mouseenter",".dropdown-item",(function(t){e.haveResults&&(i(t.currentTarget).closest("div").find(".dropdown-item.active").removeClass("active"),i(t.currentTarget).addClass("active"),e.mouseover=!0)})),this._dd.on("mouseleave",".dropdown-item",(function(t){e.mouseover=!1})),this.initialized=!0},e.prototype.checkInitialized=function(){this.initialized||this.init()},Object.defineProperty(e.prototype,"isMouseOver",{get:function(){return this.mouseover},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDdMouseOver",{get:function(){return this.ddMouseover},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"haveResults",{get:function(){return this.items.length>0},enumerable:!1,configurable:!0}),e.prototype.focusNextItem=function(e){if(this.haveResults){var t=this._dd.find(".dropdown-item.active"),n=e?t.prev():t.next();0===n.length&&(n=e?this._dd.find(".dropdown-item").last():this._dd.find(".dropdown-item").first()),t.removeClass("active"),n.addClass("active")}},e.prototype.focusPreviousItem=function(){this.focusNextItem(!0)},e.prototype.selectFocusItem=function(){this._dd.find(".dropdown-item.active").trigger("click")},Object.defineProperty(e.prototype,"isItemFocused",{get:function(){return!!(this._dd&&this.isShown()&&this._dd.find(".dropdown-item.active").length>0)},enumerable:!1,configurable:!0}),e.prototype.show=function(){this.shown||(this.getElPos(),this._dd.addClass("show"),this.shown=!0,this._$el.trigger("autocomplete.dd.shown"))},e.prototype.isShown=function(){return this.shown},e.prototype.hide=function(){this.shown&&(this._dd.removeClass("show"),this.shown=!1,this._$el.trigger("autocomplete.dd.hidden"))},e.prototype.updateItems=function(e,t){this.items=e,this.searchText=t,this.refreshItemList()},e.prototype.showMatchedText=function(e,t){var n=e.toLowerCase().indexOf(t.toLowerCase());if(n>-1){var i=n+t.length;return e.slice(0,n)+"<b>"+e.slice(n,i)+"</b>"+e.slice(i)}return e},e.prototype.refreshItemList=function(){var e=this;this.checkInitialized(),this._dd.empty();var t=[];if(this.items.length>0)this.items.forEach((function(n){var o,r,a=e.formatItem(n);"string"==typeof a&&(a={text:a}),o=e.showMatchedText(a.text,e.searchText),r=void 0!==a.html?a.html:o;var s=a.disabled,l=i("<a >");l.addClass("dropdown-item").css({overflow:"hidden","text-overflow":"ellipsis"}).html(r).data("item",n),s&&l.addClass("disabled"),t.push(l)})),this._dd.append(t),this.show();else if(""===this.noResultsText)this.hide();else{var n=i("<a >");n.addClass("dropdown-item disabled").html(this.noResultsText),t.push(n),this._dd.append(t),this.show()}},e.prototype.itemSelectedLaunchEvent=function(e){this._$el.trigger("autocomplete.select",e)},e}(),u=function(){function e(e,t){this._selectedItem=null,this._defaultValue=null,this._defaultText=null,this._isSelectElement=!1,this._settings={resolver:"ajax",resolverSettings:{},minLength:3,valueKey:"value",formatResult:this.defaultFormatResult,autoSelect:!0,noResultsText:"No results",bootstrapVersion:"auto",preventEnter:!1,events:{typed:null,searchPre:null,search:null,searchPost:null,select:null,focus:null}},this._el=e,this._$el=i(this._el),this._$el.is("select")&&(this._isSelectElement=!0),this.manageInlineDataAttributes(),"object"==typeof t&&(this._settings=i.extend(!0,{},this.getSettings(),t)),this._isSelectElement&&this.convertSelectToText(),this.init()}return e.prototype.manageInlineDataAttributes=function(){var e=this.getSettings();this._$el.data("url")&&(e.resolverSettings.url=this._$el.data("url")),this._$el.data("default-value")&&(this._defaultValue=this._$el.data("default-value")),this._$el.data("default-text")&&(this._defaultText=this._$el.data("default-text")),void 0!==this._$el.data("noresults-text")&&(e.noResultsText=this._$el.data("noresults-text"))},e.prototype.getSettings=function(){return this._settings},e.prototype.getBootstrapVersion=function(){var e;return"auto"===this._settings.bootstrapVersion?e=i.fn.button.Constructor.VERSION.split(".").map(parseInt):"4"===this._settings.bootstrapVersion?e=[4]:"3"===this._settings.bootstrapVersion?e=[3]:(console.error("INVALID value for 'bootstrapVersion' settings property: "+this._settings.bootstrapVersion+" defaulting to 4"),e=[4]),e},e.prototype.convertSelectToText=function(){var t=i("<input>");t.attr("type","hidden"),t.attr("name",this._$el.attr("name")),this._defaultValue&&t.val(this._defaultValue),this._selectHiddenField=t,t.insertAfter(this._$el);var n=i("<input>");n.attr("type","search"),n.attr("name",this._$el.attr("name")+"_text"),n.attr("id",this._$el.attr("id")),n.attr("disabled",this._$el.attr("disabled")),n.attr("placeholder",this._$el.attr("placeholder")),n.attr("autocomplete","off"),n.addClass(this._$el.attr("class")),this._defaultText&&n.val(this._defaultText);var o=this._$el.attr("required");o&&n.attr("required",o),n.data(e.NAME,this),this._$el.replaceWith(n),this._$el=n,this._el=n.get(0)},e.prototype.init=function(){this.bindDefaultEventListeners(),"ajax"===this._settings.resolver&&(this.resolver=new s(this._settings.resolverSettings)),4===this.getBootstrapVersion()[0]?this._dd=new c(this._$el,this._settings.formatResult,this._settings.autoSelect,this._settings.noResultsText):this._dd=new l(this._$el,this._settings.formatResult,this._settings.autoSelect,this._settings.noResultsText)},e.prototype.bindDefaultEventListeners=function(){var e=this;this._$el.on("keydown",(function(t){switch(t.which){case 9:e._dd.isItemFocused?e._dd.selectFocusItem():e._selectedItem||""!==e._$el.val()&&e._$el.trigger("autocomplete.freevalue",e._$el.val()),e._dd.hide();break;case 13:e._dd.isItemFocused?e._dd.selectFocusItem():e._selectedItem||""!==e._$el.val()&&e._$el.trigger("autocomplete.freevalue",e._$el.val()),e._dd.hide(),e._settings.preventEnter&&t.preventDefault();break;case 40:e._dd.focusNextItem();break;case 38:e._dd.focusPreviousItem()}})),this._$el.on("keyup",(function(t){switch(t.which){case 16:case 17:case 18:case 39:case 37:case 36:case 35:case 40:case 38:break;case 13:case 27:e._dd.hide();break;default:e._selectedItem=null;var n=e._$el.val();e.handlerTyped(n)}})),this._$el.on("blur",(function(t){!e._dd.isMouseOver&&e._dd.isDdMouseOver&&e._dd.isShown()?(setTimeout((function(){e._$el.focus()})),e._$el.focus()):e._dd.isMouseOver||(e._isSelectElement?e._dd.isItemFocused?e._dd.selectFocusItem():null!==e._selectedItem&&""!==e._$el.val()?e._$el.trigger("autocomplete.select",e._selectedItem):""!==e._$el.val()&&null!==e._defaultValue?(e._$el.val(e._defaultText),e._selectHiddenField.val(e._defaultValue),e._selectedItem=null,e._$el.trigger("autocomplete.select",e._selectedItem)):(e._$el.val(""),e._selectHiddenField.val(""),e._selectedItem=null,e._$el.trigger("autocomplete.select",e._selectedItem)):null===e._selectedItem&&e._$el.trigger("autocomplete.freevalue",e._$el.val()),e._dd.hide())})),this._$el.on("autocomplete.select",(function(t,n){e._selectedItem=n,e.itemSelectedDefaultHandler(n)})),this._$el.on("paste",(function(t){setTimeout((function(){e._$el.trigger("keyup",t)}),0)}))},e.prototype.handlerTyped=function(e){(null===this._settings.events.typed||(e=this._settings.events.typed(e,this._$el)))&&(e.length>=this._settings.minLength?(this._searchText=e,this.handlerPreSearch()):this._dd.hide())},e.prototype.handlerPreSearch=function(){if(null!==this._settings.events.searchPre){var e=this._settings.events.searchPre(this._searchText,this._$el);if(!e)return;this._searchText=e}this.handlerDoSearch()},e.prototype.handlerDoSearch=function(){var e=this;null!==this._settings.events.search?this._settings.events.search(this._searchText,(function(t){e.postSearchCallback(t)}),this._$el):this.resolver&&this.resolver.search(this._searchText,(function(t){e.postSearchCallback(t)}))},e.prototype.postSearchCallback=function(e){this._settings.events.searchPost&&"boolean"==typeof(e=this._settings.events.searchPost(e,this._$el))&&!e||this.handlerStartShow(e)},e.prototype.handlerStartShow=function(e){this._dd.updateItems(e,this._searchText)},e.prototype.itemSelectedDefaultHandler=function(e){if(null!=e){var t=this._settings.formatResult(e);"string"==typeof t&&(t={text:t}),this._$el.val(t.text),this._isSelectElement&&this._selectHiddenField.val(t.value)}else this._$el.val(""),this._isSelectElement&&this._selectHiddenField.val("");this._selectedItem=e,this._dd.hide()},e.prototype.defaultFormatResult=function(e){return"string"==typeof e?{text:e}:e.text?e:{text:e.toString()}},e.prototype.manageAPI=function(e,t){"set"===e?this.itemSelectedDefaultHandler(t):"clear"===e?this.itemSelectedDefaultHandler(null):"show"===e?this._$el.trigger("keyup"):"updateResolver"===e&&(this.resolver=new s(t))},e.NAME="autoComplete",e}();!function(e,t,n){e.fn[u.NAME]=function(t,n){return this.each((function(){var i;(i=e(this).data(u.NAME))||(i=new u(this,t),e(this).data(u.NAME,i)),i.manageAPI(t,n)}))}}(o,window,document)}])},3067:function(e,t,n){var i=n(19755);e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=t(e);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw r}}}}var p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},g=function(e){return e&&e.Math==Math&&e},m=g("object"==typeof globalThis&&globalThis)||g("object"==typeof window&&window)||g("object"==typeof self&&self)||g("object"==typeof p&&p)||function(){return this}()||Function("return this")(),E={},v=function(e){try{return!!e()}catch(e){return!0}},T=!v((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),b=!v((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),C=b,y=Function.prototype.call,O=C?y.bind(y):function(){return y.apply(y,arguments)},I={},D={}.propertyIsEnumerable,R=Object.getOwnPropertyDescriptor,_=R&&!D.call({1:2},1);I.f=_?function(e){var t=R(this,e);return!!t&&t.enumerable}:D;var w,k,K=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},x=b,S=Function.prototype,N=S.call,A=x&&S.bind.bind(N,N),L=function(e){return x?A(e):function(){return N.apply(e,arguments)}},P=L,F=P({}.toString),$=P("".slice),B=function(e){return $(F(e),8,-1)},M=B,H=L,j=function(e){if("Function"===M(e))return H(e)},q=v,U=B,z=Object,V=j("".split),W=q((function(){return!z("z").propertyIsEnumerable(0)}))?function(e){return"String"==U(e)?V(e,""):z(e)}:z,G=function(e){return null==e},X=G,Y=TypeError,Z=function(e){if(X(e))throw Y("Can't call method on "+e);return e},J=W,Q=Z,ee=function(e){return J(Q(e))},te="object"==typeof document&&document.all,ne={all:te,IS_HTMLDDA:void 0===te&&void 0!==te},ie=ne.all,oe=ne.IS_HTMLDDA?function(e){return"function"==typeof e||e===ie}:function(e){return"function"==typeof e},re=oe,ae=ne.all,se=ne.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:re(e)||e===ae}:function(e){return"object"==typeof e?null!==e:re(e)},le=m,ce=oe,ue=function(e){return ce(e)?e:void 0},de=function(e,t){return arguments.length<2?ue(le[e]):le[e]&&le[e][t]},he=j({}.isPrototypeOf),fe=de("navigator","userAgent")||"",pe=m,ge=fe,me=pe.process,Ee=pe.Deno,ve=me&&me.versions||Ee&&Ee.version,Te=ve&&ve.v8;Te&&(k=(w=Te.split("."))[0]>0&&w[0]<4?1:+(w[0]+w[1])),!k&&ge&&(!(w=ge.match(/Edge\/(\d+)/))||w[1]>=74)&&(w=ge.match(/Chrome\/(\d+)/))&&(k=+w[1]);var be=k,Ce=be,ye=v,Oe=!!Object.getOwnPropertySymbols&&!ye((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Ce&&Ce<41})),Ie=Oe&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,De=de,Re=oe,_e=he,we=Object,ke=Ie?function(e){return"symbol"==typeof e}:function(e){var t=De("Symbol");return Re(t)&&_e(t.prototype,we(e))},Ke=String,xe=function(e){try{return Ke(e)}catch(e){return"Object"}},Se=oe,Ne=xe,Ae=TypeError,Le=function(e){if(Se(e))return e;throw Ae(Ne(e)+" is not a function")},Pe=Le,Fe=G,$e=function(e,t){var n=e[t];return Fe(n)?void 0:Pe(n)},Be=O,Me=oe,He=se,je=TypeError,qe={exports:{}},Ue=m,ze=Object.defineProperty,Ve=function(e,t){try{ze(Ue,e,{value:t,configurable:!0,writable:!0})}catch(n){Ue[e]=t}return t},We=Ve,Ge="__core-js_shared__",Xe=m[Ge]||We(Ge,{}),Ye=Xe;(qe.exports=function(e,t){return Ye[e]||(Ye[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.5",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"});var Ze=Z,Je=Object,Qe=function(e){return Je(Ze(e))},et=Qe,tt=j({}.hasOwnProperty),nt=Object.hasOwn||function(e,t){return tt(et(e),t)},it=j,ot=0,rt=Math.random(),at=it(1..toString),st=function(e){return"Symbol("+(void 0===e?"":e)+")_"+at(++ot+rt,36)},lt=m,ct=qe.exports,ut=nt,dt=st,ht=Oe,ft=Ie,pt=ct("wks"),gt=lt.Symbol,mt=gt&&gt.for,Et=ft?gt:gt&&gt.withoutSetter||dt,vt=function(e){if(!ut(pt,e)||!ht&&"string"!=typeof pt[e]){var t="Symbol."+e;ht&&ut(gt,e)?pt[e]=gt[e]:pt[e]=ft&&mt?mt(t):Et(t)}return pt[e]},Tt=O,bt=se,Ct=ke,yt=$e,Ot=function(e,t){var n,i;if("string"===t&&Me(n=e.toString)&&!He(i=Be(n,e)))return i;if(Me(n=e.valueOf)&&!He(i=Be(n,e)))return i;if("string"!==t&&Me(n=e.toString)&&!He(i=Be(n,e)))return i;throw je("Can't convert object to primitive value")},It=TypeError,Dt=vt("toPrimitive"),Rt=function(e,t){if(!bt(e)||Ct(e))return e;var n,i=yt(e,Dt);if(i){if(void 0===t&&(t="default"),n=Tt(i,e,t),!bt(n)||Ct(n))return n;throw It("Can't convert object to primitive value")}return void 0===t&&(t="number"),Ot(e,t)},_t=Rt,wt=ke,kt=function(e){var t=_t(e,"string");return wt(t)?t:t+""},Kt=se,xt=m.document,St=Kt(xt)&&Kt(xt.createElement),Nt=function(e){return St?xt.createElement(e):{}},At=Nt,Lt=!T&&!v((function(){return 7!=Object.defineProperty(At("div"),"a",{get:function(){return 7}}).a})),Pt=T,Ft=O,$t=I,Bt=K,Mt=ee,Ht=kt,jt=nt,qt=Lt,Ut=Object.getOwnPropertyDescriptor;E.f=Pt?Ut:function(e,t){if(e=Mt(e),t=Ht(t),qt)try{return Ut(e,t)}catch(e){}if(jt(e,t))return Bt(!Ft($t.f,e,t),e[t])};var zt={},Vt=T&&v((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Wt=se,Gt=String,Xt=TypeError,Yt=function(e){if(Wt(e))return e;throw Xt(Gt(e)+" is not an object")},Zt=T,Jt=Lt,Qt=Vt,en=Yt,tn=kt,nn=TypeError,on=Object.defineProperty,rn=Object.getOwnPropertyDescriptor,an="enumerable",sn="configurable",ln="writable";zt.f=Zt?Qt?function(e,t,n){if(en(e),t=tn(t),en(n),"function"==typeof e&&"prototype"===t&&"value"in n&&ln in n&&!n.writable){var i=rn(e,t);i&&i.writable&&(e[t]=n.value,n={configurable:sn in n?n.configurable:i.configurable,enumerable:an in n?n.enumerable:i.enumerable,writable:!1})}return on(e,t,n)}:on:function(e,t,n){if(en(e),t=tn(t),en(n),Jt)try{return on(e,t,n)}catch(e){}if("get"in n||"set"in n)throw nn("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var cn=zt,un=K,dn=T?function(e,t,n){return cn.f(e,t,un(1,n))}:function(e,t,n){return e[t]=n,e},hn={exports:{}},fn=T,pn=nt,gn=Function.prototype,mn=fn&&Object.getOwnPropertyDescriptor,En=pn(gn,"name"),vn={EXISTS:En,PROPER:En&&"something"===function(){}.name,CONFIGURABLE:En&&(!fn||fn&&mn(gn,"name").configurable)},Tn=oe,bn=Xe,Cn=j(Function.toString);Tn(bn.inspectSource)||(bn.inspectSource=function(e){return Cn(e)});var yn,On,In,Dn=bn.inspectSource,Rn=oe,_n=m.WeakMap,wn=Rn(_n)&&/native code/.test(String(_n)),kn=qe.exports,Kn=st,xn=kn("keys"),Sn=function(e){return xn[e]||(xn[e]=Kn(e))},Nn={},An=wn,Ln=m,Pn=se,Fn=dn,$n=nt,Bn=Xe,Mn=Sn,Hn=Nn,jn="Object already initialized",qn=Ln.TypeError,Un=Ln.WeakMap;if(An||Bn.state){var zn=Bn.state||(Bn.state=new Un);zn.get=zn.get,zn.has=zn.has,zn.set=zn.set,yn=function(e,t){if(zn.has(e))throw qn(jn);return t.facade=e,zn.set(e,t),t},On=function(e){return zn.get(e)||{}},In=function(e){return zn.has(e)}}else{var Vn=Mn("state");Hn[Vn]=!0,yn=function(e,t){if($n(e,Vn))throw qn(jn);return t.facade=e,Fn(e,Vn,t),t},On=function(e){return $n(e,Vn)?e[Vn]:{}},In=function(e){return $n(e,Vn)}}var Wn={set:yn,get:On,has:In,enforce:function(e){return In(e)?On(e):yn(e,{})},getterFor:function(e){return function(t){var n;if(!Pn(t)||(n=On(t)).type!==e)throw qn("Incompatible receiver, "+e+" required");return n}}},Gn=v,Xn=oe,Yn=nt,Zn=T,Jn=vn.CONFIGURABLE,Qn=Dn,ei=Wn.enforce,ti=Wn.get,ni=Object.defineProperty,ii=Zn&&!Gn((function(){return 8!==ni((function(){}),"length",{value:8}).length})),oi=String(String).split("String"),ri=hn.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!Yn(e,"name")||Jn&&e.name!==t)&&(Zn?ni(e,"name",{value:t,configurable:!0}):e.name=t),ii&&n&&Yn(n,"arity")&&e.length!==n.arity&&ni(e,"length",{value:n.arity});try{n&&Yn(n,"constructor")&&n.constructor?Zn&&ni(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var i=ei(e);return Yn(i,"source")||(i.source=oi.join("string"==typeof t?t:"")),e};Function.prototype.toString=ri((function(){return Xn(this)&&ti(this).source||Qn(this)}),"toString");var ai=oe,si=zt,li=hn.exports,ci=Ve,ui=function(e,t,n,i){i||(i={});var o=i.enumerable,r=void 0!==i.name?i.name:t;if(ai(n)&&li(n,r,i),i.global)o?e[t]=n:ci(t,n);else{try{i.unsafe?e[t]&&(o=!0):delete e[t]}catch(e){}o?e[t]=n:si.f(e,t,{value:n,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}return e},di={},hi=Math.ceil,fi=Math.floor,pi=Math.trunc||function(e){var t=+e;return(t>0?fi:hi)(t)},gi=function(e){var t=+e;return t!=t||0===t?0:pi(t)},mi=gi,Ei=Math.max,vi=Math.min,Ti=function(e,t){var n=mi(e);return n<0?Ei(n+t,0):vi(n,t)},bi=gi,Ci=Math.min,yi=function(e){return e>0?Ci(bi(e),9007199254740991):0},Oi=yi,Ii=function(e){return Oi(e.length)},Di=ee,Ri=Ti,_i=Ii,wi=function(e){return function(t,n,i){var o,r=Di(t),a=_i(r),s=Ri(i,a);if(e&&n!=n){for(;a>s;)if((o=r[s++])!=o)return!0}else for(;a>s;s++)if((e||s in r)&&r[s]===n)return e||s||0;return!e&&-1}},ki={includes:wi(!0),indexOf:wi(!1)},Ki=nt,xi=ee,Si=ki.indexOf,Ni=Nn,Ai=j([].push),Li=function(e,t){var n,i=xi(e),o=0,r=[];for(n in i)!Ki(Ni,n)&&Ki(i,n)&&Ai(r,n);for(;t.length>o;)Ki(i,n=t[o++])&&(~Si(r,n)||Ai(r,n));return r},Pi=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Fi=Li,$i=Pi.concat("length","prototype");di.f=Object.getOwnPropertyNames||function(e){return Fi(e,$i)};var Bi={};Bi.f=Object.getOwnPropertySymbols;var Mi=de,Hi=di,ji=Bi,qi=Yt,Ui=j([].concat),zi=Mi("Reflect","ownKeys")||function(e){var t=Hi.f(qi(e)),n=ji.f;return n?Ui(t,n(e)):t},Vi=nt,Wi=zi,Gi=E,Xi=zt,Yi=v,Zi=oe,Ji=/#|\.prototype\./,Qi=function(e,t){var n=to[eo(e)];return n==io||n!=no&&(Zi(t)?Yi(t):!!t)},eo=Qi.normalize=function(e){return String(e).replace(Ji,".").toLowerCase()},to=Qi.data={},no=Qi.NATIVE="N",io=Qi.POLYFILL="P",oo=Qi,ro=m,ao=E.f,so=dn,lo=ui,co=Ve,uo=function(e,t,n){for(var i=Wi(t),o=Xi.f,r=Gi.f,a=0;a<i.length;a++){var s=i[a];Vi(e,s)||n&&Vi(n,s)||o(e,s,r(t,s))}},ho=oo,fo=function(e,t){var n,i,o,r,a,s=e.target,l=e.global,c=e.stat;if(n=l?ro:c?ro[s]||co(s,{}):(ro[s]||{}).prototype)for(i in t){if(r=t[i],o=e.dontCallGetSet?(a=ao(n,i))&&a.value:n[i],!ho(l?i:s+(c?".":"#")+i,e.forced)&&void 0!==o){if(typeof r==typeof o)continue;uo(r,o)}(e.sham||o&&o.sham)&&so(r,"sham",!0),lo(n,i,r,e)}},po=Li,go=Pi,mo=Object.keys||function(e){return po(e,go)},Eo=T,vo=j,To=O,bo=v,Co=mo,yo=Bi,Oo=I,Io=Qe,Do=W,Ro=Object.assign,_o=Object.defineProperty,wo=vo([].concat),ko=!Ro||bo((function(){if(Eo&&1!==Ro({b:1},Ro(_o({},"a",{enumerable:!0,get:function(){_o(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=Ro({},e)[n]||Co(Ro({},t)).join("")!=i}))?function(e,t){for(var n=Io(e),i=arguments.length,o=1,r=yo.f,a=Oo.f;i>o;)for(var s,l=Do(arguments[o++]),c=r?wo(Co(l),r(l)):Co(l),u=c.length,d=0;u>d;)s=c[d++],Eo&&!To(a,l,s)||(n[s]=l[s]);return n}:Ro,Ko=ko;fo({target:"Object",stat:!0,arity:2,forced:Object.assign!==Ko},{assign:Ko});var xo={};xo[vt("toStringTag")]="z";var So="[object z]"===String(xo),No=So,Ao=oe,Lo=B,Po=vt("toStringTag"),Fo=Object,$o="Arguments"==Lo(function(){return arguments}()),Bo=No?Lo:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Fo(e),Po))?n:$o?Lo(t):"Object"==(i=Lo(t))&&Ao(t.callee)?"Arguments":i},Mo=Bo,Ho=String,jo=function(e){if("Symbol"===Mo(e))throw TypeError("Cannot convert a Symbol value to a string");return Ho(e)},qo="\t\n\v\f\r                　\u2028\u2029\ufeff",Uo=Z,zo=jo,Vo=j("".replace),Wo="[\t\n\v\f\r                　\u2028\u2029\ufeff]",Go=RegExp("^"+Wo+Wo+"*"),Xo=RegExp(Wo+Wo+"*$"),Yo=function(e){return function(t){var n=zo(Uo(t));return 1&e&&(n=Vo(n,Go,"")),2&e&&(n=Vo(n,Xo,"")),n}},Zo={start:Yo(1),end:Yo(2),trim:Yo(3)},Jo=vn.PROPER,Qo=v,er=qo,tr=Zo.trim;fo({target:"String",proto:!0,forced:function(e){return Qo((function(){return!!er[e]()||"​᠎"!=="​᠎"[e]()||Jo&&er[e].name!==e}))}("trim")},{trim:function(){return tr(this)}});var nr=v,ir=function(e,t){var n=[][e];return!!n&&nr((function(){n.call(null,t||function(){return 1},1)}))},or=fo,rr=W,ar=ee,sr=ir,lr=j([].join),cr=rr!=Object,ur=sr("join",",");or({target:"Array",proto:!0,forced:cr||!ur},{join:function(e){return lr(ar(this),void 0===e?",":e)}});var dr=Yt,hr=function(){var e=dr(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},fr=v,pr=m.RegExp,gr=fr((function(){var e=pr("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),mr=gr||fr((function(){return!pr("a","y").sticky})),Er={BROKEN_CARET:gr||fr((function(){var e=pr("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),MISSED_STICKY:mr,UNSUPPORTED_Y:gr},vr={},Tr=T,br=Vt,Cr=zt,yr=Yt,Or=ee,Ir=mo;vr.f=Tr&&!br?Object.defineProperties:function(e,t){yr(e);for(var n,i=Or(t),o=Ir(t),r=o.length,a=0;r>a;)Cr.f(e,n=o[a++],i[n]);return e};var Dr,Rr=de("document","documentElement"),_r=Yt,wr=vr,kr=Pi,Kr=Nn,xr=Rr,Sr=Nt,Nr=Sn("IE_PROTO"),Ar=function(){},Lr=function(e){return"<script>"+e+"<\/script>"},Pr=function(e){e.write(Lr("")),e.close();var t=e.parentWindow.Object;return e=null,t},Fr=function(){try{Dr=new ActiveXObject("htmlfile")}catch(e){}var e,t;Fr="undefined"!=typeof document?document.domain&&Dr?Pr(Dr):((t=Sr("iframe")).style.display="none",xr.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Lr("document.F=Object")),e.close(),e.F):Pr(Dr);for(var n=kr.length;n--;)delete Fr.prototype[kr[n]];return Fr()};Kr[Nr]=!0;var $r=Object.create||function(e,t){var n;return null!==e?(Ar.prototype=_r(e),n=new Ar,Ar.prototype=null,n[Nr]=e):n=Fr(),void 0===t?n:wr.f(n,t)},Br=v,Mr=m.RegExp,Hr=Br((function(){var e=Mr(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),jr=v,qr=m.RegExp,Ur=jr((function(){var e=qr("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),zr=O,Vr=j,Wr=jo,Gr=hr,Xr=Er,Yr=qe.exports,Zr=$r,Jr=Wn.get,Qr=Hr,ea=Ur,ta=Yr("native-string-replace",String.prototype.replace),na=RegExp.prototype.exec,ia=na,oa=Vr("".charAt),ra=Vr("".indexOf),aa=Vr("".replace),sa=Vr("".slice),la=function(){var e=/a/,t=/b*/g;return zr(na,e,"a"),zr(na,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),ca=Xr.BROKEN_CARET,ua=void 0!==/()??/.exec("")[1];(la||ua||ca||Qr||ea)&&(ia=function(e){var t,n,i,o,r,a,s,l=this,c=Jr(l),u=Wr(e),d=c.raw;if(d)return d.lastIndex=l.lastIndex,t=zr(ia,d,u),l.lastIndex=d.lastIndex,t;var h=c.groups,f=ca&&l.sticky,p=zr(Gr,l),g=l.source,m=0,E=u;if(f&&(p=aa(p,"y",""),-1===ra(p,"g")&&(p+="g"),E=sa(u,l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==oa(u,l.lastIndex-1))&&(g="(?: "+g+")",E=" "+E,m++),n=new RegExp("^(?:"+g+")",p)),ua&&(n=new RegExp("^"+g+"$(?!\\s)",p)),la&&(i=l.lastIndex),o=zr(na,f?n:l,E),f?o?(o.input=sa(o.input,m),o[0]=sa(o[0],m),o.index=l.lastIndex,l.lastIndex+=o[0].length):l.lastIndex=0:la&&o&&(l.lastIndex=l.global?o.index+o[0].length:i),ua&&o&&o.length>1&&zr(ta,o[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(o[r]=void 0)})),o&&h)for(o.groups=a=Zr(null),r=0;r<h.length;r++)a[(s=h[r])[0]]=o[s[1]];return o});var da=ia;fo({target:"RegExp",proto:!0,forced:/./.exec!==da},{exec:da});var ha=b,fa=Function.prototype,pa=fa.apply,ga=fa.call,ma="object"==typeof Reflect&&Reflect.apply||(ha?ga.bind(pa):function(){return ga.apply(pa,arguments)}),Ea=j,va=ui,Ta=da,ba=v,Ca=vt,ya=dn,Oa=Ca("species"),Ia=RegExp.prototype,Da=function(e,t,n,i){var o=Ca(e),r=!ba((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),a=r&&!ba((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[Oa]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!r||!a||n){var s=Ea(/./[o]),l=t(o,""[e],(function(e,t,n,i,o){var a=Ea(e),l=t.exec;return l===Ta||l===Ia.exec?r&&!o?{done:!0,value:s(t,n,i)}:{done:!0,value:a(n,t,i)}:{done:!1}}));va(String.prototype,e,l[0]),va(Ia,o,l[1])}i&&ya(Ia[o],"sham",!0)},Ra=se,_a=B,wa=vt("match"),ka=function(e){var t;return Ra(e)&&(void 0!==(t=e[wa])?!!t:"RegExp"==_a(e))},Ka=j,xa=v,Sa=oe,Na=Bo,Aa=Dn,La=function(){},Pa=[],Fa=de("Reflect","construct"),$a=/^\s*(?:class|function)\b/,Ba=Ka($a.exec),Ma=!$a.exec(La),Ha=function(e){if(!Sa(e))return!1;try{return Fa(La,Pa,e),!0}catch(e){return!1}},ja=function(e){if(!Sa(e))return!1;switch(Na(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ma||!!Ba($a,Aa(e))}catch(e){return!0}};ja.sham=!0;var qa=!Fa||xa((function(){var e;return Ha(Ha.call)||!Ha(Object)||!Ha((function(){e=!0}))||e}))?ja:Ha,Ua=qa,za=xe,Va=TypeError,Wa=Yt,Ga=function(e){if(Ua(e))return e;throw Va(za(e)+" is not a constructor")},Xa=G,Ya=vt("species"),Za=j,Ja=gi,Qa=jo,es=Z,ts=Za("".charAt),ns=Za("".charCodeAt),is=Za("".slice),os=function(e){return function(t,n){var i,o,r=Qa(es(t)),a=Ja(n),s=r.length;return a<0||a>=s?e?"":void 0:(i=ns(r,a))<55296||i>56319||a+1===s||(o=ns(r,a+1))<56320||o>57343?e?ts(r,a):i:e?is(r,a,a+2):o-56320+(i-55296<<10)+65536}},rs=(os(!1),os(!0)),as=function(e,t,n){return t+(n?rs(e,t).length:1)},ss=kt,ls=zt,cs=K,us=function(e,t,n){var i=ss(t);i in e?ls.f(e,i,cs(0,n)):e[i]=n},ds=Ti,hs=Ii,fs=us,ps=Array,gs=Math.max,ms=function(e,t,n){for(var i=hs(e),o=ds(t,i),r=ds(void 0===n?i:n,i),a=ps(gs(r-o,0)),s=0;o<r;o++,s++)fs(a,s,e[o]);return a.length=s,a},Es=O,vs=Yt,Ts=oe,bs=B,Cs=da,ys=TypeError,Os=function(e,t){var n=e.exec;if(Ts(n)){var i=Es(n,e,t);return null!==i&&vs(i),i}if("RegExp"===bs(e))return Es(Cs,e,t);throw ys("RegExp#exec called on incompatible receiver")},Is=ma,Ds=O,Rs=j,_s=Da,ws=Yt,ks=G,Ks=ka,xs=Z,Ss=function(e,t){var n,i=Wa(e).constructor;return void 0===i||Xa(n=Wa(i)[Ya])?t:Ga(n)},Ns=as,As=yi,Ls=jo,Ps=$e,Fs=ms,$s=Os,Bs=da,Ms=v,Hs=Er.UNSUPPORTED_Y,js=4294967295,qs=Math.min,Us=[].push,zs=Rs(/./.exec),Vs=Rs(Us),Ws=Rs("".slice),Gs=!Ms((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));_s("split",(function(e,t,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var i=Ls(xs(this)),o=void 0===n?js:n>>>0;if(0===o)return[];if(void 0===e)return[i];if(!Ks(e))return Ds(t,i,e,o);for(var r,a,s,l=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,d=new RegExp(e.source,c+"g");(r=Ds(Bs,d,i))&&!((a=d.lastIndex)>u&&(Vs(l,Ws(i,u,r.index)),r.length>1&&r.index<i.length&&Is(Us,l,Fs(r,1)),s=r[0].length,u=a,l.length>=o));)d.lastIndex===r.index&&d.lastIndex++;return u===i.length?!s&&zs(d,"")||Vs(l,""):Vs(l,Ws(i,u)),l.length>o?Fs(l,0,o):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:Ds(t,this,e,n)}:t,[function(t,n){var o=xs(this),r=ks(t)?void 0:Ps(t,e);return r?Ds(r,t,o,n):Ds(i,Ls(o),t,n)},function(e,o){var r=ws(this),a=Ls(e),s=n(i,r,a,o,i!==t);if(s.done)return s.value;var l=Ss(r,RegExp),c=r.unicode,u=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(Hs?"g":"y"),d=new l(Hs?"^(?:"+r.source+")":r,u),h=void 0===o?js:o>>>0;if(0===h)return[];if(0===a.length)return null===$s(d,a)?[a]:[];for(var f=0,p=0,g=[];p<a.length;){d.lastIndex=Hs?0:p;var m,E=$s(d,Hs?Ws(a,p):a);if(null===E||(m=qs(As(d.lastIndex+(Hs?p:0)),a.length))===f)p=Ns(a,p,c);else{if(Vs(g,Ws(a,f,p)),g.length===h)return g;for(var v=1;v<=E.length-1;v++)if(Vs(g,E[v]),g.length===h)return g;p=f=m}}return Vs(g,Ws(a,f)),g}]}),!Gs,Hs);var Xs=T,Ys=j,Zs=mo,Js=ee,Qs=Ys(I.f),el=Ys([].push),tl=function(e){return function(t){for(var n,i=Js(t),o=Zs(i),r=o.length,a=0,s=[];r>a;)n=o[a++],Xs&&!Qs(i,n)||el(s,e?[n,i[n]]:i[n]);return s}},nl=[tl(!0),tl(!1)][0];fo({target:"Object",stat:!0},{entries:function(e){return nl(e)}});var il=vt,ol=$r,rl=zt.f,al=il("unscopables"),sl=Array.prototype;null==sl[al]&&rl(sl,al,{configurable:!0,value:ol(null)});var ll=function(e){sl[al][e]=!0},cl=ki.includes,ul=ll;fo({target:"Array",proto:!0,forced:v((function(){return!Array(1).includes()}))},{includes:function(e){return cl(this,e,arguments.length>1?arguments[1]:void 0)}}),ul("includes");var dl=B,hl=Array.isArray||function(e){return"Array"==dl(e)},fl=TypeError,pl=function(e){if(e>9007199254740991)throw fl("Maximum allowed index exceeded");return e},gl=hl,ml=qa,El=se,vl=vt("species"),Tl=Array,bl=function(e){var t;return gl(e)&&(t=e.constructor,(ml(t)&&(t===Tl||gl(t.prototype))||El(t)&&null===(t=t[vl]))&&(t=void 0)),void 0===t?Tl:t},Cl=function(e,t){return new(bl(e))(0===t?0:t)},yl=v,Ol=be,Il=vt("species"),Dl=function(e){return Ol>=51||!yl((function(){var t=[];return(t.constructor={})[Il]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Rl=fo,_l=v,wl=hl,kl=se,Kl=Qe,xl=Ii,Sl=pl,Nl=us,Al=Cl,Ll=Dl,Pl=be,Fl=vt("isConcatSpreadable"),$l=Pl>=51||!_l((function(){var e=[];return e[Fl]=!1,e.concat()[0]!==e})),Bl=Ll("concat"),Ml=function(e){if(!kl(e))return!1;var t=e[Fl];return void 0!==t?!!t:wl(e)};Rl({target:"Array",proto:!0,arity:1,forced:!$l||!Bl},{concat:function(e){var t,n,i,o,r,a=Kl(this),s=Al(a,0),l=0;for(t=-1,i=arguments.length;t<i;t++)if(Ml(r=-1===t?a:arguments[t]))for(o=xl(r),Sl(l+o),n=0;n<o;n++,l++)n in r&&Nl(s,l,r[n]);else Sl(l+1),Nl(s,l++,r);return s.length=l,s}});var Hl=Le,jl=b,ql=j(j.bind),Ul=function(e,t){return Hl(e),void 0===t?e:jl?ql(e,t):function(){return e.apply(t,arguments)}},zl=W,Vl=Qe,Wl=Ii,Gl=Cl,Xl=j([].push),Yl=function(e){var t=1==e,n=2==e,i=3==e,o=4==e,r=6==e,a=7==e,s=5==e||r;return function(l,c,u,d){for(var h,f,p=Vl(l),g=zl(p),m=Ul(c,u),E=Wl(g),v=0,T=d||Gl,b=t?T(l,E):n||a?T(l,0):void 0;E>v;v++)if((s||v in g)&&(f=m(h=g[v],v,p),e))if(t)b[v]=f;else if(f)switch(e){case 3:return!0;case 5:return h;case 6:return v;case 2:Xl(b,h)}else switch(e){case 4:return!1;case 7:Xl(b,h)}return r?-1:i||o?o:b}},Zl={forEach:Yl(0),map:Yl(1),filter:Yl(2),some:Yl(3),every:Yl(4),find:Yl(5),findIndex:Yl(6),filterReject:Yl(7)},Jl=fo,Ql=Zl.find,ec=ll,tc="find",nc=!0;tc in[]&&Array(1).find((function(){nc=!1})),Jl({target:"Array",proto:!0,forced:nc},{find:function(e){return Ql(this,e,arguments.length>1?arguments[1]:void 0)}}),ec(tc);var ic=Bo,oc=So?{}.toString:function(){return"[object "+ic(this)+"]"};So||ui(Object.prototype,"toString",oc,{unsafe:!0});var rc=ka,ac=TypeError,sc=function(e){if(rc(e))throw ac("The method doesn't accept regular expressions");return e},lc=vt("match"),cc=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[lc]=!1,"/./"[e](t)}catch(e){}}return!1},uc=fo,dc=sc,hc=Z,fc=jo,pc=cc,gc=j("".indexOf);uc({target:"String",proto:!0,forced:!pc("includes")},{includes:function(e){return!!~gc(fc(hc(this)),fc(dc(e)),arguments.length>1?arguments[1]:void 0)}});var mc={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ec=Nt("span").classList,vc=Ec&&Ec.constructor&&Ec.constructor.prototype,Tc=vc===Object.prototype?void 0:vc,bc=Zl.forEach,Cc=ir("forEach")?[].forEach:function(e){return bc(this,e,arguments.length>1?arguments[1]:void 0)},yc=m,Oc=mc,Ic=Tc,Dc=Cc,Rc=dn,_c=function(e){if(e&&e.forEach!==Dc)try{Rc(e,"forEach",Dc)}catch(t){e.forEach=Dc}};for(var wc in Oc)Oc[wc]&&_c(yc[wc]&&yc[wc].prototype);_c(Ic);var kc=m,Kc=v,xc=jo,Sc=Zo.trim,Nc=j("".charAt),Ac=kc.parseFloat,Lc=kc.Symbol,Pc=Lc&&Lc.iterator,Fc=1/Ac("\t\n\v\f\r                　\u2028\u2029\ufeff-0")!=-1/0||Pc&&!Kc((function(){Ac(Object(Pc))}))?function(e){var t=Sc(xc(e)),n=Ac(t);return 0===n&&"-"==Nc(t,0)?-0:n}:Ac;fo({global:!0,forced:parseFloat!=Fc},{parseFloat:Fc});var $c=fo,Bc=ki.indexOf,Mc=ir,Hc=j([].indexOf),jc=!!Hc&&1/Hc([1],1,-0)<0,qc=Mc("indexOf");$c({target:"Array",proto:!0,forced:jc||!qc},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return jc?Hc(this,e,t)||0:Bc(this,e,t)}});var Uc=xe,zc=TypeError,Vc=function(e,t){if(!delete e[t])throw zc("Cannot delete property "+Uc(t)+" of "+Uc(e))},Wc=ms,Gc=Math.floor,Xc=function(e,t){var n=e.length,i=Gc(n/2);return n<8?Yc(e,t):Zc(e,Xc(Wc(e,0,i),t),Xc(Wc(e,i),t),t)},Yc=function(e,t){for(var n,i,o=e.length,r=1;r<o;){for(i=r,n=e[r];i&&t(e[i-1],n)>0;)e[i]=e[--i];i!==r++&&(e[i]=n)}return e},Zc=function(e,t,n,i){for(var o=t.length,r=n.length,a=0,s=0;a<o||s<r;)e[a+s]=a<o&&s<r?i(t[a],n[s])<=0?t[a++]:n[s++]:a<o?t[a++]:n[s++];return e},Jc=Xc,Qc=fe.match(/firefox\/(\d+)/i),eu=!!Qc&&+Qc[1],tu=/MSIE|Trident/.test(fe),nu=fe.match(/AppleWebKit\/(\d+)\./),iu=!!nu&&+nu[1],ou=fo,ru=j,au=Le,su=Qe,lu=Ii,cu=Vc,uu=jo,du=v,hu=Jc,fu=ir,pu=eu,gu=tu,mu=be,Eu=iu,vu=[],Tu=ru(vu.sort),bu=ru(vu.push),Cu=du((function(){vu.sort(void 0)})),yu=du((function(){vu.sort(null)})),Ou=fu("sort"),Iu=!du((function(){if(mu)return mu<70;if(!(pu&&pu>3)){if(gu)return!0;if(Eu)return Eu<603;var e,t,n,i,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)vu.push({k:t+i,v:n})}for(vu.sort((function(e,t){return t.v-e.v})),i=0;i<vu.length;i++)t=vu[i].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));ou({target:"Array",proto:!0,forced:Cu||!yu||!Ou||!Iu},{sort:function(e){void 0!==e&&au(e);var t=su(this);if(Iu)return void 0===e?Tu(t):Tu(t,e);var n,i,o=[],r=lu(t);for(i=0;i<r;i++)i in t&&bu(o,t[i]);for(hu(o,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:uu(t)>uu(n)?1:-1}}(e)),n=lu(o),i=0;i<n;)t[i]=o[i++];for(;i<r;)cu(t,i++);return t}});var Du=j,Ru=Qe,_u=Math.floor,wu=Du("".charAt),ku=Du("".replace),Ku=Du("".slice),xu=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Su=/\$([$&'`]|\d{1,2})/g,Nu=ma,Au=O,Lu=j,Pu=Da,Fu=v,$u=Yt,Bu=oe,Mu=G,Hu=gi,ju=yi,qu=jo,Uu=Z,zu=as,Vu=$e,Wu=function(e,t,n,i,o,r){var a=n+e.length,s=i.length,l=Su;return void 0!==o&&(o=Ru(o),l=xu),ku(r,l,(function(r,l){var c;switch(wu(l,0)){case"$":return"$";case"&":return e;case"`":return Ku(t,0,n);case"'":return Ku(t,a);case"<":c=o[Ku(l,1,-1)];break;default:var u=+l;if(0===u)return r;if(u>s){var d=_u(u/10);return 0===d?r:d<=s?void 0===i[d-1]?wu(l,1):i[d-1]+wu(l,1):r}c=i[u-1]}return void 0===c?"":c}))},Gu=Os,Xu=vt("replace"),Yu=Math.max,Zu=Math.min,Ju=Lu([].concat),Qu=Lu([].push),ed=Lu("".indexOf),td=Lu("".slice),nd="$0"==="a".replace(/./,"$0"),id=!!/./[Xu]&&""===/./[Xu]("a","$0");Pu("replace",(function(e,t,n){var i=id?"$":"$0";return[function(e,n){var i=Uu(this),o=Mu(e)?void 0:Vu(e,Xu);return o?Au(o,e,i,n):Au(t,qu(i),e,n)},function(e,o){var r=$u(this),a=qu(e);if("string"==typeof o&&-1===ed(o,i)&&-1===ed(o,"$<")){var s=n(t,r,a,o);if(s.done)return s.value}var l=Bu(o);l||(o=qu(o));var c=r.global;if(c){var u=r.unicode;r.lastIndex=0}for(var d=[];;){var h=Gu(r,a);if(null===h)break;if(Qu(d,h),!c)break;""===qu(h[0])&&(r.lastIndex=zu(a,ju(r.lastIndex),u))}for(var f,p="",g=0,m=0;m<d.length;m++){for(var E=qu((h=d[m])[0]),v=Yu(Zu(Hu(h.index),a.length),0),T=[],b=1;b<h.length;b++)Qu(T,void 0===(f=h[b])?f:String(f));var C=h.groups;if(l){var y=Ju([E],T,v,a);void 0!==C&&Qu(y,C);var O=qu(Nu(o,void 0,y))}else O=Wu(E,a,v,T,C,o);v>=g&&(p+=td(a,g,v)+O,g=v+E.length)}return p+td(a,g)}]}),!!Fu((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!nd||id);var od=Zl.filter;fo({target:"Array",proto:!0,forced:!Dl("filter")},{filter:function(e){return od(this,e,arguments.length>1?arguments[1]:void 0)}});var rd=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},ad=O,sd=Yt,ld=G,cd=Z,ud=rd,dd=jo,hd=$e,fd=Os;Da("search",(function(e,t,n){return[function(t){var n=cd(this),i=ld(t)?void 0:hd(t,e);return i?ad(i,t,n):new RegExp(t)[e](dd(n))},function(e){var i=sd(this),o=dd(e),r=n(t,i,o);if(r.done)return r.value;var a=i.lastIndex;ud(a,0)||(i.lastIndex=0);var s=fd(i,o);return ud(i.lastIndex,a)||(i.lastIndex=a),null===s?-1:s.index}]}));var pd=m,gd=v,md=j,Ed=jo,vd=Zo.trim,Td=qo,bd=pd.parseInt,Cd=pd.Symbol,yd=Cd&&Cd.iterator,Od=/^[+-]?0x/i,Id=md(Od.exec),Dd=8!==bd(Td+"08")||22!==bd(Td+"0x16")||yd&&!gd((function(){bd(Object(yd))}))?function(e,t){var n=vd(Ed(e));return bd(n,t>>>0||(Id(Od,n)?16:10))}:bd;fo({global:!0,forced:parseInt!=Dd},{parseInt:Dd});var Rd=Zl.map;fo({target:"Array",proto:!0,forced:!Dl("map")},{map:function(e){return Rd(this,e,arguments.length>1?arguments[1]:void 0)}});var _d=fo,wd=Zl.findIndex,kd=ll,Kd="findIndex",xd=!0;Kd in[]&&Array(1).findIndex((function(){xd=!1})),_d({target:"Array",proto:!0,forced:xd},{findIndex:function(e){return wd(this,e,arguments.length>1?arguments[1]:void 0)}}),kd(Kd);var Sd=oe,Nd=String,Ad=TypeError,Ld=j,Pd=Yt,Fd=function(e){if("object"==typeof e||Sd(e))return e;throw Ad("Can't set "+Nd(e)+" as a prototype")},$d=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Ld(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return Pd(n),Fd(i),t?e(n,i):n.__proto__=i,n}}():void 0),Bd=oe,Md=se,Hd=$d,jd=function(e,t,n){var i,o;return Hd&&Bd(i=t.constructor)&&i!==n&&Md(o=i.prototype)&&o!==n.prototype&&Hd(e,o),e},qd=O,Ud=nt,zd=he,Vd=hr,Wd=RegExp.prototype,Gd=function(e){var t=e.flags;return void 0!==t||"flags"in Wd||Ud(e,"flags")||!zd(Wd,e)?t:qd(Vd,e)},Xd=zt.f,Yd=de,Zd=zt,Jd=T,Qd=vt("species"),eh=T,th=m,nh=j,ih=oo,oh=jd,rh=dn,ah=di.f,sh=he,lh=ka,ch=jo,uh=Gd,dh=Er,hh=function(e,t,n){n in e||Xd(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})},fh=ui,ph=v,gh=nt,mh=Wn.enforce,Eh=function(e){var t=Yd(e),n=Zd.f;Jd&&t&&!t[Qd]&&n(t,Qd,{configurable:!0,get:function(){return this}})},vh=Hr,Th=Ur,bh=vt("match"),Ch=th.RegExp,yh=Ch.prototype,Oh=th.SyntaxError,Ih=nh(yh.exec),Dh=nh("".charAt),Rh=nh("".replace),_h=nh("".indexOf),wh=nh("".slice),kh=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Kh=/a/g,xh=/a/g,Sh=new Ch(Kh)!==Kh,Nh=dh.MISSED_STICKY,Ah=dh.UNSUPPORTED_Y,Lh=eh&&(!Sh||Nh||vh||Th||ph((function(){return xh[bh]=!1,Ch(Kh)!=Kh||Ch(xh)==xh||"/a/i"!=Ch(Kh,"i")})));if(ih("RegExp",Lh)){for(var Ph=function(e,t){var n,i,o,r,a,s,l=sh(yh,this),c=lh(e),u=void 0===t,d=[],h=e;if(!l&&c&&u&&e.constructor===Ph)return e;if((c||sh(yh,e))&&(e=e.source,u&&(t=uh(h))),e=void 0===e?"":ch(e),t=void 0===t?"":ch(t),h=e,vh&&"dotAll"in Kh&&(i=!!t&&_h(t,"s")>-1)&&(t=Rh(t,/s/g,"")),n=t,Nh&&"sticky"in Kh&&(o=!!t&&_h(t,"y")>-1)&&Ah&&(t=Rh(t,/y/g,"")),Th&&(r=function(e){for(var t,n=e.length,i=0,o="",r=[],a={},s=!1,l=!1,c=0,u="";i<=n;i++){if("\\"===(t=Dh(e,i)))t+=Dh(e,++i);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:Ih(kh,wh(e,i+1))&&(i+=2,l=!0),o+=t,c++;continue;case">"===t&&l:if(""===u||gh(a,u))throw new Oh("Invalid capture group name");a[u]=!0,r[r.length]=[u,c],l=!1,u="";continue}l?u+=t:o+=t}return[o,r]}(e),e=r[0],d=r[1]),a=oh(Ch(e,t),l?this:yh,Ph),(i||o||d.length)&&(s=mh(a),i&&(s.dotAll=!0,s.raw=Ph(function(e){for(var t,n=e.length,i=0,o="",r=!1;i<=n;i++)"\\"!==(t=Dh(e,i))?r||"."!==t?("["===t?r=!0:"]"===t&&(r=!1),o+=t):o+="[\\s\\S]":o+=t+Dh(e,++i);return o}(e),n)),o&&(s.sticky=!0),d.length&&(s.groups=d)),e!==h)try{rh(a,"source",""===h?"(?:)":h)}catch(e){}return a},Fh=ah(Ch),$h=0;Fh.length>$h;)hh(Ph,Ch,Fh[$h++]);yh.constructor=Ph,Ph.prototype=yh,fh(th,"RegExp",Ph,{constructor:!0})}Eh("RegExp");var Bh=vn.PROPER,Mh=ui,Hh=Yt,jh=jo,qh=v,Uh=Gd,zh="toString",Vh=RegExp.prototype.toString,Wh=qh((function(){return"/a/b"!=Vh.call({source:"a",flags:"b"})})),Gh=Bh&&Vh.name!=zh;(Wh||Gh)&&Mh(RegExp.prototype,zh,(function(){var e=Hh(this);return"/"+jh(e.source)+"/"+jh(Uh(e))}),{unsafe:!0});var Xh=j([].slice),Yh=fo,Zh=hl,Jh=qa,Qh=se,ef=Ti,tf=Ii,nf=ee,of=us,rf=vt,af=Xh,sf=Dl("slice"),lf=rf("species"),cf=Array,uf=Math.max;Yh({target:"Array",proto:!0,forced:!sf},{slice:function(e,t){var n,i,o,r=nf(this),a=tf(r),s=ef(e,a),l=ef(void 0===t?a:t,a);if(Zh(r)&&(n=r.constructor,(Jh(n)&&(n===cf||Zh(n.prototype))||Qh(n)&&null===(n=n[lf]))&&(n=void 0),n===cf||void 0===n))return af(r,s,l);for(i=new(void 0===n?cf:n)(uf(l-s,0)),o=0;s<l;s++,o++)s in r&&of(i,o,r[s]);return i.length=o,i}});var df,hf,ff,pf={},gf=!v((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),mf=nt,Ef=oe,vf=Qe,Tf=gf,bf=Sn("IE_PROTO"),Cf=Object,yf=Cf.prototype,Of=Tf?Cf.getPrototypeOf:function(e){var t=vf(e);if(mf(t,bf))return t[bf];var n=t.constructor;return Ef(n)&&t instanceof n?n.prototype:t instanceof Cf?yf:null},If=v,Df=oe,Rf=se,_f=Of,wf=ui,kf=vt("iterator"),Kf=!1;[].keys&&("next"in(ff=[].keys())?(hf=_f(_f(ff)))!==Object.prototype&&(df=hf):Kf=!0);var xf=!Rf(df)||If((function(){var e={};return df[kf].call(e)!==e}));xf&&(df={}),Df(df[kf])||wf(df,kf,(function(){return this}));var Sf={IteratorPrototype:df,BUGGY_SAFARI_ITERATORS:Kf},Nf=zt.f,Af=nt,Lf=vt("toStringTag"),Pf=function(e,t,n){e&&!n&&(e=e.prototype),e&&!Af(e,Lf)&&Nf(e,Lf,{configurable:!0,value:t})},Ff=Sf.IteratorPrototype,$f=$r,Bf=K,Mf=Pf,Hf=pf,jf=function(){return this},qf=fo,Uf=O,zf=oe,Vf=function(e,t,n,i){var o=t+" Iterator";return e.prototype=$f(Ff,{next:Bf(+!i,n)}),Mf(e,o,!1),Hf[o]=jf,e},Wf=Of,Gf=$d,Xf=Pf,Yf=dn,Zf=ui,Jf=pf,Qf=vn.PROPER,ep=vn.CONFIGURABLE,tp=Sf.IteratorPrototype,np=Sf.BUGGY_SAFARI_ITERATORS,ip=vt("iterator"),op="keys",rp="values",ap="entries",sp=function(){return this},lp=ee,cp=ll,up=pf,dp=Wn,hp=zt.f,fp=function(e,t,n,i,o,r,a){Vf(n,t,i);var s,l,c,u=function(e){if(e===o&&g)return g;if(!np&&e in f)return f[e];switch(e){case op:case rp:case ap:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",h=!1,f=e.prototype,p=f[ip]||f["@@iterator"]||o&&f[o],g=!np&&p||u(o),m="Array"==t&&f.entries||p;if(m&&(s=Wf(m.call(new e)))!==Object.prototype&&s.next&&(Wf(s)!==tp&&(Gf?Gf(s,tp):zf(s[ip])||Zf(s,ip,sp)),Xf(s,d,!0)),Qf&&o==rp&&p&&p.name!==rp&&(ep?Yf(f,"name",rp):(h=!0,g=function(){return Uf(p,this)})),o)if(l={values:u(rp),keys:r?g:u(op),entries:u(ap)},a)for(c in l)(np||h||!(c in f))&&Zf(f,c,l[c]);else qf({target:t,proto:!0,forced:np||h},l);return f[ip]!==g&&Zf(f,ip,g,{name:o}),Jf[t]=g,l},pp=function(e,t){return{value:e,done:t}},gp=T,mp="Array Iterator",Ep=dp.set,vp=dp.getterFor(mp),Tp=fp(Array,"Array",(function(e,t){Ep(this,{type:mp,target:lp(e),index:0,kind:t})}),(function(){var e=vp(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,pp(void 0,!0)):pp("keys"==n?i:"values"==n?t[i]:[i,t[i]],!1)}),"values"),bp=up.Arguments=up.Array;if(cp("keys"),cp("values"),cp("entries"),gp&&"values"!==bp.name)try{hp(bp,"name",{value:"values"})}catch(e){}var Cp=m,yp=mc,Op=Tc,Ip=Tp,Dp=dn,Rp=vt,_p=Rp("iterator"),wp=Rp("toStringTag"),kp=Ip.values,Kp=function(e,t){if(e){if(e[_p]!==kp)try{Dp(e,_p,kp)}catch(t){e[_p]=kp}if(e[wp]||Dp(e,wp,t),yp[t])for(var n in Ip)if(e[n]!==Ip[n])try{Dp(e,n,Ip[n])}catch(t){e[n]=Ip[n]}}};for(var xp in yp)Kp(Cp[xp]&&Cp[xp].prototype,xp);Kp(Op,"DOMTokenList");var Sp=T,Np=hl,Ap=TypeError,Lp=Object.getOwnPropertyDescriptor,Pp=Sp&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}(),Fp=fo,$p=Qe,Bp=Ti,Mp=gi,Hp=Ii,jp=Pp?function(e,t){if(Np(e)&&!Lp(e,"length").writable)throw Ap("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t},qp=pl,Up=Cl,zp=us,Vp=Vc,Wp=Dl("splice"),Gp=Math.max,Xp=Math.min;Fp({target:"Array",proto:!0,forced:!Wp},{splice:function(e,t){var n,i,o,r,a,s,l=$p(this),c=Hp(l),u=Bp(e,c),d=arguments.length;for(0===d?n=i=0:1===d?(n=0,i=c-u):(n=d-2,i=Xp(Gp(Mp(t),0),c-u)),qp(c+n-i),o=Up(l,i),r=0;r<i;r++)(a=u+r)in l&&zp(o,r,l[a]);if(o.length=i,n<i){for(r=u;r<c-i;r++)s=r+n,(a=r+i)in l?l[s]=l[a]:Vp(l,s);for(r=c;r>c-i+n;r--)Vp(l,r-1)}else if(n>i)for(r=c-i;r>u;r--)s=r+n-1,(a=r+i-1)in l?l[s]=l[a]:Vp(l,s);for(r=0;r<n;r++)l[r+u]=arguments[r+2];return jp(l,c-i+n),o}});var Yp=j(1..valueOf),Zp=T,Jp=m,Qp=j,eg=oo,tg=ui,ng=nt,ig=jd,og=he,rg=ke,ag=Rt,sg=v,lg=di.f,cg=E.f,ug=zt.f,dg=Yp,hg=Zo.trim,fg="Number",pg=Jp.Number,gg=pg.prototype,mg=Jp.TypeError,Eg=Qp("".slice),vg=Qp("".charCodeAt),Tg=function(e){var t=ag(e,"number");return"bigint"==typeof t?t:bg(t)},bg=function(e){var t,n,i,o,r,a,s,l,c=ag(e,"number");if(rg(c))throw mg("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=hg(c),43===(t=vg(c,0))||45===t){if(88===(n=vg(c,2))||120===n)return NaN}else if(48===t){switch(vg(c,1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+c}for(a=(r=Eg(c,2)).length,s=0;s<a;s++)if((l=vg(r,s))<48||l>o)return NaN;return parseInt(r,i)}return+c};if(eg(fg,!pg(" 0o1")||!pg("0b1")||pg("+0x1"))){for(var Cg,yg=function(e){var t=arguments.length<1?0:pg(Tg(e)),n=this;return og(gg,n)&&sg((function(){dg(n)}))?ig(Object(t),n,yg):t},Og=Zp?lg(pg):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Ig=0;Og.length>Ig;Ig++)ng(pg,Cg=Og[Ig])&&!ng(yg,Cg)&&ug(yg,Cg,cg(pg,Cg));yg.prototype=gg,gg.constructor=yg,tg(Jp,fg,yg,{constructor:!0})}var Dg=fo,Rg=hl,_g=j([].reverse),wg=[1,2];Dg({target:"Array",proto:!0,forced:String(wg)===String(wg.reverse())},{reverse:function(){return Rg(this)&&(this.length=this.length),_g(this)}});var kg=Qe,Kg=mo;fo({target:"Object",stat:!0,forced:v((function(){Kg(1)}))},{keys:function(e){return Kg(kg(e))}});var xg=O,Sg=Yt,Ng=G,Ag=yi,Lg=jo,Pg=Z,Fg=$e,$g=as,Bg=Os;Da("match",(function(e,t,n){return[function(t){var n=Pg(this),i=Ng(t)?void 0:Fg(t,e);return i?xg(i,t,n):new RegExp(t)[e](Lg(n))},function(e){var i=Sg(this),o=Lg(e),r=n(t,i,o);if(r.done)return r.value;if(!i.global)return Bg(i,o);var a=i.unicode;i.lastIndex=0;for(var s,l=[],c=0;null!==(s=Bg(i,o));){var u=Lg(s[0]);l[c]=u,""===u&&(i.lastIndex=$g(o,Ag(i.lastIndex),a)),c++}return 0===c?null:l}]}));var Mg,Hg=fo,jg=j,qg=E.f,Ug=yi,zg=jo,Vg=sc,Wg=Z,Gg=cc,Xg=jg("".startsWith),Yg=jg("".slice),Zg=Math.min,Jg=Gg("startsWith");Hg({target:"String",proto:!0,forced:!(!Jg&&(Mg=qg(String.prototype,"startsWith"),Mg&&!Mg.writable)||Jg)},{startsWith:function(e){var t=zg(Wg(this));Vg(e);var n=Ug(Zg(arguments.length>1?arguments[1]:void 0,t.length)),i=zg(e);return Xg?Xg(t,i,n):Yg(t,n,n+i.length)===i}});var Qg=fo,em=j,tm=E.f,nm=yi,im=jo,om=sc,rm=Z,am=cc,sm=em("".endsWith),lm=em("".slice),cm=Math.min,um=am("endsWith"),dm=!um&&!!function(){var e=tm(String.prototype,"endsWith");return e&&!e.writable}();Qg({target:"String",proto:!0,forced:!dm&&!um},{endsWith:function(e){var t=im(rm(this));om(e);var n=arguments.length>1?arguments[1]:void 0,i=t.length,o=void 0===n?i:cm(nm(n),i),r=im(e);return sm?sm(t,r,o):lm(t,o-r.length,o)===r}});var hm={getBootstrapVersion:function(){var e=5;try{var t=o.default.fn.dropdown.Constructor.VERSION;void 0!==t&&(e=parseInt(t,10))}catch(e){}try{var n=bootstrap.Tooltip.VERSION;void 0!==n&&(e=parseInt(n,10))}catch(e){}return e},getIconsPrefix:function(e){return{bootstrap3:"glyphicon",bootstrap4:"fa",bootstrap5:"bi","bootstrap-table":"icon",bulma:"fa",foundation:"fa",materialize:"material-icons",semantic:"fa"}[e]||"fa"},getIcons:function(e){return{glyphicon:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggleOff:"glyphicon-list-alt icon-list-alt",toggleOn:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus",fullscreen:"glyphicon-fullscreen",search:"glyphicon-search",clearSearch:"glyphicon-trash"},fa:{paginationSwitchDown:"fa-caret-square-down",paginationSwitchUp:"fa-caret-square-up",refresh:"fa-sync",toggleOff:"fa-toggle-off",toggleOn:"fa-toggle-on",columns:"fa-th-list",detailOpen:"fa-plus",detailClose:"fa-minus",fullscreen:"fa-arrows-alt",search:"fa-search",clearSearch:"fa-trash"},bi:{paginationSwitchDown:"bi-caret-down-square",paginationSwitchUp:"bi-caret-up-square",refresh:"bi-arrow-clockwise",toggleOff:"bi-toggle-off",toggleOn:"bi-toggle-on",columns:"bi-list-ul",detailOpen:"bi-plus",detailClose:"bi-dash",fullscreen:"bi-arrows-move",search:"bi-search",clearSearch:"bi-trash"},icon:{paginationSwitchDown:"icon-arrow-up-circle",paginationSwitchUp:"icon-arrow-down-circle",refresh:"icon-refresh-cw",toggleOff:"icon-toggle-right",toggleOn:"icon-toggle-right",columns:"icon-list",detailOpen:"icon-plus",detailClose:"icon-minus",fullscreen:"icon-maximize",search:"icon-search",clearSearch:"icon-trash-2"},"material-icons":{paginationSwitchDown:"grid_on",paginationSwitchUp:"grid_off",refresh:"refresh",toggleOff:"tablet",toggleOn:"tablet_android",columns:"view_list",detailOpen:"add",detailClose:"remove",fullscreen:"fullscreen",sort:"sort",search:"search",clearSearch:"delete"}}[e]},getSearchInput:function(e){return"string"==typeof e.options.searchSelector?o.default(e.options.searchSelector):e.$toolbar.find(".search input")},sprintf:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=!0,r=0,a=e.replace(/%s/g,(function(){var e=n[r++];return void 0===e?(o=!1,""):e}));return o?a:""},isObject:function(e){return e instanceof Object&&!Array.isArray(e)},isEmptyObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===Object.entries(e).length&&e.constructor===Object},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},getFieldTitle:function(e,t){var n,i=f(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.field===t)return o.title}}catch(e){i.e(e)}finally{i.f()}return""},setFieldIndex:function(e){var t,n=0,i=[],o=f(e[0]);try{for(o.s();!(t=o.n()).done;)n+=t.value.colspan||1}catch(e){o.e(e)}finally{o.f()}for(var r=0;r<e.length;r++){i[r]=[];for(var a=0;a<n;a++)i[r][a]=!1}for(var s=0;s<e.length;s++){var l,c=f(e[s]);try{for(c.s();!(l=c.n()).done;){var u=l.value,d=u.rowspan||1,h=u.colspan||1,p=i[s].indexOf(!1);u.colspanIndex=p,1===h?(u.fieldIndex=p,void 0===u.field&&(u.field=p)):u.colspanGroup=u.colspan;for(var g=0;g<d;g++)for(var m=0;m<h;m++)i[s+g][p+m]=!0}}catch(e){c.e(e)}finally{c.f()}}},normalizeAccent:function(e){return"string"!=typeof e?e:e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},updateFieldGroup:function(e,t){var n,i,o=(n=[]).concat.apply(n,u(e)),r=f(e);try{for(r.s();!(i=r.n()).done;){var a,s=f(i.value);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(l.colspanGroup>1){for(var c=0,d=function(e){o.find((function(t){return t.fieldIndex===e})).visible&&c++},h=l.colspanIndex;h<l.colspanIndex+l.colspanGroup;h++)d(h);l.colspan=c,l.visible=c>0}}}catch(e){s.e(e)}finally{s.f()}}}catch(e){r.e(e)}finally{r.f()}if(!(e.length<2)){var p,g=f(t);try{var m=function(){var e=p.value,t=o.filter((function(t){return t.fieldIndex===e.fieldIndex}));if(t.length>1){var n,i=f(t);try{for(i.s();!(n=i.n()).done;)n.value.visible=e.visible}catch(e){i.e(e)}finally{i.f()}}};for(g.s();!(p=g.n()).done;)m()}catch(e){g.e(e)}finally{g.f()}}},getScrollBarWidth:function(){if(void 0===this.cachedWidth){var e=o.default("<div/>").addClass("fixed-table-scroll-inner"),t=o.default("<div/>").addClass("fixed-table-scroll-outer");t.append(e),o.default("body").append(t);var n=e[0].offsetWidth;t.css("overflow","scroll");var i=e[0].offsetWidth;n===i&&(i=t[0].clientWidth),t.remove(),this.cachedWidth=n-i}return this.cachedWidth},calculateObjectValue:function(e,t,n,i){var o=t;if("string"==typeof t){var a=t.split(".");if(a.length>1){o=window;var s,l=f(a);try{for(l.s();!(s=l.n()).done;)o=o[s.value]}catch(e){l.e(e)}finally{l.f()}}else o=window[t]}return null!==o&&"object"===r(o)?o:"function"==typeof o?o.apply(e,n||[]):!o&&"string"==typeof t&&n&&this.sprintf.apply(this,[t].concat(u(n)))?this.sprintf.apply(this,[t].concat(u(n))):i},compareObjects:function(e,t,n){var i=Object.keys(e),o=Object.keys(t);if(n&&i.length!==o.length)return!1;for(var r=0,a=i;r<a.length;r++){var s=a[r];if(o.includes(s)&&e[s]!==t[s])return!1}return!0},regexCompare:function(e,t){try{var n=t.match(/^\/(.*?)\/([gim]*)$/);if(-1!==e.toString().search(n?new RegExp(n[1],n[2]):new RegExp(t,"gim")))return!0}catch(e){return!1}return!1},escapeHTML:function(e){return e?e.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"):e},unescapeHTML:function(e){return"string"==typeof e&&e?e.toString().replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'"):e},removeHTML:function(e){return e?e.toString().replace(/(<([^>]+)>)/gi,"").replace(/&[#A-Za-z0-9]+;/gi,"").trim():e},getRealDataAttr:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var i=c(n[t],2),o=i[0],r=i[1],a=o.split(/(?=[A-Z])/).join("-").toLowerCase();a!==o&&(e[a]=r,delete e[o])}return e},getItemField:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=e;if(void 0!==i&&(n=i),"string"!=typeof t||e.hasOwnProperty(t))return n?this.escapeHTML(e[t]):e[t];var r,a=f(t.split("."));try{for(a.s();!(r=a.n()).done;){var s=r.value;o=o&&o[s]}}catch(e){a.e(e)}finally{a.f()}return n?this.escapeHTML(o):o},isIEBrowser:function(){return navigator.userAgent.includes("MSIE ")||/Trident.*rv:11\./.test(navigator.userAgent)},findIndex:function(e,t){var n,i=f(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(JSON.stringify(o)===JSON.stringify(t))return e.indexOf(o)}}catch(e){i.e(e)}finally{i.f()}return-1},trToData:function(e,t){var n=this,i=[],r=[];return t.each((function(t,a){var s=o.default(a),l={};l._id=s.attr("id"),l._class=s.attr("class"),l._data=n.getRealDataAttr(s.data()),l._style=s.attr("style"),s.find(">td,>th").each((function(i,a){for(var s=o.default(a),c=+s.attr("colspan")||1,u=+s.attr("rowspan")||1,d=i;r[t]&&r[t][d];d++);for(var h=d;h<d+c;h++)for(var f=t;f<t+u;f++)r[f]||(r[f]=[]),r[f][h]=!0;var p=e[d].field;l[p]=s.html().trim(),l["_".concat(p,"_id")]=s.attr("id"),l["_".concat(p,"_class")]=s.attr("class"),l["_".concat(p,"_rowspan")]=s.attr("rowspan"),l["_".concat(p,"_colspan")]=s.attr("colspan"),l["_".concat(p,"_title")]=s.attr("title"),l["_".concat(p,"_data")]=n.getRealDataAttr(s.data()),l["_".concat(p,"_style")]=s.attr("style")})),i.push(l)})),i},sort:function(e,t,n,i,o,r){if(null==e&&(e=""),null==t&&(t=""),i.sortStable&&e===t&&(e=o,t=r),this.isNumeric(e)&&this.isNumeric(t))return(e=parseFloat(e))<(t=parseFloat(t))?-1*n:e>t?n:0;if(i.sortEmptyLast){if(""===e)return 1;if(""===t)return-1}return e===t?0:("string"!=typeof e&&(e=e.toString()),-1===e.localeCompare(t)?-1*n:n)},getEventName:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t=t||"".concat(+new Date).concat(~~(1e6*Math.random())),"".concat(e,"-").concat(t)},hasDetailViewIcon:function(e){return e.detailView&&e.detailViewIcon&&!e.cardView},getDetailViewIndexOffset:function(e){return this.hasDetailViewIcon(e)&&"right"!==e.detailViewAlign?1:0},checkAutoMergeCells:function(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;)for(var i=t.value,o=0,r=Object.keys(i);o<r.length;o++){var a=r[o];if(a.startsWith("_")&&(a.endsWith("_rowspan")||a.endsWith("_colspan")))return!0}}catch(e){n.e(e)}finally{n.f()}return!1},deepCopy:function(e){return void 0===e?e:o.default.extend(!0,Array.isArray(e)?[]:{},e)},debounce:function(e,t,n){var i;return function(){var o=this,r=arguments,a=function(){i=null,n||e.apply(o,r)},s=n&&!i;clearTimeout(i),i=setTimeout(a,t),s&&e.apply(o,r)}}},fm=hm.getBootstrapVersion(),pm={3:{classes:{buttonsPrefix:"btn",buttons:"default",buttonsGroup:"btn-group",buttonsDropdown:"btn-group",pull:"pull",inputGroup:"input-group",inputPrefix:"input-",input:"form-control",select:"form-control",paginationDropdown:"btn-group dropdown",dropup:"dropup",dropdownActive:"active",paginationActive:"active",buttonActive:"active"},html:{toolbarDropdown:['<ul class="dropdown-menu" role="menu">',"</ul>"],toolbarDropdownItem:'<li class="dropdown-item-marker" role="menuitem"><label>%s</label></li>',toolbarDropdownSeparator:'<li class="divider"></li>',pageDropdown:['<ul class="dropdown-menu" role="menu">',"</ul>"],pageDropdownItem:'<li role="menuitem" class="%s"><a href="#">%s</a></li>',dropdownCaret:'<span class="caret"></span>',pagination:['<ul class="pagination%s">',"</ul>"],paginationItem:'<li class="page-item%s"><a class="page-link" aria-label="%s" href="javascript:void(0)">%s</a></li>',icon:'<i class="%s %s"></i>',inputGroup:'<div class="input-group">%s<span class="input-group-btn">%s</span></div>',searchInput:'<input class="%s%s" type="text" placeholder="%s">',searchButton:'<button class="%s" type="button" name="search" title="%s">%s %s</button>',searchClearButton:'<button class="%s" type="button" name="clearSearch" title="%s">%s %s</button>'}},4:{classes:{buttonsPrefix:"btn",buttons:"secondary",buttonsGroup:"btn-group",buttonsDropdown:"btn-group",pull:"float",inputGroup:"btn-group",inputPrefix:"form-control-",input:"form-control",select:"form-control",paginationDropdown:"btn-group dropdown",dropup:"dropup",dropdownActive:"active",paginationActive:"active",buttonActive:"active"},html:{toolbarDropdown:['<div class="dropdown-menu dropdown-menu-right">',"</div>"],toolbarDropdownItem:'<label class="dropdown-item dropdown-item-marker">%s</label>',pageDropdown:['<div class="dropdown-menu">',"</div>"],pageDropdownItem:'<a class="dropdown-item %s" href="#">%s</a>',toolbarDropdownSeparator:'<div class="dropdown-divider"></div>',dropdownCaret:'<span class="caret"></span>',pagination:['<ul class="pagination%s">',"</ul>"],paginationItem:'<li class="page-item%s"><a class="page-link" aria-label="%s" href="javascript:void(0)">%s</a></li>',icon:'<i class="%s %s"></i>',inputGroup:'<div class="input-group">%s<div class="input-group-append">%s</div></div>',searchInput:'<input class="%s%s" type="text" placeholder="%s">',searchButton:'<button class="%s" type="button" name="search" title="%s">%s %s</button>',searchClearButton:'<button class="%s" type="button" name="clearSearch" title="%s">%s %s</button>'}},5:{classes:{buttonsPrefix:"btn",buttons:"secondary",buttonsGroup:"btn-group",buttonsDropdown:"btn-group",pull:"float",inputGroup:"btn-group",inputPrefix:"form-control-",input:"form-control",select:"form-select",paginationDropdown:"btn-group dropdown",dropup:"dropup",dropdownActive:"active",paginationActive:"active",buttonActive:"active"},html:{dataToggle:"data-bs-toggle",toolbarDropdown:['<div class="dropdown-menu dropdown-menu-right">',"</div>"],toolbarDropdownItem:'<label class="dropdown-item dropdown-item-marker">%s</label>',pageDropdown:['<div class="dropdown-menu">',"</div>"],pageDropdownItem:'<a class="dropdown-item %s" href="#">%s</a>',toolbarDropdownSeparator:'<div class="dropdown-divider"></div>',dropdownCaret:'<span class="caret"></span>',pagination:['<ul class="pagination%s">',"</ul>"],paginationItem:'<li class="page-item%s"><a class="page-link" aria-label="%s" href="javascript:void(0)">%s</a></li>',icon:'<i class="%s %s"></i>',inputGroup:'<div class="input-group">%s%s</div>',searchInput:'<input class="%s%s" type="text" placeholder="%s">',searchButton:'<button class="%s" type="button" name="search" title="%s">%s %s</button>',searchClearButton:'<button class="%s" type="button" name="clearSearch" title="%s">%s %s</button>'}}}[fm],gm={height:void 0,classes:"table table-bordered table-hover",buttons:{},theadClasses:"",headerStyle:function(e){return{}},rowStyle:function(e,t){return{}},rowAttributes:function(e,t){return{}},undefinedText:"-",locale:void 0,virtualScroll:!1,virtualScrollItemHeight:void 0,sortable:!0,sortClass:void 0,silentSort:!0,sortEmptyLast:!1,sortName:void 0,sortOrder:void 0,sortReset:!1,sortStable:!1,sortResetPage:!1,rememberOrder:!1,serverSort:!0,customSort:void 0,columns:[[]],data:[],url:void 0,method:"get",cache:!0,contentType:"application/json",dataType:"json",ajax:void 0,ajaxOptions:{},queryParams:function(e){return e},queryParamsType:"limit",responseHandler:function(e){return e},totalField:"total",totalNotFilteredField:"totalNotFiltered",dataField:"rows",footerField:"footer",pagination:!1,paginationParts:["pageInfo","pageSize","pageList"],showExtendedPagination:!1,paginationLoop:!0,sidePagination:"client",totalRows:0,totalNotFiltered:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",paginationSuccessivelySize:5,paginationPagesBySide:1,paginationUseIntermediate:!1,search:!1,searchHighlight:!1,searchOnEnterKey:!1,strictSearch:!1,regexSearch:!1,searchSelector:!1,visibleSearch:!1,showButtonIcons:!0,showButtonText:!1,showSearchButton:!1,showSearchClearButton:!1,trimOnSearch:!0,searchAlign:"right",searchTimeOut:500,searchText:"",customSearch:void 0,showHeader:!0,showFooter:!1,footerStyle:function(e){return{}},searchAccentNeutralise:!1,showColumns:!1,showColumnsToggleAll:!1,showColumnsSearch:!1,minimumCountColumns:1,showPaginationSwitch:!1,showRefresh:!1,showToggle:!1,showFullscreen:!1,smartDisplay:!0,escape:!1,filterOptions:{filterAlgorithm:"and"},idField:void 0,selectItemName:"btSelectItem",clickToSelect:!1,ignoreClickToSelectOn:function(e){var t=e.tagName;return["A","BUTTON"].includes(t)},singleSelect:!1,checkboxHeader:!0,maintainMetaData:!1,multipleSelectRow:!1,uniqueId:void 0,cardView:!1,detailView:!1,detailViewIcon:!0,detailViewByClick:!1,detailViewAlign:"left",detailFormatter:function(e,t){return""},detailFilter:function(e,t){return!0},toolbar:void 0,toolbarAlign:"left",buttonsToolbar:void 0,buttonsAlign:"right",buttonsOrder:["paginationSwitch","refresh","toggle","fullscreen","columns"],buttonsPrefix:pm.classes.buttonsPrefix,buttonsClass:pm.classes.buttons,iconsPrefix:void 0,icons:{},iconSize:void 0,loadingFontSize:"auto",loadingTemplate:function(e){return'<span class="loading-wrap">\n      <span class="loading-text">'.concat(e,'</span>\n      <span class="animation-wrap"><span class="animation-dot"></span></span>\n      </span>\n    ')},onAll:function(e,t){return!1},onClickCell:function(e,t,n,i){return!1},onDblClickCell:function(e,t,n,i){return!1},onClickRow:function(e,t){return!1},onDblClickRow:function(e,t){return!1},onSort:function(e,t){return!1},onCheck:function(e){return!1},onUncheck:function(e){return!1},onCheckAll:function(e){return!1},onUncheckAll:function(e){return!1},onCheckSome:function(e){return!1},onUncheckSome:function(e){return!1},onLoadSuccess:function(e){return!1},onLoadError:function(e){return!1},onColumnSwitch:function(e,t){return!1},onColumnSwitchAll:function(e){return!1},onPageChange:function(e,t){return!1},onSearch:function(e){return!1},onToggle:function(e){return!1},onPreBody:function(e){return!1},onPostBody:function(){return!1},onPostHeader:function(){return!1},onPostFooter:function(){return!1},onExpandRow:function(e,t,n){return!1},onCollapseRow:function(e,t){return!1},onRefreshOptions:function(e){return!1},onRefresh:function(e){return!1},onResetView:function(){return!1},onScrollBody:function(){return!1},onTogglePagination:function(e){return!1},onVirtualScroll:function(e,t){return!1}},mm={formatLoadingMessage:function(){return"Loading, please wait"},formatRecordsPerPage:function(e){return"".concat(e," rows per page")},formatShowingRows:function(e,t,n,i){return void 0!==i&&i>0&&i>n?"Showing ".concat(e," to ").concat(t," of ").concat(n," rows (filtered from ").concat(i," total rows)"):"Showing ".concat(e," to ").concat(t," of ").concat(n," rows")},formatSRPaginationPreText:function(){return"previous page"},formatSRPaginationPageText:function(e){return"to page ".concat(e)},formatSRPaginationNextText:function(){return"next page"},formatDetailPagination:function(e){return"Showing ".concat(e," rows")},formatSearch:function(){return"Search"},formatClearSearch:function(){return"Clear Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatPaginationSwitchDown:function(){return"Show pagination"},formatPaginationSwitchUp:function(){return"Hide pagination"},formatRefresh:function(){return"Refresh"},formatToggleOn:function(){return"Show card view"},formatToggleOff:function(){return"Hide card view"},formatColumns:function(){return"Columns"},formatColumnsToggleAll:function(){return"Toggle all"},formatFullscreen:function(){return"Fullscreen"},formatAllRows:function(){return"All"}},Em={field:void 0,title:void 0,titleTooltip:void 0,class:void 0,width:void 0,widthUnit:"px",rowspan:void 0,colspan:void 0,align:void 0,halign:void 0,falign:void 0,valign:void 0,cellStyle:void 0,radio:!1,checkbox:!1,checkboxEnabled:!0,clickToSelect:!0,showSelectTitle:!1,sortable:!1,sortName:void 0,order:"asc",sorter:void 0,visible:!0,switchable:!0,cardVisible:!0,searchable:!0,formatter:void 0,footerFormatter:void 0,detailFormatter:void 0,searchFormatter:!0,searchHighlightFormatter:!1,escape:void 0,events:void 0};Object.assign(gm,mm);var vm={VERSION:"1.21.2",THEME:"bootstrap".concat(fm),CONSTANTS:pm,DEFAULTS:gm,COLUMN_DEFAULTS:Em,METHODS:["getOptions","refreshOptions","getData","getSelections","load","append","prepend","remove","removeAll","insertRow","updateRow","getRowByUniqueId","updateByUniqueId","removeByUniqueId","updateCell","updateCellByUniqueId","showRow","hideRow","getHiddenRows","showColumn","hideColumn","getVisibleColumns","getHiddenColumns","showAllColumns","hideAllColumns","mergeCells","checkAll","uncheckAll","checkInvert","check","uncheck","checkBy","uncheckBy","refresh","destroy","resetView","showLoading","hideLoading","togglePagination","toggleFullscreen","toggleView","resetSearch","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","toggleDetailView","expandRow","collapseRow","expandRowByUniqueId","collapseRowByUniqueId","expandAllRows","collapseAllRows","updateColumnTitle","updateFormatText"],EVENTS:{"all.bs.table":"onAll","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","column-switch-all.bs.table":"onColumnSwitchAll","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","post-footer.bs.table":"onPostFooter","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow","refresh-options.bs.table":"onRefreshOptions","reset-view.bs.table":"onResetView","refresh.bs.table":"onRefresh","scroll-body.bs.table":"onScrollBody","toggle-pagination.bs.table":"onTogglePagination","virtual-scroll.bs.table":"onVirtualScroll"},LOCALES:{en:mm,"en-US":mm}},Tm=function(){function e(t){var n=this;a(this,e),this.rows=t.rows,this.scrollEl=t.scrollEl,this.contentEl=t.contentEl,this.callback=t.callback,this.itemHeight=t.itemHeight,this.cache={},this.scrollTop=this.scrollEl.scrollTop,this.initDOM(this.rows,t.fixedScroll),this.scrollEl.scrollTop=this.scrollTop,this.lastCluster=0;var i=function(){n.lastCluster!==(n.lastCluster=n.getNum())&&(n.initDOM(n.rows),n.callback(n.startIndex,n.endIndex))};this.scrollEl.addEventListener("scroll",i,!1),this.destroy=function(){n.contentEl.innerHtml="",n.scrollEl.removeEventListener("scroll",i,!1)}}return l(e,[{key:"initDOM",value:function(e,t){void 0===this.clusterHeight&&(this.cache.scrollTop=this.scrollEl.scrollTop,this.cache.data=this.contentEl.innerHTML=e[0]+e[0]+e[0],this.getRowsHeight(e));var n=this.initData(e,this.getNum(t)),i=n.rows.join(""),o=this.checkChanges("data",i),r=this.checkChanges("top",n.topOffset),a=this.checkChanges("bottom",n.bottomOffset),s=[];o&&r?(n.topOffset&&s.push(this.getExtra("top",n.topOffset)),s.push(i),n.bottomOffset&&s.push(this.getExtra("bottom",n.bottomOffset)),this.startIndex=n.start,this.endIndex=n.end,this.contentEl.innerHTML=s.join(""),t&&(this.contentEl.scrollTop=this.cache.scrollTop)):a&&(this.contentEl.lastChild.style.height="".concat(n.bottomOffset,"px"))}},{key:"getRowsHeight",value:function(){if(void 0===this.itemHeight){var e=this.contentEl.children,t=e[Math.floor(e.length/2)];this.itemHeight=t.offsetHeight}this.blockHeight=50*this.itemHeight,this.clusterRows=200,this.clusterHeight=4*this.blockHeight}},{key:"getNum",value:function(e){return this.scrollTop=e?this.cache.scrollTop:this.scrollEl.scrollTop,Math.floor(this.scrollTop/(this.clusterHeight-this.blockHeight))||0}},{key:"initData",value:function(e,t){if(e.length<50)return{topOffset:0,bottomOffset:0,rowsAbove:0,rows:e};var n=Math.max((this.clusterRows-50)*t,0),i=n+this.clusterRows,o=Math.max(n*this.itemHeight,0),r=Math.max((e.length-i)*this.itemHeight,0),a=[],s=n;o<1&&s++;for(var l=n;l<i;l++)e[l]&&a.push(e[l]);return{start:n,end:i,topOffset:o,bottomOffset:r,rowsAbove:s,rows:a}}},{key:"checkChanges",value:function(e,t){var n=t!==this.cache[e];return this.cache[e]=t,n}},{key:"getExtra",value:function(e,t){var n=document.createElement("tr");return n.className="virtual-scroll-".concat(e),t&&(n.style.height="".concat(t,"px")),n.outerHTML}}]),e}(),bm=function(){function e(t,n){a(this,e),this.options=n,this.$el=o.default(t),this.$el_=this.$el.clone(),this.timeoutId_=0,this.timeoutFooter_=0}return l(e,[{key:"init",value:function(){this.initConstants(),this.initLocale(),this.initContainer(),this.initTable(),this.initHeader(),this.initData(),this.initHiddenRows(),this.initToolbar(),this.initPagination(),this.initBody(),this.initSearchText(),this.initServer()}},{key:"initConstants",value:function(){var e=this.options;this.constants=vm.CONSTANTS,this.constants.theme=o.default.fn.bootstrapTable.theme,this.constants.dataToggle=this.constants.html.dataToggle||"data-toggle";var t=hm.getIconsPrefix(o.default.fn.bootstrapTable.theme),n=hm.getIcons(t);"string"==typeof e.icons&&(e.icons=hm.calculateObjectValue(null,e.icons)),e.iconsPrefix=e.iconsPrefix||o.default.fn.bootstrapTable.defaults.iconsPrefix||t,e.icons=Object.assign(n,o.default.fn.bootstrapTable.defaults.icons,e.icons);var i=e.buttonsPrefix?"".concat(e.buttonsPrefix,"-"):"";this.constants.buttonsClass=[e.buttonsPrefix,i+e.buttonsClass,hm.sprintf("".concat(i,"%s"),e.iconSize)].join(" ").trim(),this.buttons=hm.calculateObjectValue(this,e.buttons,[],{}),"object"!==r(this.buttons)&&(this.buttons={})}},{key:"initLocale",value:function(){if(this.options.locale){var t=o.default.fn.bootstrapTable.locales,n=this.options.locale.split(/-|_/);n[0]=n[0].toLowerCase(),n[1]&&(n[1]=n[1].toUpperCase());var i={};t[this.options.locale]?i=t[this.options.locale]:t[n.join("-")]?i=t[n.join("-")]:t[n[0]]&&(i=t[n[0]]);for(var r=0,a=Object.entries(i);r<a.length;r++){var s=c(a[r],2),l=s[0],u=s[1];this.options[l]===e.DEFAULTS[l]&&(this.options[l]=u)}}}},{key:"initContainer",value:function(){var e=["top","both"].includes(this.options.paginationVAlign)?'<div class="fixed-table-pagination clearfix"></div>':"",t=["bottom","both"].includes(this.options.paginationVAlign)?'<div class="fixed-table-pagination"></div>':"",n=hm.calculateObjectValue(this.options,this.options.loadingTemplate,[this.options.formatLoadingMessage()]);this.$container=o.default('\n      <div class="bootstrap-table '.concat(this.constants.theme,'">\n      <div class="fixed-table-toolbar"></div>\n      ').concat(e,'\n      <div class="fixed-table-container">\n      <div class="fixed-table-header"><table></table></div>\n      <div class="fixed-table-body">\n      <div class="fixed-table-loading">\n      ').concat(n,'\n      </div>\n      </div>\n      <div class="fixed-table-footer"></div>\n      </div>\n      ').concat(t,"\n      </div>\n    ")),this.$container.insertAfter(this.$el),this.$tableContainer=this.$container.find(".fixed-table-container"),this.$tableHeader=this.$container.find(".fixed-table-header"),this.$tableBody=this.$container.find(".fixed-table-body"),this.$tableLoading=this.$container.find(".fixed-table-loading"),this.$tableFooter=this.$el.find("tfoot"),this.options.buttonsToolbar?this.$toolbar=o.default("body").find(this.options.buttonsToolbar):this.$toolbar=this.$container.find(".fixed-table-toolbar"),this.$pagination=this.$container.find(".fixed-table-pagination"),this.$tableBody.append(this.$el),this.$container.after('<div class="clearfix"></div>'),this.$el.addClass(this.options.classes),this.$tableLoading.addClass(this.options.classes),this.options.height&&(this.$tableContainer.addClass("fixed-height"),this.options.showFooter&&this.$tableContainer.addClass("has-footer"),this.options.classes.split(" ").includes("table-bordered")&&(this.$tableBody.append('<div class="fixed-table-border"></div>'),this.$tableBorder=this.$tableBody.find(".fixed-table-border"),this.$tableLoading.addClass("fixed-table-border")),this.$tableFooter=this.$container.find(".fixed-table-footer"))}},{key:"initTable",value:function(){var t=this,n=[];if(this.$header=this.$el.find(">thead"),this.$header.length?this.options.theadClasses&&this.$header.addClass(this.options.theadClasses):this.$header=o.default('<thead class="'.concat(this.options.theadClasses,'"></thead>')).appendTo(this.$el),this._headerTrClasses=[],this._headerTrStyles=[],this.$header.find("tr").each((function(e,i){var r=o.default(i),a=[];r.find("th").each((function(e,t){var n=o.default(t);void 0!==n.data("field")&&n.data("field","".concat(n.data("field"))),a.push(o.default.extend({},{title:n.html(),class:n.attr("class"),titleTooltip:n.attr("title"),rowspan:n.attr("rowspan")?+n.attr("rowspan"):void 0,colspan:n.attr("colspan")?+n.attr("colspan"):void 0},n.data()))})),n.push(a),r.attr("class")&&t._headerTrClasses.push(r.attr("class")),r.attr("style")&&t._headerTrStyles.push(r.attr("style"))})),Array.isArray(this.options.columns[0])||(this.options.columns=[this.options.columns]),this.options.columns=o.default.extend(!0,[],n,this.options.columns),this.columns=[],this.fieldsColumnsIndex=[],hm.setFieldIndex(this.options.columns),this.options.columns.forEach((function(n,i){n.forEach((function(n,r){var a=o.default.extend({},e.COLUMN_DEFAULTS,n,{passed:n});void 0!==a.fieldIndex&&(t.columns[a.fieldIndex]=a,t.fieldsColumnsIndex[a.field]=a.fieldIndex),t.options.columns[i][r]=a}))})),!this.options.data.length){var i=hm.trToData(this.columns,this.$el.find(">tbody>tr"));i.length&&(this.options.data=i,this.fromHtml=!0)}this.options.pagination&&"server"!==this.options.sidePagination||(this.footerData=hm.trToData(this.columns,this.$el.find(">tfoot>tr"))),this.footerData&&this.$el.find("tfoot").html("<tr></tr>"),!this.options.showFooter||this.options.cardView?this.$tableFooter.hide():this.$tableFooter.show()}},{key:"initHeader",value:function(){var e=this,t={},n=[];this.header={fields:[],styles:[],classes:[],formatters:[],detailFormatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]},hm.updateFieldGroup(this.options.columns,this.columns),this.options.columns.forEach((function(i,o){var r=[];r.push("<tr".concat(hm.sprintf(' class="%s"',e._headerTrClasses[o])," ").concat(hm.sprintf(' style="%s"',e._headerTrStyles[o]),">"));var a="";if(0===o&&hm.hasDetailViewIcon(e.options)){var s=e.options.columns.length>1?' rowspan="'.concat(e.options.columns.length,'"'):"";a='<th class="detail"'.concat(s,'>\n          <div class="fht-cell"></div>\n          </th>')}a&&"right"!==e.options.detailViewAlign&&r.push(a),i.forEach((function(n,i){var a=hm.sprintf(' class="%s"',n.class),s=n.widthUnit,l=parseFloat(n.width),u=n.halign?n.halign:n.align,d=hm.sprintf("text-align: %s; ",u),h=hm.sprintf("text-align: %s; ",n.align),f=hm.sprintf("vertical-align: %s; ",n.valign);if(f+=hm.sprintf("width: %s; ",!n.checkbox&&!n.radio||l?l?l+s:void 0:n.showSelectTitle?void 0:"36px"),void 0!==n.fieldIndex||n.visible){var p=hm.calculateObjectValue(null,e.options.headerStyle,[n]),g=[],m="";if(p&&p.css)for(var E=0,v=Object.entries(p.css);E<v.length;E++){var T=c(v[E],2),b=T[0],C=T[1];g.push("".concat(b,": ").concat(C))}if(p&&p.classes&&(m=hm.sprintf(' class="%s"',n.class?[n.class,p.classes].join(" "):p.classes)),void 0!==n.fieldIndex){if(e.header.fields[n.fieldIndex]=n.field,e.header.styles[n.fieldIndex]=h+f,e.header.classes[n.fieldIndex]=a,e.header.formatters[n.fieldIndex]=n.formatter,e.header.detailFormatters[n.fieldIndex]=n.detailFormatter,e.header.events[n.fieldIndex]=n.events,e.header.sorters[n.fieldIndex]=n.sorter,e.header.sortNames[n.fieldIndex]=n.sortName,e.header.cellStyles[n.fieldIndex]=n.cellStyle,e.header.searchables[n.fieldIndex]=n.searchable,!n.visible)return;if(e.options.cardView&&!n.cardVisible)return;t[n.field]=n}r.push("<th".concat(hm.sprintf(' title="%s"',n.titleTooltip)),n.checkbox||n.radio?hm.sprintf(' class="bs-checkbox %s"',n.class||""):m||a,hm.sprintf(' style="%s"',d+f+g.join("; ")),hm.sprintf(' rowspan="%s"',n.rowspan),hm.sprintf(' colspan="%s"',n.colspan),hm.sprintf(' data-field="%s"',n.field),0===i&&o>0?" data-not-first-th":"",">"),r.push(hm.sprintf('<div class="th-inner %s">',e.options.sortable&&n.sortable?"sortable".concat("center"===u?" sortable-center":""," both"):""));var y=e.options.escape?hm.escapeHTML(n.title):n.title,O=y;n.checkbox&&(y="",!e.options.singleSelect&&e.options.checkboxHeader&&(y='<label><input name="btSelectAll" type="checkbox" /><span></span></label>'),e.header.stateField=n.field),n.radio&&(y="",e.header.stateField=n.field),!y&&n.showSelectTitle&&(y+=O),r.push(y),r.push("</div>"),r.push('<div class="fht-cell"></div>'),r.push("</div>"),r.push("</th>")}})),a&&"right"===e.options.detailViewAlign&&r.push(a),r.push("</tr>"),r.length>3&&n.push(r.join(""))})),this.$header.html(n.join("")),this.$header.find("th[data-field]").each((function(e,n){o.default(n).data(t[o.default(n).data("field")])})),this.$container.off("click",".th-inner").on("click",".th-inner",(function(t){var n=o.default(t.currentTarget);if(e.options.detailView&&!n.parent().hasClass("bs-checkbox")&&n.closest(".bootstrap-table")[0]!==e.$container[0])return!1;e.options.sortable&&n.parent().data().sortable&&e.onSort(t)}));var i=hm.getEventName("resize.bootstrap-table",this.$el.attr("id"));o.default(window).off(i),!this.options.showHeader||this.options.cardView?(this.$header.hide(),this.$tableHeader.hide(),this.$tableLoading.css("top",0)):(this.$header.show(),this.$tableHeader.show(),this.$tableLoading.css("top",this.$header.outerHeight()+1),this.getCaret(),o.default(window).on(i,(function(){return e.resetView()}))),this.$selectAll=this.$header.find('[name="btSelectAll"]'),this.$selectAll.off("click").on("click",(function(t){t.stopPropagation();var n=o.default(t.currentTarget).prop("checked");e[n?"checkAll":"uncheckAll"](),e.updateSelected()}))}},{key:"initData",value:function(e,t){"append"===t?this.options.data=this.options.data.concat(e):"prepend"===t?this.options.data=[].concat(e).concat(this.options.data):(e=e||hm.deepCopy(this.options.data),this.options.data=Array.isArray(e)?e:e[this.options.dataField]),this.data=u(this.options.data),this.options.sortReset&&(this.unsortedData=u(this.data)),"server"!==this.options.sidePagination&&this.initSort()}},{key:"initSort",value:function(){var e=this,t=this.options.sortName,n="desc"===this.options.sortOrder?-1:1,i=this.header.fields.indexOf(this.options.sortName),o=0;-1!==i?(this.options.sortStable&&this.data.forEach((function(e,t){e.hasOwnProperty("_position")||(e._position=t)})),this.options.customSort?hm.calculateObjectValue(this.options,this.options.customSort,[this.options.sortName,this.options.sortOrder,this.data]):this.data.sort((function(o,r){e.header.sortNames[i]&&(t=e.header.sortNames[i]);var a=hm.getItemField(o,t,e.options.escape),s=hm.getItemField(r,t,e.options.escape),l=hm.calculateObjectValue(e.header,e.header.sorters[i],[a,s,o,r]);return void 0!==l?e.options.sortStable&&0===l?n*(o._position-r._position):n*l:hm.sort(a,s,n,e.options,o._position,r._position)})),void 0!==this.options.sortClass&&(clearTimeout(o),o=setTimeout((function(){e.$el.removeClass(e.options.sortClass);var t=e.$header.find('[data-field="'.concat(e.options.sortName,'"]')).index();e.$el.find("tr td:nth-child(".concat(t+1,")")).addClass(e.options.sortClass)}),250))):this.options.sortReset&&(this.data=u(this.unsortedData))}},{key:"onSort",value:function(e){var t=e.type,n=e.currentTarget,i="keypress"===t?o.default(n):o.default(n).parent(),r=this.$header.find("th").eq(i.index());if(this.$header.add(this.$header_).find("span.order").remove(),this.options.sortName===i.data("field")){var a=this.options.sortOrder,s=this.columns[this.fieldsColumnsIndex[i.data("field")]].sortOrder||this.columns[this.fieldsColumnsIndex[i.data("field")]].order;void 0===a?this.options.sortOrder="asc":"asc"===a?this.options.sortOrder=this.options.sortReset?"asc"===s?"desc":void 0:"desc":"desc"===this.options.sortOrder&&(this.options.sortOrder=this.options.sortReset?"desc"===s?"asc":void 0:"asc"),void 0===this.options.sortOrder&&(this.options.sortName=void 0)}else this.options.sortName=i.data("field"),this.options.rememberOrder?this.options.sortOrder="asc"===i.data("order")?"desc":"asc":this.options.sortOrder=this.columns[this.fieldsColumnsIndex[i.data("field")]].sortOrder||this.columns[this.fieldsColumnsIndex[i.data("field")]].order;if(this.trigger("sort",this.options.sortName,this.options.sortOrder),i.add(r).data("order",this.options.sortOrder),this.getCaret(),"server"===this.options.sidePagination&&this.options.serverSort)return this.options.pageNumber=1,void this.initServer(this.options.silentSort);this.options.pagination&&this.options.sortResetPage&&(this.options.pageNumber=1,this.initPagination()),this.initSort(),this.initBody()}},{key:"initToolbar",value:function(){var e,t=this,n=this.options,i=[],a=0,s=0;this.$toolbar.find(".bs-bars").children().length&&o.default("body").append(o.default(n.toolbar)),this.$toolbar.html(""),"string"!=typeof n.toolbar&&"object"!==r(n.toolbar)||o.default(hm.sprintf('<div class="bs-bars %s-%s"></div>',this.constants.classes.pull,n.toolbarAlign)).appendTo(this.$toolbar).append(o.default(n.toolbar)),i=['<div class="'.concat(["columns","columns-".concat(n.buttonsAlign),this.constants.classes.buttonsGroup,"".concat(this.constants.classes.pull,"-").concat(n.buttonsAlign)].join(" "),'">')],"string"==typeof n.buttonsOrder&&(n.buttonsOrder=n.buttonsOrder.replace(/\[|\]| |'/g,"").split(",")),this.buttons=Object.assign(this.buttons,{paginationSwitch:{text:n.pagination?n.formatPaginationSwitchUp():n.formatPaginationSwitchDown(),icon:n.pagination?n.icons.paginationSwitchDown:n.icons.paginationSwitchUp,render:!1,event:this.togglePagination,attributes:{"aria-label":n.formatPaginationSwitch(),title:n.formatPaginationSwitch()}},refresh:{text:n.formatRefresh(),icon:n.icons.refresh,render:!1,event:this.refresh,attributes:{"aria-label":n.formatRefresh(),title:n.formatRefresh()}},toggle:{text:n.formatToggleOn(),icon:n.icons.toggleOff,render:!1,event:this.toggleView,attributes:{"aria-label":n.formatToggleOn(),title:n.formatToggleOn()}},fullscreen:{text:n.formatFullscreen(),icon:n.icons.fullscreen,render:!1,event:this.toggleFullscreen,attributes:{"aria-label":n.formatFullscreen(),title:n.formatFullscreen()}},columns:{render:!1,html:function(){var e=[];if(e.push('<div class="keep-open '.concat(t.constants.classes.buttonsDropdown,'" title="').concat(n.formatColumns(),'">\n            <button class="').concat(t.constants.buttonsClass,' dropdown-toggle" type="button" ').concat(t.constants.dataToggle,'="dropdown"\n            aria-label="').concat(n.formatColumns(),'" title="').concat(n.formatColumns(),'">\n            ').concat(n.showButtonIcons?hm.sprintf(t.constants.html.icon,n.iconsPrefix,n.icons.columns):"","\n            ").concat(n.showButtonText?n.formatColumns():"","\n            ").concat(t.constants.html.dropdownCaret,"\n            </button>\n            ").concat(t.constants.html.toolbarDropdown[0])),n.showColumnsSearch&&(e.push(hm.sprintf(t.constants.html.toolbarDropdownItem,hm.sprintf('<input type="text" class="%s" name="columnsSearch" placeholder="%s" autocomplete="off">',t.constants.classes.input,n.formatSearch()))),e.push(t.constants.html.toolbarDropdownSeparator)),n.showColumnsToggleAll){var i=t.getVisibleColumns().length===t.columns.filter((function(e){return!t.isSelectionColumn(e)})).length;e.push(hm.sprintf(t.constants.html.toolbarDropdownItem,hm.sprintf('<input type="checkbox" class="toggle-all" %s> <span>%s</span>',i?'checked="checked"':"",n.formatColumnsToggleAll()))),e.push(t.constants.html.toolbarDropdownSeparator)}var o=0;return t.columns.forEach((function(e){e.visible&&o++})),t.columns.forEach((function(i,r){if(!t.isSelectionColumn(i)&&(!n.cardView||i.cardVisible)){var a=i.visible?' checked="checked"':"",l=o<=n.minimumCountColumns&&a?' disabled="disabled"':"";i.switchable&&(e.push(hm.sprintf(t.constants.html.toolbarDropdownItem,hm.sprintf('<input type="checkbox" data-field="%s" value="%s"%s%s> <span>%s</span>',i.field,r,a,l,i.title))),s++)}})),e.push(t.constants.html.toolbarDropdown[1],"</div>"),e.join("")}}});for(var l={},u=0,d=Object.entries(this.buttons);u<d.length;u++){var h=c(d[u],2),p=h[0],g=h[1],m=void 0;if(g.hasOwnProperty("html"))"function"==typeof g.html?m=g.html():"string"==typeof g.html&&(m=g.html);else{if(m='<button class="'.concat(this.constants.buttonsClass,'" type="button" name="').concat(p,'"'),g.hasOwnProperty("attributes"))for(var E=0,v=Object.entries(g.attributes);E<v.length;E++){var T=c(v[E],2),b=T[0],C=T[1];m+=" ".concat(b,'="').concat(C,'"')}m+=">",n.showButtonIcons&&g.hasOwnProperty("icon")&&(m+="".concat(hm.sprintf(this.constants.html.icon,n.iconsPrefix,g.icon)," ")),n.showButtonText&&g.hasOwnProperty("text")&&(m+=g.text),m+="</button>"}l[p]=m;var y="show".concat(p.charAt(0).toUpperCase()).concat(p.substring(1)),O=n[y];!(!g.hasOwnProperty("render")||g.hasOwnProperty("render")&&g.render)||void 0!==O&&!0!==O||(n[y]=!0),n.buttonsOrder.includes(p)||n.buttonsOrder.push(p)}var I,D=f(n.buttonsOrder);try{for(D.s();!(I=D.n()).done;){var R=I.value;n["show".concat(R.charAt(0).toUpperCase()).concat(R.substring(1))]&&i.push(l[R])}}catch(e){D.e(e)}finally{D.f()}i.push("</div>"),(this.showToolbar||i.length>2)&&this.$toolbar.append(i.join(""));for(var _=0,w=Object.entries(this.buttons);_<w.length;_++){var k=c(w[_],2),K=k[0],x=k[1];if(x.hasOwnProperty("event")){if(("function"==typeof x.event||"string"==typeof x.event)&&"continue"===function(){var e="string"==typeof x.event?window[x.event]:x.event;return t.$toolbar.find('button[name="'.concat(K,'"]')).off("click").on("click",(function(){return e.call(t)})),"continue"}())continue;for(var S=function(){var e=c(A[N],2),n=e[0],i=e[1],o="string"==typeof i?window[i]:i;t.$toolbar.find('button[name="'.concat(K,'"]')).off(n).on(n,(function(){return o.call(t)}))},N=0,A=Object.entries(x.event);N<A.length;N++)S()}}if(n.showColumns){var L=(e=this.$toolbar.find(".keep-open")).find('input[type="checkbox"]:not(".toggle-all")'),P=e.find('input[type="checkbox"].toggle-all');if(s<=n.minimumCountColumns&&e.find("input").prop("disabled",!0),e.find("li, label").off("click").on("click",(function(e){e.stopImmediatePropagation()})),L.off("click").on("click",(function(e){var n=e.currentTarget,i=o.default(n);t._toggleColumn(i.val(),i.prop("checked"),!1),t.trigger("column-switch",i.data("field"),i.prop("checked")),P.prop("checked",L.filter(":checked").length===t.columns.filter((function(e){return!t.isSelectionColumn(e)})).length)})),P.off("click").on("click",(function(e){var n=e.currentTarget;t._toggleAllColumns(o.default(n).prop("checked")),t.trigger("column-switch-all",o.default(n).prop("checked"))})),n.showColumnsSearch){var F=e.find('[name="columnsSearch"]'),$=e.find(".dropdown-item-marker");F.on("keyup paste change",(function(e){var t=e.currentTarget,n=o.default(t).val().toLowerCase();$.show(),L.each((function(e,t){var i=o.default(t).parents(".dropdown-item-marker");i.text().toLowerCase().includes(n)||i.hide()}))}))}}var B=function(e){var i="keyup drop blur mouseup";e.off(i).on(i,(function(e){n.searchOnEnterKey&&13!==e.keyCode||[37,38,39,40].includes(e.keyCode)||(clearTimeout(a),a=setTimeout((function(){t.onSearch({currentTarget:e.currentTarget})}),n.searchTimeOut))}))};if((n.search||this.showSearchClearButton)&&"string"!=typeof n.searchSelector){i=[];var M=hm.sprintf(this.constants.html.searchButton,this.constants.buttonsClass,n.formatSearch(),n.showButtonIcons?hm.sprintf(this.constants.html.icon,n.iconsPrefix,n.icons.search):"",n.showButtonText?n.formatSearch():""),H=hm.sprintf(this.constants.html.searchClearButton,this.constants.buttonsClass,n.formatClearSearch(),n.showButtonIcons?hm.sprintf(this.constants.html.icon,n.iconsPrefix,n.icons.clearSearch):"",n.showButtonText?n.formatClearSearch():""),j='<input class="'.concat(this.constants.classes.input,"\n        ").concat(hm.sprintf(" %s%s",this.constants.classes.inputPrefix,n.iconSize),'\n        search-input" type="search" placeholder="').concat(n.formatSearch(),'" autocomplete="off">'),q=j;if(n.showSearchButton||n.showSearchClearButton){var U=(n.showSearchButton?M:"")+(n.showSearchClearButton?H:"");q=n.search?hm.sprintf(this.constants.html.inputGroup,j,U):U}i.push(hm.sprintf('\n        <div class="'.concat(this.constants.classes.pull,"-").concat(n.searchAlign," search ").concat(this.constants.classes.inputGroup,'">\n          %s\n        </div>\n      '),q)),this.$toolbar.append(i.join(""));var z=hm.getSearchInput(this);n.showSearchButton?(this.$toolbar.find(".search button[name=search]").off("click").on("click",(function(){clearTimeout(a),a=setTimeout((function(){t.onSearch({currentTarget:z})}),n.searchTimeOut)})),n.searchOnEnterKey&&B(z)):B(z),n.showSearchClearButton&&this.$toolbar.find(".search button[name=clearSearch]").click((function(){t.resetSearch()}))}else"string"==typeof n.searchSelector&&B(hm.getSearchInput(this))}},{key:"onSearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.currentTarget,n=e.firedByInitSearchText,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0!==t&&o.default(t).length&&r){var a=o.default(t).val().trim();if(this.options.trimOnSearch&&o.default(t).val()!==a&&o.default(t).val(a),this.searchText===a)return;var s=hm.getSearchInput(this),l=t instanceof i?t:o.default(t);(l.is(s)||l.hasClass("search-input"))&&(this.searchText=a,this.options.searchText=a)}n||this.options.cookie||(this.options.pageNumber=1),this.initSearch(),n?"client"===this.options.sidePagination&&this.updatePagination():this.updatePagination(),this.trigger("search",this.searchText)}},{key:"initSearch",value:function(){var e=this;if(this.filterOptions=this.filterOptions||this.options.filterOptions,"server"!==this.options.sidePagination){if(this.options.customSearch)return this.data=hm.calculateObjectValue(this.options,this.options.customSearch,[this.options.data,this.searchText,this.filterColumns]),this.options.sortReset&&(this.unsortedData=u(this.data)),void this.initSort();var t=this.searchText&&(this.fromHtml?hm.escapeHTML(this.searchText):this.searchText),n=t?t.toLowerCase():"",i=hm.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.options.searchAccentNeutralise&&(n=hm.normalizeAccent(n)),"function"==typeof this.filterOptions.filterAlgorithm?this.data=this.options.data.filter((function(t){return e.filterOptions.filterAlgorithm.apply(null,[t,i])})):"string"==typeof this.filterOptions.filterAlgorithm&&(this.data=i?this.options.data.filter((function(t){var n=e.filterOptions.filterAlgorithm;if("and"===n){for(var o in i)if(Array.isArray(i[o])&&!i[o].includes(t[o])||!Array.isArray(i[o])&&t[o]!==i[o])return!1}else if("or"===n){var r=!1;for(var a in i)(Array.isArray(i[a])&&i[a].includes(t[a])||!Array.isArray(i[a])&&t[a]===i[a])&&(r=!0);return r}return!0})):u(this.options.data));var o=this.getVisibleFields();this.data=n?this.data.filter((function(i,r){for(var a=0;a<e.header.fields.length;a++)if(e.header.searchables[a]&&(!e.options.visibleSearch||-1!==o.indexOf(e.header.fields[a]))){var s=hm.isNumeric(e.header.fields[a])?parseInt(e.header.fields[a],10):e.header.fields[a],l=e.columns[e.fieldsColumnsIndex[s]],c=void 0;if("string"==typeof s){c=i;for(var u=s.split("."),d=0;d<u.length;d++){if(null===c[u[d]]){c=null;break}c=c[u[d]]}}else c=i[s];if(e.options.searchAccentNeutralise&&(c=hm.normalizeAccent(c)),l&&l.searchFormatter&&(c=hm.calculateObjectValue(l,e.header.formatters[a],[c,i,r,l.field],c)),"string"==typeof c||"number"==typeof c){if(e.options.strictSearch&&"".concat(c).toLowerCase()===n||e.options.regexSearch&&hm.regexCompare(c,t))return!0;var h=/(?:(<=|=>|=<|>=|>|<)(?:\s+)?(-?\d+)?|(-?\d+)?(\s+)?(<=|=>|=<|>=|>|<))/gm.exec(e.searchText),f=!1;if(h){var p=h[1]||"".concat(h[5],"l"),g=h[2]||h[3],m=parseInt(c,10),E=parseInt(g,10);switch(p){case">":case"<l":f=m>E;break;case"<":case">l":f=m<E;break;case"<=":case"=<":case">=l":case"=>l":f=m<=E;break;case">=":case"=>":case"<=l":case"=<l":f=m>=E}}if(f||"".concat(c).toLowerCase().includes(n))return!0}}return!1})):this.data,this.options.sortReset&&(this.unsortedData=u(this.data)),this.initSort()}}},{key:"initPagination",value:function(){var e=this,t=this.options;if(t.pagination){this.$pagination.show();var n,i,o,r,a,s,l,c=[],u=!1,d=this.getData({includeHiddenRows:!1}),h=t.pageList;if("string"==typeof h&&(h=h.replace(/\[|\]| /g,"").toLowerCase().split(",")),h=h.map((function(e){return"string"==typeof e?e.toLowerCase()===t.formatAllRows().toLowerCase()||["all","unlimited"].includes(e.toLowerCase())?t.formatAllRows():+e:e})),this.paginationParts=t.paginationParts,"string"==typeof this.paginationParts&&(this.paginationParts=this.paginationParts.replace(/\[|\]| |'/g,"").split(",")),"server"!==t.sidePagination&&(t.totalRows=d.length),this.totalPages=0,t.totalRows&&(t.pageSize===t.formatAllRows()&&(t.pageSize=t.totalRows,u=!0),this.totalPages=1+~~((t.totalRows-1)/t.pageSize),t.totalPages=this.totalPages),this.totalPages>0&&t.pageNumber>this.totalPages&&(t.pageNumber=this.totalPages),this.pageFrom=(t.pageNumber-1)*t.pageSize+1,this.pageTo=t.pageNumber*t.pageSize,this.pageTo>t.totalRows&&(this.pageTo=t.totalRows),this.options.pagination&&"server"!==this.options.sidePagination&&(this.options.totalNotFiltered=this.options.data.length),this.options.showExtendedPagination||(this.options.totalNotFiltered=void 0),(this.paginationParts.includes("pageInfo")||this.paginationParts.includes("pageInfoShort")||this.paginationParts.includes("pageSize"))&&c.push('<div class="'.concat(this.constants.classes.pull,"-").concat(t.paginationDetailHAlign,' pagination-detail">')),this.paginationParts.includes("pageInfo")||this.paginationParts.includes("pageInfoShort")){var f=this.paginationParts.includes("pageInfoShort")?t.formatDetailPagination(t.totalRows):t.formatShowingRows(this.pageFrom,this.pageTo,t.totalRows,t.totalNotFiltered);c.push('<span class="pagination-info">\n      '.concat(f,"\n      </span>"))}if(this.paginationParts.includes("pageSize")){c.push('<div class="page-list">');var p=['<div class="'.concat(this.constants.classes.paginationDropdown,'">\n        <button class="').concat(this.constants.buttonsClass,' dropdown-toggle" type="button" ').concat(this.constants.dataToggle,'="dropdown">\n        <span class="page-size">\n        ').concat(u?t.formatAllRows():t.pageSize,"\n        </span>\n        ").concat(this.constants.html.dropdownCaret,"\n        </button>\n        ").concat(this.constants.html.pageDropdown[0])];h.forEach((function(n,i){var o;(!t.smartDisplay||0===i||h[i-1]<t.totalRows||n===t.formatAllRows())&&(o=u?n===t.formatAllRows()?e.constants.classes.dropdownActive:"":n===t.pageSize?e.constants.classes.dropdownActive:"",p.push(hm.sprintf(e.constants.html.pageDropdownItem,o,n)))})),p.push("".concat(this.constants.html.pageDropdown[1],"</div>")),c.push(t.formatRecordsPerPage(p.join("")))}if((this.paginationParts.includes("pageInfo")||this.paginationParts.includes("pageInfoShort")||this.paginationParts.includes("pageSize"))&&c.push("</div></div>"),this.paginationParts.includes("pageList")){c.push('<div class="'.concat(this.constants.classes.pull,"-").concat(t.paginationHAlign,' pagination">'),hm.sprintf(this.constants.html.pagination[0],hm.sprintf(" pagination-%s",t.iconSize)),hm.sprintf(this.constants.html.paginationItem," page-pre",t.formatSRPaginationPreText(),t.paginationPreText)),this.totalPages<t.paginationSuccessivelySize?(i=1,o=this.totalPages):o=(i=t.pageNumber-t.paginationPagesBySide)+2*t.paginationPagesBySide,t.pageNumber<t.paginationSuccessivelySize-1&&(o=t.paginationSuccessivelySize),t.paginationSuccessivelySize>this.totalPages-i&&(i=i-(t.paginationSuccessivelySize-(this.totalPages-i))+1),i<1&&(i=1),o>this.totalPages&&(o=this.totalPages);var g=Math.round(t.paginationPagesBySide/2),m=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return hm.sprintf(e.constants.html.paginationItem,i+(n===t.pageNumber?" ".concat(e.constants.classes.paginationActive):""),t.formatSRPaginationPageText(n),n)};if(i>1){var E=t.paginationPagesBySide;for(E>=i&&(E=i-1),n=1;n<=E;n++)c.push(m(n));i-1===E+1?(n=i-1,c.push(m(n))):i-1>E&&(i-2*t.paginationPagesBySide>t.paginationPagesBySide&&t.paginationUseIntermediate?(n=Math.round((i-g)/2+g),c.push(m(n," page-intermediate"))):c.push(hm.sprintf(this.constants.html.paginationItem," page-first-separator disabled","","...")))}for(n=i;n<=o;n++)c.push(m(n));if(this.totalPages>o){var v=this.totalPages-(t.paginationPagesBySide-1);for(o>=v&&(v=o+1),o+1===v-1?(n=o+1,c.push(m(n))):v>o+1&&(this.totalPages-o>2*t.paginationPagesBySide&&t.paginationUseIntermediate?(n=Math.round((this.totalPages-g-o)/2+o),c.push(m(n," page-intermediate"))):c.push(hm.sprintf(this.constants.html.paginationItem," page-last-separator disabled","","..."))),n=v;n<=this.totalPages;n++)c.push(m(n))}c.push(hm.sprintf(this.constants.html.paginationItem," page-next",t.formatSRPaginationNextText(),t.paginationNextText)),c.push(this.constants.html.pagination[1],"</div>")}this.$pagination.html(c.join(""));var T=["bottom","both"].includes(t.paginationVAlign)?" ".concat(this.constants.classes.dropup):"";this.$pagination.last().find(".page-list > div").addClass(T),t.onlyInfoPagination||(r=this.$pagination.find(".page-list a"),a=this.$pagination.find(".page-pre"),s=this.$pagination.find(".page-next"),l=this.$pagination.find(".page-item").not(".page-next, .page-pre, .page-last-separator, .page-first-separator"),this.totalPages<=1&&this.$pagination.find("div.pagination").hide(),t.smartDisplay&&(h.length<2||t.totalRows<=h[0])&&this.$pagination.find("div.page-list").hide(),this.$pagination[this.getData().length?"show":"hide"](),t.paginationLoop||(1===t.pageNumber&&a.addClass("disabled"),t.pageNumber===this.totalPages&&s.addClass("disabled")),u&&(t.pageSize=t.formatAllRows()),r.off("click").on("click",(function(t){return e.onPageListChange(t)})),a.off("click").on("click",(function(t){return e.onPagePre(t)})),s.off("click").on("click",(function(t){return e.onPageNext(t)})),l.off("click").on("click",(function(t){return e.onPageNumber(t)})))}else this.$pagination.hide()}},{key:"updatePagination",value:function(e){e&&o.default(e.currentTarget).hasClass("disabled")||(this.options.maintainMetaData||this.resetRows(),this.initPagination(),this.trigger("page-change",this.options.pageNumber,this.options.pageSize),"server"===this.options.sidePagination?this.initServer():this.initBody())}},{key:"onPageListChange",value:function(e){e.preventDefault();var t=o.default(e.currentTarget);return t.parent().addClass(this.constants.classes.dropdownActive).siblings().removeClass(this.constants.classes.dropdownActive),this.options.pageSize=t.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+t.text(),this.$toolbar.find(".page-size").text(this.options.pageSize),this.updatePagination(e),!1}},{key:"onPagePre",value:function(e){if(!o.default(e.target).hasClass("disabled"))return e.preventDefault(),this.options.pageNumber-1==0?this.options.pageNumber=this.options.totalPages:this.options.pageNumber--,this.updatePagination(e),!1}},{key:"onPageNext",value:function(e){if(!o.default(e.target).hasClass("disabled"))return e.preventDefault(),this.options.pageNumber+1>this.options.totalPages?this.options.pageNumber=1:this.options.pageNumber++,this.updatePagination(e),!1}},{key:"onPageNumber",value:function(e){if(e.preventDefault(),this.options.pageNumber!==+o.default(e.currentTarget).text())return this.options.pageNumber=+o.default(e.currentTarget).text(),this.updatePagination(e),!1}},{key:"initRow",value:function(e,t,n,i){var o=this,a=[],s={},l=[],u="",d={},h=[];if(!(hm.findIndex(this.hiddenRows,e)>-1)){if((s=hm.calculateObjectValue(this.options,this.options.rowStyle,[e,t],s))&&s.css)for(var f=0,p=Object.entries(s.css);f<p.length;f++){var g=c(p[f],2),m=g[0],E=g[1];l.push("".concat(m,": ").concat(E))}if(d=hm.calculateObjectValue(this.options,this.options.rowAttributes,[e,t],d))for(var v=0,T=Object.entries(d);v<T.length;v++){var b=c(T[v],2),C=b[0],y=b[1];h.push("".concat(C,'="').concat(hm.escapeHTML(y),'"'))}if(e._data&&!hm.isEmptyObject(e._data))for(var O=0,I=Object.entries(e._data);O<I.length;O++){var D=c(I[O],2),R=D[0],_=D[1];if("index"===R)return;u+=" data-".concat(R,"='").concat("object"===r(_)?JSON.stringify(_):_,"'")}a.push("<tr",hm.sprintf(" %s",h.length?h.join(" "):void 0),hm.sprintf(' id="%s"',Array.isArray(e)?void 0:e._id),hm.sprintf(' class="%s"',s.classes||(Array.isArray(e)?void 0:e._class)),hm.sprintf(' style="%s"',Array.isArray(e)?void 0:e._style),' data-index="'.concat(t,'"'),hm.sprintf(' data-uniqueid="%s"',hm.getItemField(e,this.options.uniqueId,!1)),hm.sprintf(' data-has-detail-view="%s"',this.options.detailView&&hm.calculateObjectValue(null,this.options.detailFilter,[t,e])?"true":void 0),hm.sprintf("%s",u),">"),this.options.cardView&&a.push('<td colspan="'.concat(this.header.fields.length,'"><div class="card-views">'));var w="";return hm.hasDetailViewIcon(this.options)&&(w="<td>",hm.calculateObjectValue(null,this.options.detailFilter,[t,e])&&(w+='\n          <a class="detail-icon" href="#">\n          '.concat(hm.sprintf(this.constants.html.icon,this.options.iconsPrefix,this.options.icons.detailOpen),"\n          </a>\n        ")),w+="</td>"),w&&"right"!==this.options.detailViewAlign&&a.push(w),this.header.fields.forEach((function(n,i){var r=o.columns[i],s="",u=hm.getItemField(e,n,o.options.escape,r.escape),d="",h="",f={},p="",g=o.header.classes[i],m="",E="",v="",T="",b="",C="";if((!o.fromHtml&&!o.autoMergeCells||void 0!==u||r.checkbox||r.radio)&&r.visible&&(!o.options.cardView||r.cardVisible)){if(l.concat([o.header.styles[i]]).length&&(E+="".concat(l.concat([o.header.styles[i]]).join("; "))),e["_".concat(n,"_style")]&&(E+="".concat(e["_".concat(n,"_style")])),E&&(m=' style="'.concat(E,'"')),e["_".concat(n,"_id")]&&(p=hm.sprintf(' id="%s"',e["_".concat(n,"_id")])),e["_".concat(n,"_class")]&&(g=hm.sprintf(' class="%s"',e["_".concat(n,"_class")])),e["_".concat(n,"_rowspan")]&&(T=hm.sprintf(' rowspan="%s"',e["_".concat(n,"_rowspan")])),e["_".concat(n,"_colspan")]&&(b=hm.sprintf(' colspan="%s"',e["_".concat(n,"_colspan")])),e["_".concat(n,"_title")]&&(C=hm.sprintf(' title="%s"',e["_".concat(n,"_title")])),(f=hm.calculateObjectValue(o.header,o.header.cellStyles[i],[u,e,t,n],f)).classes&&(g=' class="'.concat(f.classes,'"')),f.css){for(var y=[],O=0,I=Object.entries(f.css);O<I.length;O++){var D=c(I[O],2),R=D[0],_=D[1];y.push("".concat(R,": ").concat(_))}m=' style="'.concat(y.concat(o.header.styles[i]).join("; "),'"')}if(d=hm.calculateObjectValue(r,o.header.formatters[i],[u,e,t,n],u),r.checkbox||r.radio||(d=null==d?o.options.undefinedText:d),r.searchable&&o.searchText&&o.options.searchHighlight&&!r.checkbox&&!r.radio){var w="",k=o.searchText.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(o.options.searchAccentNeutralise){var K=new RegExp("".concat(hm.normalizeAccent(k)),"gmi").exec(hm.normalizeAccent(d));K&&(k=d.substring(K.index,K.index+k.length))}var x=new RegExp("(".concat(k,")"),"gim"),S="<mark>$1</mark>";if(d&&/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i.test(d)){var N=(new DOMParser).parseFromString(d.toString(),"text/html").documentElement.textContent,A=N.replace(x,S);N=N.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),w=d.replace(new RegExp("(>\\s*)(".concat(N,")(\\s*)"),"gm"),"$1".concat(A,"$3"))}else w=d.toString().replace(x,S);d=hm.calculateObjectValue(r,r.searchHighlightFormatter,[d,o.searchText],w)}if(e["_".concat(n,"_data")]&&!hm.isEmptyObject(e["_".concat(n,"_data")]))for(var L=0,P=Object.entries(e["_".concat(n,"_data")]);L<P.length;L++){var F=c(P[L],2),$=F[0],B=F[1];if("index"===$)return;v+=" data-".concat($,'="').concat(B,'"')}if(r.checkbox||r.radio){h=r.checkbox?"checkbox":h,h=r.radio?"radio":h;var M=r.class||"",H=hm.isObject(d)&&d.hasOwnProperty("checked")?d.checked:(!0===d||u)&&!1!==d,j=!r.checkboxEnabled||d&&d.disabled;s=[o.options.cardView?'<div class="card-view '.concat(M,'">'):'<td class="bs-checkbox '.concat(M,'"').concat(g).concat(m,">"),'<label>\n            <input\n            data-index="'.concat(t,'"\n            name="').concat(o.options.selectItemName,'"\n            type="').concat(h,'"\n            ').concat(hm.sprintf('value="%s"',e[o.options.idField]),"\n            ").concat(hm.sprintf('checked="%s"',H?"checked":void 0),"\n            ").concat(hm.sprintf('disabled="%s"',j?"disabled":void 0)," />\n            <span></span>\n            </label>"),o.header.formatters[i]&&"string"==typeof d?d:"",o.options.cardView?"</div>":"</td>"].join(""),e[o.header.stateField]=!0===d||!!u||d&&d.checked}else if(o.options.cardView){var q=o.options.showHeader?'<span class="card-view-title '.concat(f.classes||"",'"').concat(m,">").concat(hm.getFieldTitle(o.columns,n),"</span>"):"";s='<div class="card-view">'.concat(q,'<span class="card-view-value ').concat(f.classes||"",'"').concat(m,">").concat(d,"</span></div>"),o.options.smartDisplay&&""===d&&(s='<div class="card-view"></div>')}else s="<td".concat(p).concat(g).concat(m).concat(v).concat(T).concat(b).concat(C,">").concat(d,"</td>");a.push(s)}})),w&&"right"===this.options.detailViewAlign&&a.push(w),this.options.cardView&&a.push("</div></td>"),a.push("</tr>"),a.join("")}}},{key:"initBody",value:function(e,t){var n=this,i=this.getData();this.trigger("pre-body",i),this.$body=this.$el.find(">tbody"),this.$body.length||(this.$body=o.default("<tbody></tbody>").appendTo(this.$el)),this.options.pagination&&"server"!==this.options.sidePagination||(this.pageFrom=1,this.pageTo=i.length);var r=[],a=o.default(document.createDocumentFragment()),s=!1,l=[];this.autoMergeCells=hm.checkAutoMergeCells(i.slice(this.pageFrom-1,this.pageTo));for(var c=this.pageFrom-1;c<this.pageTo;c++){var u=i[c],d=this.initRow(u,c,i,a);if(s=s||!!d,d&&"string"==typeof d){var h=this.options.uniqueId;if(h&&u.hasOwnProperty(h)){var f=u[h],p=this.$body.find(hm.sprintf('> tr[data-uniqueid="%s"][data-has-detail-view]',f)).next();p.is("tr.detail-view")&&(l.push(c),t&&f===t||(d+=p[0].outerHTML))}this.options.virtualScroll?r.push(d):a.append(d)}}s?this.options.virtualScroll?(this.virtualScroll&&this.virtualScroll.destroy(),this.virtualScroll=new Tm({rows:r,fixedScroll:e,scrollEl:this.$tableBody[0],contentEl:this.$body[0],itemHeight:this.options.virtualScrollItemHeight,callback:function(e,t){n.fitHeader(),n.initBodyEvent(),n.trigger("virtual-scroll",e,t)}})):this.$body.html(a):this.$body.html('<tr class="no-records-found">'.concat(hm.sprintf('<td colspan="%s">%s</td>',this.getVisibleFields().length+hm.getDetailViewIndexOffset(this.options),this.options.formatNoMatches()),"</tr>")),l.forEach((function(e){n.expandRow(e)})),e||this.scrollTo(0),this.initBodyEvent(),this.initFooter(),this.resetView(),this.updateSelected(),"server"!==this.options.sidePagination&&(this.options.totalRows=i.length),this.trigger("post-body",i)}},{key:"initBodyEvent",value:function(){var e=this;this.$body.find("> tr[data-index] > td").off("click dblclick").on("click dblclick",(function(t){var n=o.default(t.currentTarget);if(!(n.find(".detail-icon").length||n.index()-hm.getDetailViewIndexOffset(e.options)<0)){var i=n.parent(),r=o.default(t.target).parents(".card-views").children(),a=o.default(t.target).parents(".card-view"),s=i.data("index"),l=e.data[s],c=e.options.cardView?r.index(a):n[0].cellIndex,u=e.getVisibleFields()[c-hm.getDetailViewIndexOffset(e.options)],d=e.columns[e.fieldsColumnsIndex[u]],h=hm.getItemField(l,u,e.options.escape,d.escape);if(e.trigger("click"===t.type?"click-cell":"dbl-click-cell",u,h,l,n),e.trigger("click"===t.type?"click-row":"dbl-click-row",l,i,u),"click"===t.type&&e.options.clickToSelect&&d.clickToSelect&&!hm.calculateObjectValue(e.options,e.options.ignoreClickToSelectOn,[t.target])){var f=i.find(hm.sprintf('[name="%s"]',e.options.selectItemName));f.length&&f[0].click()}"click"===t.type&&e.options.detailViewByClick&&e.toggleDetailView(s,e.header.detailFormatters[e.fieldsColumnsIndex[u]])}})).off("mousedown").on("mousedown",(function(t){e.multipleSelectRowCtrlKey=t.ctrlKey||t.metaKey,e.multipleSelectRowShiftKey=t.shiftKey})),this.$body.find("> tr[data-index] > td > .detail-icon").off("click").on("click",(function(t){return t.preventDefault(),e.toggleDetailView(o.default(t.currentTarget).parent().parent().data("index")),!1})),this.$selectItem=this.$body.find(hm.sprintf('[name="%s"]',this.options.selectItemName)),this.$selectItem.off("click").on("click",(function(t){t.stopImmediatePropagation();var n=o.default(t.currentTarget);e._toggleCheck(n.prop("checked"),n.data("index"))})),this.header.events.forEach((function(t,n){var i=t;if(i){if("string"==typeof i&&(i=hm.calculateObjectValue(null,i)),!i)throw new Error("Unknown event in the scope: ".concat(t));var r=e.header.fields[n],a=e.getVisibleFields().indexOf(r);if(-1!==a){a+=hm.getDetailViewIndexOffset(e.options);var s=function(t){if(!i.hasOwnProperty(t))return"continue";var n=i[t];e.$body.find(">tr:not(.no-records-found)").each((function(i,s){var l=o.default(s),c=l.find(e.options.cardView?".card-views>.card-view":">td").eq(a),u=t.indexOf(" "),d=t.substring(0,u),h=t.substring(u+1);c.find(h).off(d).on(d,(function(t){var i=l.data("index"),o=e.data[i],a=o[r];n.apply(e,[t,a,o,i])}))}))};for(var l in i)s(l)}}}))}},{key:"initServer",value:function(e,t,n){var i=this,r={},a=this.header.fields.indexOf(this.options.sortName),s={searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder};if(this.header.sortNames[a]&&(s.sortName=this.header.sortNames[a]),this.options.pagination&&"server"===this.options.sidePagination&&(s.pageSize=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,s.pageNumber=this.options.pageNumber),n||this.options.url||this.options.ajax){if("limit"===this.options.queryParamsType&&(s={search:s.searchText,sort:s.sortName,order:s.sortOrder},this.options.pagination&&"server"===this.options.sidePagination&&(s.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1),s.limit=this.options.pageSize,0!==s.limit&&this.options.pageSize!==this.options.formatAllRows()||delete s.limit)),this.options.search&&"server"===this.options.sidePagination&&this.columns.filter((function(e){return!e.searchable})).length){s.searchable=[];var l,c=f(this.columns);try{for(c.s();!(l=c.n()).done;){var u=l.value;!u.checkbox&&u.searchable&&(this.options.visibleSearch&&u.visible||!this.options.visibleSearch)&&s.searchable.push(u.field)}}catch(e){c.e(e)}finally{c.f()}}if(hm.isEmptyObject(this.filterColumnsPartial)||(s.filter=JSON.stringify(this.filterColumnsPartial,null)),o.default.extend(s,t||{}),!1!==(r=hm.calculateObjectValue(this.options,this.options.queryParams,[s],r))){e||this.showLoading();var d=o.default.extend({},hm.calculateObjectValue(null,this.options.ajaxOptions),{type:this.options.method,url:n||this.options.url,data:"application/json"===this.options.contentType&&"post"===this.options.method?JSON.stringify(r):r,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(t,n,o){var r=hm.calculateObjectValue(i.options,i.options.responseHandler,[t,o],t);i.load(r),i.trigger("load-success",r,o&&o.status,o),e||i.hideLoading(),"server"===i.options.sidePagination&&i.options.pageNumber>1&&r[i.options.totalField]>0&&!r[i.options.dataField].length&&i.updatePagination()},error:function(t){if(t&&0===t.status&&i._xhrAbort)i._xhrAbort=!1;else{var n=[];"server"===i.options.sidePagination&&((n={})[i.options.totalField]=0,n[i.options.dataField]=[]),i.load(n),i.trigger("load-error",t&&t.status,t),e||i.hideLoading()}}});return this.options.ajax?hm.calculateObjectValue(this,this.options.ajax,[d],null):(this._xhr&&4!==this._xhr.readyState&&(this._xhrAbort=!0,this._xhr.abort()),this._xhr=o.default.ajax(d)),r}}}},{key:"initSearchText",value:function(){if(this.options.search&&(this.searchText="",""!==this.options.searchText)){var e=hm.getSearchInput(this);e.val(this.options.searchText),this.onSearch({currentTarget:e,firedByInitSearchText:!0})}}},{key:"getCaret",value:function(){var e=this;this.$header.find("th").each((function(t,n){o.default(n).find(".sortable").removeClass("desc asc").addClass(o.default(n).data("field")===e.options.sortName?e.options.sortOrder:"both")}))}},{key:"updateSelected",value:function(){var e=this.$selectItem.filter(":enabled").length&&this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",e),this.$selectItem.each((function(e,t){o.default(t).closest("tr")[o.default(t).prop("checked")?"addClass":"removeClass"]("selected")}))}},{key:"updateRows",value:function(){var e=this;this.$selectItem.each((function(t,n){e.data[o.default(n).data("index")][e.header.stateField]=o.default(n).prop("checked")}))}},{key:"resetRows",value:function(){var e,t=f(this.data);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.$selectAll.prop("checked",!1),this.$selectItem.prop("checked",!1),this.header.stateField&&(n[this.header.stateField]=!1)}}catch(e){t.e(e)}finally{t.f()}this.initHiddenRows()}},{key:"trigger",value:function(t){for(var n,i,r="".concat(t,".bs.table"),a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];(n=this.options)[e.EVENTS[r]].apply(n,[].concat(s,[this])),this.$el.trigger(o.default.Event(r,{sender:this}),s),(i=this.options).onAll.apply(i,[r].concat([].concat(s,[this]))),this.$el.trigger(o.default.Event("all.bs.table",{sender:this}),[r,s])}},{key:"resetHeader",value:function(){var e=this;clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout((function(){return e.fitHeader()}),this.$el.is(":hidden")?100:0)}},{key:"fitHeader",value:function(){var e=this;if(this.$el.is(":hidden"))this.timeoutId_=setTimeout((function(){return e.fitHeader()}),100);else{var t=this.$tableBody.get(0),n=this.hasScrollBar&&t.scrollHeight>t.clientHeight+this.$header.outerHeight()?hm.getScrollBarWidth():0;this.$el.css("margin-top",-this.$header.outerHeight());var i=o.default(":focus");if(i.length>0){var r=i.parents("th");if(r.length>0){var a=r.attr("data-field");if(void 0!==a){var s=this.$header.find("[data-field='".concat(a,"']"));s.length>0&&s.find(":input").addClass("focus-temp")}}}this.$header_=this.$header.clone(!0,!0),this.$selectAll_=this.$header_.find('[name="btSelectAll"]'),this.$tableHeader.css("margin-right",n).find("table").css("width",this.$el.outerWidth()).html("").attr("class",this.$el.attr("class")).append(this.$header_),this.$tableLoading.css("width",this.$el.outerWidth());var l=o.default(".focus-temp:visible:eq(0)");l.length>0&&(l.focus(),this.$header.find(".focus-temp").removeClass("focus-temp")),this.$header.find("th[data-field]").each((function(t,n){e.$header_.find(hm.sprintf('th[data-field="%s"]',o.default(n).data("field"))).data(o.default(n).data())}));for(var c=this.getVisibleFields(),u=this.$header_.find("th"),d=this.$body.find(">tr:not(.no-records-found,.virtual-scroll-top)").eq(0);d.length&&d.find('>td[colspan]:not([colspan="1"])').length;)d=d.next();var h=d.find("> *").length;d.find("> *").each((function(t,n){var i=o.default(n);if(hm.hasDetailViewIcon(e.options)&&(0===t&&"right"!==e.options.detailViewAlign||t===h-1&&"right"===e.options.detailViewAlign)){var r=u.filter(".detail"),a=r.innerWidth()-r.find(".fht-cell").width();r.find(".fht-cell").width(i.innerWidth()-a)}else{var s=t-hm.getDetailViewIndexOffset(e.options),l=e.$header_.find(hm.sprintf('th[data-field="%s"]',c[s]));l.length>1&&(l=o.default(u[i[0].cellIndex]));var d=l.innerWidth()-l.find(".fht-cell").width();l.find(".fht-cell").width(i.innerWidth()-d)}})),this.horizontalScroll(),this.trigger("post-header")}}},{key:"initFooter",value:function(){if(this.options.showFooter&&!this.options.cardView){var e=this.getData(),t=[],n="";hm.hasDetailViewIcon(this.options)&&(n='<th class="detail"><div class="th-inner"></div><div class="fht-cell"></div></th>'),n&&"right"!==this.options.detailViewAlign&&t.push(n);var i,o=f(this.columns);try{for(o.s();!(i=o.n()).done;){var r,a,s=i.value,l=[],u={},d=hm.sprintf(' class="%s"',s.class);if(!(!s.visible||this.footerData&&this.footerData.length>0&&!(s.field in this.footerData[0]))){if(this.options.cardView&&!s.cardVisible)return;if(r=hm.sprintf("text-align: %s; ",s.falign?s.falign:s.align),a=hm.sprintf("vertical-align: %s; ",s.valign),(u=hm.calculateObjectValue(null,this.options.footerStyle,[s]))&&u.css)for(var h=0,p=Object.entries(u.css);h<p.length;h++){var g=c(p[h],2),m=g[0],E=g[1];l.push("".concat(m,": ").concat(E))}u&&u.classes&&(d=hm.sprintf(' class="%s"',s.class?[s.class,u.classes].join(" "):u.classes)),t.push("<th",d,hm.sprintf(' style="%s"',r+a+l.concat().join("; ")));var v=0;this.footerData&&this.footerData.length>0&&(v=this.footerData[0]["_".concat(s.field,"_colspan")]||0),v&&t.push(' colspan="'.concat(v,'" ')),t.push(">"),t.push('<div class="th-inner">');var T="";this.footerData&&this.footerData.length>0&&(T=this.footerData[0][s.field]||""),t.push(hm.calculateObjectValue(s,s.footerFormatter,[e,T],T)),t.push("</div>"),t.push('<div class="fht-cell"></div>'),t.push("</div>"),t.push("</th>")}}}catch(e){o.e(e)}finally{o.f()}n&&"right"===this.options.detailViewAlign&&t.push(n),this.options.height||this.$tableFooter.length||(this.$el.append("<tfoot><tr></tr></tfoot>"),this.$tableFooter=this.$el.find("tfoot")),this.$tableFooter.find("tr").length||this.$tableFooter.html("<table><thead><tr></tr></thead></table>"),this.$tableFooter.find("tr").html(t.join("")),this.trigger("post-footer",this.$tableFooter)}}},{key:"fitFooter",value:function(){var e=this;if(this.$el.is(":hidden"))setTimeout((function(){return e.fitFooter()}),100);else{var t=this.$tableBody.get(0),n=this.hasScrollBar&&t.scrollHeight>t.clientHeight+this.$header.outerHeight()?hm.getScrollBarWidth():0;this.$tableFooter.css("margin-right",n).find("table").css("width",this.$el.outerWidth()).attr("class",this.$el.attr("class"));var i=this.$tableFooter.find("th"),r=this.$body.find(">tr:first-child:not(.no-records-found)");for(i.find(".fht-cell").width("auto");r.length&&r.find('>td[colspan]:not([colspan="1"])').length;)r=r.next();var a=r.find("> *").length;r.find("> *").each((function(t,n){var r=o.default(n);if(hm.hasDetailViewIcon(e.options)&&(0===t&&"left"===e.options.detailViewAlign||t===a-1&&"right"===e.options.detailViewAlign)){var s=i.filter(".detail"),l=s.innerWidth()-s.find(".fht-cell").width();s.find(".fht-cell").width(r.innerWidth()-l)}else{var c=i.eq(t),u=c.innerWidth()-c.find(".fht-cell").width();c.find(".fht-cell").width(r.innerWidth()-u)}})),this.horizontalScroll()}}},{key:"horizontalScroll",value:function(){var e=this;this.$tableBody.off("scroll").on("scroll",(function(){var t=e.$tableBody.scrollLeft();e.options.showHeader&&e.options.height&&e.$tableHeader.scrollLeft(t),e.options.showFooter&&!e.options.cardView&&e.$tableFooter.scrollLeft(t),e.trigger("scroll-body",e.$tableBody)}))}},{key:"getVisibleFields",value:function(){var e,t=[],n=f(this.header.fields);try{for(n.s();!(e=n.n()).done;){var i=e.value,o=this.columns[this.fieldsColumnsIndex[i]];o&&o.visible&&(!this.options.cardView||o.cardVisible)&&t.push(i)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"initHiddenRows",value:function(){this.hiddenRows=[]}},{key:"getOptions",value:function(){var e=o.default.extend({},this.options);return delete e.data,o.default.extend(!0,{},e)}},{key:"refreshOptions",value:function(e){hm.compareObjects(this.options,e,!0)||(this.options=o.default.extend(this.options,e),this.trigger("refresh-options",this.options),this.destroy(),this.init())}},{key:"getData",value:function(e){var t=this,n=this.options.data;if(!(this.searchText||this.options.customSearch||void 0!==this.options.sortName||this.enableCustomSort)&&hm.isEmptyObject(this.filterColumns)&&"function"!=typeof this.options.filterOptions.filterAlgorithm&&hm.isEmptyObject(this.filterColumnsPartial)||e&&e.unfiltered||(n=this.data),e&&e.useCurrentPage&&(n=n.slice(this.pageFrom-1,this.pageTo)),e&&!e.includeHiddenRows){var i=this.getHiddenRows();n=n.filter((function(e){return-1===hm.findIndex(i,e)}))}return e&&e.formatted&&n.forEach((function(e){for(var n=0,i=Object.entries(e);n<i.length;n++){var o=c(i[n],2),r=o[0],a=o[1],s=t.columns[t.fieldsColumnsIndex[r]];if(!s)return;e[r]=hm.calculateObjectValue(s,t.header.formatters[s.fieldIndex],[a,e,e.index,s.field],a)}})),n}},{key:"getSelections",value:function(){var e=this;return(this.options.maintainMetaData?this.options.data:this.data).filter((function(t){return!0===t[e.header.stateField]}))}},{key:"load",value:function(e){var t,n=e;this.options.pagination&&"server"===this.options.sidePagination&&(this.options.totalRows=n[this.options.totalField],this.options.totalNotFiltered=n[this.options.totalNotFilteredField],this.footerData=n[this.options.footerField]?[n[this.options.footerField]]:void 0),t=n.fixedScroll,n=Array.isArray(n)?n:n[this.options.dataField],this.initData(n),this.initSearch(),this.initPagination(),this.initBody(t)}},{key:"append",value:function(e){this.initData(e,"append"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:"prepend",value:function(e){this.initData(e,"prepend"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:"remove",value:function(e){for(var t=0,n=this.options.data.length-1;n>=0;n--){var i=this.options.data[n],o=hm.getItemField(i,e.field,this.options.escape,i.escape);void 0===o&&"$index"!==e.field||(!i.hasOwnProperty(e.field)&&"$index"===e.field&&e.values.includes(n)||e.values.includes(o))&&(t++,this.options.data.splice(n,1))}t&&("server"===this.options.sidePagination&&(this.options.totalRows-=t,this.data=u(this.options.data)),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}},{key:"removeAll",value:function(){this.options.data.length>0&&(this.options.data.splice(0,this.options.data.length),this.initSearch(),this.initPagination(),this.initBody(!0))}},{key:"insertRow",value:function(e){e.hasOwnProperty("index")&&e.hasOwnProperty("row")&&(this.options.data.splice(e.index,0,e.row),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}},{key:"updateRow",value:function(e){var t,n=f(Array.isArray(e)?e:[e]);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.hasOwnProperty("index")&&i.hasOwnProperty("row")&&(i.hasOwnProperty("replace")&&i.replace?this.options.data[i.index]=i.row:o.default.extend(this.options.data[i.index],i.row))}}catch(e){n.e(e)}finally{n.f()}this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:"getRowByUniqueId",value:function(e){var t,n,i=this.options.uniqueId,o=e,r=null;for(t=this.options.data.length-1;t>=0;t--){n=this.options.data[t];var a=hm.getItemField(n,i,this.options.escape,n.escape);if(void 0!==a&&("string"==typeof a?o=o.toString():"number"==typeof a&&(Number(a)===a&&a%1==0?o=parseInt(o,10):a===Number(a)&&0!==a&&(o=parseFloat(o))),a===o)){r=n;break}}return r}},{key:"updateByUniqueId",value:function(e){var t,n=null,i=f(Array.isArray(e)?e:[e]);try{for(i.s();!(t=i.n()).done;){var r=t.value;if(r.hasOwnProperty("id")&&r.hasOwnProperty("row")){var a=this.options.data.indexOf(this.getRowByUniqueId(r.id));-1!==a&&(r.hasOwnProperty("replace")&&r.replace?this.options.data[a]=r.row:o.default.extend(this.options.data[a],r.row),n=r.id)}}}catch(e){i.e(e)}finally{i.f()}this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0,n)}},{key:"removeByUniqueId",value:function(e){var t=this.options.data.length,n=this.getRowByUniqueId(e);n&&this.options.data.splice(this.options.data.indexOf(n),1),t!==this.options.data.length&&("server"===this.options.sidePagination&&(this.options.totalRows-=1,this.data=u(this.options.data)),this.initSearch(),this.initPagination(),this.initBody(!0))}},{key:"_updateCellOnly",value:function(e,t){var n=this.initRow(this.options.data[t],t),i=this.getVisibleFields().indexOf(e);-1!==i&&(i+=hm.getDetailViewIndexOffset(this.options),this.$body.find(">tr[data-index=".concat(t,"]")).find(">td:eq(".concat(i,")")).replaceWith(o.default(n).find(">td:eq(".concat(i,")"))),this.initBodyEvent(),this.initFooter(),this.resetView(),this.updateSelected())}},{key:"updateCell",value:function(e){e.hasOwnProperty("index")&&e.hasOwnProperty("field")&&e.hasOwnProperty("value")&&(this.options.data[e.index][e.field]=e.value,!1!==e.reinit?(this.initSort(),this.initBody(!0)):this._updateCellOnly(e.field,e.index))}},{key:"updateCellByUniqueId",value:function(e){var t=this;(Array.isArray(e)?e:[e]).forEach((function(e){var n=e.id,i=e.field,o=e.value,r=t.options.data.indexOf(t.getRowByUniqueId(n));-1!==r&&(t.options.data[r][i]=o)})),!1!==e.reinit?(this.initSort(),this.initBody(!0)):this._updateCellOnly(e.field,this.options.data.indexOf(this.getRowByUniqueId(e.id)))}},{key:"showRow",value:function(e){this._toggleRow(e,!0)}},{key:"hideRow",value:function(e){this._toggleRow(e,!1)}},{key:"_toggleRow",value:function(e,t){var n;if(e.hasOwnProperty("index")?n=this.getData()[e.index]:e.hasOwnProperty("uniqueId")&&(n=this.getRowByUniqueId(e.uniqueId)),n){var i=hm.findIndex(this.hiddenRows,n);t||-1!==i?t&&i>-1&&this.hiddenRows.splice(i,1):this.hiddenRows.push(n),this.initBody(!0),this.initPagination()}}},{key:"getHiddenRows",value:function(e){if(e)return this.initHiddenRows(),this.initBody(!0),void this.initPagination();var t,n=[],i=f(this.getData());try{for(i.s();!(t=i.n()).done;){var o=t.value;this.hiddenRows.includes(o)&&n.push(o)}}catch(e){i.e(e)}finally{i.f()}return this.hiddenRows=n,n}},{key:"showColumn",value:function(e){var t=this;(Array.isArray(e)?e:[e]).forEach((function(e){t._toggleColumn(t.fieldsColumnsIndex[e],!0,!0)}))}},{key:"hideColumn",value:function(e){var t=this;(Array.isArray(e)?e:[e]).forEach((function(e){t._toggleColumn(t.fieldsColumnsIndex[e],!1,!0)}))}},{key:"_toggleColumn",value:function(e,t,n){if(-1!==e&&this.columns[e].visible!==t&&(this.columns[e].visible=t,this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns)){var i=this.$toolbar.find('.keep-open input:not(".toggle-all")').prop("disabled",!1);n&&i.filter(hm.sprintf('[value="%s"]',e)).prop("checked",t),i.filter(":checked").length<=this.options.minimumCountColumns&&i.filter(":checked").prop("disabled",!0)}}},{key:"getVisibleColumns",value:function(){var e=this;return this.columns.filter((function(t){return t.visible&&!e.isSelectionColumn(t)}))}},{key:"getHiddenColumns",value:function(){return this.columns.filter((function(e){return!e.visible}))}},{key:"isSelectionColumn",value:function(e){return e.radio||e.checkbox}},{key:"showAllColumns",value:function(){this._toggleAllColumns(!0)}},{key:"hideAllColumns",value:function(){this._toggleAllColumns(!1)}},{key:"_toggleAllColumns",value:function(e){var t,n=this,i=f(this.columns.slice().reverse());try{for(i.s();!(t=i.n()).done;){var r=t.value;if(r.switchable){if(!e&&this.options.showColumns&&this.getVisibleColumns().filter((function(e){return e.switchable})).length===this.options.minimumCountColumns)continue;r.visible=e}}}catch(e){i.e(e)}finally{i.f()}if(this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns){var a=this.$toolbar.find('.keep-open input[type="checkbox"]:not(".toggle-all")').prop("disabled",!1);e?a.prop("checked",e):a.get().reverse().forEach((function(t){a.filter(":checked").length>n.options.minimumCountColumns&&o.default(t).prop("checked",e)})),a.filter(":checked").length<=this.options.minimumCountColumns&&a.filter(":checked").prop("disabled",!0)}}},{key:"mergeCells",value:function(e){var t,n,i=e.index,o=this.getVisibleFields().indexOf(e.field),r=e.rowspan||1,a=e.colspan||1,s=this.$body.find(">tr[data-index]");o+=hm.getDetailViewIndexOffset(this.options);var l=s.eq(i).find(">td").eq(o);if(!(i<0||o<0||i>=this.data.length)){for(t=i;t<i+r;t++)for(n=o;n<o+a;n++)s.eq(t).find(">td").eq(n).hide();l.attr("rowspan",r).attr("colspan",a).show()}}},{key:"checkAll",value:function(){this._toggleCheckAll(!0)}},{key:"uncheckAll",value:function(){this._toggleCheckAll(!1)}},{key:"_toggleCheckAll",value:function(e){var t=this.getSelections();this.$selectAll.add(this.$selectAll_).prop("checked",e),this.$selectItem.filter(":enabled").prop("checked",e),this.updateRows(),this.updateSelected();var n=this.getSelections();e?this.trigger("check-all",n,t):this.trigger("uncheck-all",n,t)}},{key:"checkInvert",value:function(){var e=this.$selectItem.filter(":enabled"),t=e.filter(":checked");e.each((function(e,t){o.default(t).prop("checked",!o.default(t).prop("checked"))})),this.updateRows(),this.updateSelected(),this.trigger("uncheck-some",t),t=this.getSelections(),this.trigger("check-some",t)}},{key:"check",value:function(e){this._toggleCheck(!0,e)}},{key:"uncheck",value:function(e){this._toggleCheck(!1,e)}},{key:"_toggleCheck",value:function(e,t){var n=this.$selectItem.filter('[data-index="'.concat(t,'"]')),i=this.data[t];if(n.is(":radio")||this.options.singleSelect||this.options.multipleSelectRow&&!this.multipleSelectRowCtrlKey&&!this.multipleSelectRowShiftKey){var o,r=f(this.options.data);try{for(r.s();!(o=r.n()).done;)o.value[this.header.stateField]=!1}catch(e){r.e(e)}finally{r.f()}this.$selectItem.filter(":checked").not(n).prop("checked",!1)}if(i[this.header.stateField]=e,this.options.multipleSelectRow){if(this.multipleSelectRowShiftKey&&this.multipleSelectRowLastSelectedIndex>=0)for(var a=c(this.multipleSelectRowLastSelectedIndex<t?[this.multipleSelectRowLastSelectedIndex,t]:[t,this.multipleSelectRowLastSelectedIndex],2),s=a[0],l=a[1],u=s+1;u<l;u++)this.data[u][this.header.stateField]=!0,this.$selectItem.filter('[data-index="'.concat(u,'"]')).prop("checked",!0);this.multipleSelectRowCtrlKey=!1,this.multipleSelectRowShiftKey=!1,this.multipleSelectRowLastSelectedIndex=e?t:-1}n.prop("checked",e),this.updateSelected(),this.trigger(e?"check":"uncheck",this.data[t],n)}},{key:"checkBy",value:function(e){this._toggleCheckBy(!0,e)}},{key:"uncheckBy",value:function(e){this._toggleCheckBy(!1,e)}},{key:"_toggleCheckBy",value:function(e,t){var n=this;if(t.hasOwnProperty("field")&&t.hasOwnProperty("values")){var i=[];this.data.forEach((function(o,r){if(!o.hasOwnProperty(t.field))return!1;if(t.values.includes(o[t.field])){var a=n.$selectItem.filter(":enabled").filter(hm.sprintf('[data-index="%s"]',r)),s=!!t.hasOwnProperty("onlyCurrentPage")&&t.onlyCurrentPage;if(!(a=e?a.not(":checked"):a.filter(":checked")).length&&s)return;a.prop("checked",e),o[n.header.stateField]=e,i.push(o),n.trigger(e?"check":"uncheck",o,a)}})),this.updateSelected(),this.trigger(e?"check-some":"uncheck-some",i)}}},{key:"refresh",value:function(e){e&&e.url&&(this.options.url=e.url),e&&e.pageNumber&&(this.options.pageNumber=e.pageNumber),e&&e.pageSize&&(this.options.pageSize=e.pageSize),this.trigger("refresh",this.initServer(e&&e.silent,e&&e.query,e&&e.url))}},{key:"destroy",value:function(){this.$el.insertBefore(this.$container),o.default(this.options.toolbar).insertBefore(this.$el),this.$container.next().remove(),this.$container.remove(),this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"");var e=hm.getEventName("resize.bootstrap-table",this.$el.attr("id"));o.default(window).off(e)}},{key:"resetView",value:function(e){var t=0;if(e&&e.height&&(this.options.height=e.height),this.$tableContainer.toggleClass("has-card-view",this.options.cardView),this.options.height){var n=this.$tableBody.get(0);this.hasScrollBar=n.scrollWidth>n.clientWidth}if(!this.options.cardView&&this.options.showHeader&&this.options.height?(this.$tableHeader.show(),this.resetHeader(),t+=this.$header.outerHeight(!0)+1):(this.$tableHeader.hide(),this.trigger("post-header")),!this.options.cardView&&this.options.showFooter&&(this.$tableFooter.show(),this.fitFooter(),this.options.height&&(t+=this.$tableFooter.outerHeight(!0))),this.$container.hasClass("fullscreen"))this.$tableContainer.css("height",""),this.$tableContainer.css("width","");else if(this.options.height){this.$tableBorder&&(this.$tableBorder.css("width",""),this.$tableBorder.css("height",""));var i=this.$toolbar.outerHeight(!0),o=this.$pagination.outerHeight(!0),r=this.options.height-i-o,a=this.$tableBody.find(">table"),s=a.outerHeight();if(this.$tableContainer.css("height","".concat(r,"px")),this.$tableBorder&&a.is(":visible")){var l=r-s-2;this.hasScrollBar&&(l-=hm.getScrollBarWidth()),this.$tableBorder.css("width","".concat(a.outerWidth(),"px")),this.$tableBorder.css("height","".concat(l,"px"))}}this.options.cardView?(this.$el.css("margin-top","0"),this.$tableContainer.css("padding-bottom","0"),this.$tableFooter.hide()):(this.getCaret(),this.$tableContainer.css("padding-bottom","".concat(t,"px"))),this.trigger("reset-view")}},{key:"showLoading",value:function(){this.$tableLoading.toggleClass("open",!0);var e=this.options.loadingFontSize;"auto"===this.options.loadingFontSize&&(e=.04*this.$tableLoading.width(),e=Math.max(12,e),e=Math.min(32,e),e="".concat(e,"px")),this.$tableLoading.find(".loading-text").css("font-size",e)}},{key:"hideLoading",value:function(){this.$tableLoading.toggleClass("open",!1)}},{key:"togglePagination",value:function(){this.options.pagination=!this.options.pagination;var e=this.options.showButtonIcons?this.options.pagination?this.options.icons.paginationSwitchDown:this.options.icons.paginationSwitchUp:"",t=this.options.showButtonText?this.options.pagination?this.options.formatPaginationSwitchUp():this.options.formatPaginationSwitchDown():"";this.$toolbar.find('button[name="paginationSwitch"]').html("".concat(hm.sprintf(this.constants.html.icon,this.options.iconsPrefix,e)," ").concat(t)),this.updatePagination(),this.trigger("toggle-pagination",this.options.pagination)}},{key:"toggleFullscreen",value:function(){this.$el.closest(".bootstrap-table").toggleClass("fullscreen"),this.resetView()}},{key:"toggleView",value:function(){this.options.cardView=!this.options.cardView,this.initHeader();var e=this.options.showButtonIcons?this.options.cardView?this.options.icons.toggleOn:this.options.icons.toggleOff:"",t=this.options.showButtonText?this.options.cardView?this.options.formatToggleOff():this.options.formatToggleOn():"";this.$toolbar.find('button[name="toggle"]').html("".concat(hm.sprintf(this.constants.html.icon,this.options.iconsPrefix,e)," ").concat(t)).attr("aria-label",t).attr("title",t),this.initBody(),this.trigger("toggle",this.options.cardView)}},{key:"resetSearch",value:function(e){var t=hm.getSearchInput(this),n=e||"";t.val(n),this.searchText=n,this.onSearch({currentTarget:t},!1)}},{key:"filterBy",value:function(e,t){this.filterOptions=hm.isEmptyObject(t)?this.options.filterOptions:o.default.extend(this.options.filterOptions,t),this.filterColumns=hm.isEmptyObject(e)?{}:e,this.options.pageNumber=1,this.initSearch(),this.updatePagination()}},{key:"scrollTo",value:function(e){var t={unit:"px",value:0};"object"===r(e)?t=Object.assign(t,e):"string"==typeof e&&"bottom"===e?t.value=this.$tableBody[0].scrollHeight:"string"!=typeof e&&"number"!=typeof e||(t.value=e);var n=t.value;"rows"===t.unit&&(n=0,this.$body.find("> tr:lt(".concat(t.value,")")).each((function(e,t){n+=o.default(t).outerHeight(!0)}))),this.$tableBody.scrollTop(n)}},{key:"getScrollPosition",value:function(){return this.$tableBody.scrollTop()}},{key:"selectPage",value:function(e){e>0&&e<=this.options.totalPages&&(this.options.pageNumber=e,this.updatePagination())}},{key:"prevPage",value:function(){this.options.pageNumber>1&&(this.options.pageNumber--,this.updatePagination())}},{key:"nextPage",value:function(){this.options.pageNumber<this.options.totalPages&&(this.options.pageNumber++,this.updatePagination())}},{key:"toggleDetailView",value:function(e,t){this.$body.find(hm.sprintf('> tr[data-index="%s"]',e)).next().is("tr.detail-view")?this.collapseRow(e):this.expandRow(e,t),this.resetView()}},{key:"expandRow",value:function(e,t){var n=this.data[e],i=this.$body.find(hm.sprintf('> tr[data-index="%s"][data-has-detail-view]',e));if(this.options.detailViewIcon&&i.find("a.detail-icon").html(hm.sprintf(this.constants.html.icon,this.options.iconsPrefix,this.options.icons.detailClose)),!i.next().is("tr.detail-view")){i.after(hm.sprintf('<tr class="detail-view"><td colspan="%s"></td></tr>',i.children("td").length));var o=i.next().find("td"),r=t||this.options.detailFormatter,a=hm.calculateObjectValue(this.options,r,[e,n,o],"");1===o.length&&o.append(a),this.trigger("expand-row",e,n,o)}}},{key:"expandRowByUniqueId",value:function(e){var t=this.getRowByUniqueId(e);t&&this.expandRow(this.data.indexOf(t))}},{key:"collapseRow",value:function(e){var t=this.data[e],n=this.$body.find(hm.sprintf('> tr[data-index="%s"][data-has-detail-view]',e));n.next().is("tr.detail-view")&&(this.options.detailViewIcon&&n.find("a.detail-icon").html(hm.sprintf(this.constants.html.icon,this.options.iconsPrefix,this.options.icons.detailOpen)),this.trigger("collapse-row",e,t,n.next()),n.next().remove())}},{key:"collapseRowByUniqueId",value:function(e){var t=this.getRowByUniqueId(e);t&&this.collapseRow(this.data.indexOf(t))}},{key:"expandAllRows",value:function(){for(var e=this.$body.find("> tr[data-index][data-has-detail-view]"),t=0;t<e.length;t++)this.expandRow(o.default(e[t]).data("index"))}},{key:"collapseAllRows",value:function(){for(var e=this.$body.find("> tr[data-index][data-has-detail-view]"),t=0;t<e.length;t++)this.collapseRow(o.default(e[t]).data("index"))}},{key:"updateColumnTitle",value:function(e){e.hasOwnProperty("field")&&e.hasOwnProperty("title")&&(this.columns[this.fieldsColumnsIndex[e.field]].title=this.options.escape?hm.escapeHTML(e.title):e.title,this.columns[this.fieldsColumnsIndex[e.field]].visible&&(this.$header.find("th[data-field]").each((function(t,n){if(o.default(n).data("field")===e.field)return o.default(o.default(n).find(".th-inner")[0]).text(e.title),!1})),this.resetView()))}},{key:"updateFormatText",value:function(e,t){/^format/.test(e)&&this.options[e]&&("string"==typeof t?this.options[e]=function(){return t}:"function"==typeof t&&(this.options[e]=t),this.initToolbar(),this.initPagination(),this.initBody())}}]),e}();return bm.VERSION=vm.VERSION,bm.DEFAULTS=vm.DEFAULTS,bm.LOCALES=vm.LOCALES,bm.COLUMN_DEFAULTS=vm.COLUMN_DEFAULTS,bm.METHODS=vm.METHODS,bm.EVENTS=vm.EVENTS,o.default.BootstrapTable=bm,o.default.fn.bootstrapTable=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var a;return this.each((function(t,i){var s=o.default(i).data("bootstrap.table"),l=o.default.extend(!0,{},bm.DEFAULTS,o.default(i).data(),"object"===r(e)&&e);if("string"==typeof e){var c;if(!vm.METHODS.includes(e))throw new Error("Unknown method: ".concat(e));if(!s)return;a=(c=s)[e].apply(c,n),"destroy"===e&&o.default(i).removeData("bootstrap.table")}s||(s=new o.default.BootstrapTable(i,l),o.default(i).data("bootstrap.table",s),s.init())})),void 0===a?this:a},o.default.fn.bootstrapTable.Constructor=bm,o.default.fn.bootstrapTable.theme=vm.THEME,o.default.fn.bootstrapTable.VERSION=vm.VERSION,o.default.fn.bootstrapTable.defaults=bm.DEFAULTS,o.default.fn.bootstrapTable.columnDefaults=bm.COLUMN_DEFAULTS,o.default.fn.bootstrapTable.events=bm.EVENTS,o.default.fn.bootstrapTable.locales=bm.LOCALES,o.default.fn.bootstrapTable.methods=bm.METHODS,o.default.fn.bootstrapTable.utils=hm,o.default((function(){o.default('[data-toggle="table"]').bootstrapTable()})),bm}(n(19755))},30956:function(e,t,n){!function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=t(e);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function p(e){var t=d();return function(){var n,i=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return f(this,n)}}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=g(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},m.apply(this,arguments)}function E(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function T(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=E(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw r}}}}var b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},C=function(e){return e&&e.Math==Math&&e},y=C("object"==typeof globalThis&&globalThis)||C("object"==typeof window&&window)||C("object"==typeof self&&self)||C("object"==typeof b&&b)||function(){return this}()||Function("return this")(),O={},I=function(e){try{return!!e()}catch(e){return!0}},D=!I((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),R=!I((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),_=R,w=Function.prototype.call,k=_?w.bind(w):function(){return w.apply(w,arguments)},K={},x={}.propertyIsEnumerable,S=Object.getOwnPropertyDescriptor,N=S&&!x.call({1:2},1);K.f=N?function(e){var t=S(this,e);return!!t&&t.enumerable}:x;var A,L,P=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},F=R,$=Function.prototype,B=$.call,M=F&&$.bind.bind(B,B),H=function(e){return F?M(e):function(){return B.apply(e,arguments)}},j=H,q=j({}.toString),U=j("".slice),z=function(e){return U(q(e),8,-1)},V=z,W=H,G=function(e){if("Function"===V(e))return W(e)},X=I,Y=z,Z=Object,J=G("".split),Q=X((function(){return!Z("z").propertyIsEnumerable(0)}))?function(e){return"String"==Y(e)?J(e,""):Z(e)}:Z,ee=function(e){return null==e},te=ee,ne=TypeError,ie=function(e){if(te(e))throw ne("Can't call method on "+e);return e},oe=Q,re=ie,ae=function(e){return oe(re(e))},se="object"==typeof document&&document.all,le=void 0===se&&void 0!==se,ce={all:se,IS_HTMLDDA:le},ue=ce,de=ue.all,he=ue.IS_HTMLDDA?function(e){return"function"==typeof e||e===de}:function(e){return"function"==typeof e},fe=he,pe=ce,ge=pe.all,me=pe.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:fe(e)||e===ge}:function(e){return"object"==typeof e?null!==e:fe(e)},Ee=y,ve=he,Te=function(e){return ve(e)?e:void 0},be=function(e,t){return arguments.length<2?Te(Ee[e]):Ee[e]&&Ee[e][t]},Ce=G({}.isPrototypeOf),ye=be("navigator","userAgent")||"",Oe=y,Ie=ye,De=Oe.process,Re=Oe.Deno,_e=De&&De.versions||Re&&Re.version,we=_e&&_e.v8;we&&(L=(A=we.split("."))[0]>0&&A[0]<4?1:+(A[0]+A[1])),!L&&Ie&&(!(A=Ie.match(/Edge\/(\d+)/))||A[1]>=74)&&(A=Ie.match(/Chrome\/(\d+)/))&&(L=+A[1]);var ke=L,Ke=ke,xe=I,Se=!!Object.getOwnPropertySymbols&&!xe((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Ke&&Ke<41})),Ne=Se&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ae=be,Le=he,Pe=Ce,Fe=Object,$e=Ne?function(e){return"symbol"==typeof e}:function(e){var t=Ae("Symbol");return Le(t)&&Pe(t.prototype,Fe(e))},Be=String,Me=he,He=function(e){try{return Be(e)}catch(e){return"Object"}},je=TypeError,qe=function(e){if(Me(e))return e;throw je(He(e)+" is not a function")},Ue=qe,ze=ee,Ve=function(e,t){var n=e[t];return ze(n)?void 0:Ue(n)},We=k,Ge=he,Xe=me,Ye=TypeError,Ze=function(e,t){var n,i;if("string"===t&&Ge(n=e.toString)&&!Xe(i=We(n,e)))return i;if(Ge(n=e.valueOf)&&!Xe(i=We(n,e)))return i;if("string"!==t&&Ge(n=e.toString)&&!Xe(i=We(n,e)))return i;throw Ye("Can't convert object to primitive value")},Je={exports:{}},Qe=y,et=Object.defineProperty,tt=function(e,t){try{et(Qe,e,{value:t,configurable:!0,writable:!0})}catch(n){Qe[e]=t}return t},nt=tt,it="__core-js_shared__",ot=y[it]||nt(it,{}),rt=ot;(Je.exports=function(e,t){return rt[e]||(rt[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.5",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"});var at=ie,st=Object,lt=function(e){return st(at(e))},ct=lt,ut=G({}.hasOwnProperty),dt=Object.hasOwn||function(e,t){return ut(ct(e),t)},ht=G,ft=0,pt=Math.random(),gt=ht(1..toString),mt=function(e){return"Symbol("+(void 0===e?"":e)+")_"+gt(++ft+pt,36)},Et=y,vt=Je.exports,Tt=dt,bt=mt,Ct=Se,yt=Ne,Ot=vt("wks"),It=Et.Symbol,Dt=It&&It.for,Rt=yt?It:It&&It.withoutSetter||bt,_t=function(e){if(!Tt(Ot,e)||!Ct&&"string"!=typeof Ot[e]){var t="Symbol."+e;Ct&&Tt(It,e)?Ot[e]=It[e]:Ot[e]=yt&&Dt?Dt(t):Rt(t)}return Ot[e]},wt=k,kt=me,Kt=$e,xt=Ve,St=Ze,Nt=TypeError,At=_t("toPrimitive"),Lt=function(e,t){if(!kt(e)||Kt(e))return e;var n,i=xt(e,At);if(i){if(void 0===t&&(t="default"),n=wt(i,e,t),!kt(n)||Kt(n))return n;throw Nt("Can't convert object to primitive value")}return void 0===t&&(t="number"),St(e,t)},Pt=$e,Ft=function(e){var t=Lt(e,"string");return Pt(t)?t:t+""},$t=me,Bt=y.document,Mt=$t(Bt)&&$t(Bt.createElement),Ht=function(e){return Mt?Bt.createElement(e):{}},jt=I,qt=Ht,Ut=!D&&!jt((function(){return 7!=Object.defineProperty(qt("div"),"a",{get:function(){return 7}}).a})),zt=D,Vt=k,Wt=K,Gt=P,Xt=ae,Yt=Ft,Zt=dt,Jt=Ut,Qt=Object.getOwnPropertyDescriptor;O.f=zt?Qt:function(e,t){if(e=Xt(e),t=Yt(t),Jt)try{return Qt(e,t)}catch(e){}if(Zt(e,t))return Gt(!Vt(Wt.f,e,t),e[t])};var en={},tn=I,nn=D&&tn((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),on=me,rn=String,an=TypeError,sn=function(e){if(on(e))return e;throw an(rn(e)+" is not an object")},ln=D,cn=Ut,un=nn,dn=sn,hn=Ft,fn=TypeError,pn=Object.defineProperty,gn=Object.getOwnPropertyDescriptor,mn="enumerable",En="configurable",vn="writable";en.f=ln?un?function(e,t,n){if(dn(e),t=hn(t),dn(n),"function"==typeof e&&"prototype"===t&&"value"in n&&vn in n&&!n[vn]){var i=gn(e,t);i&&i[vn]&&(e[t]=n.value,n={configurable:En in n?n[En]:i[En],enumerable:mn in n?n[mn]:i[mn],writable:!1})}return pn(e,t,n)}:pn:function(e,t,n){if(dn(e),t=hn(t),dn(n),cn)try{return pn(e,t,n)}catch(e){}if("get"in n||"set"in n)throw fn("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var Tn=en,bn=P,Cn=D?function(e,t,n){return Tn.f(e,t,bn(1,n))}:function(e,t,n){return e[t]=n,e},yn={exports:{}},On=D,In=dt,Dn=Function.prototype,Rn=On&&Object.getOwnPropertyDescriptor,_n=In(Dn,"name"),wn=_n&&"something"===function(){}.name,kn=_n&&(!On||On&&Rn(Dn,"name").configurable),Kn={EXISTS:_n,PROPER:wn,CONFIGURABLE:kn},xn=he,Sn=ot,Nn=G(Function.toString);xn(Sn.inspectSource)||(Sn.inspectSource=function(e){return Nn(e)});var An,Ln,Pn,Fn=Sn.inspectSource,$n=he,Bn=y.WeakMap,Mn=$n(Bn)&&/native code/.test(String(Bn)),Hn=Je.exports,jn=mt,qn=Hn("keys"),Un=function(e){return qn[e]||(qn[e]=jn(e))},zn={},Vn=Mn,Wn=y,Gn=me,Xn=Cn,Yn=dt,Zn=ot,Jn=Un,Qn=zn,ei="Object already initialized",ti=Wn.TypeError,ni=Wn.WeakMap,ii=function(e){return Pn(e)?Ln(e):An(e,{})},oi=function(e){return function(t){var n;if(!Gn(t)||(n=Ln(t)).type!==e)throw ti("Incompatible receiver, "+e+" required");return n}};if(Vn||Zn.state){var ri=Zn.state||(Zn.state=new ni);ri.get=ri.get,ri.has=ri.has,ri.set=ri.set,An=function(e,t){if(ri.has(e))throw ti(ei);return t.facade=e,ri.set(e,t),t},Ln=function(e){return ri.get(e)||{}},Pn=function(e){return ri.has(e)}}else{var ai=Jn("state");Qn[ai]=!0,An=function(e,t){if(Yn(e,ai))throw ti(ei);return t.facade=e,Xn(e,ai,t),t},Ln=function(e){return Yn(e,ai)?e[ai]:{}},Pn=function(e){return Yn(e,ai)}}var si={set:An,get:Ln,has:Pn,enforce:ii,getterFor:oi},li=I,ci=he,ui=dt,di=D,hi=Kn.CONFIGURABLE,fi=Fn,pi=si,gi=pi.enforce,mi=pi.get,Ei=Object.defineProperty,vi=di&&!li((function(){return 8!==Ei((function(){}),"length",{value:8}).length})),Ti=String(String).split("String"),bi=yn.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!ui(e,"name")||hi&&e.name!==t)&&(di?Ei(e,"name",{value:t,configurable:!0}):e.name=t),vi&&n&&ui(n,"arity")&&e.length!==n.arity&&Ei(e,"length",{value:n.arity});try{n&&ui(n,"constructor")&&n.constructor?di&&Ei(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var i=gi(e);return ui(i,"source")||(i.source=Ti.join("string"==typeof t?t:"")),e};Function.prototype.toString=bi((function(){return ci(this)&&mi(this).source||fi(this)}),"toString");var Ci=he,yi=en,Oi=yn.exports,Ii=tt,Di=function(e,t,n,i){i||(i={});var o=i.enumerable,r=void 0!==i.name?i.name:t;if(Ci(n)&&Oi(n,r,i),i.global)o?e[t]=n:Ii(t,n);else{try{i.unsafe?e[t]&&(o=!0):delete e[t]}catch(e){}o?e[t]=n:yi.f(e,t,{value:n,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}return e},Ri={},_i=Math.ceil,wi=Math.floor,ki=Math.trunc||function(e){var t=+e;return(t>0?wi:_i)(t)},Ki=function(e){var t=+e;return t!=t||0===t?0:ki(t)},xi=Ki,Si=Math.max,Ni=Math.min,Ai=function(e,t){var n=xi(e);return n<0?Si(n+t,0):Ni(n,t)},Li=Ki,Pi=Math.min,Fi=function(e){return e>0?Pi(Li(e),9007199254740991):0},$i=Fi,Bi=function(e){return $i(e.length)},Mi=ae,Hi=Ai,ji=Bi,qi=function(e){return function(t,n,i){var o,r=Mi(t),a=ji(r),s=Hi(i,a);if(e&&n!=n){for(;a>s;)if((o=r[s++])!=o)return!0}else for(;a>s;s++)if((e||s in r)&&r[s]===n)return e||s||0;return!e&&-1}},Ui={includes:qi(!0),indexOf:qi(!1)},zi=G,Vi=dt,Wi=ae,Gi=Ui.indexOf,Xi=zn,Yi=zi([].push),Zi=function(e,t){var n,i=Wi(e),o=0,r=[];for(n in i)!Vi(Xi,n)&&Vi(i,n)&&Yi(r,n);for(;t.length>o;)Vi(i,n=t[o++])&&(~Gi(r,n)||Yi(r,n));return r},Ji=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Qi=Zi,eo=Ji.concat("length","prototype");Ri.f=Object.getOwnPropertyNames||function(e){return Qi(e,eo)};var to={};to.f=Object.getOwnPropertySymbols;var no=be,io=Ri,oo=to,ro=sn,ao=G([].concat),so=no("Reflect","ownKeys")||function(e){var t=io.f(ro(e)),n=oo.f;return n?ao(t,n(e)):t},lo=dt,co=so,uo=O,ho=en,fo=function(e,t,n){for(var i=co(t),o=ho.f,r=uo.f,a=0;a<i.length;a++){var s=i[a];lo(e,s)||n&&lo(n,s)||o(e,s,r(t,s))}},po=I,go=he,mo=/#|\.prototype\./,Eo=function(e,t){var n=To[vo(e)];return n==Co||n!=bo&&(go(t)?po(t):!!t)},vo=Eo.normalize=function(e){return String(e).replace(mo,".").toLowerCase()},To=Eo.data={},bo=Eo.NATIVE="N",Co=Eo.POLYFILL="P",yo=Eo,Oo=y,Io=O.f,Do=Cn,Ro=Di,_o=tt,wo=fo,ko=yo,Ko=function(e,t){var n,i,o,r,a,s=e.target,l=e.global,c=e.stat;if(n=l?Oo:c?Oo[s]||_o(s,{}):(Oo[s]||{}).prototype)for(i in t){if(r=t[i],o=e.dontCallGetSet?(a=Io(n,i))&&a.value:n[i],!ko(l?i:s+(c?".":"#")+i,e.forced)&&void 0!==o){if(typeof r==typeof o)continue;wo(r,o)}(e.sham||o&&o.sham)&&Do(r,"sham",!0),Ro(n,i,r,e)}},xo=_t("toStringTag"),So={};So[xo]="z";var No="[object z]"===String(So),Ao=No,Lo=he,Po=z,Fo=_t("toStringTag"),$o=Object,Bo="Arguments"==Po(function(){return arguments}()),Mo=function(e,t){try{return e[t]}catch(e){}},Ho=Ao?Po:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=Mo(t=$o(e),Fo))?n:Bo?Po(t):"Object"==(i=Po(t))&&Lo(t.callee)?"Arguments":i},jo=Ho,qo=String,Uo=function(e){if("Symbol"===jo(e))throw TypeError("Cannot convert a Symbol value to a string");return qo(e)},zo=sn,Vo=function(){var e=zo(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},Wo=I,Go=y.RegExp,Xo=Wo((function(){var e=Go("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),Yo=Xo||Wo((function(){return!Go("a","y").sticky})),Zo={BROKEN_CARET:Xo||Wo((function(){var e=Go("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),MISSED_STICKY:Yo,UNSUPPORTED_Y:Xo},Jo={},Qo=Zi,er=Ji,tr=Object.keys||function(e){return Qo(e,er)},nr=D,ir=nn,or=en,rr=sn,ar=ae,sr=tr;Jo.f=nr&&!ir?Object.defineProperties:function(e,t){rr(e);for(var n,i=ar(t),o=sr(t),r=o.length,a=0;r>a;)or.f(e,n=o[a++],i[n]);return e};var lr,cr=be("document","documentElement"),ur=sn,dr=Jo,hr=Ji,fr=zn,pr=cr,gr=Ht,mr=">",Er="<",vr="prototype",Tr="script",br=Un("IE_PROTO"),Cr=function(){},yr=function(e){return Er+Tr+mr+e+Er+"/"+Tr+mr},Or=function(e){e.write(yr("")),e.close();var t=e.parentWindow.Object;return e=null,t},Ir=function(){var e,t=gr("iframe"),n="java"+Tr+":";return t.style.display="none",pr.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(yr("document.F=Object")),e.close(),e.F},Dr=function(){try{lr=new ActiveXObject("htmlfile")}catch(e){}Dr="undefined"!=typeof document?document.domain&&lr?Or(lr):Ir():Or(lr);for(var e=hr.length;e--;)delete Dr[vr][hr[e]];return Dr()};fr[br]=!0;var Rr,_r,wr=Object.create||function(e,t){var n;return null!==e?(Cr[vr]=ur(e),n=new Cr,Cr[vr]=null,n[br]=e):n=Dr(),void 0===t?n:dr.f(n,t)},kr=I,Kr=y.RegExp,xr=kr((function(){var e=Kr(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),Sr=I,Nr=y.RegExp,Ar=Sr((function(){var e=Nr("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),Lr=k,Pr=G,Fr=Uo,$r=Vo,Br=Zo,Mr=Je.exports,Hr=wr,jr=si.get,qr=xr,Ur=Ar,zr=Mr("native-string-replace",String.prototype.replace),Vr=RegExp.prototype.exec,Wr=Vr,Gr=Pr("".charAt),Xr=Pr("".indexOf),Yr=Pr("".replace),Zr=Pr("".slice),Jr=(_r=/b*/g,Lr(Vr,Rr=/a/,"a"),Lr(Vr,_r,"a"),0!==Rr.lastIndex||0!==_r.lastIndex),Qr=Br.BROKEN_CARET,ea=void 0!==/()??/.exec("")[1];(Jr||ea||Qr||qr||Ur)&&(Wr=function(e){var t,n,i,o,r,a,s,l=this,c=jr(l),u=Fr(e),d=c.raw;if(d)return d.lastIndex=l.lastIndex,t=Lr(Wr,d,u),l.lastIndex=d.lastIndex,t;var h=c.groups,f=Qr&&l.sticky,p=Lr($r,l),g=l.source,m=0,E=u;if(f&&(p=Yr(p,"y",""),-1===Xr(p,"g")&&(p+="g"),E=Zr(u,l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==Gr(u,l.lastIndex-1))&&(g="(?: "+g+")",E=" "+E,m++),n=new RegExp("^(?:"+g+")",p)),ea&&(n=new RegExp("^"+g+"$(?!\\s)",p)),Jr&&(i=l.lastIndex),o=Lr(Vr,f?n:l,E),f?o?(o.input=Zr(o.input,m),o[0]=Zr(o[0],m),o.index=l.lastIndex,l.lastIndex+=o[0].length):l.lastIndex=0:Jr&&o&&(l.lastIndex=l.global?o.index+o[0].length:i),ea&&o&&o.length>1&&Lr(zr,o[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(o[r]=void 0)})),o&&h)for(o.groups=a=Hr(null),r=0;r<h.length;r++)a[(s=h[r])[0]]=o[s[1]];return o});var ta=Wr;Ko({target:"RegExp",proto:!0,forced:/./.exec!==ta},{exec:ta});var na=R,ia=Function.prototype,oa=ia.apply,ra=ia.call,aa="object"==typeof Reflect&&Reflect.apply||(na?ra.bind(oa):function(){return ra.apply(oa,arguments)}),sa=G,la=Di,ca=ta,ua=I,da=_t,ha=Cn,fa=da("species"),pa=RegExp.prototype,ga=function(e,t,n,i){var o=da(e),r=!ua((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),a=r&&!ua((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[fa]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!r||!a||n){var s=sa(/./[o]),l=t(o,""[e],(function(e,t,n,i,o){var a=sa(e),l=t.exec;return l===ca||l===pa.exec?r&&!o?{done:!0,value:s(t,n,i)}:{done:!0,value:a(n,t,i)}:{done:!1}}));la(String.prototype,e,l[0]),la(pa,o,l[1])}i&&ha(pa[o],"sham",!0)},ma=G,Ea=Ki,va=Uo,Ta=ie,ba=ma("".charAt),Ca=ma("".charCodeAt),ya=ma("".slice),Oa=function(e){return function(t,n){var i,o,r=va(Ta(t)),a=Ea(n),s=r.length;return a<0||a>=s?e?"":void 0:(i=Ca(r,a))<55296||i>56319||a+1===s||(o=Ca(r,a+1))<56320||o>57343?e?ba(r,a):i:e?ya(r,a,a+2):o-56320+(i-55296<<10)+65536}},Ia=(Oa(!1),Oa(!0)),Da=function(e,t,n){return t+(n?Ia(e,t).length:1)},Ra=G,_a=lt,wa=Math.floor,ka=Ra("".charAt),Ka=Ra("".replace),xa=Ra("".slice),Sa=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Na=/\$([$&'`]|\d{1,2})/g,Aa=k,La=sn,Pa=he,Fa=z,$a=ta,Ba=TypeError,Ma=aa,Ha=k,ja=G,qa=ga,Ua=I,za=sn,Va=he,Wa=ee,Ga=Ki,Xa=Fi,Ya=Uo,Za=ie,Ja=Da,Qa=Ve,es=function(e,t,n,i,o,r){var a=n+e.length,s=i.length,l=Na;return void 0!==o&&(o=_a(o),l=Sa),Ka(r,l,(function(r,l){var c;switch(ka(l,0)){case"$":return"$";case"&":return e;case"`":return xa(t,0,n);case"'":return xa(t,a);case"<":c=o[xa(l,1,-1)];break;default:var u=+l;if(0===u)return r;if(u>s){var d=wa(u/10);return 0===d?r:d<=s?void 0===i[d-1]?ka(l,1):i[d-1]+ka(l,1):r}c=i[u-1]}return void 0===c?"":c}))},ts=function(e,t){var n=e.exec;if(Pa(n)){var i=Aa(n,e,t);return null!==i&&La(i),i}if("RegExp"===Fa(e))return Aa($a,e,t);throw Ba("RegExp#exec called on incompatible receiver")},ns=_t("replace"),is=Math.max,os=Math.min,rs=ja([].concat),as=ja([].push),ss=ja("".indexOf),ls=ja("".slice),cs=function(e){return void 0===e?e:String(e)},us="$0"==="a".replace(/./,"$0"),ds=!!/./[ns]&&""===/./[ns]("a","$0"),hs=!Ua((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));qa("replace",(function(e,t,n){var i=ds?"$":"$0";return[function(e,n){var i=Za(this),o=Wa(e)?void 0:Qa(e,ns);return o?Ha(o,e,i,n):Ha(t,Ya(i),e,n)},function(e,o){var r=za(this),a=Ya(e);if("string"==typeof o&&-1===ss(o,i)&&-1===ss(o,"$<")){var s=n(t,r,a,o);if(s.done)return s.value}var l=Va(o);l||(o=Ya(o));var c=r.global;if(c){var u=r.unicode;r.lastIndex=0}for(var d=[];;){var h=ts(r,a);if(null===h)break;if(as(d,h),!c)break;""===Ya(h[0])&&(r.lastIndex=Ja(a,Xa(r.lastIndex),u))}for(var f="",p=0,g=0;g<d.length;g++){h=d[g];for(var m=Ya(h[0]),E=is(os(Ga(h.index),a.length),0),v=[],T=1;T<h.length;T++)as(v,cs(h[T]));var b=h.groups;if(l){var C=rs([m],v,E,a);void 0!==b&&as(C,b);var y=Ya(Ma(o,void 0,C))}else y=es(m,a,E,v,b,o);E>=p&&(f+=ls(a,p,E)+y,p=E+m.length)}return f+ls(a,p)}]}),!hs||!us||ds);var fs=z,ps=Array.isArray||function(e){return"Array"==fs(e)},gs=G,ms=I,Es=he,vs=Ho,Ts=Fn,bs=function(){},Cs=[],ys=be("Reflect","construct"),Os=/^\s*(?:class|function)\b/,Is=gs(Os.exec),Ds=!Os.exec(bs),Rs=function(e){if(!Es(e))return!1;try{return ys(bs,Cs,e),!0}catch(e){return!1}},_s=function(e){if(!Es(e))return!1;switch(vs(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ds||!!Is(Os,Ts(e))}catch(e){return!0}};_s.sham=!0;var ws=!ys||ms((function(){var e;return Rs(Rs.call)||!Rs(Object)||!Rs((function(){e=!0}))||e}))?_s:Rs,ks=Ft,Ks=en,xs=P,Ss=function(e,t,n){var i=ks(t);i in e?Ks.f(e,i,xs(0,n)):e[i]=n},Ns=I,As=ke,Ls=_t("species"),Ps=function(e){return As>=51||!Ns((function(){var t=[];return(t.constructor={})[Ls]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Fs=G([].slice),$s=Ko,Bs=ps,Ms=ws,Hs=me,js=Ai,qs=Bi,Us=ae,zs=Ss,Vs=_t,Ws=Fs,Gs=Ps("slice"),Xs=Vs("species"),Ys=Array,Zs=Math.max;$s({target:"Array",proto:!0,forced:!Gs},{slice:function(e,t){var n,i,o,r=Us(this),a=qs(r),s=js(e,a),l=js(void 0===t?a:t,a);if(Bs(r)&&(n=r.constructor,(Ms(n)&&(n===Ys||Bs(n.prototype))||Hs(n)&&null===(n=n[Xs]))&&(n=void 0),n===Ys||void 0===n))return Ws(r,s,l);for(i=new(void 0===n?Ys:n)(Zs(l-s,0)),o=0;s<l;s++,o++)s in r&&zs(i,o,r[s]);return i.length=o,i}});var Js=qe,Qs=R,el=G(G.bind),tl=function(e,t){return Js(e),void 0===t?e:Qs?el(e,t):function(){return e.apply(t,arguments)}},nl=ps,il=ws,ol=me,rl=_t("species"),al=Array,sl=function(e){var t;return nl(e)&&(t=e.constructor,(il(t)&&(t===al||nl(t.prototype))||ol(t)&&null===(t=t[rl]))&&(t=void 0)),void 0===t?al:t},ll=function(e,t){return new(sl(e))(0===t?0:t)},cl=tl,ul=Q,dl=lt,hl=Bi,fl=ll,pl=G([].push),gl=function(e){var t=1==e,n=2==e,i=3==e,o=4==e,r=6==e,a=7==e,s=5==e||r;return function(l,c,u,d){for(var h,f,p=dl(l),g=ul(p),m=cl(c,u),E=hl(g),v=0,T=d||fl,b=t?T(l,E):n||a?T(l,0):void 0;E>v;v++)if((s||v in g)&&(f=m(h=g[v],v,p),e))if(t)b[v]=f;else if(f)switch(e){case 3:return!0;case 5:return h;case 6:return v;case 2:pl(b,h)}else switch(e){case 4:return!1;case 7:pl(b,h)}return r?-1:i||o?o:b}},ml={forEach:gl(0),map:gl(1),filter:gl(2),some:gl(3),every:gl(4),find:gl(5),findIndex:gl(6),filterReject:gl(7)},El=Ko,vl=ml.map,Tl=Ps("map");El({target:"Array",proto:!0,forced:!Tl},{map:function(e){return vl(this,e,arguments.length>1?arguments[1]:void 0)}});var bl=_t,Cl=wr,yl=en.f,Ol=bl("unscopables"),Il=Array.prototype;null==Il[Ol]&&yl(Il,Ol,{configurable:!0,value:Cl(null)});var Dl=function(e){Il[Ol][e]=!0},Rl=Ko,_l=ml.find,wl=Dl,kl="find",Kl=!0;kl in[]&&Array(1)[kl]((function(){Kl=!1})),Rl({target:"Array",proto:!0,forced:Kl},{find:function(e){return _l(this,e,arguments.length>1?arguments[1]:void 0)}}),wl(kl);var xl=Ho,Sl=Di,Nl=No?{}.toString:function(){return"[object "+xl(this)+"]"};No||Sl(Object.prototype,"toString",Nl,{unsafe:!0});var Al=D,Ll=G,Pl=k,Fl=I,$l=tr,Bl=to,Ml=K,Hl=lt,jl=Q,ql=Object.assign,Ul=Object.defineProperty,zl=Ll([].concat),Vl=!ql||Fl((function(){if(Al&&1!==ql({b:1},ql(Ul({},"a",{enumerable:!0,get:function(){Ul(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=ql({},e)[n]||$l(ql({},t)).join("")!=i}))?function(e,t){for(var n=Hl(e),i=arguments.length,o=1,r=Bl.f,a=Ml.f;i>o;)for(var s,l=jl(arguments[o++]),c=r?zl($l(l),r(l)):$l(l),u=c.length,d=0;u>d;)s=c[d++],Al&&!Pl(a,l,s)||(n[s]=l[s]);return n}:ql,Wl=Vl;Ko({target:"Object",stat:!0,arity:2,forced:Object.assign!==Wl},{assign:Wl});var Gl=TypeError,Xl=9007199254740991,Yl=Ko,Zl=I,Jl=ps,Ql=me,ec=lt,tc=Bi,nc=function(e){if(e>Xl)throw Gl("Maximum allowed index exceeded");return e},ic=Ss,oc=ll,rc=Ps,ac=ke,sc=_t("isConcatSpreadable"),lc=ac>=51||!Zl((function(){var e=[];return e[sc]=!1,e.concat()[0]!==e})),cc=rc("concat"),uc=function(e){if(!Ql(e))return!1;var t=e[sc];return void 0!==t?!!t:Jl(e)};Yl({target:"Array",proto:!0,arity:1,forced:!lc||!cc},{concat:function(e){var t,n,i,o,r,a=ec(this),s=oc(a,0),l=0;for(t=-1,i=arguments.length;t<i;t++)if(uc(r=-1===t?a:arguments[t]))for(o=tc(r),nc(l+o),n=0;n<o;n++,l++)n in r&&ic(s,l,r[n]);else nc(l+1),ic(s,l++,r);return s.length=l,s}});var dc=I,hc=function(e,t){var n=[][e];return!!n&&dc((function(){n.call(null,t||function(){return 1},1)}))},fc=Ko,pc=Q,gc=ae,mc=hc,Ec=G([].join),vc=pc!=Object,Tc=mc("join",",");fc({target:"Array",proto:!0,forced:vc||!Tc},{join:function(e){return Ec(gc(this),void 0===e?",":e)}});var bc={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Cc=Ht("span").classList,yc=Cc&&Cc.constructor&&Cc.constructor.prototype,Oc=yc===Object.prototype?void 0:yc,Ic=ml.forEach,Dc=hc("forEach")?[].forEach:function(e){return Ic(this,e,arguments.length>1?arguments[1]:void 0)},Rc=y,_c=bc,wc=Oc,kc=Dc,Kc=Cn,xc=function(e){if(e&&e.forEach!==kc)try{Kc(e,"forEach",kc)}catch(t){e.forEach=kc}};for(var Sc in _c)_c[Sc]&&xc(Rc[Sc]&&Rc[Sc].prototype);xc(wc);var Nc=i.default.fn.bootstrapTable.utils,Ac={json:"JSON",xml:"XML",png:"PNG",csv:"CSV",txt:"TXT",sql:"SQL",doc:"MS-Word",excel:"MS-Excel",xlsx:"MS-Excel (OpenXML)",powerpoint:"MS-Powerpoint",pdf:"PDF"};i.default.extend(i.default.fn.bootstrapTable.defaults,{showExport:!1,exportDataType:"basic",exportTypes:["json","xml","csv","txt","sql","excel"],exportOptions:{},exportFooter:!1}),i.default.extend(i.default.fn.bootstrapTable.columnDefaults,{forceExport:!1,forceHide:!1}),i.default.extend(i.default.fn.bootstrapTable.defaults.icons,{export:{bootstrap3:"glyphicon-export icon-share",bootstrap5:"bi-download",materialize:"file_download","bootstrap-table":"icon-download"}[i.default.fn.bootstrapTable.theme]||"fa-download"}),i.default.extend(i.default.fn.bootstrapTable.locales,{formatExport:function(){return"Export data"}}),i.default.extend(i.default.fn.bootstrapTable.defaults,i.default.fn.bootstrapTable.locales),i.default.fn.bootstrapTable.methods.push("exportTable"),i.default.extend(i.default.fn.bootstrapTable.defaults,{onExportSaved:function(e){return!1},onExportStarted:function(){return!1}}),i.default.extend(i.default.fn.bootstrapTable.Constructor.EVENTS,{"export-saved.bs.table":"onExportSaved","export-started.bs.table":"onExportStarted"}),i.default.BootstrapTable=function(e){l(n,e);var t=p(n);function n(){return o(this,n),t.apply(this,arguments)}return a(n,[{key:"initToolbar",value:function(){var e,t=this,o=this.options,r=o.exportTypes;if(this.showToolbar=this.showToolbar||o.showExport,this.options.showExport){if("string"==typeof r){var a=r.slice(1,-1).replace(/ /g,"").split(",");r=a.map((function(e){return e.slice(1,-1)}))}if("string"==typeof o.exportOptions&&(o.exportOptions=Nc.calculateObjectValue(null,o.exportOptions)),this.$export=this.$toolbar.find(">.columns div.export"),this.$export.length)return void this.updateExportButton();this.buttons=Object.assign(this.buttons,{export:{html:function(){if(1===r.length)return'\n                  <div class="export '.concat(t.constants.classes.buttonsDropdown,'"\n                  data-type="').concat(r[0],'">\n                  <button class="').concat(t.constants.buttonsClass,'"\n                  aria-label="').concat(o.formatExport(),'"\n                  type="button"\n                  title="').concat(o.formatExport(),'">\n                  ').concat(o.showButtonIcons?Nc.sprintf(t.constants.html.icon,o.iconsPrefix,o.icons.export):"","\n                  ").concat(o.showButtonText?o.formatExport():"","\n                  </button>\n                  </div>\n                ");var e=[];e.push('\n                <div class="export '.concat(t.constants.classes.buttonsDropdown,'">\n                <button class="').concat(t.constants.buttonsClass,' dropdown-toggle"\n                aria-label="').concat(o.formatExport(),'"\n                ').concat(t.constants.dataToggle,'="dropdown"\n                type="button"\n                title="').concat(o.formatExport(),'">\n                ').concat(o.showButtonIcons?Nc.sprintf(t.constants.html.icon,o.iconsPrefix,o.icons.export):"","\n                ").concat(o.showButtonText?o.formatExport():"","\n                ").concat(t.constants.html.dropdownCaret,"\n                </button>\n                ").concat(t.constants.html.toolbarDropdown[0],"\n              "));var n,a=T(r);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(Ac.hasOwnProperty(s)){var l=i.default(Nc.sprintf(t.constants.html.pageDropdownItem,"",Ac[s]));l.attr("data-type",s),e.push(l.prop("outerHTML"))}}}catch(e){a.e(e)}finally{a.f()}return e.push(t.constants.html.toolbarDropdown[1],"</div>"),e.join("")}}})}for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];if((e=m(c(n.prototype),"initToolbar",this)).call.apply(e,[this].concat(l)),this.$export=this.$toolbar.find(">.columns div.export"),this.options.showExport){this.updateExportButton();var d=this.$export.find("[data-type]");1===r.length&&(d=this.$export),d.click((function(e){e.preventDefault(),t.exportTable({type:i.default(e.currentTarget).data("type")})})),this.handleToolbar()}}},{key:"handleToolbar",value:function(){this.$export&&m(c(n.prototype),"handleToolbar",this)&&m(c(n.prototype),"handleToolbar",this).call(this)}},{key:"exportTable",value:function(e){var t=this,n=this.options,o=this.header.stateField,r=n.cardView,a=function(a){t.trigger("export-started"),o&&t.hideColumn(o),r&&t.toggleView(),t.columns.forEach((function(e){e.forceHide&&t.hideColumn(e.field)}));var s=t.getData();if(n.detailView&&n.detailViewIcon){var l="left"===n.detailViewAlign?0:t.getVisibleFields().length+Nc.getDetailViewIndexOffset(t.options);n.exportOptions.ignoreColumn=[l].concat(n.exportOptions.ignoreColumn||[])}if(n.exportFooter&&n.height){var c=t.$tableFooter.find("tr").first(),u={},d=[];i.default.each(c.children(),(function(e,n){var o=i.default(n).children(".th-inner").first().html();u[t.columns[e].field]="&nbsp;"===o?null:o,d.push(o)})),t.$body.append(t.$body.children().last()[0].outerHTML);var h=t.$body.children().last();i.default.each(h.children(),(function(e,t){i.default(t).html(d[e])}))}var f=t.getHiddenColumns();f.forEach((function(e){e.forceExport&&t.showColumn(e.field)})),"function"==typeof n.exportOptions.fileName&&(e.fileName=n.exportOptions.fileName()),t.$el.tableExport(i.default.extend({onAfterSaveToFile:function(){n.exportFooter&&t.load(s),o&&t.showColumn(o),r&&t.toggleView(),f.forEach((function(e){e.forceExport&&t.hideColumn(e.field)})),t.columns.forEach((function(e){e.forceHide&&t.showColumn(e.field)})),a&&a()}},n.exportOptions,e))};if("all"===n.exportDataType&&n.pagination){var l="server"===n.sidePagination?"post-body.bs.table":"page-change.bs.table",c=this.options.virtualScroll;this.$el.one(l,(function(){setTimeout((function(){a((function(){t.options.virtualScroll=c,t.togglePagination()}))}),0)})),this.options.virtualScroll=!1,this.togglePagination(),this.trigger("export-saved",this.getData())}else if("selected"===n.exportDataType){var u=this.getData(),d=this.getSelections(),h=n.pagination;if(!d.length)return;"server"===n.sidePagination&&(u=s({total:n.totalRows},this.options.dataField,u),d=s({total:d.length},this.options.dataField,d)),this.load(d),h&&this.togglePagination(),a((function(){h&&t.togglePagination(),t.load(u)})),this.trigger("export-saved",d)}else a(),this.trigger("export-saved",this.getData(!0))}},{key:"updateSelected",value:function(){m(c(n.prototype),"updateSelected",this).call(this),this.updateExportButton()}},{key:"updateExportButton",value:function(){"selected"===this.options.exportDataType&&this.$export.find("> button").prop("disabled",!this.getSelections().length)}}]),n}(i.default.BootstrapTable)}(n(19755))},73138:(e,t,n)=>{"use strict";var i={};n.r(i),n.d(i,{afterMain:()=>O,afterRead:()=>b,afterWrite:()=>R,applyStyles:()=>N,arrow:()=>Q,auto:()=>l,basePlacements:()=>c,beforeMain:()=>C,beforeRead:()=>v,beforeWrite:()=>I,bottom:()=>r,clippingParents:()=>h,computeStyles:()=>ie,createPopper:()=>Ne,createPopperBase:()=>Se,createPopperLite:()=>Ae,detectOverflow:()=>Te,end:()=>d,eventListeners:()=>re,flip:()=>be,hide:()=>Oe,left:()=>s,main:()=>y,modifierPhases:()=>_,offset:()=>Ie,placements:()=>E,popper:()=>p,popperGenerator:()=>xe,popperOffsets:()=>De,preventOverflow:()=>Re,read:()=>T,reference:()=>g,right:()=>a,start:()=>u,top:()=>o,variationPlacements:()=>m,viewport:()=>f,write:()=>D});var o="top",r="bottom",a="right",s="left",l="auto",c=[o,r,a,s],u="start",d="end",h="clippingParents",f="viewport",p="popper",g="reference",m=c.reduce((function(e,t){return e.concat([t+"-"+u,t+"-"+d])}),[]),E=[].concat(c,[l]).reduce((function(e,t){return e.concat([t,t+"-"+u,t+"-"+d])}),[]),v="beforeRead",T="read",b="afterRead",C="beforeMain",y="main",O="afterMain",I="beforeWrite",D="write",R="afterWrite",_=[v,T,b,C,y,O,I,D,R];function w(e){return e?(e.nodeName||"").toLowerCase():null}function k(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function K(e){return e instanceof k(e).Element||e instanceof Element}function x(e){return e instanceof k(e).HTMLElement||e instanceof HTMLElement}function S(e){return"undefined"!=typeof ShadowRoot&&(e instanceof k(e).ShadowRoot||e instanceof ShadowRoot)}const N={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},o=t.elements[e];x(o)&&w(o)&&(Object.assign(o.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],o=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});x(i)&&w(i)&&(Object.assign(i.style,r),Object.keys(o).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]};function A(e){return e.split("-")[0]}var L=Math.max,P=Math.min,F=Math.round;function $(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function B(){return!/^((?!chrome|android).)*safari/i.test($())}function M(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),o=1,r=1;t&&x(e)&&(o=e.offsetWidth>0&&F(i.width)/e.offsetWidth||1,r=e.offsetHeight>0&&F(i.height)/e.offsetHeight||1);var a=(K(e)?k(e):window).visualViewport,s=!B()&&n,l=(i.left+(s&&a?a.offsetLeft:0))/o,c=(i.top+(s&&a?a.offsetTop:0))/r,u=i.width/o,d=i.height/r;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function H(e){var t=M(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function j(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&S(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function q(e){return k(e).getComputedStyle(e)}function U(e){return["table","td","th"].indexOf(w(e))>=0}function z(e){return((K(e)?e.ownerDocument:e.document)||window.document).documentElement}function V(e){return"html"===w(e)?e:e.assignedSlot||e.parentNode||(S(e)?e.host:null)||z(e)}function W(e){return x(e)&&"fixed"!==q(e).position?e.offsetParent:null}function G(e){for(var t=k(e),n=W(e);n&&U(n)&&"static"===q(n).position;)n=W(n);return n&&("html"===w(n)||"body"===w(n)&&"static"===q(n).position)?t:n||function(e){var t=/firefox/i.test($());if(/Trident/i.test($())&&x(e)&&"fixed"===q(e).position)return null;var n=V(e);for(S(n)&&(n=n.host);x(n)&&["html","body"].indexOf(w(n))<0;){var i=q(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}function X(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Y(e,t,n){return L(e,P(t,n))}function Z(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function J(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}const Q={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,l=e.options,u=n.elements.arrow,d=n.modifiersData.popperOffsets,h=A(n.placement),f=X(h),p=[s,a].indexOf(h)>=0?"height":"width";if(u&&d){var g=function(e,t){return Z("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:J(e,c))}(l.padding,n),m=H(u),E="y"===f?o:s,v="y"===f?r:a,T=n.rects.reference[p]+n.rects.reference[f]-d[f]-n.rects.popper[p],b=d[f]-n.rects.reference[f],C=G(u),y=C?"y"===f?C.clientHeight||0:C.clientWidth||0:0,O=T/2-b/2,I=g[E],D=y-m[p]-g[v],R=y/2-m[p]/2+O,_=Y(I,R,D),w=f;n.modifiersData[i]=((t={})[w]=_,t.centerOffset=_-R,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&j(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ee(e){return e.split("-")[1]}var te={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ne(e){var t,n=e.popper,i=e.popperRect,l=e.placement,c=e.variation,u=e.offsets,h=e.position,f=e.gpuAcceleration,p=e.adaptive,g=e.roundOffsets,m=e.isFixed,E=u.x,v=void 0===E?0:E,T=u.y,b=void 0===T?0:T,C="function"==typeof g?g({x:v,y:b}):{x:v,y:b};v=C.x,b=C.y;var y=u.hasOwnProperty("x"),O=u.hasOwnProperty("y"),I=s,D=o,R=window;if(p){var _=G(n),w="clientHeight",K="clientWidth";if(_===k(n)&&"static"!==q(_=z(n)).position&&"absolute"===h&&(w="scrollHeight",K="scrollWidth"),l===o||(l===s||l===a)&&c===d)D=r,b-=(m&&_===R&&R.visualViewport?R.visualViewport.height:_[w])-i.height,b*=f?1:-1;if(l===s||(l===o||l===r)&&c===d)I=a,v-=(m&&_===R&&R.visualViewport?R.visualViewport.width:_[K])-i.width,v*=f?1:-1}var x,S=Object.assign({position:h},p&&te),N=!0===g?function(e){var t=e.x,n=e.y,i=window.devicePixelRatio||1;return{x:F(t*i)/i||0,y:F(n*i)/i||0}}({x:v,y:b}):{x:v,y:b};return v=N.x,b=N.y,f?Object.assign({},S,((x={})[D]=O?"0":"",x[I]=y?"0":"",x.transform=(R.devicePixelRatio||1)<=1?"translate("+v+"px, "+b+"px)":"translate3d("+v+"px, "+b+"px, 0)",x)):Object.assign({},S,((t={})[D]=O?b+"px":"",t[I]=y?v+"px":"",t.transform="",t))}const ie={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,o=void 0===i||i,r=n.adaptive,a=void 0===r||r,s=n.roundOffsets,l=void 0===s||s,c={placement:A(t.placement),variation:ee(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ne(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ne(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var oe={passive:!0};const re={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,o=i.scroll,r=void 0===o||o,a=i.resize,s=void 0===a||a,l=k(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&c.forEach((function(e){e.addEventListener("scroll",n.update,oe)})),s&&l.addEventListener("resize",n.update,oe),function(){r&&c.forEach((function(e){e.removeEventListener("scroll",n.update,oe)})),s&&l.removeEventListener("resize",n.update,oe)}},data:{}};var ae={left:"right",right:"left",bottom:"top",top:"bottom"};function se(e){return e.replace(/left|right|bottom|top/g,(function(e){return ae[e]}))}var le={start:"end",end:"start"};function ce(e){return e.replace(/start|end/g,(function(e){return le[e]}))}function ue(e){var t=k(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function de(e){return M(z(e)).left+ue(e).scrollLeft}function he(e){var t=q(e),n=t.overflow,i=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function fe(e){return["html","body","#document"].indexOf(w(e))>=0?e.ownerDocument.body:x(e)&&he(e)?e:fe(V(e))}function pe(e,t){var n;void 0===t&&(t=[]);var i=fe(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),r=k(i),a=o?[r].concat(r.visualViewport||[],he(i)?i:[]):i,s=t.concat(a);return o?s:s.concat(pe(V(a)))}function ge(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function me(e,t,n){return t===f?ge(function(e,t){var n=k(e),i=z(e),o=n.visualViewport,r=i.clientWidth,a=i.clientHeight,s=0,l=0;if(o){r=o.width,a=o.height;var c=B();(c||!c&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:r,height:a,x:s+de(e),y:l}}(e,n)):K(t)?function(e,t){var n=M(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):ge(function(e){var t,n=z(e),i=ue(e),o=null==(t=e.ownerDocument)?void 0:t.body,r=L(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=L(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-i.scrollLeft+de(e),l=-i.scrollTop;return"rtl"===q(o||n).direction&&(s+=L(n.clientWidth,o?o.clientWidth:0)-r),{width:r,height:a,x:s,y:l}}(z(e)))}function Ee(e,t,n,i){var o="clippingParents"===t?function(e){var t=pe(V(e)),n=["absolute","fixed"].indexOf(q(e).position)>=0&&x(e)?G(e):e;return K(n)?t.filter((function(e){return K(e)&&j(e,n)&&"body"!==w(e)})):[]}(e):[].concat(t),r=[].concat(o,[n]),a=r[0],s=r.reduce((function(t,n){var o=me(e,n,i);return t.top=L(o.top,t.top),t.right=P(o.right,t.right),t.bottom=P(o.bottom,t.bottom),t.left=L(o.left,t.left),t}),me(e,a,i));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function ve(e){var t,n=e.reference,i=e.element,l=e.placement,c=l?A(l):null,h=l?ee(l):null,f=n.x+n.width/2-i.width/2,p=n.y+n.height/2-i.height/2;switch(c){case o:t={x:f,y:n.y-i.height};break;case r:t={x:f,y:n.y+n.height};break;case a:t={x:n.x+n.width,y:p};break;case s:t={x:n.x-i.width,y:p};break;default:t={x:n.x,y:n.y}}var g=c?X(c):null;if(null!=g){var m="y"===g?"height":"width";switch(h){case u:t[g]=t[g]-(n[m]/2-i[m]/2);break;case d:t[g]=t[g]+(n[m]/2-i[m]/2)}}return t}function Te(e,t){void 0===t&&(t={});var n=t,i=n.placement,s=void 0===i?e.placement:i,l=n.strategy,u=void 0===l?e.strategy:l,d=n.boundary,m=void 0===d?h:d,E=n.rootBoundary,v=void 0===E?f:E,T=n.elementContext,b=void 0===T?p:T,C=n.altBoundary,y=void 0!==C&&C,O=n.padding,I=void 0===O?0:O,D=Z("number"!=typeof I?I:J(I,c)),R=b===p?g:p,_=e.rects.popper,w=e.elements[y?R:b],k=Ee(K(w)?w:w.contextElement||z(e.elements.popper),m,v,u),x=M(e.elements.reference),S=ve({reference:x,element:_,strategy:"absolute",placement:s}),N=ge(Object.assign({},_,S)),A=b===p?N:x,L={top:k.top-A.top+D.top,bottom:A.bottom-k.bottom+D.bottom,left:k.left-A.left+D.left,right:A.right-k.right+D.right},P=e.modifiersData.offset;if(b===p&&P){var F=P[s];Object.keys(L).forEach((function(e){var t=[a,r].indexOf(e)>=0?1:-1,n=[o,r].indexOf(e)>=0?"y":"x";L[e]+=F[n]*t}))}return L}const be={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var d=n.mainAxis,h=void 0===d||d,f=n.altAxis,p=void 0===f||f,g=n.fallbackPlacements,v=n.padding,T=n.boundary,b=n.rootBoundary,C=n.altBoundary,y=n.flipVariations,O=void 0===y||y,I=n.allowedAutoPlacements,D=t.options.placement,R=A(D),_=g||(R===D||!O?[se(D)]:function(e){if(A(e)===l)return[];var t=se(e);return[ce(e),t,ce(t)]}(D)),w=[D].concat(_).reduce((function(e,n){return e.concat(A(n)===l?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,o=n.boundary,r=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?E:l,d=ee(i),h=d?s?m:m.filter((function(e){return ee(e)===d})):c,f=h.filter((function(e){return u.indexOf(e)>=0}));0===f.length&&(f=h);var p=f.reduce((function(t,n){return t[n]=Te(e,{placement:n,boundary:o,rootBoundary:r,padding:a})[A(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:T,rootBoundary:b,padding:v,flipVariations:O,allowedAutoPlacements:I}):n)}),[]),k=t.rects.reference,K=t.rects.popper,x=new Map,S=!0,N=w[0],L=0;L<w.length;L++){var P=w[L],F=A(P),$=ee(P)===u,B=[o,r].indexOf(F)>=0,M=B?"width":"height",H=Te(t,{placement:P,boundary:T,rootBoundary:b,altBoundary:C,padding:v}),j=B?$?a:s:$?r:o;k[M]>K[M]&&(j=se(j));var q=se(j),U=[];if(h&&U.push(H[F]<=0),p&&U.push(H[j]<=0,H[q]<=0),U.every((function(e){return e}))){N=P,S=!1;break}x.set(P,U)}if(S)for(var z=function(e){var t=w.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return N=t,"break"},V=O?3:1;V>0;V--){if("break"===z(V))break}t.placement!==N&&(t.modifiersData[i]._skip=!0,t.placement=N,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ce(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ye(e){return[o,a,r,s].some((function(t){return e[t]>=0}))}const Oe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,o=t.rects.popper,r=t.modifiersData.preventOverflow,a=Te(t,{elementContext:"reference"}),s=Te(t,{altBoundary:!0}),l=Ce(a,i),c=Ce(s,o,r),u=ye(l),d=ye(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}};const Ie={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.offset,l=void 0===r?[0,0]:r,c=E.reduce((function(e,n){return e[n]=function(e,t,n){var i=A(e),r=[s,o].indexOf(i)>=0?-1:1,l="function"==typeof n?n(Object.assign({},t,{placement:e})):n,c=l[0],u=l[1];return c=c||0,u=(u||0)*r,[s,a].indexOf(i)>=0?{x:u,y:c}:{x:c,y:u}}(n,t.rects,l),e}),{}),u=c[t.placement],d=u.x,h=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=h),t.modifiersData[i]=c}};const De={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=ve({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};const Re={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,l=n.mainAxis,c=void 0===l||l,d=n.altAxis,h=void 0!==d&&d,f=n.boundary,p=n.rootBoundary,g=n.altBoundary,m=n.padding,E=n.tether,v=void 0===E||E,T=n.tetherOffset,b=void 0===T?0:T,C=Te(t,{boundary:f,rootBoundary:p,padding:m,altBoundary:g}),y=A(t.placement),O=ee(t.placement),I=!O,D=X(y),R="x"===D?"y":"x",_=t.modifiersData.popperOffsets,w=t.rects.reference,k=t.rects.popper,K="function"==typeof b?b(Object.assign({},t.rects,{placement:t.placement})):b,x="number"==typeof K?{mainAxis:K,altAxis:K}:Object.assign({mainAxis:0,altAxis:0},K),S=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(_){if(c){var F,$="y"===D?o:s,B="y"===D?r:a,M="y"===D?"height":"width",j=_[D],q=j+C[$],U=j-C[B],z=v?-k[M]/2:0,V=O===u?w[M]:k[M],W=O===u?-k[M]:-w[M],Z=t.elements.arrow,J=v&&Z?H(Z):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},te=Q[$],ne=Q[B],ie=Y(0,w[M],J[M]),oe=I?w[M]/2-z-ie-te-x.mainAxis:V-ie-te-x.mainAxis,re=I?-w[M]/2+z+ie+ne+x.mainAxis:W+ie+ne+x.mainAxis,ae=t.elements.arrow&&G(t.elements.arrow),se=ae?"y"===D?ae.clientTop||0:ae.clientLeft||0:0,le=null!=(F=null==S?void 0:S[D])?F:0,ce=j+re-le,ue=Y(v?P(q,j+oe-le-se):q,j,v?L(U,ce):U);_[D]=ue,N[D]=ue-j}if(h){var de,he="x"===D?o:s,fe="x"===D?r:a,pe=_[R],ge="y"===R?"height":"width",me=pe+C[he],Ee=pe-C[fe],ve=-1!==[o,s].indexOf(y),be=null!=(de=null==S?void 0:S[R])?de:0,Ce=ve?me:pe-w[ge]-k[ge]-be+x.altAxis,ye=ve?pe+w[ge]+k[ge]-be-x.altAxis:Ee,Oe=v&&ve?function(e,t,n){var i=Y(e,t,n);return i>n?n:i}(Ce,pe,ye):Y(v?Ce:me,pe,v?ye:Ee);_[R]=Oe,N[R]=Oe-pe}t.modifiersData[i]=N}},requiresIfExists:["offset"]};function _e(e,t,n){void 0===n&&(n=!1);var i,o,r=x(t),a=x(t)&&function(e){var t=e.getBoundingClientRect(),n=F(t.width)/e.offsetWidth||1,i=F(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),s=z(t),l=M(e,a,n),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==w(t)||he(s))&&(c=(i=t)!==k(i)&&x(i)?{scrollLeft:(o=i).scrollLeft,scrollTop:o.scrollTop}:ue(i)),x(t)?((u=M(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):s&&(u.x=de(s))),{x:l.left+c.scrollLeft-u.x,y:l.top+c.scrollTop-u.y,width:l.width,height:l.height}}function we(e){var t=new Map,n=new Set,i=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&o(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),i}var ke={placement:"bottom",modifiers:[],strategy:"absolute"};function Ke(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function xe(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,o=t.defaultOptions,r=void 0===o?ke:o;return function(e,t,n){void 0===n&&(n=r);var o,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},ke,r),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,u={state:s,setOptions:function(n){var o="function"==typeof n?n(s.options):n;d(),s.options=Object.assign({},r,s.options,o),s.scrollParents={reference:K(e)?pe(e):e.contextElement?pe(e.contextElement):[],popper:pe(t)};var a=function(e){var t=we(e);return _.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(i,s.options.modifiers)));return s.orderedModifiers=a.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var r=o({state:s,name:t,instance:u,options:i}),a=function(){};l.push(r||a)}})),u.update()},forceUpdate:function(){if(!c){var e=s.elements,t=e.reference,n=e.popper;if(Ke(t,n)){s.rects={reference:_e(t,G(n),"fixed"===s.options.strategy),popper:H(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<s.orderedModifiers.length;i++)if(!0!==s.reset){var o=s.orderedModifiers[i],r=o.fn,a=o.options,l=void 0===a?{}:a,d=o.name;"function"==typeof r&&(s=r({state:s,options:l,name:d,instance:u})||s)}else s.reset=!1,i=-1}}},update:(o=function(){return new Promise((function(e){u.forceUpdate(),e(s)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(o())}))}))),a}),destroy:function(){d(),c=!0}};if(!Ke(e,t))return u;function d(){l.forEach((function(e){return e()})),l=[]}return u.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var Se=xe(),Ne=xe({defaultModifiers:[re,De,ie,N,Ie,be,Re,Q,Oe]}),Ae=xe({defaultModifiers:[re,De,ie,N]}),Le=n(19755);const Pe="transitionend",Fe=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&"#"!==n?n.trim():null}return t},$e=e=>{const t=Fe(e);return t&&document.querySelector(t)?t:null},Be=e=>{const t=Fe(e);return t?document.querySelector(t):null},Me=e=>{e.dispatchEvent(new Event(Pe))},He=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),je=e=>He(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(e):null,qe=e=>{if(!He(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const t=e.closest("summary");if(t&&t.parentNode!==n)return!1;if(null===t)return!1}return t},Ue=e=>!e||e.nodeType!==Node.ELEMENT_NODE||(!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled"))),ze=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?ze(e.parentNode):null},Ve=()=>{},We=e=>{e.offsetHeight},Ge=()=>Le&&!document.body.hasAttribute("data-bs-no-jquery")?Le:null,Xe=[],Ye=()=>"rtl"===document.documentElement.dir,Ze=e=>{var t;t=()=>{const t=Ge();if(t){const n=e.NAME,i=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=i,e.jQueryInterface)}},"loading"===document.readyState?(Xe.length||document.addEventListener("DOMContentLoaded",(()=>{for(const e of Xe)e()})),Xe.push(t)):t()},Je=e=>{"function"==typeof e&&e()},Qe=(e,t,n=!0)=>{if(!n)return void Je(e);const i=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const i=Number.parseFloat(t),o=Number.parseFloat(n);return i||o?(t=t.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(n))):0})(t)+5;let o=!1;const r=({target:n})=>{n===t&&(o=!0,t.removeEventListener(Pe,r),Je(e))};t.addEventListener(Pe,r),setTimeout((()=>{o||Me(t)}),i)},et=(e,t,n,i)=>{const o=e.length;let r=e.indexOf(t);return-1===r?!n&&i?e[o-1]:e[0]:(r+=n?1:-1,i&&(r=(r+o)%o),e[Math.max(0,Math.min(r,o-1))])},tt=/[^.]*(?=\..*)\.|.*/,nt=/\..*/,it=/::\d+$/,ot={};let rt=1;const at={mouseenter:"mouseover",mouseleave:"mouseout"},st=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function lt(e,t){return t&&`${t}::${rt++}`||e.uidEvent||rt++}function ct(e){const t=lt(e);return e.uidEvent=t,ot[t]=ot[t]||{},ot[t]}function ut(e,t,n=null){return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===n))}function dt(e,t,n){const i="string"==typeof t,o=i?n:t||n;let r=gt(e);return st.has(r)||(r=e),[i,o,r]}function ht(e,t,n,i,o){if("string"!=typeof t||!e)return;let[r,a,s]=dt(t,n,i);if(t in at){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};a=e(a)}const l=ct(e),c=l[s]||(l[s]={}),u=ut(c,a,r?n:null);if(u)return void(u.oneOff=u.oneOff&&o);const d=lt(a,t.replace(tt,"")),h=r?function(e,t,n){return function i(o){const r=e.querySelectorAll(t);for(let{target:a}=o;a&&a!==this;a=a.parentNode)for(const s of r)if(s===a)return Et(o,{delegateTarget:a}),i.oneOff&&mt.off(e,o.type,t,n),n.apply(a,[o])}}(e,n,a):function(e,t){return function n(i){return Et(i,{delegateTarget:e}),n.oneOff&&mt.off(e,i.type,t),t.apply(e,[i])}}(e,a);h.delegationSelector=r?n:null,h.callable=a,h.oneOff=o,h.uidEvent=d,c[d]=h,e.addEventListener(s,h,r)}function ft(e,t,n,i,o){const r=ut(t[n],i,o);r&&(e.removeEventListener(n,r,Boolean(o)),delete t[n][r.uidEvent])}function pt(e,t,n,i){const o=t[n]||{};for(const r of Object.keys(o))if(r.includes(i)){const i=o[r];ft(e,t,n,i.callable,i.delegationSelector)}}function gt(e){return e=e.replace(nt,""),at[e]||e}const mt={on(e,t,n,i){ht(e,t,n,i,!1)},one(e,t,n,i){ht(e,t,n,i,!0)},off(e,t,n,i){if("string"!=typeof t||!e)return;const[o,r,a]=dt(t,n,i),s=a!==t,l=ct(e),c=l[a]||{},u=t.startsWith(".");if(void 0===r){if(u)for(const n of Object.keys(l))pt(e,l,n,t.slice(1));for(const n of Object.keys(c)){const i=n.replace(it,"");if(!s||t.includes(i)){const t=c[n];ft(e,l,a,t.callable,t.delegationSelector)}}}else{if(!Object.keys(c).length)return;ft(e,l,a,r,o?n:null)}},trigger(e,t,n){if("string"!=typeof t||!e)return null;const i=Ge();let o=null,r=!0,a=!0,s=!1;t!==gt(t)&&i&&(o=i.Event(t,n),i(e).trigger(o),r=!o.isPropagationStopped(),a=!o.isImmediatePropagationStopped(),s=o.isDefaultPrevented());let l=new Event(t,{bubbles:r,cancelable:!0});return l=Et(l,n),s&&l.preventDefault(),a&&e.dispatchEvent(l),l.defaultPrevented&&o&&o.preventDefault(),l}};function Et(e,t){for(const[n,i]of Object.entries(t||{}))try{e[n]=i}catch(t){Object.defineProperty(e,n,{configurable:!0,get:()=>i})}return e}const vt=new Map,Tt={set(e,t,n){vt.has(e)||vt.set(e,new Map);const i=vt.get(e);i.has(t)||0===i.size?i.set(t,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(e,t)=>vt.has(e)&&vt.get(e).get(t)||null,remove(e,t){if(!vt.has(e))return;const n=vt.get(e);n.delete(t),0===n.size&&vt.delete(e)}};function bt(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function Ct(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}const yt={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${Ct(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${Ct(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter((e=>e.startsWith("bs")&&!e.startsWith("bsConfig")));for(const i of n){let n=i.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),t[n]=bt(e.dataset[i])}return t},getDataAttribute:(e,t)=>bt(e.getAttribute(`data-bs-${Ct(t)}`))};class Ot{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const n=He(t)?yt.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof n?n:{},...He(t)?yt.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const i of Object.keys(t)){const o=t[i],r=e[i],a=He(r)?"element":null==(n=r)?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${a}" but expected type "${o}".`)}var n}}class It extends Ot{constructor(e,t){super(),(e=je(e))&&(this._element=e,this._config=this._getConfig(t),Tt.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Tt.remove(this._element,this.constructor.DATA_KEY),mt.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,n=!0){Qe(e,t,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Tt.get(je(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.2.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Dt=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,i=e.NAME;mt.on(document,n,`[data-bs-dismiss="${i}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Ue(this))return;const o=Be(this)||this.closest(`.${i}`);e.getOrCreateInstance(o)[t]()}))},Rt=".bs.alert",_t=`close${Rt}`,wt=`closed${Rt}`;class kt extends It{static get NAME(){return"alert"}close(){if(mt.trigger(this._element,_t).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),mt.trigger(this._element,wt),this.dispose()}static jQueryInterface(e){return this.each((function(){const t=kt.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}Dt(kt,"close"),Ze(kt);const Kt='[data-bs-toggle="button"]';class xt extends It{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each((function(){const t=xt.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}mt.on(document,"click.bs.button.data-api",Kt,(e=>{e.preventDefault();const t=e.target.closest(Kt);xt.getOrCreateInstance(t).toggle()})),Ze(xt);const St={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter((e=>e.matches(t))),parents(e,t){const n=[];let i=e.parentNode.closest(t);for(;i;)n.push(i),i=i.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(",");return this.find(t,e).filter((e=>!Ue(e)&&qe(e)))}},Nt=".bs.swipe",At=`touchstart${Nt}`,Lt=`touchmove${Nt}`,Pt=`touchend${Nt}`,Ft=`pointerdown${Nt}`,$t=`pointerup${Nt}`,Bt={endCallback:null,leftCallback:null,rightCallback:null},Mt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ht extends Ot{constructor(e,t){super(),this._element=e,e&&Ht.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Bt}static get DefaultType(){return Mt}static get NAME(){return"swipe"}dispose(){mt.off(this._element,Nt)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Je(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&Je(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(mt.on(this._element,Ft,(e=>this._start(e))),mt.on(this._element,$t,(e=>this._end(e))),this._element.classList.add("pointer-event")):(mt.on(this._element,At,(e=>this._start(e))),mt.on(this._element,Lt,(e=>this._move(e))),mt.on(this._element,Pt,(e=>this._end(e))))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const jt=".bs.carousel",qt=".data-api",Ut="next",zt="prev",Vt="left",Wt="right",Gt=`slide${jt}`,Xt=`slid${jt}`,Yt=`keydown${jt}`,Zt=`mouseenter${jt}`,Jt=`mouseleave${jt}`,Qt=`dragstart${jt}`,en=`load${jt}${qt}`,tn=`click${jt}${qt}`,nn="carousel",on="active",rn=".active",an=".carousel-item",sn=rn+an,ln={ArrowLeft:Wt,ArrowRight:Vt},cn={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},un={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class dn extends It{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=St.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===nn&&this.cycle()}static get Default(){return cn}static get DefaultType(){return un}static get NAME(){return"carousel"}next(){this._slide(Ut)}nextWhenVisible(){!document.hidden&&qe(this._element)&&this.next()}prev(){this._slide(zt)}pause(){this._isSliding&&Me(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?mt.one(this._element,Xt,(()=>this.cycle())):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void mt.one(this._element,Xt,(()=>this.to(e)));const n=this._getItemIndex(this._getActive());if(n===e)return;const i=e>n?Ut:zt;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&mt.on(this._element,Yt,(e=>this._keydown(e))),"hover"===this._config.pause&&(mt.on(this._element,Zt,(()=>this.pause())),mt.on(this._element,Jt,(()=>this._maybeEnableCycle()))),this._config.touch&&Ht.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const e of St.find(".carousel-item img",this._element))mt.on(e,Qt,(e=>e.preventDefault()));const e={leftCallback:()=>this._slide(this._directionToOrder(Vt)),rightCallback:()=>this._slide(this._directionToOrder(Wt)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new Ht(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=ln[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=St.findOne(rn,this._indicatorsElement);t.classList.remove(on),t.removeAttribute("aria-current");const n=St.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(on),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const n=this._getActive(),i=e===Ut,o=t||et(this._getItems(),n,i,this._config.wrap);if(o===n)return;const r=this._getItemIndex(o),a=t=>mt.trigger(this._element,t,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:r});if(a(Gt).defaultPrevented)return;if(!n||!o)return;const s=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(r),this._activeElement=o;const l=i?"carousel-item-start":"carousel-item-end",c=i?"carousel-item-next":"carousel-item-prev";o.classList.add(c),We(o),n.classList.add(l),o.classList.add(l);this._queueCallback((()=>{o.classList.remove(l,c),o.classList.add(on),n.classList.remove(on,c,l),this._isSliding=!1,a(Xt)}),n,this._isAnimated()),s&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return St.findOne(sn,this._element)}_getItems(){return St.find(an,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Ye()?e===Vt?zt:Ut:e===Vt?Ut:zt}_orderToDirection(e){return Ye()?e===zt?Vt:Wt:e===zt?Wt:Vt}static jQueryInterface(e){return this.each((function(){const t=dn.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)}))}}mt.on(document,tn,"[data-bs-slide], [data-bs-slide-to]",(function(e){const t=Be(this);if(!t||!t.classList.contains(nn))return;e.preventDefault();const n=dn.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");return i?(n.to(i),void n._maybeEnableCycle()):"next"===yt.getDataAttribute(this,"slide")?(n.next(),void n._maybeEnableCycle()):(n.prev(),void n._maybeEnableCycle())})),mt.on(window,en,(()=>{const e=St.find('[data-bs-ride="carousel"]');for(const t of e)dn.getOrCreateInstance(t)})),Ze(dn);const hn=".bs.collapse",fn=`show${hn}`,pn=`shown${hn}`,gn=`hide${hn}`,mn=`hidden${hn}`,En=`click${hn}.data-api`,vn="show",Tn="collapse",bn="collapsing",Cn=`:scope .${Tn} .${Tn}`,yn='[data-bs-toggle="collapse"]',On={parent:null,toggle:!0},In={parent:"(null|element)",toggle:"boolean"};class Dn extends It{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const n=St.find(yn);for(const e of n){const t=$e(e),n=St.find(t).filter((e=>e===this._element));null!==t&&n.length&&this._triggerArray.push(e)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return On}static get DefaultType(){return In}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((e=>e!==this._element)).map((e=>Dn.getOrCreateInstance(e,{toggle:!1})))),e.length&&e[0]._isTransitioning)return;if(mt.trigger(this._element,fn).defaultPrevented)return;for(const t of e)t.hide();const t=this._getDimension();this._element.classList.remove(Tn),this._element.classList.add(bn),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const n=`scroll${t[0].toUpperCase()+t.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(bn),this._element.classList.add(Tn,vn),this._element.style[t]="",mt.trigger(this._element,pn)}),this._element,!0),this._element.style[t]=`${this._element[n]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(mt.trigger(this._element,gn).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,We(this._element),this._element.classList.add(bn),this._element.classList.remove(Tn,vn);for(const e of this._triggerArray){const t=Be(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0;this._element.style[e]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(bn),this._element.classList.add(Tn),mt.trigger(this._element,mn)}),this._element,!0)}_isShown(e=this._element){return e.classList.contains(vn)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=je(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(yn);for(const t of e){const e=Be(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=St.find(Cn,this._config.parent);return St.find(e,this._config.parent).filter((e=>!t.includes(e)))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const n of e)n.classList.toggle("collapsed",!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){const n=Dn.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e]()}}))}}mt.on(document,En,yn,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();const t=$e(this),n=St.find(t);for(const e of n)Dn.getOrCreateInstance(e,{toggle:!1}).toggle()})),Ze(Dn);const Rn="dropdown",_n=".bs.dropdown",wn=".data-api",kn="ArrowUp",Kn="ArrowDown",xn=`hide${_n}`,Sn=`hidden${_n}`,Nn=`show${_n}`,An=`shown${_n}`,Ln=`click${_n}${wn}`,Pn=`keydown${_n}${wn}`,Fn=`keyup${_n}${wn}`,$n="show",Bn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Mn=`${Bn}.${$n}`,Hn=".dropdown-menu",jn=Ye()?"top-end":"top-start",qn=Ye()?"top-start":"top-end",Un=Ye()?"bottom-end":"bottom-start",zn=Ye()?"bottom-start":"bottom-end",Vn=Ye()?"left-start":"right-start",Wn=Ye()?"right-start":"left-start",Gn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Xn={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Yn extends It{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=St.next(this._element,Hn)[0]||St.prev(this._element,Hn)[0]||St.findOne(Hn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Gn}static get DefaultType(){return Xn}static get NAME(){return Rn}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ue(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!mt.trigger(this._element,Nn,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))mt.on(e,"mouseover",Ve);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add($n),this._element.classList.add($n),mt.trigger(this._element,An,e)}}hide(){if(Ue(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!mt.trigger(this._element,xn,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))mt.off(e,"mouseover",Ve);this._popper&&this._popper.destroy(),this._menu.classList.remove($n),this._element.classList.remove($n),this._element.setAttribute("aria-expanded","false"),yt.removeDataAttribute(this._menu,"popper"),mt.trigger(this._element,Sn,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!He(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${Rn.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===i)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:He(this._config.reference)?e=je(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Ne(e,this._menu,t)}_isShown(){return this._menu.classList.contains($n)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return Vn;if(e.classList.contains("dropstart"))return Wn;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?qn:jn:t?zn:Un}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(yt.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:t}){const n=St.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((e=>qe(e)));n.length&&et(n,t,e===Kn,!n.includes(t)).focus()}static jQueryInterface(e){return this.each((function(){const t=Yn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=St.find(Mn);for(const n of t){const t=Yn.getInstance(n);if(!t||!1===t._config.autoClose)continue;const i=e.composedPath(),o=i.includes(t._menu);if(i.includes(t._element)||"inside"===t._config.autoClose&&!o||"outside"===t._config.autoClose&&o)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const r={relatedTarget:t._element};"click"===e.type&&(r.clickEvent=e),t._completeHide(r)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),n="Escape"===e.key,i=[kn,Kn].includes(e.key);if(!i&&!n)return;if(t&&!n)return;e.preventDefault();const o=this.matches(Bn)?this:St.prev(this,Bn)[0]||St.next(this,Bn)[0]||St.findOne(Bn,e.delegateTarget.parentNode),r=Yn.getOrCreateInstance(o);if(i)return e.stopPropagation(),r.show(),void r._selectMenuItem(e);r._isShown()&&(e.stopPropagation(),r.hide(),o.focus())}}mt.on(document,Pn,Bn,Yn.dataApiKeydownHandler),mt.on(document,Pn,Hn,Yn.dataApiKeydownHandler),mt.on(document,Ln,Yn.clearMenus),mt.on(document,Fn,Yn.clearMenus),mt.on(document,Ln,Bn,(function(e){e.preventDefault(),Yn.getOrCreateInstance(this).toggle()})),Ze(Yn);const Zn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Jn=".sticky-top",Qn="padding-right",ei="margin-right";class ti{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Qn,(t=>t+e)),this._setElementAttributes(Zn,Qn,(t=>t+e)),this._setElementAttributes(Jn,ei,(t=>t-e))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Qn),this._resetElementAttributes(Zn,Qn),this._resetElementAttributes(Jn,ei)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const i=this.getWidth();this._applyManipulationCallback(e,(e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+i)return;this._saveInitialAttribute(e,t);const o=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${n(Number.parseFloat(o))}px`)}))}_saveInitialAttribute(e,t){const n=e.style.getPropertyValue(t);n&&yt.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,(e=>{const n=yt.getDataAttribute(e,t);null!==n?(yt.removeDataAttribute(e,t),e.style.setProperty(t,n)):e.style.removeProperty(t)}))}_applyManipulationCallback(e,t){if(He(e))t(e);else for(const n of St.find(e,this._element))t(n)}}const ni="backdrop",ii="show",oi=`mousedown.bs.${ni}`,ri={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ai={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class si extends Ot{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return ri}static get DefaultType(){return ai}static get NAME(){return ni}show(e){if(!this._config.isVisible)return void Je(e);this._append();const t=this._getElement();this._config.isAnimated&&We(t),t.classList.add(ii),this._emulateAnimation((()=>{Je(e)}))}hide(e){this._config.isVisible?(this._getElement().classList.remove(ii),this._emulateAnimation((()=>{this.dispose(),Je(e)}))):Je(e)}dispose(){this._isAppended&&(mt.off(this._element,oi),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=je(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),mt.on(e,oi,(()=>{Je(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(e){Qe(e,this._getElement(),this._config.isAnimated)}}const li=".bs.focustrap",ci=`focusin${li}`,ui=`keydown.tab${li}`,di="backward",hi={autofocus:!0,trapElement:null},fi={autofocus:"boolean",trapElement:"element"};class pi extends Ot{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return hi}static get DefaultType(){return fi}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),mt.off(document,li),mt.on(document,ci,(e=>this._handleFocusin(e))),mt.on(document,ui,(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,mt.off(document,li))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const n=St.focusableChildren(t);0===n.length?t.focus():this._lastTabNavDirection===di?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?di:"forward")}}const gi=".bs.modal",mi=`hide${gi}`,Ei=`hidePrevented${gi}`,vi=`hidden${gi}`,Ti=`show${gi}`,bi=`shown${gi}`,Ci=`resize${gi}`,yi=`click.dismiss${gi}`,Oi=`mousedown.dismiss${gi}`,Ii=`keydown.dismiss${gi}`,Di=`click${gi}.data-api`,Ri="modal-open",_i="show",wi="modal-static",ki={backdrop:!0,focus:!0,keyboard:!0},Ki={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class xi extends It{constructor(e,t){super(e,t),this._dialog=St.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ti,this._addEventListeners()}static get Default(){return ki}static get DefaultType(){return Ki}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||this._isTransitioning)return;mt.trigger(this._element,Ti,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Ri),this._adjustDialog(),this._backdrop.show((()=>this._showElement(e))))}hide(){if(!this._isShown||this._isTransitioning)return;mt.trigger(this._element,mi).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(_i),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated()))}dispose(){for(const e of[window,this._dialog])mt.off(e,gi);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new si({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new pi({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=St.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),We(this._element),this._element.classList.add(_i);this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,mt.trigger(this._element,bi,{relatedTarget:e})}),this._dialog,this._isAnimated())}_addEventListeners(){mt.on(this._element,Ii,(e=>{if("Escape"===e.key)return this._config.keyboard?(e.preventDefault(),void this.hide()):void this._triggerBackdropTransition()})),mt.on(window,Ci,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),mt.on(this._element,Oi,(e=>{mt.one(this._element,yi,(t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(Ri),this._resetAdjustments(),this._scrollBar.reset(),mt.trigger(this._element,vi)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(mt.trigger(this._element,Ei).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(wi)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(wi),this._queueCallback((()=>{this._element.classList.remove(wi),this._queueCallback((()=>{this._element.style.overflowY=t}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){const e=Ye()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!n&&e){const e=Ye()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const n=xi.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e](t)}}))}}mt.on(document,Di,'[data-bs-toggle="modal"]',(function(e){const t=Be(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),mt.one(t,Ti,(e=>{e.defaultPrevented||mt.one(t,vi,(()=>{qe(this)&&this.focus()}))}));const n=St.findOne(".modal.show");n&&xi.getInstance(n).hide();xi.getOrCreateInstance(t).toggle(this)})),Dt(xi),Ze(xi);const Si=".bs.offcanvas",Ni=".data-api",Ai=`load${Si}${Ni}`,Li="show",Pi="showing",Fi="hiding",$i=".offcanvas.show",Bi=`show${Si}`,Mi=`shown${Si}`,Hi=`hide${Si}`,ji=`hidePrevented${Si}`,qi=`hidden${Si}`,Ui=`resize${Si}`,zi=`click${Si}${Ni}`,Vi=`keydown.dismiss${Si}`,Wi={backdrop:!0,keyboard:!0,scroll:!1},Gi={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Xi extends It{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Wi}static get DefaultType(){return Gi}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown)return;if(mt.trigger(this._element,Bi,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||(new ti).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Pi);this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Li),this._element.classList.remove(Pi),mt.trigger(this._element,Mi,{relatedTarget:e})}),this._element,!0)}hide(){if(!this._isShown)return;if(mt.trigger(this._element,Hi).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Fi),this._backdrop.hide();this._queueCallback((()=>{this._element.classList.remove(Li,Fi),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new ti).reset(),mt.trigger(this._element,qi)}),this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new si({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():mt.trigger(this._element,ji)}:null})}_initializeFocusTrap(){return new pi({trapElement:this._element})}_addEventListeners(){mt.on(this._element,Vi,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():mt.trigger(this._element,ji))}))}static jQueryInterface(e){return this.each((function(){const t=Xi.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}mt.on(document,zi,'[data-bs-toggle="offcanvas"]',(function(e){const t=Be(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),Ue(this))return;mt.one(t,qi,(()=>{qe(this)&&this.focus()}));const n=St.findOne($i);n&&n!==t&&Xi.getInstance(n).hide();Xi.getOrCreateInstance(t).toggle(this)})),mt.on(window,Ai,(()=>{for(const e of St.find($i))Xi.getOrCreateInstance(e).show()})),mt.on(window,Ui,(()=>{for(const e of St.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&Xi.getOrCreateInstance(e).hide()})),Dt(Xi),Ze(Xi);const Yi=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Zi=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Ji=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Qi=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?!Yi.has(n)||Boolean(Zi.test(e.nodeValue)||Ji.test(e.nodeValue)):t.filter((e=>e instanceof RegExp)).some((e=>e.test(n)))},eo={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};const to={allowList:eo,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},no={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},io={entry:"(string|element|function|null)",selector:"(string|element)"};class oo extends Ot{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return to}static get DefaultType(){return no}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((e=>this._resolvePossibleFunction(e))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[t,n]of Object.entries(this._config.content))this._setContent(e,n,t);const t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},io)}_setContent(e,t,n){const i=St.findOne(n,e);i&&((t=this._resolvePossibleFunction(t))?He(t)?this._putElementInTemplate(je(t),i):this._config.html?i.innerHTML=this._maybeSanitize(t):i.textContent=t:i.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,n){if(!e.length)return e;if(n&&"function"==typeof n)return n(e);const i=(new window.DOMParser).parseFromString(e,"text/html"),o=[].concat(...i.body.querySelectorAll("*"));for(const e of o){const n=e.nodeName.toLowerCase();if(!Object.keys(t).includes(n)){e.remove();continue}const i=[].concat(...e.attributes),o=[].concat(t["*"]||[],t[n]||[]);for(const t of i)Qi(t,o)||e.removeAttribute(t.nodeName)}return i.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return"function"==typeof e?e(this):e}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const ro=new Set(["sanitize","allowList","sanitizeFn"]),ao="fade",so="show",lo=".modal",co="hide.bs.modal",uo="hover",ho="focus",fo={AUTO:"auto",TOP:"top",RIGHT:Ye()?"left":"right",BOTTOM:"bottom",LEFT:Ye()?"right":"left"},po={allowList:eo,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},go={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class mo extends It{constructor(e,t){if(void 0===i)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return po}static get DefaultType(){return go}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),mt.off(this._element.closest(lo),co,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=mt.trigger(this._element,this.constructor.eventName("show")),t=(ze(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();const n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));const{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(n),mt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(n),n.classList.add(so),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))mt.on(e,"mouseover",Ve);this._queueCallback((()=>{mt.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1}),this.tip,this._isAnimated())}hide(){if(!this._isShown())return;if(mt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented)return;if(this._getTipElement().classList.remove(so),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))mt.off(e,"mouseover",Ve);this._activeTrigger.click=!1,this._activeTrigger[ho]=!1,this._activeTrigger[uo]=!1,this._isHovered=null;this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),mt.trigger(this._element,this.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(ao,so),t.classList.add(`bs-${this.constructor.NAME}-auto`);const n=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(ao),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new oo({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ao)}_isShown(){return this.tip&&this.tip.classList.contains(so)}_createPopper(e){const t="function"==typeof this._config.placement?this._config.placement.call(this,e,this._element):this._config.placement,n=fo[t.toUpperCase()];return Ne(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return"function"==typeof e?e.call(this._element):e}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)mt.on(this._element,this.constructor.eventName("click"),this._config.selector,(e=>{this._initializeOnDelegatedTarget(e).toggle()}));else if("manual"!==t){const e=t===uo?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),n=t===uo?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");mt.on(this._element,e,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?ho:uo]=!0,t._enter()})),mt.on(this._element,n,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?ho:uo]=t._element.contains(e.relatedTarget),t._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},mt.on(this._element.closest(lo),co,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=yt.getDataAttributes(this._element);for(const e of Object.keys(t))ro.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:je(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each((function(){const t=mo.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}Ze(mo);const Eo={...mo.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},vo={...mo.DefaultType,content:"(null|string|element|function)"};class To extends mo{static get Default(){return Eo}static get DefaultType(){return vo}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each((function(){const t=To.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}Ze(To);const bo=".bs.scrollspy",Co=`activate${bo}`,yo=`click${bo}`,Oo=`load${bo}.data-api`,Io="active",Do="[href]",Ro=".nav-link",_o=`${Ro}, .nav-item > ${Ro}, .list-group-item`,wo={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ko={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ko extends It{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return wo}static get DefaultType(){return ko}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=je(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map((e=>Number.parseFloat(e)))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(mt.off(this._config.target,yo),mt.on(this._config.target,yo,Do,(e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const n=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(n.scrollTo)return void n.scrollTo({top:i,behavior:"smooth"});n.scrollTop=i}})))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((e=>this._observerCallback(e)),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),n=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},i=(this._rootElement||document.documentElement).scrollTop,o=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const r of e){if(!r.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(r));continue}const e=r.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&e){if(n(r),!i)return}else o||e||n(r)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=St.find(Do,this._config.target);for(const t of e){if(!t.hash||Ue(t))continue;const e=St.findOne(t.hash,this._element);qe(e)&&(this._targetLinks.set(t.hash,t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Io),this._activateParents(e),mt.trigger(this._element,Co,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))St.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(Io);else for(const t of St.parents(e,".nav, .list-group"))for(const e of St.prev(t,_o))e.classList.add(Io)}_clearActiveClass(e){e.classList.remove(Io);const t=St.find(`${Do}.${Io}`,e);for(const e of t)e.classList.remove(Io)}static jQueryInterface(e){return this.each((function(){const t=Ko.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}mt.on(window,Oo,(()=>{for(const e of St.find('[data-bs-spy="scroll"]'))Ko.getOrCreateInstance(e)})),Ze(Ko);const xo=".bs.tab",So=`hide${xo}`,No=`hidden${xo}`,Ao=`show${xo}`,Lo=`shown${xo}`,Po=`click${xo}`,Fo=`keydown${xo}`,$o=`load${xo}`,Bo="ArrowLeft",Mo="ArrowRight",Ho="ArrowUp",jo="ArrowDown",qo="active",Uo="fade",zo="show",Vo=":not(.dropdown-toggle)",Wo='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Go=`${`.nav-link${Vo}, .list-group-item${Vo}, [role="tab"]${Vo}`}, ${Wo}`,Xo=`.${qo}[data-bs-toggle="tab"], .${qo}[data-bs-toggle="pill"], .${qo}[data-bs-toggle="list"]`;class Yo extends It{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),mt.on(this._element,Fo,(e=>this._keydown(e))))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),n=t?mt.trigger(t,So,{relatedTarget:e}):null;mt.trigger(e,Ao,{relatedTarget:t}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(qo),this._activate(Be(e));this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),mt.trigger(e,Lo,{relatedTarget:t})):e.classList.add(zo)}),e,e.classList.contains(Uo))}_deactivate(e,t){if(!e)return;e.classList.remove(qo),e.blur(),this._deactivate(Be(e));this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),mt.trigger(e,No,{relatedTarget:t})):e.classList.remove(zo)}),e,e.classList.contains(Uo))}_keydown(e){if(![Bo,Mo,Ho,jo].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=[Mo,jo].includes(e.key),n=et(this._getChildren().filter((e=>!Ue(e))),e.target,t,!0);n&&(n.focus({preventScroll:!0}),Yo.getOrCreateInstance(n).show())}_getChildren(){return St.find(Go,this._parent)}_getActiveElem(){return this._getChildren().find((e=>this._elemIsActive(e)))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const e of t)this._setInitialAttributesOnChild(e)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Be(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`#${e.id}`))}_toggleDropDown(e,t){const n=this._getOuterElement(e);if(!n.classList.contains("dropdown"))return;const i=(e,i)=>{const o=St.findOne(e,n);o&&o.classList.toggle(i,t)};i(".dropdown-toggle",qo),i(".dropdown-menu",zo),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(qo)}_getInnerElement(e){return e.matches(Go)?e:St.findOne(Go,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each((function(){const t=Yo.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}mt.on(document,Po,Wo,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),Ue(this)||Yo.getOrCreateInstance(this).show()})),mt.on(window,$o,(()=>{for(const e of St.find(Xo))Yo.getOrCreateInstance(e)})),Ze(Yo);const Zo=".bs.toast",Jo=`mouseover${Zo}`,Qo=`mouseout${Zo}`,er=`focusin${Zo}`,tr=`focusout${Zo}`,nr=`hide${Zo}`,ir=`hidden${Zo}`,or=`show${Zo}`,rr=`shown${Zo}`,ar="hide",sr="show",lr="showing",cr={animation:"boolean",autohide:"boolean",delay:"number"},ur={animation:!0,autohide:!0,delay:5e3};class dr extends It{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return ur}static get DefaultType(){return cr}static get NAME(){return"toast"}show(){if(mt.trigger(this._element,or).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");this._element.classList.remove(ar),We(this._element),this._element.classList.add(sr,lr),this._queueCallback((()=>{this._element.classList.remove(lr),mt.trigger(this._element,rr),this._maybeScheduleHide()}),this._element,this._config.animation)}hide(){if(!this.isShown())return;if(mt.trigger(this._element,nr).defaultPrevented)return;this._element.classList.add(lr),this._queueCallback((()=>{this._element.classList.add(ar),this._element.classList.remove(lr,sr),mt.trigger(this._element,ir)}),this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(sr),super.dispose()}isShown(){return this._element.classList.contains(sr)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){mt.on(this._element,Jo,(e=>this._onInteraction(e,!0))),mt.on(this._element,Qo,(e=>this._onInteraction(e,!1))),mt.on(this._element,er,(e=>this._onInteraction(e,!0))),mt.on(this._element,tr,(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=dr.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}Dt(dr),Ze(dr)},27284:()=>{var e,t,n;window.CKEDITOR&&window.CKEDITOR.dom||(window.CKEDITOR||(window.CKEDITOR=function(){var e=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,t={timestamp:"MAUF",version:"4.20.1 (Standard)",revision:"b520aa2b40",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:e},status:"unloaded",basePath:function(){var t=window.CKEDITOR_BASEPATH||"";if(!t)for(var n=document.getElementsByTagName("script"),i=0;i<n.length;i++){var o=n[i].src.match(e);if(o){t=o[1];break}}if(-1==t.indexOf(":/")&&"//"!=t.slice(0,2)&&(t=0===t.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+t:location.href.match(/^[^\?]*\/(?:)/)[0]+t),!t)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return t}(),getUrl:function(e){return-1==e.indexOf(":/")&&0!==e.indexOf("/")&&(e=this.basePath+e),this.appendTimestamp(e)},appendTimestamp:function(e){if(!this.timestamp||"/"===e.charAt(e.length-1)||/[&?]t=/.test(e))return e;var t=0<=e.indexOf("?")?"&":"?";return e+t+"t="+this.timestamp},domReady:function(){function e(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",e,!1),window.removeEventListener("load",e,!1),t()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",e),window.detachEvent("onload",e),t())}catch(e){}}function t(){for(var e;e=n.shift();)e()}var n=[];return function(t){if(n.push(t),"complete"===document.readyState&&setTimeout(e,1),1==n.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",e),window.attachEvent("onload",e),t=!1;try{t=!window.frameElement}catch(e){}document.documentElement.doScroll&&t&&function t(){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(t,1)}e()}()}}}()},n=window.CKEDITOR_GETURL;if(n){var i=t.getUrl;t.getUrl=function(e){return n.call(t,e)||i.call(t,e)}}return t}()),n={},CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(e){var t,n=CKEDITOR.event.prototype;for(t in n)null==e[t]&&(e[t]=n[t])},CKEDITOR.event.prototype=function(){function e(e){var n=t(this);return n[e]||(n[e]=new i(e))}var t=function(e){return(e=e.getPrivate&&e.getPrivate()||e._||(e._={})).events||(e.events={})},i=function(e){this.name=e,this.listeners=[]};return i.prototype={getListenerIndex:function(e){for(var t=0,n=this.listeners;t<n.length;t++)if(n[t].fn==e)return t;return-1}},{define:function(t,n){var i=e.call(this,t);CKEDITOR.tools.extend(i,n,!0)},on:function(t,i,o,r,a){function s(e,a,s,c){return e={name:t,sender:this,editor:e,data:a,listenerData:r,stop:s,cancel:c,removeListener:l},!1===i.call(o,e)?n:e.data}function l(){c.removeListener(t,i)}var c=this,u=e.call(this,t);if(0>u.getListenerIndex(i)){u=u.listeners,o||(o=this),isNaN(a)&&(a=10),s.fn=i,s.priority=a;for(var d=u.length-1;0<=d;d--)if(u[d].priority<=a)return u.splice(d+1,0,s),{removeListener:l};u.unshift(s)}return{removeListener:l}},once:function(){var e=Array.prototype.slice.call(arguments),t=e[1];return e[1]=function(e){return e.removeListener(),t.apply(this,arguments)},this.on.apply(this,e)},capture:function(){CKEDITOR.event.useCapture=1;var e=this.on.apply(this,arguments);return CKEDITOR.event.useCapture=0,e},fire:function(){var e=0,i=function(){e=1},o=0,r=function(){o=1};return function(a,s,l){var c=t(this)[a];a=e;var u=o;if(e=o=0,c&&(h=c.listeners).length)for(var d,h=h.slice(0),f=0;f<h.length;f++){if(c.errorProof)try{d=h[f].call(this,l,s,i,r)}catch(e){}else d=h[f].call(this,l,s,i,r);if(d===n?o=1:void 0!==d&&(s=d),e||o)break}return s=!o&&(void 0===s||s),e=a,o=u,s}}(),fireOnce:function(e,n,i){return n=this.fire(e,n,i),delete t(this)[e],n},removeListener:function(e,n){var i=t(this)[e];if(i){var o=i.getListenerIndex(n);0<=o&&i.listeners.splice(o,1)}},removeAllListeners:function(){var e,n=t(this);for(e in n)delete n[e]},hasListeners:function(e){return(e=t(this)[e])&&0<e.listeners.length}}}()),CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]),CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(e,t){return e in{instanceReady:1,loaded:1}&&(this[e]=!0),CKEDITOR.event.prototype.fire.call(this,e,t,this)},CKEDITOR.editor.prototype.fireOnce=function(e,t){return e in{instanceReady:1,loaded:1}&&(this[e]=!0),CKEDITOR.event.prototype.fireOnce.call(this,e,t,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),CKEDITOR.env||(CKEDITOR.env=function(){var e=navigator.userAgent.toLowerCase(),t=e.match(/edge[ \/](\d+.?\d*)/),n=-1<e.indexOf("trident/");n={ie:n=!(!t&&!n),edge:!!t,webkit:!n&&-1<e.indexOf(" applewebkit/"),air:-1<e.indexOf(" adobeair/"),mac:-1<e.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode&&(!document.documentMode||10>document.documentMode),mobile:-1<e.indexOf("mobile"),iOS:/(ipad|iphone|ipod)/.test(e),isCustomDomain:function(){if(!this.ie)return!1;var e=document.domain,t=window.location.hostname;return e!=t&&e!="["+t+"]"},secure:"https:"==location.protocol},n.gecko="Gecko"==navigator.product&&!n.webkit&&!n.ie,n.webkit&&(-1<e.indexOf("chrome")?n.chrome=!0:n.safari=!0);var i=0;return n.ie&&(i=t?parseFloat(t[1]):n.quirks||!document.documentMode?parseFloat(e.match(/msie (\d+)/)[1]):document.documentMode,n.ie9Compat=9==i,n.ie8Compat=8==i,n.ie7Compat=7==i,n.ie6Compat=7>i||n.quirks),n.gecko&&(t=e.match(/rv:([\d\.]+)/))&&(i=1e4*(t=t[1].split("."))[0]+100*(t[1]||0)+1*(t[2]||0)),n.air&&(i=parseFloat(e.match(/ adobeair\/(\d+)/)[1])),n.webkit&&(i=parseFloat(e.match(/ applewebkit\/(\d+)/)[1])),n.version=i,n.isCompatible=!(n.ie&&7>i||n.gecko&&4e4>i||n.webkit&&534>i),n.hidpi=2<=window.devicePixelRatio,n.needsBrFiller=n.gecko||n.webkit||n.ie&&10<i,n.needsNbspFiller=n.ie&&11>i,n.cssClass="cke_browser_"+(n.ie?"ie":n.gecko?"gecko":n.webkit?"webkit":"unknown"),n.quirks&&(n.cssClass+=" cke_browser_quirks"),n.ie&&(n.cssClass+=" cke_browser_ie"+(n.quirks?"6 cke_browser_iequirks":n.version)),n.air&&(n.cssClass+=" cke_browser_air"),n.iOS&&(n.cssClass+=" cke_browser_ios"),n.hidpi&&(n.cssClass+=" cke_hidpi"),n}()),"unloaded"==CKEDITOR.status&&(CKEDITOR.event.implementOn(CKEDITOR),CKEDITOR.loadFullCore=function(){if("basic_ready"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var e=document.createElement("script");e.type="text/javascript",e.src=CKEDITOR.basePath+"ckeditor.js",document.getElementsByTagName("head")[0].appendChild(e)}},CKEDITOR.loadFullCoreTimeout=0,CKEDITOR.add=function(e){(this._.pending||(this._.pending=[])).push(e)},CKEDITOR.domReady((function(){var e=CKEDITOR.loadFullCore,t=CKEDITOR.loadFullCoreTimeout;e&&(CKEDITOR.status="basic_ready",e&&e._load?e():t&&setTimeout((function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()}),1e3*t))})),CKEDITOR.status="basic_loaded"),CKEDITOR.VERBOSITY_WARN=1,CKEDITOR.VERBOSITY_ERROR=2,CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR,CKEDITOR.warn=function(e,t){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire("log",{type:"warn",errorCode:e,additionalData:t})},CKEDITOR.error=function(e,t){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire("log",{type:"error",errorCode:e,additionalData:t})},CKEDITOR.on("log",(function(e){if(window.console&&window.console.log){var t=console[e.data.type]?e.data.type:"log",n=e.data.errorCode;(e=e.data.additionalData)?console[t]("[CKEDITOR] Error code: "+n+".",e):console[t]("[CKEDITOR] Error code: "+n+"."),console[t]("[CKEDITOR] For more information about this error go to https://ckeditor.com/docs/ckeditor4/latest/guide/dev_errors.html#"+n)}}),null,null,999),CKEDITOR.dom={},function(){function e(e,t,n){this._minInterval=e,this._context=n,this._lastOutput=this._scheduledTimer=0,this._output=CKEDITOR.tools.bind(t,n||{});var i=this;this.input=function(){function e(){i._lastOutput=(new Date).getTime(),i._scheduledTimer=0,i._call()}if(!i._scheduledTimer||!1!==i._reschedule()){var t=(new Date).getTime()-i._lastOutput;t<i._minInterval?i._scheduledTimer=setTimeout(e,i._minInterval-t):e()}}}function t(t,n,i){e.call(this,t,n,i),this._args=[];var o=this;this.input=CKEDITOR.tools.override(this.input,(function(e){return function(){o._args=Array.prototype.slice.call(arguments),e.call(this)}}))}var n=[],i=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",o=/&/g,r=/>/g,a=/</g,s=/"/g,l=/&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,c={lt:"<",gt:">",amp:"&",quot:'"',nbsp:" ",shy:"­"},u=function(e,t){return"#"==t[0]?String.fromCharCode(parseInt(t.slice(1),10)):c[t]};CKEDITOR.on("reset",(function(){n=[]})),CKEDITOR.tools={arrayCompare:function(e,t){if(!e&&!t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0},getIndex:function(e,t){for(var n=0;n<e.length;++n)if(t(e[n]))return n;return-1},clone:function(e){var t;if(e&&e instanceof Array){t=[];for(var n=0;n<e.length;n++)t[n]=CKEDITOR.tools.clone(e[n]);return t}if(null===e||"object"!=typeof e||e instanceof String||e instanceof Number||e instanceof Boolean||e instanceof Date||e instanceof RegExp||e.nodeType||e.window===e)return e;for(n in t=new e.constructor,e)t[n]=CKEDITOR.tools.clone(e[n]);return t},capitalize:function(e,t){return e.charAt(0).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase())},extend:function(e){var t,n,i=arguments.length;"boolean"==typeof(t=arguments[i-1])?i--:"boolean"==typeof(t=arguments[i-2])&&(n=arguments[i-1],i-=2);for(var o=1;o<i;o++){var r=arguments[o]||{};CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(r),(function(i){!0!==t&&null!=e[i]||n&&!(i in n)||(e[i]=r[i])}))}return e},prototypedCopy:function(e){var t=function(){};return t.prototype=e,new t},copy:function(e){var t,n={};for(t in e)n[t]=e[t];return n},isArray:function(e){return"[object Array]"==Object.prototype.toString.call(e)},isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},cssVendorPrefix:function(e,t,n){return n?i+e+":"+t+";"+e+":"+t:((n={})[e]=t,n[i+e]=t,n)},cssStyleToDomStyle:function(){var e=document.createElement("div").style,t=void 0!==e.cssFloat?"cssFloat":void 0!==e.styleFloat?"styleFloat":"float";return function(e){return"float"==e?t:e.replace(/-./g,(function(e){return e.substr(1).toUpperCase()}))}}(),buildStyleHtml:function(e){e=[].concat(e);for(var t,n=[],i=0;i<e.length;i++)(t=e[i])&&(/@import|[{}]/.test(t)?n.push("<style>"+t+"</style>"):(t=CKEDITOR.appendTimestamp(t),n.push('<link type="text/css" rel=stylesheet href="'+t+'">')));return n.join("")},htmlEncode:function(e){return null==e?"":String(e).replace(o,"&amp;").replace(r,"&gt;").replace(a,"&lt;")},htmlDecode:function(e){return e.replace(l,u)},htmlEncodeAttr:function(e){return CKEDITOR.tools.htmlEncode(e).replace(s,"&quot;")},htmlDecodeAttr:function(e){return CKEDITOR.tools.htmlDecode(e)},transformPlainTextToHtml:function(e,t){var n=t==CKEDITOR.ENTER_BR,i=(i=this.htmlEncode(e.replace(/\r\n/g,"\n"))).replace(/\t/g,"&nbsp;&nbsp; &nbsp;"),o=t==CKEDITOR.ENTER_P?"p":"div";if(!n){var r=/\n{2}/g;if(r.test(i)){var a="<"+o+">",s="</"+o+">";i=a+i.replace(r,(function(){return s+a}))+s}}return i=i.replace(/\n/g,"<br>"),n||(i=i.replace(new RegExp("<br>(?=</"+o+">)"),(function(e){return CKEDITOR.tools.repeat(e,2)}))),(i=i.replace(/^ | $/g,"&nbsp;")).replace(/(>|\s) /g,(function(e,t){return t+"&nbsp;"})).replace(/ (?=<)/g,"&nbsp;")},getNextNumber:function(){var e=0;return function(){return++e}}(),getNextId:function(){return"cke_"+this.getNextNumber()},getUniqueId:function(){for(var e="e",t=0;8>t;t++)e+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e},override:function(e,t){var n=t(e);return n.prototype=e.prototype,n},setTimeout:function(e,t,n,i,o){return o||(o=window),n||(n=o),o.setTimeout((function(){i?e.apply(n,[].concat(i)):e.apply(n)}),t||0)},debounce:function(e,t){var n;return function(){var i=this,o=arguments;clearTimeout(n),n=setTimeout((function(){n=null,e.apply(i,o)}),t)}},throttle:function(e,t,n){return new this.buffers.throttle(e,t,n)},trim:function(){var e=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(t){return t.replace(e,"")}}(),ltrim:function(){var e=/^[ \t\n\r]+/g;return function(t){return t.replace(e,"")}}(),rtrim:function(){var e=/[ \t\n\r]+$/g;return function(t){return t.replace(e,"")}}(),indexOf:function(e,t){if("function"==typeof t){for(var n=0,i=e.length;n<i;n++)if(t(e[n]))return n}else{if(e.indexOf)return e.indexOf(t);for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n}return-1},search:function(e,t){var n=CKEDITOR.tools.indexOf(e,t);return 0<=n?e[n]:null},bind:function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,n.concat(Array.prototype.slice.call(arguments)))}},createClass:function(e){var t=e.$,n=e.base,i=e.privates||e._,o=e.proto;if(e=e.statics,!t&&(t=function(){n&&this.base.apply(this,arguments)}),i){var r=t;t=function(){var e,t=this._||(this._={});for(e in i){var n=i[e];t[e]="function"==typeof n?CKEDITOR.tools.bind(n,this):n}r.apply(this,arguments)}}return n&&(t.prototype=this.prototypedCopy(n.prototype),t.prototype.constructor=t,t.base=n,t.baseProto=n.prototype,t.prototype.base=function e(){this.base=n.prototype.base,n.apply(this,arguments),this.base=e}),o&&this.extend(t.prototype,o,!0),e&&this.extend(t,e,!0),t},addFunction:function(e,t){return n.push((function(){return e.apply(t||this,arguments)}))-1},removeFunction:function(e){n[e]=null},callFunction:function(e){var t=n[e];return t&&t.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var e,t=/^-?\d+\.?\d*px$/;return function(n){return e=CKEDITOR.tools.trim(n+"")+"px",t.test(e)?e:n||""}}(),convertToPx:function(){var e,t;return function(n){if(e&&!e.isDetached()||(e=CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>',CKEDITOR.document),CKEDITOR.document.getBody().append(e)),!/%$/.test(n)){var i=0>parseFloat(n);return i&&(n=n.replace("-","")),e.setStyle("width",n),t=e.getClientRect(),n=Math.round(t.width),i?-n:n}return n}}(),repeat:function(e,t){return Array(t+1).join(e)},tryThese:function(){for(var e,t=0,n=arguments.length;t<n;t++){var i=arguments[t];try{e=i();break}catch(e){}}return e},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(e){return function(){var t=arguments,n=this;window.setTimeout((function(){e.apply(n,t)}),0)}},normalizeCssText:function(e,t){var n,i=[],o=CKEDITOR.tools.parseCssText(e,!0,t);for(n in o)i.push(n+":"+o[n]);return i.sort(),i.length?i.join(";")+";":""},convertRgbToHex:function(e){return e.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,(function(e,t,n,i){for(e=[t,n,i],t=0;3>t;t++)e[t]=("0"+parseInt(e[t],10).toString(16)).slice(-2);return"#"+e.join("")}))},normalizeHex:function(e){return e.replace(/#(([0-9a-f]{3}){1,2})($|;|\s+)/gi,(function(e,t,n,i){return 3==(e=t.toLowerCase()).length&&(e=[(e=e.split(""))[0],e[0],e[1],e[1],e[2],e[2]].join("")),"#"+e+i}))},_isValidColorFormat:function(e){return!!e&&(e=e.replace(/\s+/g,""),/^[a-z0-9()#%,./]+$/i.test(e))},parseCssText:function(e,t,n){var i={};return n&&(e=new CKEDITOR.dom.element("span").setAttribute("style",e).getAttribute("style")||""),e&&(e=CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(e))),e&&";"!=e?(e.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,(function(e,n,o){t&&("font-family"==(n=n.toLowerCase())&&(o=o.replace(/\s*,\s*/g,",")),o=CKEDITOR.tools.trim(o)),i[n]=o})),i):i},writeCssText:function(e,t){var n,i=[];for(n in e)i.push(n+":"+e[n]);return t&&i.sort(),i.join("; ")},objectCompare:function(e,t,n){var i;if(!e&&!t)return!0;if(!e||!t)return!1;for(i in e)if(e[i]!=t[i])return!1;if(!n)for(i in t)if(e[i]!=t[i])return!1;return!0},objectKeys:function(e){return CKEDITOR.tools.object.keys(e)},convertArrayToObject:function(e,t){var n={};1==arguments.length&&(t=!0);for(var i=0,o=e.length;i<o;++i)n[e[i]]=t;return n},getStyledSpans:function(e,t){var n=CKEDITOR.env.ie&&8==CKEDITOR.env.version?e.toUpperCase():e;return n=t.find("span[style*="+n+"]").toArray(),CKEDITOR.tools.array.filter(n,(function(t){return!!t.getStyle(e)}))},fixDomain:function(){for(var e;;)try{e=window.parent.document.domain;break}catch(t){if(!(e=e?e.replace(/.+?(?:\.|$)/,""):document.domain))break;document.domain=e}return!!e},eventsBuffer:function(e,t,n){return new this.buffers.event(e,t,n)},enableHtml5Elements:function(e,t){for(var n,i="abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video".split(" "),o=i.length;o--;)n=e.createElement(i[o]),t&&e.appendChild(n)},checkIfAnyArrayItemMatches:function(e,t){for(var n=0,i=e.length;n<i;++n)if(e[n].match(t))return!0;return!1},checkIfAnyObjectPropertyMatches:function(e,t){for(var n in e)if(n.match(t))return!0;return!1},keystrokeToString:function(e,t){var n=this.keystrokeToArray(e,t);return n.display=n.display.join("+"),n.aria=n.aria.join("+"),n},keystrokeToArray:function(e,t){var n=16711680&t,i=65535&t,o=CKEDITOR.env.mac,r=[],a=[];return n&CKEDITOR.CTRL&&(r.push(o?"⌘":e[17]),a.push(o?e[224]:e[17])),n&CKEDITOR.ALT&&(r.push(o?"⌥":e[18]),a.push(e[18])),n&CKEDITOR.SHIFT&&(r.push(o?"⇧":e[16]),a.push(e[16])),i&&(e[i]?(r.push(e[i]),a.push(e[i])):(r.push(String.fromCharCode(i)),a.push(String.fromCharCode(i)))),{display:r,aria:a}},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==",getCookie:function(e){e=e.toLowerCase();for(var t,n=document.cookie.split(";"),i=0;i<n.length;i++)if(t=n[i].split("="),decodeURIComponent(CKEDITOR.tools.trim(t[0]).toLowerCase())===e)return decodeURIComponent(1<t.length?t[1]:"");return null},setCookie:function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/"},getCsrfToken:function(){if(!(e=CKEDITOR.tools.getCookie("ckCsrfToken"))||40!=e.length){var e=[],t="";if(window.crypto&&window.crypto.getRandomValues)e=new Uint8Array(40),window.crypto.getRandomValues(e);else for(var n=0;40>n;n++)e.push(Math.floor(256*Math.random()));for(n=0;n<e.length;n++){var i="abcdefghijklmnopqrstuvwxyz0123456789".charAt(e[n]%36);t+=.5<Math.random()?i.toUpperCase():i}e=t,CKEDITOR.tools.setCookie("ckCsrfToken",e)}return e},escapeCss:function(e){if(e)if(window.CSS&&CSS.escape)e=CSS.escape(e);else{for(var t,n=(e=String(e)).length,i=-1,o="",r=e.charCodeAt(0);++i<n;)o=0==(t=e.charCodeAt(i))?o+"�":127==t||1<=t&&31>=t||0==i&&48<=t&&57>=t||1==i&&48<=t&&57>=t&&45==r?o+"\\"+t.toString(16)+" ":0==i&&1==n&&45==t?o+"\\"+e.charAt(i):128<=t||45==t||95==t||48<=t&&57>=t||65<=t&&90>=t||97<=t&&122>=t?o+e.charAt(i):o+"\\"+e.charAt(i);e=o}else e="";return e},getMouseButton:function(e){return!!(e=e&&e.data?e.data.$:e)&&CKEDITOR.tools.normalizeMouseButton(e.button)},normalizeMouseButton:function(e,t){if(!CKEDITOR.env.ie||9<=CKEDITOR.env.version&&!CKEDITOR.env.ie6Compat)return e;for(var n=[[CKEDITOR.MOUSE_BUTTON_LEFT,1],[CKEDITOR.MOUSE_BUTTON_MIDDLE,4],[CKEDITOR.MOUSE_BUTTON_RIGHT,2]],i=0;i<n.length;i++){var o=n[i];if(o[0]===e&&t)return o[1];if(!t&&o[1]===e)return o[0]}},convertHexStringToBytes:function(e){var t,n=[],i=e.length/2;for(t=0;t<i;t++)n.push(parseInt(e.substr(2*t,2),16));return n},convertBytesToBase64:function(e){var t,n="",i=e.length;for(t=0;t<i;t+=3){var o,r=e.slice(t,t+3),a=r.length,s=[];if(3>a)for(o=a;3>o;o++)r[o]=0;for(s[0]=(252&r[0])>>2,s[1]=(3&r[0])<<4|r[1]>>4,s[2]=(15&r[1])<<2|(192&r[2])>>6,s[3]=63&r[2],o=0;4>o;o++)n=o<=a?n+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s[o]):n+"="}return n},style:{parse:{_borderStyle:"none hidden dotted dashed solid double groove ridge inset outset".split(" "),_widthRegExp:/^(thin|medium|thick|[\+-]?\d+(\.\d+)?[a-z%]+|[\+-]?0+(\.0+)?|\.\d+[a-z%]+)$/,_rgbaRegExp:/rgba?\(\s*\d+%?\s*,\s*\d+%?\s*,\s*\d+%?\s*(?:,\s*[0-9.]+\s*)?\)/gi,_hslaRegExp:/hsla?\(\s*[0-9.]+\s*,\s*\d+%\s*,\s*\d+%\s*(?:,\s*[0-9.]+\s*)?\)/gi,background:function(e){var t={},n=this._findColor(e);return n.length&&(t.color=n[0],CKEDITOR.tools.array.forEach(n,(function(t){e=e.replace(t,"")}))),(e=CKEDITOR.tools.trim(e))&&(t.unprocessed=e),t},margin:function(e){return CKEDITOR.tools.style.parse.sideShorthand(e,(function(e){return e.match(/(?:\-?[\.\d]+(?:%|\w*)|auto|inherit|initial|unset|revert)/g)||["0px"]}))},sideShorthand:function(e,t){function n(e){i.top=o[e[0]],i.right=o[e[1]],i.bottom=o[e[2]],i.left=o[e[3]]}var i={},o=t?t(e):e.split(/\s+/);switch(o.length){case 1:n([0,0,0,0]);break;case 2:n([0,1,0,1]);break;case 3:n([0,1,2,1]);break;case 4:n([0,1,2,3])}return i},border:function(e){return CKEDITOR.tools.style.border.fromCssRule(e)},_findColor:function(e){var t=[],n=CKEDITOR.tools.array;return(t=(t=t.concat(e.match(this._rgbaRegExp)||[])).concat(e.match(this._hslaRegExp)||[])).concat(n.filter(e.split(/\s+/),(function(e){return!!e.match(/^\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/gi)||e.toLowerCase()in CKEDITOR.tools.style.parse._colors})))}}},array:{filter:function(e,t,n){var i=[];return this.forEach(e,(function(o,r){t.call(n,o,r,e)&&i.push(o)})),i},find:function(e,t,n){for(var i=e.length,o=0;o<i;){if(t.call(n,e[o],o,e))return e[o];o++}},forEach:function(e,t,n){var i,o=e.length;for(i=0;i<o;i++)t.call(n,e[i],i,e)},map:function(e,t,n){for(var i=[],o=0;o<e.length;o++)i.push(t.call(n,e[o],o,e));return i},reduce:function(e,t,n,i){for(var o=0;o<e.length;o++)n=t.call(i,n,e[o],o,e);return n},every:function(e,t,n){return!e.length||(t=this.filter(e,t,n),e.length===t.length)},some:function(e,t,n){for(var i=0;i<e.length;i++)if(t.call(n,e[i],i,e))return!0;return!1},zip:function(e,t){return CKEDITOR.tools.array.map(e,(function(e,n){return[e,t[n]]}))},unique:function(e){return this.filter(e,(function(t,n){return n===CKEDITOR.tools.array.indexOf(e,t)}))}},object:{DONT_ENUMS:"toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),entries:function(e){return CKEDITOR.tools.array.map(CKEDITOR.tools.object.keys(e),(function(t){return[t,e[t]]}))},values:function(e){return CKEDITOR.tools.array.map(CKEDITOR.tools.object.keys(e),(function(t){return e[t]}))},keys:function(e){var t=Object.prototype.hasOwnProperty,n=[],i=CKEDITOR.tools.object.DONT_ENUMS;if(CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(!e||"object"!=typeof e)){if(t=[],"string"==typeof e)for(n=0;n<e.length;n++)t.push(String(n));return t}for(var o in e)n.push(o);if(CKEDITOR.env.ie&&9>CKEDITOR.env.version)for(o=0;o<i.length;o++)t.call(e,i[o])&&n.push(i[o]);return n},findKey:function(e,t){if("object"!=typeof e)return null;for(var n in e)if(e[n]===t)return n;return null},merge:function(e,t){var n=CKEDITOR.tools,i=n.clone(e),o=n.clone(t);return n.array.forEach(n.object.keys(o),(function(e){i[e]="object"==typeof o[e]&&"object"==typeof i[e]?n.object.merge(i[e],o[e]):o[e]})),i}},getAbsoluteRectPosition:function(e,t){var n=CKEDITOR.tools.copy(t);!function e(t){if(t){var i=t.getClientRect();n.top+=i.top,n.left+=i.left,"x"in n&&"y"in n&&(n.x+=i.x,n.y+=i.y),e(t.getWindow().getFrame())}}(e.getFrame());var i=CKEDITOR.document.getWindow().getScrollPosition();return n.top+=i.y,n.left+=i.x,"x"in n&&"y"in n&&(n.y+=i.y,n.x+=i.x),n.right=n.left+n.width,n.bottom=n.top+n.height,n}},e.prototype={reset:function(){this._lastOutput=0,this._clearTimer()},_reschedule:function(){return!1},_call:function(){this._output()},_clearTimer:function(){this._scheduledTimer&&clearTimeout(this._scheduledTimer),this._scheduledTimer=0}},t.prototype=CKEDITOR.tools.prototypedCopy(e.prototype),t.prototype._reschedule=function(){this._scheduledTimer&&this._clearTimer()},t.prototype._call=function(){this._output.apply(this._context,this._args)},CKEDITOR.tools.buffers={},CKEDITOR.tools.buffers.event=e,CKEDITOR.tools.buffers.throttle=t,CKEDITOR.tools.style.border=CKEDITOR.tools.createClass({$:function(e){e=e||{},this.width=e.width,this.style=e.style,this.color=e.color,this._.normalize()},_:{normalizeMap:{color:[[/windowtext/g,"black"]]},normalize:function(){for(var e in this._.normalizeMap){var t=this[e];t&&(this[e]=CKEDITOR.tools.array.reduce(this._.normalizeMap[e],(function(e,t){return e.replace(t[0],t[1])}),t))}}},proto:{toString:function(){return CKEDITOR.tools.array.filter([this.width,this.style,this.color],(function(e){return!!e})).join(" ")}},statics:{fromCssRule:function(e){var t={},n=e.split(/\s+/g);return(e=CKEDITOR.tools.style.parse._findColor(e)).length&&(t.color=e[0]),CKEDITOR.tools.array.forEach(n,(function(e){t.style||-1===CKEDITOR.tools.indexOf(CKEDITOR.tools.style.parse._borderStyle,e)?!t.width&&CKEDITOR.tools.style.parse._widthRegExp.test(e)&&(t.width=e):t.style=e})),new CKEDITOR.tools.style.border(t)},splitCssValues:function(e,t){t=t||{};var n=CKEDITOR.tools.array.reduce(["width","style","color"],(function(n,i){var o=e["border-"+i]||t[i];return n[i]=o?CKEDITOR.tools.style.parse.sideShorthand(o):null,n}),{});return CKEDITOR.tools.array.reduce(["top","right","bottom","left"],(function(t,i){var o,r={};for(o in n){var a=e["border-"+i+"-"+o];r[o]=a||n[o]&&n[o][i]}return t["border-"+i]=new CKEDITOR.tools.style.border(r),t}),{})}}}),CKEDITOR.tools.array.indexOf=CKEDITOR.tools.indexOf,CKEDITOR.tools.array.isArray=CKEDITOR.tools.isArray,CKEDITOR.MOUSE_BUTTON_LEFT=0,CKEDITOR.MOUSE_BUTTON_MIDDLE=1,CKEDITOR.MOUSE_BUTTON_RIGHT=2}(),CKEDITOR.dtd=function(){var e=CKEDITOR.tools.extend,t=function(e,t){for(var n=CKEDITOR.tools.clone(e),i=1;i<arguments.length;i++)for(var o in t=arguments[i])delete n[o];return n},n={},i={},o={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},r={command:1,link:1,meta:1,noscript:1,script:1,style:1},a={},s={"#":1},l={center:1,dir:1,noframes:1};return e(n,{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,var:1,video:1,wbr:1},s,{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1}),e(i,o,n,l),t={a:t(n,{a:1,button:1}),abbr:n,address:i,area:a,article:i,aside:i,audio:e({source:1,track:1},i),b:n,base:a,bdi:n,bdo:n,blockquote:i,body:i,br:a,button:t(n,{a:1,button:1}),canvas:n,caption:i,cite:n,code:n,col:a,colgroup:{col:1},command:a,datalist:e({option:1},n),dd:i,del:n,details:e({summary:1},i),dfn:n,div:i,dl:{dt:1,dd:1},dt:i,em:n,embed:a,fieldset:e({legend:1},i),figcaption:i,figure:e({figcaption:1},i),footer:i,form:i,h1:n,h2:n,h3:n,h4:n,h5:n,h6:n,head:e({title:1,base:1},r),header:i,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:a,html:e({head:1,body:1},i,r),i:n,iframe:s,img:a,input:a,ins:n,kbd:n,keygen:a,label:n,legend:n,li:i,link:a,main:i,map:i,mark:n,menu:e({li:1},i),meta:a,meter:t(n,{meter:1}),nav:i,noscript:e({link:1,meta:1,style:1},n),object:e({param:1},n),ol:{li:1},optgroup:{option:1},option:s,output:n,p:n,param:a,pre:n,progress:t(n,{progress:1}),q:n,rp:n,rt:n,ruby:e({rp:1,rt:1},n),s:n,samp:n,script:s,section:i,select:{optgroup:1,option:1},small:n,source:a,span:n,strong:n,style:s,sub:n,summary:e({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},n),sup:n,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:i,textarea:s,tfoot:{tr:1},th:i,thead:{tr:1},time:t(n,{time:1}),title:s,tr:{th:1,td:1},track:a,u:n,ul:{li:1},var:n,video:e({source:1,track:1},i),wbr:a,acronym:n,applet:e({param:1},i),basefont:a,big:n,center:i,dialog:a,dir:{li:1},font:n,isindex:a,noframes:i,strike:n,tt:n},e(t,{$block:e({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},o,l),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:n,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:e({body:1,head:1,html:1},t.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,var:1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}}),t}(),CKEDITOR.dom.event=function(e){this.$=e},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var e=this.getKey();return(this.$.ctrlKey||this.$.metaKey)&&(e+=CKEDITOR.CTRL),this.$.shiftKey&&(e+=CKEDITOR.SHIFT),this.$.altKey&&(e+=CKEDITOR.ALT),e},preventDefault:function(e){var t=this.$;t.preventDefault?t.preventDefault():t.returnValue=!1,e&&this.stopPropagation()},stopPropagation:function(){var e=this.$;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},getTarget:function(){var e=this.$.target||this.$.srcElement;return e?new CKEDITOR.dom.node(e):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var e=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(e.documentElement.scrollLeft||e.body.scrollLeft),y:this.$.pageY||this.$.clientY+(e.documentElement.scrollTop||e.body.scrollTop)}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.HISTORY_NATIVE=1,CKEDITOR.HISTORY_HASH=2,CKEDITOR.HISTORY_OFF=0,CKEDITOR.dom.domObject=function(e){e&&(this.$=e)},CKEDITOR.dom.domObject.prototype=function(){var e=function(e,t){return function(n){"undefined"!=typeof CKEDITOR&&e.fire(t,new CKEDITOR.dom.event(n))}};return{getPrivate:function(){var e;return(e=this.getCustomData("_"))||this.setCustomData("_",e={}),e},on:function(t){var n=this.getCustomData("_cke_nativeListeners");return n||(n={},this.setCustomData("_cke_nativeListeners",n)),n[t]||(n=n[t]=e(this,t),this.$.addEventListener?this.$.addEventListener(t,n,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+t,n)),CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(e){if(CKEDITOR.event.prototype.removeListener.apply(this,arguments),!this.hasListeners(e)){var t=this.getCustomData("_cke_nativeListeners"),n=t&&t[e];n&&(this.$.removeEventListener?this.$.removeEventListener(e,n,!1):this.$.detachEvent&&this.$.detachEvent("on"+e,n),delete t[e])}},removeAllListeners:function(){try{var e,t=this.getCustomData("_cke_nativeListeners");for(e in t){var n=t[e];this.$.detachEvent?this.$.detachEvent("on"+e,n):this.$.removeEventListener&&this.$.removeEventListener(e,n,!1),delete t[e]}}catch(e){if(!CKEDITOR.env.edge||-2146828218!==e.number)throw e}CKEDITOR.event.prototype.removeAllListeners.call(this)}}}(),function(e){var t={};CKEDITOR.on("reset",(function(){t={}})),e.equals=function(e){try{return e&&e.$===this.$}catch(e){return!1}},e.setCustomData=function(e,n){var i=this.getUniqueId();return(t[i]||(t[i]={}))[e]=n,this},e.getCustomData=function(e){var n=this.$["data-cke-expando"];return(n=n&&t[n])&&e in n?n[e]:null},e.removeCustomData=function(e){var n,i,o;return(n=(n=this.$["data-cke-expando"])&&t[n])&&(i=n[e],o=e in n,delete n[e]),o?i:null},e.clearCustomData=function(){this.removeAllListeners();var e=this.getUniqueId();e&&delete t[e]},e.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())},CKEDITOR.event.implementOn(e)}(CKEDITOR.dom.domObject.prototype),CKEDITOR.dom.node=function(e){return e?new CKEDITOR.dom[e.nodeType==CKEDITOR.NODE_DOCUMENT?"document":e.nodeType==CKEDITOR.NODE_ELEMENT?"element":e.nodeType==CKEDITOR.NODE_TEXT?"text":e.nodeType==CKEDITOR.NODE_COMMENT?"comment":e.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](e):this},CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(e,t){return e.append(this,t),e},clone:function(e,t){var n=this.$.cloneNode(e);return function n(i){if(i["data-cke-expando"]&&(i["data-cke-expando"]=!1),(i.nodeType==CKEDITOR.NODE_ELEMENT||i.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(t||i.nodeType!=CKEDITOR.NODE_ELEMENT||i.removeAttribute("id",!1),e)){i=i.childNodes;for(var o=0;o<i.length;o++)n(i[o])}}(n),n=new CKEDITOR.dom.node(n),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&function t(n){if(n.type==CKEDITOR.NODE_ELEMENT||n.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(n.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var i=n.getName();":"==i[0]&&n.renameNode(i.substring(1))}if(e)for(i=0;i<n.getChildCount();i++)t(n.getChild(i))}}(n),n},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(e){return e.$.parentNode.insertBefore(this.$,e.$.nextSibling),e},insertBefore:function(e){return e.$.parentNode.insertBefore(this.$,e.$),e},insertBeforeMe:function(e){return this.$.parentNode.insertBefore(e.$,this.$),e},getAddress:function(e){for(var t=[],n=this.getDocument().$.documentElement,i=this;i&&i!=n;){var o=i.getParent();o&&t.unshift(this.getIndex.call(i,e)),i=o}return t},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(e){function t(e,n){var i=n?e.getNext():e.getPrevious();return i&&i.type==CKEDITOR.NODE_TEXT?i.isEmpty()?t(i,n):i:null}var n,i=this,o=-1;if(!this.getParent()||e&&i.type==CKEDITOR.NODE_TEXT&&i.isEmpty()&&!t(i)&&!t(i,!0))return-1;do{e&&!i.equals(this)&&i.type==CKEDITOR.NODE_TEXT&&(n||i.isEmpty())||(o++,n=i.type==CKEDITOR.NODE_TEXT)}while(i=i.getPrevious());return o},getNextSourceNode:function(e,t,n){if(n&&!n.call){var i=n;n=function(e){return!e.equals(i)}}var o;if(!(e=!e&&this.getFirst&&this.getFirst())){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&!1===n(this,!0))return null;e=this.getNext()}for(;!e&&(o=(o||this).getParent());){if(n&&!1===n(o,!0))return null;e=o.getNext()}return!e||n&&!1===n(e)?null:t&&t!=e.type?e.getNextSourceNode(!1,t,n):e},getPreviousSourceNode:function(e,t,n){if(n&&!n.call){var i=n;n=function(e){return!e.equals(i)}}var o;if(!(e=!e&&this.getLast&&this.getLast())){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&!1===n(this,!0))return null;e=this.getPrevious()}for(;!e&&(o=(o||this).getParent());){if(n&&!1===n(o,!0))return null;e=o.getPrevious()}return!e||n&&!1===n(e)?null:t&&e.type!=t?e.getPreviousSourceNode(!1,t,n):e},getPrevious:function(e){var t,n=this.$;do{t=(n=n.previousSibling)&&10!=n.nodeType&&new CKEDITOR.dom.node(n)}while(t&&e&&!e(t));return t},getNext:function(e){var t,n=this.$;do{t=(n=n.nextSibling)&&new CKEDITOR.dom.node(n)}while(t&&e&&!e(t));return t},getParent:function(e){var t=this.$.parentNode;return t&&(t.nodeType==CKEDITOR.NODE_ELEMENT||e&&t.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(t):null},getParents:function(e){var t=this,n=[];do{n[e?"push":"unshift"](t)}while(t=t.getParent());return n},getCommonAncestor:function(e){if(e.equals(this))return this;if(e.contains&&e.contains(this))return e;var t=this.contains?this:this.getParent();do{if(t.contains(e))return t}while(t=t.getParent());return null},getPosition:function(e){var t=this.$,n=e.$;if(t.compareDocumentPosition)return t.compareDocumentPosition(n);if(t==n)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&e.type==CKEDITOR.NODE_ELEMENT){if(t.contains){if(t.contains(n))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(n.contains(t))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in t)return 0>t.sourceIndex||0>n.sourceIndex?CKEDITOR.POSITION_DISCONNECTED:t.sourceIndex<n.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}t=this.getAddress(),e=e.getAddress(),n=Math.min(t.length,e.length);for(var i=0;i<n;i++)if(t[i]!=e[i])return t[i]<e[i]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return t.length<e.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(e,t){var n,i,o=this.$;for(t||(o=o.parentNode),"function"==typeof e?(i=!0,n=e):(i=!1,n=function(t){return t="string"==typeof t.nodeName?t.nodeName.toLowerCase():"","string"==typeof e?t==e:t in e});o;){if(n(i?new CKEDITOR.dom.node(o):o))return new CKEDITOR.dom.node(o);try{o=o.parentNode}catch(e){o=null}}return null},hasAscendant:function(e,t){var n=this.$;for(t||(n=n.parentNode);n;){if(n.nodeName&&n.nodeName.toLowerCase()==e)return!0;n=n.parentNode}return!1},move:function(e,t){e.append(this.remove(),t)},remove:function(e){var t=this.$,n=t.parentNode;if(n){if(e)for(;e=t.firstChild;)n.insertBefore(t.removeChild(e),t);n.removeChild(t)}return this},replace:function(e){this.insertBefore(e),e.remove()},trim:function(){this.ltrim(),this.rtrim()},ltrim:function(){for(var e;this.getFirst&&(e=this.getFirst());){if(e.type==CKEDITOR.NODE_TEXT){var t=CKEDITOR.tools.ltrim(e.getText()),n=e.getLength();if(!t){e.remove();continue}t.length<n&&(e.split(n-t.length),this.$.removeChild(this.$.firstChild))}break}},rtrim:function(){for(var e;this.getLast&&(e=this.getLast());){if(e.type==CKEDITOR.NODE_TEXT){var t=CKEDITOR.tools.rtrim(e.getText()),n=e.getLength();if(!t){e.remove();continue}t.length<n&&(e.split(t.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild))}break}CKEDITOR.env.needsBrFiller&&(e=this.$.lastChild)&&1==e.type&&"br"==e.nodeName.toLowerCase()&&e.parentNode.removeChild(e)},isReadOnly:function(e){var t=this;if(this.type!=CKEDITOR.NODE_ELEMENT&&(t=this.getParent()),CKEDITOR.env.edge&&t&&t.is("textarea","input")&&(e=!0),!e&&t&&void 0!==t.$.isContentEditable)return!(t.$.isContentEditable||t.data("cke-editable"));for(;t;){if(t.data("cke-editable"))return!1;if(t.hasAttribute("contenteditable"))return"false"==t.getAttribute("contenteditable");t=t.getParent()}return!0}}),CKEDITOR.dom.window=function(e){CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var e=this.$.document,t="CSS1Compat"==e.compatMode;return{width:(t?e.documentElement.clientWidth:e.body.clientWidth)||0,height:(t?e.documentElement.clientHeight:e.body.clientHeight)||0}},getScrollPosition:function(){var e=this.$;return"pageXOffset"in e?{x:e.pageXOffset||0,y:e.pageYOffset||0}:{x:(e=e.document).documentElement.scrollLeft||e.body.scrollLeft||0,y:e.documentElement.scrollTop||e.body.scrollTop||0}},getFrame:function(){var e=this.$.frameElement;return e?new CKEDITOR.dom.element.get(e):null}}),CKEDITOR.dom.document=function(e){CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(e){if(e=CKEDITOR.appendTimestamp(e),this.$.createStyleSheet)this.$.createStyleSheet(e);else{var t=new CKEDITOR.dom.element("link");t.setAttributes({rel:"stylesheet",type:"text/css",href:e}),this.getHead().append(t)}},appendStyleText:function(e){if(this.$.createStyleSheet){var t=this.$.createStyleSheet("");t.cssText=e}else{var n=new CKEDITOR.dom.element("style",this);n.append(new CKEDITOR.dom.text(e,this)),this.getHead().append(n)}return t||n.$.sheet},createElement:function(e,t){var n=new CKEDITOR.dom.element(e,this);return t&&(t.attributes&&n.setAttributes(t.attributes),t.styles&&n.setStyles(t.styles)),n},createText:function(e){return new CKEDITOR.dom.text(e,this)},focus:function(){this.getWindow().focus()},getActive:function(){var e;try{e=this.$.activeElement}catch(e){return null}return new CKEDITOR.dom.element(e)},getById:function(e){return(e=this.$.getElementById(e))?new CKEDITOR.dom.element(e):null},getByAddress:function(e,t){for(var n=this.$.documentElement,i=0;n&&i<e.length;i++){var o=e[i];if(t)for(var r=-1,a=0;a<n.childNodes.length;a++){var s=n.childNodes[a];if((!0!==t||3!=s.nodeType||!s.previousSibling||3!=s.previousSibling.nodeType)&&++r==o){n=s;break}}else n=n.childNodes[o]}return n?new CKEDITOR.dom.node(n):null},getElementsByTag:function(e,t){return CKEDITOR.env.ie&&8>=document.documentMode||!t||(e=t+":"+e),new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(e))},getHead:function(){var e=this.$.getElementsByTagName("head")[0];return e?new CKEDITOR.dom.element(e):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(e){this.$.open("text/html","replace"),CKEDITOR.env.ie&&(e=e.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$&\n<script data-cke-temp="1">('+CKEDITOR.tools.fixDomain+")();<\/script>")),this.$.write(e),this.$.close()},find:function(e){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(e))},findOne:function(e){return(e=this.$.querySelector(e))?new CKEDITOR.dom.element(e):null},_getHtml5ShivFrag:function(){var e=this.getCustomData("html5ShivFrag");return e||(e=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(e,!0),this.setCustomData("html5ShivFrag",e)),e}}),CKEDITOR.dom.nodeList=function(e){this.$=e},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(e){return 0>e||e>=this.$.length?null:(e=this.$[e])?new CKEDITOR.dom.node(e):null},toArray:function(){return CKEDITOR.tools.array.map(this.$,(function(e){return new CKEDITOR.dom.node(e)}))}},CKEDITOR.dom.element=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createElement(e)),CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.element.get=function(e){return(e="string"==typeof e?document.getElementById(e)||document.getElementsByName(e)[0]:e)&&(e.$?e:new CKEDITOR.dom.element(e))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(e,t){var n=new CKEDITOR.dom.element("div",t);return n.setHtml(e),n.getFirst().remove()},CKEDITOR.dom.element.setMarker=function(e,t,n,i){var o=t.getCustomData("list_marker_id")||t.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),r=t.getCustomData("list_marker_names")||t.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");return e[o]=t,r[n]=1,t.setCustomData(n,i)},CKEDITOR.dom.element.clearAllMarkers=function(e){for(var t in e)CKEDITOR.dom.element.clearMarkers(e,e[t],1)},CKEDITOR.dom.element.clearMarkers=function(e,t,n){var i,o=t.getCustomData("list_marker_names"),r=t.getCustomData("list_marker_id");for(i in o)t.removeCustomData(i);t.removeCustomData("list_marker_names"),n&&(t.removeCustomData("list_marker_id"),delete e[r])},function(){function e(e,t){return-1<(" "+e+" ").replace(r," ").indexOf(" "+t+" ")}function t(e){var t=!0;return e.$.id||(e.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber(),t=!1),function(){t||e.removeAttribute("id")}}function n(e,t){var n=CKEDITOR.tools.escapeCss(e.$.id);return"#"+n+" "+t.split(/,\s*/).join(", #"+n+" ")}function i(e){for(var t=0,n=0,i=a[e].length;n<i;n++)t+=parseFloat(this.getComputedStyle(a[e][n])||0,10)||0;return t}var o=void 0!==(o=document.createElement("_").classList)&&null!==String(o.add).match(/\[Native code\]/gi),r=/[\n\t\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:o?function(e){return this.$.classList.add(e),this}:function(t){var n=this.$.className;return n&&(e(n,t)||(n+=" "+t)),this.$.className=n||t,this},removeClass:o?function(e){var t=this.$;return t.classList.remove(e),t.className||t.removeAttribute("class"),this}:function(t){var n=this.getAttribute("class");return n&&e(n,t)&&((n=n.replace(new RegExp("(?:^|\\s+)"+t+"(?=\\s|$)"),"").replace(/^\s+/,""))?this.setAttribute("class",n):this.removeAttribute("class")),this},hasClass:function(t){return e(this.$.className,t)},append:function(e,t){return"string"==typeof e&&(e=this.getDocument().createElement(e)),t?this.$.insertBefore(e.$,this.$.firstChild):this.$.appendChild(e.$),e},appendHtml:function(e){if(this.$.childNodes.length){var t=new CKEDITOR.dom.element("div",this.getDocument());t.setHtml(e),t.moveChildren(this)}else this.setHtml(e)},appendText:function(e){null!=this.$.text&&CKEDITOR.env.ie&&9>CKEDITOR.env.version?this.$.text+=e:this.append(new CKEDITOR.dom.text(e))},appendBogus:function(e){if(e||CKEDITOR.env.needsBrFiller){for(e=this.getLast();e&&e.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(e.getText());)e=e.getPrevious();e&&e.is&&e.is("br")||(e=this.getDocument().createElement("br"),CKEDITOR.env.gecko&&e.setAttribute("type","_moz"),this.append(e))}},breakParent:function(e,t){var n=new CKEDITOR.dom.range(this.getDocument());n.setStartAfter(this),n.setEndAfter(e);var i,o=n.extractContents(!1,t||!1);if(n.insertNode(this.remove()),CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(n=new CKEDITOR.dom.element("div");i=o.getFirst();)i.$.style.backgroundColor&&(i.$.style.backgroundColor=i.$.style.backgroundColor),n.append(i);n.insertAfter(this),n.remove(!0)}else o.insertAfterNode(this)},contains:document.compareDocumentPosition?function(e){return!!(16&this.$.compareDocumentPosition(e.$))}:function(e){var t=this.$;return e.type!=CKEDITOR.NODE_ELEMENT?t.contains(e.getParent().$):t!=e.$&&t.contains(e.$)},focus:function(){function e(){try{this.$.focus()}catch(e){}}return function(t){t?CKEDITOR.tools.setTimeout(e,100,this):e.call(this)}}(),getHtml:function(){var e=this.$.innerHTML;return CKEDITOR.env.ie?e.replace(/<\?[^>]*>/g,""):e},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var e=this.$.ownerDocument.createElement("div");return e.appendChild(this.$.cloneNode(!0)),e.innerHTML},getClientRect:function(e){var t=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());return!t.width&&(t.width=t.right-t.left),!t.height&&(t.height=t.bottom-t.top),e?CKEDITOR.tools.getAbsoluteRectPosition(this.getWindow(),t):t},setHtml:CKEDITOR.env.ie&&9>CKEDITOR.env.version?function(e){try{var t=this.$;if(this.getParent())return t.innerHTML=e;var n=this.getDocument()._getHtml5ShivFrag();return n.appendChild(t),t.innerHTML=e,n.removeChild(t),e}catch(n){for(this.$.innerHTML="",(t=new CKEDITOR.dom.element("body",this.getDocument())).$.innerHTML=e,t=t.getChildren();t.count();)this.append(t.getItem(0));return e}}:function(e){return this.$.innerHTML=e},setText:function(){var e=document.createElement("p");return e.innerHTML="x",e=e.textContent,function(t){this.$[e?"textContent":"innerText"]=t}}(),getAttribute:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(e){switch(e){case"class":e="className";break;case"http-equiv":e="httpEquiv";break;case"name":return this.$.name;case"tabindex":return 0!==(e=this.$.getAttribute(e,2))&&0===this.$.tabIndex&&(e=null),e;case"checked":return((e=this.$.attributes.getNamedItem(e)).specified?e.nodeValue:this.$.checked)?"checked":null;case"hspace":case"value":return this.$[e];case"style":return this.$.style.cssText;case"contenteditable":case"contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):null}return this.$.getAttribute(e,2)}:function(e){return this.$.getAttribute(e,2)},getAttributes:function(e){var t,n={},i=this.$.attributes;for(e=CKEDITOR.tools.isArray(e)?e:[],t=0;t<i.length;t++)-1===CKEDITOR.tools.indexOf(e,i[t].name)&&(n[i[t].name]=i[t].value);return n},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getClientSize:function(){return{width:this.$.clientWidth,height:this.$.clientHeight}},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(e){var t=this.getWindow().$.getComputedStyle(this.$,null);return t?t.getPropertyValue(e):""}:function(e){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(e)]},getDtd:function(){var e=CKEDITOR.dtd[this.getName()];return this.getDtd=function(){return e},e},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:function(){var e=this.$.tabIndex;return 0!==e||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute("tabindex"),10)?e:-1},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var e=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&8>=document.documentMode){var t=this.$.scopeName;"HTML"!=t&&(e=t.toLowerCase()+":"+e)}return this.getName=function(){return e},this.getName()},getValue:function(){return this.$.value},getFirst:function(e){var t=this.$.firstChild;return(t=t&&new CKEDITOR.dom.node(t))&&e&&!e(t)&&(t=t.getNext(e)),t},getLast:function(e){var t=this.$.lastChild;return(t=t&&new CKEDITOR.dom.node(t))&&e&&!e(t)&&(t=t.getPrevious(e)),t},getStyle:function(e){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(e)]},is:function(){var e=this.getName();if("object"==typeof arguments[0])return!!arguments[0][e];for(var t=0;t<arguments.length;t++)if(arguments[t]==e)return!0;return!1},isEditable:function(e){var t=this.getName();return!(this.isReadOnly()||"none"==this.getComputedStyle("display")||"hidden"==this.getComputedStyle("visibility")||CKEDITOR.dtd.$nonEditable[t]||CKEDITOR.dtd.$empty[t]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount()||!1!==e&&(!(e=CKEDITOR.dtd[t]||CKEDITOR.dtd.span)||!e["#"]))},isIdentical:function(e){var t=this.clone(0,1);if(e=e.clone(0,1),t.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),e.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),t.$.isEqualNode)return t.$.style.cssText=CKEDITOR.tools.normalizeCssText(t.$.style.cssText),e.$.style.cssText=CKEDITOR.tools.normalizeCssText(e.$.style.cssText),t.$.isEqualNode(e.$);if(t=t.getOuterHtml(),e=e.getOuterHtml(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&this.is("a")){var n=this.getParent();n.type==CKEDITOR.NODE_ELEMENT&&((n=n.clone()).setHtml(t),t=n.getHtml(),n.setHtml(e),e=n.getHtml())}return t==e},isVisible:function(){var e,t,n=(this.$.offsetHeight||this.$.offsetWidth)&&"hidden"!=this.getComputedStyle("visibility");return n&&CKEDITOR.env.webkit&&!(e=this.getWindow()).equals(CKEDITOR.document.getWindow())&&(t=e.$.frameElement)&&(n=new CKEDITOR.dom.element(t).isVisible()),!!n},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;for(var e=this.getChildren(),t=0,n=e.count();t<n;t++){var i=e.getItem(t);if((i.type!=CKEDITOR.NODE_ELEMENT||!i.data("cke-bookmark"))&&(i.type==CKEDITOR.NODE_ELEMENT&&!i.isEmptyInlineRemoveable()||i.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(i.getText())))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var e=this.$.attributes,t=0;t<e.length;t++){var n=e[t];switch(n.nodeName){case"class":if(this.getAttribute("class"))return!0;case"data-cke-expando":continue;default:if(n.specified)return!0}}return!1}:function(){var e=this.$.attributes,t=e.length,n={"data-cke-expando":1,_moz_dirty:1};return 0<t&&(2<t||!n[e[0].nodeName]||2==t&&!n[e[1].nodeName])},hasAttribute:function(){function e(e){var t=this.$.attributes.getNamedItem(e);if("input"==this.getName())switch(e){case"class":return 0<this.$.className.length;case"checked":return!!this.$.checked;case"value":return"checkbox"==(e=this.getAttribute("type"))||"radio"==e?"on"!=this.$.value:!!this.$.value}return!!t&&t.specified}return CKEDITOR.env.ie?8>CKEDITOR.env.version?function(t){return"name"==t?!!this.$.name:e.call(this,t)}:e:function(e){return!!this.$.attributes.getNamedItem(e)}}(),hide:function(){this.setStyle("display","none")},moveChildren:function(e,t){var n,i=this.$;if(i!=(e=e.$))if(t)for(;n=i.lastChild;)e.insertBefore(i.removeChild(n),e.firstChild);else for(;n=i.firstChild;)e.appendChild(i.removeChild(n))},mergeSiblings:function(){function e(e,t,n){if(t&&t.type==CKEDITOR.NODE_ELEMENT){for(var i=[];t.data("cke-bookmark")||t.isEmptyInlineRemoveable();)if(i.push(t),!(t=n?t.getNext():t.getPrevious())||t.type!=CKEDITOR.NODE_ELEMENT)return;if(e.isIdentical(t)){for(var o=n?e.getLast():e.getFirst();i.length;)i.shift().move(e,!n);t.moveChildren(e,!n),t.remove(),o&&o.type==CKEDITOR.NODE_ELEMENT&&o.mergeSiblings()}}}return function(t){(!1===t||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a"))&&(e(this,this.getNext(),!0),e(this,this.getPrevious()))}}(),show:function(){this.setStyles({display:"",visibility:""})},setAttribute:function(){var e=function(e,t){return this.$.setAttribute(e,t),this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t,n){return"class"==t?this.$.className=n:"style"==t?this.$.style.cssText=n:"tabindex"==t?this.$.tabIndex=n:"checked"==t?this.$.checked=n:"contenteditable"==t?e.call(this,"contentEditable",n):e.apply(this,arguments),this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(t,n){if("src"==t&&n.match(/^http:\/\//))try{e.apply(this,arguments)}catch(e){}else e.apply(this,arguments);return this}:e}(),setAttributes:function(e){for(var t in e)this.setAttribute(t,e[t]);return this},setValue:function(e){return this.$.value=e,this},removeAttribute:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(e){"class"==e?e="className":"tabindex"==e?e="tabIndex":"contenteditable"==e&&(e="contentEditable"),this.$.removeAttribute(e)}:function(e){this.$.removeAttribute(e)},removeAttributes:function(e){if(CKEDITOR.tools.isArray(e))for(var t=0;t<e.length;t++)this.removeAttribute(e[t]);else for(t in e=e||this.getAttributes())e.hasOwnProperty(t)&&this.removeAttribute(t)},removeStyle:function(e){if((i=this.$.style).removeProperty||"border"!=e&&"margin"!=e&&"padding"!=e)i.removeProperty?i.removeProperty(e):i.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(e)),this.$.style.cssText||this.removeAttribute("style");else{var t,n=["top","left","right","bottom"];"border"==e&&(t=["color","style","width"]);for(var i=[],o=0;o<n.length;o++)if(t)for(var r=0;r<t.length;r++)i.push([e,n[o],t[r]].join("-"));else i.push([e,n[o]].join("-"));for(e=0;e<i.length;e++)this.removeStyle(i[e])}},setStyle:function(e,t){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(e)]=t,this},setStyles:function(e){for(var t in e)this.setStyle(t,e[t]);return this},setOpacity:function(e){CKEDITOR.env.ie&&9>CKEDITOR.env.version?(e=Math.round(100*e),this.setStyle("filter",100<=e?"":"progid:DXImageTransform.Microsoft.Alpha(opacity="+e+")")):this.setStyle("opacity",e)},unselectable:function(){if(this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","none")),CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var e=this.getElementsByTag("*"),t=0,n=e.count();t<n;t++)e.getItem(t).setAttribute("unselectable","on")}},getPositionedAncestor:function(){for(var e=this;"html"!=e.getName();){if("static"!=e.getComputedStyle("position"))return e;e=e.getParent()}return null},getDocumentPosition:function(e){var t=0,n=0,i=this.getDocument(),o=i.getBody(),r="BackCompat"==i.$.compatMode;if(!document.documentElement.getBoundingClientRect||CKEDITOR.env.ie&&8===CKEDITOR.env.version)for(l=this,c=null;l&&"body"!=l.getName()&&"html"!=l.getName();){for(t+=l.$.offsetLeft-l.$.scrollLeft,n+=l.$.offsetTop-l.$.scrollTop,l.equals(this)||(t+=l.$.clientLeft||0,n+=l.$.clientTop||0);c&&!c.equals(l);)t-=c.$.scrollLeft,n-=c.$.scrollTop,c=c.getParent();c=l,l=(a=l.$.offsetParent)?new CKEDITOR.dom.element(a):null}else{var a=this.$.getBoundingClientRect(),s=i.$.documentElement,l=s.clientTop||o.$.clientTop||0,c=s.clientLeft||o.$.clientLeft||0,u=!0;CKEDITOR.env.ie&&(u=i.getDocumentElement().contains(this),i=i.getBody().contains(this),u=r&&i||!r&&u),u&&(CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(t=o.$.scrollLeft||s.scrollLeft,n=o.$.scrollTop||s.scrollTop):(t=(n=r?o.$:s).scrollLeft,n=n.scrollTop),t=a.left+t-c,n=a.top+n-l)}return e&&(a=this.getWindow(),l=e.getWindow(),!a.equals(l)&&a.$.frameElement&&(t+=(e=new CKEDITOR.dom.element(a.$.frameElement).getDocumentPosition(e)).x,n+=e.y)),document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||r||(t+=this.$.clientLeft?1:0,n+=this.$.clientTop?1:0),{x:t,y:n}},scrollIntoView:function(e){var t=this.getParent();if(t)do{if((t.$.clientWidth&&t.$.clientWidth<t.$.scrollWidth||t.$.clientHeight&&t.$.clientHeight<t.$.scrollHeight)&&!t.is("body")&&this.scrollIntoParent(t,e,1),t.is("html")){var n=t.getWindow();try{var i=n.$.frameElement;i&&(t=new CKEDITOR.dom.element(i))}catch(e){}}}while(t=t.getParent())},scrollIntoParent:function(e,t,n){var i,o,r,a;function s(t,n){/body|html/.test(e.getName())?e.getWindow().$.scrollBy(t,n):(e.$.scrollLeft+=t,e.$.scrollTop+=n)}function l(e,t){var n={x:0,y:0};if(!e.is(u?"body":"html")){var i=e.$.getBoundingClientRect();n.x=i.left,n.y=i.top}return(i=e.getWindow()).equals(t)||(i=l(CKEDITOR.dom.element.get(i.$.frameElement),t),n.x+=i.x,n.y+=i.y),n}function c(e,t){return parseInt(e.getComputedStyle("margin-"+t)||0,10)||0}!e&&(e=this.getWindow());var u="BackCompat"==(r=e.getDocument()).$.compatMode;e instanceof CKEDITOR.dom.window&&(e=u?r.getBody():r.getDocumentElement()),CKEDITOR.env.webkit&&(r=this.getEditor(!1))&&(r._.previousScrollTop=null),o=l(this,r=e.getWindow());var d=l(e,r),h=this.$.offsetHeight;i=this.$.offsetWidth;var f=e.$.clientHeight,p=e.$.clientWidth;r=o.x-c(this,"left")-d.x||0,a=o.y-c(this,"top")-d.y||0,i=o.x+i+c(this,"right")-(d.x+p)||0,o=o.y+h+c(this,"bottom")-(d.y+f)||0,(0>a||0<o)&&s(0,!0===t?a:!1===t?o:0>a?a:o),n&&(0>r||0<i)&&s(0>r?r:i,0)},setState:function(e,t,n){switch(t=t||"cke",e){case CKEDITOR.TRISTATE_ON:this.addClass(t+"_on"),this.removeClass(t+"_off"),this.removeClass(t+"_disabled"),n&&this.setAttribute("aria-pressed",!0),n&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(t+"_disabled"),this.removeClass(t+"_off"),this.removeClass(t+"_on"),n&&this.setAttribute("aria-disabled",!0),n&&this.removeAttribute("aria-pressed");break;default:this.addClass(t+"_off"),this.removeClass(t+"_on"),this.removeClass(t+"_disabled"),n&&this.removeAttribute("aria-pressed"),n&&this.removeAttribute("aria-disabled")}},getFrameDocument:function(){var e=this.$;try{e.contentWindow.document}catch(t){e.src=e.src}return e&&new CKEDITOR.dom.document(e.contentWindow.document)},copyAttributes:function(e,t){var n=this.$.attributes;t=t||{};for(var i=0;i<n.length;i++){var o,r=n[i],a=r.nodeName.toLowerCase();a in t||("checked"==a&&(o=this.getAttribute(a))?e.setAttribute(a,o):CKEDITOR.env.ie&&!this.hasAttribute(a)||(null===(o=this.getAttribute(a))&&(o=r.nodeValue),e.setAttribute(a,o)))}""!==this.$.style.cssText&&(e.$.style.cssText=this.$.style.cssText)},renameNode:function(e){if(this.getName()!=e){var t=this.getDocument();e=new CKEDITOR.dom.element(e,t),this.copyAttributes(e),this.moveChildren(e),this.getParent(!0)&&this.$.parentNode.replaceChild(e.$,this.$),e.$["data-cke-expando"]=this.$["data-cke-expando"],this.$=e.$,delete this.getName}},getChild:function(){function e(e,t){var n=e.childNodes;if(0<=t&&t<n.length)return n[t]}return function(t){var n=this.$;if(t.slice)for(t=t.slice();0<t.length&&n;)n=e(n,t.shift());else n=e(n,t);return n?new CKEDITOR.dom.node(n):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function e(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_enable_context_menu")}this.on("contextmenu",(function(t){t.data.getTarget().getAscendant(e,!0)||t.data.preventDefault()}))},getDirection:function(e){return e?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(e,t){return e="data-"+e,void 0===t?this.getAttribute(e):(!1===t?this.removeAttribute(e):this.setAttribute(e,t),null)},getEditor:function(e){var t,n,i,o=CKEDITOR.instances;for(t in e=e||void 0===e,o)if((n=o[t]).element.equals(this)&&n.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||!e&&(i=n.editable())&&(i.equals(this)||i.contains(this)))return n;return null},find:function(e){var i=t(this);return e=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(n(this,e))),i(),e},findOne:function(e){var i=t(this);return e=this.$.querySelector(n(this,e)),i(),e?new CKEDITOR.dom.element(e):null},forEach:function(e,t,n){if(!(n||t&&this.type!=t))var i=e(this);if(!1!==i){n=this.getChildren();for(var o=0;o<n.count();o++)(i=n.getItem(o)).type==CKEDITOR.NODE_ELEMENT?i.forEach(e,t):t&&i.type!=t||e(i)}},fireEventHandler:function(e,t){var n="on"+e,i=this.$;if(CKEDITOR.env.ie&&9>CKEDITOR.env.version){var o,r=i.ownerDocument.createEventObject();for(o in t)r[o]=t[o];i.fireEvent(n,r)}else i[i[e]?e:n](t)},isDetached:function(){var e=this.getDocument(),t=e.getDocumentElement();return!t.equals(this)&&!t.contains(this)||(!CKEDITOR.env.ie||8<CKEDITOR.env.version&&!CKEDITOR.env.quirks)&&!e.$.defaultView}});var a={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=function(e,t,n){"number"==typeof t&&(!n||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(t-=i.call(this,e)),this.setStyle(e,t+"px"))},CKEDITOR.dom.element.prototype.getSize=function(e,t){var n=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(e)],this.$["client"+CKEDITOR.tools.capitalize(e)])||0;return t&&(n-=i.call(this,e)),n}}(),CKEDITOR.dom.documentFragment=function(e){e=e||CKEDITOR.document,this.$=e.type==CKEDITOR.NODE_DOCUMENT?e.$.createDocumentFragment():e},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(e){(e=e.$).parentNode.insertBefore(this.$,e.nextSibling)},getHtml:function(){var e=new CKEDITOR.dom.element("div");return this.clone(1,1).appendTo(e),e.getHtml().replace(/\s*data-cke-expando=".*?"/g,"")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1}),CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.document.prototype,!0,{find:1,findOne:1}),function(){function e(e,t){var n=this.range;if(this._.end)return null;if(!this._.start){if(this._.start=1,n.collapsed)return this.end(),null;n.optimize()}var i,o=n.startContainer;i=n.endContainer;var r,a=n.startOffset,s=n.endOffset,l=this.guard,c=this.type,u=e?"getPreviousSourceNode":"getNextSourceNode";if(!e&&!this._.guardLTR){var d=i.type==CKEDITOR.NODE_ELEMENT?i:i.getParent(),h=i.type==CKEDITOR.NODE_ELEMENT?i.getChild(s):i.getNext();this._.guardLTR=function(e,t){return!(t&&d.equals(e)||h&&e.equals(h)||e.type==CKEDITOR.NODE_ELEMENT&&t&&e.equals(n.root))}}if(e&&!this._.guardRTL){var f=o.type==CKEDITOR.NODE_ELEMENT?o:o.getParent(),p=o.type==CKEDITOR.NODE_ELEMENT?a?o.getChild(a-1):null:o.getPrevious();this._.guardRTL=function(e,t){return!(t&&f.equals(e)||p&&e.equals(p)||e.type==CKEDITOR.NODE_ELEMENT&&t&&e.equals(n.root))}}var g=e?this._.guardRTL:this._.guardLTR;for(r=l?function(e,t){return!1!==g(e,t)&&l(e,t)}:g,this.current?i=this.current[u](!1,c,r):(e?i.type==CKEDITOR.NODE_ELEMENT&&(i=0<s?i.getChild(s-1):!1===r(i,!0)?null:i.getPreviousSourceNode(!0,c,r)):(i=o).type==CKEDITOR.NODE_ELEMENT&&((i=i.getChild(a))||(i=!1===r(o,!0)?null:o.getNextSourceNode(!0,c,r))),i&&!1===r(i)&&(i=null));i&&!this._.end;){if(this.current=i,this.evaluator&&!1===this.evaluator(i)){if(t&&this.evaluator)return!1}else if(!t)return i;i=i[u](!1,c,r)}return this.end(),this.current=null}function t(t){for(var n,i=null;n=e.call(this,t);)i=n;return i}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(e){this.range=e,this._={}},proto:{end:function(){this._.end=1},next:function(){return e.call(this)},previous:function(){return e.call(this,1)},checkForward:function(){return!1!==e.call(this,0,1)},checkBackward:function(){return!1!==e.call(this,1,1)},lastForward:function(){return t.call(this)},lastBackward:function(){return t.call(this,1)},reset:function(){delete this.current,this._={}}}});var n={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1},i={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(e){return!("none"!=this.getComputedStyle("float")||this.getComputedStyle("position")in i||!n[this.getComputedStyle("display")])||!!(this.is(CKEDITOR.dtd.$block)||e&&this.is(e))},CKEDITOR.dom.walker.blockBoundary=function(e){return function(t){return!(t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary(e))}},CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})},CKEDITOR.dom.walker.bookmark=function(e,t){function n(e){return e&&e.getName&&"span"==e.getName()&&e.data("cke-bookmark")}return function(i){var o,r;return o=i&&i.type!=CKEDITOR.NODE_ELEMENT&&(r=i.getParent())&&n(r),o=e?o:o||n(i),!!(t^o)}},CKEDITOR.dom.walker.whitespaces=function(e){return function(t){var n;return t&&t.type==CKEDITOR.NODE_TEXT&&(n=!CKEDITOR.tools.trim(t.getText())||CKEDITOR.env.webkit&&t.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE),!!(e^n)}},CKEDITOR.dom.walker.invisible=function(e){var t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.env.webkit?1:0;return function(i){return t(i)?i=1:(i.type==CKEDITOR.NODE_TEXT&&(i=i.getParent()),i=i.$.offsetWidth<=n),!!(e^i)}},CKEDITOR.dom.walker.nodeType=function(e,t){return function(n){return!!(t^n.type==e)}},CKEDITOR.dom.walker.bogus=function(e){function t(e){return!r(e)&&!a(e)}return function(n){var i=CKEDITOR.env.needsBrFiller?n.is&&n.is("br"):n.getText&&o.test(n.getText());return i&&(i=n.getParent(),n=n.getNext(t),i=i.isBlockBoundary()&&(!n||n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary())),!!(e^i)}},CKEDITOR.dom.walker.temp=function(e){return function(t){return t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent()),t=t&&t.hasAttribute("data-cke-temp"),!!(e^t)}};var o=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,r=CKEDITOR.dom.walker.whitespaces(),a=CKEDITOR.dom.walker.bookmark(),s=CKEDITOR.dom.walker.temp(),l=function(e){return a(e)||r(e)||e.type==CKEDITOR.NODE_ELEMENT&&e.is(CKEDITOR.dtd.$inline)&&!e.is(CKEDITOR.dtd.$empty)};CKEDITOR.dom.walker.ignored=function(e){return function(t){return t=r(t)||a(t)||s(t),!!(e^t)}};var c=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(e){return function(t){for(var n=0,i=t.getChildCount();n<i;++n)if(!c(t.getChild(n)))return!!e;return!e}};var u=CKEDITOR.dom.walker.empty(),d=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(e){var t,n={};for(t in e)CKEDITOR.dtd[t]["#"]&&(n[t]=1);return n}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=function(e){return function(t){return t=!c(t)&&!!(t.type==CKEDITOR.NODE_TEXT||t.type==CKEDITOR.NODE_ELEMENT&&(t.is(CKEDITOR.dtd.$inline)||t.is("hr")||"false"==t.getAttribute("contenteditable")||!CKEDITOR.env.needsBrFiller&&t.is(d)&&u(t))),!!(e^t)}},CKEDITOR.dom.element.prototype.getBogus=function(){var e=this;do{e=e.getPreviousSourceNode()}while(l(e));return!(!e||!(CKEDITOR.env.needsBrFiller?e.is&&e.is("br"):e.getText&&o.test(e.getText())))&&e}}(),CKEDITOR.dom.range=function(e){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null,this.collapsed=!0;var t=e instanceof CKEDITOR.dom.document;this.document=t?e:e.getDocument(),this.root=t?e.getBody():e},function(){function e(e){e.collapsed=e.startContainer&&e.endContainer&&e.startContainer.equals(e.endContainer)&&e.startOffset==e.endOffset}function t(e,t,n,i,o){function r(e,t,n,i){var r=n?e.getPrevious():e.getNext();return i&&a||(l||i?t.append(e.clone(!0,o),n):(e.remove(),s&&t.append(e,n))),r}e.optimizeBookmark();var a=0===t,s=1==t,l=2==t;t=l||s;var c,u,d,h,f,p,g=e.startContainer,m=e.endContainer,E=e.startOffset,v=e.endOffset;if(l&&m.type==CKEDITOR.NODE_TEXT&&(g.equals(m)||g.type===CKEDITOR.NODE_ELEMENT&&g.getFirst().equals(m)))n.append(e.document.createText(m.substring(E,v)));else{m.type==CKEDITOR.NODE_TEXT?l?p=!0:m=m.split(v):0<m.getChildCount()?v>=m.getChildCount()?(m=m.getChild(v-1),u=!0):m=m.getChild(v):h=u=!0,g.type==CKEDITOR.NODE_TEXT?l?f=!0:g.split(E):0<g.getChildCount()?0===E?(g=g.getChild(E),c=!0):g=g.getChild(E-1):d=c=!0;for(var T,b,C,y=g.getParents(),O=m.getParents(),I=function(){var e,t,n,i=Math.min(y.length,O.length);for(e=0;e<i;e++)if(t=y[e],n=O[e],!t.equals(n))return e;return e-1}(),D=y.length-1,R=O.length-1,_=n,w=-1,k=I;k<=D;k++){for(C=(b=y[k]).getNext(),k!=D||b.equals(O[k])&&D<R?t&&(T=_.append(b.clone(0,o))):c?r(b,_,!1,d):f&&_.append(e.document.createText(b.substring(E)));C;){if(C.equals(O[k])){w=k;break}C=r(C,_)}_=T}for(_=n,k=I;k<=R;k++)if(C=(n=O[k]).getPrevious(),n.equals(y[k]))t&&(_=_.getChild(0));else{if(k!=R||n.equals(y[k])&&R<D?t&&(T=_.append(n.clone(0,o))):u?r(n,_,!1,h):p&&_.append(e.document.createText(n.substring(0,v))),k>w)for(;C;)C=r(C,_,!0);_=T}l||function(){var t=I-1,n=d&&h&&!g.equals(m);t<D-1||t<R-1||n?(n?e.moveToPosition(m,CKEDITOR.POSITION_BEFORE_START):R==t+1&&u?e.moveToPosition(O[t],CKEDITOR.POSITION_BEFORE_END):e.moveToPosition(O[t+1],CKEDITOR.POSITION_BEFORE_START),i&&(t=y[t+1])&&t.type==CKEDITOR.NODE_ELEMENT&&((n=CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',e.document)).insertAfter(t),t.mergeSiblings(!1),e.moveToBookmark({startNode:n}))):e.collapse(!0)}()}}function n(){var e=!1,t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(!0),i=CKEDITOR.dom.walker.bogus();return function(r){return!(!n(r)&&!t(r))||(i(r)&&!e?e=!0:!(r.type==CKEDITOR.NODE_TEXT&&(r.hasAscendant("pre")||CKEDITOR.tools.trim(r.getText()).length)||r.type==CKEDITOR.NODE_ELEMENT&&!r.is(o)))}}function i(e){return function(){var t;return this[e?"getPreviousNode":"getNextNode"]((function(e){return!t&&l(e)&&(t=e),s(e)&&!(r(e)&&e.equals(t))}))}}var o={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,var:1},r=CKEDITOR.dom.walker.bogus(),a=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,s=CKEDITOR.dom.walker.editable(),l=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var e=new CKEDITOR.dom.range(this.root);return e._setStartContainer(this.startContainer),e.startOffset=this.startOffset,e._setEndContainer(this.endContainer),e.endOffset=this.endOffset,e.collapsed=this.collapsed,e},collapse:function(e){e?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset),this.collapsed=!0},cloneContents:function(e){var n=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||t(this,2,n,!1,void 0===e||e),n},deleteContents:function(e){this.collapsed||t(this,0,null,e)},extractContents:function(e,n){var i=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||t(this,1,i,e,void 0===n||n),i},equals:function(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset&&this.startContainer.equals(e.startContainer)&&this.endContainer.equals(e.endContainer)},createBookmark:function(e){function t(e){return e.getAscendant((function(e){var t;return(t=e.data&&e.data("cke-temp"))&&(t=-1===CKEDITOR.tools.array.indexOf(["cke_copybin","cke_pastebin"],e.getAttribute("id"))),t}),!0)}var n,i,o,r,a=this.startContainer,s=this.endContainer,l=this.collapsed;return(n=this.document.createElement("span")).data("cke-bookmark",1),n.setStyle("display","none"),n.setHtml("&nbsp;"),e&&(o="cke_bm_"+CKEDITOR.tools.getNextNumber(),n.setAttribute("id",o+(l?"C":"S"))),l||((i=n.clone()).setHtml("&nbsp;"),e&&i.setAttribute("id",o+"E"),r=this.clone(),t(s)&&(s=t(s),r.moveToPosition(s,CKEDITOR.POSITION_AFTER_END)),r.collapse(),r.insertNode(i)),r=this.clone(),t(a)&&(s=t(a),r.moveToPosition(s,CKEDITOR.POSITION_BEFORE_START)),r.collapse(!0),r.insertNode(n),i?(this.setStartAfter(n),this.setEndBefore(i)):this.moveToPosition(n,CKEDITOR.POSITION_AFTER_END),{startNode:e?o+(l?"C":"S"):n,endNode:e?o+"E":i,serializable:e,collapsed:l}},createBookmark2:function(){function e(e){var t,i=e.container,o=e.offset,r=o;if((t=(t=i).type!=CKEDITOR.NODE_ELEMENT||0===r||r==t.getChildCount()?0:t.getChild(r-1).type==CKEDITOR.NODE_TEXT&&t.getChild(r).type==CKEDITOR.NODE_TEXT)&&(o=(i=i.getChild(o-1)).getLength()),i.type==CKEDITOR.NODE_ELEMENT&&0<o){e:{for(t=i;o--;)if(0<=(r=t.getChild(o).getIndex(!0))){o=r;break e}o=-1}o+=1}if(i.type==CKEDITOR.NODE_TEXT){for(t=i,r=0;(t=t.getPrevious())&&t.type==CKEDITOR.NODE_TEXT;)r+=t.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,"").length;t=r,i.isEmpty()?(r=i.getPrevious(n),t?(o=t,i=r?r.getNext():i.getParent().getFirst()):(i=i.getParent(),o=r?r.getIndex(!0)+1:0)):o+=t}e.container=i,e.offset=o}function t(e,t){var n=t.getCustomData("cke-fillingChar");if(n){var i=e.container;n.equals(i)&&(e.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,0>=e.offset&&(e.offset=i.getIndex(),e.container=i.getParent()))}}var n=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(n){var i=this.collapsed,o={container:this.startContainer,offset:this.startOffset},r={container:this.endContainer,offset:this.endOffset};return n&&(e(o),t(o,this.root),i||(e(r),t(r,this.root))),{start:o.container.getAddress(n),end:i?null:r.container.getAddress(n),startOffset:o.offset,endOffset:r.offset,normalized:n,collapsed:i,is2:!0}}}(),moveToBookmark:function(e){if(e.is2){var t=this.document.getByAddress(e.start,e.normalized),n=e.startOffset,i=e.end&&this.document.getByAddress(e.end,e.normalized);e=e.endOffset,this.setStart(t,n),i?this.setEnd(i,e):this.collapse(!0)}else t=(n=e.serializable)?this.document.getById(e.startNode):e.startNode,e=n?this.document.getById(e.endNode):e.endNode,this.setStartBefore(t),t.remove(),e?(this.setEndBefore(e),e.remove()):this.collapse(!0)},getBoundaryNodes:function(){var e,t=this.startContainer,n=this.endContainer,i=this.startOffset,o=this.endOffset;if(t.type==CKEDITOR.NODE_ELEMENT)if((e=t.getChildCount())>i)t=t.getChild(i);else if(1>e)t=t.getPreviousSourceNode();else{for(t=t.$;t.lastChild;)t=t.lastChild;t=(t=new CKEDITOR.dom.node(t)).getNextSourceNode()||t}if(n.type==CKEDITOR.NODE_ELEMENT)if((e=n.getChildCount())>o)n=n.getChild(o).getPreviousSourceNode(!0);else if(1>e)n=n.getPreviousSourceNode();else{for(n=n.$;n.lastChild;)n=n.lastChild;n=new CKEDITOR.dom.node(n)}return t.getPosition(n)&CKEDITOR.POSITION_FOLLOWING&&(t=n),{startNode:t,endNode:n}},getCommonAncestor:function(e,t){var n=this.startContainer,i=this.endContainer;return n=n.equals(i)?e&&n.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?n.getChild(this.startOffset):n:n.getCommonAncestor(i),t&&!n.is?n.getParent():n},optimize:function(){var e=this.startContainer,t=this.startOffset;e.type!=CKEDITOR.NODE_ELEMENT&&(t?t>=e.getLength()&&this.setStartAfter(e):this.setStartBefore(e)),e=this.endContainer,t=this.endOffset,e.type!=CKEDITOR.NODE_ELEMENT&&(t?t>=e.getLength()&&this.setEndAfter(e):this.setEndBefore(e))},optimizeBookmark:function(){var e=this.startContainer,t=this.endContainer;e.is&&e.is("span")&&e.data("cke-bookmark")&&this.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),t&&t.is&&t.is("span")&&t.data("cke-bookmark")&&this.setEndAt(t,CKEDITOR.POSITION_AFTER_END)},trim:function(e,t){var n=this.startContainer,i=this.startOffset,o=this.collapsed;if((!e||o)&&n&&n.type==CKEDITOR.NODE_TEXT){if(i)if(i>=n.getLength())i=n.getIndex()+1,n=n.getParent();else{var r=n.split(i);i=n.getIndex()+1,n=n.getParent(),this.startContainer.equals(this.endContainer)?this.setEnd(r,this.endOffset-this.startOffset):n.equals(this.endContainer)&&(this.endOffset+=1)}else i=n.getIndex(),n=n.getParent();if(this.setStart(n,i),o)return void this.collapse(!0)}n=this.endContainer,i=this.endOffset,t||o||!n||n.type!=CKEDITOR.NODE_TEXT||(i?(i>=n.getLength()||n.split(i),i=n.getIndex()+1):i=n.getIndex(),n=n.getParent(),this.setEnd(n,i))},enlarge:function(e,t){function n(e){return e&&e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("contenteditable")?null:e}function i(e,t,n){var i=new CKEDITOR.dom.range(n);for(i.setStart(e,t),i.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(i)).guard=function(e){return!(e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary())};i=n.next();){if(i.type!=CKEDITOR.NODE_TEXT)return!1;if(o=i!=e?i.getText():i.substring(t),a.test(o))return!1}return!0}var o,r,a=new RegExp(/[^\s\ufeff]/);switch(e){case CKEDITOR.ENLARGE_INLINE:var s=1;case CKEDITOR.ENLARGE_ELEMENT:if(this.collapsed)break;var l=this.getCommonAncestor();r=this.root;var c,u,d,h,f,p,g=!1;p=this.startContainer;var m=this.startOffset;for(p.type==CKEDITOR.NODE_TEXT?(m&&(g=!!(p=!CKEDITOR.tools.trim(p.substring(0,m)).length&&p)),p&&((h=p.getPrevious())||(d=p.getParent()))):(m&&(h=p.getChild(m-1)||p.getLast()),h||(d=p)),d=n(d);d||h;){if(d&&!h){if(!f&&d.equals(l)&&(f=!0),s?d.isBlockBoundary():!r.contains(d))break;g&&"inline"==d.getComputedStyle("display")||(g=!1,f?c=d:this.setStartBefore(d)),h=d.getPrevious()}for(;h;)if(p=!1,h.type==CKEDITOR.NODE_COMMENT)h=h.getPrevious();else{if(h.type==CKEDITOR.NODE_TEXT)o=h.getText(),a.test(o)&&(h=null),p=/[\s\ufeff]$/.test(o);else if((h.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||t&&h.is("br"))&&!h.data("cke-bookmark"))if(g&&CKEDITOR.dtd.$removeEmpty[h.getName()]){if(o=h.getText(),a.test(o))h=null;else{m=h.$.getElementsByTagName("*");for(var E,v=0;E=m[v++];)if(!CKEDITOR.dtd.$removeEmpty[E.nodeName.toLowerCase()]){h=null;break}}h&&(p=!!o.length)}else h=null;if(p&&(g?f?c=d:d&&this.setStartBefore(d):g=!0),h){if(p=h.getPrevious(),!d&&!p){d=h,h=null;break}h=p}else d=null}d&&(d=n(d.getParent()))}for(p=this.endContainer,m=this.endOffset,d=h=null,f=g=!1,p.type==CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(p.substring(m)).length?g=!0:(g=!p.getLength(),m==p.getLength()?(h=p.getNext())||(d=p.getParent()):i(p,m,r)&&(d=p.getParent())):(h=p.getChild(m))||(d=p);d||h;){if(d&&!h){if(!f&&d.equals(l)&&(f=!0),s?d.isBlockBoundary():!r.contains(d))break;g&&"inline"==d.getComputedStyle("display")||(g=!1,f?u=d:d&&this.setEndAfter(d)),h=d.getNext()}for(;h;){if(p=!1,h.type==CKEDITOR.NODE_TEXT)o=h.getText(),i(h,0,r)||(h=null),p=/^[\s\ufeff]/.test(o);else if(h.type==CKEDITOR.NODE_ELEMENT){if((0<h.$.offsetWidth||t&&h.is("br"))&&!h.data("cke-bookmark"))if(g&&CKEDITOR.dtd.$removeEmpty[h.getName()]){if(o=h.getText(),a.test(o))h=null;else for(m=h.$.getElementsByTagName("*"),v=0;E=m[v++];)if(!CKEDITOR.dtd.$removeEmpty[E.nodeName.toLowerCase()]){h=null;break}h&&(p=!!o.length)}else h=null}else p=1;if(p&&g&&(f?u=d:this.setEndAfter(d)),h){if(p=h.getNext(),!d&&!p){d=h,h=null;break}h=p}else d=null}d&&(d=n(d.getParent()))}c&&u&&(l=c.contains(u)?u:c,this.setStartBefore(l),this.setEndAfter(l));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:d=new CKEDITOR.dom.range(this.root),r=this.root,d.setStartAt(r,CKEDITOR.POSITION_AFTER_START),d.setEnd(this.startContainer,this.startOffset),d=new CKEDITOR.dom.walker(d);var T,b,C=CKEDITOR.dom.walker.blockBoundary(e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),y=null,O=function(e){if(e.type==CKEDITOR.NODE_ELEMENT&&"false"==e.getAttribute("contenteditable"))if(y){if(y.equals(e))return void(y=null)}else y=e;else if(y)return;var t=C(e);return t||(T=e),t};if(s=function(e){var t=O(e);return!t&&e.is&&e.is("br")&&(b=e),t},d.guard=O,d=d.lastBackward(),T=T||r,this.setStartAt(T,!T.is("br")&&(!d&&this.checkStartOfBlock()||d&&T.contains(d))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END),e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){d=this.clone(),d=new CKEDITOR.dom.walker(d);var I=CKEDITOR.dom.walker.whitespaces(),D=CKEDITOR.dom.walker.bookmark();if(d.evaluator=function(e){return!I(e)&&!D(e)},(d=d.previous())&&d.type==CKEDITOR.NODE_ELEMENT&&d.is("br"))break}(d=this.clone()).collapse(),d.setEndAt(r,CKEDITOR.POSITION_BEFORE_END),(d=new CKEDITOR.dom.walker(d)).guard=e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?s:O,T=y=b=null,d=d.lastForward(),T=T||r,this.setEndAt(T,!d&&this.checkEndOfBlock()||d&&T.contains(d)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START),b&&this.setEndAfter(b)}},shrink:function(e,t,n){var i="boolean"==typeof n?n:!n||"boolean"!=typeof n.shrinkOnBlockBoundary||n.shrinkOnBlockBoundary,o=n&&n.skipBogus;if(!this.collapsed){e=e||CKEDITOR.SHRINK_TEXT;var r=this.clone(),a=this.startContainer,s=this.endContainer,l=this.startOffset,c=this.endOffset,u=n=1;a&&a.type==CKEDITOR.NODE_TEXT&&(l?l>=a.getLength()?r.setStartAfter(a):(r.setStartBefore(a),n=0):r.setStartBefore(a)),s&&s.type==CKEDITOR.NODE_TEXT&&(c?c>=s.getLength()?r.setEndAfter(s):(r.setEndAfter(s),u=0):r.setEndBefore(s)),r=new CKEDITOR.dom.walker(r);var d,h=CKEDITOR.dom.walker.bookmark(),f=CKEDITOR.dom.walker.bogus();return r.evaluator=function(t){return t.type==(e==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)},r.guard=function(t,n){return!!(o&&f(t)||h(t))||!(e==CKEDITOR.SHRINK_ELEMENT&&t.type==CKEDITOR.NODE_TEXT||n&&t.equals(d)||!1===i&&t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary()||t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable"))&&(n||t.type!=CKEDITOR.NODE_ELEMENT||(d=t),!0)},n&&(a=r[e==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(a,t?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START),u&&(r.reset(),(r=r[e==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(r,t?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END)),!(!n&&!u)}},insertNode:function(e){this.optimizeBookmark(),this.trim(!1,!0);var t=this.startContainer,n=t.getChild(this.startOffset);n?e.insertBefore(n):t.append(e),e.getParent()&&e.getParent().equals(this.endContainer)&&this.endOffset++,this.setStartBefore(e)},moveToPosition:function(e,t){this.setStartAt(e,t),this.collapse(!0)},moveToRange:function(e){this.setStart(e.startContainer,e.startOffset),this.setEnd(e.endContainer,e.endOffset)},selectNodeContents:function(e){this.setStart(e,0),this.setEnd(e,e.type==CKEDITOR.NODE_TEXT?e.getLength():e.getChildCount())},setStart:function(t,n){t.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[t.getName()]&&(n=t.getIndex(),t=t.getParent()),this._setStartContainer(t),this.startOffset=n,this.endContainer||(this._setEndContainer(t),this.endOffset=n),e(this)},setEnd:function(t,n){t.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[t.getName()]&&(n=t.getIndex()+1,t=t.getParent()),this._setEndContainer(t),this.endOffset=n,this.startContainer||(this._setStartContainer(t),this.startOffset=n),e(this)},setStartAfter:function(e){this.setStart(e.getParent(),e.getIndex()+1)},setStartBefore:function(e){this.setStart(e.getParent(),e.getIndex())},setEndAfter:function(e){this.setEnd(e.getParent(),e.getIndex()+1)},setEndBefore:function(e){this.setEnd(e.getParent(),e.getIndex())},setStartAt:function(t,n){switch(n){case CKEDITOR.POSITION_AFTER_START:this.setStart(t,0);break;case CKEDITOR.POSITION_BEFORE_END:t.type==CKEDITOR.NODE_TEXT?this.setStart(t,t.getLength()):this.setStart(t,t.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(t);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(t)}e(this)},setEndAt:function(t,n){switch(n){case CKEDITOR.POSITION_AFTER_START:this.setEnd(t,0);break;case CKEDITOR.POSITION_BEFORE_END:t.type==CKEDITOR.NODE_TEXT?this.setEnd(t,t.getLength()):this.setEnd(t,t.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(t);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(t)}e(this)},fixBlock:function(e,t){var n=this.createBookmark(),i=this.document.createElement(t);this.collapse(e),this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),this.extractContents().appendTo(i),i.trim(),this.insertNode(i);var o=i.getBogus();return o&&o.remove(),i.appendBogus(),this.moveToBookmark(n),i},splitBlock:function(e,t){var n=new CKEDITOR.dom.elementPath(this.startContainer,this.root),i=new CKEDITOR.dom.elementPath(this.endContainer,this.root),o=n.block,r=i.block,a=null;return n.blockLimit.equals(i.blockLimit)?("br"!=e&&(o||(o=this.fixBlock(!0,e),r=new CKEDITOR.dom.elementPath(this.endContainer,this.root).block),r||(r=this.fixBlock(!1,e))),n=o&&this.checkStartOfBlock(),i=r&&this.checkEndOfBlock(),this.deleteContents(),o&&o.equals(r)&&(i?(a=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(r,CKEDITOR.POSITION_AFTER_END),r=null):n?(a=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),o=null):(r=this.splitElement(o,t||!1),o.is("ul","ol")||o.appendBogus())),{previousBlock:o,nextBlock:r,wasStartOfBlock:n,wasEndOfBlock:i,elementPath:a}):null},splitElement:function(e,t){if(!this.collapsed)return null;this.setEndAt(e,CKEDITOR.POSITION_BEFORE_END);var n=this.extractContents(!1,t||!1),i=e.clone(!1,t||!1);return n.appendTo(i),i.insertAfter(e),this.moveToPosition(e,CKEDITOR.POSITION_AFTER_END),i},removeEmptyBlocksAtEnd:function(){function e(e){return function(i){return!(t(i)||n(i)||i.type==CKEDITOR.NODE_ELEMENT&&i.isEmptyInlineRemoveable()||e.is("table")&&i.is("caption"))}}var t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(!1);return function(t){for(var n,i=this.createBookmark(),o=this[t?"endPath":"startPath"](),r=o.block||o.blockLimit;r&&!r.equals(o.root)&&!r.getFirst(e(r));)n=r.getParent(),this[t?"setEndAt":"setStartAt"](r,CKEDITOR.POSITION_AFTER_END),r.remove(1),r=n;this.moveToBookmark(i)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(e,t){var n=t==CKEDITOR.START,i=this.clone();return i.collapse(n),i[n?"setStartAt":"setEndAt"](e,n?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),(i=new CKEDITOR.dom.walker(i)).evaluator=function(e){var t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(1);return function(i){return!(!n(i)&&!t(i))||!e&&r(i)||i.type==CKEDITOR.NODE_ELEMENT&&i.is(CKEDITOR.dtd.$removeEmpty)}}(n),i[n?"checkBackward":"checkForward"]()},checkStartOfBlock:function(e){var t=this.startContainer,i=this.startOffset;return CKEDITOR.env.ie&&i&&t.type==CKEDITOR.NODE_TEXT&&(t=CKEDITOR.tools.ltrim(t.substring(0,i)),a.test(t)&&this.trim(0,1)),e||this.trim(),e=new CKEDITOR.dom.elementPath(this.startContainer,this.root),(t=this.clone()).collapse(!0),t.setStartAt(e.block||e.blockLimit,CKEDITOR.POSITION_AFTER_START),(e=new CKEDITOR.dom.walker(t)).evaluator=n(),e.checkBackward()},checkEndOfBlock:function(e){var t=this.endContainer,i=this.endOffset;return CKEDITOR.env.ie&&t.type==CKEDITOR.NODE_TEXT&&(t=CKEDITOR.tools.rtrim(t.substring(i)),a.test(t)&&this.trim(1,0)),e||this.trim(),e=new CKEDITOR.dom.elementPath(this.endContainer,this.root),(t=this.clone()).collapse(!1),t.setEndAt(e.block||e.blockLimit,CKEDITOR.POSITION_BEFORE_END),(e=new CKEDITOR.dom.walker(t)).evaluator=n(),e.checkForward()},getPreviousNode:function(e,t,n){var i=this.clone();return i.collapse(1),i.setStartAt(n||this.root,CKEDITOR.POSITION_AFTER_START),(n=new CKEDITOR.dom.walker(i)).evaluator=e,n.guard=t,n.previous()},getNextNode:function(e,t,n){var i=this.clone();return i.collapse(),i.setEndAt(n||this.root,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(i)).evaluator=e,n.guard=t,n.next()},checkReadOnly:function(){function e(e,t){for(;e;){if(e.type==CKEDITOR.NODE_ELEMENT){if("false"==e.getAttribute("contentEditable")&&!e.data("cke-editable"))return 0;if(e.is("html")||"true"==e.getAttribute("contentEditable")&&(e.contains(t)||e.equals(t)))break}e=e.getParent()}return 1}return function(){var t=this.startContainer,n=this.endContainer;return!(e(t,n)&&e(n,t))}}(),moveToElementEditablePosition:function(e,t){if(e.type==CKEDITOR.NODE_ELEMENT&&!e.isEditable(!1))return this.moveToPosition(e,t?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),!0;for(var n=0;e;){if(e.type==CKEDITOR.NODE_TEXT){t&&this.endContainer&&this.checkEndOfBlock()&&a.test(e.getText())?this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(e,t?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),n=1;break}if(e.type==CKEDITOR.NODE_ELEMENT)if(e.isEditable())this.moveToPosition(e,t?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),n=1;else if(t&&e.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START);else if("false"==e.getAttribute("contenteditable")&&e.is(CKEDITOR.dtd.$block))return this.setStartBefore(e),this.setEndAfter(e),!0;var i=e,o=n,r=void 0;i.type==CKEDITOR.NODE_ELEMENT&&i.isEditable(!1)&&(r=i[t?"getLast":"getFirst"](l)),o||r||(r=i[t?"getPrevious":"getNext"](l)),e=r}return!!n},moveToClosestEditablePosition:function(e,t){var n,i,o,r=0,a=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];return e?(n=new CKEDITOR.dom.range(this.root)).moveToPosition(e,a[t?0:1]):n=this.clone(),e&&!e.is(CKEDITOR.dtd.$block)?r=1:(i=n[t?"getNextEditableNode":"getPreviousEditableNode"]())&&(r=1,(o=i.type==CKEDITOR.NODE_ELEMENT)&&i.is(CKEDITOR.dtd.$block)&&"false"==i.getAttribute("contenteditable")?(n.setStartAt(i,CKEDITOR.POSITION_BEFORE_START),n.setEndAt(i,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&o&&i.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(n.setEnd(i,0),n.collapse()):n.moveToPosition(i,a[t?1:0])),r&&this.moveToRange(n),!!r},moveToElementEditStart:function(e){return this.moveToElementEditablePosition(e)},moveToElementEditEnd:function(e){return this.moveToElementEditablePosition(e,!0)},getEnclosedNode:function(){if((e=this.clone()).optimize(),e.startContainer.type!=CKEDITOR.NODE_ELEMENT||e.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var e=new CKEDITOR.dom.walker(e),t=CKEDITOR.dom.walker.bookmark(!1,!0),n=CKEDITOR.dom.walker.whitespaces(!0);e.evaluator=function(e){return n(e)&&t(e)};var i=e.next();return e.reset(),i&&i.equals(e.previous())?i:null},getTouchedStartNode:function(){var e=this.startContainer;return this.collapsed||e.type!=CKEDITOR.NODE_ELEMENT?e:e.getChild(this.startOffset)||e},getTouchedEndNode:function(){var e=this.endContainer;return this.collapsed||e.type!=CKEDITOR.NODE_ELEMENT?e:e.getChild(this.endOffset-1)||e},getNextEditableNode:i(),getPreviousEditableNode:i(1),_getTableElement:function(e){e=e||{td:1,th:1,tr:1,tbody:1,thead:1,tfoot:1,table:1};var t=this.getTouchedStartNode(),n=this.getTouchedEndNode(),i=t.getAscendant("table",!0);return n=n.getAscendant("table",!0),i&&!this.root.contains(i)?null:this.getEnclosedNode()?this.getEnclosedNode().getAscendant(e,!0):i&&n&&(i.equals(n)||i.contains(n)||n.contains(i))?t.getAscendant(e,!0):null},scrollIntoView:function(){var e,t,n,i=new CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",this.document),o=this.clone();o.optimize(),(n=o.startContainer.type==CKEDITOR.NODE_TEXT)?(t=o.startContainer.getText(),e=o.startContainer.split(o.startOffset),i.insertAfter(o.startContainer)):o.insertNode(i),i.scrollIntoView(),n&&(o.startContainer.setText(t),e.remove()),i.remove()},getClientRects:function(){function e(e,t,i){var o;return t.collapsed?i.startContainer instanceof CKEDITOR.dom.element?(e=i.checkStartOfBlock(),o=new CKEDITOR.dom.text("​"),e?i.startContainer.append(o,!0):0===i.startOffset?o.insertBefore(i.startContainer.getFirst()):(i=i.startContainer.getChildren().getItem(i.startOffset-1),o.insertAfter(i)),t.setStart(o.$,0),t.setEnd(o.$,0),e=t.getClientRects(),o.remove()):i.startContainer instanceof CKEDITOR.dom.text&&(""===i.startContainer.getText()?(i.startContainer.setText("​"),e=t.getClientRects(),i.startContainer.setText("")):e=[n(i.createBookmark())]):e=[n(i.createBookmark())],e}function t(e,t,n){return e=CKEDITOR.tools.extend({},e),t&&(e=CKEDITOR.tools.getAbsoluteRectPosition(n.document.getWindow(),e)),!e.width&&(e.width=e.right-e.left),!e.height&&(e.height=e.bottom-e.top),e}function n(e){var t,n=e.startNode;return e=e.endNode,n.setText("​"),n.removeStyle("display"),e?(e.setText("​"),e.removeStyle("display"),t=[n.getClientRect(),e.getClientRect()],e.remove()):t=[n.getClientRect(),n.getClientRect()],n.remove(),{right:Math.max(t[0].right,t[1].right),bottom:Math.max(t[0].bottom,t[1].bottom),left:Math.min(t[0].left,t[1].left),top:Math.min(t[0].top,t[1].top),width:Math.abs(t[0].left-t[1].left),height:Math.max(t[0].bottom,t[1].bottom)-Math.min(t[0].top,t[1].top)}}return void 0!==document.getSelection?function(n){var i,o=this.root.getDocument().$.createRange();return o.setStart(this.startContainer.$,this.startOffset),o.setEnd(this.endContainer.$,this.endOffset),i=function(e,t){var n,i,o,r=CKEDITOR.tools.array.map(e,(function(e){return e})),a=new CKEDITOR.dom.range(t.root);if(t.startContainer instanceof CKEDITOR.dom.element&&(i=0===t.startOffset&&t.startContainer.hasAttribute("data-widget")),t.endContainer instanceof CKEDITOR.dom.element&&(o=(o=t.endOffset===(t.endContainer.getChildCount?t.endContainer.getChildCount():t.endContainer.length))&&t.endContainer.hasAttribute("data-widget")),i&&a.setStart(t.startContainer.getParent(),t.startContainer.getIndex()),o&&a.setEnd(t.endContainer.getParent(),t.endContainer.getIndex()+1),(i||o)&&(t=a),a=t.cloneContents().find("[data-cke-widget-id]").toArray(),a=CKEDITOR.tools.array.map(a,(function(e){var n=t.root.editor;return e=e.getAttribute("data-cke-widget-id"),n.widgets.instances[e].element})))return a=CKEDITOR.tools.array.map(a,(function(e){var t;return t=e.getParent().hasClass("cke_widget_wrapper")?e.getParent():e,(n=this.root.getDocument().$.createRange()).setStart(t.getParent().$,t.getIndex()),n.setEnd(t.getParent().$,t.getIndex()+1),(t=n.getClientRects()).widgetRect=e.getClientRect(),t}),t),CKEDITOR.tools.array.forEach(a,(function(e){var t;!function n(i){CKEDITOR.tools.array.forEach(r,(function(n,o){var a=CKEDITOR.tools.objectCompare(e[i],n);a||(a=CKEDITOR.tools.objectCompare(e.widgetRect,n)),a&&(Array.prototype.splice.call(r,o,e.length-i,e.widgetRect),t=!0)})),t||(i<r.length-1?n(i+1):r.push(e.widgetRect))}(0)})),r}(i=o.getClientRects(),this),i.length||(i=e(i,o,this)),CKEDITOR.tools.array.map(i,(function(e){return t(e,n,this)}),this)}:function(e){return[t(n(this.createBookmark()),e,this)]}}(),_setStartContainer:function(e){this.startContainer=e},_setEndContainer:function(e){this.endContainer=e},_find:function(e,t){var n,i,o,r,a=this.getCommonAncestor(),s=this.getBoundaryNodes(),l=[];if(a&&a.find)for(i=a.find(e),n=0;n<i.count();n++)a=i.getItem(n),(t||!a.isReadOnly())&&(o=a.getPosition(s.startNode)&CKEDITOR.POSITION_FOLLOWING||s.startNode.equals(a),r=a.getPosition(s.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED||s.endNode.equals(a),o&&r&&l.push(a));return l}},CKEDITOR.dom.range.mergeRanges=function(e){return CKEDITOR.tools.array.reduce(e,(function(e,t){var n=e[e.length-1],i=!1;if((t=t.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),n){var o=new CKEDITOR.dom.range(t.root),r=(i=new CKEDITOR.dom.walker(o),CKEDITOR.dom.walker.whitespaces());for(o.setStart(n.endContainer,n.endOffset),o.setEnd(t.startContainer,t.startOffset),o=i.next();r(o)||t.endContainer.equals(o);)o=i.next();i=!o}return i?n.setEnd(t.endContainer,t.endOffset):e.push(t),e}),[])}}(),CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,function(){function e(e){1>arguments.length||(this.range=e,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function t(e,n,i,o){e:{null==o&&(o=function(e){var t=[];return e.forEach((function(e){if("true"==e.getAttribute("contenteditable"))return t.push(e),!1}),CKEDITOR.NODE_ELEMENT,!0),t}(i));for(var r;r=o.shift();)if(r.getDtd().p){o={element:r,remaining:o};break e}o=null}return o?(r=CKEDITOR.filter.instances[o.element.data("cke-filter")])&&!r.check(n)?t(e,n,i,o.remaining):((n=new CKEDITOR.dom.range(o.element)).selectNodeContents(o.element),(n=n.createIterator()).enlargeBr=e.enlargeBr,n.enforceRealBlocks=e.enforceRealBlocks,n.activeFilter=n.filter=r,e._.nestedEditable={element:o.element,container:i,remaining:o.remaining,iterator:n},1):0}function n(e,t,n){return!!t&&((e=e.clone()).collapse(!n),e.checkBoundaryOfElement(t,n?CKEDITOR.START:CKEDITOR.END))}var i=/^[\r\n\t ]+$/,o=CKEDITOR.dom.walker.bookmark(!1,!0),r=CKEDITOR.dom.walker.whitespaces(!0),a=function(e){return o(e)&&r(e)},s={dd:1,dt:1,li:1};e.prototype={getNextParagraph:function(e){var r,l,c,u,d;if(e=e||"p",this._.nestedEditable){if(r=this._.nestedEditable.iterator.getNextParagraph(e))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,r;if(this.activeFilter=this.filter,t(this,e,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(e);this._.nestedEditable=null}if(!this.range.root.getDtd()[e])return null;if(!this._.started){var h=this.range.clone();l=h.startPath();var f=h.endPath(),p=!h.collapsed&&n(h,l.block),g=!h.collapsed&&n(h,f.block,1);h.shrink(CKEDITOR.SHRINK_ELEMENT,!0),p&&h.setStartAt(l.block,CKEDITOR.POSITION_BEFORE_END),g&&h.setEndAt(f.block,CKEDITOR.POSITION_AFTER_START),l=h.endContainer.hasAscendant("pre",!0)||h.startContainer.hasAscendant("pre",!0),h.enlarge(this.forceBrBreak&&!l||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),h.collapsed||(l=new CKEDITOR.dom.walker(h.clone()),f=CKEDITOR.dom.walker.bookmark(!0,!0),l.evaluator=f,this._.nextNode=l.next(),(l=new CKEDITOR.dom.walker(h.clone())).evaluator=f,l=l.previous(),this._.lastNode=l.getNextSourceNode(!0,null,h.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&((f=this.range.clone()).moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),f.checkEndOfBlock()&&(f=new CKEDITOR.dom.elementPath(f.endContainer,f.root),this._.lastNode=(f.block||f.blockLimit).getNextSourceNode(!0))),this._.lastNode&&h.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=h.document.createText(""),this._.lastNode.insertAfter(l)),h=null),this._.started=1,l=h}for(f=this._.nextNode,h=this._.lastNode,this._.nextNode=null;f;){p=0,g=f.hasAscendant("pre");var m=f.type!=CKEDITOR.NODE_ELEMENT,E=0;if(m)f.type==CKEDITOR.NODE_TEXT&&i.test(f.getText())&&(m=0);else{var v=f.getName();if(CKEDITOR.dtd.$block[v]&&"false"==f.getAttribute("contenteditable")){t(this,e,r=f);break}if(f.isBlockBoundary(this.forceBrBreak&&!g&&{br:1})){if("br"==v)m=1;else if(!l&&!f.getChildCount()&&"hr"!=v){r=f,c=f.equals(h);break}l&&(l.setEndAt(f,CKEDITOR.POSITION_BEFORE_START),"br"!=v&&(this._.nextNode=f)),p=1}else{if(f.getFirst()){l||(l=this.range.clone()).setStartAt(f,CKEDITOR.POSITION_BEFORE_START),f=f.getFirst();continue}m=1}}if(m&&!l&&(l=this.range.clone()).setStartAt(f,CKEDITOR.POSITION_BEFORE_START),c=(!p||m)&&f.equals(h),l&&!p)for(;!f.getNext(a)&&!c;){if((v=f.getParent()).isBlockBoundary(this.forceBrBreak&&!g&&{br:1})){p=1,m=0,c||v.equals(h),l.setEndAt(v,CKEDITOR.POSITION_BEFORE_END);break}m=1,c=(f=v).equals(h),E=1}if(m&&l.setEndAt(f,CKEDITOR.POSITION_AFTER_END),(c=!(f=this._getNextSourceNode(f,E,h)))||p&&l)break}if(!r){if(!l)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;f=(r=new CKEDITOR.dom.elementPath(l.startContainer,l.root)).blockLimit,p={div:1,th:1,td:1},!(r=r.block)&&f&&!this.enforceRealBlocks&&p[f.getName()]&&l.checkStartOfBlock()&&l.checkEndOfBlock()&&!f.equals(l.root)?r=f:!r||this.enforceRealBlocks&&r.is(s)?(r=this.range.document.createElement(e),l.extractContents().appendTo(r),r.trim(),l.insertNode(r),u=d=!0):"li"!=r.getName()?l.checkStartOfBlock()&&l.checkEndOfBlock()||(r=r.clone(!1),l.extractContents().appendTo(r),r.trim(),u=!(d=l.splitBlock()).wasStartOfBlock,d=!d.wasEndOfBlock,l.insertNode(r)):c||(this._.nextNode=r.equals(h)?null:this._getNextSourceNode(l.getBoundaryNodes().endNode,1,h))}return u&&(u=r.getPrevious())&&u.type==CKEDITOR.NODE_ELEMENT&&("br"==u.getName()?u.remove():u.getLast()&&"br"==u.getLast().$.nodeName.toLowerCase()&&u.getLast().remove()),d&&(u=r.getLast())&&u.type==CKEDITOR.NODE_ELEMENT&&"br"==u.getName()&&(!CKEDITOR.env.needsBrFiller||u.getPrevious(o)||u.getNext(o))&&u.remove(),this._.nextNode||(this._.nextNode=c||r.equals(h)||!h?null:this._getNextSourceNode(r,1,h)),r},_getNextSourceNode:function(e,t,n){function i(e){return!(e.equals(n)||e.equals(r))}var r=this.range.root;for(e=e.getNextSourceNode(t,null,i);!o(e);)e=e.getNextSourceNode(t,null,i);return e}},CKEDITOR.dom.range.prototype.createIterator=function(){return new e(this)}}(),CKEDITOR.command=function(e,t){var n;this.uiItems=[],this.exec=function(n){return!(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())&&(this.editorFocus&&e.focus(),!1===this.fire("exec")||!1!==t.exec.call(this,e,n))},this.refresh=function(e,n){return!(this.readOnly||!e.readOnly)||(this.context&&!n.isContextFor(this.context)||!this.checkAllowed(!0)?(this.disable(),!0):(this.startDisabled||this.enable(),this.modes&&!this.modes[e.mode]&&this.disable(),!1===this.fire("refresh",{editor:e,path:n})||t.refresh&&!1!==t.refresh.apply(this,arguments)))},this.checkAllowed=function(t){return t||"boolean"!=typeof n?n=e.activeFilter.checkFeature(this):n},CKEDITOR.tools.extend(this,t,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!t.context,state:CKEDITOR.TRISTATE_DISABLED}),CKEDITOR.event.call(this)},CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&void 0!==this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(e){return!(this.state==e||e!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed()||(this.previousState=this.state,this.state=e,this.fire("state"),0))},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"<!DOCTYPE html>",bodyId:"",bodyClass:"",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl("contents.css"),extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,useComputedState:!0,width:"",baseFloatZIndex:1e4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){function e(e,t,n,i,o){var r,s,l;for(r in e=[],t){s="boolean"==typeof(s=t[r])?{}:"function"==typeof s?{match:s}:R(s),"$"!=r.charAt(0)&&(s.elements=r),n&&(s.featureName=n.toLowerCase());var c=s;c.elements=a(c.elements,/\s+/)||null,c.propertiesOnly=c.propertiesOnly||!0===c.elements;var u=/\s*,\s*/,d=void 0;for(d in K){c[d]=a(c[d],u)||null;var h=c,f=x[d],p=a(c[x[d]],u),g=c[d],E=[],v=!0,T=void 0;for(T in p?v=!1:p={},g)"!"==T.charAt(0)&&(T=T.slice(1),E.push(T),p[T]=!0,v=!1);for(;T=E.pop();)g[T]=g["!"+T],delete g["!"+T];h[f]=!v&&p||null}c.match=c.match||null,i.push(s),e.push(s)}for(t=o.elements,o=o.generic,n=0,i=e.length;n<i;++n){for(u in s=!0===(r=R(e[n])).classes||!0===r.styles||!0===r.attributes,c=r,d=f=u=void 0,K)c[u]=m(c[u]);for(d in h=!0,x){for(g in p=[],g=void 0,f=c[u=x[d]])-1<g.indexOf("*")?p.push(new RegExp("^"+g.replace(/\*/g,".*")+"$")):p.push(g);(f=p).length&&(c[u]=f,h=!1)}if(c.nothingRequired=h,c.noProperties=!(c.attributes||c.classes||c.styles),!0===r.elements||null===r.elements)o[s?"unshift":"push"](r);else for(l in c=r.elements,delete r.elements,c)t[l]?t[l][s?"unshift":"push"](r):t[l]=[r]}}function t(e,t,i,o){if((!e.match||e.match(t))&&(o||s(e,t))&&(e.propertiesOnly||(i.valid=!0),i.allAttributes||(i.allAttributes=n(e.attributes,t.attributes,i.validAttributes)),i.allStyles||(i.allStyles=n(e.styles,t.styles,i.validStyles)),!i.allClasses)){if(e=e.classes,t=t.classes,o=i.validClasses,e)if(!0===e)e=!0;else{for(var r,a=0,l=t.length;a<l;++a)o[r=t[a]]||(o[r]=e(r));e=!1}else e=!1;i.allClasses=e}}function n(e,t,n){if(!e)return!1;if(!0===e)return!0;for(var i in t)n[i]||(n[i]=e(i));return!1}function i(e,t,n){if(!e.match||e.match(t)){if(e.noProperties)return!1;if(n.hadInvalidAttribute=o(e.attributes,t.attributes)||n.hadInvalidAttribute,n.hadInvalidStyle=o(e.styles,t.styles)||n.hadInvalidStyle,e=e.classes,t=t.classes,e){for(var i=!1,r=!0===e,a=t.length;a--;)(r||e(t[a]))&&(t.splice(a,1),i=!0);e=i}else e=!1;n.hadInvalidClass=e||n.hadInvalidClass}}function o(e,t){if(!e)return!1;var n,i=!1,o=!0===e;for(n in t)(o||e(n))&&(delete t[n],i=!0);return i}function r(e,t,n){return!(e.disabled||e.customConfig&&!n||!t||(e._.cachedChecks={},0))}function a(e,t){if(!e)return!1;if(!0===e)return e;if("string"==typeof e)return"*"==(e=_(e))||CKEDITOR.tools.convertArrayToObject(e.split(t));if(CKEDITOR.tools.isArray(e))return!!e.length&&CKEDITOR.tools.convertArrayToObject(e);var n,i={},o=0;for(n in e)i[n]=e[n],o++;return!!o&&i}function s(e,t){if(e.nothingRequired)return!0;var n,i,o,r;if(o=e.requiredClasses)for(r=t.classes,n=0;n<o.length;++n)if("string"==typeof(i=o[n])){if(-1==CKEDITOR.tools.indexOf(r,i))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(r,i))return!1;return l(t.styles,e.requiredStyles)&&l(t.attributes,e.requiredAttributes)}function l(e,t){if(!t)return!0;for(var n,i=0;i<t.length;++i)if("string"==typeof(n=t[i])){if(!(n in e))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(e,n))return!1;return!0}function c(e){if(!e)return{};e=e.split(/\s*,\s*/).sort();for(var t={};e.length;)t[e.shift()]="cke-test";return t}function u(e){var t,n,i,o,r={},a=1;for(e=_(e);t=e.match(S);)(n=t[2])?(i=d(n,"styles"),o=d(n,"attrs"),n=d(n,"classes")):i=o=n=null,r["$"+a++]={elements:t[1],classes:n,styles:i,attributes:o},e=e.slice(t[0].length);return r}function d(e,t){var n=e.match(N[t]);return n?_(n[1]):null}function h(e){var t=e.styleBackup=e.attributes.style,n=e.classBackup=e.attributes.class;e.styles||(e.styles=CKEDITOR.tools.parseCssText(t||"",1)),e.classes||(e.classes=n?n.split(/\s+/):[])}function f(e,n,o,r){var a,s=0;if(r.toHtml&&(n.name=n.name.replace(A,"$1")),r.doCallbacks&&e.elementCallbacks){e:{for(var l,c=0,u=(a=e.elementCallbacks).length;c<u;++c)if(l=a[c](n)){a=l;break e}a=void 0}if(a)return a}if(r.doTransform&&(a=e._.transformations[n.name])){for(h(n),c=0;c<a.length;++c)b(e,n,a[c]);p(n)}if(r.doFilter){e:{c=n.name,e=(u=e._).allowedRules.elements[c],a=u.allowedRules.generic,c=u.disallowedRules.elements[c],u=u.disallowedRules.generic,l=r.skipRequired;var d,f,m={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1};if(e||a){if(h(n),c)for(d=0,f=c.length;d<f;++d)if(!1===i(c[d],n,m)){e=null;break e}if(u)for(d=0,f=u.length;d<f;++d)i(u[d],n,m);if(e)for(d=0,f=e.length;d<f;++d)t(e[d],n,m,l);if(a)for(d=0,f=a.length;d<f;++d)t(a[d],n,m,l);e=m}else e=null}if(!e||!e.valid)return o.push(n),1;f=e.validAttributes;var E=e.validStyles;a=e.validClasses,c=n.attributes;var v=n.styles;u=n.classes,l=n.classBackup;var T,C,y=n.styleBackup,O=[],I=(m=[],/^data-cke-/);if(d=!1,delete c.style,delete c.class,delete n.classBackup,delete n.styleBackup,!e.allAttributes)for(T in c)f[T]||I.test(T)&&(T==(C=T.replace(/^data-cke-saved-/,""))||f[C])||(delete c[T],d=!0);if(!e.allStyles||e.hadInvalidStyle){for(T in v)e.allStyles||E[T]?O.push(T+":"+v[T]):d=!0;O.length&&(c.style=O.sort().join("; "))}else y&&(c.style=y);if(!e.allClasses||e.hadInvalidClass){for(T=0;T<u.length;++T)(e.allClasses||a[u[T]])&&m.push(u[T]);m.length&&(c.class=m.sort().join(" ")),l&&m.length<l.split(/\s+/).length&&(d=!0)}else l&&(c.class=l);if(d&&(s=1),!r.skipFinalValidation&&!g(n))return o.push(n),1}return r.toHtml&&(n.name=n.name.replace(L,"cke:$1")),s}function p(e){var t,n=e.attributes;delete n.style,delete n.class,(t=CKEDITOR.tools.writeCssText(e.styles,!0))&&(n.style=t),e.classes.length&&(n.class=e.classes.sort().join(" "))}function g(e){switch(e.name){case"a":if(!(e.children.length||e.attributes.name||e.attributes.id))return!1;break;case"img":if(!e.attributes.src)return!1}return!0}function m(e){if(!e)return!1;if(!0===e)return!0;var t=function(e){var t,n=[];for(t in e)-1<t.indexOf("*")&&n.push(t.replace(/\*/g,".*"));return n.length?new RegExp("^(?:"+n.join("|")+")$"):null}(e);return function(n){return n in e||t&&n.match(t)}}function E(){return new CKEDITOR.htmlParser.element("br")}function v(e){return e.type==CKEDITOR.NODE_ELEMENT&&("br"==e.name||D.$block[e.name])}function T(e,t,n){var i=e.name;if(D.$empty[i]||!e.children.length)"hr"==i&&"br"==t?e.replaceWith(E()):(e.parent&&n.push({check:"it",el:e.parent}),e.remove());else if(D.$block[i]||"tr"==i)if("br"==t)e.previous&&!v(e.previous)&&(t=E()).insertBefore(e),e.next&&!v(e.next)&&(t=E()).insertAfter(e),e.replaceWithChildren();else{var o;i=e.children;e:{o=D[t];for(var r,a=0,s=i.length;a<s;++a)if((r=i[a]).type==CKEDITOR.NODE_ELEMENT&&!o[r.name]){o=!1;break e}o=!0}if(o)e.name=t,e.attributes={},n.push({check:"parent-down",el:e});else{var l,c;for(a=(o=e.parent).type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==o.name,s=i.length;0<s;)r=i[--s],a&&(r.type==CKEDITOR.NODE_TEXT||r.type==CKEDITOR.NODE_ELEMENT&&D.$inline[r.name])?(l||((l=new CKEDITOR.htmlParser.element(t)).insertAfter(e),n.push({check:"parent-down",el:l})),l.add(r,0)):(l=null,c=D[o.name]||D.span,r.insertAfter(e),o.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||r.type!=CKEDITOR.NODE_ELEMENT||c[r.name]||n.push({check:"el-up",el:r}));e.remove()}}else i in{style:1,script:1}?e.remove():(e.parent&&n.push({check:"it",el:e.parent}),e.replaceWithChildren())}function b(e,t,n){var i,o;for(i=0;i<n.length;++i)if(!((o=n[i]).check&&!e.check(o.check,!1)||o.left&&!o.left(t))){o.right(t,k);break}}function C(e,t){var n,i,o,r,a=t.getDefinition(),s=a.attributes,l=a.styles;if(e.name!=a.element)return!1;for(n in s)if("class"==n){for(a=s[n].split(/\s+/),o=e.classes.join("|");r=a.pop();)if(-1==o.indexOf(r))return!1}else if(e.attributes[n]!=s[n])return!1;for(i in l)if(e.styles[i]!=l[i])return!1;return!0}function y(e,t){var n,i;return"string"==typeof e?n=e:e instanceof CKEDITOR.style?i=e:(n=e[0],i=e[1]),[{element:n,left:i,right:function(e,n){n.transform(e,t)}}]}function O(e){return function(t){return C(t,e)}}function I(e){return function(t,n){n[e](t)}}var D=CKEDITOR.dtd,R=CKEDITOR.tools.copy,_=CKEDITOR.tools.trim,w=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2,CKEDITOR.filter=function(e,t){this.allowedContent=[],this.disallowedContent=[],this.elementCallbacks=null,this.disabled=!1,this.editor=null,this.id=CKEDITOR.tools.getNextNumber(),this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{},cachedChecks:{}},CKEDITOR.filter.instances[this.id]=this;var n=this.editor=e instanceof CKEDITOR.editor?e:null;if(n&&!t){this.customConfig=!0;var i=n.config.allowedContent;!0===i?this.disabled=!0:(i||(this.customConfig=!1),this.allow(i,"config",1),this.allow(n.config.extraAllowedContent,"extra",1),this.allow(w[n.enterMode]+" "+w[n.shiftEnterMode],"default",1),this.disallow(n.config.disallowedContent))}else this.customConfig=!1,this.allow(t||e,"default",1)},CKEDITOR.filter.instances={},CKEDITOR.filter.prototype={allow:function(t,n,i){if(!r(this,t,i))return!1;var o,a;if("string"==typeof t)t=u(t);else if(t instanceof CKEDITOR.style){if(t.toAllowedContentRules)return this.allow(t.toAllowedContentRules(this.editor),n,i);o=t.getDefinition(),t={},i=o.attributes,t[o.element]=o={styles:o.styles,requiredStyles:o.styles&&CKEDITOR.tools.object.keys(o.styles)},i&&(i=R(i),o.classes=i.class?i.class.split(/\s+/):null,o.requiredClasses=o.classes,delete i.class,o.attributes=i,o.requiredAttributes=i&&CKEDITOR.tools.object.keys(i))}else if(CKEDITOR.tools.isArray(t)){for(o=0;o<t.length;++o)a=this.allow(t[o],n,i);return a}return e(this,t,n,this.allowedContent,this._.allowedRules),!0},applyTo:function(e,t,n,i){if(this.disabled)return!1;var o,r,a,s=this,l=[],c=this.editor&&this.editor.config.protectedSource,u=!1,d={doFilter:!n,doTransform:!0,doCallbacks:!0,toHtml:t};for(e.forEach((function(e){if(e.type==CKEDITOR.NODE_ELEMENT){if("off"==e.attributes["data-cke-filter"])return!1;if(!t||"span"!=e.name||!~CKEDITOR.tools.object.keys(e.attributes).join("|").indexOf("data-cke-"))if(1&(o=f(s,e,l,d)))u=!0;else if(2&o)return!1}else if(e.type==CKEDITOR.NODE_COMMENT&&e.value.match(/^\{cke_protected\}(?!\{C\})/)){var n;e:{var i,r,a,h=decodeURIComponent(e.value.replace(/^\{cke_protected\}/,""));if(n=[],c)for(r=0;r<c.length;++r)if((a=h.match(c[r]))&&a[0].length==h.length){n=!0;break e}1==(h=CKEDITOR.htmlParser.fragment.fromHtml(h)).children.length&&(i=h.children[0]).type==CKEDITOR.NODE_ELEMENT&&f(s,i,n,d),n=!n.length}n||l.push(e)}}),null,!0),l.length&&(u=!0),e=[],i=w[i||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];n=l.pop();)n.type==CKEDITOR.NODE_ELEMENT?T(n,i,e):n.remove();for(;r=e.pop();)if((n=r.el).parent)switch(a=D[n.parent.name]||D.span,r.check){case"it":D.$removeEmpty[n.name]&&!n.children.length?T(n,i,e):g(n)||T(n,i,e);break;case"el-up":n.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||a[n.name]||T(n,i,e);break;case"parent-down":n.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||a[n.name]||T(n.parent,i,e)}return u},checkFeature:function(e){return!(!this.disabled&&e)||(e.toFeature&&(e=e.toFeature(this.editor)),!e.requiredContent||this.check(e.requiredContent))},disable:function(){this.disabled=!0},disallow:function(t){return!!r(this,t,!0)&&("string"==typeof t&&(t=u(t)),e(this,t,null,this.disallowedContent,this._.disallowedRules),!0)},addContentForms:function(e){if(!this.disabled&&e){var t,n,i,o=[];for(t=0;t<e.length&&!i;++t)("string"==typeof(n=e[t])||n instanceof CKEDITOR.style)&&this.check(n)&&(i=n);if(i){for(t=0;t<e.length;++t)o.push(y(e[t],i));this.addTransformations(o)}}},addElementCallback:function(e){this.elementCallbacks||(this.elementCallbacks=[]),this.elementCallbacks.push(e)},addFeature:function(e){return!(!this.disabled&&e)||(e.toFeature&&(e=e.toFeature(this.editor)),this.allow(e.allowedContent,e.name),this.addTransformations(e.contentTransformations),this.addContentForms(e.contentForms),!e.requiredContent||!this.customConfig&&!this.disallowedContent.length||this.check(e.requiredContent))},addTransformations:function(e){var t,n;if(!this.disabled&&e){var i,o=this._.transformations;for(i=0;i<e.length;++i){t=e[i];var r=void 0,a=void 0,s=void 0,l=void 0,c=void 0,u=void 0;for(n=[],a=0;a<t.length;++a)"string"==typeof(s=t[a])?(l=(s=s.split(/\s*:\s*/))[0],c=null,u=s[1]):(l=s.check,c=s.left,u=s.right),r||(r=(r=s).element?r.element:l?l.match(/^([a-z0-9]+)/i)[0]:r.left.getDefinition().element),c instanceof CKEDITOR.style&&(c=O(c)),n.push({check:l==r?null:l,left:c,right:"string"==typeof u?I(u):u});o[t=r]||(o[t]=[]),o[t].push(n)}}},check:function(e,t,n){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(e)){for(var i=e.length;i--;)if(this.check(e[i],t,n))return!0;return!1}var o,r;if("string"==typeof e){if((r=e+"<"+(!1===t?"0":"1")+(n?"1":"0")+">")in this._.cachedChecks)return this._.cachedChecks[r];var a=(o=u(e).$1).styles;i=o.classes,o.name=o.elements,o.classes=i=i?i.split(/\s*,\s*/):[],o.styles=c(a),o.attributes=c(o.attributes),o.children=[],i.length&&(o.attributes.class=i.join(" ")),a&&(o.attributes.style=CKEDITOR.tools.writeCssText(o.styles))}else a=(o=e.getDefinition()).styles,i=o.attributes||{},a&&!CKEDITOR.tools.isEmpty(a)?(a=R(a),i.style=CKEDITOR.tools.writeCssText(a,!0)):a={},o={name:o.element,attributes:i,classes:i.class?i.class.split(/\s+/):[],styles:a,children:[]};a=CKEDITOR.tools.clone(o);var s,l=[];if(!1!==t&&(s=this._.transformations[o.name])){for(i=0;i<s.length;++i)b(this,o,s[i]);p(o)}return f(this,a,l,{doFilter:!0,doTransform:!1!==t,skipRequired:!n,skipFinalValidation:!n}),0<l.length?n=!1:((t=o.attributes.class)&&(o.attributes.class=o.attributes.class.split(" ").sort().join(" ")),n=CKEDITOR.tools.objectCompare(o.attributes,a.attributes,!0),t&&(o.attributes.class=t)),"string"==typeof e&&(this._.cachedChecks[r]=n),n},getAllowedEnterMode:function(){var e=["p","div","br"],t={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(n,i){var o,r=e.slice();if(this.check(w[n]))return n;for(i||(r=r.reverse());o=r.pop();)if(this.check(o))return t[o];return CKEDITOR.ENTER_BR}}(),clone:function(){var e=new CKEDITOR.filter,t=CKEDITOR.tools.clone;return e.allowedContent=t(this.allowedContent),e._.allowedRules=t(this._.allowedRules),e.disallowedContent=t(this.disallowedContent),e._.disallowedRules=t(this._.disallowedRules),e._.transformations=t(this._.transformations),e.disabled=this.disabled,e.editor=this.editor,e},destroy:function(){delete CKEDITOR.filter.instances[this.id],delete this._,delete this.allowedContent,delete this.disallowedContent}};var k,K={styles:1,attributes:1,classes:1},x={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},S=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,N={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},A=/^cke:(object|embed|param)$/,L=/^(object|embed|param)$/;k=CKEDITOR.filter.transformationsTools={sizeToStyle:function(e){this.lengthToStyle(e,"width"),this.lengthToStyle(e,"height")},sizeToAttribute:function(e){this.lengthToAttribute(e,"width"),this.lengthToAttribute(e,"height")},lengthToStyle:function(e,t,n){if(!((n=n||t)in e.styles)){var i=e.attributes[t];i&&(/^\d+$/.test(i)&&(i+="px"),e.styles[n]=i)}delete e.attributes[t]},lengthToAttribute:function(e,t,n){if(!((n=n||t)in e.attributes)){var i=e.styles[t],o=i&&i.match(/^(\d+)(?:\.\d*)?px$/);o?e.attributes[n]=o[1]:"cke-test"==i&&(e.attributes[n]="cke-test")}delete e.styles[t]},alignmentToStyle:function(e){if(!("float"in e.styles)){var t=e.attributes.align;"left"!=t&&"right"!=t||(e.styles.float=t)}delete e.attributes.align},alignmentToAttribute:function(e){if(!("align"in e.attributes)){var t=e.styles.float;"left"!=t&&"right"!=t||(e.attributes.align=t)}delete e.styles.float},splitBorderShorthand:function(e){if(e.styles.border){var t=CKEDITOR.tools.style.parse.border(e.styles.border);t.color&&(e.styles["border-color"]=t.color),t.style&&(e.styles["border-style"]=t.style),t.width&&(e.styles["border-width"]=t.width),delete e.styles.border}},listTypeToStyle:function(e){if(e.attributes.type)switch(e.attributes.type){case"a":e.styles["list-style-type"]="lower-alpha";break;case"A":e.styles["list-style-type"]="upper-alpha";break;case"i":e.styles["list-style-type"]="lower-roman";break;case"I":e.styles["list-style-type"]="upper-roman";break;case"1":e.styles["list-style-type"]="decimal";break;default:e.styles["list-style-type"]=e.attributes.type}},splitMarginShorthand:function(e){function t(t){e.styles["margin-top"]=n[t[0]],e.styles["margin-right"]=n[t[1]],e.styles["margin-bottom"]=n[t[2]],e.styles["margin-left"]=n[t[3]]}if(e.styles.margin){var n=e.styles.margin.match(/(auto|0|(?:\-?[\.\d]+(?:\w+|%)))/g)||["0px"];switch(n.length){case 1:t([0,0,0,0]);break;case 2:t([0,1,0,1]);break;case 3:t([0,1,2,1]);break;case 4:t([0,1,2,3])}delete e.styles.margin}},matchesStyle:C,transform:function(e,t){if("string"==typeof t)e.name=t;else{var n,i,o,r,a=t.getDefinition(),s=a.styles,l=a.attributes;for(n in e.name=a.element,l)if("class"==n)for(a=e.classes.join("|"),o=l[n].split(/\s+/);r=o.pop();)-1==a.indexOf(r)&&e.classes.push(r);else e.attributes[n]=l[n];for(i in s)e.styles[i]=s[i]}}}}(),CKEDITOR.focusManager=function(e){return e.focusManager?e.focusManager:(this.hasFocus=!1,this.currentActive=null,this._={editor:e},this)},CKEDITOR.focusManager._={blurDelay:200},CKEDITOR.focusManager.prototype={focus:function(e){this._.timer&&clearTimeout(this._.timer),e&&(this.currentActive=e),this.hasFocus||this._.locked||((e=CKEDITOR.currentInstance)&&e.focusManager.blur(1),this.hasFocus=!0,(e=this._.editor.container)&&e.addClass("cke_focus"),this._.editor.fire("focus"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(e){function t(){if(this.hasFocus){this.hasFocus=!1;var e=this._.editor.container;e&&e.removeClass("cke_focus"),this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var n=CKEDITOR.focusManager._.blurDelay;e||!n?t.call(this):this._.timer=CKEDITOR.tools.setTimeout((function(){delete this._.timer,t.call(this)}),n,this)}},add:function(e,t){if(!(n=e.getCustomData("focusmanager"))||n!=this){n&&n.remove(e);var n="focus",i="blur";t&&(CKEDITOR.env.ie?(n="focusin",i="focusout"):CKEDITOR.event.useCapture=1);var o={blur:function(){e.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(e)}};e.on(n,o.focus,this),e.on(i,o.blur,this),t&&(CKEDITOR.event.useCapture=0),e.setCustomData("focusmanager",this),e.setCustomData("focusmanager_handlers",o)}},remove:function(e){e.removeCustomData("focusmanager");var t=e.removeCustomData("focusmanager_handlers");e.removeListener("blur",t.blur),e.removeListener("focus",t.focus)}},CKEDITOR.keystrokeHandler=function(e){return e.keystrokeHandler?e.keystrokeHandler:(this.keystrokes={},this.blockedKeystrokes={},this._={editor:e},this)},function(){var e,t=function(t){var n=(t=t.data).getKeystroke(),i=this.keystrokes[n],o=this._.editor;return(e=!1===o.fire("key",{keyCode:n,domEvent:t}))||(i&&(e=!1!==o.execCommand(i,{from:"keystrokeHandler"})),e||(e=!!this.blockedKeystrokes[n])),e&&t.preventDefault(!0),!e},n=function(t){e&&(e=!1,t.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(e){e.on("keydown",t,this),CKEDITOR.env.gecko&&CKEDITOR.env.mac&&e.on("keypress",n,this)}}}(),CKEDITOR.lang={languages:{af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(e,t,n){e&&CKEDITOR.lang.languages[e]||(e=this.detect(t,e));var i=this;t=function(){i[e].dir=i.rtl[e]?"rtl":"ltr",n(e,i[e])},this[e]?t():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+e+".js"),t,this)},detect:function(e,t){var n=this.languages,i=(o=(t=t||navigator.userLanguage||navigator.language||e).toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/))[1],o=o[2];return n[i+"-"+o]?i=i+"-"+o:n[i]||(i=null),CKEDITOR.lang.detect=i?function(){return i}:function(e){return e},i||e}},CKEDITOR.scriptLoader=function(){var e={},t={};return{load:function(n,i,o,r){var a="string"==typeof n;a&&(n=[n]),o||(o=CKEDITOR);var s=n.length,l=s,c=[],u=[],d=function(e){i&&(a?i.call(o,e):i.call(o,c,u))};if(0===l)d(!0);else{var h=function(e,t){(t?c:u).push(e),0>=--l&&(r&&CKEDITOR.document.getDocumentElement().removeStyle("cursor"),d(t))},f=function(n,i){e[n]=1;var o=t[n];delete t[n];for(var r=0;r<o.length;r++)o[r](n,i)},p=function(n){if(e[n])h(n,!0);else{var o=t[n]||(t[n]=[]);if(o.push(h),!(1<o.length)){var r=new CKEDITOR.dom.element("script");r.setAttributes({type:"text/javascript",src:n}),i&&(CKEDITOR.env.ie&&(8>=CKEDITOR.env.version||CKEDITOR.env.ie9Compat)?r.$.onreadystatechange=function(){"loaded"!=r.$.readyState&&"complete"!=r.$.readyState||(r.$.onreadystatechange=null,f(n,!0))}:(r.$.onload=function(){setTimeout((function(){r.$.onload=null,r.$.onerror=null,f(n,!0)}),0)},r.$.onerror=function(){r.$.onload=null,r.$.onerror=null,f(n,!1)})),r.appendTo(CKEDITOR.document.getHead())}}};r&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var g=0;g<s;g++)p(n[g])}},queue:function(){function e(){var e;(e=t[0])&&this.load(e.scriptUrl,e.callback,CKEDITOR,0)}var t=[];return function(n,i){var o=this;t.push({scriptUrl:n,callback:function(){i&&i.apply(this,arguments),t.shift(),e.call(o)}}),1==t.length&&e.call(this)}}()}}(),CKEDITOR.resourceManager=function(e,t){this.basePath=e,this.fileName=t,this.registered={},this.loaded={},this.externals={},this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(e,t){if(this.registered[e])throw Error('[CKEDITOR.resourceManager.add] The resource name "'+e+'" is already registered.');var n=this.registered[e]=t||{};return n.name=e,n.path=this.getPath(e),CKEDITOR.fire(e+CKEDITOR.tools.capitalize(this.fileName)+"Ready",n),this.get(e)},get:function(e){return this.registered[e]||null},getPath:function(e){var t=this.externals[e];return CKEDITOR.getUrl(t&&t.dir||this.basePath+e+"/")},getFilePath:function(e){var t=this.externals[e];return CKEDITOR.getUrl(this.getPath(e)+(t?t.file:this.fileName+".js"))},addExternal:function(e,t,n){n||(t=t.replace(/[^\/]+$/,(function(e){return n=e,""}))),n=n||this.fileName+".js",e=e.split(",");for(var i=0;i<e.length;i++)this.externals[e[i]]={dir:t,file:n}},load:function(e,t,n){CKEDITOR.tools.isArray(e)||(e=e?[e]:[]);for(var i=this.loaded,o=this.registered,r=[],a={},s={},l=0;l<e.length;l++){var c=e[l];if(c)if(i[c]||o[c])s[c]=this.get(c);else{var u=this.getFilePath(c);r.push(u),u in a||(a[u]=[]),a[u].push(c)}}CKEDITOR.scriptLoader.load(r,(function(e,o){if(o.length)throw Error('[CKEDITOR.resourceManager.load] Resource name "'+a[o[0]].join(",")+'" was not found at "'+o[0]+'".');for(var r=0;r<e.length;r++)for(var l=a[e[r]],c=0;c<l.length;c++){var u=l[c];s[u]=this.get(u),i[u]=1}t.call(n,s)}),this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,(function(e){var t={};return function(n,i,o){var r={},a=function(n){e.call(this,n,(function(e){CKEDITOR.tools.extend(r,e);var n,s=[];for(n in e){var l=e[n],c=l&&l.requires;if(!t[n]){if(l.icons)for(var u=l.icons.split(","),d=u.length;d--;)CKEDITOR.skin.addIcon(u[d],l.path+"icons/"+(CKEDITOR.env.hidpi&&l.hidpi?"hidpi/":"")+u[d]+".png");l.isSupportedEnvironment=l.isSupportedEnvironment||function(){return!0},t[n]=1}if(c)for(c.split&&(c=c.split(",")),l=0;l<c.length;l++)r[c[l]]||s.push(c[l])}if(s.length)a.call(this,s);else{for(n in r)(l=r[n]).onLoad&&!l.onLoad._called&&(!1===l.onLoad()&&delete r[n],l.onLoad._called=1);i&&i.call(o||window,r)}}),this)};a.call(this,n)}})),CKEDITOR.plugins.setLang=function(e,t,n){var i=this.get(e);e=i.langEntries||(i.langEntries={}),(i=i.lang||(i.lang=[])).split&&(i=i.split(",")),-1==CKEDITOR.tools.indexOf(i,t)&&i.push(t),e[t]=n},CKEDITOR.ui=function(e){return e.ui?e.ui:(this.items={},this.instances={},this.editor=e,this._={handlers:{}},this)},CKEDITOR.ui.prototype={add:function(e,t,n){n.name=e.toLowerCase();var i=this.items[e]={type:t,command:n.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(i,n)},get:function(e){return this.instances[e]},create:function(e){var t=this.items[e],n=t&&this._.handlers[t.type],i=t&&t.command&&this.editor.getCommand(t.command);return n=n&&n.create.apply(this,t.args),this.instances[e]=n,i&&i.uiItems.push(n),n&&!n.type&&(n.type=t.type),n},addHandler:function(e,t){this._.handlers[e]=t},space:function(e){return CKEDITOR.document.getById(this.spaceId(e))},spaceId:function(e){return this.editor.id+"_"+e}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function e(e,n,o){if(CKEDITOR.event.call(this),e=e&&CKEDITOR.tools.clone(e),void 0!==n){if(!(n instanceof CKEDITOR.dom.element))throw Error("Expect element of type CKEDITOR.dom.element.");if(!o)throw Error("One of the element modes must be specified.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&o==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");if(!function(e,t){return t==CKEDITOR.ELEMENT_MODE_INLINE?e.is(CKEDITOR.dtd.$editable)||e.is("textarea"):t==CKEDITOR.ELEMENT_MODE_REPLACE?!e.is(CKEDITOR.dtd.$nonBodyContent):1}(n,o))throw Error('The specified element mode is not supported on element: "'+n.getName()+'".');this.element=n,this.elementMode=o,this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(n.getId()||n.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={},this.commands={},this.templates={},this.name=this.name||function(){do{var e="editor"+ ++s}while(CKEDITOR.instances[e]);return e}(),this.id=CKEDITOR.tools.getNextId(),this.status="unloaded",this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config),this.ui=new CKEDITOR.ui(this),this.focusManager=new CKEDITOR.focusManager(this),this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this),this.on("readOnly",t),this.on("selectionChange",(function(e){i(this,e.data.path)})),this.on("activeFilterChange",(function(){i(this,this.elementPath(),!0)})),this.on("mode",t),CKEDITOR.dom.selection.setupEditorOptimization(this),this.on("instanceReady",(function(){if(this.config.startupFocus){if("end"===this.config.startupFocus){var e=this.createRange();e.selectNodeContents(this.editable()),e.shrink(CKEDITOR.SHRINK_ELEMENT,!0),e.collapse(),this.getSelection().selectRanges([e])}this.focus()}})),CKEDITOR.fire("instanceCreated",null,this),CKEDITOR.add(this),CKEDITOR.tools.setTimeout((function(){this.isDestroyed()||this.isDetached()||r(this,e)}),0,this)}function t(){var e,t=this.commands;for(e in t)n(this,t[e])}function n(e,t){t[t.startDisabled||e.readOnly&&!t.readOnly?"disable":t.modes[e.mode]?"enable":"disable"]()}function i(e,t,n){if(t){var i,o,r=e.commands;for(o in r)i=r[o],(n||i.contextSensitive)&&i.refresh(e,t)}}function o(e){if(!(t=e.config.customConfig))return!1;var t=CKEDITOR.getUrl(t),n=l[t]||(l[t]={});return n.fn?(n.fn.call(e,e.config),CKEDITOR.getUrl(e.config.customConfig)!=t&&o(e)||e.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(t,(function(){n.fn=n.fn||CKEDITOR.editorConfig||function(){},o(e)})),!0}function r(e,t){e.on("customConfigLoaded",(function(){if(t){if(t.on)for(var n in t.on)e.on(n,t.on[n]);CKEDITOR.tools.extend(e.config,t,!0),delete e.config.on}n=e.config,e.readOnly=!!n.readOnly||(e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.element.is("textarea")?e.element.hasAttribute("disabled")||e.element.hasAttribute("readonly"):e.element.isReadOnly():e.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.element.hasAttribute("disabled")||e.element.hasAttribute("readonly"))),e.blockless=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&!(e.element.is("textarea")||CKEDITOR.dtd[e.element.getName()].p),e.tabIndex=n.tabIndex||e.element&&e.element.getAttribute("tabindex")||0,e.activeEnterMode=e.enterMode=e.blockless?CKEDITOR.ENTER_BR:n.enterMode,e.activeShiftEnterMode=e.shiftEnterMode=e.blockless?CKEDITOR.ENTER_BR:n.shiftEnterMode,n.skin&&(CKEDITOR.skinName=n.skin),e.fireOnce("configLoaded"),e.dataProcessor=new CKEDITOR.htmlDataProcessor(e),e.filter=e.activeFilter=new CKEDITOR.filter(e),function(e){CKEDITOR.skin.loadPart("editor",(function(){!function(e){CKEDITOR.lang.load(e.config.language,e.config.defaultLanguage,(function(t,n){var i=e.config.title,o=e.config.applicationTitle;e.langCode=t,e.lang=CKEDITOR.tools.prototypedCopy(n),e.title="string"==typeof i||!1===i?i:[e.lang.editor,e.name].join(", "),e.applicationTitle="string"==typeof o||!1===o?o:[e.lang.application,e.name].join(", "),e.config.contentsLangDirection||(e.config.contentsLangDirection=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.element.getDirection(1):e.lang.dir),e.fire("langLoaded"),function(e){e.getStylesSet((function(t){e.once("loaded",(function(){e.fire("stylesSet",{styles:t})}),null,null,1),function(e){function t(e){return e?(CKEDITOR.tools.isArray(e)&&(e=e.join(",")),e.replace(/\s/g,"")):""}var n=e.config,i=t(n.plugins),o=t(n.extraPlugins),r=t(n.removePlugins);if(o){var a=new RegExp("(?:^|,)(?:"+o.replace(/,/g,"|")+")(?=,|$)","g");i=(i=i.replace(a,""))+","+o}if(r){var s=new RegExp("(?:^|,)(?:"+r.replace(/,/g,"|")+")(?=,|$)","g");i=i.replace(s,"")}CKEDITOR.env.air&&(i+=",adobeair"),CKEDITOR.plugins.load(i.split(","),(function(t){var i=[],o=[],r=[];for(var a in e.plugins=CKEDITOR.tools.extend({},e.plugins,t),t){var l,c=t[a],u=c.lang,d=null,h=c.requires;if(CKEDITOR.tools.isArray(h)&&(h=h.join(",")),h&&(l=h.match(s)))for(;h=l.pop();)CKEDITOR.error("editor-plugin-required",{plugin:h.replace(",",""),requiredBy:a});u&&!e.lang[a]&&(u.split&&(u=u.split(",")),d=0<=CKEDITOR.tools.indexOf(u,e.langCode)?e.langCode:(d=e.langCode.replace(/-.*/,""))!=e.langCode&&0<=CKEDITOR.tools.indexOf(u,d)?d:0<=CKEDITOR.tools.indexOf(u,"en")?"en":u[0],c.langEntries&&c.langEntries[d]?(e.lang[a]=c.langEntries[d],d=null):r.push(CKEDITOR.getUrl(c.path+"lang/"+d+".js"))),o.push(d),i.push(c)}CKEDITOR.scriptLoader.load(r,(function(){if(!e.isDestroyed()&&!e.isDetached()){for(var t=["beforeInit","init","afterInit"],r=0;r<t.length;r++)for(var a=0;a<i.length;a++){var s=i[a];0===r&&o[a]&&s.lang&&s.langEntries&&(e.lang[s.name]=s.langEntries[o[a]]),s[t[r]]&&s[t[r]](e)}for(e.fireOnce("pluginsLoaded"),n.keystrokes&&e.setKeystroke(e.config.keystrokes),a=0;a<e.config.blockedKeystrokes.length;a++)e.keystrokeHandler.blockedKeystrokes[e.config.blockedKeystrokes[a]]=1;e.status="loaded",e.fireOnce("loaded"),CKEDITOR.fire("instanceLoaded",null,e)}}))}))}(e)}))}(e)}))}(e)}))}(e)})),t&&null!=t.customConfig&&(e.config.customConfig=t.customConfig),o(e)||e.fireOnce("customConfigLoaded")}function a(){var e=this.element;if(e&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var t=this.getData();return this.config.htmlEncodeOutput&&(t=CKEDITOR.tools.htmlEncode(t)),e.is("textarea")?e.setValue(t):e.setHtml(t),!0}return!1}e.prototype=CKEDITOR.editor.prototype,CKEDITOR.editor=e;var s=0,l={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{plugins:{detectConflict:function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(this[i])return CKEDITOR.warn("editor-plugin-conflict",{plugin:e,replacedWith:i}),!0}return!1}},addCommand:function(e,t){t.name=e.toLowerCase();var i=t instanceof CKEDITOR.command?t:new CKEDITOR.command(this,t);return this.mode&&n(this,i),this.commands[e]=i},_attachToForm:function(){function e(e){t.updateElement(),t._.required&&!n.getValue()&&!1===t.fire("required")&&e.data.preventDefault()}var t=this,n=t.element,i=new CKEDITOR.dom.element(n.$.form);n.is("textarea")&&i&&(i.on("submit",e),function(e){return!!(e&&e.call&&e.apply)}(i.$.submit)&&(i.$.submit=CKEDITOR.tools.override(i.$.submit,(function(t){return function(){e(),t.apply?t.apply(this):t()}}))),t.on("destroy",(function(){i.removeListener("submit",e)})))},destroy:function(e){var t=CKEDITOR.filter.instances,n=this;this.fire("beforeDestroy"),!e&&a.call(this),this.editable(null),this.filter&&delete this.filter,CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(t),(function(e){e=t[e],n===e.editor&&e.destroy()})),delete this.activeFilter,this.status="destroyed",this.fire("destroy"),this.removeAllListeners(),CKEDITOR.remove(this),CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(e){if(!e){if(!(e=this.getSelection()))return null;e=e.getStartElement()}return e?new CKEDITOR.dom.elementPath(e,this.editable()):null},createRange:function(){var e=this.editable();return e?new CKEDITOR.dom.range(e):null},execCommand:function(e,t){var n=this.getCommand(e),i={name:e,commandData:t||{},command:n};return!(!n||n.state==CKEDITOR.TRISTATE_DISABLED||!1===this.fire("beforeCommandExec",i)||(i.returnValue=n.exec(i.commandData),n.async||!1===this.fire("afterCommandExec",i)))&&i.returnValue},getCommand:function(e){return this.commands[e]},getData:function(e){!e&&this.fire("beforeGetData");var t=this._.data;return"string"!=typeof t&&(t=(t=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?t.is("textarea")?t.getValue():t.getHtml():""),t={dataValue:t},!e&&this.fire("getData",t),t.dataValue},getSnapshot:function(){var e=this.fire("getSnapshot");return"string"!=typeof e&&(e=(e=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?e.is("textarea")?e.getValue():e.getHtml():""),e},loadSnapshot:function(e){this.fire("loadSnapshot",e)},setData:function(e,t,n){var i=!0,o=t;t&&"object"==typeof t&&(n=t.internal,o=t.callback,i=!t.noSnapshot),!n&&i&&this.fire("saveSnapshot"),!o&&n||this.once("dataReady",(function(e){!n&&i&&this.fire("saveSnapshot"),o&&o.call(e.editor)})),e={dataValue:e},!n&&this.fire("setData",e),this._.data=e.dataValue,!n&&this.fire("afterSetData",e)},setReadOnly:function(e){e=null==e||e,this.readOnly!=e&&(this.readOnly=e,this.keystrokeHandler.blockedKeystrokes[8]=+e,this.editable().setReadOnly(e),this.fire("readOnly"))},insertHtml:function(e,t,n){this.fire("insertHtml",{dataValue:e,mode:t,range:n})},insertText:function(e){this.fire("insertText",e)},insertElement:function(e){this.fire("insertElement",e)},getSelectedHtml:function(e){var t=this.editable(),n=(n=this.getSelection())&&n.getRanges();return t&&n&&0!==n.length?(t=function(e,t){function n(e){var t=e.startContainer,n=e.endContainer,i=t.is&&t.is("tr"),o=t.is&&t.is("td");return e=o&&t.equals(n)&&e.endOffset===t.getChildCount(),t=o&&1===t.getChildCount()&&"img"===t.getChildren().getItem(0).getName(),!!(i||e&&!t)}function i(e){var t=e.startContainer;return t.is("tr")?e.cloneContents():t.clone(!0)}for(var o,r,a,s=new CKEDITOR.dom.documentFragment,l=0;l<e.length;l++){var c=e[l],u=c.startContainer.getAscendant("tr",!0);n(c)?(o||((o=u.getAscendant("table").clone()).append(u.getAscendant({thead:1,tbody:1,tfoot:1}).clone()),s.append(o),o=o.findOne("thead, tbody, tfoot")),r&&r.equals(u)||(r=u,a=u.clone(),o.append(a)),a.append(i(c))):s.append(c.cloneContents())}return o?s:t.getHtmlFromRange(e[0])}(n,t),e?t.getHtml():t):null},extractSelectedHtml:function(e,t){var n,i=this.editable(),o=this.getSelection().getRanges(),r=new CKEDITOR.dom.documentFragment;if(!i||0===o.length)return null;for(n=0;n<o.length;n++)r.append(i.extractHtmlFromRange(o[n],t));return t||this.getSelection().selectRanges([o[0]]),e?r.getHtml():r},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return"ready"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return a.call(this)},setKeystroke:function(){for(var e,t,n=this.keystrokeHandler.keystrokes,i=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],o=i.length;o--;)e=i[o],t=0,CKEDITOR.tools.isArray(e)&&(t=e[1],e=e[0]),t?n[e]=t:delete n[e]},getCommandKeystroke:function(e,t){var n="string"==typeof e?this.getCommand(e):e,i=[];if(n){var o=CKEDITOR.tools.object.findKey(this.commands,n),r=this.keystrokeHandler.keystrokes;if(n.fakeKeystroke)i.push(n.fakeKeystroke);else for(var a in r)r[a]===o&&i.push(a)}return t?i:i[0]||null},addFeature:function(e){return this.filter.addFeature(e)},setActiveFilter:function(e){e||(e=this.filter),this.activeFilter!==e&&(this.activeFilter=e,this.fire("activeFilterChange"),e===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(e.getAllowedEnterMode(this.enterMode),e.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(e,t){e=e?this.blockless?CKEDITOR.ENTER_BR:e:this.enterMode,t=t?this.blockless?CKEDITOR.ENTER_BR:t:this.shiftEnterMode,this.activeEnterMode==e&&this.activeShiftEnterMode==t||(this.activeEnterMode=e,this.activeShiftEnterMode=t,this.fire("activeEnterModeChange"))},showNotification:function(e){alert(e)},isDetached:function(){return!!this.container&&this.container.isDetached()},isDestroyed:function(){return"destroyed"===this.status}}),CKEDITOR.editor._getEditorElement=function(e){if(!CKEDITOR.env.isCompatible)return null;var t=CKEDITOR.dom.element.get(e);return t?t.getEditor()?(CKEDITOR.error("editor-element-conflict",{editorName:t.getEditor().name}),null):t:(CKEDITOR.error("editor-incorrect-element",{element:e}),null)},CKEDITOR.editor.initializeDelayedEditorCreation=function(e,t,n){if(t.delayIfDetached_callback)return CKEDITOR.warn("editor-delayed-creation",{method:"callback"}),t.delayIfDetached_callback((function(){CKEDITOR[n](e,t),CKEDITOR.warn("editor-delayed-creation-success",{method:"callback"})})),null;var i=void 0===t.delayIfDetached_interval?CKEDITOR.config.delayIfDetached_interval:t.delayIfDetached_interval;CKEDITOR.warn("editor-delayed-creation",{method:"interval - "+i+" ms"});var o=setInterval((function(){e.isDetached()||(clearInterval(o),CKEDITOR[n](e,t),CKEDITOR.warn("editor-delayed-creation-success",{method:"interval - "+i+" ms"}))}),i);return function(){clearInterval(o)}},CKEDITOR.editor.shouldDelayEditorCreation=function(e,t){return CKEDITOR.editor.mergeDelayedCreationConfigs(t),t&&t.delayIfDetached&&e.isDetached()},CKEDITOR.editor.mergeDelayedCreationConfigs=function(e){e&&(e.delayIfDetached="boolean"==typeof e.delayIfDetached?e.delayIfDetached:CKEDITOR.config.delayIfDetached,e.delayIfDetached_interval=isNaN(e.delayIfDetached_interval)?CKEDITOR.config.delayIfDetached_interval:e.delayIfDetached_interval,e.delayIfDetached_callback=e.delayIfDetached_callback||CKEDITOR.config.delayIfDetached_callback)}}(),CKEDITOR.ELEMENT_MODE_NONE=0,CKEDITOR.ELEMENT_MODE_REPLACE=1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=3,CKEDITOR.config.delayIfDetached=!1,CKEDITOR.config.delayIfDetached_callback=void 0,CKEDITOR.config.delayIfDetached_interval=50,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--!?>)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}},function(){var e=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,t={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(n){for(var i,o,r,a=0;i=this._.htmlPartsRegex.exec(n);)if((o=i.index)>a&&(a=n.substring(a,o),r?r.push(a):this.onText(a)),a=this._.htmlPartsRegex.lastIndex,!(o=i[1])||(o=o.toLowerCase(),r&&CKEDITOR.dtd.$cdata[o]&&(this.onCDATA(r.join("")),r=null),r))if(r)r.push(i[0]);else if(o=i[3]){if(o=o.toLowerCase(),!/="/.test(o)){var s,l={},c=i[4];if(i=!!i[5],c)for(;s=e.exec(c);){var u=s[1].toLowerCase();s=s[2]||s[3]||s[4]||"",l[u]=!s&&t[u]?u:CKEDITOR.tools.htmlDecodeAttr(s)}this.onTagOpen(o,l,i),!r&&CKEDITOR.dtd.$cdata[o]&&(r=[])}}else(o=i[2])&&this.onComment(o);else this.onTagClose(o);n.length>a&&this.onText(n.substring(a,n.length))}}}(),CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(e){this._.output.push("<",e)},openTagClose:function(e,t){t?this._.output.push(" />"):this._.output.push(">")},attribute:function(e,t){"string"==typeof t&&(t=CKEDITOR.tools.htmlEncodeAttr(t)),this._.output.push(" ",e,'="',t,'"')},closeTag:function(e){this._.output.push("</",e,">")},text:function(e){this._.output.push(e)},comment:function(e){this._.output.push("\x3c!--",e,"--\x3e")},write:function(e){this._.output.push(e)},reset:function(){this._.output=[],this._.indent=!1},getHtml:function(e){var t=this._.output.join("");return e&&this.reset(),t}}}),CKEDITOR.htmlParser.node=function(){},CKEDITOR.htmlParser.node.prototype={remove:function(){var e=this.parent.children,t=CKEDITOR.tools.indexOf(e,this),n=this.previous,i=this.next;n&&(n.next=i),i&&(i.previous=n),e.splice(t,1),this.parent=null},replaceWith:function(e){var t=this.parent.children,n=CKEDITOR.tools.indexOf(t,this),i=e.previous=this.previous,o=e.next=this.next;i&&(i.next=e),o&&(o.previous=e),t[n]=e,e.parent=this.parent,this.parent=null},insertAfter:function(e){var t=e.parent.children,n=CKEDITOR.tools.indexOf(t,e),i=e.next;t.splice(n+1,0,this),this.next=e.next,this.previous=e,e.next=this,i&&(i.previous=this),this.parent=e.parent},insertBefore:function(e){var t=e.parent.children,n=CKEDITOR.tools.indexOf(t,e);t.splice(n,0,this),this.next=e,(this.previous=e.previous)&&(e.previous.next=this),e.previous=this,this.parent=e.parent},getAscendant:function(e){for(var t="function"==typeof e?e:"string"==typeof e?function(t){return t.name==e}:function(t){return t.name in e},n=this.parent;n&&n.type==CKEDITOR.NODE_ELEMENT;){if(t(n))return n;n=n.parent}return null},wrapWith:function(e){return this.replaceWith(e),e.add(this),e},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(e){return e||{}}},CKEDITOR.htmlParser.comment=function(e){this.value=e,this._={isBlockLike:!1}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(e,t){var n=this.value;return(n=e.onComment(t,n,this))?"string"!=typeof n?(this.replaceWith(n),!1):(this.value=n,!0):(this.remove(),!1)},writeHtml:function(e,t){t&&this.filter(t),e.comment(this.value)}}),CKEDITOR.htmlParser.text=function(e){this.value=e,this._={isBlockLike:!1}},CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(e,t){if(!(this.value=e.onText(t,this.value,this)))return this.remove(),!1},writeHtml:function(e,t){t&&this.filter(t),e.text(this.value)}}),CKEDITOR.htmlParser.cdata=function(e){this.value=e},CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(e){if((t=this.getAscendant("style"))&&t.getAscendant({math:1,svg:1})){var t=CKEDITOR.htmlParser.fragment.fromHtml(this.value),n=new CKEDITOR.htmlParser.basicWriter;e.applyTo(t),t.writeHtml(n),this.value=n.getHtml()}},writeHtml:function(e){e.write(this.value)}}),CKEDITOR.htmlParser.fragment=function(){this.children=[],this.parent=null,this._={isBlockLike:!0,hasInlineStarted:!1}},function(){function e(e){return!e.attributes["data-cke-survive"]&&("a"==e.name&&e.attributes.href||CKEDITOR.dtd.$removeEmpty[e.name])}var t=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),n={ol:1,ul:1},i=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),o={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=function(r,a,s){function l(e){var t;if(0<m.length)for(var n=0;n<m.length;n++){var i=m[n],o=i.name,r=CKEDITOR.dtd[o],a=v.name&&CKEDITOR.dtd[v.name];a&&!a[o]||e&&r&&!r[e]&&CKEDITOR.dtd[e]?o==v.name&&(d(v,v.parent,1),n--):(t||(c(),t=1),(i=i.clone()).parent=v,v=i,m.splice(n,1),n--)}}function c(){for(;E.length;)d(E.shift(),v)}function u(e){if(e._.isBlockLike&&"pre"!=e.name&&"textarea"!=e.name){var t,n=e.children.length,i=e.children[n-1];i&&i.type==CKEDITOR.NODE_TEXT&&((t=CKEDITOR.tools.rtrim(i.value))?i.value=t:e.children.length=n-1)}}function d(t,n,i){n=n||v||g;var o=v;void 0===t.previous&&(h(n,t)&&(v=n,p.onTagOpen(s,{}),t.returnPoint=n=v),u(t),e(t)&&!t.children.length||n.add(t),"pre"==t.name&&(b=!1),"textarea"==t.name&&(T=!1)),t.returnPoint?(v=t.returnPoint,delete t.returnPoint):v=i?n:o}function h(e,t){var n,i;if((e==g||"body"==e.name)&&s&&(!e.name||CKEDITOR.dtd[e.name][s]))return(n=t.attributes&&(i=t.attributes["data-cke-real-element-type"])?i:t.name)&&n in CKEDITOR.dtd.$inline&&!(n in CKEDITOR.dtd.head)&&!t.isOrphan||t.type==CKEDITOR.NODE_TEXT}function f(e,t){return(e in CKEDITOR.dtd.$listItem||e in CKEDITOR.dtd.$tableContent)&&(e==t||"dt"==e&&"dd"==t||"dd"==e&&"dt"==t)}var p=new CKEDITOR.htmlParser,g=a instanceof CKEDITOR.htmlParser.element?a:"string"==typeof a?new CKEDITOR.htmlParser.element(a):new CKEDITOR.htmlParser.fragment,m=[],E=[],v=g,T="textarea"==g.name,b="pre"==g.name;for(p.onTagOpen=function(o,r,a,s){if((r=new CKEDITOR.htmlParser.element(o,r)).isUnknown&&a&&(r.isEmpty=!0),r.isOptionalClose=s,e(r))m.push(r);else{if("pre"==o)b=!0;else{if("br"==o&&b)return void v.add(new CKEDITOR.htmlParser.text("\n"));"textarea"==o&&(T=!0)}if("br"==o)E.push(r);else{for(;s=(a=v.name)?CKEDITOR.dtd[a]||(v._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):i,!(r.isUnknown||v.isUnknown||s[o]);)if(v.isOptionalClose)p.onTagClose(a);else if(o in n&&a in n)(a=(a=v.children)[a.length-1])&&"li"==a.name||d(a=new CKEDITOR.htmlParser.element("li"),v),!r.returnPoint&&(r.returnPoint=v),v=a;else if(o in CKEDITOR.dtd.$listItem&&!f(o,a))p.onTagOpen("li"==o?"ul":"dl",{},0,1);else if(a in t&&!f(o,a))!r.returnPoint&&(r.returnPoint=v),v=v.parent;else{if(a in CKEDITOR.dtd.$inline&&m.unshift(v),!v.parent){r.isOrphan=1;break}d(v,v.parent,1)}l(o),c(),r.parent=v,r.isEmpty?d(r):v=r}}},p.onTagClose=function(e){for(var t=m.length-1;0<=t;t--)if(e==m[t].name)return void m.splice(t,1);for(var n=[],i=[],o=v;o!=g&&o.name!=e;)o._.isBlockLike||i.unshift(o),n.push(o),o=o.returnPoint||o.parent;if(o!=g){for(t=0;t<n.length;t++){var r=n[t];d(r,r.parent)}v=o,o._.isBlockLike?c():!0!==(t=CKEDITOR.config.shiftLineBreaks)&&E.length&&("function"!=typeof t?c():!0!==(t=t(E[E.length-1]))&&(c(),t instanceof CKEDITOR.htmlParser.text&&v.add(t),t instanceof CKEDITOR.htmlParser.element&&d(t,v))),d(o,o.parent),o==v&&(v=v.parent),m=m.concat(i)}"body"==e&&(s=!1)},p.onText=function(e){if(v._.hasInlineStarted&&!E.length||b||T||0!==(e=CKEDITOR.tools.ltrim(e)).length){var n=v.name,r=n?CKEDITOR.dtd[n]||(v._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):i;T||r["#"]||!(n in t)?(c(),l(),b||T||(e=e.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," ")),e=new CKEDITOR.htmlParser.text(e),h(v,e)&&this.onTagOpen(s,{},0,1),v.add(e)):(p.onTagOpen(o[n]||""),p.onText(e))}},p.onCDATA=function(e){v.add(new CKEDITOR.htmlParser.cdata(e))},p.onComment=function(e){c(),l(),v.add(new CKEDITOR.htmlParser.comment(e))},p.parse(r),c();v!=g;)d(v,v.parent,1);return u(g),g},CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(e,t){isNaN(t)&&(t=this.children.length);var n=0<t?this.children[t-1]:null;if(n){if(e._.isBlockLike&&n.type==CKEDITOR.NODE_TEXT&&(n.value=CKEDITOR.tools.rtrim(n.value),0===n.value.length))return this.children.pop(),void this.add(e);n.next=e}e.previous=n,e.parent=this,this.children.splice(t,0,e),this._.hasInlineStarted||(this._.hasInlineStarted=e.type==CKEDITOR.NODE_TEXT||e.type==CKEDITOR.NODE_ELEMENT&&!e._.isBlockLike)},filter:function(e,t){t=this.getFilterContext(t),e.onRoot(t,this),this.filterChildren(e,!1,t)},filterChildren:function(e,t,n){if(this.childrenFilteredBy!=e.id)for(n=this.getFilterContext(n),t&&!this.parent&&e.onRoot(n,this),this.childrenFilteredBy=e.id,t=0;t<this.children.length;t++)!1===this.children[t].filter(e,n)&&t--},writeHtml:function(e,t){t&&this.filter(t),this.writeChildrenHtml(e)},writeChildrenHtml:function(e,t,n){var i=this.getFilterContext();for(n&&!this.parent&&t&&t.onRoot(i,this),t&&this.filterChildren(t,!1,i),t=0,i=(n=this.children).length;t<i;t++)n[t].writeHtml(e)},forEach:function(e,t,n){if(!(n||t&&this.type!=t))var i=e(this);if(!1!==i){n=this.children;for(var o=0;o<n.length;o++)(i=n[o]).type==CKEDITOR.NODE_ELEMENT?i.forEach(e,t):t&&i.type!=t||e(i)}},getFilterContext:function(e){return e||{}}},CKEDITOR.config.shiftLineBreaks=!0}(),function(){function e(){this.rules=[]}function t(t,n,i,o){var r,a;for(r in n)(a=t[r])||(a=t[r]=new e),a.add(n[r],i,o)}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(t){this.id=CKEDITOR.tools.getNextNumber(),this.elementNameRules=new e,this.attributeNameRules=new e,this.elementsRules={},this.attributesRules={},this.textRules=new e,this.commentRules=new e,this.rootRules=new e,t&&this.addRules(t,10)},proto:{addRules:function(e,n){var i;"number"==typeof n?i=n:n&&"priority"in n&&(i=n.priority),"number"!=typeof i&&(i=10),"object"!=typeof n&&(n={}),e.elementNames&&this.elementNameRules.addMany(e.elementNames,i,n),e.attributeNames&&this.attributeNameRules.addMany(e.attributeNames,i,n),e.elements&&t(this.elementsRules,e.elements,i,n),e.attributes&&t(this.attributesRules,e.attributes,i,n),e.text&&this.textRules.add(e.text,i,n),e.comment&&this.commentRules.add(e.comment,i,n),e.root&&this.rootRules.add(e.root,i,n)},applyTo:function(e){e.filter(this)},onElementName:function(e,t){return this.elementNameRules.execOnName(e,t)},onAttributeName:function(e,t){return this.attributeNameRules.execOnName(e,t)},onText:function(e,t,n){return this.textRules.exec(e,t,n)},onComment:function(e,t,n){return this.commentRules.exec(e,t,n)},onRoot:function(e,t){return this.rootRules.exec(e,t)},onElement:function(e,t){for(var n,i=[this.elementsRules["^"],this.elementsRules[t.name],this.elementsRules.$],o=0;3>o;o++)if(n=i[o]){if(!1===(n=n.exec(e,t,this)))return null;if(n&&n!=t)return this.onNode(e,n);if(t.parent&&!t.name)break}return t},onNode:function(e,t){var n=t.type;return n==CKEDITOR.NODE_ELEMENT?this.onElement(e,t):n==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(e,t.value,t)):n==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(e,t.value,t)):null},onAttribute:function(e,t,n,i){return(n=this.attributesRules[n])?n.exec(e,i,t,this):i}}}),CKEDITOR.htmlParser.filterRulesGroup=e,e.prototype={add:function(e,t,n){this.rules.splice(this.findIndex(t),0,{value:e,priority:t,options:n})},addMany:function(e,t,n){for(var i=[this.findIndex(t),0],o=0,r=e.length;o<r;o++)i.push({value:e[o],priority:t,options:n});this.rules.splice.apply(this.rules,i)},findIndex:function(e){for(var t=this.rules,n=t.length-1;0<=n&&e<t[n].priority;)n--;return n+1},exec:function(e,t){var n,i,o,r,a=t instanceof CKEDITOR.htmlParser.node||t instanceof CKEDITOR.htmlParser.fragment,s=Array.prototype.slice.call(arguments,1),l=this.rules,c=l.length;for(r=0;r<c;r++)if(a&&(n=t.type,i=t.name),o=l[r],!(e.nonEditable&&!o.options.applyToAll||e.nestedEditable&&o.options.excludeNestedEditable)){if(!1===(o=o.value.apply(null,s))||a&&o&&(o.name!=i||o.type!=n))return o;null!=o&&(s[0]=t=o)}return t},execOnName:function(e,t){for(var n,i=0,o=this.rules,r=o.length;t&&i<r;i++)n=o[i],e.nonEditable&&!n.options.applyToAll||e.nestedEditable&&n.options.excludeNestedEditable||(t=t.replace(n.value[0],n.value[1]));return t}}}(),function(){function e(e,t){function s(e){return e||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text(" "):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function l(e,t){return function(o){if(o.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var a,l,u=[],d=n(o);if(d)for(c(d,1)&&u.push(d);d;)r(d)&&(a=i(d))&&c(a)&&((l=i(a))&&!r(l)?u.push(a):(s(h).insertAfter(a),a.remove())),d=d.previous;for(d=0;d<u.length;d++)u[d].remove();(u=!e||!1!==("function"==typeof t?t(o):t))&&(u=!(!h&&!CKEDITOR.env.needsBrFiller&&o.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||!h&&!CKEDITOR.env.needsBrFiller&&(7<document.documentMode||o.name in CKEDITOR.dtd.tr||o.name in CKEDITOR.dtd.$listItem))&&(!(u=n(o))||"form"==o.name&&"input"==u.name)),u&&o.add(s(e))}}}function c(e,t){return!(h&&!CKEDITOR.env.needsBrFiller||e.type!=CKEDITOR.NODE_ELEMENT||"br"!=e.name||e.attributes["data-cke-eol"])||!!(e.type==CKEDITOR.NODE_TEXT&&(n=e.value.match(p))&&(n.index&&(new CKEDITOR.htmlParser.text(e.value.substring(0,n.index)).insertBefore(e),e.value=n[0]),!CKEDITOR.env.needsBrFiller&&h&&(!t||e.parent.name in f)||!h&&((n=e.previous)&&"br"==n.name||!n||r(n))));var n}var u,d={elements:{}},h="html"==t,f=CKEDITOR.tools.extend({},v);for(u in f)"#"in m[u]||delete f[u];for(u in f)d.elements[u]=l(h,e.config.fillEmptyBlocks);return d.root=l(h,!1),d.elements.br=function(e){return function(t){if(t.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var n=t.attributes;if("data-cke-bogus"in n||"data-cke-eol"in n)delete n["data-cke-bogus"];else{for(n=t.next;n&&o(n);)n=n.next;var l=i(t);!n&&r(t.parent)?a(t.parent,s(e)):r(n)&&l&&!r(l)&&s(e).insertBefore(n)}}}}(h),d}function t(e,t){return e!=CKEDITOR.ENTER_BR&&!1!==t&&(e==CKEDITOR.ENTER_DIV?"div":"p")}function n(e){for(e=e.children[e.children.length-1];e&&o(e);)e=e.previous;return e}function i(e){for(e=e.previous;e&&o(e);)e=e.previous;return e}function o(e){return e.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(e.value)||e.type==CKEDITOR.NODE_ELEMENT&&e.attributes["data-cke-bookmark"]}function r(e){return e&&(e.type==CKEDITOR.NODE_ELEMENT&&e.name in v||e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function a(e,t){var n=e.children[e.children.length-1];e.children.push(t),t.parent=e,n&&(n.next=t,t.previous=n)}function s(e){"false"!=(e=e.attributes).contenteditable&&(e["data-cke-editable"]=e.contenteditable?"true":1),e.contenteditable="false"}function l(e){switch((e=e.attributes)["data-cke-editable"]){case"true":e.contenteditable="true";break;case"1":delete e.contenteditable}}function c(e,t){return e.replace(t,(function(e,t,n){return 0===e.indexOf("<textarea")&&(e=t+u(n).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</textarea>"),"<cke:encoded>"+encodeURIComponent(e)+"</cke:encoded>"}))}function u(e){return e.replace(/\x3c!--\{cke_protected\}\{C\}([\s\S]+?)--\x3e/g,(function(e,t){return decodeURIComponent(t)}))}function d(e,t){var n=t._.dataStore;return e.replace(/\x3c!--\{cke_protected\}([\s\S]+?)--\x3e/g,(function(e,t){return decodeURIComponent(t)})).replace(/\{cke_protected_(\d+)\}/g,(function(e,t){return n&&n[t]||""}))}function h(e,t,n){var i=[],o=t.config.protectedSource,r=t._.dataStore||(t._.dataStore={id:1}),a=new RegExp("<\\!--\\{cke_temp_"+n+"(comment)?\\}(\\d*?)--\x3e","g");o=[/<script[\s\S]*?(<\/script>|$)/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(o),e=e.replace(/\x3c!--[\s\S]*?--\x3e/g,(function(e){return"\x3c!--{cke_temp_"+n+"comment}"+(i.push(e)-1)+"--\x3e"}));for(var s=0;s<o.length;s++)e=e.replace(o[s],(function(e){return e=e.replace(a,(function(e,t,n){return i[n]})),a.test(e)?e:"\x3c!--{cke_temp_"+n+"}"+(i.push(e)-1)+"--\x3e"}));return e=e.replace(a,(function(e,t,n){return"\x3c!--"+g+(t?"{C}":"")+encodeURIComponent(i[n]).replace(/--/g,"%2D%2D")+"--\x3e"})),e=e.replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g,(function(e){return e.replace(/\x3c!--\{cke_protected\}([^>]*)--\x3e/g,(function(e,t){return r[r.id]=decodeURIComponent(t),"{cke_protected_"+r.id+++"}"}))})),e.replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,(function(e,n,i,o){return"<"+n+i+">"+d(u(o),t)+"</"+n+">"}))}var f;CKEDITOR.htmlDataProcessor=function(n){var i,o,r=this;this.editor=n,this.dataFilter=i=new CKEDITOR.htmlParser.filter,this.htmlFilter=o=new CKEDITOR.htmlParser.filter,this.writer=new CKEDITOR.htmlParser.basicWriter,i.addRules(T),i.addRules(b,{applyToAll:!0}),i.addRules(e(n,"data"),{applyToAll:!0}),o.addRules(C),o.addRules(y,{applyToAll:!0}),o.addRules(e(n,"html"),{applyToAll:!0}),n.on("toHtml",(function(e){var i;i=(r=window.crypto||window.msCrypto)?r.getRandomValues(new Uint32Array(1))[0]:Math.floor(9e9*Math.random()+1e9);var o,r=(e=e.data).dataValue,a=(r=function(e,t){return e.replace(O,(function(e,n,i){return"<"+n+i.replace(I,(function(e,n){return D.test(n)&&-1==i.indexOf("data-cke-saved-"+n)?" data-cke-saved-"+e+" data-cke-"+t+"-"+e:e}))+">"}))}(r=c(r=h(r=f(r),n,i),_),i),r=(r=(r=(r=(r=c(r,R)).replace(k,"$1cke:$2")).replace(x,"<cke:$1$2></cke:$1>")).replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2")).replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+i+"-$2"),e.context||n.editable().getName());CKEDITOR.env.ie&&9>CKEDITOR.env.version&&"pre"==a&&(a="div",r="<pre>"+r+"</pre>",o=1),(a=n.document.createElement(a)).setHtml("a"+r),r=(r=a.getHtml().substr(1)).replace(new RegExp("data-cke-"+i+"-","ig"),""),o&&(r=r.replace(/^<pre>|<\/pre>$/gi,"")),r=function(e){return e.replace(w,(function(e,t){return decodeURIComponent(t)}))}(r=r.replace(K,"$1$2")),r=u(r),i=!1!==e.fixForBody&&t(e.enterMode,n.config.autoParagraph),r=CKEDITOR.htmlParser.fragment.fromHtml(r,e.context,i),i&&!(o=r).children.length&&CKEDITOR.dtd[o.name][i]&&(i=new CKEDITOR.htmlParser.element(i),o.add(i)),e.dataValue=r}),null,null,5),n.on("toHtml",(function(e){e.data.filter.applyTo(e.data.dataValue,!0,e.data.dontFilter,e.data.enterMode)&&n.fire("dataFiltered")}),null,null,6),n.on("toHtml",(function(e){e.data.dataValue.filterChildren(r.dataFilter,!0)}),null,null,10),n.on("toHtml",(function(e){var t=(e=e.data).dataValue,n=new CKEDITOR.htmlParser.basicWriter;t.writeChildrenHtml(n),t=n.getHtml(!0),e.dataValue=function(e){return e.replace(/\x3c!--(?!{cke_protected})[\s\S]+?--\x3e/g,(function(e){return"\x3c!--"+g+"{C}"+encodeURIComponent(e).replace(/--/g,"%2D%2D")+"--\x3e"}))}(t)}),null,null,15),n.on("toDataFormat",(function(e){var i=e.data.dataValue;e.data.enterMode!=CKEDITOR.ENTER_BR&&(i=i.replace(/^<br *\/?>/i,"")),e.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(i,e.data.context,t(e.data.enterMode,n.config.autoParagraph))}),null,null,5),n.on("toDataFormat",(function(e){e.data.dataValue.filterChildren(r.htmlFilter,!0)}),null,null,10),n.on("toDataFormat",(function(e){e.data.filter.applyTo(e.data.dataValue,!1,!0)}),null,null,11),n.on("toDataFormat",(function(e){var t=e.data.dataValue,i=r.writer;i.reset(),t.writeChildrenHtml(i),t=d(t=u(t=i.getHtml(!0)),n),e.data.dataValue=t}),null,null,15)},CKEDITOR.htmlDataProcessor.prototype={toHtml:function(e,t,n,i){var o,r,a,s,l=this.editor;return t&&"object"==typeof t?(o=t.context,n=t.fixForBody,i=t.dontFilter,r=t.filter,a=t.enterMode,s=t.protectedWhitespaces):o=t,o||null===o||(o=l.editable().getName()),l.fire("toHtml",{dataValue:e,context:o,fixForBody:n,dontFilter:i,filter:r||l.filter,enterMode:a||l.enterMode,protectedWhitespaces:s}).dataValue},toDataFormat:function(e,t){var n,i,o;return t&&(n=t.context,i=t.filter,o=t.enterMode),n||null===n||(n=this.editor.editable().getName()),this.editor.fire("toDataFormat",{dataValue:e,filter:i||this.editor.filter,context:n,enterMode:o||this.editor.enterMode}).dataValue},protectSource:function(e){return h(e,this.editor)},unprotectSource:function(e){return d(e,this.editor)},unprotectRealComments:function(e){return u(e)}};var p=/(?:&nbsp;|\xa0)$/,g="{cke_protected}",m=CKEDITOR.dtd,E="caption colgroup col thead tfoot tbody".split(" "),v=CKEDITOR.tools.extend({},m.$blockLimit,m.$block),T={elements:{input:s,textarea:s}},b={attributeNames:[[/^on/,"data-cke-pa-on"],[/^srcdoc/,"data-cke-pa-srcdoc"],[/^data-cke-expando$/,""]],elements:{iframe:function(e){if(e.attributes&&e.attributes.src){var t=e.attributes.src.toLowerCase().replace(/[^a-z]/gi,"");0!==t.indexOf("javascript")&&0!==t.indexOf("data")||(e.attributes["data-cke-pa-src"]=e.attributes.src,delete e.attributes.src)}}}},C={elements:{embed:function(e){if((n=e.parent)&&"object"==n.name){var t=n.attributes.width,n=n.attributes.height;t&&(e.attributes.width=t),n&&(e.attributes.height=n)}},a:function(e){var t=e.attributes;if(!(e.children.length||t.name||t.id||e.attributes["data-cke-saved-name"]))return!1}}},y={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(e){var t=e.attributes;if(t){if(t["data-cke-temp"])return!1;for(var n=["name","href","src"],i=0;i<n.length;i++)"data-cke-saved-"+n[i]in t&&delete t[n[i]]}return e},table:function(e){e.children.slice(0).sort((function(e,t){var n,i;return e.type==CKEDITOR.NODE_ELEMENT&&t.type==e.type&&(n=CKEDITOR.tools.indexOf(E,e.name),i=CKEDITOR.tools.indexOf(E,t.name)),-1<n&&-1<i&&n!=i||(n=e.parent?e.getIndex():-1,i=t.parent?t.getIndex():-1),n>i?1:-1}))},param:function(e){return e.children=[],e.isEmpty=!0,e},span:function(e){"Apple-style-span"==e.attributes.class&&delete e.name},html:function(e){delete e.attributes.contenteditable,delete e.attributes.class},body:function(e){delete e.attributes.spellcheck,delete e.attributes.contenteditable},style:function(e){var t=e.children[0];t&&t.value&&(t.value=CKEDITOR.tools.trim(t.value)),e.attributes.type||(e.attributes.type="text/css")},title:function(e){var t=e.children[0];!t&&a(e,t=new CKEDITOR.htmlParser.text),t.value=e.attributes["data-cke-title"]||""},input:l,textarea:l},attributes:{class:function(e){return CKEDITOR.tools.ltrim(e.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};CKEDITOR.env.ie&&(y.attributes.style=function(e){return e.replace(/(^|;)([^\:]+)/g,(function(e){return e.toLowerCase()}))});var O=/<(a|area|img|input|source)\b([^>]*)>/gi,I=/([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,D=/^(href|src|name)$/i,R=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,_=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,w=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,k=/(<\/?)((?:object|embed|param|html|body|head|title)([\s][^>]*)?>)/gi,K=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,x=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi;f=function(){function e(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.lastIndex=0,i.test(t))return!0}return!1}function t(e){return CKEDITOR.tools.array.reduce(e.split(""),(function(e,t){var i=t.toLowerCase(),o=t.toUpperCase(),r=n(i);return i!==o&&(r+="|"+n(o)),e+"("+r+")"}),"")}function n(e){var t,n=(t=e.charCodeAt(0)).toString(16);for(var i in t={htmlCode:"&#"+t+";?",hex:"&#x0*"+n+";?",entity:{"<":"&lt;",">":"&gt;",":":"&colon;"}[e]})t[i]&&(e+="|"+t[i]);return e}var i=[new RegExp("("+t("<cke:encoded>")+"(.*?)"+t("</cke:encoded>")+")|("+t("<")+t("/")+"?"+t("cke:encoded>")+")","gi"),new RegExp("(("+t("{cke_protected")+")(_[0-9]*)?"+t("}")+")","gi"),/<!(?:\s*-\s*){2,3}!?\s*>/g];return function(t){for(;e(i,t);)for(var n=i,o=0;o<n.length;o++)t=t.replace(n[o],"");return t}}()}(),CKEDITOR.htmlParser.element=function(e,t){this.name=e,this.attributes=t||{},this.children=[];var n=e||"",i=n.match(/^cke:(.*)/);i&&(n=i[1]),n=!!(CKEDITOR.dtd.$nonBodyContent[n]||CKEDITOR.dtd.$block[n]||CKEDITOR.dtd.$listItem[n]||CKEDITOR.dtd.$tableContent[n]||CKEDITOR.dtd.$nonEditable[n]||"br"==n),this.isEmpty=!!CKEDITOR.dtd.$empty[e],this.isUnknown=!CKEDITOR.dtd[e],this._={isBlockLike:n,hasInlineStarted:this.isEmpty||!n}},CKEDITOR.htmlParser.cssStyle=function(e){var t={};return((e instanceof CKEDITOR.htmlParser.element?e.attributes.style:e)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,(function(e,n,i){"font-family"==n&&(i=i.replace(/["']/g,"")),t[n.toLowerCase()]=i})),{rules:t,populate:function(e){var t=this.toString();t&&(e instanceof CKEDITOR.dom.element?e.setAttribute("style",t):e instanceof CKEDITOR.htmlParser.element?e.attributes.style=t:e.style=t)},toString:function(){var e,n=[];for(e in t)t[e]&&n.push(e,":",t[e],";");return n.join("")}}},e=function(e,t){return(e=e[0])<(t=t[0])?-1:e>t?1:0},t=CKEDITOR.htmlParser.fragment.prototype,CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:t.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(e,t){var n,i,o,r,a=this;for(t=a.getFilterContext(t),a.parent||e.onRoot(t,a);;){if(n=a.name,!(i=e.onElementName(t,n)))return this.remove(),!1;if(a.name=i,!(a=e.onElement(t,a)))return this.remove(),!1;if(a!==this)return this.replaceWith(a),!1;if(a.name==n)break;if(a.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(a),!1;if(!a.name)return this.replaceWithChildren(),!1}for(o in n=a.attributes){for(i=n[o];;){if(!(r=e.onAttributeName(t,o))){delete n[o];break}if(r==o)break;delete n[o],o=r}r&&(!1===(i=e.onAttribute(t,a,r,i))?delete n[r]:n[r]=i)}return a.isEmpty||this.filterChildren(e,!1,t),!0},filterChildren:t.filterChildren,writeHtml:function(t,n){n&&this.filter(n);var i,o,r=this.name,a=[],s=this.attributes;for(i in t.openTag(r,s),s)a.push([i,s[i]]);for(t.sortAttributes&&a.sort(e),i=0,o=a.length;i<o;i++)s=a[i],t.attribute(s[0],s[1]);t.openTagClose(r,this.isEmpty),this.writeChildrenHtml(t),this.isEmpty||t.closeTag(r)},writeChildrenHtml:t.writeChildrenHtml,replaceWithChildren:function(){for(var e=this.children,t=e.length;t;)e[--t].insertAfter(this);this.remove()},forEach:t.forEach,getFirst:function(e){if(!e)return this.children.length?this.children[0]:null;"function"!=typeof e&&(e=function(e){return function(t){return t.type==CKEDITOR.NODE_ELEMENT&&("string"==typeof e?t.name==e:t.name in e)}}(e));for(var t=0,n=this.children.length;t<n;++t)if(e(this.children[t]))return this.children[t];return null},getHtml:function(){var e=new CKEDITOR.htmlParser.basicWriter;return this.writeChildrenHtml(e),e.getHtml()},setHtml:function(e){for(var t=0,n=(e=this.children=CKEDITOR.htmlParser.fragment.fromHtml(e).children).length;t<n;++t)e[t].parent=this},getOuterHtml:function(){var e=new CKEDITOR.htmlParser.basicWriter;return this.writeHtml(e),e.getHtml()},split:function(e){for(var t=this.children.splice(e,this.children.length-e),n=this.clone(),i=0;i<t.length;++i)t[i].parent=n;return n.children=t,t[0]&&(t[0].previous=null),0<e&&(this.children[e-1].next=null),this.parent.add(n,this.getIndex()+1),n},find:function(e,t){void 0===t&&(t=!1);var n,i=[];for(n=0;n<this.children.length;n++){var o=this.children[n];("function"==typeof e&&e(o)||"string"==typeof e&&o.name===e)&&i.push(o),t&&o.find&&(i=i.concat(o.find(e,t)))}return i},findOne:function(e,t){var n=null,i=CKEDITOR.tools.array.find(this.children,(function(i){var o="function"==typeof e?e(i):i.name===e;return o||!t?o:(i.children&&i.findOne&&(n=i.findOne(e,!0)),!!n)}));return n||i||null},addClass:function(e){if(!this.hasClass(e)){var t=this.attributes.class||"";this.attributes.class=t+(t?" ":"")+e}},removeClass:function(e){var t=this.attributes.class;t&&((t=CKEDITOR.tools.trim(t.replace(new RegExp("(?:\\s+|^)"+e+"(?:\\s+|$)")," ")))?this.attributes.class=t:delete this.attributes.class)},hasClass:function(e){var t=this.attributes.class;return!!t&&new RegExp("(?:^|\\s)"+e+"(?=\\s|$)").test(t)},getFilterContext:function(e){var t=[];if(e||(e={nonEditable:!1,nestedEditable:!1}),e.nonEditable||"false"!=this.attributes.contenteditable?e.nonEditable&&!e.nestedEditable&&"true"==this.attributes.contenteditable&&t.push("nestedEditable",!0):t.push("nonEditable",!0),t.length){e=CKEDITOR.tools.copy(e);for(var n=0;n<t.length;n+=2)e[t[n]]=t[n+1]}return e}},!0),function(){var e=/{([^}]+)}/g;CKEDITOR.template=function(e){this.source="function"==typeof e?e:String(e)},CKEDITOR.template.prototype.output=function(t,n){var i=("function"==typeof this.source?this.source(t):this.source).replace(e,(function(e,n){return void 0!==t[n]?t[n]:e}));return n?n.push(i):i}}(),delete CKEDITOR.loadFullCore,CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(e){function t(){CKEDITOR.currentInstance==e&&(CKEDITOR.currentInstance=null,CKEDITOR.fire("currentInstance"))}CKEDITOR.instances[e.name]=e,e.on("focus",(function(){CKEDITOR.currentInstance!=e&&(CKEDITOR.currentInstance=e,CKEDITOR.fire("currentInstance"))})),e.on("blur",t),e.on("destroy",t),CKEDITOR.fire("instance",null,e)},CKEDITOR.remove=function(e){delete CKEDITOR.instances[e.name]},function(){var e={};CKEDITOR.addTemplate=function(t,n){var i=e[t];return i||(i={name:t,source:n},CKEDITOR.fire("template",i),e[t]=new CKEDITOR.template(i.source))},CKEDITOR.getTemplate=function(t){return e[t]}}(),function(){var e=[];CKEDITOR.addCss=function(t){e.push(t)},CKEDITOR.getCss=function(){return e.join("\n")}}(),CKEDITOR.on("instanceDestroyed",(function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")})),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,CKEDITOR.inline=function(e,t){if(!(e=CKEDITOR.editor._getEditorElement(e)))return null;if(CKEDITOR.editor.shouldDelayEditorCreation(e,t))return CKEDITOR.editor.initializeDelayedEditorCreation(e,t,"inline");var n=e.is("textarea")?e:null,i=n?n.getValue():e.getHtml(),o=new CKEDITOR.editor(t,e,CKEDITOR.ELEMENT_MODE_INLINE);return n?(o.setData(i,null,!0),(e=CKEDITOR.dom.element.createFromHtml('<div contenteditable="'+!!o.readOnly+'" class="cke_textarea_inline">'+n.getValue()+"</div>",CKEDITOR.document)).insertAfter(n),n.hide(),n.$.form&&o._attachToForm()):(t&&void 0!==t.readOnly&&!t.readOnly&&e.setAttribute("contenteditable","true"),o.setData(i,null,!0)),o.on("loaded",(function(){o.fire("uiReady"),o.editable(e),o.container=e,o.ui.contentsElement=e,o.setData(o.getData(1)),o.resetDirty(),o.fire("contentDom"),o.mode="wysiwyg",o.fire("mode"),o.status="ready",o.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,o)}),null,null,1e4),o.on("destroy",(function(){var e=o.container;n&&e&&(e.clearCustomData(),e.remove()),n&&n.show(),o.element.clearCustomData(),delete o.element})),o},CKEDITOR.inlineAll=function(){var e,t,n;for(n in CKEDITOR.dtd.$editable)for(var i=CKEDITOR.document.getElementsByTag(n),o=0,r=i.count();o<r;o++)"true"!=(e=i.getItem(o)).getAttribute("contenteditable")||e.getEditor()||(t={element:e,config:{}},!1!==CKEDITOR.fire("inline",t)&&CKEDITOR.inline(e,t.config))},CKEDITOR.domReady((function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()})),CKEDITOR.replaceClass="ckeditor",function(){function e(e,n,i,o){if(!(e=CKEDITOR.editor._getEditorElement(e)))return null;if(CKEDITOR.editor.shouldDelayEditorCreation(e,n))return CKEDITOR.editor.initializeDelayedEditorCreation(e,n,"replace");var r=new CKEDITOR.editor(n,e,o);return o==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.setStyle("visibility","hidden"),r._.required=e.hasAttribute("required"),e.removeAttribute("required")),i&&r.setData(i,null,!0),r.on("loaded",(function(){r.isDestroyed()||r.isDetached()||(function(e){var t=e.name,n=e.element,i=e.elementMode,o=e.fire("uiSpace",{space:"top",html:""}).html,r=e.fire("uiSpace",{space:"bottom",html:""}).html,a=new CKEDITOR.template('<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir="{langDir}" lang="{langCode}" role="application"'+(e.applicationTitle?' aria-labelledby="cke_{name}_arialbl"':"")+">"+(e.applicationTitle?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':"")+'<{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>');t=CKEDITOR.dom.element.createFromHtml(a.output({id:e.id,name:t,langDir:e.lang.dir,langCode:e.langCode,voiceLabel:e.applicationTitle,topHtml:o?'<span id="'+e.ui.spaceId("top")+'" class="cke_top cke_reset_all" role="presentation" style="height:auto">'+o+"</span>":"",contentId:e.ui.spaceId("contents"),bottomHtml:r?'<span id="'+e.ui.spaceId("bottom")+'" class="cke_bottom cke_reset_all" role="presentation">'+r+"</span>":"",outerEl:CKEDITOR.env.ie?"span":"div"})),i==CKEDITOR.ELEMENT_MODE_REPLACE?(n.hide(),t.insertAfter(n)):n.append(t),e.container=t,e.ui.contentsElement=e.ui.space("contents"),o&&e.ui.space("top").unselectable(),r&&e.ui.space("bottom").unselectable(),n=e.config.width,i=e.config.height,n&&t.setStyle("width",CKEDITOR.tools.cssLength(n)),i&&e.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(i)),t.disableContextMenu(),CKEDITOR.env.webkit&&t.on("focus",(function(){e.focus()})),e.fireOnce("uiReady")}(r),o==CKEDITOR.ELEMENT_MODE_REPLACE&&r.config.autoUpdateElement&&e.$.form&&r._attachToForm(),r.setMode(r.config.startupMode,(function(){r.resetDirty(),r.status="ready",r.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,r)})))})),r.on("destroy",t),r}function t(){var e=this.container,t=this.element;e&&(e.clearCustomData(),e.remove()),t&&(t.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(t.show(),this._.required&&t.setAttribute("required","required")),delete this.element)}CKEDITOR.replace=function(t,n){return e(t,n,null,CKEDITOR.ELEMENT_MODE_REPLACE)},CKEDITOR.appendTo=function(t,n,i){return e(t,n,i,CKEDITOR.ELEMENT_MODE_APPENDTO)},CKEDITOR.replaceAll=function(){for(var e=document.getElementsByTagName("textarea"),t=0;t<e.length;t++){var n=null,i=e[t];if(i.name||i.id){if("string"==typeof arguments[0]){if(!new RegExp("(?:^|\\s)"+arguments[0]+"(?:$|\\s)").test(i.className))continue}else if("function"==typeof arguments[0]&&!1===arguments[0](i,n={}))continue;this.replace(i,n)}}},CKEDITOR.editor.prototype.addMode=function(e,t){(this._.modes||(this._.modes={}))[e]=t},CKEDITOR.editor.prototype.setMode=function(e,t){var n=this,i=this._.modes;if(e!=n.mode&&i&&i[e]){if(n.fire("beforeSetMode",e),n.mode){var o,r=n.checkDirty(),a=(i=n._.previousModeData,0);n.fire("beforeModeUnload"),n.editable(0),n._.previousMode=n.mode,n._.previousModeData=o=n.getData(1),"source"==n.mode&&i==o&&(n.fire("lockSnapshot",{forceUpdate:!0}),a=1),n.ui.space("contents").setHtml(""),n.mode=""}else n._.previousModeData=n.getData(1);this._.modes[e]((function(){n.mode=e,void 0!==r&&!r&&n.resetDirty(),a?n.fire("unlockSnapshot"):"wysiwyg"==e&&n.fire("saveSnapshot"),setTimeout((function(){n.isDestroyed()||n.isDetached()||(n.fire("mode"),t&&t.call(n))}),0)}))}},CKEDITOR.editor.prototype.resize=function(e,t,n,i){var o=this.container,r=this.ui.space("contents"),a=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;i=i?this.container.getFirst((function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_inner")})):o,(e||0===e)&&(e=CKEDITOR.tools.convertToPx(CKEDITOR.tools.cssLength(e))),i.setSize("width",e,!0),a&&(a.style.width="1%"),t=CKEDITOR.tools.convertToPx(CKEDITOR.tools.cssLength(t));var s=(i.$.offsetHeight||0)-(r.$.clientHeight||0);o=Math.max(t-(n?0:s),0),t=n?t+s:t,r.setStyle("height",CKEDITOR.tools.cssLength(o)),a&&(a.style.width="100%"),this.fire("resize",{outerHeight:t,contentsHeight:o,outerWidth:e||i.getSize("width")})},CKEDITOR.editor.prototype.getResizable=function(e){return e?this.ui.space("contents"):this.container},CKEDITOR.domReady((function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)}))}(),CKEDITOR.config.startupMode="wysiwyg",function(){function e(e){var t,i=e.editor,o=e.data.path,r=o.blockLimit,a=e.data.selection,l=a.getRanges()[0];(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)&&(a=function(e,t){if(e.isFake)return 0;var i=t.block||t.blockLimit,o=i&&i.getLast(n);return!i||!i.isBlockBoundary()||o&&o.type==CKEDITOR.NODE_ELEMENT&&o.isBlockBoundary()||i.is("pre")||i.getBogus()?void 0:i}(a,o))&&(a.appendBogus(),t=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.edge&&i._.previousActive),s(i,o.block,r)&&l.collapsed&&!l.getCommonAncestor().isReadOnly()&&((o=l.clone()).enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),(r=new CKEDITOR.dom.walker(o)).guard=function(e){return!n(e)||e.type==CKEDITOR.NODE_COMMENT||e.isReadOnly()},!r.checkForward()||o.checkStartOfBlock()&&o.checkEndOfBlock())&&(i=l.fixBlock(!0,i.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.needsBrFiller||(i=i.getFirst(n))&&i.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(i.getText()).match(/^(?:&nbsp;|\xa0)$/)&&i.remove(),t=1,e.cancel()),t&&l.select()}function t(e){var t=e.data.getTarget();t.is("input")&&("submit"!=(t=t.getAttribute("type"))&&"reset"!=t||e.data.preventDefault())}function n(e){return h(e)&&f(e)}function i(e,t){return function(n){var i=n.data.$.toElement||n.data.$.fromElement||n.data.$.relatedTarget;(i=i&&i.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(i):null)&&(t.equals(i)||t.contains(i))||e.call(this,n)}}function o(e){return!!e.getRanges()[0].startPath().contains({table:1,ul:1,ol:1,dl:1})}function r(e){function t(e){var t={table:1,ul:1,ol:1,dl:1};return function(o,r){if(r&&o.type==CKEDITOR.NODE_ELEMENT&&o.is(t)&&(i=o),!(r||!n(o)||e&&g(o)))return!1}}var i,r=e.getRanges()[0],a=e.root;return o(e)&&((e=r.clone()).collapse(1),e.setStartAt(a,CKEDITOR.POSITION_AFTER_START),(a=new CKEDITOR.dom.walker(e)).guard=t(),a.checkBackward(),i)?((e=r.clone()).collapse(),e.setEndAt(i,CKEDITOR.POSITION_AFTER_END),(a=new CKEDITOR.dom.walker(e)).guard=t(!0),i=!1,a.checkForward(),i):null}function a(e){return e.block.getParent().getChildCount()}function s(e,t,n){return!1!==e.config.autoParagraph&&e.activeEnterMode!=CKEDITOR.ENTER_BR&&(e.editable().equals(n)&&!t||t&&"true"==t.getAttribute("contenteditable"))}function l(e){return e.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==e.config.autoParagraph&&(e.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p")}function c(e){e&&e.isEmptyInlineRemoveable()&&e.remove()}function u(e){var t=e.editor;t.getSelection().scrollIntoView(),setTimeout((function(){t.fire("saveSnapshot")}),0)}function d(e,t,n){var i=e.getCommonAncestor(t);for(t=e=n?t:e;(e=e.getParent())&&!i.equals(e)&&1==e.getChildCount();)t=e;t.remove()}var h,f,p,g,m,E,v,T,b,C,y={ul:1,ol:1,dl:1};CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(e,t){this.base(t.$||t),this.editor=e,this.status="unloaded",this.hasFocus=!1,this.setup()},proto:{focus:function(){var e;if(CKEDITOR.env.webkit&&!this.hasFocus&&(e=this.editor._.previousActive||this.getDocument().getActive(),this.contains(e)))e.focus();else{CKEDITOR.env.edge&&14<CKEDITOR.env.version&&!this.hasFocus&&this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);try{if(!CKEDITOR.env.ie||CKEDITOR.env.edge&&14<CKEDITOR.env.version||!this.getDocument().equals(CKEDITOR.document))if(CKEDITOR.env.chrome){var t=this.$.scrollTop;this.$.focus(),this.$.scrollTop=t}else this.$.focus();else this.$.setActive()}catch(e){if(!CKEDITOR.env.ie)throw e}CKEDITOR.env.safari&&!this.isInline()&&((e=CKEDITOR.document.getActive()).equals(this.getWindow().getFrame())||this.getWindow().focus())}},on:function(e,t){var n=Array.prototype.slice.call(arguments,0);return CKEDITOR.env.ie&&/^focus|blur$/.exec(e)&&(e="focus"==e?"focusin":"focusout",t=i(t,this),n[0]=e,n[1]=t),CKEDITOR.dom.element.prototype.on.apply(this,n)},attachListener:function(e){!this._.listeners&&(this._.listeners=[]);var t=Array.prototype.slice.call(arguments,1);return t=e.on.apply(e,t),this._.listeners.push(t),t},clearListeners:function(){var e=this._.listeners;try{for(;e.length;)e.pop().removeListener()}catch(e){}},restoreAttrs:function(){var e,t,n=this._.attrChanges;for(t in n)n.hasOwnProperty(t)&&(null!==(e=n[t])?this.setAttribute(t,e):this.removeAttribute(t))},attachClass:function(e){var t=this.getCustomData("classes");this.hasClass(e)||(!t&&(t=[]),t.push(e),this.setCustomData("classes",t),this.addClass(e))},changeAttr:function(e,t){var n=this.getAttribute(e);t!==n&&(!this._.attrChanges&&(this._.attrChanges={}),e in this._.attrChanges||(this._.attrChanges[e]=n),this.setAttribute(e,t))},insertText:function(e){this.editor.focus(),this.insertHtml(this.transformPlainTextToHtml(e),"text")},transformPlainTextToHtml:function(e){var t=this.editor.getSelection().getStartElement().hasAscendant("pre",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(e,t)},insertHtml:function(e,t,n){var i=this.editor;i.focus(),i.fire("saveSnapshot"),n||(n=i.getSelection().getRanges()[0]),E(this,t||"html",e,n),n.select(),u(this),this.editor.fire("afterInsertHtml",{})},insertHtmlIntoRange:function(e,t,n){E(this,n||"html",e,t),this.editor.fire("afterInsertHtml",{intoRange:t})},insertElement:function(e,t){(o=this.editor).focus(),o.fire("saveSnapshot");var i=o.activeEnterMode,o=o.getSelection(),r=e.getName();r=CKEDITOR.dtd.$block[r],t||(t=o.getRanges()[0]),this.insertElementIntoRange(e,t)&&(t.moveToPosition(e,CKEDITOR.POSITION_AFTER_END),r&&((r=e.getNext((function(e){return n(e)&&!g(e)})))&&r.type==CKEDITOR.NODE_ELEMENT&&r.is(CKEDITOR.dtd.$block)?r.getDtd()["#"]?t.moveToElementEditStart(r):t.moveToElementEditEnd(e):r||i==CKEDITOR.ENTER_BR||(r=t.fixBlock(!0,i==CKEDITOR.ENTER_DIV?"div":"p"),t.moveToElementEditStart(r)))),o.selectRanges([t]),u(this)},insertElementIntoSelection:function(e){this.insertElement(e)},insertElementIntoRange:function(e,t){var n,i,o=this.editor,r=o.config.enterMode,a=e.getName(),s=CKEDITOR.dtd.$block[a];if(t.checkReadOnly())return!1;if(t.deleteContents(1),t.startContainer.type==CKEDITOR.NODE_ELEMENT&&(t.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})?v(t):t.startContainer.is(CKEDITOR.dtd.$list)&&T(t)),s)for(;(n=t.getCommonAncestor(0,1))&&(i=CKEDITOR.dtd[n.getName()])&&(!i||!i[a]);)if(n.getName()in CKEDITOR.dtd.span){s=t.splitElement(n);var l=t.createBookmark();c(n),c(s),t.moveToBookmark(l)}else t.checkStartOfBlock()&&t.checkEndOfBlock()?(t.setStartBefore(n),t.collapse(!0),n.remove()):t.splitBlock(r==CKEDITOR.ENTER_DIV?"div":"p",o.editable());return t.insertNode(e),!0},setData:function(e,t){t||(e=this.editor.dataProcessor.toHtml(e)),this.setHtml(e),this.fixInitialSelection(),"unloaded"==this.status&&(this.status="ready"),this.editor.fire("dataReady")},getData:function(e){var t=this.getHtml();return e||(t=this.editor.dataProcessor.toDataFormat(t)),t},setReadOnly:function(e){this.setAttribute("contenteditable",String(!e)),this.setAttribute("aria-readonly",String(e))},detach:function(){this.status="detached",this.editor.setData(this.editor.getData(),{internal:!0}),this.clearListeners();try{this._.cleanCustomData()}catch(e){if(!CKEDITOR.env.ie||-2146828218!==e.number)throw e}this.editor.fire("contentDomUnload"),delete this.editor.document,delete this.editor.window,delete this.editor},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function e(){var e,n=t.getDocument().$,i=n.getSelection();e:if(i.anchorNode&&i.anchorNode==t.$)e=!0;else{if(CKEDITOR.env.webkit&&(e=t.getDocument().getActive())&&e.equals(t)&&!i.anchorNode){e=!0;break e}e=void 0}e&&((e=new CKEDITOR.dom.range(t)).moveToElementEditStart(t),(n=n.createRange()).setStart(e.startContainer.$,e.startOffset),n.collapse(!0),i.removeAllRanges(),i.addRange(n))}var t=this;CKEDITOR.env.ie&&(9>CKEDITOR.env.version||CKEDITOR.env.quirks)?this.hasFocus&&(this.focus(),function(){var e=t.getDocument().$,n=e.selection,i=t.getDocument().getActive();"None"==n.type&&i.equals(t)&&(n=new CKEDITOR.dom.range(t),e=e.body.createTextRange(),n.moveToElementEditStart(t),(n=n.startContainer).type!=CKEDITOR.NODE_ELEMENT&&(n=n.getParent()),e.moveToElementText(n.$),e.collapse(!0),e.select())}()):this.hasFocus?(this.focus(),e()):this.once("focus",(function(){e()}),null,null,-999)},getHtmlFromRange:function(e){return e.collapsed?new CKEDITOR.dom.documentFragment(e.document):(e={doc:this.getDocument(),range:e.clone()},b.eol.detect(e,this),b.bogus.exclude(e),b.cell.shrink(e),e.fragment=e.range.cloneContents(),b.tree.rebuild(e,this),b.eol.fix(e,this),new CKEDITOR.dom.documentFragment(e.fragment.$))},extractHtmlFromRange:function(e,t){var n=C,i={range:e,doc:e.document},o=this.getHtmlFromRange(e);if(e.collapsed)return e.optimize(),o;if(e.enlarge(CKEDITOR.ENLARGE_INLINE,1),n.table.detectPurge(i),i.bookmark=e.createBookmark(),delete i.range,(a=this.editor.createRange()).moveToPosition(i.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START),i.targetBookmark=a.createBookmark(),n.list.detectMerge(i,this),n.table.detectRanges(i,this),n.block.detectMerge(i,this),i.tableContentsRanges?(n.table.deleteRanges(i),e.moveToBookmark(i.bookmark),i.range=e):(e.moveToBookmark(i.bookmark),i.range=e,e.extractContents(n.detectExtractMerge(i))),e.moveToBookmark(i.targetBookmark),e.optimize(),n.fixUneditableRangePosition(e),n.list.merge(i,this),n.table.purge(i,this),n.block.merge(i,this),t){if(n=e.startPath(),i=e.checkStartOfBlock()&&e.checkEndOfBlock()&&n.block&&!e.root.equals(n.block)){e:{var r,a=0;if(i=n.block.getElementsByTag("span"))for(;r=i.getItem(a++);)if(!f(r)){i=!0;break e}i=!1}i=!i}i&&(e.moveToPosition(n.block,CKEDITOR.POSITION_BEFORE_START),n.block.remove())}else n.autoParagraph(this.editor,e),p(e.startContainer)&&e.startContainer.appendBogus();return e.startContainer.mergeSiblings(),o},setup:function(){var e=this.editor;if(this.attachListener(e,"beforeGetData",(function(){var t=this.getData();this.is("textarea")||!1!==e.config.ignoreEmptyParagraph&&(t=t.replace(m,(function(e,t){return t}))),e.setData(t,null,1)}),this),this.attachListener(e,"getSnapshot",(function(e){e.data=this.getData(1)}),this),this.attachListener(e,"afterSetData",(function(){this.setData(e.getData(1))}),this),this.attachListener(e,"loadSnapshot",(function(e){this.setData(e.data,1)}),this),this.attachListener(e,"beforeFocus",(function(){var t=e.getSelection();(t=t&&t.getNative())&&"Control"==t.type||this.focus()}),this),this.attachListener(e,"insertHtml",(function(e){this.insertHtml(e.data.dataValue,e.data.mode,e.data.range)}),this),this.attachListener(e,"insertElement",(function(e){this.insertElement(e.data)}),this),this.attachListener(e,"insertText",(function(e){this.insertText(e.data)}),this),this.setReadOnly(e.readOnly),this.attachClass("cke_editable"),e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass("cke_editable_inline"):e.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&e.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||this.attachClass("cke_editable_themed"),this.attachClass("cke_contents_"+e.config.contentsLangDirection),e.keystrokeHandler.blockedKeystrokes[8]=+e.readOnly,e.keystrokeHandler.attach(this),this.on("blur",(function(){this.hasFocus=!1}),null,null,-1),this.on("focus",(function(){this.hasFocus=!0}),null,null,-1),CKEDITOR.env.webkit&&this.on("scroll",(function(){e._.previousScrollTop=e.editable().$.scrollTop}),null,null,-1),CKEDITOR.env.edge&&14<CKEDITOR.env.version){var i=function(){var t=e.editable();null!=e._.previousScrollTop&&t.getDocument().equals(CKEDITOR.document)&&(t.$.scrollTop=e._.previousScrollTop,e._.previousScrollTop=null,this.removeListener("scroll",i))};this.on("scroll",i)}if(e.focusManager.add(this),this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,e.once("contentDom",(function(){e.focusManager.focus(this)}),this)),this.isInline()&&this.changeAttr("tabindex",e.tabIndex),!this.is("textarea")){e.document=this.getDocument(),e.window=this.getWindow();var s=e.document;this.changeAttr("spellcheck",!e.config.disableNativeSpellChecker);var l=e.config.contentsLangDirection;this.getDirection(1)!=l&&this.changeAttr("dir",l);var c=CKEDITOR.getCss();if(c){var u=(l=s.getHead()).getCustomData("stylesheet");u?c!=u.getText()&&(CKEDITOR.env.ie&&9>CKEDITOR.env.version?u.$.styleSheet.cssText=c:u.setText(c)):(c=s.appendStyleText(c),c=new CKEDITOR.dom.element(c.ownerNode||c.owningElement),l.setCustomData("stylesheet",c),c.data("cke-temp",1))}l=s.getCustomData("stylesheet_ref")||0,s.setCustomData("stylesheet_ref",l+1),this.setCustomData("cke_includeReadonly",!e.config.disableReadonlyStyling),this.attachListener(this,"click",(function(e){e=e.data;var t=new CKEDITOR.dom.elementPath(e.getTarget(),this).contains("a");t&&2!=e.$.button&&t.isReadOnly()&&e.preventDefault()}));var f={8:1,46:1};this.attachListener(e,"key",(function(t){if(e.readOnly)return!0;var n,i=t.data.domEvent.getKey(),s=e.getSelection();if(0!==s.getRanges().length){if(i in f){var l,c,u,d,p=(t=s.getRanges()[0]).startPath(),g=(i=8==i,!1);if(CKEDITOR.env.ie&&11>CKEDITOR.env.version&&s.getSelectedElement())l=s.getSelectedElement();else if(o(s)){var m,E=new CKEDITOR.dom.walker(t),v=t.collapsed?t.startContainer:E.next();if(g=!1,t.checkStartOfBlock()){var T=(m=t.startPath().block||t.startPath().blockLimit).getName();m=-1!==CKEDITOR.tools.array.indexOf(["dd","dt","li"],T)&&null===m.getPrevious()}else m=!1;if(m){for(;v&&!g;)g=v.$.nodeName.toLowerCase(),g=!!y[g],v=E.next();E=a(t.startPath()),v=a(t.endPath()),g=g||E!==v}else g=void 0;g||(l=r(s))}l||g?(e.fire("saveSnapshot"),g?((n=t.startContainer.getAscendant(y,!0))?(t.setStart(n,0),t.enlarge(CKEDITOR.ENLARGE_ELEMENT),l=t):l=null,l.deleteContents()):(t.moveToPosition(l,CKEDITOR.POSITION_BEFORE_START),l.remove()),t.select(),e.fire("saveSnapshot"),n=1):t.collapsed&&((c=p.block)&&(d=c[i?"getPrevious":"getNext"](h))&&d.type==CKEDITOR.NODE_ELEMENT&&d.is("table")&&t[i?"checkStartOfBlock":"checkEndOfBlock"]()?(e.fire("saveSnapshot"),t[i?"checkEndOfBlock":"checkStartOfBlock"]()&&c.remove(),t["moveToElementEdit"+(i?"End":"Start")](d),t.select(),e.fire("saveSnapshot"),n=1):p.blockLimit&&p.blockLimit.is("td")&&(u=p.blockLimit.getAscendant("table"))&&t.checkBoundaryOfElement(u,i?CKEDITOR.START:CKEDITOR.END)&&(d=u[i?"getPrevious":"getNext"](h))?(e.fire("saveSnapshot"),t["moveToElementEdit"+(i?"End":"Start")](d),t.checkStartOfBlock()&&t.checkEndOfBlock()?d.remove():t.select(),e.fire("saveSnapshot"),n=1):(u=p.contains(["td","th","caption"]))&&t.checkBoundaryOfElement(u,i?CKEDITOR.START:CKEDITOR.END)&&(n=1))}return!n}})),e.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,"keyup",(function(t){t.data.getKeystroke()in f&&!this.getFirst(n)&&(this.appendBogus(),(t=e.createRange()).moveToPosition(this,CKEDITOR.POSITION_AFTER_START),t.select())})),this.attachListener(this,"dblclick",(function(t){if(e.readOnly)return!1;t={element:t.data.getTarget()},e.fire("doubleclick",t)})),CKEDITOR.env.ie&&this.attachListener(this,"click",t),CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,"mousedown",(function(t){var n=t.data.getTarget();n.is("img","hr","input","textarea","select")&&!n.isReadOnly()&&(e.getSelection().selectElement(n),n.is("input","textarea","select")&&t.data.preventDefault())})),CKEDITOR.env.edge&&this.attachListener(this,"mouseup",(function(t){(t=t.data.getTarget())&&t.is("img")&&!t.isReadOnly()&&e.getSelection().selectElement(t)})),CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",(function(t){if(2==t.data.$.button&&!(t=t.data.getTarget()).getAscendant("table")&&!t.getOuterHtml().replace(m,"")){var n=e.createRange();n.moveToElementEditStart(t),n.select(!0)}})),CKEDITOR.env.webkit&&(this.attachListener(this,"click",(function(e){e.data.getTarget().is("input","select")&&e.data.preventDefault()})),this.attachListener(this,"mouseup",(function(e){e.data.getTarget().is("input","textarea")&&e.data.preventDefault()}))),CKEDITOR.env.webkit&&this.attachListener(e,"key",(function(t){if(e.readOnly)return!0;if((n=t.data.domEvent.getKey())in f&&0!==(t=e.getSelection()).getRanges().length){var n=8==n,i=t.getRanges()[0];if(t=i.startPath(),i.collapsed)e:{var o=t.block;if(o&&i[n?"checkStartOfBlock":"checkEndOfBlock"](!0)&&i.moveToClosestEditablePosition(o,!n)&&i.collapsed){if(i.startContainer.type==CKEDITOR.NODE_ELEMENT){var r=i.startContainer.getChild(i.startOffset-(n?1:0));if(r&&r.type==CKEDITOR.NODE_ELEMENT&&r.is("hr")){e.fire("saveSnapshot"),r.remove(),t=!0;break e}}var a;!(i=i.startPath().block)||i&&i.contains(o)?t=void 0:(e.fire("saveSnapshot"),(a=(n?i:o).getBogus())&&a.remove(),r=(a=e.getSelection()).createBookmarks(),(n?o:i).moveChildren(n?i:o,!1),t.lastElement.mergeSiblings(),d(o,i,!n),a.selectBookmarks(r),t=!0)}else t=!1}else n=i,a=t.block,i=n.endPath().block,a&&i&&!a.equals(i)?(e.fire("saveSnapshot"),(o=a.getBogus())&&o.remove(),n.enlarge(CKEDITOR.ENLARGE_INLINE),n.deleteContents(),i.getParent()&&(i.moveChildren(a,!1),t.lastElement.mergeSiblings(),d(a,i,!0)),(n=e.getSelection().getRanges()[0]).collapse(1),n.optimize(),""===n.startContainer.getHtml()&&n.startContainer.appendBogus(),n.select(),t=!0):t=!1;if(!t)return;return e.getSelection().scrollIntoView(),e.fire("saveSnapshot"),!1}}),this,null,100)}},getUniqueId:function(){var e;try{this._.expandoNumber=e=CKEDITOR.dom.domObject.prototype.getUniqueId.call(this)}catch(t){e=this._&&this._.expandoNumber}return e}},_:{cleanCustomData:function(){this.removeClass("cke_editable"),this.restoreAttrs();for(var e=this.removeCustomData("classes");e&&e.length;)this.removeClass(e.pop());if(!this.is("textarea")){var t=(e=this.getDocument()).getHead();if(t.getCustomData("stylesheet")){var n=e.getCustomData("stylesheet_ref");--n?e.setCustomData("stylesheet_ref",n):(e.removeCustomData("stylesheet_ref"),t.removeCustomData("stylesheet").remove())}}}}}),CKEDITOR.editor.prototype.editable=function(e){var t=this._.editable;return t&&e?0:arguments.length?(e?t=e instanceof CKEDITOR.editable?e:new CKEDITOR.editable(this,e):(t&&t.detach(),t=null),this._.editable=t):t},CKEDITOR.on("instanceLoaded",(function(t){var n=t.editor;n.on("insertElement",(function(e){(e=e.data).type==CKEDITOR.NODE_ELEMENT&&(e.is("input")||e.is("textarea"))&&("false"!=e.getAttribute("contentEditable")&&e.data("cke-editable",e.hasAttribute("contenteditable")?"true":"1"),e.setAttribute("contentEditable",!1))})),n.on("selectionChange",(function(t){if(!n.readOnly){var i=n.getSelection();i&&!i.isLocked&&(i=n.checkDirty(),n.fire("lockSnapshot"),e(t),n.fire("unlockSnapshot"),!i&&n.resetDirty())}}))})),CKEDITOR.on("instanceCreated",(function(e){var t=e.editor;t.on("mode",(function(){var e=t.editable();if(e&&e.isInline()){var n=t.title;if(e.changeAttr("role","textbox"),e.changeAttr("aria-multiline","true"),n&&e.changeAttr("aria-label",n),n&&e.changeAttr("title",n),(o=t.fire("ariaEditorHelpLabel",{}).label)&&(n=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents"))){var i=CKEDITOR.tools.getNextId(),o=CKEDITOR.dom.element.createFromHtml('<span id="'+i+'" class="cke_voice_label">'+o+"</span>");n.append(o),e.changeAttr("aria-describedby",i)}}}))})),CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}"),h=CKEDITOR.dom.walker.whitespaces(!0),f=CKEDITOR.dom.walker.bookmark(!1,!0),p=CKEDITOR.dom.walker.empty(),g=CKEDITOR.dom.walker.bogus(),m=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,E=function(){function e(e){return e.type==CKEDITOR.NODE_ELEMENT}function t(n,i){var o,r,a,s,l=[],c=i.range.startContainer;o=i.range.startPath(),c=u[c.getName()];for(var d=0,h=n.getChildren(),f=h.count(),p=-1,g=-1,m=0,E=o.contains(u.$list);d<f;++d)e(o=h.getItem(d))?(a=o.getName(),E&&a in CKEDITOR.dtd.$list?l=l.concat(t(o,i)):(s=!!c[a],"br"!=a||!o.data("cke-eol")||d&&d!=f-1||(m=(r=d?l[d-1].node:h.getItem(d+1))&&(!e(r)||!r.is("br")),r=r&&e(r)&&u.$block[r.getName()]),-1!=p||s||(p=d),s||(g=d),l.push({isElement:1,isLineBreak:m,isBlock:o.isBlockBoundary(),hasBlockSibling:r,node:o,name:a,allowed:s}),r=m=0)):l.push({isElement:0,node:o,allowed:1});return-1<p&&(l[p].firstNotAllowed=1),-1<g&&(l[g].lastNotAllowed=1),l}function i(t,n){var o,r=[],a=t.getChildren(),s=a.count(),l=0,c=u[n],d=!t.is(u.$inline)||t.is("br");for(d&&r.push(" ");l<s;l++)e(o=a.getItem(l))&&!o.is(c)?r=r.concat(i(o,n)):r.push(o);return d&&r.push(" "),r}function o(t){return e(t.startContainer)&&t.startContainer.getChild(t.startOffset-1)}function r(t){return t&&e(t)&&(t.is(u.$removeEmpty)||t.is("a")&&!t.isBlockBoundary())}function a(t,n,i,o){var r,s,l=t.clone();l.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),(r=new CKEDITOR.dom.walker(l).next())&&e(r)&&d[r.getName()]&&(s=r.getPrevious())&&e(s)&&!s.getParent().equals(t.startContainer)&&i.contains(s)&&o.contains(r)&&r.isIdentical(s)&&(r.moveChildren(s),r.remove(),a(t,n,i,o))}var u=CKEDITOR.dtd,d={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},h={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},f=CKEDITOR.tools.extend({},u.$inline);return delete f.br,function(d,p,g,E){var v,T=d.editor,b=!1;if("unfiltered_html"==p&&(p="html",b=!0),!E.checkReadOnly()){b=(p={type:p,dontFilter:b,editable:d,editor:T,range:E,blockLimit:_=new CKEDITOR.dom.elementPath(E.startContainer,E.root).blockLimit||E.root,mergeCandidates:[],zombies:[]}).range;var C,y,O,I,D,R,_=p.mergeCandidates,w="html"===p.type;if("text"==p.type&&b.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(y=CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",b.document),b.insertNode(y),b.setStartAfter(y)),O=new CKEDITOR.dom.elementPath(b.startContainer),p.endPath=I=new CKEDITOR.dom.elementPath(b.endContainer),!b.collapsed){C=I.block||I.blockLimit;var k=b.getCommonAncestor();C&&!C.equals(k)&&!C.contains(k)&&b.checkEndOfBlock()&&p.zombies.push(C),b.deleteContents()}for(;(D=o(b))&&e(D)&&D.isBlockBoundary()&&O.contains(D);)b.moveToPosition(D,CKEDITOR.POSITION_BEFORE_END);for(a(b,p.blockLimit,O,I),y&&(b.setEndBefore(y),b.collapse(),y.remove()),(C=(y=b.startPath()).contains(r,!1,1))&&(v=b.splitElement(C),p.inlineStylesRoot=C,p.inlineStylesPeak=y.lastElement),y=b.createBookmark(),w&&(c(C),c(v)),(C=y.startNode.getPrevious(n))&&e(C)&&r(C)&&_.push(C),(C=y.startNode.getNext(n))&&e(C)&&r(C)&&_.push(C),C=y.startNode;(C=C.getParent())&&r(C);)_.push(C);if(b.moveToBookmark(y),v=""===(v=d.getHtml())||v.match(m),T.enterMode===CKEDITOR.ENTER_DIV&&v&&((T=d.getFirst())&&T.remove(),E.setStartAt(d,CKEDITOR.POSITION_AFTER_START),E.collapse(!0)),d=g){if(d=p.range,"text"==p.type&&p.inlineStylesRoot){for(T=(E=p.inlineStylesPeak).getDocument().createText("{cke-peak}"),v=p.inlineStylesRoot.getParent();!E.equals(v);)T=T.appendTo(E.clone()),E=E.getParent();g=T.getOuterHtml().split("{cke-peak}").join(g)}if(E=p.blockLimit.getName(),/^\s+|\s+$/.test(g)&&"span"in CKEDITOR.dtd[E]&&(g=(P='<span data-cke-marker="1">&nbsp;</span>')+g+P),g=p.editor.dataProcessor.toHtml(g,{context:null,fixForBody:!1,protectedWhitespaces:!!P,dontFilter:p.dontFilter,filter:p.editor.activeFilter,enterMode:p.editor.activeEnterMode}),(E=d.document.createElement("body")).setHtml(g),P&&(E.getFirst().remove(),E.getLast().remove()),(P=d.startPath().block)&&(1!=P.getChildCount()||!P.getBogus()))e:{var K;if(1==E.getChildCount()&&e(K=E.getFirst())&&K.is(h)&&!K.hasAttribute("contenteditable")){for(d=0,v=(P=K.getElementsByTag("*")).count();d<v;d++)if(!(T=P.getItem(d)).is(f))break e;K.moveChildren(K.getParent(1)),K.remove()}}p.dataWrapper=E,d=g}if(d){d=(K=p.range).document,E=p.blockLimit,v=0;var x,S,N,A,L,P=[];for(g=y=0,T=K.startContainer,b=(D=p.endPath.elements[0]).getPosition(T),_=!(!D.getCommonAncestor(T)||b==CKEDITOR.POSITION_IDENTICAL||b&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED),T=t(p.dataWrapper,p),p.editor.enterMode!==CKEDITOR.ENTER_BR&&function(t,n){function i(t,n){if(n.isBlock&&n.isElement&&!n.node.is("br")&&e(t)&&t.is("br"))return t.remove(),1}var o=n.endContainer.getChild(n.endOffset),r=n.endContainer.getChild(n.endOffset-1);o&&i(o,t[t.length-1]),r&&i(r,t[0])&&(n.setEnd(n.endContainer,n.endOffset-1),n.collapse())}(T,K);v<T.length;v++)if((w=(b=T[v]).isLineBreak)&&(w=K,C=E,I=O=void 0,b.hasBlockSibling?w=1:(O=w.startContainer.getAscendant(u.$block,1))&&O.is({div:1,p:1})?(I=O.getPosition(C))==CKEDITOR.POSITION_IDENTICAL||I==CKEDITOR.POSITION_CONTAINS?w=0:(C=w.splitElement(O),w.moveToPosition(C,CKEDITOR.POSITION_AFTER_START),w=1):w=0),w)g=0<v;else{if(w=K.startPath(),!b.isBlock&&s(p.editor,w.block,w.blockLimit)&&(N=l(p.editor))&&((N=d.createElement(N)).appendBogus(),K.insertNode(N),CKEDITOR.env.needsBrFiller&&(x=N.getBogus())&&x.remove(),K.moveToPosition(N,CKEDITOR.POSITION_BEFORE_END)),(w=K.startPath().block)&&!w.equals(S)&&((x=w.getBogus())&&(x.remove(),P.push(w)),S=w),b.firstNotAllowed&&(y=1),y&&b.isElement){for(w=K.startContainer,C=null;w&&!u[w.getName()][b.name];){if(w.equals(E)){w=null;break}C=w,w=w.getParent()}if(w)C&&(A=K.splitElement(C),p.zombies.push(A),p.zombies.push(C));else{C=E.getName(),L=!v,w=v==T.length-1,O=[],I=(C=i(b.node,C)).length,k=0;for(var F=void 0,$=0,B=-1;k<I;k++)" "==(F=C[k])?($||L&&!k||(O.push(new CKEDITOR.dom.text(" ")),B=O.length),$=1):(O.push(F),$=0);w&&B==O.length&&O.pop(),L=O}}if(L){for(;w=L.pop();)K.insertNode(w);L=0}else K.insertNode(b.node);b.lastNotAllowed&&v<T.length-1&&((A=_?D:A)&&K.setEndAt(A,CKEDITOR.POSITION_AFTER_START),y=0),K.collapse()}(x=1==T.length&&((x=T[0]).isElement&&"false"==x.node.getAttribute("contenteditable")))&&(g=!0,w=T[0].node,K.setStartAt(w,CKEDITOR.POSITION_BEFORE_START),K.setEndAt(w,CKEDITOR.POSITION_AFTER_END)),p.dontMoveCaret=g,p.bogusNeededBlocks=P}for(x=p.range,L=p.bogusNeededBlocks,S=x.createBookmark();N=p.zombies.pop();)N.getParent()&&((A=x.clone()).moveToElementEditStart(N),A.removeEmptyBlocksAtEnd());if(L)for(;N=L.pop();)CKEDITOR.env.needsBrFiller?N.appendBogus():N.append(x.document.createText(" "));for(;N=p.mergeCandidates.pop();)N.mergeSiblings();if(CKEDITOR.env.webkit&&x.startPath()&&((N=x.startPath()).block?N.block.$.normalize():N.blockLimit&&N.blockLimit.$.normalize()),x.moveToBookmark(S),!p.dontMoveCaret){for(N=o(x);N&&e(N)&&!N.is(u.$empty);){if(N.isBlockBoundary())x.moveToPosition(N,CKEDITOR.POSITION_BEFORE_END);else{if(r(N)&&N.getHtml().match(/(\s|&nbsp;)$/g)){R=null;break}(R=x.clone()).moveToPosition(N,CKEDITOR.POSITION_BEFORE_END)}N=N.getLast(n)}R&&x.moveToRange(R)}}}}(),v=function(){function e(e){return(e=new CKEDITOR.dom.walker(e)).guard=function(e,t){return!t&&(e.type==CKEDITOR.NODE_ELEMENT?e.is(CKEDITOR.dtd.$tableContent):void 0)},e.evaluator=function(e){return e.type==CKEDITOR.NODE_ELEMENT},e}function t(e,t,n){return t=e.getDocument().createElement(t),e.append(t,n),t}function n(e){for(var t,n=e.count();0<n--;)t=e.getItem(n),CKEDITOR.tools.trim(t.getHtml())||(t.appendBogus(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&t.getChildCount()&&t.getFirst().remove())}return function(i){var o=i.startContainer,r=o.getAscendant("table",1),a=!1;n(r.getElementsByTag("td")),n(r.getElementsByTag("th")),(r=i.clone()).setStart(o,0),(r=e(r).lastBackward())||((r=i.clone()).setEndAt(o,CKEDITOR.POSITION_BEFORE_END),r=e(r).lastForward(),a=!0),r||(r=o),r.is("table")?(i.setStartAt(r,CKEDITOR.POSITION_BEFORE_START),i.collapse(!0),r.remove()):(r.is({tbody:1,thead:1,tfoot:1})&&(r=t(r,"tr",a)),r.is("tr")&&(r=t(r,r.getParent().is("thead")?"th":"td",a)),(o=r.getBogus())&&o.remove(),i.moveToPosition(r,a?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}(),T=function(){function e(e){return(e=new CKEDITOR.dom.walker(e)).guard=function(e,t){return!t&&(e.type==CKEDITOR.NODE_ELEMENT?e.is(CKEDITOR.dtd.$list)||e.is(CKEDITOR.dtd.$listItem):void 0)},e.evaluator=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.is(CKEDITOR.dtd.$listItem)},e}return function(t){var n,i=t.startContainer,o=!1;(n=t.clone()).setStart(i,0),(n=e(n).lastBackward())||((n=t.clone()).setEndAt(i,CKEDITOR.POSITION_BEFORE_END),n=e(n).lastForward(),o=!0),n||(n=i),n.is(CKEDITOR.dtd.$list)?(t.setStartAt(n,CKEDITOR.POSITION_BEFORE_START),t.collapse(!0),n.remove()):((i=n.getBogus())&&i.remove(),t.moveToPosition(n,o?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),t.select())}}(),b={eol:{detect:function(e,t){var n=e.range,i=n.clone(),o=n.clone(),r=new CKEDITOR.dom.elementPath(n.startContainer,t),a=new CKEDITOR.dom.elementPath(n.endContainer,t);i.collapse(1),o.collapse(),r.block&&i.checkBoundaryOfElement(r.block,CKEDITOR.END)&&(n.setStartAfter(r.block),e.prependEolBr=1),a.block&&o.checkBoundaryOfElement(a.block,CKEDITOR.START)&&(n.setEndBefore(a.block),e.appendEolBr=1)},fix:function(e,t){var n,i=t.getDocument();e.appendEolBr&&(n=this.createEolBr(i),e.fragment.append(n)),!e.prependEolBr||n&&!n.getPrevious()||e.fragment.append(this.createEolBr(i),1)},createEolBr:function(e){return e.createElement("br",{attributes:{"data-cke-eol":1}})}},bogus:{exclude:function(e){var t,n=(t=e.range.getBoundaryNodes()).startNode;!(t=t.endNode)||!g(t)||n&&n.equals(t)||e.range.setEndBefore(t)}},tree:{rebuild:function(e,t){var n,i=(a=e.range).getCommonAncestor(),o=new CKEDITOR.dom.elementPath(i,t),r=new CKEDITOR.dom.elementPath(a.startContainer,t),a=new CKEDITOR.dom.elementPath(a.endContainer,t);if(i.type==CKEDITOR.NODE_TEXT&&(i=i.getParent()),o.blockLimit.is({tr:1,table:1})){var s=o.contains("table").getParent();n=function(e){return!e.equals(s)}}else if(o.block&&o.block.is(CKEDITOR.dtd.$listItem)&&(r=r.contains(CKEDITOR.dtd.$list),a=a.contains(CKEDITOR.dtd.$list),!r.equals(a))){var l=o.contains(CKEDITOR.dtd.$list).getParent();n=function(e){return!e.equals(l)}}n||(n=function(e){return!e.equals(o.block)&&!e.equals(o.blockLimit)}),this.rebuildFragment(e,t,i,n)},rebuildFragment:function(e,t,n,i){for(var o;n&&!n.equals(t)&&i(n);)o=n.clone(0,1),e.fragment.appendTo(o),e.fragment=o,n=n.getParent()}},cell:{shrink:function(e){var t=(e=e.range).startContainer,n=e.endContainer,i=e.startOffset,o=e.endOffset;t.type==CKEDITOR.NODE_ELEMENT&&t.equals(n)&&t.is("tr")&&++i==o&&e.shrink(CKEDITOR.SHRINK_TEXT)}}},C=function(){function e(e,t){var n=e.getParent();n.is(CKEDITOR.dtd.$inline)&&e[t?"insertBefore":"insertAfter"](n)}function t(t,n,i){e(n),e(i,1);for(var o;o=i.getNext();)o.insertAfter(n),n=o;p(t)&&t.remove()}function n(e,t){var n=new CKEDITOR.dom.range(e);return n.setStartAfter(t.startNode),n.setEndBefore(t.endNode),n}return{list:{detectMerge:function(e,t){var i=n(t,e.bookmark),o=i.startPath(),r=i.endPath(),a=o.contains(CKEDITOR.dtd.$list),s=r.contains(CKEDITOR.dtd.$list);e.mergeList=a&&s&&a.getParent().equals(s.getParent())&&!a.equals(s),e.mergeListItems=o.block&&r.block&&o.block.is(CKEDITOR.dtd.$listItem)&&r.block.is(CKEDITOR.dtd.$listItem),(e.mergeList||e.mergeListItems)&&((i=i.clone()).setStartBefore(e.bookmark.startNode),i.setEndAfter(e.bookmark.endNode),e.mergeListBookmark=i.createBookmark())},merge:function(e,n){if(e.mergeListBookmark){var i=e.mergeListBookmark.startNode,o=e.mergeListBookmark.endNode,r=new CKEDITOR.dom.elementPath(i,n),a=new CKEDITOR.dom.elementPath(o,n);if(e.mergeList){var s=r.contains(CKEDITOR.dtd.$list),l=a.contains(CKEDITOR.dtd.$list);s.equals(l)||(l.moveChildren(s),l.remove())}e.mergeListItems&&(r=r.contains(CKEDITOR.dtd.$listItem),a=a.contains(CKEDITOR.dtd.$listItem),r.equals(a)||t(a,i,o)),i.remove(),o.remove()}}},block:{detectMerge:function(e,t){if(!e.tableContentsRanges&&!e.mergeListBookmark){var n=new CKEDITOR.dom.range(t);n.setStartBefore(e.bookmark.startNode),n.setEndAfter(e.bookmark.endNode),e.mergeBlockBookmark=n.createBookmark()}},merge:function(e,n){if(e.mergeBlockBookmark&&!e.purgeTableBookmark){var i=e.mergeBlockBookmark.startNode,o=e.mergeBlockBookmark.endNode,r=new CKEDITOR.dom.elementPath(i,n),a=new CKEDITOR.dom.elementPath(o,n);r=r.block,a=a.block,r&&a&&!r.equals(a)&&t(a,i,o),i.remove(),o.remove()}}},table:function(){function e(e){var n,o=[],r=new CKEDITOR.dom.walker(e),a=e.startPath().contains(i),s=e.endPath().contains(i),l={};return r.guard=function(r,c){if(r.type==CKEDITOR.NODE_ELEMENT){var u="visited_"+(c?"out":"in");if(r.getCustomData(u))return;CKEDITOR.dom.element.setMarker(l,r,u,1)}if(c&&a&&r.equals(a))(n=e.clone()).setEndAt(a,CKEDITOR.POSITION_BEFORE_END),o.push(n);else if(!c&&s&&r.equals(s))(n=e.clone()).setStartAt(s,CKEDITOR.POSITION_AFTER_START),o.push(n);else{if((u=!c)&&(u=r.type==CKEDITOR.NODE_ELEMENT&&r.is(i)&&(!a||t(r,a))&&(!s||t(r,s))),!u&&(u=c))if(r.is(i)){u=a&&a.getAscendant("table",!0);var d=s&&s.getAscendant("table",!0),h=r.getAscendant("table",!0);u=u&&u.contains(h)||d&&d.contains(h)}else u=void 0;u&&((n=e.clone()).selectNodeContents(r),o.push(n))}},r.lastForward(),CKEDITOR.dom.element.clearAllMarkers(l),o}function t(e,t){var n=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED,i=e.getPosition(t);return i!==CKEDITOR.POSITION_IDENTICAL&&0==(i&n)}var i={td:1,th:1,caption:1};return{detectPurge:function(e){var t=e.range;(n=t.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT);var n=new CKEDITOR.dom.walker(n),o=0;if(n.evaluator=function(e){e.type==CKEDITOR.NODE_ELEMENT&&e.is(i)&&++o},n.checkForward(),1<o){n=t.startPath().contains("table");var r=t.endPath().contains("table");n&&r&&t.checkBoundaryOfElement(n,CKEDITOR.START)&&t.checkBoundaryOfElement(r,CKEDITOR.END)&&((t=e.range.clone()).setStartBefore(n),t.setEndAfter(r),e.purgeTableBookmark=t.createBookmark())}},detectRanges:function(o,r){var a,s,l=n(r,o.bookmark),c=l.clone(),u=l.getCommonAncestor();u.is(CKEDITOR.dtd.$tableContent)&&!u.is(i)&&(u=u.getAscendant("table",!0)),s=u,u=new CKEDITOR.dom.elementPath(l.startContainer,s),s=new CKEDITOR.dom.elementPath(l.endContainer,s),u=u.contains("table"),s=s.contains("table"),(u||s)&&(u&&s&&t(u,s)?(o.tableSurroundingRange=c,c.setStartAt(u,CKEDITOR.POSITION_AFTER_END),c.setEndAt(s,CKEDITOR.POSITION_BEFORE_START),(c=l.clone()).setEndAt(u,CKEDITOR.POSITION_AFTER_END),(a=l.clone()).setStartAt(s,CKEDITOR.POSITION_BEFORE_START),a=e(c).concat(e(a))):u?s||(o.tableSurroundingRange=c,c.setStartAt(u,CKEDITOR.POSITION_AFTER_END),l.setEndAt(u,CKEDITOR.POSITION_AFTER_END)):(o.tableSurroundingRange=c,c.setEndAt(s,CKEDITOR.POSITION_BEFORE_START),l.setStartAt(s,CKEDITOR.POSITION_AFTER_START)),o.tableContentsRanges=a||e(l))},deleteRanges:function(e){for(var t;t=e.tableContentsRanges.pop();)t.extractContents(),p(t.startContainer)&&t.startContainer.appendBogus();e.tableSurroundingRange&&e.tableSurroundingRange.extractContents()},purge:function(e){if(e.purgeTableBookmark){var t=e.doc,n=e.range.clone();(t=t.createElement("p")).insertBefore(e.purgeTableBookmark.startNode),n.moveToBookmark(e.purgeTableBookmark),n.deleteContents(),e.range.moveToPosition(t,CKEDITOR.POSITION_AFTER_START)}}}}(),detectExtractMerge:function(e){return!(e.range.startPath().contains(CKEDITOR.dtd.$listItem)&&e.range.endPath().contains(CKEDITOR.dtd.$listItem))},fixUneditableRangePosition:function(e){e.startContainer.getDtd()["#"]||e.moveToClosestEditablePosition(null,!0)},autoParagraph:function(e,t){var n,i=t.startPath();s(e,i.block,i.blockLimit)&&(n=l(e))&&((n=t.document.createElement(n)).appendBogus(),t.insertNode(n),t.moveToPosition(n,CKEDITOR.POSITION_AFTER_START))}}}()}(),function(){function e(e){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(e)}function t(t,n){if(0===t.length||e(t[0].getEnclosedNode()))return!1;var i,o;if((i=!n&&1===t.length)&&!(i=t[0].collapsed)){var r=t[0];i=r.startContainer.getAscendant({td:1,th:1},!0);var a=r.endContainer.getAscendant({td:1,th:1},!0);o=CKEDITOR.tools.trim,i=!(!i||!i.equals(a)||i.findOne("td, th, tr, tbody, table"))&&(!(r=r.cloneContents()).getFirst()||o(r.getFirst().getText())!==o(i.getText()))}if(i)return!1;for(o=0;o<t.length;o++)if(!(i=t[o]._getTableElement()))return!1;return!0}function n(e){var t=this.root.editor,n=t.getSelection(1);this.reset(),h=!0,n.root.once("selectionchange",(function(e){e.cancel()}),null,null,0),n.selectRanges([e[0]]),(n=this._.cache).ranges=new CKEDITOR.dom.rangeList(e),n.type=CKEDITOR.SELECTION_TEXT,n.selectedElement=e[0]._getTableElement(),n.selectedText=function(e){e=function(e){function t(e){e=e.find("td, th");var t,n=[];for(t=0;t<e.count();t++)n.push(e.getItem(t));return n}var n,i,o=[];for(i=0;i<e.length;i++)(n=e[i]._getTableElement()).is&&n.is({td:1,th:1})?o.push(n):o=o.concat(t(n));return o}(e);var t,n,i="",o=[];for(n=0;n<e.length;n++)t&&!t.equals(e[n].getAscendant("tr"))?(i+=o.join("\t")+"\n",t=e[n].getAscendant("tr"),o=[]):0===n&&(t=e[n].getAscendant("tr")),o.push(e[n].getText());return i+o.join("\t")}(e),n.nativeSel=null,this.isFake=1,this.rev=m++,t._.fakeSelection=this,h=!1,this.root.fire("selectionchange")}function i(){var n,i=this._.fakeSelection;if(i){var o;if(!(o=!(n=this.getSelection(1)))&&(o=!n.isHidden())){o=i;var r=n.getRanges(),a=o.getRanges(),s=r.length&&r[0]._getTableElement()&&r[0]._getTableElement().getAscendant("table",!0),l=a.length&&a[0]._getTableElement()&&a[0]._getTableElement().getAscendant("table",!0),c=1===r.length&&r[0]._getTableElement()&&r[0]._getTableElement().is("table"),u=1===a.length&&a[0]._getTableElement()&&a[0]._getTableElement().is("table");if(e(o.getSelectedElement()))o=!1;else{var d=1===r.length&&r[0].collapsed;a=t(r,!!CKEDITOR.env.webkit)&&t(a),(s=!(!s||!l)&&(s.equals(l)||l.contains(s)))&&(d||a)?(c&&!u&&o.selectRanges(r),o=!0):o=!1}o=!o}o&&(i.reset(),i=0)}(i||(i=n||this.getSelection(1))&&i.getType()!=CKEDITOR.SELECTION_NONE)&&(this.fire("selectionCheck",i),(n=this.elementPath()).compare(this._.selectionPreviousPath)||(o=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(n.blockLimit),!CKEDITOR.env.webkit&&!CKEDITOR.env.gecko||o||(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=n,this.fire("selectionChange",{selection:i,path:n})))}function o(){p=!0,f||(r.call(this),f=CKEDITOR.tools.setTimeout(r,200,this))}function r(){f=null,p&&(CKEDITOR.tools.setTimeout(i,0,this),p=!1)}function a(e){return!(!T(e)&&(e.type!=CKEDITOR.NODE_ELEMENT||e.is(CKEDITOR.dtd.$empty)))}function s(e){function t(t,n){return!(!t||t.type==CKEDITOR.NODE_TEXT)&&e.clone()["moveToElementEdit"+(n?"End":"Start")](t)}if(!(e.root instanceof CKEDITOR.editable))return!1;var n=e.startContainer,i=e.getPreviousNode(a,null,n),o=e.getNextNode(a,null,n);return!(!t(i)&&!t(o,1)&&(i||o||n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary()&&n.getBogus()))}function l(e){c(e,!1);var t=e.getDocument().createText(E);return e.setCustomData("cke-fillingChar",t),t}function c(e,t){var n=e&&e.removeCustomData("cke-fillingChar");if(n){if(!1!==t){var i=e.getDocument().getSelection().getNative(),o=i&&"None"!=i.type&&i.getRangeAt(0),r=E.length;if(n.getLength()>r&&o&&o.intersectsNode(n.$)){var a=[{node:i.anchorNode,offset:i.anchorOffset},{node:i.focusNode,offset:i.focusOffset}];i.anchorNode==n.$&&i.anchorOffset>r&&(a[0].offset-=r),i.focusNode==n.$&&i.focusOffset>r&&(a[1].offset-=r)}}n.setText(u(n.getText(),1)),a&&(i=(n=e.getDocument().$).getSelection(),(n=n.createRange()).setStart(a[0].node,a[0].offset),n.collapse(!0),i.removeAllRanges(),i.addRange(n),i.extend(a[1].node,a[1].offset))}}function u(e,t){return t?e.replace(v,(function(e,t){return t?" ":""})):e.replace(E,"")}function d(t){var n={37:1,39:1,8:1,46:1};return function(i){var o=i.data.getKeystroke();if(n[o]){var r=t.getSelection(),a=r.getRanges()[0];r.isCollapsed()&&(a=a[38>o?"getPreviousEditableNode":"getNextEditableNode"]())&&a.type==CKEDITOR.NODE_ELEMENT&&"false"==a.getAttribute("contenteditable")&&(!(r=r.getStartElement()).isBlockBoundary()||""!==(void 0===r.$.textContent?r.$.innerText:r.$.textContent)||e(r.getFirst())||8!==o&&46!==o||(r.remove(),t.fire("saveSnapshot")),t.getSelection().fake(a),i.data.preventDefault(),i.cancel())}}}var h,f,p,g="function"!=typeof window.getSelection,m=1,E=CKEDITOR.tools.repeat("​",7),v=new RegExp(E+"( )?","g"),T=CKEDITOR.dom.walker.invisible(1),b=function(){function e(e){return function(t){var n=t.editor.createRange();return n.moveToClosestEditablePosition(t.selected,e)&&t.editor.getSelection().selectRanges([n]),!1}}function t(e){return function(t){var n,i=t.editor,o=i.createRange();if(!i.readOnly)return(n=o.moveToClosestEditablePosition(t.selected,e))||(n=o.moveToClosestEditablePosition(t.selected,!e)),n&&i.getSelection().selectRanges([o]),i.fire("saveSnapshot"),t.selected.remove(),n||(o.moveToElementEditablePosition(i.editable()),i.getSelection().selectRanges([o])),i.fire("saveSnapshot"),!1}}var n=e(),i=e(1);return{37:n,38:n,39:i,40:i,8:t(),46:t(1)}}();CKEDITOR.on("instanceCreated",(function(e){function t(){var e=n.getSelection();e&&e.removeAllRanges()}var n=e.editor;n.on("contentDom",(function(){function e(){(a=new CKEDITOR.dom.selection(n.getSelection())).lock()}function t(){p.removeListener("mouseup",t),v.removeListener("mouseup",t);var e=CKEDITOR.document.$.selection,n=e.createRange();"None"!=e.type&&n.parentElement()&&n.parentElement().ownerDocument==f.$&&n.select()}var r,a,s,l,u,h,f=n.document,p=CKEDITOR.document,m=n.editable(),E=f.getBody(),v=f.getDocumentElement(),T=m.isInline();(CKEDITOR.env.gecko&&m.attachListener(m,"focus",(function(e){e.removeListener(),0!==r&&(e=n.getSelection().getNative())&&e.isCollapsed&&e.anchorNode==m.$&&((e=n.createRange()).moveToElementEditStart(m),e.select())}),null,null,-2),m.attachListener(m,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",(function(){if(r&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){r=n._.previousActive&&n._.previousActive.equals(f.getActive());var e=null!=n._.previousScrollTop&&n._.previousScrollTop!=m.$.scrollTop;CKEDITOR.env.webkit&&r&&e&&(m.$.scrollTop=n._.previousScrollTop)}n.unlockSelection(r),r=0}),null,null,-1),m.attachListener(m,"mousedown",(function(){r=0})),(CKEDITOR.env.ie||CKEDITOR.env.gecko||T)&&(g?m.attachListener(m,"beforedeactivate",e,null,null,-1):m.attachListener(n,"selectionCheck",e,null,null,-1),m.attachListener(m,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusout":"blur",(function(){var e=a&&(a.isFake||2>a.getRanges().length);CKEDITOR.env.gecko&&!T&&e||(n.lockSelection(a),r=1)}),null,null,-1),m.attachListener(m,"mousedown",(function(){r=0}))),CKEDITOR.env.ie&&!T&&(m.attachListener(m,"mousedown",(function(e){2==e.data.$.button&&((e=n.document.getSelection())&&e.getType()!=CKEDITOR.SELECTION_NONE||(s=n.window.getScrollPosition()))})),m.attachListener(m,"mouseup",(function(e){2==e.data.$.button&&s&&(n.document.$.documentElement.scrollLeft=s.x,n.document.$.documentElement.scrollTop=s.y),s=null})),"BackCompat"!=f.$.compatMode))&&((CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&v.on("mousedown",(function(e){function t(e){if(e=e.data.$,u){var t=E.$.createTextRange();try{t.moveToPoint(e.clientX,e.clientY)}catch(e){}u.setEndPoint(0>h.compareEndPoints("StartToStart",t)?"EndToEnd":"StartToStart",t),u.select()}}function n(){v.removeListener("mousemove",t),p.removeListener("mouseup",n),v.removeListener("mouseup",n),u.select()}if((e=e.data).getTarget().is("html")&&e.$.y<v.$.clientHeight&&e.$.x<v.$.clientWidth){u=E.$.createTextRange();try{u.moveToPoint(e.$.clientX,e.$.clientY)}catch(e){}h=u.duplicate(),v.on("mousemove",t),p.on("mouseup",n),v.on("mouseup",n)}})),7<CKEDITOR.env.version&&11>CKEDITOR.env.version&&v.on("mousedown",(function(e){e.data.getTarget().is("html")&&(p.on("mouseup",t),v.on("mouseup",t))})));m.attachListener(m,"selectionchange",i,n),m.attachListener(m,"keyup",o,n),m.attachListener(m,"touchstart",o,n),m.attachListener(m,"touchend",o,n),CKEDITOR.env.ie&&m.attachListener(m,"keydown",(function(e){var t,n;(t=!!(t=this.document.getActive())&&("input"===t.getName()||"textarea"===t.getName()))||(n=function(e){return(e=e.getRanges()[0])&&(e=e.startContainer.getAscendant((function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("contenteditable")}),!0))&&"false"===e.getAttribute("contenteditable")?e:null}(t=this.getSelection(1)))&&!n.equals(m)&&(t.selectElement(n),e.data.preventDefault())}),n),m.attachListener(m,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",(function(){n.forceNextSelectionCheck(),n.selectionChange(1)})),T&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)?(m.attachListener(m,"mousedown",(function(){l=1})),m.attachListener(f.getDocumentElement(),"mouseup",(function(){l&&o.call(n),l=0}))):m.attachListener(CKEDITOR.env.ie?m:f.getDocumentElement(),"mouseup",o,n),CKEDITOR.env.webkit&&m.attachListener(f,"keydown",(function(e){switch(e.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:m.hasFocus&&c(m)}}),null,null,-1),m.attachListener(m,"keydown",d(n),null,null,-1)})),n.on("setData",(function(){n.unlockSelection(),CKEDITOR.env.webkit&&t()})),n.on("contentDomUnload",(function(){n.unlockSelection()})),CKEDITOR.env.ie9Compat&&n.on("beforeDestroy",t,null,null,9),n.on("dataReady",(function(){delete n._.fakeSelection,delete n._.hiddenSelectionContainer,n.selectionChange(1)})),n.on("loadSnapshot",(function(){var e=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),t=n.editable().getLast(e);t&&t.hasAttribute("data-cke-hidden-sel")&&(t.remove(),CKEDITOR.env.gecko&&(e=n.editable().getFirst(e))&&e.is("br")&&e.getAttribute("_moz_editor_bogus_node")&&e.remove())}),null,null,100),n.on("key",(function(e){if("wysiwyg"==n.mode){var t=n.getSelection();if(t.isFake){var i=b[e.data.keyCode];if(i)return i({editor:n,selected:t.getSelectedElement(),selection:t,keyEvent:e})}}}))})),CKEDITOR.env.webkit&&CKEDITOR.on("instanceReady",(function(e){var t=e.editor;t.on("selectionChange",(function(){var e=t.editable(),n=e.getCustomData("cke-fillingChar");n&&(n.getCustomData("ready")?(c(e),e.editor.fire("selectionCheck")):n.setCustomData("ready",1))}),null,null,-1),t.on("beforeSetMode",(function(){c(t.editable())}),null,null,-1),t.on("getSnapshot",(function(e){e.data&&(e.data=u(e.data))}),t,null,20),t.on("toDataFormat",(function(e){e.data.dataValue=u(e.data.dataValue)}),null,null,0)})),CKEDITOR.editor.prototype.selectionChange=function(e){(e?i:o).call(this)},CKEDITOR.editor.prototype.getSelection=function(e){return!this._.savedSelection&&!this._.fakeSelection||e?(e=this.editable())&&"wysiwyg"==this.mode&&"recreating"!==this.status?new CKEDITOR.dom.selection(e):null:this._.savedSelection||this._.fakeSelection},CKEDITOR.editor.prototype.getSelectedRanges=function(e){var t=this.getSelection();return t&&t.getRanges(e)||[]},CKEDITOR.editor.prototype.lockSelection=function(e){return(e=e||this.getSelection(1)).getType()!=CKEDITOR.SELECTION_NONE&&(!e.isLocked&&e.lock(),this._.savedSelection=e,!0)},CKEDITOR.editor.prototype.unlockSelection=function(e){var t=this._.savedSelection;return!!t&&(t.unlock(e),delete this._.savedSelection,!0)},CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath},CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)},CKEDITOR.dom.range.prototype.select=function(){var e=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);return e.selectRanges([this]),e},CKEDITOR.SELECTION_NONE=1,CKEDITOR.SELECTION_TEXT=2,CKEDITOR.SELECTION_ELEMENT=3,CKEDITOR.dom.selection=function(e){if(e instanceof CKEDITOR.dom.selection){var t=e;e=e.root}var n,i,o=e instanceof CKEDITOR.dom.element;if(this.rev=t?t.rev:m++,this.document=e instanceof CKEDITOR.dom.document?e:e.getDocument(),this.root=o?e:this.document.getBody(),this.isLocked=0,this._={cache:{}},t)return CKEDITOR.tools.extend(this._.cache,t._.cache),this.isFake=t.isFake,this.isLocked=t.isLocked,this;if(e=this.getNative())if(e.getRangeAt)n=(i=e.rangeCount&&e.getRangeAt(0))&&new CKEDITOR.dom.node(i.commonAncestorContainer);else{try{i=e.createRange()}catch(e){}n=i&&CKEDITOR.dom.element.get(i.item&&i.item(0)||i.parentElement())}return(!n||n.type!=CKEDITOR.NODE_ELEMENT&&n.type!=CKEDITOR.NODE_TEXT||!this.root.equals(n)&&!this.root.contains(n))&&(this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList),this};var C={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:u,_createFillingCharSequenceNode:l,FILLING_CHAR_SEQUENCE:E}),CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=g?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:g?function(){var e=this._.cache;if(e.type)return e.type;var t=CKEDITOR.SELECTION_NONE;try{var n=this.getNative(),i=n.type;"Text"==i&&(t=CKEDITOR.SELECTION_TEXT),"Control"==i&&(t=CKEDITOR.SELECTION_ELEMENT),n.createRange().parentElement()&&(t=CKEDITOR.SELECTION_TEXT)}catch(e){}return e.type=t}:function(){var e=this._.cache;if(e.type)return e.type;var t=CKEDITOR.SELECTION_TEXT;if((n=this.getNative())&&n.rangeCount){if(1==n.rangeCount){var n,i=(n=n.getRangeAt(0)).startContainer;i==n.endContainer&&1==i.nodeType&&1==n.endOffset-n.startOffset&&C[i.childNodes[n.startOffset].nodeName.toLowerCase()]&&(t=CKEDITOR.SELECTION_ELEMENT)}}else t=CKEDITOR.SELECTION_NONE;return e.type=t},getRanges:function(){var e=g?function(){function e(e){return new CKEDITOR.dom.node(e).getIndex()}var t=function(t,n){(t=t.duplicate()).collapse(n);var i=t.parentElement();if(!i.hasChildNodes())return{container:i,offset:0};for(var o,r,a,s,l=i.children,c=t.duplicate(),u=0,d=l.length-1,h=-1;u<=d;)if(o=l[h=Math.floor((u+d)/2)],c.moveToElementText(o),0<(a=c.compareEndPoints("StartToStart",t)))d=h-1;else{if(!(0>a))return{container:i,offset:e(o)};u=h+1}if(-1==h||h==l.length-1&&0>a){if(c.moveToElementText(i),c.setEndPoint("StartToStart",t),c=c.text.replace(/(\r\n|\r)/g,"\n").length,l=i.childNodes,!c)return(o=l[l.length-1]).nodeType!=CKEDITOR.NODE_TEXT?{container:i,offset:l.length}:{container:o,offset:o.nodeValue.length};for(i=l.length;0<c&&0<i;)(r=l[--i]).nodeType==CKEDITOR.NODE_TEXT&&(s=r,c-=r.nodeValue.length);return{container:s,offset:-c}}if(c.collapse(0<a),c.setEndPoint(0<a?"StartToStart":"EndToStart",t),!(c=c.text.replace(/(\r\n|\r)/g,"\n").length))return{container:i,offset:e(o)+(0<a?0:1)};for(;0<c;)try{(r=o[0<a?"previousSibling":"nextSibling"]).nodeType==CKEDITOR.NODE_TEXT&&(c-=r.nodeValue.length,s=r),o=r}catch(t){return{container:i,offset:e(o)}}return{container:s,offset:0<a?-c:s.nodeValue.length+c}};return function(){var e=(s=this.getNative())&&s.createRange(),n=this.getType();if(!s)return[];if(n==CKEDITOR.SELECTION_TEXT)return s=new CKEDITOR.dom.range(this.root),n=t(e,!0),s.setStart(new CKEDITOR.dom.node(n.container),n.offset),n=t(e),s.setEnd(new CKEDITOR.dom.node(n.container),n.offset),s.endContainer.getPosition(s.startContainer)&CKEDITOR.POSITION_PRECEDING&&s.endOffset<=s.startContainer.getIndex()&&s.collapse(),[s];if(n==CKEDITOR.SELECTION_ELEMENT){n=[];for(var i=0;i<e.length;i++){for(var o=e.item(i),r=o.parentNode,a=0,s=new CKEDITOR.dom.range(this.root);a<r.childNodes.length&&r.childNodes[a]!=o;a++);s.setStart(new CKEDITOR.dom.node(r),a),s.setEnd(new CKEDITOR.dom.node(r),a+1),n.push(s)}return n}return[]}}():function(){var e,t=[],n=this.getNative();if(!n)return t;for(var i=0;i<n.rangeCount;i++){var o=n.getRangeAt(i);(e=new CKEDITOR.dom.range(this.root)).setStart(new CKEDITOR.dom.node(o.startContainer),o.startOffset),e.setEnd(new CKEDITOR.dom.node(o.endContainer),o.endOffset),t.push(e)}return t};return function(t){var n=this._.cache,i=n.ranges;return i||(n.ranges=i=new CKEDITOR.dom.rangeList(e.call(this))),t?function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.getCommonAncestor().isReadOnly()&&e.splice(t,1),!n.collapsed){if(n.startContainer.isReadOnly())for(var i,o=n.startContainer;o&&!((i=o.type==CKEDITOR.NODE_ELEMENT)&&o.is("body")||!o.isReadOnly());)i&&"false"==o.getAttribute("contentEditable")&&n.setStartAfter(o),o=o.getParent();o=n.startContainer,i=n.endContainer;var r=n.startOffset,a=n.endOffset,s=n.clone();o&&o.type==CKEDITOR.NODE_TEXT&&(r>=o.getLength()?s.setStartAfter(o):s.setStartBefore(o)),i&&i.type==CKEDITOR.NODE_TEXT&&(a?s.setEndAfter(i):s.setEndBefore(i)),(o=new CKEDITOR.dom.walker(s)).evaluator=function(i){if(i.type==CKEDITOR.NODE_ELEMENT&&i.isReadOnly()){var o=n.clone();return n.setEndBefore(i),n.collapsed&&e.splice(t--,1),i.getPosition(s.endContainer)&CKEDITOR.POSITION_CONTAINS||(o.setStartAfter(i),o.collapsed||e.splice(t+1,0,o)),!0}return!1},o.next()}}return e}(new CKEDITOR.dom.rangeList(i.slice())):i}}(),getStartElement:function(){var e,t=this._.cache;if(void 0!==t.startElement)return t.startElement;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var n=this.getRanges()[0];if(n){if(n.collapsed)(e=n.startContainer).type!=CKEDITOR.NODE_ELEMENT&&(e=e.getParent());else{for(n.optimize();e=n.startContainer,n.startOffset==(e.getChildCount?e.getChildCount():e.getLength())&&!e.isBlockBoundary();)n.setStartAfter(e);if((e=n.startContainer).type!=CKEDITOR.NODE_ELEMENT)return e.getParent();if((e=e.getChild(n.startOffset))&&e.type==CKEDITOR.NODE_ELEMENT)for(n=e.getFirst();n&&n.type==CKEDITOR.NODE_ELEMENT;)e=n,n=n.getFirst();else e=n.startContainer}e=e.$}}return t.startElement=e?new CKEDITOR.dom.element(e):null},getSelectedElement:function(){var e=this._.cache;if(void 0!==e.selectedElement)return e.selectedElement;var t=this,n=CKEDITOR.tools.tryThese((function(){return t.getNative().createRange().item(0)}),(function(){for(var e,n,i=t.getRanges()[0].clone(),o=2;o&&!((e=i.getEnclosedNode())&&e.type==CKEDITOR.NODE_ELEMENT&&C[e.getName()]&&(n=e));o--)i.shrink(CKEDITOR.SHRINK_ELEMENT);return n&&n.$}));return e.selectedElement=n?new CKEDITOR.dom.element(n):null},getSelectedText:function(){var e=this._.cache;if(void 0!==e.selectedText)return e.selectedText;var t=this.getNative();return t=g?"Control"==t.type?"":t.createRange().text:t.toString(),e.selectedText=t},lock:function(){this.getRanges(),this.getStartElement(),this.getSelectedElement(),this.getSelectedText(),this._.cache.nativeSel=null,this.isLocked=1},unlock:function(e){if(this.isLocked){if(e)var i=this.getSelectedElement(),o=this.getRanges(),r=this.isFake;this.isLocked=0,this.reset(),e&&(e=i||o[0]&&o[0].getCommonAncestor())&&e.getAscendant("body",1)&&((e=this.root.editor)&&e.plugins.tableselection&&e.plugins.tableselection.isSupportedEnvironment(e)&&t(o)?n.call(this,o):r?this.fake(i):i&&2>o.length?this.selectElement(i):this.selectRanges(o))}},reset:function(){this._.cache={},this.isFake=0;var e=this.root.editor;if(e&&e._.fakeSelection)if(this.rev==e._.fakeSelection.rev){delete e._.fakeSelection;var t=e._.hiddenSelectionContainer;if(t){var n=e.checkDirty();e.fire("lockSnapshot"),t.remove(),e.fire("unlockSnapshot"),!n&&e.resetDirty()}delete e._.hiddenSelectionContainer}else CKEDITOR.warn("selection-fake-reset");this.rev=m++},selectElement:function(e){var t=new CKEDITOR.dom.range(this.root);t.setStartBefore(e),t.setEndAfter(e),this.selectRanges([t])},selectRanges:function(e){var i=this.root.editor,o=i&&i._.hiddenSelectionContainer;if(this.reset(),o){o=this.root;for(var r,a=0;a<e.length;++a)(r=e[a]).endContainer.equals(o)&&(r.endOffset=Math.min(r.endOffset,o.getChildCount()))}if(e.length)if(this.isLocked){var u=CKEDITOR.document.getActive();this.unlock(),this.selectRanges(e),this.lock(),u&&!u.equals(this.root)&&u.focus()}else{var d,f,p;if(1==e.length&&!(p=e[0]).collapsed&&(d=p.getEnclosedNode())&&d.type==CKEDITOR.NODE_ELEMENT&&((p=p.clone()).shrink(CKEDITOR.SHRINK_ELEMENT,!0),(f=p.getEnclosedNode())&&f.type==CKEDITOR.NODE_ELEMENT&&(d=f),"false"==d.getAttribute("contenteditable"))||(d=void 0),d)this.fake(d);else if(i&&i.plugins.tableselection&&i.plugins.tableselection.isSupportedEnvironment(i)&&t(e)&&!h&&!e[0]._getTableElement({table:1}).hasAttribute("data-cke-tableselection-ignored"))n.call(this,e);else{if(g){var m,E,v;if(f=CKEDITOR.dom.walker.whitespaces(!0),d=/\ufeff|\u00a0/,p={table:1,tbody:1,tr:1},1<e.length&&(i=e[e.length-1],e[0].setEnd(i.endContainer,i.endOffset)),e=(i=e[0]).collapsed,(o=i.getEnclosedNode())&&o.type==CKEDITOR.NODE_ELEMENT&&o.getName()in C&&(!o.is("a")||!o.getText()))try{return(v=o.$.createControlRange()).addElement(o.$),void v.select()}catch(e){}(i.startContainer.type==CKEDITOR.NODE_ELEMENT&&i.startContainer.getName()in p||i.endContainer.type==CKEDITOR.NODE_ELEMENT&&i.endContainer.getName()in p)&&(i.shrink(CKEDITOR.NODE_ELEMENT,!0),e=i.collapsed),p=(v=i.createBookmark()).startNode,e||(u=v.endNode),(v=i.document.$.body.createTextRange()).moveToElementText(p.$),v.moveStart("character",1),u?((d=i.document.$.body.createTextRange()).moveToElementText(u.$),v.setEndPoint("EndToEnd",d),v.moveEnd("character",-1)):(m=p.getNext(f),E=p.hasAscendant("pre"),m=!(m&&m.getText&&m.getText().match(d))&&(E||!p.hasPrevious()||p.getPrevious().is&&p.getPrevious().is("br")),(E=i.document.createElement("span")).setHtml("&#65279;"),E.insertBefore(p),m&&i.document.createText("\ufeff").insertBefore(p)),i.setStartBefore(p),p.remove(),e?(m?(v.moveStart("character",-1),v.select(),i.document.$.selection.clear()):v.select(),i.moveToPosition(E,CKEDITOR.POSITION_BEFORE_START),E.remove()):(i.setEndBefore(u),u.remove(),v.select())}else{if(!(u=this.getNative()))return;for(this.removeAllRanges(),v=0;v<e.length;v++)if(v<e.length-1&&(m=e[v],E=e[v+1],(d=m.clone()).setStart(m.endContainer,m.endOffset),d.setEnd(E.startContainer,E.startOffset),!d.collapsed&&(d.shrink(CKEDITOR.NODE_ELEMENT,!0),i=d.getCommonAncestor(),d=d.getEnclosedNode(),i.isReadOnly()||d&&d.isReadOnly())))E.setStart(m.startContainer,m.startOffset),e.splice(v--,1);else{i=e[v],E=this.document.$.createRange(),i.collapsed&&CKEDITOR.env.webkit&&s(i)&&(d=l(this.root),i.insertNode(d),(m=d.getNext())&&!d.getPrevious()&&m.type==CKEDITOR.NODE_ELEMENT&&"br"==m.getName()?(c(this.root),i.moveToPosition(m,CKEDITOR.POSITION_BEFORE_START)):i.moveToPosition(d,CKEDITOR.POSITION_AFTER_END)),E.setStart(i.startContainer.$,i.startOffset);try{E.setEnd(i.endContainer.$,i.endOffset)}catch(e){if(!(0<=e.toString().indexOf("NS_ERROR_ILLEGAL_VALUE")))throw e;i.collapse(1),E.setEnd(i.endContainer.$,i.endOffset)}u.addRange(E)}}this.reset(),this.root.fire("selectionchange")}}},fake:function(e,t){var n=this.root.editor;void 0===t&&e.hasAttribute("aria-label")&&(t=e.getAttribute("aria-label")),this.reset(),function(e,t){var n=t&&CKEDITOR.tools.htmlEncode(t)||"&nbsp;";n=CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel="1" data-cke-temp="1" style="'+(CKEDITOR.env.ie&&14>CKEDITOR.env.version?"display:none":"position:fixed;top:0;left:-1000px;width:0;height:0;overflow:hidden;")+'">'+n+"</div>",e.document),e.fire("lockSnapshot"),e.editable().append(n);var i=e.getSelection(1),o=e.createRange(),r=i.root.on("selectionchange",(function(e){e.cancel()}),null,null,0);o.setStartAt(n,CKEDITOR.POSITION_AFTER_START),o.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),i.selectRanges([o]),r.removeListener(),e.fire("unlockSnapshot"),e._.hiddenSelectionContainer=n}(n,t);var i=this._.cache,o=new CKEDITOR.dom.range(this.root);o.setStartBefore(e),o.setEndAfter(e),i.ranges=new CKEDITOR.dom.rangeList(o),i.selectedElement=i.startElement=e,i.type=CKEDITOR.SELECTION_ELEMENT,i.selectedText=i.nativeSel=null,this.isFake=1,this.rev=m++,n._.fakeSelection=this,this.root.fire("selectionchange")},isHidden:function(){var e=this.getCommonAncestor();return e&&e.type==CKEDITOR.NODE_TEXT&&(e=e.getParent()),!(!e||!e.data("cke-hidden-sel"))},isInTable:function(e){return t(this.getRanges(),e)},isCollapsed:function(){var e=this.getRanges();return 1===e.length&&e[0].collapsed},createBookmarks:function(e){return e=this.getRanges().createBookmarks(e),this.isFake&&(e.isFake=1),e},createBookmarks2:function(e){return e=this.getRanges().createBookmarks2(e),this.isFake&&(e.isFake=1),e},selectBookmarks:function(e){for(var n,i=[],o=0;o<e.length;o++){var r=new CKEDITOR.dom.range(this.root);r.moveToBookmark(e[o]),i.push(r)}return e.isFake&&((n=t(i)?i[0]._getTableElement():i[0].getEnclosedNode())&&n.type==CKEDITOR.NODE_ELEMENT||(CKEDITOR.warn("selection-not-fake"),e.isFake=0)),e.isFake&&!t(i)?this.fake(n):this.selectRanges(i),this},getCommonAncestor:function(){var e=this.getRanges();return e.length?e[0].startContainer.getCommonAncestor(e[e.length-1].endContainer):null},scrollIntoView:function(){this.getType()!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var e=this.getNative();try{e&&e[g?"empty":"removeAllRanges"]()}catch(e){}this.reset()}}}}(),CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=2,CKEDITOR.STYLE_OBJECT=3,function(){function e(e,t){for(var n,i;(e=e.getParent())&&!e.equals(t);)if(e.getAttribute("data-nostyle"))n=e;else if(!i){var o=e.getAttribute("contentEditable");"false"==o?n=e:"true"==o&&(i=1)}return n}function t(e,t,n,i){return(e.getPosition(t)|i)==i&&(!n.childRule||n.childRule(e))}function n(i){var r=i.document;if(i.collapsed)r=g(this,r),i.insertNode(r),i.moveToPosition(r,CKEDITOR.POSITION_BEFORE_END);else{var a,s=this.element,l=this._.definition,c=(v=l.ignoreReadonly)||l.includeReadonly;null==c&&(c=i.root.getCustomData("cke_includeReadonly"));var u=CKEDITOR.dtd[s];u||(a=!0,u=CKEDITOR.dtd.span),i.enlarge(CKEDITOR.ENLARGE_INLINE,1),i.trim();var d,f=i.createBookmark(),p=f.startNode,m=f.endNode,E=p;if(!v){var v=e(p,T=i.getCommonAncestor()),T=e(m,T);v&&(E=v.getNextSourceNode(!0)),T&&(m=T)}for(E.getPosition(m)==CKEDITOR.POSITION_FOLLOWING&&(E=0);E;){if(v=!1,E.equals(m))E=null,v=!0;else{T=(_=E.type==CKEDITOR.NODE_ELEMENT?E.getName():null)&&"false"==E.getAttribute("contentEditable");var b=_&&-1!==CKEDITOR.tools.array.indexOf(CKEDITOR.style.unstylableElements,_);if(b=_&&(E.getAttribute("data-nostyle")||b),_&&E.data("cke-bookmark")||E.type===CKEDITOR.NODE_COMMENT){E=E.getNextSourceNode(!0);continue}if(T&&c&&CKEDITOR.dtd.$block[_])for(var C=void 0,y=0,O=(A=(N=o(O=E)).length)&&new CKEDITOR.dom.range(O.getDocument());y<A;++y){C=N[y];var I=CKEDITOR.filter.instances[C.data("cke-filter")];I&&!I.check(this)||(O.selectNodeContents(C),n.call(this,O))}if(N=_?!u[_]||b||T&&!c?0:t(E,m,l,w):1){if(N=l,A=s,y=a,!(C=E.getParent())||!(C.getDtd()||CKEDITOR.dtd.span)[A]&&!y||N.parentRule&&!N.parentRule(C))v=!0;else if(d||_&&CKEDITOR.dtd.$removeEmpty[_]&&(E.getPosition(m)|w)!=w||(d=i.clone()).setStartBefore(E),(_=E.type)==CKEDITOR.NODE_TEXT||T||_==CKEDITOR.NODE_ELEMENT&&!E.getChildCount()){for(var D,_=E;(v=!_.getNext(R))&&u[(D=_.getParent()).getName()]&&t(D,p,l,k);)_=D;d.setEndAfter(_)}}else v=!0;E=E.getNextSourceNode(b||T)}if(v&&d&&!d.collapsed){T=(v=g(this,r)).hasAttributes(),b=d.getCommonAncestor(),_={};for(var K,x,S,N={},A=(C={},{});v&&b;){if(b.getName()==s){for(K in l.attributes)!A[K]&&(S=b.getAttribute(x))&&(v.getAttribute(K)==S?N[K]=1:A[K]=1);for(x in l.styles)!C[x]&&(S=b.getStyle(x))&&(v.getStyle(x)==S?_[x]=1:C[x]=1)}b=b.getParent()}for(K in N)v.removeAttribute(K);for(x in _)v.removeStyle(x);T&&!v.hasAttributes()&&(v=null),v?(d.extractContents().appendTo(v),d.insertNode(v),h.call(this,v),v.mergeSiblings(),CKEDITOR.env.ie||v.$.normalize()):(v=new CKEDITOR.dom.element("span"),d.extractContents().appendTo(v),d.insertNode(v),h.call(this,v),v.remove(!0)),d=null}}i.moveToBookmark(f),i.shrink(CKEDITOR.SHRINK_TEXT),i.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function i(e){function t(){for(var e=new CKEDITOR.dom.elementPath(i.getParent()),t=new CKEDITOR.dom.elementPath(u.getParent()),n=null,o=null,r=0;r<e.elements.length;r++){var a=e.elements[r];if(a==e.block||a==e.blockLimit)break;h.checkElementRemovable(a,!0)&&(n=a)}for(r=0;r<t.elements.length&&(a=t.elements[r])!=t.block&&a!=t.blockLimit;r++)h.checkElementRemovable(a,!0)&&(o=a);o&&u.breakParent(o),n&&i.breakParent(n)}e.enlarge(CKEDITOR.ENLARGE_INLINE,1);var n=e.createBookmark(),i=n.startNode,o=this._.definition.alwaysRemoveElement;if(e.collapsed){for(var r,a,s=new CKEDITOR.dom.elementPath(i.getParent(),e.root),l=0;l<s.elements.length&&(a=s.elements[l])&&a!=s.block&&a!=s.blockLimit;l++)if(this.checkElementRemovable(a)){var c;!o&&e.collapsed&&(e.checkBoundaryOfElement(a,CKEDITOR.END)||(c=e.checkBoundaryOfElement(a,CKEDITOR.START)))?(r=a).match=c?"start":"end":(a.mergeSiblings(),a.is(this.element)?d.call(this,a):f(a,v(this)[a.getName()]))}if(r){for(o=i,l=0;!(a=s.elements[l]).equals(r);l++)a.match||((a=a.clone()).append(o),o=a);o["start"==r.match?"insertBefore":"insertAfter"](r)}}else{var u=n.endNode,h=this;for(t(),s=i;!s.equals(u);)r=s.getNextSourceNode(),s.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(s)&&(s.getName()==this.element?d.call(this,s):f(s,v(this)[s.getName()]),r.type==CKEDITOR.NODE_ELEMENT&&r.contains(i)&&(t(),r=i.getNext())),s=r}e.moveToBookmark(n),e.shrink(CKEDITOR.NODE_ELEMENT,!0)}function o(e){var t=[];return e.forEach((function(e){if("true"==e.getAttribute("contenteditable"))return t.push(e),!1}),CKEDITOR.NODE_ELEMENT,!0),t}function r(e){var t=e.getEnclosedNode()||e.getCommonAncestor(!1,!0);(e=new CKEDITOR.dom.elementPath(t,e.root).contains(this.element,1))&&!e.isReadOnly()&&m(e,this)}function a(e){var t=e.getCommonAncestor(!0,!0);if(e=new CKEDITOR.dom.elementPath(t,e.root).contains(this.element,1)){var n=(t=this._.definition).attributes;if(n)for(var i in n)e.removeAttribute(i,n[i]);if(t.styles)for(var o in t.styles)t.styles.hasOwnProperty(o)&&e.removeStyle(o)}}function s(e){var t=e.createBookmark(!0),n=e.createIterator();n.enforceRealBlocks=!0,this._.enterMode&&(n.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var i,o=e.document;i=n.getNextParagraph();)!i.isReadOnly()&&(!n.activeFilter||n.activeFilter.check(this))&&c(i,g(this,o,i));e.moveToBookmark(t)}function l(e){var t,n,i=e.createBookmark(1),o=e.createIterator();for(o.enforceRealBlocks=!0,o.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;t=o.getNextParagraph();)this.checkElementRemovable(t)&&(t.is("pre")?((n=this._.enterMode==CKEDITOR.ENTER_BR?null:e.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))&&t.copyAttributes(n),c(t,n)):d.call(this,t));e.moveToBookmark(i)}function c(e,t){(n=!t)&&(t=e.getDocument().createElement("div"),e.copyAttributes(t));var n,i,o=t&&t.is("pre"),r=e.is("pre"),a=!o&&r;if(o&&!r){if(r=t,(a=e.getBogus())&&a.remove(),a=(a=(a=(a=u(a=e.getHtml(),/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"")).replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1")).replace(/([ \t\n\r]+|&nbsp;)/g," ")).replace(/<br\b[^>]*>/gi,"\n"),CKEDITOR.env.ie){var s=e.getDocument().createElement("div");s.append(r),r.$.outerHTML="<pre>"+a+"</pre>",r.copyAttributes(s.getFirst()),r=s.getFirst().remove()}else r.setHtml(a);t=r}else a?t=function(e,t){var n;1<e.length&&(n=new CKEDITOR.dom.documentFragment(t.getDocument()));for(var i=0;i<e.length;i++){var o=u(o=(o=e[i]).replace(/(\r\n|\r)/g,"\n"),/^[ \t]*\n/,"");if(o=u(o,/\n$/,""),o=u(o,/^[ \t]+|[ \t]+$/g,(function(e,t){return 1==e.length?"&nbsp;":t?" "+CKEDITOR.tools.repeat("&nbsp;",e.length-1):CKEDITOR.tools.repeat("&nbsp;",e.length-1)+" "})),o=(o=o.replace(/\n/g,"<br>")).replace(/[ \t]{2,}/g,(function(e){return CKEDITOR.tools.repeat("&nbsp;",e.length-1)+" "})),n){var r=t.clone();r.setHtml(o),n.append(r)}else t.setHtml(o)}return n||t}(n?[e.getHtml()]:function(e){var t=[];return u(e.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,(function(e,t,n){return t+"</pre>"+n+"<pre>"})).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,(function(e,n){t.push(n)})),t}(e),t):e.moveChildren(t);t.replace(e),o?(i=(n=t).getPrevious(_))&&i.type==CKEDITOR.NODE_ELEMENT&&i.is("pre")&&(o=u(i.getHtml(),/\n$/,"")+"\n\n"+u(n.getHtml(),/^\n/,""),CKEDITOR.env.ie?n.$.outerHTML="<pre>"+o+"</pre>":n.setHtml(o),i.remove()):n&&p(t)}function u(e,t,n){var i="",o="";return e=e.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,(function(e,t,n){return t&&(i=t),n&&(o=n),""})),i+e.replace(t,n)+o}function d(e,t){var n,i=(o=this._.definition).attributes,o=o.styles,r=v(this)[e.getName()],a=CKEDITOR.tools.isEmpty(i)&&CKEDITOR.tools.isEmpty(o);for(n in i)("class"!=n&&!this._.definition.fullMatch||e.getAttribute(n)==T(n,i[n]))&&(t&&"data-"==n.slice(0,5)||(a=e.hasAttribute(n),e.removeAttribute(n)));for(var s in o)this._.definition.fullMatch&&e.getStyle(s)!=T(s,o[s],!0)||(a=a||!!e.getStyle(s),e.removeStyle(s));f(e,r,y[e.getName()]),a&&(this._.definition.alwaysRemoveElement?p(e,1):!CKEDITOR.dtd.$block[e.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!e.hasAttributes()?p(e):e.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function h(e){for(var t,n=v(this),i=e.getElementsByTag(this.element),o=i.count();0<=--o;)(t=i.getItem(o)).isReadOnly()||d.call(this,t,!0);for(var r in n)if(r!=this.element)for(o=(i=e.getElementsByTag(r)).count()-1;0<=o;o--)(t=i.getItem(o)).isReadOnly()||f(t,n[r])}function f(e,t,n){if(t=t&&t.attributes)for(var i=0;i<t.length;i++){var o,r=t[i][0];if(o=e.getAttribute(r)){var a=t[i][1];(null===a||a.test&&a.test(o)||"string"==typeof a&&o==a)&&e.removeAttribute(r)}}n||p(e)}function p(e,t){if(!e.hasAttributes()||t)if(CKEDITOR.dtd.$block[e.getName()]){var n=e.getPrevious(_),i=e.getNext(_);!n||n.type!=CKEDITOR.NODE_TEXT&&n.isBlockBoundary({br:1})||e.append("br",1),!i||i.type!=CKEDITOR.NODE_TEXT&&i.isBlockBoundary({br:1})||e.append("br"),e.remove(!0)}else n=e.getFirst(),i=e.getLast(),e.remove(!0),n&&(n.type==CKEDITOR.NODE_ELEMENT&&n.mergeSiblings(),i&&!n.equals(i)&&i.type==CKEDITOR.NODE_ELEMENT&&i.mergeSiblings())}function g(e,t,n){var i;return"*"==(i=e.element)&&(i="span"),i=new CKEDITOR.dom.element(i,t),n&&n.copyAttributes(i),i=m(i,e),t.getCustomData("doc_processing_style")&&i.hasAttribute("id")?i.removeAttribute("id"):t.setCustomData("doc_processing_style",1),i}function m(e,t){var n=(i=t._.definition).attributes,i=CKEDITOR.style.getStyleText(i);if(n)for(var o in n)e.setAttribute(o,n[o]);return i&&e.setAttribute("style",i),e.getDocument().removeCustomData("doc_processing_style"),e}function E(e,t){for(var n in e)e[n]=e[n].replace(D,(function(e,n){return t[n]}))}function v(e){if(e._.overrides)return e._.overrides;var t=e._.overrides={},n=e._.definition.overrides;if(n){CKEDITOR.tools.isArray(n)||(n=[n]);for(var i=0;i<n.length;i++){var o,r;if("string"==typeof(s=n[i])?o=s.toLowerCase():(o=s.element?s.element.toLowerCase():e.element,r=s.attributes),s=t[o]||(t[o]={}),r){var a,s=s.attributes=s.attributes||[];for(a in r)s.push([a.toLowerCase(),r[a]])}}}return t}function T(e,t,n){var i=new CKEDITOR.dom.element("span");return i[n?"setStyle":"setAttribute"](e,t),i[n?"getStyle":"getAttribute"](e)}function b(e,t){function n(e,t){return"font-family"==t.toLowerCase()?e.replace(/["']/g,""):e}for(var i in"string"==typeof e&&(e=CKEDITOR.tools.parseCssText(e)),"string"==typeof t&&(t=CKEDITOR.tools.parseCssText(t,!0)),e)if(!(i in t)||n(t[i],i)!=n(e[i],i)&&"inherit"!=e[i]&&"inherit"!=t[i])return!1;return!0}function C(e,t,n){var i=e.getRanges();t=t?this.removeFromRange:this.applyToRange;for(var o,r=i.createIterator();o=r.getNextRange();)t.call(this,o,n);e.selectRanges(i)}var y={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},O={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},I=/\s*(?:;\s*|$)/,D=/#\((.+?)\)/g,R=CKEDITOR.dom.walker.bookmark(0,1),_=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(e,t){if("string"==typeof e.type)return new CKEDITOR.style.customHandlers[e.type](e);var n=e.attributes;n&&n.style&&(e.styles=CKEDITOR.tools.extend({},e.styles,CKEDITOR.tools.parseCssText(n.style)),delete n.style),t&&(E((e=CKEDITOR.tools.clone(e)).attributes,t),E(e.styles,t)),n=this.element=e.element?"string"==typeof e.element?e.element.toLowerCase():e.element:"*",this.type=e.type||(y[n]?CKEDITOR.STYLE_BLOCK:O[n]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE),"object"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT),this._={definition:e}},CKEDITOR.style.prototype={apply:function(e){if(e instanceof CKEDITOR.dom.document)return C.call(this,e.getSelection());if(this.checkApplicable(e.elementPath(),e)){var t=this._.enterMode;t||(this._.enterMode=e.activeEnterMode),C.call(this,e.getSelection(),0,e),this._.enterMode=t}},remove:function(e){if(e instanceof CKEDITOR.dom.document)return C.call(this,e.getSelection(),1);if(this.checkApplicable(e.elementPath(),e)){var t=this._.enterMode;t||(this._.enterMode=e.activeEnterMode),C.call(this,e.getSelection(),1,e),this._.enterMode=t}},applyToRange:function(e){return this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?n:this.type==CKEDITOR.STYLE_BLOCK?s:this.type==CKEDITOR.STYLE_OBJECT?r:null,this.applyToRange(e)},removeFromRange:function(e){return this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?i:this.type==CKEDITOR.STYLE_BLOCK?l:this.type==CKEDITOR.STYLE_OBJECT?a:null,this.removeFromRange(e)},applyToObject:function(e){m(e,this)},checkActive:function(e,t){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(e.block||e.blockLimit,!0,t);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var n,i=e.elements,o=0;o<i.length;o++)if(n=i[o],this.type!=CKEDITOR.STYLE_INLINE||n!=e.block&&n!=e.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var r=n.getName();if(!("string"==typeof this.element?r==this.element:r in this.element))continue}if(this.checkElementRemovable(n,!0,t))return!0}}return!1},checkApplicable:function(e,t,n){if(t&&t instanceof CKEDITOR.filter&&(n=t),n&&!n.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!e.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!e.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(e,t){var n=this._.definition;if(!e||!n.ignoreReadonly&&e.isReadOnly())return!1;var i=e.getName();if("string"==typeof this.element?i==this.element:i in this.element){if(!t&&!e.hasAttributes())return!0;if(i=n._AC)n=i;else{i={};var o=0,r=n.attributes;if(r)for(var a in r)o++,i[a]=r[a];(a=CKEDITOR.style.getStyleText(n))&&(i.style||o++,i.style=a),i._length=o,n=n._AC=i}if(!n._length)return!0;for(var s in n)if("_length"!=s)if(i=e.getAttribute(s)||"","style"==s?b(n[s],i):n[s]==i){if(!t)return!0}else if(t)return!1;if(t)return!0}return!1},checkElementRemovable:function(e,t,n){if(this.checkElementMatch(e,t,n))return!0;if(t=v(this)[e.getName()]){var i;if(!(t=t.attributes))return!0;for(n=0;n<t.length;n++)if(i=t[n][0],i=e.getAttribute(i)){var o=t[n][1];if(null===o)return!0;if("string"==typeof o){if(i==o)return!0}else if(o.test(i))return!0}}return!1},buildPreview:function(e){var t=this._.definition,n=[],i=t.element;"bdo"==i&&(i="span"),n=["<",i];var o=t.attributes;if(o)for(var r in o)n.push(" ",r,'="',o[r],'"');return(o=CKEDITOR.style.getStyleText(t))&&n.push(' style="',o,'"'),n.push(">",e||t.name,"</",i,">"),n.join("")},getDefinition:function(){return this._.definition}},CKEDITOR.style.getStyleText=function(e){if(t=e._ST)return t;var t=e.styles,n=e.attributes&&e.attributes.style||"",i="";for(var o in n.length&&(n=n.replace(I,";")),t){var r=t[o],a=(o+":"+r).replace(I,";");"inherit"==r?i+=a:n+=a}return n.length&&(n=CKEDITOR.tools.normalizeCssText(n,!0)),e._ST=n+i},CKEDITOR.style.customHandlers={},CKEDITOR.style.unstylableElements=[],CKEDITOR.style.addCustomHandler=function(e){var t=function(e){this._={definition:e},this.setup&&this.setup(e)};return t.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},e,!0),this.customHandlers[e.type]=t};var w=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,k=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(e,t){this.requiredContent=this.allowedContent=this.style=e,CKEDITOR.tools.extend(this,t,!0)},CKEDITOR.styleCommand.prototype.exec=function(e){e.focus(),this.state==CKEDITOR.TRISTATE_OFF?e.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&e.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(e,t,n){CKEDITOR.stylesSet.addExternal(e,t,""),CKEDITOR.stylesSet.load(e,n)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(e,t){var n=this._.styleStateChangeCallbacks;n||(n=this._.styleStateChangeCallbacks=[],this.on("selectionChange",(function(e){for(var t=0;t<n.length;t++){var i=n[t],o=i.style.checkActive(e.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;i.fn.call(this,o)}}))),n.push({style:e,fn:t})},applyStyle:function(e){e.apply(this)},removeStyle:function(e){e.remove(this)},getStylesSet:function(e){if(this._.stylesDefinitions)e(this._.stylesDefinitions);else{var t=this;if(!1===(n=t.config.stylesCombo_stylesSet||t.config.stylesSet))e(null);else if(n instanceof Array)t._.stylesDefinitions=n,e(n);else{n||(n="default");var n,i=(n=n.split(":"))[0];CKEDITOR.stylesSet.addExternal(i,n[1]?n.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),""),CKEDITOR.stylesSet.load(i,(function(n){t._.stylesDefinitions=n[i],e(t._.stylesDefinitions)}))}}}}),function(){if(window.Promise)CKEDITOR.tools.promise=Promise;else{var e=CKEDITOR.getUrl("vendor/promise.js");if("function"==typeof window.define&&window.define.amd&&"function"==typeof window.require)return window.require([e],(function(e){CKEDITOR.tools.promise=e}));CKEDITOR.scriptLoader.load(e,(function(t){return t?void 0!==window.ES6Promise?CKEDITOR.tools.promise=ES6Promise:void 0:CKEDITOR.error("no-vendor-lib",{path:e})}))}}(),function(){function e(e,i,o){e.once("selectionCheck",(function(e){if(!t){var r=e.data.getRanges()[0];o.equals(r)?e.cancel():i.equals(r)&&(n=!0)}}),null,null,-1)}var t=!0,n=!1;CKEDITOR.dom.selection.setupEditorOptimization=function(e){e.on("selectionCheck",(function(e){e.data&&!n&&e.data.optimizeInElementEnds(),n=!1})),e.on("contentDom",(function(){var t=e.editable();t&&(t.attachListener(t,"keydown",(function(e){this._.shiftPressed=e.data.$.shiftKey}),this),t.attachListener(t,"keyup",(function(e){this._.shiftPressed=e.data.$.shiftKey}),this))}))},CKEDITOR.dom.selection.prototype.optimizeInElementEnds=function(){var n,i=this.getRanges()[0],o=this.root.editor;if(this.root.editor._.shiftPressed||this.isFake||i.isCollapsed||i.startContainer.equals(i.endContainer)||(i.endContainer.is?i.endContainer.is("li"):i.endContainer.getParent().is&&i.endContainer.getParent().is("li")))n=!1;else if(0===i.endOffset)n=!0;else{n=i.startContainer.type===CKEDITOR.NODE_TEXT;var r=i.endContainer.type===CKEDITOR.NODE_TEXT,a=n?i.startContainer.getLength():i.startContainer.getChildCount();n=i.startOffset===a||n^r}n&&(n=i.clone(),i.shrink(CKEDITOR.SHRINK_TEXT,!1,{skipBogus:!CKEDITOR.env.webkit}),t=!1,e(o,i,n),i.select(),t=!0)}}(),function(){function e(e,t){return n(e)?e=Math.round(t*(parseFloat(e)/100)):("string"==typeof e&&e.match(/^\d+$/gm)||"string"==typeof e&&e.match(/^\d+(?:deg)?$/gm))&&(e=parseInt(e,10)),e}function t(e,t){return n(e)?e=t*(parseFloat(e)/100):"string"==typeof e&&e.match(/^\d?\.\d+/gm)&&(e=parseFloat(e)),e}function n(e){return"string"==typeof e&&e.match(/^((\d*\.\d+)|(\d+))%{1}$/gm)}function i(e,t,n){return!isNaN(e)&&e>=t&&e<=n}function o(e){return 1==(e=e.toString(16)).length?"0"+e:e}CKEDITOR.tools.color=CKEDITOR.tools.createClass({$:function(e,t){this._.initialColorCode=e,this._.defaultValue=t,this._.parseInput(e)},proto:{getHex:function(){if(!this._.isValidColor)return this._.defaultValue;var e=this._.blendAlphaColor(this._.red,this._.green,this._.blue,this._.alpha);return this._.formatHexString(e[0],e[1],e[2])},getHexWithAlpha:function(){if(!this._.isValidColor)return this._.defaultValue;var e=Math.round(this._.alpha*CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE);return this._.formatHexString(this._.red,this._.green,this._.blue,e)},getRgb:function(){if(!this._.isValidColor)return this._.defaultValue;var e=this._.blendAlphaColor(this._.red,this._.green,this._.blue,this._.alpha);return this._.formatRgbString("rgb",e[0],e[1],e[2])},getRgba:function(){return this._.isValidColor?this._.formatRgbString("rgba",this._.red,this._.green,this._.blue,this._.alpha):this._.defaultValue},getHsl:function(){var e=0===this._.alpha||1===this._.alpha;return this._.isValidColor?(this._.type===CKEDITOR.tools.color.TYPE_HSL&&e?e=[this._.hue,this._.saturation,this._.lightness]:(e=this._.blendAlphaColor(this._.red,this._.green,this._.blue,this._.alpha),e=this._.rgbToHsl(e[0],e[1],e[2])),this._.formatHslString("hsl",e[0],e[1],e[2])):this._.defaultValue},getHsla:function(){var e;return this._.isValidColor?(e=this._.type===CKEDITOR.tools.color.TYPE_HSL?[this._.hue,this._.saturation,this._.lightness]:this._.rgbToHsl(this._.red,this._.green,this._.blue),this._.formatHslString("hsla",e[0],e[1],e[2],this._.alpha)):this._.defaultValue},getInitialValue:function(){return this._.initialColorCode}},_:{initialColorCode:"",isValidColor:!0,type:0,hue:0,saturation:0,lightness:0,red:0,green:0,blue:0,alpha:1,blendAlphaColor:function(e,t,n,i){return CKEDITOR.tools.array.map([e,t,n],(function(e){return Math.round(CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE-i*(CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE-e))}))},formatHexString:function(e,t,n,i){return e="#"+o(e)+o(t)+o(n),void 0!==i&&(e+=o(i)),e.toUpperCase()},formatRgbString:function(e,t,n,i,o){return t=[t,n,i],void 0!==o&&t.push(o),e+"("+t.join(",")+")"},formatHslString:function(e,t,n,i,o){return e+"("+t+","+n+"%,"+i+"%"+(void 0!==o?","+o:"")+")"},parseInput:function(e){if("string"!=typeof e)this._.isValidColor=!1;else{e=CKEDITOR.tools.trim(e),(t=this._.matchStringToNamedColor(e))&&(e=t);var t=this._.extractColorChannelsFromHex(e),n=this._.extractColorChannelsFromRgba(e);e=this._.extractColorChannelsFromHsla(e),(e=t||n||e)?(this._.type=e.type,this._.red=e.red,this._.green=e.green,this._.blue=e.blue,this._.alpha=e.alpha,e.type===CKEDITOR.tools.color.TYPE_HSL&&(this._.hue=e.hue,this._.saturation=e.saturation,this._.lightness=e.lightness)):this._.isValidColor=!1}},matchStringToNamedColor:function(e){return CKEDITOR.tools.color.namedColors[e.toLowerCase()]||null},extractColorChannelsFromHex:function(e){if(-1===e.indexOf("#")&&(e="#"+e),e.match(CKEDITOR.tools.color.hex3CharsRegExp)&&(e=this._.hex3ToHex6(e)),e.match(CKEDITOR.tools.color.hex4CharsRegExp)&&(e=this._.hex4ToHex8(e)),!e.match(CKEDITOR.tools.color.hex6CharsRegExp)&&!e.match(CKEDITOR.tools.color.hex8CharsRegExp))return null;var t=1;return(e=e.split(""))[7]&&e[8]&&(t=parseInt(e[7]+e[8],16),t/=CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE,t=Number(t.toFixed(1))),{type:CKEDITOR.tools.color.TYPE_RGB,red:parseInt(e[1]+e[2],16),green:parseInt(e[3]+e[4],16),blue:parseInt(e[5]+e[6],16),alpha:t}},extractColorChannelsFromRgba:function(n){var i=this._.extractColorChannelsByPattern(n,CKEDITOR.tools.color.rgbRegExp);if(!i||3>i.length||4<i.length)return null;var o=4===i.length;n=e(i[0],CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE);var r=e(i[1],CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE),a=e(i[2],CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE),s=1;return o&&(s=t(i[3],CKEDITOR.tools.color.MAX_ALPHA_CHANNEL_VALUE)),i={type:CKEDITOR.tools.color.TYPE_RGB,red:n,green:r,blue:a,alpha:s},this._.areColorChannelsValid(n,r,a,s)?i:null},extractColorChannelsFromHsla:function(n){var i=this._.extractColorChannelsByPattern(n,CKEDITOR.tools.color.hslRegExp);if(!i||3>i.length||4<i.length)return null;var o=4===i.length,r=e(i[0],CKEDITOR.tools.color.MAX_HUE_CHANNEL_VALUE),a=t(i[1],CKEDITOR.tools.color.MAX_SATURATION_LIGHTNESS_CHANNEL_VALUE),s=t(i[2],CKEDITOR.tools.color.MAX_SATURATION_LIGHTNESS_CHANNEL_VALUE),l=1;return n=this._.hslToRgb(r,a,s),o&&(l=t(i[3],CKEDITOR.tools.color.MAX_ALPHA_CHANNEL_VALUE)),n.push(l),i={type:CKEDITOR.tools.color.TYPE_HSL,red:n[0],green:n[1],blue:n[2],alpha:n[3],hue:r,saturation:Math.round(100*a),lightness:Math.round(100*s)},this._.areColorChannelsValid(n[0],n[1],n[2],n[3])?i:null},hex3ToHex6:function(e){return"#"+(e=e.split(""))[1]+e[1]+e[2]+e[2]+e[3]+e[3]},hex4ToHex8:function(e){return this._.hex3ToHex6(e.substr(0,4))+CKEDITOR.tools.repeat(e[4],2)},extractColorChannelsByPattern:function(e,t){var n=e.match(t);if(!n)return null;var i=-1===n[1].indexOf(",")?/\s/:",";return i=n[1].split(i),i=CKEDITOR.tools.array.reduce(i,(function(e,t){var n=CKEDITOR.tools.trim(t);return 0===n.length?e:e.concat([n])}),[]),n[2]&&(n=CKEDITOR.tools.trim(n[2].replace(/[\/,]/,"")),i.push(n)),i},areColorChannelsValid:function(e,t,n,o){return i(e,0,CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE)&&i(t,0,CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE)&&i(n,0,CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE)&&i(o,0,CKEDITOR.tools.color.MAX_ALPHA_CHANNEL_VALUE)},hslToRgb:function(e,t,n){var i=function(i){var o=(i+e/30)%12;return i=t*Math.min(n,1-n),o=Math.min(o-3,9-o,1),o=Math.max(-1,o),Math.round((n-i*o)*CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE)};return[i(0),i(8),i(4)]},rgbToHsl:function(e,t,n){e/=CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE,t/=CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE;var i=n/CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE,o=Math.max(e,t,i),r=Math.min(e,t,i);n=o-r;var a=0;switch(o){case e:a=(t-i)/n%6;break;case t:a=(i-e)/n+2;break;case i:a=(e-t)/n+4}return e=0===n?0:60*a,t=(o+r)/2,o=0,1!==t&&0!==t&&(o=n/(1-Math.abs(2*t-1))),[e=Math.round(e),o=Math.round(100*o),t=Math.round(100*t)]}},statics:{TYPE_RGB:1,TYPE_HSL:2,MAX_RGB_CHANNEL_VALUE:255,MAX_ALPHA_CHANNEL_VALUE:1,MAX_HUE_CHANNEL_VALUE:360,MAX_SATURATION_LIGHTNESS_CHANNEL_VALUE:1,hex3CharsRegExp:/#([0-9a-f]{3}$)/gim,hex4CharsRegExp:/#([0-9a-f]{4}$)/gim,hex6CharsRegExp:/#([0-9a-f]{6}$)/gim,hex8CharsRegExp:/#([0-9a-f]{8}$)/gim,rgbRegExp:/rgba?\(([.,\d\s%]*)(\s*\/\s*[\d.%]+)?\s*\)/i,hslRegExp:/hsla?\((\s*(?:[.\d]+(?:deg)?)(?:\s*,?\s*[.\d]+%){2})((?:(?:\s*\/\s*)|(?:\s*,\s*))[\d.]+%?)?\s*\)/i,namedColors:{aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",windowtext:"windowtext",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}}}),CKEDITOR.tools.style.parse._colors=CKEDITOR.tools.color.namedColors}(),CKEDITOR.dom.comment=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createComment(e)),CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"\x3c!--"+this.$.nodeValue+"--\x3e"}}),function(){var e,t={},n={};for(e in CKEDITOR.dtd.$blockLimit)e in CKEDITOR.dtd.$list||(t[e]=1);for(e in CKEDITOR.dtd.$block)e in CKEDITOR.dtd.$blockLimit||e in CKEDITOR.dtd.$empty||(n[e]=1);CKEDITOR.dom.elementPath=function(e,i){var o,r=null,a=null,s=[],l=e;i=i||e.getDocument().getBody(),l||(l=i);do{if(l.type==CKEDITOR.NODE_ELEMENT){if(s.push(l),!this.lastElement&&(this.lastElement=l,l.is(CKEDITOR.dtd.$object)||"false"==l.getAttribute("contenteditable")))continue;if(l.equals(i))break;if(!a&&(o=l.getName(),"true"==l.getAttribute("contenteditable")?a=l:!r&&n[o]&&(r=l),t[o])){if(o=!r&&"div"==o){e:{for(var c=0,u=(o=l.getChildren()).count();c<u;c++){var d=o.getItem(c);if(d.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[d.getName()]){o=!0;break e}}o=!1}o=!o}o?r=l:a=l}}}while(l=l.getParent());a||(a=i),this.block=r,this.blockLimit=a,this.root=i,this.elements=s}}(),CKEDITOR.dom.elementPath.prototype={compare:function(e){var t=this.elements;if(!(e=e&&e.elements)||t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0},contains:function(e,t,n){var i,o=0;"string"==typeof e&&(i=function(t){return t.getName()==e}),e instanceof CKEDITOR.dom.element?i=function(t){return t.equals(e)}:CKEDITOR.tools.isArray(e)?i=function(t){return-1<CKEDITOR.tools.indexOf(e,t.getName())}:"function"==typeof e?i=e:"object"==typeof e&&(i=function(t){return t.getName()in e});var r=this.elements,a=r.length;for(t&&(n?o+=1:--a),n&&(r=Array.prototype.slice.call(r,0)).reverse();o<a;o++)if(i(r[o]))return r[o];return null},isContextFor:function(e){return!(e in CKEDITOR.dtd.$block)||!!(this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit).getDtd()[e]},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}},CKEDITOR.dom.text=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createTextNode(e)),this.$=e},CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(e){this.$.nodeValue=e},isEmpty:function(e){var t=this.getText();return e&&(t=CKEDITOR.tools.trim(t)),!t||t===CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE},split:function(e){var t=this.$.parentNode,n=t.childNodes.length,i=this.getLength(),o=this.getDocument(),r=new CKEDITOR.dom.text(this.$.splitText(e),o);return t.childNodes.length==n&&(e>=i?(r=o.createText("")).insertAfter(this):((e=o.createText("")).insertAfter(r),e.remove())),r},substring:function(e,t){return"number"!=typeof t?this.$.nodeValue.substr(e):this.$.nodeValue.substring(e,t)}}),function(){function e(e,t,n){var i=e.serializable,o=t[n?"endContainer":"startContainer"],r=n?"endOffset":"startOffset",a=i?t.document.getById(e.startNode):e.startNode;return e=i?t.document.getById(e.endNode):e.endNode,o.equals(a.getPrevious())?(t.startOffset=t.startOffset-o.getLength()-e.getPrevious().getLength(),o=e.getNext()):o.equals(e.getPrevious())&&(t.startOffset-=o.getLength(),o=e.getNext()),o.equals(a.getParent())&&t[r]++,o.equals(e.getParent())&&t[r]++,t[n?"endContainer":"startContainer"]=o,t}CKEDITOR.dom.rangeList=function(e){return e instanceof CKEDITOR.dom.rangeList?e:(e?e instanceof CKEDITOR.dom.range&&(e=[e]):e=[],CKEDITOR.tools.extend(e,t))};var t={createIterator:function(){var e,t=this,n=CKEDITOR.dom.walker.bookmark(),i=[];return{getNextRange:function(o){var r=t[e=void 0===e?0:e+1];if(r&&1<t.length){if(!e)for(var a=t.length-1;0<=a;a--)i.unshift(t[a].createBookmark(!0));if(o)for(var s=0;t[e+s+1];){var l=r.document;for(o=0,a=l.getById(i[s].endNode),l=l.getById(i[s+1].startNode);;){if(a=a.getNextSourceNode(!1),l.equals(a))o=1;else if(n(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary())continue;break}if(!o)break;s++}for(r.moveToBookmark(i.shift());s--;)(a=t[++e]).moveToBookmark(i.shift()),r.setEnd(a.endContainer,a.endOffset)}return r}}},createBookmarks:function(t){for(var n,i=[],o=0;o<this.length;o++){i.push(n=this[o].createBookmark(t,!0));for(var r=o+1;r<this.length;r++)this[r]=e(n,this[r]),this[r]=e(n,this[r],!0)}return i},createBookmarks2:function(e){for(var t=[],n=0;n<this.length;n++)t.push(this[n].createBookmark2(e));return t},moveToBookmarks:function(e){for(var t=0;t<this.length;t++)this[t].moveToBookmark(e[t])}}}(),function(){function e(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/")}function t(t){var n=CKEDITOR.skin["ua_"+t],i=CKEDITOR.env;if(n){n=n.split(",").sort((function(e,t){return e>t?-1:1}));for(var o,r=0;r<n.length;r++)if(o=n[r],i.ie&&(o.replace(/^ie/,"")==i.version||i.quirks&&"iequirks"==o)&&(o="ie"),i[o]){t+="_"+n[r];break}}return CKEDITOR.getUrl(e()+t+".css")}function n(e,n){r[e]||(CKEDITOR.document.appendStyleSheet(t(e)),r[e]=1),n&&n()}function i(e){var t=e.getById(a);return t||((t=e.getHead().append("style")).setAttribute("id",a),t.setAttribute("type","text/css")),t}function o(e,t,n){var i,o,r;if(CKEDITOR.env.webkit)for(t=t.split("}").slice(0,-1),o=0;o<t.length;o++)t[o]=t[o].split("{");for(var a=0;a<e.length;a++)if(CKEDITOR.env.webkit)for(o=0;o<t.length;o++){for(r=t[o][1],i=0;i<n.length;i++)r=r.replace(n[i][0],n[i][1]);e[a].$.sheet.addRule(t[o][0],r)}else{for(r=t,i=0;i<n.length;i++)r=r.replace(n[i][0],n[i][1]);CKEDITOR.env.ie&&11>CKEDITOR.env.version?e[a].$.styleSheet.cssText+=r:e[a].$.innerHTML+=r}}var r={};CKEDITOR.skin={path:e,loadPart:function(t,i){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e()+"skin.js"),(function(){n(t,i)})):n(t,i)},getPath:function(e){return CKEDITOR.getUrl(t(e))},icons:{},addIcon:function(e,t,n,i){e=e.toLowerCase(),this.icons[e]||(this.icons[e]={path:t,offset:n||0,bgsize:i||"16px"})},getIconStyle:function(e,t,n,i,o){var r;return e&&(e=e.toLowerCase(),t&&(r=this.icons[e+"-rtl"]),r||(r=this.icons[e])),e=n||r&&r.path||"",i=i||r&&r.offset,o=o||r&&r.bgsize||"16px",e&&(e=e.replace(/'/g,"\\'")),e&&"background-image:url('"+CKEDITOR.getUrl(e)+"');background-position:0 "+i+"px;background-size:"+o+";"}},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(e){var t=i(CKEDITOR.document);return(this.setUiColor=function(e){this.uiColor=e;var n=CKEDITOR.skin.chameleon,i="",r="";"function"==typeof n&&(i=n(this,"editor"),r=n(this,"panel")),o([t],i,e=[[l,e]]),o(s,r,e)}).call(this,e)}});var a="cke_ui_color",s=[],l=/\$color/g;CKEDITOR.on("instanceLoaded",(function(e){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var t=e.editor;e=function(e){if(!(e=(e.data[0]||e.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument()).getById("cke_ui_color")){var n=i(e);s.push(n),t.on("destroy",(function(){s=CKEDITOR.tools.array.filter(s,(function(e){return n!==e}))})),(e=t.getUiColor())&&o([n],CKEDITOR.skin.chameleon(t,"panel"),[[l,e]])}},t.on("panelShow",e),t.on("menuShow",e),t.config.uiColor&&t.setUiColor(t.config.uiColor)}}))}(),function(){var e=CKEDITOR.dom.element.createFromHtml('<div style="width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"></div>',CKEDITOR.document);e.appendTo(CKEDITOR.document.getHead());try{var t=e.getComputedStyle("border-top-color"),n=e.getComputedStyle("border-right-color");CKEDITOR.env.hc=!(!t||t!=n)}catch(e){CKEDITOR.env.hc=!1}if(e.remove(),CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=" cke_hc"),CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}"),CKEDITOR.status="loaded",CKEDITOR.fireOnce("loaded"),e=CKEDITOR._.pending)for(delete CKEDITOR._.pending,t=0;t<e.length;t++)CKEDITOR.editor.prototype.constructor.apply(e[t][0],e[t][1]),CKEDITOR.add(e[t][0])}(),CKEDITOR.skin.name="moono-lisa",CKEDITOR.skin.ua_editor="ie,iequirks,ie8,gecko",CKEDITOR.skin.ua_dialog="ie,iequirks,ie8",CKEDITOR.skin.chameleon=function(){var e=function(e,t){for(var n=e.match(/[^#]./g),i=0;3>i;i++){var o,r=i;o=parseInt(n[i],16),o=("0"+(0>t?0|o*(1+t):0|o+(255-o)*t).toString(16)).slice(-2),n[r]=o}return"#"+n.join("")},t={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_bottom [background-color:{defaultBackground};border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [background-color:{defaultBackground};outline-color:{defaultBorder};] {id} .cke_dialog_tab [background-color:{dialogTab};border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [background-color:{lightBackground};] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} a.cke_button_off:hover,{id} a.cke_button_off:focus,{id} a.cke_button_off:active [background-color:{darkBackground};border-color:{toolbarElementsBorder};] {id} .cke_button_on [background-color:{ckeButtonOn};border-color:{toolbarElementsBorder};] {id} .cke_toolbar_separator,{id} .cke_toolgroup a.cke_button:last-child:after,{id} .cke_toolgroup a.cke_button.cke_button_disabled:hover:last-child:after [background-color: {toolbarElementsBorder};border-color: {toolbarElementsBorder};] {id} a.cke_combo_button:hover,{id} a.cke_combo_button:focus,{id} .cke_combo_on a.cke_combo_button [border-color:{toolbarElementsBorder};background-color:{darkBackground};] {id} .cke_combo:after [border-color:{toolbarElementsBorder};] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover,{id} a.cke_path_item:focus,{id} a.cke_path_item:active [background-color:{darkBackground};] {id}.cke_panel [border-color:{defaultBorder};] "),panel:new CKEDITOR.template(".cke_panel_grouptitle [background-color:{lightBackground};border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover,.cke_menubutton:focus,.cke_menubutton:active [background-color:{menubuttonHover};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menubutton_disabled:hover .cke_menubutton_icon,.cke_menubutton_disabled:focus .cke_menubutton_icon,.cke_menubutton_disabled:active .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")};return function(n,i){var o=e(n.uiColor,.4);return o={id:"."+n.id,defaultBorder:e(o,-.2),toolbarElementsBorder:e(o,-.25),defaultBackground:o,lightBackground:e(o,.8),darkBackground:e(o,-.15),ckeButtonOn:e(o,.4),ckeResizer:e(o,-.4),ckeColorauto:e(o,.8),dialogBody:e(o,.7),dialogTab:e(o,.65),dialogTabSelected:"#FFF",dialogTabSelectedBorder:"#FFF",elementsPathColor:e(o,-.6),menubuttonHover:e(o,.1),menubuttonIcon:e(o,.5),menubuttonIconHover:e(o,.3)},t[i].output(o).replace(/\[/g,"{").replace(/\]/g,"}")}}(),CKEDITOR.plugins.add("dialogui",{onLoad:function(){var e=function(e){this._||(this._={}),this._.default=this._.initValue=e.default||"",this._.required=e.required||!1;for(var t=[this._],n=1;n<arguments.length;n++)t.push(arguments[n]);return t.push(!0),CKEDITOR.tools.extend.apply(CKEDITOR.tools,t),this._},t={build:function(e,t,n){return new CKEDITOR.ui.dialog.textInput(e,t,n)}},n={build:function(e,t,n){return new CKEDITOR.ui.dialog[t.type](e,t,n)}},i={isChanged:function(){return this.getValue()!=this.getInitValue()},reset:function(e){this.setValue(this.getInitValue(),e)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._.default},getInitValue:function(){return this._.initValue}},o=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(e,t){this._.domOnChangeRegistered||(e.on("load",(function(){this.getInputElement().on("change",(function(){e.parts.dialog.isVisible()&&this.fire("change",{value:this.getValue()})}),this)}),this),this._.domOnChangeRegistered=!0),this.on("change",t)}},!0),r=/^on([A-Z]\w+)/,a=function(e){for(var t in e)(r.test(t)||"title"==t||"type"==t)&&delete e[t];return e},s=function(e){(e=e.data.getKeystroke())==CKEDITOR.SHIFT+CKEDITOR.ALT+36?this.setDirectionMarker("ltr"):e==CKEDITOR.SHIFT+CKEDITOR.ALT+35&&this.setDirectionMarker("rtl")};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(t,n,i,o){if(!(4>arguments.length)){var r=e.call(this,n);r.labelId=CKEDITOR.tools.getNextId()+"_label",this._.children=[];var a={role:n.role||"presentation"};n.includeLabel&&(a["aria-labelledby"]=r.labelId),CKEDITOR.ui.dialog.uiElement.call(this,t,n,i,"div",null,a,(function(){var e=[],i=n.required?" cke_required":"";return"horizontal"!=n.labelLayout?e.push('<label class="cke_dialog_ui_labeled_label'+i+'" ',' id="'+r.labelId+'"',r.inputId?' for="'+r.inputId+'"':"",(n.labelStyle?' style="'+n.labelStyle+'"':"")+">",n.required?n.label+'<span class="cke_dialog_ui_labeled_required" aria-hidden="true">*</span>':n.label,"</label>",'<div class="cke_dialog_ui_labeled_content"',n.controlStyle?' style="'+n.controlStyle+'"':"",' role="presentation">',o.call(this,t,n),"</div>"):(i={type:"hbox",widths:n.widths,padding:0,children:[{type:"html",html:'<label class="cke_dialog_ui_labeled_label'+i+'" id="'+r.labelId+'" for="'+r.inputId+'"'+(n.labelStyle?' style="'+n.labelStyle+'"':"")+">"+CKEDITOR.tools.htmlEncode(n.label)+"</label>"},{type:"html",html:'<span class="cke_dialog_ui_labeled_content"'+(n.controlStyle?' style="'+n.controlStyle+'"':"")+">"+o.call(this,t,n)+"</span>"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(t,i,e)),e.join("")}))}},textInput:function(t,n,i){if(!(3>arguments.length)){e.call(this,n);var o=this._.inputId=CKEDITOR.tools.getNextId()+"_textInput",r={class:"cke_dialog_ui_input_"+n.type,id:o,type:n.type};n.validate&&(this.validate=n.validate),n.maxLength&&(r.maxlength=n.maxLength),n.size&&(r.size=n.size),n.inputStyle&&(r.style=n.inputStyle);var a=this,l=!1;t.on("load",(function(){a.getInputElement().on("keydown",(function(e){13==e.data.getKeystroke()&&(l=!0)})),a.getInputElement().on("keyup",(function(e){13==e.data.getKeystroke()&&l&&(t.getButton("ok")&&setTimeout((function(){t.getButton("ok").click()}),0),l=!1),a.bidi&&s.call(a,e)}),null,null,1e3)})),CKEDITOR.ui.dialog.labeledElement.call(this,t,n,i,(function(){var e=['<div class="cke_dialog_ui_input_',n.type,'" role="presentation"'];for(var t in n.width&&e.push('style="width:'+n.width+'" '),e.push("><input "),r["aria-labelledby"]=this._.labelId,this._.required&&(r["aria-required"]=this._.required),r)e.push(t+'="'+r[t]+'" ');return e.push(" /></div>"),e.join("")}))}},textarea:function(t,n,i){if(!(3>arguments.length)){e.call(this,n);var o=this,r=this._.inputId=CKEDITOR.tools.getNextId()+"_textarea",a={};n.validate&&(this.validate=n.validate),a.rows=n.rows||5,a.cols=n.cols||20,a.class="cke_dialog_ui_input_textarea "+(n.class||""),void 0!==n.inputStyle&&(a.style=n.inputStyle),n.dir&&(a.dir=n.dir),o.bidi&&t.on("load",(function(){o.getInputElement().on("keyup",s)}),o),CKEDITOR.ui.dialog.labeledElement.call(this,t,n,i,(function(){a["aria-labelledby"]=this._.labelId,this._.required&&(a["aria-required"]=this._.required);var e,t=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea id="',r,'" '];for(e in a)t.push(e+'="'+CKEDITOR.tools.htmlEncode(a[e])+'" ');return t.push(">",CKEDITOR.tools.htmlEncode(o._.default),"</textarea></div>"),t.join("")}))}},checkbox:function(t,n,i){if(!(3>arguments.length)){var o=e.call(this,n,{default:!!n.default});n.validate&&(this.validate=n.validate),CKEDITOR.ui.dialog.uiElement.call(this,t,n,i,"span",null,null,(function(){var e=CKEDITOR.tools.extend({},n,{id:n.id?n.id+"_checkbox":CKEDITOR.tools.getNextId()+"_checkbox"},!0),i=[],r=CKEDITOR.tools.getNextId()+"_label",s={class:"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":r};return a(e),n.default&&(s.checked="checked"),void 0!==e.inputStyle&&(e.style=e.inputStyle),o.checkbox=new CKEDITOR.ui.dialog.uiElement(t,e,i,"input",null,s),i.push(' <label id="',r,'" for="',s.id,'"'+(n.labelStyle?' style="'+n.labelStyle+'"':"")+">",CKEDITOR.tools.htmlEncode(n.label),"</label>"),i.join("")}))}},radio:function(t,n,i){if(!(3>arguments.length)){e.call(this,n),this._.default||(this._.default=this._.initValue=n.items[0][1]),n.validate&&(this.validate=n.validate);var o=[],r=this;n.role="radiogroup",n.includeLabel=!0,CKEDITOR.ui.dialog.labeledElement.call(this,t,n,i,(function(){for(var e=[],i=[],s=(n.id?n.id:CKEDITOR.tools.getNextId())+"_radio",l=0;l<n.items.length;l++){var c=n.items[l],u=void 0!==c[2]?c[2]:c[0],d=void 0!==c[1]?c[1]:c[0],h=(f=CKEDITOR.tools.getNextId()+"_radio_input")+"_label",f=CKEDITOR.tools.extend({},n,{id:f,title:null,type:null},!0),p=(u=CKEDITOR.tools.extend({},f,{title:u},!0),{type:"radio",class:"cke_dialog_ui_radio_input",name:s,value:d,"aria-labelledby":h}),g=[];r._.default==d&&(p.checked="checked"),a(f),a(u),void 0!==f.inputStyle&&(f.style=f.inputStyle),f.keyboardFocusable=!0,o.push(new CKEDITOR.ui.dialog.uiElement(t,f,g,"input",null,p)),g.push(" "),new CKEDITOR.ui.dialog.uiElement(t,u,g,"label",null,{id:h,for:p.id},c[0]),e.push(g.join(""))}return new CKEDITOR.ui.dialog.hbox(t,o,e,i),i.join("")})),this._.children=o}},button:function(t,n,i){if(arguments.length){"function"==typeof n&&(n=n(t.getParentEditor())),e.call(this,n,{disabled:n.disabled||!1}),CKEDITOR.event.implementOn(this);var o=this;t.on("load",(function(){var e=this.getElement();e.on("click",(function(e){o.click(),e.data.preventDefault()})),e.on("keydown",(function(e){e.data.getKeystroke()in{32:1}&&(o.click(),e.data.preventDefault())})),e.unselectable()}),this);var r=CKEDITOR.tools.extend({},n);delete r.style;var a=CKEDITOR.tools.getNextId()+"_label";CKEDITOR.ui.dialog.uiElement.call(this,t,r,i,"a",null,{style:n.style,href:"javascript:void(0)",title:n.label,hidefocus:"true",class:n.class,role:"button","aria-labelledby":a},'<span id="'+a+'" class="cke_dialog_ui_button">'+CKEDITOR.tools.htmlEncode(n.label)+"</span>")}},select:function(t,n,i){if(!(3>arguments.length)){var o=e.call(this,n);n.validate&&(this.validate=n.validate),o.inputId=CKEDITOR.tools.getNextId()+"_select",CKEDITOR.ui.dialog.labeledElement.call(this,t,n,i,(function(){var e=CKEDITOR.tools.extend({},n,{id:n.id?n.id+"_select":CKEDITOR.tools.getNextId()+"_select"},!0),i=[],r=[],s={id:o.inputId,class:"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};i.push('<div class="cke_dialog_ui_input_',n.type,'" role="presentation"'),n.width&&i.push('style="width:'+n.width+'" '),i.push(">"),void 0!==n.size&&(s.size=n.size),void 0!==n.multiple&&(s.multiple=n.multiple),a(e);for(var l,c=0;c<n.items.length&&(l=n.items[c]);c++)r.push('<option value="',CKEDITOR.tools.htmlEncode(void 0!==l[1]?l[1]:l[0]).replace(/"/g,"&quot;"),'" /> ',CKEDITOR.tools.htmlEncode(l[0]));return void 0!==e.inputStyle&&(e.style=e.inputStyle),o.select=new CKEDITOR.ui.dialog.uiElement(t,e,i,"select",null,s,r.join("")),i.push("</div>"),i.join("")}))}},file:function(t,n,i){if(!(3>arguments.length)){void 0===n.default&&(n.default="");var o=CKEDITOR.tools.extend(e.call(this,n),{definition:n,buttons:[]});n.validate&&(this.validate=n.validate),t.on("load",(function(){CKEDITOR.document.getById(o.frameId).getParent().addClass("cke_dialog_ui_input_file")})),CKEDITOR.ui.dialog.labeledElement.call(this,t,n,i,(function(){o.frameId=CKEDITOR.tools.getNextId()+"_fileInput";var e=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="',o.frameId,'" title="',n.label,'" src="javascript:void('];return e.push(CKEDITOR.env.ie?"(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"})()":"0"),e.push(')"></iframe>'),e.join("")}))}},fileButton:function(t,n,i){var o=this;if(!(3>arguments.length)){e.call(this,n),n.validate&&(this.validate=n.validate);var r=CKEDITOR.tools.extend({},n),a=r.onClick;r.className=(r.className?r.className+" ":"")+"cke_dialog_ui_button",r.onClick=function(e){var i=n.for;!1!==(e=!!a&&a.call(this,e))&&("xhr"!==e&&t.getContentElement(i[0],i[1]).submit(),this.disable())},t.on("load",(function(){t.getContentElement(n.for[0],n.for[1])._.buttons.push(o)})),CKEDITOR.ui.dialog.button.call(this,t,r,i)}},html:function(){var e=/^\s*<[\w:]+\s+([^>]*)?>/,t=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,n=/\/$/;return function(i,o,r){if(!(3>arguments.length)){var a=[],s=o.html;"<"!=s.charAt(0)&&(s="<span>"+s+"</span>");var l=o.focus;if(l){var c=this.focus;this.focus=function(){("function"==typeof l?l:c).call(this),this.fire("focus")},o.isFocusable&&(this.isFocusable=this.isFocusable),this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,i,o,a,"span",null,null,""),a=a.join("").match(e),s=s.match(t)||["","",""],n.test(s[1])&&(s[1]=s[1].slice(0,-1),s[2]="/"+s[2]),r.push([s[1]," ",a[1]||"",s[2]].join(""))}}}(),fieldset:function(e,t,n,i,o){var r=o.label;this._={children:t},CKEDITOR.ui.dialog.uiElement.call(this,e,o,i,"fieldset",null,null,(function(){var e=[];r&&e.push("<legend"+(o.labelStyle?' style="'+o.labelStyle+'"':"")+">"+r+"</legend>");for(var t=0;t<n.length;t++)e.push(n[t]);return e.join("")}))}},!0),CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement,CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(e){var t=CKEDITOR.document.getById(this._.labelId);return 1>t.getChildCount()?new CKEDITOR.dom.text(e,CKEDITOR.document).appendTo(t):t.getChild(0).$.nodeValue=e,this},getLabel:function(){var e=CKEDITOR.document.getById(this._.labelId);return!e||1>e.getChildCount()?"":e.getChild(0).getText()},eventProcessors:o},!0),CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return!this._.disabled&&this.fire("click",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var e=this.getElement();e&&e.removeClass("cke_disabled")},disable:function(){this._.disabled=!0,this.getElement().addClass("cke_disabled")},isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(e,t){this.on("click",(function(){t.apply(this,arguments)}))}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},focus:function(){var e=this.selectParentTab();setTimeout((function(){var t=e.getInputElement();t&&t.$.focus()}),0)},select:function(){var e=this.selectParentTab();setTimeout((function(){var t=e.getInputElement();t&&(t.$.focus(),t.$.select())}),0)},accessKeyUp:function(){this.select()},setValue:function(e){if(this.bidi){var t=e&&e.charAt(0);(t="‪"==t?"ltr":"‫"==t?"rtl":null)&&(e=e.slice(1)),this.setDirectionMarker(t)}return e||(e=""),CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},getValue:function(){var e=CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);if(this.bidi&&e){var t=this.getDirectionMarker();t&&(e=("ltr"==t?"‪":"‫")+e)}return e},setDirectionMarker:function(e){var t=this.getInputElement();e?t.setAttributes({dir:e,"data-cke-dir-marker":e}):this.getDirectionMarker()&&t.removeAttributes(["dir","data-cke-dir-marker"])},getDirectionMarker:function(){return this.getInputElement().data("cke-dir-marker")},keyboardFocusable:!0},i,!0),CKEDITOR.ui.dialog.textarea.prototype=new CKEDITOR.ui.dialog.textInput,CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(e,t,n){var i=new CKEDITOR.dom.element("option",this.getDialog().getParentEditor().document),o=this.getInputElement().$;return i.$.text=e,i.$.value=null==t?e:t,null==n?CKEDITOR.env.ie?o.add(i.$):o.add(i.$,null):o.add(i.$,n),this},remove:function(e){return this.getInputElement().$.remove(e),this},clear:function(){for(var e=this.getInputElement().$;0<e.length;)e.remove(0);return this},keyboardFocusable:!0},i,!0),CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(e,t){return this.getInputElement().$.checked=e,!t&&this.fire("change",{value:e}),this},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(e,t){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?o.onChange.apply(this,arguments):(e.on("load",(function(){var e=this._.checkbox.getElement();e.on("propertychange",(function(t){"checked"==(t=t.data.$).propertyName&&this.fire("change",{value:e.$.checked})}),this)}),this),this.on("change",t),null)}},keyboardFocusable:!0},i,!0),CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(e,t){for(var n,i=this._.children,o=0;o<i.length&&(n=i[o]);o++)n.getElement().$.checked=n.getValue()==e;return!t&&this.fire("change",{value:e}),this},getValue:function(){for(var e=this._.children,t=0;t<e.length;t++)if(e[t].getElement().$.checked)return e[t].getValue();return null},accessKeyUp:function(){var e,t=this._.children;for(e=0;e<t.length;e++)if(t[e].getElement().$.checked)return void t[e].getElement().focus();t[0].getElement().focus()},eventProcessors:{onChange:function(e,t){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?o.onChange.apply(this,arguments):(e.on("load",(function(){for(var e=this._.children,t=this,n=0;n<e.length;n++)e[n].getElement().on("propertychange",(function(e){"checked"==(e=e.data.$).propertyName&&this.$.checked&&t.fire("change",{value:this.getAttribute("value")})}))}),this),this.on("change",t),null)}}},i,!0),CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,i,{getInputElement:function(){var e=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<e.$.forms.length?new CKEDITOR.dom.element(e.$.forms[0].elements[0]):this.getElement()},submit:function(){return this.getInputElement().getParent().$.submit(),this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(e){var t,n,i=/^on([A-Z]\w+)/,o=function(e,t,n,i){e.on("formLoaded",(function(){e.getInputElement().on(n,i,e)}))};for(n in e)(t=n.match(i))&&(this.eventProcessors[n]?this.eventProcessors[n].call(this,this._.dialog,e[n]):o(this,this._.dialog,t[1].toLowerCase(),e[n]));return this},reset:function(){function e(){n.$.open();var e="";i.size&&(e=i.size-(CKEDITOR.env.ie?7:0));var c=t.frameId+"_input";for(n.$.write(['<html dir="'+s+'" lang="'+l+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+s+'" lang="'+l+'" action="',CKEDITOR.tools.htmlEncode(i.action),'"><label id="',t.labelId,'" for="',c,'" style="display:none">',CKEDITOR.tools.htmlEncode(i.label),'</label><input style="width:100%" id="',c,'" aria-labelledby="',t.labelId,'" type="file" name="',CKEDITOR.tools.htmlEncode(i.id||"cke_upload"),'" size="',CKEDITOR.tools.htmlEncode(0<e?e:""),'" /></form></body></html><script>',CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"","window.parent.CKEDITOR.tools.callFunction("+r+");","window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction("+a+")}","<\/script>"].join("")),n.$.close(),e=0;e<o.length;e++)o[e].enable()}var t=this._,n=CKEDITOR.document.getById(t.frameId).getFrameDocument(),i=t.definition,o=t.buttons,r=this.formLoadedNumber,a=this.formUnloadNumber,s=t.dialog._.editor.lang.dir,l=t.dialog._.editor.langCode;r||(r=this.formLoadedNumber=CKEDITOR.tools.addFunction((function(){this.fire("formLoaded")}),this),a=this.formUnloadNumber=CKEDITOR.tools.addFunction((function(){this.getInputElement().clearCustomData()}),this),this.getDialog()._.editor.on("destroy",(function(){CKEDITOR.tools.removeFunction(r),CKEDITOR.tools.removeFunction(a)}))),CKEDITOR.env.gecko?setTimeout(e,500):e()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(e,t){this._.domOnChangeRegistered||(this.on("formLoaded",(function(){this.getInputElement().on("change",(function(){this.fire("change",{value:this.getValue()})}),this)}),this),this._.domOnChangeRegistered=!0),this.on("change",t)}},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.fileButton.prototype=new CKEDITOR.ui.dialog.button,CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype),CKEDITOR.dialog.addUIElement("text",t),CKEDITOR.dialog.addUIElement("password",t),CKEDITOR.dialog.addUIElement("tel",t),CKEDITOR.dialog.addUIElement("textarea",n),CKEDITOR.dialog.addUIElement("checkbox",n),CKEDITOR.dialog.addUIElement("radio",n),CKEDITOR.dialog.addUIElement("button",n),CKEDITOR.dialog.addUIElement("select",n),CKEDITOR.dialog.addUIElement("file",n),CKEDITOR.dialog.addUIElement("fileButton",n),CKEDITOR.dialog.addUIElement("html",n),CKEDITOR.dialog.addUIElement("fieldset",{build:function(e,t,n){for(var i,o=t.children,r=[],a=[],s=0;s<o.length&&(i=o[s]);s++){var l=[];r.push(l),a.push(CKEDITOR.dialog._.uiElementBuilders[i.type].build(e,i,l))}return new CKEDITOR.ui.dialog[t.type](e,a,r,n,t)}})}}),CKEDITOR.DIALOG_RESIZE_NONE=0,CKEDITOR.DIALOG_RESIZE_WIDTH=1,CKEDITOR.DIALOG_RESIZE_HEIGHT=2,CKEDITOR.DIALOG_RESIZE_BOTH=3,CKEDITOR.DIALOG_STATE_IDLE=1,CKEDITOR.DIALOG_STATE_BUSY=2,function(){function e(e){e._.tabBarMode=!0,e._.tabs[e._.currentTabId][0].focus(),e._.currentFocusIndex=-1}function t(){for(var e=this._.tabIdList.length,t=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+e,n=t-1;n>t-e;n--)if(this._.tabs[this._.tabIdList[n%e]][0].$.offsetHeight)return this._.tabIdList[n%e];return null}function n(){for(var e=this._.tabIdList.length,t=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),n=t+1;n<t+e;n++)if(this._.tabs[this._.tabIdList[n%e]][0].$.offsetHeight)return this._.tabIdList[n%e];return null}function i(e,t){for(var n=e.$.getElementsByTagName("input"),i=0,o=n.length;i<o;i++){var r=new CKEDITOR.dom.element(n[i]);"text"==r.getAttribute("type").toLowerCase()&&(t?(r.setAttribute("value",r.getCustomData("fake_value")||""),r.removeCustomData("fake_value")):(r.setCustomData("fake_value",r.getAttribute("value")),r.setAttribute("value","")))}}function o(e,t){var n=this.getInputElement();n&&(e?n.removeAttribute("aria-invalid"):n.setAttribute("aria-invalid",!0)),e||(this.select?this.select():this.focus()),t&&alert(t),this.fire("validated",{valid:e,msg:t})}function r(){var e=this.getInputElement();e&&e.removeAttribute("aria-invalid")}function a(e,t,n){this.element=t,this.focusIndex=n,this.tabIndex=0,this.isFocusable=function(){return!t.getAttribute("disabled")&&t.isVisible()},this.focus=function(){e._.currentFocusIndex=this.focusIndex,this.element.focus()},t.on("keydown",(function(e){e.data.getKeystroke()in{32:1,13:1}&&this.fire("click")})),t.on("focus",(function(){this.fire("mouseover")})),t.on("blur",(function(){this.fire("mouseout")}))}function s(e,t){this.dialog=e;for(var n,i=t.contents,o=0;n=i[o];o++)i[o]=n&&new l(e,n);CKEDITOR.tools.extend(this,t)}function l(e,t){this._={dialog:e},CKEDITOR.tools.extend(this,t)}function c(e){function t(t){var n=e.getSize(),l=e.parts.dialog.getParent().getClientSize(),c=t.data.$.screenX,u=t.data.$.screenY,d=c-i.x,h=u-i.y;i={x:c,y:u},o.x+=d,o.y+=h,c=o.x+s[3]<a?-s[3]:o.x-s[1]>l.width-n.width-a?l.width-n.width+("rtl"==r.lang.dir?0:s[1]):o.x,n=o.y+s[0]<a?-s[0]:o.y-s[2]>l.height-n.height-a?l.height-n.height+s[2]:o.y,c=Math.floor(c),n=Math.floor(n),e.move(c,n,1),t.data.preventDefault()}function n(){if(CKEDITOR.document.removeListener("mousemove",t),CKEDITOR.document.removeListener("mouseup",n),CKEDITOR.env.ie6Compat){var e=C.getChild(0).getFrameDocument();e.removeListener("mousemove",t),e.removeListener("mouseup",n)}}var i=null,o=null,r=e.getParentEditor(),a=r.config.dialog_magnetDistance,s=CKEDITOR.skin.margins||[0,0,0,0];void 0===a&&(a=20),e.parts.title.on("mousedown",(function(r){if(!e._.moved){var a=e._.element;a.getFirst().setStyle("position","absolute"),a.removeStyle("display"),e._.moved=!0,e.layout()}i={x:r.data.$.screenX,y:r.data.$.screenY},CKEDITOR.document.on("mousemove",t),CKEDITOR.document.on("mouseup",n),o=e.getPosition(),CKEDITOR.env.ie6Compat&&((a=C.getChild(0).getFrameDocument()).on("mousemove",t),a.on("mouseup",n)),r.data.preventDefault()}),e)}function u(e){function t(t){var n="rtl"==h.lang.dir,u=c.width,f=c.height,p=u+(t.data.$.screenX-l.x)*(n?-1:1)*(e._.moved?1:2),g=f+(t.data.$.screenY-l.y)*(e._.moved?1:2),m=e._.element.getFirst(),E=(m=n&&parseInt(m.getComputedStyle("right"),10),e.getPosition());E.x=E.x||0,E.y=E.y||0,E.y+g>s.height&&(g=s.height-E.y),(n?m:E.x)+p>s.width&&(p=s.width-(n?m:E.x)),g=Math.floor(g),p=Math.floor(p),o!=CKEDITOR.DIALOG_RESIZE_WIDTH&&o!=CKEDITOR.DIALOG_RESIZE_BOTH||(u=Math.max(i.minWidth||0,p-r)),o!=CKEDITOR.DIALOG_RESIZE_HEIGHT&&o!=CKEDITOR.DIALOG_RESIZE_BOTH||(f=Math.max(i.minHeight||0,g-a)),e.resize(u,f),e._.moved&&d(e,e._.position.x,e._.position.y),e._.moved||e.layout(),t.data.preventDefault()}function n(){if(CKEDITOR.document.removeListener("mouseup",n),CKEDITOR.document.removeListener("mousemove",t),u&&(u.remove(),u=null),CKEDITOR.env.ie6Compat){var e=C.getChild(0).getFrameDocument();e.removeListener("mouseup",n),e.removeListener("mousemove",t)}}var i=e.definition,o=i.resizable;if(o!=CKEDITOR.DIALOG_RESIZE_NONE){var r,a,s,l,c,u,h=e.getParentEditor(),f=CKEDITOR.tools.addFunction((function(i){function o(e){return e.isVisible()}c=e.getSize();var d=e.parts.contents,h=d.$.getElementsByTagName("iframe").length,f=!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks);h&&(u=CKEDITOR.dom.element.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%; left:0; top:0;"></div>'),d.append(u)),a=c.height-e.parts.contents.getFirst(o).getSize("height",f),r=c.width-e.parts.contents.getFirst(o).getSize("width",1),l={x:i.screenX,y:i.screenY},s=CKEDITOR.document.getWindow().getViewPaneSize(),CKEDITOR.document.on("mousemove",t),CKEDITOR.document.on("mouseup",n),CKEDITOR.env.ie6Compat&&((d=C.getChild(0).getFrameDocument()).on("mousemove",t),d.on("mouseup",n)),i.preventDefault&&i.preventDefault()}));e.on("load",(function(){var t="";o==CKEDITOR.DIALOG_RESIZE_WIDTH?t=" cke_resizer_horizontal":o==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(t=" cke_resizer_vertical"),t=CKEDITOR.dom.element.createFromHtml('<div class="cke_resizer'+t+" cke_resizer_"+h.lang.dir+'" title="'+CKEDITOR.tools.htmlEncode(h.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+f+', event )">'+("ltr"==h.lang.dir?"◢":"◣")+"</div>"),e.parts.footer.append(t,1)})),h.on("destroy",(function(){CKEDITOR.tools.removeFunction(f)}))}}function d(e,t,n){var i=e.parts.dialog.getParent().getClientSize(),o=e.getSize(),r=e._.viewportRatio,a=Math.max(i.width-o.width,0);i=Math.max(i.height-o.height,0),r.width=a?t/a:r.width,r.height=i?n/i:r.height,e._.viewportRatio=r}function h(e){e.data.preventDefault(1)}function f(e){var t=e.config,n=CKEDITOR.skinName||e.config.skin,i=t.dialog_backgroundCoverColor||("moono-lisa"==n?"black":"white"),o=(n=t.dialog_backgroundCoverOpacity,t.baseFloatZIndex),r=(t=CKEDITOR.tools.genKey(i,n,o),k[t]);CKEDITOR.document.getBody().addClass("cke_dialog_open"),r?r.show():(o=['<div tabIndex="-1" style="position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",o,"; top: 0px; left: 0px; ","; width: 100%; height: 100%;",CKEDITOR.env.ie6Compat?"":"background-color: "+i,'" class="cke_dialog_background_cover">'],CKEDITOR.env.ie6Compat&&(i="<html><body style=\\'background-color:"+i+";\\'></body></html>",o.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:'),o.push("void((function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.write( '"+i+"' );document.close();")+"})())"),o.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')),o.push("</div>"),(r=CKEDITOR.dom.element.createFromHtml(o.join(""))).setOpacity(void 0!==n?n:.5),r.on("keydown",h),r.on("keypress",h),r.on("keyup",h),r.appendTo(CKEDITOR.document.getBody()),k[t]=r),e.focusManager.add(r),C=r,CKEDITOR.env.mac&&CKEDITOR.env.webkit||r.focus()}function p(e){CKEDITOR.document.getBody().removeClass("cke_dialog_open"),C&&(e.focusManager.remove(C),C.hide())}function g(e){var t=e.data.$.ctrlKey||e.data.$.metaKey,n=e.data.$.altKey,i=e.data.$.shiftKey,o=String.fromCharCode(e.data.$.keyCode);(t=K[(t?"CTRL+":"")+(n?"ALT+":"")+(i?"SHIFT+":"")+o])&&t.length&&((t=t[t.length-1]).keydown&&t.keydown.call(t.uiElement,t.dialog,t.key),e.data.preventDefault())}function m(e){var t=e.data.$.ctrlKey||e.data.$.metaKey,n=e.data.$.altKey,i=e.data.$.shiftKey,o=String.fromCharCode(e.data.$.keyCode);(t=K[(t?"CTRL+":"")+(n?"ALT+":"")+(i?"SHIFT+":"")+o])&&t.length&&(t=t[t.length-1]).keyup&&(t.keyup.call(t.uiElement,t.dialog,t.key),e.data.preventDefault())}function E(e,t,n,i,o){(K[n]||(K[n]=[])).push({uiElement:e,dialog:t,key:n,keyup:o||e.accessKeyUp,keydown:i||e.accessKeyDown})}function v(e,t){e._.accessKeyMap[t]&&e.selectPage(e._.accessKeyMap[t])}function T(){}var b,C,y=CKEDITOR.tools.cssLength,O=!1,I=!CKEDITOR.env.ie||CKEDITOR.env.edge,D='<div class="cke_reset_all cke_dialog_container {editorId} {editorDialogClass} {hidpi}" dir="{langDir}" style="'+(I?"display:flex":"")+'" lang="{langCode}" role="dialog" aria-labelledby="cke_dialog_title_{id}"><table class="cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}" style="'+(I?"margin:auto":"position:absolute")+'" role="presentation"><tr><td role="presentation"><div class="cke_dialog_body" role="presentation"><div id="cke_dialog_title_{id}" class="cke_dialog_title" role="presentation"></div><a id="cke_dialog_close_button_{id}" class="cke_dialog_close_button" href="javascript:void(0)" title="{closeTitle}" role="button"><span class="cke_label">X</span></a><div id="cke_dialog_tabs_{id}" class="cke_dialog_tabs" role="tablist"></div><table class="cke_dialog_contents" role="presentation"><tr><td id="cke_dialog_contents_{id}" class="cke_dialog_contents_body" role="presentation"></td></tr><tr><td id="cke_dialog_footer_{id}" class="cke_dialog_footer" role="presentation"></td></tr></table></div></td></tr></table></div>';CKEDITOR.dialog=function(i,a){function l(e){var t=y._.focusList;if(e=e||0,!(1>t.length)){var n=y._.currentFocusIndex;y._.tabBarMode&&0>e&&(n=0);try{t[n].getInputElement().$.blur()}catch(e){}var i=n,o=1<y._.pageCount;do{if(i+=e,o&&!y._.tabBarMode&&(i==t.length||-1==i))return y._.tabBarMode=!0,y._.tabs[y._.currentTabId][0].focus(),void(y._.currentFocusIndex=-1);if((i=(i+t.length)%t.length)==n)break}while(e&&!t[i].isFocusable());t[i].focus(),"text"==t[i].type&&t[i].select()}}function d(o){if(y==CKEDITOR.dialog._.currentTop){var r=o.data.getKeystroke(),a="rtl"==i.lang.dir;if(f=p=0,9==r||r==CKEDITOR.SHIFT+9)l(r==CKEDITOR.SHIFT+9?-1:1),f=1;else if(r==CKEDITOR.ALT+121&&!y._.tabBarMode&&1<y.getPageCount())e(y),f=1;else if(-1!=CKEDITOR.tools.indexOf([37,38,39,40],r)&&y._.tabBarMode)r=-1!=CKEDITOR.tools.indexOf([a?39:37,38],r)?t.call(y):n.call(y),y.selectPage(r),y._.tabs[r][0].focus(),f=1;else if(13!=r&&32!=r||!y._.tabBarMode)if(13==r)(r=o.data.getTarget()).is("a","button","select","textarea")||r.is("input")&&"button"==r.$.type||((r=this.getButton("ok"))&&CKEDITOR.tools.setTimeout(r.click,0,r),f=1),p=1;else{if(27!=r)return;(r=this.getButton("cancel"))?CKEDITOR.tools.setTimeout(r.click,0,r):!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),p=1}else this.selectPage(this._.currentTabId),this._.tabBarMode=!1,this._.currentFocusIndex=-1,l(1),f=1;h(o)}}function h(e){f?e.data.preventDefault(1):p&&e.data.stopPropagation()}var f,p,g=CKEDITOR.dialog._.dialogDefinitions[a],m=CKEDITOR.tools.clone(b),E=i.config.dialog_buttonsOrder||"OS",v=i.lang.dir,T={};if(("OS"==E&&CKEDITOR.env.mac||"rtl"==E&&"ltr"==v||"ltr"==E&&"rtl"==v)&&m.buttons.reverse(),g=CKEDITOR.tools.extend(g(i),m),g=new s(this,g=CKEDITOR.tools.clone(g)),m=function(e){var t=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog",D).output({id:CKEDITOR.tools.getNextNumber(),editorId:e.id,langDir:e.lang.dir,langCode:e.langCode,editorDialogClass:"cke_editor_"+e.name.replace(/\./g,"\\.")+"_dialog",closeTitle:e.lang.common.close,hidpi:CKEDITOR.env.hidpi?"cke_hidpi":""})),n=t.getChild([0,0,0,0,0]),i=n.getChild(0),o=n.getChild(1);return e.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(n),!CKEDITOR.env.ie||CKEDITOR.env.quirks||CKEDITOR.env.edge||(e="javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())",CKEDITOR.dom.element.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="'+e+'" tabIndex="-1"></iframe>').appendTo(n.getParent())),i.unselectable(),o.unselectable(),{element:t,parts:{dialog:t.getChild(0),title:i,close:o,tabs:n.getChild(2),contents:n.getChild([3,0,0,0]),footer:n.getChild([3,0,1,0])}}}(i),this._={editor:i,element:m.element,name:a,model:null,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},viewportRatio:{width:.5,height:.5},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1},this.parts=m.parts,CKEDITOR.tools.setTimeout((function(){i.fire("ariaWidget",this.parts.contents)}),0,this),m={top:0,visibility:"hidden"},CKEDITOR.env.ie6Compat&&(m.position="absolute"),m["rtl"==v?"right":"left"]=0,this.parts.dialog.setStyles(m),CKEDITOR.event.call(this),this.definition=g=CKEDITOR.fire("dialogDefinition",{name:a,definition:g,dialog:this},i).definition,!("removeDialogTabs"in i._)&&i.config.removeDialogTabs){for(m=i.config.removeDialogTabs.split(";"),v=0;v<m.length;v++)if(2==(E=m[v].split(":")).length){var C=E[0];T[C]||(T[C]=[]),T[C].push(E[1])}i._.removeDialogTabs=T}if(i._.removeDialogTabs&&(T=i._.removeDialogTabs[a]))for(v=0;v<T.length;v++)g.removeContents(T[v]);g.onLoad&&this.on("load",g.onLoad),g.onShow&&this.on("show",g.onShow),g.onHide&&this.on("hide",g.onHide),g.onOk&&this.on("ok",(function(e){i.fire("saveSnapshot"),setTimeout((function(){i.fire("saveSnapshot")}),0),!1===g.onOk.call(this,e)&&(e.data.hide=!1)})),this.state=CKEDITOR.DIALOG_STATE_IDLE,g.onCancel&&this.on("cancel",(function(e){!1===g.onCancel.call(this,e)&&(e.data.hide=!1)}));var y=this,O=function(e){var t,n=y._.contents;for(t in n)for(var i in n[t])if(e.call(this,n[t][i]))return};this.on("ok",(function(e){O((function(t){if(t.validate){var n=t.validate(this),i="string"==typeof n||!1===n;return i&&(e.data.hide=!1,e.stop()),o.call(t,!i,"string"==typeof n?n:void 0),i}}))}),this,null,0),this.on("cancel",(function(e){O((function(t){if(t.isChanged())return i.config.dialog_noConfirmCancel||confirm(i.lang.common.confirmCancel)||(e.data.hide=!1),!0}))}),this,null,0),this.parts.close.on("click",(function(e){!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),e.data.preventDefault()}),this),this.changeFocus=l;var I=this._.element;for(i.focusManager.add(I,1),this.on("show",(function(){I.on("keydown",d,this),CKEDITOR.env.gecko&&I.on("keypress",h,this)})),this.on("hide",(function(){I.removeListener("keydown",d),CKEDITOR.env.gecko&&I.removeListener("keypress",h),O((function(e){r.apply(e)}))})),this.on("iframeAdded",(function(e){new CKEDITOR.dom.document(e.data.iframe.$.contentWindow.document).on("keydown",d,this,null,0)})),this.on("show",(function(){!function(){var e=y._.focusList;e.sort((function(e,t){return e.tabIndex!=t.tabIndex?t.tabIndex-e.tabIndex:e.focusIndex-t.focusIndex}));for(var t=e.length,n=0;n<t;n++)e[n].focusIndex=n}();var e=1<y._.pageCount;i.config.dialog_startupFocusTab&&e?(y._.tabBarMode=!0,y._.tabs[y._.currentTabId][0].focus(),y._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=e?-1:this._.focusList.length-1,g.onFocus?(e=g.onFocus.call(this))&&e.focus():l(1))}),this,null,4294967295),CKEDITOR.env.ie6Compat&&this.on("load",(function(){var e=this.getElement(),t=e.getFirst();t.remove(),t.appendTo(e)}),this),c(this),u(this),new CKEDITOR.dom.text(g.title,CKEDITOR.document).appendTo(this.parts.title),v=0;v<g.contents.length;v++)(T=g.contents[v])&&this.addPage(T);for(this.parts.tabs.on("click",(function(t){var n=t.data.getTarget();n.hasClass("cke_dialog_tab")&&(n=n.$.id,this.selectPage(n.substring(4,n.lastIndexOf("_"))),e(this),t.data.preventDefault())}),this),v=[],T=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:g.buttons},v).getChild(),this.parts.footer.setHtml(v.join("")),v=0;v<T.length;v++)this._.buttons[T[v].id]=T[v]},CKEDITOR.dialog.prototype={destroy:function(){this.hide(),this._.element.remove()},resize:function(e,t){if(!this._.contentSize||this._.contentSize.width!=e||this._.contentSize.height!=t){if(CKEDITOR.dialog.fire("resize",{dialog:this,width:e,height:t},this._.editor),this.fire("resize",{width:e,height:t},this._.editor),this.parts.contents.setStyles({width:e+"px",height:t+"px"}),"rtl"==this._.editor.lang.dir&&this._.position){var n=this.parts.dialog.getParent().getClientSize().width;this._.position.x=n-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle("right"),10)}this._.contentSize={width:e,height:t}}},getSize:function(){var e=this._.element.getFirst();return{width:e.$.offsetWidth||0,height:e.$.offsetHeight||0}},move:function(e,t,n){var i=this._.element.getFirst(),o="rtl"==this._.editor.lang.dir;CKEDITOR.env.ie&&i.setStyle("zoom","100%");var r=this.parts.dialog.getParent().getClientSize(),a=this.getSize(),s=this._.viewportRatio,l=Math.max(r.width-a.width,0);r=Math.max(r.height-a.height,0),this._.position&&this._.position.x==e&&this._.position.y==t?(e=Math.floor(l*s.width),t=Math.floor(r*s.height)):d(this,e,t),this._.position={x:e,y:t},o&&(e=l-e),(t={top:(0<t?t:0)+"px"})[o?"right":"left"]=(0<e?e:0)+"px",i.setStyles(t),n&&(this._.moved=1)},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var e=this._.element,t=this.definition,n=CKEDITOR.document.getBody(),i=this._.editor.config.baseFloatZIndex;for(var o in e.getParent()&&e.getParent().equals(n)?e.setStyle("display",I?"flex":"block"):e.appendTo(n),this.resize(this._.contentSize&&this._.contentSize.width||t.width||t.minWidth,this._.contentSize&&this._.contentSize.height||t.height||t.minHeight),this.reset(),null===this._.currentTabId&&this.selectPage(this.definition.contents[0].id),null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=i),this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex+=10),this.getElement().setStyle("z-index",CKEDITOR.dialog._.currentZIndex),null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,this._.parentDialog=null,f(this._.editor)):CKEDITOR.dialog._.currentTop!==this&&(this._.parentDialog=CKEDITOR.dialog._.currentTop,(n=this._.parentDialog.getElement().getFirst()).$.style.zIndex-=Math.floor(i/2),this._.parentDialog.getElement().setStyle("z-index",n.$.style.zIndex),CKEDITOR.dialog._.currentTop=this),e.on("keydown",g),e.on("keyup",m),this._.hasFocus=!1,t.contents)if(t.contents[o]){e=t.contents[o],i=this._.tabs[e.id],n=e.requiredContent;var r=0;if(i){for(var a in this._.contents[e.id]){var s=this._.contents[e.id][a];"hbox"!=s.type&&"vbox"!=s.type&&s.getInputElement()&&(s.requiredContent&&!this._.editor.activeFilter.check(s.requiredContent)?s.disable():(s.enable(),r++))}!r||n&&!this._.editor.activeFilter.check(n)?i[0].addClass("cke_dialog_tab_disabled"):i[0].removeClass("cke_dialog_tab_disabled")}}CKEDITOR.tools.setTimeout((function(){this.layout(),function(e){function t(){e.layout()}var n=CKEDITOR.document.getWindow();n.on("resize",t),e.on("hide",(function(){n.removeListener("resize",t)}))}(this),this.parts.dialog.setStyle("visibility",""),this.fireOnce("load",{}),CKEDITOR.ui.fire("ready",this),this.fire("show",{}),this._.editor.fire("dialogShow",this),this._.parentDialog||this._.editor.focusManager.lock(),this.foreach((function(e){e.setInitValue&&e.setInitValue()}))}),100,this)},layout:function(){var e=this.parts.dialog;if(this._.moved||!I){var t,n=this.getSize(),i=CKEDITOR.document.getWindow().getViewPaneSize();this._.moved&&this._.position?(t=this._.position.x,n=this._.position.y):(t=(i.width-n.width)/2,n=(i.height-n.height)/2),CKEDITOR.env.ie6Compat||(e.setStyle("position","absolute"),e.removeStyle("margin")),t=Math.floor(t),n=Math.floor(n),this.move(t,n)}},foreach:function(e){for(var t in this._.contents)for(var n in this._.contents[t])e.call(this,this._.contents[t][n]);return this},reset:function(){var e=function(e){e.reset&&e.reset(1)};return function(){return this.foreach(e),this}}(),setupContent:function(){var e=arguments;this.foreach((function(t){t.setup&&t.setup.apply(t,e)}))},commitContent:function(){var e=arguments;this.foreach((function(t){CKEDITOR.env.ie&&this._.currentFocusIndex==t.focusIndex&&t.getInputElement().$.blur(),t.commit&&t.commit.apply(t,e)}))},hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{}),this._.editor.fire("dialogHide",this),this.selectPage(this._.tabIdList[0]);var e=this._.element;for(e.setStyle("display","none"),this.parts.dialog.setStyle("visibility","hidden"),function(e){for(var t in K){for(var n=K[t],i=n.length-1;0<=i;i--)n[i].dialog!=e&&n[i].uiElement!=e||n.splice(i,1);0===n.length&&delete K[t]}}(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var t=this._.parentDialog.getElement().getFirst(),n=parseInt(t.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2);this._.parentDialog.getElement().setStyle("z-index",n),t.setStyle("z-index",n)}else p(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=10;else{CKEDITOR.dialog._.currentZIndex=null,e.removeListener("keydown",g),e.removeListener("keyup",m);var i=this._.editor;i.focus(),setTimeout((function(){i.focusManager.unlock(),CKEDITOR.env.iOS&&i.window.focus()}),0)}delete this._.parentDialog,this.foreach((function(e){e.resetInitValue&&e.resetInitValue()})),this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:function(e){if(!e.requiredContent||this._.editor.filter.check(e.requiredContent)){for(var t=[],n=e.label?' title="'+CKEDITOR.tools.htmlEncode(e.label)+'"':"",i=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:"vbox",className:"cke_dialog_page_contents",children:e.elements,expand:!!e.expand,padding:e.padding,style:e.style||"width: 100%;"},t),o=this._.contents[e.id]={},r=i.getChild(),a=0;i=r.shift();)i.notAllowed||"hbox"==i.type||"vbox"==i.type||a++,o[i.id]=i,"function"==typeof i.getChild&&r.push.apply(r,i.getChild());a||(e.hidden=!0),(t=CKEDITOR.dom.element.createFromHtml(t.join(""))).setAttribute("role","tabpanel"),t.setStyle("min-height","100%"),i=CKEDITOR.env,o="cke_"+e.id+"_"+CKEDITOR.tools.getNextNumber(),n=CKEDITOR.dom.element.createFromHtml(['<a class="cke_dialog_tab"',0<this._.pageCount?" cke_last":"cke_first",n,e.hidden?' style="display:none"':"",' id="',o,'"',i.gecko&&!i.hc?"":' href="javascript:void(0)"',' tabIndex="-1" hidefocus="true" role="tab">',e.label,"</a>"].join("")),t.setAttribute("aria-labelledby",o),this._.tabs[e.id]=[n,t],this._.tabIdList.push(e.id),!e.hidden&&this._.pageCount++,this._.lastTab=n,this.updateStyle(),t.setAttribute("name",e.id),t.appendTo(this.parts.contents),n.unselectable(),this.parts.tabs.append(n),e.accessKey&&(E(this,this,"CTRL+"+e.accessKey,T,v),this._.accessKeyMap["CTRL+"+e.accessKey]=e.id)}},selectPage:function(e){if(this._.currentTabId!=e&&!this._.tabs[e][0].hasClass("cke_dialog_tab_disabled")&&!1!==this.fire("selectPage",{page:e,currentPage:this._.currentTabId})){for(var t in this._.tabs){var n=this._.tabs[t][0],o=this._.tabs[t][1];t!=e&&(n.removeClass("cke_dialog_tab_selected"),n.removeAttribute("aria-selected"),o.hide()),o.setAttribute("aria-hidden",t!=e)}var r=this._.tabs[e];r[0].addClass("cke_dialog_tab_selected"),r[0].setAttribute("aria-selected",!0),CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(i(r[1]),r[1].show(),setTimeout((function(){i(r[1],1)}),0)):r[1].show(),this._.currentTabId=e,this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,e)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(e){var n=this._.tabs[e]&&this._.tabs[e][0];n&&1!=this._.pageCount&&n.isVisible()&&(e==this._.currentTabId&&this.selectPage(t.call(this)),n.hide(),this._.pageCount--,this.updateStyle())},showPage:function(e){(e=this._.tabs[e]&&this._.tabs[e][0])&&(e.show(),this._.pageCount++,this.updateStyle())},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(e,t){var n=this._.contents[e];return n&&n[t]},getValueOf:function(e,t){return this.getContentElement(e,t).getValue()},setValueOf:function(e,t,n){return this.getContentElement(e,t).setValue(n)},getButton:function(e){return this._.buttons[e]},click:function(e){return this._.buttons[e].click()},disableButton:function(e){return this._.buttons[e].disable()},enableButton:function(e){return this._.buttons[e].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(e,t){if(void 0===t)t=this._.focusList.length,this._.focusList.push(new a(this,e,t));else{this._.focusList.splice(t,0,new a(this,e,t));for(var n=t+1;n<this._.focusList.length;n++)this._.focusList[n].focusIndex++}},setState:function(e){if(this.state!=e){if(this.state=e,e==CKEDITOR.DIALOG_STATE_BUSY){if(!this.parts.spinner){var t=this.getParentEditor().lang.dir,n={attributes:{class:"cke_dialog_spinner"},styles:{float:"rtl"==t?"right":"left"}};n.styles["margin-"+("rtl"==t?"left":"right")]="8px",this.parts.spinner=CKEDITOR.document.createElement("div",n),this.parts.spinner.setHtml("&#8987;"),this.parts.spinner.appendTo(this.parts.title,1)}this.parts.spinner.show(),this.getButton("ok")&&this.getButton("ok").disable()}else e==CKEDITOR.DIALOG_STATE_IDLE&&(this.parts.spinner&&this.parts.spinner.hide(),this.getButton("ok")&&this.getButton("ok").enable());this.fire("state",e)}},getModel:function(e){return this._.model?this._.model:this.definition.getModel?this.definition.getModel(e):null},setModel:function(e){this._.model=e},getMode:function(e){return this.definition.getMode?this.definition.getMode(e):!(e=this.getModel(e))||e instanceof CKEDITOR.dom.element&&!e.getParent()?CKEDITOR.dialog.CREATION_MODE:CKEDITOR.dialog.EDITING_MODE}},CKEDITOR.tools.extend(CKEDITOR.dialog,{CREATION_MODE:0,EDITING_MODE:1,add:function(e,t){this._.dialogDefinitions[e]&&"function"!=typeof t||(this._.dialogDefinitions[e]=t)},exists:function(e){return!!this._.dialogDefinitions[e]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(e,t,n){return!((e=e.config.removeDialogTabs)&&e.match(new RegExp("(?:^|;)"+t+":"+n+"(?:$|;)","i")))},okButton:function(){var e=function(e,t){return t=t||{},CKEDITOR.tools.extend({id:"ok",type:"button",label:e.lang.common.ok,class:"cke_dialog_ui_button_ok",onClick:function(e){!1!==(e=e.data.dialog).fire("ok",{hide:!0}).hide&&e.hide()}},t,!0)};return e.type="button",e.override=function(t){return CKEDITOR.tools.extend((function(n){return e(n,t)}),{type:"button"},!0)},e}(),cancelButton:function(){var e=function(e,t){return t=t||{},CKEDITOR.tools.extend({id:"cancel",type:"button",label:e.lang.common.cancel,class:"cke_dialog_ui_button_cancel",onClick:function(e){!1!==(e=e.data.dialog).fire("cancel",{hide:!0}).hide&&e.hide()}},t,!0)};return e.type="button",e.override=function(t){return CKEDITOR.tools.extend((function(n){return e(n,t)}),{type:"button"},!0)},e}(),addUIElement:function(e,t){this._.uiElementBuilders[e]=t}}),CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null},CKEDITOR.event.implementOn(CKEDITOR.dialog),CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype),b={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]};var R=function(e,t,n){for(var i,o=0;i=e[o];o++)if(i.id==t||n&&i[n]&&(i=R(i[n],t,n)))return i;return null},_=function(e,t,n,i,o){if(n){for(var r,a=0;r=e[a];a++){if(r.id==n)return e.splice(a,0,t),t;if(i&&r[i]&&(r=_(r[i],t,n,i,!0)))return r}if(o)return null}return e.push(t),t},w=function(e,t,n){for(var i,o=0;i=e[o];o++){if(i.id==t)return e.splice(o,1);if(n&&i[n]&&(i=w(i[n],t,n)))return i}return null};s.prototype={getContents:function(e){return R(this.contents,e)},getButton:function(e){return R(this.buttons,e)},addContents:function(e,t){return _(this.contents,e,t)},addButton:function(e,t){return _(this.buttons,e,t)},removeContents:function(e){w(this.contents,e)},removeButton:function(e){w(this.buttons,e)}},l.prototype={get:function(e){return R(this.elements,e,"children")},add:function(e,t){return _(this.elements,e,t,"children")},remove:function(e){w(this.elements,e,"children")}};var k={},K={};CKEDITOR.ui.dialog={uiElement:function(e,t,n,i,o,r,a){if(!(4>arguments.length)){var s=(i.call?i(t):i)||"div",l=["<",s," "],c=(o&&o.call?o(t):o)||{},u=(r&&r.call?r(t):r)||{},d=(a&&a.call?a.call(this,e,t):a)||"",h=this.domId=u.id||CKEDITOR.tools.getNextId()+"_uiElement";t.requiredContent&&!e.getParentEditor().filter.check(t.requiredContent)&&(c.display="none",this.notAllowed=!0),u.id=h;var f={};t.type&&(f["cke_dialog_ui_"+t.type]=1),t.className&&(f[t.className]=1),t.disabled&&(f.cke_disabled=1);var p=u.class&&u.class.split?u.class.split(" "):[];for(h=0;h<p.length;h++)p[h]&&(f[p[h]]=1);for(h in p=[],f)p.push(h);for(h in u.class=p.join(" "),t.title&&(u.title=t.title),f=(t.style||"").split(";"),t.align&&(p=t.align,c["margin-left"]="left"==p?0:"auto",c["margin-right"]="right"==p?0:"auto"),c)f.push(h+":"+c[h]);for(t.hidden&&f.push("display:none"),h=f.length-1;0<=h;h--)""===f[h]&&f.splice(h,1);for(h in 0<f.length&&(u.style=(u.style?u.style+"; ":"")+f.join("; ")),u)l.push(h+'="'+CKEDITOR.tools.htmlEncode(u[h])+'" ');l.push(">",d,"</",s,">"),n.push(l.join("")),(this._||(this._={})).dialog=e,"boolean"==typeof t.isChanged&&(this.isChanged=function(){return t.isChanged}),"function"==typeof t.isChanged&&(this.isChanged=t.isChanged),"function"==typeof t.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,(function(e){return function(n){e.call(this,t.setValue.call(this,n))}}))),"function"==typeof t.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,(function(e){return function(){return t.getValue.call(this,e.call(this))}}))),CKEDITOR.event.implementOn(this),this.registerEvents(t),this.accessKeyUp&&this.accessKeyDown&&t.accessKey&&E(this,e,"CTRL+"+t.accessKey);var g=this;e.on("load",(function(){var t=g.getInputElement();if(t){var n=g.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?"cke_dialog_ui_focused":"";t.on("focus",(function(){e._.tabBarMode=!1,e._.hasFocus=!0,g.fire("focus"),n&&this.addClass(n)})),t.on("blur",(function(){g.fire("blur"),n&&this.removeClass(n)}))}})),CKEDITOR.tools.extend(this,t),this.keyboardFocusable&&(this.tabIndex=t.tabIndex||0,this.focusIndex=e._.focusList.push(this)-1,this.on("focus",(function(){e._.currentFocusIndex=g.focusIndex})))}},hbox:function(e,t,n,i,o){if(!(4>arguments.length)){this._||(this._={});var r,a=this._.children=t,s=o&&o.widths||null,l=o&&o.height||null,c={role:"presentation"};o&&o.align&&(c.align=o.align),CKEDITOR.ui.dialog.uiElement.call(this,e,o||{type:"hbox"},i,"table",{},c,(function(){var e=['<tbody><tr class="cke_dialog_ui_hbox">'];for(r=0;r<n.length;r++){var t="cke_dialog_ui_hbox_child",i=[];0===r&&(t="cke_dialog_ui_hbox_first"),r==n.length-1&&(t="cke_dialog_ui_hbox_last"),e.push('<td class="',t,'" role="presentation" '),s?s[r]&&i.push("width:"+y(s[r])):i.push("width:"+Math.floor(100/n.length)+"%"),l&&i.push("height:"+y(l)),o&&void 0!==o.padding&&i.push("padding:"+y(o.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&a[r].align&&i.push("text-align:"+a[r].align),0<i.length&&e.push('style="'+i.join("; ")+'" '),e.push(">",n[r],"</td>")}return e.push("</tr></tbody>"),e.join("")}))}},vbox:function(e,t,n,i,o){if(!(3>arguments.length)){this._||(this._={});var r=this._.children=t,a=o&&o.width||null,s=o&&o.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,e,o||{type:"vbox"},i,"div",null,{role:"presentation"},(function(){var t=['<table role="presentation" cellspacing="0" border="0" '];t.push('style="'),o&&o.expand&&t.push("height:100%;"),t.push("width:"+y(a||"100%"),";"),CKEDITOR.env.webkit&&t.push("float:none;"),t.push('"'),t.push('align="',CKEDITOR.tools.htmlEncode(o&&o.align||("ltr"==e.getParentEditor().lang.dir?"left":"right")),'" '),t.push("><tbody>");for(var i=0;i<n.length;i++){var l=[];t.push('<tr><td role="presentation" '),a&&l.push("width:"+y(a||"100%")),s?l.push("height:"+y(s[i])):o&&o.expand&&l.push("height:"+Math.floor(100/n.length)+"%"),o&&void 0!==o.padding&&l.push("padding:"+y(o.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&r[i].align&&l.push("text-align:"+r[i].align),0<l.length&&t.push('style="',l.join("; "),'" '),t.push(' class="cke_dialog_ui_vbox_child">',n[i],"</td></tr>")}return t.push("</tbody></table>"),t.join("")}))}}},CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(e,t){return this.getInputElement().setValue(e),!t&&this.fire("change",{value:e}),this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var e=this.getInputElement();(e=e.getParent())&&-1==e.$.className.search("cke_dialog_page_contents"););return e?(e=e.getAttribute("name"),this._.dialog._.currentTabId!=e&&this._.dialog.selectPage(e),this):this},focus:function(){return this.selectParentTab().getInputElement().focus(),this},registerEvents:function(e){var t,n,i=/^on([A-Z]\w+)/,o=function(e,t,n,i){t.on("load",(function(){e.getInputElement().on(n,i,e)}))};for(n in e)(t=n.match(i))&&(this.eventProcessors[n]?this.eventProcessors[n].call(this,this._.dialog,e[n]):o(this,this._.dialog,t[1].toLowerCase(),e[n]));return this},eventProcessors:{onLoad:function(e,t){e.on("load",t,this)},onShow:function(e,t){e.on("show",t,this)},onHide:function(e,t){e.on("hide",t,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var e=this.getElement();this.getInputElement().setAttribute("disabled","true"),e.addClass("cke_disabled")},enable:function(){var e=this.getElement();this.getInputElement().removeAttribute("disabled"),e.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return!(!this.isEnabled()||!this.isVisible())}},CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(e){return 1>arguments.length?this._.children.concat():(e.splice||(e=[e]),2>e.length?this._.children[e[0]]:this._.children[e[0]]&&this._.children[e[0]].getChild?this._.children[e[0]].getChild(e.slice(1,e.length)):null)}},!0),CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox,function(){var e={build:function(e,t,n){for(var i,o=t.children,r=[],a=[],s=0;s<o.length&&(i=o[s]);s++){var l=[];r.push(l),a.push(CKEDITOR.dialog._.uiElementBuilders[i.type].build(e,i,l))}return new CKEDITOR.ui.dialog[t.type](e,a,r,n,t)}};CKEDITOR.dialog.addUIElement("hbox",e),CKEDITOR.dialog.addUIElement("vbox",e)}(),CKEDITOR.dialogCommand=function(e,t){this.dialogName=e,CKEDITOR.tools.extend(this,t,!0)},CKEDITOR.dialogCommand.prototype={exec:function(e){var t=this.tabId;e.openDialog(this.dialogName,(function(e){t&&e.selectPage(t)}))},canUndo:!1,editorFocus:1},function(){var e=/^\d*$/,t=/^\d*(?:\.\d+)?$/,n=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,i=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,o=/^(--|-?([a-zA-Z_]|\\))(\\|[a-zA-Z0-9-_])*\s*?:\s*?[^:;]+$/;CKEDITOR.VALIDATE_OR=1,CKEDITOR.VALIDATE_AND=2,CKEDITOR.dialog.validate={functions:function(){var e=arguments;return function(t){this&&this.getValue&&(t=this.getValue());var n,i,o=CKEDITOR.VALIDATE_AND,r=[];for(i=0;i<e.length&&"function"==typeof e[i];i++)r.push(e[i]);i<e.length&&"string"==typeof e[i]&&(n=e[i],i++),i<e.length&&"number"==typeof e[i]&&(o=e[i]),i=o==CKEDITOR.VALIDATE_AND;for(var a=0;a<r.length;a++){var s=!0===r[a](t);i=o==CKEDITOR.VALIDATE_AND?i&&s:i||s}return!!i||n}},regex:function(e,t){return this.functions((function(t){return e.test(t)}),t)},notEmpty:function(e){return this.functions((function(e){return 0<e.replace(RegExp("^[\\u0020\\u00a0\\u1680\\u202f\\u205f\\u3000\\u2000-\\u200a\\s]+|[\\u0020\\u00a0\\u1680\\u202f\\u205f\\u3000\\u2000-\\u200a\\s]+$","g"),"").length}),e)},integer:function(t){return this.regex(e,t)},number:function(e){return this.regex(t,e)},cssLength:function(e){return this.functions((function(e){return i.test(CKEDITOR.tools.trim(e))}),e)},htmlLength:function(e){return this.functions((function(e){return n.test(CKEDITOR.tools.trim(e))}),e)},inlineStyle:function(e){return this.functions((function(e){return""===(e=CKEDITOR.tools.trim(e).split(";"))[e.length-1]&&e.pop(),CKEDITOR.tools.array.every(e,(function(e){return o.test(CKEDITOR.tools.trim(e))}))}),e)},equals:function(e,t){return this.functions((function(t){return t==e}),t)},notEqual:function(e,t){return this.functions((function(t){return t!=e}),t)}},CKEDITOR.on("instanceDestroyed",(function(e){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var t;t=CKEDITOR.dialog._.currentTop;)t.hide();for(var n in k)k[n].remove();k={}}for(var i in e=e.editor._.storedDialogs)e[i].destroy()}))}(),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(e,t,n){var i=null,o=CKEDITOR.dialog._.dialogDefinitions[e];if(null===CKEDITOR.dialog._.currentTop&&f(this),"function"==typeof o)o=this._.storedDialogs||(this._.storedDialogs={}),(i=o[e]||(o[e]=new CKEDITOR.dialog(this,e))).setModel(n),t&&t.call(i,i),i.show();else{if("failed"==o)throw p(this),Error('[CKEDITOR.dialog.openDialog] Dialog "'+e+'" failed when loading definition.');"string"==typeof o&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(o),(function(){"function"!=typeof CKEDITOR.dialog._.dialogDefinitions[e]&&(CKEDITOR.dialog._.dialogDefinitions[e]="failed"),this.openDialog(e,t,n)}),this,0,1)}return CKEDITOR.skin.loadPart("dialog"),i&&i.once("hide",(function(){i.setModel(null)}),null,null,999),i}}),CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:function(e){O||(CKEDITOR.document.appendStyleSheet(this.path+"styles/dialog.css"),O=!0),e.on("doubleclick",(function(t){t.data.dialog&&e.openDialog(t.data.dialog)}),null,null,999)}})}(),CKEDITOR.plugins.add("a11yhelp",{requires:"dialog",availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,"fr-ca":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},init:function(e){var t=this;e.addCommand("a11yHelp",{exec:function(){var n=e.langCode;n=t.availableLangs[n]?n:t.availableLangs[n.replace(/-.*/,"")]?n.replace(/-.*/,""):"en",CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t.path+"dialogs/lang/"+n+".js"),(function(){e.lang.a11yhelp=t.langEntries[n],e.openDialog("a11yHelp")}))},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1}),e.setKeystroke(CKEDITOR.ALT+48,"a11yHelp"),CKEDITOR.dialog.add("a11yHelp",this.path+"dialogs/a11yhelp.js"),e.on("ariaEditorHelpLabel",(function(t){t.data.label=e.lang.common.editorHelp}))}}),CKEDITOR.plugins.add("about",{requires:"dialog",init:function(e){var t=e.addCommand("about",new CKEDITOR.dialogCommand("about"));t.modes={wysiwyg:1,source:1},t.canUndo=!1,t.readOnly=1,e.ui.addButton&&e.ui.addButton("About",{label:e.lang.about.dlgTitle,command:"about",toolbar:"about"}),CKEDITOR.dialog.add("about",this.path+"dialogs/about.js")}}),CKEDITOR.plugins.add("basicstyles",{init:function(e){var t=0,n=function(n,o,r,a){if(a){a=new CKEDITOR.style(a);var s=i[r];s.unshift(a),e.attachStyleStateChange(a,(function(t){!e.readOnly&&e.getCommand(r).setState(t)})),e.addCommand(r,new CKEDITOR.styleCommand(a,{contentForms:s})),e.ui.addButton&&e.ui.addButton(n,{isToggle:!0,label:o,command:r,toolbar:"basicstyles,"+(t+=10)})}},i={bold:["strong","b",["span",function(e){return"bold"==(e=e.styles["font-weight"])||700<=+e}]],italic:["em","i",["span",function(e){return"italic"==e.styles["font-style"]}]],underline:["u",["span",function(e){return"underline"==e.styles["text-decoration"]}]],strike:["s","strike",["span",function(e){return"line-through"==e.styles["text-decoration"]}]],subscript:["sub"],superscript:["sup"]},o=e.config,r=e.lang.basicstyles;n("Bold",r.bold,"bold",o.coreStyles_bold),n("Italic",r.italic,"italic",o.coreStyles_italic),n("Underline",r.underline,"underline",o.coreStyles_underline),n("Strike",r.strike,"strike",o.coreStyles_strike),n("Subscript",r.subscript,"subscript",o.coreStyles_subscript),n("Superscript",r.superscript,"superscript",o.coreStyles_superscript),e.setKeystroke([[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"]])},afterInit:function(e){if(e.config.coreStyles_toggleSubSup){var t=e.getCommand("subscript"),n=e.getCommand("superscript");t&&n&&e.on("afterCommandExec",(function(i){if("subscript"===(i=i.data.name)||"superscript"===i){var o="subscript"===i?n:t;("subscript"===i?t:n).state===CKEDITOR.TRISTATE_ON&&o.state===CKEDITOR.TRISTATE_ON&&(o.exec(e),e.fire("updateSnapshot"))}}))}}}),CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"},CKEDITOR.config.coreStyles_italic={element:"em",overrides:"i"},CKEDITOR.config.coreStyles_underline={element:"u"},CKEDITOR.config.coreStyles_strike={element:"s",overrides:"strike"},CKEDITOR.config.coreStyles_subscript={element:"sub"},CKEDITOR.config.coreStyles_superscript={element:"sup"},CKEDITOR.config.coreStyles_toggleSubSup=!1,function(){var e={exec:function(e){var t=e.getCommand("blockquote").state,n=e.getSelection(),i=n&&n.getRanges()[0];if(i){var o=n.createBookmarks();if(CKEDITOR.env.ie){var r,a=o[0].startNode,s=o[0].endNode;if(a&&"blockquote"==a.getParent().getName())for(r=a;r=r.getNext();)if(r.type==CKEDITOR.NODE_ELEMENT&&r.isBlockBoundary()){a.move(r,!0);break}if(s&&"blockquote"==s.getParent().getName())for(r=s;r=r.getPrevious();)if(r.type==CKEDITOR.NODE_ELEMENT&&r.isBlockBoundary()){s.move(r);break}}if((l=i.createIterator()).enlargeBr=e.config.enterMode!=CKEDITOR.ENTER_BR,t==CKEDITOR.TRISTATE_OFF){for(a=[];t=l.getNextParagraph();)a.push(t);for(1>a.length&&(t=e.document.createElement(e.config.enterMode==CKEDITOR.ENTER_P?"p":"div"),s=o.shift(),i.insertNode(t),t.append(new CKEDITOR.dom.text("\ufeff",e.document)),i.moveToBookmark(s),i.selectNodeContents(t),i.collapse(!0),s=i.createBookmark(),a.push(t),o.unshift(s)),r=a[0].getParent(),i=[],s=0;s<a.length;s++)t=a[s],r=r.getCommonAncestor(t.getParent());for(t={table:1,tbody:1,tr:1,ol:1,ul:1};t[r.getName()];)r=r.getParent();for(s=null;0<a.length;){for(t=a.shift();!t.getParent().equals(r);)t=t.getParent();t.equals(s)||i.push(t),s=t}for(;0<i.length;)if("blockquote"==(t=i.shift()).getName()){for(s=new CKEDITOR.dom.documentFragment(e.document);t.getFirst();)s.append(t.getFirst().remove()),a.push(s.getLast());s.replace(t)}else a.push(t);for((i=e.document.createElement("blockquote")).insertBefore(a[0]);0<a.length;)t=a.shift(),i.append(t)}else if(t==CKEDITOR.TRISTATE_ON){for(s=[],r={};t=l.getNextParagraph();){for(a=i=null;t.getParent();){if("blockquote"==t.getParent().getName()){i=t.getParent(),a=t;break}t=t.getParent()}i&&a&&!a.getCustomData("blockquote_moveout")&&(s.push(a),CKEDITOR.dom.element.setMarker(r,a,"blockquote_moveout",!0))}for(CKEDITOR.dom.element.clearAllMarkers(r),t=[],a=[],r={};0<s.length;)i=(l=s.shift()).getParent(),l.getPrevious()?l.getNext()?(l.breakParent(l.getParent()),a.push(l.getNext())):l.remove().insertAfter(i):l.remove().insertBefore(i),i.getCustomData("blockquote_processed")||(a.push(i),CKEDITOR.dom.element.setMarker(r,i,"blockquote_processed",!0)),t.push(l);for(CKEDITOR.dom.element.clearAllMarkers(r),s=a.length-1;0<=s;s--){e:{for(var l=0,c=(r=i=a[s]).getChildCount(),u=void 0;l<c&&(u=r.getChild(l));l++)if(u.type==CKEDITOR.NODE_ELEMENT&&u.isBlockBoundary()){r=!1;break e}r=!0}r&&i.remove()}if(e.config.enterMode==CKEDITOR.ENTER_BR)for(i=!0;t.length;)if("div"==(l=t.shift()).getName()){for(s=new CKEDITOR.dom.documentFragment(e.document),!i||!l.getPrevious()||l.getPrevious().type==CKEDITOR.NODE_ELEMENT&&l.getPrevious().isBlockBoundary()||s.append(e.document.createElement("br")),i=l.getNext()&&!(l.getNext().type==CKEDITOR.NODE_ELEMENT&&l.getNext().isBlockBoundary());l.getFirst();)l.getFirst().remove().appendTo(s);i&&s.append(e.document.createElement("br")),s.replace(l),i=!1}}n.selectBookmarks(o),e.focus()}},refresh:function(e,t){this.setState(e.elementPath(t.block||t.blockLimit).contains("blockquote",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:"blockquote",allowedContent:"blockquote",requiredContent:"blockquote"};CKEDITOR.plugins.add("blockquote",{init:function(t){t.blockless||(t.addCommand("blockquote",e),t.ui.addButton&&t.ui.addButton("Blockquote",{isToggle:!0,label:t.lang.blockquote.toolbar,command:"blockquote",toolbar:"blocks,10"}))}})}(),function(){function e(e,t){CKEDITOR.tools.extend(this,t,{editor:e,id:"cke-"+CKEDITOR.tools.getUniqueId(),area:e._.notificationArea}),t.type||(this.type="info"),this.element=this._createElement(),e.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(this.element)}function t(e){var t=this;this.editor=e,this.notifications=[],this.element=this._createElement(),this._uiBuffer=CKEDITOR.tools.eventsBuffer(10,this._layout,this),this._changeBuffer=CKEDITOR.tools.eventsBuffer(500,this._layout,this),e.on("destroy",(function(){t._removeListeners(),t.element.remove()}))}CKEDITOR.plugins.add("notification",{init:function(e){e._.notificationArea=new t(e),e.showNotification=function(t,n,i){var o,r;return"progress"==n?o=i:r=i,(t=new CKEDITOR.plugins.notification(e,{message:t,type:n,progress:o,duration:r})).show(),t},e.on("key",(function(t){if(27==t.data.keyCode){var n=e._.notificationArea.notifications;n.length&&(function(e){var t=new CKEDITOR.dom.element("div");t.setStyles({position:"fixed","margin-left":"-9999px"}),t.setAttributes({"aria-live":"assertive","aria-atomic":"true"}),t.setText(e),CKEDITOR.document.getBody().append(t),setTimeout((function(){t.remove()}),100)}(e.lang.notification.closed),n[n.length-1].hide(),t.cancel())}}))}}),e.prototype={show:function(){!1!==this.editor.fire("notificationShow",{notification:this})&&(this.area.add(this),this._hideAfterTimeout())},update:function(e){var t=!0;!1===this.editor.fire("notificationUpdate",{notification:this,options:e})&&(t=!1);var n=this.element,i=n.findOne(".cke_notification_message"),o=n.findOne(".cke_notification_progress"),r=e.type;n.removeAttribute("role"),e.progress&&"progress"!=this.type&&(r="progress"),r&&(n.removeClass(this._getClass()),n.removeAttribute("aria-label"),this.type=r,n.addClass(this._getClass()),n.setAttribute("aria-label",this.type),"progress"!=this.type||o?"progress"!=this.type&&o&&o.remove():(o=this._createProgressElement()).insertBefore(i)),void 0!==e.message&&(this.message=e.message,i.setHtml(this.message)),void 0!==e.progress&&(this.progress=e.progress,o&&o.setStyle("width",this._getPercentageProgress())),t&&e.important&&(n.setAttribute("role","alert"),this.isVisible()||this.area.add(this)),this.duration=e.duration,this._hideAfterTimeout()},hide:function(){!1!==this.editor.fire("notificationHide",{notification:this})&&this.area.remove(this)},isVisible:function(){return 0<=CKEDITOR.tools.indexOf(this.area.notifications,this)},_createElement:function(){var e,t,n=this,i=this.editor.lang.common.close;return(e=new CKEDITOR.dom.element("div")).addClass("cke_notification"),e.addClass(this._getClass()),e.setAttributes({id:this.id,role:"alert","aria-label":this.type}),"progress"==this.type&&e.append(this._createProgressElement()),(t=new CKEDITOR.dom.element("p")).addClass("cke_notification_message"),t.setHtml(this.message),e.append(t),t=CKEDITOR.dom.element.createFromHtml('<a class="cke_notification_close" href="javascript:void(0)" title="'+i+'" role="button" tabindex="-1"><span class="cke_label">X</span></a>'),e.append(t),t.on("click",(function(){n.editor.focus(),n.hide()})),e},_getClass:function(){return"progress"==this.type?"cke_notification_info":"cke_notification_"+this.type},_createProgressElement:function(){var e=new CKEDITOR.dom.element("span");return e.addClass("cke_notification_progress"),e.setStyle("width",this._getPercentageProgress()),e},_getPercentageProgress:function(){return Math.round(100*(this.progress||0))+"%"},_hideAfterTimeout:function(){var e,t=this;this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),"number"==typeof this.duration?e=this.duration:"info"!=this.type&&"success"!=this.type||(e="number"==typeof this.editor.config.notification_duration?this.editor.config.notification_duration:5e3),e&&(t._hideTimeoutId=setTimeout((function(){t.hide()}),e))}},t.prototype={add:function(e){this.notifications.push(e),this.element.append(e.element),1==this.element.getChildCount()&&(CKEDITOR.document.getBody().append(this.element),this._attachListeners()),this._layout()},remove:function(e){var t=CKEDITOR.tools.indexOf(this.notifications,e);0>t||(this.notifications.splice(t,1),e.element.remove(),this.element.getChildCount()||(this._removeListeners(),this.element.remove()))},_createElement:function(){var e=this.editor,t=e.config,n=new CKEDITOR.dom.element("div");return n.addClass("cke_notifications_area"),n.setAttribute("id","cke_notifications_area_"+e.name),n.setStyle("z-index",t.baseFloatZIndex-2),n},_attachListeners:function(){var e=CKEDITOR.document.getWindow(),t=this.editor;e.on("scroll",this._uiBuffer.input),e.on("resize",this._uiBuffer.input),t.on("change",this._changeBuffer.input),t.on("floatingSpaceLayout",this._layout,this,null,20),t.on("blur",this._layout,this,null,20)},_removeListeners:function(){var e=CKEDITOR.document.getWindow(),t=this.editor;e.removeListener("scroll",this._uiBuffer.input),e.removeListener("resize",this._uiBuffer.input),t.removeListener("change",this._changeBuffer.input),t.removeListener("floatingSpaceLayout",this._layout),t.removeListener("blur",this._layout)},_layout:function(){function e(){o.setStyle("left",g(m+a.width-c-u))}var t,n,i,o=this.element,r=this.editor,a=r.ui.contentsElement.getClientRect(),s=r.ui.contentsElement.getDocumentPosition(),l=o.getClientRect(),c=this._notificationWidth,u=this._notificationMargin,d=(i=CKEDITOR.document.getWindow()).getScrollPosition(),h=i.getViewPaneSize(),f=CKEDITOR.document.getBody(),p=f.getDocumentPosition(),g=CKEDITOR.tools.cssLength;c&&u||(i=this.element.getChild(0),c=this._notificationWidth=i.getClientRect().width,u=this._notificationMargin=parseInt(i.getComputedStyle("margin-left"),10)+parseInt(i.getComputedStyle("margin-right"),10)),r.toolbar&&(n=(t=r.ui.space(r.config.toolbarLocation)).getClientRect()),t&&t.isVisible()&&n.bottom>a.top&&n.bottom<a.bottom-l.height?o.setStyles({position:"fixed",top:g(n.bottom)}):0<a.top?o.setStyles({position:"absolute",top:g(s.y)}):s.y+a.height-l.height>d.y?o.setStyles({position:"fixed",top:0}):o.setStyles({position:"absolute",top:g(s.y+a.height-l.height)});var m="fixed"==o.getStyle("position")?a.left:"static"!=f.getComputedStyle("position")?s.x-p.x:s.x;a.width<c+u?s.x+c+u>d.x+h.width?e():o.setStyle("left",g(m)):s.x+c+u>d.x+h.width?o.setStyle("left",g(m)):s.x+a.width/2+c/2+u>d.x+h.width?o.setStyle("left",g(m-s.x+d.x+h.width-c-u)):0>a.left+a.width-c-u?e():0>a.left+a.width/2-c/2?o.setStyle("left",g(m-s.x+d.x)):o.setStyle("left",g(m+a.width/2-c/2-u/2))}},CKEDITOR.plugins.notification=e}(),function(){var e='<a id="{id}" class="cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' title="{title}" tabindex="-1" hidefocus="true" role="button" aria-labelledby="{id}_label" aria-describedby="{id}_description" aria-haspopup="{hasArrow}" aria-disabled="{ariaDisabled}"{hasArrowAriaHtml}{toggleAriaHtml}';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(e+=' onblur="this.style.cssText = this.style.cssText;"');var t="";CKEDITOR.env.ie&&(t='return false;" onmouseup="CKEDITOR.tools.getMouseButton(event)==CKEDITOR.MOUSE_BUTTON_LEFT&&'),e=e+' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" onclick="'+t+'CKEDITOR.tools.callFunction({clickFn},this);return false;"><span class="cke_button_icon cke_button__{iconName}_icon" style="{style}">&nbsp;</span><span id="{id}_label" class="cke_button_label cke_button__{name}_label" aria-hidden="false">{label}</span><span id="{id}_description" class="cke_button_label" aria-hidden="false">{ariaShortcutSpace}{ariaShortcut}</span>{arrowHtml}</a>';var n=CKEDITOR.addTemplate("buttonArrow",'<span class="cke_button_arrow">'+(CKEDITOR.env.hc?"&#9660;":"")+"</span>"),i=CKEDITOR.addTemplate("button",e);CKEDITOR.plugins.add("button",{beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}}),CKEDITOR.UI_BUTTON="button",CKEDITOR.ui.button=function(e){CKEDITOR.tools.extend(this,e,{isToggle:e.isToggle||!1,title:e.label,click:e.click||function(t){t.execCommand(e.command)}}),this._={}},CKEDITOR.ui.button.handler={create:function(e){return new CKEDITOR.ui.button(e)}},CKEDITOR.ui.button.prototype={render:function(e,t){function o(){var t=e.mode;t&&(t=this.modes[t]?void 0!==l[t]?l[t]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,t=e.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:t,this.setState(t),this.refresh&&this.refresh())}var r,a,s,l=null,c=CKEDITOR.env,u=this._.id=CKEDITOR.tools.getNextId(),d="",h=this.command;this._.editor=e;var f,p={id:u,button:this,editor:e,focus:function(){CKEDITOR.document.getById(u).focus()},execute:function(){this.button.click(e)},attach:function(e){this.button.attach(e)}},g=CKEDITOR.tools.addFunction((function(e){if(p.onkey)return e=new CKEDITOR.dom.event(e),!1!==p.onkey(p,e.getKeystroke())})),m=CKEDITOR.tools.addFunction((function(e){var t;return p.onfocus&&(t=!1!==p.onfocus(p,new CKEDITOR.dom.event(e))),t})),E=0;p.clickFn=r=CKEDITOR.tools.addFunction((function(){E&&(e.unlockSelection(1),E=0),p.execute(),c.iOS&&e.focus()})),this.modes?(l={},e.on("beforeModeUnload",(function(){e.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(l[e.mode]=this._.state)}),this),e.on("activeFilterChange",o,this),e.on("mode",o,this),!this.readOnly&&e.on("readOnly",o,this)):h&&(h=e.getCommand(h))&&(h.on("state",(function(){this.setState(h.state)}),this),d+=h.state==CKEDITOR.TRISTATE_ON?"on":h.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off"),this.directional&&e.on("contentDirChanged",(function(t){var n=CKEDITOR.document.getById(this._.id),i=n.getFirst();(t=t.data)!=e.lang.dir?n.addClass("cke_"+t):n.removeClass("cke_ltr").removeClass("cke_rtl"),i.setAttribute("style",CKEDITOR.skin.getIconStyle(f,"rtl"==t,this.icon,this.iconOffset))}),this),h?(a=e.getCommandKeystroke(h))&&(s=CKEDITOR.tools.keystrokeToString(e.lang.common.keyboard,a)):d+="off",a=this.name||this.command;var v=null,T=this.icon;return f=a,this.icon&&!/\./.test(this.icon)?(f=this.icon,T=null):(this.icon&&(v=this.icon),CKEDITOR.env.hidpi&&this.iconHiDpi&&(v=this.iconHiDpi)),v?(CKEDITOR.skin.addIcon(v,v),T=null):v=f,d={id:u,name:a,iconName:f,label:this.label,cls:(this.hasArrow?"cke_button_expandable ":"")+(this.className||""),state:d,ariaDisabled:"disabled"==d?"true":"false",title:this.title+(s?" ("+s.display+")":""),ariaShortcutSpace:s?"&nbsp;":"",ariaShortcut:s?e.lang.common.keyboardShortcut+" "+s.aria:"",titleJs:c.gecko&&!c.hc?"":(this.title||"").replace("'",""),hasArrow:"string"==typeof this.hasArrow&&this.hasArrow||(this.hasArrow?"true":"false"),keydownFn:g,focusFn:m,clickFn:r,style:CKEDITOR.skin.getIconStyle(v,"rtl"==e.lang.dir,T,this.iconOffset),arrowHtml:this.hasArrow?n.output():"",hasArrowAriaHtml:this.hasArrow?' aria-expanded="false"':"",toggleAriaHtml:this.isToggle?'aria-pressed="false"':""},i.output(d,t),this.onRender&&this.onRender(),p},setState:function(e){if(this._.state==e)return!1;this._.state=e;var t=CKEDITOR.document.getById(this._.id);return!!t&&(t.setState(e,"cke_button"),t.setAttribute("aria-disabled",e==CKEDITOR.TRISTATE_DISABLED),this.isToggle&&!this.hasArrow&&t.setAttribute("aria-pressed",e===CKEDITOR.TRISTATE_ON),!0)},getState:function(){return this._.state},toFeature:function(e){if(this._.feature)return this._.feature;var t=this;return this.allowedContent||this.requiredContent||!this.command||(t=e.getCommand(this.command)||t),this._.feature=t}},CKEDITOR.ui.prototype.addButton=function(e,t){this.add(e,CKEDITOR.UI_BUTTON,t)}}(),function(){function e(e){function n(t,n){if(n.length){t.items?t.items.push(e.ui.create("-")):t.items=[];for(var o;o=n.shift();)o="string"==typeof o?o:o.name,i&&-1!=CKEDITOR.tools.indexOf(i,o)||(o=e.ui.create(o))&&e.addFeature(o)&&t.items.push(o)}}var i=function(e){return e&&"string"==typeof e?e.split(","):e}(e.config.removeButtons),o=e.config.toolbar;return"string"==typeof o&&(o=e.config["toolbar_"+o]),e.toolbar=o?function(e){var t,i,o,r=[];for(t=0;t<e.length;++t)o={},"/"==(i=e[t])?r.push(i):CKEDITOR.tools.isArray(i)?(n(o,CKEDITOR.tools.clone(i)),r.push(o)):i.items&&(n(o,CKEDITOR.tools.clone(i.items)),o.name=i.name,r.push(o));return r}(o):function(){for(var i=function(){var t,n,i,o={};for(t in e.ui.items)n=e.ui.items[t],i=(i=n.toolbar||"others").split(","),n=i[0],i=parseInt(i[1]||-1,10),o[n]||(o[n]=[]),o[n].push({name:t,order:i});for(n in o)o[n]=o[n].sort((function(e,t){return e.order==t.order?0:0>t.order?-1:0>e.order?1:e.order<t.order?-1:1}));return o}(),o=CKEDITOR.tools.clone(e.config.toolbarGroups)||t(e),r=0;r<o.length;r++){var a=o[r];if("/"!=a){"string"==typeof a&&(a=o[r]={name:a});var s,l=a.groups;if(l)for(var c=0;c<l.length;c++)(s=i[s=l[c]])&&n(a,s);(s=i[a.name])&&n(a,s)}}return o}()}function t(e){return e._.toolbarGroups||(e._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}var n=function(){this.toolbars=[]};n.prototype.focus=function(){for(var e,t=0;e=this.toolbars[t++];)for(var n,i=0;n=e.items[i++];)if(n.focus)return void n.focus()};var i={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(e){e.toolbox&&(CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout((function(){e.toolbox.focus()}),100):e.toolbox.focus())}};CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(t){var o,r=function(e,n){var i,a=(s="rtl"==t.lang.dir)?37:39,s=s?39:37,l=void 0===(l=t.config.toolbarGroupCycling)||l;switch(n){case 9:case CKEDITOR.SHIFT+9:for(;!i||!i.items.length;)if((i=9==n?(i?i.next:e.toolbar.next)||t.toolbox.toolbars[0]:(i?i.previous:e.toolbar.previous)||t.toolbox.toolbars[t.toolbox.toolbars.length-1]).items.length)for(e=i.items[o?i.items.length-1:0];e&&!e.focus;)(e=o?e.previous:e.next)||(i=0);return e&&e.focus(),!1;case a:i=e;do{!(i=i.next)&&l&&(i=e.toolbar.items[0])}while(i&&!i.focus);return i?i.focus():r(e,9),!1;case 40:return e.button&&e.button.hasArrow?e.execute():r(e,40==n?a:s),!1;case s:case 38:i=e;do{!(i=i.previous)&&l&&(i=e.toolbar.items[e.toolbar.items.length-1])}while(i&&!i.focus);return i?i.focus():(o=1,r(e,CKEDITOR.SHIFT+9),o=0),!1;case 27:return t.focus(),!1;case 13:case 32:return e.execute(),!1;case CKEDITOR.ALT+122:return t.execCommand("elementsPathFocus"),!1}return!0};t.on("uiSpace",(function(i){if(i.data.space==t.config.toolbarLocation){i.removeListener(),t.toolbox=new n;var o,a,s=['<span id="',l=CKEDITOR.tools.getNextId(),'" class="cke_voice_label">',t.lang.toolbar.toolbars,"</span>",'<span id="'+t.ui.spaceId("toolbox")+'" class="cke_toolbox" role="group" aria-labelledby="',l,'" onmousedown="return false;">'],l=!1!==t.config.toolbarStartupExpanded;t.config.toolbarCanCollapse&&t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&s.push('<span class="cke_toolbox_main"'+(l?">":' style="display:none">'));for(var c=t.toolbox.toolbars,u=e(t),d=u.length,h=0;h<d;h++){var f,p,g,m=0,E=u[h],v="/"!==E&&("/"===u[h+1]||h==d-1);if(E)if(o&&(s.push("</span>"),a=o=0),"/"===E)s.push('<span class="cke_toolbar_break"></span>');else{g=E.items||E;for(var T=0;T<g.length;T++){var b,C=g[T];if(C){var y=function(e){e=e.render(t,s),0<(O=m.items.push(e)-1)&&(e.previous=m.items[O-1],e.previous.next=e),e.toolbar=m,e.onkey=r};if(C.type==CKEDITOR.UI_SEPARATOR)a=o&&C;else{if(b=!1!==C.canGroup,!m){f=CKEDITOR.tools.getNextId(),m={id:f,items:[]},p=E.name&&(t.lang.toolbar.toolbarGroups[E.name]||E.name),s.push('<span id="',f,'" class="cke_toolbar'+(v?' cke_toolbar_last"':'"'),p?' aria-labelledby="'+f+'_label"':"",' role="toolbar">'),p&&s.push('<span id="',f,'_label" class="cke_voice_label">',p,"</span>"),s.push('<span class="cke_toolbar_start"></span>');var O=c.push(m)-1;0<O&&(m.previous=c[O-1],m.previous.next=m)}b?o||(s.push('<span class="cke_toolgroup" role="presentation">'),o=1):o&&(s.push("</span>"),o=0),a&&(y(a),a=0),y(C)}}}o&&(s.push("</span>"),a=o=0),m&&s.push('<span class="cke_toolbar_end"></span></span>')}}if(t.config.toolbarCanCollapse&&s.push("</span>"),t.config.toolbarCanCollapse&&t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var I=CKEDITOR.tools.addFunction((function(){t.execCommand("toolbarCollapse")}));t.on("destroy",(function(){CKEDITOR.tools.removeFunction(I)})),t.addCommand("toolbarCollapse",{readOnly:1,exec:function(e){var t=e.ui.space("toolbar_collapser"),n=t.getPrevious(),i=e.ui.space("contents"),o=n.getParent(),r=parseInt(i.$.style.height,10),a=o.$.offsetHeight,s=t.hasClass("cke_toolbox_collapser_min");s?(n.show(),t.removeClass("cke_toolbox_collapser_min"),t.setAttribute("title",e.lang.toolbar.toolbarCollapse)):(n.hide(),t.addClass("cke_toolbox_collapser_min"),t.setAttribute("title",e.lang.toolbar.toolbarExpand)),t.getFirst().setText(s?"▲":"◀"),i.setStyle("height",r-(o.$.offsetHeight-a)+"px"),e.fire("resize",{outerHeight:e.container.$.offsetHeight,contentsHeight:i.$.offsetHeight,outerWidth:e.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}}),t.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse"),s.push('<a title="'+(l?t.lang.toolbar.toolbarCollapse:t.lang.toolbar.toolbarExpand)+'" id="'+t.ui.spaceId("toolbar_collapser")+'" tabIndex="-1" class="cke_toolbox_collapser'),l||s.push(" cke_toolbox_collapser_min"),s.push('" onclick="CKEDITOR.tools.callFunction('+I+')">','<span class="cke_arrow">&#9650;</span>',"</a>")}s.push("</span>"),i.data.html+=s.join("")}})),t.on("destroy",(function(){if(this.toolbox){var e,t,n,i,o=0;for(e=this.toolbox.toolbars;o<e.length;o++)for(n=e[o].items,t=0;t<n.length;t++)(i=n[t]).clickFn&&CKEDITOR.tools.removeFunction(i.clickFn),i.keyDownFn&&CKEDITOR.tools.removeFunction(i.keyDownFn)}})),t.on("uiReady",(function(){var e=t.ui.space("toolbox");e&&t.focusManager.add(e,1)})),t.addCommand("toolbarFocus",i),t.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus"),t.ui.add("-",CKEDITOR.UI_SEPARATOR,{}),t.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(e,t){return t.push('<span class="cke_toolbar_separator" role="separator"></span>'),{}}}}})}}),CKEDITOR.ui.prototype.addToolbarGroup=function(e,n,i){var o=t(this.editor),r=0===n,a={name:e};if(i){if(i=CKEDITOR.tools.search(o,(function(e){return e.name==i})))return!i.groups&&(i.groups=[]),n&&0<=(n=CKEDITOR.tools.indexOf(i.groups,n))?void i.groups.splice(n+1,0,e):void(r?i.groups.splice(0,0,e):i.groups.push(e));n=null}n&&(n=CKEDITOR.tools.indexOf(o,(function(e){return e.name==n}))),r?o.splice(0,0,e):"number"==typeof n?o.splice(n+1,0,a):o.push(e)}}(),CKEDITOR.UI_SEPARATOR="separator",CKEDITOR.config.toolbarLocation="top",function(){function e(e,t,n){return t.type||(t.type="auto"),!(n&&!1===e.fire("beforePaste",t)||!t.dataValue&&t.dataTransfer.isEmpty())&&(t.dataValue||(t.dataValue=""),CKEDITOR.env.gecko&&"drop"==t.method&&e.toolbox&&e.once("afterPaste",(function(){e.toolbox.focus(),e.focus()})),e.fire("paste",t))}function t(t){function n(){var e,n=t.editable();if(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){var i=function(e){t.getSelection().isCollapsed()||(t.readOnly&&"cut"==e.name||p.initPasteDataTransfer(e,t),e.data.preventDefault())};n.on("copy",i),n.on("cut",i),n.on("cut",(function(){t.readOnly||t.extractSelectedHtml()}),null,null,999)}n.on(p.mainPasteEvent,(function(e){"beforepaste"==p.mainPasteEvent&&g||d(e)})),"beforepaste"==p.mainPasteEvent&&(n.on("paste",(function(e){m||(r(),e.data.preventDefault(),d(e),s("paste"))})),n.on("contextmenu",a,null,null,0),n.on("beforepaste",(function(e){!e.data||e.data.$.ctrlKey||e.data.$.shiftKey||a()}),null,null,0)),n.on("beforecut",(function(){!g&&l()})),n.attachListener(CKEDITOR.env.ie?n:t.document.getDocumentElement(),"mouseup",(function(){e=setTimeout(h,0)})),t.on("destroy",(function(){clearTimeout(e)})),n.on("keyup",h)}function i(e){return{type:e,canUndo:"cut"==e,startDisabled:!0,fakeKeystroke:"cut"==e?CKEDITOR.CTRL+88:CKEDITOR.CTRL+67,exec:function(){var e;"cut"==this.type&&l();var n=this.type;if(CKEDITOR.env.ie)e=s(n);else try{e=t.document.$.execCommand(n,!1,null)}catch(t){e=!1}return e||t.showNotification(t.lang.clipboard[this.type+"Error"]),e}}}function o(){return{canUndo:!1,async:!0,fakeKeystroke:CKEDITOR.CTRL+86,exec:function(t,n){function i(n,i){i=void 0===i||i,n?(n.method="paste",n.dataTransfer||(n.dataTransfer=p.initPasteDataTransfer()),e(t,n,i)):r&&!t._.forcePasteDialog&&t.showNotification(l,"info",t.config.clipboard_notificationDuration),t._.forcePasteDialog=!1,t.fire("afterCommandExec",{name:"paste",command:o,returnValue:!!n})}var o=this,r=void 0===(n=null!=n?n:{}).notification||n.notification,a=n.type,s=CKEDITOR.tools.keystrokeToString(t.lang.common.keyboard,t.getCommandKeystroke(this)),l="string"==typeof r?r:t.lang.clipboard.pasteNotification.replace(/%1/,'<kbd aria-label="'+s.aria+'">'+s.display+"</kbd>");s="string"==typeof n?n:n.dataValue,a&&!0!==t.config.forcePasteAsPlainText&&"allow-word"!==t.config.forcePasteAsPlainText?t._.nextPasteType=a:delete t._.nextPasteType,"string"==typeof s?i({dataValue:s}):t.getClipboardData(i)}}}function r(){m=1,setTimeout((function(){m=0}),100)}function a(){g=1,setTimeout((function(){g=0}),10)}function s(e){var n=t.document,i=n.getBody(),o=!1,r=function(){o=!0};return i.on(e,r),7<CKEDITOR.env.version?n.$.execCommand(e):n.$.selection.createRange().execCommand(e),i.removeListener(e,r),o}function l(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var e,n,i,o=t.getSelection();o.getType()==CKEDITOR.SELECTION_ELEMENT&&(e=o.getSelectedElement())&&(n=o.getRanges()[0],(i=t.document.createText("")).insertBefore(e),n.setStartBefore(i),n.setEndAfter(e),o.selectRanges([n]),setTimeout((function(){e.getParent()&&(i.remove(),o.selectElement(e))}),0))}}function c(){if("paste"==p.mainPasteEvent)return t.fire("beforePaste",{type:"auto",method:"paste"}),!1;t.focus(),r();var e=t.focusManager;return e.lock(),t.editable().fire(p.mainPasteEvent)&&!s("paste")?(e.unlock(),!1):(e.unlock(),!0)}function u(e){if("wysiwyg"==t.mode)switch(e.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:e=t.editable(),r(),"paste"==p.mainPasteEvent&&e.fire("beforepaste");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:t.fire("saveSnapshot"),setTimeout((function(){t.fire("saveSnapshot")}),50)}}function d(n){var i={type:"auto",method:"paste",dataTransfer:p.initPasteDataTransfer(n)};i.dataTransfer.cacheData();var o=!1!==t.fire("beforePaste",i);o&&p.canClipboardApiBeTrusted(i.dataTransfer,t)?(n.data.preventDefault(),setTimeout((function(){e(t,i)}),0)):function(e,n){var i,o=t.document,r=t.editable(),a=function(e){e.cancel()};if(!o.getById("cke_pastebin")){var s=t.getSelection(),l=s.createBookmarks();CKEDITOR.env.ie&&s.root.fire("selectionchange");var c=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!r.is("body")||CKEDITOR.env.ie?"div":"body",o);c.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var u=0;o=o.getWindow(),CKEDITOR.env.webkit?(r.append(c),c.addClass("cke_editable"),r.is("body")||(u=(u="static"!=r.getComputedStyle("position")?r:CKEDITOR.dom.element.get(r.$.offsetParent)).getDocumentPosition().y)):r.getAscendant(CKEDITOR.env.ie?"body":"html",1).append(c),c.setStyles({position:"absolute",top:o.getScrollPosition().y-u+10+"px",width:"1px",height:Math.max(1,o.getViewPaneSize().height-20)+"px",overflow:"hidden",margin:0,padding:0}),CKEDITOR.env.safari&&c.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","text")),(u=c.getParent().isReadOnly())?(c.setOpacity(0),c.setAttribute("contenteditable",!0)):c.setStyle("ltr"==t.config.contentsLangDirection?"left":"right","-10000px"),t.on("selectionChange",a,null,null,0),(CKEDITOR.env.webkit||CKEDITOR.env.gecko)&&(i=r.once("blur",a,null,null,-100)),u&&c.focus(),(u=new CKEDITOR.dom.range(c)).selectNodeContents(c);var d=u.select();CKEDITOR.env.ie&&(i=r.once("blur",(function(){t.lockSelection(d)})));var h=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout((function(){var e;CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=h),i&&i.removeListener(),CKEDITOR.env.ie&&r.focus(),s.selectBookmarks(l),c.remove(),CKEDITOR.env.webkit&&(e=c.getFirst())&&e.is&&e.hasClass("Apple-style-span")&&(c=e),t.removeListener("selectionChange",a),n(c.getHtml())}),0)}}(0,(function(n){i.dataValue=n.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/gi,""),o&&e(t,i)}))}function h(){if("wysiwyg"==t.mode){var e=f("paste");t.getCommand("cut").setState(f("cut")),t.getCommand("copy").setState(f("copy")),t.getCommand("paste").setState(e),t.fire("pasteState",e)}}function f(e){var n=(n=t.getSelection())&&n.getRanges()[0];return(t.readOnly||n&&n.checkReadOnly())&&e in{paste:1,cut:1}?CKEDITOR.TRISTATE_DISABLED:"paste"==e?CKEDITOR.TRISTATE_OFF:(n=(e=t.getSelection()).getRanges(),e.getType()==CKEDITOR.SELECTION_NONE||1==n.length&&n[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF)}var p=CKEDITOR.plugins.clipboard,g=0,m=0;!function(){if(t.on("key",u),t.on("contentDom",n),t.on("selectionChange",h),t.contextMenu){t.contextMenu.addListener((function(){return{cut:f("cut"),copy:f("copy"),paste:f("paste")}}));var e=null;t.on("menuShow",(function(){e&&(e.removeListener(),e=null);var n=t.contextMenu.findItemByCommandName("paste");n&&n.element&&(e=n.element.on("touchend",(function(){t._.forcePasteDialog=!0})))}))}t.ui.addButton&&t.once("instanceReady",(function(){t._.pasteButtons&&CKEDITOR.tools.array.forEach(t._.pasteButtons,(function(e){(e=t.ui.get(e))&&(e=CKEDITOR.document.getById(e._.id))&&e.on("touchend",(function(){t._.forcePasteDialog=!0}))}))}))}(),function(){function e(e,n,i,o,r){var a=t.lang.clipboard[n];t.addCommand(n,i),t.ui.addButton&&t.ui.addButton(e,{label:a,command:n,toolbar:"clipboard,"+o}),t.addMenuItems&&t.addMenuItem(n,{label:a,command:n,group:"clipboard",order:r})}e("Cut","cut",i("cut"),10,1),e("Copy","copy",i("copy"),20,4),e("Paste","paste",o(),30,8),t._.pasteButtons||(t._.pasteButtons=[]),t._.pasteButtons.push("Paste")}(),t.getClipboardData=function(e,n){function i(e){e.removeListener(),e.cancel(),n(e.data)}function o(e){e.removeListener(),e.cancel(),n({type:a,dataValue:e.data.dataValue,dataTransfer:e.data.dataTransfer,method:"paste"})}var r=!1,a="auto";n||(n=e,e=null),t.on("beforePaste",(function(e){e.removeListener(),r=!0,a=e.data.type}),null,null,1e3),t.on("paste",i,null,null,0),!1===c()&&(t.removeListener("paste",i),t._.forcePasteDialog&&r&&t.fire("pasteDialog")?(t.on("pasteDialogCommit",o),t.on("dialogHide",(function(e){e.removeListener(),e.data.removeListener("pasteDialogCommit",o),e.data._.committed||n(null)}))):n(null))}}function n(e,t){function n(e){return CKEDITOR.tools.repeat("</p><p>",~~(e/2))+(1==e%2?"<br>":"")}return t=(t=t.replace(/(?!\u3000)\s+/g," ").replace(/> +</g,"><").replace(/<br ?\/>/gi,"<br>")).replace(/<\/?[A-Z]+>/g,(function(e){return e.toLowerCase()})),t.match(/^[^<]$/)?t:(CKEDITOR.env.webkit&&-1<t.indexOf("<div>")&&((t=t.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"<br>").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"<div></div>")).match(/<div>(<br>|)<\/div>/)&&(t="<p>"+t.replace(/(<div>(<br>|)<\/div>)+/g,(function(e){return n(e.split("</div><div>").length+1)}))+"</p>"),t=(t=t.replace(/<\/div><div>/g,"<br>")).replace(/<\/?div>/g,"")),CKEDITOR.env.gecko&&e.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(t=t.replace(/^<br><br>$/,"<br>")),-1<t.indexOf("<br><br>")&&(t="<p>"+t.replace(/(<br>){2,}/g,(function(e){return n(e.length/4)}))+"</p>")),function(e,t){return e.enterMode==CKEDITOR.ENTER_BR?t=t.replace(/(<\/p><p>)+/g,(function(e){return CKEDITOR.tools.repeat("<br>",e.length/7*2)})).replace(/<\/?p>/g,""):e.enterMode==CKEDITOR.ENTER_DIV&&(t=t.replace(/<(\/)?p>/g,"<$1div>")),t}(e,t))}function i(e,t,n){t=CKEDITOR.htmlParser.fragment.fromHtml(t);var i=new CKEDITOR.htmlParser.basicWriter;return n.applyTo(t,!0,!1,e.activeEnterMode),t.writeHtml(i),i.getHtml()}function o(e){e.data.preventDefault(),e.data.$.dataTransfer.dropEffect="none"}function r(t){var n=CKEDITOR.plugins.clipboard;t.on("contentDom",(function(){function i(n,i,o){i.select(),e(t,{dataTransfer:o,method:"drop"},1),o.sourceEditor.fire("saveSnapshot"),o.sourceEditor.editable().extractHtmlFromRange(n),o.sourceEditor.getSelection().selectRanges([n]),o.sourceEditor.fire("saveSnapshot")}function o(i,o){i.select(),e(t,{dataTransfer:o,method:"drop"},1),n.resetDragDataTransfer()}function r(e,n,i){var o={$:e.data.$,target:e.data.getTarget()};n&&(o.dragRange=n),i&&(o.dropRange=i),!1===t.fire(e.name,o)&&e.data.preventDefault()}function a(e){return e.type!=CKEDITOR.NODE_ELEMENT&&(e=e.getParent()),e.getChildCount()}var s=t.editable(),l=CKEDITOR.plugins.clipboard.getDropTarget(t),c=t.ui.space("top"),u=t.ui.space("bottom");n.preventDefaultDropOnElement(c),n.preventDefaultDropOnElement(u),s.attachListener(l,"dragstart",r),s.attachListener(t,"dragstart",n.resetDragDataTransfer,n,null,1),s.attachListener(t,"dragstart",(function(e){n.initDragDataTransfer(e,t)}),null,null,2),s.attachListener(t,"dragstart",(function(){var e=n.dragRange=t.getSelection().getRanges()[0];CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(n.dragStartContainerChildCount=e?a(e.startContainer):null,n.dragEndContainerChildCount=e?a(e.endContainer):null)}),null,null,100),s.attachListener(l,"dragend",r),s.attachListener(t,"dragend",n.initDragDataTransfer,n,null,1),s.attachListener(t,"dragend",n.resetDragDataTransfer,n,null,100),s.attachListener(l,"dragover",(function(e){if(CKEDITOR.env.edge)e.data.preventDefault();else{var t=e.data.getTarget();(t&&t.is&&t.is("html")||CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&e.data.$.dataTransfer.types.contains("Files"))&&e.data.preventDefault()}})),s.attachListener(l,"drop",(function(e){if(!e.data.$.defaultPrevented&&(e.data.preventDefault(),!t.readOnly)&&(!(i=e.data.getTarget()).isReadOnly()||i.type==CKEDITOR.NODE_ELEMENT&&i.is("html"))){var i=n.getRangeAtDropPosition(e,t),o=n.dragRange;i&&r(e,o,i)}}),null,null,9999),s.attachListener(t,"drop",n.initDragDataTransfer,n,null,1),s.attachListener(t,"drop",(function(e){if(e=e.data){var r=e.dropRange,a=e.dragRange,s=e.dataTransfer;s.getTransferType(t)==CKEDITOR.DATA_TRANSFER_INTERNAL?setTimeout((function(){n.internalDrop(a,r,s,t)}),0):s.getTransferType(t)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?i(a,r,s):o(r,s)}}),null,null,9999)}))}var a;CKEDITOR.plugins.add("clipboard",{requires:"dialog,notification,toolbar",_supportedFileMatchers:[],init:function(e){function o(e){return-1!==CKEDITOR.tools.indexOf(["image/png","image/jpeg","image/gif"],e.type)}function a(t){return CKEDITOR.tools.array.some(e.plugins.clipboard._supportedFileMatchers,(function(e){return e(t)}))}function s(t){t.length&&(t=CKEDITOR.tools.array.unique(t),t=CKEDITOR.tools.array.filter(t,(function(e){return!!CKEDITOR.tools.trim(e)})),t=function(t){return t?e.lang.clipboard.fileFormatNotSupportedNotification.replace(/\${formats\}/g,"<em>"+t+"</em>"):e.lang.clipboard.fileWithoutFormatNotSupportedNotification}(t.join(", ")),e.showNotification(t,"info",e.config.clipboard_notificationDuration))}var l,c=function(e){function t(){var e,t={};for(e in CKEDITOR.dtd)"$"!=e.charAt(0)&&"div"!=e&&"span"!=e&&(t[e]=1);return t}var n={};return{get:function(i){return"plain-text"==i?n.plainText||(n.plainText=new CKEDITOR.filter(e,"br")):"semantic-content"==i?((i=n.semanticContent)||((i=new CKEDITOR.filter(e,{})).allow({$1:{elements:t(),attributes:!0,styles:!1,classes:!1}}),i=n.semanticContent=i),i):i?new CKEDITOR.filter(e,i):null}}}(e);e.config.forcePasteAsPlainText?l="plain-text":e.config.pasteFilter?l=e.config.pasteFilter:!CKEDITOR.env.webkit||"pasteFilter"in e.config||(l="semantic-content"),e.pasteFilter=c.get(l),t(e),r(e),CKEDITOR.dialog.add("paste",CKEDITOR.getUrl(this.path+"dialogs/paste.js"));var u,d=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||CKEDITOR.plugins.clipboard.isFileApiSupported;CKEDITOR.plugins.clipboard.addFileMatcher(e,o),e.on("paste",(function(e){if(d&&(e=(t=e.data).dataTransfer,!t.dataValue)){for(var t=[],n=0;n<e.getFilesCount();n++){var i=e.getFile(n);a(i)||t.push(i.type)}s(t)}}),null,null,1),e.on("paste",(function(t){if(d&&e.config.clipboard_handleImages){var n=t.data,i=n.dataTransfer;if(!n.dataValue&&function(e,t){return!(CKEDITOR.env.ie&&e.data.fileTransferCancel||!(CKEDITOR.env.ie||t&&u!==t.id))&&t.isFileTransfer()&&1===t.getFilesCount()}(t,i)&&o(i=i.getFile(0))){var r=new FileReader;r.addEventListener("load",(function(){t.data.dataValue='<img src="'+r.result+'" />',e.fire("paste",t.data)}),!1),r.addEventListener("abort",(function(){CKEDITOR.env.ie&&(t.data.fileTransferCancel=!0),e.fire("paste",t.data)}),!1),r.addEventListener("error",(function(){CKEDITOR.env.ie&&(t.data.fileTransferCancel=!0),e.fire("paste",t.data)}),!1),r.readAsDataURL(i),u=n.dataTransfer.id,t.stop()}}}),null,null,1),e.on("paste",(function(t){if(t.data.dataTransfer||(t.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer),!t.data.dataValue){var n=t.data.dataTransfer,i=n.getData("text/html");i?(t.data.dataValue=i,t.data.type="html"):(i=n.getData("text/plain"))&&(t.data.dataValue=e.editable().transformPlainTextToHtml(i),t.data.type="text")}}),null,null,1),e.on("paste",(function(e){var t=e.data.dataValue,n=CKEDITOR.dtd.$block;if(-1<t.indexOf("Apple-")&&(t=t.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," "),"html"!=e.data.type&&(t=t.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,(function(e,t){return t.replace(/\t/g,"&nbsp;&nbsp; &nbsp;")}))),-1<t.indexOf('<br class="Apple-interchange-newline">')&&(e.data.startsWithEOL=1,e.data.preSniffing="html",t=t.replace(/<br class="Apple-interchange-newline">/,"")),t=t.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1")),t.match(/^<[^<]+cke_(editable|contents)/i)){var i,o,r=new CKEDITOR.dom.element("div");for(r.setHtml(t);1==r.getChildCount()&&(i=r.getFirst())&&i.type==CKEDITOR.NODE_ELEMENT&&(i.hasClass("cke_editable")||i.hasClass("cke_contents"));)r=o=i;o&&(t=o.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?t=t.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,(function(t,i){return i.toLowerCase()in n?(e.data.preSniffing="html","<"+i):t})):CKEDITOR.env.webkit?t=t.replace(/<\/(\w+)><div><br><\/div>$/,(function(t,i){return i in n?(e.data.endsWithEOL=1,"</"+i+">"):t})):CKEDITOR.env.gecko&&(t=t.replace(/(\s)<br>$/,"$1")),e.data.dataValue=t}),null,null,3),e.on("paste",(function(t){t=t.data;var o,r=e._.nextPasteType||t.type,a=t.dataValue,s=e.config.clipboard_defaultContentType||"html",l=t.dataTransfer.getTransferType(e)==CKEDITOR.DATA_TRANSFER_EXTERNAL,u=!0===e.config.forcePasteAsPlainText;o="html"==r||"html"==t.preSniffing?"html":function(e){if(CKEDITOR.env.webkit){if(!e.match(/^[^<]*$/g)&&!e.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!e.match(/^([^<]|<br( ?\/)?>)*$/gi)&&!e.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else{if(!CKEDITOR.env.gecko)return"html";if(!e.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}return"htmlifiedtext"}(a),delete e._.nextPasteType,"htmlifiedtext"==o&&(a=n(e.config,a)),"text"==r&&"html"==o?a=i(e,a,c.get("plain-text")):(l&&e.pasteFilter&&!t.dontFilter||u)&&(a=i(e,a,e.pasteFilter)),t.startsWithEOL&&(a='<br data-cke-eol="1">'+a),t.endsWithEOL&&(a+='<br data-cke-eol="1">'),"auto"==r&&(r="html"==o||"html"==s?"html":"text"),t.type=r,t.dataValue=a,delete t.preSniffing,delete t.startsWithEOL,delete t.endsWithEOL}),null,null,6),e.on("paste",(function(t){(t=t.data).dataValue&&(e.insertHtml(t.dataValue,t.type,t.range),setTimeout((function(){e.fire("afterPaste")}),0))}),null,null,1e3),e.on("pasteDialog",(function(t){setTimeout((function(){e.openDialog("paste",t.data)}),0)}))}}),CKEDITOR.plugins.clipboard={addFileMatcher:function(e,t){e.plugins.clipboard._supportedFileMatchers.push(t)},isCustomCopyCutSupported:!(CKEDITOR.env.ie&&16>CKEDITOR.env.version||CKEDITOR.env.iOS&&605>CKEDITOR.env.version),isCustomDataTypesSupported:!CKEDITOR.env.ie||16<=CKEDITOR.env.version,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?"beforepaste":"paste",addPasteButton:function(e,t,n){e.ui.addButton&&(e.ui.addButton(t,n),e._.pasteButtons||(e._.pasteButtons=[]),e._.pasteButtons.push(t))},canClipboardApiBeTrusted:function(e,t){return!!(e.getTransferType(t)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||CKEDITOR.env.chrome&&!e.isEmpty()||CKEDITOR.env.gecko&&(e.getData("text/html")||e.getFilesCount())||CKEDITOR.env.safari&&603<=CKEDITOR.env.version&&!CKEDITOR.env.iOS||CKEDITOR.env.iOS&&605<=CKEDITOR.env.version||CKEDITOR.env.edge&&16<=CKEDITOR.env.version)},getDropTarget:function(e){var t=e.editable();return CKEDITOR.env.ie&&9>CKEDITOR.env.version||t.isInline()?t:e.document},fixSplitNodesAfterDrop:function(e,t,n,i){function o(e,n,i){var o=e;if(o.type==CKEDITOR.NODE_TEXT&&(o=e.getParent()),o.equals(n)&&i!=n.getChildCount())return e=t.startContainer.getChild(t.startOffset-1),n=t.startContainer.getChild(t.startOffset),e&&e.type==CKEDITOR.NODE_TEXT&&n&&n.type==CKEDITOR.NODE_TEXT&&(i=e.getLength(),e.setText(e.getText()+n.getText()),n.remove(),t.setStart(e,i),t.collapse(!0)),!0}var r=t.startContainer;"number"==typeof i&&"number"==typeof n&&r.type==CKEDITOR.NODE_ELEMENT&&(o(e.startContainer,r,n)||o(e.endContainer,r,i))},isDropRangeAffectedByDragRange:function(e,t){var n=t.startContainer,i=t.endOffset;return!!(e.endContainer.equals(n)&&e.endOffset<=i||e.startContainer.getParent().equals(n)&&e.startContainer.getIndex()<i||e.endContainer.getParent().equals(n)&&e.endContainer.getIndex()<i)},internalDrop:function(t,n,i,o){var r,a,s=CKEDITOR.plugins.clipboard,l=o.editable();o.fire("saveSnapshot"),o.fire("lockSnapshot",{dontUpdate:1}),CKEDITOR.env.ie&&10>CKEDITOR.env.version&&this.fixSplitNodesAfterDrop(t,n,s.dragStartContainerChildCount,s.dragEndContainerChildCount),(a=this.isDropRangeAffectedByDragRange(t,n))||(r=t.createBookmark(!1)),s=n.clone().createBookmark(!1),a&&(r=t.createBookmark(!1)),t=r.startNode,n=r.endNode,a=s.startNode,n&&t.getPosition(a)&CKEDITOR.POSITION_PRECEDING&&n.getPosition(a)&CKEDITOR.POSITION_FOLLOWING&&a.insertBefore(t),(t=o.createRange()).moveToBookmark(r),l.extractHtmlFromRange(t,1),n=o.createRange(),s.startNode.getCommonAncestor(l)||(s=o.getSelection().createBookmarks()[0]),n.moveToBookmark(s),e(o,{dataTransfer:i,method:"drop",range:n},1),o.fire("unlockSnapshot")},getRangeAtDropPosition:function(e,t){var n=e.data.$,i=n.clientX,o=n.clientY,r=t.getSelection(!0).getRanges()[0],a=t.createRange();if(e.data.testRange)return e.data.testRange;if(document.caretRangeFromPoint&&t.document.$.caretRangeFromPoint(i,o))n=t.document.$.caretRangeFromPoint(i,o),a.setStart(CKEDITOR.dom.node(n.startContainer),n.startOffset),a.collapse(!0);else if(n.rangeParent)a.setStart(CKEDITOR.dom.node(n.rangeParent),n.rangeOffset),a.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&r&&t.editable().hasFocus)return r;if(!document.body.createTextRange)return null;t.focus(),n=t.document.getBody().$.createTextRange();try{for(var s=!1,l=0;20>l&&!s;l++){if(!s)try{n.moveToPoint(i,o-l),s=!0}catch(e){}if(!s)try{n.moveToPoint(i,o+l),s=!0}catch(e){}}if(s){var c="cke-temp-"+(new Date).getTime();n.pasteHTML('<span id="'+c+'">​</span>');var u=t.document.getById(c);a.moveToPosition(u,CKEDITOR.POSITION_BEFORE_START),u.remove()}else{var d=t.document.$.elementFromPoint(i,o),h=new CKEDITOR.dom.element(d);if(h.equals(t.editable())||"html"==h.getName())return r&&r.startContainer&&!r.startContainer.equals(t.editable())?r:null;i<h.getClientRect().left?a.setStartAt(h,CKEDITOR.POSITION_AFTER_START):a.setStartAt(h,CKEDITOR.POSITION_BEFORE_END),a.collapse(!0)}}catch(e){return null}}return a},initDragDataTransfer:function(e,t){var n=e.data.$?e.data.$.dataTransfer:null,i=new this.dataTransfer(n,t);"dragstart"===e.name&&i.storeId(),n?this.dragData&&i.id==this.dragData.id?i=this.dragData:this.dragData=i:this.dragData?i=this.dragData:this.dragData=i,e.data.dataTransfer=i},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(e,t){if(this.isCustomCopyCutSupported){if(e&&e.data&&e.data.$){var n=e.data.$.clipboardData,i=new this.dataTransfer(n,t);return"copy"!==e.name&&"cut"!==e.name||i.storeId(),this.copyCutData&&i.id==this.copyCutData.id?(i=this.copyCutData).$=n:this.copyCutData=i,i}return new this.dataTransfer(null,t)}return new this.dataTransfer(CKEDITOR.env.edge&&e&&e.data.$&&e.data.$.clipboardData||null,t)},preventDefaultDropOnElement:function(e){e&&e.on("dragover",o)}},a=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?"cke/id":"Text",CKEDITOR.plugins.clipboard.dataTransfer=function(e,t){e&&(this.$=e),this._={metaRegExp:/^<meta.*?>/i,fragmentRegExp:/\s*\x3c!--StartFragment--\x3e|\x3c!--EndFragment--\x3e\s*/g,types:[],data:{},files:[],nativeHtmlCache:"",normalizeType:function(e){return"text"==(e=e.toLowerCase())||"text/plain"==e?"Text":"url"==e?"URL":"files"===e?"Files":e}},this._.fallbackDataTransfer=new CKEDITOR.plugins.clipboard.fallbackDataTransfer(this),this.id=this.getData(a),this.id||(this.id="Text"==a?"":"cke-"+CKEDITOR.tools.getUniqueId()),t&&(this.sourceEditor=t,this.setData("text/html",t.getSelectedHtml(1)),"Text"==a||this.getData("text/plain")||this.setData("text/plain",t.getSelection().getSelectedText()))},CKEDITOR.DATA_TRANSFER_INTERNAL=1,CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2,CKEDITOR.DATA_TRANSFER_EXTERNAL=3,CKEDITOR.plugins.clipboard.dataTransfer.prototype={getData:function(e,t){if(null==(i="text/html"==(e=this._.normalizeType(e))&&t?this._.nativeHtmlCache:this._.data[e])||""===i){if(this._.fallbackDataTransfer.isRequired())i=this._.fallbackDataTransfer.getData(e,t);else try{i=this.$.getData(e)||""}catch(e){i=""}"text/html"!=e||t||(i=this._stripHtml(i))}if("Text"==e&&CKEDITOR.env.gecko&&this.getFilesCount()&&"file://"==i.substring(0,7)&&(i=""),"string"==typeof i)var n=i.indexOf("</html>"),i=-1!==n?i.substring(0,n+7):i;return i},setData:function(e,t){if("text/html"==(e=this._.normalizeType(e))?(this._.data[e]=this._stripHtml(t),this._.nativeHtmlCache=t):this._.data[e]=t,CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"URL"==e||"Text"==e)if("Text"==a&&"Text"==e&&(this.id=t),this._.fallbackDataTransfer.isRequired())this._.fallbackDataTransfer.setData(e,t);else try{this.$.setData(e,t)}catch(e){}},storeId:function(){"Text"!==a&&this.setData(a,this.id)},getTransferType:function(e){return this.sourceEditor?this.sourceEditor==e?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:CKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){function e(e){e=o._.normalizeType(e);var t=o.getData(e);"text/html"==e&&(o._.nativeHtmlCache=o.getData(e,!0),t=o._stripHtml(t)),t&&(o._.data[e]=t),o._.types.push(e)}if(this.$){var t,n,i,o=this;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(t=0;t<this.$.types.length;t++)e(this.$.types[t])}else e("Text"),e("URL");if(n=this._getImageFromClipboard(),(i=this.$&&this.$.files||null)||n){if(this._.files=[],i&&i.length)for(t=0;t<i.length;t++)this._.files.push(i[t]);0===this._.files.length&&n&&this._.files.push(n)}}},getFilesCount:function(){if(this._.files.length)return this._.files.length;var e=this.$&&this.$.files||null;return e&&e.length?e.length:this._getImageFromClipboard()?1:0},getFile:function(e){if(this._.files.length)return this._.files[e];var t=this.$&&this.$.files||null;return t&&t.length?t[e]:0===e?this._getImageFromClipboard():void 0},isFileTransfer:function(){var e=this.getTypes();return 1===(e=CKEDITOR.tools.array.filter(e,(function(e){return"application/x-moz-file"!==e}))).length&&"files"===e[0].toLowerCase()},isEmpty:function(){var e,t={};if(this.getFilesCount())return!1;if(CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(this._.data),(function(e){t[e]=1})),this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var n=0;n<this.$.types.length;n++)t[this.$.types[n]]=1}else t.Text=1,t.URL=1;for(e in"Text"!=a&&(t[a]=0),t)if(t[e]&&""!==this.getData(e))return!1;return!0},getTypes:function(){return 0<this._.types.length?this._.types:this.$&&this.$.types?[].slice.call(this.$.types):[]},_getImageFromClipboard:function(){var e;try{if(this.$&&this.$.items&&this.$.items[0]&&(e=this.$.items[0].getAsFile())&&e.type)return e}catch(e){}},_stripHtml:function(e){return e&&e.length&&(e=function(e){var t,n,i=new CKEDITOR.htmlParser;return i.onTagOpen=function(e){"body"===e&&(t=i._.htmlPartsRegex.lastIndex)},i.onTagClose=function(e){"body"===e&&(n=i._.htmlPartsRegex.lastIndex)},i.parse(e),"number"!=typeof t||"number"!=typeof n?e:e.substring(t,n).replace(/<\/body\s*>$/gi,"")}(e),e=(e=e.replace(this._.metaRegExp,"")).replace(this._.fragmentRegExp,"")),e}},CKEDITOR.plugins.clipboard.fallbackDataTransfer=function(e){this._dataTransfer=e,this._customDataFallbackType="text/html"},CKEDITOR.plugins.clipboard.fallbackDataTransfer._isCustomMimeTypeSupported=null,CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes=[],CKEDITOR.plugins.clipboard.fallbackDataTransfer.prototype={isRequired:function(){var e=CKEDITOR.plugins.clipboard.fallbackDataTransfer,t=this._dataTransfer.$;if(null===e._isCustomMimeTypeSupported){if(!t)return!1;if(e._isCustomMimeTypeSupported=!1,CKEDITOR.env.edge&&17<=CKEDITOR.env.version)return!0;try{t.setData("cke/mimetypetest","cke test value"),e._isCustomMimeTypeSupported="cke test value"===t.getData("cke/mimetypetest"),t.clearData("cke/mimetypetest")}catch(e){}}return!e._isCustomMimeTypeSupported},getData:function(e,t){var n=this._getData(this._customDataFallbackType,!0);if(t)return n;n=this._extractDataComment(n);var i=null;return null!==(i=e===this._customDataFallbackType?n.content:n.data&&n.data[e]?n.data[e]:this._getData(e,!0))?i:""},setData:function(e,t){(o=e===this._customDataFallbackType)&&(t=this._applyDataComment(t,this._getFallbackTypeData()));var n=t,i=this._dataTransfer.$;try{i.setData(e,n),o&&(this._dataTransfer._.nativeHtmlCache=n)}catch(t){if(this._isUnsupportedMimeTypeError(t)){o=CKEDITOR.plugins.clipboard.fallbackDataTransfer,-1===CKEDITOR.tools.indexOf(o._customTypes,e)&&o._customTypes.push(e);var o=this._getFallbackTypeContent(),r=this._getFallbackTypeData();r[e]=n;try{n=this._applyDataComment(o,r),i.setData(this._customDataFallbackType,n),this._dataTransfer._.nativeHtmlCache=n}catch(e){n=""}}}return n},_getData:function(e,t){var n=this._dataTransfer._.data;if(!t&&n[e])return n[e];try{return this._dataTransfer.$.getData(e)}catch(e){return null}},_getFallbackTypeContent:function(){var e=this._dataTransfer._.data[this._customDataFallbackType];return e||(e=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).content),e},_getFallbackTypeData:function(){var e=CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes,t=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).data||{},n=this._dataTransfer._.data;return CKEDITOR.tools.array.forEach(e,(function(e){void 0!==n[e]?t[e]=n[e]:void 0!==t[e]&&(t[e]=t[e])}),this),t},_isUnsupportedMimeTypeError:function(e){return e.message&&-1!==e.message.search(/element not found/gi)},_extractDataComment:function(e){var t,n={data:null,content:e||""};return e&&16<e.length&&(t=/\x3c!--cke-data:(.*?)--\x3e/g.exec(e))&&t[1]&&(n.data=JSON.parse(decodeURIComponent(t[1])),n.content=e.replace(t[0],"")),n},_applyDataComment:function(e,t){var n="";return t&&CKEDITOR.tools.object.keys(t).length&&(n="\x3c!--cke-data:"+encodeURIComponent(JSON.stringify(t))+"--\x3e"),n+(e&&e.length?e:"")}}}(),CKEDITOR.config.clipboard_notificationDuration=1e4,CKEDITOR.config.clipboard_handleImages=!0,function(){CKEDITOR.plugins.add("panel",{beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}}),CKEDITOR.UI_PANEL="panel",CKEDITOR.ui.panel=function(e,t){t&&CKEDITOR.tools.extend(this,t),CKEDITOR.tools.extend(this,{className:"",css:[]}),this.id=CKEDITOR.tools.getNextId(),this.document=e,this.isFramed=this.forceIFrame||this.css.length,this._={blocks:{}}},CKEDITOR.ui.panel.handler={create:function(e){return new CKEDITOR.ui.panel(e)}};var e=CKEDITOR.addTemplate("panel",'<div lang="{langCode}" id="{id}" dir={dir} class="cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style="z-index:{z-index}" role="presentation">{frame}</div>'),t=CKEDITOR.addTemplate("panel-frame",'<iframe id="{id}" class="cke_panel_frame" role="presentation" frameborder="0" src="{src}"></iframe>'),n=CKEDITOR.addTemplate("panel-frame-inner",'<!DOCTYPE html><html class="cke_panel_container {env}" dir="{dir}" lang="{langCode}"><head>{css}</head><body class="cke_{dir}" style="margin:0;padding:0" onload="{onload}"></body></html>');CKEDITOR.ui.panel.prototype={render:function(i,o){var r={editorId:i.id,id:this.id,langCode:i.langCode,dir:i.lang.dir,cls:this.className,frame:"",env:CKEDITOR.env.cssClass,"z-index":i.config.baseFloatZIndex+1};if(this.getHolderElement=function(){if(!(t=this._.holder)){if(this.isFramed){var e=(t=this.document.getById(this.id+"_frame")).getParent(),t=t.getFrameDocument();CKEDITOR.env.iOS&&e.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"}),e=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind((function(){this.isLoaded=!0,this.onLoad&&this.onLoad()}),this)),t.write(n.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:"window.parent.CKEDITOR.tools.callFunction("+e+");"},r))),t.getWindow().$.CKEDITOR=CKEDITOR,t.on("keydown",(function(e){var t=e.data.getKeystroke(),n=this.document.getById(this.id).getAttribute("dir");("input"!==e.data.getTarget().getName()||37!==t&&39!==t)&&(this._.onKeyDown&&!1===this._.onKeyDown(t)?"input"===e.data.getTarget().getName()&&32===t||e.data.preventDefault():(27==t||t==("rtl"==n?39:37))&&this.onEscape&&!1===this.onEscape(t)&&e.data.preventDefault())}),this),(t=t.getBody()).unselectable(),CKEDITOR.env.air&&CKEDITOR.tools.callFunction(e)}else t=this.document.getById(this.id);this._.holder=t}return t},this.isFramed){var a=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())":"";r.frame=t.output({id:this.id+"_frame",src:a})}return a=e.output(r),o&&o.push(a),a},addBlock:function(e,t){return t=this._.blocks[e]=t instanceof CKEDITOR.ui.panel.block?t:new CKEDITOR.ui.panel.block(this.getHolderElement(),t),this._.currentBlock||this.showBlock(e),t},getBlock:function(e){return this._.blocks[e]},showBlock:function(e){e=this._.blocks[e];var t=this._.currentBlock,n=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+"_frame");return t&&t.hide(),this._.currentBlock=e,CKEDITOR.fire("ariaWidget",n),e._.focusIndex=-1,this._.onKeyDown=e.onKeyDown&&CKEDITOR.tools.bind(e.onKeyDown,e),e.show(),e},destroy:function(){this.element&&this.element.remove()}},CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:function(e,t){this.element=e.append(e.getDocument().createElement("div",{attributes:{tabindex:-1,class:"cke_panel_block"},styles:{display:"none"}})),t&&CKEDITOR.tools.extend(this,t),this.element.setAttributes({role:this.attributes.role||"presentation","aria-label":this.attributes["aria-label"],title:this.attributes.title||this.attributes["aria-label"]}),this.keys={},this._.focusIndex=-1,this.element.disableContextMenu()},_:{markItem:function(e){-1!=e&&(e=this._.getItems().getItem(this._.focusIndex=e),CKEDITOR.env.webkit&&e.getDocument().getWindow().focus(),e.focus(),this.onMark&&this.onMark(e))},markFirstDisplayed:function(e){for(var t,n,i=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&"none"==e.getStyle("display")},o=this._.getItems(),r=o.count()-1;0<=r;r--)if((t=o.getItem(r)).getAscendant(i)||(n=t,this._.focusIndex=r),"true"==t.getAttribute("aria-selected")){n=t,this._.focusIndex=r;break}n&&(e&&e(),CKEDITOR.env.webkit&&n.getDocument().getWindow().focus(),n.focus(),this.onMark&&this.onMark(n))},getItems:function(){return this.element.find("a,input")}},proto:{show:function(){this.element.setStyle("display","")},hide:function(){this.onHide&&!0===this.onHide.call(this)||this.element.setStyle("display","none")},onKeyDown:function(e,t){switch(o=this.keys[e]){case"next":for(var n,i=this._.focusIndex,o=this._.getItems();n=o.getItem(++i);)if(n.getAttribute("_cke_focus")&&n.$.offsetWidth){this._.focusIndex=i,n.focus(!0);break}return!n&&!t&&(this._.focusIndex=-1,this.onKeyDown(e,1));case"prev":for(i=this._.focusIndex,o=this._.getItems();0<i&&(n=o.getItem(--i));){if(n.getAttribute("_cke_focus")&&n.$.offsetWidth){this._.focusIndex=i,n.focus(!0);break}n=null}return!n&&!t&&(this._.focusIndex=o.count(),this.onKeyDown(e,1));case"click":case"mouseup":return(n=0<=(i=this._.focusIndex)&&this._.getItems().getItem(i))&&n.fireEventHandler(o,{button:CKEDITOR.tools.normalizeMouseButton(CKEDITOR.MOUSE_BUTTON_LEFT,!0)}),!1}return!0}}})}(),CKEDITOR.plugins.add("floatpanel",{requires:"panel"}),function(){function e(e,n,i,o,r){r=CKEDITOR.tools.genKey(n.getUniqueId(),i.getUniqueId(),e.lang.dir,e.uiColor||"",o.css||"",r||"");var a=t[r];return a||((a=t[r]=new CKEDITOR.ui.panel(n,o)).element=i.append(CKEDITOR.dom.element.createFromHtml(a.render(e),n)),a.element.setStyles({display:"none",position:"absolute"})),a}var t={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(t,n,i,o){function r(){c.hide()}i.forceIFrame=1,i.toolbarRelated&&t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(n=CKEDITOR.document.getById("cke_"+t.name));var a=n.getDocument(),s=(o=e(t,a,n,i,o||0)).element,l=s.getFirst(),c=this;s.disableContextMenu(),this.element=s,this._={editor:t,panel:o,parentElement:n,definition:i,document:a,iframe:l,children:[],dir:t.lang.dir,showBlockParams:null,markFirst:void 0===i.markFirst||i.markFirst},t.on("mode",r),t.on("resize",r),a.getWindow().on("resize",(function(){this.reposition()}),this)},proto:{addBlock:function(e,t){return this._.panel.addBlock(e,t)},addListBlock:function(e,t){return this._.panel.addListBlock(e,t)},getBlock:function(e){return this._.panel.getBlock(e)},showBlock:function(e,t,n,i,o,r){var a=this._.panel,s=a.showBlock(e);this._.showBlockParams=[].slice.call(arguments),this.allowBlur(!1);var l=this._.editor.editable();this._.returnFocus=l.hasFocus?l:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement),this._.hideTimeout=0;var c=this.element,u=(l=this._.iframe,l=CKEDITOR.env.ie&&!CKEDITOR.env.edge?l:new CKEDITOR.dom.window(l.$.contentWindow),c.getDocument()),d=this._.parentElement.getPositionedAncestor(),h=t.getDocumentPosition(u),f=(u=d?d.getDocumentPosition(u):{x:0,y:0},"rtl"==this._.dir),p=h.x+(i||0)-u.x,g=h.y+(o||0)-u.y;!f||1!=n&&4!=n?f||2!=n&&3!=n||(p+=t.$.offsetWidth-1):p+=t.$.offsetWidth,3!=n&&4!=n||(g+=t.$.offsetHeight-1),this._.panel._.offsetParentId=t.getId(),c.setStyles({top:g+"px",left:0,display:""}),c.setOpacity(0),c.getFirst().removeStyle("width"),this._.editor.focusManager.add(l),this._.blurSet||(CKEDITOR.event.useCapture=!0,l.on("blur",(function(e){function t(){delete this._.returnFocus,this.hide()}this.allowBlur()&&e.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&this.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(t,0,this)):t.call(this))}),this),l.on("focus",(function(){this._.focused=!0,this.hideChild(),this.allowBlur(!0)}),this),CKEDITOR.env.iOS&&(l.on("touchstart",(function(){clearTimeout(this._.hideTimeout)}),this),l.on("touchend",(function(){this._.hideTimeout=0,this.focus()}),this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1),a.onEscape=CKEDITOR.tools.bind((function(e){if(this.onEscape&&!1===this.onEscape(e))return!1}),this),CKEDITOR.tools.setTimeout((function(){var e=CKEDITOR.tools.bind((function(){if((n=c).removeStyle("width"),s.autoSize){var e=s.element.getDocument();e=(CKEDITOR.env.webkit||CKEDITOR.env.edge?s.element:e.getBody()).$.scrollWidth,CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<e&&(e+=(n.$.offsetWidth||0)-(n.$.clientWidth||0)+3),n.setStyle("width",e+10+"px"),e=s.element.$.scrollHeight,CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<e&&(e+=(n.$.offsetHeight||0)-(n.$.clientHeight||0)+3),n.setStyle("height",e+"px"),a._.currentBlock.element.setStyle("display","none").removeStyle("display")}else n.removeStyle("height");f&&(p-=c.$.offsetWidth),c.setStyle("left",p+"px"),e=a.element.getWindow();var t,n=c.$.getBoundingClientRect(),i=(e=e.getViewPaneSize(),n.width||n.right-n.left),o=n.height||n.bottom-n.top,l=f?n.right:e.width-n.left,u=f?e.width-n.right:n.left;f?l<i&&(p=u>i?p+i:e.width>i?p-n.left:p-n.right+e.width):l<i&&(p=u>i?p-i:e.width>i?p-n.right+e.width:p-n.left),i=n.top,e.height-n.top<o&&(g=i>o?g-o:e.height>o?g-n.bottom+e.height:g-n.top),CKEDITOR.env.ie&&!CKEDITOR.env.edge&&((e=n=c.$.offsetParent&&new CKEDITOR.dom.element(c.$.offsetParent))&&"html"==e.getName()&&(e=e.getDocument().getBody()),e&&"rtl"==e.getComputedStyle("direction")&&(p=CKEDITOR.env.ie8Compat?p-2*c.getDocument().getDocumentElement().$.scrollLeft:p-(n.$.scrollWidth-n.$.clientWidth))),(t=(n=c.getFirst()).getCustomData("activePanel"))&&t.onHide&&t.onHide.call(this,1),n.setCustomData("activePanel",this),c.setStyles({top:g+"px",left:p+"px"}),c.setOpacity(1),r&&r()}),this);a.isLoaded?e():a.onLoad=e,CKEDITOR.tools.setTimeout((function(){var e=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus(),s.element.focus(),CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=e),this.allowBlur(!0),this._.markFirst&&(CKEDITOR.env.ie?CKEDITOR.tools.setTimeout((function(){s.markFirstDisplayed?s.markFirstDisplayed():s._.markFirstDisplayed()}),0):s.markFirstDisplayed?s.markFirstDisplayed():s._.markFirstDisplayed()),this._.editor.fire("panelShow",this)}),0,this)}),CKEDITOR.env.air?200:0,this),this.visible=1,this.onShow&&this.onShow.call(this)},reposition:function(){var e=this._.showBlockParams;this.visible&&this._.showBlockParams&&(this.hide(),this.showBlock.apply(this,e))},focus:function(){if(CKEDITOR.env.webkit){var e=CKEDITOR.document.getActive();e&&!e.equals(this._.iframe)&&e.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var e=this._.iframe.getFrameDocument().getActive();e&&e.is("a")&&(this._.lastFocused=e)},hide:function(e){!this.visible||this.onHide&&!0===this.onHide.call(this)||(this.hideChild(),CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur(),this.element.setStyle("display","none"),this.visible=0,this.element.getFirst().removeCustomData("activePanel"),(e=e&&this._.returnFocus)&&(CKEDITOR.env.webkit&&e.type&&e.getWindow().$.focus(),e.focus()),delete this._.lastFocused,this._.showBlockParams=null,this._.editor.fire("panelHide",this))},allowBlur:function(e){var t=this._.panel;return void 0!==e&&(t.allowBlur=e),t.allowBlur},showAsChild:function(e,t,n,i,o,r){this._.activeChild==e&&e._.panel._.offsetParentId==n.getId()||(this.hideChild(),e.onHide=CKEDITOR.tools.bind((function(){CKEDITOR.tools.setTimeout((function(){this._.focused||this.hide()}),0,this)}),this),this._.activeChild=e,this._.focused=!1,e.showBlock(t,n,i,o,r),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout((function(){e.element.getChild(0).$.style.cssText+=""}),100))},hideChild:function(e){var t=this._.activeChild;t&&(delete t.onHide,delete this._.activeChild,t.hide(),e&&this.focus())}}}),CKEDITOR.on("instanceDestroyed",(function(){var e,n=CKEDITOR.tools.isEmpty(CKEDITOR.instances);for(e in t){var i=t[e];n?i.destroy():i.element.hide()}n&&(t={})}))}(),CKEDITOR.plugins.add("menu",{requires:"floatpanel",beforeInit:function(e){for(var t=e.config.menu_groups.split(","),n=e._.menuGroups={},i=e._.menuItems={},o=0;o<t.length;o++)n[t[o]]=o+1;e.addMenuGroup=function(e,t){n[e]=t||100},e.addMenuItem=function(e,t){n[t.group]&&(i[e]=new CKEDITOR.menuItem(this,e,t))},e.addMenuItems=function(e){for(var t in e)this.addMenuItem(t,e[t])},e.getMenuItem=function(e){return i[e]},e.removeMenuItem=function(e){delete i[e]}}}),function(){var e='<span class="cke_menuitem"><a id="{id}" class="cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href="{href}" title="{title}" tabindex="-1" _cke_focus=1 hidefocus="true" role="{role}" aria-label="{attrLabel}" aria-describedby="{id}_description" aria-haspopup="{hasPopup}" aria-disabled="{disabled}" {ariaChecked} draggable="false"',t="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(e+=' onblur="this.style.cssText = this.style.cssText;" ondragstart="return false;"'),CKEDITOR.env.ie&&(t='return false;" onmouseup="CKEDITOR.tools.getMouseButton(event)===CKEDITOR.MOUSE_BUTTON_LEFT&&'),e=e+' onmouseover="CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout="CKEDITOR.tools.callFunction({moveOutFn},{index});" onclick="'+t+'CKEDITOR.tools.callFunction({clickFn},{index}); return false;"><span class="cke_menubutton_inner"><span class="cke_menubutton_icon"><span class="cke_button_icon cke_button__{iconName}_icon" style="{iconStyle}"></span></span><span class="cke_menubutton_label">{label}</span>{shortcutHtml}{arrowHtml}</span></a><span id="{id}_description" class="cke_voice_label" aria-hidden="false">{ariaShortcut}</span></span>';var n=CKEDITOR.addTemplate("menuItem",e),i=CKEDITOR.addTemplate("menuArrow",'<span class="cke_menuarrow"><span>{label}</span></span>'),o=CKEDITOR.addTemplate("menuShortcut",'<span class="cke_menubutton_label cke_menubutton_shortcut">{shortcut}</span>');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(e,t){t=this._.definition=t||{},this.id=CKEDITOR.tools.getNextId(),this.editor=e,this.items=[],this._.listeners=[],this._.level=t.level||1;var n=CKEDITOR.tools.extend({},t.panel,{css:[CKEDITOR.skin.getPath("editor")],level:this._.level-1,block:{}}),i=n.block.attributes=n.attributes||{};!i.role&&(i.role="menu"),this._.panelDefinition=n},_:{onShow:function(){var e=this.editor.getSelection(),t=e&&e.getStartElement(),n=this.editor.elementPath(),i=this._.listeners;this.removeAll();for(var o=0;o<i.length;o++){var r=i[o](t,e,n);if(r)for(var a in r){var s=this.editor.getMenuItem(a);!s||s.command&&!this.editor.getCommand(s.command).state||(s.state=r[a],this.add(s))}}},onClick:function(e){this.hide(),e.onClick?e.onClick():e.command&&this.editor.execCommand(e.command)},onEscape:function(e){var t=this.parent;return t?t._.panel.hideChild(1):27==e&&this.hide(1),!1},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(e){var t=this._.subMenu,n=this.items[e];if(n=n.getItems&&n.getItems()){for(var i in t?t.removeAll():((t=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0))).parent=this,t._.onClick=CKEDITOR.tools.bind(this._.onClick,this)),n){var o=this.editor.getMenuItem(i);o&&(o.state=n[i],t.add(o))}var r=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+String(e));setTimeout((function(){t.show(r,2)}),0)}else this._.panel.hideChild(1)}},proto:{add:function(e){e.order||(e.order=this.items.length),this.items.push(e)},removeAll:function(){this.items=[]},show:function(e,t,n,i){if(this.parent||(this._.onShow(),this.items.length)){t=t||("rtl"==this.editor.lang.dir?2:1);var o=this.items,r=this.editor,a=this._.panel,s=this._.element;a||((a=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level)).onEscape=CKEDITOR.tools.bind((function(e){if(!1===this._.onEscape(e))return!1}),this),a.onShow=function(){a._.panel.getHolderElement().getParent().addClass("cke").addClass("cke_reset_all")},a.onHide=CKEDITOR.tools.bind((function(){this._.onHide&&this._.onHide()}),this),(s=a.addBlock(this.id,this._.panelDefinition.block)).autoSize=!0,(l=s.keys)[40]="next",l[9]="next",l[38]="prev",l[CKEDITOR.SHIFT+9]="prev",l["rtl"==r.lang.dir?37:39]=CKEDITOR.env.ie?"mouseup":"click",l[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(l[13]="mouseup"),(l=(s=this._.element=s.element).getDocument()).getBody().setStyle("overflow","hidden"),l.getElementsByTag("html").getItem(0).setStyle("overflow","hidden"),this._.itemOverFn=CKEDITOR.tools.addFunction((function(e){clearTimeout(this._.showSubTimeout),this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,r.config.menu_subMenuDelay||400,this,[e])}),this),this._.itemOutFn=CKEDITOR.tools.addFunction((function(){clearTimeout(this._.showSubTimeout)}),this),this._.itemClickFn=CKEDITOR.tools.addFunction((function(e){var t=this.items[e];t.state==CKEDITOR.TRISTATE_DISABLED?this.hide(1):t.getItems?this._.showSubMenu(e):this._.onClick(t)}),this)),function(e){e.sort((function(e,t){return e.group<t.group?-1:e.group>t.group?1:e.order<t.order?-1:e.order>t.order?1:0}))}(o);for(var l=['<div class="cke_menu'+((l=r.elementPath())&&l.direction()!=r.lang.dir?" cke_mixed_dir_content":"")+'" role="presentation">'],c=o.length,u=c&&o[0].group,d=0;d<c;d++){var h=o[d];u!=h.group&&(l.push('<div class="cke_menuseparator" role="separator"></div>'),u=h.group),h.render(this,d,l)}l.push("</div>"),s.setHtml(l.join("")),CKEDITOR.ui.fire("ready",this),this.parent?this.parent._.panel.showAsChild(a,this.id,e,t,n,i):a.showBlock(this.id,e,t,n,i),r.fire("menuShow",[a])}},addListener:function(e){this._.listeners.push(e)},hide:function(e){this._.onHide&&this._.onHide(),this._.panel&&this._.panel.hide(e)},findItemByCommandName:function(e){var t=CKEDITOR.tools.array.filter(this.items,(function(t){return e===t.command}));return t.length?{item:t=t[0],element:this._.element.findOne("."+t.className)}:null}}}),CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(e,t,n){CKEDITOR.tools.extend(this,n,{order:0,className:"cke_menubutton__"+t}),this.group=e._.menuGroups[this.group],this.editor=e,this.name=t},proto:{render:function(e,t,r){var a,s,l=e.id+String(t),c=void 0===this.state?CKEDITOR.TRISTATE_OFF:this.state,u="",d=this.editor,h=c==CKEDITOR.TRISTATE_ON?"on":c==CKEDITOR.TRISTATE_DISABLED?"disabled":"off";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(u=' aria-checked="'+(c==CKEDITOR.TRISTATE_ON?"true":"false")+'"');var f=this.getItems,p="&#"+("rtl"==this.editor.lang.dir?"9668":"9658")+";",g=this.name;this.icon&&!/\./.test(this.icon)&&(g=this.icon),this.command&&(a=d.getCommand(this.command),(a=d.getCommandKeystroke(a))&&(s=CKEDITOR.tools.keystrokeToString(d.lang.common.keyboard,a))),a=CKEDITOR.tools.htmlEncodeAttr(this.label),e={id:l,name:this.name,iconName:g,label:this.label,attrLabel:a,cls:this.className||"",state:h,hasPopup:f?"true":"false",disabled:c==CKEDITOR.TRISTATE_DISABLED,title:a+(s?" ("+s.display+")":""),ariaShortcut:s?d.lang.common.keyboardShortcut+" "+s.aria:"",href:"javascript:void('"+(a||"").replace("'")+"')",hoverFn:e._.itemOverFn,moveOutFn:e._.itemOutFn,clickFn:e._.itemClickFn,index:t,iconStyle:CKEDITOR.skin.getIconStyle(g,"rtl"==this.editor.lang.dir,g==this.icon?null:this.icon,this.iconOffset),shortcutHtml:s?o.output({shortcut:s.display}):"",arrowHtml:f?i.output({label:p}):"",role:this.role?this.role:"menuitem",ariaChecked:u},n.output(e,r)}}})}(),CKEDITOR.config.menu_groups="clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div",CKEDITOR.plugins.add("contextmenu",{requires:"menu",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(e){this.base.call(this,e,{panel:{css:e.config.contextmenu_contentsCss,className:"cke_menu_panel",attributes:{"aria-label":e.lang.contextmenu.options}}})},proto:{addTarget:function(e,t){function n(){o=!1}var i,o;if(e.on("contextmenu",(function(e){e=e.data;var n=CKEDITOR.env.webkit?i:CKEDITOR.env.mac?e.$.metaKey:e.$.ctrlKey;if(!(t&&n||(e.preventDefault(),o))){if(CKEDITOR.env.mac&&CKEDITOR.env.webkit){n=this.editor;var r=new CKEDITOR.dom.elementPath(e.getTarget(),n.editable()).contains((function(e){return e.hasAttribute("contenteditable")}),!0);r&&"false"==r.getAttribute("contenteditable")&&n.getSelection().fake(r)}r=e.getTarget().getDocument();var a=e.getTarget().getDocument().getDocumentElement(),s=(n=!r.equals(CKEDITOR.document),r=r.getWindow().getScrollPosition(),n?e.$.clientX:e.$.pageX||r.x+e.$.clientX),l=n?e.$.clientY:e.$.pageY||r.y+e.$.clientY;CKEDITOR.tools.setTimeout((function(){this.open(a,null,s,l)}),CKEDITOR.env.ie?200:0,this)}}),this),CKEDITOR.env.webkit){var r=function(){i=0};e.on("keydown",(function(e){i=CKEDITOR.env.mac?e.data.$.metaKey:e.data.$.ctrlKey})),e.on("keyup",r),e.on("contextmenu",r)}CKEDITOR.env.gecko&&!CKEDITOR.env.mac&&(e.on("keydown",(function(e){e.data.$.shiftKey&&121===e.data.$.keyCode&&(o=!0)}),null,null,0),e.on("keyup",n),e.on("contextmenu",n))},open:function(e,t,n,i){!1!==this.editor.config.enableContextMenu&&this.editor.getSelection().getType()!==CKEDITOR.SELECTION_NONE&&(this.editor.focus(),e=e||CKEDITOR.document.getDocumentElement(),this.editor.selectionChange(1),this.show(e,t,n,i))}}})},beforeInit:function(e){var t=e.contextMenu=new CKEDITOR.plugins.contextMenu(e);e.on("contentDom",(function(){t.addTarget(e.editable(),!1!==e.config.browserContextMenuOnCtrl)})),e.addCommand("contextMenu",{exec:function(e){var t,n=0,i=0;(t=(t=(t=e.getSelection().getRanges())[t.length-1].getClientRects(e.editable().isInline()))[t.length-1])&&(n=t["rtl"===e.lang.dir?"left":"right"],i=t.bottom),e.contextMenu.open(e.document.getBody().getParent(),null,n,i)}}),e.setKeystroke(CKEDITOR.SHIFT+121,"contextMenu"),e.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,"contextMenu")}}),function(){function e(e,n){function o(t){var n;(t=l.list[t]).equals(e.editable())||"true"==t.getAttribute("contenteditable")?((n=e.createRange()).selectNodeContents(t),n=n.select()):(n=e.getSelection()).selectElement(t),CKEDITOR.env.ie&&e.fire("selectionChange",{selection:n,path:new CKEDITOR.dom.elementPath(t)}),e.focus()}function r(){a&&a.setHtml('<span class="cke_path_empty">&nbsp;</span>'),delete l.list}var a,s=e.ui.spaceId("path"),l=e._.elementsPath,c=l.idBase;n.html+='<span id="'+s+'_label" class="cke_voice_label">'+e.lang.elementspath.eleLabel+'</span><span id="'+s+'" class="cke_path" role="group" aria-labelledby="'+s+'_label"><span class="cke_path_empty">&nbsp;</span></span>',e.on("uiReady",(function(){var t=e.ui.space("path");t&&e.focusManager.add(t,1)})),l.onClick=o;var u=CKEDITOR.tools.addFunction(o),d=CKEDITOR.tools.addFunction((function(t,n){var i,r=l.idBase;switch(n=new CKEDITOR.dom.event(n),i="rtl"==e.lang.dir,n.getKeystroke()){case i?39:37:case 9:return(i=CKEDITOR.document.getById(r+(t+1)))||(i=CKEDITOR.document.getById(r+"0")),i.focus(),!1;case i?37:39:case CKEDITOR.SHIFT+9:return(i=CKEDITOR.document.getById(r+(t-1)))||(i=CKEDITOR.document.getById(r+(l.list.length-1))),i.focus(),!1;case 27:return e.focus(),!1;case 13:case 32:return o(t),!1;case CKEDITOR.ALT+121:return e.execCommand("toolbarFocus"),!1}return!0}));e.on("selectionChange",(function(t){for(var n=[],o=l.list=[],r=[],h=l.filters,f=!0,p=t.data.path.elements,g=p.length;g--;){var m=p[g],E=0;t=m.data("cke-display-name")?m.data("cke-display-name"):m.data("cke-real-element-type")?m.data("cke-real-element-type"):m.getName(),(f=m.hasAttribute("contenteditable")?"true"==m.getAttribute("contenteditable"):f)||m.hasAttribute("contenteditable")||(E=1);for(var v=0;v<h.length;v++){var T=h[v](m,t);if(!1===T){E=1;break}t=T||t}E||(o.unshift(m),r.unshift(t))}for(o=o.length,h=0;h<o;h++)t=r[h],f=e.lang.elementspath.eleTitle.replace(/%1/,t),t=i.output({id:c+h,label:f,text:t,jsTitle:"javascript:void('"+t+"')",index:h,keyDownFn:d,clickFn:u}),n.unshift(t);a||(a=CKEDITOR.document.getById(s)),(r=a).setHtml(n.join("")+'<span class="cke_path_empty">&nbsp;</span>'),e.fire("elementsPathUpdate",{space:r})})),e.on("readOnly",r),e.on("contentDomUnload",r),e.addCommand("elementsPathFocus",t.toolbarFocus),e.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}var t={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(e){(e=CKEDITOR.document.getById(e._.elementsPath.idBase+"0"))&&e.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}}},n="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(n+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(n+=' onblur="this.style.cssText = this.style.cssText;"');var i=CKEDITOR.addTemplate("pathItem",'<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"'+n+' hidefocus="true"  draggable="false"  ondragstart="return false;" onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');CKEDITOR.plugins.add("elementspath",{init:function(t){t._.elementsPath={idBase:"cke_elementspath_"+CKEDITOR.tools.getNextNumber()+"_",filters:[]},t.on("uiSpace",(function(n){"bottom"==n.data.space&&e(t,n.data)}))}})}(),function(){function e(e,i){var o,r;i.on("refresh",(function(e){var i,o=[t];for(i in e.data.states)o.push(e.data.states[i]);this.setState(CKEDITOR.tools.search(o,n)?n:t)}),i,null,100),i.on("exec",(function(t){o=e.getSelection(),r=o.createBookmarks(1),t.data||(t.data={}),t.data.done=!1}),i,null,0),i.on("exec",(function(){e.forceNextSelectionCheck(),o.selectBookmarks(r)}),i,null,100)}var t=CKEDITOR.TRISTATE_DISABLED,n=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indent",{init:function(t){var n=CKEDITOR.plugins.indent.genericDefinition;e(t,t.addCommand("indent",new n(!0))),e(t,t.addCommand("outdent",new n)),t.ui.addButton&&(t.ui.addButton("Indent",{label:t.lang.indent.indent,command:"indent",directional:!0,toolbar:"indent,20"}),t.ui.addButton("Outdent",{label:t.lang.indent.outdent,command:"outdent",directional:!0,toolbar:"indent,10"})),t.on("dirChanged",(function(e){var n=t.createRange(),i=e.data.node;n.setStartBefore(i),n.setEndAfter(i);for(var o,r=new CKEDITOR.dom.walker(n);o=r.next();)if(o.type==CKEDITOR.NODE_ELEMENT)if(!o.equals(i)&&o.getDirection())n.setStartAfter(o),r=new CKEDITOR.dom.walker(n);else{var a=t.config.indentClasses;if(a)for(var s="ltr"==e.data.dir?["_rtl",""]:["","_rtl"],l=0;l<a.length;l++)o.hasClass(a[l]+s[0])&&(o.removeClass(a[l]+s[0]),o.addClass(a[l]+s[1]));a=o.getStyle("margin-right"),s=o.getStyle("margin-left"),a?o.setStyle("margin-left",a):o.removeStyle("margin-left"),s?o.setStyle("margin-right",s):o.removeStyle("margin-right")}}))}}),CKEDITOR.plugins.indent={genericDefinition:function(e){this.isIndent=!!e,this.startDisabled=!this.isIndent},specificDefinition:function(e,t,n){this.name=t,this.editor=e,this.jobs={},this.enterBr=e.config.enterMode==CKEDITOR.ENTER_BR,this.isIndent=!!n,this.relatedGlobal=n?"indent":"outdent",this.indentKey=n?9:CKEDITOR.SHIFT+9,this.database={}},registerCommands:function(e,t){e.on("pluginsLoaded",(function(){for(var e in t)!function(e,t){var n,i=e.getCommand(t.relatedGlobal);for(n in t.jobs)i.on("exec",(function(i){i.data.done||(e.fire("lockSnapshot"),t.execJob(e,n)&&(i.data.done=!0),e.fire("unlockSnapshot"),CKEDITOR.dom.element.clearAllMarkers(t.database))}),this,null,n),i.on("refresh",(function(i){i.data.states||(i.data.states={}),i.data.states[t.name+"@"+n]=t.refreshJob(e,n,i.data.path)}),this,null,n);e.addFeature(t)}(this,t[e])}))}},CKEDITOR.plugins.indent.genericDefinition.prototype={context:"p",exec:function(){}},CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(e,n){var i=this.jobs[n];if(i.state!=t)return i.exec.call(this,e)},refreshJob:function(e,n,i){return n=this.jobs[n],e.activeFilter.checkFeature(this)?n.state=n.refresh.call(this,e,i):n.state=t,n.state},getContext:function(e){return e.contains(this.context)}}}(),function(){function e(e){function i(t){for(var i=o.startContainer,l=o.endContainer;i&&!i.getParent().equals(t);)i=i.getParent();for(;l&&!l.getParent().equals(t);)l=l.getParent();if(!i||!l)return!1;for(var c=[],u=!1;!u;)i.equals(l)&&(u=!0),c.push(i),i=i.getNext();if(1>c.length)return!1;for(i=t.getParents(!0),l=0;l<i.length;l++)if(i[l].getName&&s[i[l].getName()]){t=i[l];break}i=r.isIndent?1:-1,l=c[0],c=c[c.length-1];var d,h=(u=CKEDITOR.plugins.list.listToArray(t,a))[c.getCustomData("listarray_index")].indent;for(l=l.getCustomData("listarray_index");l<=c.getCustomData("listarray_index");l++)if(u[l].indent+=i,0<i){for(var f=u[l].parent,p=l-1;0<=p;p--)if(u[p].indent===i){f=u[p].parent;break}u[l].parent=new CKEDITOR.dom.element(f.getName(),f.getDocument())}for(l=c.getCustomData("listarray_index")+1;l<u.length&&u[l].indent>h;l++)u[l].indent+=i;if(i=CKEDITOR.plugins.list.arrayToList(u,a,null,e.config.enterMode,t.getDirection()),!r.isIndent&&(d=t.getParent())&&d.is("li")){var g,m=[];for(l=(c=i.listNode.getChildren()).count()-1;0<=l;l--)(g=c.getItem(l))&&g.is&&g.is("li")&&m.push(g)}if(i&&i.listNode.replace(t),m&&m.length)for(l=0;l<m.length;l++){for(g=t=m[l];(g=g.getNext())&&g.is&&g.getName()in s;)CKEDITOR.env.needsNbspFiller&&!t.getFirst(n)&&t.append(o.document.createText(" ")),t.append(g);t.insertAfter(d)}return i&&e.fire("contentDomInvalidated"),!0}for(var o,r=this,a=this.database,s=this.context,l=((l=e.getSelection())&&l.getRanges()).createIterator();o=l.getNextRange();){for(var c=o.getCommonAncestor();c&&(c.type!=CKEDITOR.NODE_ELEMENT||!s[c.getName()]);){if(e.editable().equals(c)){c=!1;break}c=c.getParent()}if(c||(c=o.startPath().contains(s))&&o.setEndAt(c,CKEDITOR.POSITION_BEFORE_END),!c){var u=o.getEnclosedNode();u&&u.type==CKEDITOR.NODE_ELEMENT&&u.getName()in s&&(o.setStartAt(u,CKEDITOR.POSITION_AFTER_START),o.setEndAt(u,CKEDITOR.POSITION_BEFORE_END),c=u)}if(c&&o.startContainer.type==CKEDITOR.NODE_ELEMENT&&o.startContainer.getName()in s&&((u=new CKEDITOR.dom.walker(o)).evaluator=t,o.startContainer=u.next()),c&&o.endContainer.type==CKEDITOR.NODE_ELEMENT&&o.endContainer.getName()in s&&((u=new CKEDITOR.dom.walker(o)).evaluator=t,o.endContainer=u.previous()),c)return i(c)}return 0}function t(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.is("li")}function n(e){return i(e)&&o(e)}var i=CKEDITOR.dom.walker.whitespaces(!0),o=CKEDITOR.dom.walker.bookmark(!1,!0),r=CKEDITOR.TRISTATE_DISABLED,a=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(t){function n(t){i.specificDefinition.apply(this,arguments),this.requiredContent=["ul","ol"],t.on("key",(function(e){var n=t.elementPath();if("wysiwyg"==t.mode&&e.data.keyCode==this.indentKey&&n){var i=this.getContext(n);!i||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,n,i)||(t.execCommand(this.relatedGlobal),e.cancel())}}),this),this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(e,t){var n=this.getContext(t),i=CKEDITOR.plugins.indentList.firstItemInPath(this.context,t,n);return n&&this.isIndent&&!i?a:r}:function(e,t){return!this.getContext(t)||this.isIndent?r:a},exec:CKEDITOR.tools.bind(e,this)}}var i=CKEDITOR.plugins.indent;i.registerCommands(t,{indentlist:new n(t,"indentlist",!0),outdentlist:new n(t,"outdentlist")}),CKEDITOR.tools.extend(n.prototype,i.specificDefinition.prototype,{context:{ol:1,ul:1}})}}),CKEDITOR.plugins.indentList={},CKEDITOR.plugins.indentList.firstItemInPath=function(e,n,i){var o=n.contains(t);return i||(i=n.contains(e)),i&&o&&o.equals(i.getFirst(t))}}(),function(){function e(e,t,n,i){for(var o=CKEDITOR.plugins.list.listToArray(t.root,n),r=[],a=0;a<t.contents.length;a++)(u=(u=t.contents[a]).getAscendant("li",!0))&&!u.getCustomData("list_item_processed")&&(r.push(u),CKEDITOR.dom.element.setMarker(n,u,"list_item_processed",!0));var s,l,c,u=t.root.getDocument();for(a=0;a<r.length;a++){var d=r[a].getCustomData("listarray_index");(s=o[d].parent).is(this.type)||(l=u.createElement(this.type),s.copyAttributes(l,{start:1,type:1}),l.removeStyle("list-style-type"),o[d].parent=l)}for(o=(n=CKEDITOR.plugins.list.arrayToList(o,n,null,e.config.enterMode)).listNode.getChildCount(),a=0;a<o&&(c=n.listNode.getChild(a));a++)c.getName()==this.type&&i.push(c);n.listNode.replace(t.root),e.fire("contentDomInvalidated")}function t(e,t,n){var i,o,r=t.contents,a=t.root.getDocument(),s=[];if(1==r.length&&r[0].equals(t.root)){var l=a.createElement("div");r[0].moveChildren&&r[0].moveChildren(l),r[0].append(l),r[0]=l}for(t=t.contents[0].getParent(),l=0;l<r.length;l++)t=t.getCommonAncestor(r[l].getParent());for(e=e.config.useComputedState,l=0;l<r.length;l++)for(var c,u=r[l];c=u.getParent();){if(c.equals(t)){s.push(u),!o&&u.getDirection()&&(o=1),u=u.getDirection(e),null!==i&&(i=i&&i!=u?null:u);break}u=c}if(!(1>s.length)){for(r=s[s.length-1].getNext(),l=a.createElement(this.type),n.push(l);s.length;)n=s.shift(),e=a.createElement("li"),(u=n).is("pre")||p.test(u.getName())||"false"==u.getAttribute("contenteditable")?n.appendTo(e):(n.copyAttributes(e),i&&n.getDirection()&&(e.removeStyle("direction"),e.removeAttribute("dir")),n.moveChildren(e),n.remove()),e.appendTo(l);i&&o&&l.setAttribute("dir",i),r?l.insertBefore(r):l.appendTo(t)}}function n(e,t,n){function i(n){!(l=u[n?"getFirst":"getLast"]())||l.is&&l.isBlockBoundary()||!(c=t.root[n?"getPrevious":"getNext"](CKEDITOR.dom.walker.invisible(!0)))||c.is&&c.isBlockBoundary({br:1})||e.document.createElement("br")[n?"insertBefore":"insertAfter"](l)}for(var o=CKEDITOR.plugins.list.listToArray(t.root,n),r=[],a=0;a<t.contents.length;a++){var s=t.contents[a];(s=s.getAscendant("li",!0))&&!s.getCustomData("list_item_processed")&&(r.push(s),CKEDITOR.dom.element.setMarker(n,s,"list_item_processed",!0))}for(s=null,a=0;a<r.length;a++)o[s=r[a].getCustomData("listarray_index")].indent=-1;for(a=s+1;a<o.length;a++)if(o[a].indent>o[a-1].indent+1){for(r=o[a-1].indent+1-o[a].indent,s=o[a].indent;o[a]&&o[a].indent>=s;)o[a].indent+=r,a++;a--}var l,c,u=CKEDITOR.plugins.list.arrayToList(o,n,null,e.config.enterMode,t.root.getAttribute("dir")).listNode;i(!0),i(),u.replace(t.root),e.fire("contentDomInvalidated")}function i(e,t){this.name=e,this.context=this.type=t,this.allowedContent=t+" li",this.requiredContent=t}function o(e,t,n,i){for(var o,r;o=e[i?"getLast":"getFirst"](g);)(r=o.getDirection(1))!==t.getDirection(1)&&o.setAttribute("dir",r),o.remove(),n?o[i?"insertBefore":"insertAfter"](n):t.append(o,i),n=o}function r(e){function t(t){var n=e[t?"getPrevious":"getNext"](h);n&&n.type==CKEDITOR.NODE_ELEMENT&&n.is(e.getName())&&(o(e,n,null,!t),e.remove(),e=n)}t(),t(1)}function a(e){return e.type==CKEDITOR.NODE_ELEMENT&&(e.getName()in CKEDITOR.dtd.$block||e.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[e.getName()]["#"]}function s(e,t,n){e.fire("saveSnapshot"),n.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var i=n.extractContents();t.trim(!1,!0);var a=t.createBookmark(),s=(c=new CKEDITOR.dom.elementPath(t.startContainer)).block,c=c.lastElement.getAscendant("li",1)||s,u=(d=new CKEDITOR.dom.elementPath(n.startContainer)).contains(CKEDITOR.dtd.$listItem),d=d.contains(CKEDITOR.dtd.$list);for(s?(s=s.getBogus())&&s.remove():d&&(s=d.getPrevious(h))&&f(s)&&s.remove(),(s=i.getLast())&&s.type==CKEDITOR.NODE_ELEMENT&&s.is("br")&&s.remove(),(s=t.startContainer.getChild(t.startOffset))?i.insertBefore(s):t.startContainer.append(i),u&&(i=l(u))&&(c.contains(u)?(o(i,u.getParent(),u),i.remove()):c.append(i));n.checkStartOfBlock()&&n.checkEndOfBlock()&&(i=(d=n.startPath()).block);)i.is("li")&&(c=i.getParent(),i.equals(c.getLast(h))&&i.equals(c.getFirst(h))&&(i=c)),n.moveToPosition(i,CKEDITOR.POSITION_BEFORE_START),i.remove();n=n.clone(),i=e.editable(),n.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(n)).evaluator=function(e){return h(e)&&!f(e)},(n=n.next())&&n.type==CKEDITOR.NODE_ELEMENT&&n.getName()in CKEDITOR.dtd.$list&&r(n),t.moveToBookmark(a),t.select(),e.fire("saveSnapshot")}function l(e){return(e=e.getLast(h))&&e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in c?e:null}var c={ol:1,ul:1},u=CKEDITOR.dom.walker.whitespaces(),d=CKEDITOR.dom.walker.bookmark(),h=function(e){return!(u(e)||d(e))},f=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(e,t,n,i,o){if(!c[e.getName()])return[];i||(i=0),n||(n=[]);for(var r=0,a=e.getChildCount();r<a;r++){var s=e.getChild(r);if(s.type==CKEDITOR.NODE_ELEMENT&&s.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(s,t,n,i+1),"li"==s.$.nodeName.toLowerCase()){var l={parent:e,indent:i,element:s,contents:[]};o?l.grandparent=o:(l.grandparent=e.getParent(),l.grandparent&&"li"==l.grandparent.$.nodeName.toLowerCase()&&(l.grandparent=l.grandparent.getParent())),t&&CKEDITOR.dom.element.setMarker(t,s,"listarray_index",n.length),n.push(l);for(var u,d=0,h=s.getChildCount();d<h;d++)(u=s.getChild(d)).type==CKEDITOR.NODE_ELEMENT&&c[u.getName()]?CKEDITOR.plugins.list.listToArray(u,t,n,i+1,l.grandparent):l.contents.push(u)}}return n},arrayToList:function(e,t,n,i,o){if(n||(n=0),!e||e.length<n+1)return null;for(var r,a,s,l=e[n].parent.getDocument(),u=new CKEDITOR.dom.documentFragment(l),f=null,p=n,g=Math.max(e[n].indent,0),m=null,E=i==CKEDITOR.ENTER_P?"p":"div";;){var v=e[p];if(r=v.grandparent,a=v.element.getDirection(1),v.indent==g){for(f&&e[p].parent.getName()==f.getName()||(f=e[p].parent.clone(!1,1),o&&f.setAttribute("dir",o),u.append(f)),m=f.append(v.element.clone(0,1)),a!=f.getDirection(1)&&m.setAttribute("dir",a),r=0;r<v.contents.length;r++)m.append(v.contents[r].clone(1,1));p++}else if(v.indent==Math.max(g,0)+1)v=e[p-1].element.getDirection(1),p=CKEDITOR.plugins.list.arrayToList(e,null,p,i,v!=a?a:null),!m.getChildCount()&&CKEDITOR.env.needsNbspFiller&&7>=l.$.documentMode&&m.append(l.createText(" ")),m.append(p.listNode),p=p.nextIndex;else{if(-1!=v.indent||n||!r)return null;c[r.getName()]?(m=v.element.clone(!1,!0),a!=r.getDirection(1)&&m.setAttribute("dir",a)):m=new CKEDITOR.dom.documentFragment(l),f=r.getDirection(1)!=a;var T,b,C=v.element,y=C.getAttribute("class"),O=C.getAttribute("style"),I=m.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(i!=CKEDITOR.ENTER_BR||f||O||y),D=v.contents.length;for(r=0;r<D;r++)if(T=v.contents[r],d(T)&&1<D)I?b=T.clone(1,1):m.append(T.clone(1,1));else if(T.type==CKEDITOR.NODE_ELEMENT&&T.isBlockBoundary()){f&&!T.getDirection()&&T.setAttribute("dir",a),s=T;var R=C.getAttribute("style");R&&s.setAttribute("style",R.replace(/([^;])$/,"$1;")+(s.getAttribute("style")||"")),y&&T.addClass(y),s=null,b&&(m.append(b),b=null),m.append(T.clone(1,1))}else I?(s||(s=l.createElement(E),m.append(s),f&&s.setAttribute("dir",a)),O&&s.setAttribute("style",O),y&&s.setAttribute("class",y),b&&(s.append(b),b=null),s.append(T.clone(1,1))):m.append(T.clone(1,1));b&&((s||m).append(b),b=null),m.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&p!=e.length-1&&(CKEDITOR.env.needsBrFiller&&(a=m.getLast())&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("br")&&a.remove(),(a=m.getLast(h))&&a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$block)||m.append(l.createElement("br"))),"div"!=(a=m.$.nodeName.toLowerCase())&&"p"!=a||m.appendBogus(),u.append(m),f=null,p++}if(s=null,e.length<=p||Math.max(e[p].indent,0)<g)break}if(t)for(e=u.getFirst();e;){if(e.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(t,e),e.getName()in CKEDITOR.dtd.$listItem&&(l=o=i=void 0,i=(n=e).getDirection()))){for(o=n.getParent();o&&!(l=o.getDirection());)o=o.getParent();i==l&&n.removeAttribute("dir")}e=e.getNextSourceNode()}return{listNode:u,nextIndex:p}}};var p=/^h[1-6]$/,g=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);i.prototype={exec:function(i){function o(e){return c[e.root.getName()]&&!function(e,t){return CKEDITOR.tools.array.filter(e.getChildren().toArray(),(function(e){return-1===CKEDITOR.tools.array.indexOf(t,e.type)})).length}(e.root,[CKEDITOR.NODE_COMMENT])}function a(e){var t=!0;return 0!==e.getChildCount()&&(e.forEach((function(e){if(e.type!==CKEDITOR.NODE_COMMENT)return t=!1}),null,!0),t)}this.refresh(i,i.elementPath());var s=i.config,l=i.getSelection(),u=l&&l.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF)if((f=i.editable()).getFirst(h)){var d=1==u.length&&u[0];(s=d&&d.getEnclosedNode())&&s.is&&this.type==s.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else s.enterMode==CKEDITOR.ENTER_BR?f.appendBogus():u[0].fixBlock(1,s.enterMode==CKEDITOR.ENTER_P?"p":"div"),l.selectRanges(u);s=l.createBookmarks(!0);for(var f=[],p={},g=(u=u.createIterator(),0);(d=u.getNextRange())&&++g;){var m=d.getBoundaryNodes(),E=m.startNode,v=m.endNode;for(E.type==CKEDITOR.NODE_ELEMENT&&"td"==E.getName()&&d.setStartAt(m.startNode,CKEDITOR.POSITION_AFTER_START),v.type==CKEDITOR.NODE_ELEMENT&&"td"==v.getName()&&d.setEndAt(m.endNode,CKEDITOR.POSITION_BEFORE_END),(d=d.createIterator()).forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;m=d.getNextParagraph();)if(!m.getCustomData("list_block")&&!a(m)){CKEDITOR.dom.element.setMarker(p,m,"list_block",1),E=(b=i.elementPath(m)).elements,v=0;for(var T,b=b.blockLimit,C=E.length-1;0<=C&&(T=E[C]);C--)if(c[T.getName()]&&b.contains(T)){b.removeCustomData("list_group_object_"+g),(E=T.getCustomData("list_group_object"))?E.contents.push(m):(E={root:T,contents:[m]},f.push(E),CKEDITOR.dom.element.setMarker(p,T,"list_group_object",E)),v=1;break}v||((v=b).getCustomData("list_group_object_"+g)?v.getCustomData("list_group_object_"+g).contents.push(m):(E={root:v,contents:[m]},CKEDITOR.dom.element.setMarker(p,v,"list_group_object_"+g,E),f.push(E)))}}for(T=[];0<f.length;)E=f.shift(),this.state==CKEDITOR.TRISTATE_OFF?o(E)||(c[E.root.getName()]?e.call(this,i,E,p,T):t.call(this,i,E,T)):this.state==CKEDITOR.TRISTATE_ON&&c[E.root.getName()]&&!o(E)&&n.call(this,i,E,p);for(C=0;C<T.length;C++)r(T[C]);CKEDITOR.dom.element.clearAllMarkers(p),l.selectBookmarks(s),i.focus()},refresh:function(e,t){var n=t.contains(c,1),i=t.blockLimit||t.root;n&&i.contains(n)?this.setState(n.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.plugins.add("list",{requires:"indentlist",init:function(e){e.blockless||(e.addCommand("numberedlist",new i("numberedlist","ol")),e.addCommand("bulletedlist",new i("bulletedlist","ul")),e.ui.addButton&&(e.ui.addButton("NumberedList",{isToggle:!0,label:e.lang.list.numberedlist,command:"numberedlist",directional:!0,toolbar:"list,10"}),e.ui.addButton("BulletedList",{isToggle:!0,label:e.lang.list.bulletedlist,command:"bulletedlist",directional:!0,toolbar:"list,20"})),e.on("key",(function(t){var n,i=t.data.domEvent.getKey();if("wysiwyg"==e.mode&&i in{8:1,46:1}){var o=e.getSelection().getRanges()[0],r=o&&o.startPath();if(o&&o.collapsed){var u,d=8==i,p=e.editable(),g=new CKEDITOR.dom.walker(o.clone());if(g.evaluator=function(e){return h(e)&&!f(e)},g.guard=function(e,t){return!(t&&e.type==CKEDITOR.NODE_ELEMENT&&e.is("table"))},i=o.clone(),d)if((u=r.contains(c))&&o.checkBoundaryOfElement(u,CKEDITOR.START)&&(u=u.getParent())&&u.is("li")&&(u=l(u))?(n=u,u=u.getPrevious(h),i.moveToPosition(u&&f(u)?u:n,CKEDITOR.POSITION_BEFORE_START)):(g.range.setStartAt(p,CKEDITOR.POSITION_AFTER_START),g.range.setEnd(o.startContainer,o.startOffset),(u=g.previous())&&u.type==CKEDITOR.NODE_ELEMENT&&(u.getName()in c||u.is("li"))&&(u.is("li")||(g.range.selectNodeContents(u),g.reset(),g.evaluator=a,u=g.previous()),n=u,i.moveToElementEditEnd(n),i.moveToPosition(i.endPath().block,CKEDITOR.POSITION_BEFORE_END))),n)s(e,i,o),t.cancel();else{var m=r.contains(c);m&&o.checkBoundaryOfElement(m,CKEDITOR.START)&&(n=m.getFirst(h),o.checkBoundaryOfElement(n,CKEDITOR.START)&&(u=m.getPrevious(h),l(n)?u&&(o.moveToElementEditEnd(u),o.select()):e.execCommand("outdent"),t.cancel()))}else if(n=r.contains("li")){if(g.range.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),d=(p=n.getLast(h))&&a(p)?p:n,r=0,(u=g.next())&&u.type==CKEDITOR.NODE_ELEMENT&&u.getName()in c&&u.equals(p)?(r=1,u=g.next()):o.checkBoundaryOfElement(d,CKEDITOR.END)&&(r=2),r&&u){if((o=o.clone()).moveToElementEditStart(u),1==r&&(i.optimize(),!i.startContainer.equals(n))){for(n=i.startContainer;n.is(CKEDITOR.dtd.$inline);)m=n,n=n.getParent();m&&i.moveToPosition(m,CKEDITOR.POSITION_AFTER_END)}2==r&&(i.moveToPosition(i.endPath().block,CKEDITOR.POSITION_BEFORE_END),o.endPath().block&&o.moveToPosition(o.endPath().block,CKEDITOR.POSITION_AFTER_START)),s(e,i,o),t.cancel()}}else g.range.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),(u=g.next())&&u.type==CKEDITOR.NODE_ELEMENT&&u.is(c)&&(u=u.getFirst(h),r.block&&o.checkStartOfBlock()&&o.checkEndOfBlock()?(r.block.remove(),o.moveToElementEditStart(u),o.select()):l(u)?(o.moveToElementEditStart(u),o.select()):((o=o.clone()).moveToElementEditStart(u),s(e,i,o)),t.cancel());setTimeout((function(){e.selectionChange(1)}))}}})))}})}(),function(){function e(e,t,n){if(n=e.config.forceEnterMode||n,"wysiwyg"==e.mode){t||(t=e.activeEnterMode);var r=e.elementPath();r&&!r.isContextFor("p")&&(t=CKEDITOR.ENTER_BR,n=1),e.fire("saveSnapshot"),t==CKEDITOR.ENTER_BR?i(e,t,null,n):o(e,t,null,n),e.fire("saveSnapshot")}}function t(e){for(var t=(e=e.getSelection().getRanges(!0)).length-1;0<t;t--)e[t].deleteContents();return e[0]}CKEDITOR.plugins.add("enterkey",{init:function(t){t.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(t){e(t)}}),t.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(t){e(t,t.activeShiftEnterMode,1)}}),t.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var n,i,o,r,a=CKEDITOR.dom.walker.whitespaces(),s=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(e,n,o,l){if(o=o||t(e)){o=function(e){var t=e.startContainer.getAscendant((function(e){return e.type==CKEDITOR.NODE_ELEMENT&&"true"==e.getAttribute("contenteditable")}),!0);return e.root.equals(t)?e:((t=new CKEDITOR.dom.range(t)).moveToRange(e),t)}(o);var c,u=o.document,d=o.checkStartOfBlock(),h=o.checkEndOfBlock(),f=e.elementPath(o.startContainer),p=f.block,g=n==CKEDITOR.ENTER_DIV?"div":"p";if(p&&d&&h){if((d=p.getParent()).is("li")&&1<d.getChildCount())return u=new CKEDITOR.dom.element("li"),c=e.createRange(),u.insertAfter(d),p.remove(),c.setStart(u,0),void e.getSelection().selectRanges([c]);if(p.is("li")||p.getParent().is("li")){p.is("li")||(d=(p=p.getParent()).getParent()),c=d.getParent(),o=!p.hasPrevious();var m=!p.hasNext(),E=(g=(l=e.getSelection()).createBookmarks(),p.getDirection(1)),v=(h=p.getAttribute("class"),p.getAttribute("style")),T=c.getDirection(1)!=E;if(e=e.enterMode!=CKEDITOR.ENTER_BR||T||v||h,c.is("li"))o||m?(o&&m&&d.remove(),p[m?"insertAfter":"insertBefore"](c)):p.breakParent(c);else{if(e)f.block.is("li")?(c=u.createElement(n==CKEDITOR.ENTER_P?"p":"div"),T&&c.setAttribute("dir",E),v&&c.setAttribute("style",v),h&&c.setAttribute("class",h),p.moveChildren(c)):c=f.block,o||m?c[o?"insertBefore":"insertAfter"](d):(p.breakParent(d),c.insertAfter(d));else if(p.appendBogus(!0),o||m)for(;u=p[o?"getFirst":"getLast"]();)u[o?"insertBefore":"insertAfter"](d);else for(p.breakParent(d);u=p.getLast();)u.insertAfter(d);p.remove()}return void l.selectBookmarks(g)}if(p&&p.getParent().is("blockquote"))return p.breakParent(p.getParent()),p.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||p.getPrevious().remove(),p.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||p.getNext().remove(),o.moveToElementEditStart(p),void o.select()}else if(p&&p.is("pre")&&!h)return void i(e,n,o,l);if(v=o.splitBlock(g)){if(e=v.previousBlock,p=v.nextBlock,d=v.wasStartOfBlock,h=v.wasEndOfBlock,p?(m=p.getParent()).is("li")&&(p.breakParent(m),p.move(p.getNext(),1)):e&&(m=e.getParent())&&m.is("li")&&(e.breakParent(m),m=e.getNext(),o.moveToElementEditStart(m),e.move(e.getPrevious())),d||h)if(function(e){var t;return e!==CKEDITOR.ENTER_BR&&-1!==CKEDITOR.tools.indexOf(["td","th"],f.lastElement.getName())&&1===f.lastElement.getChildCount()&&((t=(e=f.lastElement.getChild(0).clone(!0)).getBogus())&&t.remove(),!e.getText().length)}(n))o.moveToElementEditStart(o.getTouchedStartNode());else{if(e?(e.is("li")||!r.test(e.getName())&&!e.is("pre"))&&(c=e.clone()):p&&(c=p.clone()),c?l&&!c.is("li")&&c.renameNode(g):m&&m.is("li")?c=m:(c=u.createElement(g),e&&(E=e.getDirection())&&c.setAttribute("dir",E)),u=v.elementPath)for(n=0,l=u.elements.length;n<l&&!(g=u.elements[n]).equals(u.block)&&!g.equals(u.blockLimit);n++)CKEDITOR.dtd.$removeEmpty[g.getName()]&&(g=g.clone(),c.moveChildren(g),c.append(g));c.appendBogus(),c.getParent()||o.insertNode(c),c.is("li")&&c.removeAttribute("value"),!CKEDITOR.env.ie||!d||h&&e.getChildCount()||(o.moveToElementEditStart(h?e:c),o.select()),o.moveToElementEditStart(d&&!h?p:c)}else p.is("li")&&((c=o.clone()).selectNodeContents(p),(c=new CKEDITOR.dom.walker(c)).evaluator=function(e){return!(s(e)||a(e)||e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in CKEDITOR.dtd.$inline&&!(e.getName()in CKEDITOR.dtd.$empty))},(m=c.next())&&m.type==CKEDITOR.NODE_ELEMENT&&m.is("ul","ol")&&(CKEDITOR.env.needsBrFiller?u.createElement("br"):u.createText(" ")).insertBefore(m)),p&&o.moveToElementEditStart(p);o.select(),o.scrollIntoView()}}},enterBr:function(e,n,i,a){if(i=i||t(e)){var s=i.document,l=i.checkEndOfBlock(),c=new CKEDITOR.dom.elementPath(e.getSelection().getStartElement()),u=c.block,d=u&&c.block.getName();a||"li"!=d?(!a&&l&&r.test(d)?(l=u.getDirection())?((s=s.createElement("div")).setAttribute("dir",l),s.insertAfter(u),i.setStart(s,0)):(s.createElement("br").insertAfter(u),CKEDITOR.env.gecko&&s.createText("").insertAfter(u),i.setStartAt(u.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(e="pre"==d&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?s.createText("\r"):s.createElement("br"),i.deleteContents(),i.insertNode(e),CKEDITOR.env.needsBrFiller?(s.createText("\ufeff").insertAfter(e),l&&(u||c.blockLimit).appendBogus(),e.getNext().$.nodeValue="",i.setStartAt(e.getNext(),CKEDITOR.POSITION_AFTER_START)):i.setStartAt(e,CKEDITOR.POSITION_AFTER_END)),i.collapse(!0),i.select(),i.scrollIntoView()):o(e,n,i,a)}}},n=CKEDITOR.plugins.enterkey,i=n.enterBr,o=n.enterBlock,r=/^h[1-6]$/}(),function(){function e(e,t){var n={},i=[],o={nbsp:" ",shy:"­",gt:">",lt:"<",amp:"&",apos:"'",quot:'"'};if(e=e.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,(function(e,r){var a=t?"&"+r+";":o[r];return n[a]=t?o[r]:"&"+r+";",i.push(a),""})),e=e.replace(/,$/,""),!t&&e){e=e.split(",");var r,a=document.createElement("div");for(a.innerHTML="&"+e.join(";&")+";",r=a.innerHTML,a=null,a=0;a<r.length;a++){var s=r.charAt(a);n[s]="&"+e[a]+";",i.push(s)}}return n.regex=i.join(t?"|":""),n}CKEDITOR.plugins.add("entities",{afterInit:function(t){function n(e){return l[e]}function i(e){return"force"!=o.entities_processNumerical&&a[e]?a[e]:"&#"+(CKEDITOR.env.ie?e.charCodeAt(0):e.codePointAt(0))+";"}var o=t.config;if(t=(t=t.dataProcessor)&&t.htmlFilter){var r=[];!1!==o.basicEntities&&r.push("nbsp,gt,lt,amp"),o.entities&&(r.length&&r.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"),o.entities_latin&&r.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"),o.entities_greek&&r.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"),o.entities_additional&&r.push(o.entities_additional));var a=e(r.join(",")),s=a.regex?"["+a.regex+"]":"a^";delete a.regex,o.entities&&o.entities_processNumerical&&(s="[^ -~]|"+s),s=new RegExp(s,CKEDITOR.env.ie?"g":"gu");var l=e("nbsp,gt,lt,amp,shy",!0),c=new RegExp(l.regex,"g");t.addRules({text:function(e){return e.replace(c,n).replace(s,i)}},{applyToAll:!0,excludeNestedEditable:!0})}}})}(),CKEDITOR.config.basicEntities=!0,CKEDITOR.config.entities=!0,CKEDITOR.config.entities_latin=!0,CKEDITOR.config.entities_greek=!0,CKEDITOR.config.entities_additional="#39",CKEDITOR.plugins.add("popup"),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(e,t,n,i){n=n||"70%","string"==typeof(t=t||"80%")&&1<t.length&&"%"==t.substr(t.length-1,1)&&(t=parseInt(window.screen.width*parseInt(t,10)/100,10)),"string"==typeof n&&1<n.length&&"%"==n.substr(n.length-1,1)&&(n=parseInt(window.screen.height*parseInt(n,10)/100,10)),640>t&&(t=640),420>n&&(n=420);var o=parseInt((window.screen.height-n)/2,10),r=parseInt((window.screen.width-t)/2,10);i=(i||"location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes")+",width="+t+",height="+n+",top="+o+",left="+r;var a=window.open("",null,i,!0);if(!a)return!1;try{-1==navigator.userAgent.toLowerCase().indexOf(" chrome/")&&(a.moveTo(r,o),a.resizeTo(t,n)),a.focus(),a.location.href=e}catch(t){window.open(e,null,i,!0)}return!0}}),function(){function e(e){this.editor=e,this.loaders=[]}function t(e,t,i){var o=e.config.fileTools_defaultFileName;this.editor=e,this.lang=e.lang,"string"==typeof t?(this.data=t,this.file=n(this.data),this.loaded=this.total=this.file.size):(this.data=null,this.file=t,this.total=this.file.size,this.loaded=0),i?this.fileName=i:this.file.name?this.fileName=this.file.name:(e=this.file.type.split("/"),o&&(e[0]=o),this.fileName=e.join(".")),this.uploaded=0,this.responseData=this.uploadTotal=null,this.status="created",this.abort=function(){this.changeStatus("abort")}}function n(e){var t=e.match(i)[1];e=e.replace(i,""),e=atob(e);var n,o,r,a,s=[];for(n=0;n<e.length;n+=512){for(o=e.slice(n,n+512),r=Array(o.length),a=0;a<o.length;a++)r[a]=o.charCodeAt(a);o=new Uint8Array(r),s.push(o)}return new Blob(s,{type:t})}CKEDITOR.plugins.add("filetools",{beforeInit:function(t){t.uploadRepository=new e(t),t.on("fileUploadRequest",(function(e){var t=e.data.fileLoader;t.xhr.open("POST",t.uploadUrl,!0),e.data.requestData.upload={file:t.file,name:t.fileName}}),null,null,5),t.on("fileUploadRequest",(function(e){var n=e.data.fileLoader,i=new FormData;e=e.data.requestData;var o,r,a=t.config.fileTools_requestHeaders;for(r in e){var s=e[r];"object"==typeof s&&s.file?i.append(r,s.file,s.name):i.append(r,s)}if(i.append("ckCsrfToken",CKEDITOR.tools.getCsrfToken()),a)for(o in a)n.xhr.setRequestHeader(o,a[o]);n.xhr.send(i)}),null,null,999),t.on("fileUploadResponse",(function(e){var t=e.data.fileLoader,n=t.xhr,i=e.data;try{var o=JSON.parse(n.responseText);if(o.error&&o.error.message&&(i.message=o.error.message),o.uploaded)for(var r in o)i[r]=o[r];else e.cancel()}catch(o){i.message=t.lang.filetools.responseError,CKEDITOR.warn("filetools-response-error",{responseText:n.responseText}),e.cancel()}}),null,null,999)}}),e.prototype={create:function(e,n,i){i=i||t;var o=this.loaders.length;return(e=new i(this.editor,e,n)).id=o,this.loaders[o]=e,this.fire("instanceCreated",e),e},isFinished:function(){for(var e=0;e<this.loaders.length;++e)if(!this.loaders[e].isFinished())return!1;return!0}},t.prototype={loadAndUpload:function(e,t){var n=this;this.once("loaded",(function(i){i.cancel(),n.once("update",(function(e){e.cancel()}),null,null,0),n.upload(e,t)}),null,null,0),this.load()},load:function(){var e=this,t=this.reader=new FileReader;e.changeStatus("loading"),this.abort=function(){e.reader.abort()},t.onabort=function(){e.changeStatus("abort")},t.onerror=function(){e.message=e.lang.filetools.loadError,e.changeStatus("error")},t.onprogress=function(t){e.loaded=t.loaded,e.update()},t.onload=function(){e.loaded=e.total,e.data=t.result,e.changeStatus("loaded")},t.readAsDataURL(this.file)},upload:function(e,t){var n=t||{};e?(this.uploadUrl=e,this.xhr=new XMLHttpRequest,this.attachRequestListeners(),this.editor.fire("fileUploadRequest",{fileLoader:this,requestData:n})&&this.changeStatus("uploading")):(this.message=this.lang.filetools.noUrlError,this.changeStatus("error"))},attachRequestListeners:function(){function e(){"error"!=n.status&&(n.message=n.lang.filetools.networkError,n.changeStatus("error"))}function t(){"abort"!=n.status&&n.changeStatus("abort")}var n=this,i=this.xhr;n.abort=function(){i.abort(),t()},i.onerror=e,i.onabort=t,i.upload?(i.upload.onprogress=function(e){e.lengthComputable&&(n.uploadTotal||(n.uploadTotal=e.total),n.uploaded=e.loaded,n.update())},i.upload.onerror=e,i.upload.onabort=t):(n.uploadTotal=n.total,n.update()),i.onload=function(){if(n.update(),"abort"!=n.status)if(n.uploaded=n.uploadTotal,200>i.status||299<i.status)n.message=n.lang.filetools["httpError"+i.status],n.message||(n.message=n.lang.filetools.httpError.replace("%1",i.status)),n.changeStatus("error");else{for(var e={fileLoader:n},t=["message","fileName","url"],o=n.editor.fire("fileUploadResponse",e),r=0;r<t.length;r++){var a=t[r];"string"==typeof e[a]&&(n[a]=e[a])}n.responseData=e,delete n.responseData.fileLoader,!1===o?n.changeStatus("error"):n.changeStatus("uploaded")}}},changeStatus:function(e){this.status=e,"error"!=e&&"abort"!=e&&"loaded"!=e&&"uploaded"!=e||(this.abort=function(){}),this.fire(e),this.update()},update:function(){this.fire("update")},isFinished:function(){return!!this.status.match(/^(?:loaded|uploaded|error|abort)$/)}},CKEDITOR.event.implementOn(e.prototype),CKEDITOR.event.implementOn(t.prototype);var i=/^data:(\S*?);base64,/;CKEDITOR.fileTools||(CKEDITOR.fileTools={}),CKEDITOR.tools.extend(CKEDITOR.fileTools,{uploadRepository:e,fileLoader:t,getUploadUrl:function(e,t){var n=CKEDITOR.tools.capitalize;return t&&e[t+"UploadUrl"]?e[t+"UploadUrl"]:e.uploadUrl?e.uploadUrl:t&&e["filebrowser"+n(t,1)+"UploadUrl"]?e["filebrowser"+n(t,1)+"UploadUrl"]+"&responseType=json":e.filebrowserUploadUrl?e.filebrowserUploadUrl+"&responseType=json":null},isTypeSupported:function(e,t){return!!e.type.match(t)},isFileUploadSupported:"function"==typeof FileReader&&"function"==typeof(new FileReader).readAsDataURL&&"function"==typeof FormData&&"function"==typeof(new FormData).append&&"function"==typeof XMLHttpRequest&&"function"==typeof Blob})}(),function(){function e(e,t){var n=[];if(!t)return e;for(var i in t)n.push(i+"="+encodeURIComponent(t[i]));return e+(-1!=e.indexOf("?")?"&":"?")+n.join("&")}function t(t){return!t.match(/command=QuickUpload/)||t.match(/(\?|&)responseType=json/)?t:e(t,{responseType:"json"})}function n(e){return(e+="").charAt(0).toUpperCase()+e.substr(1)}function i(){var t=(o=this.getDialog()).getParentEditor();t._.filebrowserSe=this;var i=t.config["filebrowser"+n(o.getName())+"WindowWidth"]||t.config.filebrowserWindowWidth||"80%",o=t.config["filebrowser"+n(o.getName())+"WindowHeight"]||t.config.filebrowserWindowHeight||"70%",r=this.filebrowser.params||{};r.CKEditor=t.name,r.CKEditorFuncNum=t._.filebrowserFn,r.langCode||(r.langCode=t.langCode),r=e(this.filebrowser.url,r),t.popup(r,i,o,t.config.filebrowserWindowFeatures||t.config.fileBrowserWindowFeatures)}function o(e){var t=new CKEDITOR.dom.element(e.$.form);t&&((e=t.$.elements.ckCsrfToken)?e=new CKEDITOR.dom.element(e):((e=new CKEDITOR.dom.element("input")).setAttributes({name:"ckCsrfToken",type:"hidden"}),t.append(e)),e.setAttribute("value",CKEDITOR.tools.getCsrfToken()))}function r(){var e=this.getDialog();return e.getParentEditor()._.filebrowserSe=this,!(!e.getContentElement(this.for[0],this.for[1]).getInputElement().$.value||!e.getContentElement(this.for[0],this.for[1]).getAction())}function a(t,n,i){var o=i.params||{};o.CKEditor=t.name,o.CKEditorFuncNum=t._.filebrowserFn,o.langCode||(o.langCode=t.langCode),n.action=e(i.url,o),n.filebrowser=i}function s(e,c,d,h){if(h&&h.length)for(var f,p=h.length;p--;)if("hbox"!=(f=h[p]).type&&"vbox"!=f.type&&"fieldset"!=f.type||s(e,c,d,f.children),f.filebrowser)if("string"==typeof f.filebrowser&&(f.filebrowser={action:"fileButton"==f.type?"QuickUpload":"Browse",target:f.filebrowser}),"Browse"==f.filebrowser.action){var g=f.filebrowser.url;void 0===g&&void 0===(g=e.config["filebrowser"+n(c)+"BrowseUrl"])&&(g=e.config.filebrowserBrowseUrl),g&&(f.onClick=i,f.filebrowser.url=g,f.hidden=!1)}else if("QuickUpload"==f.filebrowser.action&&f.for&&(void 0===(g=f.filebrowser.url)&&void 0===(g=e.config["filebrowser"+n(c)+"UploadUrl"])&&(g=e.config.filebrowserUploadUrl),g)){var m=f.onClick;f.onClick=function(n){var i=n.sender,a=i.getDialog().getContentElement(this.for[0],this.for[1]).getInputElement(),s=CKEDITOR.fileTools&&CKEDITOR.fileTools.isFileUploadSupported;return(!m||!1!==m.call(i,n))&&!!r.call(i,n)&&("form"!==e.config.filebrowserUploadMethod&&s?((n=e.uploadRepository.create(a.$.files[0])).on("uploaded",(function(e){var t=e.sender.responseData;u.call(e.sender.editor,t.url,t.message)})),n.on("error",l.bind(this)),n.on("abort",l.bind(this)),n.loadAndUpload(t(g)),"xhr"):(o(a),!0))},f.filebrowser.url=g,f.hidden=!1,a(e,d.getContents(f.for[0]).get(f.for[1]),f.filebrowser)}}function l(e){var t={};try{t=JSON.parse(e.sender.xhr.response)||{}}catch(e){}this.enable(),alert(t.error?t.error.message:e.sender.message)}function c(e,t,n){if(-1!==n.indexOf(";")){n=n.split(";");for(var i=0;i<n.length;i++)if(c(e,t,n[i]))return!0;return!1}return(e=e.getContents(t).get(n).filebrowser)&&e.url}function u(e,t){var n=this._.filebrowserSe.getDialog(),i=this._.filebrowserSe.for,o=this._.filebrowserSe.filebrowser.onSelect;i&&n.getContentElement(i[0],i[1]).reset(),"function"==typeof t&&!1===t.call(this._.filebrowserSe)||o&&!1===o.call(this._.filebrowserSe,e,t)||("string"==typeof t&&t&&alert(t),e&&(n=(i=this._.filebrowserSe).getDialog(),i=i.filebrowser.target||null)&&(i=i.split(":"),(o=n.getContentElement(i[0],i[1]))&&(o.setValue(e),n.selectPage(i[0]))))}CKEDITOR.plugins.add("filebrowser",{requires:"popup,filetools",init:function(e){e._.filebrowserFn=CKEDITOR.tools.addFunction(u,e),e.on("destroy",(function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)}))}}),CKEDITOR.on("dialogDefinition",(function(e){if(e.editor.plugins.filebrowser)for(var t,n=e.data.definition,i=0;i<n.contents.length;++i)(t=n.contents[i])&&(s(e.editor,e.data.name,n,t.elements),t.hidden&&t.filebrowser&&(t.hidden=!c(n,t.id,t.filebrowser)))}))}(),function(){var e=CKEDITOR.document.getWindow(),t=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add("floatingspace",{init:function(n){n.on("loaded",(function(){!function(n){var i=n.config,o=n.fire("uiSpace",{space:"top",html:""}).html,r=function(){function o(e,n,i){s.setStyle(n,t(i)),s.setStyle("position",e)}function a(e){var t=c.getDocumentPosition();switch(e){case"top":o("absolute","top",t.y-f-m);break;case"pin":o("fixed","top",v);break;case"bottom":o("absolute","top",t.y+(d.height||d.bottom-d.top)+m)}l=e}var l,c,u,d,h,f,p,g=i.floatSpaceDockedOffsetX||0,m=i.floatSpaceDockedOffsetY||0,E=i.floatSpacePinnedOffsetX||0,v=i.floatSpacePinnedOffsetY||0;return function(o){if(c=n.editable()){var v=o&&"focus"==o.name;v&&s.show(),n.fire("floatingSpaceLayout",{show:v}),s.removeStyle("left"),s.removeStyle("right"),u=s.getClientRect(),d=c.getClientRect(),h=e.getViewPaneSize(),f=u.height,p="pageXOffset"in e.$?e.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft,l?(f+m<=d.top?a("top"):f+m>h.height-d.bottom?a("pin"):a("bottom"),o=h.width/2,o=i.floatSpacePreferRight?"right":0<d.left&&d.right<h.width&&d.width>u.width?"rtl"==i.contentsLangDirection?"right":"left":o-d.left>d.right-o?"left":"right",u.width>h.width?(o="left",v=0):(v="left"==o?0<d.left?d.left:0:d.right<h.width?h.width-d.right:0)+u.width>h.width&&(o="left"==o?"right":"left",v=0),s.setStyle(o,t(("pin"==l?E:g)+v+("pin"==l?0:"left"==o?p:-p)))):(l="pin",a("pin"),r(o))}}}();if(o){var a=new CKEDITOR.template('<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+CKEDITOR.env.cssClass+'" dir="{langDir}" title="'+(CKEDITOR.env.gecko?" ":"")+'" lang="{langCode}" role="application" style="{style}"'+(n.applicationTitle?' aria-labelledby="cke_{name}_arialbl"':" ")+">"+(n.applicationTitle?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':" ")+'<div class="cke_inner"><div id="{topId}" class="cke_top" role="presentation">{content}</div></div></div>'),s=CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(a.output({content:o,id:n.id,langDir:n.lang.dir,langCode:n.langCode,name:n.name,style:"display:none;z-index:"+(i.baseFloatZIndex-1),topId:n.ui.spaceId("top"),voiceLabel:n.applicationTitle}))),l=CKEDITOR.tools.eventsBuffer(500,r),c=CKEDITOR.tools.eventsBuffer(100,r);s.unselectable(),s.on("mousedown",(function(e){(e=e.data).getTarget().hasAscendant("a",1)||e.preventDefault()})),n.on("focus",(function(t){r(t),n.on("change",l.input),e.on("scroll",c.input),e.on("resize",c.input)})),n.on("blur",(function(){s.hide(),n.removeListener("change",l.input),e.removeListener("scroll",c.input),e.removeListener("resize",c.input)})),n.on("destroy",(function(){e.removeListener("scroll",c.input),e.removeListener("resize",c.input),s.clearCustomData(),s.remove()})),n.focusManager.hasFocus&&s.show(),n.focusManager.add(s,1)}}(this)}),null,null,20)}})}(),CKEDITOR.plugins.add("listblock",{requires:"panel",onLoad:function(){var e=CKEDITOR.addTemplate("panel-list",'<ul role="presentation" class="cke_panel_list">{items}</ul>'),t=CKEDITOR.addTemplate("panel-list-item",'<li id="{id}" class="cke_panel_listItem" role=presentation><a id="{id}_option" _cke_focus=1 hidefocus=true title="{title}" draggable="false" ondragstart="return false;" href="javascript:void(\'{val}\')"  onclick="{onclick}CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role="option">{text}</a></li>'),n=CKEDITOR.addTemplate("panel-list-group",'<h1 id="{id}" draggable="false" ondragstart="return false;" class="cke_panel_grouptitle" role="presentation" >{label}</h1>'),i=/\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(e,t){return this.addBlock(e,new CKEDITOR.ui.listBlock(this.getHolderElement(),t))},CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(e,t){var n=(t=t||{}).attributes||(t.attributes={});(this.multiSelect=!!t.multiSelect)&&(n["aria-multiselectable"]=!0),!n.role&&(n.role="listbox"),this.base.apply(this,arguments),this.element.setAttribute("role",n.role),(n=this.keys)[40]="next",n[9]="next",n[38]="prev",n[CKEDITOR.SHIFT+9]="prev",n[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(n[13]="mouseup"),this._.pendingHtml=[],this._.pendingList=[],this._.items={},this._.groups={}},_:{close:function(){if(this._.started){var t=e.output({items:this._.pendingList.join("")});this._.pendingList=[],this._.pendingHtml.push(t),delete this._.started}},getClick:function(){return this._.click||(this._.click=CKEDITOR.tools.addFunction((function(e){var t=this.toggle(e);this.onClick&&this.onClick(e,t)}),this)),this._.click}},proto:{add:function(e,n,o){var r=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0),this._.items[e]=r,e={id:r,val:CKEDITOR.tools.htmlEncodeAttr(e).replace(i,"\\'"),onclick:CKEDITOR.env.ie?'return false;" onmouseup="CKEDITOR.tools.getMouseButton(event)===CKEDITOR.MOUSE_BUTTON_LEFT&&':"",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(o||e),text:n||e},this._.pendingList.push(t.output(e))},startGroup:function(e){this._.close();var t=CKEDITOR.tools.getNextId();this._.groups[e]=t,this._.pendingHtml.push(n.output({id:t,label:e}))},commit:function(){this._.close(),this.element.appendHtml(this._.pendingHtml.join("")),delete this._.size,this._.pendingHtml=[]},toggle:function(e){var t=this.isMarked(e);return t?this.unmark(e):this.mark(e),!t},hideGroup:function(e){var t=(e=this.element.getDocument().getById(this._.groups[e]))&&e.getNext();e&&(e.setStyle("display","none"),t&&"ul"==t.getName()&&t.setStyle("display","none"))},hideItem:function(e){this.element.getDocument().getById(this._.items[e]).setStyle("display","none")},showAll:function(){var e,t=this._.items,n=this._.groups,i=this.element.getDocument();for(e in t)i.getById(t[e]).setStyle("display","");for(var o in n)e=(t=i.getById(n[o])).getNext(),t.setStyle("display",""),e&&"ul"==e.getName()&&e.setStyle("display","")},mark:function(e){this.multiSelect||this.unmarkAll(),e=this._.items[e];var t=this.element.getDocument().getById(e);t.addClass("cke_selected"),this.element.getDocument().getById(e+"_option").setAttribute("aria-selected",!0),this.onMark&&this.onMark(t)},markFirstDisplayed:function(){var e=this;this._.markFirstDisplayed((function(){e.multiSelect||e.unmarkAll()}))},unmark:function(e){var t=this.element.getDocument();e=this._.items[e];var n=t.getById(e);n.removeClass("cke_selected"),t.getById(e+"_option").removeAttribute("aria-selected"),this.onUnmark&&this.onUnmark(n)},unmarkAll:function(){var e,t=this._.items,n=this.element.getDocument();for(e in t){var i=t[e];n.getById(i).removeClass("cke_selected"),n.getById(i+"_option").removeAttribute("aria-selected")}this.onUnmark&&this.onUnmark()},isMarked:function(e){return this.element.getDocument().getById(this._.items[e]).hasClass("cke_selected")},focus:function(e){this._.focusIndex=-1;var t,n=this.element.getElementsByTag("a"),i=-1;if(e){for(t=this.element.getDocument().getById(this._.items[e]).getFirst();e=n.getItem(++i);)if(e.equals(t)){this._.focusIndex=i;break}}else this.element.focus();t&&setTimeout((function(){t.focus()}),0)}}})}}),CKEDITOR.plugins.add("richcombo",{requires:"floatpanel,listblock,button",beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}}),function(){var e='<span id="{id}" class="cke_combo cke_combo__{name} {cls}" role="presentation"><span id="{id}_label" class="cke_combo_label">{label}</span><a class="cke_combo_button" title="{title}" tabindex="-1"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="listbox"',t="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(e+=' onblur="this.style.cssText = this.style.cssText;"'),CKEDITOR.env.ie&&(t='return false;" onmouseup="CKEDITOR.tools.getMouseButton(event)==CKEDITOR.MOUSE_BUTTON_LEFT&&'),e=e+' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" onclick="'+t+'CKEDITOR.tools.callFunction({clickFn},this);return false;"><span id="{id}_text" class="cke_combo_text cke_combo_inlinelabel">{label}</span><span class="cke_combo_open"><span class="cke_combo_arrow">'+(CKEDITOR.env.hc?"&#9660;":CKEDITOR.env.air?"&nbsp;":"")+"</span></span></a></span>";var n=CKEDITOR.addTemplate("combo",e);CKEDITOR.UI_RICHCOMBO="richcombo",CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(e){CKEDITOR.tools.extend(this,e,{canGroup:!1,title:e.label,modes:{wysiwyg:1},editorFocus:1}),e=this.panel||{},delete this.panel,this.id=CKEDITOR.tools.getNextNumber(),this.document=e.parent&&e.parent.getDocument()||CKEDITOR.document,e.className="cke_combopanel",e.block={multiSelect:e.multiSelect,attributes:e.attributes},e.toolbarRelated=!0,this._={panelDefinition:e,items:{},listeners:[]}},proto:{renderHtml:function(e){var t=[];return this.render(e,t),t.join("")},render:function(e,t){function i(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var t=this.modes[e.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;e.readOnly&&!this.readOnly&&(t=CKEDITOR.TRISTATE_DISABLED),this.setState(t),this.setValue(""),t!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var o,r,a=CKEDITOR.env,s="cke_"+this.id,l=CKEDITOR.tools.addFunction((function(t){r&&(e.unlockSelection(1),r=0),o.execute(t)}),this),c=this;o={id:s,combo:this,focus:function(){CKEDITOR.document.getById(s).getChild(1).focus()},execute:function(t){var n=c._;if(n.state!=CKEDITOR.TRISTATE_DISABLED)if(c.createPanel(e),n.on)n.panel.hide();else{c.commit();var i=c.getValue();i?n.list.mark(i):n.list.unmarkAll(),n.panel.showBlock(c.id,new CKEDITOR.dom.element(t),4)}},clickFn:l},this._.listeners.push(e.on("activeFilterChange",i,this)),this._.listeners.push(e.on("mode",i,this)),this._.listeners.push(e.on("selectionChange",i,this)),!this.readOnly&&this._.listeners.push(e.on("readOnly",i,this));var u=CKEDITOR.tools.addFunction((function(e,t){var n=(e=new CKEDITOR.dom.event(e)).getKeystroke();switch(n){case 13:case 32:case 40:CKEDITOR.tools.callFunction(l,t);break;default:o.onkey(o,n)}e.preventDefault()})),d=CKEDITOR.tools.addFunction((function(){o.onfocus&&o.onfocus()}));return r=0,o.keyDownFn=u,a={id:s,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||"",titleJs:a.gecko&&!a.hc?"":(this.title||"").replace("'",""),keydownFn:u,focusFn:d,clickFn:l},n.output(a,t),this.onRender&&this.onRender(),o},createPanel:function(e){if(!this._.panel){var t=this._.panelDefinition,n=this._.panelDefinition.block,i=t.parent||CKEDITOR.document.getBody(),o="cke_combopanel__"+this.name,r=new CKEDITOR.ui.floatPanel(e,i,t),a=(t=r.addListBlock(this.id,n),this);r.onShow=function(){this.element.addClass(o),a.setState(CKEDITOR.TRISTATE_ON),a._.on=1,a.editorFocus&&!e.focusManager.hasFocus&&e.focus(),a.onOpen&&a.onOpen()},r.onHide=function(t){this.element.removeClass(o),a.setState(a.modes&&a.modes[e.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),a._.on=0,!t&&a.onClose&&a.onClose()},r.onEscape=function(){r.hide(1)},t.onClick=function(e,t){a.onClick&&a.onClick.call(a,e,t),r.hide()},this._.panel=r,this._.list=t,r.getBlock(this.id).onHide=function(){a._.on=0,a.setState(CKEDITOR.TRISTATE_OFF)},this.init&&this.init()}},setValue:function(e,t){this._.value=e,(n=this.document.getById("cke_"+this.id+"_text"))&&(e||t?n.removeClass("cke_combo_inlinelabel"):(t=this.label,n.addClass("cke_combo_inlinelabel")),n.setText(void 0!==t?t:e));var n=void 0!==t?t:e,i=this.label;n=n===i?n:n+", "+i,(i=this.document.getById("cke_"+this.id+"_label"))&&i.setText(n)},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(e){this._.list.mark(e)},hideItem:function(e){this._.list.hideItem(e)},hideGroup:function(e){this._.list.hideGroup(e)},showAll:function(){this._.list.showAll()},add:function(e,t,n){this._.items[e]=n||e,this._.list.add(e,t,n)},startGroup:function(e){this._.list.startGroup(e)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire("ready",this)),this._.committed=1},setState:function(e){if(this._.state!=e){var t=this.document.getById("cke_"+this.id),n=t.getElementsByTag("a").getItem(0);t.setState(e,"cke_combo"),e==CKEDITOR.TRISTATE_DISABLED?t.setAttribute("aria-disabled",!0):t.removeAttribute("aria-disabled"),n&&n.setAttribute("aria-expanded",e==CKEDITOR.TRISTATE_ON),this._.state=e}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))},destroy:function(){CKEDITOR.tools.array.forEach(this._.listeners,(function(e){e.removeListener()})),this._.listeners=[]},select:function(e){if(!CKEDITOR.tools.isEmpty(this._.items))for(var t in this._.items)if(e({value:t,text:this._.items[t]})){this.setValue(t);break}}},statics:{handler:{create:function(e){return new CKEDITOR.ui.richCombo(e)}}}}),CKEDITOR.ui.prototype.addRichCombo=function(e,t){this.add(e,CKEDITOR.UI_RICHCOMBO,t)}}(),CKEDITOR.plugins.add("format",{requires:"richcombo",init:function(e){if(!e.blockless){for(var t=e.config,n=e.lang.format,i=t.format_tags.split(";"),o={},r=0,a=[],s=0;s<i.length;s++){var l=i[s],c=new CKEDITOR.style(t["format_"+l]);e.filter.customConfig&&!e.filter.check(c)||(r++,o[l]=c,o[l]._.enterMode=e.config.enterMode,a.push(c))}0!==r&&e.ui.addRichCombo("Format",{label:n.label,title:n.panelTitle,toolbar:"styles,20",allowedContent:a,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(t.contentsCss),multiSelect:!1,attributes:{"aria-label":n.panelTitle}},init:function(){for(var e in this.startGroup(n.panelTitle),o){var t=n["tag_"+e];this.add(e,o[e].buildPreview(t),t)}},onClick:function(t){e.focus(),e.fire("saveSnapshot"),t=o[t];var n=e.elementPath();e.fire("stylesRemove",{type:CKEDITOR.STYLE_BLOCK}),t.checkActive(n,e)||e.applyStyle(t),setTimeout((function(){e.fire("saveSnapshot")}),0)},onRender:function(){e.on("selectionChange",(function(t){var n=this.getValue();for(var i in t=t.data.path,this.refresh(),o)if(o[i].checkActive(t,e))return void(i!=n&&this.setValue(i,e.lang.format["tag_"+i]));this.setValue("")}),this)},onOpen:function(){for(var t in this.showAll(),o)e.activeFilter.check(o[t])||this.hideItem(t)},refresh:function(){var t=e.elementPath();if(t){if(t.isContextFor("p"))for(var n in o)if(e.activeFilter.check(o[n]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}}),CKEDITOR.config.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div",CKEDITOR.config.format_p={element:"p"},CKEDITOR.config.format_div={element:"div"},CKEDITOR.config.format_pre={element:"pre"},CKEDITOR.config.format_address={element:"address"},CKEDITOR.config.format_h1={element:"h1"},CKEDITOR.config.format_h2={element:"h2"},CKEDITOR.config.format_h3={element:"h3"},CKEDITOR.config.format_h4={element:"h4"},CKEDITOR.config.format_h5={element:"h5"},CKEDITOR.config.format_h6={element:"h6"},function(){var e={canUndo:!1,exec:function(e){var t=e.document.createElement("hr");e.insertElement(t)},allowedContent:"hr",requiredContent:"hr"};CKEDITOR.plugins.add("horizontalrule",{init:function(t){t.blockless||(t.addCommand("horizontalrule",e),t.ui.addButton&&t.ui.addButton("HorizontalRule",{label:t.lang.horizontalrule.toolbar,command:"horizontalrule",toolbar:"insert,40"}))}})}(),CKEDITOR.plugins.add("htmlwriter",{init:function(e){var t=new CKEDITOR.htmlWriter;t.forceSimpleAmpersand=e.config.forceSimpleAmpersand,t.indentationChars="string"==typeof e.config.dataIndentationChars?e.config.dataIndentationChars:"\t",e.dataProcessor.writer=t}}),CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){this.base(),this.indentationChars="\t",this.selfClosingEnd=" />",this.lineBreakChars="\n",this.sortAttributes=1,this._.indent=0,this._.indentation="",this._.inPre=0,this._.rules={};var e,t=CKEDITOR.dtd;for(e in CKEDITOR.tools.extend({},t.$nonBodyContent,t.$block,t.$listItem,t.$tableContent))this.setRules(e,{indent:!t[e]["#"],breakBeforeOpen:1,breakBeforeClose:!t[e]["#"],breakAfterClose:1,needsSpace:e in t.$block&&!(e in{li:1,dt:1,dd:1})});this.setRules("br",{breakAfterOpen:1}),this.setRules("title",{indent:0,breakAfterOpen:0}),this.setRules("style",{indent:0,breakBeforeClose:1}),this.setRules("pre",{breakAfterOpen:1,indent:0})},proto:{openTag:function(e){var t=this._.rules[e];this._.afterCloser&&t&&t.needsSpace&&this._.needsSpace&&this._.output.push("\n"),this._.indent?this.indentation():t&&t.breakBeforeOpen&&(this.lineBreak(),this.indentation()),this._.output.push("<",e),this._.afterCloser=0},openTagClose:function(e,t){var n=this._.rules[e];t?(this._.output.push(this.selfClosingEnd),n&&n.breakAfterClose&&(this._.needsSpace=n.needsSpace)):(this._.output.push(">"),n&&n.indent&&(this._.indentation+=this.indentationChars)),n&&n.breakAfterOpen&&this.lineBreak(),"pre"==e&&(this._.inPre=1)},attribute:function(e,t){"string"==typeof t&&(t=CKEDITOR.tools.htmlEncodeAttr(t),this.forceSimpleAmpersand&&(t=t.replace(/&amp;/g,"&"))),this._.output.push(" ",e,'="',t,'"')},closeTag:function(e){var t=this._.rules[e];t&&t.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length)),this._.indent?this.indentation():t&&t.breakBeforeClose&&(this.lineBreak(),this.indentation()),this._.output.push("</",e,">"),"pre"==e&&(this._.inPre=0),t&&t.breakAfterClose&&(this.lineBreak(),this._.needsSpace=t.needsSpace),this._.afterCloser=1},text:function(e){this._.indent&&(this.indentation(),!this._.inPre&&(e=CKEDITOR.tools.ltrim(e))),this._.output.push(e)},comment:function(e){this._.indent&&this.indentation(),this._.output.push("\x3c!--",e,"--\x3e")},lineBreak:function(){!this._.inPre&&0<this._.output.length&&this._.output.push(this.lineBreakChars),this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&this._.output.push(this._.indentation),this._.indent=0},reset:function(){this._.output=[],this._.indent=0,this._.indentation="",this._.afterCloser=0,this._.inPre=0,this._.needsSpace=0},setRules:function(e,t){var n=this._.rules[e];n?CKEDITOR.tools.extend(n,t,!0):this._.rules[e]=t}}}),function(){function e(e,t){if(t||(t=e.getSelection().getSelectedElement()),t&&t.is("img")&&!t.data("cke-realelement")&&!t.isReadOnly())return t}function t(e){var t=e.getStyle("float");return"inherit"!=t&&"none"!=t||(t=0),t||(t=e.getAttribute("align")),t}CKEDITOR.plugins.add("image",{requires:"dialog",init:function(t){if(!t.plugins.detectConflict("image",["easyimage","image2"])){CKEDITOR.dialog.add("image",this.path+"dialogs/image.js");var n="img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}";CKEDITOR.dialog.isTabEnabled(t,"image","advanced")&&(n="img[alt,dir,id,lang,longdesc,!src,title]{*}(*)"),t.addCommand("image",new CKEDITOR.dialogCommand("image",{allowedContent:n,requiredContent:"img[alt,src]",contentTransformations:[["img{width}: sizeToStyle","img[width]: sizeToAttribute"],["img{float}: alignmentToStyle","img[align]: alignmentToAttribute"]]})),t.ui.addButton&&t.ui.addButton("Image",{label:t.lang.common.image,command:"image",toolbar:"insert,10"}),t.on("doubleclick",(function(e){var t=e.data.element;!t.is("img")||t.data("cke-realelement")||t.isReadOnly()||(e.data.dialog="image")})),t.addMenuItems&&t.addMenuItems({image:{label:t.lang.image.menu,command:"image",group:"image"}}),t.contextMenu&&t.contextMenu.addListener((function(n){if(e(t,n))return{image:CKEDITOR.TRISTATE_OFF}}))}},afterInit:function(n){function i(i){var o=n.getCommand("justify"+i);o&&("left"!=i&&"right"!=i||o.on("exec",(function(o){var r=e(n);r&&(t(r)==i?(r.removeStyle("float"),i==t(r)&&r.removeAttribute("align")):r.setStyle("float",i),o.cancel())})),o.on("refresh",(function(o){var r=e(n);r&&(r=t(r),this.setState(r==i?CKEDITOR.TRISTATE_ON:"right"==i||"left"==i?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),o.cancel())})))}n.plugins.image2||(i("left"),i("right"),i("center"),i("block"))}})}(),CKEDITOR.config.image_removeLinkByEmptyURL=!0,function(){function e(e,t){var n=r.exec(e),i=r.exec(t);if(n){if(!n[2]&&"px"==i[2])return i[1];if("px"==n[2]&&!i[2])return i[1]+"px"}return t}function t(t){return{elements:{$:function(o){var r=(r=o.attributes)&&r["data-cke-realelement"],a=n(t,decodeURIComponent(r));if((r=(r=r&&new CKEDITOR.htmlParser.fragment.fromHtml(a))&&r.children[0])&&o.attributes["data-cke-resizable"]){var s=new i(o).rules;o=r.attributes,a=s.width,s=s.height,a&&(o.width=e(o.width,a)),s&&(o.height=e(o.height,s))}return r}}}}function n(e,t){var n=[],i=/^cke:/i,o=new CKEDITOR.htmlParser.filter({elements:{"^":function(e){i.test(e.name)&&(e.name=e.name.replace(i,""),n.push(e))},iframe:function(e){e.children=[]}}}),r=e.activeFilter,a=new CKEDITOR.htmlParser.basicWriter,s=CKEDITOR.htmlParser.fragment.fromHtml(t);return o.applyTo(s),r.applyTo(s),CKEDITOR.tools.array.forEach(n,(function(e){e.name="cke:"+e.name})),s.writeHtml(a),a.getHtml()}var i=CKEDITOR.htmlParser.cssStyle,o=CKEDITOR.tools.cssLength,r=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i;CKEDITOR.plugins.add("fakeobjects",{init:function(e){e.filter.allow("img[!data-cke-realelement,src,alt,title](*){*}","fakeobjects")},afterInit:function(e){var n=e.dataProcessor;(n=n&&n.htmlFilter)&&n.addRules(t(e),{applyToAll:!0})}}),CKEDITOR.editor.prototype.createFakeElement=function(e,t,n,r){var a=(a=this.lang.fakeobjects)[n]||a.unknown;return t={class:t,"data-cke-realelement":encodeURIComponent(e.getOuterHtml()),"data-cke-real-node-type":e.type,alt:a,title:a,align:e.getAttribute("align")||""},CKEDITOR.env.hc||(t.src=CKEDITOR.tools.transparentImageData),n&&(t["data-cke-real-element-type"]=n),r&&(t["data-cke-resizable"]=r,n=new i,r=e.getAttribute("width"),e=e.getAttribute("height"),r&&(n.rules.width=o(r)),e&&(n.rules.height=o(e)),n.populate(t)),this.document.createElement("img",{attributes:t})},CKEDITOR.editor.prototype.createFakeParserElement=function(e,t,n,r){var a,s=(s=this.lang.fakeobjects)[n]||s.unknown;return a=new CKEDITOR.htmlParser.basicWriter,e.writeHtml(a),a=a.getHtml(),t={class:t,"data-cke-realelement":encodeURIComponent(a),"data-cke-real-node-type":e.type,alt:s,title:s,align:e.attributes.align||""},CKEDITOR.env.hc||(t.src=CKEDITOR.tools.transparentImageData),n&&(t["data-cke-real-element-type"]=n),r&&(t["data-cke-resizable"]=r,r=e.attributes,e=new i,n=r.width,r=r.height,void 0!==n&&(e.rules.width=o(n)),void 0!==r&&(e.rules.height=o(r)),e.populate(t)),new CKEDITOR.htmlParser.element("img",t)},CKEDITOR.editor.prototype.restoreRealElement=function(t){if(t.data("cke-real-node-type")!=CKEDITOR.NODE_ELEMENT)return null;var i=n(this,i=decodeURIComponent(t.data("cke-realelement")));if(i=CKEDITOR.dom.element.createFromHtml(i,this.document),t.data("cke-resizable")){var o=t.getStyle("width");t=t.getStyle("height"),o&&i.setAttribute("width",e(i.getAttribute("width"),o)),t&&i.setAttribute("height",e(i.getAttribute("height"),t))}return i}}(),function(){function e(e){return e.replace(/'/g,"\\$&")}function t(e){for(var t,n=e.length,i=[],o=0;o<n;o++)t=e.charCodeAt(o),i.push(t);return"String.fromCharCode("+i.join(",")+")"}function n(t,n){for(var i,o,r=(a=t.plugins.link).compiledProtectionFunction.params,a=[a.compiledProtectionFunction.name,"("],s=0;s<r.length;s++)o=n[i=r[s].toLowerCase()],0<s&&a.push(","),a.push("'",o?e(encodeURIComponent(n[i])):"","'");return a.push(")"),a.join("")}CKEDITOR.plugins.add("link",{requires:"dialog,fakeobjects",onLoad:function(){function e(e){return n.replace(/%1/g,"rtl"==e?"right":"left").replace(/%2/g,"cke_contents_"+e)}var t="background:url("+CKEDITOR.getUrl(this.path+"images"+(CKEDITOR.env.hidpi?"/hidpi":"")+"/anchor.png")+") no-repeat %1 center;border:1px dotted #00f;background-size:16px;",n=".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{"+t+"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{"+t+"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}";CKEDITOR.addCss(e("ltr")+e("rtl"))},init:function(e){var t="a[!href]";CKEDITOR.dialog.isTabEnabled(e,"link","advanced")&&(t=t.replace("]",",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type,download]{*}(*)")),CKEDITOR.dialog.isTabEnabled(e,"link","target")&&(t=t.replace("]",",target,onclick]")),e.addCommand("link",new CKEDITOR.dialogCommand("link",{allowedContent:t,requiredContent:"a[href]"})),e.addCommand("anchor",new CKEDITOR.dialogCommand("anchor",{allowedContent:"a[!name,id]",requiredContent:"a[name]"})),e.addCommand("unlink",new CKEDITOR.unlinkCommand),e.addCommand("removeAnchor",new CKEDITOR.removeAnchorCommand),e.setKeystroke(CKEDITOR.CTRL+76,"link"),e.setKeystroke(CKEDITOR.CTRL+75,"link"),e.ui.addButton&&(e.ui.addButton("Link",{label:e.lang.link.toolbar,command:"link",toolbar:"links,10"}),e.ui.addButton("Unlink",{label:e.lang.link.unlink,command:"unlink",toolbar:"links,20"}),e.ui.addButton("Anchor",{label:e.lang.link.anchor.toolbar,command:"anchor",toolbar:"links,30"})),CKEDITOR.dialog.add("link",this.path+"dialogs/link.js"),CKEDITOR.dialog.add("anchor",this.path+"dialogs/anchor.js"),e.on("doubleclick",(function(t){var n=t.data.element.getAscendant({a:1,img:1},!0);n&&!n.isReadOnly()&&(n.is("a")?(t.data.dialog=!n.getAttribute("name")||n.getAttribute("href")&&n.getChildCount()?"link":"anchor",t.data.link=n):CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,n)&&(t.data.dialog="anchor"))}),null,null,0),e.on("doubleclick",(function(t){t.data.dialog in{link:1,anchor:1}&&t.data.link&&e.getSelection().selectElement(t.data.link)}),null,null,20),e.addMenuItems&&e.addMenuItems({anchor:{label:e.lang.link.anchor.menu,command:"anchor",group:"anchor",order:1},removeAnchor:{label:e.lang.link.anchor.remove,command:"removeAnchor",group:"anchor",order:5},link:{label:e.lang.link.menu,command:"link",group:"link",order:1},unlink:{label:e.lang.link.unlink,command:"unlink",group:"link",order:5}}),e.contextMenu&&e.contextMenu.addListener((function(t){if(!t||t.isReadOnly())return null;if(!(t=CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,t))&&!(t=CKEDITOR.plugins.link.getSelectedLink(e)))return null;var n={};return t.getAttribute("href")&&t.getChildCount()&&(n={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF}),t&&t.hasAttribute("name")&&(n.anchor=n.removeAnchor=CKEDITOR.TRISTATE_OFF),n})),this.compiledProtectionFunction=function(e){var t;return(e=e.config.emailProtection||"")&&"encode"!=e&&(t={},e.replace(/^([^(]+)\(([^)]+)\)$/,(function(e,n,i){t.name=n,t.params=[],i.replace(/[^,\s]+/g,(function(e){t.params.push(e)}))}))),t}(e)},afterInit:function(e){e.dataProcessor.dataFilter.addRules({elements:{a:function(t){return t.attributes.name?t.children.length?null:e.createFakeParserElement(t,"cke_anchor","anchor"):null}}});var t=e._.elementsPath&&e._.elementsPath.filters;t&&t.push((function(t,n){if("a"==n&&(CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,t)||t.getAttribute("name")&&(!t.getAttribute("href")||!t.getChildCount())))return"anchor"}))}});var i=/^javascript:/,o=/^(?:mailto)(?:(?!\?(subject|body)=).)+/i,r=/subject=([^;?:@&=$,\/]*)/i,a=/body=([^;?:@&=$,\/]*)/i,s=/^#(.*)$/,l=/^((?:http|https|ftp|news):\/\/)?(.*)$/,c=/^(_(?:self|top|parent|blank))$/,u=/^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/,d=/^javascript:([^(]+)\(([^)]+)\)$/,h=/\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/,f=/(?:^|,)([^=]+)=(\d+|yes|no)/gi,p=/^tel:(.*)$/,g={id:"advId",dir:"advLangDir",accessKey:"advAccessKey",name:"advName",lang:"advLangCode",tabindex:"advTabIndex",title:"advTitle",type:"advContentType",class:"advCSSClasses",charset:"advCharset",style:"advStyles",rel:"advRel"};CKEDITOR.plugins.link={getSelectedLink:function(e,t){var n,i=e.getSelection(),o=i.getSelectedElement(),r=i.getRanges(),a=[];if(!t&&o&&o.is("a"))return o;for(o=0;o<r.length;o++)if((n=i.getRanges()[o]).shrink(CKEDITOR.SHRINK_ELEMENT,!0,{skipBogus:!0}),(n=e.elementPath(n.getCommonAncestor()).contains("a",1))&&t)a.push(n);else if(n)return n;return t?a:null},getEditorAnchors:function(e){for(var t,n=(i=(n=e.editable()).isInline()&&!e.plugins.divarea?e.document:n).getElementsByTag("a"),i=i.getElementsByTag("img"),o=[],r=0;t=n.getItem(r++);)(t.data("cke-saved-name")||t.hasAttribute("name"))&&o.push({name:t.data("cke-saved-name")||t.getAttribute("name"),id:t.getAttribute("id")});for(r=0;t=i.getItem(r++);)(t=this.tryRestoreFakeAnchor(e,t))&&o.push({name:t.getAttribute("name"),id:t.getAttribute("id")});return o},fakeAnchor:!0,tryRestoreFakeAnchor:function(e,t){if(t&&t.data("cke-real-element-type")&&"anchor"==t.data("cke-real-element-type")){var n=e.restoreRealElement(t);if(n.data("cke-saved-name"))return n}},parseLinkAttributes:function(e,t){var n,m=t&&(t.data("cke-saved-href")||t.getAttribute("href"))||"",E=e.plugins.link.compiledProtectionFunction,v=e.config.emailProtection,T={};if(m.match(i)&&("encode"==v?m=m.replace(u,(function(e,t,n){return n=n||"","mailto:"+String.fromCharCode.apply(String,t.split(","))+n.replace(/\\'/g,"'")})):v&&m.replace(d,(function(e,t,n){if(t==E.name){T.type="email",e=T.email={},t=/(^')|('$)/g;for(var i,o=(n=n.match(/[^,\s]+/g)).length,r=0;r<o;r++)i=decodeURIComponent(i=n[r].replace(t,"").replace(/\\'/g,"'")),e[E.params[r].toLowerCase()]=i;e.address=[e.name,e.domain].join("@")}}))),!T.type)if(v=m.match(s))T.type="anchor",T.anchor={},T.anchor.name=T.anchor.id=v[1];else if(v=m.match(p))T.type="tel",T.tel=v[1];else if(v=m.match(o)){n=m.match(r),m=m.match(a);var b=T.email={};T.type="email",b.address=v[0].replace("mailto:",""),n&&(b.subject=decodeURIComponent(n[1])),m&&(b.body=decodeURIComponent(m[1]))}else m&&(n=m.match(l))&&(T.type="url",T.url={},T.url.protocol=n[1],T.url.url=n[2]);if(t){if(m=t.getAttribute("target"))T.target={type:m.match(c)?m:"frame",name:m};else if(m=(m=t.data("cke-pa-onclick")||t.getAttribute("onclick"))&&m.match(h))for(T.target={type:"popup",name:m[1]};v=f.exec(m[2]);)"yes"!=v[2]&&"1"!=v[2]||v[1]in{height:1,width:1,top:1,left:1}?isFinite(v[2])&&(T.target[v[1]]=v[2]):T.target[v[1]]=!0;var C;for(C in null!==t.getAttribute("download")&&(T.download=!0),m={},g)(v=t.getAttribute(C))&&(m[g[C]]=v);(C=t.data("cke-saved-name")||m.advName)&&(m.advName=C),CKEDITOR.tools.isEmpty(m)||(T.advanced=m)}return T},getLinkAttributes:function(i,o){var r=i.config.emailProtection||"",a={};switch(o.type){case"url":r=o.url&&void 0!==o.url.protocol?o.url.protocol:"http://";var s=o.url&&CKEDITOR.tools.trim(o.url.url)||"";a["data-cke-saved-href"]=0===s.indexOf("/")?s:r+s;break;case"anchor":r=o.anchor&&o.anchor.id,a["data-cke-saved-href"]="#"+(o.anchor&&o.anchor.name||r||"");break;case"email":switch(s=(u=o.email).address,r){case"":case"encode":var l=encodeURIComponent(u.subject||""),c=encodeURIComponent(u.body||""),u=[];l&&u.push("subject="+l),c&&u.push("body="+c),u=u.length?"?"+u.join("&"):"","encode"==r?(r=["javascript:void(location.href='mailto:'+",t(s)],u&&r.push("+'",e(u),"'"),r.push(")")):r=["mailto:",s,u];break;default:r=s.split("@",2),u.name=r[0],u.domain=r[1],r=["javascript:",n(i,u)]}a["data-cke-saved-href"]=r.join("");break;case"tel":a["data-cke-saved-href"]="tel:"+o.tel}if(o.target)if("popup"==o.target.type){r=["window.open(this.href, '",o.target.name||"","', '"];var d="resizable status location toolbar menubar fullscreen scrollbars dependent".split(" ");for(s=d.length,l=function(e){o.target[e]&&d.push(e+"="+o.target[e])},u=0;u<s;u++)d[u]+=o.target[d[u]]?"=yes":"=no";l("width"),l("left"),l("height"),l("top"),r.push(d.join(","),"'); return false;"),a["data-cke-pa-onclick"]=r.join("")}else"notSet"!=o.target.type&&o.target.name&&(a.target=o.target.name);if(o.download&&(a.download=""),o.advanced){for(var h in g)(r=o.advanced[g[h]])&&(a[h]=r);a.name&&(a["data-cke-saved-name"]=a.name)}for(var f in a["data-cke-saved-href"]&&(a.href=a["data-cke-saved-href"]),h={target:1,onclick:1,"data-cke-pa-onclick":1,"data-cke-saved-name":1,download:1},o.advanced&&CKEDITOR.tools.extend(h,g),a)delete h[f];return{set:a,removed:CKEDITOR.tools.object.keys(h)}},showDisplayTextForElement:function(e,t){var n=t.getSelection();return!(t.widgets&&t.widgets.focused||n&&1<n.getRanges().length||e&&e.getName&&e.is({img:1,table:1,tbody:1,thead:1,tfoot:1,input:1,select:1,textarea:1}))}},CKEDITOR.unlinkCommand=function(){},CKEDITOR.unlinkCommand.prototype={exec:function(e){if(CKEDITOR.env.ie){var t,n=e.getSelection().getRanges()[0],i=n.getPreviousEditableNode()&&n.getPreviousEditableNode().getAscendant("a",!0)||n.getNextEditableNode()&&n.getNextEditableNode().getAscendant("a",!0);n.collapsed&&i&&(t=n.createBookmark(),n.selectNodeContents(i),n.select())}i=new CKEDITOR.style({element:"a",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1}),e.removeStyle(i),t&&(n.moveToBookmark(t),n.select())},refresh:function(e,t){var n=t.lastElement&&t.lastElement.getAscendant("a",!0);n&&"a"==n.getName()&&n.getAttribute("href")&&n.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,requiredContent:"a[href]",editorFocus:1},CKEDITOR.removeAnchorCommand=function(){},CKEDITOR.removeAnchorCommand.prototype={exec:function(e){var t,n=e.getSelection(),i=n.createBookmarks();n&&(t=n.getSelectedElement())&&(t.getChildCount()?t.is("a"):CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,t))?t.remove(1):(t=CKEDITOR.plugins.link.getSelectedLink(e))&&(t.hasAttribute("href")?(t.removeAttributes({name:1,"data-cke-saved-name":1}),t.removeClass("cke_anchor")):t.remove(1)),n.selectBookmarks(i)},requiredContent:"a[name]"},CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0,linkDefaultProtocol:"http://"})}(),function(){function e(e,t,n){return d(t)&&d(n)&&n.equals(t.getNext((function(e){return!(W(e)||G(e)||h(e))})))}function t(e){this.upper=e[0],this.lower=e[1],this.set.apply(this,e.slice(2))}function n(e){var t=e.element;if(t&&d(t)&&(t=t.getAscendant(e.triggers,!0))&&e.editable.contains(t)){var n=a(t);if("true"==n.getAttribute("contenteditable"))return t;if(n.is(e.triggers))return n}return null}function i(e,t,n){return T(e,t),T(e,n),e=t.size.bottom,n=n.size.top,e&&n?0|(e+n)/2:e||n}function o(e,t,n){return t[n?"getPrevious":"getNext"]((function(t){return t&&t.type==CKEDITOR.NODE_TEXT&&!W(t)||d(t)&&!h(t)&&!u(e,t)}))}function r(e,t,n){return e>t&&e<n}function a(e,t){if(e.data("cke-editable"))return null;for(t||(e=e.getParent());e&&!e.data("cke-editable");){if(e.hasAttribute("contenteditable"))return e;e=e.getParent()}return null}function s(e){var t=e.doc,n=D('<span contenteditable="false" data-cke-magic-line="1" style="'+q+"position:absolute;border-top:1px dashed "+e.boxColor+'"></span>',t),i=CKEDITOR.getUrl(this.path+"images/"+(R.hidpi?"hidpi/":"")+"icon"+(e.rtl?"-rtl":"")+".png");for(O(n,{attach:function(){return this.wrap.getParent()||this.wrap.appendTo(e.editable,!0),this},lineChildren:[O(D('<span title="'+e.editor.lang.magicline.title+'" contenteditable="false">&#8629;</span>',t),{base:q+"height:17px;width:17px;"+(e.rtl?"left":"right")+":17px;background:url("+i+") center no-repeat "+e.boxColor+";cursor:pointer;"+(R.hc?"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;":"")+(R.hidpi?"background-size: 9px 10px;":""),looks:["top:-8px; border-radius: 2px;","top:-17px; border-radius: 2px 2px 0px 0px;","top:-1px; border-radius: 0px 0px 2px 2px;"]}),O(D(z,t),{base:U+"left:0px;border-left-color:"+e.boxColor+";",looks:["border-width:8px 0 8px 8px;top:-8px","border-width:8px 0 0 8px;top:-8px","border-width:0 0 8px 8px;top:0px"]}),O(D(z,t),{base:U+"right:0px;border-right-color:"+e.boxColor+";",looks:["border-width:8px 8px 8px 0;top:-8px","border-width:8px 8px 0 0;top:-8px","border-width:0 8px 8px 0;top:0px"]})],detach:function(){return this.wrap.getParent()&&this.wrap.remove(),this},mouseNear:function(){T(e,this);var t=e.holdDistance,n=this.size;return!!(n&&r(e.mouse.y,n.top-t,n.bottom+t)&&r(e.mouse.x,n.left-t,n.right+t))},place:function(){var t=e.view,n=e.editable,i=e.trigger,o=i.upper,a=i.lower,s=o||a,l=s.getParent(),c={};for(var u in this.trigger=i,o&&T(e,o,!0),a&&T(e,a,!0),T(e,l,!0),e.inInlineMode&&b(e,!0),l.equals(n)?(c.left=t.scroll.x,c.right=-t.scroll.x,c.width=""):(c.left=s.size.left-s.size.margin.left+t.scroll.x-(e.inInlineMode?t.editable.left+t.editable.border.left:0),c.width=s.size.outerWidth+s.size.margin.left+s.size.margin.right+t.scroll.x,c.right=""),o&&a?c.top=o.size.margin.bottom===a.size.margin.top?0|o.size.bottom+o.size.margin.bottom/2:o.size.margin.bottom<a.size.margin.top?o.size.bottom+o.size.margin.bottom:o.size.bottom+o.size.margin.bottom-a.size.margin.top:o?a||(c.top=o.size.bottom+o.size.margin.bottom):c.top=a.size.top-a.size.margin.top,i.is(A)||r(c.top,t.scroll.y-15,t.scroll.y+5)?(c.top=e.inInlineMode?0:t.scroll.y,this.look(A)):i.is(L)||r(c.top,t.pane.bottom-5,t.pane.bottom+15)?(c.top=e.inInlineMode?t.editable.height+t.editable.padding.top+t.editable.padding.bottom:t.pane.bottom-1,this.look(L)):(e.inInlineMode&&(c.top-=t.editable.top+t.editable.border.top),this.look(P)),e.inInlineMode&&(c.top--,c.top+=t.editable.scroll.top,c.left+=t.editable.scroll.left),c)c[u]=CKEDITOR.tools.cssLength(c[u]);this.setStyles(c)},look:function(e){if(this.oldLook!=e){for(var t,n=this.lineChildren.length;n--;)(t=this.lineChildren[n]).setAttribute("style",t.base+t.looks[0|e/2]);this.oldLook=e}},wrap:new I("span",e.doc)}),t=n.lineChildren.length;t--;)n.lineChildren[t].appendTo(n);n.look(P),n.appendTo(n.wrap),n.unselectable(),n.lineChildren[0].on("mouseup",(function(t){n.detach(),l(e,(function(t){var n=e.line.trigger;t[n.is(K)?"insertBefore":"insertAfter"](n.is(K)?n.lower:n.upper)}),!0),e.editor.focus(),R.ie||e.enterMode==CKEDITOR.ENTER_BR||e.hotNode.scrollIntoView(),t.data.preventDefault(!0)})),n.on("mousedown",(function(e){e.data.preventDefault(!0)})),e.line=n}function l(e,t,n){var i,o=new CKEDITOR.dom.range(e.doc),r=e.editor;R.ie&&e.enterMode==CKEDITOR.ENTER_BR?i=e.doc.createText(F):(i=(i=a(e.element,!0))&&i.data("cke-enter-mode")||e.enterMode,(i=new I(k[i],e.doc)).is("br")||e.doc.createText(F).appendTo(i)),n&&r.fire("saveSnapshot"),t(i),o.moveToPosition(i,CKEDITOR.POSITION_AFTER_START),r.getSelection().selectRanges([o]),e.hotNode=i,n&&r.fire("saveSnapshot")}function c(e,t){return{canUndo:!0,modes:{wysiwyg:1},exec:function(){function i(n){var i=R.ie&&9>R.version?" ":F,o=e.hotNode&&e.hotNode.getText()==i&&e.element.equals(e.hotNode)&&e.lastCmdDirection===!!t;l(e,(function(i){o&&e.hotNode&&e.hotNode.remove(),i[t?"insertAfter":"insertBefore"](n),i.setAttributes({"data-cke-magicline-hot":1,"data-cke-magicline-dir":!!t}),e.lastCmdDirection=!!t})),R.ie||e.enterMode==CKEDITOR.ENTER_BR||e.hotNode.scrollIntoView(),e.line.detach()}return function(r){var s,l;r=(r=r.getSelection().getStartElement()).getAscendant(H,1),g(e,r)||!r||r.equals(e.editable)||r.contains(e.editable)||((s=a(r))&&"false"==s.getAttribute("contenteditable")&&(r=s),e.element=r,d(s=o(e,r,!t))&&s.is(e.triggers)&&s.is(M)&&(!o(e,s,!t)||(l=o(e,s,!t))&&d(l)&&l.is(e.triggers))?i(s):d(l=n(e))&&(o(e,l,!t)?(r=o(e,l,!t))&&d(r)&&r.is(e.triggers)&&i(l):i(l)))}}()}}function u(e,t){if(!t||t.type!=CKEDITOR.NODE_ELEMENT||!t.$)return!1;var n=e.line;return n.wrap.equals(t)||n.wrap.contains(t)}function d(e){return e&&e.type==CKEDITOR.NODE_ELEMENT&&e.$}function h(e){return!!d(e)&&((t=f(e))||(t=!!d(e)&&!(!(t={left:1,right:1,center:1})[e.getComputedStyle("float")]&&!t[e.getAttribute("align")])),t);var t}function f(e){return!!{absolute:1,fixed:1}[e.getComputedStyle("position")]}function p(e,t){return d(t)?t.is(e.triggers):null}function g(e,t){if(!t)return!1;for(var n=t.getParents(1),i=n.length;i--;)for(var o=e.tabuList.length;o--;)if(n[i].hasAttribute(e.tabuList[o]))return!0;return!1}function m(e){var n=e.editable,i=e.mouse,o=e.view,a=e.triggerOffset;b(e);var s=i.y>(e.inInlineMode?o.editable.top+o.editable.height/2:Math.min(o.editable.height,o.pane.height)/2);return n=n[s?"getLast":"getFirst"]((function(e){return!(W(e)||G(e))})),n?(u(e,n)&&(n=e.line.wrap[s?"getPrevious":"getNext"]((function(e){return!(W(e)||G(e))}))),d(n)&&!h(n)&&p(e,n)?(T(e,n),!s&&0<=n.size.top&&r(i.y,0,n.size.top+a)?(e=e.inInlineMode||0===o.scroll.y?A:P,new t([null,n,K,N,e])):s&&n.size.bottom<=o.pane.height&&r(i.y,n.size.bottom-a,o.pane.height)?(e=e.inInlineMode||r(n.size.bottom,o.pane.height-a,o.pane.height)?L:P,new t([n,null,x,N,e])):null):null):null}function E(e){var i=e.mouse,a=e.view,s=e.triggerOffset,l=n(e);if(!l)return null;T(e,l),s=Math.min(s,0|l.size.outerHeight/2);var c,u,f=[];if(r(i.y,l.size.top-1,l.size.top+s))u=!1;else{if(!r(i.y,l.size.bottom-s,l.size.bottom+1))return null;u=!0}if(h(l)||function(e,t,n){return!!(t=t[n?"getLast":"getFirst"]((function(t){return e.isRelevant(t)&&!t.is(B)})))&&(T(e,t),n?t.size.top>e.mouse.y:t.size.bottom<e.mouse.y)}(e,l,u)||l.getParent().is($))return null;var g=o(e,l,!u);if(g){if(g&&g.type==CKEDITOR.NODE_TEXT)return null;if(d(g)){if(h(g)||!p(e,g)||g.getParent().is($))return null;f=[g,l][u?"reverse":"concat"]().concat([S,N])}}else l.equals(e.editable[u?"getLast":"getFirst"](e.isRelevant))?(b(e),u&&r(i.y,l.size.bottom-s,a.pane.height)&&r(l.size.bottom,a.pane.height-s,a.pane.height)?c=L:r(i.y,0,l.size.top+s)&&(c=A)):c=P,f=[null,l][u?"reverse":"concat"]().concat([u?x:K,N,c,l.equals(e.editable[u?"getLast":"getFirst"](e.isRelevant))?u?L:A:P]);return 0 in f?new t(f):null}function v(e,t,n,i){for(var o=t.getDocumentPosition(),r={},a={},s={},l={},c=Y.length;c--;)r[Y[c]]=parseInt(t.getComputedStyle.call(t,"border-"+Y[c]+"-width"),10)||0,s[Y[c]]=parseInt(t.getComputedStyle.call(t,"padding-"+Y[c]),10)||0,a[Y[c]]=parseInt(t.getComputedStyle.call(t,"margin-"+Y[c]),10)||0;return n&&!i||C(e,i),l.top=o.y-(n?0:e.view.scroll.y),l.left=o.x-(n?0:e.view.scroll.x),l.outerWidth=t.$.offsetWidth,l.outerHeight=t.$.offsetHeight,l.height=l.outerHeight-(s.top+s.bottom+r.top+r.bottom),l.width=l.outerWidth-(s.left+s.right+r.left+r.right),l.bottom=l.top+l.outerHeight,l.right=l.left+l.outerWidth,e.inInlineMode&&(l.scroll={top:t.$.scrollTop,left:t.$.scrollLeft}),O({border:r,padding:s,margin:a,ignoreScroll:n},l,!0)}function T(e,t,n){if(!d(t))return t.size=null;if(t.size){if(t.size.ignoreScroll==n&&t.size.date>new Date-j)return null}else t.size={};return O(t.size,v(e,t,n),{date:+new Date},!0)}function b(e,t){e.view.editable=v(e,e.editable,t,!0)}function C(e,t){e.view||(e.view={});var n=e.view;if(!(!t&&n&&n.date>new Date-j)){n=(i=e.win).getScrollPosition();var i=i.getViewPaneSize();O(e.view,{scroll:{x:n.x,y:n.y,width:e.doc.$.documentElement.scrollWidth-i.width,height:e.doc.$.documentElement.scrollHeight-i.height},pane:{width:i.width,height:i.height,bottom:i.height+n.y},date:+new Date},!0)}}function y(e,n,i,o){for(var r=o,a=o,s=0,l=!1,c=!1,u=e.view.pane.height,d=e.mouse;d.y+s<u&&0<d.y-s&&(l||(l=n(r,o)),c||(c=n(a,o)),!l&&0<d.y-s&&(r=i(e,{x:d.x,y:d.y-s})),!c&&d.y+s<u&&(a=i(e,{x:d.x,y:d.y+s})),!l||!c);)s+=2;return new t([r,a,null,null])}CKEDITOR.plugins.add("magicline",{init:function(e){var i,r,a,p=e.config,T=p.magicline_triggerOffset||30,y={editor:e,enterMode:p.enterMode,triggerOffset:T,holdDistance:0|T*(p.magicline_holdDistance||.5),boxColor:p.magicline_color||"#ff0000",rtl:"rtl"==p.contentsLangDirection,tabuList:["data-cke-hidden-sel"].concat(p.magicline_tabuList||[]),triggers:p.magicline_everywhere?H:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1},isRelevant:function(e){return d(e)&&!u(y,e)&&!h(e)}};e.on("contentDom",(function(){var d=e.editable(),h=e.document,T=e.window;O(y,{editable:d,inInlineMode:d.isInline(),doc:h,win:T,hotNode:null},!0),y.boundary=y.inInlineMode?y.editable:y.doc.getDocumentElement(),d.is(w.$inline)||(y.inInlineMode&&!f(d)&&d.setStyles({position:"relative",top:null,left:null}),s.call(this,y),C(y),d.attachListener(e,"beforeUndoImage",(function(){y.line.detach()})),d.attachListener(e,"beforeGetData",(function(){y.line.wrap.getParent()&&(y.line.detach(),e.once("getData",(function(){y.line.attach()}),null,null,1e3))}),null,null,0),d.attachListener(y.inInlineMode?h:h.getWindow().getFrame(),"mouseout",(function(t){if("wysiwyg"==e.mode)if(y.inInlineMode){var n=t.data.$.clientX;t=t.data.$.clientY,C(y),b(y,!0);var i=y.view.editable,o=y.view.scroll;n>i.left-o.x&&n<i.right-o.x&&t>i.top-o.y&&t<i.bottom-o.y||(clearTimeout(a),a=null,y.line.detach())}else clearTimeout(a),a=null,y.line.detach()})),d.attachListener(d,"keyup",(function(){y.hiddenMode=0})),d.attachListener(d,"keydown",(function(t){if("wysiwyg"==e.mode)switch(t.data.getKeystroke()){case 2228240:case 16:y.hiddenMode=1,y.line.detach()}})),d.attachListener(y.inInlineMode?d:h,"mousemove",(function(t){if(r=!0,"wysiwyg"==e.mode&&!e.readOnly&&!a){var n={x:t.data.$.clientX,y:t.data.$.clientY};a=setTimeout((function(){y.mouse=n,a=y.trigger=null,C(y),r&&!y.hiddenMode&&e.focusManager.hasFocus&&!y.line.mouseNear()&&(y.element=V(y,!0))&&((y.trigger=m(y)||E(y)||X(y))&&!g(y,y.trigger.upper||y.trigger.lower)?y.line.attach().place():(y.trigger=null,y.line.detach()),r=!1)}),30)}})),d.attachListener(T,"scroll",(function(){"wysiwyg"==e.mode&&(y.line.detach(),R.webkit&&(y.hiddenMode=1,clearTimeout(i),i=setTimeout((function(){y.mouseDown||(y.hiddenMode=0)}),50)))})),d.attachListener(_?h:T,"mousedown",(function(){"wysiwyg"==e.mode&&(y.line.detach(),y.hiddenMode=1,y.mouseDown=1)})),d.attachListener(_?h:T,"mouseup",(function(){y.hiddenMode=0,y.mouseDown=0})),e.addCommand("accessPreviousSpace",c(y)),e.addCommand("accessNextSpace",c(y,!0)),e.setKeystroke([[p.magicline_keystrokePrevious,"accessPreviousSpace"],[p.magicline_keystrokeNext,"accessNextSpace"]]),e.on("loadSnapshot",(function(){var t,n,i,o;for(o in{p:1,br:1,div:1})for(i=(t=e.document.getElementsByTag(o)).count();i--;)if((n=t.getItem(i)).data("cke-magicline-hot"))return y.hotNode=n,void(y.lastCmdDirection="true"===n.data("cke-magicline-dir"))})),e._.magiclineBackdoor={accessFocusSpace:l,boxTrigger:t,isLine:u,getAscendantTrigger:n,getNonEmptyNeighbour:o,getSize:v,that:y,triggerEdge:E,triggerEditable:m,triggerExpand:X})}),this)}});var O=CKEDITOR.tools.extend,I=CKEDITOR.dom.element,D=I.createFromHtml,R=CKEDITOR.env,_=CKEDITOR.env.ie&&9>CKEDITOR.env.version,w=CKEDITOR.dtd,k={},K=128,x=64,S=32,N=16,A=4,L=2,P=1,F=" ",$=w.$listItem,B=w.$tableContent,M=O({},w.$nonEditable,w.$empty),H=w.$block,j=100,q="width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;",U=q+"border-color:transparent;display:block;border-style:solid;",z="<span>"+F+"</span>";k[CKEDITOR.ENTER_BR]="br",k[CKEDITOR.ENTER_P]="p",k[CKEDITOR.ENTER_DIV]="div",t.prototype={set:function(e,t,n){return this.properties=e+t+(n||P),this},is:function(e){return(this.properties&e)==e}};var V=function(){function e(e,t){var n=e.$.elementFromPoint(t.x,t.y);return n&&n.nodeType?new CKEDITOR.dom.element(n):null}return function(t,n,i){if(!t.mouse)return null;var o=t.doc,r=t.line.wrap,a=e(o,i=i||t.mouse);return n&&u(t,a)&&(r.hide(),a=e(o,i),r.show()),!a||a.type!=CKEDITOR.NODE_ELEMENT||!a.$||R.ie&&9>R.version&&!t.boundary.equals(a)&&!t.boundary.contains(a)?null:a}}(),W=CKEDITOR.dom.walker.whitespaces(),G=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),X=function(){function t(t){var o,a,s;if(!d(f=t.element)||f.contains(t.editable)||f.isReadOnly())return null;if(s=y(t,(function(e,t){return!t.equals(e)}),(function(e,t){return V(e,!0,t)}),f),e(0,o=s.upper,a=s.lower))return s.set(S,8);if(o&&f.contains(o))for(;!o.getParent().equals(f);)o=o.getParent();else o=f.getFirst((function(e){return n(t,e)}));if(a&&f.contains(a))for(;!a.getParent().equals(f);)a=a.getParent();else a=f.getLast((function(e){return n(t,e)}));if(!o||!a)return null;if(T(t,o),T(t,a),!r(t.mouse.y,o.size.top,a.size.bottom))return null;for(var l,c,u,h,f=Number.MAX_VALUE;a&&!a.equals(o)&&(c=o.getNext(t.isRelevant));)(l=Math.abs(i(t,o,c)-t.mouse.y))<f&&(f=l,u=o,h=c),T(t,o=c);return u&&h&&r(t.mouse.y,u.size.top,h.size.bottom)?(s.upper=u,s.lower=h,s.set(S,8)):null}function n(e,t){return!(t&&t.type==CKEDITOR.NODE_TEXT||G(t)||h(t)||u(e,t)||t.type==CKEDITOR.NODE_ELEMENT&&t.$&&t.is("br"))}return function(n){var i,o=t(n);if(i=o){i=o.upper;var r=o.lower;i=!(!i||!r||h(r)||h(i)||r.equals(i)||i.equals(r)||r.contains(i)||i.contains(r)||!(p(n,i)&&p(n,r)&&e(0,i,r)))}return i?o:null}}(),Y=["top","left","right","bottom"]}(),CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51,CKEDITOR.config.magicline_keystrokeNext=CKEDITOR.CTRL+CKEDITOR.SHIFT+52,function(){function e(e){if(!e||e.type!=CKEDITOR.NODE_ELEMENT||"form"!=e.getName())return[];for(var t=[],n=["style","className"],i=0;i<n.length;i++){var o=e.$.elements.namedItem(n[i]);o&&(o=new CKEDITOR.dom.element(o),t.push([o,o.nextSibling]),o.remove())}return t}function t(e,t){if(e&&e.type==CKEDITOR.NODE_ELEMENT&&"form"==e.getName()&&0<t.length)for(var n=t.length-1;0<=n;n--){var i=t[n][0],o=t[n][1];o?i.insertBefore(o):i.appendTo(e)}}function n(n,i){var o=e(n),r={},a=n.$;return i||(r.class=a.className||"",a.className=""),r.inline=a.style.cssText||"",i||(a.style.cssText="position: static; overflow: visible"),t(o),r}function i(n,i){var o=e(n),r=n.$;"class"in i&&(r.className=i.class),"inline"in i&&(r.style.cssText=i.inline),t(o)}function o(e){if(!e.editable().isInline()){var t,n=CKEDITOR.instances;for(t in n){var i=n[t];"wysiwyg"!=i.mode||i.readOnly||((i=i.document.getBody()).setAttribute("contentEditable",!1),i.setAttribute("contentEditable",!0))}e.editable().hasFocus&&(e.toolbox.focus(),e.focus())}}CKEDITOR.plugins.add("maximize",{init:function(e){function t(){var t=u.getViewPaneSize();e.resize(t.width,t.height,null,!0)}if(e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var r,a,s,l=e.lang,c=CKEDITOR.document,u=c.getWindow(),d=CKEDITOR.TRISTATE_OFF;e.addCommand("maximize",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var l=e.container.getFirst((function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_inner")})),h=e.ui.space("contents");if("wysiwyg"==e.mode){var f=e.getSelection();r=f&&f.getRanges(),a=u.getScrollPosition()}else{var p=e.editable().$;r=!CKEDITOR.env.ie&&[p.selectionStart,p.selectionEnd],a=[p.scrollLeft,p.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){for(u.on("resize",t),s=u.getScrollPosition(),f=e.container;f=f.getParent();)f.setCustomData("maximize_saved_styles",n(f)),f.setStyle("z-index",e.config.baseFloatZIndex-5);h.setCustomData("maximize_saved_styles",n(h,!0)),l.setCustomData("maximize_saved_styles",n(l,!0)),h={overflow:CKEDITOR.env.webkit?"":"hidden",width:0,height:0},c.getDocumentElement().setStyles(h),!CKEDITOR.env.gecko&&c.getDocumentElement().setStyle("position","fixed"),CKEDITOR.env.gecko&&CKEDITOR.env.quirks||c.getBody().setStyles(h),CKEDITOR.env.ie?setTimeout((function(){u.$.scrollTo(0,0)}),0):u.$.scrollTo(0,0),l.setStyle("position",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?"fixed":"absolute"),l.$.offsetLeft,l.setStyles({"z-index":e.config.baseFloatZIndex-5,left:"0px",top:"0px"}),l.addClass("cke_maximized"),t(),h=l.getDocumentPosition(),l.setStyles({left:-1*h.x+"px",top:-1*h.y+"px"}),CKEDITOR.env.gecko&&o(e)}else if(this.state==CKEDITOR.TRISTATE_ON){u.removeListener("resize",t),f=[h,l];for(var g=0;g<f.length;g++)i(f[g],f[g].getCustomData("maximize_saved_styles")),f[g].removeCustomData("maximize_saved_styles");for(f=e.container;f=f.getParent();)i(f,f.getCustomData("maximize_saved_styles")),f.removeCustomData("maximize_saved_styles");CKEDITOR.env.ie?setTimeout((function(){u.$.scrollTo(s.x,s.y)}),0):u.$.scrollTo(s.x,s.y),l.removeClass("cke_maximized"),CKEDITOR.env.webkit&&(l.setStyle("display","inline"),setTimeout((function(){l.setStyle("display","block")}),0)),e.fire("resize",{outerHeight:e.container.$.offsetHeight,contentsHeight:h.$.offsetHeight,outerWidth:e.container.$.offsetWidth})}this.toggleState(),"wysiwyg"==e.mode?r?(CKEDITOR.env.gecko&&o(e),e.getSelection().selectRanges(r),(p=e.getSelection().getStartElement())&&p.scrollIntoView(!0)):u.$.scrollTo(a.x,a.y):(r&&(p.selectionStart=r[0],p.selectionEnd=r[1]),p.scrollLeft=a[0],p.scrollTop=a[1]),r=a=null,d=this.state,e.fire("maximize",this.state)},canUndo:!1}),e.ui.addButton&&e.ui.addButton("Maximize",{isToggle:!0,label:l.maximize.maximize,command:"maximize",toolbar:"tools,10"}),e.on("mode",(function(){var t=e.getCommand("maximize");t.setState(t.state==CKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:d)}),null,null,100),e.config.maximize_historyIntegration&&u.on(e.config.maximize_historyIntegration===CKEDITOR.HISTORY_NATIVE?"popstate":"hashchange",(function(){var t=e.getCommand("maximize");t.state===CKEDITOR.TRISTATE_ON&&t.exec()}))}}}),CKEDITOR.config.maximize_historyIntegration=CKEDITOR.HISTORY_NATIVE}(),CKEDITOR.plugins.add("xml",{}),CKEDITOR.xml=function(e){var t=null;if("object"==typeof e)t=e;else if(e=(e||"").replace(/&nbsp;/g," "),"ActiveXObject"in window){try{t=new ActiveXObject("MSXML2.DOMDocument")}catch(e){try{t=new ActiveXObject("Microsoft.XmlDom")}catch(e){}}t&&(t.async=!1,t.resolveExternals=!1,t.validateOnParse=!1,t.loadXML(e))}else window.DOMParser&&(t=(new DOMParser).parseFromString(e,"text/xml"));this.baseXml=t},CKEDITOR.xml.prototype={selectSingleNode:function(e,t){var n=this.baseXml;if(t||(t=n)){if("selectSingleNode"in t)return t.selectSingleNode(e);if(n.evaluate)return(n=n.evaluate(e,t,null,9,null))&&n.singleNodeValue||null}return null},selectNodes:function(e,t){var n=this.baseXml,i=[];if(t||(t=n)){if("selectNodes"in t)return t.selectNodes(e);if(n.evaluate&&(n=n.evaluate(e,t,null,5,null)))for(var o;o=n.iterateNext();)i.push(o)}return i},getInnerXml:function(e,t){var n=this.selectSingleNode(e,t),i=[];if(n)for(n=n.firstChild;n;)n.xml?i.push(n.xml):window.XMLSerializer&&i.push((new XMLSerializer).serializeToString(n)),n=n.nextSibling;return i.length?i.join(""):null}},CKEDITOR.plugins.add("ajax",{requires:"xml"}),CKEDITOR.ajax=function(){function e(){if(!CKEDITOR.env.ie||"file:"!=location.protocol)try{return new XMLHttpRequest}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}return null}function t(e,t){if(4!=e.readyState||!(200<=e.status&&300>e.status||304==e.status||0===e.status||1223==e.status))return null;switch(t){case"text":return e.responseText;case"xml":var n=e.responseXML;return new CKEDITOR.xml(n&&n.firstChild?n:e.responseText);case"arraybuffer":return e.response;default:return null}}function n(n,i,o){var r=!!i,a=e();return a?(r&&"text"!==o&&"xml"!==o&&(a.responseType=o),a.open("GET",n,r),r&&(a.onreadystatechange=function(){4==a.readyState&&(i(t(a,o)),a=null)}),a.send(null),r?"":t(a,o)):null}function i(n,i,o,r,a){var s=e();if(!s)return null;s.open("POST",n,!0),s.onreadystatechange=function(){4==s.readyState&&(r&&r(t(s,a)),s=null)},s.setRequestHeader("Content-type",o||"application/x-www-form-urlencoded; charset=UTF-8"),s.send(i)}return{load:function(e,t,i){return n(e,t,i||"text")},post:function(e,t,n,o){return i(e,t,n,o,"text")},loadXml:function(e,t){return n(e,t,"xml")},loadText:function(e,t){return n(e,t,"text")},loadBinary:function(e,t){return n(e,t,"arraybuffer")}}}(),function(){function e(t,n){var i=t.shift();i&&i.handle(n,(function(){e(t,n)}))}function t(e,t){var i,o,r=0;if(!CKEDITOR.tools.array.isArray(e)||0===e.length)return!0;if(i=CKEDITOR.tools.array.filter(e,(function(e){return-1===CKEDITOR.tools.array.indexOf(n,e)})),0<i.length)for(o=0;o<i.length;o++)!function(e){CKEDITOR.scriptLoader.queue(e,(function(o){o&&n.push(e),++r===i.length&&t()}))}(i[o]);return 0===i.length}var n=[],i=CKEDITOR.tools.createClass({$:function(){this.handlers=[]},proto:{register:function(e){"number"!=typeof e.priority&&(e.priority=10),this.handlers.push(e)},addPasteListener:function(n){n.on("paste",(function(i){var o,r=function(e,t){return CKEDITOR.tools.array.filter(e,(function(e){return e.canHandle(t)})).sort((function(e,t){return e.priority===t.priority?0:e.priority-t.priority}))}(this.handlers,i);if(0!==r.length){if(o=function(e){var t=CKEDITOR.tools.array.reduce(e,(function(e,t){return CKEDITOR.tools.array.isArray(t.filters)?e.concat(t.filters):e}),[]);return CKEDITOR.tools.array.filter(t,(function(e,n){return CKEDITOR.tools.array.indexOf(t,e)===n}))}(r),!(o=t(o,(function(){return n.fire("paste",i.data)}))))return i.cancel();e(r,i)}}),this,null,3)}}});CKEDITOR.plugins.add("pastetools",{requires:["clipboard","ajax"],beforeInit:function(e){e.pasteTools=new i,e.pasteTools.addPasteListener(e)}}),CKEDITOR.plugins.pastetools={filters:{},loadFilters:t,createFilter:function(e){var t=CKEDITOR.tools.array.isArray(e.rules)?e.rules:[e.rules],n=e.additionalTransforms;return function(e,i){var o,r=new CKEDITOR.htmlParser.basicWriter,a=new CKEDITOR.htmlParser.filter;return n&&(e=n(e,i)),CKEDITOR.tools.array.forEach(t,(function(t){a.addRules(t(e,i,a))})),o=CKEDITOR.htmlParser.fragment.fromHtml(e),a.applyTo(o),o.writeHtml(r),r.getHtml()}},getClipboardData:function(e,t){var n;return CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"text/html"===t?(n=e.dataTransfer.getData(t,!0))||"text/html"!==t?n:e.dataValue:null},getConfigValue:function(e,t){if(e&&e.config){var n=CKEDITOR.tools,i=e.config,o=n.object.keys(i),r=["pasteTools_"+t,"pasteFromWord_"+t,"pasteFromWord"+n.capitalize(t,!0)];return r=n.array.find(r,(function(e){return-1!==n.array.indexOf(o,e)})),i[r]}},getContentGeneratorName:function(e){if((e=/<meta\s+name=["']?generator["']?\s+content=["']?(\w+)/gi.exec(e))&&e.length)return 0===(e=e[1].toLowerCase()).indexOf("microsoft")?"microsoft":0===e.indexOf("libreoffice")?"libreoffice":"unknown"}},CKEDITOR.pasteFilters=CKEDITOR.plugins.pastetools.filters}(),CKEDITOR.plugins.add("pastefromgdocs",{requires:"pastetools",init:function(e){var t=CKEDITOR.plugins.getPath("pastetools"),n=this.path;e.pasteTools.register({filters:[CKEDITOR.getUrl(t+"filter/common.js"),CKEDITOR.getUrl(n+"filter/default.js")],canHandle:function(e){return/id=(\"|\')?docs\-internal\-guid\-/.test(e.data.dataValue)},handle:function(t,n){var i=t.data,o=CKEDITOR.plugins.pastetools.getClipboardData(i,"text/html");i.dontFilter=!0,i.dataValue=CKEDITOR.pasteFilters.gdocs(o,e),!0===e.config.forcePasteAsPlainText&&(i.type="text"),n()}})}}),CKEDITOR.plugins.add("pastefromlibreoffice",{requires:"pastetools",isSupportedEnvironment:function(){var e=CKEDITOR.env.ie&&11>=CKEDITOR.env.version;return!(CKEDITOR.env.webkit&&!CKEDITOR.env.chrome||e)},init:function(e){if(this.isSupportedEnvironment()){var t=CKEDITOR.plugins.getPath("pastetools"),n=this.path;e.pasteTools.register({priority:100,filters:[CKEDITOR.getUrl(t+"filter/common.js"),CKEDITOR.getUrl(t+"filter/image.js"),CKEDITOR.getUrl(n+"filter/default.js")],canHandle:function(e){return!!(e=(e=e.data).dataTransfer.getData("text/html",!0)||e.dataValue)&&"libreoffice"===CKEDITOR.plugins.pastetools.getContentGeneratorName(e)},handle:function(t,n){var i=t.data,o=i.dataValue||CKEDITOR.plugins.pastetools.getClipboardData(i,"text/html");i.dontFilter=!0,o=CKEDITOR.pasteFilters.image(o,e,CKEDITOR.plugins.pastetools.getClipboardData(i,"text/rtf")),i.dataValue=CKEDITOR.pasteFilters.libreoffice(o,e),!0===e.config.forcePasteAsPlainText&&(i.type="text"),n()}})}}}),CKEDITOR.plugins.add("pastefromword",{requires:"pastetools",init:function(e){var t=0,n=CKEDITOR.plugins.getPath("pastetools"),i=this.path,o=void 0===e.config.pasteFromWord_inlineImages||e.config.pasteFromWord_inlineImages;n=[CKEDITOR.getUrl(n+"filter/common.js"),CKEDITOR.getUrl(n+"filter/image.js"),CKEDITOR.getUrl(i+"filter/default.js")],e.addCommand("pastefromword",{canUndo:!1,async:!0,exec:function(e,n){t=1,e.execCommand("paste",{type:"html",notification:!n||void 0===n.notification||n.notification})}}),CKEDITOR.plugins.clipboard.addPasteButton(e,"PasteFromWord",{label:e.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"}),e.pasteTools.register({filters:e.config.pasteFromWordCleanupFile?[e.config.pasteFromWordCleanupFile]:n,canHandle:function(e){e=CKEDITOR.plugins.pastetools.getClipboardData(e.data,"text/html");var n=(n=CKEDITOR.plugins.pastetools.getContentGeneratorName(e))?"microsoft"===n:/(class="?Mso|style=["'][^"]*?\bmso\-|w:WordDocument|<o:\w+>|<\/font>)/.test(e);return e&&(t||n)},handle:function(n,i){var r=n.data,a=CKEDITOR.plugins.pastetools.getClipboardData(r,"text/html"),s=CKEDITOR.plugins.pastetools.getClipboardData(r,"text/rtf");a={dataValue:a,dataTransfer:{"text/rtf":s}},(!1!==e.fire("pasteFromWord",a)||t)&&(r.dontFilter=!0,(t||!e.config.pasteFromWordPromptCleanup||confirm(e.lang.pastefromword.confirmCleanup))&&(a.dataValue=CKEDITOR.cleanWord(a.dataValue,e),CKEDITOR.plugins.clipboard.isCustomDataTypesSupported&&o&&CKEDITOR.pasteFilters.image&&(a.dataValue=CKEDITOR.pasteFilters.image(a.dataValue,e,s)),e.fire("afterPasteFromWord",a),r.dataValue=a.dataValue,!0===e.config.forcePasteAsPlainText?r.type="text":CKEDITOR.plugins.clipboard.isCustomCopyCutSupported||"allow-word"!==e.config.forcePasteAsPlainText||(r.type="html")),t=0,i())}})}}),function(){var e={canUndo:!1,async:!0,exec:function(e,t){var n=e.lang,i=CKEDITOR.tools.keystrokeToString(n.common.keyboard,e.getCommandKeystroke(CKEDITOR.env.ie?e.commands.paste:this)),o=t&&void 0!==t.notification?t.notification:!t||!t.from||"keystrokeHandler"===t.from&&CKEDITOR.env.ie;n=o&&"string"==typeof o?o:n.pastetext.pasteNotification.replace(/%1/,'<kbd aria-label="'+i.aria+'">'+i.display+"</kbd>"),e.execCommand("paste",{type:"text",notification:!!o&&n})}};CKEDITOR.plugins.add("pastetext",{requires:"clipboard",init:function(t){var n=CKEDITOR.env.safari?CKEDITOR.CTRL+CKEDITOR.ALT+CKEDITOR.SHIFT+86:CKEDITOR.CTRL+CKEDITOR.SHIFT+86;t.addCommand("pastetext",e),t.setKeystroke(n,"pastetext"),CKEDITOR.plugins.clipboard.addPasteButton(t,"PasteText",{label:t.lang.pastetext.button,command:"pastetext",toolbar:"clipboard,40"}),t.config.forcePasteAsPlainText&&t.on("beforePaste",(function(e){"html"!=e.data.type&&(e.data.type="text")})),t.on("pasteState",(function(e){t.getCommand("pastetext").setState(e.data)}))}})}(),CKEDITOR.plugins.add("removeformat",{init:function(e){e.addCommand("removeFormat",CKEDITOR.plugins.removeformat.commands.removeformat),e.ui.addButton&&e.ui.addButton("RemoveFormat",{label:e.lang.removeformat.toolbar,command:"removeFormat",toolbar:"cleanup,10"})}}),CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(e){for(var t,n=e._.removeFormatRegex||(e._.removeFormatRegex=new RegExp("^(?:"+e.config.removeFormatTags.replace(/,/g,"|")+")$","i")),i=e._.removeAttributes||(e._.removeAttributes=e.config.removeFormatAttributes.split(",")),o=CKEDITOR.plugins.removeformat.filter,r=e.getSelection().getRanges(),a=r.createIterator(),s=function(e){return e.type==CKEDITOR.NODE_ELEMENT};t=a.getNextRange();){t.enlarge(CKEDITOR.ENLARGE_INLINE);var l=t.createBookmark(),c=l.startNode,u=l.endNode,d=function(t){for(var i,r=e.elementPath(t),a=r.elements,s=1;(i=a[s])&&!i.equals(r.block)&&!i.equals(r.blockLimit);s++)n.test(i.getName())&&o(e,i)&&t.breakParent(i)};if(d(c),u)for(d(u),c=c.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);c&&!c.equals(u);)if(c.isReadOnly()){if(c.getPosition(u)&CKEDITOR.POSITION_CONTAINS)break;c=c.getNext(s)}else d=c.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),"img"==c.getName()&&c.data("cke-realelement")||!o(e,c)||(n.test(c.getName())?c.remove(1):(c.removeAttributes(i),e.fire("removeFormatCleanup",c))),c=d;t.moveToBookmark(l)}e.forceNextSelectionCheck(),e.getSelection().selectRanges(r)}}},filter:function(e,t){for(var n=e._.removeFormatFilters||[],i=0;i<n.length;i++)if(!1===n[i](t))return!1;return!0}},CKEDITOR.editor.prototype.addRemoveFormatFilter=function(e){this._.removeFormatFilters||(this._.removeFormatFilters=[]),this._.removeFormatFilters.push(e)},CKEDITOR.config.removeFormatTags="b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var",CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign",CKEDITOR.plugins.add("resize",{init:function(e){function t(t){var n=s.width,o=s.height,l=n+(t.data.$.screenX-a.x)*("rtl"==r?-1:1);t=o+(t.data.$.screenY-a.y),c&&(n=Math.max(i.resize_minWidth,Math.min(l,i.resize_maxWidth))),u&&(o=Math.max(i.resize_minHeight,Math.min(t,i.resize_maxHeight))),e.resize(c?n:null,o)}function n(){CKEDITOR.document.removeListener("mousemove",t),CKEDITOR.document.removeListener("mouseup",n),e.document&&(e.document.removeListener("mousemove",t),e.document.removeListener("mouseup",n))}var i=e.config,o=e.ui.spaceId("resizer"),r=e.element?e.element.getDirection(1):"ltr";if(!i.resize_dir&&(i.resize_dir="vertical"),void 0===i.resize_maxWidth&&(i.resize_maxWidth=3e3),void 0===i.resize_maxHeight&&(i.resize_maxHeight=3e3),void 0===i.resize_minWidth&&(i.resize_minWidth=750),void 0===i.resize_minHeight&&(i.resize_minHeight=250),!1!==i.resize_enabled){var a,s,l=null,c=("both"==i.resize_dir||"horizontal"==i.resize_dir)&&i.resize_minWidth!=i.resize_maxWidth,u=("both"==i.resize_dir||"vertical"==i.resize_dir)&&i.resize_minHeight!=i.resize_maxHeight,d=CKEDITOR.tools.addFunction((function(o){l||(l=e.getResizable()),s={width:l.$.offsetWidth||0,height:l.$.offsetHeight||0},a={x:o.screenX,y:o.screenY},i.resize_minWidth>s.width&&(i.resize_minWidth=s.width),i.resize_minHeight>s.height&&(i.resize_minHeight=s.height),CKEDITOR.document.on("mousemove",t),CKEDITOR.document.on("mouseup",n),e.document&&(e.document.on("mousemove",t),e.document.on("mouseup",n)),o.preventDefault&&o.preventDefault()}));e.on("destroy",(function(){CKEDITOR.tools.removeFunction(d)})),e.on("uiSpace",(function(t){if("bottom"==t.data.space){var n="";c&&!u&&(n=" cke_resizer_horizontal"),!c&&u&&(n=" cke_resizer_vertical");var i='<span id="'+o+'" class="cke_resizer'+n+" cke_resizer_"+r+'" title="'+CKEDITOR.tools.htmlEncode(e.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+d+', event)">'+("ltr"==r?"◢":"◣")+"</span>";"ltr"==r&&"ltr"==n?t.data.html+=i:t.data.html=i+t.data.html}}),e,null,100),e.on("maximize",(function(t){e.ui.space("resizer")[t.data==CKEDITOR.TRISTATE_ON?"hide":"show"]()}))}}}),CKEDITOR.plugins.add("menubutton",{requires:"button,menu",onLoad:function(){var e=function(e){var t=this._,n=CKEDITOR.document.getById(t.id),i=t.menu;t.state!==CKEDITOR.TRISTATE_DISABLED&&(t.on&&i?i.hide():(t.previousState=t.state,i||((i=t.menu=new CKEDITOR.menu(e,{panel:{className:"cke_menu_panel",attributes:{"aria-label":e.lang.common.options}}})).onHide=CKEDITOR.tools.bind((function(){var i=this.command?e.getCommand(this.command).modes:this.modes;this.setState(!i||i[e.mode]?t.previousState:CKEDITOR.TRISTATE_DISABLED),t.on=0,n.setAttribute("aria-expanded","false")}),this),this.onMenu&&i.addListener(this.onMenu)),this.setState(CKEDITOR.TRISTATE_ON),t.on=1,n.setAttribute("aria-expanded","true"),setTimeout((function(){i.show(CKEDITOR.document.getById(t.id),4)}),0)))};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(t){delete t.panel,this.base(t),this.hasArrow="menu",this.click=e},statics:{handler:{create:function(e){return new CKEDITOR.ui.menuButton(e)}}}})},beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}}),CKEDITOR.UI_MENUBUTTON="menubutton",CKEDITOR.plugins.add("scayt",{requires:"menubutton,dialog",tabToOpen:null,dialogName:"scaytDialog",onLoad:function(e){"moono-lisa"==(CKEDITOR.skinName||e.config.skin)&&CKEDITOR.document.appendStyleSheet(CKEDITOR.getUrl(this.path+"skins/"+CKEDITOR.skin.name+"/scayt.css")),CKEDITOR.document.appendStyleSheet(CKEDITOR.getUrl(this.path+"dialogs/dialog.css"));var t=!1;CKEDITOR.on("instanceLoaded",(function(e){if(!t&&CKEDITOR.plugins.autocomplete){t=!0;var n=CKEDITOR.plugins.autocomplete.prototype.getModel;CKEDITOR.plugins.autocomplete.prototype.getModel=function(e){var t=this.editor;return(e=n.bind(this)(e)).on("change-isActive",(function(e){e.data?t.fire("autocompletePanelShow"):t.fire("autocompletePanelHide")})),e}}}))},init:function(e){var t=this,n=CKEDITOR.plugins.scayt;this.bindEvents(e),this.parseConfig(e),this.addRule(e),CKEDITOR.dialog.add(this.dialogName,CKEDITOR.getUrl(this.path+"dialogs/options.js")),this.addMenuItems(e);var i=e.lang.scayt,o=CKEDITOR.env;e.ui.add("Scayt",CKEDITOR.UI_MENUBUTTON,{label:i.text_title,title:e.plugins.wsc?e.lang.wsc.title:i.text_title,modes:{wysiwyg:!(o.ie&&(8>o.version||o.quirks))},toolbar:"spellchecker,20",refresh:function(){var t=e.ui.instances.Scayt.getState();e.scayt&&(t=n.state.scayt[e.name]?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),e.fire("scaytButtonState",t)},onRender:function(){var t=this;e.on("scaytButtonState",(function(e){void 0!==typeof e.data&&t.setState(e.data)}))},onMenu:function(){var t=e.scayt;e.getMenuItem("scaytToggle").label=e.lang.scayt[t&&n.state.scayt[e.name]?"btn_disable":"btn_enable"];var i={scaytToggle:CKEDITOR.TRISTATE_OFF,scaytOptions:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytLangs:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytDict:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytAbout:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,WSC:e.plugins.wsc?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};return e.config.scayt_uiTabs[0]||delete i.scaytOptions,e.config.scayt_uiTabs[1]||delete i.scaytLangs,e.config.scayt_uiTabs[2]||delete i.scaytDict,t&&!CKEDITOR.plugins.scayt.isNewUdSupported(t)&&(delete i.scaytDict,e.config.scayt_uiTabs[2]=0,CKEDITOR.plugins.scayt.alarmCompatibilityMessage()),i}}),e.contextMenu&&e.addMenuItems&&(e.contextMenu.addListener((function(n,i){var o,r,a=e.scayt;return a&&(r=a.getSelectionNode())&&(o=t.menuGenerator(e,r),a.showBanner("."+e.contextMenu._.definition.panel.className.split(" ").join(" ."))),o})),e.contextMenu._.onHide=CKEDITOR.tools.override(e.contextMenu._.onHide,(function(t){return function(){var n=e.scayt;return n&&n.hideBanner(),t.apply(this)}})))},addMenuItems:function(e){var t=this,n=CKEDITOR.plugins.scayt;e.addMenuGroup("scaytButton");for(var i=e.config.scayt_contextMenuItemsOrder.split("|"),o=0;o<i.length;o++)i[o]="scayt_"+i[o];if((i=["grayt_description","grayt_suggest","grayt_control"].concat(i))&&i.length)for(o=0;o<i.length;o++)e.addMenuGroup(i[o],o-10);e.addCommand("scaytToggle",{exec:function(e){var t=e.scayt;n.state.scayt[e.name]=!n.state.scayt[e.name],!0===n.state.scayt[e.name]?t||n.createScayt(e):t&&n.destroy(e)}}),e.addCommand("scaytAbout",{exec:function(e){e.scayt.tabToOpen="about",n.openDialog(t.dialogName,e)}}),e.addCommand("scaytOptions",{exec:function(e){e.scayt.tabToOpen="options",n.openDialog(t.dialogName,e)}}),e.addCommand("scaytLangs",{exec:function(e){e.scayt.tabToOpen="langs",n.openDialog(t.dialogName,e)}}),e.addCommand("scaytDict",{exec:function(e){e.scayt.tabToOpen="dictionaries",n.openDialog(t.dialogName,e)}}),i={scaytToggle:{label:e.lang.scayt.btn_enable,group:"scaytButton",command:"scaytToggle"},scaytAbout:{label:e.lang.scayt.btn_about,group:"scaytButton",command:"scaytAbout"},scaytOptions:{label:e.lang.scayt.btn_options,group:"scaytButton",command:"scaytOptions"},scaytLangs:{label:e.lang.scayt.btn_langs,group:"scaytButton",command:"scaytLangs"},scaytDict:{label:e.lang.scayt.btn_dictionaries,group:"scaytButton",command:"scaytDict"}},e.plugins.wsc&&(i.WSC={label:e.lang.wsc.toolbar,group:"scaytButton",onClick:function(){var t=CKEDITOR.plugins.scayt,n=e.scayt,i=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.container.getText():e.document.getBody().getText();(i=i.replace(/\s/g,""))?(n&&t.state.scayt[e.name]&&n.setMarkupPaused&&n.setMarkupPaused(!0),e.lockSelection(),e.execCommand("checkspell")):alert("Nothing to check!")}}),e.addMenuItems(i)},bindEvents:function(e){var t=CKEDITOR.plugins.scayt,n=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE,i=function(){t.destroy(e)},o=function(){!t.state.scayt[e.name]||e.readOnly||e.scayt||t.createScayt(e)},r=function(){n?e.config.scayt_inlineModeImmediateMarkup?o():(e.on("blur",(function(){setTimeout(i,0)})),e.on("focus",o),e.focusManager.hasFocus&&o()):o(),function(){var t=e.editable();t.attachListener(t,"focus",(function(t){var i,r;if(CKEDITOR.plugins.scayt&&!e.scayt&&setTimeout(o,0),t=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[e.name]&&e.scayt,(n||t)&&e._.savedSelection){t=!(t=e._.savedSelection.getSelectedElement())&&e._.savedSelection.getRanges();for(var a=0;a<t.length;a++)"string"==typeof(r=t[a]).startContainer.$.nodeValue&&((i=r.startContainer.getText().length)<r.startOffset||i<r.endOffset)&&e.unlockSelection(!1)}}),this,null,-10)}();var t=e.editable();t.attachListener(t,"mousedown",(function(t){t=t.data.getTarget();var n=e.widgets&&e.widgets.getByElement(t);n&&(n.wrapper=t.getAscendant((function(e){return e.hasAttribute("data-cke-widget-wrapper")}),!0))}),this,null,-10)};e.on("contentDom",r),e.on("beforeCommandExec",(function(n){var i=e.scayt,o=!1,r=!1,a=!0;n.data.name in t.options.disablingCommandExec&&"wysiwyg"==e.mode?i&&(t.destroy(e),e.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)):"bold"!==n.data.name&&"italic"!==n.data.name&&"underline"!==n.data.name&&"strike"!==n.data.name&&"subscript"!==n.data.name&&"superscript"!==n.data.name&&"enter"!==n.data.name&&"cut"!==n.data.name&&"language"!==n.data.name||!i||("cut"===n.data.name&&(a=!1,r=!0),"language"===n.data.name&&(r=o=!0),e.fire("reloadMarkupScayt",{removeOptions:{removeInside:a,forceBookmark:r,language:o},timeout:0}))})),e.on("beforeSetMode",(function(n){"source"==n.data&&((n=e.scayt)&&(t.destroy(e),e.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)),e.document&&e.document.getBody().removeAttribute("_jquid"))})),e.on("afterCommandExec",(function(n){"wysiwyg"!=e.mode||"undo"!=n.data.name&&"redo"!=n.data.name||setTimeout((function(){t.reloadMarkup(e.scayt)}),250)})),e.on("readOnly",(function(n){var i;n&&(i=e.scayt,!0===n.editor.readOnly?i&&i.fire("removeMarkupInDocument",{}):i?t.reloadMarkup(i):"wysiwyg"==n.editor.mode&&!0===t.state.scayt[n.editor.name]&&(t.createScayt(e),n.editor.fire("scaytButtonState",CKEDITOR.TRISTATE_ON)))})),e.on("beforeDestroy",i),e.on("setData",(function(){i(),(e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE||e.plugins.divarea)&&r()}),this,null,50),e.on("reloadMarkupScayt",(function(n){var i=n.data&&n.data.removeOptions,o=n.data&&n.data.timeout,r=n.data&&n.data.language,a=e.scayt;a&&setTimeout((function(){r&&(i.selectionNode=e.plugins.language.getCurrentLangElement(e),i.selectionNode=i.selectionNode&&i.selectionNode.$||null),a.removeMarkupInSelectionNode(i),t.reloadMarkup(a)}),o||0)})),e.on("insertElement",(function(){e.fire("reloadMarkupScayt",{removeOptions:{forceBookmark:!0}})}),this,null,50),e.on("insertHtml",(function(){e.scayt&&e.scayt.setFocused&&e.scayt.setFocused(!0),e.fire("reloadMarkupScayt")}),this,null,50),e.on("insertText",(function(){e.scayt&&e.scayt.setFocused&&e.scayt.setFocused(!0),e.fire("reloadMarkupScayt")}),this,null,50),e.on("scaytDialogShown",(function(t){t.data.selectPage(e.scayt.tabToOpen)})),e.on("autocompletePanelShow",(function(t){(t=e.scayt)&&t.setMarkupPaused&&t.setMarkupPaused(!0)})),e.on("autocompletePanelHide",(function(t){(t=e.scayt)&&t.setMarkupPaused&&t.setMarkupPaused(!1)}))},parseConfig:function(e){if((i=CKEDITOR.plugins.scayt).replaceOldOptionsNames(e.config),"boolean"!=typeof e.config.scayt_autoStartup&&(e.config.scayt_autoStartup=!1),i.state.scayt[e.name]=e.config.scayt_autoStartup,"boolean"!=typeof e.config.grayt_autoStartup&&(e.config.grayt_autoStartup=!1),"boolean"!=typeof e.config.scayt_inlineModeImmediateMarkup&&(e.config.scayt_inlineModeImmediateMarkup=!1),i.state.grayt[e.name]=e.config.grayt_autoStartup,e.config.scayt_contextCommands||(e.config.scayt_contextCommands="ignoreall|add"),e.config.scayt_contextMenuItemsOrder||(e.config.scayt_contextMenuItemsOrder="suggest|moresuggest|control"),e.config.scayt_sLang||(e.config.scayt_sLang="en_US"),(void 0===e.config.scayt_maxSuggestions||"number"!=typeof e.config.scayt_maxSuggestions||0>e.config.scayt_maxSuggestions)&&(e.config.scayt_maxSuggestions=3),(void 0===e.config.scayt_minWordLength||"number"!=typeof e.config.scayt_minWordLength||1>e.config.scayt_minWordLength)&&(e.config.scayt_minWordLength=3),void 0!==e.config.scayt_customDictionaryIds&&"string"==typeof e.config.scayt_customDictionaryIds||(e.config.scayt_customDictionaryIds=""),void 0!==e.config.scayt_userDictionaryName&&"string"==typeof e.config.scayt_userDictionaryName||(e.config.scayt_userDictionaryName=null),"string"==typeof e.config.scayt_uiTabs&&3===e.config.scayt_uiTabs.split(",").length){var t=[],n=[];e.config.scayt_uiTabs=e.config.scayt_uiTabs.split(","),CKEDITOR.tools.search(e.config.scayt_uiTabs,(function(e){1===Number(e)||0===Number(e)?(n.push(!0),t.push(Number(e))):n.push(!1)})),null===CKEDITOR.tools.search(n,!1)?e.config.scayt_uiTabs=t:e.config.scayt_uiTabs=[1,1,1]}else e.config.scayt_uiTabs=[1,1,1];if("string"!=typeof e.config.scayt_serviceProtocol&&(e.config.scayt_serviceProtocol=null),"string"!=typeof e.config.scayt_serviceHost&&(e.config.scayt_serviceHost=null),"string"!=typeof e.config.scayt_servicePort&&(e.config.scayt_servicePort=null),"string"!=typeof e.config.scayt_servicePath&&(e.config.scayt_servicePath=null),e.config.scayt_moreSuggestions||(e.config.scayt_moreSuggestions="on"),"string"!=typeof e.config.scayt_customerId&&(e.config.scayt_customerId="1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2"),"string"!=typeof e.config.scayt_customPunctuation&&(e.config.scayt_customPunctuation="-"),"string"!=typeof e.config.scayt_srcUrl&&(e.config.scayt_srcUrl="https://svc.webspellchecker.net/spellcheck31/wscbundle/wscbundle.js"),"boolean"!=typeof CKEDITOR.config.scayt_handleCheckDirty&&(CKEDITOR.config.scayt_handleCheckDirty=!0),"boolean"!=typeof CKEDITOR.config.scayt_handleUndoRedo&&(CKEDITOR.config.scayt_handleUndoRedo=!0),CKEDITOR.config.scayt_handleUndoRedo=!!CKEDITOR.plugins.undo&&CKEDITOR.config.scayt_handleUndoRedo,e.config.scayt_ignoreAllCapsWords&&"boolean"!=typeof e.config.scayt_ignoreAllCapsWords&&(e.config.scayt_ignoreAllCapsWords=!1),e.config.scayt_ignoreDomainNames&&"boolean"!=typeof e.config.scayt_ignoreDomainNames&&(e.config.scayt_ignoreDomainNames=!1),e.config.scayt_ignoreWordsWithMixedCases&&"boolean"!=typeof e.config.scayt_ignoreWordsWithMixedCases&&(e.config.scayt_ignoreWordsWithMixedCases=!1),e.config.scayt_ignoreWordsWithNumbers&&"boolean"!=typeof e.config.scayt_ignoreWordsWithNumbers&&(e.config.scayt_ignoreWordsWithNumbers=!1),e.config.scayt_disableOptionsStorage){var i=CKEDITOR.tools.isArray(e.config.scayt_disableOptionsStorage)?e.config.scayt_disableOptionsStorage:"string"==typeof e.config.scayt_disableOptionsStorage?[e.config.scayt_disableOptionsStorage]:void 0,o="all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers".split(" "),r=["lang","ignore-all-caps-words","ignore-domain-names","ignore-words-with-mixed-cases","ignore-words-with-numbers"],a=CKEDITOR.tools.search,s=CKEDITOR.tools.indexOf;e.config.scayt_disableOptionsStorage=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],l=!!a(e,"options");if(!a(o,i)||l&&a(r,(function(e){if("lang"===e)return!1})))return;if(a(r,i)&&r.splice(s(r,i),1),"all"===i||l&&a(e,"lang"))return[];"options"===i&&(r=["lang"])}return t.concat(r)}(i)}},addRule:function(e){var t=CKEDITOR.plugins.scayt,n=(o=e.dataProcessor)&&o.htmlFilter,i=e._.elementsPath&&e._.elementsPath.filters,o=o&&o.dataFilter,r=e.addRemoveFormatFilter;i&&i.push((function(n){if(e.scayt&&(n.hasAttribute(t.options.data_attribute_name)||n.hasAttribute(t.options.problem_grammar_data_attribute)))return!1})),o&&o.addRules({elements:{span:function(e){var n=e.hasClass(t.options.misspelled_word_class)&&e.attributes[t.options.data_attribute_name],i=e.hasClass(t.options.problem_grammar_class)&&e.attributes[t.options.problem_grammar_data_attribute];return t&&(n||i)&&delete e.name,e}}}),n&&n.addRules({elements:{span:function(e){var n=e.hasClass(t.options.misspelled_word_class)&&e.attributes[t.options.data_attribute_name],i=e.hasClass(t.options.problem_grammar_class)&&e.attributes[t.options.problem_grammar_data_attribute];return t&&(n||i)&&delete e.name,e}}}),r&&r.call(e,(function(n){var i=!0;return e.scayt&&(n.hasAttribute(t.options.data_attribute_name)||n.hasAttribute(t.options.problem_grammar_data_attribute))&&(i=!1),i}))},scaytMenuDefinition:function(e){var t=this,n=CKEDITOR.plugins.scayt;return{scayt:{scayt_ignore:{label:(e=e.scayt).getLocal("btn_ignore"),group:"scayt_control",order:1,exec:function(e){e.scayt.ignoreWord()}},scayt_ignoreall:{label:e.getLocal("btn_ignoreAll"),group:"scayt_control",order:2,exec:function(e){e.scayt.ignoreAllWords()}},scayt_add:{label:e.getLocal("btn_addWord"),group:"scayt_control",order:3,exec:function(e){var t=e.scayt;setTimeout((function(){t.addWordToUserDictionary()}),10)}},scayt_option:{label:e.getLocal("btn_options"),group:"scayt_control",order:4,exec:function(e){e.scayt.tabToOpen="options",n.openDialog(t.dialogName,e)},verification:function(e){return 1==e.config.scayt_uiTabs[0]}},scayt_language:{label:e.getLocal("btn_langs"),group:"scayt_control",order:5,exec:function(e){e.scayt.tabToOpen="langs",n.openDialog(t.dialogName,e)},verification:function(e){return 1==e.config.scayt_uiTabs[1]}},scayt_dictionary:{label:e.getLocal("btn_dictionaries"),group:"scayt_control",order:6,exec:function(e){e.scayt.tabToOpen="dictionaries",n.openDialog(t.dialogName,e)},verification:function(e){return 1==e.config.scayt_uiTabs[2]}},scayt_about:{label:e.getLocal("btn_about"),group:"scayt_control",order:7,exec:function(e){e.scayt.tabToOpen="about",n.openDialog(t.dialogName,e)}}},grayt:{grayt_problemdescription:{label:"Grammar problem description",group:"grayt_description",order:1,state:CKEDITOR.TRISTATE_DISABLED,exec:function(e){}},grayt_ignore:{label:e.getLocal("btn_ignore"),group:"grayt_control",order:2,exec:function(e){e.scayt.ignorePhrase()}},grayt_ignoreall:{label:e.getLocal("btn_ignoreAll"),group:"grayt_control",order:3,exec:function(e){e.scayt.ignoreAllPhrases()}}}}},buildSuggestionMenuItems:function(e,t,n){var i={},o={},r=n?"word":"phrase",a=n?"startGrammarCheck":"startSpellCheck",s=e.scayt;if(0<t.length&&"no_any_suggestions"!==t[0])if(n)for(n=0;n<t.length;n++){var l="scayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[n].replace(" ","_");e.addCommand(l,this.createCommand(CKEDITOR.plugins.scayt.suggestions[n],r,a)),n<e.config.scayt_maxSuggestions?(e.addMenuItem(l,{label:t[n],command:l,group:"scayt_suggest",order:n+1}),i[l]=CKEDITOR.TRISTATE_OFF):(e.addMenuItem(l,{label:t[n],command:l,group:"scayt_moresuggest",order:n+1}),o[l]=CKEDITOR.TRISTATE_OFF,"on"===e.config.scayt_moreSuggestions&&(e.addMenuItem("scayt_moresuggest",{label:s.getLocal("btn_moreSuggestions"),group:"scayt_moresuggest",order:10,getItems:function(){return o}}),i.scayt_moresuggest=CKEDITOR.TRISTATE_OFF))}else for(n=0;n<t.length;n++)l="grayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[n].replace(" ","_"),e.addCommand(l,this.createCommand(CKEDITOR.plugins.scayt.suggestions[n],r,a)),e.addMenuItem(l,{label:t[n],command:l,group:"grayt_suggest",order:n+1}),i[l]=CKEDITOR.TRISTATE_OFF;else i.no_scayt_suggest=CKEDITOR.TRISTATE_DISABLED,e.addCommand("no_scayt_suggest",{exec:function(){}}),e.addMenuItem("no_scayt_suggest",{label:s.getLocal("btn_noSuggestions")||"no_scayt_suggest",command:"no_scayt_suggest",group:"scayt_suggest",order:0});return i},menuGenerator:function(e,t){var n,i,o,r,a=e.scayt,s=this.scaytMenuDefinition(e),l={},c=e.config.scayt_contextCommands.split("|"),u=t.getAttribute(a.getLangAttribute())||a.getLang();if(i=a.isScaytNode(t),o=a.isGraytNode(t),i?(s=s.scayt,n=t.getAttribute(a.getScaytNodeAttributeName()),a.fire("getSuggestionsList",{lang:u,word:n}),l=this.buildSuggestionMenuItems(e,CKEDITOR.plugins.scayt.suggestions,i)):o&&(s=s.grayt,l=t.getAttribute(a.getGraytNodeAttributeName()),a.getGraytNodeRuleAttributeName?(n=t.getAttribute(a.getGraytNodeRuleAttributeName()),a.getProblemDescriptionText(l,n,u)):a.getProblemDescriptionText(l,u),r=a.getProblemDescriptionText(l,n,u),s.grayt_problemdescription&&r&&(r=r.replace(/([.!?])\s/g,"$1<br>"),s.grayt_problemdescription.label=r),a.fire("getGrammarSuggestionsList",{lang:u,phrase:l,rule:n}),l=this.buildSuggestionMenuItems(e,CKEDITOR.plugins.scayt.suggestions,i)),i&&"off"==e.config.scayt_contextCommands)return l;for(var d in s)i&&-1==CKEDITOR.tools.indexOf(c,d.replace("scayt_",""))&&"all"!=e.config.scayt_contextCommands||o&&"grayt_problemdescription"!==d&&-1==CKEDITOR.tools.indexOf(c,d.replace("grayt_",""))&&"all"!=e.config.scayt_contextCommands||(l[d]=void 0!==s[d].state?s[d].state:CKEDITOR.TRISTATE_OFF,"function"!=typeof s[d].verification||s[d].verification(e)||delete l[d],e.addCommand(d,{exec:s[d].exec}),e.addMenuItem(d,{label:e.lang.scayt[s[d].label]||s[d].label,command:d,group:s[d].group,order:s[d].order}));return l},createCommand:function(e,t,n){return{exec:function(i){i=i.scayt;var o={};o[t]=e,i.replaceSelectionNode(o),"startGrammarCheck"===n&&i.removeMarkupInSelectionNode({grammarOnly:!0}),i.fire(n)}}}}),CKEDITOR.plugins.scayt={charsToObserve:[{charName:"cke-fillingChar",charCode:function(){var e,t,n=CKEDITOR.version,i=[4,5,6],o=String.fromCharCode(8203),r=Array(8).join(o);if(!n)return o;n=n.split(".");for(var a=0;a<i.length;a++){if(e=i[a],(t=Number(n[a]))>e)return r;if(t<e)break}return o}()}],state:{scayt:{},grayt:{}},warningCounter:0,suggestions:[],options:{disablingCommandExec:{source:!0,newpage:!0,templates:!0},data_attribute_name:"data-scayt-word",misspelled_word_class:"scayt-misspell-word",problem_grammar_data_attribute:"data-grayt-phrase",problem_grammar_class:"gramm-problem"},backCompatibilityMap:{scayt_service_protocol:"scayt_serviceProtocol",scayt_service_host:"scayt_serviceHost",scayt_service_port:"scayt_servicePort",scayt_service_path:"scayt_servicePath",scayt_customerid:"scayt_customerId"},openDialog:function(e,t){var n=t.scayt;n.isAllModulesReady&&!1===n.isAllModulesReady()||(t.lockSelection(),t.openDialog(e))},alarmCompatibilityMessage:function(){5>this.warningCounter&&(console.warn("You are using the latest version of SCAYT plugin for CKEditor with the old application version. In order to have access to the newest features, it is recommended to upgrade the application version to latest one as well. Contact us for more details at support@webspellchecker.net."),this.warningCounter+=1)},isNewUdSupported:function(e){return!!e.getUserDictionary},reloadMarkup:function(e){var t;e&&(t=e.getScaytLangList(),e.reloadMarkup?e.reloadMarkup():(this.alarmCompatibilityMessage(),t&&t.ltr&&t.rtl&&e.fire("startSpellCheck, startGrammarCheck")))},replaceOldOptionsNames:function(e){for(var t in e)t in this.backCompatibilityMap&&(e[this.backCompatibilityMap[t]]=e[t],delete e[t])},createScayt:function(e){var t=this,n=CKEDITOR.plugins.scayt;this.loadScaytLibrary(e,(function(e){function i(e){return new SCAYT.CKSCAYT(e,(function(){}),(function(){}))}var o;if(e.window&&(o="BODY"==e.editable().$.nodeName?e.window.getFrame():e.editable()),o){var r;o={lang:e.config.scayt_sLang,container:o.$,customDictionary:e.config.scayt_customDictionaryIds,userDictionaryName:e.config.scayt_userDictionaryName,localization:e.langCode,customer_id:e.config.scayt_customerId,customPunctuation:e.config.scayt_customPunctuation,debug:e.config.scayt_debug,data_attribute_name:t.options.data_attribute_name,misspelled_word_class:t.options.misspelled_word_class,problem_grammar_data_attribute:t.options.problem_grammar_data_attribute,problem_grammar_class:t.options.problem_grammar_class,"options-to-restore":e.config.scayt_disableOptionsStorage,focused:e.editable().hasFocus,ignoreElementsRegex:e.config.scayt_elementsToIgnore,ignoreGraytElementsRegex:e.config.grayt_elementsToIgnore,minWordLength:e.config.scayt_minWordLength,graytAutoStartup:e.config.grayt_autoStartup,charsToObserve:n.charsToObserve},e.config.scayt_serviceProtocol&&(o.service_protocol=e.config.scayt_serviceProtocol),e.config.scayt_serviceHost&&(o.service_host=e.config.scayt_serviceHost),e.config.scayt_servicePort&&(o.service_port=e.config.scayt_servicePort),e.config.scayt_servicePath&&(o.service_path=e.config.scayt_servicePath),"boolean"==typeof e.config.scayt_ignoreAllCapsWords&&(o["ignore-all-caps-words"]=e.config.scayt_ignoreAllCapsWords),"boolean"==typeof e.config.scayt_ignoreDomainNames&&(o["ignore-domain-names"]=e.config.scayt_ignoreDomainNames),"boolean"==typeof e.config.scayt_ignoreWordsWithMixedCases&&(o["ignore-words-with-mixed-cases"]=e.config.scayt_ignoreWordsWithMixedCases),"boolean"==typeof e.config.scayt_ignoreWordsWithNumbers&&(o["ignore-words-with-numbers"]=e.config.scayt_ignoreWordsWithNumbers);try{r=i(o)}catch(e){t.alarmCompatibilityMessage(),delete o.charsToObserve,r=i(o)}r.subscribe("suggestionListSend",(function(e){for(var t={},n=[],i=0;i<e.suggestionList.length;i++)t["word_"+e.suggestionList[i]]||(t["word_"+e.suggestionList[i]]=e.suggestionList[i],n.push(e.suggestionList[i]));CKEDITOR.plugins.scayt.suggestions=n})),r.subscribe("selectionIsChanged",(function(t){e.getSelection().isLocked&&"restoreSelection"!==t.action&&e.lockSelection(),"restoreSelection"===t.action&&e.selectionChange(!0)})),r.subscribe("graytStateChanged",(function(t){n.state.grayt[e.name]=t.state})),r.addMarkupHandler&&r.addMarkupHandler((function(t){var n=e.editable(),i=n.getCustomData(t.charName);i&&(i.$=t.node,n.setCustomData(t.charName,i))})),e.scayt=r,e.fire("scaytButtonState",e.readOnly?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_ON)}else n.state.scayt[e.name]=!1}))},destroy:function(e){e.scayt&&e.scayt.destroy(),delete e.scayt,e.fire("scaytButtonState",CKEDITOR.TRISTATE_OFF)},loadScaytLibrary:function(e,t){var n,i=function(){CKEDITOR.fireOnce("scaytReady"),e.scayt||"function"==typeof t&&t(e)};void 0===window.SCAYT||"function"!=typeof window.SCAYT.CKSCAYT?(n=e.config.scayt_srcUrl,CKEDITOR.scriptLoader.load(n,(function(e){e&&i()}))):window.SCAYT&&"function"==typeof window.SCAYT.CKSCAYT&&i()}},CKEDITOR.on("dialogDefinition",(function(e){var t=e.data.name;e=e.data.definition.dialog,"scaytDialog"!==t&&"checkspell"!==t&&(e.on("show",(function(e){e=e.sender&&e.sender.getParentEditor();var t=CKEDITOR.plugins.scayt,n=e.scayt;n&&t.state.scayt[e.name]&&n.setMarkupPaused&&n.setMarkupPaused(!0)})),e.on("hide",(function(e){e=e.sender&&e.sender.getParentEditor();var t=CKEDITOR.plugins.scayt,n=e.scayt;n&&t.state.scayt[e.name]&&n.setMarkupPaused&&n.setMarkupPaused(!1)}))),"scaytDialog"===t&&e.on("cancel",(function(e){return!1}),this,null,-1),"checkspell"===t&&e.on("cancel",(function(e){e=e.sender&&e.sender.getParentEditor();var t=CKEDITOR.plugins.scayt,n=e.scayt;n&&t.state.scayt[e.name]&&n.setMarkupPaused&&n.setMarkupPaused(!1),e.unlockSelection()}),this,null,-2),"link"===t&&e.on("ok",(function(e){var t=e.sender&&e.sender.getParentEditor();t&&setTimeout((function(){t.fire("reloadMarkupScayt",{removeOptions:{removeInside:!0,forceBookmark:!0},timeout:0})}),0)})),"replace"===t&&e.on("hide",(function(e){e=e.sender&&e.sender.getParentEditor();var t=CKEDITOR.plugins.scayt,n=e.scayt;e&&setTimeout((function(){n&&(n.fire("removeMarkupInDocument",{}),t.reloadMarkup(n))}),0)}))})),CKEDITOR.on("scaytReady",(function(){if(!0===CKEDITOR.config.scayt_handleCheckDirty&&((e=CKEDITOR.editor.prototype).checkDirty=CKEDITOR.tools.override(e.checkDirty,(function(e){return function(){var t=null,n=this.scayt;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt){if(t="ready"==this.status){var i=n.removeMarkupFromString(this.getSnapshot());n=n.removeMarkupFromString(this._.previousValue),t=t&&n!==i}}else t=e.call(this);return t}})),e.resetDirty=CKEDITOR.tools.override(e.resetDirty,(function(e){return function(){var t=this.scayt;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt?this._.previousValue=t.removeMarkupFromString(this.getSnapshot()):e.call(this)}}))),!0===CKEDITOR.config.scayt_handleUndoRedo){var e,t="function"==typeof(e=CKEDITOR.plugins.undo.Image.prototype).equalsContent?"equalsContent":"equals";e[t]=CKEDITOR.tools.override(e[t],(function(e){return function(t){var n=t.editor.scayt,i=this.contents,o=t.contents,r=null;return CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[t.editor.name]&&t.editor.scayt&&(this.contents=n.removeMarkupFromString(i)||"",t.contents=n.removeMarkupFromString(o)||""),r=e.apply(this,arguments),this.contents=i,t.contents=o,r}}))}})),function(){var e={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(e){this.toggleState(),this.refresh(e)},refresh:function(e){if(e.document){var t=this.state==CKEDITOR.TRISTATE_ON?"attachClass":"removeClass";e.editable()[t]("cke_show_borders")}}};CKEDITOR.plugins.add("showborders",{modes:{wysiwyg:1},onLoad:function(){var e;e=(CKEDITOR.env.ie6Compat?[".%1 table.%2,",".%1 table.%2 td, .%1 table.%2 th","{","border : #d3d3d3 1px dotted","}"]:".%1 table.%2,;.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,;.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,;.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,;.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th;{;border : #d3d3d3 1px dotted;}".split(";")).join("").replace(/%2/g,"cke_show_border").replace(/%1/g,"cke_show_borders "),CKEDITOR.addCss(e)},init:function(t){var n=t.addCommand("showborders",e);n.canUndo=!1,!1!==t.config.startupShowBorders&&n.setState(CKEDITOR.TRISTATE_ON),t.on("mode",(function(){n.state!=CKEDITOR.TRISTATE_DISABLED&&n.refresh(t)}),null,null,100),t.on("contentDom",(function(){n.state!=CKEDITOR.TRISTATE_DISABLED&&n.refresh(t)})),t.on("removeFormatCleanup",(function(e){e=e.data,t.getCommand("showborders").state==CKEDITOR.TRISTATE_ON&&e.is("table")&&(!e.hasAttribute("border")||0>=parseInt(e.getAttribute("border"),10))&&e.addClass("cke_show_border")}))},afterInit:function(e){var t=e.dataProcessor;e=t&&t.dataFilter,t=t&&t.htmlFilter,e&&e.addRules({elements:{table:function(e){var t=(e=e.attributes).class,n=parseInt(e.border,10);n&&!(0>=n)||t&&-1!=t.indexOf("cke_show_border")||(e.class=(t||"")+" cke_show_border")}}}),t&&t.addRules({elements:{table:function(e){var t=(e=e.attributes).class;t&&(e.class=t.replace("cke_show_border","").replace(/\s{2}/," ").replace(/^\s+|\s+$/,""))}}})}}),CKEDITOR.on("dialogDefinition",(function(e){var t=e.data.name;"table"!=t&&"tableProperties"!=t||((t=(e=e.data.definition).getContents("info").get("txtBorder")).commit=CKEDITOR.tools.override(t.commit,(function(e){return function(t,n){e.apply(this,arguments);var i=parseInt(this.getValue(),10);n[!i||0>=i?"addClass":"removeClass"]("cke_show_border")}})),(e=(e=e.getContents("advanced"))&&e.get("advCSSClasses"))&&(e.setup=CKEDITOR.tools.override(e.setup,(function(e){return function(){e.apply(this,arguments),this.setValue(this.getValue().replace(/cke_show_border/,""))}})),e.commit=CKEDITOR.tools.override(e.commit,(function(e){return function(t,n){e.apply(this,arguments),parseInt(n.getAttribute("border"),10)||n.addClass("cke_show_border")}}))))}))}(),function(){CKEDITOR.plugins.add("sourcearea",{init:function(t){function n(){var e=o&&this.equals(CKEDITOR.document.getActive());this.hide(),this.setStyle("height",this.getParent().$.clientHeight+"px"),this.setStyle("width",this.getParent().$.clientWidth+"px"),this.show(),e&&this.focus()}if(t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var i=CKEDITOR.plugins.sourcearea;t.addMode("source",(function(i){var o=t.ui.space("contents").getDocument().createElement("textarea");o.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?"99%":"100%",height:"100%",resize:"none",outline:"none","text-align":"left"},CKEDITOR.tools.cssVendorPrefix("tab-size",t.config.sourceAreaTabSize||4))),o.setAttribute("dir","ltr"),o.addClass("cke_source").addClass("cke_reset").addClass("cke_enable_context_menu"),t.ui.space("contents").append(o),(o=t.editable(new e(t,o))).setData(t.getData(1)),CKEDITOR.env.ie&&(o.attachListener(t,"resize",n,o),o.attachListener(CKEDITOR.document.getWindow(),"resize",n,o),CKEDITOR.tools.setTimeout(n,0,o)),t.fire("ariaWidget",this),i()})),t.addCommand("source",i.commands.source),t.ui.addButton&&t.ui.addButton("Source",{isToggle:!0,label:t.lang.sourcearea.toolbar,command:"source",toolbar:"mode,10"}),t.on("mode",(function(){t.getCommand("source").setState("source"==t.mode?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)}));var o=CKEDITOR.env.ie&&9==CKEDITOR.env.version}}});var e=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(e){this.setValue(e),this.status="ready",this.editor.fire("dataReady")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(e){this[(e?"set":"remove")+"Attribute"]("readOnly","readonly")},detach:function(){e.baseProto.detach.call(this),this.clearCustomData(),this.remove()}}})}(),CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(e){"wysiwyg"==e.mode&&e.fire("saveSnapshot"),e.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED),e.setMode("source"==e.mode?"wysiwyg":"source")},canUndo:!1}}},CKEDITOR.plugins.add("specialchar",{availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},requires:"dialog",init:function(e){var t=this;CKEDITOR.dialog.add("specialchar",this.path+"dialogs/specialchar.js"),e.addCommand("specialchar",{exec:function(){var n=e.langCode;n=t.availableLangs[n]?n:t.availableLangs[n.replace(/-.*/,"")]?n.replace(/-.*/,""):"en",CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t.path+"dialogs/lang/"+n+".js"),(function(){CKEDITOR.tools.extend(e.lang.specialchar,t.langEntries[n]),e.openDialog("specialchar")}))},modes:{wysiwyg:1},canUndo:!1}),e.ui.addButton&&e.ui.addButton("SpecialChar",{label:e.lang.specialchar.toolbar,command:"specialchar",toolbar:"insert,50"})}}),CKEDITOR.config.specialChars="! &quot; # $ % &amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ &euro; &lsquo; &rsquo; &ldquo; &rdquo; &ndash; &mdash; &iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &reg; &macr; &deg; &sup2; &sup3; &acute; &micro; &para; &middot; &cedil; &sup1; &ordm; &raquo; &frac14; &frac12; &frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil; &Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc; &iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; &OElig; &oelig; &#372; &#374 &#373 &#375; &sbquo; &#8219; &bdquo; &hellip; &trade; &#9658; &bull; &rarr; &rArr; &hArr; &diams; &asymp;".split(" "),CKEDITOR.plugins.add("stylescombo",{requires:"richcombo",init:function(e){var t=e.config,n=e.lang.stylescombo,i={},o=[],r=[];e.on("stylesSet",(function(n){if(n=n.data.styles){for(var a,s,l,c=0,u=n.length;c<u;c++)a=n[c],e.blockless&&a.element in CKEDITOR.dtd.$block||"string"==typeof a.type&&!CKEDITOR.style.customHandlers[a.type]||(s=a.name,a=new CKEDITOR.style(a),e.filter.customConfig&&!e.filter.check(a))||(a._name=s,a._.enterMode=t.enterMode,a._.type=l=a.assignedTo||a.type,a._.weight=c+1e3*(l==CKEDITOR.STYLE_OBJECT?1:l==CKEDITOR.STYLE_BLOCK?2:3),i[s]=a,o.push(a),r.push(a));o.sort((function(e,t){return e._.weight-t._.weight}))}})),e.on("stylesRemove",(function(t){var n,o=void 0===(t=t.data&&t.data.type);for(n in i){var r=i[n];(o||r.type===t)&&e.removeStyle(r)}})),e.ui.addRichCombo("Styles",{label:n.label,title:n.panelTitle,toolbar:"styles,10",allowedContent:r,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(t.contentsCss),multiSelect:!0,attributes:{"aria-label":n.panelTitle}},init:function(){var e,t,i,r,a,s;for(a=0,s=o.length;a<s;a++)t=(e=o[a])._name,(r=e._.type)!=i&&(this.startGroup(n["panelTitle"+String(r)]),i=r),this.add(t,e.type==CKEDITOR.STYLE_OBJECT?t:e.buildPreview(),t);this.commit()},onClick:function(t){e.focus(),e.fire("saveSnapshot"),t=i[t];var n=e.elementPath();t.group&&t.removeStylesFromSameGroup(e)?e.applyStyle(t):e[t.checkActive(n,e)?"removeStyle":"applyStyle"](t),e.fire("saveSnapshot")},onRender:function(){e.on("selectionChange",(function(t){for(var n,o=this.getValue(),r=0,a=(t=t.data.path.elements).length;r<a;r++)for(var s in n=t[r],i)if(i[s].checkElementRemovable(n,!0,e))return void(s!=o&&this.setValue(s));this.setValue("")}),this)},onOpen:function(){var t=(t=e.getSelection()).getSelectedElement()||t.getStartElement()||e.editable(),o=(t=e.elementPath(t),[0,0,0,0]);for(var r in this.showAll(),this.unmarkAll(),i){var a=i[r],s=a._.type;a.checkApplicable(t,e,e.activeFilter)?o[s]++:this.hideItem(r),a.checkActive(t,e)&&this.mark(r)}o[CKEDITOR.STYLE_BLOCK]||this.hideGroup(n["panelTitle"+String(CKEDITOR.STYLE_BLOCK)]),o[CKEDITOR.STYLE_INLINE]||this.hideGroup(n["panelTitle"+String(CKEDITOR.STYLE_INLINE)]),o[CKEDITOR.STYLE_OBJECT]||this.hideGroup(n["panelTitle"+String(CKEDITOR.STYLE_OBJECT)])},refresh:function(){var t=e.elementPath();if(t){for(var n in i)if(i[n].checkApplicable(t,e,e.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){i={},o=[]}})}}),function(){function e(e){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(t){if(t.editable().hasFocus){var n,i=t.getSelection();if(n=new CKEDITOR.dom.elementPath(i.getStartElement(),i.root).contains({td:1,th:1},1)){i=t.createRange();var o=CKEDITOR.tools.tryThese((function(){var t=n.getParent().$.cells[n.$.cellIndex+(e?-1:1)];return t.parentNode.parentNode,t}),(function(){var t;return(t=(t=n.getParent()).getAscendant("table").$.rows[t.$.rowIndex+(e?-1:1)]).cells[e?t.cells.length-1:0]}));if(o||e){if(!o)return!0;o=new CKEDITOR.dom.element(o),i.moveToElementEditStart(o),i.checkStartOfBlock()&&i.checkEndOfBlock()||i.selectNodeContents(o)}else{for(var r=n.getAscendant("table").$,a=(o=n.getParent().$.cells,r=new CKEDITOR.dom.element(r.insertRow(-1),t.document),0),s=o.length;a<s;a++)r.append(new CKEDITOR.dom.element(o[a],t.document).clone(!1,!1)).appendBogus();i.moveToElementEditStart(r)}return i.select(!0),!0}}return!1}}}var t={editorFocus:!1,modes:{wysiwyg:1,source:1}},n={exec:function(e){e.container.focusNext(!0,e.tabIndex)}},i={exec:function(e){e.container.focusPrevious(!0,e.tabIndex)}};CKEDITOR.plugins.add("tab",{init:function(o){for(var r=!1!==o.config.enableTabKeyTools,a=o.config.tabSpaces||0,s="";a--;)s+=" ";s&&o.on("key",(function(e){9==e.data.keyCode&&(o.insertText(s),e.cancel())})),r&&o.on("key",(function(e){(9==e.data.keyCode&&o.execCommand("selectNextCell")||e.data.keyCode==CKEDITOR.SHIFT+9&&o.execCommand("selectPreviousCell"))&&e.cancel()})),o.addCommand("blur",CKEDITOR.tools.extend(n,t)),o.addCommand("blurBack",CKEDITOR.tools.extend(i,t)),o.addCommand("selectNextCell",e()),o.addCommand("selectPreviousCell",e(!0))}})}(),CKEDITOR.dom.element.prototype.focusNext=function(e,t){var n,i,o,r,a,s,l=void 0===t?this.getTabIndex():t;if(0>=l)for(a=this.getNextSourceNode(e,CKEDITOR.NODE_ELEMENT);a;){if(a.isVisible()&&0===a.getTabIndex()){o=a;break}a=a.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(a=this.getDocument().getBody().getFirst();a=a.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!n)if(!i&&a.equals(this)){if(i=!0,e){if(!(a=a.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;n=1}}else i&&!this.contains(a)&&(n=1);if(a.isVisible()&&!(0>(s=a.getTabIndex()))){if(n&&s==l){o=a;break}s>l&&(!o||!r||s<r)?(o=a,r=s):o||0!==s||(o=a,r=s)}}o&&o.focus()},CKEDITOR.dom.element.prototype.focusPrevious=function(e,t){for(var n,i,o,r,a=void 0===t?this.getTabIndex():t,s=0,l=this.getDocument().getBody().getLast();l=l.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!n)if(!i&&l.equals(this)){if(i=!0,e){if(!(l=l.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;n=1}}else i&&!this.contains(l)&&(n=1);if(l.isVisible()&&!(0>(r=l.getTabIndex())))if(0>=a){if(n&&0===r){o=l;break}r>s&&(o=l,s=r)}else{if(n&&r==a){o=l;break}r<a&&(!o||r>s)&&(o=l,s=r)}}o&&o.focus()},CKEDITOR.plugins.add("table",{requires:"dialog",init:function(e){function t(e){return CKEDITOR.tools.extend(e||{},{contextSensitive:1,refresh:function(e,t){this.setState(t.contains("table",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!e.blockless){var n=e.lang.table;e.addCommand("table",new CKEDITOR.dialogCommand("table",{context:"table",allowedContent:"table{width,height,border-collapse}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];td{border*,background-color,vertical-align,width,height}[colspan,rowspan];"+(e.plugins.dialogadvtab?"table"+e.plugins.dialogadvtab.allowedContent():""),requiredContent:"table",contentTransformations:[["table{width}: sizeToStyle","table[width]: sizeToAttribute"],["td: splitBorderShorthand"],[{element:"table",right:function(e){if(e.styles){var t;if(e.styles.border)t=CKEDITOR.tools.style.parse.border(e.styles.border);else if(CKEDITOR.env.ie&&8===CKEDITOR.env.version){var n=e.styles;n["border-left"]&&n["border-left"]===n["border-right"]&&n["border-right"]===n["border-top"]&&n["border-top"]===n["border-bottom"]&&(t=CKEDITOR.tools.style.parse.border(n["border-top"]))}t&&t.style&&"solid"===t.style&&t.width&&0!==parseFloat(t.width)&&(e.attributes.border=1),"collapse"==e.styles["border-collapse"]&&(e.attributes.cellspacing=0)}}}]]})),e.addCommand("tableProperties",new CKEDITOR.dialogCommand("tableProperties",t())),e.addCommand("tableDelete",t({exec:function(e){var t=e.elementPath().contains("table",1);if(t){var n=t.getParent(),i=e.editable();1!=n.getChildCount()||n.is("td","th")||n.equals(i)||(t=n),(e=e.createRange()).moveToPosition(t,CKEDITOR.POSITION_BEFORE_START),t.remove(),e.select()}}})),e.ui.addButton&&e.ui.addButton("Table",{label:n.toolbar,command:"table",toolbar:"insert,30"}),CKEDITOR.dialog.add("table",this.path+"dialogs/table.js"),CKEDITOR.dialog.add("tableProperties",this.path+"dialogs/table.js"),e.addMenuItems&&e.addMenuItems({table:{label:n.menu,command:"tableProperties",group:"table",order:5},tabledelete:{label:n.deleteTable,command:"tableDelete",group:"table",order:1}}),e.on("doubleclick",(function(e){e.data.element.is("table")&&(e.data.dialog="tableProperties")})),e.contextMenu&&e.contextMenu.addListener((function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}}))}}}),function(){function e(e,t){function n(e){return!t||t.contains(e)&&e.getAscendant("table",!0).equals(t)}function i(e){0<o.length||e.type!=CKEDITOR.NODE_ELEMENT||!/^(?:td|th)$/.test(e.getName())||e.getCustomData("selected_cell")||(CKEDITOR.dom.element.setMarker(r,e,"selected_cell",!0),o.push(e))}var o=[],r={};if(!e)return o;for(var a=e.getRanges(),s=0;s<a.length;s++){var l,c;if((l=a[s]).collapsed)(l=l.getCommonAncestor().getAscendant({td:1,th:1},!0))&&n(l)&&o.push(l);else for((l=new CKEDITOR.dom.walker(l)).guard=i;c=l.next();)c.type==CKEDITOR.NODE_ELEMENT&&c.is(CKEDITOR.dtd.table)||(c=c.getAscendant({td:1,th:1},!0))&&!c.getCustomData("selected_cell")&&n(c)&&(CKEDITOR.dom.element.setMarker(r,c,"selected_cell",!0),o.push(c))}return CKEDITOR.dom.element.clearAllMarkers(r),o}function t(t,n){var i=(o=(s=p(t)?t:e(t))[0]).getAscendant("table"),o=o.getDocument(),r=(l=s[0].getParent()).$.rowIndex,a=(s=s[s.length-1]).getParent().$.rowIndex+s.$.rowSpan-1,s=new CKEDITOR.dom.element(i.$.rows[a]),l=(r=n?r:a,n?l:s);for(i=(s=CKEDITOR.tools.buildTableMap(i))[r],r=n?s[r-1]:s[r+1],s=s[0].length,o=o.createElement("tr"),a=0;i[a]&&a<s;a++){var c;1<i[a].rowSpan&&r&&i[a]==r[a]?(c=i[a]).rowSpan+=1:((c=new CKEDITOR.dom.element(i[a]).clone()).removeAttribute("rowSpan"),c.appendBogus(),o.append(c),c=c.$),a+=c.colSpan-1}return n?o.insertBefore(l):o.insertAfter(l),o}function n(t){if(t instanceof CKEDITOR.dom.selection){var i=t.getRanges(),o=(l=e(t))[0].getAscendant("table"),r=CKEDITOR.tools.buildTableMap(o),a=l[0].getParent().$.rowIndex,s=(l=l[l.length-1]).getParent().$.rowIndex+l.$.rowSpan-1,l=[];for(t.reset(),t=a;t<=s;t++){for(var c=r[t],u=new CKEDITOR.dom.element(o.$.rows[t]),d=0;d<c.length;d++){var h=new CKEDITOR.dom.element(c[d]),f=h.getParent().$.rowIndex;1==h.$.rowSpan?h.remove():(--h.$.rowSpan,f==t&&((f=r[t+1])[d-1]?h.insertAfter(new CKEDITOR.dom.element(f[d-1])):new CKEDITOR.dom.element(o.$.rows[t+1]).append(h,1))),d+=h.$.colSpan-1}l.push(u)}for(r=o.$.rows,i[0].moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),a=new CKEDITOR.dom.element(r[s+1]||(0<a?r[a-1]:null)||o.$.parentNode),t=l.length;0<=t;t--)n(l[t]);return o.$.parentNode?a:(i[0].select(),null)}return t instanceof CKEDITOR.dom.element&&(1==(o=t.getAscendant("table")).$.rows.length?o.remove():t.remove()),null}function i(e){for(var t=e.getParent().$.cells,n=0,i=0;i<t.length;i++){var o=t[i];if(n+=o.colSpan,o==e.$)break}return n-1}function o(e,t){for(var n=t?1/0:0,o=0;o<e.length;o++){var r=i(e[o]);(t?r<n:r>n)&&(n=r)}return n}function r(t,n){for(var i=(a=p(t)?t:e(t))[0].getAscendant("table"),r=o(a,1),a=o(a),s=n?r:a,l=CKEDITOR.tools.buildTableMap(i),c=(i=[],r=[],a=[],l.length),u=0;u<c;u++){var d=n?l[u][s-1]:l[u][s+1];i.push(l[u][s]),r.push(d)}for(u=0;u<c;u++)i[u]&&(1<i[u].colSpan&&r[u]==i[u]?(l=i[u]).colSpan+=1:((l=(s=new CKEDITOR.dom.element(i[u])).clone()).removeAttribute("colSpan"),l.appendBogus(),l[n?"insertBefore":"insertAfter"].call(l,s),a.push(l),l=l.$),u+=l.rowSpan-1);return a}function a(t){CKEDITOR.env.webkit&&!t.isFake&&(t=function(e){var t,n,i=e.getRanges();if(1!==i.length)return e;if((i=i[0]).collapsed||0!==i.endOffset)return e;if("td"!==(n=(t=i.endContainer).getName().toLowerCase())&&"th"!==n)return e;for((n=t.getPrevious())||(n=t.getParent().getPrevious().getLast());n.type!==CKEDITOR.NODE_TEXT&&"br"!==n.getName().toLowerCase();)if(!(n=n.getLast()))return e;return i.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),i.select()}(t));var n,i,o=t.getRanges(),r=(s=e(t))[0],a=s[s.length-1],s=r.getAscendant("table"),l=CKEDITOR.tools.buildTableMap(s),c=[];t.reset();var u=0;for(t=l.length;u<t;u++)for(var d=0,h=l[u].length;d<h;d++)void 0===n&&l[u][d]==r.$&&(n=d),l[u][d]==a.$&&(i=d);for(u=n;u<=i;u++)for(d=0;d<l.length;d++)a=l[d],r=new CKEDITOR.dom.element(s.$.rows[d]),(a=new CKEDITOR.dom.element(a[u])).$&&(1==a.$.colSpan?a.remove():--a.$.colSpan,d+=a.$.rowSpan-1,r.$.cells.length||c.push(r));return n=l[0].length-1>i?new CKEDITOR.dom.element(l[0][i+1]):n&&-1!==l[0][n-1].cellIndex?new CKEDITOR.dom.element(l[0][n-1]):new CKEDITOR.dom.element(s.$.parentNode),c.length==t&&(o[0].moveToPosition(s,CKEDITOR.POSITION_AFTER_END),o[0].select(),s.remove()),n}function s(e,t){var n=e.getStartElement().getAscendant({td:1,th:1},!0);if(n){var i=n.clone();i.appendBogus(),t?i.insertBefore(n):i.insertAfter(n)}}function l(t){if(t instanceof CKEDITOR.dom.selection){var n,i=t.getRanges(),o=e(t),r=o[0]&&o[0].getAscendant("table");e:{var a=0;n=o.length-1;for(var s,u,d={};s=o[a++];)CKEDITOR.dom.element.setMarker(d,s,"delete_cell",!0);for(a=0;s=o[a++];)if((u=s.getPrevious())&&!u.getCustomData("delete_cell")||(u=s.getNext())&&!u.getCustomData("delete_cell")){CKEDITOR.dom.element.clearAllMarkers(d),n=u;break e}CKEDITOR.dom.element.clearAllMarkers(d),n=(a=(a=o[0].getParent()).getPrevious())?a.getLast():(a=(a=o[n].getParent()).getNext())?a.getChild(0):null}for(t.reset(),t=o.length-1;0<=t;t--)l(o[t]);n?c(n,!0):r&&(i[0].moveToPosition(r,CKEDITOR.POSITION_BEFORE_START),i[0].select(),r.remove())}else t instanceof CKEDITOR.dom.element&&(1==(i=t.getParent()).getChildCount()?i.remove():t.remove())}function c(e,t){var n=e.getDocument(),i=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(i.focus(),n.focus()),(n=new CKEDITOR.dom.range(n))["moveToElementEdit"+(t?"End":"Start")](e)||(n.selectNodeContents(e),n.collapse(!t)),n.select(!0)}function u(e,t,n){if(e=e[t],void 0===n)return e;for(t=0;e&&t<e.length;t++){if(n.is&&e[t]==n.$)return t;if(t==n)return new CKEDITOR.dom.element(e[t])}return n.is?-1:null}function d(t,n,i){var o,r=e(t);if((n?1!=r.length:2>r.length)||(o=t.getCommonAncestor())&&o.type==CKEDITOR.NODE_ELEMENT&&o.is("table"))return!1;o=(t=r[0]).getAscendant("table");var a,s=CKEDITOR.tools.buildTableMap(o),l=s.length,c=s[0].length,d=t.getParent().$.rowIndex,h=u(s,d,t);if(n){var f;try{var p=parseInt(t.getAttribute("rowspan"),10)||1;a=parseInt(t.getAttribute("colspan"),10)||1,f=s["up"==n?d-p:"down"==n?d+p:d]["left"==n?h-a:"right"==n?h+a:h]}catch(e){return!1}if(!f||t.$==f)return!1;r["up"==n||"left"==n?"unshift":"push"](new CKEDITOR.dom.element(f))}n=t.getDocument();var g=d,m=(p=f=0,!i&&new CKEDITOR.dom.documentFragment(n)),E=0;for(n=0;n<r.length;n++){var v=(a=r[n]).getParent(),T=a.getFirst(),b=a.$.colSpan,C=a.$.rowSpan,y=u(s,v=v.$.rowIndex,a);E+=b*C,p=Math.max(p,y-h+b),f=Math.max(f,v-d+C),i||((C=(b=a).getBogus())&&C.remove(),b.trim(),a.getChildren().count()&&(v==g||!T||T.isBlockBoundary&&T.isBlockBoundary({br:1})||!(g=m.getLast(CKEDITOR.dom.walker.whitespaces(!0)))||g.is&&g.is("br")||m.append("br"),a.moveChildren(m)),n?a.remove():a.setHtml("")),g=v}if(i)return f*p==E;for(m.moveChildren(t),t.appendBogus(),p>=c?t.removeAttribute("rowSpan"):t.$.rowSpan=f,f>=l?t.removeAttribute("colSpan"):t.$.colSpan=p,n=(r=(i=new CKEDITOR.dom.nodeList(o.$.rows)).count())-1;0<=n;n--)(o=i.getItem(n)).$.cells.length||(o.remove(),r++);return t}function h(t,n){if(1<(i=e(t)).length)return!1;if(n)return!0;var i,o,r=(c=(i=i[0]).getParent()).getAscendant("table"),a=u(d=CKEDITOR.tools.buildTableMap(r),h=c.$.rowIndex,i);if(1<(l=i.$.rowSpan)){o=Math.ceil(l/2);for(var s,l=Math.floor(l/2),c=h+o,d=(r=new CKEDITOR.dom.element(r.$.rows[c]),u(d,c)),h=(c=i.clone(),0);h<d.length;h++){if((s=d[h]).parentNode==r.$&&h>a){c.insertBefore(new CKEDITOR.dom.element(s));break}s=null}s||r.append(c)}else for(l=o=1,(r=c.clone()).insertAfter(c),r.append(c=i.clone()),s=u(d,h),a=0;a<s.length;a++)s[a].rowSpan++;return c.appendBogus(),i.$.rowSpan=o,c.$.rowSpan=l,1==o&&i.removeAttribute("rowSpan"),1==l&&c.removeAttribute("rowSpan"),c}function f(t,n){if(1<(i=e(t)).length)return!1;if(n)return!0;var i,o=(i=i[0]).getParent(),r=o.getAscendant("table"),a=u(r=CKEDITOR.tools.buildTableMap(r),o.$.rowIndex,i);if(1<(s=i.$.colSpan))o=Math.ceil(s/2),s=Math.floor(s/2);else{for(var s=o=1,l=[],c=0;c<r.length;c++){var d=r[c];l.push(d[a]),1<d[a].rowSpan&&(c+=d[a].rowSpan-1)}for(r=0;r<l.length;r++)l[r].colSpan++}return(r=i.clone()).insertAfter(i),r.appendBogus(),i.$.colSpan=o,r.$.colSpan=s,1==o&&i.removeAttribute("colSpan"),1==s&&r.removeAttribute("colSpan"),r}var p=CKEDITOR.tools.isArray;CKEDITOR.plugins.tabletools={requires:"table,dialog,contextmenu",init:function(i){function o(e){return CKEDITOR.tools.extend(e||{},{contextSensitive:1,refresh:function(e,t){this.setState(t.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function u(e,t){var n=i.addCommand(e,t);i.addFeature(n)}var p=i.lang.table,g=CKEDITOR.tools.style.parse,m="td{width} td{height} td{border-color} td{background-color} td{white-space} td{vertical-align} td{text-align} td[colspan] td[rowspan] th".split(" ");u("cellProperties",new CKEDITOR.dialogCommand("cellProperties",o({allowedContent:"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",requiredContent:m,contentTransformations:[[{element:"td",left:function(e){return e.styles.background&&g.background(e.styles.background).color},right:function(e){e.styles["background-color"]=g.background(e.styles.background).color}},{element:"td",check:"td{vertical-align}",left:function(e){return e.attributes&&e.attributes.valign},right:function(e){e.styles["vertical-align"]=e.attributes.valign,delete e.attributes.valign}}],[{element:"tr",check:"td{height}",left:function(e){return e.styles&&e.styles.height},right:function(e){CKEDITOR.tools.array.forEach(e.children,(function(t){t.name in{td:1,th:1}&&(t.attributes["cke-row-height"]=e.styles.height)})),delete e.styles.height}}],[{element:"td",check:"td{height}",left:function(e){return(e=e.attributes)&&e["cke-row-height"]},right:function(e){e.styles.height=e.attributes["cke-row-height"],delete e.attributes["cke-row-height"]}}]]}))),CKEDITOR.dialog.add("cellProperties",this.path+"dialogs/tableCell.js"),u("rowDelete",o({requiredContent:"table",exec:function(e){(e=n(e=e.getSelection()))&&c(e)}})),u("rowInsertBefore",o({requiredContent:"table",exec:function(n){t(n=e(n=n.getSelection()),!0)}})),u("rowInsertAfter",o({requiredContent:"table",exec:function(n){t(n=e(n=n.getSelection()))}})),u("columnDelete",o({requiredContent:"table",exec:function(e){(e=a(e=e.getSelection()))&&c(e,!0)}})),u("columnInsertBefore",o({requiredContent:"table",exec:function(t){r(t=e(t=t.getSelection()),!0)}})),u("columnInsertAfter",o({requiredContent:"table",exec:function(t){r(t=e(t=t.getSelection()))}})),u("cellDelete",o({requiredContent:"table",exec:function(e){l(e=e.getSelection())}})),u("cellMerge",o({allowedContent:"td[colspan,rowspan]",requiredContent:"td[colspan,rowspan]",exec:function(e,t){t.cell=d(e.getSelection()),c(t.cell,!0)}})),u("cellMergeRight",o({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(e,t){t.cell=d(e.getSelection(),"right"),c(t.cell,!0)}})),u("cellMergeDown",o({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(e,t){t.cell=d(e.getSelection(),"down"),c(t.cell,!0)}})),u("cellVerticalSplit",o({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(e){c(f(e.getSelection()))}})),u("cellHorizontalSplit",o({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(e){c(h(e.getSelection()))}})),u("cellInsertBefore",o({requiredContent:"table",exec:function(e){s(e=e.getSelection(),!0)}})),u("cellInsertAfter",o({requiredContent:"table",exec:function(e){s(e=e.getSelection())}})),i.addMenuItems&&i.addMenuItems({tablecell:{label:p.cell.menu,group:"tablecell",order:1,getItems:function(){var t=e(n=i.getSelection()),n={tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:d(n,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:d(n,"right",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:d(n,"down",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:f(n,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:h(n,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};return i.filter.check(m)&&(n.tablecell_properties=0<t.length?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),n}},tablecell_insertBefore:{label:p.cell.insertBefore,group:"tablecell",command:"cellInsertBefore",order:5},tablecell_insertAfter:{label:p.cell.insertAfter,group:"tablecell",command:"cellInsertAfter",order:10},tablecell_delete:{label:p.cell.deleteCell,group:"tablecell",command:"cellDelete",order:15},tablecell_merge:{label:p.cell.merge,group:"tablecell",command:"cellMerge",order:16},tablecell_merge_right:{label:p.cell.mergeRight,group:"tablecell",command:"cellMergeRight",order:17},tablecell_merge_down:{label:p.cell.mergeDown,group:"tablecell",command:"cellMergeDown",order:18},tablecell_split_horizontal:{label:p.cell.splitHorizontal,group:"tablecell",command:"cellHorizontalSplit",order:19},tablecell_split_vertical:{label:p.cell.splitVertical,group:"tablecell",command:"cellVerticalSplit",order:20},tablecell_properties:{label:p.cell.title,group:"tablecellproperties",command:"cellProperties",order:21},tablerow:{label:p.row.menu,group:"tablerow",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:p.row.insertBefore,group:"tablerow",command:"rowInsertBefore",order:5},tablerow_insertAfter:{label:p.row.insertAfter,group:"tablerow",command:"rowInsertAfter",order:10},tablerow_delete:{label:p.row.deleteRow,group:"tablerow",command:"rowDelete",order:15},tablecolumn:{label:p.column.menu,group:"tablecolumn",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:p.column.insertBefore,group:"tablecolumn",command:"columnInsertBefore",order:5},tablecolumn_insertAfter:{label:p.column.insertAfter,group:"tablecolumn",command:"columnInsertAfter",order:10},tablecolumn_delete:{label:p.column.deleteColumn,group:"tablecolumn",command:"columnDelete",order:15}}),i.contextMenu&&i.contextMenu.addListener((function(e,t,n){return(e=n.contains({td:1,th:1},1))&&!e.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null}))},getCellColIndex:i,insertRow:t,insertColumn:r,getSelectedCells:e},CKEDITOR.plugins.add("tabletools",CKEDITOR.plugins.tabletools)}(),CKEDITOR.tools.buildTableMap=function(e,t,n,i,o){e=e.$.rows,n=n||0,i="number"==typeof i?i:e.length-1,o="number"==typeof o?o:-1;var r=-1,a=[];for(t=t||0;t<=i;t++){!a[++r]&&(a[r]=[]);for(var s=-1,l=n;l<=(-1===o?e[t].cells.length-1:o)&&(u=e[t].cells[l]);l++){for(s++;a[r][s];)s++;for(var c=isNaN(u.colSpan)?1:u.colSpan,u=isNaN(u.rowSpan)?1:u.rowSpan,d=0;d<u&&!(t+d>i);d++){a[r+d]||(a[r+d]=[]);for(var h=0;h<c;h++)a[r+d][s+h]=e[t].cells[l]}if(s+=c-1,-1!==o&&s>=o)break}}return a},CKEDITOR.config.tabletools_scopedHeaders=!1,function(){function e(e){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(e)}function t(e,t){var n,i,o=e.getAscendant("table"),r=t.getAscendant("table"),a=CKEDITOR.tools.buildTableMap(o),l=s(e),c=s(t),u=[],d={};for(o.contains(r)&&(c=s(t=t.getAscendant({td:1,th:1}))),l>c&&(o=l,l=c,c=o,o=e,e=t,t=o),o=0;o<a[l].length;o++)if(e.$===a[l][o]){n=o;break}for(o=0;o<a[c].length;o++)if(t.$===a[c][o]){i=o;break}for(n>i&&(o=n,n=i,i=o),o=l;o<=c;o++)for(l=n;l<=i;l++)(r=new CKEDITOR.dom.element(a[o][l])).$&&!r.getCustomData("selected_cell")&&(u.push(r),CKEDITOR.dom.element.setMarker(d,r,"selected_cell",!0));return CKEDITOR.dom.element.clearAllMarkers(d),u}function n(e,t){var n,i=e.editable().find(".cke_table-faked-selection"),o=e.editable().findOne("[data-cke-table-faked-selection-table]");for(e.fire("lockSnapshot"),e.editable().removeClass("cke_table-faked-selection-editor"),n=0;n<i.count();n++)i.getItem(n).removeClass("cke_table-faked-selection");o&&o.data("cke-table-faked-selection-table",!1),e.fire("unlockSnapshot"),t&&(v={active:!1},e.getSelection().isInTable()&&e.getSelection().reset())}function i(e,t){var n,i,o=[];for(i=0;i<t.length;i++)(n=e.createRange()).setStartBefore(t[i]),n.setEndAfter(t[i]),o.push(n);e.getSelection().selectRanges(o)}function o(e){var n=e.editable().find(".cke_table-faked-selection");1>n.count()||i(e,n=t(n.getItem(0),n.getItem(n.count()-1)))}function r(o,r,a){var s,l=p(o.getSelection(!0));if(r=r.is("table")?null:r,(s=v.active&&!v.first)&&!(s=r)&&(s=o.getSelection().getRanges(),s=!!(1<l.length||s[0]&&!s[0].collapsed)),s)v.first=r||l[0],v.dirty=!r&&1!==l.length;else if(v.active&&r&&v.first.getAscendant("table").equals(r.getAscendant("table"))){if(l=t(v.first,r),!v.dirty&&1===l.length&&!e(a.data.getTarget()))return n(o,"mouseup"===a.name);v.dirty=!0,v.last=r,i(o,l)}}function a(e){var t,i=(e=e.editor||e.sender.editor)&&e.getSelection(),o=i&&i.getRanges()||[],r=(r=o&&o[0].getEnclosedNode())&&r.type==CKEDITOR.NODE_ELEMENT&&r.is("img");if(i&&(n(e),i.isInTable()&&i.isFake))if(r)e.getSelection().reset();else if(!o[0]._getTableElement({table:1}).hasAttribute("data-cke-tableselection-ignored")){for(1===o.length&&o[0]._getTableElement()&&o[0]._getTableElement().is("table")&&(t=o[0]._getTableElement()),t=p(i,t),e.fire("lockSnapshot"),i=0;i<t.length;i++)t[i].addClass("cke_table-faked-selection");0<t.length&&(e.editable().addClass("cke_table-faked-selection-editor"),t[0].getAscendant("table").data("cke-table-faked-selection-table","")),e.fire("unlockSnapshot")}}function s(e){return e.getAscendant("tr",!0).$.rowIndex}function l(t){function i(e){return!e.getAscendant("table",!0)&&e.getDocument().equals(a.document)}if(t.data.getTarget().getName&&("mouseup"===t.name||!e(t.data.getTarget()))){var a=t.editor||t.listenerData.editor,s=a.getSelection(1),c=function(e){return(e=e.editable().findOne(".cke_table-faked-selection"))&&e.getAscendant("table")}(a),u=(d=t.data.getTarget())&&d.getAscendant({td:1,th:1},!0),d=d&&d.getAscendant("table",!0),h={table:1,thead:1,tbody:1,tfoot:1,tr:1,td:1,th:1};d&&d.hasAttribute("data-cke-tableselection-ignored")||(function(e,t,n,o){return!("mousedown"!==e.name||CKEDITOR.tools.getMouseButton(e)!==CKEDITOR.MOUSE_BUTTON_LEFT&&o)||((t=e.name===(CKEDITOR.env.gecko?"mousedown":"mouseup")&&!i(e.data.getTarget()))&&(t=!((e=e.data.getTarget().getAscendant({td:1,th:1},!0))&&e.hasClass("cke_table-faked-selection"))),t)}(t,s,0,d)&&n(a,!0),!v.active&&"mousedown"===t.name&&CKEDITOR.tools.getMouseButton(t)===CKEDITOR.MOUSE_BUTTON_LEFT&&d&&(v={active:!0},CKEDITOR.document.on("mouseup",l,null,{editor:a})),(u||d)&&r(a,u||d,t),"mouseup"===t.name&&(CKEDITOR.tools.getMouseButton(t)===CKEDITOR.MOUSE_BUTTON_LEFT&&(i(t.data.getTarget())||function(e,t){return!(!e||!t)&&(e.equals(t)||e.contains(t)||t.contains(e)||e.getCommonAncestor(t).is(h))}(c,d))&&o(a),v={active:!1},CKEDITOR.document.removeListener("mouseup",l)))}}function c(e){var t=e.data.getTarget().getAscendant("table",!0);v.active=!1,t&&t.hasAttribute("data-cke-tableselection-ignored")||!(e=e.data.getTarget().getAscendant({td:1,th:1},!0))||e.hasClass("cke_table-faked-selection")}function u(e){var t=e.editor||e.sender.editor,n=t.getSelection();n.isInTable()&&(n.getRanges()[0]._getTableElement({table:1}).hasAttribute("data-cke-tableselection-ignored")||function(e,t){var n,i,o,r,a=e.getSelection(),s=a.createBookmarks(),l=e.document,c=e.createRange(),u=l.getDocumentElement().$,d=CKEDITOR.env.ie&&9>CKEDITOR.env.version,h=e.blockless||CKEDITOR.env.ie?"span":"div";l.getById("cke_table_copybin")||(n=l.createElement(h),(i=l.createElement(h)).setAttributes({id:"cke_table_copybin","data-cke-temp":"1"}),n.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"}),n.setStyle("ltr"==e.config.contentsLangDirection?"left":"right","-5000px"),n.setHtml(e.getSelectedHtml(!0)),e.fire("lockSnapshot"),i.append(n),e.editable().append(i),r=e.on("selectionChange",(function(e){e.cancel()}),null,null,0),d&&(o=u.scrollTop),c.selectNodeContents(n),c.select(),d&&(u.scrollTop=o),setTimeout((function(){i.remove(),a.selectBookmarks(s),r.removeListener(),e.fire("unlockSnapshot"),t&&(e.extractSelectedHtml(),e.fire("saveSnapshot"))}),100))}(t,"cut"===e.name))}function d(e){this._reset(),e&&this.setSelectedCells(e)}function h(e,t,n){e.on("beforeCommandExec",(function(n){-1!==CKEDITOR.tools.array.indexOf(t,n.data.name)&&(n.data.selectedCells=p(e.getSelection()))})),e.on("afterCommandExec",(function(i){-1!==CKEDITOR.tools.array.indexOf(t,i.data.name)&&n(e,i.data)}),null,null,9)}var f,p,g,m,E,v={active:!1};d.prototype={},d.prototype._reset=function(){this.cells={first:null,last:null,all:[]},this.rows={first:null,last:null}},d.prototype.setSelectedCells=function(e){this._reset(),e=e.slice(0),this._arraySortByDOMOrder(e),this.cells.all=e,this.cells.first=e[0],this.cells.last=e[e.length-1],this.rows.first=e[0].getAscendant("tr"),this.rows.last=this.cells.last.getAscendant("tr")},d.prototype.getTableMap=function(){var e,t=g(this.cells.first);e:{var n,i=(e=this.cells.last).getAscendant("table"),o=s(e);for(i=CKEDITOR.tools.buildTableMap(i),n=0;n<i[o].length;n++)if(new CKEDITOR.dom.element(i[o][n]).equals(e)){e=n;break e}e=void 0}return CKEDITOR.tools.buildTableMap(this._getTable(),s(this.rows.first),t,s(this.rows.last),e)},d.prototype._getTable=function(){return this.rows.first.getAscendant("table")},d.prototype.insertRow=function(e,t,n){if(void 0===e)e=1;else if(0>=e)return;for(var i,o=this.cells.first.$.cellIndex,r=this.cells.last.$.cellIndex,a=n?[]:this.cells.all,s=0;s<e;s++)i=m(n?this.cells.all:a,t),i=CKEDITOR.tools.array.filter(i.find("td, th").toArray(),(function(e){return!!n||e.$.cellIndex>=o&&e.$.cellIndex<=r})),a=t?i.concat(a):a.concat(i);this.setSelectedCells(a)},d.prototype.insertColumn=function(e){function t(e){return(e=s(e))>=i&&e<=o}if(void 0===e)e=1;else if(0>=e)return;for(var n=(r=this.cells).all,i=s(r.first),o=s(r.last),r=0;r<e;r++)n=n.concat(CKEDITOR.tools.array.filter(E(n),t));this.setSelectedCells(n)},d.prototype.emptyCells=function(e){e=e||this.cells.all;for(var t=0;t<e.length;t++)e[t].setHtml("")},d.prototype._arraySortByDOMOrder=function(e){e.sort((function(e,t){return e.getPosition(t)&CKEDITOR.POSITION_PRECEDING?-1:1}))};var T={onPaste:function(e){function n(e){return Math.max.apply(null,CKEDITOR.tools.array.map(e,(function(e){return e.length}),0))}var o,r,a=e.editor,s=a.getSelection(),l=p(s),c=s.isInTable(!0)&&this.isBoundarySelection(s),u=this.findTableInPastedContent(a,e.data.dataValue);(function(e,t,n,i){var o=(e=e.getRanges()).length&&e[0]._getTableElement({table:1});return!(!t.length||o&&o.hasAttribute("data-cke-tableselection-ignored")||i&&!n||((t=!i)&&((t=e[0])?((t=t.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),t=(t=t.getEnclosedNode())&&t.is&&t.is(CKEDITOR.dtd.$tableContent)):t=void 0,t=!t),t))})(s,l,u,c)&&"drop"!==e.data.method&&(l=l[0].getAscendant("table"),o=new d(p(s,l)),a.once("afterPaste",(function(){var e;if(r){e=new CKEDITOR.dom.element(r[0][0]);var n=r[r.length-1];e=t(e,new CKEDITOR.dom.element(n[n.length-1]))}else e=o.cells.all;i(a,e)})),u?(e.stop(),c?(o.insertRow(1,1===c,!0),s.selectElement(o.rows.first)):(o.emptyCells(),i(a,o.cells.all)),e=o.getTableMap(),r=CKEDITOR.tools.buildTableMap(u),o.insertRow(r.length-e.length),o.insertColumn(n(r)-n(e)),e=o.getTableMap(),this.pasteTable(o,e,r),a.fire("saveSnapshot"),setTimeout((function(){a.fire("afterPaste")}),0)):(function(e){var t=a.createRange();t.selectNodeContents(e),t.select()}(o.cells.first),a.once("afterPaste",(function(){a.fire("lockSnapshot"),o.emptyCells(o.cells.all.slice(1)),i(a,o.cells.all),a.fire("unlockSnapshot")}))))},isBoundarySelection:function(e){var t=(e=e.getRanges()[0]).endContainer.getAscendant("tr",!0);if(t&&e.collapsed){if(e.checkBoundaryOfElement(t,CKEDITOR.START))return 1;if(e.checkBoundaryOfElement(t,CKEDITOR.END))return 2}return 0},findTableInPastedContent:function(e,t){var n=e.dataProcessor,i=new CKEDITOR.dom.element("body");return n||(n=new CKEDITOR.htmlDataProcessor(e)),i.setHtml(n.toHtml(t),{fixForBody:!1}),1<i.getChildCount()?null:i.findOne("table")},pasteTable:function(e,t,n){var i,o,r,a,s,l=g(e.cells.first),c=e._getTable(),u={};for(a=0;a<n.length;a++)for(o=new CKEDITOR.dom.element(c.$.rows[e.rows.first.$.rowIndex+a]),s=0;s<n[a].length;s++)r=new CKEDITOR.dom.element(n[a][s]),i=t[a]&&t[a][s]?new CKEDITOR.dom.element(t[a][s]):null,r&&!r.getCustomData("processed")?(i&&i.getParent()?r.replace(i):(0===s||n[a][s-1])&&((i=0!==s?new CKEDITOR.dom.element(n[a][s-1]):null)&&o.equals(i.getParent())?r.insertAfter(i):0<l?o.$.cells[l]?r.insertAfter(new CKEDITOR.dom.element(o.$.cells[l])):o.append(r):o.append(r,!0)),CKEDITOR.dom.element.setMarker(u,r,"processed",!0)):r.getCustomData("processed")&&i&&i.remove();CKEDITOR.dom.element.clearAllMarkers(u)}};CKEDITOR.plugins.tableselection={getCellsBetween:t,keyboardIntegration:function(e){function t(e){var t=e.getEnclosedNode();t&&"function"==typeof t.is&&t.is({td:1,th:1})?t.setText(""):e.deleteContents(),CKEDITOR.tools.array.forEach(e._find("td"),(function(e){e.appendBogus()}))}var n=e.editable();n.attachListener(n,"keydown",function(e){function n(t,n){if(!n.length)return null;var i=e.createRange(),r=CKEDITOR.dom.range.mergeRanges(n);CKEDITOR.tools.array.forEach(r,(function(e){e.enlarge(CKEDITOR.ENLARGE_ELEMENT)}));var a=(s=r[0].getBoundaryNodes()).startNode,s=s.endNode;if(a&&a.is&&a.is(o)){for(var l=a.getAscendant("table",!0),c=a.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,l),u=!1,d=function(e){return!a.contains(e)&&e.is&&e.is("td","th")};c&&!d(c);)c=c.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,l);return!c&&s&&s.is&&!s.is("table")&&s.getNext()&&(c=s.getNext().findOne("td, th"),u=!0),c?i["moveToElementEdit"+(u?"Start":"End")](c):(i.setStartBefore(a.getAscendant("table",!0)),i.collapse(!0)),r[0].deleteContents(),[i]}return a?(i.moveToElementEditablePosition(a),[i]):void 0}var i={37:1,38:1,39:1,40:1,8:1,46:1,13:1},o=CKEDITOR.tools.extend({table:1},CKEDITOR.dtd.$tableContent);return delete o.td,delete o.th,function(o){var r,a,s,l,c=o.data.getKey(),u=o.data.getKeystroke(),d=37===c||38==c;if(i[c]&&!e.readOnly&&(r=e.getSelection())&&r.isInTable()&&r.isFake)if(s=(a=r.getRanges())[0]._getTableElement(),l=a[a.length-1]._getTableElement(),(13!==c||e.plugins.enterkey)&&(o.data.preventDefault(),o.cancel()),36<c&&41>c)a[0].moveToElementEditablePosition(d?s:l,!d),r.selectRanges([a[0]]);else if(13!==c||13===u||u===CKEDITOR.SHIFT+13){for(o=0;o<a.length;o++)t(a[o]);(o=n(0,a))?a=o:a[0].moveToElementEditablePosition(s),r.selectRanges(a),13===c&&e.plugins.enterkey?(e.fire("lockSnapshot"),13===u?e.execCommand("enter"):e.execCommand("shiftEnter"),e.fire("unlockSnapshot"),e.fire("saveSnapshot")):13!==c&&e.fire("saveSnapshot")}}}(e),null,null,-1),n.attachListener(n,"keypress",(function(n){var i,o=e.getSelection(),r=n.data.$.charCode||13===n.data.getKey();if(!e.readOnly&&o&&o.isInTable()&&o.isFake&&r&&!(n.data.getKeystroke()&CKEDITOR.CTRL)){for(r=(n=o.getRanges())[0].getEnclosedNode().getAscendant({td:1,th:1},!0),i=0;i<n.length;i++)t(n[i]);r&&(n[0].moveToElementEditablePosition(r),o.selectRanges([n[0]]))}}),null,null,-1),n.attachListener(n,"keyup",function(e){return function(t){t=t.data.getKey();var n=e.getSelection();9===t&&n.isInTable()&&o(e)}}(e),null,null,-1)}},CKEDITOR.plugins.add("tableselection",{requires:"clipboard,tabletools",isSupportedEnvironment:function(){return!(CKEDITOR.env.ie&&11>CKEDITOR.env.version)},onLoad:function(){f=CKEDITOR.plugins.tabletools,p=f.getSelectedCells,g=f.getCellColIndex,m=f.insertRow,E=f.insertColumn,CKEDITOR.document.appendStyleSheet(this.path+"styles/tableselection.css")},init:function(e){this.isSupportedEnvironment()&&(e.addContentsCss&&e.addContentsCss(this.path+"styles/tableselection.css"),e.on("contentDom",(function(){var t=e.editable(),n=t.isInline()?t:e.document,i={editor:e};t.attachListener(n,"mousedown",l,null,i),t.attachListener(n,"mousemove",l,null,i),t.attachListener(n,"mouseup",l,null,i),t.attachListener(t,"dragstart",c),t.attachListener(e,"selectionCheck",a),CKEDITOR.plugins.tableselection.keyboardIntegration(e),CKEDITOR.plugins.clipboard&&!CKEDITOR.plugins.clipboard.isCustomCopyCutSupported&&(t.attachListener(t,"cut",u),t.attachListener(t,"copy",u))})),e.on("paste",T.onPaste,T),h(e,"rowInsertBefore rowInsertAfter columnInsertBefore columnInsertAfter cellInsertBefore cellInsertAfter".split(" "),(function(e,t){i(e,t.selectedCells)})),h(e,["cellMerge","cellMergeRight","cellMergeDown"],(function(e,t){i(e,[t.commandData.cell])})),h(e,["cellDelete"],(function(e){n(e,!0)})))}})}(),function(){var e=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],t={8:1,46:1};CKEDITOR.plugins.add("undo",{init:function(t){function i(e){a.enabled&&!1!==e.data.command.canUndo&&a.save()}function o(){a.enabled=!t.readOnly&&"wysiwyg"==t.mode,a.onChange()}var a=t.undoManager=new n(t),s=a.editingHandler=new r(a),l=t.addCommand("undo",{exec:function(){a.undo()&&(t.selectionChange(),this.fire("afterUndo"))},startDisabled:!0,canUndo:!1}),c=t.addCommand("redo",{exec:function(){a.redo()&&(t.selectionChange(),this.fire("afterRedo"))},startDisabled:!0,canUndo:!1});t.setKeystroke([[e[0],"undo"],[e[1],"redo"],[e[2],"redo"]]),a.onChange=function(){l.setState(a.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),c.setState(a.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)},t.on("beforeCommandExec",i),t.on("afterCommandExec",i),t.on("saveSnapshot",(function(e){a.save(e.data&&e.data.contentOnly)})),t.on("contentDom",s.attachListeners,s),t.on("instanceReady",(function(){t.fire("saveSnapshot")})),t.on("beforeModeUnload",(function(){"wysiwyg"==t.mode&&a.save(!0)})),t.on("mode",o),t.on("readOnly",o),t.ui.addButton&&(t.ui.addButton("Undo",{label:t.lang.undo.undo,command:"undo",toolbar:"undo,10"}),t.ui.addButton("Redo",{label:t.lang.undo.redo,command:"redo",toolbar:"undo,20"})),t.resetUndo=function(){a.reset(),t.fire("saveSnapshot")},t.on("updateSnapshot",(function(){a.currentImage&&a.update()})),t.on("lockSnapshot",(function(e){e=e.data,a.lock(e&&e.dontUpdate,e&&e.forceUpdate)})),t.on("unlockSnapshot",a.unlock,a)}}),CKEDITOR.plugins.undo={};var n=CKEDITOR.plugins.undo.UndoManager=function(e){this.strokesRecorded=[0,0],this.locked=null,this.previousKeyGroup=-1,this.limit=e.config.undoStackSize||20,this.strokesLimit=25,this._filterRules=[],this.editor=e,this.reset(),CKEDITOR.env.ie&&this.addFilterRule((function(e){return e.replace(/\s+data-cke-expando=".*?"/g,"")}))};n.prototype={type:function(e,t){var i=n.getKeyGroup(e),o=this.strokesRecorded[i]+1;t=t||o>=this.strokesLimit,this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange()),t?(o=0,this.editor.fire("saveSnapshot")):this.editor.fire("change"),this.strokesRecorded[i]=o,this.previousKeyGroup=i},keyGroupChanged:function(e){return n.getKeyGroup(e)!=this.previousKeyGroup},reset:function(){this.snapshots=[],this.index=-1,this.currentImage=null,this.hasRedo=this.hasUndo=!1,this.locked=null,this.resetType()},resetType:function(){this.strokesRecorded=[0,0],this.typing=!1,this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0),this.hasRedo=!!this.getNextImage(!1),this.resetType(),this.onChange()},save:function(e,t,n){var o=this.editor;if(this.locked||"ready"!=o.status||"wysiwyg"!=o.mode)return!1;var r=o.editable();if(!r||"ready"!=r.status)return!1;if(r=this.snapshots,t||(t=new i(o)),!1===t.contents)return!1;if(this.currentImage)if(t.equalsContent(this.currentImage)){if(e||t.equalsSelection(this.currentImage))return!1}else!1!==n&&o.fire("change");return r.splice(this.index+1,r.length-this.index-1),r.length==this.limit&&r.shift(),this.index=r.push(t)-1,this.currentImage=t,!1!==n&&this.refreshState(),!0},restoreImage:function(e){var t,n=this.editor;e.bookmarks&&(n.focus(),t=n.getSelection()),this.locked={level:999},this.editor.loadSnapshot(e.contents),e.bookmarks?t.selectBookmarks(e.bookmarks):CKEDITOR.env.ie&&((t=this.editor.document.getBody().$.createTextRange()).collapse(!0),t.select()),this.locked=null,this.index=e.index,this.currentImage=this.snapshots[this.index],this.update(),this.refreshState(),n.fire("change")},getNextImage:function(e){var t,n=this.snapshots,i=this.currentImage;if(i)if(e){for(t=this.index-1;0<=t;t--)if(e=n[t],!i.equalsContent(e))return e.index=t,e}else for(t=this.index+1;t<n.length;t++)if(e=n[t],!i.equalsContent(e))return e.index=t,e;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var e=this.getNextImage(!0);if(e)return this.restoreImage(e),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var e=this.getNextImage(!1);if(e)return this.restoreImage(e),!0}return!1},update:function(e){if(!this.locked){e||(e=new i(this.editor));for(var t=this.index,n=this.snapshots;0<t&&this.currentImage.equalsContent(n[t-1]);)--t;n.splice(t,this.index-t+1,e),this.index=t,this.currentImage=e}},updateSelection:function(e){if(!this.snapshots.length)return!1;var t=this.snapshots,n=t[t.length-1];return!(!n.equalsContent(e)||n.equalsSelection(e)||(this.currentImage=t[t.length-1]=e,0))},lock:function(e,t){if(this.locked)this.locked.level++;else if(e)this.locked={level:1};else{var n=null;if(t)n=!0;else{var o=new i(this.editor,!0);this.currentImage&&this.currentImage.equalsContent(o)&&(n=o)}this.locked={update:n,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var e=this.locked.update;if(this.locked=null,!0===e)this.update();else if(e){var t=new i(this.editor,!0);e.equalsContent(t)||this.update()}}},addFilterRule:function(e){this._filterRules.push(e)}},n.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1},n.keyGroups={PRINTABLE:0,FUNCTIONAL:1},n.isNavigationKey=function(e){return!!n.navigationKeyCodes[e]},n.getKeyGroup=function(e){var i=n.keyGroups;return t[e]?i.FUNCTIONAL:i.PRINTABLE},n.getOppositeKeyGroup=function(e){var t=n.keyGroups;return e==t.FUNCTIONAL?t.PRINTABLE:t.FUNCTIONAL},n.ieFunctionalKeysBug=function(e){return CKEDITOR.env.ie&&n.getKeyGroup(e)==n.keyGroups.FUNCTIONAL};var i=CKEDITOR.plugins.undo.Image=function(e,t){this.editor=e,e.fire("beforeUndoImage");var n=e.getSnapshot();n&&(this.contents=function(e,t){return CKEDITOR.tools.array.reduce(t,(function(e,t){return t(e)}),e)}(n,e.undoManager._filterRules)),t||(this.bookmarks=(n=n&&e.getSelection())&&n.createBookmarks2(!0)),e.fire("afterUndoImage")},o=/\b(?:href|src|name)="[^"]*?"/gi;i.prototype={equalsContent:function(e){var t=this.contents;return e=e.contents,CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(t=t.replace(o,""),e=e.replace(o,"")),t==e},equalsSelection:function(e){var t=this.bookmarks;if(e=e.bookmarks,t||e){if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;n++){var i=t[n],o=e[n];if(i.startOffset!=o.startOffset||i.endOffset!=o.endOffset||!CKEDITOR.tools.arrayCompare(i.start,o.start)||!CKEDITOR.tools.arrayCompare(i.end,o.end))return!1}}return!0}};var r=CKEDITOR.plugins.undo.NativeEditingHandler=function(e){this.undoManager=e,this.ignoreInputEvent=!1,this.keyEventsStack=new a,this.lastKeydownImage=null};r.prototype={onKeydown:function(t){var o=t.data.getKey();229!==o&&(-1<CKEDITOR.tools.indexOf(e,t.data.getKeystroke())?t.data.preventDefault():(this.keyEventsStack.cleanUp(t),t=this.undoManager,this.keyEventsStack.getLast(o)||this.keyEventsStack.push(o),this.lastKeydownImage=new i(t.editor),(n.isNavigationKey(o)||this.undoManager.keyGroupChanged(o))&&(t.strokesRecorded[0]||t.strokesRecorded[1])&&(t.save(!1,this.lastKeydownImage,!1),t.resetType())))},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var e=this.keyEventsStack.getLast();e||(e=this.keyEventsStack.push(0)),this.keyEventsStack.increment(e.keyCode),this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(e.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(e){var t=this.undoManager;e=e.data.getKey();var o=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(e),n.ieFunctionalKeysBug(e)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new i(t.editor,!0))||(0<o?t.type(e):n.isNavigationKey(e)&&this.onNavigationKey(!0))},onNavigationKey:function(e){var t=this.undoManager;!e&&t.save(!0,null,!1)||t.updateSelection(new i(t.editor)),t.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},activateInputEventListener:function(){this.ignoreInputEvent=!1},attachListeners:function(){var e=this.undoManager.editor,t=e.editable(),i=this;t.attachListener(t,"keydown",(function(e){i.onKeydown(e),n.ieFunctionalKeysBug(e.data.getKey())&&i.onInput()}),null,null,999),t.attachListener(t,CKEDITOR.env.ie?"keypress":"input",i.onInput,i,null,999),t.attachListener(t,"keyup",i.onKeyup,i,null,999),t.attachListener(t,"paste",i.ignoreInputEventListener,i,null,999),t.attachListener(t,"drop",i.ignoreInputEventListener,i,null,999),e.on("afterPaste",i.activateInputEventListener,i,null,999),t.attachListener(t.isInline()?t:e.document.getDocumentElement(),"click",(function(){i.onNavigationKey()}),null,null,999),t.attachListener(this.undoManager.editor,"blur",(function(){i.keyEventsStack.remove(9)}),null,null,999)}};var a=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};a.prototype={push:function(e){return e=this.stack.push({keyCode:e,inputs:0}),this.stack[e-1]},getLastIndex:function(e){if("number"!=typeof e)return this.stack.length-1;for(var t=this.stack.length;t--;)if(this.stack[t].keyCode==e)return t;return-1},getLast:function(e){return-1!=(e=this.getLastIndex(e))?this.stack[e]:null},increment:function(e){this.getLast(e).inputs++},remove:function(e){-1!=(e=this.getLastIndex(e))&&this.stack.splice(e,1)},resetInputs:function(e){if("number"==typeof e)this.getLast(e).inputs=0;else for(e=this.stack.length;e--;)this.stack[e].inputs=0},getTotalInputs:function(){for(var e=this.stack.length,t=0;e--;)t+=this.stack[e].inputs;return t},cleanUp:function(e){(e=e.data.$).ctrlKey||e.metaKey||this.remove(17),e.shiftKey||this.remove(16),e.altKey||this.remove(18)}}}(),function(){function e(e,t){CKEDITOR.tools.extend(this,{editor:e,editable:e.editable(),doc:e.document,win:e.window},t,!0),this.inline=this.editable.isInline(),this.inline||(this.frame=this.win.getFrame()),this.target=this[this.inline?"editable":"doc"]}function t(e,t){CKEDITOR.tools.extend(this,t,{editor:e},!0)}function n(e,t){var n=e.editable();CKEDITOR.tools.extend(this,{editor:e,editable:n,inline:n.isInline(),doc:e.document,win:e.window,container:CKEDITOR.document.getBody(),winTop:CKEDITOR.document.getWindow()},t,!0),this.hidden={},this.visible={},this.inline||(this.frame=this.win.getFrame()),this.queryViewport();var i=CKEDITOR.tools.bind(this.queryViewport,this),a=CKEDITOR.tools.bind(this.hideVisible,this),s=CKEDITOR.tools.bind(this.removeAll,this);n.attachListener(this.winTop,"resize",i),n.attachListener(this.winTop,"scroll",i),n.attachListener(this.winTop,"resize",a),n.attachListener(this.win,"scroll",a),n.attachListener(this.inline?n:this.frame,"mouseout",(function(e){var t=e.data.$.clientX;e=e.data.$.clientY,this.queryViewport(),(t<=this.rect.left||t>=this.rect.right||e<=this.rect.top||e>=this.rect.bottom)&&this.hideVisible(),(0>=t||t>=this.winTopPane.width||0>=e||e>=this.winTopPane.height)&&this.hideVisible()}),this),n.attachListener(e,"resize",i),n.attachListener(e,"mode",s),e.on("destroy",s),this.lineTpl=new CKEDITOR.template('<div data-cke-lineutils-line="1" class="cke_reset_all" style="{lineStyle}"><span style="{tipLeftStyle}">&nbsp;</span><span style="{tipRightStyle}">&nbsp;</span></div>').output({lineStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},r,this.lineStyle,!0)),tipLeftStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},o,{left:"0px","border-left-color":"red","border-width":"6px 0 6px 6px"},this.tipCss,this.tipLeftStyle,!0)),tipRightStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},o,{right:"0px","border-right-color":"red","border-width":"6px 6px 6px 0"},this.tipCss,this.tipRightStyle,!0))})}function i(e){var t;return(t=e&&e.type==CKEDITOR.NODE_ELEMENT)&&(t=!(a[e.getComputedStyle("float")]||a[e.getAttribute("align")])),t&&!s[e.getComputedStyle("position")]}CKEDITOR.plugins.add("lineutils"),CKEDITOR.LINEUTILS_BEFORE=1,CKEDITOR.LINEUTILS_AFTER=2,CKEDITOR.LINEUTILS_INSIDE=4,e.prototype={start:function(e){var t,n,i,o,r=this,a=this.editor,s=this.doc,l=CKEDITOR.tools.eventsBuffer(50,(function(){a.readOnly||"wysiwyg"!=a.mode||(r.relations={},(n=s.$.elementFromPoint(i,o))&&n.nodeType&&(t=new CKEDITOR.dom.element(n),r.traverseSearch(t),isNaN(i+o)||r.pixelSearch(t,i,o),e&&e(r.relations,i,o)))}));this.listener=this.editable.attachListener(this.target,"mousemove",(function(e){i=e.data.$.clientX,o=e.data.$.clientY,l.input()})),this.editable.attachListener(this.inline?this.editable:this.frame,"mouseout",(function(){l.reset()}))},stop:function(){this.listener&&this.listener.removeListener()},getRange:function(){var e={};return e[CKEDITOR.LINEUTILS_BEFORE]=CKEDITOR.POSITION_BEFORE_START,e[CKEDITOR.LINEUTILS_AFTER]=CKEDITOR.POSITION_AFTER_END,e[CKEDITOR.LINEUTILS_INSIDE]=CKEDITOR.POSITION_AFTER_START,function(t){var n=this.editor.createRange();return n.moveToPosition(this.relations[t.uid].element,e[t.type]),n}}(),store:function(){function e(e,t,n){var i=e.getUniqueId();i in n?n[i].type|=t:n[i]={element:e,type:t}}return function(t,n){var o;n&CKEDITOR.LINEUTILS_AFTER&&i(o=t.getNext())&&o.isVisible()&&(e(o,CKEDITOR.LINEUTILS_BEFORE,this.relations),n^=CKEDITOR.LINEUTILS_AFTER),n&CKEDITOR.LINEUTILS_INSIDE&&i(o=t.getFirst())&&o.isVisible()&&(e(o,CKEDITOR.LINEUTILS_BEFORE,this.relations),n^=CKEDITOR.LINEUTILS_INSIDE),e(t,n,this.relations)}}(),traverseSearch:function(e){var t,n,o;do{if(!(o=e.$["data-cke-expando"])||!(o in this.relations)){if(e.equals(this.editable))break;if(i(e))for(t in this.lookups)(n=this.lookups[t](e))&&this.store(e,n)}}while((!e||e.type!=CKEDITOR.NODE_ELEMENT||"true"!=e.getAttribute("contenteditable"))&&(e=e.getParent()))},pixelSearch:function(){function e(e,n,o,r,a){for(var s,l=0;a(o)&&(o+=r,25!=++l);)if(s=this.doc.$.elementFromPoint(n,o))if(s==e)l=0;else if(t(e,s)&&(l=0,i(s=new CKEDITOR.dom.element(s))))return s}var t=CKEDITOR.env.ie||CKEDITOR.env.webkit?function(e,t){return e.contains(t)}:function(e,t){return!!(16&e.compareDocumentPosition(t))};return function(t,n,o){var r=this.win.getViewPaneSize().height,a=e.call(this,t.$,n,o,-1,(function(e){return 0<e}));if(n=e.call(this,t.$,n,o,1,(function(e){return e<r})),a)for(this.traverseSearch(a);!a.getParent().equals(t);)a=a.getParent();if(n)for(this.traverseSearch(n);!n.getParent().equals(t);)n=n.getParent();for(;(a||n)&&(a&&(a=a.getNext(i)),a&&!a.equals(n))&&(this.traverseSearch(a),n&&(n=n.getPrevious(i)),n&&!n.equals(a));)this.traverseSearch(n)}}(),greedySearch:function(){this.relations={};for(var e,t,n,o=this.editable.getElementsByTag("*"),r=0;e=o.getItem(r++);)if(!e.equals(this.editable)&&e.type==CKEDITOR.NODE_ELEMENT&&(e.hasAttribute("contenteditable")||!e.isReadOnly())&&i(e)&&e.isVisible())for(n in this.lookups)(t=this.lookups[n](e))&&this.store(e,t);return this.relations}},t.prototype={locate:function(){function e(e,t){var n=e.element[t===CKEDITOR.LINEUTILS_BEFORE?"getPrevious":"getNext"]();return n&&i(n)?(e.siblingRect=n.getClientRect(),t==CKEDITOR.LINEUTILS_BEFORE?(e.siblingRect.bottom+e.elementRect.top)/2:(e.elementRect.bottom+e.siblingRect.top)/2):t==CKEDITOR.LINEUTILS_BEFORE?e.elementRect.top:e.elementRect.bottom}return function(t){var n;for(var i in this.locations={},t)(n=t[i]).elementRect=n.element.getClientRect(),n.type&CKEDITOR.LINEUTILS_BEFORE&&this.store(i,CKEDITOR.LINEUTILS_BEFORE,e(n,CKEDITOR.LINEUTILS_BEFORE)),n.type&CKEDITOR.LINEUTILS_AFTER&&this.store(i,CKEDITOR.LINEUTILS_AFTER,e(n,CKEDITOR.LINEUTILS_AFTER)),n.type&CKEDITOR.LINEUTILS_INSIDE&&this.store(i,CKEDITOR.LINEUTILS_INSIDE,(n.elementRect.top+n.elementRect.bottom)/2);return this.locations}}(),sort:function(){var e,t,n,i;return function(o,r){for(var a in e=this.locations,t=[],e)for(var s in e[a])if(n=Math.abs(o-e[a][s]),t.length){for(i=0;i<t.length;i++)if(n<t[i].dist){t.splice(i,0,{uid:+a,type:s,dist:n});break}i==t.length&&t.push({uid:+a,type:s,dist:n})}else t.push({uid:+a,type:s,dist:n});return void 0!==r?t.slice(0,r):t}}(),store:function(e,t,n){this.locations[e]||(this.locations[e]={}),this.locations[e][t]=n}};var o={display:"block",width:"0px",height:"0px","border-color":"transparent","border-style":"solid",position:"absolute",top:"-6px"},r={height:"0px","border-top":"1px dashed red",position:"absolute","z-index":9999};n.prototype={removeAll:function(){for(var e in this.hidden)this.hidden[e].remove(),delete this.hidden[e];for(e in this.visible)this.visible[e].remove(),delete this.visible[e]},hideLine:function(e){var t=e.getUniqueId();e.hide(),this.hidden[t]=e,delete this.visible[t]},showLine:function(e){var t=e.getUniqueId();e.show(),this.visible[t]=e,delete this.hidden[t]},hideVisible:function(){for(var e in this.visible)this.hideLine(this.visible[e])},placeLine:function(e,t){var n,i,o;if(n=this.getStyle(e.uid,e.type)){for(o in this.visible)if(this.visible[o].getCustomData("hash")!==this.hash){i=this.visible[o];break}if(!i)for(o in this.hidden)if(this.hidden[o].getCustomData("hash")!==this.hash){this.showLine(i=this.hidden[o]);break}i||this.showLine(i=this.addLine()),i.setCustomData("hash",this.hash),this.visible[i.getUniqueId()]=i,i.setStyles(n),t&&t(i)}},getStyle:function(e,t){var n=this.relations[e],i=this.locations[e][t],o={};if(o.width=n.siblingRect?Math.max(n.siblingRect.width,n.elementRect.width):n.elementRect.width,o.top=this.inline?i+this.winTopScroll.y-this.rect.relativeY:this.rect.top+this.winTopScroll.y+i,o.top-this.winTopScroll.y<this.rect.top||o.top-this.winTopScroll.y>this.rect.bottom)return!1;for(var r in this.inline?o.left=n.elementRect.left-this.rect.relativeX:(0<n.elementRect.left?o.left=this.rect.left+n.elementRect.left:(o.width+=n.elementRect.left,o.left=this.rect.left),0<(n=o.left+o.width-(this.rect.left+this.winPane.width))&&(o.width-=n)),o.left+=this.winTopScroll.x,o)o[r]=CKEDITOR.tools.cssLength(o[r]);return o},addLine:function(){var e=CKEDITOR.dom.element.createFromHtml(this.lineTpl);return e.appendTo(this.container),e},prepare:function(e,t){this.relations=e,this.locations=t,this.hash=Math.random()},cleanup:function(){var e,t;for(t in this.visible)(e=this.visible[t]).getCustomData("hash")!==this.hash&&this.hideLine(e)},queryViewport:function(){this.winPane=this.win.getViewPaneSize(),this.winTopScroll=this.winTop.getScrollPosition(),this.winTopPane=this.winTop.getViewPaneSize(),this.rect=this.getClientRect(this.inline?this.editable:this.frame)},getClientRect:function(e){e=e.getClientRect();var t=this.container.getDocumentPosition(),n=this.container.getComputedStyle("position");return e.relativeX=e.relativeY=0,"static"!=n&&(e.relativeY=t.y,e.relativeX=t.x,e.top-=e.relativeY,e.bottom-=e.relativeY,e.left-=e.relativeX,e.right-=e.relativeX),e}};var a={left:1,right:1,center:1},s={absolute:1,fixed:1};CKEDITOR.plugins.lineutils={finder:e,locator:t,liner:n}}(),function(){function e(e){return e.getName&&!e.hasAttribute("data-cke-temp")}CKEDITOR.plugins.add("widgetselection",{init:function(e){if(CKEDITOR.env.webkit){var t=CKEDITOR.plugins.widgetselection;e.on("contentDom",(function(e){var n=(e=e.editor).editable();n.attachListener(n,"keydown",(function(e){e.data.getKeystroke()==CKEDITOR.CTRL+65&&CKEDITOR.tools.setTimeout((function(){t.addFillers(n)||t.removeFillers(n)}),0)}),null,null,-1),e.on("selectionCheck",(function(e){t.removeFillers(e.editor.editable())})),e.on("paste",(function(e){e.data.dataValue=t.cleanPasteData(e.data.dataValue)})),"selectall"in e.plugins&&t.addSelectAllIntegration(e)}))}}}),CKEDITOR.plugins.widgetselection={startFiller:null,endFiller:null,fillerAttribute:"data-cke-filler-webkit",fillerContent:"&nbsp;",fillerTagName:"div",addFillers:function(t){var n=t.editor;if(!this.isWholeContentSelected(t)&&0<t.getChildCount()){var i=t.getFirst(e),o=t.getLast(e);if(i&&i.type==CKEDITOR.NODE_ELEMENT&&!i.isEditable()&&(this.startFiller=this.createFiller(),t.append(this.startFiller,1)),o&&o.type==CKEDITOR.NODE_ELEMENT&&!o.isEditable()&&(this.endFiller=this.createFiller(!0),t.append(this.endFiller,0)),this.hasFiller(t))return(n=n.createRange()).selectNodeContents(t),n.select(),!0}return!1},removeFillers:function(e){if(this.hasFiller(e)&&!this.isWholeContentSelected(e)){var t=e.findOne(this.fillerTagName+"["+this.fillerAttribute+"=start]"),n=e.findOne(this.fillerTagName+"["+this.fillerAttribute+"=end]");this.startFiller&&t&&this.startFiller.equals(t)?this.removeFiller(this.startFiller,e):this.startFiller=t,this.endFiller&&n&&this.endFiller.equals(n)?this.removeFiller(this.endFiller,e):this.endFiller=n}},cleanPasteData:function(e){return e&&e.length&&(e=e.replace(this.createFillerRegex(),"").replace(this.createFillerRegex(!0),"")),e},isWholeContentSelected:function(e){var t=e.editor.getSelection().getRanges()[0];return!(!t||t&&t.collapsed||((t=t.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),!(t&&e&&t.startContainer&&t.endContainer&&0===t.startOffset&&t.endOffset===e.getChildCount()&&t.startContainer.equals(e)&&t.endContainer.equals(e))))},hasFiller:function(e){return 0<e.find(this.fillerTagName+"["+this.fillerAttribute+"]").count()},createFiller:function(e){var t=new CKEDITOR.dom.element(this.fillerTagName);return t.setHtml(this.fillerContent),t.setAttribute(this.fillerAttribute,e?"end":"start"),t.setAttribute("data-cke-temp",1),t.setStyles({display:"block",width:0,height:0,padding:0,border:0,margin:0,position:"absolute",top:0,left:"-9999px",opacity:0,overflow:"hidden"}),t},removeFiller:function(e,t){if(e){var n,i,o=t.editor,r=t.editor.getSelection().getRanges()[0].startPath(),a=o.createRange();r.contains(e)&&(n=e.getHtml(),i=!0),r="start"==e.getAttribute(this.fillerAttribute),e.remove(),n&&0<n.length&&n!=this.fillerContent?(t.insertHtmlIntoRange(n,o.getSelection().getRanges()[0]),a.setStartAt(t.getChild(t.getChildCount()-1),CKEDITOR.POSITION_BEFORE_END),o.getSelection().selectRanges([a])):i&&(r?a.setStartAt(t.getFirst().getNext(),CKEDITOR.POSITION_AFTER_START):a.setEndAt(t.getLast().getPrevious(),CKEDITOR.POSITION_BEFORE_END),t.editor.getSelection().selectRanges([a]))}},createFillerRegex:function(e){var t=this.createFiller(e).getOuterHtml().replace(/style="[^"]*"/gi,'style="[^"]*"').replace(/>[^<]*</gi,">[^<]*<");return new RegExp((e?"":"^")+t+(e?"$":""))},addSelectAllIntegration:function(e){var t=this;e.editable().attachListener(e,"beforeCommandExec",(function(n){var i=e.editable();"selectAll"==n.data.name&&i&&t.addFillers(i)}),null,null,9999)}}}(),function(){function e(e){this.editor=e,this.registered={},this.instances={},this.selected=[],this.widgetHoldingFocusedEditable=this.focused=null,this._={nextId:0,upcasts:[],upcastCallbacks:[],filters:{}},function(e){var n,i,o=e.editor;o.on("toHtml",(function(i){var o,r=function(e){var n=[],i=e._.upcasts,o=e._.upcastCallbacks;return{toBeWrapped:n,iterator:function(e){var r,a,s,l,c;if("data-cke-widget-wrapper"in e.attributes)return(e=e.getFirst(t.isParserWidgetElement))&&n.push([e]),!1;if("data-widget"in e.attributes)return n.push([e]),!1;if(c=i.length){if(e.attributes["data-cke-widget-upcasted"])return!1;for(l=0,r=o.length;l<r;++l)if(!1===o[l](e))return;for(l=0;l<c;++l)if(s={},a=(r=i[l])[0](e,s))return a instanceof CKEDITOR.htmlParser.element&&(e=a),e.attributes["data-cke-widget-data"]=encodeURIComponent(JSON.stringify(s)),e.attributes["data-cke-widget-upcasted"]=1,n.push([e,r[1]]),!1}}}}(e);for(i.data.dataValue.forEach(r.iterator,CKEDITOR.NODE_ELEMENT,!0);o=r.toBeWrapped.pop();){var a=o[0],s=a.parent;s.type==CKEDITOR.NODE_ELEMENT&&s.attributes["data-cke-widget-wrapper"]&&s.replaceWith(a),e.wrapElement(o[0],o[1])}n=i.data.protectedWhitespaces?3==i.data.dataValue.children.length&&t.isParserWidgetWrapper(i.data.dataValue.children[1]):1==i.data.dataValue.children.length&&t.isParserWidgetWrapper(i.data.dataValue.children[0])}),null,null,8),o.on("dataReady",(function(){if(i)for(var n,r,a=o.editable().find(".cke_widget_wrapper"),s=0,l=a.count();s<l;++s)(r=(n=a.getItem(s)).getFirst(t.isDomWidgetElement)).type==CKEDITOR.NODE_ELEMENT&&r.data("widget")?(r.replace(n),e.wrapElement(r)):n.remove();i=0,e.destroyAll(!0),e.initOnAll()})),o.on("loadSnapshot",(function(t){/data-cke-widget/.test(t.data)&&(i=1),e.destroyAll(!0)}),null,null,9),o.on("paste",(function(e){(e=e.data).dataValue=e.dataValue.replace(K,p),e.range&&(e=t.getNestedEditable(o.editable(),e.range.startContainer))&&(e=CKEDITOR.filter.instances[e.data("cke-filter")])&&o.setActiveFilter(e)})),o.on("afterInsertHtml",(function(t){t.data.intoRange?e.checkWidgets({initOnlyNew:!0}):(o.fire("lockSnapshot"),e.checkWidgets({initOnlyNew:!0,focusInited:n}),o.fire("unlockSnapshot"))}))}(this),function(e){var n=e.editor,i={};n.on("toDataFormat",(function(n){var o=CKEDITOR.tools.getNextNumber(),r=[];n.data.downcastingSessionId=o,i[o]=r,n.data.dataValue.forEach((function(n){var i,o=n.attributes;if("data-cke-widget-white-space"in o){i=a(n);var l=s(n);i.parent.attributes["data-cke-white-space-first"]&&(i.value=i.value.replace(/^&nbsp;/g," ")),l.parent.attributes["data-cke-white-space-last"]&&(l.value=l.value.replace(/&nbsp;$/g," "))}if("data-cke-widget-id"in o)(o=e.instances[o["data-cke-widget-id"]])&&(i=n.getFirst(t.isParserWidgetElement),r.push({wrapper:n,element:i,widget:o,editables:{}}),"1"!=i.attributes["data-cke-widget-keep-attr"]&&delete i.attributes["data-widget"]);else if("data-cke-widget-editable"in o)return 0<r.length&&(r[r.length-1].editables[o["data-cke-widget-editable"]]=n),!1}),CKEDITOR.NODE_ELEMENT,!0)}),null,null,8),n.on("toDataFormat",(function(e){if(e.data.downcastingSessionId)for(var t,n,o,r,a,s,l=i[e.data.downcastingSessionId];t=l.shift();){for(s in n=t.widget,o=t.element,r=n._.downcastFn&&n._.downcastFn.call(n,o),e.data.widgetsCopy&&n.getClipboardHtml&&(r=(r=CKEDITOR.htmlParser.fragment.fromHtml(n.getClipboardHtml())).children[0]),t.editables)delete(a=t.editables[s]).attributes.contenteditable,a.setHtml(n.editables[s].getData());r||(r=o),t.wrapper.replaceWith(r)}}),null,null,13),n.on("contentDomUnload",(function(){e.destroyAll(!0)}))}(this),this.on("checkWidgets",o),this.editor.on("contentDomInvalidated",this.checkWidgets,this),function(e){function n(){var e=a.getSelection();if(e&&(e=e.getRanges()[0])&&!e.collapsed){var t=o(e.startContainer),n=o(e.endContainer);!t&&n?(e.setEndBefore(n.wrapper),e.select()):t&&!n&&(e.setStartAfter(t.wrapper),e.select())}}function o(e){return e?e.type==CKEDITOR.NODE_TEXT?o(e.getParent()):a.widgets.getByElement(e):null}function r(){e.fire("checkSelection")}var a=e.editor;a.on("selectionCheck",r),a.on("contentDom",(function(){a.editable().attachListener(a,"key",(function(){setTimeout(r,10)}))})),CKEDITOR.env.ie||e.on("checkSelection",n),e.on("checkSelection",e.checkSelection,e),a.on("selectionChange",(function(n){var i=(n=t.getNestedEditable(a.editable(),n.data.selection.getStartElement()))&&e.getByElement(n),o=e.widgetHoldingFocusedEditable;o?o===i&&o.focusedEditable.equals(n)||(f(e,o,null),i&&n&&f(e,i,n)):i&&n&&f(e,i,n)})),a.on("dataReady",(function(){g(e).commit()})),a.on("blur",(function(){var t;(t=e.focused)&&i(e,t),(t=e.widgetHoldingFocusedEditable)&&f(e,t,null)}))}(this),function(e){var n=e.editor;n.on("contentDom",(function(){var i,o,r=n.editable(),a=r.isInline()?r:n.document;r.attachListener(a,"mousedown",(function(r){var a=r.data.getTarget();i=a instanceof CKEDITOR.dom.element?e.getByElement(a):null,o=0,i&&(i.inline&&a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-cke-widget-drag-handler")?(o=1,e.focused!=i&&n.getSelection().removeAllRanges()):t.getNestedEditable(i.wrapper,a)?i=null:(r.data.preventDefault(),CKEDITOR.env.ie||i.focus()))})),r.attachListener(a,"mouseup",(function(){o&&i&&i.wrapper&&(o=0,i.focus())})),CKEDITOR.env.ie&&r.attachListener(a,"mouseup",(function(){setTimeout((function(){i&&i.wrapper&&r.contains(i.wrapper)&&(i.focus(),i=null)}))}))})),n.on("doubleclick",(function(n){var i=e.getByElement(n.data.element);if(i&&!t.getNestedEditable(i.wrapper,n.data.element))return i.fire("doubleclick",{element:n.data.element})}),null,null,1)}(this),function(e){e.editor.on("key",(function(t){var n,i=e.focused,o=e.widgetHoldingFocusedEditable;return i?n=i.fire("key",{keyCode:t.data.keyCode}):o&&(i=t.data.keyCode,t=o.focusedEditable,i==CKEDITOR.CTRL+65?(i=t.getBogus(),(o=o.editor.createRange()).selectNodeContents(t),i&&o.setEndAt(i,CKEDITOR.POSITION_BEFORE_START),o.select(),n=!1):8==i||46==i?(n=o.editor.getSelection().getRanges(),o=n[0],n=!(1==n.length&&o.collapsed&&o.checkBoundaryOfElement(t,CKEDITOR[8==i?"START":"END"]))):n=void 0),n}),null,null,1)}(this),function(e){var n=e.editor,i=CKEDITOR.plugins.lineutils;n.on("dragstart",(function(i){var o=i.data.target;t.isDomDragHandler(o)&&(o=e.getByElement(o),i.data.dataTransfer.setData("cke/widget-id",o.id),n.focus(),o.focus())})),n.on("drop",(function(t){function i(e,t){return!(!e||!t)&&(e.wrapper.equals(t.wrapper)||e.wrapper.contains(t.wrapper))}var o=(a=t.data.dataTransfer).getData("cke/widget-id"),r=a.getTransferType(n),a=n.createRange(),s=function(e){return(e=e.getBoundaryNodes().startNode).type!==CKEDITOR.NODE_ELEMENT&&(e=e.getParent()),n.widgets.getByElement(e)}(t.data.dropRange);""!==o&&r===CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?t.cancel():r==CKEDITOR.DATA_TRANSFER_INTERNAL&&(""===o&&0<n.widgets.selected.length?t.data.dataTransfer.setData("text/html",O(n)):(o=e.instances[o])&&(i(o,s)?t.cancel():(a.setStartBefore(o.wrapper),a.setEndAfter(o.wrapper),t.data.dragRange=a,delete CKEDITOR.plugins.clipboard.dragStartContainerChildCount,delete CKEDITOR.plugins.clipboard.dragEndContainerChildCount,t.data.dataTransfer.setData("text/html",o.getClipboardHtml()),n.widgets.destroy(o,!0))))})),n.on("contentDom",(function(){var o=n.editable();CKEDITOR.tools.extend(e,{finder:new i.finder(n,{lookups:{default:function(n){if(!n.is(CKEDITOR.dtd.$listItem)&&n.is(CKEDITOR.dtd.$block)&&!t.isDomNestedEditable(n)&&!e._.draggedWidget.wrapper.contains(n)){var i=t.getNestedEditable(o,n);if(i){if(n=e._.draggedWidget,e.getByElement(i)==n)return;if(i=CKEDITOR.filter.instances[i.data("cke-filter")],n=n.requiredContent,i&&n&&!i.check(n))return}return CKEDITOR.LINEUTILS_BEFORE|CKEDITOR.LINEUTILS_AFTER}}}}),locator:new i.locator(n),liner:new i.liner(n,{lineStyle:{cursor:"move !important","border-top-color":"#666"},tipLeftStyle:{"border-left-color":"#666"},tipRightStyle:{"border-right-color":"#666"}})},!0)}))}(this),function(e){function t(t){1>e.selected.length||T(n,"cut"===t.name)}var n=e.editor;n.on("contentDom",(function(){var e=n.editable();e.attachListener(e,"copy",t),e.attachListener(e,"cut",t)}))}(this)}function t(e,n,i,o,r){var a=e.editor;CKEDITOR.tools.extend(this,o,{editor:a,id:n,inline:"span"==i.getParent().getName(),element:i,data:CKEDITOR.tools.extend({},"function"==typeof o.defaults?o.defaults():o.defaults),dataReady:!1,inited:!1,ready:!1,edit:t.prototype.edit,focusedEditable:null,definition:o,repository:e,draggable:!1!==o.draggable,_:{downcastFn:o.downcast&&"string"==typeof o.downcast?o.downcasts[o.downcast]:o.downcast}},!0),e.fire("instanceCreated",this),function(e,n){var i=e.editor.config.widget_keystrokeInsertLineBefore,o=e.editor.config.widget_keystrokeInsertLineAfter;(function(e){(e.wrapper=e.element.getParent()).setAttribute("data-cke-widget-id",e.id)})(e),I(e),function(e){var t,n,i=e.editables;if(e.editables={},e.editables)for(t in i)n=i[t],e.initEditable(t,"string"==typeof n?{selector:n}:n)}(e),D(e),function(e){if(e.draggable){var n,i=e.editor,o=e.wrapper.getLast(t.isDomDragHandlerContainer);o?n=o.findOne("img"):((o=new CKEDITOR.dom.element("span",i.document)).setAttributes({class:"cke_reset cke_widget_drag_handler_container",style:"background:rgba(220,220,220,0.5);background-image:url("+i.plugins.widget.path+"images/handle.png);display:none;"}),(n=new CKEDITOR.dom.element("img",i.document)).setAttributes({class:"cke_reset cke_widget_drag_handler","data-cke-widget-drag-handler":"1",src:CKEDITOR.tools.transparentImageData,width:15,title:i.lang.widget.move,height:15,role:"presentation"}),e.inline&&n.setAttribute("draggable","true"),o.append(n),e.wrapper.append(o)),e.wrapper.on("dragover",(function(e){e.data.preventDefault()})),e.wrapper.on("mouseenter",e.updateDragHandlerPosition,e),setTimeout((function(){e.on("data",e.updateDragHandlerPosition,e)}),50),!e.inline&&(n.on("mousedown",_,e),CKEDITOR.env.ie&&9>CKEDITOR.env.version)&&n.on("dragstart",(function(e){e.data.preventDefault(!0)})),e.dragHandlerContainer=o}}(e),function(e){var t=null;e.on("data",(function(){var e,n=this.data.classes;if(t!=n){for(e in t)n&&n[e]||this.removeClass(e);for(e in n)this.addClass(e);t=n}}))}(e),function(e){e.on("data",(function(){if(e.wrapper){var t=this.getLabel?this.getLabel():this.editor.lang.widget.label.replace(/%1/,this.pathName||this.element.getName());e.wrapper.setAttribute("role","region"),e.wrapper.setAttribute("aria-label",t)}}),null,null,9999)}(e),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&e.wrapper.on("dragstart",(function(n){var i=n.data.getTarget();t.getNestedEditable(e,i)||e.inline&&t.isDomDragHandler(i)||n.data.preventDefault()})),e.wrapper.removeClass("cke_widget_new"),e.element.addClass("cke_widget_element"),e.on("key",(function(t){if((t=t.data.keyCode)==i)v(e,"before"),e.editor.fire("saveSnapshot");else if(t==o)v(e,"after"),e.editor.fire("saveSnapshot");else if(13==t)e.edit();else{if(t==CKEDITOR.CTRL+67||t==CKEDITOR.CTRL+88)return void T(e.editor,t==CKEDITOR.CTRL+88);if(t in x||CKEDITOR.CTRL&t||CKEDITOR.ALT&t)return}return!1}),null,null,999),e.on("doubleclick",(function(t){e.edit()&&t.cancel()})),n.data&&e.on("data",n.data),n.edit&&e.on("edit",n.edit)}(this,o),this.init&&this.init(),this.inited=!0,(e=this.element.data("cke-widget-data"))&&this.setData(JSON.parse(decodeURIComponent(e))),r&&this.setData(r),this.data.classes||this.setData("classes",this.getClasses()),this.dataReady=!0,w(this),this.fire("data",this.data),this.isInited()&&a.editable().contains(this.wrapper)&&(this.ready=!0,this.fire("ready"))}function n(e,t,n){CKEDITOR.dom.element.call(this,t.$),this.editor=e,this._={},t=this.filter=n.filter,CKEDITOR.dtd[this.getName()].p?(this.enterMode=t?t.getAllowedEnterMode(e.enterMode):e.enterMode,this.shiftEnterMode=t?t.getAllowedEnterMode(e.shiftEnterMode,!0):e.shiftEnterMode):this.enterMode=this.shiftEnterMode=CKEDITOR.ENTER_BR}function i(e,t){if(e.focused=null,t.isInited()){var n=t.editor.checkDirty();e.fire("widgetBlurred",{widget:t}),t.setFocused(!1),!n&&t.editor.resetDirty()}}function o(e){if(e=e.data,"wysiwyg"==this.editor.mode){var n,i,o,r,a=this.editor.editable(),s=this.instances;if(a){for(n in s)s[n].isReady()&&!a.contains(s[n].wrapper)&&this.destroy(s[n],!0);if(e&&e.initOnlyNew)s=this.initOnAll();else{var l=a.find(".cke_widget_wrapper");for(s=[],n=0,i=l.count();n<i;n++){if(o=l.getItem(n),r=!this.getByElement(o,!0)){e:{r=h;for(var c=o;c=c.getParent();)if(r(c)){r=!0;break e}r=!1}r=!r}r&&a.contains(o)&&(o.addClass("cke_widget_new"),s.push(this.initOn(o.getFirst(t.isDomWidgetElement))))}}e&&e.focusInited&&1==s.length&&s[0].focus()}}}function r(e){if(void 0!==e.attributes&&e.attributes["data-widget"]){var t=a(e),n=s(e),i=!1;t&&t.value&&t.value.match(/^\s/g)&&(t.parent.attributes["data-cke-white-space-first"]=1,t.value=t.value.replace(/^\s/g,"&nbsp;"),i=!0),n&&n.value&&n.value.match(/\s$/g)&&(n.parent.attributes["data-cke-white-space-last"]=1,n.value=n.value.replace(/\s$/g,"&nbsp;"),i=!0),i&&(e.attributes["data-cke-widget-white-space"]=1)}}function a(e){return e.find((function(e){return 3===e.type}),!0).shift()}function s(e){return e.find((function(e){return 3===e.type}),!0).pop()}function l(e,t,n){if(!n.allowedContent&&!n.disallowedContent)return null;var i=this._.filters[e];return i||(this._.filters[e]=i={}),(e=i[t])||(e=n.allowedContent?new CKEDITOR.filter(n.allowedContent):this.editor.filter.clone(),i[t]=e,n.disallowedContent&&e.disallow(n.disallowedContent)),e}function c(e,t){return{tabindex:-1,contenteditable:"false","data-cke-widget-wrapper":1,"data-cke-filter":"off",class:"cke_widget_wrapper cke_widget_new cke_widget_"+(e?"inline":"block")+(t?" cke_widget_"+t:"")}}function u(e,t,n){if(e.type==CKEDITOR.NODE_ELEMENT&&(i=CKEDITOR.dtd[e.name])&&!i[n.name]){var i=e.split(t),o=e.parent;return t=i.getIndex(),e.children.length||(--t,e.remove()),i.children.length||i.remove(),u(o,t,n)}e.add(n,t)}function d(e,t){return"boolean"==typeof e.inline?e.inline:!!CKEDITOR.dtd.$inline[t]}function h(e){return e.hasAttribute("data-cke-temp")}function f(e,t,n,i){var o=e.editor;o.fire("lockSnapshot"),n?(i=n.data("cke-widget-editable"),i=t.editables[i],e.widgetHoldingFocusedEditable=t,t.focusedEditable=i,n.addClass("cke_widget_editable_focused"),i.filter&&o.setActiveFilter(i.filter),o.setActiveEnterMode(i.enterMode,i.shiftEnterMode)):(i||t.focusedEditable.removeClass("cke_widget_editable_focused"),t.focusedEditable=null,e.widgetHoldingFocusedEditable=null,o.setActiveFilter(null),o.setActiveEnterMode(null,null)),o.fire("unlockSnapshot")}function p(e,t){return CKEDITOR.tools.trim(t)}function g(e){var t=e.selected,n=[],o=t.slice(0),r=null;return{select:function(e){return 0>CKEDITOR.tools.indexOf(t,e)&&n.push(e),0<=(e=CKEDITOR.tools.indexOf(o,e))&&o.splice(e,1),this},focus:function(e){return r=e,this},commit:function(){var a,s,l=e.focused!==r;for(e.editor.fire("lockSnapshot"),l&&(a=e.focused)&&i(e,a);a=o.pop();)t.splice(CKEDITOR.tools.indexOf(t,a),1),a.isInited()&&(s=a.editor.checkDirty(),a.setSelected(!1),!s&&a.editor.resetDirty());for(l&&r&&(s=e.editor.checkDirty(),e.focused=r,e.fire("widgetFocused",{widget:r}),r.setFocused(!0),!s&&e.editor.resetDirty());a=n.pop();)t.push(a),a.setSelected(!0);e.editor.fire("unlockSnapshot")}}}function m(e,t,n){var i=0;t=b(t);var o,r=e.data.classes||{};if(t){for(r=CKEDITOR.tools.clone(r);o=t.pop();)n?r[o]||(i=r[o]=1):r[o]&&(delete r[o],i=1);i&&e.setData("classes",r)}}function E(e){e.cancel()}function v(e,t){var n=function(e){return e==CKEDITOR.ENTER_BR?"br":e==CKEDITOR.ENTER_DIV?"div":"p"}(e.editor.config.enterMode),i=new CKEDITOR.dom.element(n);"br"!==n&&i.appendBogus(),"after"===t?i.insertAfter(e.wrapper):i.insertBefore(e.wrapper),function(t){var n=e.editor.createRange();n.setStart(t,0),e.editor.getSelection().selectRanges([n])}(i)}function T(e,t){var n,i,o,r=e.widgets.focused;S.hasCopyBin(e)||(i=new S(e,{beforeDestroy:function(){!t&&r&&r.focus(),o&&e.getSelection().selectBookmarks(o),n&&CKEDITOR.plugins.widgetselection.addFillers(e.editable())},afterDestroy:function(){t&&!e.readOnly&&(r?e.widgets.del(r):e.extractSelectedHtml(),e.fire("saveSnapshot"))}}),r||(n=CKEDITOR.env.webkit&&CKEDITOR.plugins.widgetselection.isWholeContentSelected(e.editable()),o=e.getSelection().createBookmarks(!0)),i.handle(O(e)))}function b(e){return(e=(e=e.getDefinition().attributes)&&e.class)?e.split(/\s+/):null}function C(){var e=CKEDITOR.document.getActive(),t=this.editor,n=t.editable();(n.isInline()?n:t.document.getWindow().getFrame()).equals(e)&&t.focusManager.focus(n)}function y(){CKEDITOR.env.gecko&&this.editor.unlockSelection(),CKEDITOR.env.webkit||(this.editor.forceNextSelectionCheck(),this.editor.selectionChange(1))}function O(e){var t=e.getSelectedHtml(!0);return e.widgets.focused?e.widgets.focused.getClipboardHtml():(e.once("toDataFormat",(function(e){e.data.widgetsCopy=!0}),null,null,-1),e.dataProcessor.toDataFormat(t))}function I(e,t){if(e.partSelectors||(e.partSelectors=e.parts),e.parts){var n,i,o={};for(i in e.partSelectors)t||!e.parts[i]||"string"==typeof e.parts[i]?(n=e.wrapper.findOne(e.partSelectors[i]),o[i]=n):o[i]=e.parts[i];e.parts=o}}function D(e){if(!0===e.mask)!function(e){var t=e.wrapper.findOne(".cke_widget_mask");t||((t=new CKEDITOR.dom.element("img",e.editor.document)).setAttributes({src:CKEDITOR.tools.transparentImageData,class:"cke_reset cke_widget_mask"}),e.wrapper.append(t)),e.mask=t}(e);else if(e.mask){var t,n,i=new CKEDITOR.tools.buffers.throttle(250,R,e),o=CKEDITOR.env.gecko?300:0;if(e.on("focus",(function(){i.input(),t=e.editor.on("change",i.input),n=e.on("blur",(function(){t.removeListener(),n.removeListener()}))})),e.editor.on("instanceReady",(function(){setTimeout((function(){i.input()}),o)})),e.editor.on("mode",(function(){setTimeout((function(){i.input()}),o)})),CKEDITOR.env.gecko){var r=e.element.find("img");CKEDITOR.tools.array.forEach(r.toArray(),(function(e){e.on("load",(function(){i.input()}))}))}for(var a in e.editables)e.editables[a].on("focus",(function(){e.editor.on("change",i.input),n&&n.removeListener()})),e.editables[a].on("blur",(function(){e.editor.removeListener("change",i.input)}));i.input()}}function R(){if(this.wrapper){this.maskPart=this.maskPart||this.mask;var e,t=this.parts[this.maskPart];if(t&&"string"!=typeof t){(e=this.wrapper.findOne(".cke_widget_partial_mask"))||((e=new CKEDITOR.dom.element("img",this.editor.document)).setAttributes({src:CKEDITOR.tools.transparentImageData,class:"cke_reset cke_widget_partial_mask"}),this.wrapper.append(e)),this.mask=e;var n=e.$,i=t.$,o=!(n.offsetTop==i.offsetTop&&n.offsetLeft==i.offsetLeft);(n.offsetWidth!=i.offsetWidth||n.offsetHeight!=i.offsetHeight||o)&&(n=t.getParent(),i=CKEDITOR.plugins.widget.isDomWidget(n),e.setStyles({top:t.$.offsetTop+(i?0:n.$.offsetTop)+"px",left:t.$.offsetLeft+(i?0:n.$.offsetLeft)+"px",width:t.$.offsetWidth+"px",height:t.$.offsetHeight+"px"}))}}}function _(e){function t(){var t;for(h.reset();t=c.pop();)t.removeListener();var n=u;t=e.sender;var i=this.repository.finder,o=this.repository.liner,r=this.editor,a=this.editor.editable();CKEDITOR.tools.isEmpty(o.visible)||(n=i.getRange(n[0]),this.focus(),r.fire("drop",{dropRange:n,target:n.startContainer})),a.removeClass("cke_widget_dragging"),o.hideVisible(),r.fire("dragend",{target:t})}if(CKEDITOR.tools.getMouseButton(e)===CKEDITOR.MOUSE_BUTTON_LEFT){var n,i,o=this.repository.finder,r=this.repository.locator,a=this.repository.liner,s=this.editor,l=s.editable(),c=[],u=[];this.repository._.draggedWidget=this;var d=o.greedySearch(),h=CKEDITOR.tools.eventsBuffer(50,(function(){n=r.locate(d),(u=r.sort(i,1)).length&&(a.prepare(d,n),a.placeLine(u[0]),a.cleanup())}));l.addClass("cke_widget_dragging"),c.push(l.on("mousemove",(function(e){i=e.data.$.clientY,h.input()}))),s.fire("dragstart",{target:e.sender}),c.push(s.document.once("mouseup",t,this)),l.isInline()||c.push(CKEDITOR.document.once("mouseup",t,this))}}function w(e){e.element.data("cke-widget-data",encodeURIComponent(JSON.stringify(e.data)))}function k(){function e(){}function n(e,t,n){return!(!n||!this.checkElement(e))&&(e=n.widgets.getByElement(e,!0))&&e.checkStyleActive(this)}function i(e){function t(e,t,n){for(var i=e.length,o=0;o<i;){if(t.call(n,e[o],o,e))return e[o];o++}}function n(e){function t(e,n){var i=CKEDITOR.tools.object.keys(e),o=CKEDITOR.tools.object.keys(n);if(i.length!==o.length)return!1;for(var r in e)if(("object"!=typeof e[r]||"object"!=typeof n[r]||!t(e[r],n[r]))&&e[r]!==n[r])return!1;return!0}return function(n){return t(e.getDefinition(),n.getDefinition())}}var i,r=e.widget;o[r]||(o[r]={});for(var a=0,s=e.group.length;a<s;a++)i=e.group[a],o[r][i]||(o[r][i]=[]),t(i=o[r][i],n(e))||i.push(e)}var o={};CKEDITOR.style.addCustomHandler({type:"widget",setup:function(e){this.widget=e.widget,(this.group="string"==typeof e.group?[e.group]:e.group)&&i(this)},apply:function(e){var t;e instanceof CKEDITOR.editor&&this.checkApplicable(e.elementPath(),e)&&(t=e.widgets.focused,this.group&&this.removeStylesFromSameGroup(e),t.applyStyle(this))},remove:function(e){e instanceof CKEDITOR.editor&&this.checkApplicable(e.elementPath(),e)&&e.widgets.focused.removeStyle(this)},removeStylesFromSameGroup:function(e){var t,n,i=!1;if(!(e instanceof CKEDITOR.editor))return!1;if(n=e.elementPath(),this.checkApplicable(n,e))for(var r=0,a=this.group.length;r<a;r++){t=o[this.widget][this.group[r]];for(var s=0;s<t.length;s++)t[s]!==this&&t[s].checkActive(n,e)&&(e.widgets.focused.removeStyle(t[s]),i=!0)}return i},checkActive:function(e,t){return this.checkElementMatch(e.lastElement,0,t)},checkApplicable:function(e,t){return t instanceof CKEDITOR.editor&&this.checkElement(e.lastElement)},checkElementMatch:n,checkElementRemovable:n,checkElement:function(e){return!!t.isDomWidgetWrapper(e)&&(e=e.getFirst(t.isDomWidgetElement))&&e.data("widget")==this.widget},buildPreview:function(e){return e||this._.definition.name},toAllowedContentRules:function(e){if(!e)return null;var t,n={};return(e=e.widgets.registered[this.widget])?e.styleableElements?(t=this.getClassesArray())?(n[e.styleableElements]={classes:t,propertiesOnly:!0},n):null:e.styleToAllowedContentRules?e.styleToAllowedContentRules(this):null:null},getClassesArray:function(){var e=this._.definition.attributes&&this._.definition.attributes.class;return e?CKEDITOR.tools.trim(e).split(/\s+/):null},applyToRange:e,removeFromRange:e,applyToObject:e})}CKEDITOR.plugins.add("widget",{requires:"lineutils,clipboard,widgetselection",onLoad:function(){void 0!==CKEDITOR.document.$.querySelectorAll&&(CKEDITOR.addCss('.cke_widget_wrapper{position:relative;outline:none}.cke_widget_inline{display:inline-block}.cke_widget_wrapper:hover>.cke_widget_element{outline:2px solid #ffd25c;cursor:default}.cke_widget_wrapper:hover .cke_widget_editable{outline:2px solid #ffd25c}.cke_widget_wrapper.cke_widget_focused>.cke_widget_element,.cke_widget_wrapper .cke_widget_editable.cke_widget_editable_focused{outline:2px solid #47a4f5}.cke_widget_editable{cursor:text}.cke_widget_drag_handler_container{position:absolute;width:15px;height:0;display:block;opacity:0.75;transition:height 0s 0.2s;line-height:0}.cke_widget_wrapper:hover>.cke_widget_drag_handler_container{height:15px;transition:none}.cke_widget_drag_handler_container:hover{opacity:1}.cke_editable[contenteditable="false"] .cke_widget_drag_handler_container{display:none;}img.cke_widget_drag_handler{cursor:move;width:15px;height:15px;display:inline-block}.cke_widget_mask{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.cke_widget_partial_mask{position:absolute;display:block}.cke_editable.cke_widget_dragging, .cke_editable.cke_widget_dragging *{cursor:move !important}'),k())},beforeInit:function(t){void 0!==CKEDITOR.document.$.querySelectorAll&&(t.widgets=new e(t))},afterInit:function(e){if(void 0!==CKEDITOR.document.$.querySelectorAll){var t,n,i,o=e.widgets.registered;for(n in o)(i=(t=o[n]).button)&&e.ui.addButton&&e.ui.addButton(CKEDITOR.tools.capitalize(t.name,!0),{label:i,command:t.name,toolbar:"insert,10"});!function(e){e.contextMenu&&e.contextMenu.addListener((function(t){if(t=e.widgets.getByElement(t,!0))return t.fire("contextMenu",{})}))}(e),function(e){e&&e.addFilterRule((function(e){return e.replace(/\s*cke_widget_selected/g,"").replace(/\s*cke_widget_focused/g,"")}))}(e.undoManager)}}}),e.prototype={MIN_SELECTION_CHECK_INTERVAL:500,add:function(e,t){var n=this.editor;if((t=CKEDITOR.tools.prototypedCopy(t)).name=e,t._=t._||{},n.fire("widgetDefinition",t),t.template&&(t.template=new CKEDITOR.template(t.template)),function(e,t){e.addCommand(t.name,{exec:function(e,n){function i(){e.widgets.finalizeCreation(s)}if((r=e.widgets.focused)&&r.name==t.name)r.edit();else if(t.insert)t.insert({editor:e,commandData:n});else if(t.template){var o,r="function"==typeof t.defaults?t.defaults():t.defaults,a=(r=CKEDITOR.dom.element.createFromHtml(t.template.output(r),e.document),e.widgets.wrapElement(r,t.name)),s=new CKEDITOR.dom.documentFragment(a.getDocument());s.append(a),(o=e.widgets.initOn(r,t,n&&n.startupData))?(r=o.once("edit",(function(t){t.data.dialog?o.once("dialog",(function(t){var n,r;t=t.data,n=t.once("ok",i,null,null,20),r=t.once("cancel",(function(t){t.data&&!1===t.data.hide||e.widgets.destroy(o,!0)})),t.once("hide",(function(){n.removeListener(),r.removeListener()}))})):i()}),null,null,999),o.edit(),r.removeListener()):i()}},allowedContent:t.allowedContent,requiredContent:t.requiredContent,contentForms:t.contentForms,contentTransformations:t.contentTransformations})}(n,t),function(e,t){function n(t,n,i){var o=CKEDITOR.tools.getIndex(e._.upcasts,(function(e){return e[2]>i}));0>o&&(o=e._.upcasts.length),e._.upcasts.splice(o,0,[CKEDITOR.tools.bind(t,n),n.name,i])}var i=t.upcast,o=t.upcastPriority||10;i&&n("string"==typeof i?function(e,n){var i,o,r=t.upcast.split(",");for(o=0;o<r.length;o++)if((i=r[o])===e.name)return t.upcasts[i].call(this,e,n);return!1}:i,t,o)}(this,t),this.registered[e]=t,t.dialog&&n.plugins.dialog)var i=CKEDITOR.on("dialogDefinition",(function(e){var o=(e=e.data.definition).dialog;e.getMode||o.getName()!==t.dialog||(e.getMode=function(){var e=o.getModel(n);return e&&e instanceof CKEDITOR.plugins.widget&&e.ready?CKEDITOR.dialog.EDITING_MODE:CKEDITOR.dialog.CREATION_MODE}),i.removeListener()}));return t},addUpcastCallback:function(e){this._.upcastCallbacks.push(e)},checkSelection:function(){if(this.editor.getSelection()){var e,n=this.editor.getSelection(),i=n.getSelectedElement(),o=g(this);if(i&&(e=this.getByElement(i,!0)))return o.focus(e).select(e).commit();if(!(n=n.getRanges()[0])||n.collapsed)return o.commit();for((n=new CKEDITOR.dom.walker(n)).evaluator=t.isDomWidgetWrapper;i=n.next();)o.select(this.getByElement(i));o.commit()}},checkWidgets:function(e){this.fire("checkWidgets",CKEDITOR.tools.copy(e||{}))},del:function(e){if(this.focused===e){var t,n=e.editor,i=n.createRange();(t=i.moveToClosestEditablePosition(e.wrapper,!0))||(t=i.moveToClosestEditablePosition(e.wrapper,!1)),t&&n.getSelection().selectRanges([i])}e.wrapper.remove(),this.destroy(e,!0)},destroy:function(e,t){this.widgetHoldingFocusedEditable===e&&f(this,e,null,t),e.destroy(t),delete this.instances[e.id],this.fire("instanceDestroyed",e)},destroyAll:function(e,t){var n,i,o=this.instances;if(t&&!e){o=(i=t.find(".cke_widget_wrapper")).count();for(var r=0;r<o;++r)(n=this.getByElement(i.getItem(r),!0))&&this.destroy(n)}else for(i in o)n=o[i],this.destroy(n,e)},finalizeCreation:function(e){(e=e.getFirst())&&t.isDomWidgetWrapper(e)&&(this.editor.insertElement(e),(e=this.getByElement(e)).ready=!0,e.fire("ready"),e.focus())},getByElement:function(){function e(e){return e.is(t)&&e.data("cke-widget-id")}var t={div:1,span:1};return function(t,n){if(!t)return null;var i=e(t);if(!n&&!i){var o=this.editor.editable();do{t=t.getParent()}while(t&&!t.equals(o)&&!(i=e(t)))}return this.instances[i]||null}}(),initOn:function(e,n,i){if(n?"string"==typeof n&&(n=this.registered[n]):n=this.registered[e.data("widget")],!n)return null;var o=this.wrapElement(e,n.name);return o?o.hasClass("cke_widget_new")?(e=new t(this,this._.nextId++,e,n,i)).isInited()?this.instances[e.id]=e:null:this.getByElement(e):null},initOnAll:function(e){for(var n,i=[],o=(e=(e||this.editor.editable()).find(".cke_widget_new")).count();o--;)(n=this.initOn(e.getItem(o).getFirst(t.isDomWidgetElement)))&&i.push(n);return i},onWidget:function(e){var t=Array.prototype.slice.call(arguments);for(var n in t.shift(),this.instances){var i=this.instances[n];i.name==e&&i.on.apply(i,t)}this.on("instanceCreated",(function(n){(n=n.data).name==e&&n.on.apply(n,t)}))},parseElementClasses:function(e){if(!e)return null;e=CKEDITOR.tools.trim(e).split(/\s+/);for(var t,n={},i=0;t=e.pop();)-1==t.indexOf("cke_")&&(n[t]=i=1);return i?n:null},wrapElement:function(e,t){var n,i,o=null;if(e instanceof CKEDITOR.dom.element){if(t=t||e.data("widget"),!(n=this.registered[t]))return null;if((o=e.getParent())&&o.type==CKEDITOR.NODE_ELEMENT&&o.data("cke-widget-wrapper"))return o;e.hasAttribute("data-cke-widget-keep-attr")||e.data("cke-widget-keep-attr",e.data("widget")?1:0),e.data("widget",t),(i=d(n,e.getName()))&&r(e),(o=new CKEDITOR.dom.element(i?"span":"div",e.getDocument())).setAttributes(c(i,t)),o.data("cke-display-name",n.pathName?n.pathName:e.getName()),e.getParent(!0)&&o.replace(e),e.appendTo(o)}else if(e instanceof CKEDITOR.htmlParser.element){if(t=t||e.attributes["data-widget"],!(n=this.registered[t]))return null;if((o=e.parent)&&o.type==CKEDITOR.NODE_ELEMENT&&o.attributes["data-cke-widget-wrapper"])return o;var a;"data-cke-widget-keep-attr"in e.attributes||(e.attributes["data-cke-widget-keep-attr"]=e.attributes["data-widget"]?1:0),t&&(e.attributes["data-widget"]=t),(i=d(n,e.name))&&r(e),(o=new CKEDITOR.htmlParser.element(i?"span":"div",c(i,t))).attributes["data-cke-display-name"]=n.pathName?n.pathName:e.name,(n=e.parent)&&(a=e.getIndex(),e.remove()),o.add(e),n&&u(n,a,o)}return o},_tests_createEditableFilter:l},CKEDITOR.event.implementOn(e.prototype),t.prototype={addClass:function(e){this.element.addClass(e),this.wrapper.addClass(t.WRAPPER_CLASS_PREFIX+e)},applyStyle:function(e){m(this,e,1)},checkStyleActive:function(e){var t;if(!(e=b(e)))return!1;for(;t=e.pop();)if(!this.hasClass(t))return!1;return!0},destroy:function(e){if(this.fire("destroy"),this.editables)for(var t in this.editables)this.destroyEditable(t,e);e||("0"==this.element.data("cke-widget-keep-attr")&&this.element.removeAttribute("data-widget"),this.element.removeAttributes(["data-cke-widget-data","data-cke-widget-keep-attr"]),this.element.removeClass("cke_widget_element"),this.element.replace(this.wrapper)),this.wrapper=null},destroyEditable:function(e,t){var n=this.editables[e],i=!0;if(n.removeListener("focus",y),n.removeListener("blur",C),this.editor.focusManager.remove(n),n.filter){for(var o in this.repository.instances){var r=this.repository.instances[o];r.editables&&(r=r.editables[e])&&r!==n&&n.filter===r.filter&&(i=!1)}i&&(n.filter.destroy(),(i=this.repository._.filters[this.name])&&delete i[e])}t||(this.repository.destroyAll(!1,n),n.removeClass("cke_widget_editable"),n.removeClass("cke_widget_editable_focused"),n.removeAttributes(["contenteditable","data-cke-widget-editable","data-cke-enter-mode"])),delete this.editables[e]},edit:function(){var e={dialog:this.dialog},t=this;return!(!1===this.fire("edit",e)||!e.dialog||(this.editor.openDialog(e.dialog,(function(e){var n,i;!1!==t.fire("dialog",e)&&(n=e.on("show",(function(){e.setupContent(t)})),i=e.on("ok",(function(){var n,i=t.on("data",(function(e){n=1,e.cancel()}),null,null,0);t.editor.fire("saveSnapshot"),e.commitContent(t),i.removeListener(),n&&(t.fire("data",t.data),t.editor.fire("saveSnapshot"))})),e.once("hide",(function(){n.removeListener(),i.removeListener()})))}),t),0))},getClasses:function(){return this.repository.parseElementClasses(this.element.getAttribute("class"))},getClipboardHtml:function(){var e=this.editor.createRange();return e.setStartBefore(this.wrapper),e.setEndAfter(this.wrapper),this.editor.editable().getHtmlFromRange(e).getHtml()},hasClass:function(e){return this.element.hasClass(e)},initEditable:function(e,t){var i=this._findOneNotNested(t.selector);return!(!i||!i.is(CKEDITOR.dtd.$editable)||(i=new n(this.editor,i,{filter:l.call(this.repository,this.name,e,t)}),this.editables[e]=i,i.setAttributes({contenteditable:"true","data-cke-widget-editable":e,"data-cke-enter-mode":i.enterMode}),i.filter&&i.data("cke-filter",i.filter.id),i.addClass("cke_widget_editable"),i.removeClass("cke_widget_editable_focused"),t.pathName&&i.data("cke-display-name",t.pathName),this.editor.focusManager.add(i),i.on("focus",y,this),CKEDITOR.env.ie&&i.on("blur",C,this),i._.initialSetData=!0,i.setData(i.getHtml()),0))},_findOneNotNested:function(e){e=this.wrapper.find(e);for(var n,i,o=0;o<e.count();o++)if(i=(n=e.getItem(o)).getAscendant(t.isDomWidgetWrapper),this.wrapper.equals(i))return n;return null},isInited:function(){return!(!this.wrapper||!this.inited)},isReady:function(){return this.isInited()&&this.ready},focus:function(){var e=this.editor.getSelection();if(e){var t=this.editor.checkDirty();e.fake(this.wrapper),!t&&this.editor.resetDirty()}this.editor.focus()},refreshMask:function(){D(this)},refreshParts:function(e){I(this,void 0===e||e)},removeClass:function(e){this.element.removeClass(e),this.wrapper.removeClass(t.WRAPPER_CLASS_PREFIX+e)},removeStyle:function(e){m(this,e,0)},setData:function(e,t){var n=this.data,i=0;if("string"==typeof e)n[e]!==t&&(n[e]=t,i=1);else{var o=e;for(e in o)n[e]!==o[e]&&(i=1,n[e]=o[e])}return i&&this.dataReady&&(w(this),this.fire("data",n)),this},setFocused:function(e){return this.wrapper[e?"addClass":"removeClass"]("cke_widget_focused"),this.fire(e?"focus":"blur"),this},setSelected:function(e){return this.wrapper[e?"addClass":"removeClass"]("cke_widget_selected"),this.fire(e?"select":"deselect"),this},updateDragHandlerPosition:function(){var e=this.editor,t=this.element.$,n=this._.dragHandlerOffset;t={x:t.offsetLeft,y:t.offsetTop-15},n&&t.x==n.x&&t.y==n.y||(n=e.checkDirty(),e.fire("lockSnapshot"),this.dragHandlerContainer.setStyles({top:t.y+"px",left:t.x+"px"}),this.dragHandlerContainer.removeStyle("display"),e.fire("unlockSnapshot"),!n&&e.resetDirty(),this._.dragHandlerOffset=t)}},CKEDITOR.event.implementOn(t.prototype),t.getNestedEditable=function(e,n){return!n||n.equals(e)?null:t.isDomNestedEditable(n)?n:t.getNestedEditable(e,n.getParent())},t.isDomDragHandler=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("data-cke-widget-drag-handler")},t.isDomDragHandlerContainer=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_widget_drag_handler_container")},t.isDomNestedEditable=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("data-cke-widget-editable")},t.isDomWidgetElement=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("data-widget")},t.isDomWidgetWrapper=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("data-cke-widget-wrapper")},t.isDomWidget=function(e){return!!e&&(this.isDomWidgetWrapper(e)||this.isDomWidgetElement(e))},t.isParserWidgetElement=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&!!e.attributes["data-widget"]},t.isParserWidgetWrapper=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&!!e.attributes["data-cke-widget-wrapper"]},t.WRAPPER_CLASS_PREFIX="cke_widget_wrapper_",n.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.dom.element.prototype),{setData:function(e){this._.initialSetData||this.editor.widgets.destroyAll(!1,this),this._.initialSetData=!1,e=this.editor.dataProcessor.unprotectRealComments(e),e=this.editor.dataProcessor.unprotectSource(e),e=this.editor.dataProcessor.toHtml(e,{context:this.getName(),filter:this.filter,enterMode:this.enterMode}),this.setHtml(e),this.editor.widgets.initOnAll(this)},getData:function(){return this.editor.dataProcessor.toDataFormat(this.getHtml(),{context:this.getName(),filter:this.filter,enterMode:this.enterMode})}});var K=/^(?:<(?:div|span)(?: data-cke-temp="1")?(?: id="cke_copybin")?(?: data-cke-temp="1")?>)?(?:<(?:div|span)(?: style="[^"]+")?>)?<span [^>]*data-cke-copybin-start="1"[^>]*>.?<\/span>([\s\S]+)<span [^>]*data-cke-copybin-end="1"[^>]*>.?<\/span>(?:<\/(?:div|span)>)?(?:<\/(?:div|span)>)?$/i,x={37:1,38:1,39:1,40:1,8:1,46:1};x[CKEDITOR.SHIFT+121]=1;var S=CKEDITOR.tools.createClass({$:function(e,t){this._.createCopyBin(e,t),this._.createListeners(t)},_:{createCopyBin:function(e){var t=e.document,n=CKEDITOR.env.edge&&16<=CKEDITOR.env.version,i=!e.blockless&&!CKEDITOR.env.ie||n?"div":"span";n=t.createElement(i),(t=t.createElement(i)).setAttributes({id:"cke_copybin","data-cke-temp":"1"}),n.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"}),n.setStyle("ltr"==e.config.contentsLangDirection?"left":"right","-5000px"),this.editor=e,this.copyBin=n,this.container=t},createListeners:function(e){e&&(e.beforeDestroy&&(this.beforeDestroy=e.beforeDestroy),e.afterDestroy&&(this.afterDestroy=e.afterDestroy))}},proto:{handle:function(e){var t,n,i,o=this.copyBin,r=this.editor,a=this.container,s=CKEDITOR.env.ie&&9>CKEDITOR.env.version,l=r.document.getDocumentElement().$,c=r.createRange(),u=this,d=CKEDITOR.env.mac&&CKEDITOR.env.webkit,h=d?100:0,f=window.requestAnimationFrame&&!d?requestAnimationFrame:setTimeout;return o.setHtml('<span data-cke-copybin-start="1">​</span>'+e+'<span data-cke-copybin-end="1">​</span>'),r.fire("lockSnapshot"),a.append(o),r.editable().append(a),t=r.on("selectionChange",E,null,null,0),n=r.widgets.on("checkSelection",E,null,null,0),s&&(i=l.scrollTop),c.selectNodeContents(o),c.select(),s&&(l.scrollTop=i),new CKEDITOR.tools.promise((function(e){f((function(){u.beforeDestroy&&u.beforeDestroy(),a.remove(),t.removeListener(),n.removeListener(),r.fire("unlockSnapshot"),u.afterDestroy&&u.afterDestroy(),e()}),h)}))}},statics:{hasCopyBin:function(e){return!!S.getCopyBin(e)},getCopyBin:function(e){return e.document.getById("cke_copybin")}}});CKEDITOR.plugins.widget=t,t.repository=e,t.nestedEditable=n}(),CKEDITOR.config.widget_keystrokeInsertLineBefore=CKEDITOR.SHIFT+CKEDITOR.ALT+13,CKEDITOR.config.widget_keystrokeInsertLineAfter=CKEDITOR.SHIFT+13,function(){function e(e,t,n){this.editor=e,this.notification=null,this._message=new CKEDITOR.template(t),this._singularMessage=n?new CKEDITOR.template(n):null,this._tasks=[],this._doneTasks=this._doneWeights=this._totalWeights=0}function t(e){this._weight=e||1,this._doneWeight=0,this._isCanceled=!1}CKEDITOR.plugins.add("notificationaggregator",{requires:"notification"}),e.prototype={createTask:function(e){e=e||{};var t,n=!this.notification;return n&&(this.notification=this._createNotification()),(t=this._addTask(e)).on("updated",this._onTaskUpdate,this),t.on("done",this._onTaskDone,this),t.on("canceled",(function(){this._removeTask(t)}),this),this.update(),n&&this.notification.show(),t},update:function(){this._updateNotification(),this.isFinished()&&this.fire("finished")},getPercentage:function(){return 0===this.getTaskCount()?1:this._doneWeights/this._totalWeights},isFinished:function(){return this.getDoneTaskCount()===this.getTaskCount()},getTaskCount:function(){return this._tasks.length},getDoneTaskCount:function(){return this._doneTasks},_updateNotification:function(){this.notification.update({message:this._getNotificationMessage(),progress:this.getPercentage()})},_getNotificationMessage:function(){var e=this.getTaskCount(),t={current:this.getDoneTaskCount(),max:e,percentage:Math.round(100*this.getPercentage())};return(1==e&&this._singularMessage?this._singularMessage:this._message).output(t)},_createNotification:function(){return new CKEDITOR.plugins.notification(this.editor,{type:"progress"})},_addTask:function(e){return e=new t(e.weight),this._tasks.push(e),this._totalWeights+=e._weight,e},_removeTask:function(e){var t=CKEDITOR.tools.indexOf(this._tasks,e);-1!==t&&(e._doneWeight&&(this._doneWeights-=e._doneWeight),this._totalWeights-=e._weight,this._tasks.splice(t,1),this.update())},_onTaskUpdate:function(e){this._doneWeights+=e.data,this.update()},_onTaskDone:function(){this._doneTasks+=1,this.update()}},CKEDITOR.event.implementOn(e.prototype),t.prototype={done:function(){this.update(this._weight)},update:function(e){if(!this.isDone()&&!this.isCanceled()){var t=(e=Math.min(this._weight,e))-this._doneWeight;this._doneWeight=e,this.fire("updated",t),this.isDone()&&this.fire("done")}},cancel:function(){this.isDone()||this.isCanceled()||(this._isCanceled=!0,this.fire("canceled"))},isDone:function(){return this._weight===this._doneWeight},isCanceled:function(){return this._isCanceled}},CKEDITOR.event.implementOn(t.prototype),CKEDITOR.plugins.notificationAggregator=e,CKEDITOR.plugins.notificationAggregator.task=t}(),CKEDITOR.plugins.add("uploadwidget",{requires:"widget,clipboard,filetools,notificationaggregator",init:function(e){e.filter.allow("*[!data-widget,!data-cke-upload-id]")},isSupportedEnvironment:function(){return CKEDITOR.plugins.clipboard.isFileApiSupported}}),CKEDITOR.fileTools||(CKEDITOR.fileTools={}),CKEDITOR.tools.extend(CKEDITOR.fileTools,{addUploadWidget:function(e,t,n){var i=CKEDITOR.fileTools,o=e.uploadRepository,r=n.supportedTypes?10:20;CKEDITOR.plugins.clipboard.addFileMatcher(e,(function(e){return!n.supportedTypes||i.isTypeSupported(e,n.supportedTypes)})),n.fileToElement&&e.on("paste",(function(n){n=n.data;var r,a,s=e.widgets.registered[t],l=n.dataTransfer,c=l.getFilesCount(),u=s.loadMethod||"loadAndUpload";if(!n.dataValue&&c)for(a=0;a<c;a++)if(r=l.getFile(a),!s.supportedTypes||i.isTypeSupported(r,s.supportedTypes)){var d=s.fileToElement(r);r=o.create(r,void 0,s.loaderType),d&&(r[u](s.uploadUrl,s.additionalRequestParameters),CKEDITOR.fileTools.markElement(d,t,r.id),"loadAndUpload"!=u&&"upload"!=u||s.skipNotifications||CKEDITOR.fileTools.bindNotifications(e,r),n.dataValue+=d.getOuterHtml())}}),null,null,r),CKEDITOR.tools.extend(n,{downcast:function(){return new CKEDITOR.htmlParser.text("")},init:function(){var t,n,i=this,r=this.wrapper.findOne("[data-cke-upload-id]").data("cke-upload-id"),a=o.loaders[r],s=CKEDITOR.tools.capitalize;a.on("update",(function(o){"abort"===a.status&&"function"==typeof i.onAbort&&i.onAbort(a),i.wrapper&&i.wrapper.getParent()?(e.fire("lockSnapshot"),o="on"+s(a.status),"abort"!==a.status&&"function"==typeof i[o]&&!1===i[o](a)||(n="cke_upload_"+a.status,i.wrapper&&n!=t&&(t&&i.wrapper.removeClass(t),i.wrapper.addClass(n),t=n),"error"!=a.status&&"abort"!=a.status||e.widgets.del(i)),e.fire("unlockSnapshot")):(CKEDITOR.instances[e.name]&&e.editable().find('[data-cke-upload-id="'+r+'"]').count()||a.abort(),o.removeListener())})),a.update()},replaceWith:function(t,n){if(""===t.trim())e.widgets.del(this);else{var i,o,r=this==e.widgets.focused,a=e.editable(),s=e.createRange();r||(o=e.getSelection().createBookmarks()),s.setStartBefore(this.wrapper),s.setEndAfter(this.wrapper),r&&(i=s.createBookmark()),a.insertHtmlIntoRange(t,s,n),e.widgets.checkWidgets({initOnlyNew:!0}),e.widgets.destroy(this,!0),r?(s.moveToBookmark(i),s.select()):e.getSelection().selectBookmarks(o)}},_getLoader:function(){var e=this.wrapper.findOne("[data-cke-upload-id]");return e?this.editor.uploadRepository.loaders[e.data("cke-upload-id")]:null}}),e.widgets.add(t,n)},markElement:function(e,t,n){e.setAttributes({"data-cke-upload-id":n,"data-widget":t})},bindNotifications:function(e,t){var n,i=null;t.on("update",(function(){!i&&t.uploadTotal&&((n=e._.uploadWidgetNotificaionAggregator)&&!n.isFinished()||(n=e._.uploadWidgetNotificaionAggregator=new CKEDITOR.plugins.notificationAggregator(e,e.lang.uploadwidget.uploadMany,e.lang.uploadwidget.uploadOne)).once("finished",(function(){var t=n.getTaskCount();0===t?n.notification.hide():n.notification.update({message:1==t?e.lang.uploadwidget.doneOne:e.lang.uploadwidget.doneMany.replace("%1",t),type:"success",important:1})})),i=n.createTask({weight:t.uploadTotal})),i&&"uploading"==t.status&&i.update(t.uploaded)})),t.on("uploaded",(function(){i&&i.done()})),t.on("error",(function(){i&&i.cancel(),e.showNotification(t.message,"warning")})),t.on("abort",(function(){i&&i.cancel(),CKEDITOR.instances[e.name]&&e.showNotification(e.lang.uploadwidget.abort,"info")}))}}),function(){function e(e){return 9>=e&&(e="0"+e),String(e)}function t(t){var i=[(i=new Date).getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds()];return n+=1,"image-"+CKEDITOR.tools.array.map(i,e).join("")+"-"+n+"."+t}var n=0;CKEDITOR.plugins.add("uploadimage",{requires:"uploadwidget",onLoad:function(){CKEDITOR.addCss(".cke_upload_uploading img{opacity: 0.3}")},isSupportedEnvironment:function(){return CKEDITOR.plugins.clipboard.isFileApiSupported},init:function(e){if(this.isSupportedEnvironment()){var n=CKEDITOR.fileTools,i=n.getUploadUrl(e.config,"image");i&&(e.config.clipboard_handleImages&&(e.config.clipboard_handleImages=!1,CKEDITOR.warn("clipboard-image-handling-disabled",{editor:e.name,plugin:"uploadimage"})),n.addUploadWidget(e,"uploadimage",{supportedTypes:/image\/(jpeg|png|gif|bmp)/,uploadUrl:i,fileToElement:function(){var e=new CKEDITOR.dom.element("img");return e.setAttribute("src","data:image/gif;base64,R0lGODlhDgAOAIAAAAAAAP///yH5BAAAAAAALAAAAAAOAA4AAAIMhI+py+0Po5y02qsKADs="),e},parts:{img:"img"},onUploading:function(e){this.parts.img.setAttribute("src",e.data)},onUploaded:function(e){var t=this.parts.img.$;this.replaceWith('<img src="'+e.url+'" width="'+(e.responseData.width||t.naturalWidth)+'" height="'+(e.responseData.height||t.naturalHeight)+'">')}}),e.on("paste",(function(o){if(o.data.dataValue.match(/<img[\s\S]+data:/i)){o=o.data;var r,a,s,l=document.implementation.createHTMLDocument("");for((l=new CKEDITOR.dom.element(l.body)).data("cke-editable",1),l.appendHtml(o.dataValue),r=l.find("img"),s=0;s<r.count();s++){var c=(a=r.getItem(s)).getAttribute("src"),u=c&&"data:"==c.substring(0,5),d=null===a.data("cke-realelement");u&&d&&!a.data("cke-upload-id")&&!a.isReadOnly(1)&&(u=(u=c.match(/image\/([a-z]+?);/i))&&u[1]||"jpg",(c=e.uploadRepository.create(c,t(u))).upload(i),n.markElement(a,"uploadimage",c.id),n.bindNotifications(e,c))}o.dataValue=l.getHtml()}})))}}})}(),function(){function e(e){function t(e){var t=!1;a.attachListener(a,"keydown",(function(){var n=i.getBody().getElementsByTag(e);if(!t){for(var o=0;o<n.count();o++)n.getItem(o).setCustomData("retain",!0);t=!0}}),null,null,1),a.attachListener(a,"keyup",(function(){var n=i.getElementsByTag(e);t&&(1==n.count()&&!n.getItem(0).getCustomData("retain")&&CKEDITOR.tools.isEmpty(n.getItem(0).getAttributes())&&n.getItem(0).remove(1),t=!1)}))}var n=this.editor;if(n&&!n.isDetached()){var i=e.document,o=i.body,r=i.getElementById("cke_actscrpt");r&&r.parentNode.removeChild(r),(r=i.getElementById("cke_shimscrpt"))&&r.parentNode.removeChild(r),(r=i.getElementById("cke_basetagscrpt"))&&r.parentNode.removeChild(r),o.contentEditable=!0,CKEDITOR.env.ie&&(o.hideFocus=!0,o.disabled=!0,o.removeAttribute("disabled")),delete this._.isLoadingData,this.$=o,i=new CKEDITOR.dom.document(i),this.setup(),this.fixInitialSelection();var a=this;CKEDITOR.env.ie&&!CKEDITOR.env.edge&&i.getDocumentElement().addClass(i.$.compatMode),CKEDITOR.env.ie&&!CKEDITOR.env.edge&&n.enterMode!=CKEDITOR.ENTER_P?t("p"):CKEDITOR.env.edge&&15>CKEDITOR.env.version&&n.enterMode!=CKEDITOR.ENTER_DIV&&t("div"),(CKEDITOR.env.webkit||CKEDITOR.env.ie&&10<CKEDITOR.env.version)&&i.getDocumentElement().on("mousedown",(function(e){e.data.getTarget().is("html")&&setTimeout((function(){n.editable().focus()}))})),function(e){function t(){var t;e.editable().attachListener(e,"selectionChange",(function(){var i=e.getSelection().getSelectedElement();i&&(t&&(t.detachEvent("onresizestart",n),t=null),i.$.attachEvent("onresizestart",n),t=i.$)}))}function n(e){e.returnValue=!1}if(CKEDITOR.env.gecko)try{var i=e.document.$;i.execCommand("enableObjectResizing",!1,!e.config.disableObjectResizing),i.execCommand("enableInlineTableEditing",!1,!e.config.disableNativeTableHandles)}catch(e){}else CKEDITOR.env.ie&&11>CKEDITOR.env.version&&e.config.disableObjectResizing&&t()}(n);try{n.document.$.execCommand("2D-position",!1,!0)}catch(e){}(CKEDITOR.env.gecko||CKEDITOR.env.ie&&"CSS1Compat"==n.document.$.compatMode)&&this.attachListener(this,"keydown",(function(e){var t=e.data.getKeystroke();if(33==t||34==t)if(CKEDITOR.env.ie)setTimeout((function(){n.getSelection().scrollIntoView()}),0);else if(n.window.$.innerHeight>this.$.offsetHeight){var i=n.createRange();i[33==t?"moveToElementEditStart":"moveToElementEditEnd"](this),i.select(),e.data.preventDefault()}})),CKEDITOR.env.ie&&this.attachListener(i,"blur",(function(){try{i.$.selection.empty()}catch(e){}})),CKEDITOR.env.iOS&&this.attachListener(i,"touchend",(function(){e.focus()})),(o=n.document.getElementsByTag("title").getItem(0)).data("cke-title",o.getText()),CKEDITOR.env.ie&&(n.document.$.title=this._.docTitle),CKEDITOR.tools.setTimeout((function(){"unloaded"==this.status&&(this.status="ready"),n.fire("contentDom"),this._.isPendingFocus&&(n.focus(),this._.isPendingFocus=!1),setTimeout((function(){n.fire("dataReady")}),0)}),0,this)}}var t;CKEDITOR.plugins.add("wysiwygarea",{init:function(e){e.config.fullPage&&e.addFeature({allowedContent:"html head title; style [media,type]; body (*)[id]; meta link [*]",requiredContent:"body"}),e.addMode("wysiwyg",(function(n){function i(i){i&&i.removeListener(),e.isDestroyed()||e.isDetached()||(e.editable(new t(e,s.getFrameDocument().getBody())),e.setData(e.getData(1),n),!p)||(f&&e.on("mode",o,{iframe:s,editor:e,callback:n}),e.on("mode",(function(){e.status="ready"})),c=new MutationObserver((function(t){for(var n=0;n<t.length;n++){var i=t[n];if("childList"===i.type&&0!==i.addedNodes.length)for(var o=0;o<i.addedNodes.length;o++){var a=i.addedNodes[o];a.contains&&a.contains(e.container.$)&&(f?h=!0:r())}}})),c.observe(e.config.observableParent,{childList:!0,subtree:!0}))}function o(e){e&&e.removeListener(),s.on("load",(function(){h&&(h=!1,r())}))}function r(){var i,o=e.getData(!1);e.editable().preserveIframe=!0,e.editable(null),i=new t(e,s.getFrameDocument().getBody()),e.editable(i),e.status="recreating",e.setData(o,{callback:n,internal:!1,noSnapshot:!1})}var a="document.open();"+(CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"")+"document.close();",s=(a=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent(a)+"}())":"",CKEDITOR.dom.element.createFromHtml('<iframe src="'+a+'" frameBorder="0"></iframe>'));s.setStyles({width:"100%",height:"100%"}),s.addClass("cke_wysiwyg_frame").addClass("cke_reset"),(a=e.ui.space("contents")).append(s);var l=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.gecko;l&&s.on("load",i);var c,u=e.title,d=e.fire("ariaEditorHelpLabel",{}).label,h=!1,f=CKEDITOR.env.ie&&11===CKEDITOR.env.version,p=!!window.MutationObserver;if(u&&(CKEDITOR.env.ie&&d&&(u+=", "+d),s.setAttribute("title",u)),d){u=CKEDITOR.tools.getNextId();var g=CKEDITOR.dom.element.createFromHtml('<span id="'+u+'" class="cke_voice_label">'+d+"</span>");a.append(g,1),s.setAttribute("aria-describedby",u)}e.on("beforeModeUnload",(function(e){e.removeListener(),g&&g.remove(),p&&c.disconnect()})),e.on("destroy",(function(){c&&c.disconnect()})),s.setAttributes({tabIndex:e.tabIndex,allowTransparency:"true"}),!l&&i(),e.fire("ariaWidget",s)}))}}),CKEDITOR.editor.prototype.addContentsCss=function(e){var t=this.config,n=t.contentsCss;CKEDITOR.tools.isArray(n)||(t.contentsCss=n?[n]:[]),t.contentsCss.push(e)},t=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments),this._.frameLoadedHandler=CKEDITOR.tools.addFunction((function(t){CKEDITOR.tools.setTimeout(e,0,this,t)}),this),this._.docTitle=this.getWindow().getFrame().getAttribute("title")||" "},base:CKEDITOR.editable,proto:{preserveIframe:!1,setData:function(e,t){var n=this.editor;if(t)this.setHtml(e),this.fixInitialSelection(),n.fire("dataReady");else{this._.isLoadingData=!0,n._.dataStore={id:1};var i=n.config,o=i.fullPage,r=i.docType,a=CKEDITOR.tools.buildStyleHtml(function(){var e=[];if(8<=CKEDITOR.document.$.documentMode){e.push("html.CSS1Compat [contenteditable=false]{min-height:0 !important}");var t,n=[];for(t in CKEDITOR.dtd.$removeEmpty)n.push("html.CSS1Compat "+t+"[contenteditable=false]");e.push(n.join(",")+"{display:inline-block}")}else CKEDITOR.env.gecko&&(e.push("html{height:100% !important}"),e.push("img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"));return e.push("html{cursor:text;*cursor:auto}"),e.push("img,input,textarea{cursor:default}"),e.join("\n")}()).replace(/<style>/,'<style data-cke-temp="1">');o||(a+=CKEDITOR.tools.buildStyleHtml(n.config.contentsCss));var s=i.baseHref?'<base href="'+i.baseHref+'" data-cke-temp="1" />':"";o&&(e=e.replace(/<!DOCTYPE[^>]*>/i,(function(e){return n.docType=r=e,""})).replace(/<\?xml\s[^\?]*\?>/i,(function(e){return n.xmlDeclaration=e,""}))),e=n.dataProcessor.toHtml(e),o?(/<body[\s|>]/.test(e)||(e="<body>"+e),/<html[\s|>]/.test(e)||(e="<html>"+e+"</html>"),/<head[\s|>]/.test(e)?/<title[\s|>]/.test(e)||(e=e.replace(/<head[^>]*>/,"$&<title></title>")):e=e.replace(/<html[^>]*>/,"$&<head><title></title></head>"),s&&(e=e.replace(/<head[^>]*?>/,"$&"+s)),e=e.replace(/<\/head\s*>/,a+"$&"),e=r+e):e=i.docType+'<html dir="'+i.contentsLangDirection+'" lang="'+(i.contentsLanguage||n.langCode)+'"><head><title>'+this._.docTitle+"</title>"+s+a+"</head><body"+(i.bodyId?' id="'+i.bodyId+'"':"")+(i.bodyClass?' class="'+i.bodyClass+'"':"")+">"+e+"</body></html>",CKEDITOR.env.gecko&&(e=e.replace(/<body/,'<body contenteditable="true" '),2e4>CKEDITOR.env.version&&(e=e.replace(/<body[^>]*>/,"$&\x3c!-- cke-content-start --\x3e"))),e=e.replace(/<body/,'<body role="textbox" aria-multiline="true"'),n.title&&(e=e.replace(/<body/,'<body aria-label="'+CKEDITOR.tools.htmlEncodeAttr(n.title)+'"')),CKEDITOR.env.gecko||(e=e.replace("<body",'<body tabindex="0" ')),i='<script id="cke_actscrpt" type="text/javascript"'+(CKEDITOR.env.ie?' defer="defer" ':"")+">var wasLoaded=0;function onload(){if(!wasLoaded)window.parent.CKEDITOR && window.parent.CKEDITOR.tools.callFunction("+this._.frameLoadedHandler+",window);wasLoaded=1;}"+(CKEDITOR.env.ie?"onload();":'document.addEventListener("DOMContentLoaded", onload, false );')+"<\/script>",CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(i+='<script id="cke_shimscrpt">window.parent.CKEDITOR.tools.enableHtml5Elements(document)<\/script>'),s&&CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(i+='<script id="cke_basetagscrpt">var baseTag = document.querySelector( "base" );baseTag.href = baseTag.href;<\/script>'),e=e.replace(/(?=\s*<\/(:?head)>)/,i),this.clearCustomData(),this.clearListeners(),n.fire("contentDomUnload");var l=this.getDocument();try{l.write(e)}catch(t){setTimeout((function(){l.write(e)}),0)}}},getData:function(e){if(e)return this.getHtml();var t=(e=this.editor).config,n=t.fullPage,i=n&&e.docType,o=n&&e.xmlDeclaration,r=this.getDocument();return r=n?r.getDocumentElement().getOuterHtml():r.getBody().getHtml(),CKEDITOR.env.gecko&&t.enterMode!=CKEDITOR.ENTER_BR&&(r=r.replace(/<br>(?=\s*(:?$|<\/body>))/,"")),n&&(r=r.replace(/<body(.*?)role="?textbox"?/i,"<body$1").replace(/<body(.*?)aria-multiline="?true"?/i,"<body$1").replace(/<body(.*?)tabindex="?0"?/i,"<body$1").replace(/<body(.*?)aria-label="(.+?)"/i,"<body$1").replace(/<body(.*?)aria-readonly="?(?:true|false)"?/i,"<body$1")),r=e.dataProcessor.toDataFormat(r),o&&(r=o+"\n"+r),i&&(r=i+"\n"+r),r},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:t.baseProto.focus.call(this)},detach:function(){if(!this.preserveIframe){var e=(n=this.editor).document,n=n.container.findOne("iframe.cke_wysiwyg_frame");t.baseProto.detach.call(this),this.clearCustomData(this._.expandoNumber),e.getDocumentElement().clearCustomData(),CKEDITOR.tools.removeFunction(this._.frameLoadedHandler),n&&(n.clearCustomData(),(e=n.removeCustomData("onResize"))&&e.removeListener(),n.isDetached()||n.remove())}}}})}(),CKEDITOR.config.disableObjectResizing=!1,CKEDITOR.config.disableNativeTableHandles=!0,CKEDITOR.config.disableNativeSpellChecker=!0,CKEDITOR.config.observableParent=CKEDITOR.document.$,CKEDITOR.config.plugins="dialogui,dialog,a11yhelp,about,basicstyles,blockquote,notification,button,toolbar,clipboard,panel,floatpanel,menu,contextmenu,elementspath,indent,indentlist,list,enterkey,entities,popup,filetools,filebrowser,floatingspace,listblock,richcombo,format,horizontalrule,htmlwriter,image,fakeobjects,link,magicline,maximize,xml,ajax,pastetools,pastefromgdocs,pastefromlibreoffice,pastefromword,pastetext,removeformat,resize,menubutton,scayt,showborders,sourcearea,specialchar,stylescombo,tab,table,tabletools,tableselection,undo,lineutils,widgetselection,widget,notificationaggregator,uploadwidget,uploadimage,wysiwygarea",CKEDITOR.config.skin="moono-lisa",function(){var e=function(e,t){var n=CKEDITOR.getUrl("plugins/"+t);e=e.split(",");for(var i=0;i<e.length;i++)CKEDITOR.skin.icons[e[i]]={path:n,offset:-e[++i],bgsize:e[++i]}};CKEDITOR.env.hidpi?e("about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,codesnippet,384,,bgcolor,408,,textcolor,432,,copyformatting,456,,creatediv,480,,docprops-rtl,504,,docprops,528,,easyimagealigncenter,552,,easyimagealignleft,576,,easyimagealignright,600,,easyimagealt,624,,easyimagefull,648,,easyimageside,672,,easyimageupload,696,,embed,720,,embedsemantic,744,,emojipanel,768,,exportpdf,792,,find-rtl,816,,find,840,,replace,864,,button,888,,checkbox,912,,form,936,,hiddenfield,960,,imagebutton,984,,radio,1008,,select-rtl,1032,,select,1056,,textarea-rtl,1080,,textarea,1104,,textfield-rtl,1128,,textfield,1152,,horizontalrule,1176,,iframe,1200,,image,1224,,indent-rtl,1248,,indent,1272,,outdent-rtl,1296,,outdent,1320,,justifyblock,1344,,justifycenter,1368,,justifyleft,1392,,justifyright,1416,,language,1440,,anchor-rtl,1464,,anchor,1488,,link,1512,,unlink,1536,,bulletedlist-rtl,1560,,bulletedlist,1584,,numberedlist-rtl,1608,,numberedlist,1632,,mathjax,1656,,maximize,1680,,newpage-rtl,1704,,newpage,1728,,pagebreak-rtl,1752,,pagebreak,1776,,pastefromword-rtl,1800,,pastefromword,1824,,pastetext-rtl,1848,,pastetext,1872,,placeholder,1896,,preview-rtl,1920,,preview,1944,,print,1968,,removeformat,1992,,save,2016,,scayt,2040,,selectall,2064,,showblocks-rtl,2088,,showblocks,2112,,smiley,2136,,source-rtl,2160,,source,2184,,sourcedialog-rtl,2208,,sourcedialog,2232,,specialchar,2256,,table,2280,,templates-rtl,2304,,templates,2328,,uicolor,2352,,redo-rtl,2376,,redo,2400,,undo-rtl,2424,,undo,2448,,simplebox,4944,auto","icons_hidpi.png"):e("about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,codesnippet,384,auto,bgcolor,408,auto,textcolor,432,auto,copyformatting,456,auto,creatediv,480,auto,docprops-rtl,504,auto,docprops,528,auto,easyimagealigncenter,552,auto,easyimagealignleft,576,auto,easyimagealignright,600,auto,easyimagealt,624,auto,easyimagefull,648,auto,easyimageside,672,auto,easyimageupload,696,auto,embed,720,auto,embedsemantic,744,auto,emojipanel,768,auto,exportpdf,792,auto,find-rtl,816,auto,find,840,auto,replace,864,auto,button,888,auto,checkbox,912,auto,form,936,auto,hiddenfield,960,auto,imagebutton,984,auto,radio,1008,auto,select-rtl,1032,auto,select,1056,auto,textarea-rtl,1080,auto,textarea,1104,auto,textfield-rtl,1128,auto,textfield,1152,auto,horizontalrule,1176,auto,iframe,1200,auto,image,1224,auto,indent-rtl,1248,auto,indent,1272,auto,outdent-rtl,1296,auto,outdent,1320,auto,justifyblock,1344,auto,justifycenter,1368,auto,justifyleft,1392,auto,justifyright,1416,auto,language,1440,auto,anchor-rtl,1464,auto,anchor,1488,auto,link,1512,auto,unlink,1536,auto,bulletedlist-rtl,1560,auto,bulletedlist,1584,auto,numberedlist-rtl,1608,auto,numberedlist,1632,auto,mathjax,1656,auto,maximize,1680,auto,newpage-rtl,1704,auto,newpage,1728,auto,pagebreak-rtl,1752,auto,pagebreak,1776,auto,pastefromword-rtl,1800,auto,pastefromword,1824,auto,pastetext-rtl,1848,auto,pastetext,1872,auto,placeholder,1896,auto,preview-rtl,1920,auto,preview,1944,auto,print,1968,auto,removeformat,1992,auto,save,2016,auto,scayt,2040,auto,selectall,2064,auto,showblocks-rtl,2088,auto,showblocks,2112,auto,smiley,2136,auto,source-rtl,2160,auto,source,2184,auto,sourcedialog-rtl,2208,auto,sourcedialog,2232,auto,specialchar,2256,auto,table,2280,auto,templates-rtl,2304,auto,templates,2328,auto,uicolor,2352,auto,redo-rtl,2376,auto,redo,2400,auto,undo-rtl,2424,auto,undo,2448,auto,simplebox,2472,auto","icons.png")}())},9341:(e,t,n)=>{"use strict";var i=n(47293);e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){return 1},1)}))}},41589:(e,t,n)=>{var i=n(51400),o=n(26244),r=n(86135),a=Array,s=Math.max;e.exports=function(e,t,n){for(var l=o(e),c=i(t,l),u=i(void 0===n?l:n,l),d=a(s(u-c,0)),h=0;c<u;c++,h++)r(d,h,e[c]);return d.length=h,d}},94362:(e,t,n)=>{var i=n(41589),o=Math.floor,r=function(e,t){var n=e.length,l=o(n/2);return n<8?a(e,t):s(e,r(i(e,0,l),t),r(i(e,l),t),t)},a=function(e,t){for(var n,i,o=e.length,r=1;r<o;){for(i=r,n=e[r];i&&t(e[i-1],n)>0;)e[i]=e[--i];i!==r++&&(e[i]=n)}return e},s=function(e,t,n,i){for(var o=t.length,r=n.length,a=0,s=0;a<o||s<r;)e[a+s]=a<o&&s<r?i(t[a],n[s])<=0?t[a++]:n[s++]:a<o?t[a++]:n[s++];return e};e.exports=r},86135:(e,t,n)=>{"use strict";var i=n(34948),o=n(3070),r=n(79114);e.exports=function(e,t,n){var a=i(t);a in e?o.f(e,a,r(0,n)):e[a]=n}},85117:(e,t,n)=>{"use strict";var i=n(66330),o=TypeError;e.exports=function(e,t){if(!delete e[t])throw o("Cannot delete property "+i(t)+" of "+i(e))}},68886:(e,t,n)=>{var i=n(88113).match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},30256:(e,t,n)=>{var i=n(88113);e.exports=/MSIE|Trident/.test(i)},98008:(e,t,n)=>{var i=n(88113).match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},41340:(e,t,n)=>{var i=n(70648),o=String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},2707:(e,t,n)=>{"use strict";var i=n(82109),o=n(1702),r=n(19662),a=n(47908),s=n(26244),l=n(85117),c=n(41340),u=n(47293),d=n(94362),h=n(9341),f=n(68886),p=n(30256),g=n(7392),m=n(98008),E=[],v=o(E.sort),T=o(E.push),b=u((function(){E.sort(void 0)})),C=u((function(){E.sort(null)})),y=h("sort"),O=!u((function(){if(g)return g<70;if(!(f&&f>3)){if(p)return!0;if(m)return m<603;var e,t,n,i,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)E.push({k:t+i,v:n})}for(E.sort((function(e,t){return t.v-e.v})),i=0;i<E.length;i++)t=E[i].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));i({target:"Array",proto:!0,forced:b||!C||!y||!O},{sort:function(e){void 0!==e&&r(e);var t=a(this);if(O)return void 0===e?v(t):v(t,e);var n,i,o=[],u=s(t);for(i=0;i<u;i++)i in t&&T(o,t[i]);for(d(o,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:c(t)>c(n)?1:-1}}(e)),n=s(o),i=0;i<n;)t[i]=o[i++];for(;i<u;)l(t,i++);return t}})},68309:(e,t,n)=>{var i=n(19781),o=n(76530).EXISTS,r=n(1702),a=n(3070).f,s=Function.prototype,l=r(s.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=r(c.exec);i&&!o&&a(s,"name",{configurable:!0,get:function(){try{return u(c,l(this))[1]}catch(e){return""}}})},19755:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(i,o){"use strict";var r=[],a=Object.getPrototypeOf,s=r.slice,l=r.flat?function(e){return r.flat.call(e)}:function(e){return r.concat.apply([],e)},c=r.push,u=r.indexOf,d={},h=d.toString,f=d.hasOwnProperty,p=f.toString,g=p.call(Object),m={},E=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},v=function(e){return null!=e&&e===e.window},T=i.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function C(e,t,n){var i,o,r=(n=n||T).createElement("script");if(r.text=e,t)for(i in b)(o=t[i]||t.getAttribute&&t.getAttribute(i))&&r.setAttribute(i,o);n.head.appendChild(r).parentNode.removeChild(r)}function y(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[h.call(e)]||"object":typeof e}var O="3.6.1",I=function(e,t){return new I.fn.init(e,t)};function D(e){var t=!!e&&"length"in e&&e.length,n=y(e);return!E(e)&&!v(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}I.fn=I.prototype={jquery:O,constructor:I,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=I.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return I.each(this,e)},map:function(e){return this.pushStack(I.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(I.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(I.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:r.sort,splice:r.splice},I.extend=I.fn.extend=function(){var e,t,n,i,o,r,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||E(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)i=e[t],"__proto__"!==t&&a!==i&&(c&&i&&(I.isPlainObject(i)||(o=Array.isArray(i)))?(n=a[t],r=o&&!Array.isArray(n)?[]:o||I.isPlainObject(n)?n:{},o=!1,a[t]=I.extend(c,r,i)):void 0!==i&&(a[t]=i));return a},I.extend({expando:"jQuery"+(O+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==h.call(e))&&(!(t=a(e))||"function"==typeof(n=f.call(t,"constructor")&&t.constructor)&&p.call(n)===g)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){C(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(D(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(D(Object(e))?I.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i=[],o=0,r=e.length,a=!n;o<r;o++)!t(e[o],o)!==a&&i.push(e[o]);return i},map:function(e,t,n){var i,o,r=0,a=[];if(D(e))for(i=e.length;r<i;r++)null!=(o=t(e[r],r,n))&&a.push(o);else for(r in e)null!=(o=t(e[r],r,n))&&a.push(o);return l(a)},guid:1,support:m}),"function"==typeof Symbol&&(I.fn[Symbol.iterator]=r[Symbol.iterator]),I.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){d["[object "+t+"]"]=t.toLowerCase()}));var R=function(e){var t,n,i,o,r,a,s,l,c,u,d,h,f,p,g,m,E,v,T,b="sizzle"+1*new Date,C=e.document,y=0,O=0,I=le(),D=le(),R=le(),_=le(),w=function(e,t){return e===t&&(d=!0),0},k={}.hasOwnProperty,K=[],x=K.pop,S=K.push,N=K.push,A=K.slice,L=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",$="(?:\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",B="\\["+F+"*("+$+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+$+"))|)"+F+"*\\]",M=":("+$+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",H=new RegExp(F+"+","g"),j=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),q=new RegExp("^"+F+"*,"+F+"*"),U=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),z=new RegExp(F+"|>"),V=new RegExp(M),W=new RegExp("^"+$+"$"),G={ID:new RegExp("^#("+$+")"),CLASS:new RegExp("^\\.("+$+")"),TAG:new RegExp("^("+$+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+M),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){h()},ae=be((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{N.apply(K=A.call(C.childNodes),C.childNodes),K[C.childNodes.length].nodeType}catch(e){N={apply:K.length?function(e,t){S.apply(e,A.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function se(e,t,i,o){var r,s,c,u,d,p,E,v=t&&t.ownerDocument,C=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==C&&9!==C&&11!==C)return i;if(!o&&(h(t),t=t||f,g)){if(11!==C&&(d=Q.exec(e)))if(r=d[1]){if(9===C){if(!(c=t.getElementById(r)))return i;if(c.id===r)return i.push(c),i}else if(v&&(c=v.getElementById(r))&&T(t,c)&&c.id===r)return i.push(c),i}else{if(d[2])return N.apply(i,t.getElementsByTagName(e)),i;if((r=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return N.apply(i,t.getElementsByClassName(r)),i}if(n.qsa&&!_[e+" "]&&(!m||!m.test(e))&&(1!==C||"object"!==t.nodeName.toLowerCase())){if(E=e,v=t,1===C&&(z.test(e)||U.test(e))){for((v=ee.test(e)&&Ee(t.parentNode)||t)===t&&n.scope||((u=t.getAttribute("id"))?u=u.replace(ie,oe):t.setAttribute("id",u=b)),s=(p=a(e)).length;s--;)p[s]=(u?"#"+u:":scope")+" "+Te(p[s]);E=p.join(",")}try{return N.apply(i,v.querySelectorAll(E)),i}catch(t){_(e,!0)}finally{u===b&&t.removeAttribute("id")}}}return l(e.replace(j,"$1"),t,i,o)}function le(){var e=[];return function t(n,o){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=o}}function ce(e){return e[b]=!0,e}function ue(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),o=n.length;o--;)i.attrHandle[n[o]]=t}function he(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return ce((function(t){return t=+t,ce((function(n,i){for(var o,r=e([],n.length,t),a=r.length;a--;)n[o=r[a]]&&(n[o]=!(i[o]=n[o]))}))}))}function Ee(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},r=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!X.test(t||n&&n.nodeName||"HTML")},h=se.setDocument=function(e){var t,o,a=e?e.ownerDocument||e:C;return a!=f&&9===a.nodeType&&a.documentElement?(p=(f=a).documentElement,g=!r(f),C!=f&&(o=f.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",re,!1):o.attachEvent&&o.attachEvent("onunload",re)),n.scope=ue((function(e){return p.appendChild(e).appendChild(f.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=ue((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ue((function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(f.getElementsByClassName),n.getById=ue((function(e){return p.appendChild(e).id=b,!f.getElementsByName||!f.getElementsByName(b).length})),n.getById?(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,i,o,r=t.getElementById(e);if(r){if((n=r.getAttributeNode("id"))&&n.value===e)return[r];for(o=t.getElementsByName(e),i=0;r=o[i++];)if((n=r.getAttributeNode("id"))&&n.value===e)return[r]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},E=[],m=[],(n.qsa=J.test(f.querySelectorAll))&&(ue((function(e){var t;p.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+F+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+b+"-]").length||m.push("~="),(t=f.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\["+F+"*name"+F+"*="+F+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")})),ue((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+F+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=J.test(v=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ue((function(e){n.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),E.push("!=",M)})),m=m.length&&new RegExp(m.join("|")),E=E.length&&new RegExp(E.join("|")),t=J.test(p.compareDocumentPosition),T=t||J.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},w=t?function(e,t){if(e===t)return d=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e==f||e.ownerDocument==C&&T(C,e)?-1:t==f||t.ownerDocument==C&&T(C,t)?1:u?L(u,e)-L(u,t):0:4&i?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,i=0,o=e.parentNode,r=t.parentNode,a=[e],s=[t];if(!o||!r)return e==f?-1:t==f?1:o?-1:r?1:u?L(u,e)-L(u,t):0;if(o===r)return he(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?he(a[i],s[i]):a[i]==C?-1:s[i]==C?1:0},f):f},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(h(e),n.matchesSelector&&g&&!_[t+" "]&&(!E||!E.test(t))&&(!m||!m.test(t)))try{var i=v.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){_(t,!0)}return se(t,f,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=f&&h(e),T(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=f&&h(e);var o=i.attrHandle[t.toLowerCase()],r=o&&k.call(i.attrHandle,t.toLowerCase())?o(e,t,!g):void 0;return void 0!==r?r:n.attributes||!g?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(ie,oe)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,i=[],o=0,r=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(w),d){for(;t=e[r++];)t===e[r]&&(o=i.push(r));for(;o--;)e.splice(i[o],1)}return u=null,e},o=se.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=o(t);return n},i=se.selectors={cacheLength:50,createPseudo:ce,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=I[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&I(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var o=se.attr(i,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(H," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,o){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,f,p,g=r!==a?"nextSibling":"previousSibling",m=t.parentNode,E=s&&t.nodeName.toLowerCase(),v=!l&&!s,T=!1;if(m){if(r){for(;g;){for(h=t;h=h[g];)if(s?h.nodeName.toLowerCase()===E:1===h.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&v){for(T=(f=(c=(u=(d=(h=m)[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===y&&c[1])&&c[2],h=f&&m.childNodes[f];h=++f&&h&&h[g]||(T=f=0)||p.pop();)if(1===h.nodeType&&++T&&h===t){u[e]=[y,f,T];break}}else if(v&&(T=f=(c=(u=(d=(h=t)[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===y&&c[1]),!1===T)for(;(h=++f&&h&&h[g]||(T=f=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==E:1!==h.nodeType)||!++T||(v&&((u=(d=h[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[y,T]),h!==t)););return(T-=o)===i||T%i==0&&T/i>=0}}},PSEUDO:function(e,t){var n,o=i.pseudos[e]||i.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return o[b]?o(t):o.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var i,r=o(e,t),a=r.length;a--;)e[i=L(e,r[a])]=!(n[i]=r[a])})):function(e){return o(e,0,n)}):o}},pseudos:{not:ce((function(e){var t=[],n=[],i=s(e.replace(j,"$1"));return i[b]?ce((function(e,t,n,o){for(var r,a=i(e,null,o,[]),s=e.length;s--;)(r=a[s])&&(e[s]=!(t[s]=r))})):function(e,o,r){return t[0]=e,i(t,null,r,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return se(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||o(t)).indexOf(e)>-1}})),lang:ce((function(e){return W.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me((function(){return[0]})),last:me((function(e,t){return[t-1]})),eq:me((function(e,t,n){return[n<0?n+t:n]})),even:me((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:me((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:me((function(e,t,n){for(var i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e})),gt:me((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}},i.pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=pe(t);function ve(){}function Te(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function be(e,t,n){var i=t.dir,o=t.next,r=o||i,a=n&&"parentNode"===r,s=O++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,l){var c,u,d,h=[y,s];if(l){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(u=(d=t[b]||(t[b]={}))[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=u[r])&&c[0]===y&&c[1]===s)return h[2]=c[2];if(u[r]=h,h[2]=e(t,n,l))return!0}return!1}}function Ce(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function ye(e,t,n,i,o){for(var r,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(r=e[s])&&(n&&!n(r,i,o)||(a.push(r),c&&t.push(s)));return a}function Oe(e,t,n,i,o,r){return i&&!i[b]&&(i=Oe(i)),o&&!o[b]&&(o=Oe(o,r)),ce((function(r,a,s,l){var c,u,d,h=[],f=[],p=a.length,g=r||function(e,t,n){for(var i=0,o=t.length;i<o;i++)se(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),m=!e||!r&&t?g:ye(g,h,e,s,l),E=n?o||(r?e:p||i)?[]:a:m;if(n&&n(m,E,s,l),i)for(c=ye(E,f),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(E[f[u]]=!(m[f[u]]=d));if(r){if(o||e){if(o){for(c=[],u=E.length;u--;)(d=E[u])&&c.push(m[u]=d);o(null,E=[],c,l)}for(u=E.length;u--;)(d=E[u])&&(c=o?L(r,d):h[u])>-1&&(r[c]=!(a[c]=d))}}else E=ye(E===a?E.splice(p,E.length):E),o?o(null,a,E,l):N.apply(a,E)}))}function Ie(e){for(var t,n,o,r=e.length,a=i.relative[e[0].type],s=a||i.relative[" "],l=a?1:0,u=be((function(e){return e===t}),s,!0),d=be((function(e){return L(t,e)>-1}),s,!0),h=[function(e,n,i){var o=!a&&(i||n!==c)||((t=n).nodeType?u(e,n,i):d(e,n,i));return t=null,o}];l<r;l++)if(n=i.relative[e[l].type])h=[be(Ce(h),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[b]){for(o=++l;o<r&&!i.relative[e[o].type];o++);return Oe(l>1&&Ce(h),l>1&&Te(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(j,"$1"),n,l<o&&Ie(e.slice(l,o)),o<r&&Ie(e=e.slice(o)),o<r&&Te(e))}h.push(n)}return Ce(h)}return ve.prototype=i.filters=i.pseudos,i.setFilters=new ve,a=se.tokenize=function(e,t){var n,o,r,a,s,l,c,u=D[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=i.preFilter;s;){for(a in n&&!(o=q.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),n=!1,(o=U.exec(s))&&(n=o.shift(),r.push({value:n,type:o[0].replace(j," ")}),s=s.slice(n.length)),i.filter)!(o=G[a].exec(s))||c[a]&&!(o=c[a](o))||(n=o.shift(),r.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):D(e,l).slice(0)},s=se.compile=function(e,t){var n,o=[],r=[],s=R[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=Ie(t[n]))[b]?o.push(s):r.push(s);s=R(e,function(e,t){var n=t.length>0,o=e.length>0,r=function(r,a,s,l,u){var d,p,m,E=0,v="0",T=r&&[],b=[],C=c,O=r||o&&i.find.TAG("*",u),I=y+=null==C?1:Math.random()||.1,D=O.length;for(u&&(c=a==f||a||u);v!==D&&null!=(d=O[v]);v++){if(o&&d){for(p=0,a||d.ownerDocument==f||(h(d),s=!g);m=e[p++];)if(m(d,a||f,s)){l.push(d);break}u&&(y=I)}n&&((d=!m&&d)&&E--,r&&T.push(d))}if(E+=v,n&&v!==E){for(p=0;m=t[p++];)m(T,b,a,s);if(r){if(E>0)for(;v--;)T[v]||b[v]||(b[v]=x.call(l));b=ye(b)}N.apply(l,b),u&&!r&&b.length>0&&E+t.length>1&&se.uniqueSort(l)}return u&&(y=I,c=C),T};return n?ce(r):r}(r,o)),s.selector=e}return s},l=se.select=function(e,t,n,o){var r,l,c,u,d,h="function"==typeof e&&e,f=!o&&a(e=h.selector||e);if(n=n||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&g&&i.relative[l[1].type]){if(!(t=(i.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;h&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(r=G.needsContext.test(e)?0:l.length;r--&&(c=l[r],!i.relative[u=c.type]);)if((d=i.find[u])&&(o=d(c.matches[0].replace(te,ne),ee.test(l[0].type)&&Ee(t.parentNode)||t))){if(l.splice(r,1),!(e=o.length&&Te(l)))return N.apply(n,o),n;break}}return(h||s(e,f))(o,t,!g,n,!t||ee.test(e)&&Ee(t.parentNode)||t),n},n.sortStable=b.split("").sort(w).join("")===b,n.detectDuplicates=!!d,h(),n.sortDetached=ue((function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))})),ue((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||de("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ue((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||de("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ue((function(e){return null==e.getAttribute("disabled")}))||de(P,(function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),se}(i);I.find=R,I.expr=R.selectors,I.expr[":"]=I.expr.pseudos,I.uniqueSort=I.unique=R.uniqueSort,I.text=R.getText,I.isXMLDoc=R.isXML,I.contains=R.contains,I.escapeSelector=R.escape;var _=function(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&I(e).is(n))break;i.push(e)}return i},w=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=I.expr.match.needsContext;function K(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var x=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function S(e,t,n){return E(t)?I.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?I.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?I.grep(e,(function(e){return u.call(t,e)>-1!==n})):I.filter(t,e,n)}I.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?I.find.matchesSelector(i,e)?[i]:[]:I.find.matches(e,I.grep(t,(function(e){return 1===e.nodeType})))},I.fn.extend({find:function(e){var t,n,i=this.length,o=this;if("string"!=typeof e)return this.pushStack(I(e).filter((function(){for(t=0;t<i;t++)if(I.contains(o[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)I.find(e,o[t],n);return i>1?I.uniqueSort(n):n},filter:function(e){return this.pushStack(S(this,e||[],!1))},not:function(e){return this.pushStack(S(this,e||[],!0))},is:function(e){return!!S(this,"string"==typeof e&&k.test(e)?I(e):e||[],!1).length}});var N,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(I.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||N,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:A.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof I?t[0]:t,I.merge(this,I.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:T,!0)),x.test(i[1])&&I.isPlainObject(t))for(i in t)E(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=T.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):E(e)?void 0!==n.ready?n.ready(e):e(I):I.makeArray(e,this)}).prototype=I.fn,N=I(T);var L=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function F(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}I.fn.extend({has:function(e){var t=I(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(I.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,o=this.length,r=[],a="string"!=typeof e&&I(e);if(!k.test(e))for(;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&I.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?I.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?u.call(I(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(I.uniqueSort(I.merge(this.get(),I(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),I.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return _(e,"parentNode")},parentsUntil:function(e,t,n){return _(e,"parentNode",n)},next:function(e){return F(e,"nextSibling")},prev:function(e){return F(e,"previousSibling")},nextAll:function(e){return _(e,"nextSibling")},prevAll:function(e){return _(e,"previousSibling")},nextUntil:function(e,t,n){return _(e,"nextSibling",n)},prevUntil:function(e,t,n){return _(e,"previousSibling",n)},siblings:function(e){return w((e.parentNode||{}).firstChild,e)},children:function(e){return w(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(K(e,"template")&&(e=e.content||e),I.merge([],e.childNodes))}},(function(e,t){I.fn[e]=function(n,i){var o=I.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=I.filter(i,o)),this.length>1&&(P[e]||I.uniqueSort(o),L.test(e)&&o.reverse()),this.pushStack(o)}}));var $=/[^\x20\t\r\n\f]+/g;function B(e){return e}function M(e){throw e}function H(e,t,n,i){var o;try{e&&E(o=e.promise)?o.call(e).done(t).fail(n):e&&E(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}I.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return I.each(e.match($)||[],(function(e,n){t[n]=!0})),t}(e):I.extend({},e);var t,n,i,o,r=[],a=[],s=-1,l=function(){for(o=o||e.once,i=t=!0;a.length;s=-1)for(n=a.shift();++s<r.length;)!1===r[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=r.length,n=!1);e.memory||(n=!1),t=!1,o&&(r=n?[]:"")},c={add:function(){return r&&(n&&!t&&(s=r.length-1,a.push(n)),function t(n){I.each(n,(function(n,i){E(i)?e.unique&&c.has(i)||r.push(i):i&&i.length&&"string"!==y(i)&&t(i)}))}(arguments),n&&!t&&l()),this},remove:function(){return I.each(arguments,(function(e,t){for(var n;(n=I.inArray(t,r,n))>-1;)r.splice(n,1),n<=s&&s--})),this},has:function(e){return e?I.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=a=[],r=n="",this},disabled:function(){return!r},lock:function(){return o=a=[],n||t||(r=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},I.extend({Deferred:function(e){var t=[["notify","progress",I.Callbacks("memory"),I.Callbacks("memory"),2],["resolve","done",I.Callbacks("once memory"),I.Callbacks("once memory"),0,"resolved"],["reject","fail",I.Callbacks("once memory"),I.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return I.Deferred((function(n){I.each(t,(function(t,i){var o=E(e[i[4]])&&e[i[4]];r[i[1]]((function(){var e=o&&o.apply(this,arguments);e&&E(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,o){var r=0;function a(e,t,n,o){return function(){var s=this,l=arguments,c=function(){var i,c;if(!(e<r)){if((i=n.apply(s,l))===t.promise())throw new TypeError("Thenable self-resolution");c=i&&("object"==typeof i||"function"==typeof i)&&i.then,E(c)?o?c.call(i,a(r,t,B,o),a(r,t,M,o)):(r++,c.call(i,a(r,t,B,o),a(r,t,M,o),a(r,t,B,t.notifyWith))):(n!==B&&(s=void 0,l=[i]),(o||t.resolveWith)(s,l))}},u=o?c:function(){try{c()}catch(i){I.Deferred.exceptionHook&&I.Deferred.exceptionHook(i,u.stackTrace),e+1>=r&&(n!==M&&(s=void 0,l=[i]),t.rejectWith(s,l))}};e?u():(I.Deferred.getStackHook&&(u.stackTrace=I.Deferred.getStackHook()),i.setTimeout(u))}}return I.Deferred((function(i){t[0][3].add(a(0,i,E(o)?o:B,i.notifyWith)),t[1][3].add(a(0,i,E(e)?e:B)),t[2][3].add(a(0,i,E(n)?n:M))})).promise()},promise:function(e){return null!=e?I.extend(e,o):o}},r={};return I.each(t,(function(e,i){var a=i[2],s=i[5];o[i[1]]=a.add,s&&a.add((function(){n=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(i[3].fire),r[i[0]]=function(){return r[i[0]+"With"](this===r?void 0:this,arguments),this},r[i[0]+"With"]=a.fireWith})),o.promise(r),e&&e.call(r,r),r},when:function(e){var t=arguments.length,n=t,i=Array(n),o=s.call(arguments),r=I.Deferred(),a=function(e){return function(n){i[e]=this,o[e]=arguments.length>1?s.call(arguments):n,--t||r.resolveWith(i,o)}};if(t<=1&&(H(e,r.done(a(n)).resolve,r.reject,!t),"pending"===r.state()||E(o[n]&&o[n].then)))return r.then();for(;n--;)H(o[n],a(n),r.reject);return r.promise()}});var j=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;I.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&j.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},I.readyException=function(e){i.setTimeout((function(){throw e}))};var q=I.Deferred();function U(){T.removeEventListener("DOMContentLoaded",U),i.removeEventListener("load",U),I.ready()}I.fn.ready=function(e){return q.then(e).catch((function(e){I.readyException(e)})),this},I.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--I.readyWait:I.isReady)||(I.isReady=!0,!0!==e&&--I.readyWait>0||q.resolveWith(T,[I]))}}),I.ready.then=q.then,"complete"===T.readyState||"loading"!==T.readyState&&!T.documentElement.doScroll?i.setTimeout(I.ready):(T.addEventListener("DOMContentLoaded",U),i.addEventListener("load",U));var z=function(e,t,n,i,o,r,a){var s=0,l=e.length,c=null==n;if("object"===y(n))for(s in o=!0,n)z(e,t,s,n[s],!0,r,a);else if(void 0!==i&&(o=!0,E(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(I(e),n)})),t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):l?t(e[0],n):r},V=/^-ms-/,W=/-([a-z])/g;function G(e,t){return t.toUpperCase()}function X(e){return e.replace(V,"ms-").replace(W,G)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Z(){this.expando=I.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,o=this.cache(e);if("string"==typeof t)o[X(t)]=n;else for(i in t)o[X(i)]=t[i];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in i?[t]:t.match($)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||I.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!I.isEmptyObject(t)}};var J=new Z,Q=new Z,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}I.extend({hasData:function(e){return Q.hasData(e)||J.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),I.fn.extend({data:function(e,t){var n,i,o,r=this[0],a=r&&r.attributes;if(void 0===e){if(this.length&&(o=Q.get(r),1===r.nodeType&&!J.get(r,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=X(i.slice(5)),ne(r,i,o[i]));J.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each((function(){Q.set(this,e)})):z(this,(function(t){var n;if(r&&void 0===t)return void 0!==(n=Q.get(r,e))||void 0!==(n=ne(r,e))?n:void 0;this.each((function(){Q.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Q.remove(this,e)}))}}),I.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=J.get(e,t),n&&(!i||Array.isArray(n)?i=J.access(e,t,I.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=I.queue(e,t),i=n.length,o=n.shift(),r=I._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,(function(){I.dequeue(e,t)}),r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:I.Callbacks("once memory").add((function(){J.remove(e,[t+"queue",n])}))})}}),I.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?I.queue(this[0],e):void 0===t?this:this.each((function(){var n=I.queue(this,e,t);I._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&I.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){I.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=I.Deferred(),r=this,a=this.length,s=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=J.get(r[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(t)}});var ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,oe=new RegExp("^(?:([+-])=|)("+ie+")([a-z%]*)$","i"),re=["Top","Right","Bottom","Left"],ae=T.documentElement,se=function(e){return I.contains(e.ownerDocument,e)},le={composed:!0};ae.getRootNode&&(se=function(e){return I.contains(e.ownerDocument,e)||e.getRootNode(le)===e.ownerDocument});var ce=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&se(e)&&"none"===I.css(e,"display")};function ue(e,t,n,i){var o,r,a=20,s=i?function(){return i.cur()}:function(){return I.css(e,t,"")},l=s(),c=n&&n[3]||(I.cssNumber[t]?"":"px"),u=e.nodeType&&(I.cssNumber[t]||"px"!==c&&+l)&&oe.exec(I.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)I.style(e,t,u+c),(1-r)*(1-(r=s()/l||.5))<=0&&(a=0),u/=r;u*=2,I.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=o)),o}var de={};function he(e){var t,n=e.ownerDocument,i=e.nodeName,o=de[i];return o||(t=n.body.appendChild(n.createElement(i)),o=I.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),de[i]=o,o)}function fe(e,t){for(var n,i,o=[],r=0,a=e.length;r<a;r++)(i=e[r]).style&&(n=i.style.display,t?("none"===n&&(o[r]=J.get(i,"display")||null,o[r]||(i.style.display="")),""===i.style.display&&ce(i)&&(o[r]=he(i))):"none"!==n&&(o[r]="none",J.set(i,"display",n)));for(r=0;r<a;r++)null!=o[r]&&(e[r].style.display=o[r]);return e}I.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ce(this)?I(this).show():I(this).hide()}))}});var pe,ge,me=/^(?:checkbox|radio)$/i,Ee=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ve=/^$|^module$|\/(?:java|ecma)script/i;pe=T.createDocumentFragment().appendChild(T.createElement("div")),(ge=T.createElement("input")).setAttribute("type","radio"),ge.setAttribute("checked","checked"),ge.setAttribute("name","t"),pe.appendChild(ge),m.checkClone=pe.cloneNode(!0).cloneNode(!0).lastChild.checked,pe.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!pe.cloneNode(!0).lastChild.defaultValue,pe.innerHTML="<option></option>",m.option=!!pe.lastChild;var Te={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function be(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&K(e,t)?I.merge([e],n):n}function Ce(e,t){for(var n=0,i=e.length;n<i;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}Te.tbody=Te.tfoot=Te.colgroup=Te.caption=Te.thead,Te.th=Te.td,m.option||(Te.optgroup=Te.option=[1,"<select multiple='multiple'>","</select>"]);var ye=/<|&#?\w+;/;function Oe(e,t,n,i,o){for(var r,a,s,l,c,u,d=t.createDocumentFragment(),h=[],f=0,p=e.length;f<p;f++)if((r=e[f])||0===r)if("object"===y(r))I.merge(h,r.nodeType?[r]:r);else if(ye.test(r)){for(a=a||d.appendChild(t.createElement("div")),s=(Ee.exec(r)||["",""])[1].toLowerCase(),l=Te[s]||Te._default,a.innerHTML=l[1]+I.htmlPrefilter(r)+l[2],u=l[0];u--;)a=a.lastChild;I.merge(h,a.childNodes),(a=d.firstChild).textContent=""}else h.push(t.createTextNode(r));for(d.textContent="",f=0;r=h[f++];)if(i&&I.inArray(r,i)>-1)o&&o.push(r);else if(c=se(r),a=be(d.appendChild(r),"script"),c&&Ce(a),n)for(u=0;r=a[u++];)ve.test(r.type||"")&&n.push(r);return d}var Ie=/^([^.]*)(?:\.(.+)|)/;function De(){return!0}function Re(){return!1}function _e(e,t){return e===function(){try{return T.activeElement}catch(e){}}()==("focus"===t)}function we(e,t,n,i,o,r){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)we(e,s,n,i,t[s],r);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=Re;else if(!o)return e;return 1===r&&(a=o,o=function(e){return I().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=I.guid++)),e.each((function(){I.event.add(this,t,o,i,n)}))}function ke(e,t,n){n?(J.set(e,t,!1),I.event.add(e,t,{namespace:!1,handler:function(e){var i,o,r=J.get(this,t);if(1&e.isTrigger&&this[t]){if(r.length)(I.event.special[t]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),J.set(this,t,r),i=n(this,t),this[t](),r!==(o=J.get(this,t))||i?J.set(this,t,!1):o={},r!==o)return e.stopImmediatePropagation(),e.preventDefault(),o&&o.value}else r.length&&(J.set(this,t,{value:I.event.trigger(I.extend(r[0],I.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===J.get(e,t)&&I.event.add(e,t,De)}I.event={global:{},add:function(e,t,n,i,o){var r,a,s,l,c,u,d,h,f,p,g,m=J.get(e);if(Y(e))for(n.handler&&(n=(r=n).handler,o=r.selector),o&&I.find.matchesSelector(ae,o),n.guid||(n.guid=I.guid++),(l=m.events)||(l=m.events=Object.create(null)),(a=m.handle)||(a=m.handle=function(t){return void 0!==I&&I.event.triggered!==t.type?I.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match($)||[""]).length;c--;)f=g=(s=Ie.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),f&&(d=I.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,d=I.event.special[f]||{},u=I.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&I.expr.match.needsContext.test(o),namespace:p.join(".")},r),(h=l[f])||((h=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,p,a)||e.addEventListener&&e.addEventListener(f,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),I.event.global[f]=!0)},remove:function(e,t,n,i,o){var r,a,s,l,c,u,d,h,f,p,g,m=J.hasData(e)&&J.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match($)||[""]).length;c--;)if(f=g=(s=Ie.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),f){for(d=I.event.special[f]||{},h=l[f=(i?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=h.length;r--;)u=h[r],!o&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(r,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));a&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,p,m.handle)||I.removeEvent(e,f,m.handle),delete l[f])}else for(f in l)I.event.remove(e,f+t[c],n,i,!0);I.isEmptyObject(l)&&J.remove(e,"handle events")}},dispatch:function(e){var t,n,i,o,r,a,s=new Array(arguments.length),l=I.event.fix(e),c=(J.get(this,"events")||Object.create(null))[l.type]||[],u=I.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(a=I.event.handlers.call(this,l,c),t=0;(o=a[t++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==r.namespace&&!l.rnamespace.test(r.namespace)||(l.handleObj=r,l.data=r.data,void 0!==(i=((I.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,i,o,r,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(r=[],a={},n=0;n<l;n++)void 0===a[o=(i=t[n]).selector+" "]&&(a[o]=i.needsContext?I(o,this).index(c)>-1:I.find(o,this,null,[c]).length),a[o]&&r.push(i);r.length&&s.push({elem:c,handlers:r})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(I.Event.prototype,e,{enumerable:!0,configurable:!0,get:E(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[I.expando]?e:new I.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return me.test(t.type)&&t.click&&K(t,"input")&&ke(t,"click",De),!1},trigger:function(e){var t=this||e;return me.test(t.type)&&t.click&&K(t,"input")&&ke(t,"click"),!0},_default:function(e){var t=e.target;return me.test(t.type)&&t.click&&K(t,"input")&&J.get(t,"click")||K(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},I.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},I.Event=function(e,t){if(!(this instanceof I.Event))return new I.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?De:Re,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&I.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[I.expando]=!0},I.Event.prototype={constructor:I.Event,isDefaultPrevented:Re,isPropagationStopped:Re,isImmediatePropagationStopped:Re,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=De,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=De,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=De,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},I.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},I.event.addProp),I.each({focus:"focusin",blur:"focusout"},(function(e,t){I.event.special[e]={setup:function(){return ke(this,e,_e),!1},trigger:function(){return ke(this,e),!0},_default:function(t){return J.get(t.target,e)},delegateType:t}})),I.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){I.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,r=e.handleObj;return o&&(o===i||I.contains(i,o))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}})),I.fn.extend({on:function(e,t,n,i){return we(this,e,t,n,i)},one:function(e,t,n,i){return we(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,I(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Re),this.each((function(){I.event.remove(this,e,n,t)}))}});var Ke=/<script|<style|<link/i,xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Se=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ne(e,t){return K(e,"table")&&K(11!==t.nodeType?t:t.firstChild,"tr")&&I(e).children("tbody")[0]||e}function Ae(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Le(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Pe(e,t){var n,i,o,r,a,s;if(1===t.nodeType){if(J.hasData(e)&&(s=J.get(e).events))for(o in J.remove(t,"handle events"),s)for(n=0,i=s[o].length;n<i;n++)I.event.add(t,o,s[o][n]);Q.hasData(e)&&(r=Q.access(e),a=I.extend({},r),Q.set(t,a))}}function Fe(e,t){var n=t.nodeName.toLowerCase();"input"===n&&me.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function $e(e,t,n,i){t=l(t);var o,r,a,s,c,u,d=0,h=e.length,f=h-1,p=t[0],g=E(p);if(g||h>1&&"string"==typeof p&&!m.checkClone&&xe.test(p))return e.each((function(o){var r=e.eq(o);g&&(t[0]=p.call(this,o,r.html())),$e(r,t,n,i)}));if(h&&(r=(o=Oe(t,e[0].ownerDocument,!1,e,i)).firstChild,1===o.childNodes.length&&(o=r),r||i)){for(s=(a=I.map(be(o,"script"),Ae)).length;d<h;d++)c=o,d!==f&&(c=I.clone(c,!0,!0),s&&I.merge(a,be(c,"script"))),n.call(e[d],c,d);if(s)for(u=a[a.length-1].ownerDocument,I.map(a,Le),d=0;d<s;d++)c=a[d],ve.test(c.type||"")&&!J.access(c,"globalEval")&&I.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?I._evalUrl&&!c.noModule&&I._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):C(c.textContent.replace(Se,""),c,u))}return e}function Be(e,t,n){for(var i,o=t?I.filter(t,e):e,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||I.cleanData(be(i)),i.parentNode&&(n&&se(i)&&Ce(be(i,"script")),i.parentNode.removeChild(i));return e}I.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,o,r,a,s=e.cloneNode(!0),l=se(e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||I.isXMLDoc(e)))for(a=be(s),i=0,o=(r=be(e)).length;i<o;i++)Fe(r[i],a[i]);if(t)if(n)for(r=r||be(e),a=a||be(s),i=0,o=r.length;i<o;i++)Pe(r[i],a[i]);else Pe(e,s);return(a=be(s,"script")).length>0&&Ce(a,!l&&be(e,"script")),s},cleanData:function(e){for(var t,n,i,o=I.event.special,r=0;void 0!==(n=e[r]);r++)if(Y(n)){if(t=n[J.expando]){if(t.events)for(i in t.events)o[i]?I.event.remove(n,i):I.removeEvent(n,i,t.handle);n[J.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),I.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return z(this,(function(e){return void 0===e?I.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return $e(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ne(this,e).appendChild(e)}))},prepend:function(){return $e(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ne(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return $e(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return $e(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(I.cleanData(be(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return I.clone(this,e,t)}))},html:function(e){return z(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ke.test(e)&&!Te[(Ee.exec(e)||["",""])[1].toLowerCase()]){e=I.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(I.cleanData(be(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return $e(this,arguments,(function(t){var n=this.parentNode;I.inArray(this,e)<0&&(I.cleanData(be(this)),n&&n.replaceChild(t,this))}),e)}}),I.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){I.fn[e]=function(e){for(var n,i=[],o=I(e),r=o.length-1,a=0;a<=r;a++)n=a===r?this:this.clone(!0),I(o[a])[t](n),c.apply(i,n.get());return this.pushStack(i)}}));var Me=new RegExp("^("+ie+")(?!px)[a-z%]+$","i"),He=/^--/,je=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},qe=function(e,t,n){var i,o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];for(o in i=n.call(e),t)e.style[o]=r[o];return i},Ue=new RegExp(re.join("|"),"i"),ze="[\\x20\\t\\r\\n\\f]",Ve=new RegExp("^"+ze+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ze+"+$","g");function We(e,t,n){var i,o,r,a,s=He.test(t),l=e.style;return(n=n||je(e))&&(a=n.getPropertyValue(t)||n[t],s&&(a=a.replace(Ve,"$1")),""!==a||se(e)||(a=I.style(e,t)),!m.pixelBoxStyles()&&Me.test(a)&&Ue.test(t)&&(i=l.width,o=l.minWidth,r=l.maxWidth,l.minWidth=l.maxWidth=l.width=a,a=n.width,l.width=i,l.minWidth=o,l.maxWidth=r)),void 0!==a?a+"":a}function Ge(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ae.appendChild(c).appendChild(u);var e=i.getComputedStyle(u);n="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",a=36===t(e.right),o=36===t(e.width),u.style.position="absolute",r=12===t(u.offsetWidth/3),ae.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var n,o,r,a,s,l,c=T.createElement("div"),u=T.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===u.style.backgroundClip,I.extend(m,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),r},reliableTrDimensions:function(){var e,t,n,o;return null==s&&(e=T.createElement("table"),t=T.createElement("tr"),n=T.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",ae.appendChild(e).appendChild(t).appendChild(n),o=i.getComputedStyle(t),s=parseInt(o.height,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10)===t.offsetHeight,ae.removeChild(e)),s}}))}();var Xe=["Webkit","Moz","ms"],Ye=T.createElement("div").style,Ze={};function Je(e){var t=I.cssProps[e]||Ze[e];return t||(e in Ye?e:Ze[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Xe.length;n--;)if((e=Xe[n]+t)in Ye)return e}(e)||e)}var Qe=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"};function nt(e,t,n){var i=oe.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function it(e,t,n,i,o,r){var a="width"===t?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=I.css(e,n+re[a],!0,o)),i?("content"===n&&(l-=I.css(e,"padding"+re[a],!0,o)),"margin"!==n&&(l-=I.css(e,"border"+re[a]+"Width",!0,o))):(l+=I.css(e,"padding"+re[a],!0,o),"padding"!==n?l+=I.css(e,"border"+re[a]+"Width",!0,o):s+=I.css(e,"border"+re[a]+"Width",!0,o));return!i&&r>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-r-l-s-.5))||0),l}function ot(e,t,n){var i=je(e),o=(!m.boxSizingReliable()||n)&&"border-box"===I.css(e,"boxSizing",!1,i),r=o,a=We(e,t,i),s="offset"+t[0].toUpperCase()+t.slice(1);if(Me.test(a)){if(!n)return a;a="auto"}return(!m.boxSizingReliable()&&o||!m.reliableTrDimensions()&&K(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===I.css(e,"display",!1,i))&&e.getClientRects().length&&(o="border-box"===I.css(e,"boxSizing",!1,i),(r=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+it(e,t,n||(o?"border":"content"),r,i,a)+"px"}function rt(e,t,n,i,o){return new rt.prototype.init(e,t,n,i,o)}I.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=X(t),l=He.test(t),c=e.style;if(l||(t=Je(s)),a=I.cssHooks[t]||I.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,i))?o:c[t];"string"===(r=typeof n)&&(o=oe.exec(n))&&o[1]&&(n=ue(e,t,o),r="number"),null!=n&&n==n&&("number"!==r||l||(n+=o&&o[3]||(I.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var o,r,a,s=X(t);return He.test(t)||(t=Je(s)),(a=I.cssHooks[t]||I.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=We(e,t,i)),"normal"===o&&t in tt&&(o=tt[t]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),I.each(["height","width"],(function(e,t){I.cssHooks[t]={get:function(e,n,i){if(n)return!Qe.test(I.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,t,i):qe(e,et,(function(){return ot(e,t,i)}))},set:function(e,n,i){var o,r=je(e),a=!m.scrollboxSize()&&"absolute"===r.position,s=(a||i)&&"border-box"===I.css(e,"boxSizing",!1,r),l=i?it(e,t,i,s,r):0;return s&&a&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(r[t])-it(e,t,"border",!1,r)-.5)),l&&(o=oe.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=I.css(e,t)),nt(0,n,l)}}})),I.cssHooks.marginLeft=Ge(m.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-qe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),I.each({margin:"",padding:"",border:"Width"},(function(e,t){I.cssHooks[e+t]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[e+re[i]+t]=r[i]||r[i-2]||r[0];return o}},"margin"!==e&&(I.cssHooks[e+t].set=nt)})),I.fn.extend({css:function(e,t){return z(this,(function(e,t,n){var i,o,r={},a=0;if(Array.isArray(t)){for(i=je(e),o=t.length;a<o;a++)r[t[a]]=I.css(e,t[a],!1,i);return r}return void 0!==n?I.style(e,t,n):I.css(e,t)}),e,t,arguments.length>1)}}),I.Tween=rt,rt.prototype={constructor:rt,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||I.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(I.cssNumber[n]?"":"px")},cur:function(){var e=rt.propHooks[this.prop];return e&&e.get?e.get(this):rt.propHooks._default.get(this)},run:function(e){var t,n=rt.propHooks[this.prop];return this.options.duration?this.pos=t=I.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rt.propHooks._default.set(this),this}},rt.prototype.init.prototype=rt.prototype,rt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=I.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){I.fx.step[e.prop]?I.fx.step[e.prop](e):1!==e.elem.nodeType||!I.cssHooks[e.prop]&&null==e.elem.style[Je(e.prop)]?e.elem[e.prop]=e.now:I.style(e.elem,e.prop,e.now+e.unit)}}},rt.propHooks.scrollTop=rt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},I.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},I.fx=rt.prototype.init,I.fx.step={};var at,st,lt=/^(?:toggle|show|hide)$/,ct=/queueHooks$/;function ut(){st&&(!1===T.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(ut):i.setTimeout(ut,I.fx.interval),I.fx.tick())}function dt(){return i.setTimeout((function(){at=void 0})),at=Date.now()}function ht(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)o["margin"+(n=re[i])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function ft(e,t,n){for(var i,o=(pt.tweeners[t]||[]).concat(pt.tweeners["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,t,e))return i}function pt(e,t,n){var i,o,r=0,a=pt.prefilters.length,s=I.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var t=at||dt(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),r=0,a=c.tweens.length;r<a;r++)c.tweens[r].run(i);return s.notifyWith(e,[c,i,n]),i<1&&a?n:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:I.extend({},t),opts:I.extend(!0,{specialEasing:{},easing:I.easing._default},n),originalProperties:t,originalOptions:n,startTime:at||dt(),duration:n.duration,tweens:[],createTween:function(t,n){var i=I.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,i,o,r,a;for(n in e)if(o=t[i=X(n)],r=e[n],Array.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),(a=I.cssHooks[i])&&"expand"in a)for(n in r=a.expand(r),delete e[i],r)n in e||(e[n]=r[n],t[n]=o);else t[i]=o}(u,c.opts.specialEasing);r<a;r++)if(i=pt.prefilters[r].call(c,e,u,c.opts))return E(i.stop)&&(I._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return I.map(u,ft,c),E(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),I.fx.timer(I.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}I.Animation=I.extend(pt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ue(n.elem,e,oe.exec(t),n),n}]},tweener:function(e,t){E(e)?(t=e,e=["*"]):e=e.match($);for(var n,i=0,o=e.length;i<o;i++)n=e[i],pt.tweeners[n]=pt.tweeners[n]||[],pt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,o,r,a,s,l,c,u,d="width"in t||"height"in t,h=this,f={},p=e.style,g=e.nodeType&&ce(e),m=J.get(e,"fxshow");for(i in n.queue||(null==(a=I._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always((function(){h.always((function(){a.unqueued--,I.queue(e,"fx").length||a.empty.fire()}))}))),t)if(o=t[i],lt.test(o)){if(delete t[i],r=r||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!m||void 0===m[i])continue;g=!0}f[i]=m&&m[i]||I.style(e,i)}if((l=!I.isEmptyObject(t))||!I.isEmptyObject(f))for(i in d&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=m&&m.display)&&(c=J.get(e,"display")),"none"===(u=I.css(e,"display"))&&(c?u=c:(fe([e],!0),c=e.style.display||c,u=I.css(e,"display"),fe([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===I.css(e,"float")&&(l||(h.done((function(){p.display=c})),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),l=!1,f)l||(m?"hidden"in m&&(g=m.hidden):m=J.access(e,"fxshow",{display:c}),r&&(m.hidden=!g),g&&fe([e],!0),h.done((function(){for(i in g||fe([e]),J.remove(e,"fxshow"),f)I.style(e,i,f[i])}))),l=ft(g?m[i]:0,i,h),i in m||(m[i]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),I.speed=function(e,t,n){var i=e&&"object"==typeof e?I.extend({},e):{complete:n||!n&&t||E(e)&&e,duration:e,easing:n&&t||t&&!E(t)&&t};return I.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in I.fx.speeds?i.duration=I.fx.speeds[i.duration]:i.duration=I.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){E(i.old)&&i.old.call(this),i.queue&&I.dequeue(this,i.queue)},i},I.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ce).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=I.isEmptyObject(e),r=I.speed(t,n,i),a=function(){var t=pt(this,I.extend({},e),r);(o||J.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",r=I.timers,a=J.get(this);if(o)a[o]&&a[o].stop&&i(a[o]);else for(o in a)a[o]&&a[o].stop&&ct.test(o)&&i(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(n),t=!1,r.splice(o,1));!t&&n||I.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=J.get(this),i=n[e+"queue"],o=n[e+"queueHooks"],r=I.timers,a=i?i.length:0;for(n.finish=!0,I.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),I.each(["toggle","show","hide"],(function(e,t){var n=I.fn[t];I.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ht(t,!0),e,i,o)}})),I.each({slideDown:ht("show"),slideUp:ht("hide"),slideToggle:ht("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){I.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),I.timers=[],I.fx.tick=function(){var e,t=0,n=I.timers;for(at=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||I.fx.stop(),at=void 0},I.fx.timer=function(e){I.timers.push(e),I.fx.start()},I.fx.interval=13,I.fx.start=function(){st||(st=!0,ut())},I.fx.stop=function(){st=null},I.fx.speeds={slow:600,fast:200,_default:400},I.fn.delay=function(e,t){return e=I.fx&&I.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var o=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(o)}}))},function(){var e=T.createElement("input"),t=T.createElement("select").appendChild(T.createElement("option"));e.type="checkbox",m.checkOn=""!==e.value,m.optSelected=t.selected,(e=T.createElement("input")).value="t",e.type="radio",m.radioValue="t"===e.value}();var gt,mt=I.expr.attrHandle;I.fn.extend({attr:function(e,t){return z(this,I.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){I.removeAttr(this,e)}))}}),I.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?I.prop(e,t,n):(1===r&&I.isXMLDoc(e)||(o=I.attrHooks[t.toLowerCase()]||(I.expr.match.bool.test(t)?gt:void 0)),void 0!==n?null===n?void I.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(i=o.get(e,t))?i:null==(i=I.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&K(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,o=t&&t.match($);if(o&&1===e.nodeType)for(;n=o[i++];)e.removeAttribute(n)}}),gt={set:function(e,t,n){return!1===t?I.removeAttr(e,n):e.setAttribute(n,n),n}},I.each(I.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=mt[t]||I.find.attr;mt[t]=function(e,t,i){var o,r,a=t.toLowerCase();return i||(r=mt[a],mt[a]=o,o=null!=n(e,t,i)?a:null,mt[a]=r),o}}));var Et=/^(?:input|select|textarea|button)$/i,vt=/^(?:a|area)$/i;function Tt(e){return(e.match($)||[]).join(" ")}function bt(e){return e.getAttribute&&e.getAttribute("class")||""}function Ct(e){return Array.isArray(e)?e:"string"==typeof e&&e.match($)||[]}I.fn.extend({prop:function(e,t){return z(this,I.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[I.propFix[e]||e]}))}}),I.extend({prop:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&I.isXMLDoc(e)||(t=I.propFix[t]||t,o=I.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=I.find.attr(e,"tabindex");return t?parseInt(t,10):Et.test(e.nodeName)||vt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(I.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),I.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){I.propFix[this.toLowerCase()]=this})),I.fn.extend({addClass:function(e){var t,n,i,o,r,a;return E(e)?this.each((function(t){I(this).addClass(e.call(this,t,bt(this)))})):(t=Ct(e)).length?this.each((function(){if(i=bt(this),n=1===this.nodeType&&" "+Tt(i)+" "){for(r=0;r<t.length;r++)o=t[r],n.indexOf(" "+o+" ")<0&&(n+=o+" ");a=Tt(n),i!==a&&this.setAttribute("class",a)}})):this},removeClass:function(e){var t,n,i,o,r,a;return E(e)?this.each((function(t){I(this).removeClass(e.call(this,t,bt(this)))})):arguments.length?(t=Ct(e)).length?this.each((function(){if(i=bt(this),n=1===this.nodeType&&" "+Tt(i)+" "){for(r=0;r<t.length;r++)for(o=t[r];n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");a=Tt(n),i!==a&&this.setAttribute("class",a)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,i,o,r,a=typeof e,s="string"===a||Array.isArray(e);return E(e)?this.each((function(n){I(this).toggleClass(e.call(this,n,bt(this),t),t)})):"boolean"==typeof t&&s?t?this.addClass(e):this.removeClass(e):(n=Ct(e),this.each((function(){if(s)for(r=I(this),o=0;o<n.length;o++)i=n[o],r.hasClass(i)?r.removeClass(i):r.addClass(i);else void 0!==e&&"boolean"!==a||((i=bt(this))&&J.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===e?"":J.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+Tt(bt(n))+" ").indexOf(t)>-1)return!0;return!1}});var yt=/\r/g;I.fn.extend({val:function(e){var t,n,i,o=this[0];return arguments.length?(i=E(e),this.each((function(n){var o;1===this.nodeType&&(null==(o=i?e.call(this,n,I(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=I.map(o,(function(e){return null==e?"":e+""}))),(t=I.valHooks[this.type]||I.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=I.valHooks[o.type]||I.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(yt,""):null==n?"":n:void 0}}),I.extend({valHooks:{option:{get:function(e){var t=I.find.attr(e,"value");return null!=t?t:Tt(I.text(e))}},select:{get:function(e){var t,n,i,o=e.options,r=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?r+1:o.length;for(i=r<0?l:a?r:0;i<l;i++)if(((n=o[i]).selected||i===r)&&!n.disabled&&(!n.parentNode.disabled||!K(n.parentNode,"optgroup"))){if(t=I(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,i,o=e.options,r=I.makeArray(t),a=o.length;a--;)((i=o[a]).selected=I.inArray(I.valHooks.option.get(i),r)>-1)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),I.each(["radio","checkbox"],(function(){I.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=I.inArray(I(e).val(),t)>-1}},m.checkOn||(I.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),m.focusin="onfocusin"in i;var Ot=/^(?:focusinfocus|focusoutblur)$/,It=function(e){e.stopPropagation()};I.extend(I.event,{trigger:function(e,t,n,o){var r,a,s,l,c,u,d,h,p=[n||T],g=f.call(e,"type")?e.type:e,m=f.call(e,"namespace")?e.namespace.split("."):[];if(a=h=s=n=n||T,3!==n.nodeType&&8!==n.nodeType&&!Ot.test(g+I.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),c=g.indexOf(":")<0&&"on"+g,(e=e[I.expando]?e:new I.Event(g,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:I.makeArray(t,[e]),d=I.event.special[g]||{},o||!d.trigger||!1!==d.trigger.apply(n,t))){if(!o&&!d.noBubble&&!v(n)){for(l=d.delegateType||g,Ot.test(l+g)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(n.ownerDocument||T)&&p.push(s.defaultView||s.parentWindow||i)}for(r=0;(a=p[r++])&&!e.isPropagationStopped();)h=a,e.type=r>1?l:d.bindType||g,(u=(J.get(a,"events")||Object.create(null))[e.type]&&J.get(a,"handle"))&&u.apply(a,t),(u=c&&a[c])&&u.apply&&Y(a)&&(e.result=u.apply(a,t),!1===e.result&&e.preventDefault());return e.type=g,o||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),t)||!Y(n)||c&&E(n[g])&&!v(n)&&((s=n[c])&&(n[c]=null),I.event.triggered=g,e.isPropagationStopped()&&h.addEventListener(g,It),n[g](),e.isPropagationStopped()&&h.removeEventListener(g,It),I.event.triggered=void 0,s&&(n[c]=s)),e.result}},simulate:function(e,t,n){var i=I.extend(new I.Event,n,{type:e,isSimulated:!0});I.event.trigger(i,null,t)}}),I.fn.extend({trigger:function(e,t){return this.each((function(){I.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return I.event.trigger(e,t,n,!0)}}),m.focusin||I.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){I.event.simulate(t,e.target,I.event.fix(e))};I.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,o=J.access(i,t);o||i.addEventListener(e,n,!0),J.access(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,o=J.access(i,t)-1;o?J.access(i,t,o):(i.removeEventListener(e,n,!0),J.remove(i,t))}}}));var Dt=i.location,Rt={guid:Date.now()},_t=/\?/;I.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||I.error("Invalid XML: "+(n?I.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var wt=/\[\]$/,kt=/\r?\n/g,Kt=/^(?:submit|button|image|reset|file)$/i,xt=/^(?:input|select|textarea|keygen)/i;function St(e,t,n,i){var o;if(Array.isArray(t))I.each(t,(function(t,o){n||wt.test(e)?i(e,o):St(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,i)}));else if(n||"object"!==y(t))i(e,t);else for(o in t)St(e+"["+o+"]",t[o],n,i)}I.param=function(e,t){var n,i=[],o=function(e,t){var n=E(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!I.isPlainObject(e))I.each(e,(function(){o(this.name,this.value)}));else for(n in e)St(n,e[n],t,o);return i.join("&")},I.fn.extend({serialize:function(){return I.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=I.prop(this,"elements");return e?I.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!I(this).is(":disabled")&&xt.test(this.nodeName)&&!Kt.test(e)&&(this.checked||!me.test(e))})).map((function(e,t){var n=I(this).val();return null==n?null:Array.isArray(n)?I.map(n,(function(e){return{name:t.name,value:e.replace(kt,"\r\n")}})):{name:t.name,value:n.replace(kt,"\r\n")}})).get()}});var Nt=/%20/g,At=/#.*$/,Lt=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ft=/^(?:GET|HEAD)$/,$t=/^\/\//,Bt={},Mt={},Ht="*/".concat("*"),jt=T.createElement("a");function qt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,r=t.toLowerCase().match($)||[];if(E(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Ut(e,t,n,i){var o={},r=e===Mt;function a(s){var l;return o[s]=!0,I.each(e[s]||[],(function(e,s){var c=s(t,n,i);return"string"!=typeof c||r||o[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)})),l}return a(t.dataTypes[0])||!o["*"]&&a("*")}function zt(e,t){var n,i,o=I.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&I.extend(!0,e,i),e}jt.href=Dt.href,I.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Dt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":I.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,I.ajaxSettings),t):zt(I.ajaxSettings,e)},ajaxPrefilter:qt(Bt),ajaxTransport:qt(Mt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o,r,a,s,l,c,u,d,h,f=I.ajaxSetup({},t),p=f.context||f,g=f.context&&(p.nodeType||p.jquery)?I(p):I.event,m=I.Deferred(),E=I.Callbacks("once memory"),v=f.statusCode||{},b={},C={},y="canceled",O={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=Pt.exec(r);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?r:null},setRequestHeader:function(e,t){return null==c&&(e=C[e.toLowerCase()]=C[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)O.always(e[O.status]);else for(t in e)v[t]=[v[t],e[t]];return this},abort:function(e){var t=e||y;return n&&n.abort(t),D(0,t),this}};if(m.promise(O),f.url=((e||f.url||Dt.href)+"").replace($t,Dt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match($)||[""],null==f.crossDomain){l=T.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=jt.protocol+"//"+jt.host!=l.protocol+"//"+l.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=I.param(f.data,f.traditional)),Ut(Bt,f,t,O),c)return O;for(d in(u=I.event&&f.global)&&0==I.active++&&I.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ft.test(f.type),o=f.url.replace(At,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Nt,"+")):(h=f.url.slice(o.length),f.data&&(f.processData||"string"==typeof f.data)&&(o+=(_t.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(o=o.replace(Lt,"$1"),h=(_t.test(o)?"&":"?")+"_="+Rt.guid+++h),f.url=o+h),f.ifModified&&(I.lastModified[o]&&O.setRequestHeader("If-Modified-Since",I.lastModified[o]),I.etag[o]&&O.setRequestHeader("If-None-Match",I.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&O.setRequestHeader("Content-Type",f.contentType),O.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ht+"; q=0.01":""):f.accepts["*"]),f.headers)O.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(p,O,f)||c))return O.abort();if(y="abort",E.add(f.complete),O.done(f.success),O.fail(f.error),n=Ut(Mt,f,t,O)){if(O.readyState=1,u&&g.trigger("ajaxSend",[O,f]),c)return O;f.async&&f.timeout>0&&(s=i.setTimeout((function(){O.abort("timeout")}),f.timeout));try{c=!1,n.send(b,D)}catch(e){if(c)throw e;D(-1,e)}}else D(-1,"No Transport");function D(e,t,a,l){var d,h,T,b,C,y=t;c||(c=!0,s&&i.clearTimeout(s),n=void 0,r=l||"",O.readyState=e>0?4:0,d=e>=200&&e<300||304===e,a&&(b=function(e,t,n){for(var i,o,r,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}a||(a=o)}r=r||a}if(r)return r!==l[0]&&l.unshift(r),n[r]}(f,O,a)),!d&&I.inArray("script",f.dataTypes)>-1&&I.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),b=function(e,t,n,i){var o,r,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(r=u.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(o in c)if((s=o.split(" "))[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(r=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(f,b,O,d),d?(f.ifModified&&((C=O.getResponseHeader("Last-Modified"))&&(I.lastModified[o]=C),(C=O.getResponseHeader("etag"))&&(I.etag[o]=C)),204===e||"HEAD"===f.type?y="nocontent":304===e?y="notmodified":(y=b.state,h=b.data,d=!(T=b.error))):(T=y,!e&&y||(y="error",e<0&&(e=0))),O.status=e,O.statusText=(t||y)+"",d?m.resolveWith(p,[h,y,O]):m.rejectWith(p,[O,y,T]),O.statusCode(v),v=void 0,u&&g.trigger(d?"ajaxSuccess":"ajaxError",[O,f,d?h:T]),E.fireWith(p,[O,y]),u&&(g.trigger("ajaxComplete",[O,f]),--I.active||I.event.trigger("ajaxStop")))}return O},getJSON:function(e,t,n){return I.get(e,t,n,"json")},getScript:function(e,t){return I.get(e,void 0,t,"script")}}),I.each(["get","post"],(function(e,t){I[t]=function(e,n,i,o){return E(n)&&(o=o||i,i=n,n=void 0),I.ajax(I.extend({url:e,type:t,dataType:o,data:n,success:i},I.isPlainObject(e)&&e))}})),I.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),I._evalUrl=function(e,t,n){return I.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){I.globalEval(e,t,n)}})},I.fn.extend({wrapAll:function(e){var t;return this[0]&&(E(e)&&(e=e.call(this[0])),t=I(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return E(e)?this.each((function(t){I(this).wrapInner(e.call(this,t))})):this.each((function(){var t=I(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=E(e);return this.each((function(n){I(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){I(this).replaceWith(this.childNodes)})),this}}),I.expr.pseudos.hidden=function(e){return!I.expr.pseudos.visible(e)},I.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},I.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Vt={0:200,1223:204},Wt=I.ajaxSettings.xhr();m.cors=!!Wt&&"withCredentials"in Wt,m.ajax=Wt=!!Wt,I.ajaxTransport((function(e){var t,n;if(m.cors||Wt&&!e.crossDomain)return{send:function(o,r){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?r(0,"error"):r(s.status,s.statusText):r(Vt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout((function(){t&&n()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),I.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),I.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return I.globalEval(e),e}}}),I.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),I.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,o){t=I("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),T.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Gt,Xt=[],Yt=/(=)\?(?=&|$)|\?\?/;I.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||I.expando+"_"+Rt.guid++;return this[e]=!0,e}}),I.ajaxPrefilter("json jsonp",(function(e,t,n){var o,r,a,s=!1!==e.jsonp&&(Yt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=E(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Yt,"$1"+o):!1!==e.jsonp&&(e.url+=(_t.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||I.error(o+" was not called"),a[0]},e.dataTypes[0]="json",r=i[o],i[o]=function(){a=arguments},n.always((function(){void 0===r?I(i).removeProp(o):i[o]=r,e[o]&&(e.jsonpCallback=t.jsonpCallback,Xt.push(o)),a&&E(r)&&r(a[0]),a=r=void 0})),"script"})),m.createHTMLDocument=((Gt=T.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Gt.childNodes.length),I.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(m.createHTMLDocument?((i=(t=T.implementation.createHTMLDocument("")).createElement("base")).href=T.location.href,t.head.appendChild(i)):t=T),r=!n&&[],(o=x.exec(e))?[t.createElement(o[1])]:(o=Oe([e],t,r),r&&r.length&&I(r).remove(),I.merge([],o.childNodes)));var i,o,r},I.fn.load=function(e,t,n){var i,o,r,a=this,s=e.indexOf(" ");return s>-1&&(i=Tt(e.slice(s)),e=e.slice(0,s)),E(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&I.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){r=arguments,a.html(i?I("<div>").append(I.parseHTML(e)).find(i):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,r||[e.responseText,t,e])}))}),this},I.expr.pseudos.animated=function(e){return I.grep(I.timers,(function(t){return e===t.elem})).length},I.offset={setOffset:function(e,t,n){var i,o,r,a,s,l,c=I.css(e,"position"),u=I(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),r=I.css(e,"top"),l=I.css(e,"left"),("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1?(a=(i=u.position()).top,o=i.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),E(t)&&(t=t.call(e,n,I.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):u.css(d)}},I.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){I.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],o={top:0,left:0};if("fixed"===I.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===I.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((o=I(e).offset()).top+=I.css(e,"borderTopWidth",!0),o.left+=I.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-I.css(i,"marginTop",!0),left:t.left-o.left-I.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===I.css(e,"position");)e=e.offsetParent;return e||ae}))}}),I.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;I.fn[e]=function(i){return z(this,(function(e,i,o){var r;if(v(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===o)return r?r[t]:e[i];r?r.scrollTo(n?r.pageXOffset:o,n?o:r.pageYOffset):e[i]=o}),e,i,arguments.length)}})),I.each(["top","left"],(function(e,t){I.cssHooks[t]=Ge(m.pixelPosition,(function(e,n){if(n)return n=We(e,t),Me.test(n)?I(e).position()[t]+"px":n}))})),I.each({Height:"height",Width:"width"},(function(e,t){I.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){I.fn[i]=function(o,r){var a=arguments.length&&(n||"boolean"!=typeof o),s=n||(!0===o||!0===r?"margin":"border");return z(this,(function(t,n,o){var r;return v(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===o?I.css(t,n,s):I.style(t,n,o,s)}),t,a?o:void 0,a)}}))})),I.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){I.fn[t]=function(e){return this.on(t,e)}})),I.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),I.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){I.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Zt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;I.proxy=function(e,t){var n,i,o;if("string"==typeof t&&(n=e[t],t=e,e=n),E(e))return i=s.call(arguments,2),o=function(){return e.apply(t||this,i.concat(s.call(arguments)))},o.guid=e.guid=e.guid||I.guid++,o},I.holdReady=function(e){e?I.readyWait++:I.ready(!0)},I.isArray=Array.isArray,I.parseJSON=JSON.parse,I.nodeName=K,I.isFunction=E,I.isWindow=v,I.camelCase=X,I.type=y,I.now=Date.now,I.isNumeric=function(e){var t=I.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},I.trim=function(e){return null==e?"":(e+"").replace(Zt,"$1")},void 0===(n=function(){return I}.apply(t,[]))||(e.exports=n);var Jt=i.jQuery,Qt=i.$;return I.noConflict=function(e){return i.$===I&&(i.$=Qt),e&&i.jQuery===I&&(i.jQuery=Jt),I},void 0===o&&(i.jQuery=i.$=I),I}))},40686:(e,t,n)=>{var i,o,r,a=n(19755);o=[n(19755)],i=function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;var n,i,o;return t&&t.requirejs||(t?i=t:t={},function(e){var t,r,a,s,l={},c={},u={},d={},h=Object.prototype.hasOwnProperty,f=[].slice,p=/\.js$/;function g(e,t){return h.call(e,t)}function m(e,t){var n,i,o,r,a,s,l,c,d,h,f,g=t&&t.split("/"),m=u.map,E=m&&m["*"]||{};if(e){for(a=(e=e.split("/")).length-1,u.nodeIdCompat&&p.test(e[a])&&(e[a]=e[a].replace(p,"")),"."===e[0].charAt(0)&&g&&(e=g.slice(0,g.length-1).concat(e)),d=0;d<e.length;d++)if("."===(f=e[d]))e.splice(d,1),d-=1;else if(".."===f){if(0===d||1===d&&".."===e[2]||".."===e[d-1])continue;d>0&&(e.splice(d-1,2),d-=2)}e=e.join("/")}if((g||E)&&m){for(d=(n=e.split("/")).length;d>0;d-=1){if(i=n.slice(0,d).join("/"),g)for(h=g.length;h>0;h-=1)if((o=m[g.slice(0,h).join("/")])&&(o=o[i])){r=o,s=d;break}if(r)break;!l&&E&&E[i]&&(l=E[i],c=d)}!r&&l&&(r=l,s=c),r&&(n.splice(0,s,r),e=n.join("/"))}return e}function E(t,n){return function(){var i=f.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),r.apply(e,i.concat([t,n]))}}function v(e){return function(t){return m(t,e)}}function T(e){return function(t){l[e]=t}}function b(n){if(g(c,n)){var i=c[n];delete c[n],d[n]=!0,t.apply(e,i)}if(!g(l,n)&&!g(d,n))throw new Error("No "+n);return l[n]}function C(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function y(e){return e?C(e):[]}function O(e){return function(){return u&&u.config&&u.config[e]||{}}}a=function(e,t){var n,i=C(e),o=i[0],r=t[1];return e=i[1],o&&(n=b(o=m(o,r))),o?e=n&&n.normalize?n.normalize(e,v(r)):m(e,r):(o=(i=C(e=m(e,r)))[0],e=i[1],o&&(n=b(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:n}},s={require:function(e){return E(e)},exports:function(e){var t=l[e];return void 0!==t?t:l[e]={}},module:function(e){return{id:e,uri:"",exports:l[e],config:O(e)}}},t=function(t,n,i,o){var r,u,h,f,p,m,v,C=[],O=typeof i;if(m=y(o=o||t),"undefined"===O||"function"===O){for(n=!n.length&&i.length?["require","exports","module"]:n,p=0;p<n.length;p+=1)if("require"===(u=(f=a(n[p],m)).f))C[p]=s.require(t);else if("exports"===u)C[p]=s.exports(t),v=!0;else if("module"===u)r=C[p]=s.module(t);else if(g(l,u)||g(c,u)||g(d,u))C[p]=b(u);else{if(!f.p)throw new Error(t+" missing "+u);f.p.load(f.n,E(o,!0),T(u),{}),C[p]=l[u]}h=i?i.apply(l[t],C):void 0,t&&(r&&r.exports!==e&&r.exports!==l[t]?l[t]=r.exports:h===e&&v||(l[t]=h))}else t&&(l[t]=i)},n=i=r=function(n,i,o,l,c){if("string"==typeof n)return s[n]?s[n](i):b(a(n,y(i)).f);if(!n.splice){if((u=n).deps&&r(u.deps,u.callback),!i)return;i.splice?(n=i,i=o,o=null):n=e}return i=i||function(){},"function"==typeof o&&(o=l,l=c),l?t(e,n,i,o):setTimeout((function(){t(e,n,i,o)}),4),r},r.config=function(e){return r(e)},n._defined=l,(o=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),g(l,e)||g(c,e)||(c[e]=[e,t,n])}).amd={jQuery:!0}}(),t.requirejs=n,t.require=i,t.define=o),t.define("almond",(function(){})),t.define("jquery",[],(function(){var t=e||a;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t})),t.define("select2/utils",["jquery"],(function(e){var t={};function n(e){var t=e.prototype,n=[];for(var i in t)"function"==typeof t[i]&&"constructor"!==i&&n.push(i);return n}t.Extend=function(e,t){var n={}.hasOwnProperty;function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},t.Decorate=function(e,t){var i=n(t),o=n(e);function r(){var n=Array.prototype.unshift,i=t.prototype.constructor.length,o=e.prototype.constructor;i>0&&(n.call(arguments,e.prototype.constructor),o=t.prototype.constructor),o.apply(this,arguments)}function a(){this.constructor=r}t.displayName=e.displayName,r.prototype=new a;for(var s=0;s<o.length;s++){var l=o[s];r.prototype[l]=e.prototype[l]}for(var c=function(e){var n=function(){};e in r.prototype&&(n=r.prototype[e]);var i=t.prototype[e];return function(){return Array.prototype.unshift.call(arguments,n),i.apply(this,arguments)}},u=0;u<i.length;u++){var d=i[u];r.prototype[d]=c(d)}return r};var i=function(){this.listeners={}};i.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},i.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=e,e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n].apply(this,t)},t.Observable=i,t.generateChars=function(e){for(var t="",n=0;n<e;n++)t+=Math.floor(36*Math.random()).toString(36);return t},t.bind=function(e,t){return function(){e.apply(t,arguments)}},t._convertData=function(e){for(var t in e){var n=t.split("-"),i=e;if(1!==n.length){for(var o=0;o<n.length;o++){var r=n[o];(r=r.substring(0,1).toLowerCase()+r.substring(1))in i||(i[r]={}),o==n.length-1&&(i[r]=e[t]),i=i[r]}delete e[t]}}return e},t.hasScroll=function(t,n){var i=e(n),o=n.style.overflowX,r=n.style.overflowY;return(o!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===o||"scroll"===r||i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth)},t.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,(function(e){return t[e]}))},t.__cache={};var o=0;return t.GetUniqueElementId=function(e){var n=e.getAttribute("data-select2-id");return null!=n||(n=e.id?"select2-data-"+e.id:"select2-data-"+(++o).toString()+"-"+t.generateChars(4),e.setAttribute("data-select2-id",n)),n},t.StoreData=function(e,n,i){var o=t.GetUniqueElementId(e);t.__cache[o]||(t.__cache[o]={}),t.__cache[o][n]=i},t.GetData=function(n,i){var o=t.GetUniqueElementId(n);return i?t.__cache[o]&&null!=t.__cache[o][i]?t.__cache[o][i]:e(n).data(i):t.__cache[o]},t.RemoveData=function(e){var n=t.GetUniqueElementId(e);null!=t.__cache[n]&&delete t.__cache[n],e.removeAttribute("data-select2-id")},t.copyNonInternalCssClasses=function(e,t){var n=e.getAttribute("class").trim().split(/\s+/);n=n.filter((function(e){return 0===e.indexOf("select2-")}));var i=t.getAttribute("class").trim().split(/\s+/);i=i.filter((function(e){return 0!==e.indexOf("select2-")}));var o=n.concat(i);e.setAttribute("class",o.join(" "))},t})),t.define("select2/results",["jquery","./utils"],(function(e,t){function n(e,t,i){this.$element=e,this.data=i,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=e('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),o=this.options.get("translations").get(t.message);i.append(n(o(t.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var i=e.results[n],o=this.option(i);t.push(o)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(e,t){t.find(".select2-results").append(e)},n.prototype.sort=function(e){return this.options.get("sorter")(e)},n.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option--selectable"),t=e.filter(".select2-results__option--selected");t.length>0?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var n=this;this.data.current((function(i){var o=i.map((function(e){return e.id.toString()}));n.$results.find(".select2-results__option--selectable").each((function(){var n=e(this),i=t.GetData(this,"data"),r=""+i.id;null!=i.element&&i.element.selected||null==i.element&&o.indexOf(r)>-1?(this.classList.add("select2-results__option--selected"),n.attr("aria-selected","true")):(this.classList.remove("select2-results__option--selected"),n.attr("aria-selected","false"))}))}))},n.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},n=this.option(t);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(n){var i=document.createElement("li");i.classList.add("select2-results__option"),i.classList.add("select2-results__option--selectable");var o={role:"option"},r=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var a in(null!=n.element&&r.call(n.element,":disabled")||null==n.element&&n.disabled)&&(o["aria-disabled"]="true",i.classList.remove("select2-results__option--selectable"),i.classList.add("select2-results__option--disabled")),null==n.id&&i.classList.remove("select2-results__option--selectable"),null!=n._resultId&&(i.id=n._resultId),n.title&&(i.title=n.title),n.children&&(o.role="group",o["aria-label"]=n.text,i.classList.remove("select2-results__option--selectable"),i.classList.add("select2-results__option--group")),o){var s=o[a];i.setAttribute(a,s)}if(n.children){var l=e(i),c=document.createElement("strong");c.className="select2-results__group",this.template(n,c);for(var u=[],d=0;d<n.children.length;d++){var h=n.children[d],f=this.option(h);u.push(f)}var p=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested",role:"none"});p.append(u),l.append(c),l.append(p)}else this.template(n,i);return t.StoreData(i,"data",n),i},n.prototype.bind=function(n,i){var o=this,r=n.id+"-results";this.$results.attr("id",r),n.on("results:all",(function(e){o.clear(),o.append(e.data),n.isOpen()&&(o.setClasses(),o.highlightFirstItem())})),n.on("results:append",(function(e){o.append(e.data),n.isOpen()&&o.setClasses()})),n.on("query",(function(e){o.hideMessages(),o.showLoading(e)})),n.on("select",(function(){n.isOpen()&&(o.setClasses(),o.options.get("scrollAfterSelect")&&o.highlightFirstItem())})),n.on("unselect",(function(){n.isOpen()&&(o.setClasses(),o.options.get("scrollAfterSelect")&&o.highlightFirstItem())})),n.on("open",(function(){o.$results.attr("aria-expanded","true"),o.$results.attr("aria-hidden","false"),o.setClasses(),o.ensureHighlightVisible()})),n.on("close",(function(){o.$results.attr("aria-expanded","false"),o.$results.attr("aria-hidden","true"),o.$results.removeAttr("aria-activedescendant")})),n.on("results:toggle",(function(){var e=o.getHighlightedResults();0!==e.length&&e.trigger("mouseup")})),n.on("results:select",(function(){var e=o.getHighlightedResults();if(0!==e.length){var n=t.GetData(e[0],"data");e.hasClass("select2-results__option--selected")?o.trigger("close",{}):o.trigger("select",{data:n})}})),n.on("results:previous",(function(){var e=o.getHighlightedResults(),t=o.$results.find(".select2-results__option--selectable"),n=t.index(e);if(!(n<=0)){var i=n-1;0===e.length&&(i=0);var r=t.eq(i);r.trigger("mouseenter");var a=o.$results.offset().top,s=r.offset().top,l=o.$results.scrollTop()+(s-a);0===i?o.$results.scrollTop(0):s-a<0&&o.$results.scrollTop(l)}})),n.on("results:next",(function(){var e=o.getHighlightedResults(),t=o.$results.find(".select2-results__option--selectable"),n=t.index(e)+1;if(!(n>=t.length)){var i=t.eq(n);i.trigger("mouseenter");var r=o.$results.offset().top+o.$results.outerHeight(!1),a=i.offset().top+i.outerHeight(!1),s=o.$results.scrollTop()+a-r;0===n?o.$results.scrollTop(0):a>r&&o.$results.scrollTop(s)}})),n.on("results:focus",(function(e){e.element[0].classList.add("select2-results__option--highlighted"),e.element[0].setAttribute("aria-selected","true")})),n.on("results:message",(function(e){o.displayMessage(e)})),e.fn.mousewheel&&this.$results.on("mousewheel",(function(e){var t=o.$results.scrollTop(),n=o.$results.get(0).scrollHeight-t+e.deltaY,i=e.deltaY>0&&t-e.deltaY<=0,r=e.deltaY<0&&n<=o.$results.height();i?(o.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):r&&(o.$results.scrollTop(o.$results.get(0).scrollHeight-o.$results.height()),e.preventDefault(),e.stopPropagation())})),this.$results.on("mouseup",".select2-results__option--selectable",(function(n){var i=e(this),r=t.GetData(this,"data");i.hasClass("select2-results__option--selected")?o.options.get("multiple")?o.trigger("unselect",{originalEvent:n,data:r}):o.trigger("close",{}):o.trigger("select",{originalEvent:n,data:r})})),this.$results.on("mouseenter",".select2-results__option--selectable",(function(n){var i=t.GetData(this,"data");o.getHighlightedResults().removeClass("select2-results__option--highlighted").attr("aria-selected","false"),o.trigger("results:focus",{data:i,element:e(this)})}))},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find(".select2-results__option--selectable").index(e),n=this.$results.offset().top,i=e.offset().top,o=this.$results.scrollTop()+(i-n),r=i-n;o-=2*e.outerHeight(!1),t<=2?this.$results.scrollTop(0):(r>this.$results.outerHeight()||r<0)&&this.$results.scrollTop(o)}},n.prototype.template=function(t,n){var i=this.options.get("templateResult"),o=this.options.get("escapeMarkup"),r=i(t,n);null==r?n.style.display="none":"string"==typeof r?n.innerHTML=o(r):e(n).append(r)},n})),t.define("select2/keys",[],(function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}})),t.define("select2/selection/base",["jquery","../utils","../keys"],(function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var n=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=t.GetData(this.$element[0],"old-tabindex")?this._tabindex=t.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),n.attr("title",this.$element.attr("title")),n.attr("tabindex",this._tabindex),n.attr("aria-disabled","false"),this.$selection=n,n},i.prototype.bind=function(e,t){var i=this,o=e.id+"-results";this.container=e,this.$selection.on("focus",(function(e){i.trigger("focus",e)})),this.$selection.on("blur",(function(e){i._handleBlur(e)})),this.$selection.on("keydown",(function(e){i.trigger("keypress",e),e.which===n.SPACE&&e.preventDefault()})),e.on("results:focus",(function(e){i.$selection.attr("aria-activedescendant",e.data._resultId)})),e.on("selection:update",(function(e){i.update(e.data)})),e.on("open",(function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",o),i._attachCloseHandler(e)})),e.on("close",(function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.trigger("focus"),i._detachCloseHandler(e)})),e.on("enable",(function(){i.$selection.attr("tabindex",i._tabindex),i.$selection.attr("aria-disabled","false")})),e.on("disable",(function(){i.$selection.attr("tabindex","-1"),i.$selection.attr("aria-disabled","true")}))},i.prototype._handleBlur=function(t){var n=this;window.setTimeout((function(){document.activeElement==n.$selection[0]||e.contains(n.$selection[0],document.activeElement)||n.trigger("blur",t)}),1)},i.prototype._attachCloseHandler=function(n){e(document.body).on("mousedown.select2."+n.id,(function(n){var i=e(n.target).closest(".select2");e(".select2.select2-container--open").each((function(){this!=i[0]&&t.GetData(this,"element").select2("close")}))}))},i.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},i.prototype.position=function(e,t){t.find(".selection").append(e)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},i.prototype.isEnabled=function(){return!this.isDisabled()},i.prototype.isDisabled=function(){return this.options.get("disabled")},i})),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],(function(e,t,n,i){function o(){o.__super__.constructor.apply(this,arguments)}return n.Extend(o,t),o.prototype.render=function(){var e=o.__super__.render.call(this);return e[0].classList.add("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},o.prototype.bind=function(e,t){var n=this;o.__super__.bind.apply(this,arguments);var i=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",i),this.$selection.attr("aria-controls",i),this.$selection.on("mousedown",(function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})})),this.$selection.on("focus",(function(e){})),this.$selection.on("blur",(function(e){})),e.on("focus",(function(t){e.isOpen()||n.$selection.trigger("focus")}))},o.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},o.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},o.prototype.selectionContainer=function(){return e("<span></span>")},o.prototype.update=function(e){if(0!==e.length){var t=e[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(t,n);n.empty().append(i);var o=t.title||t.text;o?n.attr("title",o):n.removeAttr("title")}else this.clear()},o})),t.define("select2/selection/multiple",["jquery","./base","../utils"],(function(e,t,n){function i(e,t){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,t),i.prototype.render=function(){var e=i.__super__.render.call(this);return e[0].classList.add("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},i.prototype.bind=function(t,o){var r=this;i.__super__.bind.apply(this,arguments);var a=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",a),this.$selection.on("click",(function(e){r.trigger("toggle",{originalEvent:e})})),this.$selection.on("click",".select2-selection__choice__remove",(function(t){if(!r.isDisabled()){var i=e(this).parent(),o=n.GetData(i[0],"data");r.trigger("unselect",{originalEvent:t,data:o})}})),this.$selection.on("keydown",".select2-selection__choice__remove",(function(e){r.isDisabled()||e.stopPropagation()}))},i.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},i.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},i.prototype.selectionContainer=function(){return e('<li class="select2-selection__choice"><button type="button" class="select2-selection__choice__remove" tabindex="-1"><span aria-hidden="true">&times;</span></button><span class="select2-selection__choice__display"></span></li>')},i.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],i=this.$selection.find(".select2-selection__rendered").attr("id")+"-choice-",o=0;o<e.length;o++){var r=e[o],a=this.selectionContainer(),s=this.display(r,a),l=i+n.generateChars(4)+"-";r.id?l+=r.id:l+=n.generateChars(4),a.find(".select2-selection__choice__display").append(s).attr("id",l);var c=r.title||r.text;c&&a.attr("title",c);var u=this.options.get("translations").get("removeItem"),d=a.find(".select2-selection__choice__remove");d.attr("title",u()),d.attr("aria-label",u()),d.attr("aria-describedby",l),n.StoreData(a[0],"data",r),t.push(a)}this.$selection.find(".select2-selection__rendered").append(t)}},i})),t.define("select2/selection/placeholder",[],(function(){function e(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();n.html(this.display(t)),n[0].classList.add("select2-selection__placeholder"),n[0].classList.remove("select2-selection__choice");var i=t.title||t.text||n.text();return this.$selection.find(".select2-selection__rendered").attr("title",i),n},e.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(t.length>1||n)return e.call(this,t);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},e})),t.define("select2/selection/allowClear",["jquery","../keys","../utils"],(function(e,t,n){function i(){}return i.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",(function(e){i._handleClear(e)})),t.on("keypress",(function(e){i._handleKeyboardClear(e,t)}))},i.prototype._handleClear=function(e,t){if(!this.isDisabled()){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){t.stopPropagation();var o=n.GetData(i[0],"data"),r=this.$element.val();this.$element.val(this.placeholder.id);var a={data:o};if(this.trigger("clear",a),a.prevented)this.$element.val(r);else{for(var s=0;s<o.length;s++)if(a={data:o[s]},this.trigger("unselect",a),a.prevented)return void this.$element.val(r);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},i.prototype._handleKeyboardClear=function(e,n,i){i.isOpen()||n.which!=t.DELETE&&n.which!=t.BACKSPACE||this._handleClear(n)},i.prototype.update=function(t,i){if(t.call(this,i),this.$selection.find(".select2-selection__clear").remove(),this.$selection[0].classList.remove("select2-selection--clearable"),!(this.$selection.find(".select2-selection__placeholder").length>0||0===i.length)){var o=this.$selection.find(".select2-selection__rendered").attr("id"),r=this.options.get("translations").get("removeAllItems"),a=e('<button type="button" class="select2-selection__clear" tabindex="-1"><span aria-hidden="true">&times;</span></button>');a.attr("title",r()),a.attr("aria-label",r()),a.attr("aria-describedby",o),n.StoreData(a[0],"data",i),this.$selection.prepend(a),this.$selection[0].classList.add("select2-selection--clearable")}},i})),t.define("select2/selection/search",["jquery","../utils","../keys"],(function(e,t,n){function i(e,t,n){e.call(this,t,n)}return i.prototype.render=function(t){var n=this.options.get("translations").get("search"),i=e('<span class="select2-search select2-search--inline"><textarea class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" ></textarea></span>');this.$searchContainer=i,this.$search=i.find("textarea"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",n());var o=t.call(this);return this._transferTabIndex(),o.append(this.$searchContainer),o},i.prototype.bind=function(e,i,o){var r=this,a=i.id+"-results",s=i.id+"-container";e.call(this,i,o),r.$search.attr("aria-describedby",s),i.on("open",(function(){r.$search.attr("aria-controls",a),r.$search.trigger("focus")})),i.on("close",(function(){r.$search.val(""),r.resizeSearch(),r.$search.removeAttr("aria-controls"),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")})),i.on("enable",(function(){r.$search.prop("disabled",!1),r._transferTabIndex()})),i.on("disable",(function(){r.$search.prop("disabled",!0)})),i.on("focus",(function(e){r.$search.trigger("focus")})),i.on("results:focus",(function(e){e.data._resultId?r.$search.attr("aria-activedescendant",e.data._resultId):r.$search.removeAttr("aria-activedescendant")})),this.$selection.on("focusin",".select2-search--inline",(function(e){r.trigger("focus",e)})),this.$selection.on("focusout",".select2-search--inline",(function(e){r._handleBlur(e)})),this.$selection.on("keydown",".select2-search--inline",(function(e){if(e.stopPropagation(),r.trigger("keypress",e),r._keyUpPrevented=e.isDefaultPrevented(),e.which===n.BACKSPACE&&""===r.$search.val()){var i=r.$selection.find(".select2-selection__choice").last();if(i.length>0){var o=t.GetData(i[0],"data");r.searchRemoveChoice(o),e.preventDefault()}}})),this.$selection.on("click",".select2-search--inline",(function(e){r.$search.val()&&e.stopPropagation()}));var l=document.documentMode,c=l&&l<=11;this.$selection.on("input.searchcheck",".select2-search--inline",(function(e){c?r.$selection.off("input.search input.searchcheck"):r.$selection.off("keyup.search")})),this.$selection.on("keyup.search input.search",".select2-search--inline",(function(e){if(c&&"input"===e.type)r.$selection.off("input.search input.searchcheck");else{var t=e.which;t!=n.SHIFT&&t!=n.CTRL&&t!=n.ALT&&t!=n.TAB&&r.handleSearch(e)}}))},i.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},i.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.resizeSearch(),n&&this.$search.trigger("focus")},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="100%";""===this.$search.attr("placeholder")&&(e=.75*(this.$search.val().length+1)+"em"),this.$search.css("width",e)},i})),t.define("select2/selection/selectionCss",["../utils"],(function(e){function t(){}return t.prototype.render=function(t){var n=t.call(this),i=this.options.get("selectionCssClass")||"";return-1!==i.indexOf(":all:")&&(i=i.replace(":all:",""),e.copyNonInternalCssClasses(n[0],this.$element[0])),n.addClass(i),n},t})),t.define("select2/selection/eventRelay",["jquery"],(function(e){function t(){}return t.prototype.bind=function(t,n,i){var o=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],a=["opening","closing","selecting","unselecting","clearing"];t.call(this,n,i),n.on("*",(function(t,n){if(-1!==r.indexOf(t)){n=n||{};var i=e.Event("select2:"+t,{params:n});o.$element.trigger(i),-1!==a.indexOf(t)&&(n.prevented=i.isDefaultPrevented())}}))},t})),t.define("select2/translation",["jquery","require"],(function(e,t){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(e){if(!(e in n._cache)){var i=t(e);n._cache[e]=i}return new n(n._cache[e])},n})),t.define("select2/diacritics",[],(function(){return{"Ⓐ":"A",Ａ:"A",À:"A",Á:"A",Â:"A",Ầ:"A",Ấ:"A",Ẫ:"A",Ẩ:"A",Ã:"A",Ā:"A",Ă:"A",Ằ:"A",Ắ:"A",Ẵ:"A",Ẳ:"A",Ȧ:"A",Ǡ:"A",Ä:"A",Ǟ:"A",Ả:"A",Å:"A",Ǻ:"A",Ǎ:"A",Ȁ:"A",Ȃ:"A",Ạ:"A",Ậ:"A",Ặ:"A",Ḁ:"A",Ą:"A",Ⱥ:"A",Ɐ:"A",Ꜳ:"AA",Æ:"AE",Ǽ:"AE",Ǣ:"AE",Ꜵ:"AO",Ꜷ:"AU",Ꜹ:"AV",Ꜻ:"AV",Ꜽ:"AY","Ⓑ":"B",Ｂ:"B",Ḃ:"B",Ḅ:"B",Ḇ:"B",Ƀ:"B",Ƃ:"B",Ɓ:"B","Ⓒ":"C",Ｃ:"C",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",Ç:"C",Ḉ:"C",Ƈ:"C",Ȼ:"C",Ꜿ:"C","Ⓓ":"D",Ｄ:"D",Ḋ:"D",Ď:"D",Ḍ:"D",Ḑ:"D",Ḓ:"D",Ḏ:"D",Đ:"D",Ƌ:"D",Ɗ:"D",Ɖ:"D",Ꝺ:"D",Ǳ:"DZ",Ǆ:"DZ",ǲ:"Dz",ǅ:"Dz","Ⓔ":"E",Ｅ:"E",È:"E",É:"E",Ê:"E",Ề:"E",Ế:"E",Ễ:"E",Ể:"E",Ẽ:"E",Ē:"E",Ḕ:"E",Ḗ:"E",Ĕ:"E",Ė:"E",Ë:"E",Ẻ:"E",Ě:"E",Ȅ:"E",Ȇ:"E",Ẹ:"E",Ệ:"E",Ȩ:"E",Ḝ:"E",Ę:"E",Ḙ:"E",Ḛ:"E",Ɛ:"E",Ǝ:"E","Ⓕ":"F",Ｆ:"F",Ḟ:"F",Ƒ:"F",Ꝼ:"F","Ⓖ":"G",Ｇ:"G",Ǵ:"G",Ĝ:"G",Ḡ:"G",Ğ:"G",Ġ:"G",Ǧ:"G",Ģ:"G",Ǥ:"G",Ɠ:"G",Ꞡ:"G",Ᵹ:"G",Ꝿ:"G","Ⓗ":"H",Ｈ:"H",Ĥ:"H",Ḣ:"H",Ḧ:"H",Ȟ:"H",Ḥ:"H",Ḩ:"H",Ḫ:"H",Ħ:"H",Ⱨ:"H",Ⱶ:"H",Ɥ:"H","Ⓘ":"I",Ｉ:"I",Ì:"I",Í:"I",Î:"I",Ĩ:"I",Ī:"I",Ĭ:"I",İ:"I",Ï:"I",Ḯ:"I",Ỉ:"I",Ǐ:"I",Ȉ:"I",Ȋ:"I",Ị:"I",Į:"I",Ḭ:"I",Ɨ:"I","Ⓙ":"J",Ｊ:"J",Ĵ:"J",Ɉ:"J","Ⓚ":"K",Ｋ:"K",Ḱ:"K",Ǩ:"K",Ḳ:"K",Ķ:"K",Ḵ:"K",Ƙ:"K",Ⱪ:"K",Ꝁ:"K",Ꝃ:"K",Ꝅ:"K",Ꞣ:"K","Ⓛ":"L",Ｌ:"L",Ŀ:"L",Ĺ:"L",Ľ:"L",Ḷ:"L",Ḹ:"L",Ļ:"L",Ḽ:"L",Ḻ:"L",Ł:"L",Ƚ:"L",Ɫ:"L",Ⱡ:"L",Ꝉ:"L",Ꝇ:"L",Ꞁ:"L",Ǉ:"LJ",ǈ:"Lj","Ⓜ":"M",Ｍ:"M",Ḿ:"M",Ṁ:"M",Ṃ:"M",Ɱ:"M",Ɯ:"M","Ⓝ":"N",Ｎ:"N",Ǹ:"N",Ń:"N",Ñ:"N",Ṅ:"N",Ň:"N",Ṇ:"N",Ņ:"N",Ṋ:"N",Ṉ:"N",Ƞ:"N",Ɲ:"N",Ꞑ:"N",Ꞥ:"N",Ǌ:"NJ",ǋ:"Nj","Ⓞ":"O",Ｏ:"O",Ò:"O",Ó:"O",Ô:"O",Ồ:"O",Ố:"O",Ỗ:"O",Ổ:"O",Õ:"O",Ṍ:"O",Ȭ:"O",Ṏ:"O",Ō:"O",Ṑ:"O",Ṓ:"O",Ŏ:"O",Ȯ:"O",Ȱ:"O",Ö:"O",Ȫ:"O",Ỏ:"O",Ő:"O",Ǒ:"O",Ȍ:"O",Ȏ:"O",Ơ:"O",Ờ:"O",Ớ:"O",Ỡ:"O",Ở:"O",Ợ:"O",Ọ:"O",Ộ:"O",Ǫ:"O",Ǭ:"O",Ø:"O",Ǿ:"O",Ɔ:"O",Ɵ:"O",Ꝋ:"O",Ꝍ:"O",Œ:"OE",Ƣ:"OI",Ꝏ:"OO",Ȣ:"OU","Ⓟ":"P",Ｐ:"P",Ṕ:"P",Ṗ:"P",Ƥ:"P",Ᵽ:"P",Ꝑ:"P",Ꝓ:"P",Ꝕ:"P","Ⓠ":"Q",Ｑ:"Q",Ꝗ:"Q",Ꝙ:"Q",Ɋ:"Q","Ⓡ":"R",Ｒ:"R",Ŕ:"R",Ṙ:"R",Ř:"R",Ȑ:"R",Ȓ:"R",Ṛ:"R",Ṝ:"R",Ŗ:"R",Ṟ:"R",Ɍ:"R",Ɽ:"R",Ꝛ:"R",Ꞧ:"R",Ꞃ:"R","Ⓢ":"S",Ｓ:"S",ẞ:"S",Ś:"S",Ṥ:"S",Ŝ:"S",Ṡ:"S",Š:"S",Ṧ:"S",Ṣ:"S",Ṩ:"S",Ș:"S",Ş:"S",Ȿ:"S",Ꞩ:"S",Ꞅ:"S","Ⓣ":"T",Ｔ:"T",Ṫ:"T",Ť:"T",Ṭ:"T",Ț:"T",Ţ:"T",Ṱ:"T",Ṯ:"T",Ŧ:"T",Ƭ:"T",Ʈ:"T",Ⱦ:"T",Ꞇ:"T",Ꜩ:"TZ","Ⓤ":"U",Ｕ:"U",Ù:"U",Ú:"U",Û:"U",Ũ:"U",Ṹ:"U",Ū:"U",Ṻ:"U",Ŭ:"U",Ü:"U",Ǜ:"U",Ǘ:"U",Ǖ:"U",Ǚ:"U",Ủ:"U",Ů:"U",Ű:"U",Ǔ:"U",Ȕ:"U",Ȗ:"U",Ư:"U",Ừ:"U",Ứ:"U",Ữ:"U",Ử:"U",Ự:"U",Ụ:"U",Ṳ:"U",Ų:"U",Ṷ:"U",Ṵ:"U",Ʉ:"U","Ⓥ":"V",Ｖ:"V",Ṽ:"V",Ṿ:"V",Ʋ:"V",Ꝟ:"V",Ʌ:"V",Ꝡ:"VY","Ⓦ":"W",Ｗ:"W",Ẁ:"W",Ẃ:"W",Ŵ:"W",Ẇ:"W",Ẅ:"W",Ẉ:"W",Ⱳ:"W","Ⓧ":"X",Ｘ:"X",Ẋ:"X",Ẍ:"X","Ⓨ":"Y",Ｙ:"Y",Ỳ:"Y",Ý:"Y",Ŷ:"Y",Ỹ:"Y",Ȳ:"Y",Ẏ:"Y",Ÿ:"Y",Ỷ:"Y",Ỵ:"Y",Ƴ:"Y",Ɏ:"Y",Ỿ:"Y","Ⓩ":"Z",Ｚ:"Z",Ź:"Z",Ẑ:"Z",Ż:"Z",Ž:"Z",Ẓ:"Z",Ẕ:"Z",Ƶ:"Z",Ȥ:"Z",Ɀ:"Z",Ⱬ:"Z",Ꝣ:"Z","ⓐ":"a",ａ:"a",ẚ:"a",à:"a",á:"a",â:"a",ầ:"a",ấ:"a",ẫ:"a",ẩ:"a",ã:"a",ā:"a",ă:"a",ằ:"a",ắ:"a",ẵ:"a",ẳ:"a",ȧ:"a",ǡ:"a",ä:"a",ǟ:"a",ả:"a",å:"a",ǻ:"a",ǎ:"a",ȁ:"a",ȃ:"a",ạ:"a",ậ:"a",ặ:"a",ḁ:"a",ą:"a",ⱥ:"a",ɐ:"a",ꜳ:"aa",æ:"ae",ǽ:"ae",ǣ:"ae",ꜵ:"ao",ꜷ:"au",ꜹ:"av",ꜻ:"av",ꜽ:"ay","ⓑ":"b",ｂ:"b",ḃ:"b",ḅ:"b",ḇ:"b",ƀ:"b",ƃ:"b",ɓ:"b","ⓒ":"c",ｃ:"c",ć:"c",ĉ:"c",ċ:"c",č:"c",ç:"c",ḉ:"c",ƈ:"c",ȼ:"c",ꜿ:"c",ↄ:"c","ⓓ":"d",ｄ:"d",ḋ:"d",ď:"d",ḍ:"d",ḑ:"d",ḓ:"d",ḏ:"d",đ:"d",ƌ:"d",ɖ:"d",ɗ:"d",ꝺ:"d",ǳ:"dz",ǆ:"dz","ⓔ":"e",ｅ:"e",è:"e",é:"e",ê:"e",ề:"e",ế:"e",ễ:"e",ể:"e",ẽ:"e",ē:"e",ḕ:"e",ḗ:"e",ĕ:"e",ė:"e",ë:"e",ẻ:"e",ě:"e",ȅ:"e",ȇ:"e",ẹ:"e",ệ:"e",ȩ:"e",ḝ:"e",ę:"e",ḙ:"e",ḛ:"e",ɇ:"e",ɛ:"e",ǝ:"e","ⓕ":"f",ｆ:"f",ḟ:"f",ƒ:"f",ꝼ:"f","ⓖ":"g",ｇ:"g",ǵ:"g",ĝ:"g",ḡ:"g",ğ:"g",ġ:"g",ǧ:"g",ģ:"g",ǥ:"g",ɠ:"g",ꞡ:"g",ᵹ:"g",ꝿ:"g","ⓗ":"h",ｈ:"h",ĥ:"h",ḣ:"h",ḧ:"h",ȟ:"h",ḥ:"h",ḩ:"h",ḫ:"h",ẖ:"h",ħ:"h",ⱨ:"h",ⱶ:"h",ɥ:"h",ƕ:"hv","ⓘ":"i",ｉ:"i",ì:"i",í:"i",î:"i",ĩ:"i",ī:"i",ĭ:"i",ï:"i",ḯ:"i",ỉ:"i",ǐ:"i",ȉ:"i",ȋ:"i",ị:"i",į:"i",ḭ:"i",ɨ:"i",ı:"i","ⓙ":"j",ｊ:"j",ĵ:"j",ǰ:"j",ɉ:"j","ⓚ":"k",ｋ:"k",ḱ:"k",ǩ:"k",ḳ:"k",ķ:"k",ḵ:"k",ƙ:"k",ⱪ:"k",ꝁ:"k",ꝃ:"k",ꝅ:"k",ꞣ:"k","ⓛ":"l",ｌ:"l",ŀ:"l",ĺ:"l",ľ:"l",ḷ:"l",ḹ:"l",ļ:"l",ḽ:"l",ḻ:"l",ſ:"l",ł:"l",ƚ:"l",ɫ:"l",ⱡ:"l",ꝉ:"l",ꞁ:"l",ꝇ:"l",ǉ:"lj","ⓜ":"m",ｍ:"m",ḿ:"m",ṁ:"m",ṃ:"m",ɱ:"m",ɯ:"m","ⓝ":"n",ｎ:"n",ǹ:"n",ń:"n",ñ:"n",ṅ:"n",ň:"n",ṇ:"n",ņ:"n",ṋ:"n",ṉ:"n",ƞ:"n",ɲ:"n",ŉ:"n",ꞑ:"n",ꞥ:"n",ǌ:"nj","ⓞ":"o",ｏ:"o",ò:"o",ó:"o",ô:"o",ồ:"o",ố:"o",ỗ:"o",ổ:"o",õ:"o",ṍ:"o",ȭ:"o",ṏ:"o",ō:"o",ṑ:"o",ṓ:"o",ŏ:"o",ȯ:"o",ȱ:"o",ö:"o",ȫ:"o",ỏ:"o",ő:"o",ǒ:"o",ȍ:"o",ȏ:"o",ơ:"o",ờ:"o",ớ:"o",ỡ:"o",ở:"o",ợ:"o",ọ:"o",ộ:"o",ǫ:"o",ǭ:"o",ø:"o",ǿ:"o",ɔ:"o",ꝋ:"o",ꝍ:"o",ɵ:"o",œ:"oe",ƣ:"oi",ȣ:"ou",ꝏ:"oo","ⓟ":"p",ｐ:"p",ṕ:"p",ṗ:"p",ƥ:"p",ᵽ:"p",ꝑ:"p",ꝓ:"p",ꝕ:"p","ⓠ":"q",ｑ:"q",ɋ:"q",ꝗ:"q",ꝙ:"q","ⓡ":"r",ｒ:"r",ŕ:"r",ṙ:"r",ř:"r",ȑ:"r",ȓ:"r",ṛ:"r",ṝ:"r",ŗ:"r",ṟ:"r",ɍ:"r",ɽ:"r",ꝛ:"r",ꞧ:"r",ꞃ:"r","ⓢ":"s",ｓ:"s",ß:"s",ś:"s",ṥ:"s",ŝ:"s",ṡ:"s",š:"s",ṧ:"s",ṣ:"s",ṩ:"s",ș:"s",ş:"s",ȿ:"s",ꞩ:"s",ꞅ:"s",ẛ:"s","ⓣ":"t",ｔ:"t",ṫ:"t",ẗ:"t",ť:"t",ṭ:"t",ț:"t",ţ:"t",ṱ:"t",ṯ:"t",ŧ:"t",ƭ:"t",ʈ:"t",ⱦ:"t",ꞇ:"t",ꜩ:"tz","ⓤ":"u",ｕ:"u",ù:"u",ú:"u",û:"u",ũ:"u",ṹ:"u",ū:"u",ṻ:"u",ŭ:"u",ü:"u",ǜ:"u",ǘ:"u",ǖ:"u",ǚ:"u",ủ:"u",ů:"u",ű:"u",ǔ:"u",ȕ:"u",ȗ:"u",ư:"u",ừ:"u",ứ:"u",ữ:"u",ử:"u",ự:"u",ụ:"u",ṳ:"u",ų:"u",ṷ:"u",ṵ:"u",ʉ:"u","ⓥ":"v",ｖ:"v",ṽ:"v",ṿ:"v",ʋ:"v",ꝟ:"v",ʌ:"v",ꝡ:"vy","ⓦ":"w",ｗ:"w",ẁ:"w",ẃ:"w",ŵ:"w",ẇ:"w",ẅ:"w",ẘ:"w",ẉ:"w",ⱳ:"w","ⓧ":"x",ｘ:"x",ẋ:"x",ẍ:"x","ⓨ":"y",ｙ:"y",ỳ:"y",ý:"y",ŷ:"y",ỹ:"y",ȳ:"y",ẏ:"y",ÿ:"y",ỷ:"y",ẙ:"y",ỵ:"y",ƴ:"y",ɏ:"y",ỿ:"y","ⓩ":"z",ｚ:"z",ź:"z",ẑ:"z",ż:"z",ž:"z",ẓ:"z",ẕ:"z",ƶ:"z",ȥ:"z",ɀ:"z",ⱬ:"z",ꝣ:"z",Ά:"Α",Έ:"Ε",Ή:"Η",Ί:"Ι",Ϊ:"Ι",Ό:"Ο",Ύ:"Υ",Ϋ:"Υ",Ώ:"Ω",ά:"α",έ:"ε",ή:"η",ί:"ι",ϊ:"ι",ΐ:"ι",ό:"ο",ύ:"υ",ϋ:"υ",ΰ:"υ",ώ:"ω",ς:"σ","’":"'"}})),t.define("select2/data/base",["../utils"],(function(e){function t(e,n){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,n){var i=t.id+"-result-";return i+=e.generateChars(4),null!=n.id?i+="-"+n.id.toString():i+="-"+e.generateChars(4),i},t})),t.define("select2/data/select",["./base","../utils","jquery"],(function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,e),i.prototype.current=function(e){var t=this;e(Array.prototype.map.call(this.$element[0].querySelectorAll(":checked"),(function(e){return t.item(n(e))})))},i.prototype.select=function(e){var t=this;if(e.selected=!0,null!=e.element&&"option"===e.element.tagName.toLowerCase())return e.element.selected=!0,void this.$element.trigger("input").trigger("change");if(this.$element.prop("multiple"))this.current((function(n){var i=[];(e=[e]).push.apply(e,n);for(var o=0;o<e.length;o++){var r=e[o].id;-1===i.indexOf(r)&&i.push(r)}t.$element.val(i),t.$element.trigger("input").trigger("change")}));else{var n=e.id;this.$element.val(n),this.$element.trigger("input").trigger("change")}},i.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple")){if(e.selected=!1,null!=e.element&&"option"===e.element.tagName.toLowerCase())return e.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current((function(n){for(var i=[],o=0;o<n.length;o++){var r=n[o].id;r!==e.id&&-1===i.indexOf(r)&&i.push(r)}t.$element.val(i),t.$element.trigger("input").trigger("change")}))}},i.prototype.bind=function(e,t){var n=this;this.container=e,e.on("select",(function(e){n.select(e.data)})),e.on("unselect",(function(e){n.unselect(e.data)}))},i.prototype.destroy=function(){this.$element.find("*").each((function(){t.RemoveData(this)}))},i.prototype.query=function(e,t){var i=[],o=this;this.$element.children().each((function(){if("option"===this.tagName.toLowerCase()||"optgroup"===this.tagName.toLowerCase()){var t=n(this),r=o.item(t),a=o.matches(e,r);null!==a&&i.push(a)}})),t({results:i})},i.prototype.addOptions=function(e){this.$element.append(e)},i.prototype.option=function(e){var i;e.children?(i=document.createElement("optgroup")).label=e.text:void 0!==(i=document.createElement("option")).textContent?i.textContent=e.text:i.innerText=e.text,void 0!==e.id&&(i.value=e.id),e.disabled&&(i.disabled=!0),e.selected&&(i.selected=!0),e.title&&(i.title=e.title);var o=this._normalizeItem(e);return o.element=i,t.StoreData(i,"data",o),n(i)},i.prototype.item=function(e){var i={};if(null!=(i=t.GetData(e[0],"data")))return i;var o=e[0];if("option"===o.tagName.toLowerCase())i={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if("optgroup"===o.tagName.toLowerCase()){i={text:e.prop("label"),children:[],title:e.prop("title")};for(var r=e.children("option"),a=[],s=0;s<r.length;s++){var l=n(r[s]),c=this.item(l);a.push(c)}i.children=a}return(i=this._normalizeItem(i)).element=e[0],t.StoreData(e[0],"data",i),i},i.prototype._normalizeItem=function(e){e!==Object(e)&&(e={id:e,text:e});var t={selected:!1,disabled:!1};return null!=(e=n.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),n.extend({},t,e)},i.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},i})),t.define("select2/data/array",["./select","../utils","jquery"],(function(e,t,n){function i(e,t){this._dataToConvert=t.get("data")||[],i.__super__.constructor.call(this,e,t)}return t.Extend(i,e),i.prototype.bind=function(e,t){i.__super__.bind.call(this,e,t),this.addOptions(this.convertToOptions(this._dataToConvert))},i.prototype.select=function(e){var t=this.$element.find("option").filter((function(t,n){return n.value==e.id.toString()}));0===t.length&&(t=this.option(e),this.addOptions(t)),i.__super__.select.call(this,e)},i.prototype.convertToOptions=function(e){var t=this,i=this.$element.find("option"),o=i.map((function(){return t.item(n(this)).id})).get(),r=[];function a(e){return function(){return n(this).val()==e.id}}for(var s=0;s<e.length;s++){var l=this._normalizeItem(e[s]);if(o.indexOf(l.id)>=0){var c=i.filter(a(l)),u=this.item(c),d=n.extend(!0,{},l,u),h=this.option(d);c.replaceWith(h)}else{var f=this.option(l);if(l.children){var p=this.convertToOptions(l.children);f.append(p)}r.push(f)}}return r},i})),t.define("select2/data/ajax",["./array","../utils","jquery"],(function(e,t,n){function i(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,e,t)}return t.Extend(i,e),i.prototype._applyDefaults=function(e){var t={data:function(e){return n.extend({},e,{q:e.term})},transport:function(e,t,i){var o=n.ajax(e);return o.then(t),o.fail(i),o}};return n.extend({},t,e,!0)},i.prototype.processResults=function(e){return e},i.prototype.query=function(e,t){var i=this;null!=this._request&&("function"==typeof this._request.abort&&this._request.abort(),this._request=null);var o=n.extend({type:"GET"},this.ajaxOptions);function r(){var n=o.transport(o,(function(n){var o=i.processResults(n,e);i.options.get("debug")&&window.console&&console.error&&(o&&o.results&&Array.isArray(o.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(o)}),(function(){(!("status"in n)||0!==n.status&&"0"!==n.status)&&i.trigger("results:message",{message:"errorLoading"})}));i._request=n}"function"==typeof o.url&&(o.url=o.url.call(this.$element,e)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(r,this.ajaxOptions.delay)):r()},i})),t.define("select2/data/tags",["jquery"],(function(e){function t(e,t,n){var i=n.get("tags"),o=n.get("createTag");void 0!==o&&(this.createTag=o);var r=n.get("insertTag");if(void 0!==r&&(this.insertTag=r),e.call(this,t,n),Array.isArray(i))for(var a=0;a<i.length;a++){var s=i[a],l=this._normalizeItem(s),c=this.option(l);this.$element.append(c)}}return t.prototype.query=function(e,t,n){var i=this;function o(e,r){for(var a=e.results,s=0;s<a.length;s++){var l=a[s],c=null!=l.children&&!o({results:l.children},!0);if((l.text||"").toUpperCase()===(t.term||"").toUpperCase()||c)return!r&&(e.data=a,void n(e))}if(r)return!0;var u=i.createTag(t);if(null!=u){var d=i.option(u);d.attr("data-select2-tag","true"),i.addOptions([d]),i.insertTag(a,u)}e.results=a,n(e)}this._removeOldTags(),null!=t.term&&null==t.page?e.call(this,t,o):e.call(this,t,n)},t.prototype.createTag=function(e,t){if(null==t.term)return null;var n=t.term.trim();return""===n?null:{id:n,text:n}},t.prototype.insertTag=function(e,t,n){t.unshift(n)},t.prototype._removeOldTags=function(t){this.$element.find("option[data-select2-tag]").each((function(){this.selected||e(this).remove()}))},t})),t.define("select2/data/tokenizer",["jquery"],(function(e){function t(e,t,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),e.call(this,t,n)}return t.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(t,n,i){var o=this;function r(t){var n=o._normalizeItem(t);if(!o.$element.find("option").filter((function(){return e(this).val()===n.id})).length){var i=o.option(n);i.attr("data-select2-tag",!0),o._removeOldTags(),o.addOptions([i])}a(n)}function a(e){o.trigger("select",{data:e})}n.term=n.term||"";var s=this.tokenizer(n,this.options,r);s.term!==n.term&&(this.$search.length&&(this.$search.val(s.term),this.$search.trigger("focus")),n.term=s.term),t.call(this,n,i)},t.prototype.tokenizer=function(t,n,i,o){for(var r=i.get("tokenSeparators")||[],a=n.term,s=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};s<a.length;){var c=a[s];if(-1!==r.indexOf(c)){var u=a.substr(0,s),d=l(e.extend({},n,{term:u}));null!=d?(o(d),a=a.substr(s+1)||"",s=0):s++}else s++}return{term:a}},t})),t.define("select2/data/minimumInputLength",[],(function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e})),t.define("select2/data/maximumInputLength",[],(function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e})),t.define("select2/data/maximumSelectionLength",[],(function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",(function(){i._checkIfMaximumSelected()}))},e.prototype.query=function(e,t,n){var i=this;this._checkIfMaximumSelected((function(){e.call(i,t,n)}))},e.prototype._checkIfMaximumSelected=function(e,t){var n=this;this.current((function(e){var i=null!=e?e.length:0;n.maximumSelectionLength>0&&i>=n.maximumSelectionLength?n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):t&&t()}))},e})),t.define("select2/dropdown",["jquery","./utils"],(function(e,t){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n})),t.define("select2/dropdown/search",["jquery"],(function(e){function t(){}return t.prototype.render=function(t){var n=t.call(this),i=this.options.get("translations").get("search"),o=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=o,this.$search=o.find("input"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",i()),n.prepend(o),n},t.prototype.bind=function(t,n,i){var o=this,r=n.id+"-results";t.call(this,n,i),this.$search.on("keydown",(function(e){o.trigger("keypress",e),o._keyUpPrevented=e.isDefaultPrevented()})),this.$search.on("input",(function(t){e(this).off("keyup")})),this.$search.on("keyup input",(function(e){o.handleSearch(e)})),n.on("open",(function(){o.$search.attr("tabindex",0),o.$search.attr("aria-controls",r),o.$search.trigger("focus"),window.setTimeout((function(){o.$search.trigger("focus")}),0)})),n.on("close",(function(){o.$search.attr("tabindex",-1),o.$search.removeAttr("aria-controls"),o.$search.removeAttr("aria-activedescendant"),o.$search.val(""),o.$search.trigger("blur")})),n.on("focus",(function(){n.isOpen()||o.$search.trigger("focus")})),n.on("results:all",(function(e){null!=e.query.term&&""!==e.query.term||(o.showSearch(e)?o.$searchContainer[0].classList.remove("select2-search--hide"):o.$searchContainer[0].classList.add("select2-search--hide"))})),n.on("results:focus",(function(e){e.data._resultId?o.$search.attr("aria-activedescendant",e.data._resultId):o.$search.removeAttr("aria-activedescendant")}))},t.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},t.prototype.showSearch=function(e,t){return!0},t})),t.define("select2/dropdown/hidePlaceholder",[],(function(){function e(e,t,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,i)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),i=t.length-1;i>=0;i--){var o=t[i];this.placeholder.id===o.id&&n.splice(i,1)}return n},e})),t.define("select2/dropdown/infiniteScroll",["jquery"],(function(e){function t(e,t,n,i){this.lastParams={},e.call(this,t,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},t.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("query",(function(e){i.lastParams=e,i.loading=!0})),t.on("query:append",(function(e){i.lastParams=e,i.loading=!0})),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},t.prototype.loadMoreIfNeeded=function(){var t=e.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&t&&this.$results.offset().top+this.$results.outerHeight(!1)+50>=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)&&this.loadMore()},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return t.html(n(this.lastParams)),t},t})),t.define("select2/dropdown/attachBody",["jquery","../utils"],(function(e,t){function n(t,n,i){this.$dropdownParent=e(i.get("dropdownParent")||document.body),t.call(this,n,i)}return n.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("open",(function(){i._showDropdown(),i._attachPositioningHandler(t),i._bindContainerResultHandlers(t)})),t.on("close",(function(){i._hideDropdown(),i._detachPositioningHandler(t)})),this.$dropdownContainer.on("mousedown",(function(e){e.stopPropagation()}))},n.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t[0].classList.remove("select2"),t[0].classList.add("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(t){var n=e("<span></span>"),i=t.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},n.prototype._bindContainerResultHandlers=function(e,t){if(!this._containerResultsHandlersBound){var n=this;t.on("results:all",(function(){n._positionDropdown(),n._resizeDropdown()})),t.on("results:append",(function(){n._positionDropdown(),n._resizeDropdown()})),t.on("results:message",(function(){n._positionDropdown(),n._resizeDropdown()})),t.on("select",(function(){n._positionDropdown(),n._resizeDropdown()})),t.on("unselect",(function(){n._positionDropdown(),n._resizeDropdown()})),this._containerResultsHandlersBound=!0}},n.prototype._attachPositioningHandler=function(n,i){var o=this,r="scroll.select2."+i.id,a="resize.select2."+i.id,s="orientationchange.select2."+i.id,l=this.$container.parents().filter(t.hasScroll);l.each((function(){t.StoreData(this,"select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})})),l.on(r,(function(n){var i=t.GetData(this,"select2-scroll-position");e(this).scrollTop(i.y)})),e(window).on(r+" "+a+" "+s,(function(e){o._positionDropdown(),o._resizeDropdown()}))},n.prototype._detachPositioningHandler=function(n,i){var o="scroll.select2."+i.id,r="resize.select2."+i.id,a="orientationchange.select2."+i.id;this.$container.parents().filter(t.hasScroll).off(o),e(window).off(o+" "+r+" "+a)},n.prototype._positionDropdown=function(){var t=e(window),n=this.$dropdown[0].classList.contains("select2-dropdown--above"),i=this.$dropdown[0].classList.contains("select2-dropdown--below"),o=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=r.top,a.bottom=r.top+a.height;var s={height:this.$dropdown.outerHeight(!1)},l={top:t.scrollTop(),bottom:t.scrollTop()+t.height()},c=l.top<r.top-s.height,u=l.bottom>r.bottom+s.height,d={left:r.left,top:a.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var f={top:0,left:0};(e.contains(document.body,h[0])||h[0].isConnected)&&(f=h.offset()),d.top-=f.top,d.left-=f.left,n||i||(o="below"),u||!c||n?!c&&u&&n&&(o="below"):o="above",("above"==o||n&&"below"!==o)&&(d.top=a.top-f.top-s.height),null!=o&&(this.$dropdown[0].classList.remove("select2-dropdown--below"),this.$dropdown[0].classList.remove("select2-dropdown--above"),this.$dropdown[0].classList.add("select2-dropdown--"+o),this.$container[0].classList.remove("select2-container--below"),this.$container[0].classList.remove("select2-container--above"),this.$container[0].classList.add("select2-container--"+o)),this.$dropdownContainer.css(d)},n.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},n.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n})),t.define("select2/dropdown/minimumResultsForSearch",[],(function(){function e(t){for(var n=0,i=0;i<t.length;i++){var o=t[i];o.children?n+=e(o.children):n++}return n}function t(e,t,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,i)}return t.prototype.showSearch=function(t,n){return!(e(n.data.results)<this.minimumResultsForSearch)&&t.call(this,n)},t})),t.define("select2/dropdown/selectOnClose",["../utils"],(function(e){function t(){}return t.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("close",(function(e){i._handleSelectOnClose(e)}))},t.prototype._handleSelectOnClose=function(t,n){if(n&&null!=n.originalSelect2Event){var i=n.originalSelect2Event;if("select"===i._type||"unselect"===i._type)return}var o=this.getHighlightedResults();if(!(o.length<1)){var r=e.GetData(o[0],"data");null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})}},t})),t.define("select2/dropdown/closeOnSelect",[],(function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",(function(e){i._selectTriggered(e)})),t.on("unselect",(function(e){i._selectTriggered(e)}))},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e})),t.define("select2/dropdown/dropdownCss",["../utils"],(function(e){function t(){}return t.prototype.render=function(t){var n=t.call(this),i=this.options.get("dropdownCssClass")||"";return-1!==i.indexOf(":all:")&&(i=i.replace(":all:",""),e.copyNonInternalCssClasses(n[0],this.$element[0])),n.addClass(i),n},t})),t.define("select2/dropdown/tagsSearchHighlight",["../utils"],(function(e){function t(){}return t.prototype.highlightFirstItem=function(t){var n=this.$results.find(".select2-results__option--selectable:not(.select2-results__option--selected)");if(n.length>0){var i=n.first(),o=e.GetData(i[0],"data").element;if(o&&o.getAttribute&&"true"===o.getAttribute("data-select2-tag"))return void i.trigger("mouseenter")}t.call(this)},t})),t.define("select2/i18n/en",[],(function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching…"},removeAllItems:function(){return"Remove all items"},removeItem:function(){return"Remove item"},search:function(){return"Search"}}})),t.define("select2/defaults",["jquery","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/selectionCss","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./dropdown/dropdownCss","./dropdown/tagsSearchHighlight","./i18n/en"],(function(e,t,n,i,o,r,a,s,l,c,u,d,h,f,p,g,m,E,v,T,b,C,y,O,I,D,R,_,w,k,K){function x(){this.reset()}return x.prototype.apply=function(u){if(null==(u=e.extend(!0,{},this.defaults,u)).dataAdapter&&(null!=u.ajax?u.dataAdapter=p:null!=u.data?u.dataAdapter=f:u.dataAdapter=h,u.minimumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,E)),u.maximumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,v)),u.maximumSelectionLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,T)),u.tags&&(u.dataAdapter=c.Decorate(u.dataAdapter,g)),null==u.tokenSeparators&&null==u.tokenizer||(u.dataAdapter=c.Decorate(u.dataAdapter,m))),null==u.resultsAdapter&&(u.resultsAdapter=t,null!=u.ajax&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,O)),null!=u.placeholder&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,y)),u.selectOnClose&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,R)),u.tags&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,k))),null==u.dropdownAdapter){if(u.multiple)u.dropdownAdapter=b;else{var d=c.Decorate(b,C);u.dropdownAdapter=d}0!==u.minimumResultsForSearch&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,D)),u.closeOnSelect&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,_)),null!=u.dropdownCssClass&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,w)),u.dropdownAdapter=c.Decorate(u.dropdownAdapter,I)}null==u.selectionAdapter&&(u.multiple?u.selectionAdapter=i:u.selectionAdapter=n,null!=u.placeholder&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,o)),u.allowClear&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,r)),u.multiple&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,a)),null!=u.selectionCssClass&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,s)),u.selectionAdapter=c.Decorate(u.selectionAdapter,l)),u.language=this._resolveLanguage(u.language),u.language.push("en");for(var K=[],x=0;x<u.language.length;x++){var S=u.language[x];-1===K.indexOf(S)&&K.push(S)}return u.language=K,u.translations=this._processTranslations(u.language,u.debug),u},x.prototype.reset=function(){function t(e){function t(e){return d[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function n(i,o){if(null==i.term||""===i.term.trim())return o;if(o.children&&o.children.length>0){for(var r=e.extend(!0,{},o),a=o.children.length-1;a>=0;a--)null==n(i,o.children[a])&&r.children.splice(a,1);return r.children.length>0?r:n(i,r)}var s=t(o.text).toUpperCase(),l=t(i.term).toUpperCase();return s.indexOf(l)>-1?o:null}this.defaults={amdLanguageBase:"./i18n/",autocomplete:"off",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:{},matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},x.prototype.applyFromElement=function(e,t){var n=e.language,i=this.defaults.language,o=t.prop("lang"),r=t.closest("[lang]").prop("lang"),a=Array.prototype.concat.call(this._resolveLanguage(o),this._resolveLanguage(n),this._resolveLanguage(i),this._resolveLanguage(r));return e.language=a,e},x.prototype._resolveLanguage=function(t){if(!t)return[];if(e.isEmptyObject(t))return[];if(e.isPlainObject(t))return[t];var n;n=Array.isArray(t)?t:[t];for(var i=[],o=0;o<n.length;o++)if(i.push(n[o]),"string"==typeof n[o]&&n[o].indexOf("-")>0){var r=n[o].split("-")[0];i.push(r)}return i},x.prototype._processTranslations=function(t,n){for(var i=new u,o=0;o<t.length;o++){var r=new u,a=t[o];if("string"==typeof a)try{r=u.loadPath(a)}catch(e){try{a=this.defaults.amdLanguageBase+a,r=u.loadPath(a)}catch(e){n&&window.console&&console.warn&&console.warn('Select2: The language file for "'+a+'" could not be automatically loaded. A fallback will be used instead.')}}else r=e.isPlainObject(a)?new u(a):a;i.extend(r)}return i},x.prototype.set=function(t,n){var i={};i[e.camelCase(t)]=n;var o=c._convertData(i);e.extend(!0,this.defaults,o)},new x})),t.define("select2/options",["jquery","./defaults","./utils"],(function(e,t,n){function i(e,n){this.options=e,null!=n&&this.fromElement(n),null!=n&&(this.options=t.applyFromElement(this.options,n)),this.options=t.apply(this.options)}return i.prototype.fromElement=function(t){var i=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.autocomplete&&t.prop("autocomplete")&&(this.options.autocomplete=t.prop("autocomplete")),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),n.GetData(t[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),n.StoreData(t[0],"data",n.GetData(t[0],"select2Tags")),n.StoreData(t[0],"tags",!0)),n.GetData(t[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",n.GetData(t[0],"ajaxUrl")),n.StoreData(t[0],"ajax-Url",n.GetData(t[0],"ajaxUrl")));var o={};function r(e,t){return t.toUpperCase()}for(var a=0;a<t[0].attributes.length;a++){var s=t[0].attributes[a].name,l="data-";if(s.substr(0,l.length)==l){var c=s.substring(l.length),u=n.GetData(t[0],c);o[c.replace(/-([a-z])/g,r)]=u}}e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset&&(o=e.extend(!0,{},t[0].dataset,o));var d=e.extend(!0,{},n.GetData(t[0]),o);for(var h in d=n._convertData(d))i.indexOf(h)>-1||(e.isPlainObject(this.options[h])?e.extend(this.options[h],d[h]):this.options[h]=d[h]);return this},i.prototype.get=function(e){return this.options[e]},i.prototype.set=function(e,t){this.options[e]=t},i})),t.define("select2/core",["jquery","./options","./utils","./keys"],(function(e,t,n,i){var o=function(e,i){null!=n.GetData(e[0],"select2")&&n.GetData(e[0],"select2").destroy(),this.$element=e,this.id=this._generateId(e),i=i||{},this.options=new t(i,e),o.__super__.constructor.call(this);var r=e.attr("tabindex")||0;n.StoreData(e[0],"old-tabindex",r),e.attr("tabindex","-1");var a=this.options.get("dataAdapter");this.dataAdapter=new a(e,this.options);var s=this.render();this._placeContainer(s);var l=this.options.get("selectionAdapter");this.selection=new l(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var c=this.options.get("dropdownAdapter");this.dropdown=new c(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var u=this.options.get("resultsAdapter");this.results=new u(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var d=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current((function(e){d.trigger("selection:update",{data:e})})),e[0].classList.add("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),n.StoreData(e[0],"select2",this),e.data("select2",this)};return n.Extend(o,n.Observable),o.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},o.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},o.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var i=this._resolveWidth(e,"style");return null!=i?i:this._resolveWidth(e,"element")}if("element"==t){var o=e.outerWidth(!1);return o<=0?"auto":o+"px"}if("style"==t){var r=e.attr("style");if("string"!=typeof r)return null;for(var a=r.split(";"),s=0,l=a.length;s<l;s+=1){var c=a[s].replace(/\s/g,"").match(n);if(null!==c&&c.length>=1)return c[1]}return null}return"computedstyle"==t?window.getComputedStyle(e[0]).width:t},o.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},o.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",(function(){e.dataAdapter.current((function(t){e.trigger("selection:update",{data:t})}))})),this.$element.on("focus.select2",(function(t){e.trigger("focus",t)})),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this._observer=new window.MutationObserver((function(t){e._syncA(),e._syncS(t)})),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})},o.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",(function(t,n){e.trigger(t,n)}))},o.prototype._registerSelectionEvents=function(){var e=this,t=["toggle","focus"];this.selection.on("toggle",(function(){e.toggleDropdown()})),this.selection.on("focus",(function(t){e.focus(t)})),this.selection.on("*",(function(n,i){-1===t.indexOf(n)&&e.trigger(n,i)}))},o.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",(function(t,n){e.trigger(t,n)}))},o.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",(function(t,n){e.trigger(t,n)}))},o.prototype._registerEvents=function(){var e=this;this.on("open",(function(){e.$container[0].classList.add("select2-container--open")})),this.on("close",(function(){e.$container[0].classList.remove("select2-container--open")})),this.on("enable",(function(){e.$container[0].classList.remove("select2-container--disabled")})),this.on("disable",(function(){e.$container[0].classList.add("select2-container--disabled")})),this.on("blur",(function(){e.$container[0].classList.remove("select2-container--focus")})),this.on("query",(function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,(function(n){e.trigger("results:all",{data:n,query:t})}))})),this.on("query:append",(function(t){this.dataAdapter.query(t,(function(n){e.trigger("results:append",{data:n,query:t})}))})),this.on("keypress",(function(t){var n=t.which;e.isOpen()?n===i.ESC||n===i.UP&&t.altKey?(e.close(t),t.preventDefault()):n===i.ENTER||n===i.TAB?(e.trigger("results:select",{}),t.preventDefault()):n===i.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):n===i.UP?(e.trigger("results:previous",{}),t.preventDefault()):n===i.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&t.altKey)&&(e.open(),t.preventDefault())}))},o.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},o.prototype._isChangeMutation=function(e){var t=this;if(e.addedNodes&&e.addedNodes.length>0){for(var n=0;n<e.addedNodes.length;n++)if(e.addedNodes[n].selected)return!0}else{if(e.removedNodes&&e.removedNodes.length>0)return!0;if(Array.isArray(e))return e.some((function(e){return t._isChangeMutation(e)}))}return!1},o.prototype._syncSubtree=function(e){var t=this._isChangeMutation(e),n=this;t&&this.dataAdapter.current((function(e){n.trigger("selection:update",{data:e})}))},o.prototype.trigger=function(e,t){var n=o.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===t&&(t={}),e in i){var r=i[e],a={prevented:!1,name:e,args:t};if(n.call(this,r,a),a.prevented)return void(t.prevented=!0)}n.call(this,e,t)},o.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},o.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},o.prototype.close=function(e){this.isOpen()&&this.trigger("close",{originalEvent:e})},o.prototype.isEnabled=function(){return!this.isDisabled()},o.prototype.isDisabled=function(){return this.options.get("disabled")},o.prototype.isOpen=function(){return this.$container[0].classList.contains("select2-container--open")},o.prototype.hasFocus=function(){return this.$container[0].classList.contains("select2-container--focus")},o.prototype.focus=function(e){this.hasFocus()||(this.$container[0].classList.add("select2-container--focus"),this.trigger("focus",{}))},o.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},o.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current((function(t){e=t})),e},o.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var t=e[0];Array.isArray(t)&&(t=t.map((function(e){return e.toString()}))),this.$element.val(t).trigger("input").trigger("change")},o.prototype.destroy=function(){n.RemoveData(this.$container[0]),this.$container.remove(),this._observer.disconnect(),this._observer=null,this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",n.GetData(this.$element[0],"old-tabindex")),this.$element[0].classList.remove("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),n.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},o.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container[0].classList.add("select2-container--"+this.options.get("theme")),n.StoreData(t[0],"element",this.$element),t},o})),t.define("jquery-mousewheel",["jquery"],(function(e){return e})),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],(function(e,t,n,i,o){if(null==e.fn.select2){var r=["open","close","destroy"];e.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each((function(){var i=e.extend(!0,{},t);new n(e(this),i)})),this;if("string"==typeof t){var i,a=Array.prototype.slice.call(arguments,1);return this.each((function(){var e=o.GetData(this,"select2");null==e&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),i=e[t].apply(e,a)})),r.indexOf(t)>-1?this:i}throw new Error("Invalid arguments for Select2: "+t)}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=i),n})),{define:t.define,require:t.require}}(),n=t.require("jquery.select2");return e.fn.select2.amd=t,n},void 0===(r="function"==typeof i?i.apply(t,o):i)||(e.exports=r)},27179:(e,t,n)=>{"use strict";var i=n(19755);!function(e){e.fn.tableExport=function(a){let s;const l={csvEnclosure:'"',csvSeparator:",",csvUseBOM:!0,date:{html:"dd/mm/yyyy"},displayTableName:!1,escape:!1,exportHiddenCells:!1,fileName:"tableExport",htmlContent:!1,htmlHyperlink:"content",ignoreColumn:[],ignoreRow:[],jsonScope:"all",jspdf:{orientation:"p",unit:"pt",format:"a4",margins:{left:20,right:10,top:10,bottom:10},onDocCreated:null,autotable:{styles:{cellPadding:2,rowHeight:12,fontSize:8,fillColor:255,textColor:50,fontStyle:"normal",overflow:"ellipsize",halign:"inherit",valign:"middle"},headerStyles:{fillColor:[52,73,94],textColor:255,fontStyle:"bold",halign:"inherit",valign:"middle"},alternateRowStyles:{fillColor:245},tableExport:{doc:null,onAfterAutotable:null,onBeforeAutotable:null,onAutotableText:null,onTable:null,outputImages:!0}}},mso:{fileFormat:"xlshtml",onMsoNumberFormat:null,pageFormat:"a4",pageOrientation:"portrait",rtl:!1,styles:[],worksheetName:"",xlsx:{formatId:{date:14,numbers:2,currency:164},format:{currency:"$#,##0.00;[Red]-$#,##0.00"},onHyperlink:null}},numbers:{html:{decimalMark:".",thousandsSeparator:","},output:{decimalMark:".",thousandsSeparator:","}},onAfterSaveToFile:null,onBeforeSaveToFile:null,onCellData:null,onCellHtmlData:null,onCellHtmlHyperlink:null,onIgnoreRow:null,onTableExportBegin:null,onTableExportEnd:null,outputMode:"file",pdfmake:{enabled:!1,docDefinition:{pageSize:"A4",pageOrientation:"portrait",styles:{header:{background:"#34495E",color:"#FFFFFF",bold:!0,alignment:"center",fillColor:"#34495E"},alternateRow:{fillColor:"#f5f5f5"}},defaultStyle:{color:"#000000",fontSize:8,font:"Roboto"}},fonts:{}},preserve:{leadingWS:!1,trailingWS:!1},preventInjection:!0,sql:{tableEnclosure:"`",columnEnclosure:"`"},tbodySelector:"tr",tfootSelector:"tr",theadSelector:"tr",tableName:"Table",type:"csv"},c={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]},u={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal",fillStyle:"F"},header:{textColor:255,fillColor:[41,128,185],rowHeight:23,fontStyle:"bold"},body:{},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1,fillStyle:"DF"},header:{textColor:255,fillColor:[26,188,156],rowHeight:23,fillStyle:"F",fontStyle:"bold"},body:{},alternateRow:{}},plain:{header:{fontStyle:"bold"}}},d={cellPadding:5,fontSize:10,font:"helvetica",lineColor:200,lineWidth:.1,fontStyle:"normal",overflow:"ellipsize",fillColor:255,textColor:20,halign:"left",valign:"top",fillStyle:"F",rowHeight:20,columnWidth:"auto"},h=1.15,f=this;let p,g=null,m=[],E=[],v=0,T="",b=[],C=[],y=[],O=!1;if(e.extend(!0,l,a),"xlsx"===l.type&&(l.mso.fileFormat=l.type,l.type="excel"),void 0!==l.excelFileFormat&&void 0===l.mso.fileFormat&&(l.mso.fileFormat=l.excelFileFormat),void 0!==l.excelPageFormat&&void 0===l.mso.pageFormat&&(l.mso.pageFormat=l.excelPageFormat),void 0!==l.excelPageOrientation&&void 0===l.mso.pageOrientation&&(l.mso.pageOrientation=l.excelPageOrientation),void 0!==l.excelRTL&&void 0===l.mso.rtl&&(l.mso.rtl=l.excelRTL),void 0!==l.excelstyles&&void 0===l.mso.styles&&(l.mso.styles=l.excelstyles),void 0!==l.onMsoNumberFormat&&void 0===l.mso.onMsoNumberFormat&&(l.mso.onMsoNumberFormat=l.onMsoNumberFormat),void 0!==l.worksheetName&&void 0===l.mso.worksheetName&&(l.mso.worksheetName=l.worksheetName),void 0!==l.mso.xslx&&void 0===l.mso.xlsx&&(l.mso.xlsx=l.mso.xslx),l.mso.pageOrientation="l"===l.mso.pageOrientation.substr(0,1)?"landscape":"portrait",l.date.html=l.date.html||"",l.date.html.length){const e=[];e.dd="(3[01]|[12][0-9]|0?[1-9])",e.mm="(1[012]|0?[1-9])",e.yyyy="((?:1[6-9]|2[0-2])\\d{2})",e.yy="(\\d{2})";const t=l.date.html.match(/[^a-zA-Z0-9]/)[0],n=l.date.html.toLowerCase().split(t);l.date.regex="^\\s*",l.date.regex+=e[n[0]],l.date.regex+="(.)",l.date.regex+=e[n[1]],l.date.regex+="\\2",l.date.regex+=e[n[2]],l.date.regex+="\\s*$",l.date.pattern=new RegExp(l.date.regex,"g");let i=n.indexOf("dd")+1;l.date.match_d=i+(i>1?1:0),i=n.indexOf("mm")+1,l.date.match_m=i+(i>1?1:0),i=(n.indexOf("yyyy")>=0?n.indexOf("yyyy"):n.indexOf("yy"))+1,l.date.match_y=i+(i>1?1:0)}if(b=_(f),"function"==typeof l.onTableExportBegin&&l.onTableExportBegin(),"csv"===l.type||"tsv"===l.type||"txt"===l.type){let t="",n=0;C=[],v=0;const i=function(e,t,n){let i="";if(null!==e){const o=j(e,t,n),r=null===o||""===o?"":o.toString();"tsv"===l.type?(o instanceof Date&&o.toLocaleString(),i=F(r,"\t"," ")):o instanceof Date?i=l.csvEnclosure+o.toLocaleString()+l.csvEnclosure:(i=q(r),i=F(i,l.csvEnclosure,l.csvEnclosure+l.csvEnclosure),(i.indexOf(l.csvSeparator)>=0||/[\r\n ]/g.test(i))&&(i=l.csvEnclosure+i+l.csvEnclosure))}return i},o=function(n,o,r){return n.each((function(){T="",K(this,o,v,r+n.length,(function(e,t,n){T+=i(e,t,n)+("tsv"===l.type?"\t":l.csvSeparator)})),T=e.trim(T).substring(0,T.length-1),T.length>0&&(t.length>0&&(t+="\n"),t+=T),v++})),n.length};if(n+=o(e(f).find("thead").first().find(l.theadSelector),"th,td",n),R(e(f),"tbody").each((function(){n+=o(R(e(this),l.tbodySelector),"td,th",n)})),l.tfootSelector.length&&o(e(f).find("tfoot").first().find(l.tfootSelector),"td,th",n),t+="\n","string"===l.outputMode)return t;if("base64"===l.outputMode)return ie(t);if("window"===l.outputMode)return void ne(!1,"data:text/"+("csv"===l.type?"csv":"plain")+";charset=utf-8,",t);te(t,l.fileName+"."+l.type,"text/"+("csv"===l.type?"csv":"plain"),"utf-8","","csv"===l.type&&l.csvUseBOM)}else if("sql"===l.type){v=0,C=[];let t="INSERT INTO "+l.sql.tableEnclosure+l.tableName+l.sql.tableEnclosure+" (";if(m=I(e(f)),e(m).each((function(){K(this,"th,td",v,m.length,(function(e,n,i){let o=j(e,n,i)||"";o.indexOf(l.sql.columnEnclosure)>-1&&(o=F(o.toString(),l.sql.columnEnclosure,l.sql.columnEnclosure+l.sql.columnEnclosure)),t+=l.sql.columnEnclosure+o+l.sql.columnEnclosure+","})),v++,t=e.trim(t).substring(0,t.length-1)})),t+=") VALUES ",E=D(e(f)),e(E).each((function(){T="",K(this,"td,th",v,m.length+E.length,(function(e,t,n){let i=j(e,t,n)||"";i.indexOf("'")>-1&&(i=F(i.toString(),"'","''")),T+="'"+i+"',"})),T.length>3&&(t+="("+T,t=e.trim(t).substring(0,t.length-1),t+="),"),v++})),t=e.trim(t).substring(0,t.length-1),t+=";","string"===l.outputMode)return t;if("base64"===l.outputMode)return ie(t);te(t,l.fileName+".sql","application/sql","utf-8","",!1)}else if("json"===l.type){const t=[];C=[],m=I(e(f)),e(m).each((function(){const e=[];K(this,"th,td",v,m.length,(function(t,n,i){e.push(j(t,n,i))})),t.push(e)}));const n=[];let i;if(E=D(e(f)),e(E).each((function(){const i={};let o=0;K(this,"td,th",v,m.length+E.length,(function(e,n,r){t.length?i[t[t.length-1][o]]=j(e,n,r):i[o]=j(e,n,r),o++})),!1===e.isEmptyObject(i)&&n.push(i),v++})),i="head"===l.jsonScope?JSON.stringify(t):"data"===l.jsonScope?JSON.stringify(n):JSON.stringify({header:t,data:n}),"string"===l.outputMode)return i;if("base64"===l.outputMode)return ie(i);te(i,l.fileName+".json","application/json","utf-8","base64",!1)}else if("xml"===l.type){v=0,C=[];let t='<?xml version="1.0" encoding="utf-8"?>';t+="<tabledata><fields>",m=I(e(f)),e(m).each((function(){K(this,"th,td",v,m.length,(function(e,n,i){t+="<field>"+j(e,n,i)+"</field>"})),v++})),t+="</fields><data>";let n=1;if(E=D(e(f)),e(E).each((function(){let e=1;T="",K(this,"td,th",v,m.length+E.length,(function(t,n,i){T+="<column-"+e+">"+j(t,n,i)+"</column-"+e+">",e++})),T.length>0&&"<column-1></column-1>"!==T&&(t+='<row id="'+n+'">'+T+"</row>",n++),v++})),t+="</data></tabledata>","string"===l.outputMode)return t;if("base64"===l.outputMode)return ie(t);te(t,l.fileName+".xml","application/xml","utf-8","base64",!1)}else if("excel"===l.type&&"xmlss"===l.mso.fileFormat){const t=[],n=[];e(f).filter((function(){return w(e(this))})).each((function(){const o=e(this);let r="";function a(t,n,o){const r=[];return e(t).each((function(){let n=0,a=0;T="",K(this,"td,th",v,o+t.length,(function(t,o,s){if(null!==t){let l="",c=j(t,o,s),u="String";if(!1!==i.isNumeric(c))u="Number";else{const e=function(e){e.indexOf("%")>-1?!1!==(e=H(e.replace(/%/g,"")))&&(e/=100):e=!1;return e}(c);!1!==e&&(c=e,u="Number",l+=' ss:StyleID="pct1"')}"Number"!==u&&(c=c.replace(/\n/g,"<br>"));let d=W(t),h=G(t);e.each(r,(function(){const e=this;if(v>=e.s.r&&v<=e.e.r&&a>=e.s.c&&a<=e.e.c)for(let t=0;t<=e.e.c-e.s.c;++t)a++,n++})),(h||d)&&(h=h||1,d=d||1,r.push({s:{r:v,c:a},e:{r:v+h-1,c:a+d-1}})),d>1&&(l+=' ss:MergeAcross="'+(d-1)+'"',a+=d-1),h>1&&(l+=' ss:MergeDown="'+(h-1)+'" ss:StyleID="rsp1"'),n>0&&(l+=' ss:Index="'+(a+1)+'"',n=0),T+="<Cell"+l+'><Data ss:Type="'+u+'">'+e("<div />").text(c).html()+"</Data></Cell>\r",a++}})),T.length>0&&(s+='<Row ss:AutoFitHeight="0">\r'+T+"</Row>\r"),v++})),t.length}"string"==typeof l.mso.worksheetName&&l.mso.worksheetName.length?r=l.mso.worksheetName+" "+(n.length+1):void 0!==l.mso.worksheetName[n.length]&&(r=l.mso.worksheetName[n.length]),r.length||(r=o.find("caption").text()||""),r.length||(r="Table "+(n.length+1)),r=e.trim(r.replace(/[\\\/[\]*:?'"]/g,"").substring(0,31)),n.push(e("<div />").text(r).html()),!1===l.exportHiddenCells&&(y=o.find("tr, th, td").filter(":hidden"),O=y.length>0),v=0,b=_(this),s="<Table>\r";const c=a(I(o),0,0);a(D(o),0,c),s+="</Table>\r",t.push(s)}));const o={},r={};let a,c;for(let e=0,t=n.length;e<t;e++)a=n[e],c=o[a],c=o[a]=null==c?1:c+1,2===c&&(n[r[a]]=n[r[a]].substring(0,29)+"-1"),o[a]>1?n[e]=n[e].substring(0,29)+"-"+o[a]:r[a]=e;let u='<?xml version="1.0" encoding="UTF-8"?>\r<?mso-application progid="Excel.Sheet"?>\r<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet"\r xmlns:o="urn:schemas-microsoft-com:office:office"\r xmlns:x="urn:schemas-microsoft-com:office:excel"\r xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet"\r xmlns:html="http://www.w3.org/TR/REC-html40">\r<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">\r  <Created>'+(new Date).toISOString()+'</Created>\r</DocumentProperties>\r<OfficeDocumentSettings xmlns="urn:schemas-microsoft-com:office:office">\r  <AllowPNG/>\r</OfficeDocumentSettings>\r<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">\r  <WindowHeight>9000</WindowHeight>\r  <WindowWidth>13860</WindowWidth>\r  <WindowTopX>0</WindowTopX>\r  <WindowTopY>0</WindowTopY>\r  <ProtectStructure>False</ProtectStructure>\r  <ProtectWindows>False</ProtectWindows>\r</ExcelWorkbook>\r<Styles>\r  <Style ss:ID="Default" ss:Name="Normal">\r    <Alignment ss:Vertical="Bottom"/>\r    <Borders/>\r    <Font/>\r    <Interior/>\r    <NumberFormat/>\r    <Protection/>\r  </Style>\r  <Style ss:ID="rsp1">\r    <Alignment ss:Vertical="Center"/>\r  </Style>\r  <Style ss:ID="pct1">\r    <NumberFormat ss:Format="Percent"/>\r  </Style>\r</Styles>\r';for(let e=0;e<t.length;e++)u+='<Worksheet ss:Name="'+n[e]+'" ss:RightToLeft="'+(l.mso.rtl?"1":"0")+'">\r'+t[e],l.mso.rtl?u+='<WorksheetOptions xmlns="urn:schemas-microsoft-com:office:excel">\r<DisplayRightToLeft/>\r</WorksheetOptions>\r':u+='<WorksheetOptions xmlns="urn:schemas-microsoft-com:office:excel"/>\r',u+="</Worksheet>\r";if(u+="</Workbook>\r","string"===l.outputMode)return u;if("base64"===l.outputMode)return ie(u);te(u,l.fileName+".xml","application/xml","utf-8","base64",!1)}else if("excel"===l.type&&"xlsx"===l.mso.fileFormat){const t=[],n=XLSX.utils.book_new();e(f).filter((function(){return w(e(this))})).each((function(){const i=e(this),o=function(t){let n;const i={},o=t.getElementsByTagName("tr"),r=Math.min(1e7,o.length),a={s:{r:0,c:0},e:{r:0,c:0}};let s,c=[],u=0,d=0,h=0,f=0,p=0,g=0,m=0;const E=XLSX.SSF.get_table();for(;d<o.length&&h<r;++d){const t=o[d];let r=!1;if("function"==typeof l.onIgnoreRow&&(r=l.onIgnoreRow(e(t),d)),!0===r||0!==l.ignoreRow.length&&(-1!==e.inArray(d,l.ignoreRow)||-1!==e.inArray(d-o.length,l.ignoreRow))||!1===w(e(t)))continue;const v=t.children;let T=0;for(f=0;f<v.length;++f)s=v[f],m=+W(s)||1,T+=m;let b=0;for(f=p=0;f<v.length;++f){s=v[f],m=+W(s)||1;const t=f+b;if(k(e(s),T,t+(t<p?p-t:0)))continue;for(b+=m-1,u=0;u<c.length;++u){const e=c[u];e.s.c==p&&e.s.r<=h&&h<=e.e.r&&(p=e.e.c+1,u=-1)}((g=+G(s))>0||m>1)&&c.push({s:{r:h,c:p},e:{r:h+(g||1)-1,c:p+m-1}});const o={type:""};let r=j(s,d,f+b,o),C={t:"s",v:r},y="";if(""!==(e(s).attr("data-tableexport-cellformat")||void 0)?(n=parseInt(e(s).attr("data-tableexport-xlsxformatid")||0),0===n&&"function"==typeof l.mso.xlsx.formatId.numbers&&(n=l.mso.xlsx.formatId.numbers(e(s),d,f+b)),0===n&&"function"==typeof l.mso.xlsx.formatId.date&&(n=l.mso.xlsx.formatId.date(e(s),d,f+b)),49===n||"@"===n?y="s":"number"===o.type||n>0&&n<14||n>36&&n<41||48===n?y="n":("date"===o.type||n>13&&n<37||n>44&&n<48||56===n)&&(y="d")):y="s",null!=r){let t;if(0===r.length)C.t="z";else if(0===r.trim().length);else if("s"===y);else if("function"===o.type)C={f:r};else if("TRUE"===r)C={t:"b",v:!0};else if("FALSE"===r)C={t:"b",v:!1};else if("n"===y||isFinite(Q(r,l.numbers.output))){const e=Q(r,l.numbers.output);0===n&&"function"!=typeof l.mso.xlsx.formatId.numbers&&(n=l.mso.xlsx.formatId.numbers),(isFinite(e)||isFinite(r))&&(C={t:"n",v:isFinite(e)?e:r,z:"string"==typeof n?n:n in E?E[n]:n===l.mso.xlsx.formatId.currency?l.mso.xlsx.format.currency:"0.00"})}else!1===(t=M(r))&&"d"!==y||(0===n&&"function"!=typeof l.mso.xlsx.formatId.date&&(n=l.mso.xlsx.formatId.date),C={t:"d",v:!1!==t?t:r,z:"string"==typeof n?n:n in E?E[n]:"m/d/yy"});const i=e(s).find("a");if(i&&i.length){const t=i[0].hasAttribute("href")?i.attr("href"):"",n="href"!==l.htmlHyperlink||""===t?r:"",o=""!==t?'=HYPERLINK("'+t+(n.length?'","'+n:"")+'")':"";""!==o&&("function"==typeof l.mso.xlsx.onHyperlink?(r=l.mso.xlsx.onHyperlink(e(s),d,f,t,n,o),C=0!==r.indexOf("=HYPERLINK")?{t:"s",v:r}:{f:r}):C={f:o})}}i[Z({c:p,r:h})]=C,a.e.c<p&&(a.e.c=p),p+=m}++h}c.length&&(i["!merges"]=(i["!merges"]||[]).concat(c));a.e.r=Math.max(a.e.r,h-1),i["!ref"]=J(a),h>=r&&(i["!fullref"]=J((a.e.r=o.length-d+h-1,a)));return i}(this);let r="";"string"==typeof l.mso.worksheetName&&l.mso.worksheetName.length?r=l.mso.worksheetName+" "+(t.length+1):void 0!==l.mso.worksheetName[t.length]&&(r=l.mso.worksheetName[t.length]),r.length||(r=i.find("caption").text()||""),r.length||(r="Table "+(t.length+1)),r=e.trim(r.replace(/[\\\/[\]*:?'"]/g,"").substring(0,31)),t.push(r),XLSX.utils.book_append_sheet(n,o,r)}));te(function(e){const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t!==e.length;++t)n[t]=255&e.charCodeAt(t);return t}(XLSX.write(n,{type:"binary",bookType:l.mso.fileFormat,bookSST:!1})),l.fileName+"."+l.mso.fileFormat,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","UTF-8","",!1)}else if("excel"===l.type||"xls"===l.type||"word"===l.type||"doc"===l.type){const t="excel"===l.type||"xls"===l.type?"excel":"word",n="excel"===t?"xls":"doc",i='xmlns:x="urn:schemas-microsoft-com:office:'+t+'"';s="";let o="";e(f).filter((function(){return w(e(this))})).each((function(){const t=e(this);""===o&&(o=l.mso.worksheetName||t.find("caption").text()||"Table",o=e.trim(o.replace(/[\\\/[\]*:?'"]/g,"").substring(0,31))),!1===l.exportHiddenCells&&(y=t.find("tr, th, td").filter(":hidden"),O=y.length>0),v=0,C=[],b=_(this),s+="<table><thead>",m=I(t),e(m).each((function(){const t=e(this);T="",K(this,"th,td",v,m.length,(function(e,n,i){if(null!==e){let o="";if(T+="<th",l.mso.styles.length){const n=document.defaultView.getComputedStyle(e,null),i=document.defaultView.getComputedStyle(t[0],null);for(let e in l.mso.styles){let t=n[l.mso.styles[e]];""===t&&(t=i[l.mso.styles[e]]),""!==t&&"0px none rgb(0, 0, 0)"!==t&&"rgba(0, 0, 0, 0)"!==t&&(o+=""===o?'style="':";",o+=l.mso.styles[e]+":"+t)}}""!==o&&(T+=" "+o+'"');const r=W(e);r>0&&(T+=' colspan="'+r+'"');const a=G(e);a>0&&(T+=' rowspan="'+a+'"'),T+=">"+j(e,n,i)+"</th>"}})),T.length>0&&(s+="<tr>"+T+"</tr>"),v++})),s+="</thead><tbody>",E=D(t),e(E).each((function(){const t=e(this);T="",K(this,"td,th",v,m.length+E.length,(function(n,i,o){if(null!==n){let r=j(n,i,o),a="",s=e(n).attr("data-tableexport-msonumberformat");if(void 0===s&&"function"==typeof l.mso.onMsoNumberFormat&&(s=l.mso.onMsoNumberFormat(n,i,o)),void 0!==s&&""!==s&&(a="style=\"mso-number-format:'"+s+"'"),l.mso.styles.length){const e=document.defaultView.getComputedStyle(n,null),i=document.defaultView.getComputedStyle(t[0],null);for(let t in l.mso.styles)s=e[l.mso.styles[t]],""===s&&(s=i[l.mso.styles[t]]),""!==s&&"0px none rgb(0, 0, 0)"!==s&&"rgba(0, 0, 0, 0)"!==s&&(a+=""===a?'style="':";",a+=l.mso.styles[t]+":"+s)}T+="<td",""!==a&&(T+=" "+a+'"');const c=W(n);c>0&&(T+=' colspan="'+c+'"');const u=G(n);u>0&&(T+=' rowspan="'+u+'"'),"string"==typeof r&&""!==r&&(r=q(r),r=r.replace(/\n/g,"<br>")),T+=">"+r+"</td>"}})),T.length>0&&(s+="<tr>"+T+"</tr>"),v++})),l.displayTableName&&(s+="<tr><td></td></tr><tr><td></td></tr><tr><td>"+j(e("<p>"+l.tableName+"</p>"))+"</td></tr>"),s+="</tbody></table>"}));let r='<html xmlns:o="urn:schemas-microsoft-com:office:office" '+i+' xmlns="http://www.w3.org/TR/REC-html40">';if(r+='<meta http-equiv="content-type" content="application/vnd.ms-'+t+'; charset=UTF-8">',r+="<head>","excel"===t&&(r+="\x3c!--[if gte mso 9]>",r+="<xml>",r+="<x:ExcelWorkbook>",r+="<x:ExcelWorksheets>",r+="<x:ExcelWorksheet>",r+="<x:Name>",r+=o,r+="</x:Name>",r+="<x:WorksheetOptions>",r+="<x:DisplayGridlines/>",l.mso.rtl&&(r+="<x:DisplayRightToLeft/>"),r+="</x:WorksheetOptions>",r+="</x:ExcelWorksheet>",r+="</x:ExcelWorksheets>",r+="</x:ExcelWorkbook>",r+="</xml>",r+="<![endif]--\x3e"),r+="<style>",r+="@page { size:"+l.mso.pageOrientation+"; mso-page-orientation:"+l.mso.pageOrientation+"; }",r+="@page Section1 {size:"+c[l.mso.pageFormat][0]+"pt "+c[l.mso.pageFormat][1]+"pt",r+="; margin:1.0in 1.25in 1.0in 1.25in;mso-header-margin:.5in;mso-footer-margin:.5in;mso-paper-source:0;}",r+="div.Section1 {page:Section1;}",r+="@page Section2 {size:"+c[l.mso.pageFormat][1]+"pt "+c[l.mso.pageFormat][0]+"pt",r+=";mso-page-orientation:"+l.mso.pageOrientation+";margin:1.25in 1.0in 1.25in 1.0in;mso-header-margin:.5in;mso-footer-margin:.5in;mso-paper-source:0;}",r+="div.Section2 {page:Section2;}",r+="br {mso-data-placement:same-cell;}",r+="</style>",r+="</head>",r+="<body>",r+='<div class="Section'+("landscape"===l.mso.pageOrientation?"2":"1")+'">',r+=s,r+="</div>",r+="</body>",r+="</html>","string"===l.outputMode)return r;if("base64"===l.outputMode)return ie(r);te(r,l.fileName+"."+n,"application/vnd.ms-"+t,"","base64",!1)}else if("png"===l.type)html2canvas(e(f)[0]).then((function(e){const t=e.toDataURL(),n=atob(t.substring(22)),i=new ArrayBuffer(n.length),o=new Uint8Array(i);for(let e=0;e<n.length;e++)o[e]=n.charCodeAt(e);return"string"===l.outputMode?n:"base64"===l.outputMode?ie(t):void("window"!==l.outputMode?te(i,l.fileName+".png","image/png","","",!1):window.open(t))}));else if("pdf"===l.type)if(!0===l.pdfmake.enabled){const t={content:[]};e.extend(!0,t,l.pdfmake.docDefinition),C=[],e(f).filter((function(){return w(e(this))})).each((function(){const n=e(this),i=[],o=[];v=0;const r=function(t,n,i){let r=0;return e(t).each((function(){const e=[];K(this,n,v,i,(function(t,i,o){let r;if(null!=t){const e=W(t),n=G(t);r={text:j(t,i,o)||" "},(e>1||n>1)&&(r.colSpan=e||1,r.rowSpan=n||1)}else r={text:" "};n.indexOf("th")>=0&&(r.style="header"),e.push(r)})),e.length&&o.push(e),r<e.length&&(r=e.length),v++})),r};m=I(n);let a=r(m,"th,td",m.length);for(let e=i.length;e<a;e++)i.push("*");E=D(n),a=r(E,"td",m.length+E.length);for(let e=i.length;e<a;e++)i.push("*");t.content.push({table:{headerRows:m.length?m.length:null,widths:i,body:o},layout:{layout:"noBorders",hLineStyle:function(e,t){return 0},vLineWidth:function(e,t){return 0},hLineColor:function(e,t){return e<t.table.headerRows?l.pdfmake.docDefinition.styles.header.background:l.pdfmake.docDefinition.styles.alternateRow.fillColor},vLineColor:function(e,t){return e<t.table.headerRows?l.pdfmake.docDefinition.styles.header.background:l.pdfmake.docDefinition.styles.alternateRow.fillColor},fillColor:function(e,t,n){return e%2==0?l.pdfmake.docDefinition.styles.alternateRow.fillColor:null}},pageBreak:t.content.length?"before":void 0})})),"undefined"!=typeof pdfMake&&void 0!==pdfMake.createPdf&&(pdfMake.fonts={Roboto:{normal:"Roboto-Regular.ttf",bold:"Roboto-Medium.ttf",italics:"Roboto-Italic.ttf",bolditalics:"Roboto-MediumItalic.ttf"}},pdfMake.vfs.hasOwnProperty("Mirza-Regular.ttf")?(t.defaultStyle.font="Mirza",e.extend(!0,pdfMake.fonts,{Mirza:{normal:"Mirza-Regular.ttf",bold:"Mirza-Bold.ttf",italics:"Mirza-Medium.ttf",bolditalics:"Mirza-SemiBold.ttf"}})):pdfMake.vfs.hasOwnProperty("gbsn00lp.ttf")?(t.defaultStyle.font="gbsn00lp",e.extend(!0,pdfMake.fonts,{gbsn00lp:{normal:"gbsn00lp.ttf",bold:"gbsn00lp.ttf",italics:"gbsn00lp.ttf",bolditalics:"gbsn00lp.ttf"}})):pdfMake.vfs.hasOwnProperty("ZCOOLXiaoWei-Regular.ttf")&&(t.defaultStyle.font="ZCOOLXiaoWei",e.extend(!0,pdfMake.fonts,{ZCOOLXiaoWei:{normal:"ZCOOLXiaoWei-Regular.ttf",bold:"ZCOOLXiaoWei-Regular.ttf",italics:"ZCOOLXiaoWei-Regular.ttf",bolditalics:"ZCOOLXiaoWei-Regular.ttf"}})),e.extend(!0,pdfMake.fonts,l.pdfmake.fonts),pdfMake.createPdf(t).getBuffer((function(e){te(e,l.fileName+".pdf","application/pdf","","",!1)})))}else if(!1===l.jspdf.autotable){let e=new jspdf.jsPDF({orientation:l.jspdf.orientation,unit:l.jspdf.unit,format:l.jspdf.format});e.html(f[0],{callback:function(){S(e,!1)},html2canvas:{scale:(e.internal.pageSize.width-2*l.jspdf.margins.left)/f[0].scrollWidth},x:l.jspdf.margins.left,y:l.jspdf.margins.top})}else{const a=l.jspdf.autotable.tableExport;if("string"==typeof l.jspdf.format&&"bestfit"===l.jspdf.format.toLowerCase()){let t="",n="",i=0;e(f).each((function(){if(w(e(this))){const o=Y(e(this).get(0),"width","pt");if(o>i){o>c.a0[0]&&(t="a0",n="l");for(let e in c)c.hasOwnProperty(e)&&c[e][1]>o&&(t=e,n="l",c[e][0]>o&&(n="p"));i=o}}})),l.jspdf.format=""===t?"a4":t,l.jspdf.orientation=""===n?"w":n}null==a.doc&&(a.doc=new jspdf.jsPDF(l.jspdf.orientation,l.jspdf.unit,l.jspdf.format),a.wScaleFactor=1,a.hScaleFactor=1,"function"==typeof l.jspdf.onDocCreated&&l.jspdf.onDocCreated(a.doc)),!0===a.outputImages&&(a.images={}),void 0!==a.images&&(e(f).filter((function(){return w(e(this))})).each((function(){let t=0;C=[],!1===l.exportHiddenCells&&(y=e(this).find("tr, th, td").filter(":hidden"),O=y.length>0),m=I(e(this)),E=D(e(this)),e(E).each((function(){K(this,"td,th",m.length+t,m.length+E.length,(function(t){A(t,e(t).children(),a)})),t++}))})),m=[],E=[]),function(t,n){let i=0,o=0;function r(){n(i)}function a(t){if(t.url)if(t.src){const e=new Image;i=++o,e.crossOrigin="Anonymous",e.onerror=e.onload=function(){if(e.complete&&(0===e.src.indexOf("data:image/")&&(e.width=t.width||e.width||0,e.height=t.height||e.height||0),e.width+e.height)){const n=document.createElement("canvas"),i=n.getContext("2d");n.width=e.width,n.height=e.height,i.drawImage(e,0,0),t.src=n.toDataURL("image/png")}--o||r()},e.src=t.url}else{const n=e(t.url);n.length&&(i=++o,html2canvas(n[0]).then((function(e){t.src=e.toDataURL("image/png"),--o||r()})))}}if(void 0!==t.images)for(let e in t.images)t.images.hasOwnProperty(e)&&a(t.images[e]);o||r()}(a,(function(){e(f).filter((function(){return w(e(this))})).each((function(){let i;if(v=0,C=[],!1===l.exportHiddenCells&&(y=e(this).find("tr, th, td").filter(":hidden"),O=y.length>0),b=_(this),a.columns=[],a.rows=[],a.teCells={},"function"==typeof a.onTable&&!1===a.onTable(e(this),l))return!0;l.jspdf.autotable.tableExport=null;const s=e.extend(!0,{},l.jspdf.autotable);if(l.jspdf.autotable.tableExport=a,s.margin={},e.extend(!0,s.margin,l.jspdf.margins),s.tableExport=a,"function"!=typeof s.createdHeaderCell&&(s.createdHeaderCell=function(e,t){if(void 0!==a.columns[t.column.dataKey]){const n=a.columns[t.column.dataKey];if(void 0!==n.rect){let i;e.contentWidth=n.rect.width,void 0!==a.heightRatio&&0!==a.heightRatio||(i=t.row.raw[t.column.dataKey].rowspan?t.row.raw[t.column.dataKey].rect.height/t.row.raw[t.column.dataKey].rowspan:t.row.raw[t.column.dataKey].rect.height,a.heightRatio=e.styles.rowHeight/i),i=t.row.raw[t.column.dataKey].rect.height*a.heightRatio,i>e.styles.rowHeight&&(e.styles.rowHeight=i)}e.styles.halign="inherit"===s.headerStyles.halign?"center":s.headerStyles.halign,e.styles.valign=s.headerStyles.valign,void 0!==n.style&&!0!==n.style.hidden&&("inherit"===s.headerStyles.halign&&(e.styles.halign=n.style.align),"inherit"===s.styles.fillColor&&(e.styles.fillColor=n.style.bcolor),"inherit"===s.styles.textColor&&(e.styles.textColor=n.style.color),"inherit"===s.styles.fontStyle&&(e.styles.fontStyle=n.style.fstyle))}}),"function"!=typeof s.createdCell&&(s.createdCell=function(e,t){const n=a.teCells[t.row.index+":"+t.column.dataKey];e.styles.halign="inherit"===s.styles.halign?"center":s.styles.halign,e.styles.valign=s.styles.valign,void 0!==n&&void 0!==n.style&&!0!==n.style.hidden&&("inherit"===s.styles.halign&&(e.styles.halign=n.style.align),"inherit"===s.styles.fillColor&&(e.styles.fillColor=n.style.bcolor),"inherit"===s.styles.textColor&&(e.styles.textColor=n.style.color),"inherit"===s.styles.fontStyle&&(e.styles.fontStyle=n.style.fstyle))}),"function"!=typeof s.drawHeaderCell&&(s.drawHeaderCell=function(e,t){const n=a.columns[t.column.dataKey];return(!0!==n.style.hasOwnProperty("hidden")||!0!==n.style.hidden)&&n.rowIndex>=0&&N(e,t,n)}),"function"!=typeof s.drawCell&&(s.drawCell=function(t,n){const i=a.teCells[n.row.index+":"+n.column.dataKey];if(!0!==(void 0!==i&&i.isCanvas)){if(N(t,n,i))if(a.doc.rect(t.x,t.y,t.width,t.height,t.styles.fillStyle),void 0===i||void 0!==i.hasUserDefText&&!0===i.hasUserDefText||void 0===i.elements||!i.elements.length)P(t,{},a);else{const e=t.height/i.rect.height;e>a.hScaleFactor&&(a.hScaleFactor=e),a.wScaleFactor=t.width/i.rect.width;const n=t.textPos.y;L(t,i.elements,a),t.textPos.y=n,P(t,i.elements,a)}}else{const o=i.elements[0],r=e(o).attr("data-tableexport-canvas"),s=o.getBoundingClientRect();t.width=s.width*a.wScaleFactor,t.height=s.height*a.hScaleFactor,n.row.height=t.height,x(t,o,r,a)}return!1}),a.headerrows=[],m=I(e(this)),e(m).each((function(){i=0,a.headerrows[v]=[],K(this,"th,td",v,m.length,(function(e,t,n){const o=V(e);o.title=j(e,t,n),o.key=i++,o.rowIndex=v,a.headerrows[v].push(o)})),v++})),v>0){let t=v-1;for(;t>=0;)e.each(a.headerrows[t],(function(){let e=this;t>0&&null===this.rect&&(e=a.headerrows[t-1][this.key]),null!==e&&e.rowIndex>=0&&(!0!==e.style.hasOwnProperty("hidden")||!0!==e.style.hidden)&&a.columns.push(e)})),t=a.columns.length>0?-1:t-1}let c=0;E=[],E=D(e(this)),e(E).each((function(){const t=[];i=0,K(this,"td,th",v,m.length+E.length,(function(n,o,r){let s;void 0===a.columns[i]&&(s={title:"",key:i,style:{hidden:!0}},a.columns.push(s)),t.push(j(n,o,r)),null!=n?(s=V(n),s.isCanvas=n.hasAttribute("data-tableexport-canvas"),s.elements=s.isCanvas?e(n):e(n).children(),void 0!==e(n).data("teUserDefText")&&(s.hasUserDefText=!0),a.teCells[c+":"+i++]=s):(s=e.extend(!0,{},a.teCells[c+":"+(i-1)]),s.colspan=-1,a.teCells[c+":"+i++]=s)})),t.length&&(a.rows.push(t),c++),v++})),"function"==typeof a.onBeforeAutotable&&a.onBeforeAutotable(e(this),a.columns,a.rows,s),function(i,a,s,l){(function(e,t,n){e&&"object"==typeof e||console.error("The headers should be an object or array, is: "+typeof e);t&&"object"==typeof t||console.error("The data should be an object or array, is: "+typeof t);n&&"object"!=typeof n&&console.error("The data should be an object or array, is: "+typeof t);Array.prototype.forEach||console.error("The current browser does not support Array.prototype.forEach which is required for jsPDF-AutoTable")})(a,s,l),oe=i,ae=function(e){const t=me({theme:"striped",styles:{},headerStyles:{},bodyStyles:{},alternateRowStyles:{},columnStyles:{},startY:!1,margin:40,pageBreak:"auto",tableWidth:"auto",createdHeaderCell:function(e,t){},createdCell:function(e,t){},drawHeaderRow:function(e,t){},drawRow:function(e,t){},drawHeaderCell:function(e,t){},drawCell:function(e,t){},beforePageContent:function(e){},afterPageContent:function(e){}},e);void 0!==t.extendWidth&&(t.tableWidth=t.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead."));void 0!==t.margins&&(void 0===t.margin&&(t.margin=t.margins),console.error("Use of deprecated option: margins, use margin instead."));[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach((function(e){const n="string"==typeof e?e:e[0],i="string"==typeof e?e:e[1];void 0!==t[n]&&(void 0===t.styles[i]&&(t.styles[i]=t[n]),console.error("Use of deprecated option: "+n+", use the style "+i+" instead."))}));const n=t.margin;t.margin={},"number"==typeof n.horizontal&&(n.right=n.horizontal,n.left=n.horizontal);"number"==typeof n.vertical&&(n.top=n.vertical,n.bottom=n.vertical);return["top","right","bottom","left"].forEach((function(e,i){if("number"==typeof n)t.margin[e]=n;else{const o=Array.isArray(n)?i:e;t.margin[e]="number"==typeof n[o]?n[o]:40}})),t}(l||{}),se=1,re={y:!1===ae.startY?ae.margin.top:ae.startY};const c={textColor:30,fontSize:oe.internal.getFontSize(),fontStyle:oe.internal.getFont().fontStyle};(function(i,a){(le=new t).x=ae.margin.left;const s=/\r\n|\r|\n/g,l=new n(i);l.index=-1;const c=me(d,u[ae.theme].table,u[ae.theme].header);l.styles=me(c,ae.styles,ae.headerStyles),i.forEach((function(t,n){"object"==typeof t&&(n=void 0!==t.dataKey?t.dataKey:t.key),void 0!==t.width&&console.error("Use of deprecated option: column.width, use column.styles.columnWidth instead.");const i=new r(n);i.styles=ae.columnStyles[i.dataKey]||{},le.columns.push(i);const a=new o;a.raw="object"==typeof t?t.title:t,a.styles=e.extend({},l.styles),a.text=""+a.raw,a.contentWidth=2*a.styles.cellPadding+ge(a.text,a.styles),a.text=a.text.split(s),l.cells[n]=a,ae.createdHeaderCell(a,{column:i,row:l,settings:ae})})),le.headerRow=l,a.forEach((function(e,t){const i=new n(e),r=t%2==0,a=me(d,u[ae.theme].table,r?u[ae.theme].alternateRow:{}),l=me(ae.styles,ae.bodyStyles,r?ae.alternateRowStyles:{});i.styles=me(a,l),i.index=t,le.columns.forEach((function(t){const n=new o;n.raw=e[t.dataKey],n.styles=me(i.styles,t.styles),n.text=void 0!==n.raw?""+n.raw:"",i.cells[t.dataKey]=n,ae.createdCell(n,fe({column:t,row:i})),n.contentWidth=2*n.styles.cellPadding+ge(n.text,n.styles),n.text=n.text.split(s)})),le.rows.push(i)}))})(a,s),function(){let e=0;le.columns.forEach((function(t){t.contentWidth=le.headerRow.cells[t.dataKey].contentWidth,le.rows.forEach((function(e){const n=e.cells[t.dataKey].contentWidth;n>t.contentWidth&&(t.contentWidth=n)})),t.width=t.contentWidth,e+=t.contentWidth})),le.contentWidth=e;const t=oe.internal.pageSize.width-ae.margin.left-ae.margin.right;let n=t;"number"==typeof ae.tableWidth?n=ae.tableWidth:"wrap"===ae.tableWidth&&(n=le.contentWidth);le.width=n<t?n:t;const i=[];let o=0;const r=le.width/le.columns.length;let a=0;le.columns.forEach((function(e){const t=me(d,u[ae.theme].table,ae.styles,e.styles);"wrap"===t.columnWidth?e.width=e.contentWidth:"number"==typeof t.columnWidth?e.width=t.columnWidth:(t.columnWidth,e.contentWidth<=r&&le.contentWidth>le.width?e.width=e.contentWidth:(i.push(e),o+=e.contentWidth,e.width=0)),a+=e.width})),ue(i,a,o,r),le.height=0;le.rows.concat(le.headerRow).forEach((function(e,t){let n=0,i=le.x;le.columns.forEach((function(t){const o=e.cells[t.dataKey];t.x=i,he(o.styles);const r=t.width-2*o.styles.cellPadding;"linebreak"===o.styles.overflow?o.text=oe.splitTextToSize(o.text,r+1,{fontSize:o.styles.fontSize}):"ellipsize"===o.styles.overflow?o.text=pe(o.text,r,o.styles):"visible"===o.styles.overflow||("hidden"===o.styles.overflow?o.text=pe(o.text,r,o.styles,""):"function"==typeof o.styles.overflow?o.text=o.styles.overflow(o.text,r):console.error("Unrecognized overflow type: "+o.styles.overflow));const a=Array.isArray(o.text)?o.text.length-1:0;a>n&&(n=a),i+=t.width})),e.heightStyle=e.styles.rowHeight,e.height=e.heightStyle+n*e.styles.fontSize*h+.42500000000000004*e.styles.fontSize,le.height+=e.height}))}();const f=le.rows[0]&&"auto"===ae.pageBreak?le.rows[0].height:0;let p=ae.startY+ae.margin.bottom+le.headerRow.height+f;"avoid"===ae.pageBreak&&(p+=le.height);("always"===ae.pageBreak&&!1!==ae.startY||!1!==ae.startY&&p>oe.internal.pageSize.height)&&(oe.addPage(),re.y=ae.margin.top);he(c),ae.beforePageContent(fe()),!1!==ae.drawHeaderRow(le.headerRow,fe({row:le.headerRow}))&&de(le.headerRow,ae.drawHeaderCell);he(c),function(){le.rows.forEach((function(e,t){var n;n=e.height,re.y+n+ae.margin.bottom>=oe.internal.pageSize.height&&(ae.afterPageContent(fe()),oe.addPage(),se++,re={x:ae.margin.left,y:ae.margin.top},ae.beforePageContent(fe()),!1!==ae.drawHeaderRow(le.headerRow,fe({row:le.headerRow}))&&de(le.headerRow,ae.drawHeaderCell)),e.y=re.y,!1!==ae.drawRow(e,fe({row:e}))&&de(e,ae.drawCell)}))}(),ae.afterPageContent(fe()),he(c)}(a.doc,a.columns,a.rows,s),"function"==typeof a.onAfterAutotable&&a.onAfterAutotable(e(this),s),l.jspdf.autotable.startY=function(){if(void 0===re||void 0===re.y)return 0;return re.y}()+s.margin.top})),S(a.doc,void 0!==a.images&&!1===i.isEmptyObject(a.images)),void 0!==a.headerrows&&(a.headerrows.length=0),void 0!==a.columns&&(a.columns.length=0),void 0!==a.rows&&(a.rows.length=0),delete a.doc,a.doc=null}))}function I(t){const n=[];return R(t,"thead").each((function(){n.push.apply(n,R(e(this),l.theadSelector).toArray())})),n}function D(t){const n=[];return R(t,"tbody").each((function(){n.push.apply(n,R(e(this),l.tbodySelector).toArray())})),l.tfootSelector.length&&R(t,"tfoot").each((function(){n.push.apply(n,R(e(this),l.tfootSelector).toArray())})),n}function R(t,n){const i=t[0].tagName,o=t.parents(i).length;return t.find(n).filter((function(){return o===e(this).closest(i).parents(i).length}))}function _(t){const n=[];let i=0,o=0,r=0;return e(t).find("thead").first().find("th").each((function(t,a){const s=void 0!==e(a).attr("data-field");void 0!==a.parentNode.rowIndex&&o!==a.parentNode.rowIndex&&(o=a.parentNode.rowIndex,r=0,i=0);const l=W(a);for(i+=l||1;r<i;)n[r]=s?e(a).attr("data-field"):r.toString(),r++})),n}function w(t){let n=void 0!==t[0].rowIndex;const i=!1===n&&void 0!==t[0].cellIndex,o=i||n?function(e){let t=[];O&&(t=y.filter((function(){let t=!1;return this.nodeType===e[0].nodeType&&(void 0!==this.rowIndex&&this.rowIndex===e[0].rowIndex||void 0!==this.cellIndex&&this.cellIndex===e[0].cellIndex&&void 0!==this.parentNode.rowIndex&&void 0!==e[0].parentNode.rowIndex&&this.parentNode.rowIndex===e[0].parentNode.rowIndex)&&(t=!0),t})));return!1===O||0===t.length}(t):t.is(":visible");let r=t.attr("data-tableexport-display");return i&&"none"!==r&&"always"!==r&&(n=void 0!==(t=e(t[0].parentNode))[0].rowIndex,r=t.attr("data-tableexport-display")),n&&"none"!==r&&"always"!==r&&(r=t.closest("table").attr("data-tableexport-display")),"none"!==r&&(!0===o||"always"===r)}function k(t,n,i){let o=!1;return w(t)?l.ignoreColumn.length>0&&(-1!==e.inArray(i,l.ignoreColumn)||-1!==e.inArray(i-n,l.ignoreColumn)||b.length>i&&void 0!==b[i]&&-1!==e.inArray(b[i],l.ignoreColumn))&&(o=!0):o=!0,o}function K(t,n,i,o,r){if("function"==typeof r){let a=!1;if("function"==typeof l.onIgnoreRow&&(a=l.onIgnoreRow(e(t),i)),!1===a&&(0===l.ignoreRow.length||-1===e.inArray(i,l.ignoreRow)&&-1===e.inArray(i-o,l.ignoreRow))&&w(e(t))){const o=R(e(t),n);let a=o.length,s=0,l=0;o.each((function(){const t=e(this);let n,o=W(this),c=G(this);if(e.each(C,(function(){const e=this;if(i>e.s.r&&i<=e.e.r&&s>=e.s.c&&s<=e.e.c)for(n=0;n<=e.e.c-e.s.c;++n)a++,l++,r(null,i,s++)})),(c||o)&&(c=c||1,o=o||1,C.push({s:{r:i,c:s},e:{r:i+c-1,c:s+o-1}})),!1===k(t,a,l++)&&r(this,i,s++),o>1)for(n=0;n<o-1;++n)l++,r(null,i,s++)})),e.each(C,(function(){const e=this;if(i>=e.s.r&&i<=e.e.r&&s>=e.s.c&&s<=e.e.c)for(let t=0;t<=e.e.c-e.s.c;++t)r(null,i,s++)}))}}}function x(e,t,n,i){if(void 0!==i.images){const o=i.images[n];if(void 0!==o){const n=t.getBoundingClientRect(),r=e.width/e.height,a=n.width/n.height;let s=e.width,l=e.height;const c=19.049976/25.4;let u=0;a<=r?(l=Math.min(e.height,n.height),s=n.width*l/n.height):a>r&&(s=Math.min(e.width,n.width),l=n.height*s/n.width),s*=c,l*=c,l<e.height&&(u=(e.height-l)/2);try{i.doc.addImage(o.src,e.textPos.x,e.y+u,s,l)}catch(e){}e.textPos.x+=s}}}function S(e,t){if("string"===l.outputMode)return e.output();if("base64"===l.outputMode)return ie(e.output());if("window"===l.outputMode)return window.URL=window.URL||window.webkitURL,void window.open(window.URL.createObjectURL(e.output("blob")));const n=l.fileName+".pdf";try{const t=e.output("blob");saveAs(t,n),"function"==typeof l.onAfterSaveToFile&&l.onAfterSaveToFile(t,n)}catch(i){ne(n,"data:application/pdf"+(t?"":";base64")+",",t?e.output("blob"):e.output())}}function N(e,t,n){let i=0;if(void 0!==n&&(i=n.colspan),i>=0){let o=e.width,r=e.textPos.x;const a=t.table.columns.indexOf(t.column);for(let e=1;e<i;e++){o+=t.table.columns[a+e].width}if(i>1&&("right"===e.styles.halign?r=e.textPos.x+o-e.width:"center"===e.styles.halign&&(r=e.textPos.x+(o-e.width)/2)),e.width=o,e.textPos.x=r,void 0!==n&&n.rowspan>1&&(e.height=e.height*n.rowspan),"middle"===e.styles.valign||"bottom"===e.styles.valign){const n=("string"==typeof e.text?e.text.split(/\r\n|\r|\n/g):e.text).length||1;n>2&&(e.textPos.y-=.42500000000000004*t.row.styles.fontSize*(n-2)/3)}return!0}return!1}function A(t,n,i){if(null!=t)if(t.hasAttribute("data-tableexport-canvas")){const n=(new Date).getTime();e(t).attr("data-tableexport-canvas",n),i.images[n]={url:'[data-tableexport-canvas="'+n+'"]',src:null}}else"undefined"!==n&&null!=n&&n.each((function(){if(e(this).is("img")){const e=ee(this.src);i.images[e]={url:this.src,src:this.src}}A(t,e(this).children(),i)}))}function L(t,n,i){n.each((function(){if(e(this).is("div")){const e=z(X(this,"background-color"),[255,255,255]),n=z(X(this,"border-top-color"),[0,0,0]),o=Y(this,"border-top-width",l.jspdf.unit),r=this.getBoundingClientRect(),a=this.offsetLeft*i.wScaleFactor,s=this.offsetTop*i.hScaleFactor,c=r.width*i.wScaleFactor,u=r.height*i.hScaleFactor;i.doc.setDrawColor.apply(void 0,n),i.doc.setFillColor.apply(void 0,e),i.doc.setLineWidth(o),i.doc.rect(t.x+a,t.y+s,c,u,o?"FD":"F")}else if(e(this).is("img")){const e=ee(this.src);x(t,this,e,i)}L(t,e(this).children(),i)}))}function P(t,n,i){if("function"==typeof i.onAutotableText)i.onAutotableText(i.doc,t,n);else{let o=t.textPos.x,r=t.textPos.y;const a={halign:t.styles.halign,valign:t.styles.valign};if(n.length){let s=n[0];for(;s.previousSibling;)s=s.previousSibling;let c=!1,u=!1;for(;s;){let n=s.innerText||s.textContent||"";const d=n.length&&" "===n[0]?" ":"",h=n.length>1&&" "===n[n.length-1]?" ":"";!0!==l.preserve.leadingWS&&(n=d+$(n)),!0!==l.preserve.trailingWS&&(n=B(n)+h),e(s).is("br")&&(o=t.textPos.x,r+=i.doc.internal.getFontSize()),e(s).is("b")?c=!0:e(s).is("i")&&(u=!0),(c||u)&&i.doc.setFont("undefined ",c&&u?"bolditalic":c?"bold":"italic");let f=i.doc.getStringUnitWidth(n)*i.doc.internal.getFontSize();if(f){if("linebreak"===t.styles.overflow&&o>t.textPos.x&&o+f>t.textPos.x+t.width){if(".,!%*;:=-".indexOf(n.charAt(0))>=0){const e=n.charAt(0);f=i.doc.getStringUnitWidth(e)*i.doc.internal.getFontSize(),o+f<=t.textPos.x+t.width&&(ce(e,o,r,a),n=n.substring(1,n.length)),f=i.doc.getStringUnitWidth(n)*i.doc.internal.getFontSize()}o=t.textPos.x,r+=i.doc.internal.getFontSize()}if("visible"!==t.styles.overflow)for(;n.length&&o+f>t.textPos.x+t.width;)n=n.substring(0,n.length-1),f=i.doc.getStringUnitWidth(n)*i.doc.internal.getFontSize();ce(n,o,r,a),o+=f}(c||u)&&(e(s).is("b")?c=!1:e(s).is("i")&&(u=!1),i.doc.setFont("undefined ",c||u?c?"bold":"italic":"normal")),s=s.nextSibling}t.textPos.x=o,t.textPos.y=r}else ce(t.text,t.textPos.x,t.textPos.y,a)}}function F(e,t,n){return null==e?"":e.toString().replace(new RegExp(function(e){return null==e?"":e.toString().replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}(t),"g"),n)}function $(e){return null==e?"":e.toString().replace(/^\s+/,"")}function B(e){return null==e?"":e.toString().replace(/\s+$/,"")}function M(e){if(0===l.date.html.length)return!1;l.date.pattern.lastIndex=0;const t=l.date.pattern.exec(e);if(null==t)return!1;const n=+t[l.date.match_y];if(n<0||n>8099)return!1;const i=1*t[l.date.match_m],o=1*t[l.date.match_d];if(!isFinite(o))return!1;const r=new Date(n,i-1,o,0,0,0);return r.getFullYear()===n&&r.getMonth()===i-1&&r.getDate()===o&&new Date(Date.UTC(n,i-1,o,0,0,0))}function H(e){return e=e||"0",""!==l.numbers.html.thousandsSeparator&&(e=F(e,l.numbers.html.thousandsSeparator,"")),"."!==l.numbers.html.decimalMark&&(e=F(e,l.numbers.html.decimalMark,".")),("number"==typeof e||!1!==i.isNumeric(e))&&e}function j(t,n,o,r){let a="",s="text";if(null!==t){const r=e(t);let c;if(r.removeData("teUserDefText"),r[0].hasAttribute("data-tableexport-canvas"))c="";else if(r[0].hasAttribute("data-tableexport-value"))c=r.attr("data-tableexport-value"),c=c?c+"":"",r.data("teUserDefText",1);else if(c=r.html(),"function"==typeof l.onCellHtmlData)c=l.onCellHtmlData(r,n,o,c),r.data("teUserDefText",1);else if(""!==c){const t=e.parseHTML("<div>"+c+"</div>",null,!1);let s=0,u=0;c="",e.each(t,(function(){if(e(this).is("input"))c+=r.find("input").eq(s++).val();else if(e(this).is("select"))c+=r.find("select option:selected").eq(u++).text();else if(e(this).is("br"))c+="<br>";else if(void 0===e(this).html()?c+=e(this).text():(void 0===i().bootstrapTable||!1===e(this).hasClass("fht-cell")&&!1===e(this).hasClass("filterControl")&&0===r.parents(".detail-view").length)&&(c+=e(this).html()),e(this).is("a")){const e=r.find("a").attr("href")||"";"function"==typeof l.onCellHtmlHyperlink?a+=l.onCellHtmlHyperlink(r,n,o,e,c):"href"===l.htmlHyperlink?a+=e:a+=c,c=""}}))}if(c&&""!==c&&!0===l.htmlContent)a=e.trim(c);else if(c&&""!==c){if(""!==r.attr("data-tableexport-cellformat")){let t=c.replace(/\n/g,"\u2028").replace(/(<\s*br([^>]*)>)/gi,"⁠");const n=e("<div/>").html(t).contents();let i=!1;if(t="",e.each(n.text().split("\u2028"),(function(e,n){e>0&&(t+=" "),!0!==l.preserve.leadingWS&&(n=$(n)),t+=!0!==l.preserve.trailingWS?B(n):n})),e.each(t.split("⁠"),(function(e,t){e>0&&(a+="\n"),!0!==l.preserve.leadingWS&&(t=$(t)),!0!==l.preserve.trailingWS&&(t=B(t)),a+=t.replace(/\u00AD/g,"")})),a=a.replace(/\u00A0/g," "),"json"===l.type||"excel"===l.type&&"xmlss"===l.mso.fileFormat||!1===l.numbers.output)i=H(a),!1!==i&&(s="number",a=Number(i));else if((l.numbers.html.decimalMark!==l.numbers.output.decimalMark||l.numbers.html.thousandsSeparator!==l.numbers.output.thousandsSeparator)&&(i=H(a),!1!==i)){const e=(""+i.substr(i<0?1:0)).split(".");1===e.length&&(e[1]="");const t=e[0].length>3?e[0].length%3:0;s="number",a=(i<0?"-":"")+(l.numbers.output.thousandsSeparator?(t?e[0].substr(0,t)+l.numbers.output.thousandsSeparator:"")+e[0].substr(t).replace(/(\d{3})(?=\d)/g,"$1"+l.numbers.output.thousandsSeparator):e[0])+(e[1].length?l.numbers.output.decimalMark+e[1]:"")}}else a=c}!0===l.escape&&(a=escape(a)),"function"==typeof l.onCellData&&(a=l.onCellData(r,n,o,a,s),r.data("teUserDefText",1))}return void 0!==r&&(r.type=s),a}function q(e){if(e.length>0&&!0===l.preventInjection){if("=+-@".indexOf(e.charAt(0))>=0)return"'"+e}return e}function U(e,t,n){return t+"-"+n.toLowerCase()}function z(e,t){const n=/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/.exec(e);let i=t;return n&&(i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])]),i}function V(e){let t=X(e,"text-align");const n=X(e,"font-weight"),i=X(e,"font-style");let o="";"start"===t&&(t="rtl"===X(e,"direction")?"right":"left"),n>=700&&(o="bold"),"italic"===i&&(o+=i),""===o&&(o="normal");const r={style:{align:t,bcolor:z(X(e,"background-color"),[255,255,255]),color:z(X(e,"color"),[0,0,0]),fstyle:o},colspan:W(e),rowspan:G(e)};if(null!==e){const t=e.getBoundingClientRect();r.rect={width:t.width,height:t.height}}return r}function W(t){let n=e(t).attr("data-tableexport-colspan");return void 0===n&&e(t).is("[colspan]")&&(n=e(t).attr("colspan")),parseInt(n)||0}function G(t){let n=e(t).attr("data-tableexport-rowspan");return void 0===n&&e(t).is("[rowspan]")&&(n=e(t).attr("rowspan")),parseInt(n)||0}function X(e,t){try{return window.getComputedStyle?(t=t.replace(/([a-z])([A-Z])/,U),window.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle?e.currentStyle[t]:e.style[t]}catch(e){}return""}function Y(e,t,n){let i=X(e,t).match(/\d+/);return null!==i?(i=i[0],function(e,t,n){const i=document.createElement("div");i.style.overflow="hidden",i.style.visibility="hidden",e.appendChild(i),i.style.width=100+n;const o=100/i.offsetWidth;return e.removeChild(i),t*o}(e.parentElement,i,n)):0}function Z(e){return function(e){let t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}(e.c)+(""+(e.r+1))}function J(e,t){return void 0===t||"number"==typeof t?J(e.s,e.e):("string"!=typeof e&&(e=Z(e)),"string"!=typeof t&&(t=Z(t)),e===t?e:e+":"+t)}function Q(e,t){let n=Number(e);if(isFinite(n))return n;let i=1,o=e;return""!==t.thousandsSeparator&&(o=o.replace(new RegExp("([\\d])"+t.thousandsSeparator+"([\\d])","g"),"$1$2")),"."!==t.decimalMark&&(o=o.replace(new RegExp("([\\d])"+t.decimalMark+"([\\d])","g"),"$1.$2")),o=o.replace(/[$]/g,"").replace(/[%]/g,(function(){return i*=100,""})),isFinite(n=Number(o))?n/i:(o=o.replace(/[(](.*)[)]/,(function(e,t){return i=-i,t})),isFinite(n=Number(o))?n/i:n)}function ee(e){let t,n,i,o=0;if(0===e.length)return o;for(t=0,i=e.length;t<i;t++)n=e.charCodeAt(t),o=(o<<5)-o+n,o|=0;return o}function te(e,t,n,i,o,r){let a=!0;if("function"==typeof l.onBeforeSaveToFile&&(a=l.onBeforeSaveToFile(e,t,n,i,o),"boolean"!=typeof a&&(a=!0)),a)try{p=new Blob([e],{type:n+";charset="+i}),saveAs(p,t,!1===r),"function"==typeof l.onAfterSaveToFile&&l.onAfterSaveToFile(e,t)}catch(a){ne(t,"data:"+n+(i.length?";charset="+i:"")+(o.length?";"+o:"")+",",r?"\ufeff"+e:e)}}function ne(e,t,n){const i=window.navigator.userAgent;if(!1!==e&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(new Blob([n]),e);else if(!1!==e&&(i.indexOf("MSIE ")>0||i.match(/Trident.*rv\:11\./))){const t=document.createElement("iframe");if(t){document.body.appendChild(t),t.setAttribute("style","display:none"),t.contentDocument.open("txt/plain","replace"),t.contentDocument.write(n),t.contentDocument.close(),t.contentWindow.focus();switch(e.substr(e.lastIndexOf(".")+1)){case"doc":case"json":case"png":case"pdf":case"xls":case"xlsx":e+=".txt"}t.contentDocument.execCommand("SaveAs",!0,e),document.body.removeChild(t)}}else{const i=document.createElement("a");if(i){let o=null;if(i.style.display="none",!1!==e?i.download=e:i.target="_blank","object"==typeof n){window.URL=window.URL||window.webkitURL;const e=[];e.push(n),o=window.URL.createObjectURL(new Blob(e,{type:t})),i.href=o}else t.toLowerCase().indexOf("base64,")>=0?i.href=t+ie(n):i.href=t+encodeURIComponent(n);document.body.appendChild(i),document.createEvent?(null===g&&(g=document.createEvent("MouseEvents")),g.initEvent("click",!0,!1),i.dispatchEvent(g)):document.createEventObject?i.fireEvent("onclick"):"function"==typeof i.onclick&&i.onclick(),setTimeout((function(){o&&window.URL.revokeObjectURL(o),document.body.removeChild(i),"function"==typeof l.onAfterSaveToFile&&l.onAfterSaveToFile(n,e)}),100)}}}function ie(e){let t,n,i,o,r,a,s;const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let c="",u=0;for(e=function(e){if("string"==typeof e){e=e.replace(/\x0d\x0a/g,"\n");let t="";for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}return e}(e);u<e.length;)t=e.charCodeAt(u++),n=e.charCodeAt(u++),i=e.charCodeAt(u++),o=t>>2,r=(3&t)<<4|n>>4,a=(15&n)<<2|i>>6,s=63&i,isNaN(n)?a=s=64:isNaN(i)&&(s=64),c=c+l.charAt(o)+l.charAt(r)+l.charAt(a)+l.charAt(s);return c}var oe,re,ae,se,le;function ce(e,t,n,i){"number"==typeof t&&"number"==typeof n||console.error("The x and y parameters are required. Missing for the text: ",e);const o=oe.internal.getFontSize()/oe.internal.scaleFactor,r=/\r\n|\r|\n/g;let a=null,s=1;if("middle"!==i.valign&&"bottom"!==i.valign&&"center"!==i.halign&&"right"!==i.halign||(a="string"==typeof e?e.split(r):e,s=a.length||1),n+=o*(2-1.15),"middle"===i.valign?n-=s/2*o:"bottom"===i.valign&&(n-=s*o),"center"===i.halign||"right"===i.halign){let r=o;if("center"===i.halign&&(r*=.5),a&&s>=1){for(let e=0;e<a.length;e++)oe.text(a[e],t-oe.getStringUnitWidth(a[e])*r,n),n+=o;return oe}t-=oe.getStringUnitWidth(e)*r}return oe.text(e,t,n),oe}function ue(e,t,n,i){const o=le.width-t-n;for(let r=0;r<e.length;r++){const a=e[r],s=a.contentWidth/n,l=a.contentWidth+o*s<i;if(o<0&&l){e.splice(r,1),n-=a.contentWidth,a.width=i,ue(e,t+=a.width,n,i);break}a.width=a.contentWidth+o*s}}function de(e,t){for(let n=0;n<le.columns.length;n++){const i=le.columns[n],o=e.cells[i.dataKey];if(!o)continue;he(o.styles),o.x=i.x,o.y=re.y,o.height=e.height,o.width=i.width,"top"===o.styles.valign?o.textPos.y=re.y+o.styles.cellPadding:"bottom"===o.styles.valign?o.textPos.y=re.y+e.height-o.styles.cellPadding:o.textPos.y=re.y+e.height/2,"right"===o.styles.halign?o.textPos.x=o.x+o.width-o.styles.cellPadding:"center"===o.styles.halign?o.textPos.x=o.x+o.width/2:o.textPos.x=o.x+o.styles.cellPadding;!1!==t(o,fe({column:i,row:e}))&&(oe.rect(o.x,o.y,o.width,o.height,o.styles.fillStyle),ce(o.text,o.textPos.x,o.textPos.y,{halign:o.styles.halign,valign:o.styles.valign}))}re.y+=e.height}function he(e){[{func:oe.setFillColor,value:e.fillColor},{func:oe.setTextColor,value:e.textColor},{func:oe.setFont,value:e.font,style:e.fontStyle},{func:oe.setDrawColor,value:e.lineColor},{func:oe.setLineWidth,value:e.lineWidth},{func:oe.setFont,value:e.font},{func:oe.setFontSize,value:e.fontSize}].forEach((function(e){void 0!==e.value&&(e.value.constructor===Array?e.func.apply(oe,e.value):void 0!==e.style?e.func(e.value,e.style):e.func(e.value))}))}function fe(e){e=e||{};const t={pageCount:se,settings:ae,table:le,cursor:re};for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function pe(e,t,n,i){if(i=void 0!==i?i:"...",Array.isArray(e))return e.forEach((function(o,r){e[r]=pe(o,t,n,i)})),e;if(t>=ge(e,n))return e;for(;t<ge(e+i,n)&&!(e.length<2);)e=e.substring(0,e.length-1);return e.trim()+i}function ge(e,t){he(t);return oe.getStringUnitWidth(e)*t.fontSize}function me(e){const t={};let n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);for(let e=1;e<arguments.length;e++){const i=arguments[e];for(n in i)i.hasOwnProperty(n)&&(t[n]=i[n])}return t}return"function"==typeof l.onTableExportEnd&&l.onTableExportEnd(),this};var t=function(){this.height=0,this.width=0,this.x=0,this.y=0,this.contentWidth=0,this.rows=[],this.columns=[],this.headerRow=null,this.settings={}},n=function(e){this.raw=e||{},this.index=0,this.styles={},this.cells={},this.height=0,this.y=0},o=function(e){this.raw=e,this.styles={},this.text="",this.contentWidth=0,this.textPos={},this.height=0,this.width=0,this.x=0,this.y=0},r=function(e){this.dataKey=e,this.options={},this.styles={},this.contentWidth=0,this.width=0,this.x=0}}(i)}}]);