(self["webpackChunk"] = self["webpackChunk"] || []).push([["vendors-node_modules_bootstrap-autocomplete_dist_latest_bootstrap-autocomplete_js-node_module-5fb22b"],{

/***/ "./node_modules/@popperjs/core/lib/createPopper.js":
/*!*********************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/createPopper.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createPopper": () => (/* binding */ createPopper),
/* harmony export */   "detectOverflow": () => (/* reexport safe */ _utils_detectOverflow_js__WEBPACK_IMPORTED_MODULE_13__["default"]),
/* harmony export */   "popperGenerator": () => (/* binding */ popperGenerator)
/* harmony export */ });
/* harmony import */ var _dom_utils_getCompositeRect_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./dom-utils/getCompositeRect.js */ "./node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js");
/* harmony import */ var _dom_utils_getLayoutRect_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./dom-utils/getLayoutRect.js */ "./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js");
/* harmony import */ var _dom_utils_listScrollParents_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dom-utils/listScrollParents.js */ "./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js");
/* harmony import */ var _dom_utils_getOffsetParent_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./dom-utils/getOffsetParent.js */ "./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js");
/* harmony import */ var _dom_utils_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./dom-utils/getComputedStyle.js */ "./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js");
/* harmony import */ var _utils_orderModifiers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/orderModifiers.js */ "./node_modules/@popperjs/core/lib/utils/orderModifiers.js");
/* harmony import */ var _utils_debounce_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./utils/debounce.js */ "./node_modules/@popperjs/core/lib/utils/debounce.js");
/* harmony import */ var _utils_validateModifiers_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/validateModifiers.js */ "./node_modules/@popperjs/core/lib/utils/validateModifiers.js");
/* harmony import */ var _utils_uniqueBy_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/uniqueBy.js */ "./node_modules/@popperjs/core/lib/utils/uniqueBy.js");
/* harmony import */ var _utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/getBasePlacement.js */ "./node_modules/@popperjs/core/lib/utils/getBasePlacement.js");
/* harmony import */ var _utils_mergeByName_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/mergeByName.js */ "./node_modules/@popperjs/core/lib/utils/mergeByName.js");
/* harmony import */ var _utils_detectOverflow_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./utils/detectOverflow.js */ "./node_modules/@popperjs/core/lib/utils/detectOverflow.js");
/* harmony import */ var _dom_utils_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dom-utils/instanceOf.js */ "./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@popperjs/core/lib/enums.js");














var INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.';
var INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.';
var DEFAULT_OPTIONS = {
  placement: 'bottom',
  modifiers: [],
  strategy: 'absolute'
};

function areValidElements() {
  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return !args.some(function (element) {
    return !(element && typeof element.getBoundingClientRect === 'function');
  });
}

function popperGenerator(generatorOptions) {
  if (generatorOptions === void 0) {
    generatorOptions = {};
  }

  var _generatorOptions = generatorOptions,
      _generatorOptions$def = _generatorOptions.defaultModifiers,
      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,
      _generatorOptions$def2 = _generatorOptions.defaultOptions,
      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;
  return function createPopper(reference, popper, options) {
    if (options === void 0) {
      options = defaultOptions;
    }

    var state = {
      placement: 'bottom',
      orderedModifiers: [],
      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),
      modifiersData: {},
      elements: {
        reference: reference,
        popper: popper
      },
      attributes: {},
      styles: {}
    };
    var effectCleanupFns = [];
    var isDestroyed = false;
    var instance = {
      state: state,
      setOptions: function setOptions(setOptionsAction) {
        var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction;
        cleanupModifierEffects();
        state.options = Object.assign({}, defaultOptions, state.options, options);
        state.scrollParents = {
          reference: (0,_dom_utils_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__.isElement)(reference) ? (0,_dom_utils_listScrollParents_js__WEBPACK_IMPORTED_MODULE_1__["default"])(reference) : reference.contextElement ? (0,_dom_utils_listScrollParents_js__WEBPACK_IMPORTED_MODULE_1__["default"])(reference.contextElement) : [],
          popper: (0,_dom_utils_listScrollParents_js__WEBPACK_IMPORTED_MODULE_1__["default"])(popper)
        }; // Orders the modifiers based on their dependencies and `phase`
        // properties

        var orderedModifiers = (0,_utils_orderModifiers_js__WEBPACK_IMPORTED_MODULE_2__["default"])((0,_utils_mergeByName_js__WEBPACK_IMPORTED_MODULE_3__["default"])([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers

        state.orderedModifiers = orderedModifiers.filter(function (m) {
          return m.enabled;
        }); // Validate the provided modifiers so that the consumer will get warned
        // if one of the modifiers is invalid for any reason

        if (true) {
          var modifiers = (0,_utils_uniqueBy_js__WEBPACK_IMPORTED_MODULE_4__["default"])([].concat(orderedModifiers, state.options.modifiers), function (_ref) {
            var name = _ref.name;
            return name;
          });
          (0,_utils_validateModifiers_js__WEBPACK_IMPORTED_MODULE_5__["default"])(modifiers);

          if ((0,_utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_6__["default"])(state.options.placement) === _enums_js__WEBPACK_IMPORTED_MODULE_7__.auto) {
            var flipModifier = state.orderedModifiers.find(function (_ref2) {
              var name = _ref2.name;
              return name === 'flip';
            });

            if (!flipModifier) {
              console.error(['Popper: "auto" placements require the "flip" modifier be', 'present and enabled to work.'].join(' '));
            }
          }

          var _getComputedStyle = (0,_dom_utils_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_8__["default"])(popper),
              marginTop = _getComputedStyle.marginTop,
              marginRight = _getComputedStyle.marginRight,
              marginBottom = _getComputedStyle.marginBottom,
              marginLeft = _getComputedStyle.marginLeft; // We no longer take into account `margins` on the popper, and it can
          // cause bugs with positioning, so we'll warn the consumer


          if ([marginTop, marginRight, marginBottom, marginLeft].some(function (margin) {
            return parseFloat(margin);
          })) {
            console.warn(['Popper: CSS "margin" styles cannot be used to apply padding', 'between the popper and its reference element or boundary.', 'To replicate margin, use the `offset` modifier, as well as', 'the `padding` option in the `preventOverflow` and `flip`', 'modifiers.'].join(' '));
          }
        }

        runModifierEffects();
        return instance.update();
      },
      // Sync update – it will always be executed, even if not necessary. This
      // is useful for low frequency updates where sync behavior simplifies the
      // logic.
      // For high frequency updates (e.g. `resize` and `scroll` events), always
      // prefer the async Popper#update method
      forceUpdate: function forceUpdate() {
        if (isDestroyed) {
          return;
        }

        var _state$elements = state.elements,
            reference = _state$elements.reference,
            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements
        // anymore

        if (!areValidElements(reference, popper)) {
          if (true) {
            console.error(INVALID_ELEMENT_ERROR);
          }

          return;
        } // Store the reference and popper rects to be read by modifiers


        state.rects = {
          reference: (0,_dom_utils_getCompositeRect_js__WEBPACK_IMPORTED_MODULE_9__["default"])(reference, (0,_dom_utils_getOffsetParent_js__WEBPACK_IMPORTED_MODULE_10__["default"])(popper), state.options.strategy === 'fixed'),
          popper: (0,_dom_utils_getLayoutRect_js__WEBPACK_IMPORTED_MODULE_11__["default"])(popper)
        }; // Modifiers have the ability to reset the current update cycle. The
        // most common use case for this is the `flip` modifier changing the
        // placement, which then needs to re-run all the modifiers, because the
        // logic was previously ran for the previous placement and is therefore
        // stale/incorrect

        state.reset = false;
        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier
        // is filled with the initial data specified by the modifier. This means
        // it doesn't persist and is fresh on each update.
        // To ensure persistent data, use `${name}#persistent`

        state.orderedModifiers.forEach(function (modifier) {
          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);
        });
        var __debug_loops__ = 0;

        for (var index = 0; index < state.orderedModifiers.length; index++) {
          if (true) {
            __debug_loops__ += 1;

            if (__debug_loops__ > 100) {
              console.error(INFINITE_LOOP_ERROR);
              break;
            }
          }

          if (state.reset === true) {
            state.reset = false;
            index = -1;
            continue;
          }

          var _state$orderedModifie = state.orderedModifiers[index],
              fn = _state$orderedModifie.fn,
              _state$orderedModifie2 = _state$orderedModifie.options,
              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,
              name = _state$orderedModifie.name;

          if (typeof fn === 'function') {
            state = fn({
              state: state,
              options: _options,
              name: name,
              instance: instance
            }) || state;
          }
        }
      },
      // Async and optimistically optimized update – it will not be executed if
      // not necessary (debounced to run at most once-per-tick)
      update: (0,_utils_debounce_js__WEBPACK_IMPORTED_MODULE_12__["default"])(function () {
        return new Promise(function (resolve) {
          instance.forceUpdate();
          resolve(state);
        });
      }),
      destroy: function destroy() {
        cleanupModifierEffects();
        isDestroyed = true;
      }
    };

    if (!areValidElements(reference, popper)) {
      if (true) {
        console.error(INVALID_ELEMENT_ERROR);
      }

      return instance;
    }

    instance.setOptions(options).then(function (state) {
      if (!isDestroyed && options.onFirstUpdate) {
        options.onFirstUpdate(state);
      }
    }); // Modifiers have the ability to execute arbitrary code before the first
    // update cycle runs. They will be executed in the same order as the update
    // cycle. This is useful when a modifier adds some persistent data that
    // other modifiers need to use, but the modifier is run after the dependent
    // one.

    function runModifierEffects() {
      state.orderedModifiers.forEach(function (_ref3) {
        var name = _ref3.name,
            _ref3$options = _ref3.options,
            options = _ref3$options === void 0 ? {} : _ref3$options,
            effect = _ref3.effect;

        if (typeof effect === 'function') {
          var cleanupFn = effect({
            state: state,
            name: name,
            instance: instance,
            options: options
          });

          var noopFn = function noopFn() {};

          effectCleanupFns.push(cleanupFn || noopFn);
        }
      });
    }

    function cleanupModifierEffects() {
      effectCleanupFns.forEach(function (fn) {
        return fn();
      });
      effectCleanupFns = [];
    }

    return instance;
  };
}
var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules



/***/ }),

/***/ "./node_modules/@popperjs/core/lib/dom-utils/contains.js":
/*!***************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/dom-utils/contains.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ contains)
/* harmony export */ });
/* harmony import */ var _instanceOf_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./instanceOf.js */ "./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");

function contains(parent, child) {
  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method

  if (parent.contains(child)) {
    return true;
  } // then fallback to custom implementation with Shadow DOM support
  else if (rootNode && (0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__.isShadowRoot)(rootNode)) {
      var next = child;

      do {
        if (next && parent.isSameNode(next)) {
          return true;
        } // $FlowFixMe[prop-missing]: need a better way to handle this...


        next = next.parentNode || next.host;
      } while (next);
    } // Give up, the result is false


  return false;
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getBoundingClientRect)
/* harmony export */ });
/* harmony import */ var _instanceOf_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./instanceOf.js */ "./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");
/* harmony import */ var _utils_math_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/math.js */ "./node_modules/@popperjs/core/lib/utils/math.js");
/* harmony import */ var _getWindow_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./getWindow.js */ "./node_modules/@popperjs/core/lib/dom-utils/getWindow.js");
/* harmony import */ var _isLayoutViewport_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./isLayoutViewport.js */ "./node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js");




function getBoundingClientRect(element, includeScale, isFixedStrategy) {
  if (includeScale === void 0) {
    includeScale = false;
  }

  if (isFixedStrategy === void 0) {
    isFixedStrategy = false;
  }

  var clientRect = element.getBoundingClientRect();
  var scaleX = 1;
  var scaleY = 1;

  if (includeScale && (0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__.isHTMLElement)(element)) {
    scaleX = element.offsetWidth > 0 ? (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_1__.round)(clientRect.width) / element.offsetWidth || 1 : 1;
    scaleY = element.offsetHeight > 0 ? (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_1__.round)(clientRect.height) / element.offsetHeight || 1 : 1;
  }

  var _ref = (0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__.isElement)(element) ? (0,_getWindow_js__WEBPACK_IMPORTED_MODULE_2__["default"])(element) : window,
      visualViewport = _ref.visualViewport;

  var addVisualOffsets = !(0,_isLayoutViewport_js__WEBPACK_IMPORTED_MODULE_3__["default"])() && isFixedStrategy;
  var x = (clientRect.left + (addVisualOffsets && visualViewport ? visualViewport.offsetLeft : 0)) / scaleX;
  var y = (clientRect.top + (addVisualOffsets && visualViewport ? visualViewport.offsetTop : 0)) / scaleY;
  var width = clientRect.width / scaleX;
  var height = clientRect.height / scaleY;
  return {
    width: width,
    height: height,
    top: y,
    right: x + width,
    bottom: y + height,
    left: x,
    x: x,
    y: y
  };
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getClippingRect)
/* harmony export */ });
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@popperjs/core/lib/enums.js");
/* harmony import */ var _getViewportRect_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getViewportRect.js */ "./node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js");
/* harmony import */ var _getDocumentRect_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./getDocumentRect.js */ "./node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js");
/* harmony import */ var _listScrollParents_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./listScrollParents.js */ "./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js");
/* harmony import */ var _getOffsetParent_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./getOffsetParent.js */ "./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js");
/* harmony import */ var _getDocumentElement_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./getDocumentElement.js */ "./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js");
/* harmony import */ var _getComputedStyle_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./getComputedStyle.js */ "./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js");
/* harmony import */ var _instanceOf_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./instanceOf.js */ "./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");
/* harmony import */ var _getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getBoundingClientRect.js */ "./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js");
/* harmony import */ var _getParentNode_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./getParentNode.js */ "./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js");
/* harmony import */ var _contains_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./contains.js */ "./node_modules/@popperjs/core/lib/dom-utils/contains.js");
/* harmony import */ var _getNodeName_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./getNodeName.js */ "./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js");
/* harmony import */ var _utils_rectToClientRect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/rectToClientRect.js */ "./node_modules/@popperjs/core/lib/utils/rectToClientRect.js");
/* harmony import */ var _utils_math_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils/math.js */ "./node_modules/@popperjs/core/lib/utils/math.js");















function getInnerBoundingClientRect(element, strategy) {
  var rect = (0,_getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_0__["default"])(element, false, strategy === 'fixed');
  rect.top = rect.top + element.clientTop;
  rect.left = rect.left + element.clientLeft;
  rect.bottom = rect.top + element.clientHeight;
  rect.right = rect.left + element.clientWidth;
  rect.width = element.clientWidth;
  rect.height = element.clientHeight;
  rect.x = rect.left;
  rect.y = rect.top;
  return rect;
}

function getClientRectFromMixedType(element, clippingParent, strategy) {
  return clippingParent === _enums_js__WEBPACK_IMPORTED_MODULE_1__.viewport ? (0,_utils_rectToClientRect_js__WEBPACK_IMPORTED_MODULE_2__["default"])((0,_getViewportRect_js__WEBPACK_IMPORTED_MODULE_3__["default"])(element, strategy)) : (0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_4__.isElement)(clippingParent) ? getInnerBoundingClientRect(clippingParent, strategy) : (0,_utils_rectToClientRect_js__WEBPACK_IMPORTED_MODULE_2__["default"])((0,_getDocumentRect_js__WEBPACK_IMPORTED_MODULE_5__["default"])((0,_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_6__["default"])(element)));
} // A "clipping parent" is an overflowable container with the characteristic of
// clipping (or hiding) overflowing elements with a position different from
// `initial`


function getClippingParents(element) {
  var clippingParents = (0,_listScrollParents_js__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_getParentNode_js__WEBPACK_IMPORTED_MODULE_8__["default"])(element));
  var canEscapeClipping = ['absolute', 'fixed'].indexOf((0,_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_9__["default"])(element).position) >= 0;
  var clipperElement = canEscapeClipping && (0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_4__.isHTMLElement)(element) ? (0,_getOffsetParent_js__WEBPACK_IMPORTED_MODULE_10__["default"])(element) : element;

  if (!(0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_4__.isElement)(clipperElement)) {
    return [];
  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414


  return clippingParents.filter(function (clippingParent) {
    return (0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_4__.isElement)(clippingParent) && (0,_contains_js__WEBPACK_IMPORTED_MODULE_11__["default"])(clippingParent, clipperElement) && (0,_getNodeName_js__WEBPACK_IMPORTED_MODULE_12__["default"])(clippingParent) !== 'body';
  });
} // Gets the maximum area that the element is visible in due to any number of
// clipping parents


function getClippingRect(element, boundary, rootBoundary, strategy) {
  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);
  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);
  var firstClippingParent = clippingParents[0];
  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {
    var rect = getClientRectFromMixedType(element, clippingParent, strategy);
    accRect.top = (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_13__.max)(rect.top, accRect.top);
    accRect.right = (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_13__.min)(rect.right, accRect.right);
    accRect.bottom = (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_13__.min)(rect.bottom, accRect.bottom);
    accRect.left = (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_13__.max)(rect.left, accRect.left);
    return accRect;
  }, getClientRectFromMixedType(element, firstClippingParent, strategy));
  clippingRect.width = clippingRect.right - clippingRect.left;
  clippingRect.height = clippingRect.bottom - clippingRect.top;
  clippingRect.x = clippingRect.left;
  clippingRect.y = clippingRect.top;
  return clippingRect;
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getCompositeRect)
/* harmony export */ });
/* harmony import */ var _getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getBoundingClientRect.js */ "./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js");
/* harmony import */ var _getNodeScroll_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./getNodeScroll.js */ "./node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js");
/* harmony import */ var _getNodeName_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./getNodeName.js */ "./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js");
/* harmony import */ var _instanceOf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./instanceOf.js */ "./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");
/* harmony import */ var _getWindowScrollBarX_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./getWindowScrollBarX.js */ "./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js");
/* harmony import */ var _getDocumentElement_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./getDocumentElement.js */ "./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js");
/* harmony import */ var _isScrollParent_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./isScrollParent.js */ "./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js");
/* harmony import */ var _utils_math_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/math.js */ "./node_modules/@popperjs/core/lib/utils/math.js");









function isElementScaled(element) {
  var rect = element.getBoundingClientRect();
  var scaleX = (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_0__.round)(rect.width) / element.offsetWidth || 1;
  var scaleY = (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_0__.round)(rect.height) / element.offsetHeight || 1;
  return scaleX !== 1 || scaleY !== 1;
} // Returns the composite rect of an element relative to its offsetParent.
// Composite means it takes into account transforms as well as layout.


function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {
  if (isFixed === void 0) {
    isFixed = false;
  }

  var isOffsetParentAnElement = (0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_1__.isHTMLElement)(offsetParent);
  var offsetParentIsScaled = (0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_1__.isHTMLElement)(offsetParent) && isElementScaled(offsetParent);
  var documentElement = (0,_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_2__["default"])(offsetParent);
  var rect = (0,_getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_3__["default"])(elementOrVirtualElement, offsetParentIsScaled, isFixed);
  var scroll = {
    scrollLeft: 0,
    scrollTop: 0
  };
  var offsets = {
    x: 0,
    y: 0
  };

  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {
    if ((0,_getNodeName_js__WEBPACK_IMPORTED_MODULE_4__["default"])(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078
    (0,_isScrollParent_js__WEBPACK_IMPORTED_MODULE_5__["default"])(documentElement)) {
      scroll = (0,_getNodeScroll_js__WEBPACK_IMPORTED_MODULE_6__["default"])(offsetParent);
    }

    if ((0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_1__.isHTMLElement)(offsetParent)) {
      offsets = (0,_getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_3__["default"])(offsetParent, true);
      offsets.x += offsetParent.clientLeft;
      offsets.y += offsetParent.clientTop;
    } else if (documentElement) {
      offsets.x = (0,_getWindowScrollBarX_js__WEBPACK_IMPORTED_MODULE_7__["default"])(documentElement);
    }
  }

  return {
    x: rect.left + scroll.scrollLeft - offsets.x,
    y: rect.top + scroll.scrollTop - offsets.y,
    width: rect.width,
    height: rect.height
  };
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getComputedStyle)
/* harmony export */ });
/* harmony import */ var _getWindow_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getWindow.js */ "./node_modules/@popperjs/core/lib/dom-utils/getWindow.js");

function getComputedStyle(element) {
  return (0,_getWindow_js__WEBPACK_IMPORTED_MODULE_0__["default"])(element).getComputedStyle(element);
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getDocumentElement)
/* harmony export */ });
/* harmony import */ var _instanceOf_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./instanceOf.js */ "./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");

function getDocumentElement(element) {
  // $FlowFixMe[incompatible-return]: assume body is always available
  return (((0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__.isElement)(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]
  element.document) || window.document).documentElement;
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getDocumentRect)
/* harmony export */ });
/* harmony import */ var _getDocumentElement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getDocumentElement.js */ "./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js");
/* harmony import */ var _getComputedStyle_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./getComputedStyle.js */ "./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js");
/* harmony import */ var _getWindowScrollBarX_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getWindowScrollBarX.js */ "./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js");
/* harmony import */ var _getWindowScroll_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getWindowScroll.js */ "./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js");
/* harmony import */ var _utils_math_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/math.js */ "./node_modules/@popperjs/core/lib/utils/math.js");




 // Gets the entire size of the scrollable document area, even extending outside
// of the `<html>` and `<body>` rect bounds if horizontally scrollable

function getDocumentRect(element) {
  var _element$ownerDocumen;

  var html = (0,_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_0__["default"])(element);
  var winScroll = (0,_getWindowScroll_js__WEBPACK_IMPORTED_MODULE_1__["default"])(element);
  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;
  var width = (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_2__.max)(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);
  var height = (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_2__.max)(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);
  var x = -winScroll.scrollLeft + (0,_getWindowScrollBarX_js__WEBPACK_IMPORTED_MODULE_3__["default"])(element);
  var y = -winScroll.scrollTop;

  if ((0,_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_4__["default"])(body || html).direction === 'rtl') {
    x += (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_2__.max)(html.clientWidth, body ? body.clientWidth : 0) - width;
  }

  return {
    width: width,
    height: height,
    x: x,
    y: y
  };
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getHTMLElementScroll)
/* harmony export */ });
function getHTMLElementScroll(element) {
  return {
    scrollLeft: element.scrollLeft,
    scrollTop: element.scrollTop
  };
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js":
/*!********************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getLayoutRect)
/* harmony export */ });
/* harmony import */ var _getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getBoundingClientRect.js */ "./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js");
 // Returns the layout rect of an element relative to its offsetParent. Layout
// means it doesn't take into account transforms.

function getLayoutRect(element) {
  var clientRect = (0,_getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_0__["default"])(element); // Use the clientRect sizes if it's not been transformed.
  // Fixes https://github.com/popperjs/popper-core/issues/1223

  var width = element.offsetWidth;
  var height = element.offsetHeight;

  if (Math.abs(clientRect.width - width) <= 1) {
    width = clientRect.width;
  }

  if (Math.abs(clientRect.height - height) <= 1) {
    height = clientRect.height;
  }

  return {
    x: element.offsetLeft,
    y: element.offsetTop,
    width: width,
    height: height
  };
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js":
/*!******************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getNodeName)
/* harmony export */ });
function getNodeName(element) {
  return element ? (element.nodeName || '').toLowerCase() : null;
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js":
/*!********************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getNodeScroll)
/* harmony export */ });
/* harmony import */ var _getWindowScroll_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./getWindowScroll.js */ "./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js");
/* harmony import */ var _getWindow_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getWindow.js */ "./node_modules/@popperjs/core/lib/dom-utils/getWindow.js");
/* harmony import */ var _instanceOf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./instanceOf.js */ "./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");
/* harmony import */ var _getHTMLElementScroll_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getHTMLElementScroll.js */ "./node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js");




function getNodeScroll(node) {
  if (node === (0,_getWindow_js__WEBPACK_IMPORTED_MODULE_0__["default"])(node) || !(0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_1__.isHTMLElement)(node)) {
    return (0,_getWindowScroll_js__WEBPACK_IMPORTED_MODULE_2__["default"])(node);
  } else {
    return (0,_getHTMLElementScroll_js__WEBPACK_IMPORTED_MODULE_3__["default"])(node);
  }
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getOffsetParent)
/* harmony export */ });
/* harmony import */ var _getWindow_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./getWindow.js */ "./node_modules/@popperjs/core/lib/dom-utils/getWindow.js");
/* harmony import */ var _getNodeName_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./getNodeName.js */ "./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js");
/* harmony import */ var _getComputedStyle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getComputedStyle.js */ "./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js");
/* harmony import */ var _instanceOf_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./instanceOf.js */ "./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");
/* harmony import */ var _isTableElement_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./isTableElement.js */ "./node_modules/@popperjs/core/lib/dom-utils/isTableElement.js");
/* harmony import */ var _getParentNode_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getParentNode.js */ "./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js");
/* harmony import */ var _utils_userAgent_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/userAgent.js */ "./node_modules/@popperjs/core/lib/utils/userAgent.js");








function getTrueOffsetParent(element) {
  if (!(0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__.isHTMLElement)(element) || // https://github.com/popperjs/popper-core/issues/837
  (0,_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_1__["default"])(element).position === 'fixed') {
    return null;
  }

  return element.offsetParent;
} // `.offsetParent` reports `null` for fixed elements, while absolute elements
// return the containing block


function getContainingBlock(element) {
  var isFirefox = /firefox/i.test((0,_utils_userAgent_js__WEBPACK_IMPORTED_MODULE_2__["default"])());
  var isIE = /Trident/i.test((0,_utils_userAgent_js__WEBPACK_IMPORTED_MODULE_2__["default"])());

  if (isIE && (0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__.isHTMLElement)(element)) {
    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport
    var elementCss = (0,_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_1__["default"])(element);

    if (elementCss.position === 'fixed') {
      return null;
    }
  }

  var currentNode = (0,_getParentNode_js__WEBPACK_IMPORTED_MODULE_3__["default"])(element);

  if ((0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__.isShadowRoot)(currentNode)) {
    currentNode = currentNode.host;
  }

  while ((0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__.isHTMLElement)(currentNode) && ['html', 'body'].indexOf((0,_getNodeName_js__WEBPACK_IMPORTED_MODULE_4__["default"])(currentNode)) < 0) {
    var css = (0,_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_1__["default"])(currentNode); // This is non-exhaustive but covers the most common CSS properties that
    // create a containing block.
    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block

    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {
      return currentNode;
    } else {
      currentNode = currentNode.parentNode;
    }
  }

  return null;
} // Gets the closest ancestor positioned element. Handles some edge cases,
// such as table ancestors and cross browser bugs.


function getOffsetParent(element) {
  var window = (0,_getWindow_js__WEBPACK_IMPORTED_MODULE_5__["default"])(element);
  var offsetParent = getTrueOffsetParent(element);

  while (offsetParent && (0,_isTableElement_js__WEBPACK_IMPORTED_MODULE_6__["default"])(offsetParent) && (0,_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_1__["default"])(offsetParent).position === 'static') {
    offsetParent = getTrueOffsetParent(offsetParent);
  }

  if (offsetParent && ((0,_getNodeName_js__WEBPACK_IMPORTED_MODULE_4__["default"])(offsetParent) === 'html' || (0,_getNodeName_js__WEBPACK_IMPORTED_MODULE_4__["default"])(offsetParent) === 'body' && (0,_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_1__["default"])(offsetParent).position === 'static')) {
    return window;
  }

  return offsetParent || getContainingBlock(element) || window;
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js":
/*!********************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getParentNode)
/* harmony export */ });
/* harmony import */ var _getNodeName_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getNodeName.js */ "./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js");
/* harmony import */ var _getDocumentElement_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./getDocumentElement.js */ "./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js");
/* harmony import */ var _instanceOf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./instanceOf.js */ "./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");



function getParentNode(element) {
  if ((0,_getNodeName_js__WEBPACK_IMPORTED_MODULE_0__["default"])(element) === 'html') {
    return element;
  }

  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle
    // $FlowFixMe[incompatible-return]
    // $FlowFixMe[prop-missing]
    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node
    element.parentNode || ( // DOM Element detected
    (0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_1__.isShadowRoot)(element) ? element.host : null) || // ShadowRoot detected
    // $FlowFixMe[incompatible-call]: HTMLElement is a Node
    (0,_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_2__["default"])(element) // fallback

  );
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getScrollParent)
/* harmony export */ });
/* harmony import */ var _getParentNode_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getParentNode.js */ "./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js");
/* harmony import */ var _isScrollParent_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./isScrollParent.js */ "./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js");
/* harmony import */ var _getNodeName_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getNodeName.js */ "./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js");
/* harmony import */ var _instanceOf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./instanceOf.js */ "./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");




function getScrollParent(node) {
  if (['html', 'body', '#document'].indexOf((0,_getNodeName_js__WEBPACK_IMPORTED_MODULE_0__["default"])(node)) >= 0) {
    // $FlowFixMe[incompatible-return]: assume body is always available
    return node.ownerDocument.body;
  }

  if ((0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_1__.isHTMLElement)(node) && (0,_isScrollParent_js__WEBPACK_IMPORTED_MODULE_2__["default"])(node)) {
    return node;
  }

  return getScrollParent((0,_getParentNode_js__WEBPACK_IMPORTED_MODULE_3__["default"])(node));
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getViewportRect)
/* harmony export */ });
/* harmony import */ var _getWindow_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getWindow.js */ "./node_modules/@popperjs/core/lib/dom-utils/getWindow.js");
/* harmony import */ var _getDocumentElement_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getDocumentElement.js */ "./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js");
/* harmony import */ var _getWindowScrollBarX_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getWindowScrollBarX.js */ "./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js");
/* harmony import */ var _isLayoutViewport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./isLayoutViewport.js */ "./node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js");




function getViewportRect(element, strategy) {
  var win = (0,_getWindow_js__WEBPACK_IMPORTED_MODULE_0__["default"])(element);
  var html = (0,_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_1__["default"])(element);
  var visualViewport = win.visualViewport;
  var width = html.clientWidth;
  var height = html.clientHeight;
  var x = 0;
  var y = 0;

  if (visualViewport) {
    width = visualViewport.width;
    height = visualViewport.height;
    var layoutViewport = (0,_isLayoutViewport_js__WEBPACK_IMPORTED_MODULE_2__["default"])();

    if (layoutViewport || !layoutViewport && strategy === 'fixed') {
      x = visualViewport.offsetLeft;
      y = visualViewport.offsetTop;
    }
  }

  return {
    width: width,
    height: height,
    x: x + (0,_getWindowScrollBarX_js__WEBPACK_IMPORTED_MODULE_3__["default"])(element),
    y: y
  };
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/dom-utils/getWindow.js":
/*!****************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/dom-utils/getWindow.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getWindow)
/* harmony export */ });
function getWindow(node) {
  if (node == null) {
    return window;
  }

  if (node.toString() !== '[object Window]') {
    var ownerDocument = node.ownerDocument;
    return ownerDocument ? ownerDocument.defaultView || window : window;
  }

  return node;
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getWindowScroll)
/* harmony export */ });
/* harmony import */ var _getWindow_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getWindow.js */ "./node_modules/@popperjs/core/lib/dom-utils/getWindow.js");

function getWindowScroll(node) {
  var win = (0,_getWindow_js__WEBPACK_IMPORTED_MODULE_0__["default"])(node);
  var scrollLeft = win.pageXOffset;
  var scrollTop = win.pageYOffset;
  return {
    scrollLeft: scrollLeft,
    scrollTop: scrollTop
  };
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getWindowScrollBarX)
/* harmony export */ });
/* harmony import */ var _getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getBoundingClientRect.js */ "./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js");
/* harmony import */ var _getDocumentElement_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getDocumentElement.js */ "./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js");
/* harmony import */ var _getWindowScroll_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./getWindowScroll.js */ "./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js");



function getWindowScrollBarX(element) {
  // If <html> has a CSS width greater than the viewport, then this will be
  // incorrect for RTL.
  // Popper 1 is broken in this case and never had a bug report so let's assume
  // it's not an issue. I don't think anyone ever specifies width on <html>
  // anyway.
  // Browsers where the left scrollbar doesn't cause an issue report `0` for
  // this (e.g. Edge 2019, IE11, Safari)
  return (0,_getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_0__["default"])((0,_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_1__["default"])(element)).left + (0,_getWindowScroll_js__WEBPACK_IMPORTED_MODULE_2__["default"])(element).scrollLeft;
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isElement": () => (/* binding */ isElement),
/* harmony export */   "isHTMLElement": () => (/* binding */ isHTMLElement),
/* harmony export */   "isShadowRoot": () => (/* binding */ isShadowRoot)
/* harmony export */ });
/* harmony import */ var _getWindow_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getWindow.js */ "./node_modules/@popperjs/core/lib/dom-utils/getWindow.js");


function isElement(node) {
  var OwnElement = (0,_getWindow_js__WEBPACK_IMPORTED_MODULE_0__["default"])(node).Element;
  return node instanceof OwnElement || node instanceof Element;
}

function isHTMLElement(node) {
  var OwnElement = (0,_getWindow_js__WEBPACK_IMPORTED_MODULE_0__["default"])(node).HTMLElement;
  return node instanceof OwnElement || node instanceof HTMLElement;
}

function isShadowRoot(node) {
  // IE 11 has no ShadowRoot
  if (typeof ShadowRoot === 'undefined') {
    return false;
  }

  var OwnElement = (0,_getWindow_js__WEBPACK_IMPORTED_MODULE_0__["default"])(node).ShadowRoot;
  return node instanceof OwnElement || node instanceof ShadowRoot;
}



/***/ }),

/***/ "./node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ isLayoutViewport)
/* harmony export */ });
/* harmony import */ var _utils_userAgent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/userAgent.js */ "./node_modules/@popperjs/core/lib/utils/userAgent.js");

function isLayoutViewport() {
  return !/^((?!chrome|android).)*safari/i.test((0,_utils_userAgent_js__WEBPACK_IMPORTED_MODULE_0__["default"])());
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ isScrollParent)
/* harmony export */ });
/* harmony import */ var _getComputedStyle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getComputedStyle.js */ "./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js");

function isScrollParent(element) {
  // Firefox wants us to check `-x` and `-y` variations as well
  var _getComputedStyle = (0,_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_0__["default"])(element),
      overflow = _getComputedStyle.overflow,
      overflowX = _getComputedStyle.overflowX,
      overflowY = _getComputedStyle.overflowY;

  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/dom-utils/isTableElement.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/dom-utils/isTableElement.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ isTableElement)
/* harmony export */ });
/* harmony import */ var _getNodeName_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getNodeName.js */ "./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js");

function isTableElement(element) {
  return ['table', 'td', 'th'].indexOf((0,_getNodeName_js__WEBPACK_IMPORTED_MODULE_0__["default"])(element)) >= 0;
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js":
/*!************************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ listScrollParents)
/* harmony export */ });
/* harmony import */ var _getScrollParent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getScrollParent.js */ "./node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js");
/* harmony import */ var _getParentNode_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getParentNode.js */ "./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js");
/* harmony import */ var _getWindow_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getWindow.js */ "./node_modules/@popperjs/core/lib/dom-utils/getWindow.js");
/* harmony import */ var _isScrollParent_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./isScrollParent.js */ "./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js");




/*
given a DOM element, return the list of all scroll parents, up the list of ancesors
until we get to the top window object. This list is what we attach scroll listeners
to, because if any of these parent elements scroll, we'll need to re-calculate the
reference element's position.
*/

function listScrollParents(element, list) {
  var _element$ownerDocumen;

  if (list === void 0) {
    list = [];
  }

  var scrollParent = (0,_getScrollParent_js__WEBPACK_IMPORTED_MODULE_0__["default"])(element);
  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);
  var win = (0,_getWindow_js__WEBPACK_IMPORTED_MODULE_1__["default"])(scrollParent);
  var target = isBody ? [win].concat(win.visualViewport || [], (0,_isScrollParent_js__WEBPACK_IMPORTED_MODULE_2__["default"])(scrollParent) ? scrollParent : []) : scrollParent;
  var updatedList = list.concat(target);
  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here
  updatedList.concat(listScrollParents((0,_getParentNode_js__WEBPACK_IMPORTED_MODULE_3__["default"])(target)));
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/enums.js":
/*!**************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/enums.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "afterMain": () => (/* binding */ afterMain),
/* harmony export */   "afterRead": () => (/* binding */ afterRead),
/* harmony export */   "afterWrite": () => (/* binding */ afterWrite),
/* harmony export */   "auto": () => (/* binding */ auto),
/* harmony export */   "basePlacements": () => (/* binding */ basePlacements),
/* harmony export */   "beforeMain": () => (/* binding */ beforeMain),
/* harmony export */   "beforeRead": () => (/* binding */ beforeRead),
/* harmony export */   "beforeWrite": () => (/* binding */ beforeWrite),
/* harmony export */   "bottom": () => (/* binding */ bottom),
/* harmony export */   "clippingParents": () => (/* binding */ clippingParents),
/* harmony export */   "end": () => (/* binding */ end),
/* harmony export */   "left": () => (/* binding */ left),
/* harmony export */   "main": () => (/* binding */ main),
/* harmony export */   "modifierPhases": () => (/* binding */ modifierPhases),
/* harmony export */   "placements": () => (/* binding */ placements),
/* harmony export */   "popper": () => (/* binding */ popper),
/* harmony export */   "read": () => (/* binding */ read),
/* harmony export */   "reference": () => (/* binding */ reference),
/* harmony export */   "right": () => (/* binding */ right),
/* harmony export */   "start": () => (/* binding */ start),
/* harmony export */   "top": () => (/* binding */ top),
/* harmony export */   "variationPlacements": () => (/* binding */ variationPlacements),
/* harmony export */   "viewport": () => (/* binding */ viewport),
/* harmony export */   "write": () => (/* binding */ write)
/* harmony export */ });
var top = 'top';
var bottom = 'bottom';
var right = 'right';
var left = 'left';
var auto = 'auto';
var basePlacements = [top, bottom, right, left];
var start = 'start';
var end = 'end';
var clippingParents = 'clippingParents';
var viewport = 'viewport';
var popper = 'popper';
var reference = 'reference';
var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {
  return acc.concat([placement + "-" + start, placement + "-" + end]);
}, []);
var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {
  return acc.concat([placement, placement + "-" + start, placement + "-" + end]);
}, []); // modifiers that need to read the DOM

var beforeRead = 'beforeRead';
var read = 'read';
var afterRead = 'afterRead'; // pure-logic modifiers

var beforeMain = 'beforeMain';
var main = 'main';
var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)

var beforeWrite = 'beforeWrite';
var write = 'write';
var afterWrite = 'afterWrite';
var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/index.js":
/*!**************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/index.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "afterMain": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.afterMain),
/* harmony export */   "afterRead": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.afterRead),
/* harmony export */   "afterWrite": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.afterWrite),
/* harmony export */   "applyStyles": () => (/* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_1__.applyStyles),
/* harmony export */   "arrow": () => (/* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_1__.arrow),
/* harmony export */   "auto": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.auto),
/* harmony export */   "basePlacements": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.basePlacements),
/* harmony export */   "beforeMain": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.beforeMain),
/* harmony export */   "beforeRead": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.beforeRead),
/* harmony export */   "beforeWrite": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.beforeWrite),
/* harmony export */   "bottom": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.bottom),
/* harmony export */   "clippingParents": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.clippingParents),
/* harmony export */   "computeStyles": () => (/* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_1__.computeStyles),
/* harmony export */   "createPopper": () => (/* reexport safe */ _popper_js__WEBPACK_IMPORTED_MODULE_4__.createPopper),
/* harmony export */   "createPopperBase": () => (/* reexport safe */ _createPopper_js__WEBPACK_IMPORTED_MODULE_2__.createPopper),
/* harmony export */   "createPopperLite": () => (/* reexport safe */ _popper_lite_js__WEBPACK_IMPORTED_MODULE_5__.createPopper),
/* harmony export */   "detectOverflow": () => (/* reexport safe */ _createPopper_js__WEBPACK_IMPORTED_MODULE_3__["default"]),
/* harmony export */   "end": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.end),
/* harmony export */   "eventListeners": () => (/* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_1__.eventListeners),
/* harmony export */   "flip": () => (/* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_1__.flip),
/* harmony export */   "hide": () => (/* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_1__.hide),
/* harmony export */   "left": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.left),
/* harmony export */   "main": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.main),
/* harmony export */   "modifierPhases": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.modifierPhases),
/* harmony export */   "offset": () => (/* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_1__.offset),
/* harmony export */   "placements": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.placements),
/* harmony export */   "popper": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.popper),
/* harmony export */   "popperGenerator": () => (/* reexport safe */ _createPopper_js__WEBPACK_IMPORTED_MODULE_2__.popperGenerator),
/* harmony export */   "popperOffsets": () => (/* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_1__.popperOffsets),
/* harmony export */   "preventOverflow": () => (/* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_1__.preventOverflow),
/* harmony export */   "read": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.read),
/* harmony export */   "reference": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.reference),
/* harmony export */   "right": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.right),
/* harmony export */   "start": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.start),
/* harmony export */   "top": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.top),
/* harmony export */   "variationPlacements": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.variationPlacements),
/* harmony export */   "viewport": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.viewport),
/* harmony export */   "write": () => (/* reexport safe */ _enums_js__WEBPACK_IMPORTED_MODULE_0__.write)
/* harmony export */ });
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@popperjs/core/lib/enums.js");
/* harmony import */ var _modifiers_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modifiers/index.js */ "./node_modules/@popperjs/core/lib/modifiers/index.js");
/* harmony import */ var _createPopper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./createPopper.js */ "./node_modules/@popperjs/core/lib/createPopper.js");
/* harmony import */ var _createPopper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./createPopper.js */ "./node_modules/@popperjs/core/lib/utils/detectOverflow.js");
/* harmony import */ var _popper_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./popper.js */ "./node_modules/@popperjs/core/lib/popper.js");
/* harmony import */ var _popper_lite_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./popper-lite.js */ "./node_modules/@popperjs/core/lib/popper-lite.js");

 // eslint-disable-next-line import/no-unused-modules

 // eslint-disable-next-line import/no-unused-modules

 // eslint-disable-next-line import/no-unused-modules



/***/ }),

/***/ "./node_modules/@popperjs/core/lib/modifiers/applyStyles.js":
/*!******************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/modifiers/applyStyles.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _dom_utils_getNodeName_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dom-utils/getNodeName.js */ "./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js");
/* harmony import */ var _dom_utils_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom-utils/instanceOf.js */ "./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");

 // This modifier takes the styles prepared by the `computeStyles` modifier
// and applies them to the HTMLElements such as popper and arrow

function applyStyles(_ref) {
  var state = _ref.state;
  Object.keys(state.elements).forEach(function (name) {
    var style = state.styles[name] || {};
    var attributes = state.attributes[name] || {};
    var element = state.elements[name]; // arrow is optional + virtual elements

    if (!(0,_dom_utils_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__.isHTMLElement)(element) || !(0,_dom_utils_getNodeName_js__WEBPACK_IMPORTED_MODULE_1__["default"])(element)) {
      return;
    } // Flow doesn't support to extend this property, but it's the most
    // effective way to apply styles to an HTMLElement
    // $FlowFixMe[cannot-write]


    Object.assign(element.style, style);
    Object.keys(attributes).forEach(function (name) {
      var value = attributes[name];

      if (value === false) {
        element.removeAttribute(name);
      } else {
        element.setAttribute(name, value === true ? '' : value);
      }
    });
  });
}

function effect(_ref2) {
  var state = _ref2.state;
  var initialStyles = {
    popper: {
      position: state.options.strategy,
      left: '0',
      top: '0',
      margin: '0'
    },
    arrow: {
      position: 'absolute'
    },
    reference: {}
  };
  Object.assign(state.elements.popper.style, initialStyles.popper);
  state.styles = initialStyles;

  if (state.elements.arrow) {
    Object.assign(state.elements.arrow.style, initialStyles.arrow);
  }

  return function () {
    Object.keys(state.elements).forEach(function (name) {
      var element = state.elements[name];
      var attributes = state.attributes[name] || {};
      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them

      var style = styleProperties.reduce(function (style, property) {
        style[property] = '';
        return style;
      }, {}); // arrow is optional + virtual elements

      if (!(0,_dom_utils_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__.isHTMLElement)(element) || !(0,_dom_utils_getNodeName_js__WEBPACK_IMPORTED_MODULE_1__["default"])(element)) {
        return;
      }

      Object.assign(element.style, style);
      Object.keys(attributes).forEach(function (attribute) {
        element.removeAttribute(attribute);
      });
    });
  };
} // eslint-disable-next-line import/no-unused-modules


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  name: 'applyStyles',
  enabled: true,
  phase: 'write',
  fn: applyStyles,
  effect: effect,
  requires: ['computeStyles']
});

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/modifiers/arrow.js":
/*!************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/modifiers/arrow.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/getBasePlacement.js */ "./node_modules/@popperjs/core/lib/utils/getBasePlacement.js");
/* harmony import */ var _dom_utils_getLayoutRect_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../dom-utils/getLayoutRect.js */ "./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js");
/* harmony import */ var _dom_utils_contains_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../dom-utils/contains.js */ "./node_modules/@popperjs/core/lib/dom-utils/contains.js");
/* harmony import */ var _dom_utils_getOffsetParent_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../dom-utils/getOffsetParent.js */ "./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js");
/* harmony import */ var _utils_getMainAxisFromPlacement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/getMainAxisFromPlacement.js */ "./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js");
/* harmony import */ var _utils_within_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/within.js */ "./node_modules/@popperjs/core/lib/utils/within.js");
/* harmony import */ var _utils_mergePaddingObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/mergePaddingObject.js */ "./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js");
/* harmony import */ var _utils_expandToHashMap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/expandToHashMap.js */ "./node_modules/@popperjs/core/lib/utils/expandToHashMap.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@popperjs/core/lib/enums.js");
/* harmony import */ var _dom_utils_instanceOf_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../dom-utils/instanceOf.js */ "./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");









 // eslint-disable-next-line import/no-unused-modules

var toPaddingObject = function toPaddingObject(padding, state) {
  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {
    placement: state.placement
  })) : padding;
  return (0,_utils_mergePaddingObject_js__WEBPACK_IMPORTED_MODULE_0__["default"])(typeof padding !== 'number' ? padding : (0,_utils_expandToHashMap_js__WEBPACK_IMPORTED_MODULE_1__["default"])(padding, _enums_js__WEBPACK_IMPORTED_MODULE_2__.basePlacements));
};

function arrow(_ref) {
  var _state$modifiersData$;

  var state = _ref.state,
      name = _ref.name,
      options = _ref.options;
  var arrowElement = state.elements.arrow;
  var popperOffsets = state.modifiersData.popperOffsets;
  var basePlacement = (0,_utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_3__["default"])(state.placement);
  var axis = (0,_utils_getMainAxisFromPlacement_js__WEBPACK_IMPORTED_MODULE_4__["default"])(basePlacement);
  var isVertical = [_enums_js__WEBPACK_IMPORTED_MODULE_2__.left, _enums_js__WEBPACK_IMPORTED_MODULE_2__.right].indexOf(basePlacement) >= 0;
  var len = isVertical ? 'height' : 'width';

  if (!arrowElement || !popperOffsets) {
    return;
  }

  var paddingObject = toPaddingObject(options.padding, state);
  var arrowRect = (0,_dom_utils_getLayoutRect_js__WEBPACK_IMPORTED_MODULE_5__["default"])(arrowElement);
  var minProp = axis === 'y' ? _enums_js__WEBPACK_IMPORTED_MODULE_2__.top : _enums_js__WEBPACK_IMPORTED_MODULE_2__.left;
  var maxProp = axis === 'y' ? _enums_js__WEBPACK_IMPORTED_MODULE_2__.bottom : _enums_js__WEBPACK_IMPORTED_MODULE_2__.right;
  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];
  var startDiff = popperOffsets[axis] - state.rects.reference[axis];
  var arrowOffsetParent = (0,_dom_utils_getOffsetParent_js__WEBPACK_IMPORTED_MODULE_6__["default"])(arrowElement);
  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;
  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is
  // outside of the popper bounds

  var min = paddingObject[minProp];
  var max = clientSize - arrowRect[len] - paddingObject[maxProp];
  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;
  var offset = (0,_utils_within_js__WEBPACK_IMPORTED_MODULE_7__.within)(min, center, max); // Prevents breaking syntax highlighting...

  var axisProp = axis;
  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);
}

function effect(_ref2) {
  var state = _ref2.state,
      options = _ref2.options;
  var _options$element = options.element,
      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;

  if (arrowElement == null) {
    return;
  } // CSS selector


  if (typeof arrowElement === 'string') {
    arrowElement = state.elements.popper.querySelector(arrowElement);

    if (!arrowElement) {
      return;
    }
  }

  if (true) {
    if (!(0,_dom_utils_instanceOf_js__WEBPACK_IMPORTED_MODULE_8__.isHTMLElement)(arrowElement)) {
      console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).', 'To use an SVG arrow, wrap it in an HTMLElement that will be used as', 'the arrow.'].join(' '));
    }
  }

  if (!(0,_dom_utils_contains_js__WEBPACK_IMPORTED_MODULE_9__["default"])(state.elements.popper, arrowElement)) {
    if (true) {
      console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper', 'element.'].join(' '));
    }

    return;
  }

  state.elements.arrow = arrowElement;
} // eslint-disable-next-line import/no-unused-modules


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  name: 'arrow',
  enabled: true,
  phase: 'main',
  fn: arrow,
  effect: effect,
  requires: ['popperOffsets'],
  requiresIfExists: ['preventOverflow']
});

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/modifiers/computeStyles.js":
/*!********************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/modifiers/computeStyles.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "mapToStyles": () => (/* binding */ mapToStyles)
/* harmony export */ });
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@popperjs/core/lib/enums.js");
/* harmony import */ var _dom_utils_getOffsetParent_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dom-utils/getOffsetParent.js */ "./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js");
/* harmony import */ var _dom_utils_getWindow_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../dom-utils/getWindow.js */ "./node_modules/@popperjs/core/lib/dom-utils/getWindow.js");
/* harmony import */ var _dom_utils_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../dom-utils/getDocumentElement.js */ "./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js");
/* harmony import */ var _dom_utils_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../dom-utils/getComputedStyle.js */ "./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js");
/* harmony import */ var _utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/getBasePlacement.js */ "./node_modules/@popperjs/core/lib/utils/getBasePlacement.js");
/* harmony import */ var _utils_getVariation_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/getVariation.js */ "./node_modules/@popperjs/core/lib/utils/getVariation.js");
/* harmony import */ var _utils_math_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/math.js */ "./node_modules/@popperjs/core/lib/utils/math.js");







 // eslint-disable-next-line import/no-unused-modules

var unsetSides = {
  top: 'auto',
  right: 'auto',
  bottom: 'auto',
  left: 'auto'
}; // Round the offsets to the nearest suitable subpixel based on the DPR.
// Zooming can change the DPR, but it seems to report a value that will
// cleanly divide the values into the appropriate subpixels.

function roundOffsetsByDPR(_ref) {
  var x = _ref.x,
      y = _ref.y;
  var win = window;
  var dpr = win.devicePixelRatio || 1;
  return {
    x: (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_0__.round)(x * dpr) / dpr || 0,
    y: (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_0__.round)(y * dpr) / dpr || 0
  };
}

function mapToStyles(_ref2) {
  var _Object$assign2;

  var popper = _ref2.popper,
      popperRect = _ref2.popperRect,
      placement = _ref2.placement,
      variation = _ref2.variation,
      offsets = _ref2.offsets,
      position = _ref2.position,
      gpuAcceleration = _ref2.gpuAcceleration,
      adaptive = _ref2.adaptive,
      roundOffsets = _ref2.roundOffsets,
      isFixed = _ref2.isFixed;
  var _offsets$x = offsets.x,
      x = _offsets$x === void 0 ? 0 : _offsets$x,
      _offsets$y = offsets.y,
      y = _offsets$y === void 0 ? 0 : _offsets$y;

  var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({
    x: x,
    y: y
  }) : {
    x: x,
    y: y
  };

  x = _ref3.x;
  y = _ref3.y;
  var hasX = offsets.hasOwnProperty('x');
  var hasY = offsets.hasOwnProperty('y');
  var sideX = _enums_js__WEBPACK_IMPORTED_MODULE_1__.left;
  var sideY = _enums_js__WEBPACK_IMPORTED_MODULE_1__.top;
  var win = window;

  if (adaptive) {
    var offsetParent = (0,_dom_utils_getOffsetParent_js__WEBPACK_IMPORTED_MODULE_2__["default"])(popper);
    var heightProp = 'clientHeight';
    var widthProp = 'clientWidth';

    if (offsetParent === (0,_dom_utils_getWindow_js__WEBPACK_IMPORTED_MODULE_3__["default"])(popper)) {
      offsetParent = (0,_dom_utils_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_4__["default"])(popper);

      if ((0,_dom_utils_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_5__["default"])(offsetParent).position !== 'static' && position === 'absolute') {
        heightProp = 'scrollHeight';
        widthProp = 'scrollWidth';
      }
    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it


    offsetParent = offsetParent;

    if (placement === _enums_js__WEBPACK_IMPORTED_MODULE_1__.top || (placement === _enums_js__WEBPACK_IMPORTED_MODULE_1__.left || placement === _enums_js__WEBPACK_IMPORTED_MODULE_1__.right) && variation === _enums_js__WEBPACK_IMPORTED_MODULE_1__.end) {
      sideY = _enums_js__WEBPACK_IMPORTED_MODULE_1__.bottom;
      var offsetY = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.height : // $FlowFixMe[prop-missing]
      offsetParent[heightProp];
      y -= offsetY - popperRect.height;
      y *= gpuAcceleration ? 1 : -1;
    }

    if (placement === _enums_js__WEBPACK_IMPORTED_MODULE_1__.left || (placement === _enums_js__WEBPACK_IMPORTED_MODULE_1__.top || placement === _enums_js__WEBPACK_IMPORTED_MODULE_1__.bottom) && variation === _enums_js__WEBPACK_IMPORTED_MODULE_1__.end) {
      sideX = _enums_js__WEBPACK_IMPORTED_MODULE_1__.right;
      var offsetX = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.width : // $FlowFixMe[prop-missing]
      offsetParent[widthProp];
      x -= offsetX - popperRect.width;
      x *= gpuAcceleration ? 1 : -1;
    }
  }

  var commonStyles = Object.assign({
    position: position
  }, adaptive && unsetSides);

  var _ref4 = roundOffsets === true ? roundOffsetsByDPR({
    x: x,
    y: y
  }) : {
    x: x,
    y: y
  };

  x = _ref4.x;
  y = _ref4.y;

  if (gpuAcceleration) {
    var _Object$assign;

    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? "translate(" + x + "px, " + y + "px)" : "translate3d(" + x + "px, " + y + "px, 0)", _Object$assign));
  }

  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + "px" : '', _Object$assign2[sideX] = hasX ? x + "px" : '', _Object$assign2.transform = '', _Object$assign2));
}

function computeStyles(_ref5) {
  var state = _ref5.state,
      options = _ref5.options;
  var _options$gpuAccelerat = options.gpuAcceleration,
      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,
      _options$adaptive = options.adaptive,
      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,
      _options$roundOffsets = options.roundOffsets,
      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;

  if (true) {
    var transitionProperty = (0,_dom_utils_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_5__["default"])(state.elements.popper).transitionProperty || '';

    if (adaptive && ['transform', 'top', 'right', 'bottom', 'left'].some(function (property) {
      return transitionProperty.indexOf(property) >= 0;
    })) {
      console.warn(['Popper: Detected CSS transitions on at least one of the following', 'CSS properties: "transform", "top", "right", "bottom", "left".', '\n\n', 'Disable the "computeStyles" modifier\'s `adaptive` option to allow', 'for smooth transitions, or remove these properties from the CSS', 'transition declaration on the popper element if only transitioning', 'opacity or background-color for example.', '\n\n', 'We recommend using the popper element as a wrapper around an inner', 'element that can have any CSS property transitioned for animations.'].join(' '));
    }
  }

  var commonStyles = {
    placement: (0,_utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_6__["default"])(state.placement),
    variation: (0,_utils_getVariation_js__WEBPACK_IMPORTED_MODULE_7__["default"])(state.placement),
    popper: state.elements.popper,
    popperRect: state.rects.popper,
    gpuAcceleration: gpuAcceleration,
    isFixed: state.options.strategy === 'fixed'
  };

  if (state.modifiersData.popperOffsets != null) {
    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {
      offsets: state.modifiersData.popperOffsets,
      position: state.options.strategy,
      adaptive: adaptive,
      roundOffsets: roundOffsets
    })));
  }

  if (state.modifiersData.arrow != null) {
    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {
      offsets: state.modifiersData.arrow,
      position: 'absolute',
      adaptive: false,
      roundOffsets: roundOffsets
    })));
  }

  state.attributes.popper = Object.assign({}, state.attributes.popper, {
    'data-popper-placement': state.placement
  });
} // eslint-disable-next-line import/no-unused-modules


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  name: 'computeStyles',
  enabled: true,
  phase: 'beforeWrite',
  fn: computeStyles,
  data: {}
});

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/modifiers/eventListeners.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/modifiers/eventListeners.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _dom_utils_getWindow_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom-utils/getWindow.js */ "./node_modules/@popperjs/core/lib/dom-utils/getWindow.js");
 // eslint-disable-next-line import/no-unused-modules

var passive = {
  passive: true
};

function effect(_ref) {
  var state = _ref.state,
      instance = _ref.instance,
      options = _ref.options;
  var _options$scroll = options.scroll,
      scroll = _options$scroll === void 0 ? true : _options$scroll,
      _options$resize = options.resize,
      resize = _options$resize === void 0 ? true : _options$resize;
  var window = (0,_dom_utils_getWindow_js__WEBPACK_IMPORTED_MODULE_0__["default"])(state.elements.popper);
  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);

  if (scroll) {
    scrollParents.forEach(function (scrollParent) {
      scrollParent.addEventListener('scroll', instance.update, passive);
    });
  }

  if (resize) {
    window.addEventListener('resize', instance.update, passive);
  }

  return function () {
    if (scroll) {
      scrollParents.forEach(function (scrollParent) {
        scrollParent.removeEventListener('scroll', instance.update, passive);
      });
    }

    if (resize) {
      window.removeEventListener('resize', instance.update, passive);
    }
  };
} // eslint-disable-next-line import/no-unused-modules


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  name: 'eventListeners',
  enabled: true,
  phase: 'write',
  fn: function fn() {},
  effect: effect,
  data: {}
});

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/modifiers/flip.js":
/*!***********************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/modifiers/flip.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_getOppositePlacement_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/getOppositePlacement.js */ "./node_modules/@popperjs/core/lib/utils/getOppositePlacement.js");
/* harmony import */ var _utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/getBasePlacement.js */ "./node_modules/@popperjs/core/lib/utils/getBasePlacement.js");
/* harmony import */ var _utils_getOppositeVariationPlacement_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/getOppositeVariationPlacement.js */ "./node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js");
/* harmony import */ var _utils_detectOverflow_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/detectOverflow.js */ "./node_modules/@popperjs/core/lib/utils/detectOverflow.js");
/* harmony import */ var _utils_computeAutoPlacement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/computeAutoPlacement.js */ "./node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@popperjs/core/lib/enums.js");
/* harmony import */ var _utils_getVariation_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/getVariation.js */ "./node_modules/@popperjs/core/lib/utils/getVariation.js");






 // eslint-disable-next-line import/no-unused-modules

function getExpandedFallbackPlacements(placement) {
  if ((0,_utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_0__["default"])(placement) === _enums_js__WEBPACK_IMPORTED_MODULE_1__.auto) {
    return [];
  }

  var oppositePlacement = (0,_utils_getOppositePlacement_js__WEBPACK_IMPORTED_MODULE_2__["default"])(placement);
  return [(0,_utils_getOppositeVariationPlacement_js__WEBPACK_IMPORTED_MODULE_3__["default"])(placement), oppositePlacement, (0,_utils_getOppositeVariationPlacement_js__WEBPACK_IMPORTED_MODULE_3__["default"])(oppositePlacement)];
}

function flip(_ref) {
  var state = _ref.state,
      options = _ref.options,
      name = _ref.name;

  if (state.modifiersData[name]._skip) {
    return;
  }

  var _options$mainAxis = options.mainAxis,
      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,
      _options$altAxis = options.altAxis,
      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,
      specifiedFallbackPlacements = options.fallbackPlacements,
      padding = options.padding,
      boundary = options.boundary,
      rootBoundary = options.rootBoundary,
      altBoundary = options.altBoundary,
      _options$flipVariatio = options.flipVariations,
      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,
      allowedAutoPlacements = options.allowedAutoPlacements;
  var preferredPlacement = state.options.placement;
  var basePlacement = (0,_utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_0__["default"])(preferredPlacement);
  var isBasePlacement = basePlacement === preferredPlacement;
  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [(0,_utils_getOppositePlacement_js__WEBPACK_IMPORTED_MODULE_2__["default"])(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));
  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {
    return acc.concat((0,_utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_0__["default"])(placement) === _enums_js__WEBPACK_IMPORTED_MODULE_1__.auto ? (0,_utils_computeAutoPlacement_js__WEBPACK_IMPORTED_MODULE_4__["default"])(state, {
      placement: placement,
      boundary: boundary,
      rootBoundary: rootBoundary,
      padding: padding,
      flipVariations: flipVariations,
      allowedAutoPlacements: allowedAutoPlacements
    }) : placement);
  }, []);
  var referenceRect = state.rects.reference;
  var popperRect = state.rects.popper;
  var checksMap = new Map();
  var makeFallbackChecks = true;
  var firstFittingPlacement = placements[0];

  for (var i = 0; i < placements.length; i++) {
    var placement = placements[i];

    var _basePlacement = (0,_utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_0__["default"])(placement);

    var isStartVariation = (0,_utils_getVariation_js__WEBPACK_IMPORTED_MODULE_5__["default"])(placement) === _enums_js__WEBPACK_IMPORTED_MODULE_1__.start;
    var isVertical = [_enums_js__WEBPACK_IMPORTED_MODULE_1__.top, _enums_js__WEBPACK_IMPORTED_MODULE_1__.bottom].indexOf(_basePlacement) >= 0;
    var len = isVertical ? 'width' : 'height';
    var overflow = (0,_utils_detectOverflow_js__WEBPACK_IMPORTED_MODULE_6__["default"])(state, {
      placement: placement,
      boundary: boundary,
      rootBoundary: rootBoundary,
      altBoundary: altBoundary,
      padding: padding
    });
    var mainVariationSide = isVertical ? isStartVariation ? _enums_js__WEBPACK_IMPORTED_MODULE_1__.right : _enums_js__WEBPACK_IMPORTED_MODULE_1__.left : isStartVariation ? _enums_js__WEBPACK_IMPORTED_MODULE_1__.bottom : _enums_js__WEBPACK_IMPORTED_MODULE_1__.top;

    if (referenceRect[len] > popperRect[len]) {
      mainVariationSide = (0,_utils_getOppositePlacement_js__WEBPACK_IMPORTED_MODULE_2__["default"])(mainVariationSide);
    }

    var altVariationSide = (0,_utils_getOppositePlacement_js__WEBPACK_IMPORTED_MODULE_2__["default"])(mainVariationSide);
    var checks = [];

    if (checkMainAxis) {
      checks.push(overflow[_basePlacement] <= 0);
    }

    if (checkAltAxis) {
      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);
    }

    if (checks.every(function (check) {
      return check;
    })) {
      firstFittingPlacement = placement;
      makeFallbackChecks = false;
      break;
    }

    checksMap.set(placement, checks);
  }

  if (makeFallbackChecks) {
    // `2` may be desired in some cases – research later
    var numberOfChecks = flipVariations ? 3 : 1;

    var _loop = function _loop(_i) {
      var fittingPlacement = placements.find(function (placement) {
        var checks = checksMap.get(placement);

        if (checks) {
          return checks.slice(0, _i).every(function (check) {
            return check;
          });
        }
      });

      if (fittingPlacement) {
        firstFittingPlacement = fittingPlacement;
        return "break";
      }
    };

    for (var _i = numberOfChecks; _i > 0; _i--) {
      var _ret = _loop(_i);

      if (_ret === "break") break;
    }
  }

  if (state.placement !== firstFittingPlacement) {
    state.modifiersData[name]._skip = true;
    state.placement = firstFittingPlacement;
    state.reset = true;
  }
} // eslint-disable-next-line import/no-unused-modules


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  name: 'flip',
  enabled: true,
  phase: 'main',
  fn: flip,
  requiresIfExists: ['offset'],
  data: {
    _skip: false
  }
});

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/modifiers/hide.js":
/*!***********************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/modifiers/hide.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@popperjs/core/lib/enums.js");
/* harmony import */ var _utils_detectOverflow_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/detectOverflow.js */ "./node_modules/@popperjs/core/lib/utils/detectOverflow.js");



function getSideOffsets(overflow, rect, preventedOffsets) {
  if (preventedOffsets === void 0) {
    preventedOffsets = {
      x: 0,
      y: 0
    };
  }

  return {
    top: overflow.top - rect.height - preventedOffsets.y,
    right: overflow.right - rect.width + preventedOffsets.x,
    bottom: overflow.bottom - rect.height + preventedOffsets.y,
    left: overflow.left - rect.width - preventedOffsets.x
  };
}

function isAnySideFullyClipped(overflow) {
  return [_enums_js__WEBPACK_IMPORTED_MODULE_0__.top, _enums_js__WEBPACK_IMPORTED_MODULE_0__.right, _enums_js__WEBPACK_IMPORTED_MODULE_0__.bottom, _enums_js__WEBPACK_IMPORTED_MODULE_0__.left].some(function (side) {
    return overflow[side] >= 0;
  });
}

function hide(_ref) {
  var state = _ref.state,
      name = _ref.name;
  var referenceRect = state.rects.reference;
  var popperRect = state.rects.popper;
  var preventedOffsets = state.modifiersData.preventOverflow;
  var referenceOverflow = (0,_utils_detectOverflow_js__WEBPACK_IMPORTED_MODULE_1__["default"])(state, {
    elementContext: 'reference'
  });
  var popperAltOverflow = (0,_utils_detectOverflow_js__WEBPACK_IMPORTED_MODULE_1__["default"])(state, {
    altBoundary: true
  });
  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);
  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);
  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);
  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);
  state.modifiersData[name] = {
    referenceClippingOffsets: referenceClippingOffsets,
    popperEscapeOffsets: popperEscapeOffsets,
    isReferenceHidden: isReferenceHidden,
    hasPopperEscaped: hasPopperEscaped
  };
  state.attributes.popper = Object.assign({}, state.attributes.popper, {
    'data-popper-reference-hidden': isReferenceHidden,
    'data-popper-escaped': hasPopperEscaped
  });
} // eslint-disable-next-line import/no-unused-modules


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  name: 'hide',
  enabled: true,
  phase: 'main',
  requiresIfExists: ['preventOverflow'],
  fn: hide
});

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/modifiers/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/modifiers/index.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "applyStyles": () => (/* reexport safe */ _applyStyles_js__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "arrow": () => (/* reexport safe */ _arrow_js__WEBPACK_IMPORTED_MODULE_1__["default"]),
/* harmony export */   "computeStyles": () => (/* reexport safe */ _computeStyles_js__WEBPACK_IMPORTED_MODULE_2__["default"]),
/* harmony export */   "eventListeners": () => (/* reexport safe */ _eventListeners_js__WEBPACK_IMPORTED_MODULE_3__["default"]),
/* harmony export */   "flip": () => (/* reexport safe */ _flip_js__WEBPACK_IMPORTED_MODULE_4__["default"]),
/* harmony export */   "hide": () => (/* reexport safe */ _hide_js__WEBPACK_IMPORTED_MODULE_5__["default"]),
/* harmony export */   "offset": () => (/* reexport safe */ _offset_js__WEBPACK_IMPORTED_MODULE_6__["default"]),
/* harmony export */   "popperOffsets": () => (/* reexport safe */ _popperOffsets_js__WEBPACK_IMPORTED_MODULE_7__["default"]),
/* harmony export */   "preventOverflow": () => (/* reexport safe */ _preventOverflow_js__WEBPACK_IMPORTED_MODULE_8__["default"])
/* harmony export */ });
/* harmony import */ var _applyStyles_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./applyStyles.js */ "./node_modules/@popperjs/core/lib/modifiers/applyStyles.js");
/* harmony import */ var _arrow_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./arrow.js */ "./node_modules/@popperjs/core/lib/modifiers/arrow.js");
/* harmony import */ var _computeStyles_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./computeStyles.js */ "./node_modules/@popperjs/core/lib/modifiers/computeStyles.js");
/* harmony import */ var _eventListeners_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./eventListeners.js */ "./node_modules/@popperjs/core/lib/modifiers/eventListeners.js");
/* harmony import */ var _flip_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./flip.js */ "./node_modules/@popperjs/core/lib/modifiers/flip.js");
/* harmony import */ var _hide_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./hide.js */ "./node_modules/@popperjs/core/lib/modifiers/hide.js");
/* harmony import */ var _offset_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./offset.js */ "./node_modules/@popperjs/core/lib/modifiers/offset.js");
/* harmony import */ var _popperOffsets_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./popperOffsets.js */ "./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js");
/* harmony import */ var _preventOverflow_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./preventOverflow.js */ "./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js");










/***/ }),

/***/ "./node_modules/@popperjs/core/lib/modifiers/offset.js":
/*!*************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/modifiers/offset.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "distanceAndSkiddingToXY": () => (/* binding */ distanceAndSkiddingToXY)
/* harmony export */ });
/* harmony import */ var _utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/getBasePlacement.js */ "./node_modules/@popperjs/core/lib/utils/getBasePlacement.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@popperjs/core/lib/enums.js");

 // eslint-disable-next-line import/no-unused-modules

function distanceAndSkiddingToXY(placement, rects, offset) {
  var basePlacement = (0,_utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_0__["default"])(placement);
  var invertDistance = [_enums_js__WEBPACK_IMPORTED_MODULE_1__.left, _enums_js__WEBPACK_IMPORTED_MODULE_1__.top].indexOf(basePlacement) >= 0 ? -1 : 1;

  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {
    placement: placement
  })) : offset,
      skidding = _ref[0],
      distance = _ref[1];

  skidding = skidding || 0;
  distance = (distance || 0) * invertDistance;
  return [_enums_js__WEBPACK_IMPORTED_MODULE_1__.left, _enums_js__WEBPACK_IMPORTED_MODULE_1__.right].indexOf(basePlacement) >= 0 ? {
    x: distance,
    y: skidding
  } : {
    x: skidding,
    y: distance
  };
}

function offset(_ref2) {
  var state = _ref2.state,
      options = _ref2.options,
      name = _ref2.name;
  var _options$offset = options.offset,
      offset = _options$offset === void 0 ? [0, 0] : _options$offset;
  var data = _enums_js__WEBPACK_IMPORTED_MODULE_1__.placements.reduce(function (acc, placement) {
    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);
    return acc;
  }, {});
  var _data$state$placement = data[state.placement],
      x = _data$state$placement.x,
      y = _data$state$placement.y;

  if (state.modifiersData.popperOffsets != null) {
    state.modifiersData.popperOffsets.x += x;
    state.modifiersData.popperOffsets.y += y;
  }

  state.modifiersData[name] = data;
} // eslint-disable-next-line import/no-unused-modules


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  name: 'offset',
  enabled: true,
  phase: 'main',
  requires: ['popperOffsets'],
  fn: offset
});

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js":
/*!********************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_computeOffsets_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/computeOffsets.js */ "./node_modules/@popperjs/core/lib/utils/computeOffsets.js");


function popperOffsets(_ref) {
  var state = _ref.state,
      name = _ref.name;
  // Offsets are the actual position the popper needs to have to be
  // properly positioned near its reference element
  // This is the most basic placement, and will be adjusted by
  // the modifiers in the next step
  state.modifiersData[name] = (0,_utils_computeOffsets_js__WEBPACK_IMPORTED_MODULE_0__["default"])({
    reference: state.rects.reference,
    element: state.rects.popper,
    strategy: 'absolute',
    placement: state.placement
  });
} // eslint-disable-next-line import/no-unused-modules


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  name: 'popperOffsets',
  enabled: true,
  phase: 'read',
  fn: popperOffsets,
  data: {}
});

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@popperjs/core/lib/enums.js");
/* harmony import */ var _utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/getBasePlacement.js */ "./node_modules/@popperjs/core/lib/utils/getBasePlacement.js");
/* harmony import */ var _utils_getMainAxisFromPlacement_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/getMainAxisFromPlacement.js */ "./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js");
/* harmony import */ var _utils_getAltAxis_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/getAltAxis.js */ "./node_modules/@popperjs/core/lib/utils/getAltAxis.js");
/* harmony import */ var _utils_within_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/within.js */ "./node_modules/@popperjs/core/lib/utils/within.js");
/* harmony import */ var _dom_utils_getLayoutRect_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../dom-utils/getLayoutRect.js */ "./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js");
/* harmony import */ var _dom_utils_getOffsetParent_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../dom-utils/getOffsetParent.js */ "./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js");
/* harmony import */ var _utils_detectOverflow_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/detectOverflow.js */ "./node_modules/@popperjs/core/lib/utils/detectOverflow.js");
/* harmony import */ var _utils_getVariation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/getVariation.js */ "./node_modules/@popperjs/core/lib/utils/getVariation.js");
/* harmony import */ var _utils_getFreshSideObject_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/getFreshSideObject.js */ "./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js");
/* harmony import */ var _utils_math_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/math.js */ "./node_modules/@popperjs/core/lib/utils/math.js");












function preventOverflow(_ref) {
  var state = _ref.state,
      options = _ref.options,
      name = _ref.name;
  var _options$mainAxis = options.mainAxis,
      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,
      _options$altAxis = options.altAxis,
      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,
      boundary = options.boundary,
      rootBoundary = options.rootBoundary,
      altBoundary = options.altBoundary,
      padding = options.padding,
      _options$tether = options.tether,
      tether = _options$tether === void 0 ? true : _options$tether,
      _options$tetherOffset = options.tetherOffset,
      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;
  var overflow = (0,_utils_detectOverflow_js__WEBPACK_IMPORTED_MODULE_0__["default"])(state, {
    boundary: boundary,
    rootBoundary: rootBoundary,
    padding: padding,
    altBoundary: altBoundary
  });
  var basePlacement = (0,_utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_1__["default"])(state.placement);
  var variation = (0,_utils_getVariation_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.placement);
  var isBasePlacement = !variation;
  var mainAxis = (0,_utils_getMainAxisFromPlacement_js__WEBPACK_IMPORTED_MODULE_3__["default"])(basePlacement);
  var altAxis = (0,_utils_getAltAxis_js__WEBPACK_IMPORTED_MODULE_4__["default"])(mainAxis);
  var popperOffsets = state.modifiersData.popperOffsets;
  var referenceRect = state.rects.reference;
  var popperRect = state.rects.popper;
  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {
    placement: state.placement
  })) : tetherOffset;
  var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? {
    mainAxis: tetherOffsetValue,
    altAxis: tetherOffsetValue
  } : Object.assign({
    mainAxis: 0,
    altAxis: 0
  }, tetherOffsetValue);
  var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;
  var data = {
    x: 0,
    y: 0
  };

  if (!popperOffsets) {
    return;
  }

  if (checkMainAxis) {
    var _offsetModifierState$;

    var mainSide = mainAxis === 'y' ? _enums_js__WEBPACK_IMPORTED_MODULE_5__.top : _enums_js__WEBPACK_IMPORTED_MODULE_5__.left;
    var altSide = mainAxis === 'y' ? _enums_js__WEBPACK_IMPORTED_MODULE_5__.bottom : _enums_js__WEBPACK_IMPORTED_MODULE_5__.right;
    var len = mainAxis === 'y' ? 'height' : 'width';
    var offset = popperOffsets[mainAxis];
    var min = offset + overflow[mainSide];
    var max = offset - overflow[altSide];
    var additive = tether ? -popperRect[len] / 2 : 0;
    var minLen = variation === _enums_js__WEBPACK_IMPORTED_MODULE_5__.start ? referenceRect[len] : popperRect[len];
    var maxLen = variation === _enums_js__WEBPACK_IMPORTED_MODULE_5__.start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go
    // outside the reference bounds

    var arrowElement = state.elements.arrow;
    var arrowRect = tether && arrowElement ? (0,_dom_utils_getLayoutRect_js__WEBPACK_IMPORTED_MODULE_6__["default"])(arrowElement) : {
      width: 0,
      height: 0
    };
    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : (0,_utils_getFreshSideObject_js__WEBPACK_IMPORTED_MODULE_7__["default"])();
    var arrowPaddingMin = arrowPaddingObject[mainSide];
    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want
    // to include its full size in the calculation. If the reference is small
    // and near the edge of a boundary, the popper can overflow even if the
    // reference is not overflowing as well (e.g. virtual elements with no
    // width or height)

    var arrowLen = (0,_utils_within_js__WEBPACK_IMPORTED_MODULE_8__.within)(0, referenceRect[len], arrowRect[len]);
    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;
    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;
    var arrowOffsetParent = state.elements.arrow && (0,_dom_utils_getOffsetParent_js__WEBPACK_IMPORTED_MODULE_9__["default"])(state.elements.arrow);
    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;
    var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;
    var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;
    var tetherMax = offset + maxOffset - offsetModifierValue;
    var preventedOffset = (0,_utils_within_js__WEBPACK_IMPORTED_MODULE_8__.within)(tether ? (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_10__.min)(min, tetherMin) : min, offset, tether ? (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_10__.max)(max, tetherMax) : max);
    popperOffsets[mainAxis] = preventedOffset;
    data[mainAxis] = preventedOffset - offset;
  }

  if (checkAltAxis) {
    var _offsetModifierState$2;

    var _mainSide = mainAxis === 'x' ? _enums_js__WEBPACK_IMPORTED_MODULE_5__.top : _enums_js__WEBPACK_IMPORTED_MODULE_5__.left;

    var _altSide = mainAxis === 'x' ? _enums_js__WEBPACK_IMPORTED_MODULE_5__.bottom : _enums_js__WEBPACK_IMPORTED_MODULE_5__.right;

    var _offset = popperOffsets[altAxis];

    var _len = altAxis === 'y' ? 'height' : 'width';

    var _min = _offset + overflow[_mainSide];

    var _max = _offset - overflow[_altSide];

    var isOriginSide = [_enums_js__WEBPACK_IMPORTED_MODULE_5__.top, _enums_js__WEBPACK_IMPORTED_MODULE_5__.left].indexOf(basePlacement) !== -1;

    var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;

    var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;

    var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;

    var _preventedOffset = tether && isOriginSide ? (0,_utils_within_js__WEBPACK_IMPORTED_MODULE_8__.withinMaxClamp)(_tetherMin, _offset, _tetherMax) : (0,_utils_within_js__WEBPACK_IMPORTED_MODULE_8__.within)(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);

    popperOffsets[altAxis] = _preventedOffset;
    data[altAxis] = _preventedOffset - _offset;
  }

  state.modifiersData[name] = data;
} // eslint-disable-next-line import/no-unused-modules


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  name: 'preventOverflow',
  enabled: true,
  phase: 'main',
  fn: preventOverflow,
  requiresIfExists: ['offset']
});

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/popper-lite.js":
/*!********************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/popper-lite.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createPopper": () => (/* binding */ createPopper),
/* harmony export */   "defaultModifiers": () => (/* binding */ defaultModifiers),
/* harmony export */   "detectOverflow": () => (/* reexport safe */ _createPopper_js__WEBPACK_IMPORTED_MODULE_5__["default"]),
/* harmony export */   "popperGenerator": () => (/* reexport safe */ _createPopper_js__WEBPACK_IMPORTED_MODULE_4__.popperGenerator)
/* harmony export */ });
/* harmony import */ var _createPopper_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./createPopper.js */ "./node_modules/@popperjs/core/lib/createPopper.js");
/* harmony import */ var _createPopper_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./createPopper.js */ "./node_modules/@popperjs/core/lib/utils/detectOverflow.js");
/* harmony import */ var _modifiers_eventListeners_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modifiers/eventListeners.js */ "./node_modules/@popperjs/core/lib/modifiers/eventListeners.js");
/* harmony import */ var _modifiers_popperOffsets_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modifiers/popperOffsets.js */ "./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js");
/* harmony import */ var _modifiers_computeStyles_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modifiers/computeStyles.js */ "./node_modules/@popperjs/core/lib/modifiers/computeStyles.js");
/* harmony import */ var _modifiers_applyStyles_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modifiers/applyStyles.js */ "./node_modules/@popperjs/core/lib/modifiers/applyStyles.js");





var defaultModifiers = [_modifiers_eventListeners_js__WEBPACK_IMPORTED_MODULE_0__["default"], _modifiers_popperOffsets_js__WEBPACK_IMPORTED_MODULE_1__["default"], _modifiers_computeStyles_js__WEBPACK_IMPORTED_MODULE_2__["default"], _modifiers_applyStyles_js__WEBPACK_IMPORTED_MODULE_3__["default"]];
var createPopper = /*#__PURE__*/(0,_createPopper_js__WEBPACK_IMPORTED_MODULE_4__.popperGenerator)({
  defaultModifiers: defaultModifiers
}); // eslint-disable-next-line import/no-unused-modules



/***/ }),

/***/ "./node_modules/@popperjs/core/lib/popper.js":
/*!***************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/popper.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "applyStyles": () => (/* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_12__.applyStyles),
/* harmony export */   "arrow": () => (/* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_12__.arrow),
/* harmony export */   "computeStyles": () => (/* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_12__.computeStyles),
/* harmony export */   "createPopper": () => (/* binding */ createPopper),
/* harmony export */   "createPopperLite": () => (/* reexport safe */ _popper_lite_js__WEBPACK_IMPORTED_MODULE_11__.createPopper),
/* harmony export */   "defaultModifiers": () => (/* binding */ defaultModifiers),
/* harmony export */   "detectOverflow": () => (/* reexport safe */ _createPopper_js__WEBPACK_IMPORTED_MODULE_10__["default"]),
/* harmony export */   "eventListeners": () => (/* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_12__.eventListeners),
/* harmony export */   "flip": () => (/* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_12__.flip),
/* harmony export */   "hide": () => (/* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_12__.hide),
/* harmony export */   "offset": () => (/* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_12__.offset),
/* harmony export */   "popperGenerator": () => (/* reexport safe */ _createPopper_js__WEBPACK_IMPORTED_MODULE_9__.popperGenerator),
/* harmony export */   "popperOffsets": () => (/* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_12__.popperOffsets),
/* harmony export */   "preventOverflow": () => (/* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_12__.preventOverflow)
/* harmony export */ });
/* harmony import */ var _createPopper_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./createPopper.js */ "./node_modules/@popperjs/core/lib/createPopper.js");
/* harmony import */ var _createPopper_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./createPopper.js */ "./node_modules/@popperjs/core/lib/utils/detectOverflow.js");
/* harmony import */ var _modifiers_eventListeners_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modifiers/eventListeners.js */ "./node_modules/@popperjs/core/lib/modifiers/eventListeners.js");
/* harmony import */ var _modifiers_popperOffsets_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modifiers/popperOffsets.js */ "./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js");
/* harmony import */ var _modifiers_computeStyles_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modifiers/computeStyles.js */ "./node_modules/@popperjs/core/lib/modifiers/computeStyles.js");
/* harmony import */ var _modifiers_applyStyles_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modifiers/applyStyles.js */ "./node_modules/@popperjs/core/lib/modifiers/applyStyles.js");
/* harmony import */ var _modifiers_offset_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modifiers/offset.js */ "./node_modules/@popperjs/core/lib/modifiers/offset.js");
/* harmony import */ var _modifiers_flip_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./modifiers/flip.js */ "./node_modules/@popperjs/core/lib/modifiers/flip.js");
/* harmony import */ var _modifiers_preventOverflow_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./modifiers/preventOverflow.js */ "./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js");
/* harmony import */ var _modifiers_arrow_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./modifiers/arrow.js */ "./node_modules/@popperjs/core/lib/modifiers/arrow.js");
/* harmony import */ var _modifiers_hide_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./modifiers/hide.js */ "./node_modules/@popperjs/core/lib/modifiers/hide.js");
/* harmony import */ var _popper_lite_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./popper-lite.js */ "./node_modules/@popperjs/core/lib/popper-lite.js");
/* harmony import */ var _modifiers_index_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./modifiers/index.js */ "./node_modules/@popperjs/core/lib/modifiers/index.js");










var defaultModifiers = [_modifiers_eventListeners_js__WEBPACK_IMPORTED_MODULE_0__["default"], _modifiers_popperOffsets_js__WEBPACK_IMPORTED_MODULE_1__["default"], _modifiers_computeStyles_js__WEBPACK_IMPORTED_MODULE_2__["default"], _modifiers_applyStyles_js__WEBPACK_IMPORTED_MODULE_3__["default"], _modifiers_offset_js__WEBPACK_IMPORTED_MODULE_4__["default"], _modifiers_flip_js__WEBPACK_IMPORTED_MODULE_5__["default"], _modifiers_preventOverflow_js__WEBPACK_IMPORTED_MODULE_6__["default"], _modifiers_arrow_js__WEBPACK_IMPORTED_MODULE_7__["default"], _modifiers_hide_js__WEBPACK_IMPORTED_MODULE_8__["default"]];
var createPopper = /*#__PURE__*/(0,_createPopper_js__WEBPACK_IMPORTED_MODULE_9__.popperGenerator)({
  defaultModifiers: defaultModifiers
}); // eslint-disable-next-line import/no-unused-modules

 // eslint-disable-next-line import/no-unused-modules

 // eslint-disable-next-line import/no-unused-modules



/***/ }),

/***/ "./node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ computeAutoPlacement)
/* harmony export */ });
/* harmony import */ var _getVariation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getVariation.js */ "./node_modules/@popperjs/core/lib/utils/getVariation.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@popperjs/core/lib/enums.js");
/* harmony import */ var _detectOverflow_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./detectOverflow.js */ "./node_modules/@popperjs/core/lib/utils/detectOverflow.js");
/* harmony import */ var _getBasePlacement_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getBasePlacement.js */ "./node_modules/@popperjs/core/lib/utils/getBasePlacement.js");




function computeAutoPlacement(state, options) {
  if (options === void 0) {
    options = {};
  }

  var _options = options,
      placement = _options.placement,
      boundary = _options.boundary,
      rootBoundary = _options.rootBoundary,
      padding = _options.padding,
      flipVariations = _options.flipVariations,
      _options$allowedAutoP = _options.allowedAutoPlacements,
      allowedAutoPlacements = _options$allowedAutoP === void 0 ? _enums_js__WEBPACK_IMPORTED_MODULE_0__.placements : _options$allowedAutoP;
  var variation = (0,_getVariation_js__WEBPACK_IMPORTED_MODULE_1__["default"])(placement);
  var placements = variation ? flipVariations ? _enums_js__WEBPACK_IMPORTED_MODULE_0__.variationPlacements : _enums_js__WEBPACK_IMPORTED_MODULE_0__.variationPlacements.filter(function (placement) {
    return (0,_getVariation_js__WEBPACK_IMPORTED_MODULE_1__["default"])(placement) === variation;
  }) : _enums_js__WEBPACK_IMPORTED_MODULE_0__.basePlacements;
  var allowedPlacements = placements.filter(function (placement) {
    return allowedAutoPlacements.indexOf(placement) >= 0;
  });

  if (allowedPlacements.length === 0) {
    allowedPlacements = placements;

    if (true) {
      console.error(['Popper: The `allowedAutoPlacements` option did not allow any', 'placements. Ensure the `placement` option matches the variation', 'of the allowed placements.', 'For example, "auto" cannot be used to allow "bottom-start".', 'Use "auto-start" instead.'].join(' '));
    }
  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...


  var overflows = allowedPlacements.reduce(function (acc, placement) {
    acc[placement] = (0,_detectOverflow_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state, {
      placement: placement,
      boundary: boundary,
      rootBoundary: rootBoundary,
      padding: padding
    })[(0,_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_3__["default"])(placement)];
    return acc;
  }, {});
  return Object.keys(overflows).sort(function (a, b) {
    return overflows[a] - overflows[b];
  });
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/utils/computeOffsets.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/utils/computeOffsets.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ computeOffsets)
/* harmony export */ });
/* harmony import */ var _getBasePlacement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getBasePlacement.js */ "./node_modules/@popperjs/core/lib/utils/getBasePlacement.js");
/* harmony import */ var _getVariation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getVariation.js */ "./node_modules/@popperjs/core/lib/utils/getVariation.js");
/* harmony import */ var _getMainAxisFromPlacement_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getMainAxisFromPlacement.js */ "./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@popperjs/core/lib/enums.js");




function computeOffsets(_ref) {
  var reference = _ref.reference,
      element = _ref.element,
      placement = _ref.placement;
  var basePlacement = placement ? (0,_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_0__["default"])(placement) : null;
  var variation = placement ? (0,_getVariation_js__WEBPACK_IMPORTED_MODULE_1__["default"])(placement) : null;
  var commonX = reference.x + reference.width / 2 - element.width / 2;
  var commonY = reference.y + reference.height / 2 - element.height / 2;
  var offsets;

  switch (basePlacement) {
    case _enums_js__WEBPACK_IMPORTED_MODULE_2__.top:
      offsets = {
        x: commonX,
        y: reference.y - element.height
      };
      break;

    case _enums_js__WEBPACK_IMPORTED_MODULE_2__.bottom:
      offsets = {
        x: commonX,
        y: reference.y + reference.height
      };
      break;

    case _enums_js__WEBPACK_IMPORTED_MODULE_2__.right:
      offsets = {
        x: reference.x + reference.width,
        y: commonY
      };
      break;

    case _enums_js__WEBPACK_IMPORTED_MODULE_2__.left:
      offsets = {
        x: reference.x - element.width,
        y: commonY
      };
      break;

    default:
      offsets = {
        x: reference.x,
        y: reference.y
      };
  }

  var mainAxis = basePlacement ? (0,_getMainAxisFromPlacement_js__WEBPACK_IMPORTED_MODULE_3__["default"])(basePlacement) : null;

  if (mainAxis != null) {
    var len = mainAxis === 'y' ? 'height' : 'width';

    switch (variation) {
      case _enums_js__WEBPACK_IMPORTED_MODULE_2__.start:
        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);
        break;

      case _enums_js__WEBPACK_IMPORTED_MODULE_2__.end:
        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);
        break;

      default:
    }
  }

  return offsets;
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/utils/debounce.js":
/*!***********************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/utils/debounce.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ debounce)
/* harmony export */ });
function debounce(fn) {
  var pending;
  return function () {
    if (!pending) {
      pending = new Promise(function (resolve) {
        Promise.resolve().then(function () {
          pending = undefined;
          resolve(fn());
        });
      });
    }

    return pending;
  };
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/utils/detectOverflow.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/utils/detectOverflow.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ detectOverflow)
/* harmony export */ });
/* harmony import */ var _dom_utils_getClippingRect_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../dom-utils/getClippingRect.js */ "./node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js");
/* harmony import */ var _dom_utils_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../dom-utils/getDocumentElement.js */ "./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js");
/* harmony import */ var _dom_utils_getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../dom-utils/getBoundingClientRect.js */ "./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js");
/* harmony import */ var _computeOffsets_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./computeOffsets.js */ "./node_modules/@popperjs/core/lib/utils/computeOffsets.js");
/* harmony import */ var _rectToClientRect_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./rectToClientRect.js */ "./node_modules/@popperjs/core/lib/utils/rectToClientRect.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@popperjs/core/lib/enums.js");
/* harmony import */ var _dom_utils_instanceOf_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../dom-utils/instanceOf.js */ "./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");
/* harmony import */ var _mergePaddingObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mergePaddingObject.js */ "./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js");
/* harmony import */ var _expandToHashMap_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./expandToHashMap.js */ "./node_modules/@popperjs/core/lib/utils/expandToHashMap.js");








 // eslint-disable-next-line import/no-unused-modules

function detectOverflow(state, options) {
  if (options === void 0) {
    options = {};
  }

  var _options = options,
      _options$placement = _options.placement,
      placement = _options$placement === void 0 ? state.placement : _options$placement,
      _options$strategy = _options.strategy,
      strategy = _options$strategy === void 0 ? state.strategy : _options$strategy,
      _options$boundary = _options.boundary,
      boundary = _options$boundary === void 0 ? _enums_js__WEBPACK_IMPORTED_MODULE_0__.clippingParents : _options$boundary,
      _options$rootBoundary = _options.rootBoundary,
      rootBoundary = _options$rootBoundary === void 0 ? _enums_js__WEBPACK_IMPORTED_MODULE_0__.viewport : _options$rootBoundary,
      _options$elementConte = _options.elementContext,
      elementContext = _options$elementConte === void 0 ? _enums_js__WEBPACK_IMPORTED_MODULE_0__.popper : _options$elementConte,
      _options$altBoundary = _options.altBoundary,
      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,
      _options$padding = _options.padding,
      padding = _options$padding === void 0 ? 0 : _options$padding;
  var paddingObject = (0,_mergePaddingObject_js__WEBPACK_IMPORTED_MODULE_1__["default"])(typeof padding !== 'number' ? padding : (0,_expandToHashMap_js__WEBPACK_IMPORTED_MODULE_2__["default"])(padding, _enums_js__WEBPACK_IMPORTED_MODULE_0__.basePlacements));
  var altContext = elementContext === _enums_js__WEBPACK_IMPORTED_MODULE_0__.popper ? _enums_js__WEBPACK_IMPORTED_MODULE_0__.reference : _enums_js__WEBPACK_IMPORTED_MODULE_0__.popper;
  var popperRect = state.rects.popper;
  var element = state.elements[altBoundary ? altContext : elementContext];
  var clippingClientRect = (0,_dom_utils_getClippingRect_js__WEBPACK_IMPORTED_MODULE_3__["default"])((0,_dom_utils_instanceOf_js__WEBPACK_IMPORTED_MODULE_4__.isElement)(element) ? element : element.contextElement || (0,_dom_utils_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_5__["default"])(state.elements.popper), boundary, rootBoundary, strategy);
  var referenceClientRect = (0,_dom_utils_getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_6__["default"])(state.elements.reference);
  var popperOffsets = (0,_computeOffsets_js__WEBPACK_IMPORTED_MODULE_7__["default"])({
    reference: referenceClientRect,
    element: popperRect,
    strategy: 'absolute',
    placement: placement
  });
  var popperClientRect = (0,_rectToClientRect_js__WEBPACK_IMPORTED_MODULE_8__["default"])(Object.assign({}, popperRect, popperOffsets));
  var elementClientRect = elementContext === _enums_js__WEBPACK_IMPORTED_MODULE_0__.popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect
  // 0 or negative = within the clipping rect

  var overflowOffsets = {
    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,
    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,
    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,
    right: elementClientRect.right - clippingClientRect.right + paddingObject.right
  };
  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element

  if (elementContext === _enums_js__WEBPACK_IMPORTED_MODULE_0__.popper && offsetData) {
    var offset = offsetData[placement];
    Object.keys(overflowOffsets).forEach(function (key) {
      var multiply = [_enums_js__WEBPACK_IMPORTED_MODULE_0__.right, _enums_js__WEBPACK_IMPORTED_MODULE_0__.bottom].indexOf(key) >= 0 ? 1 : -1;
      var axis = [_enums_js__WEBPACK_IMPORTED_MODULE_0__.top, _enums_js__WEBPACK_IMPORTED_MODULE_0__.bottom].indexOf(key) >= 0 ? 'y' : 'x';
      overflowOffsets[key] += offset[axis] * multiply;
    });
  }

  return overflowOffsets;
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/utils/expandToHashMap.js":
/*!******************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/utils/expandToHashMap.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ expandToHashMap)
/* harmony export */ });
function expandToHashMap(value, keys) {
  return keys.reduce(function (hashMap, key) {
    hashMap[key] = value;
    return hashMap;
  }, {});
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/utils/format.js":
/*!*********************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/utils/format.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ format)
/* harmony export */ });
function format(str) {
  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    args[_key - 1] = arguments[_key];
  }

  return [].concat(args).reduce(function (p, c) {
    return p.replace(/%s/, c);
  }, str);
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/utils/getAltAxis.js":
/*!*************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/utils/getAltAxis.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getAltAxis)
/* harmony export */ });
function getAltAxis(axis) {
  return axis === 'x' ? 'y' : 'x';
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/utils/getBasePlacement.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/utils/getBasePlacement.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getBasePlacement)
/* harmony export */ });

function getBasePlacement(placement) {
  return placement.split('-')[0];
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getFreshSideObject)
/* harmony export */ });
function getFreshSideObject() {
  return {
    top: 0,
    right: 0,
    bottom: 0,
    left: 0
  };
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getMainAxisFromPlacement)
/* harmony export */ });
function getMainAxisFromPlacement(placement) {
  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/utils/getOppositePlacement.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/utils/getOppositePlacement.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getOppositePlacement)
/* harmony export */ });
var hash = {
  left: 'right',
  right: 'left',
  bottom: 'top',
  top: 'bottom'
};
function getOppositePlacement(placement) {
  return placement.replace(/left|right|bottom|top/g, function (matched) {
    return hash[matched];
  });
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getOppositeVariationPlacement)
/* harmony export */ });
var hash = {
  start: 'end',
  end: 'start'
};
function getOppositeVariationPlacement(placement) {
  return placement.replace(/start|end/g, function (matched) {
    return hash[matched];
  });
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/utils/getVariation.js":
/*!***************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/utils/getVariation.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getVariation)
/* harmony export */ });
function getVariation(placement) {
  return placement.split('-')[1];
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/utils/math.js":
/*!*******************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/utils/math.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "max": () => (/* binding */ max),
/* harmony export */   "min": () => (/* binding */ min),
/* harmony export */   "round": () => (/* binding */ round)
/* harmony export */ });
var max = Math.max;
var min = Math.min;
var round = Math.round;

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/utils/mergeByName.js":
/*!**************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/utils/mergeByName.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ mergeByName)
/* harmony export */ });
function mergeByName(modifiers) {
  var merged = modifiers.reduce(function (merged, current) {
    var existing = merged[current.name];
    merged[current.name] = existing ? Object.assign({}, existing, current, {
      options: Object.assign({}, existing.options, current.options),
      data: Object.assign({}, existing.data, current.data)
    }) : current;
    return merged;
  }, {}); // IE11 does not support Object.values

  return Object.keys(merged).map(function (key) {
    return merged[key];
  });
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ mergePaddingObject)
/* harmony export */ });
/* harmony import */ var _getFreshSideObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getFreshSideObject.js */ "./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js");

function mergePaddingObject(paddingObject) {
  return Object.assign({}, (0,_getFreshSideObject_js__WEBPACK_IMPORTED_MODULE_0__["default"])(), paddingObject);
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/utils/orderModifiers.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/utils/orderModifiers.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ orderModifiers)
/* harmony export */ });
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@popperjs/core/lib/enums.js");
 // source: https://stackoverflow.com/questions/49875255

function order(modifiers) {
  var map = new Map();
  var visited = new Set();
  var result = [];
  modifiers.forEach(function (modifier) {
    map.set(modifier.name, modifier);
  }); // On visiting object, check for its dependencies and visit them recursively

  function sort(modifier) {
    visited.add(modifier.name);
    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);
    requires.forEach(function (dep) {
      if (!visited.has(dep)) {
        var depModifier = map.get(dep);

        if (depModifier) {
          sort(depModifier);
        }
      }
    });
    result.push(modifier);
  }

  modifiers.forEach(function (modifier) {
    if (!visited.has(modifier.name)) {
      // check for visited object
      sort(modifier);
    }
  });
  return result;
}

function orderModifiers(modifiers) {
  // order based on dependencies
  var orderedModifiers = order(modifiers); // order based on phase

  return _enums_js__WEBPACK_IMPORTED_MODULE_0__.modifierPhases.reduce(function (acc, phase) {
    return acc.concat(orderedModifiers.filter(function (modifier) {
      return modifier.phase === phase;
    }));
  }, []);
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/utils/rectToClientRect.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/utils/rectToClientRect.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ rectToClientRect)
/* harmony export */ });
function rectToClientRect(rect) {
  return Object.assign({}, rect, {
    left: rect.x,
    top: rect.y,
    right: rect.x + rect.width,
    bottom: rect.y + rect.height
  });
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/utils/uniqueBy.js":
/*!***********************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/utils/uniqueBy.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ uniqueBy)
/* harmony export */ });
function uniqueBy(arr, fn) {
  var identifiers = new Set();
  return arr.filter(function (item) {
    var identifier = fn(item);

    if (!identifiers.has(identifier)) {
      identifiers.add(identifier);
      return true;
    }
  });
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/utils/userAgent.js":
/*!************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/utils/userAgent.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getUAString)
/* harmony export */ });
function getUAString() {
  var uaData = navigator.userAgentData;

  if (uaData != null && uaData.brands) {
    return uaData.brands.map(function (item) {
      return item.brand + "/" + item.version;
    }).join(' ');
  }

  return navigator.userAgent;
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/utils/validateModifiers.js":
/*!********************************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/utils/validateModifiers.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ validateModifiers)
/* harmony export */ });
/* harmony import */ var _format_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./format.js */ "./node_modules/@popperjs/core/lib/utils/format.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@popperjs/core/lib/enums.js");


var INVALID_MODIFIER_ERROR = 'Popper: modifier "%s" provided an invalid %s property, expected %s but got %s';
var MISSING_DEPENDENCY_ERROR = 'Popper: modifier "%s" requires "%s", but "%s" modifier is not available';
var VALID_PROPERTIES = ['name', 'enabled', 'phase', 'fn', 'effect', 'requires', 'options'];
function validateModifiers(modifiers) {
  modifiers.forEach(function (modifier) {
    [].concat(Object.keys(modifier), VALID_PROPERTIES) // IE11-compatible replacement for `new Set(iterable)`
    .filter(function (value, index, self) {
      return self.indexOf(value) === index;
    }).forEach(function (key) {
      switch (key) {
        case 'name':
          if (typeof modifier.name !== 'string') {
            console.error((0,_format_js__WEBPACK_IMPORTED_MODULE_0__["default"])(INVALID_MODIFIER_ERROR, String(modifier.name), '"name"', '"string"', "\"" + String(modifier.name) + "\""));
          }

          break;

        case 'enabled':
          if (typeof modifier.enabled !== 'boolean') {
            console.error((0,_format_js__WEBPACK_IMPORTED_MODULE_0__["default"])(INVALID_MODIFIER_ERROR, modifier.name, '"enabled"', '"boolean"', "\"" + String(modifier.enabled) + "\""));
          }

          break;

        case 'phase':
          if (_enums_js__WEBPACK_IMPORTED_MODULE_1__.modifierPhases.indexOf(modifier.phase) < 0) {
            console.error((0,_format_js__WEBPACK_IMPORTED_MODULE_0__["default"])(INVALID_MODIFIER_ERROR, modifier.name, '"phase"', "either " + _enums_js__WEBPACK_IMPORTED_MODULE_1__.modifierPhases.join(', '), "\"" + String(modifier.phase) + "\""));
          }

          break;

        case 'fn':
          if (typeof modifier.fn !== 'function') {
            console.error((0,_format_js__WEBPACK_IMPORTED_MODULE_0__["default"])(INVALID_MODIFIER_ERROR, modifier.name, '"fn"', '"function"', "\"" + String(modifier.fn) + "\""));
          }

          break;

        case 'effect':
          if (modifier.effect != null && typeof modifier.effect !== 'function') {
            console.error((0,_format_js__WEBPACK_IMPORTED_MODULE_0__["default"])(INVALID_MODIFIER_ERROR, modifier.name, '"effect"', '"function"', "\"" + String(modifier.fn) + "\""));
          }

          break;

        case 'requires':
          if (modifier.requires != null && !Array.isArray(modifier.requires)) {
            console.error((0,_format_js__WEBPACK_IMPORTED_MODULE_0__["default"])(INVALID_MODIFIER_ERROR, modifier.name, '"requires"', '"array"', "\"" + String(modifier.requires) + "\""));
          }

          break;

        case 'requiresIfExists':
          if (!Array.isArray(modifier.requiresIfExists)) {
            console.error((0,_format_js__WEBPACK_IMPORTED_MODULE_0__["default"])(INVALID_MODIFIER_ERROR, modifier.name, '"requiresIfExists"', '"array"', "\"" + String(modifier.requiresIfExists) + "\""));
          }

          break;

        case 'options':
        case 'data':
          break;

        default:
          console.error("PopperJS: an invalid property has been provided to the \"" + modifier.name + "\" modifier, valid properties are " + VALID_PROPERTIES.map(function (s) {
            return "\"" + s + "\"";
          }).join(', ') + "; but \"" + key + "\" was provided.");
      }

      modifier.requires && modifier.requires.forEach(function (requirement) {
        if (modifiers.find(function (mod) {
          return mod.name === requirement;
        }) == null) {
          console.error((0,_format_js__WEBPACK_IMPORTED_MODULE_0__["default"])(MISSING_DEPENDENCY_ERROR, String(modifier.name), requirement, requirement));
        }
      });
    });
  });
}

/***/ }),

/***/ "./node_modules/@popperjs/core/lib/utils/within.js":
/*!*********************************************************!*\
  !*** ./node_modules/@popperjs/core/lib/utils/within.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "within": () => (/* binding */ within),
/* harmony export */   "withinMaxClamp": () => (/* binding */ withinMaxClamp)
/* harmony export */ });
/* harmony import */ var _math_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./math.js */ "./node_modules/@popperjs/core/lib/utils/math.js");

function within(min, value, max) {
  return (0,_math_js__WEBPACK_IMPORTED_MODULE_0__.max)(min, (0,_math_js__WEBPACK_IMPORTED_MODULE_0__.min)(value, max));
}
function withinMaxClamp(min, value, max) {
  var v = within(min, value, max);
  return v > max ? max : v;
}

/***/ }),

/***/ "./node_modules/bootstrap-autocomplete/dist/latest/bootstrap-autocomplete.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/bootstrap-autocomplete/dist/latest/bootstrap-autocomplete.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* provided dependency */ var jQuery = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
!function(t){var e={};function s(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(i,o,function(e){return t[e]}.bind(null,o));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e),s.d(e,"AutoComplete",(function(){return a}));var i,o=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])})(t,e)},function(t,e){function s(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}),n=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.getDefaults=function(){return{url:"",method:"get",queryKey:"q",extraData:{},timeout:void 0,requestThrottling:500}},e.prototype.search=function(t,e){var s=this;null!=this.jqXHR&&this.jqXHR.abort();var i={};i[this._settings.queryKey]=t,$.extend(i,this._settings.extraData),this.requestTID&&window.clearTimeout(this.requestTID),this.requestTID=window.setTimeout((function(){s.jqXHR=$.ajax(s._settings.url,{method:s._settings.method,data:i,timeout:s._settings.timeout}),s.jqXHR.done((function(t){e(t)})),s.jqXHR.fail((function(t){var e;null===(e=s._settings)||void 0===e||e.fail(t)})),s.jqXHR.always((function(){s.jqXHR=null}))}),this._settings.requestThrottling)},e}(function(){function t(t){this._settings=$.extend(!0,{},this.getDefaults(),t)}return t.prototype.getDefaults=function(){return{}},t.prototype.getResults=function(t,e,s){return this.results},t.prototype.search=function(t,e){e(this.getResults())},t}()),r=function(){function t(t,e,s,i){this.initialized=!1,this.shown=!1,this.items=[],this.ddMouseover=!1,this._$el=t,this.formatItem=e,this.autoSelect=s,this.noResultsText=i}return t.prototype.init=function(){var t=this,e=$.extend({},this._$el.position(),{height:this._$el[0].offsetHeight});this._dd=$("<ul />"),this._dd.addClass("bootstrap-autocomplete dropdown-menu"),this._dd.insertAfter(this._$el),this._dd.css({top:e.top+this._$el.outerHeight(),left:e.left,width:this._$el.outerWidth()}),this._dd.on("click","li",(function(e){var s=$(e.currentTarget).data("item");t.itemSelectedLaunchEvent(s)})),this._dd.on("keyup",(function(e){if(t.shown){switch(e.which){case 27:t.hide(),t._$el.focus()}return!1}})),this._dd.on("mouseenter",(function(e){t.ddMouseover=!0})),this._dd.on("mouseleave",(function(e){t.ddMouseover=!1})),this._dd.on("mouseenter","li",(function(e){t.haveResults&&($(e.currentTarget).closest("ul").find("li.active").removeClass("active"),$(e.currentTarget).addClass("active"),t.mouseover=!0)})),this._dd.on("mouseleave","li",(function(e){t.mouseover=!1})),this.initialized=!0},t.prototype.checkInitialized=function(){this.initialized||this.init()},Object.defineProperty(t.prototype,"isMouseOver",{get:function(){return this.mouseover},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDdMouseOver",{get:function(){return this.ddMouseover},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"haveResults",{get:function(){return this.items.length>0},enumerable:!1,configurable:!0}),t.prototype.focusNextItem=function(t){if(this.haveResults){var e=this._dd.find("li.active"),s=t?e.prev():e.next();0===s.length&&(s=t?this._dd.find("li").last():this._dd.find("li").first()),e.removeClass("active"),s.addClass("active")}},t.prototype.focusPreviousItem=function(){this.focusNextItem(!0)},t.prototype.selectFocusItem=function(){this._dd.find("li.active").trigger("click")},Object.defineProperty(t.prototype,"isItemFocused",{get:function(){return!!(this.isShown()&&this._dd.find("li.active").length>0)},enumerable:!1,configurable:!0}),t.prototype.show=function(){this.shown||(this._dd.dropdown().show(),this.shown=!0)},t.prototype.isShown=function(){return this.shown},t.prototype.hide=function(){this.shown&&(this._dd.dropdown().hide(),this.shown=!1)},t.prototype.updateItems=function(t,e){this.items=t,this.searchText=e,this.refreshItemList()},t.prototype.showMatchedText=function(t,e){var s=t.toLowerCase().indexOf(e.toLowerCase());if(s>-1){var i=s+e.length;return t.slice(0,s)+"<b>"+t.slice(s,i)+"</b>"+t.slice(i)}return t},t.prototype.refreshItemList=function(){var t=this;this.checkInitialized(),this._dd.empty();var e=[];if(this.items.length>0)this.items.forEach((function(s){var i,o,n=t.formatItem(s);"string"==typeof n&&(n={text:n}),i=t.showMatchedText(n.text,t.searchText),o=void 0!==n.html?n.html:i;var r=n.disabled,l=$("<li >");l.append($("<a>").attr("href","#!").html(o)).data("item",s),r&&l.addClass("disabled"),e.push(l)}));else{var s=$("<li >");s.append($("<a>").attr("href","#!").html(this.noResultsText)).addClass("disabled"),e.push(s)}this._dd.append(e)},t.prototype.itemSelectedLaunchEvent=function(t){this._$el.trigger("autocomplete.select",t)},t}(),l=function(){function t(t,e,s,i){this.initialized=!1,this.shown=!1,this.items=[],this.ddMouseover=!1,this._$el=t,this.formatItem=e,this.autoSelect=s,this.noResultsText=i}return t.prototype.getElPos=function(){return $.extend({},this._$el.position(),{height:this._$el[0].offsetHeight})},t.prototype.init=function(){var t=this,e=this.getElPos();this._dd=$("<div />"),this._dd.addClass("bootstrap-autocomplete dropdown-menu"),this._dd.insertAfter(this._$el),this._dd.css({top:e.top+this._$el.outerHeight(),left:e.left,width:this._$el.outerWidth()}),this._dd.on("click",".dropdown-item",(function(e){var s=$(e.currentTarget).data("item");t.itemSelectedLaunchEvent(s),e.preventDefault()})),this._dd.on("keyup",(function(e){if(t.shown){switch(e.which){case 27:t.hide(),t._$el.focus()}return!1}})),this._dd.on("mouseenter",(function(e){t.ddMouseover=!0})),this._dd.on("mouseleave",(function(e){t.ddMouseover=!1})),this._dd.on("mouseenter",".dropdown-item",(function(e){t.haveResults&&($(e.currentTarget).closest("div").find(".dropdown-item.active").removeClass("active"),$(e.currentTarget).addClass("active"),t.mouseover=!0)})),this._dd.on("mouseleave",".dropdown-item",(function(e){t.mouseover=!1})),this.initialized=!0},t.prototype.checkInitialized=function(){this.initialized||this.init()},Object.defineProperty(t.prototype,"isMouseOver",{get:function(){return this.mouseover},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDdMouseOver",{get:function(){return this.ddMouseover},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"haveResults",{get:function(){return this.items.length>0},enumerable:!1,configurable:!0}),t.prototype.focusNextItem=function(t){if(this.haveResults){var e=this._dd.find(".dropdown-item.active"),s=t?e.prev():e.next();0===s.length&&(s=t?this._dd.find(".dropdown-item").last():this._dd.find(".dropdown-item").first()),e.removeClass("active"),s.addClass("active")}},t.prototype.focusPreviousItem=function(){this.focusNextItem(!0)},t.prototype.selectFocusItem=function(){this._dd.find(".dropdown-item.active").trigger("click")},Object.defineProperty(t.prototype,"isItemFocused",{get:function(){return!!(this._dd&&this.isShown()&&this._dd.find(".dropdown-item.active").length>0)},enumerable:!1,configurable:!0}),t.prototype.show=function(){if(!this.shown){this.getElPos();this._dd.addClass("show"),this.shown=!0,this._$el.trigger("autocomplete.dd.shown")}},t.prototype.isShown=function(){return this.shown},t.prototype.hide=function(){this.shown&&(this._dd.removeClass("show"),this.shown=!1,this._$el.trigger("autocomplete.dd.hidden"))},t.prototype.updateItems=function(t,e){this.items=t,this.searchText=e,this.refreshItemList()},t.prototype.showMatchedText=function(t,e){var s=t.toLowerCase().indexOf(e.toLowerCase());if(s>-1){var i=s+e.length;return t.slice(0,s)+"<b>"+t.slice(s,i)+"</b>"+t.slice(i)}return t},t.prototype.refreshItemList=function(){var t=this;this.checkInitialized(),this._dd.empty();var e=[];if(this.items.length>0)this.items.forEach((function(s){var i,o,n=t.formatItem(s);"string"==typeof n&&(n={text:n}),i=t.showMatchedText(n.text,t.searchText),o=void 0!==n.html?n.html:i;var r=n.disabled,l=$("<a >");l.addClass("dropdown-item").css({overflow:"hidden","text-overflow":"ellipsis"}).html(o).data("item",s),r&&l.addClass("disabled"),e.push(l)})),this._dd.append(e),this.show();else if(""===this.noResultsText)this.hide();else{var s=$("<a >");s.addClass("dropdown-item disabled").html(this.noResultsText),e.push(s),this._dd.append(e),this.show()}},t.prototype.itemSelectedLaunchEvent=function(t){this._$el.trigger("autocomplete.select",t)},t}(),a=function(){function t(t,e){this._selectedItem=null,this._defaultValue=null,this._defaultText=null,this._isSelectElement=!1,this._settings={resolver:"ajax",resolverSettings:{},minLength:3,valueKey:"value",formatResult:this.defaultFormatResult,autoSelect:!0,noResultsText:"No results",bootstrapVersion:"auto",preventEnter:!1,events:{typed:null,searchPre:null,search:null,searchPost:null,select:null,focus:null}},this._el=t,this._$el=$(this._el),this._$el.is("select")&&(this._isSelectElement=!0),this.manageInlineDataAttributes(),"object"==typeof e&&(this._settings=$.extend(!0,{},this.getSettings(),e)),this._isSelectElement&&this.convertSelectToText(),this.init()}return t.prototype.manageInlineDataAttributes=function(){var t=this.getSettings();this._$el.data("url")&&(t.resolverSettings.url=this._$el.data("url")),this._$el.data("default-value")&&(this._defaultValue=this._$el.data("default-value")),this._$el.data("default-text")&&(this._defaultText=this._$el.data("default-text")),void 0!==this._$el.data("noresults-text")&&(t.noResultsText=this._$el.data("noresults-text"))},t.prototype.getSettings=function(){return this._settings},t.prototype.getBootstrapVersion=function(){var t;"auto"===this._settings.bootstrapVersion?t=$.fn.button.Constructor.VERSION.split(".").map(parseInt):"4"===this._settings.bootstrapVersion?t=[4]:"3"===this._settings.bootstrapVersion?t=[3]:(console.error("INVALID value for 'bootstrapVersion' settings property: "+this._settings.bootstrapVersion+" defaulting to 4"),t=[4]);return t},t.prototype.convertSelectToText=function(){var e=$("<input>");e.attr("type","hidden"),e.attr("name",this._$el.attr("name")),this._defaultValue&&e.val(this._defaultValue),this._selectHiddenField=e,e.insertAfter(this._$el);var s=$("<input>");s.attr("type","search"),s.attr("name",this._$el.attr("name")+"_text"),s.attr("id",this._$el.attr("id")),s.attr("disabled",this._$el.attr("disabled")),s.attr("placeholder",this._$el.attr("placeholder")),s.attr("autocomplete","off"),s.addClass(this._$el.attr("class")),this._defaultText&&s.val(this._defaultText);var i=this._$el.attr("required");i&&s.attr("required",i),s.data(t.NAME,this),this._$el.replaceWith(s),this._$el=s,this._el=s.get(0)},t.prototype.init=function(){this.bindDefaultEventListeners(),"ajax"===this._settings.resolver&&(this.resolver=new n(this._settings.resolverSettings)),4===this.getBootstrapVersion()[0]?this._dd=new l(this._$el,this._settings.formatResult,this._settings.autoSelect,this._settings.noResultsText):this._dd=new r(this._$el,this._settings.formatResult,this._settings.autoSelect,this._settings.noResultsText)},t.prototype.bindDefaultEventListeners=function(){var t=this;this._$el.on("keydown",(function(e){switch(e.which){case 9:t._dd.isItemFocused?t._dd.selectFocusItem():t._selectedItem||""!==t._$el.val()&&t._$el.trigger("autocomplete.freevalue",t._$el.val()),t._dd.hide();break;case 13:t._dd.isItemFocused?t._dd.selectFocusItem():t._selectedItem||""!==t._$el.val()&&t._$el.trigger("autocomplete.freevalue",t._$el.val()),t._dd.hide(),t._settings.preventEnter&&e.preventDefault();break;case 40:t._dd.focusNextItem();break;case 38:t._dd.focusPreviousItem()}})),this._$el.on("keyup",(function(e){switch(e.which){case 16:case 17:case 18:case 39:case 37:case 36:case 35:break;case 13:case 27:t._dd.hide();break;case 40:case 38:break;default:t._selectedItem=null;var s=t._$el.val();t.handlerTyped(s)}})),this._$el.on("blur",(function(e){!t._dd.isMouseOver&&t._dd.isDdMouseOver&&t._dd.isShown()?(setTimeout((function(){t._$el.focus()})),t._$el.focus()):t._dd.isMouseOver||(t._isSelectElement?t._dd.isItemFocused?t._dd.selectFocusItem():null!==t._selectedItem&&""!==t._$el.val()?t._$el.trigger("autocomplete.select",t._selectedItem):""!==t._$el.val()&&null!==t._defaultValue?(t._$el.val(t._defaultText),t._selectHiddenField.val(t._defaultValue),t._selectedItem=null,t._$el.trigger("autocomplete.select",t._selectedItem)):(t._$el.val(""),t._selectHiddenField.val(""),t._selectedItem=null,t._$el.trigger("autocomplete.select",t._selectedItem)):null===t._selectedItem&&t._$el.trigger("autocomplete.freevalue",t._$el.val()),t._dd.hide())})),this._$el.on("autocomplete.select",(function(e,s){t._selectedItem=s,t.itemSelectedDefaultHandler(s)})),this._$el.on("paste",(function(e){setTimeout((function(){t._$el.trigger("keyup",e)}),0)}))},t.prototype.handlerTyped=function(t){(null===this._settings.events.typed||(t=this._settings.events.typed(t,this._$el)))&&(t.length>=this._settings.minLength?(this._searchText=t,this.handlerPreSearch()):this._dd.hide())},t.prototype.handlerPreSearch=function(){if(null!==this._settings.events.searchPre){var t=this._settings.events.searchPre(this._searchText,this._$el);if(!t)return;this._searchText=t}this.handlerDoSearch()},t.prototype.handlerDoSearch=function(){var t=this;null!==this._settings.events.search?this._settings.events.search(this._searchText,(function(e){t.postSearchCallback(e)}),this._$el):this.resolver&&this.resolver.search(this._searchText,(function(e){t.postSearchCallback(e)}))},t.prototype.postSearchCallback=function(t){this._settings.events.searchPost&&"boolean"==typeof(t=this._settings.events.searchPost(t,this._$el))&&!t||this.handlerStartShow(t)},t.prototype.handlerStartShow=function(t){this._dd.updateItems(t,this._searchText)},t.prototype.itemSelectedDefaultHandler=function(t){if(null!=t){var e=this._settings.formatResult(t);"string"==typeof e&&(e={text:e}),this._$el.val(e.text),this._isSelectElement&&this._selectHiddenField.val(e.value)}else this._$el.val(""),this._isSelectElement&&this._selectHiddenField.val("");this._selectedItem=t,this._dd.hide()},t.prototype.defaultFormatResult=function(t){return"string"==typeof t?{text:t}:t.text?t:{text:t.toString()}},t.prototype.manageAPI=function(t,e){"set"===t?this.itemSelectedDefaultHandler(e):"clear"===t?this.itemSelectedDefaultHandler(null):"show"===t?this._$el.trigger("keyup"):"updateResolver"===t&&(this.resolver=new n(e))},t.NAME="autoComplete",t}();!function(t,e,s){t.fn[a.NAME]=function(e,s){return this.each((function(){var i;(i=t(this).data(a.NAME))||(i=new a(this,e),t(this).data(a.NAME,i)),i.manageAPI(e,s)}))}}(jQuery,window,document)}]);

/***/ }),

/***/ "./node_modules/bootstrap-table/dist/bootstrap-table.min.js":
/*!******************************************************************!*\
  !*** ./node_modules/bootstrap-table/dist/bootstrap-table.min.js ***!
  \******************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

/* provided dependency */ var jQuery = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/**
  * bootstrap-table - An extended table to integration with some of the most widely used CSS frameworks. (Supports Bootstrap, Semantic UI, Bulma, Material Design, Foundation)
  *
  * @version v1.21.2
  * @homepage https://bootstrap-table.com
  * @author wenzhixin <wenzhixin2010@gmail.com> (http://wenzhixin.net.cn/)
  * @license MIT
  */

!function(t,e){ true?module.exports=e(__webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js")):0}(this,(function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=e(t);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==i)return;var n,o,a=[],r=!0,s=!1;try{for(i=i.call(t);!(r=(n=i.next()).done)&&(a.push(n.value),!e||a.length!==e);r=!0);}catch(t){s=!0,o=t}finally{try{r||null==i.return||i.return()}finally{if(s)throw o}}return a}(t,e)||c(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||c(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){if(t){if("string"==typeof t)return h(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function u(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=c(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return r=t.done,t},e:function(t){s=!0,a=t},f:function(){try{r||null==i.return||i.return()}finally{if(s)throw a}}}}var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof __webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{},f=function(t){return t&&t.Math==Math&&t},p=f("object"==typeof globalThis&&globalThis)||f("object"==typeof window&&window)||f("object"==typeof self&&self)||f("object"==typeof d&&d)||function(){return this}()||Function("return this")(),g={},v=function(t){try{return!!t()}catch(t){return!0}},b=!v((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),m=!v((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),y=m,w=Function.prototype.call,S=y?w.bind(w):function(){return w.apply(w,arguments)},x={},k={}.propertyIsEnumerable,O=Object.getOwnPropertyDescriptor,C=O&&!k.call({1:2},1);x.f=C?function(t){var e=O(this,t);return!!e&&e.enumerable}:k;var T,I,P=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},A=m,$=Function.prototype,R=$.call,E=A&&$.bind.bind(R,R),j=function(t){return A?E(t):function(){return R.apply(t,arguments)}},F=j,_=F({}.toString),D=F("".slice),N=function(t){return D(_(t),8,-1)},V=N,B=j,L=function(t){if("Function"===V(t))return B(t)},H=v,M=N,U=Object,z=L("".split),q=H((function(){return!U("z").propertyIsEnumerable(0)}))?function(t){return"String"==M(t)?z(t,""):U(t)}:U,W=function(t){return null==t},G=W,K=TypeError,Y=function(t){if(G(t))throw K("Can't call method on "+t);return t},J=q,X=Y,Q=function(t){return J(X(t))},Z="object"==typeof document&&document.all,tt={all:Z,IS_HTMLDDA:void 0===Z&&void 0!==Z},et=tt.all,it=tt.IS_HTMLDDA?function(t){return"function"==typeof t||t===et}:function(t){return"function"==typeof t},nt=it,ot=tt.all,at=tt.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:nt(t)||t===ot}:function(t){return"object"==typeof t?null!==t:nt(t)},rt=p,st=it,lt=function(t){return st(t)?t:void 0},ct=function(t,e){return arguments.length<2?lt(rt[t]):rt[t]&&rt[t][e]},ht=L({}.isPrototypeOf),ut=ct("navigator","userAgent")||"",dt=p,ft=ut,pt=dt.process,gt=dt.Deno,vt=pt&&pt.versions||gt&&gt.version,bt=vt&&vt.v8;bt&&(I=(T=bt.split("."))[0]>0&&T[0]<4?1:+(T[0]+T[1])),!I&&ft&&(!(T=ft.match(/Edge\/(\d+)/))||T[1]>=74)&&(T=ft.match(/Chrome\/(\d+)/))&&(I=+T[1]);var mt=I,yt=mt,wt=v,St=!!Object.getOwnPropertySymbols&&!wt((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&yt&&yt<41})),xt=St&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,kt=ct,Ot=it,Ct=ht,Tt=Object,It=xt?function(t){return"symbol"==typeof t}:function(t){var e=kt("Symbol");return Ot(e)&&Ct(e.prototype,Tt(t))},Pt=String,At=function(t){try{return Pt(t)}catch(t){return"Object"}},$t=it,Rt=At,Et=TypeError,jt=function(t){if($t(t))return t;throw Et(Rt(t)+" is not a function")},Ft=jt,_t=W,Dt=function(t,e){var i=t[e];return _t(i)?void 0:Ft(i)},Nt=S,Vt=it,Bt=at,Lt=TypeError,Ht={exports:{}},Mt=p,Ut=Object.defineProperty,zt=function(t,e){try{Ut(Mt,t,{value:e,configurable:!0,writable:!0})}catch(i){Mt[t]=e}return e},qt=zt,Wt="__core-js_shared__",Gt=p[Wt]||qt(Wt,{}),Kt=Gt;(Ht.exports=function(t,e){return Kt[t]||(Kt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.25.5",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"});var Yt=Y,Jt=Object,Xt=function(t){return Jt(Yt(t))},Qt=Xt,Zt=L({}.hasOwnProperty),te=Object.hasOwn||function(t,e){return Zt(Qt(t),e)},ee=L,ie=0,ne=Math.random(),oe=ee(1..toString),ae=function(t){return"Symbol("+(void 0===t?"":t)+")_"+oe(++ie+ne,36)},re=p,se=Ht.exports,le=te,ce=ae,he=St,ue=xt,de=se("wks"),fe=re.Symbol,pe=fe&&fe.for,ge=ue?fe:fe&&fe.withoutSetter||ce,ve=function(t){if(!le(de,t)||!he&&"string"!=typeof de[t]){var e="Symbol."+t;he&&le(fe,t)?de[t]=fe[t]:de[t]=ue&&pe?pe(e):ge(e)}return de[t]},be=S,me=at,ye=It,we=Dt,Se=function(t,e){var i,n;if("string"===e&&Vt(i=t.toString)&&!Bt(n=Nt(i,t)))return n;if(Vt(i=t.valueOf)&&!Bt(n=Nt(i,t)))return n;if("string"!==e&&Vt(i=t.toString)&&!Bt(n=Nt(i,t)))return n;throw Lt("Can't convert object to primitive value")},xe=TypeError,ke=ve("toPrimitive"),Oe=function(t,e){if(!me(t)||ye(t))return t;var i,n=we(t,ke);if(n){if(void 0===e&&(e="default"),i=be(n,t,e),!me(i)||ye(i))return i;throw xe("Can't convert object to primitive value")}return void 0===e&&(e="number"),Se(t,e)},Ce=Oe,Te=It,Ie=function(t){var e=Ce(t,"string");return Te(e)?e:e+""},Pe=at,Ae=p.document,$e=Pe(Ae)&&Pe(Ae.createElement),Re=function(t){return $e?Ae.createElement(t):{}},Ee=Re,je=!b&&!v((function(){return 7!=Object.defineProperty(Ee("div"),"a",{get:function(){return 7}}).a})),Fe=b,_e=S,De=x,Ne=P,Ve=Q,Be=Ie,Le=te,He=je,Me=Object.getOwnPropertyDescriptor;g.f=Fe?Me:function(t,e){if(t=Ve(t),e=Be(e),He)try{return Me(t,e)}catch(t){}if(Le(t,e))return Ne(!_e(De.f,t,e),t[e])};var Ue={},ze=b&&v((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),qe=at,We=String,Ge=TypeError,Ke=function(t){if(qe(t))return t;throw Ge(We(t)+" is not an object")},Ye=b,Je=je,Xe=ze,Qe=Ke,Ze=Ie,ti=TypeError,ei=Object.defineProperty,ii=Object.getOwnPropertyDescriptor,ni="enumerable",oi="configurable",ai="writable";Ue.f=Ye?Xe?function(t,e,i){if(Qe(t),e=Ze(e),Qe(i),"function"==typeof t&&"prototype"===e&&"value"in i&&ai in i&&!i.writable){var n=ii(t,e);n&&n.writable&&(t[e]=i.value,i={configurable:oi in i?i.configurable:n.configurable,enumerable:ni in i?i.enumerable:n.enumerable,writable:!1})}return ei(t,e,i)}:ei:function(t,e,i){if(Qe(t),e=Ze(e),Qe(i),Je)try{return ei(t,e,i)}catch(t){}if("get"in i||"set"in i)throw ti("Accessors not supported");return"value"in i&&(t[e]=i.value),t};var ri=Ue,si=P,li=b?function(t,e,i){return ri.f(t,e,si(1,i))}:function(t,e,i){return t[e]=i,t},ci={exports:{}},hi=b,ui=te,di=Function.prototype,fi=hi&&Object.getOwnPropertyDescriptor,pi=ui(di,"name"),gi={EXISTS:pi,PROPER:pi&&"something"===function(){}.name,CONFIGURABLE:pi&&(!hi||hi&&fi(di,"name").configurable)},vi=it,bi=Gt,mi=L(Function.toString);vi(bi.inspectSource)||(bi.inspectSource=function(t){return mi(t)});var yi,wi,Si,xi=bi.inspectSource,ki=it,Oi=p.WeakMap,Ci=ki(Oi)&&/native code/.test(String(Oi)),Ti=Ht.exports,Ii=ae,Pi=Ti("keys"),Ai=function(t){return Pi[t]||(Pi[t]=Ii(t))},$i={},Ri=Ci,Ei=p,ji=at,Fi=li,_i=te,Di=Gt,Ni=Ai,Vi=$i,Bi="Object already initialized",Li=Ei.TypeError,Hi=Ei.WeakMap;if(Ri||Di.state){var Mi=Di.state||(Di.state=new Hi);Mi.get=Mi.get,Mi.has=Mi.has,Mi.set=Mi.set,yi=function(t,e){if(Mi.has(t))throw Li(Bi);return e.facade=t,Mi.set(t,e),e},wi=function(t){return Mi.get(t)||{}},Si=function(t){return Mi.has(t)}}else{var Ui=Ni("state");Vi[Ui]=!0,yi=function(t,e){if(_i(t,Ui))throw Li(Bi);return e.facade=t,Fi(t,Ui,e),e},wi=function(t){return _i(t,Ui)?t[Ui]:{}},Si=function(t){return _i(t,Ui)}}var zi={set:yi,get:wi,has:Si,enforce:function(t){return Si(t)?wi(t):yi(t,{})},getterFor:function(t){return function(e){var i;if(!ji(e)||(i=wi(e)).type!==t)throw Li("Incompatible receiver, "+t+" required");return i}}},qi=v,Wi=it,Gi=te,Ki=b,Yi=gi.CONFIGURABLE,Ji=xi,Xi=zi.enforce,Qi=zi.get,Zi=Object.defineProperty,tn=Ki&&!qi((function(){return 8!==Zi((function(){}),"length",{value:8}).length})),en=String(String).split("String"),nn=ci.exports=function(t,e,i){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),i&&i.getter&&(e="get "+e),i&&i.setter&&(e="set "+e),(!Gi(t,"name")||Yi&&t.name!==e)&&(Ki?Zi(t,"name",{value:e,configurable:!0}):t.name=e),tn&&i&&Gi(i,"arity")&&t.length!==i.arity&&Zi(t,"length",{value:i.arity});try{i&&Gi(i,"constructor")&&i.constructor?Ki&&Zi(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=Xi(t);return Gi(n,"source")||(n.source=en.join("string"==typeof e?e:"")),t};Function.prototype.toString=nn((function(){return Wi(this)&&Qi(this).source||Ji(this)}),"toString");var on=it,an=Ue,rn=ci.exports,sn=zt,ln=function(t,e,i,n){n||(n={});var o=n.enumerable,a=void 0!==n.name?n.name:e;if(on(i)&&rn(i,a,n),n.global)o?t[e]=i:sn(e,i);else{try{n.unsafe?t[e]&&(o=!0):delete t[e]}catch(t){}o?t[e]=i:an.f(t,e,{value:i,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t},cn={},hn=Math.ceil,un=Math.floor,dn=Math.trunc||function(t){var e=+t;return(e>0?un:hn)(e)},fn=function(t){var e=+t;return e!=e||0===e?0:dn(e)},pn=fn,gn=Math.max,vn=Math.min,bn=function(t,e){var i=pn(t);return i<0?gn(i+e,0):vn(i,e)},mn=fn,yn=Math.min,wn=function(t){return t>0?yn(mn(t),9007199254740991):0},Sn=wn,xn=function(t){return Sn(t.length)},kn=Q,On=bn,Cn=xn,Tn=function(t){return function(e,i,n){var o,a=kn(e),r=Cn(a),s=On(n,r);if(t&&i!=i){for(;r>s;)if((o=a[s++])!=o)return!0}else for(;r>s;s++)if((t||s in a)&&a[s]===i)return t||s||0;return!t&&-1}},In={includes:Tn(!0),indexOf:Tn(!1)},Pn=te,An=Q,$n=In.indexOf,Rn=$i,En=L([].push),jn=function(t,e){var i,n=An(t),o=0,a=[];for(i in n)!Pn(Rn,i)&&Pn(n,i)&&En(a,i);for(;e.length>o;)Pn(n,i=e[o++])&&(~$n(a,i)||En(a,i));return a},Fn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],_n=jn,Dn=Fn.concat("length","prototype");cn.f=Object.getOwnPropertyNames||function(t){return _n(t,Dn)};var Nn={};Nn.f=Object.getOwnPropertySymbols;var Vn=ct,Bn=cn,Ln=Nn,Hn=Ke,Mn=L([].concat),Un=Vn("Reflect","ownKeys")||function(t){var e=Bn.f(Hn(t)),i=Ln.f;return i?Mn(e,i(t)):e},zn=te,qn=Un,Wn=g,Gn=Ue,Kn=v,Yn=it,Jn=/#|\.prototype\./,Xn=function(t,e){var i=Zn[Qn(t)];return i==eo||i!=to&&(Yn(e)?Kn(e):!!e)},Qn=Xn.normalize=function(t){return String(t).replace(Jn,".").toLowerCase()},Zn=Xn.data={},to=Xn.NATIVE="N",eo=Xn.POLYFILL="P",io=Xn,no=p,oo=g.f,ao=li,ro=ln,so=zt,lo=function(t,e,i){for(var n=qn(e),o=Gn.f,a=Wn.f,r=0;r<n.length;r++){var s=n[r];zn(t,s)||i&&zn(i,s)||o(t,s,a(e,s))}},co=io,ho=function(t,e){var i,n,o,a,r,s=t.target,l=t.global,c=t.stat;if(i=l?no:c?no[s]||so(s,{}):(no[s]||{}).prototype)for(n in e){if(a=e[n],o=t.dontCallGetSet?(r=oo(i,n))&&r.value:i[n],!co(l?n:s+(c?".":"#")+n,t.forced)&&void 0!==o){if(typeof a==typeof o)continue;lo(a,o)}(t.sham||o&&o.sham)&&ao(a,"sham",!0),ro(i,n,a,t)}},uo=jn,fo=Fn,po=Object.keys||function(t){return uo(t,fo)},go=b,vo=L,bo=S,mo=v,yo=po,wo=Nn,So=x,xo=Xt,ko=q,Oo=Object.assign,Co=Object.defineProperty,To=vo([].concat),Io=!Oo||mo((function(){if(go&&1!==Oo({b:1},Oo(Co({},"a",{enumerable:!0,get:function(){Co(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach((function(t){e[t]=t})),7!=Oo({},t)[i]||yo(Oo({},e)).join("")!=n}))?function(t,e){for(var i=xo(t),n=arguments.length,o=1,a=wo.f,r=So.f;n>o;)for(var s,l=ko(arguments[o++]),c=a?To(yo(l),a(l)):yo(l),h=c.length,u=0;h>u;)s=c[u++],go&&!bo(r,l,s)||(i[s]=l[s]);return i}:Oo,Po=Io;ho({target:"Object",stat:!0,arity:2,forced:Object.assign!==Po},{assign:Po});var Ao={};Ao[ve("toStringTag")]="z";var $o="[object z]"===String(Ao),Ro=$o,Eo=it,jo=N,Fo=ve("toStringTag"),_o=Object,Do="Arguments"==jo(function(){return arguments}()),No=Ro?jo:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=_o(t),Fo))?i:Do?jo(e):"Object"==(n=jo(e))&&Eo(e.callee)?"Arguments":n},Vo=No,Bo=String,Lo=function(t){if("Symbol"===Vo(t))throw TypeError("Cannot convert a Symbol value to a string");return Bo(t)},Ho="\t\n\v\f\r                　\u2028\u2029\ufeff",Mo=Y,Uo=Lo,zo=L("".replace),qo="[\t\n\v\f\r                　\u2028\u2029\ufeff]",Wo=RegExp("^"+qo+qo+"*"),Go=RegExp(qo+qo+"*$"),Ko=function(t){return function(e){var i=Uo(Mo(e));return 1&t&&(i=zo(i,Wo,"")),2&t&&(i=zo(i,Go,"")),i}},Yo={start:Ko(1),end:Ko(2),trim:Ko(3)},Jo=gi.PROPER,Xo=v,Qo=Ho,Zo=Yo.trim;ho({target:"String",proto:!0,forced:function(t){return Xo((function(){return!!Qo[t]()||"​᠎"!=="​᠎"[t]()||Jo&&Qo[t].name!==t}))}("trim")},{trim:function(){return Zo(this)}});var ta=v,ea=function(t,e){var i=[][t];return!!i&&ta((function(){i.call(null,e||function(){return 1},1)}))},ia=ho,na=q,oa=Q,aa=ea,ra=L([].join),sa=na!=Object,la=aa("join",",");ia({target:"Array",proto:!0,forced:sa||!la},{join:function(t){return ra(oa(this),void 0===t?",":t)}});var ca=Ke,ha=function(){var t=ca(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},ua=v,da=p.RegExp,fa=ua((function(){var t=da("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),pa=fa||ua((function(){return!da("a","y").sticky})),ga={BROKEN_CARET:fa||ua((function(){var t=da("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),MISSED_STICKY:pa,UNSUPPORTED_Y:fa},va={},ba=b,ma=ze,ya=Ue,wa=Ke,Sa=Q,xa=po;va.f=ba&&!ma?Object.defineProperties:function(t,e){wa(t);for(var i,n=Sa(e),o=xa(e),a=o.length,r=0;a>r;)ya.f(t,i=o[r++],n[i]);return t};var ka,Oa=ct("document","documentElement"),Ca=Ke,Ta=va,Ia=Fn,Pa=$i,Aa=Oa,$a=Re,Ra=Ai("IE_PROTO"),Ea=function(){},ja=function(t){return"<script>"+t+"</"+"script>"},Fa=function(t){t.write(ja("")),t.close();var e=t.parentWindow.Object;return t=null,e},_a=function(){try{ka=new ActiveXObject("htmlfile")}catch(t){}var t,e;_a="undefined"!=typeof document?document.domain&&ka?Fa(ka):((e=$a("iframe")).style.display="none",Aa.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(ja("document.F=Object")),t.close(),t.F):Fa(ka);for(var i=Ia.length;i--;)delete _a.prototype[Ia[i]];return _a()};Pa[Ra]=!0;var Da=Object.create||function(t,e){var i;return null!==t?(Ea.prototype=Ca(t),i=new Ea,Ea.prototype=null,i[Ra]=t):i=_a(),void 0===e?i:Ta.f(i,e)},Na=v,Va=p.RegExp,Ba=Na((function(){var t=Va(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),La=v,Ha=p.RegExp,Ma=La((function(){var t=Ha("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),Ua=S,za=L,qa=Lo,Wa=ha,Ga=ga,Ka=Ht.exports,Ya=Da,Ja=zi.get,Xa=Ba,Qa=Ma,Za=Ka("native-string-replace",String.prototype.replace),tr=RegExp.prototype.exec,er=tr,ir=za("".charAt),nr=za("".indexOf),or=za("".replace),ar=za("".slice),rr=function(){var t=/a/,e=/b*/g;return Ua(tr,t,"a"),Ua(tr,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),sr=Ga.BROKEN_CARET,lr=void 0!==/()??/.exec("")[1];(rr||lr||sr||Xa||Qa)&&(er=function(t){var e,i,n,o,a,r,s,l=this,c=Ja(l),h=qa(t),u=c.raw;if(u)return u.lastIndex=l.lastIndex,e=Ua(er,u,h),l.lastIndex=u.lastIndex,e;var d=c.groups,f=sr&&l.sticky,p=Ua(Wa,l),g=l.source,v=0,b=h;if(f&&(p=or(p,"y",""),-1===nr(p,"g")&&(p+="g"),b=ar(h,l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==ir(h,l.lastIndex-1))&&(g="(?: "+g+")",b=" "+b,v++),i=new RegExp("^(?:"+g+")",p)),lr&&(i=new RegExp("^"+g+"$(?!\\s)",p)),rr&&(n=l.lastIndex),o=Ua(tr,f?i:l,b),f?o?(o.input=ar(o.input,v),o[0]=ar(o[0],v),o.index=l.lastIndex,l.lastIndex+=o[0].length):l.lastIndex=0:rr&&o&&(l.lastIndex=l.global?o.index+o[0].length:n),lr&&o&&o.length>1&&Ua(Za,o[0],i,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&d)for(o.groups=r=Ya(null),a=0;a<d.length;a++)r[(s=d[a])[0]]=o[s[1]];return o});var cr=er;ho({target:"RegExp",proto:!0,forced:/./.exec!==cr},{exec:cr});var hr=m,ur=Function.prototype,dr=ur.apply,fr=ur.call,pr="object"==typeof Reflect&&Reflect.apply||(hr?fr.bind(dr):function(){return fr.apply(dr,arguments)}),gr=L,vr=ln,br=cr,mr=v,yr=ve,wr=li,Sr=yr("species"),xr=RegExp.prototype,kr=function(t,e,i,n){var o=yr(t),a=!mr((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),r=a&&!mr((function(){var e=!1,i=/a/;return"split"===t&&((i={}).constructor={},i.constructor[Sr]=function(){return i},i.flags="",i[o]=/./[o]),i.exec=function(){return e=!0,null},i[o](""),!e}));if(!a||!r||i){var s=gr(/./[o]),l=e(o,""[t],(function(t,e,i,n,o){var r=gr(t),l=e.exec;return l===br||l===xr.exec?a&&!o?{done:!0,value:s(e,i,n)}:{done:!0,value:r(i,e,n)}:{done:!1}}));vr(String.prototype,t,l[0]),vr(xr,o,l[1])}n&&wr(xr[o],"sham",!0)},Or=at,Cr=N,Tr=ve("match"),Ir=function(t){var e;return Or(t)&&(void 0!==(e=t[Tr])?!!e:"RegExp"==Cr(t))},Pr=L,Ar=v,$r=it,Rr=No,Er=xi,jr=function(){},Fr=[],_r=ct("Reflect","construct"),Dr=/^\s*(?:class|function)\b/,Nr=Pr(Dr.exec),Vr=!Dr.exec(jr),Br=function(t){if(!$r(t))return!1;try{return _r(jr,Fr,t),!0}catch(t){return!1}},Lr=function(t){if(!$r(t))return!1;switch(Rr(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Vr||!!Nr(Dr,Er(t))}catch(t){return!0}};Lr.sham=!0;var Hr=!_r||Ar((function(){var t;return Br(Br.call)||!Br(Object)||!Br((function(){t=!0}))||t}))?Lr:Br,Mr=Hr,Ur=At,zr=TypeError,qr=Ke,Wr=function(t){if(Mr(t))return t;throw zr(Ur(t)+" is not a constructor")},Gr=W,Kr=ve("species"),Yr=L,Jr=fn,Xr=Lo,Qr=Y,Zr=Yr("".charAt),ts=Yr("".charCodeAt),es=Yr("".slice),is=function(t){return function(e,i){var n,o,a=Xr(Qr(e)),r=Jr(i),s=a.length;return r<0||r>=s?t?"":void 0:(n=ts(a,r))<55296||n>56319||r+1===s||(o=ts(a,r+1))<56320||o>57343?t?Zr(a,r):n:t?es(a,r,r+2):o-56320+(n-55296<<10)+65536}},ns={codeAt:is(!1),charAt:is(!0)}.charAt,os=function(t,e,i){return e+(i?ns(t,e).length:1)},as=Ie,rs=Ue,ss=P,ls=function(t,e,i){var n=as(e);n in t?rs.f(t,n,ss(0,i)):t[n]=i},cs=bn,hs=xn,us=ls,ds=Array,fs=Math.max,ps=function(t,e,i){for(var n=hs(t),o=cs(e,n),a=cs(void 0===i?n:i,n),r=ds(fs(a-o,0)),s=0;o<a;o++,s++)us(r,s,t[o]);return r.length=s,r},gs=S,vs=Ke,bs=it,ms=N,ys=cr,ws=TypeError,Ss=function(t,e){var i=t.exec;if(bs(i)){var n=gs(i,t,e);return null!==n&&vs(n),n}if("RegExp"===ms(t))return gs(ys,t,e);throw ws("RegExp#exec called on incompatible receiver")},xs=pr,ks=S,Os=L,Cs=kr,Ts=Ke,Is=W,Ps=Ir,As=Y,$s=function(t,e){var i,n=qr(t).constructor;return void 0===n||Gr(i=qr(n)[Kr])?e:Wr(i)},Rs=os,Es=wn,js=Lo,Fs=Dt,_s=ps,Ds=Ss,Ns=cr,Vs=v,Bs=ga.UNSUPPORTED_Y,Ls=4294967295,Hs=Math.min,Ms=[].push,Us=Os(/./.exec),zs=Os(Ms),qs=Os("".slice),Ws=!Vs((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));Cs("split",(function(t,e,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var n=js(As(this)),o=void 0===i?Ls:i>>>0;if(0===o)return[];if(void 0===t)return[n];if(!Ps(t))return ks(e,n,t,o);for(var a,r,s,l=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,u=new RegExp(t.source,c+"g");(a=ks(Ns,u,n))&&!((r=u.lastIndex)>h&&(zs(l,qs(n,h,a.index)),a.length>1&&a.index<n.length&&xs(Ms,l,_s(a,1)),s=a[0].length,h=r,l.length>=o));)u.lastIndex===a.index&&u.lastIndex++;return h===n.length?!s&&Us(u,"")||zs(l,""):zs(l,qs(n,h)),l.length>o?_s(l,0,o):l}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:ks(e,this,t,i)}:e,[function(e,i){var o=As(this),a=Is(e)?void 0:Fs(e,t);return a?ks(a,e,o,i):ks(n,js(o),e,i)},function(t,o){var a=Ts(this),r=js(t),s=i(n,a,r,o,n!==e);if(s.done)return s.value;var l=$s(a,RegExp),c=a.unicode,h=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Bs?"g":"y"),u=new l(Bs?"^(?:"+a.source+")":a,h),d=void 0===o?Ls:o>>>0;if(0===d)return[];if(0===r.length)return null===Ds(u,r)?[r]:[];for(var f=0,p=0,g=[];p<r.length;){u.lastIndex=Bs?0:p;var v,b=Ds(u,Bs?qs(r,p):r);if(null===b||(v=Hs(Es(u.lastIndex+(Bs?p:0)),r.length))===f)p=Rs(r,p,c);else{if(zs(g,qs(r,f,p)),g.length===d)return g;for(var m=1;m<=b.length-1;m++)if(zs(g,b[m]),g.length===d)return g;p=f=v}}return zs(g,qs(r,f)),g}]}),!Ws,Bs);var Gs=b,Ks=L,Ys=po,Js=Q,Xs=Ks(x.f),Qs=Ks([].push),Zs=function(t){return function(e){for(var i,n=Js(e),o=Ys(n),a=o.length,r=0,s=[];a>r;)i=o[r++],Gs&&!Xs(n,i)||Qs(s,t?[i,n[i]]:n[i]);return s}},tl={entries:Zs(!0),values:Zs(!1)}.entries;ho({target:"Object",stat:!0},{entries:function(t){return tl(t)}});var el=ve,il=Da,nl=Ue.f,ol=el("unscopables"),al=Array.prototype;null==al[ol]&&nl(al,ol,{configurable:!0,value:il(null)});var rl=function(t){al[ol][t]=!0},sl=In.includes,ll=rl;ho({target:"Array",proto:!0,forced:v((function(){return!Array(1).includes()}))},{includes:function(t){return sl(this,t,arguments.length>1?arguments[1]:void 0)}}),ll("includes");var cl=N,hl=Array.isArray||function(t){return"Array"==cl(t)},ul=TypeError,dl=function(t){if(t>9007199254740991)throw ul("Maximum allowed index exceeded");return t},fl=hl,pl=Hr,gl=at,vl=ve("species"),bl=Array,ml=function(t){var e;return fl(t)&&(e=t.constructor,(pl(e)&&(e===bl||fl(e.prototype))||gl(e)&&null===(e=e[vl]))&&(e=void 0)),void 0===e?bl:e},yl=function(t,e){return new(ml(t))(0===e?0:e)},wl=v,Sl=mt,xl=ve("species"),kl=function(t){return Sl>=51||!wl((function(){var e=[];return(e.constructor={})[xl]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Ol=ho,Cl=v,Tl=hl,Il=at,Pl=Xt,Al=xn,$l=dl,Rl=ls,El=yl,jl=kl,Fl=mt,_l=ve("isConcatSpreadable"),Dl=Fl>=51||!Cl((function(){var t=[];return t[_l]=!1,t.concat()[0]!==t})),Nl=jl("concat"),Vl=function(t){if(!Il(t))return!1;var e=t[_l];return void 0!==e?!!e:Tl(t)};Ol({target:"Array",proto:!0,arity:1,forced:!Dl||!Nl},{concat:function(t){var e,i,n,o,a,r=Pl(this),s=El(r,0),l=0;for(e=-1,n=arguments.length;e<n;e++)if(Vl(a=-1===e?r:arguments[e]))for(o=Al(a),$l(l+o),i=0;i<o;i++,l++)i in a&&Rl(s,l,a[i]);else $l(l+1),Rl(s,l++,a);return s.length=l,s}});var Bl=jt,Ll=m,Hl=L(L.bind),Ml=function(t,e){return Bl(t),void 0===e?t:Ll?Hl(t,e):function(){return t.apply(e,arguments)}},Ul=q,zl=Xt,ql=xn,Wl=yl,Gl=L([].push),Kl=function(t){var e=1==t,i=2==t,n=3==t,o=4==t,a=6==t,r=7==t,s=5==t||a;return function(l,c,h,u){for(var d,f,p=zl(l),g=Ul(p),v=Ml(c,h),b=ql(g),m=0,y=u||Wl,w=e?y(l,b):i||r?y(l,0):void 0;b>m;m++)if((s||m in g)&&(f=v(d=g[m],m,p),t))if(e)w[m]=f;else if(f)switch(t){case 3:return!0;case 5:return d;case 6:return m;case 2:Gl(w,d)}else switch(t){case 4:return!1;case 7:Gl(w,d)}return a?-1:n||o?o:w}},Yl={forEach:Kl(0),map:Kl(1),filter:Kl(2),some:Kl(3),every:Kl(4),find:Kl(5),findIndex:Kl(6),filterReject:Kl(7)},Jl=ho,Xl=Yl.find,Ql=rl,Zl="find",tc=!0;Zl in[]&&Array(1).find((function(){tc=!1})),Jl({target:"Array",proto:!0,forced:tc},{find:function(t){return Xl(this,t,arguments.length>1?arguments[1]:void 0)}}),Ql(Zl);var ec=No,ic=$o?{}.toString:function(){return"[object "+ec(this)+"]"};$o||ln(Object.prototype,"toString",ic,{unsafe:!0});var nc=Ir,oc=TypeError,ac=function(t){if(nc(t))throw oc("The method doesn't accept regular expressions");return t},rc=ve("match"),sc=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[rc]=!1,"/./"[t](e)}catch(t){}}return!1},lc=ho,cc=ac,hc=Y,uc=Lo,dc=sc,fc=L("".indexOf);lc({target:"String",proto:!0,forced:!dc("includes")},{includes:function(t){return!!~fc(uc(hc(this)),uc(cc(t)),arguments.length>1?arguments[1]:void 0)}});var pc={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},gc=Re("span").classList,vc=gc&&gc.constructor&&gc.constructor.prototype,bc=vc===Object.prototype?void 0:vc,mc=Yl.forEach,yc=ea("forEach")?[].forEach:function(t){return mc(this,t,arguments.length>1?arguments[1]:void 0)},wc=p,Sc=pc,xc=bc,kc=yc,Oc=li,Cc=function(t){if(t&&t.forEach!==kc)try{Oc(t,"forEach",kc)}catch(e){t.forEach=kc}};for(var Tc in Sc)Sc[Tc]&&Cc(wc[Tc]&&wc[Tc].prototype);Cc(xc);var Ic=p,Pc=v,Ac=Lo,$c=Yo.trim,Rc=L("".charAt),Ec=Ic.parseFloat,jc=Ic.Symbol,Fc=jc&&jc.iterator,_c=1/Ec("\t\n\v\f\r                　\u2028\u2029\ufeff-0")!=-1/0||Fc&&!Pc((function(){Ec(Object(Fc))}))?function(t){var e=$c(Ac(t)),i=Ec(e);return 0===i&&"-"==Rc(e,0)?-0:i}:Ec;ho({global:!0,forced:parseFloat!=_c},{parseFloat:_c});var Dc=ho,Nc=In.indexOf,Vc=ea,Bc=L([].indexOf),Lc=!!Bc&&1/Bc([1],1,-0)<0,Hc=Vc("indexOf");Dc({target:"Array",proto:!0,forced:Lc||!Hc},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return Lc?Bc(this,t,e)||0:Nc(this,t,e)}});var Mc=At,Uc=TypeError,zc=function(t,e){if(!delete t[e])throw Uc("Cannot delete property "+Mc(e)+" of "+Mc(t))},qc=ps,Wc=Math.floor,Gc=function(t,e){var i=t.length,n=Wc(i/2);return i<8?Kc(t,e):Yc(t,Gc(qc(t,0,n),e),Gc(qc(t,n),e),e)},Kc=function(t,e){for(var i,n,o=t.length,a=1;a<o;){for(n=a,i=t[a];n&&e(t[n-1],i)>0;)t[n]=t[--n];n!==a++&&(t[n]=i)}return t},Yc=function(t,e,i,n){for(var o=e.length,a=i.length,r=0,s=0;r<o||s<a;)t[r+s]=r<o&&s<a?n(e[r],i[s])<=0?e[r++]:i[s++]:r<o?e[r++]:i[s++];return t},Jc=Gc,Xc=ut.match(/firefox\/(\d+)/i),Qc=!!Xc&&+Xc[1],Zc=/MSIE|Trident/.test(ut),th=ut.match(/AppleWebKit\/(\d+)\./),eh=!!th&&+th[1],ih=ho,nh=L,oh=jt,ah=Xt,rh=xn,sh=zc,lh=Lo,ch=v,hh=Jc,uh=ea,dh=Qc,fh=Zc,ph=mt,gh=eh,vh=[],bh=nh(vh.sort),mh=nh(vh.push),yh=ch((function(){vh.sort(void 0)})),wh=ch((function(){vh.sort(null)})),Sh=uh("sort"),xh=!ch((function(){if(ph)return ph<70;if(!(dh&&dh>3)){if(fh)return!0;if(gh)return gh<603;var t,e,i,n,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)vh.push({k:e+n,v:i})}for(vh.sort((function(t,e){return e.v-t.v})),n=0;n<vh.length;n++)e=vh[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));ih({target:"Array",proto:!0,forced:yh||!wh||!Sh||!xh},{sort:function(t){void 0!==t&&oh(t);var e=ah(this);if(xh)return void 0===t?bh(e):bh(e,t);var i,n,o=[],a=rh(e);for(n=0;n<a;n++)n in e&&mh(o,e[n]);for(hh(o,function(t){return function(e,i){return void 0===i?-1:void 0===e?1:void 0!==t?+t(e,i)||0:lh(e)>lh(i)?1:-1}}(t)),i=rh(o),n=0;n<i;)e[n]=o[n++];for(;n<a;)sh(e,n++);return e}});var kh=L,Oh=Xt,Ch=Math.floor,Th=kh("".charAt),Ih=kh("".replace),Ph=kh("".slice),Ah=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,$h=/\$([$&'`]|\d{1,2})/g,Rh=pr,Eh=S,jh=L,Fh=kr,_h=v,Dh=Ke,Nh=it,Vh=W,Bh=fn,Lh=wn,Hh=Lo,Mh=Y,Uh=os,zh=Dt,qh=function(t,e,i,n,o,a){var r=i+t.length,s=n.length,l=$h;return void 0!==o&&(o=Oh(o),l=Ah),Ih(a,l,(function(a,l){var c;switch(Th(l,0)){case"$":return"$";case"&":return t;case"`":return Ph(e,0,i);case"'":return Ph(e,r);case"<":c=o[Ph(l,1,-1)];break;default:var h=+l;if(0===h)return a;if(h>s){var u=Ch(h/10);return 0===u?a:u<=s?void 0===n[u-1]?Th(l,1):n[u-1]+Th(l,1):a}c=n[h-1]}return void 0===c?"":c}))},Wh=Ss,Gh=ve("replace"),Kh=Math.max,Yh=Math.min,Jh=jh([].concat),Xh=jh([].push),Qh=jh("".indexOf),Zh=jh("".slice),tu="$0"==="a".replace(/./,"$0"),eu=!!/./[Gh]&&""===/./[Gh]("a","$0");Fh("replace",(function(t,e,i){var n=eu?"$":"$0";return[function(t,i){var n=Mh(this),o=Vh(t)?void 0:zh(t,Gh);return o?Eh(o,t,n,i):Eh(e,Hh(n),t,i)},function(t,o){var a=Dh(this),r=Hh(t);if("string"==typeof o&&-1===Qh(o,n)&&-1===Qh(o,"$<")){var s=i(e,a,r,o);if(s.done)return s.value}var l=Nh(o);l||(o=Hh(o));var c=a.global;if(c){var h=a.unicode;a.lastIndex=0}for(var u=[];;){var d=Wh(a,r);if(null===d)break;if(Xh(u,d),!c)break;""===Hh(d[0])&&(a.lastIndex=Uh(r,Lh(a.lastIndex),h))}for(var f,p="",g=0,v=0;v<u.length;v++){for(var b=Hh((d=u[v])[0]),m=Kh(Yh(Bh(d.index),r.length),0),y=[],w=1;w<d.length;w++)Xh(y,void 0===(f=d[w])?f:String(f));var S=d.groups;if(l){var x=Jh([b],y,m,r);void 0!==S&&Xh(x,S);var k=Hh(Rh(o,void 0,x))}else k=qh(b,r,m,y,S,o);m>=g&&(p+=Zh(r,g,m)+k,g=m+b.length)}return p+Zh(r,g)}]}),!!_h((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!tu||eu);var iu=Yl.filter;ho({target:"Array",proto:!0,forced:!kl("filter")},{filter:function(t){return iu(this,t,arguments.length>1?arguments[1]:void 0)}});var nu=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},ou=S,au=Ke,ru=W,su=Y,lu=nu,cu=Lo,hu=Dt,uu=Ss;kr("search",(function(t,e,i){return[function(e){var i=su(this),n=ru(e)?void 0:hu(e,t);return n?ou(n,e,i):new RegExp(e)[t](cu(i))},function(t){var n=au(this),o=cu(t),a=i(e,n,o);if(a.done)return a.value;var r=n.lastIndex;lu(r,0)||(n.lastIndex=0);var s=uu(n,o);return lu(n.lastIndex,r)||(n.lastIndex=r),null===s?-1:s.index}]}));var du=p,fu=v,pu=L,gu=Lo,vu=Yo.trim,bu=Ho,mu=du.parseInt,yu=du.Symbol,wu=yu&&yu.iterator,Su=/^[+-]?0x/i,xu=pu(Su.exec),ku=8!==mu(bu+"08")||22!==mu(bu+"0x16")||wu&&!fu((function(){mu(Object(wu))}))?function(t,e){var i=vu(gu(t));return mu(i,e>>>0||(xu(Su,i)?16:10))}:mu;ho({global:!0,forced:parseInt!=ku},{parseInt:ku});var Ou=Yl.map;ho({target:"Array",proto:!0,forced:!kl("map")},{map:function(t){return Ou(this,t,arguments.length>1?arguments[1]:void 0)}});var Cu=ho,Tu=Yl.findIndex,Iu=rl,Pu="findIndex",Au=!0;Pu in[]&&Array(1).findIndex((function(){Au=!1})),Cu({target:"Array",proto:!0,forced:Au},{findIndex:function(t){return Tu(this,t,arguments.length>1?arguments[1]:void 0)}}),Iu(Pu);var $u=it,Ru=String,Eu=TypeError,ju=L,Fu=Ke,_u=function(t){if("object"==typeof t||$u(t))return t;throw Eu("Can't set "+Ru(t)+" as a prototype")},Du=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=ju(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(i,[]),e=i instanceof Array}catch(t){}return function(i,n){return Fu(i),_u(n),e?t(i,n):i.__proto__=n,i}}():void 0),Nu=it,Vu=at,Bu=Du,Lu=function(t,e,i){var n,o;return Bu&&Nu(n=e.constructor)&&n!==i&&Vu(o=n.prototype)&&o!==i.prototype&&Bu(t,o),t},Hu=S,Mu=te,Uu=ht,zu=ha,qu=RegExp.prototype,Wu=function(t){var e=t.flags;return void 0!==e||"flags"in qu||Mu(t,"flags")||!Uu(qu,t)?e:Hu(zu,t)},Gu=Ue.f,Ku=ct,Yu=Ue,Ju=b,Xu=ve("species"),Qu=b,Zu=p,td=L,ed=io,id=Lu,nd=li,od=cn.f,ad=ht,rd=Ir,sd=Lo,ld=Wu,cd=ga,hd=function(t,e,i){i in t||Gu(t,i,{configurable:!0,get:function(){return e[i]},set:function(t){e[i]=t}})},ud=ln,dd=v,fd=te,pd=zi.enforce,gd=function(t){var e=Ku(t),i=Yu.f;Ju&&e&&!e[Xu]&&i(e,Xu,{configurable:!0,get:function(){return this}})},vd=Ba,bd=Ma,md=ve("match"),yd=Zu.RegExp,wd=yd.prototype,Sd=Zu.SyntaxError,xd=td(wd.exec),kd=td("".charAt),Od=td("".replace),Cd=td("".indexOf),Td=td("".slice),Id=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Pd=/a/g,Ad=/a/g,$d=new yd(Pd)!==Pd,Rd=cd.MISSED_STICKY,Ed=cd.UNSUPPORTED_Y,jd=Qu&&(!$d||Rd||vd||bd||dd((function(){return Ad[md]=!1,yd(Pd)!=Pd||yd(Ad)==Ad||"/a/i"!=yd(Pd,"i")})));if(ed("RegExp",jd)){for(var Fd=function(t,e){var i,n,o,a,r,s,l=ad(wd,this),c=rd(t),h=void 0===e,u=[],d=t;if(!l&&c&&h&&t.constructor===Fd)return t;if((c||ad(wd,t))&&(t=t.source,h&&(e=ld(d))),t=void 0===t?"":sd(t),e=void 0===e?"":sd(e),d=t,vd&&"dotAll"in Pd&&(n=!!e&&Cd(e,"s")>-1)&&(e=Od(e,/s/g,"")),i=e,Rd&&"sticky"in Pd&&(o=!!e&&Cd(e,"y")>-1)&&Ed&&(e=Od(e,/y/g,"")),bd&&(a=function(t){for(var e,i=t.length,n=0,o="",a=[],r={},s=!1,l=!1,c=0,h="";n<=i;n++){if("\\"===(e=kd(t,n)))e+=kd(t,++n);else if("]"===e)s=!1;else if(!s)switch(!0){case"["===e:s=!0;break;case"("===e:xd(Id,Td(t,n+1))&&(n+=2,l=!0),o+=e,c++;continue;case">"===e&&l:if(""===h||fd(r,h))throw new Sd("Invalid capture group name");r[h]=!0,a[a.length]=[h,c],l=!1,h="";continue}l?h+=e:o+=e}return[o,a]}(t),t=a[0],u=a[1]),r=id(yd(t,e),l?this:wd,Fd),(n||o||u.length)&&(s=pd(r),n&&(s.dotAll=!0,s.raw=Fd(function(t){for(var e,i=t.length,n=0,o="",a=!1;n<=i;n++)"\\"!==(e=kd(t,n))?a||"."!==e?("["===e?a=!0:"]"===e&&(a=!1),o+=e):o+="[\\s\\S]":o+=e+kd(t,++n);return o}(t),i)),o&&(s.sticky=!0),u.length&&(s.groups=u)),t!==d)try{nd(r,"source",""===d?"(?:)":d)}catch(t){}return r},_d=od(yd),Dd=0;_d.length>Dd;)hd(Fd,yd,_d[Dd++]);wd.constructor=Fd,Fd.prototype=wd,ud(Zu,"RegExp",Fd,{constructor:!0})}gd("RegExp");var Nd=gi.PROPER,Vd=ln,Bd=Ke,Ld=Lo,Hd=v,Md=Wu,Ud="toString",zd=RegExp.prototype.toString,qd=Hd((function(){return"/a/b"!=zd.call({source:"a",flags:"b"})})),Wd=Nd&&zd.name!=Ud;(qd||Wd)&&Vd(RegExp.prototype,Ud,(function(){var t=Bd(this);return"/"+Ld(t.source)+"/"+Ld(Md(t))}),{unsafe:!0});var Gd=L([].slice),Kd=ho,Yd=hl,Jd=Hr,Xd=at,Qd=bn,Zd=xn,tf=Q,ef=ls,nf=ve,of=Gd,af=kl("slice"),rf=nf("species"),sf=Array,lf=Math.max;Kd({target:"Array",proto:!0,forced:!af},{slice:function(t,e){var i,n,o,a=tf(this),r=Zd(a),s=Qd(t,r),l=Qd(void 0===e?r:e,r);if(Yd(a)&&(i=a.constructor,(Jd(i)&&(i===sf||Yd(i.prototype))||Xd(i)&&null===(i=i[rf]))&&(i=void 0),i===sf||void 0===i))return of(a,s,l);for(n=new(void 0===i?sf:i)(lf(l-s,0)),o=0;s<l;s++,o++)s in a&&ef(n,o,a[s]);return n.length=o,n}});var cf,hf,uf,df={},ff=!v((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),pf=te,gf=it,vf=Xt,bf=ff,mf=Ai("IE_PROTO"),yf=Object,wf=yf.prototype,Sf=bf?yf.getPrototypeOf:function(t){var e=vf(t);if(pf(e,mf))return e[mf];var i=e.constructor;return gf(i)&&e instanceof i?i.prototype:e instanceof yf?wf:null},xf=v,kf=it,Of=at,Cf=Sf,Tf=ln,If=ve("iterator"),Pf=!1;[].keys&&("next"in(uf=[].keys())?(hf=Cf(Cf(uf)))!==Object.prototype&&(cf=hf):Pf=!0);var Af=!Of(cf)||xf((function(){var t={};return cf[If].call(t)!==t}));Af&&(cf={}),kf(cf[If])||Tf(cf,If,(function(){return this}));var $f={IteratorPrototype:cf,BUGGY_SAFARI_ITERATORS:Pf},Rf=Ue.f,Ef=te,jf=ve("toStringTag"),Ff=function(t,e,i){t&&!i&&(t=t.prototype),t&&!Ef(t,jf)&&Rf(t,jf,{configurable:!0,value:e})},_f=$f.IteratorPrototype,Df=Da,Nf=P,Vf=Ff,Bf=df,Lf=function(){return this},Hf=ho,Mf=S,Uf=it,zf=function(t,e,i,n){var o=e+" Iterator";return t.prototype=Df(_f,{next:Nf(+!n,i)}),Vf(t,o,!1),Bf[o]=Lf,t},qf=Sf,Wf=Du,Gf=Ff,Kf=li,Yf=ln,Jf=df,Xf=gi.PROPER,Qf=gi.CONFIGURABLE,Zf=$f.IteratorPrototype,tp=$f.BUGGY_SAFARI_ITERATORS,ep=ve("iterator"),ip="keys",np="values",op="entries",ap=function(){return this},rp=Q,sp=rl,lp=df,cp=zi,hp=Ue.f,up=function(t,e,i,n,o,a,r){zf(i,e,n);var s,l,c,h=function(t){if(t===o&&g)return g;if(!tp&&t in f)return f[t];switch(t){case ip:case np:case op:return function(){return new i(this,t)}}return function(){return new i(this)}},u=e+" Iterator",d=!1,f=t.prototype,p=f[ep]||f["@@iterator"]||o&&f[o],g=!tp&&p||h(o),v="Array"==e&&f.entries||p;if(v&&(s=qf(v.call(new t)))!==Object.prototype&&s.next&&(qf(s)!==Zf&&(Wf?Wf(s,Zf):Uf(s[ep])||Yf(s,ep,ap)),Gf(s,u,!0)),Xf&&o==np&&p&&p.name!==np&&(Qf?Kf(f,"name",np):(d=!0,g=function(){return Mf(p,this)})),o)if(l={values:h(np),keys:a?g:h(ip),entries:h(op)},r)for(c in l)(tp||d||!(c in f))&&Yf(f,c,l[c]);else Hf({target:e,proto:!0,forced:tp||d},l);return f[ep]!==g&&Yf(f,ep,g,{name:o}),Jf[e]=g,l},dp=function(t,e){return{value:t,done:e}},fp=b,pp="Array Iterator",gp=cp.set,vp=cp.getterFor(pp),bp=up(Array,"Array",(function(t,e){gp(this,{type:pp,target:rp(t),index:0,kind:e})}),(function(){var t=vp(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,dp(void 0,!0)):dp("keys"==i?n:"values"==i?e[n]:[n,e[n]],!1)}),"values"),mp=lp.Arguments=lp.Array;if(sp("keys"),sp("values"),sp("entries"),fp&&"values"!==mp.name)try{hp(mp,"name",{value:"values"})}catch(t){}var yp=p,wp=pc,Sp=bc,xp=bp,kp=li,Op=ve,Cp=Op("iterator"),Tp=Op("toStringTag"),Ip=xp.values,Pp=function(t,e){if(t){if(t[Cp]!==Ip)try{kp(t,Cp,Ip)}catch(e){t[Cp]=Ip}if(t[Tp]||kp(t,Tp,e),wp[e])for(var i in xp)if(t[i]!==xp[i])try{kp(t,i,xp[i])}catch(e){t[i]=xp[i]}}};for(var Ap in wp)Pp(yp[Ap]&&yp[Ap].prototype,Ap);Pp(Sp,"DOMTokenList");var $p=b,Rp=hl,Ep=TypeError,jp=Object.getOwnPropertyDescriptor,Fp=$p&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),_p=ho,Dp=Xt,Np=bn,Vp=fn,Bp=xn,Lp=Fp?function(t,e){if(Rp(t)&&!jp(t,"length").writable)throw Ep("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Hp=dl,Mp=yl,Up=ls,zp=zc,qp=kl("splice"),Wp=Math.max,Gp=Math.min;_p({target:"Array",proto:!0,forced:!qp},{splice:function(t,e){var i,n,o,a,r,s,l=Dp(this),c=Bp(l),h=Np(t,c),u=arguments.length;for(0===u?i=n=0:1===u?(i=0,n=c-h):(i=u-2,n=Gp(Wp(Vp(e),0),c-h)),Hp(c+i-n),o=Mp(l,n),a=0;a<n;a++)(r=h+a)in l&&Up(o,a,l[r]);if(o.length=n,i<n){for(a=h;a<c-n;a++)s=a+i,(r=a+n)in l?l[s]=l[r]:zp(l,s);for(a=c;a>c-n+i;a--)zp(l,a-1)}else if(i>n)for(a=c-n;a>h;a--)s=a+i-1,(r=a+n-1)in l?l[s]=l[r]:zp(l,s);for(a=0;a<i;a++)l[a+h]=arguments[a+2];return Lp(l,c-n+i),o}});var Kp=L(1..valueOf),Yp=b,Jp=p,Xp=L,Qp=io,Zp=ln,tg=te,eg=Lu,ig=ht,ng=It,og=Oe,ag=v,rg=cn.f,sg=g.f,lg=Ue.f,cg=Kp,hg=Yo.trim,ug="Number",dg=Jp.Number,fg=dg.prototype,pg=Jp.TypeError,gg=Xp("".slice),vg=Xp("".charCodeAt),bg=function(t){var e=og(t,"number");return"bigint"==typeof e?e:mg(e)},mg=function(t){var e,i,n,o,a,r,s,l,c=og(t,"number");if(ng(c))throw pg("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=hg(c),43===(e=vg(c,0))||45===e){if(88===(i=vg(c,2))||120===i)return NaN}else if(48===e){switch(vg(c,1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+c}for(r=(a=gg(c,2)).length,s=0;s<r;s++)if((l=vg(a,s))<48||l>o)return NaN;return parseInt(a,n)}return+c};if(Qp(ug,!dg(" 0o1")||!dg("0b1")||dg("+0x1"))){for(var yg,wg=function(t){var e=arguments.length<1?0:dg(bg(t)),i=this;return ig(fg,i)&&ag((function(){cg(i)}))?eg(Object(e),i,wg):e},Sg=Yp?rg(dg):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),xg=0;Sg.length>xg;xg++)tg(dg,yg=Sg[xg])&&!tg(wg,yg)&&lg(wg,yg,sg(dg,yg));wg.prototype=fg,fg.constructor=wg,Zp(Jp,ug,wg,{constructor:!0})}var kg=ho,Og=hl,Cg=L([].reverse),Tg=[1,2];kg({target:"Array",proto:!0,forced:String(Tg)===String(Tg.reverse())},{reverse:function(){return Og(this)&&(this.length=this.length),Cg(this)}});var Ig=Xt,Pg=po;ho({target:"Object",stat:!0,forced:v((function(){Pg(1)}))},{keys:function(t){return Pg(Ig(t))}});var Ag=S,$g=Ke,Rg=W,Eg=wn,jg=Lo,Fg=Y,_g=Dt,Dg=os,Ng=Ss;kr("match",(function(t,e,i){return[function(e){var i=Fg(this),n=Rg(e)?void 0:_g(e,t);return n?Ag(n,e,i):new RegExp(e)[t](jg(i))},function(t){var n=$g(this),o=jg(t),a=i(e,n,o);if(a.done)return a.value;if(!n.global)return Ng(n,o);var r=n.unicode;n.lastIndex=0;for(var s,l=[],c=0;null!==(s=Ng(n,o));){var h=jg(s[0]);l[c]=h,""===h&&(n.lastIndex=Dg(o,Eg(n.lastIndex),r)),c++}return 0===c?null:l}]}));var Vg,Bg=ho,Lg=L,Hg=g.f,Mg=wn,Ug=Lo,zg=ac,qg=Y,Wg=sc,Gg=Lg("".startsWith),Kg=Lg("".slice),Yg=Math.min,Jg=Wg("startsWith");Bg({target:"String",proto:!0,forced:!!(Jg||(Vg=Hg(String.prototype,"startsWith"),!Vg||Vg.writable))&&!Jg},{startsWith:function(t){var e=Ug(qg(this));zg(t);var i=Mg(Yg(arguments.length>1?arguments[1]:void 0,e.length)),n=Ug(t);return Gg?Gg(e,n,i):Kg(e,i,i+n.length)===n}});var Xg=ho,Qg=L,Zg=g.f,tv=wn,ev=Lo,iv=ac,nv=Y,ov=sc,av=Qg("".endsWith),rv=Qg("".slice),sv=Math.min,lv=ov("endsWith"),cv=!lv&&!!function(){var t=Zg(String.prototype,"endsWith");return t&&!t.writable}();Xg({target:"String",proto:!0,forced:!cv&&!lv},{endsWith:function(t){var e=ev(nv(this));iv(t);var i=arguments.length>1?arguments[1]:void 0,n=e.length,o=void 0===i?n:sv(tv(i),n),a=ev(t);return av?av(e,a,o):rv(e,o-a.length,o)===a}});var hv={getBootstrapVersion:function(){var t=5;try{var e=i.default.fn.dropdown.Constructor.VERSION;void 0!==e&&(t=parseInt(e,10))}catch(t){}try{var n=bootstrap.Tooltip.VERSION;void 0!==n&&(t=parseInt(n,10))}catch(t){}return t},getIconsPrefix:function(t){return{bootstrap3:"glyphicon",bootstrap4:"fa",bootstrap5:"bi","bootstrap-table":"icon",bulma:"fa",foundation:"fa",materialize:"material-icons",semantic:"fa"}[t]||"fa"},getIcons:function(t){return{glyphicon:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggleOff:"glyphicon-list-alt icon-list-alt",toggleOn:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus",fullscreen:"glyphicon-fullscreen",search:"glyphicon-search",clearSearch:"glyphicon-trash"},fa:{paginationSwitchDown:"fa-caret-square-down",paginationSwitchUp:"fa-caret-square-up",refresh:"fa-sync",toggleOff:"fa-toggle-off",toggleOn:"fa-toggle-on",columns:"fa-th-list",detailOpen:"fa-plus",detailClose:"fa-minus",fullscreen:"fa-arrows-alt",search:"fa-search",clearSearch:"fa-trash"},bi:{paginationSwitchDown:"bi-caret-down-square",paginationSwitchUp:"bi-caret-up-square",refresh:"bi-arrow-clockwise",toggleOff:"bi-toggle-off",toggleOn:"bi-toggle-on",columns:"bi-list-ul",detailOpen:"bi-plus",detailClose:"bi-dash",fullscreen:"bi-arrows-move",search:"bi-search",clearSearch:"bi-trash"},icon:{paginationSwitchDown:"icon-arrow-up-circle",paginationSwitchUp:"icon-arrow-down-circle",refresh:"icon-refresh-cw",toggleOff:"icon-toggle-right",toggleOn:"icon-toggle-right",columns:"icon-list",detailOpen:"icon-plus",detailClose:"icon-minus",fullscreen:"icon-maximize",search:"icon-search",clearSearch:"icon-trash-2"},"material-icons":{paginationSwitchDown:"grid_on",paginationSwitchUp:"grid_off",refresh:"refresh",toggleOff:"tablet",toggleOn:"tablet_android",columns:"view_list",detailOpen:"add",detailClose:"remove",fullscreen:"fullscreen",sort:"sort",search:"search",clearSearch:"delete"}}[t]},getSearchInput:function(t){return"string"==typeof t.options.searchSelector?i.default(t.options.searchSelector):t.$toolbar.find(".search input")},sprintf:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var o=!0,a=0,r=t.replace(/%s/g,(function(){var t=i[a++];return void 0===t?(o=!1,""):t}));return o?r:""},isObject:function(t){return t instanceof Object&&!Array.isArray(t)},isEmptyObject:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===Object.entries(t).length&&t.constructor===Object},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},getFieldTitle:function(t,e){var i,n=u(t);try{for(n.s();!(i=n.n()).done;){var o=i.value;if(o.field===e)return o.title}}catch(t){n.e(t)}finally{n.f()}return""},setFieldIndex:function(t){var e,i=0,n=[],o=u(t[0]);try{for(o.s();!(e=o.n()).done;){i+=e.value.colspan||1}}catch(t){o.e(t)}finally{o.f()}for(var a=0;a<t.length;a++){n[a]=[];for(var r=0;r<i;r++)n[a][r]=!1}for(var s=0;s<t.length;s++){var l,c=u(t[s]);try{for(c.s();!(l=c.n()).done;){var h=l.value,d=h.rowspan||1,f=h.colspan||1,p=n[s].indexOf(!1);h.colspanIndex=p,1===f?(h.fieldIndex=p,void 0===h.field&&(h.field=p)):h.colspanGroup=h.colspan;for(var g=0;g<d;g++)for(var v=0;v<f;v++)n[s+g][p+v]=!0}}catch(t){c.e(t)}finally{c.f()}}},normalizeAccent:function(t){return"string"!=typeof t?t:t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},updateFieldGroup:function(t,e){var i,n,o=(i=[]).concat.apply(i,l(t)),a=u(t);try{for(a.s();!(n=a.n()).done;){var r,s=u(n.value);try{for(s.s();!(r=s.n()).done;){var c=r.value;if(c.colspanGroup>1){for(var h=0,d=function(t){o.find((function(e){return e.fieldIndex===t})).visible&&h++},f=c.colspanIndex;f<c.colspanIndex+c.colspanGroup;f++)d(f);c.colspan=h,c.visible=h>0}}}catch(t){s.e(t)}finally{s.f()}}}catch(t){a.e(t)}finally{a.f()}if(!(t.length<2)){var p,g=u(e);try{var v=function(){var t=p.value,e=o.filter((function(e){return e.fieldIndex===t.fieldIndex}));if(e.length>1){var i,n=u(e);try{for(n.s();!(i=n.n()).done;){i.value.visible=t.visible}}catch(t){n.e(t)}finally{n.f()}}};for(g.s();!(p=g.n()).done;)v()}catch(t){g.e(t)}finally{g.f()}}},getScrollBarWidth:function(){if(void 0===this.cachedWidth){var t=i.default("<div/>").addClass("fixed-table-scroll-inner"),e=i.default("<div/>").addClass("fixed-table-scroll-outer");e.append(t),i.default("body").append(e);var n=t[0].offsetWidth;e.css("overflow","scroll");var o=t[0].offsetWidth;n===o&&(o=e[0].clientWidth),e.remove(),this.cachedWidth=n-o}return this.cachedWidth},calculateObjectValue:function(t,e,i,o){var a=e;if("string"==typeof e){var r=e.split(".");if(r.length>1){a=window;var s,c=u(r);try{for(c.s();!(s=c.n()).done;){a=a[s.value]}}catch(t){c.e(t)}finally{c.f()}}else a=window[e]}return null!==a&&"object"===n(a)?a:"function"==typeof a?a.apply(t,i||[]):!a&&"string"==typeof e&&i&&this.sprintf.apply(this,[e].concat(l(i)))?this.sprintf.apply(this,[e].concat(l(i))):o},compareObjects:function(t,e,i){var n=Object.keys(t),o=Object.keys(e);if(i&&n.length!==o.length)return!1;for(var a=0,r=n;a<r.length;a++){var s=r[a];if(o.includes(s)&&t[s]!==e[s])return!1}return!0},regexCompare:function(t,e){try{var i=e.match(/^\/(.*?)\/([gim]*)$/);if(-1!==t.toString().search(i?new RegExp(i[1],i[2]):new RegExp(e,"gim")))return!0}catch(t){return!1}return!1},escapeHTML:function(t){return t?t.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"):t},unescapeHTML:function(t){return"string"==typeof t&&t?t.toString().replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'"):t},removeHTML:function(t){return t?t.toString().replace(/(<([^>]+)>)/gi,"").replace(/&[#A-Za-z0-9]+;/gi,"").trim():t},getRealDataAttr:function(t){for(var e=0,i=Object.entries(t);e<i.length;e++){var n=s(i[e],2),o=n[0],a=n[1],r=o.split(/(?=[A-Z])/).join("-").toLowerCase();r!==o&&(t[r]=a,delete t[o])}return t},getItemField:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=t;if(void 0!==n&&(i=n),"string"!=typeof e||t.hasOwnProperty(e))return i?this.escapeHTML(t[e]):t[e];var a,r=e.split("."),s=u(r);try{for(s.s();!(a=s.n()).done;){var l=a.value;o=o&&o[l]}}catch(t){s.e(t)}finally{s.f()}return i?this.escapeHTML(o):o},isIEBrowser:function(){return navigator.userAgent.includes("MSIE ")||/Trident.*rv:11\./.test(navigator.userAgent)},findIndex:function(t,e){var i,n=u(t);try{for(n.s();!(i=n.n()).done;){var o=i.value;if(JSON.stringify(o)===JSON.stringify(e))return t.indexOf(o)}}catch(t){n.e(t)}finally{n.f()}return-1},trToData:function(t,e){var n=this,o=[],a=[];return e.each((function(e,r){var s=i.default(r),l={};l._id=s.attr("id"),l._class=s.attr("class"),l._data=n.getRealDataAttr(s.data()),l._style=s.attr("style"),s.find(">td,>th").each((function(o,r){for(var s=i.default(r),c=+s.attr("colspan")||1,h=+s.attr("rowspan")||1,u=o;a[e]&&a[e][u];u++);for(var d=u;d<u+c;d++)for(var f=e;f<e+h;f++)a[f]||(a[f]=[]),a[f][d]=!0;var p=t[u].field;l[p]=s.html().trim(),l["_".concat(p,"_id")]=s.attr("id"),l["_".concat(p,"_class")]=s.attr("class"),l["_".concat(p,"_rowspan")]=s.attr("rowspan"),l["_".concat(p,"_colspan")]=s.attr("colspan"),l["_".concat(p,"_title")]=s.attr("title"),l["_".concat(p,"_data")]=n.getRealDataAttr(s.data()),l["_".concat(p,"_style")]=s.attr("style")})),o.push(l)})),o},sort:function(t,e,i,n,o,a){if(null==t&&(t=""),null==e&&(e=""),n.sortStable&&t===e&&(t=o,e=a),this.isNumeric(t)&&this.isNumeric(e))return(t=parseFloat(t))<(e=parseFloat(e))?-1*i:t>e?i:0;if(n.sortEmptyLast){if(""===t)return 1;if(""===e)return-1}return t===e?0:("string"!=typeof t&&(t=t.toString()),-1===t.localeCompare(e)?-1*i:i)},getEventName:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e=e||"".concat(+new Date).concat(~~(1e6*Math.random())),"".concat(t,"-").concat(e)},hasDetailViewIcon:function(t){return t.detailView&&t.detailViewIcon&&!t.cardView},getDetailViewIndexOffset:function(t){return this.hasDetailViewIcon(t)&&"right"!==t.detailViewAlign?1:0},checkAutoMergeCells:function(t){var e,i=u(t);try{for(i.s();!(e=i.n()).done;)for(var n=e.value,o=0,a=Object.keys(n);o<a.length;o++){var r=a[o];if(r.startsWith("_")&&(r.endsWith("_rowspan")||r.endsWith("_colspan")))return!0}}catch(t){i.e(t)}finally{i.f()}return!1},deepCopy:function(t){return void 0===t?t:i.default.extend(!0,Array.isArray(t)?[]:{},t)},debounce:function(t,e,i){var n;return function(){var o=this,a=arguments,r=function(){n=null,i||t.apply(o,a)},s=i&&!n;clearTimeout(n),n=setTimeout(r,e),s&&t.apply(o,a)}}},uv=hv.getBootstrapVersion(),dv={3:{classes:{buttonsPrefix:"btn",buttons:"default",buttonsGroup:"btn-group",buttonsDropdown:"btn-group",pull:"pull",inputGroup:"input-group",inputPrefix:"input-",input:"form-control",select:"form-control",paginationDropdown:"btn-group dropdown",dropup:"dropup",dropdownActive:"active",paginationActive:"active",buttonActive:"active"},html:{toolbarDropdown:['<ul class="dropdown-menu" role="menu">',"</ul>"],toolbarDropdownItem:'<li class="dropdown-item-marker" role="menuitem"><label>%s</label></li>',toolbarDropdownSeparator:'<li class="divider"></li>',pageDropdown:['<ul class="dropdown-menu" role="menu">',"</ul>"],pageDropdownItem:'<li role="menuitem" class="%s"><a href="#">%s</a></li>',dropdownCaret:'<span class="caret"></span>',pagination:['<ul class="pagination%s">',"</ul>"],paginationItem:'<li class="page-item%s"><a class="page-link" aria-label="%s" href="javascript:void(0)">%s</a></li>',icon:'<i class="%s %s"></i>',inputGroup:'<div class="input-group">%s<span class="input-group-btn">%s</span></div>',searchInput:'<input class="%s%s" type="text" placeholder="%s">',searchButton:'<button class="%s" type="button" name="search" title="%s">%s %s</button>',searchClearButton:'<button class="%s" type="button" name="clearSearch" title="%s">%s %s</button>'}},4:{classes:{buttonsPrefix:"btn",buttons:"secondary",buttonsGroup:"btn-group",buttonsDropdown:"btn-group",pull:"float",inputGroup:"btn-group",inputPrefix:"form-control-",input:"form-control",select:"form-control",paginationDropdown:"btn-group dropdown",dropup:"dropup",dropdownActive:"active",paginationActive:"active",buttonActive:"active"},html:{toolbarDropdown:['<div class="dropdown-menu dropdown-menu-right">',"</div>"],toolbarDropdownItem:'<label class="dropdown-item dropdown-item-marker">%s</label>',pageDropdown:['<div class="dropdown-menu">',"</div>"],pageDropdownItem:'<a class="dropdown-item %s" href="#">%s</a>',toolbarDropdownSeparator:'<div class="dropdown-divider"></div>',dropdownCaret:'<span class="caret"></span>',pagination:['<ul class="pagination%s">',"</ul>"],paginationItem:'<li class="page-item%s"><a class="page-link" aria-label="%s" href="javascript:void(0)">%s</a></li>',icon:'<i class="%s %s"></i>',inputGroup:'<div class="input-group">%s<div class="input-group-append">%s</div></div>',searchInput:'<input class="%s%s" type="text" placeholder="%s">',searchButton:'<button class="%s" type="button" name="search" title="%s">%s %s</button>',searchClearButton:'<button class="%s" type="button" name="clearSearch" title="%s">%s %s</button>'}},5:{classes:{buttonsPrefix:"btn",buttons:"secondary",buttonsGroup:"btn-group",buttonsDropdown:"btn-group",pull:"float",inputGroup:"btn-group",inputPrefix:"form-control-",input:"form-control",select:"form-select",paginationDropdown:"btn-group dropdown",dropup:"dropup",dropdownActive:"active",paginationActive:"active",buttonActive:"active"},html:{dataToggle:"data-bs-toggle",toolbarDropdown:['<div class="dropdown-menu dropdown-menu-right">',"</div>"],toolbarDropdownItem:'<label class="dropdown-item dropdown-item-marker">%s</label>',pageDropdown:['<div class="dropdown-menu">',"</div>"],pageDropdownItem:'<a class="dropdown-item %s" href="#">%s</a>',toolbarDropdownSeparator:'<div class="dropdown-divider"></div>',dropdownCaret:'<span class="caret"></span>',pagination:['<ul class="pagination%s">',"</ul>"],paginationItem:'<li class="page-item%s"><a class="page-link" aria-label="%s" href="javascript:void(0)">%s</a></li>',icon:'<i class="%s %s"></i>',inputGroup:'<div class="input-group">%s%s</div>',searchInput:'<input class="%s%s" type="text" placeholder="%s">',searchButton:'<button class="%s" type="button" name="search" title="%s">%s %s</button>',searchClearButton:'<button class="%s" type="button" name="clearSearch" title="%s">%s %s</button>'}}}[uv],fv={height:void 0,classes:"table table-bordered table-hover",buttons:{},theadClasses:"",headerStyle:function(t){return{}},rowStyle:function(t,e){return{}},rowAttributes:function(t,e){return{}},undefinedText:"-",locale:void 0,virtualScroll:!1,virtualScrollItemHeight:void 0,sortable:!0,sortClass:void 0,silentSort:!0,sortEmptyLast:!1,sortName:void 0,sortOrder:void 0,sortReset:!1,sortStable:!1,sortResetPage:!1,rememberOrder:!1,serverSort:!0,customSort:void 0,columns:[[]],data:[],url:void 0,method:"get",cache:!0,contentType:"application/json",dataType:"json",ajax:void 0,ajaxOptions:{},queryParams:function(t){return t},queryParamsType:"limit",responseHandler:function(t){return t},totalField:"total",totalNotFilteredField:"totalNotFiltered",dataField:"rows",footerField:"footer",pagination:!1,paginationParts:["pageInfo","pageSize","pageList"],showExtendedPagination:!1,paginationLoop:!0,sidePagination:"client",totalRows:0,totalNotFiltered:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",paginationSuccessivelySize:5,paginationPagesBySide:1,paginationUseIntermediate:!1,search:!1,searchHighlight:!1,searchOnEnterKey:!1,strictSearch:!1,regexSearch:!1,searchSelector:!1,visibleSearch:!1,showButtonIcons:!0,showButtonText:!1,showSearchButton:!1,showSearchClearButton:!1,trimOnSearch:!0,searchAlign:"right",searchTimeOut:500,searchText:"",customSearch:void 0,showHeader:!0,showFooter:!1,footerStyle:function(t){return{}},searchAccentNeutralise:!1,showColumns:!1,showColumnsToggleAll:!1,showColumnsSearch:!1,minimumCountColumns:1,showPaginationSwitch:!1,showRefresh:!1,showToggle:!1,showFullscreen:!1,smartDisplay:!0,escape:!1,filterOptions:{filterAlgorithm:"and"},idField:void 0,selectItemName:"btSelectItem",clickToSelect:!1,ignoreClickToSelectOn:function(t){var e=t.tagName;return["A","BUTTON"].includes(e)},singleSelect:!1,checkboxHeader:!0,maintainMetaData:!1,multipleSelectRow:!1,uniqueId:void 0,cardView:!1,detailView:!1,detailViewIcon:!0,detailViewByClick:!1,detailViewAlign:"left",detailFormatter:function(t,e){return""},detailFilter:function(t,e){return!0},toolbar:void 0,toolbarAlign:"left",buttonsToolbar:void 0,buttonsAlign:"right",buttonsOrder:["paginationSwitch","refresh","toggle","fullscreen","columns"],buttonsPrefix:dv.classes.buttonsPrefix,buttonsClass:dv.classes.buttons,iconsPrefix:void 0,icons:{},iconSize:void 0,loadingFontSize:"auto",loadingTemplate:function(t){return'<span class="loading-wrap">\n      <span class="loading-text">'.concat(t,'</span>\n      <span class="animation-wrap"><span class="animation-dot"></span></span>\n      </span>\n    ')},onAll:function(t,e){return!1},onClickCell:function(t,e,i,n){return!1},onDblClickCell:function(t,e,i,n){return!1},onClickRow:function(t,e){return!1},onDblClickRow:function(t,e){return!1},onSort:function(t,e){return!1},onCheck:function(t){return!1},onUncheck:function(t){return!1},onCheckAll:function(t){return!1},onUncheckAll:function(t){return!1},onCheckSome:function(t){return!1},onUncheckSome:function(t){return!1},onLoadSuccess:function(t){return!1},onLoadError:function(t){return!1},onColumnSwitch:function(t,e){return!1},onColumnSwitchAll:function(t){return!1},onPageChange:function(t,e){return!1},onSearch:function(t){return!1},onToggle:function(t){return!1},onPreBody:function(t){return!1},onPostBody:function(){return!1},onPostHeader:function(){return!1},onPostFooter:function(){return!1},onExpandRow:function(t,e,i){return!1},onCollapseRow:function(t,e){return!1},onRefreshOptions:function(t){return!1},onRefresh:function(t){return!1},onResetView:function(){return!1},onScrollBody:function(){return!1},onTogglePagination:function(t){return!1},onVirtualScroll:function(t,e){return!1}},pv={formatLoadingMessage:function(){return"Loading, please wait"},formatRecordsPerPage:function(t){return"".concat(t," rows per page")},formatShowingRows:function(t,e,i,n){return void 0!==n&&n>0&&n>i?"Showing ".concat(t," to ").concat(e," of ").concat(i," rows (filtered from ").concat(n," total rows)"):"Showing ".concat(t," to ").concat(e," of ").concat(i," rows")},formatSRPaginationPreText:function(){return"previous page"},formatSRPaginationPageText:function(t){return"to page ".concat(t)},formatSRPaginationNextText:function(){return"next page"},formatDetailPagination:function(t){return"Showing ".concat(t," rows")},formatSearch:function(){return"Search"},formatClearSearch:function(){return"Clear Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatPaginationSwitchDown:function(){return"Show pagination"},formatPaginationSwitchUp:function(){return"Hide pagination"},formatRefresh:function(){return"Refresh"},formatToggleOn:function(){return"Show card view"},formatToggleOff:function(){return"Hide card view"},formatColumns:function(){return"Columns"},formatColumnsToggleAll:function(){return"Toggle all"},formatFullscreen:function(){return"Fullscreen"},formatAllRows:function(){return"All"}},gv={field:void 0,title:void 0,titleTooltip:void 0,class:void 0,width:void 0,widthUnit:"px",rowspan:void 0,colspan:void 0,align:void 0,halign:void 0,falign:void 0,valign:void 0,cellStyle:void 0,radio:!1,checkbox:!1,checkboxEnabled:!0,clickToSelect:!0,showSelectTitle:!1,sortable:!1,sortName:void 0,order:"asc",sorter:void 0,visible:!0,switchable:!0,cardVisible:!0,searchable:!0,formatter:void 0,footerFormatter:void 0,detailFormatter:void 0,searchFormatter:!0,searchHighlightFormatter:!1,escape:void 0,events:void 0};Object.assign(fv,pv);var vv={VERSION:"1.21.2",THEME:"bootstrap".concat(uv),CONSTANTS:dv,DEFAULTS:fv,COLUMN_DEFAULTS:gv,METHODS:["getOptions","refreshOptions","getData","getSelections","load","append","prepend","remove","removeAll","insertRow","updateRow","getRowByUniqueId","updateByUniqueId","removeByUniqueId","updateCell","updateCellByUniqueId","showRow","hideRow","getHiddenRows","showColumn","hideColumn","getVisibleColumns","getHiddenColumns","showAllColumns","hideAllColumns","mergeCells","checkAll","uncheckAll","checkInvert","check","uncheck","checkBy","uncheckBy","refresh","destroy","resetView","showLoading","hideLoading","togglePagination","toggleFullscreen","toggleView","resetSearch","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","toggleDetailView","expandRow","collapseRow","expandRowByUniqueId","collapseRowByUniqueId","expandAllRows","collapseAllRows","updateColumnTitle","updateFormatText"],EVENTS:{"all.bs.table":"onAll","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","column-switch-all.bs.table":"onColumnSwitchAll","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","post-footer.bs.table":"onPostFooter","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow","refresh-options.bs.table":"onRefreshOptions","reset-view.bs.table":"onResetView","refresh.bs.table":"onRefresh","scroll-body.bs.table":"onScrollBody","toggle-pagination.bs.table":"onTogglePagination","virtual-scroll.bs.table":"onVirtualScroll"},LOCALES:{en:pv,"en-US":pv}},bv=function(){function t(e){var i=this;o(this,t),this.rows=e.rows,this.scrollEl=e.scrollEl,this.contentEl=e.contentEl,this.callback=e.callback,this.itemHeight=e.itemHeight,this.cache={},this.scrollTop=this.scrollEl.scrollTop,this.initDOM(this.rows,e.fixedScroll),this.scrollEl.scrollTop=this.scrollTop,this.lastCluster=0;var n=function(){i.lastCluster!==(i.lastCluster=i.getNum())&&(i.initDOM(i.rows),i.callback(i.startIndex,i.endIndex))};this.scrollEl.addEventListener("scroll",n,!1),this.destroy=function(){i.contentEl.innerHtml="",i.scrollEl.removeEventListener("scroll",n,!1)}}return r(t,[{key:"initDOM",value:function(t,e){void 0===this.clusterHeight&&(this.cache.scrollTop=this.scrollEl.scrollTop,this.cache.data=this.contentEl.innerHTML=t[0]+t[0]+t[0],this.getRowsHeight(t));var i=this.initData(t,this.getNum(e)),n=i.rows.join(""),o=this.checkChanges("data",n),a=this.checkChanges("top",i.topOffset),r=this.checkChanges("bottom",i.bottomOffset),s=[];o&&a?(i.topOffset&&s.push(this.getExtra("top",i.topOffset)),s.push(n),i.bottomOffset&&s.push(this.getExtra("bottom",i.bottomOffset)),this.startIndex=i.start,this.endIndex=i.end,this.contentEl.innerHTML=s.join(""),e&&(this.contentEl.scrollTop=this.cache.scrollTop)):r&&(this.contentEl.lastChild.style.height="".concat(i.bottomOffset,"px"))}},{key:"getRowsHeight",value:function(){if(void 0===this.itemHeight){var t=this.contentEl.children,e=t[Math.floor(t.length/2)];this.itemHeight=e.offsetHeight}this.blockHeight=50*this.itemHeight,this.clusterRows=200,this.clusterHeight=4*this.blockHeight}},{key:"getNum",value:function(t){return this.scrollTop=t?this.cache.scrollTop:this.scrollEl.scrollTop,Math.floor(this.scrollTop/(this.clusterHeight-this.blockHeight))||0}},{key:"initData",value:function(t,e){if(t.length<50)return{topOffset:0,bottomOffset:0,rowsAbove:0,rows:t};var i=Math.max((this.clusterRows-50)*e,0),n=i+this.clusterRows,o=Math.max(i*this.itemHeight,0),a=Math.max((t.length-n)*this.itemHeight,0),r=[],s=i;o<1&&s++;for(var l=i;l<n;l++)t[l]&&r.push(t[l]);return{start:i,end:n,topOffset:o,bottomOffset:a,rowsAbove:s,rows:r}}},{key:"checkChanges",value:function(t,e){var i=e!==this.cache[t];return this.cache[t]=e,i}},{key:"getExtra",value:function(t,e){var i=document.createElement("tr");return i.className="virtual-scroll-".concat(t),e&&(i.style.height="".concat(e,"px")),i.outerHTML}}]),t}(),mv=function(){function t(e,n){o(this,t),this.options=n,this.$el=i.default(e),this.$el_=this.$el.clone(),this.timeoutId_=0,this.timeoutFooter_=0}return r(t,[{key:"init",value:function(){this.initConstants(),this.initLocale(),this.initContainer(),this.initTable(),this.initHeader(),this.initData(),this.initHiddenRows(),this.initToolbar(),this.initPagination(),this.initBody(),this.initSearchText(),this.initServer()}},{key:"initConstants",value:function(){var t=this.options;this.constants=vv.CONSTANTS,this.constants.theme=i.default.fn.bootstrapTable.theme,this.constants.dataToggle=this.constants.html.dataToggle||"data-toggle";var e=hv.getIconsPrefix(i.default.fn.bootstrapTable.theme),o=hv.getIcons(e);"string"==typeof t.icons&&(t.icons=hv.calculateObjectValue(null,t.icons)),t.iconsPrefix=t.iconsPrefix||i.default.fn.bootstrapTable.defaults.iconsPrefix||e,t.icons=Object.assign(o,i.default.fn.bootstrapTable.defaults.icons,t.icons);var a=t.buttonsPrefix?"".concat(t.buttonsPrefix,"-"):"";this.constants.buttonsClass=[t.buttonsPrefix,a+t.buttonsClass,hv.sprintf("".concat(a,"%s"),t.iconSize)].join(" ").trim(),this.buttons=hv.calculateObjectValue(this,t.buttons,[],{}),"object"!==n(this.buttons)&&(this.buttons={})}},{key:"initLocale",value:function(){if(this.options.locale){var e=i.default.fn.bootstrapTable.locales,n=this.options.locale.split(/-|_/);n[0]=n[0].toLowerCase(),n[1]&&(n[1]=n[1].toUpperCase());var o={};e[this.options.locale]?o=e[this.options.locale]:e[n.join("-")]?o=e[n.join("-")]:e[n[0]]&&(o=e[n[0]]);for(var a=0,r=Object.entries(o);a<r.length;a++){var l=s(r[a],2),c=l[0],h=l[1];this.options[c]===t.DEFAULTS[c]&&(this.options[c]=h)}}}},{key:"initContainer",value:function(){var t=["top","both"].includes(this.options.paginationVAlign)?'<div class="fixed-table-pagination clearfix"></div>':"",e=["bottom","both"].includes(this.options.paginationVAlign)?'<div class="fixed-table-pagination"></div>':"",n=hv.calculateObjectValue(this.options,this.options.loadingTemplate,[this.options.formatLoadingMessage()]);this.$container=i.default('\n      <div class="bootstrap-table '.concat(this.constants.theme,'">\n      <div class="fixed-table-toolbar"></div>\n      ').concat(t,'\n      <div class="fixed-table-container">\n      <div class="fixed-table-header"><table></table></div>\n      <div class="fixed-table-body">\n      <div class="fixed-table-loading">\n      ').concat(n,'\n      </div>\n      </div>\n      <div class="fixed-table-footer"></div>\n      </div>\n      ').concat(e,"\n      </div>\n    ")),this.$container.insertAfter(this.$el),this.$tableContainer=this.$container.find(".fixed-table-container"),this.$tableHeader=this.$container.find(".fixed-table-header"),this.$tableBody=this.$container.find(".fixed-table-body"),this.$tableLoading=this.$container.find(".fixed-table-loading"),this.$tableFooter=this.$el.find("tfoot"),this.options.buttonsToolbar?this.$toolbar=i.default("body").find(this.options.buttonsToolbar):this.$toolbar=this.$container.find(".fixed-table-toolbar"),this.$pagination=this.$container.find(".fixed-table-pagination"),this.$tableBody.append(this.$el),this.$container.after('<div class="clearfix"></div>'),this.$el.addClass(this.options.classes),this.$tableLoading.addClass(this.options.classes),this.options.height&&(this.$tableContainer.addClass("fixed-height"),this.options.showFooter&&this.$tableContainer.addClass("has-footer"),this.options.classes.split(" ").includes("table-bordered")&&(this.$tableBody.append('<div class="fixed-table-border"></div>'),this.$tableBorder=this.$tableBody.find(".fixed-table-border"),this.$tableLoading.addClass("fixed-table-border")),this.$tableFooter=this.$container.find(".fixed-table-footer"))}},{key:"initTable",value:function(){var e=this,n=[];if(this.$header=this.$el.find(">thead"),this.$header.length?this.options.theadClasses&&this.$header.addClass(this.options.theadClasses):this.$header=i.default('<thead class="'.concat(this.options.theadClasses,'"></thead>')).appendTo(this.$el),this._headerTrClasses=[],this._headerTrStyles=[],this.$header.find("tr").each((function(t,o){var a=i.default(o),r=[];a.find("th").each((function(t,e){var n=i.default(e);void 0!==n.data("field")&&n.data("field","".concat(n.data("field"))),r.push(i.default.extend({},{title:n.html(),class:n.attr("class"),titleTooltip:n.attr("title"),rowspan:n.attr("rowspan")?+n.attr("rowspan"):void 0,colspan:n.attr("colspan")?+n.attr("colspan"):void 0},n.data()))})),n.push(r),a.attr("class")&&e._headerTrClasses.push(a.attr("class")),a.attr("style")&&e._headerTrStyles.push(a.attr("style"))})),Array.isArray(this.options.columns[0])||(this.options.columns=[this.options.columns]),this.options.columns=i.default.extend(!0,[],n,this.options.columns),this.columns=[],this.fieldsColumnsIndex=[],hv.setFieldIndex(this.options.columns),this.options.columns.forEach((function(n,o){n.forEach((function(n,a){var r=i.default.extend({},t.COLUMN_DEFAULTS,n,{passed:n});void 0!==r.fieldIndex&&(e.columns[r.fieldIndex]=r,e.fieldsColumnsIndex[r.field]=r.fieldIndex),e.options.columns[o][a]=r}))})),!this.options.data.length){var o=hv.trToData(this.columns,this.$el.find(">tbody>tr"));o.length&&(this.options.data=o,this.fromHtml=!0)}this.options.pagination&&"server"!==this.options.sidePagination||(this.footerData=hv.trToData(this.columns,this.$el.find(">tfoot>tr"))),this.footerData&&this.$el.find("tfoot").html("<tr></tr>"),!this.options.showFooter||this.options.cardView?this.$tableFooter.hide():this.$tableFooter.show()}},{key:"initHeader",value:function(){var t=this,e={},n=[];this.header={fields:[],styles:[],classes:[],formatters:[],detailFormatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]},hv.updateFieldGroup(this.options.columns,this.columns),this.options.columns.forEach((function(i,o){var a=[];a.push("<tr".concat(hv.sprintf(' class="%s"',t._headerTrClasses[o])," ").concat(hv.sprintf(' style="%s"',t._headerTrStyles[o]),">"));var r="";if(0===o&&hv.hasDetailViewIcon(t.options)){var l=t.options.columns.length>1?' rowspan="'.concat(t.options.columns.length,'"'):"";r='<th class="detail"'.concat(l,'>\n          <div class="fht-cell"></div>\n          </th>')}r&&"right"!==t.options.detailViewAlign&&a.push(r),i.forEach((function(i,n){var r=hv.sprintf(' class="%s"',i.class),l=i.widthUnit,c=parseFloat(i.width),h=i.halign?i.halign:i.align,u=hv.sprintf("text-align: %s; ",h),d=hv.sprintf("text-align: %s; ",i.align),f=hv.sprintf("vertical-align: %s; ",i.valign);if(f+=hv.sprintf("width: %s; ",!i.checkbox&&!i.radio||c?c?c+l:void 0:i.showSelectTitle?void 0:"36px"),void 0!==i.fieldIndex||i.visible){var p=hv.calculateObjectValue(null,t.options.headerStyle,[i]),g=[],v="";if(p&&p.css)for(var b=0,m=Object.entries(p.css);b<m.length;b++){var y=s(m[b],2),w=y[0],S=y[1];g.push("".concat(w,": ").concat(S))}if(p&&p.classes&&(v=hv.sprintf(' class="%s"',i.class?[i.class,p.classes].join(" "):p.classes)),void 0!==i.fieldIndex){if(t.header.fields[i.fieldIndex]=i.field,t.header.styles[i.fieldIndex]=d+f,t.header.classes[i.fieldIndex]=r,t.header.formatters[i.fieldIndex]=i.formatter,t.header.detailFormatters[i.fieldIndex]=i.detailFormatter,t.header.events[i.fieldIndex]=i.events,t.header.sorters[i.fieldIndex]=i.sorter,t.header.sortNames[i.fieldIndex]=i.sortName,t.header.cellStyles[i.fieldIndex]=i.cellStyle,t.header.searchables[i.fieldIndex]=i.searchable,!i.visible)return;if(t.options.cardView&&!i.cardVisible)return;e[i.field]=i}a.push("<th".concat(hv.sprintf(' title="%s"',i.titleTooltip)),i.checkbox||i.radio?hv.sprintf(' class="bs-checkbox %s"',i.class||""):v||r,hv.sprintf(' style="%s"',u+f+g.join("; ")),hv.sprintf(' rowspan="%s"',i.rowspan),hv.sprintf(' colspan="%s"',i.colspan),hv.sprintf(' data-field="%s"',i.field),0===n&&o>0?" data-not-first-th":"",">"),a.push(hv.sprintf('<div class="th-inner %s">',t.options.sortable&&i.sortable?"sortable".concat("center"===h?" sortable-center":""," both"):""));var x=t.options.escape?hv.escapeHTML(i.title):i.title,k=x;i.checkbox&&(x="",!t.options.singleSelect&&t.options.checkboxHeader&&(x='<label><input name="btSelectAll" type="checkbox" /><span></span></label>'),t.header.stateField=i.field),i.radio&&(x="",t.header.stateField=i.field),!x&&i.showSelectTitle&&(x+=k),a.push(x),a.push("</div>"),a.push('<div class="fht-cell"></div>'),a.push("</div>"),a.push("</th>")}})),r&&"right"===t.options.detailViewAlign&&a.push(r),a.push("</tr>"),a.length>3&&n.push(a.join(""))})),this.$header.html(n.join("")),this.$header.find("th[data-field]").each((function(t,n){i.default(n).data(e[i.default(n).data("field")])})),this.$container.off("click",".th-inner").on("click",".th-inner",(function(e){var n=i.default(e.currentTarget);if(t.options.detailView&&!n.parent().hasClass("bs-checkbox")&&n.closest(".bootstrap-table")[0]!==t.$container[0])return!1;t.options.sortable&&n.parent().data().sortable&&t.onSort(e)}));var o=hv.getEventName("resize.bootstrap-table",this.$el.attr("id"));i.default(window).off(o),!this.options.showHeader||this.options.cardView?(this.$header.hide(),this.$tableHeader.hide(),this.$tableLoading.css("top",0)):(this.$header.show(),this.$tableHeader.show(),this.$tableLoading.css("top",this.$header.outerHeight()+1),this.getCaret(),i.default(window).on(o,(function(){return t.resetView()}))),this.$selectAll=this.$header.find('[name="btSelectAll"]'),this.$selectAll.off("click").on("click",(function(e){e.stopPropagation();var n=i.default(e.currentTarget).prop("checked");t[n?"checkAll":"uncheckAll"](),t.updateSelected()}))}},{key:"initData",value:function(t,e){"append"===e?this.options.data=this.options.data.concat(t):"prepend"===e?this.options.data=[].concat(t).concat(this.options.data):(t=t||hv.deepCopy(this.options.data),this.options.data=Array.isArray(t)?t:t[this.options.dataField]),this.data=l(this.options.data),this.options.sortReset&&(this.unsortedData=l(this.data)),"server"!==this.options.sidePagination&&this.initSort()}},{key:"initSort",value:function(){var t=this,e=this.options.sortName,i="desc"===this.options.sortOrder?-1:1,n=this.header.fields.indexOf(this.options.sortName),o=0;-1!==n?(this.options.sortStable&&this.data.forEach((function(t,e){t.hasOwnProperty("_position")||(t._position=e)})),this.options.customSort?hv.calculateObjectValue(this.options,this.options.customSort,[this.options.sortName,this.options.sortOrder,this.data]):this.data.sort((function(o,a){t.header.sortNames[n]&&(e=t.header.sortNames[n]);var r=hv.getItemField(o,e,t.options.escape),s=hv.getItemField(a,e,t.options.escape),l=hv.calculateObjectValue(t.header,t.header.sorters[n],[r,s,o,a]);return void 0!==l?t.options.sortStable&&0===l?i*(o._position-a._position):i*l:hv.sort(r,s,i,t.options,o._position,a._position)})),void 0!==this.options.sortClass&&(clearTimeout(o),o=setTimeout((function(){t.$el.removeClass(t.options.sortClass);var e=t.$header.find('[data-field="'.concat(t.options.sortName,'"]')).index();t.$el.find("tr td:nth-child(".concat(e+1,")")).addClass(t.options.sortClass)}),250))):this.options.sortReset&&(this.data=l(this.unsortedData))}},{key:"onSort",value:function(t){var e=t.type,n=t.currentTarget,o="keypress"===e?i.default(n):i.default(n).parent(),a=this.$header.find("th").eq(o.index());if(this.$header.add(this.$header_).find("span.order").remove(),this.options.sortName===o.data("field")){var r=this.options.sortOrder,s=this.columns[this.fieldsColumnsIndex[o.data("field")]].sortOrder||this.columns[this.fieldsColumnsIndex[o.data("field")]].order;void 0===r?this.options.sortOrder="asc":"asc"===r?this.options.sortOrder=this.options.sortReset?"asc"===s?"desc":void 0:"desc":"desc"===this.options.sortOrder&&(this.options.sortOrder=this.options.sortReset?"desc"===s?"asc":void 0:"asc"),void 0===this.options.sortOrder&&(this.options.sortName=void 0)}else this.options.sortName=o.data("field"),this.options.rememberOrder?this.options.sortOrder="asc"===o.data("order")?"desc":"asc":this.options.sortOrder=this.columns[this.fieldsColumnsIndex[o.data("field")]].sortOrder||this.columns[this.fieldsColumnsIndex[o.data("field")]].order;if(this.trigger("sort",this.options.sortName,this.options.sortOrder),o.add(a).data("order",this.options.sortOrder),this.getCaret(),"server"===this.options.sidePagination&&this.options.serverSort)return this.options.pageNumber=1,void this.initServer(this.options.silentSort);this.options.pagination&&this.options.sortResetPage&&(this.options.pageNumber=1,this.initPagination()),this.initSort(),this.initBody()}},{key:"initToolbar",value:function(){var t,e=this,o=this.options,a=[],r=0,l=0;this.$toolbar.find(".bs-bars").children().length&&i.default("body").append(i.default(o.toolbar)),this.$toolbar.html(""),"string"!=typeof o.toolbar&&"object"!==n(o.toolbar)||i.default(hv.sprintf('<div class="bs-bars %s-%s"></div>',this.constants.classes.pull,o.toolbarAlign)).appendTo(this.$toolbar).append(i.default(o.toolbar)),a=['<div class="'.concat(["columns","columns-".concat(o.buttonsAlign),this.constants.classes.buttonsGroup,"".concat(this.constants.classes.pull,"-").concat(o.buttonsAlign)].join(" "),'">')],"string"==typeof o.buttonsOrder&&(o.buttonsOrder=o.buttonsOrder.replace(/\[|\]| |'/g,"").split(",")),this.buttons=Object.assign(this.buttons,{paginationSwitch:{text:o.pagination?o.formatPaginationSwitchUp():o.formatPaginationSwitchDown(),icon:o.pagination?o.icons.paginationSwitchDown:o.icons.paginationSwitchUp,render:!1,event:this.togglePagination,attributes:{"aria-label":o.formatPaginationSwitch(),title:o.formatPaginationSwitch()}},refresh:{text:o.formatRefresh(),icon:o.icons.refresh,render:!1,event:this.refresh,attributes:{"aria-label":o.formatRefresh(),title:o.formatRefresh()}},toggle:{text:o.formatToggleOn(),icon:o.icons.toggleOff,render:!1,event:this.toggleView,attributes:{"aria-label":o.formatToggleOn(),title:o.formatToggleOn()}},fullscreen:{text:o.formatFullscreen(),icon:o.icons.fullscreen,render:!1,event:this.toggleFullscreen,attributes:{"aria-label":o.formatFullscreen(),title:o.formatFullscreen()}},columns:{render:!1,html:function(){var t=[];if(t.push('<div class="keep-open '.concat(e.constants.classes.buttonsDropdown,'" title="').concat(o.formatColumns(),'">\n            <button class="').concat(e.constants.buttonsClass,' dropdown-toggle" type="button" ').concat(e.constants.dataToggle,'="dropdown"\n            aria-label="').concat(o.formatColumns(),'" title="').concat(o.formatColumns(),'">\n            ').concat(o.showButtonIcons?hv.sprintf(e.constants.html.icon,o.iconsPrefix,o.icons.columns):"","\n            ").concat(o.showButtonText?o.formatColumns():"","\n            ").concat(e.constants.html.dropdownCaret,"\n            </button>\n            ").concat(e.constants.html.toolbarDropdown[0])),o.showColumnsSearch&&(t.push(hv.sprintf(e.constants.html.toolbarDropdownItem,hv.sprintf('<input type="text" class="%s" name="columnsSearch" placeholder="%s" autocomplete="off">',e.constants.classes.input,o.formatSearch()))),t.push(e.constants.html.toolbarDropdownSeparator)),o.showColumnsToggleAll){var i=e.getVisibleColumns().length===e.columns.filter((function(t){return!e.isSelectionColumn(t)})).length;t.push(hv.sprintf(e.constants.html.toolbarDropdownItem,hv.sprintf('<input type="checkbox" class="toggle-all" %s> <span>%s</span>',i?'checked="checked"':"",o.formatColumnsToggleAll()))),t.push(e.constants.html.toolbarDropdownSeparator)}var n=0;return e.columns.forEach((function(t){t.visible&&n++})),e.columns.forEach((function(i,a){if(!e.isSelectionColumn(i)&&(!o.cardView||i.cardVisible)){var r=i.visible?' checked="checked"':"",s=n<=o.minimumCountColumns&&r?' disabled="disabled"':"";i.switchable&&(t.push(hv.sprintf(e.constants.html.toolbarDropdownItem,hv.sprintf('<input type="checkbox" data-field="%s" value="%s"%s%s> <span>%s</span>',i.field,a,r,s,i.title))),l++)}})),t.push(e.constants.html.toolbarDropdown[1],"</div>"),t.join("")}}});for(var c={},h=0,d=Object.entries(this.buttons);h<d.length;h++){var f=s(d[h],2),p=f[0],g=f[1],v=void 0;if(g.hasOwnProperty("html"))"function"==typeof g.html?v=g.html():"string"==typeof g.html&&(v=g.html);else{if(v='<button class="'.concat(this.constants.buttonsClass,'" type="button" name="').concat(p,'"'),g.hasOwnProperty("attributes"))for(var b=0,m=Object.entries(g.attributes);b<m.length;b++){var y=s(m[b],2),w=y[0],S=y[1];v+=" ".concat(w,'="').concat(S,'"')}v+=">",o.showButtonIcons&&g.hasOwnProperty("icon")&&(v+="".concat(hv.sprintf(this.constants.html.icon,o.iconsPrefix,g.icon)," ")),o.showButtonText&&g.hasOwnProperty("text")&&(v+=g.text),v+="</button>"}c[p]=v;var x="show".concat(p.charAt(0).toUpperCase()).concat(p.substring(1)),k=o[x];!(!g.hasOwnProperty("render")||g.hasOwnProperty("render")&&g.render)||void 0!==k&&!0!==k||(o[x]=!0),o.buttonsOrder.includes(p)||o.buttonsOrder.push(p)}var O,C=u(o.buttonsOrder);try{for(C.s();!(O=C.n()).done;){var T=O.value;o["show".concat(T.charAt(0).toUpperCase()).concat(T.substring(1))]&&a.push(c[T])}}catch(t){C.e(t)}finally{C.f()}a.push("</div>"),(this.showToolbar||a.length>2)&&this.$toolbar.append(a.join(""));for(var I=0,P=Object.entries(this.buttons);I<P.length;I++){var A=s(P[I],2),$=A[0],R=A[1];if(R.hasOwnProperty("event")){if("function"==typeof R.event||"string"==typeof R.event)if("continue"===function(){var t="string"==typeof R.event?window[R.event]:R.event;return e.$toolbar.find('button[name="'.concat($,'"]')).off("click").on("click",(function(){return t.call(e)})),"continue"}())continue;for(var E=function(){var t=s(F[j],2),i=t[0],n=t[1],o="string"==typeof n?window[n]:n;e.$toolbar.find('button[name="'.concat($,'"]')).off(i).on(i,(function(){return o.call(e)}))},j=0,F=Object.entries(R.event);j<F.length;j++)E()}}if(o.showColumns){var _=(t=this.$toolbar.find(".keep-open")).find('input[type="checkbox"]:not(".toggle-all")'),D=t.find('input[type="checkbox"].toggle-all');if(l<=o.minimumCountColumns&&t.find("input").prop("disabled",!0),t.find("li, label").off("click").on("click",(function(t){t.stopImmediatePropagation()})),_.off("click").on("click",(function(t){var n=t.currentTarget,o=i.default(n);e._toggleColumn(o.val(),o.prop("checked"),!1),e.trigger("column-switch",o.data("field"),o.prop("checked")),D.prop("checked",_.filter(":checked").length===e.columns.filter((function(t){return!e.isSelectionColumn(t)})).length)})),D.off("click").on("click",(function(t){var n=t.currentTarget;e._toggleAllColumns(i.default(n).prop("checked")),e.trigger("column-switch-all",i.default(n).prop("checked"))})),o.showColumnsSearch){var N=t.find('[name="columnsSearch"]'),V=t.find(".dropdown-item-marker");N.on("keyup paste change",(function(t){var e=t.currentTarget,n=i.default(e).val().toLowerCase();V.show(),_.each((function(t,e){var o=i.default(e).parents(".dropdown-item-marker");o.text().toLowerCase().includes(n)||o.hide()}))}))}}var B=function(t){var i="keyup drop blur mouseup";t.off(i).on(i,(function(t){o.searchOnEnterKey&&13!==t.keyCode||[37,38,39,40].includes(t.keyCode)||(clearTimeout(r),r=setTimeout((function(){e.onSearch({currentTarget:t.currentTarget})}),o.searchTimeOut))}))};if((o.search||this.showSearchClearButton)&&"string"!=typeof o.searchSelector){a=[];var L=hv.sprintf(this.constants.html.searchButton,this.constants.buttonsClass,o.formatSearch(),o.showButtonIcons?hv.sprintf(this.constants.html.icon,o.iconsPrefix,o.icons.search):"",o.showButtonText?o.formatSearch():""),H=hv.sprintf(this.constants.html.searchClearButton,this.constants.buttonsClass,o.formatClearSearch(),o.showButtonIcons?hv.sprintf(this.constants.html.icon,o.iconsPrefix,o.icons.clearSearch):"",o.showButtonText?o.formatClearSearch():""),M='<input class="'.concat(this.constants.classes.input,"\n        ").concat(hv.sprintf(" %s%s",this.constants.classes.inputPrefix,o.iconSize),'\n        search-input" type="search" placeholder="').concat(o.formatSearch(),'" autocomplete="off">'),U=M;if(o.showSearchButton||o.showSearchClearButton){var z=(o.showSearchButton?L:"")+(o.showSearchClearButton?H:"");U=o.search?hv.sprintf(this.constants.html.inputGroup,M,z):z}a.push(hv.sprintf('\n        <div class="'.concat(this.constants.classes.pull,"-").concat(o.searchAlign," search ").concat(this.constants.classes.inputGroup,'">\n          %s\n        </div>\n      '),U)),this.$toolbar.append(a.join(""));var q=hv.getSearchInput(this);o.showSearchButton?(this.$toolbar.find(".search button[name=search]").off("click").on("click",(function(){clearTimeout(r),r=setTimeout((function(){e.onSearch({currentTarget:q})}),o.searchTimeOut)})),o.searchOnEnterKey&&B(q)):B(q),o.showSearchClearButton&&this.$toolbar.find(".search button[name=clearSearch]").click((function(){e.resetSearch()}))}else if("string"==typeof o.searchSelector){B(hv.getSearchInput(this))}}},{key:"onSearch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.currentTarget,n=t.firedByInitSearchText,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0!==e&&i.default(e).length&&o){var a=i.default(e).val().trim();if(this.options.trimOnSearch&&i.default(e).val()!==a&&i.default(e).val(a),this.searchText===a)return;var r=hv.getSearchInput(this),s=e instanceof jQuery?e:i.default(e);(s.is(r)||s.hasClass("search-input"))&&(this.searchText=a,this.options.searchText=a)}n||this.options.cookie||(this.options.pageNumber=1),this.initSearch(),n?"client"===this.options.sidePagination&&this.updatePagination():this.updatePagination(),this.trigger("search",this.searchText)}},{key:"initSearch",value:function(){var t=this;if(this.filterOptions=this.filterOptions||this.options.filterOptions,"server"!==this.options.sidePagination){if(this.options.customSearch)return this.data=hv.calculateObjectValue(this.options,this.options.customSearch,[this.options.data,this.searchText,this.filterColumns]),this.options.sortReset&&(this.unsortedData=l(this.data)),void this.initSort();var e=this.searchText&&(this.fromHtml?hv.escapeHTML(this.searchText):this.searchText),i=e?e.toLowerCase():"",n=hv.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.options.searchAccentNeutralise&&(i=hv.normalizeAccent(i)),"function"==typeof this.filterOptions.filterAlgorithm?this.data=this.options.data.filter((function(e){return t.filterOptions.filterAlgorithm.apply(null,[e,n])})):"string"==typeof this.filterOptions.filterAlgorithm&&(this.data=n?this.options.data.filter((function(e){var i=t.filterOptions.filterAlgorithm;if("and"===i){for(var o in n)if(Array.isArray(n[o])&&!n[o].includes(e[o])||!Array.isArray(n[o])&&e[o]!==n[o])return!1}else if("or"===i){var a=!1;for(var r in n)(Array.isArray(n[r])&&n[r].includes(e[r])||!Array.isArray(n[r])&&e[r]===n[r])&&(a=!0);return a}return!0})):l(this.options.data));var o=this.getVisibleFields();this.data=i?this.data.filter((function(n,a){for(var r=0;r<t.header.fields.length;r++)if(t.header.searchables[r]&&(!t.options.visibleSearch||-1!==o.indexOf(t.header.fields[r]))){var s=hv.isNumeric(t.header.fields[r])?parseInt(t.header.fields[r],10):t.header.fields[r],l=t.columns[t.fieldsColumnsIndex[s]],c=void 0;if("string"==typeof s){c=n;for(var h=s.split("."),u=0;u<h.length;u++){if(null===c[h[u]]){c=null;break}c=c[h[u]]}}else c=n[s];if(t.options.searchAccentNeutralise&&(c=hv.normalizeAccent(c)),l&&l.searchFormatter&&(c=hv.calculateObjectValue(l,t.header.formatters[r],[c,n,a,l.field],c)),"string"==typeof c||"number"==typeof c){if(t.options.strictSearch&&"".concat(c).toLowerCase()===i||t.options.regexSearch&&hv.regexCompare(c,e))return!0;var d=/(?:(<=|=>|=<|>=|>|<)(?:\s+)?(-?\d+)?|(-?\d+)?(\s+)?(<=|=>|=<|>=|>|<))/gm.exec(t.searchText),f=!1;if(d){var p=d[1]||"".concat(d[5],"l"),g=d[2]||d[3],v=parseInt(c,10),b=parseInt(g,10);switch(p){case">":case"<l":f=v>b;break;case"<":case">l":f=v<b;break;case"<=":case"=<":case">=l":case"=>l":f=v<=b;break;case">=":case"=>":case"<=l":case"=<l":f=v>=b}}if(f||"".concat(c).toLowerCase().includes(i))return!0}}return!1})):this.data,this.options.sortReset&&(this.unsortedData=l(this.data)),this.initSort()}}},{key:"initPagination",value:function(){var t=this,e=this.options;if(e.pagination){this.$pagination.show();var i,n,o,a,r,s,l,c=[],h=!1,u=this.getData({includeHiddenRows:!1}),d=e.pageList;if("string"==typeof d&&(d=d.replace(/\[|\]| /g,"").toLowerCase().split(",")),d=d.map((function(t){return"string"==typeof t?t.toLowerCase()===e.formatAllRows().toLowerCase()||["all","unlimited"].includes(t.toLowerCase())?e.formatAllRows():+t:t})),this.paginationParts=e.paginationParts,"string"==typeof this.paginationParts&&(this.paginationParts=this.paginationParts.replace(/\[|\]| |'/g,"").split(",")),"server"!==e.sidePagination&&(e.totalRows=u.length),this.totalPages=0,e.totalRows&&(e.pageSize===e.formatAllRows()&&(e.pageSize=e.totalRows,h=!0),this.totalPages=1+~~((e.totalRows-1)/e.pageSize),e.totalPages=this.totalPages),this.totalPages>0&&e.pageNumber>this.totalPages&&(e.pageNumber=this.totalPages),this.pageFrom=(e.pageNumber-1)*e.pageSize+1,this.pageTo=e.pageNumber*e.pageSize,this.pageTo>e.totalRows&&(this.pageTo=e.totalRows),this.options.pagination&&"server"!==this.options.sidePagination&&(this.options.totalNotFiltered=this.options.data.length),this.options.showExtendedPagination||(this.options.totalNotFiltered=void 0),(this.paginationParts.includes("pageInfo")||this.paginationParts.includes("pageInfoShort")||this.paginationParts.includes("pageSize"))&&c.push('<div class="'.concat(this.constants.classes.pull,"-").concat(e.paginationDetailHAlign,' pagination-detail">')),this.paginationParts.includes("pageInfo")||this.paginationParts.includes("pageInfoShort")){var f=this.paginationParts.includes("pageInfoShort")?e.formatDetailPagination(e.totalRows):e.formatShowingRows(this.pageFrom,this.pageTo,e.totalRows,e.totalNotFiltered);c.push('<span class="pagination-info">\n      '.concat(f,"\n      </span>"))}if(this.paginationParts.includes("pageSize")){c.push('<div class="page-list">');var p=['<div class="'.concat(this.constants.classes.paginationDropdown,'">\n        <button class="').concat(this.constants.buttonsClass,' dropdown-toggle" type="button" ').concat(this.constants.dataToggle,'="dropdown">\n        <span class="page-size">\n        ').concat(h?e.formatAllRows():e.pageSize,"\n        </span>\n        ").concat(this.constants.html.dropdownCaret,"\n        </button>\n        ").concat(this.constants.html.pageDropdown[0])];d.forEach((function(i,n){var o;(!e.smartDisplay||0===n||d[n-1]<e.totalRows||i===e.formatAllRows())&&(o=h?i===e.formatAllRows()?t.constants.classes.dropdownActive:"":i===e.pageSize?t.constants.classes.dropdownActive:"",p.push(hv.sprintf(t.constants.html.pageDropdownItem,o,i)))})),p.push("".concat(this.constants.html.pageDropdown[1],"</div>")),c.push(e.formatRecordsPerPage(p.join("")))}if((this.paginationParts.includes("pageInfo")||this.paginationParts.includes("pageInfoShort")||this.paginationParts.includes("pageSize"))&&c.push("</div></div>"),this.paginationParts.includes("pageList")){c.push('<div class="'.concat(this.constants.classes.pull,"-").concat(e.paginationHAlign,' pagination">'),hv.sprintf(this.constants.html.pagination[0],hv.sprintf(" pagination-%s",e.iconSize)),hv.sprintf(this.constants.html.paginationItem," page-pre",e.formatSRPaginationPreText(),e.paginationPreText)),this.totalPages<e.paginationSuccessivelySize?(n=1,o=this.totalPages):o=(n=e.pageNumber-e.paginationPagesBySide)+2*e.paginationPagesBySide,e.pageNumber<e.paginationSuccessivelySize-1&&(o=e.paginationSuccessivelySize),e.paginationSuccessivelySize>this.totalPages-n&&(n=n-(e.paginationSuccessivelySize-(this.totalPages-n))+1),n<1&&(n=1),o>this.totalPages&&(o=this.totalPages);var g=Math.round(e.paginationPagesBySide/2),v=function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return hv.sprintf(t.constants.html.paginationItem,n+(i===e.pageNumber?" ".concat(t.constants.classes.paginationActive):""),e.formatSRPaginationPageText(i),i)};if(n>1){var b=e.paginationPagesBySide;for(b>=n&&(b=n-1),i=1;i<=b;i++)c.push(v(i));n-1===b+1?(i=n-1,c.push(v(i))):n-1>b&&(n-2*e.paginationPagesBySide>e.paginationPagesBySide&&e.paginationUseIntermediate?(i=Math.round((n-g)/2+g),c.push(v(i," page-intermediate"))):c.push(hv.sprintf(this.constants.html.paginationItem," page-first-separator disabled","","...")))}for(i=n;i<=o;i++)c.push(v(i));if(this.totalPages>o){var m=this.totalPages-(e.paginationPagesBySide-1);for(o>=m&&(m=o+1),o+1===m-1?(i=o+1,c.push(v(i))):m>o+1&&(this.totalPages-o>2*e.paginationPagesBySide&&e.paginationUseIntermediate?(i=Math.round((this.totalPages-g-o)/2+o),c.push(v(i," page-intermediate"))):c.push(hv.sprintf(this.constants.html.paginationItem," page-last-separator disabled","","..."))),i=m;i<=this.totalPages;i++)c.push(v(i))}c.push(hv.sprintf(this.constants.html.paginationItem," page-next",e.formatSRPaginationNextText(),e.paginationNextText)),c.push(this.constants.html.pagination[1],"</div>")}this.$pagination.html(c.join(""));var y=["bottom","both"].includes(e.paginationVAlign)?" ".concat(this.constants.classes.dropup):"";this.$pagination.last().find(".page-list > div").addClass(y),e.onlyInfoPagination||(a=this.$pagination.find(".page-list a"),r=this.$pagination.find(".page-pre"),s=this.$pagination.find(".page-next"),l=this.$pagination.find(".page-item").not(".page-next, .page-pre, .page-last-separator, .page-first-separator"),this.totalPages<=1&&this.$pagination.find("div.pagination").hide(),e.smartDisplay&&(d.length<2||e.totalRows<=d[0])&&this.$pagination.find("div.page-list").hide(),this.$pagination[this.getData().length?"show":"hide"](),e.paginationLoop||(1===e.pageNumber&&r.addClass("disabled"),e.pageNumber===this.totalPages&&s.addClass("disabled")),h&&(e.pageSize=e.formatAllRows()),a.off("click").on("click",(function(e){return t.onPageListChange(e)})),r.off("click").on("click",(function(e){return t.onPagePre(e)})),s.off("click").on("click",(function(e){return t.onPageNext(e)})),l.off("click").on("click",(function(e){return t.onPageNumber(e)})))}else this.$pagination.hide()}},{key:"updatePagination",value:function(t){t&&i.default(t.currentTarget).hasClass("disabled")||(this.options.maintainMetaData||this.resetRows(),this.initPagination(),this.trigger("page-change",this.options.pageNumber,this.options.pageSize),"server"===this.options.sidePagination?this.initServer():this.initBody())}},{key:"onPageListChange",value:function(t){t.preventDefault();var e=i.default(t.currentTarget);return e.parent().addClass(this.constants.classes.dropdownActive).siblings().removeClass(this.constants.classes.dropdownActive),this.options.pageSize=e.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+e.text(),this.$toolbar.find(".page-size").text(this.options.pageSize),this.updatePagination(t),!1}},{key:"onPagePre",value:function(t){if(!i.default(t.target).hasClass("disabled"))return t.preventDefault(),this.options.pageNumber-1==0?this.options.pageNumber=this.options.totalPages:this.options.pageNumber--,this.updatePagination(t),!1}},{key:"onPageNext",value:function(t){if(!i.default(t.target).hasClass("disabled"))return t.preventDefault(),this.options.pageNumber+1>this.options.totalPages?this.options.pageNumber=1:this.options.pageNumber++,this.updatePagination(t),!1}},{key:"onPageNumber",value:function(t){if(t.preventDefault(),this.options.pageNumber!==+i.default(t.currentTarget).text())return this.options.pageNumber=+i.default(t.currentTarget).text(),this.updatePagination(t),!1}},{key:"initRow",value:function(t,e,i,o){var a=this,r=[],l={},c=[],h="",u={},d=[];if(!(hv.findIndex(this.hiddenRows,t)>-1)){if((l=hv.calculateObjectValue(this.options,this.options.rowStyle,[t,e],l))&&l.css)for(var f=0,p=Object.entries(l.css);f<p.length;f++){var g=s(p[f],2),v=g[0],b=g[1];c.push("".concat(v,": ").concat(b))}if(u=hv.calculateObjectValue(this.options,this.options.rowAttributes,[t,e],u))for(var m=0,y=Object.entries(u);m<y.length;m++){var w=s(y[m],2),S=w[0],x=w[1];d.push("".concat(S,'="').concat(hv.escapeHTML(x),'"'))}if(t._data&&!hv.isEmptyObject(t._data))for(var k=0,O=Object.entries(t._data);k<O.length;k++){var C=s(O[k],2),T=C[0],I=C[1];if("index"===T)return;h+=" data-".concat(T,"='").concat("object"===n(I)?JSON.stringify(I):I,"'")}r.push("<tr",hv.sprintf(" %s",d.length?d.join(" "):void 0),hv.sprintf(' id="%s"',Array.isArray(t)?void 0:t._id),hv.sprintf(' class="%s"',l.classes||(Array.isArray(t)?void 0:t._class)),hv.sprintf(' style="%s"',Array.isArray(t)?void 0:t._style),' data-index="'.concat(e,'"'),hv.sprintf(' data-uniqueid="%s"',hv.getItemField(t,this.options.uniqueId,!1)),hv.sprintf(' data-has-detail-view="%s"',this.options.detailView&&hv.calculateObjectValue(null,this.options.detailFilter,[e,t])?"true":void 0),hv.sprintf("%s",h),">"),this.options.cardView&&r.push('<td colspan="'.concat(this.header.fields.length,'"><div class="card-views">'));var P="";return hv.hasDetailViewIcon(this.options)&&(P="<td>",hv.calculateObjectValue(null,this.options.detailFilter,[e,t])&&(P+='\n          <a class="detail-icon" href="#">\n          '.concat(hv.sprintf(this.constants.html.icon,this.options.iconsPrefix,this.options.icons.detailOpen),"\n          </a>\n        ")),P+="</td>"),P&&"right"!==this.options.detailViewAlign&&r.push(P),this.header.fields.forEach((function(i,n){var o=a.columns[n],l="",h=hv.getItemField(t,i,a.options.escape,o.escape),u="",d="",f={},p="",g=a.header.classes[n],v="",b="",m="",y="",w="",S="";if((!a.fromHtml&&!a.autoMergeCells||void 0!==h||o.checkbox||o.radio)&&o.visible&&(!a.options.cardView||o.cardVisible)){if(c.concat([a.header.styles[n]]).length&&(b+="".concat(c.concat([a.header.styles[n]]).join("; "))),t["_".concat(i,"_style")]&&(b+="".concat(t["_".concat(i,"_style")])),b&&(v=' style="'.concat(b,'"')),t["_".concat(i,"_id")]&&(p=hv.sprintf(' id="%s"',t["_".concat(i,"_id")])),t["_".concat(i,"_class")]&&(g=hv.sprintf(' class="%s"',t["_".concat(i,"_class")])),t["_".concat(i,"_rowspan")]&&(y=hv.sprintf(' rowspan="%s"',t["_".concat(i,"_rowspan")])),t["_".concat(i,"_colspan")]&&(w=hv.sprintf(' colspan="%s"',t["_".concat(i,"_colspan")])),t["_".concat(i,"_title")]&&(S=hv.sprintf(' title="%s"',t["_".concat(i,"_title")])),(f=hv.calculateObjectValue(a.header,a.header.cellStyles[n],[h,t,e,i],f)).classes&&(g=' class="'.concat(f.classes,'"')),f.css){for(var x=[],k=0,O=Object.entries(f.css);k<O.length;k++){var C=s(O[k],2),T=C[0],I=C[1];x.push("".concat(T,": ").concat(I))}v=' style="'.concat(x.concat(a.header.styles[n]).join("; "),'"')}if(u=hv.calculateObjectValue(o,a.header.formatters[n],[h,t,e,i],h),o.checkbox||o.radio||(u=null==u?a.options.undefinedText:u),o.searchable&&a.searchText&&a.options.searchHighlight&&!o.checkbox&&!o.radio){var P="",A=a.searchText.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(a.options.searchAccentNeutralise){var $=new RegExp("".concat(hv.normalizeAccent(A)),"gmi").exec(hv.normalizeAccent(u));$&&(A=u.substring($.index,$.index+A.length))}var R=new RegExp("(".concat(A,")"),"gim"),E="<mark>$1</mark>";if(u&&/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i.test(u)){var j=(new DOMParser).parseFromString(u.toString(),"text/html").documentElement.textContent,F=j.replace(R,E);j=j.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),P=u.replace(new RegExp("(>\\s*)(".concat(j,")(\\s*)"),"gm"),"$1".concat(F,"$3"))}else P=u.toString().replace(R,E);u=hv.calculateObjectValue(o,o.searchHighlightFormatter,[u,a.searchText],P)}if(t["_".concat(i,"_data")]&&!hv.isEmptyObject(t["_".concat(i,"_data")]))for(var _=0,D=Object.entries(t["_".concat(i,"_data")]);_<D.length;_++){var N=s(D[_],2),V=N[0],B=N[1];if("index"===V)return;m+=" data-".concat(V,'="').concat(B,'"')}if(o.checkbox||o.radio){d=o.checkbox?"checkbox":d,d=o.radio?"radio":d;var L=o.class||"",H=hv.isObject(u)&&u.hasOwnProperty("checked")?u.checked:(!0===u||h)&&!1!==u,M=!o.checkboxEnabled||u&&u.disabled;l=[a.options.cardView?'<div class="card-view '.concat(L,'">'):'<td class="bs-checkbox '.concat(L,'"').concat(g).concat(v,">"),'<label>\n            <input\n            data-index="'.concat(e,'"\n            name="').concat(a.options.selectItemName,'"\n            type="').concat(d,'"\n            ').concat(hv.sprintf('value="%s"',t[a.options.idField]),"\n            ").concat(hv.sprintf('checked="%s"',H?"checked":void 0),"\n            ").concat(hv.sprintf('disabled="%s"',M?"disabled":void 0)," />\n            <span></span>\n            </label>"),a.header.formatters[n]&&"string"==typeof u?u:"",a.options.cardView?"</div>":"</td>"].join(""),t[a.header.stateField]=!0===u||!!h||u&&u.checked}else if(a.options.cardView){var U=a.options.showHeader?'<span class="card-view-title '.concat(f.classes||"",'"').concat(v,">").concat(hv.getFieldTitle(a.columns,i),"</span>"):"";l='<div class="card-view">'.concat(U,'<span class="card-view-value ').concat(f.classes||"",'"').concat(v,">").concat(u,"</span></div>"),a.options.smartDisplay&&""===u&&(l='<div class="card-view"></div>')}else l="<td".concat(p).concat(g).concat(v).concat(m).concat(y).concat(w).concat(S,">").concat(u,"</td>");r.push(l)}})),P&&"right"===this.options.detailViewAlign&&r.push(P),this.options.cardView&&r.push("</div></td>"),r.push("</tr>"),r.join("")}}},{key:"initBody",value:function(t,e){var n=this,o=this.getData();this.trigger("pre-body",o),this.$body=this.$el.find(">tbody"),this.$body.length||(this.$body=i.default("<tbody></tbody>").appendTo(this.$el)),this.options.pagination&&"server"!==this.options.sidePagination||(this.pageFrom=1,this.pageTo=o.length);var a=[],r=i.default(document.createDocumentFragment()),s=!1,l=[];this.autoMergeCells=hv.checkAutoMergeCells(o.slice(this.pageFrom-1,this.pageTo));for(var c=this.pageFrom-1;c<this.pageTo;c++){var h=o[c],u=this.initRow(h,c,o,r);if(s=s||!!u,u&&"string"==typeof u){var d=this.options.uniqueId;if(d&&h.hasOwnProperty(d)){var f=h[d],p=this.$body.find(hv.sprintf('> tr[data-uniqueid="%s"][data-has-detail-view]',f)).next();p.is("tr.detail-view")&&(l.push(c),e&&f===e||(u+=p[0].outerHTML))}this.options.virtualScroll?a.push(u):r.append(u)}}s?this.options.virtualScroll?(this.virtualScroll&&this.virtualScroll.destroy(),this.virtualScroll=new bv({rows:a,fixedScroll:t,scrollEl:this.$tableBody[0],contentEl:this.$body[0],itemHeight:this.options.virtualScrollItemHeight,callback:function(t,e){n.fitHeader(),n.initBodyEvent(),n.trigger("virtual-scroll",t,e)}})):this.$body.html(r):this.$body.html('<tr class="no-records-found">'.concat(hv.sprintf('<td colspan="%s">%s</td>',this.getVisibleFields().length+hv.getDetailViewIndexOffset(this.options),this.options.formatNoMatches()),"</tr>")),l.forEach((function(t){n.expandRow(t)})),t||this.scrollTo(0),this.initBodyEvent(),this.initFooter(),this.resetView(),this.updateSelected(),"server"!==this.options.sidePagination&&(this.options.totalRows=o.length),this.trigger("post-body",o)}},{key:"initBodyEvent",value:function(){var t=this;this.$body.find("> tr[data-index] > td").off("click dblclick").on("click dblclick",(function(e){var n=i.default(e.currentTarget);if(!(n.find(".detail-icon").length||n.index()-hv.getDetailViewIndexOffset(t.options)<0)){var o=n.parent(),a=i.default(e.target).parents(".card-views").children(),r=i.default(e.target).parents(".card-view"),s=o.data("index"),l=t.data[s],c=t.options.cardView?a.index(r):n[0].cellIndex,h=t.getVisibleFields()[c-hv.getDetailViewIndexOffset(t.options)],u=t.columns[t.fieldsColumnsIndex[h]],d=hv.getItemField(l,h,t.options.escape,u.escape);if(t.trigger("click"===e.type?"click-cell":"dbl-click-cell",h,d,l,n),t.trigger("click"===e.type?"click-row":"dbl-click-row",l,o,h),"click"===e.type&&t.options.clickToSelect&&u.clickToSelect&&!hv.calculateObjectValue(t.options,t.options.ignoreClickToSelectOn,[e.target])){var f=o.find(hv.sprintf('[name="%s"]',t.options.selectItemName));f.length&&f[0].click()}"click"===e.type&&t.options.detailViewByClick&&t.toggleDetailView(s,t.header.detailFormatters[t.fieldsColumnsIndex[h]])}})).off("mousedown").on("mousedown",(function(e){t.multipleSelectRowCtrlKey=e.ctrlKey||e.metaKey,t.multipleSelectRowShiftKey=e.shiftKey})),this.$body.find("> tr[data-index] > td > .detail-icon").off("click").on("click",(function(e){return e.preventDefault(),t.toggleDetailView(i.default(e.currentTarget).parent().parent().data("index")),!1})),this.$selectItem=this.$body.find(hv.sprintf('[name="%s"]',this.options.selectItemName)),this.$selectItem.off("click").on("click",(function(e){e.stopImmediatePropagation();var n=i.default(e.currentTarget);t._toggleCheck(n.prop("checked"),n.data("index"))})),this.header.events.forEach((function(e,n){var o=e;if(o){if("string"==typeof o&&(o=hv.calculateObjectValue(null,o)),!o)throw new Error("Unknown event in the scope: ".concat(e));var a=t.header.fields[n],r=t.getVisibleFields().indexOf(a);if(-1!==r){r+=hv.getDetailViewIndexOffset(t.options);var s=function(e){if(!o.hasOwnProperty(e))return"continue";var n=o[e];t.$body.find(">tr:not(.no-records-found)").each((function(o,s){var l=i.default(s),c=l.find(t.options.cardView?".card-views>.card-view":">td").eq(r),h=e.indexOf(" "),u=e.substring(0,h),d=e.substring(h+1);c.find(d).off(u).on(u,(function(e){var i=l.data("index"),o=t.data[i],r=o[a];n.apply(t,[e,r,o,i])}))}))};for(var l in o)s(l)}}}))}},{key:"initServer",value:function(t,e,n){var o=this,a={},r=this.header.fields.indexOf(this.options.sortName),s={searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder};if(this.header.sortNames[r]&&(s.sortName=this.header.sortNames[r]),this.options.pagination&&"server"===this.options.sidePagination&&(s.pageSize=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,s.pageNumber=this.options.pageNumber),n||this.options.url||this.options.ajax){if("limit"===this.options.queryParamsType&&(s={search:s.searchText,sort:s.sortName,order:s.sortOrder},this.options.pagination&&"server"===this.options.sidePagination&&(s.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1),s.limit=this.options.pageSize,0!==s.limit&&this.options.pageSize!==this.options.formatAllRows()||delete s.limit)),this.options.search&&"server"===this.options.sidePagination&&this.columns.filter((function(t){return!t.searchable})).length){s.searchable=[];var l,c=u(this.columns);try{for(c.s();!(l=c.n()).done;){var h=l.value;!h.checkbox&&h.searchable&&(this.options.visibleSearch&&h.visible||!this.options.visibleSearch)&&s.searchable.push(h.field)}}catch(t){c.e(t)}finally{c.f()}}if(hv.isEmptyObject(this.filterColumnsPartial)||(s.filter=JSON.stringify(this.filterColumnsPartial,null)),i.default.extend(s,e||{}),!1!==(a=hv.calculateObjectValue(this.options,this.options.queryParams,[s],a))){t||this.showLoading();var d=i.default.extend({},hv.calculateObjectValue(null,this.options.ajaxOptions),{type:this.options.method,url:n||this.options.url,data:"application/json"===this.options.contentType&&"post"===this.options.method?JSON.stringify(a):a,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(e,i,n){var a=hv.calculateObjectValue(o.options,o.options.responseHandler,[e,n],e);o.load(a),o.trigger("load-success",a,n&&n.status,n),t||o.hideLoading(),"server"===o.options.sidePagination&&o.options.pageNumber>1&&a[o.options.totalField]>0&&!a[o.options.dataField].length&&o.updatePagination()},error:function(e){if(e&&0===e.status&&o._xhrAbort)o._xhrAbort=!1;else{var i=[];"server"===o.options.sidePagination&&((i={})[o.options.totalField]=0,i[o.options.dataField]=[]),o.load(i),o.trigger("load-error",e&&e.status,e),t||o.hideLoading()}}});return this.options.ajax?hv.calculateObjectValue(this,this.options.ajax,[d],null):(this._xhr&&4!==this._xhr.readyState&&(this._xhrAbort=!0,this._xhr.abort()),this._xhr=i.default.ajax(d)),a}}}},{key:"initSearchText",value:function(){if(this.options.search&&(this.searchText="",""!==this.options.searchText)){var t=hv.getSearchInput(this);t.val(this.options.searchText),this.onSearch({currentTarget:t,firedByInitSearchText:!0})}}},{key:"getCaret",value:function(){var t=this;this.$header.find("th").each((function(e,n){i.default(n).find(".sortable").removeClass("desc asc").addClass(i.default(n).data("field")===t.options.sortName?t.options.sortOrder:"both")}))}},{key:"updateSelected",value:function(){var t=this.$selectItem.filter(":enabled").length&&this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",t),this.$selectItem.each((function(t,e){i.default(e).closest("tr")[i.default(e).prop("checked")?"addClass":"removeClass"]("selected")}))}},{key:"updateRows",value:function(){var t=this;this.$selectItem.each((function(e,n){t.data[i.default(n).data("index")][t.header.stateField]=i.default(n).prop("checked")}))}},{key:"resetRows",value:function(){var t,e=u(this.data);try{for(e.s();!(t=e.n()).done;){var i=t.value;this.$selectAll.prop("checked",!1),this.$selectItem.prop("checked",!1),this.header.stateField&&(i[this.header.stateField]=!1)}}catch(t){e.e(t)}finally{e.f()}this.initHiddenRows()}},{key:"trigger",value:function(e){for(var n,o,a="".concat(e,".bs.table"),r=arguments.length,s=new Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];(n=this.options)[t.EVENTS[a]].apply(n,[].concat(s,[this])),this.$el.trigger(i.default.Event(a,{sender:this}),s),(o=this.options).onAll.apply(o,[a].concat([].concat(s,[this]))),this.$el.trigger(i.default.Event("all.bs.table",{sender:this}),[a,s])}},{key:"resetHeader",value:function(){var t=this;clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout((function(){return t.fitHeader()}),this.$el.is(":hidden")?100:0)}},{key:"fitHeader",value:function(){var t=this;if(this.$el.is(":hidden"))this.timeoutId_=setTimeout((function(){return t.fitHeader()}),100);else{var e=this.$tableBody.get(0),n=this.hasScrollBar&&e.scrollHeight>e.clientHeight+this.$header.outerHeight()?hv.getScrollBarWidth():0;this.$el.css("margin-top",-this.$header.outerHeight());var o=i.default(":focus");if(o.length>0){var a=o.parents("th");if(a.length>0){var r=a.attr("data-field");if(void 0!==r){var s=this.$header.find("[data-field='".concat(r,"']"));s.length>0&&s.find(":input").addClass("focus-temp")}}}this.$header_=this.$header.clone(!0,!0),this.$selectAll_=this.$header_.find('[name="btSelectAll"]'),this.$tableHeader.css("margin-right",n).find("table").css("width",this.$el.outerWidth()).html("").attr("class",this.$el.attr("class")).append(this.$header_),this.$tableLoading.css("width",this.$el.outerWidth());var l=i.default(".focus-temp:visible:eq(0)");l.length>0&&(l.focus(),this.$header.find(".focus-temp").removeClass("focus-temp")),this.$header.find("th[data-field]").each((function(e,n){t.$header_.find(hv.sprintf('th[data-field="%s"]',i.default(n).data("field"))).data(i.default(n).data())}));for(var c=this.getVisibleFields(),h=this.$header_.find("th"),u=this.$body.find(">tr:not(.no-records-found,.virtual-scroll-top)").eq(0);u.length&&u.find('>td[colspan]:not([colspan="1"])').length;)u=u.next();var d=u.find("> *").length;u.find("> *").each((function(e,n){var o=i.default(n);if(hv.hasDetailViewIcon(t.options)&&(0===e&&"right"!==t.options.detailViewAlign||e===d-1&&"right"===t.options.detailViewAlign)){var a=h.filter(".detail"),r=a.innerWidth()-a.find(".fht-cell").width();a.find(".fht-cell").width(o.innerWidth()-r)}else{var s=e-hv.getDetailViewIndexOffset(t.options),l=t.$header_.find(hv.sprintf('th[data-field="%s"]',c[s]));l.length>1&&(l=i.default(h[o[0].cellIndex]));var u=l.innerWidth()-l.find(".fht-cell").width();l.find(".fht-cell").width(o.innerWidth()-u)}})),this.horizontalScroll(),this.trigger("post-header")}}},{key:"initFooter",value:function(){if(this.options.showFooter&&!this.options.cardView){var t=this.getData(),e=[],i="";hv.hasDetailViewIcon(this.options)&&(i='<th class="detail"><div class="th-inner"></div><div class="fht-cell"></div></th>'),i&&"right"!==this.options.detailViewAlign&&e.push(i);var n,o=u(this.columns);try{for(o.s();!(n=o.n()).done;){var a,r,l=n.value,c=[],h={},d=hv.sprintf(' class="%s"',l.class);if(!(!l.visible||this.footerData&&this.footerData.length>0&&!(l.field in this.footerData[0]))){if(this.options.cardView&&!l.cardVisible)return;if(a=hv.sprintf("text-align: %s; ",l.falign?l.falign:l.align),r=hv.sprintf("vertical-align: %s; ",l.valign),(h=hv.calculateObjectValue(null,this.options.footerStyle,[l]))&&h.css)for(var f=0,p=Object.entries(h.css);f<p.length;f++){var g=s(p[f],2),v=g[0],b=g[1];c.push("".concat(v,": ").concat(b))}h&&h.classes&&(d=hv.sprintf(' class="%s"',l.class?[l.class,h.classes].join(" "):h.classes)),e.push("<th",d,hv.sprintf(' style="%s"',a+r+c.concat().join("; ")));var m=0;this.footerData&&this.footerData.length>0&&(m=this.footerData[0]["_".concat(l.field,"_colspan")]||0),m&&e.push(' colspan="'.concat(m,'" ')),e.push(">"),e.push('<div class="th-inner">');var y="";this.footerData&&this.footerData.length>0&&(y=this.footerData[0][l.field]||""),e.push(hv.calculateObjectValue(l,l.footerFormatter,[t,y],y)),e.push("</div>"),e.push('<div class="fht-cell"></div>'),e.push("</div>"),e.push("</th>")}}}catch(t){o.e(t)}finally{o.f()}i&&"right"===this.options.detailViewAlign&&e.push(i),this.options.height||this.$tableFooter.length||(this.$el.append("<tfoot><tr></tr></tfoot>"),this.$tableFooter=this.$el.find("tfoot")),this.$tableFooter.find("tr").length||this.$tableFooter.html("<table><thead><tr></tr></thead></table>"),this.$tableFooter.find("tr").html(e.join("")),this.trigger("post-footer",this.$tableFooter)}}},{key:"fitFooter",value:function(){var t=this;if(this.$el.is(":hidden"))setTimeout((function(){return t.fitFooter()}),100);else{var e=this.$tableBody.get(0),n=this.hasScrollBar&&e.scrollHeight>e.clientHeight+this.$header.outerHeight()?hv.getScrollBarWidth():0;this.$tableFooter.css("margin-right",n).find("table").css("width",this.$el.outerWidth()).attr("class",this.$el.attr("class"));var o=this.$tableFooter.find("th"),a=this.$body.find(">tr:first-child:not(.no-records-found)");for(o.find(".fht-cell").width("auto");a.length&&a.find('>td[colspan]:not([colspan="1"])').length;)a=a.next();var r=a.find("> *").length;a.find("> *").each((function(e,n){var a=i.default(n);if(hv.hasDetailViewIcon(t.options)&&(0===e&&"left"===t.options.detailViewAlign||e===r-1&&"right"===t.options.detailViewAlign)){var s=o.filter(".detail"),l=s.innerWidth()-s.find(".fht-cell").width();s.find(".fht-cell").width(a.innerWidth()-l)}else{var c=o.eq(e),h=c.innerWidth()-c.find(".fht-cell").width();c.find(".fht-cell").width(a.innerWidth()-h)}})),this.horizontalScroll()}}},{key:"horizontalScroll",value:function(){var t=this;this.$tableBody.off("scroll").on("scroll",(function(){var e=t.$tableBody.scrollLeft();t.options.showHeader&&t.options.height&&t.$tableHeader.scrollLeft(e),t.options.showFooter&&!t.options.cardView&&t.$tableFooter.scrollLeft(e),t.trigger("scroll-body",t.$tableBody)}))}},{key:"getVisibleFields",value:function(){var t,e=[],i=u(this.header.fields);try{for(i.s();!(t=i.n()).done;){var n=t.value,o=this.columns[this.fieldsColumnsIndex[n]];o&&o.visible&&(!this.options.cardView||o.cardVisible)&&e.push(n)}}catch(t){i.e(t)}finally{i.f()}return e}},{key:"initHiddenRows",value:function(){this.hiddenRows=[]}},{key:"getOptions",value:function(){var t=i.default.extend({},this.options);return delete t.data,i.default.extend(!0,{},t)}},{key:"refreshOptions",value:function(t){hv.compareObjects(this.options,t,!0)||(this.options=i.default.extend(this.options,t),this.trigger("refresh-options",this.options),this.destroy(),this.init())}},{key:"getData",value:function(t){var e=this,i=this.options.data;if(!(this.searchText||this.options.customSearch||void 0!==this.options.sortName||this.enableCustomSort)&&hv.isEmptyObject(this.filterColumns)&&"function"!=typeof this.options.filterOptions.filterAlgorithm&&hv.isEmptyObject(this.filterColumnsPartial)||t&&t.unfiltered||(i=this.data),t&&t.useCurrentPage&&(i=i.slice(this.pageFrom-1,this.pageTo)),t&&!t.includeHiddenRows){var n=this.getHiddenRows();i=i.filter((function(t){return-1===hv.findIndex(n,t)}))}return t&&t.formatted&&i.forEach((function(t){for(var i=0,n=Object.entries(t);i<n.length;i++){var o=s(n[i],2),a=o[0],r=o[1],l=e.columns[e.fieldsColumnsIndex[a]];if(!l)return;t[a]=hv.calculateObjectValue(l,e.header.formatters[l.fieldIndex],[r,t,t.index,l.field],r)}})),i}},{key:"getSelections",value:function(){var t=this;return(this.options.maintainMetaData?this.options.data:this.data).filter((function(e){return!0===e[t.header.stateField]}))}},{key:"load",value:function(t){var e,i=t;this.options.pagination&&"server"===this.options.sidePagination&&(this.options.totalRows=i[this.options.totalField],this.options.totalNotFiltered=i[this.options.totalNotFilteredField],this.footerData=i[this.options.footerField]?[i[this.options.footerField]]:void 0),e=i.fixedScroll,i=Array.isArray(i)?i:i[this.options.dataField],this.initData(i),this.initSearch(),this.initPagination(),this.initBody(e)}},{key:"append",value:function(t){this.initData(t,"append"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:"prepend",value:function(t){this.initData(t,"prepend"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:"remove",value:function(t){for(var e=0,i=this.options.data.length-1;i>=0;i--){var n=this.options.data[i],o=hv.getItemField(n,t.field,this.options.escape,n.escape);void 0===o&&"$index"!==t.field||(!n.hasOwnProperty(t.field)&&"$index"===t.field&&t.values.includes(i)||t.values.includes(o))&&(e++,this.options.data.splice(i,1))}e&&("server"===this.options.sidePagination&&(this.options.totalRows-=e,this.data=l(this.options.data)),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}},{key:"removeAll",value:function(){this.options.data.length>0&&(this.options.data.splice(0,this.options.data.length),this.initSearch(),this.initPagination(),this.initBody(!0))}},{key:"insertRow",value:function(t){t.hasOwnProperty("index")&&t.hasOwnProperty("row")&&(this.options.data.splice(t.index,0,t.row),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}},{key:"updateRow",value:function(t){var e,n=u(Array.isArray(t)?t:[t]);try{for(n.s();!(e=n.n()).done;){var o=e.value;o.hasOwnProperty("index")&&o.hasOwnProperty("row")&&(o.hasOwnProperty("replace")&&o.replace?this.options.data[o.index]=o.row:i.default.extend(this.options.data[o.index],o.row))}}catch(t){n.e(t)}finally{n.f()}this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:"getRowByUniqueId",value:function(t){var e,i,n=this.options.uniqueId,o=t,a=null;for(e=this.options.data.length-1;e>=0;e--){i=this.options.data[e];var r=hv.getItemField(i,n,this.options.escape,i.escape);if(void 0!==r&&("string"==typeof r?o=o.toString():"number"==typeof r&&(Number(r)===r&&r%1==0?o=parseInt(o,10):r===Number(r)&&0!==r&&(o=parseFloat(o))),r===o)){a=i;break}}return a}},{key:"updateByUniqueId",value:function(t){var e,n=null,o=u(Array.isArray(t)?t:[t]);try{for(o.s();!(e=o.n()).done;){var a=e.value;if(a.hasOwnProperty("id")&&a.hasOwnProperty("row")){var r=this.options.data.indexOf(this.getRowByUniqueId(a.id));-1!==r&&(a.hasOwnProperty("replace")&&a.replace?this.options.data[r]=a.row:i.default.extend(this.options.data[r],a.row),n=a.id)}}}catch(t){o.e(t)}finally{o.f()}this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0,n)}},{key:"removeByUniqueId",value:function(t){var e=this.options.data.length,i=this.getRowByUniqueId(t);i&&this.options.data.splice(this.options.data.indexOf(i),1),e!==this.options.data.length&&("server"===this.options.sidePagination&&(this.options.totalRows-=1,this.data=l(this.options.data)),this.initSearch(),this.initPagination(),this.initBody(!0))}},{key:"_updateCellOnly",value:function(t,e){var n=this.initRow(this.options.data[e],e),o=this.getVisibleFields().indexOf(t);-1!==o&&(o+=hv.getDetailViewIndexOffset(this.options),this.$body.find(">tr[data-index=".concat(e,"]")).find(">td:eq(".concat(o,")")).replaceWith(i.default(n).find(">td:eq(".concat(o,")"))),this.initBodyEvent(),this.initFooter(),this.resetView(),this.updateSelected())}},{key:"updateCell",value:function(t){t.hasOwnProperty("index")&&t.hasOwnProperty("field")&&t.hasOwnProperty("value")&&(this.options.data[t.index][t.field]=t.value,!1!==t.reinit?(this.initSort(),this.initBody(!0)):this._updateCellOnly(t.field,t.index))}},{key:"updateCellByUniqueId",value:function(t){var e=this;(Array.isArray(t)?t:[t]).forEach((function(t){var i=t.id,n=t.field,o=t.value,a=e.options.data.indexOf(e.getRowByUniqueId(i));-1!==a&&(e.options.data[a][n]=o)})),!1!==t.reinit?(this.initSort(),this.initBody(!0)):this._updateCellOnly(t.field,this.options.data.indexOf(this.getRowByUniqueId(t.id)))}},{key:"showRow",value:function(t){this._toggleRow(t,!0)}},{key:"hideRow",value:function(t){this._toggleRow(t,!1)}},{key:"_toggleRow",value:function(t,e){var i;if(t.hasOwnProperty("index")?i=this.getData()[t.index]:t.hasOwnProperty("uniqueId")&&(i=this.getRowByUniqueId(t.uniqueId)),i){var n=hv.findIndex(this.hiddenRows,i);e||-1!==n?e&&n>-1&&this.hiddenRows.splice(n,1):this.hiddenRows.push(i),this.initBody(!0),this.initPagination()}}},{key:"getHiddenRows",value:function(t){if(t)return this.initHiddenRows(),this.initBody(!0),void this.initPagination();var e,i=[],n=u(this.getData());try{for(n.s();!(e=n.n()).done;){var o=e.value;this.hiddenRows.includes(o)&&i.push(o)}}catch(t){n.e(t)}finally{n.f()}return this.hiddenRows=i,i}},{key:"showColumn",value:function(t){var e=this;(Array.isArray(t)?t:[t]).forEach((function(t){e._toggleColumn(e.fieldsColumnsIndex[t],!0,!0)}))}},{key:"hideColumn",value:function(t){var e=this;(Array.isArray(t)?t:[t]).forEach((function(t){e._toggleColumn(e.fieldsColumnsIndex[t],!1,!0)}))}},{key:"_toggleColumn",value:function(t,e,i){if(-1!==t&&this.columns[t].visible!==e&&(this.columns[t].visible=e,this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns)){var n=this.$toolbar.find('.keep-open input:not(".toggle-all")').prop("disabled",!1);i&&n.filter(hv.sprintf('[value="%s"]',t)).prop("checked",e),n.filter(":checked").length<=this.options.minimumCountColumns&&n.filter(":checked").prop("disabled",!0)}}},{key:"getVisibleColumns",value:function(){var t=this;return this.columns.filter((function(e){return e.visible&&!t.isSelectionColumn(e)}))}},{key:"getHiddenColumns",value:function(){return this.columns.filter((function(t){return!t.visible}))}},{key:"isSelectionColumn",value:function(t){return t.radio||t.checkbox}},{key:"showAllColumns",value:function(){this._toggleAllColumns(!0)}},{key:"hideAllColumns",value:function(){this._toggleAllColumns(!1)}},{key:"_toggleAllColumns",value:function(t){var e,n=this,o=u(this.columns.slice().reverse());try{for(o.s();!(e=o.n()).done;){var a=e.value;if(a.switchable){if(!t&&this.options.showColumns&&this.getVisibleColumns().filter((function(t){return t.switchable})).length===this.options.minimumCountColumns)continue;a.visible=t}}}catch(t){o.e(t)}finally{o.f()}if(this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns){var r=this.$toolbar.find('.keep-open input[type="checkbox"]:not(".toggle-all")').prop("disabled",!1);t?r.prop("checked",t):r.get().reverse().forEach((function(e){r.filter(":checked").length>n.options.minimumCountColumns&&i.default(e).prop("checked",t)})),r.filter(":checked").length<=this.options.minimumCountColumns&&r.filter(":checked").prop("disabled",!0)}}},{key:"mergeCells",value:function(t){var e,i,n=t.index,o=this.getVisibleFields().indexOf(t.field),a=t.rowspan||1,r=t.colspan||1,s=this.$body.find(">tr[data-index]");o+=hv.getDetailViewIndexOffset(this.options);var l=s.eq(n).find(">td").eq(o);if(!(n<0||o<0||n>=this.data.length)){for(e=n;e<n+a;e++)for(i=o;i<o+r;i++)s.eq(e).find(">td").eq(i).hide();l.attr("rowspan",a).attr("colspan",r).show()}}},{key:"checkAll",value:function(){this._toggleCheckAll(!0)}},{key:"uncheckAll",value:function(){this._toggleCheckAll(!1)}},{key:"_toggleCheckAll",value:function(t){var e=this.getSelections();this.$selectAll.add(this.$selectAll_).prop("checked",t),this.$selectItem.filter(":enabled").prop("checked",t),this.updateRows(),this.updateSelected();var i=this.getSelections();t?this.trigger("check-all",i,e):this.trigger("uncheck-all",i,e)}},{key:"checkInvert",value:function(){var t=this.$selectItem.filter(":enabled"),e=t.filter(":checked");t.each((function(t,e){i.default(e).prop("checked",!i.default(e).prop("checked"))})),this.updateRows(),this.updateSelected(),this.trigger("uncheck-some",e),e=this.getSelections(),this.trigger("check-some",e)}},{key:"check",value:function(t){this._toggleCheck(!0,t)}},{key:"uncheck",value:function(t){this._toggleCheck(!1,t)}},{key:"_toggleCheck",value:function(t,e){var i=this.$selectItem.filter('[data-index="'.concat(e,'"]')),n=this.data[e];if(i.is(":radio")||this.options.singleSelect||this.options.multipleSelectRow&&!this.multipleSelectRowCtrlKey&&!this.multipleSelectRowShiftKey){var o,a=u(this.options.data);try{for(a.s();!(o=a.n()).done;){o.value[this.header.stateField]=!1}}catch(t){a.e(t)}finally{a.f()}this.$selectItem.filter(":checked").not(i).prop("checked",!1)}if(n[this.header.stateField]=t,this.options.multipleSelectRow){if(this.multipleSelectRowShiftKey&&this.multipleSelectRowLastSelectedIndex>=0)for(var r=s(this.multipleSelectRowLastSelectedIndex<e?[this.multipleSelectRowLastSelectedIndex,e]:[e,this.multipleSelectRowLastSelectedIndex],2),l=r[0],c=r[1],h=l+1;h<c;h++)this.data[h][this.header.stateField]=!0,this.$selectItem.filter('[data-index="'.concat(h,'"]')).prop("checked",!0);this.multipleSelectRowCtrlKey=!1,this.multipleSelectRowShiftKey=!1,this.multipleSelectRowLastSelectedIndex=t?e:-1}i.prop("checked",t),this.updateSelected(),this.trigger(t?"check":"uncheck",this.data[e],i)}},{key:"checkBy",value:function(t){this._toggleCheckBy(!0,t)}},{key:"uncheckBy",value:function(t){this._toggleCheckBy(!1,t)}},{key:"_toggleCheckBy",value:function(t,e){var i=this;if(e.hasOwnProperty("field")&&e.hasOwnProperty("values")){var n=[];this.data.forEach((function(o,a){if(!o.hasOwnProperty(e.field))return!1;if(e.values.includes(o[e.field])){var r=i.$selectItem.filter(":enabled").filter(hv.sprintf('[data-index="%s"]',a)),s=!!e.hasOwnProperty("onlyCurrentPage")&&e.onlyCurrentPage;if(!(r=t?r.not(":checked"):r.filter(":checked")).length&&s)return;r.prop("checked",t),o[i.header.stateField]=t,n.push(o),i.trigger(t?"check":"uncheck",o,r)}})),this.updateSelected(),this.trigger(t?"check-some":"uncheck-some",n)}}},{key:"refresh",value:function(t){t&&t.url&&(this.options.url=t.url),t&&t.pageNumber&&(this.options.pageNumber=t.pageNumber),t&&t.pageSize&&(this.options.pageSize=t.pageSize),this.trigger("refresh",this.initServer(t&&t.silent,t&&t.query,t&&t.url))}},{key:"destroy",value:function(){this.$el.insertBefore(this.$container),i.default(this.options.toolbar).insertBefore(this.$el),this.$container.next().remove(),this.$container.remove(),this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"");var t=hv.getEventName("resize.bootstrap-table",this.$el.attr("id"));i.default(window).off(t)}},{key:"resetView",value:function(t){var e=0;if(t&&t.height&&(this.options.height=t.height),this.$tableContainer.toggleClass("has-card-view",this.options.cardView),this.options.height){var i=this.$tableBody.get(0);this.hasScrollBar=i.scrollWidth>i.clientWidth}if(!this.options.cardView&&this.options.showHeader&&this.options.height?(this.$tableHeader.show(),this.resetHeader(),e+=this.$header.outerHeight(!0)+1):(this.$tableHeader.hide(),this.trigger("post-header")),!this.options.cardView&&this.options.showFooter&&(this.$tableFooter.show(),this.fitFooter(),this.options.height&&(e+=this.$tableFooter.outerHeight(!0))),this.$container.hasClass("fullscreen"))this.$tableContainer.css("height",""),this.$tableContainer.css("width","");else if(this.options.height){this.$tableBorder&&(this.$tableBorder.css("width",""),this.$tableBorder.css("height",""));var n=this.$toolbar.outerHeight(!0),o=this.$pagination.outerHeight(!0),a=this.options.height-n-o,r=this.$tableBody.find(">table"),s=r.outerHeight();if(this.$tableContainer.css("height","".concat(a,"px")),this.$tableBorder&&r.is(":visible")){var l=a-s-2;this.hasScrollBar&&(l-=hv.getScrollBarWidth()),this.$tableBorder.css("width","".concat(r.outerWidth(),"px")),this.$tableBorder.css("height","".concat(l,"px"))}}this.options.cardView?(this.$el.css("margin-top","0"),this.$tableContainer.css("padding-bottom","0"),this.$tableFooter.hide()):(this.getCaret(),this.$tableContainer.css("padding-bottom","".concat(e,"px"))),this.trigger("reset-view")}},{key:"showLoading",value:function(){this.$tableLoading.toggleClass("open",!0);var t=this.options.loadingFontSize;"auto"===this.options.loadingFontSize&&(t=.04*this.$tableLoading.width(),t=Math.max(12,t),t=Math.min(32,t),t="".concat(t,"px")),this.$tableLoading.find(".loading-text").css("font-size",t)}},{key:"hideLoading",value:function(){this.$tableLoading.toggleClass("open",!1)}},{key:"togglePagination",value:function(){this.options.pagination=!this.options.pagination;var t=this.options.showButtonIcons?this.options.pagination?this.options.icons.paginationSwitchDown:this.options.icons.paginationSwitchUp:"",e=this.options.showButtonText?this.options.pagination?this.options.formatPaginationSwitchUp():this.options.formatPaginationSwitchDown():"";this.$toolbar.find('button[name="paginationSwitch"]').html("".concat(hv.sprintf(this.constants.html.icon,this.options.iconsPrefix,t)," ").concat(e)),this.updatePagination(),this.trigger("toggle-pagination",this.options.pagination)}},{key:"toggleFullscreen",value:function(){this.$el.closest(".bootstrap-table").toggleClass("fullscreen"),this.resetView()}},{key:"toggleView",value:function(){this.options.cardView=!this.options.cardView,this.initHeader();var t=this.options.showButtonIcons?this.options.cardView?this.options.icons.toggleOn:this.options.icons.toggleOff:"",e=this.options.showButtonText?this.options.cardView?this.options.formatToggleOff():this.options.formatToggleOn():"";this.$toolbar.find('button[name="toggle"]').html("".concat(hv.sprintf(this.constants.html.icon,this.options.iconsPrefix,t)," ").concat(e)).attr("aria-label",e).attr("title",e),this.initBody(),this.trigger("toggle",this.options.cardView)}},{key:"resetSearch",value:function(t){var e=hv.getSearchInput(this),i=t||"";e.val(i),this.searchText=i,this.onSearch({currentTarget:e},!1)}},{key:"filterBy",value:function(t,e){this.filterOptions=hv.isEmptyObject(e)?this.options.filterOptions:i.default.extend(this.options.filterOptions,e),this.filterColumns=hv.isEmptyObject(t)?{}:t,this.options.pageNumber=1,this.initSearch(),this.updatePagination()}},{key:"scrollTo",value:function(t){var e={unit:"px",value:0};"object"===n(t)?e=Object.assign(e,t):"string"==typeof t&&"bottom"===t?e.value=this.$tableBody[0].scrollHeight:"string"!=typeof t&&"number"!=typeof t||(e.value=t);var o=e.value;"rows"===e.unit&&(o=0,this.$body.find("> tr:lt(".concat(e.value,")")).each((function(t,e){o+=i.default(e).outerHeight(!0)}))),this.$tableBody.scrollTop(o)}},{key:"getScrollPosition",value:function(){return this.$tableBody.scrollTop()}},{key:"selectPage",value:function(t){t>0&&t<=this.options.totalPages&&(this.options.pageNumber=t,this.updatePagination())}},{key:"prevPage",value:function(){this.options.pageNumber>1&&(this.options.pageNumber--,this.updatePagination())}},{key:"nextPage",value:function(){this.options.pageNumber<this.options.totalPages&&(this.options.pageNumber++,this.updatePagination())}},{key:"toggleDetailView",value:function(t,e){this.$body.find(hv.sprintf('> tr[data-index="%s"]',t)).next().is("tr.detail-view")?this.collapseRow(t):this.expandRow(t,e),this.resetView()}},{key:"expandRow",value:function(t,e){var i=this.data[t],n=this.$body.find(hv.sprintf('> tr[data-index="%s"][data-has-detail-view]',t));if(this.options.detailViewIcon&&n.find("a.detail-icon").html(hv.sprintf(this.constants.html.icon,this.options.iconsPrefix,this.options.icons.detailClose)),!n.next().is("tr.detail-view")){n.after(hv.sprintf('<tr class="detail-view"><td colspan="%s"></td></tr>',n.children("td").length));var o=n.next().find("td"),a=e||this.options.detailFormatter,r=hv.calculateObjectValue(this.options,a,[t,i,o],"");1===o.length&&o.append(r),this.trigger("expand-row",t,i,o)}}},{key:"expandRowByUniqueId",value:function(t){var e=this.getRowByUniqueId(t);e&&this.expandRow(this.data.indexOf(e))}},{key:"collapseRow",value:function(t){var e=this.data[t],i=this.$body.find(hv.sprintf('> tr[data-index="%s"][data-has-detail-view]',t));i.next().is("tr.detail-view")&&(this.options.detailViewIcon&&i.find("a.detail-icon").html(hv.sprintf(this.constants.html.icon,this.options.iconsPrefix,this.options.icons.detailOpen)),this.trigger("collapse-row",t,e,i.next()),i.next().remove())}},{key:"collapseRowByUniqueId",value:function(t){var e=this.getRowByUniqueId(t);e&&this.collapseRow(this.data.indexOf(e))}},{key:"expandAllRows",value:function(){for(var t=this.$body.find("> tr[data-index][data-has-detail-view]"),e=0;e<t.length;e++)this.expandRow(i.default(t[e]).data("index"))}},{key:"collapseAllRows",value:function(){for(var t=this.$body.find("> tr[data-index][data-has-detail-view]"),e=0;e<t.length;e++)this.collapseRow(i.default(t[e]).data("index"))}},{key:"updateColumnTitle",value:function(t){t.hasOwnProperty("field")&&t.hasOwnProperty("title")&&(this.columns[this.fieldsColumnsIndex[t.field]].title=this.options.escape?hv.escapeHTML(t.title):t.title,this.columns[this.fieldsColumnsIndex[t.field]].visible&&(this.$header.find("th[data-field]").each((function(e,n){if(i.default(n).data("field")===t.field)return i.default(i.default(n).find(".th-inner")[0]).text(t.title),!1})),this.resetView()))}},{key:"updateFormatText",value:function(t,e){/^format/.test(t)&&this.options[t]&&("string"==typeof e?this.options[t]=function(){return e}:"function"==typeof e&&(this.options[t]=e),this.initToolbar(),this.initPagination(),this.initBody())}}]),t}();return mv.VERSION=vv.VERSION,mv.DEFAULTS=vv.DEFAULTS,mv.LOCALES=vv.LOCALES,mv.COLUMN_DEFAULTS=vv.COLUMN_DEFAULTS,mv.METHODS=vv.METHODS,mv.EVENTS=vv.EVENTS,i.default.BootstrapTable=mv,i.default.fn.bootstrapTable=function(t){for(var e=arguments.length,o=new Array(e>1?e-1:0),a=1;a<e;a++)o[a-1]=arguments[a];var r;return this.each((function(e,a){var s=i.default(a).data("bootstrap.table"),l=i.default.extend(!0,{},mv.DEFAULTS,i.default(a).data(),"object"===n(t)&&t);if("string"==typeof t){var c;if(!vv.METHODS.includes(t))throw new Error("Unknown method: ".concat(t));if(!s)return;r=(c=s)[t].apply(c,o),"destroy"===t&&i.default(a).removeData("bootstrap.table")}s||(s=new i.default.BootstrapTable(a,l),i.default(a).data("bootstrap.table",s),s.init())})),void 0===r?this:r},i.default.fn.bootstrapTable.Constructor=mv,i.default.fn.bootstrapTable.theme=vv.THEME,i.default.fn.bootstrapTable.VERSION=vv.VERSION,i.default.fn.bootstrapTable.defaults=mv.DEFAULTS,i.default.fn.bootstrapTable.columnDefaults=mv.COLUMN_DEFAULTS,i.default.fn.bootstrapTable.events=mv.EVENTS,i.default.fn.bootstrapTable.locales=mv.LOCALES,i.default.fn.bootstrapTable.methods=mv.METHODS,i.default.fn.bootstrapTable.utils=hv,i.default((function(){i.default('[data-toggle="table"]').bootstrapTable()})),mv}));


/***/ }),

/***/ "./node_modules/bootstrap-table/dist/extensions/export/bootstrap-table-export.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/bootstrap-table/dist/extensions/export/bootstrap-table-export.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

(function (global, factory) {
   true ? factory(__webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js")) :
  0;
})(this, (function ($$7) { 'use strict';

  function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

  var $__default = /*#__PURE__*/_interopDefaultLegacy($$7);

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }
  function _defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }
  function _createClass(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties(Constructor, staticProps);
    Object.defineProperty(Constructor, "prototype", {
      writable: false
    });
    return Constructor;
  }
  function _defineProperty(obj, key, value) {
    if (key in obj) {
      Object.defineProperty(obj, key, {
        value: value,
        enumerable: true,
        configurable: true,
        writable: true
      });
    } else {
      obj[key] = value;
    }
    return obj;
  }
  function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
      throw new TypeError("Super expression must either be null or a function");
    }
    subClass.prototype = Object.create(superClass && superClass.prototype, {
      constructor: {
        value: subClass,
        writable: true,
        configurable: true
      }
    });
    Object.defineProperty(subClass, "prototype", {
      writable: false
    });
    if (superClass) _setPrototypeOf(subClass, superClass);
  }
  function _getPrototypeOf(o) {
    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {
      return o.__proto__ || Object.getPrototypeOf(o);
    };
    return _getPrototypeOf(o);
  }
  function _setPrototypeOf(o, p) {
    _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {
      o.__proto__ = p;
      return o;
    };
    return _setPrototypeOf(o, p);
  }
  function _isNativeReflectConstruct() {
    if (typeof Reflect === "undefined" || !Reflect.construct) return false;
    if (Reflect.construct.sham) return false;
    if (typeof Proxy === "function") return true;
    try {
      Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
      return true;
    } catch (e) {
      return false;
    }
  }
  function _assertThisInitialized(self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }
    return self;
  }
  function _possibleConstructorReturn(self, call) {
    if (call && (typeof call === "object" || typeof call === "function")) {
      return call;
    } else if (call !== void 0) {
      throw new TypeError("Derived constructors may only return object or undefined");
    }
    return _assertThisInitialized(self);
  }
  function _createSuper(Derived) {
    var hasNativeReflectConstruct = _isNativeReflectConstruct();
    return function _createSuperInternal() {
      var Super = _getPrototypeOf(Derived),
        result;
      if (hasNativeReflectConstruct) {
        var NewTarget = _getPrototypeOf(this).constructor;
        result = Reflect.construct(Super, arguments, NewTarget);
      } else {
        result = Super.apply(this, arguments);
      }
      return _possibleConstructorReturn(this, result);
    };
  }
  function _superPropBase(object, property) {
    while (!Object.prototype.hasOwnProperty.call(object, property)) {
      object = _getPrototypeOf(object);
      if (object === null) break;
    }
    return object;
  }
  function _get() {
    if (typeof Reflect !== "undefined" && Reflect.get) {
      _get = Reflect.get.bind();
    } else {
      _get = function _get(target, property, receiver) {
        var base = _superPropBase(target, property);
        if (!base) return;
        var desc = Object.getOwnPropertyDescriptor(base, property);
        if (desc.get) {
          return desc.get.call(arguments.length < 3 ? target : receiver);
        }
        return desc.value;
      };
    }
    return _get.apply(this, arguments);
  }
  function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(o);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
  }
  function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;
    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];
    return arr2;
  }
  function _createForOfIteratorHelper(o, allowArrayLike) {
    var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"];
    if (!it) {
      if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") {
        if (it) o = it;
        var i = 0;
        var F = function () {};
        return {
          s: F,
          n: function () {
            if (i >= o.length) return {
              done: true
            };
            return {
              done: false,
              value: o[i++]
            };
          },
          e: function (e) {
            throw e;
          },
          f: F
        };
      }
      throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    var normalCompletion = true,
      didErr = false,
      err;
    return {
      s: function () {
        it = it.call(o);
      },
      n: function () {
        var step = it.next();
        normalCompletion = step.done;
        return step;
      },
      e: function (e) {
        didErr = true;
        err = e;
      },
      f: function () {
        try {
          if (!normalCompletion && it.return != null) it.return();
        } finally {
          if (didErr) throw err;
        }
      }
    };
  }

  var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof __webpack_require__.g !== 'undefined' ? __webpack_require__.g : typeof self !== 'undefined' ? self : {};

  var check = function (it) {
    return it && it.Math == Math && it;
  };

  // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
  var global$e =
    // eslint-disable-next-line es/no-global-this -- safe
    check(typeof globalThis == 'object' && globalThis) ||
    check(typeof window == 'object' && window) ||
    // eslint-disable-next-line no-restricted-globals -- safe
    check(typeof self == 'object' && self) ||
    check(typeof commonjsGlobal == 'object' && commonjsGlobal) ||
    // eslint-disable-next-line no-new-func -- fallback
    (function () { return this; })() || Function('return this')();

  var objectGetOwnPropertyDescriptor = {};

  var fails$i = function (exec) {
    try {
      return !!exec();
    } catch (error) {
      return true;
    }
  };

  var fails$h = fails$i;

  // Detect IE8's incomplete defineProperty implementation
  var descriptors = !fails$h(function () {
    // eslint-disable-next-line es/no-object-defineproperty -- required for testing
    return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;
  });

  var fails$g = fails$i;

  var functionBindNative = !fails$g(function () {
    // eslint-disable-next-line es/no-function-prototype-bind -- safe
    var test = (function () { /* empty */ }).bind();
    // eslint-disable-next-line no-prototype-builtins -- safe
    return typeof test != 'function' || test.hasOwnProperty('prototype');
  });

  var NATIVE_BIND$3 = functionBindNative;

  var call$9 = Function.prototype.call;

  var functionCall = NATIVE_BIND$3 ? call$9.bind(call$9) : function () {
    return call$9.apply(call$9, arguments);
  };

  var objectPropertyIsEnumerable = {};

  var $propertyIsEnumerable = {}.propertyIsEnumerable;
  // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
  var getOwnPropertyDescriptor$1 = Object.getOwnPropertyDescriptor;

  // Nashorn ~ JDK8 bug
  var NASHORN_BUG = getOwnPropertyDescriptor$1 && !$propertyIsEnumerable.call({ 1: 2 }, 1);

  // `Object.prototype.propertyIsEnumerable` method implementation
  // https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable
  objectPropertyIsEnumerable.f = NASHORN_BUG ? function propertyIsEnumerable(V) {
    var descriptor = getOwnPropertyDescriptor$1(this, V);
    return !!descriptor && descriptor.enumerable;
  } : $propertyIsEnumerable;

  var createPropertyDescriptor$3 = function (bitmap, value) {
    return {
      enumerable: !(bitmap & 1),
      configurable: !(bitmap & 2),
      writable: !(bitmap & 4),
      value: value
    };
  };

  var NATIVE_BIND$2 = functionBindNative;

  var FunctionPrototype$2 = Function.prototype;
  var call$8 = FunctionPrototype$2.call;
  var uncurryThisWithBind = NATIVE_BIND$2 && FunctionPrototype$2.bind.bind(call$8, call$8);

  var functionUncurryThisRaw = function (fn) {
    return NATIVE_BIND$2 ? uncurryThisWithBind(fn) : function () {
      return call$8.apply(fn, arguments);
    };
  };

  var uncurryThisRaw$1 = functionUncurryThisRaw;

  var toString$6 = uncurryThisRaw$1({}.toString);
  var stringSlice$4 = uncurryThisRaw$1(''.slice);

  var classofRaw$2 = function (it) {
    return stringSlice$4(toString$6(it), 8, -1);
  };

  var classofRaw$1 = classofRaw$2;
  var uncurryThisRaw = functionUncurryThisRaw;

  var functionUncurryThis = function (fn) {
    // Nashorn bug:
    //   https://github.com/zloirock/core-js/issues/1128
    //   https://github.com/zloirock/core-js/issues/1130
    if (classofRaw$1(fn) === 'Function') return uncurryThisRaw(fn);
  };

  var uncurryThis$h = functionUncurryThis;
  var fails$f = fails$i;
  var classof$6 = classofRaw$2;

  var $Object$3 = Object;
  var split = uncurryThis$h(''.split);

  // fallback for non-array-like ES3 and non-enumerable old V8 strings
  var indexedObject = fails$f(function () {
    // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346
    // eslint-disable-next-line no-prototype-builtins -- safe
    return !$Object$3('z').propertyIsEnumerable(0);
  }) ? function (it) {
    return classof$6(it) == 'String' ? split(it, '') : $Object$3(it);
  } : $Object$3;

  // we can't use just `it == null` since of `document.all` special case
  // https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec
  var isNullOrUndefined$3 = function (it) {
    return it === null || it === undefined;
  };

  var isNullOrUndefined$2 = isNullOrUndefined$3;

  var $TypeError$7 = TypeError;

  // `RequireObjectCoercible` abstract operation
  // https://tc39.es/ecma262/#sec-requireobjectcoercible
  var requireObjectCoercible$4 = function (it) {
    if (isNullOrUndefined$2(it)) throw $TypeError$7("Can't call method on " + it);
    return it;
  };

  // toObject with fallback for non-array-like ES3 strings
  var IndexedObject$3 = indexedObject;
  var requireObjectCoercible$3 = requireObjectCoercible$4;

  var toIndexedObject$6 = function (it) {
    return IndexedObject$3(requireObjectCoercible$3(it));
  };

  var documentAll$2 = typeof document == 'object' && document.all;

  // https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot
  var IS_HTMLDDA = typeof documentAll$2 == 'undefined' && documentAll$2 !== undefined;

  var documentAll_1 = {
    all: documentAll$2,
    IS_HTMLDDA: IS_HTMLDDA
  };

  var $documentAll$1 = documentAll_1;

  var documentAll$1 = $documentAll$1.all;

  // `IsCallable` abstract operation
  // https://tc39.es/ecma262/#sec-iscallable
  var isCallable$e = $documentAll$1.IS_HTMLDDA ? function (argument) {
    return typeof argument == 'function' || argument === documentAll$1;
  } : function (argument) {
    return typeof argument == 'function';
  };

  var isCallable$d = isCallable$e;
  var $documentAll = documentAll_1;

  var documentAll = $documentAll.all;

  var isObject$8 = $documentAll.IS_HTMLDDA ? function (it) {
    return typeof it == 'object' ? it !== null : isCallable$d(it) || it === documentAll;
  } : function (it) {
    return typeof it == 'object' ? it !== null : isCallable$d(it);
  };

  var global$d = global$e;
  var isCallable$c = isCallable$e;

  var aFunction = function (argument) {
    return isCallable$c(argument) ? argument : undefined;
  };

  var getBuiltIn$5 = function (namespace, method) {
    return arguments.length < 2 ? aFunction(global$d[namespace]) : global$d[namespace] && global$d[namespace][method];
  };

  var uncurryThis$g = functionUncurryThis;

  var objectIsPrototypeOf = uncurryThis$g({}.isPrototypeOf);

  var getBuiltIn$4 = getBuiltIn$5;

  var engineUserAgent = getBuiltIn$4('navigator', 'userAgent') || '';

  var global$c = global$e;
  var userAgent = engineUserAgent;

  var process = global$c.process;
  var Deno = global$c.Deno;
  var versions = process && process.versions || Deno && Deno.version;
  var v8 = versions && versions.v8;
  var match, version;

  if (v8) {
    match = v8.split('.');
    // in old Chrome, versions of V8 isn't V8 = Chrome / 10
    // but their correct versions are not interesting for us
    version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);
  }

  // BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`
  // so check `userAgent` even if `.v8` exists, but 0
  if (!version && userAgent) {
    match = userAgent.match(/Edge\/(\d+)/);
    if (!match || match[1] >= 74) {
      match = userAgent.match(/Chrome\/(\d+)/);
      if (match) version = +match[1];
    }
  }

  var engineV8Version = version;

  /* eslint-disable es/no-symbol -- required for testing */

  var V8_VERSION$2 = engineV8Version;
  var fails$e = fails$i;

  // eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing
  var symbolConstructorDetection = !!Object.getOwnPropertySymbols && !fails$e(function () {
    var symbol = Symbol();
    // Chrome 38 Symbol has incorrect toString conversion
    // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances
    return !String(symbol) || !(Object(symbol) instanceof Symbol) ||
      // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances
      !Symbol.sham && V8_VERSION$2 && V8_VERSION$2 < 41;
  });

  /* eslint-disable es/no-symbol -- required for testing */

  var NATIVE_SYMBOL$1 = symbolConstructorDetection;

  var useSymbolAsUid = NATIVE_SYMBOL$1
    && !Symbol.sham
    && typeof Symbol.iterator == 'symbol';

  var getBuiltIn$3 = getBuiltIn$5;
  var isCallable$b = isCallable$e;
  var isPrototypeOf = objectIsPrototypeOf;
  var USE_SYMBOL_AS_UID$1 = useSymbolAsUid;

  var $Object$2 = Object;

  var isSymbol$2 = USE_SYMBOL_AS_UID$1 ? function (it) {
    return typeof it == 'symbol';
  } : function (it) {
    var $Symbol = getBuiltIn$3('Symbol');
    return isCallable$b($Symbol) && isPrototypeOf($Symbol.prototype, $Object$2(it));
  };

  var $String$2 = String;

  var tryToString$1 = function (argument) {
    try {
      return $String$2(argument);
    } catch (error) {
      return 'Object';
    }
  };

  var isCallable$a = isCallable$e;
  var tryToString = tryToString$1;

  var $TypeError$6 = TypeError;

  // `Assert: IsCallable(argument) is true`
  var aCallable$2 = function (argument) {
    if (isCallable$a(argument)) return argument;
    throw $TypeError$6(tryToString(argument) + ' is not a function');
  };

  var aCallable$1 = aCallable$2;
  var isNullOrUndefined$1 = isNullOrUndefined$3;

  // `GetMethod` abstract operation
  // https://tc39.es/ecma262/#sec-getmethod
  var getMethod$2 = function (V, P) {
    var func = V[P];
    return isNullOrUndefined$1(func) ? undefined : aCallable$1(func);
  };

  var call$7 = functionCall;
  var isCallable$9 = isCallable$e;
  var isObject$7 = isObject$8;

  var $TypeError$5 = TypeError;

  // `OrdinaryToPrimitive` abstract operation
  // https://tc39.es/ecma262/#sec-ordinarytoprimitive
  var ordinaryToPrimitive$1 = function (input, pref) {
    var fn, val;
    if (pref === 'string' && isCallable$9(fn = input.toString) && !isObject$7(val = call$7(fn, input))) return val;
    if (isCallable$9(fn = input.valueOf) && !isObject$7(val = call$7(fn, input))) return val;
    if (pref !== 'string' && isCallable$9(fn = input.toString) && !isObject$7(val = call$7(fn, input))) return val;
    throw $TypeError$5("Can't convert object to primitive value");
  };

  var shared$4 = {exports: {}};

  var global$b = global$e;

  // eslint-disable-next-line es/no-object-defineproperty -- safe
  var defineProperty$3 = Object.defineProperty;

  var defineGlobalProperty$3 = function (key, value) {
    try {
      defineProperty$3(global$b, key, { value: value, configurable: true, writable: true });
    } catch (error) {
      global$b[key] = value;
    } return value;
  };

  var global$a = global$e;
  var defineGlobalProperty$2 = defineGlobalProperty$3;

  var SHARED = '__core-js_shared__';
  var store$3 = global$a[SHARED] || defineGlobalProperty$2(SHARED, {});

  var sharedStore = store$3;

  var store$2 = sharedStore;

  (shared$4.exports = function (key, value) {
    return store$2[key] || (store$2[key] = value !== undefined ? value : {});
  })('versions', []).push({
    version: '3.25.5',
    mode: 'global',
    copyright: '© 2014-2022 Denis Pushkarev (zloirock.ru)',
    license: 'https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE',
    source: 'https://github.com/zloirock/core-js'
  });

  var requireObjectCoercible$2 = requireObjectCoercible$4;

  var $Object$1 = Object;

  // `ToObject` abstract operation
  // https://tc39.es/ecma262/#sec-toobject
  var toObject$5 = function (argument) {
    return $Object$1(requireObjectCoercible$2(argument));
  };

  var uncurryThis$f = functionUncurryThis;
  var toObject$4 = toObject$5;

  var hasOwnProperty = uncurryThis$f({}.hasOwnProperty);

  // `HasOwnProperty` abstract operation
  // https://tc39.es/ecma262/#sec-hasownproperty
  // eslint-disable-next-line es/no-object-hasown -- safe
  var hasOwnProperty_1 = Object.hasOwn || function hasOwn(it, key) {
    return hasOwnProperty(toObject$4(it), key);
  };

  var uncurryThis$e = functionUncurryThis;

  var id = 0;
  var postfix = Math.random();
  var toString$5 = uncurryThis$e(1.0.toString);

  var uid$2 = function (key) {
    return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString$5(++id + postfix, 36);
  };

  var global$9 = global$e;
  var shared$3 = shared$4.exports;
  var hasOwn$6 = hasOwnProperty_1;
  var uid$1 = uid$2;
  var NATIVE_SYMBOL = symbolConstructorDetection;
  var USE_SYMBOL_AS_UID = useSymbolAsUid;

  var WellKnownSymbolsStore = shared$3('wks');
  var Symbol$1 = global$9.Symbol;
  var symbolFor = Symbol$1 && Symbol$1['for'];
  var createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol$1 : Symbol$1 && Symbol$1.withoutSetter || uid$1;

  var wellKnownSymbol$a = function (name) {
    if (!hasOwn$6(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {
      var description = 'Symbol.' + name;
      if (NATIVE_SYMBOL && hasOwn$6(Symbol$1, name)) {
        WellKnownSymbolsStore[name] = Symbol$1[name];
      } else if (USE_SYMBOL_AS_UID && symbolFor) {
        WellKnownSymbolsStore[name] = symbolFor(description);
      } else {
        WellKnownSymbolsStore[name] = createWellKnownSymbol(description);
      }
    } return WellKnownSymbolsStore[name];
  };

  var call$6 = functionCall;
  var isObject$6 = isObject$8;
  var isSymbol$1 = isSymbol$2;
  var getMethod$1 = getMethod$2;
  var ordinaryToPrimitive = ordinaryToPrimitive$1;
  var wellKnownSymbol$9 = wellKnownSymbol$a;

  var $TypeError$4 = TypeError;
  var TO_PRIMITIVE = wellKnownSymbol$9('toPrimitive');

  // `ToPrimitive` abstract operation
  // https://tc39.es/ecma262/#sec-toprimitive
  var toPrimitive$1 = function (input, pref) {
    if (!isObject$6(input) || isSymbol$1(input)) return input;
    var exoticToPrim = getMethod$1(input, TO_PRIMITIVE);
    var result;
    if (exoticToPrim) {
      if (pref === undefined) pref = 'default';
      result = call$6(exoticToPrim, input, pref);
      if (!isObject$6(result) || isSymbol$1(result)) return result;
      throw $TypeError$4("Can't convert object to primitive value");
    }
    if (pref === undefined) pref = 'number';
    return ordinaryToPrimitive(input, pref);
  };

  var toPrimitive = toPrimitive$1;
  var isSymbol = isSymbol$2;

  // `ToPropertyKey` abstract operation
  // https://tc39.es/ecma262/#sec-topropertykey
  var toPropertyKey$3 = function (argument) {
    var key = toPrimitive(argument, 'string');
    return isSymbol(key) ? key : key + '';
  };

  var global$8 = global$e;
  var isObject$5 = isObject$8;

  var document$1 = global$8.document;
  // typeof document.createElement is 'object' in old IE
  var EXISTS$1 = isObject$5(document$1) && isObject$5(document$1.createElement);

  var documentCreateElement$2 = function (it) {
    return EXISTS$1 ? document$1.createElement(it) : {};
  };

  var DESCRIPTORS$8 = descriptors;
  var fails$d = fails$i;
  var createElement = documentCreateElement$2;

  // Thanks to IE8 for its funny defineProperty
  var ie8DomDefine = !DESCRIPTORS$8 && !fails$d(function () {
    // eslint-disable-next-line es/no-object-defineproperty -- required for testing
    return Object.defineProperty(createElement('div'), 'a', {
      get: function () { return 7; }
    }).a != 7;
  });

  var DESCRIPTORS$7 = descriptors;
  var call$5 = functionCall;
  var propertyIsEnumerableModule$1 = objectPropertyIsEnumerable;
  var createPropertyDescriptor$2 = createPropertyDescriptor$3;
  var toIndexedObject$5 = toIndexedObject$6;
  var toPropertyKey$2 = toPropertyKey$3;
  var hasOwn$5 = hasOwnProperty_1;
  var IE8_DOM_DEFINE$1 = ie8DomDefine;

  // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
  var $getOwnPropertyDescriptor$1 = Object.getOwnPropertyDescriptor;

  // `Object.getOwnPropertyDescriptor` method
  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptor
  objectGetOwnPropertyDescriptor.f = DESCRIPTORS$7 ? $getOwnPropertyDescriptor$1 : function getOwnPropertyDescriptor(O, P) {
    O = toIndexedObject$5(O);
    P = toPropertyKey$2(P);
    if (IE8_DOM_DEFINE$1) try {
      return $getOwnPropertyDescriptor$1(O, P);
    } catch (error) { /* empty */ }
    if (hasOwn$5(O, P)) return createPropertyDescriptor$2(!call$5(propertyIsEnumerableModule$1.f, O, P), O[P]);
  };

  var objectDefineProperty = {};

  var DESCRIPTORS$6 = descriptors;
  var fails$c = fails$i;

  // V8 ~ Chrome 36-
  // https://bugs.chromium.org/p/v8/issues/detail?id=3334
  var v8PrototypeDefineBug = DESCRIPTORS$6 && fails$c(function () {
    // eslint-disable-next-line es/no-object-defineproperty -- required for testing
    return Object.defineProperty(function () { /* empty */ }, 'prototype', {
      value: 42,
      writable: false
    }).prototype != 42;
  });

  var isObject$4 = isObject$8;

  var $String$1 = String;
  var $TypeError$3 = TypeError;

  // `Assert: Type(argument) is Object`
  var anObject$7 = function (argument) {
    if (isObject$4(argument)) return argument;
    throw $TypeError$3($String$1(argument) + ' is not an object');
  };

  var DESCRIPTORS$5 = descriptors;
  var IE8_DOM_DEFINE = ie8DomDefine;
  var V8_PROTOTYPE_DEFINE_BUG$1 = v8PrototypeDefineBug;
  var anObject$6 = anObject$7;
  var toPropertyKey$1 = toPropertyKey$3;

  var $TypeError$2 = TypeError;
  // eslint-disable-next-line es/no-object-defineproperty -- safe
  var $defineProperty = Object.defineProperty;
  // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
  var $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
  var ENUMERABLE = 'enumerable';
  var CONFIGURABLE$1 = 'configurable';
  var WRITABLE = 'writable';

  // `Object.defineProperty` method
  // https://tc39.es/ecma262/#sec-object.defineproperty
  objectDefineProperty.f = DESCRIPTORS$5 ? V8_PROTOTYPE_DEFINE_BUG$1 ? function defineProperty(O, P, Attributes) {
    anObject$6(O);
    P = toPropertyKey$1(P);
    anObject$6(Attributes);
    if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {
      var current = $getOwnPropertyDescriptor(O, P);
      if (current && current[WRITABLE]) {
        O[P] = Attributes.value;
        Attributes = {
          configurable: CONFIGURABLE$1 in Attributes ? Attributes[CONFIGURABLE$1] : current[CONFIGURABLE$1],
          enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],
          writable: false
        };
      }
    } return $defineProperty(O, P, Attributes);
  } : $defineProperty : function defineProperty(O, P, Attributes) {
    anObject$6(O);
    P = toPropertyKey$1(P);
    anObject$6(Attributes);
    if (IE8_DOM_DEFINE) try {
      return $defineProperty(O, P, Attributes);
    } catch (error) { /* empty */ }
    if ('get' in Attributes || 'set' in Attributes) throw $TypeError$2('Accessors not supported');
    if ('value' in Attributes) O[P] = Attributes.value;
    return O;
  };

  var DESCRIPTORS$4 = descriptors;
  var definePropertyModule$4 = objectDefineProperty;
  var createPropertyDescriptor$1 = createPropertyDescriptor$3;

  var createNonEnumerableProperty$4 = DESCRIPTORS$4 ? function (object, key, value) {
    return definePropertyModule$4.f(object, key, createPropertyDescriptor$1(1, value));
  } : function (object, key, value) {
    object[key] = value;
    return object;
  };

  var makeBuiltIn$2 = {exports: {}};

  var DESCRIPTORS$3 = descriptors;
  var hasOwn$4 = hasOwnProperty_1;

  var FunctionPrototype$1 = Function.prototype;
  // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
  var getDescriptor = DESCRIPTORS$3 && Object.getOwnPropertyDescriptor;

  var EXISTS = hasOwn$4(FunctionPrototype$1, 'name');
  // additional protection from minified / mangled / dropped function names
  var PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';
  var CONFIGURABLE = EXISTS && (!DESCRIPTORS$3 || (DESCRIPTORS$3 && getDescriptor(FunctionPrototype$1, 'name').configurable));

  var functionName = {
    EXISTS: EXISTS,
    PROPER: PROPER,
    CONFIGURABLE: CONFIGURABLE
  };

  var uncurryThis$d = functionUncurryThis;
  var isCallable$8 = isCallable$e;
  var store$1 = sharedStore;

  var functionToString = uncurryThis$d(Function.toString);

  // this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper
  if (!isCallable$8(store$1.inspectSource)) {
    store$1.inspectSource = function (it) {
      return functionToString(it);
    };
  }

  var inspectSource$2 = store$1.inspectSource;

  var global$7 = global$e;
  var isCallable$7 = isCallable$e;

  var WeakMap$1 = global$7.WeakMap;

  var weakMapBasicDetection = isCallable$7(WeakMap$1) && /native code/.test(String(WeakMap$1));

  var shared$2 = shared$4.exports;
  var uid = uid$2;

  var keys = shared$2('keys');

  var sharedKey$2 = function (key) {
    return keys[key] || (keys[key] = uid(key));
  };

  var hiddenKeys$4 = {};

  var NATIVE_WEAK_MAP = weakMapBasicDetection;
  var global$6 = global$e;
  var isObject$3 = isObject$8;
  var createNonEnumerableProperty$3 = createNonEnumerableProperty$4;
  var hasOwn$3 = hasOwnProperty_1;
  var shared$1 = sharedStore;
  var sharedKey$1 = sharedKey$2;
  var hiddenKeys$3 = hiddenKeys$4;

  var OBJECT_ALREADY_INITIALIZED = 'Object already initialized';
  var TypeError$1 = global$6.TypeError;
  var WeakMap = global$6.WeakMap;
  var set, get, has;

  var enforce = function (it) {
    return has(it) ? get(it) : set(it, {});
  };

  var getterFor = function (TYPE) {
    return function (it) {
      var state;
      if (!isObject$3(it) || (state = get(it)).type !== TYPE) {
        throw TypeError$1('Incompatible receiver, ' + TYPE + ' required');
      } return state;
    };
  };

  if (NATIVE_WEAK_MAP || shared$1.state) {
    var store = shared$1.state || (shared$1.state = new WeakMap());
    /* eslint-disable no-self-assign -- prototype methods protection */
    store.get = store.get;
    store.has = store.has;
    store.set = store.set;
    /* eslint-enable no-self-assign -- prototype methods protection */
    set = function (it, metadata) {
      if (store.has(it)) throw TypeError$1(OBJECT_ALREADY_INITIALIZED);
      metadata.facade = it;
      store.set(it, metadata);
      return metadata;
    };
    get = function (it) {
      return store.get(it) || {};
    };
    has = function (it) {
      return store.has(it);
    };
  } else {
    var STATE = sharedKey$1('state');
    hiddenKeys$3[STATE] = true;
    set = function (it, metadata) {
      if (hasOwn$3(it, STATE)) throw TypeError$1(OBJECT_ALREADY_INITIALIZED);
      metadata.facade = it;
      createNonEnumerableProperty$3(it, STATE, metadata);
      return metadata;
    };
    get = function (it) {
      return hasOwn$3(it, STATE) ? it[STATE] : {};
    };
    has = function (it) {
      return hasOwn$3(it, STATE);
    };
  }

  var internalState = {
    set: set,
    get: get,
    has: has,
    enforce: enforce,
    getterFor: getterFor
  };

  var fails$b = fails$i;
  var isCallable$6 = isCallable$e;
  var hasOwn$2 = hasOwnProperty_1;
  var DESCRIPTORS$2 = descriptors;
  var CONFIGURABLE_FUNCTION_NAME = functionName.CONFIGURABLE;
  var inspectSource$1 = inspectSource$2;
  var InternalStateModule = internalState;

  var enforceInternalState = InternalStateModule.enforce;
  var getInternalState$1 = InternalStateModule.get;
  // eslint-disable-next-line es/no-object-defineproperty -- safe
  var defineProperty$2 = Object.defineProperty;

  var CONFIGURABLE_LENGTH = DESCRIPTORS$2 && !fails$b(function () {
    return defineProperty$2(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;
  });

  var TEMPLATE = String(String).split('String');

  var makeBuiltIn$1 = makeBuiltIn$2.exports = function (value, name, options) {
    if (String(name).slice(0, 7) === 'Symbol(') {
      name = '[' + String(name).replace(/^Symbol\(([^)]*)\)/, '$1') + ']';
    }
    if (options && options.getter) name = 'get ' + name;
    if (options && options.setter) name = 'set ' + name;
    if (!hasOwn$2(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {
      if (DESCRIPTORS$2) defineProperty$2(value, 'name', { value: name, configurable: true });
      else value.name = name;
    }
    if (CONFIGURABLE_LENGTH && options && hasOwn$2(options, 'arity') && value.length !== options.arity) {
      defineProperty$2(value, 'length', { value: options.arity });
    }
    try {
      if (options && hasOwn$2(options, 'constructor') && options.constructor) {
        if (DESCRIPTORS$2) defineProperty$2(value, 'prototype', { writable: false });
      // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable
      } else if (value.prototype) value.prototype = undefined;
    } catch (error) { /* empty */ }
    var state = enforceInternalState(value);
    if (!hasOwn$2(state, 'source')) {
      state.source = TEMPLATE.join(typeof name == 'string' ? name : '');
    } return value;
  };

  // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative
  // eslint-disable-next-line no-extend-native -- required
  Function.prototype.toString = makeBuiltIn$1(function toString() {
    return isCallable$6(this) && getInternalState$1(this).source || inspectSource$1(this);
  }, 'toString');

  var isCallable$5 = isCallable$e;
  var definePropertyModule$3 = objectDefineProperty;
  var makeBuiltIn = makeBuiltIn$2.exports;
  var defineGlobalProperty$1 = defineGlobalProperty$3;

  var defineBuiltIn$3 = function (O, key, value, options) {
    if (!options) options = {};
    var simple = options.enumerable;
    var name = options.name !== undefined ? options.name : key;
    if (isCallable$5(value)) makeBuiltIn(value, name, options);
    if (options.global) {
      if (simple) O[key] = value;
      else defineGlobalProperty$1(key, value);
    } else {
      try {
        if (!options.unsafe) delete O[key];
        else if (O[key]) simple = true;
      } catch (error) { /* empty */ }
      if (simple) O[key] = value;
      else definePropertyModule$3.f(O, key, {
        value: value,
        enumerable: false,
        configurable: !options.nonConfigurable,
        writable: !options.nonWritable
      });
    } return O;
  };

  var objectGetOwnPropertyNames = {};

  var ceil = Math.ceil;
  var floor$1 = Math.floor;

  // `Math.trunc` method
  // https://tc39.es/ecma262/#sec-math.trunc
  // eslint-disable-next-line es/no-math-trunc -- safe
  var mathTrunc = Math.trunc || function trunc(x) {
    var n = +x;
    return (n > 0 ? floor$1 : ceil)(n);
  };

  var trunc = mathTrunc;

  // `ToIntegerOrInfinity` abstract operation
  // https://tc39.es/ecma262/#sec-tointegerorinfinity
  var toIntegerOrInfinity$4 = function (argument) {
    var number = +argument;
    // eslint-disable-next-line no-self-compare -- NaN check
    return number !== number || number === 0 ? 0 : trunc(number);
  };

  var toIntegerOrInfinity$3 = toIntegerOrInfinity$4;

  var max$2 = Math.max;
  var min$2 = Math.min;

  // Helper for a popular repeating case of the spec:
  // Let integer be ? ToInteger(index).
  // If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).
  var toAbsoluteIndex$2 = function (index, length) {
    var integer = toIntegerOrInfinity$3(index);
    return integer < 0 ? max$2(integer + length, 0) : min$2(integer, length);
  };

  var toIntegerOrInfinity$2 = toIntegerOrInfinity$4;

  var min$1 = Math.min;

  // `ToLength` abstract operation
  // https://tc39.es/ecma262/#sec-tolength
  var toLength$2 = function (argument) {
    return argument > 0 ? min$1(toIntegerOrInfinity$2(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991
  };

  var toLength$1 = toLength$2;

  // `LengthOfArrayLike` abstract operation
  // https://tc39.es/ecma262/#sec-lengthofarraylike
  var lengthOfArrayLike$4 = function (obj) {
    return toLength$1(obj.length);
  };

  var toIndexedObject$4 = toIndexedObject$6;
  var toAbsoluteIndex$1 = toAbsoluteIndex$2;
  var lengthOfArrayLike$3 = lengthOfArrayLike$4;

  // `Array.prototype.{ indexOf, includes }` methods implementation
  var createMethod$2 = function (IS_INCLUDES) {
    return function ($this, el, fromIndex) {
      var O = toIndexedObject$4($this);
      var length = lengthOfArrayLike$3(O);
      var index = toAbsoluteIndex$1(fromIndex, length);
      var value;
      // Array#includes uses SameValueZero equality algorithm
      // eslint-disable-next-line no-self-compare -- NaN check
      if (IS_INCLUDES && el != el) while (length > index) {
        value = O[index++];
        // eslint-disable-next-line no-self-compare -- NaN check
        if (value != value) return true;
      // Array#indexOf ignores holes, Array#includes - not
      } else for (;length > index; index++) {
        if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;
      } return !IS_INCLUDES && -1;
    };
  };

  var arrayIncludes = {
    // `Array.prototype.includes` method
    // https://tc39.es/ecma262/#sec-array.prototype.includes
    includes: createMethod$2(true),
    // `Array.prototype.indexOf` method
    // https://tc39.es/ecma262/#sec-array.prototype.indexof
    indexOf: createMethod$2(false)
  };

  var uncurryThis$c = functionUncurryThis;
  var hasOwn$1 = hasOwnProperty_1;
  var toIndexedObject$3 = toIndexedObject$6;
  var indexOf$1 = arrayIncludes.indexOf;
  var hiddenKeys$2 = hiddenKeys$4;

  var push$2 = uncurryThis$c([].push);

  var objectKeysInternal = function (object, names) {
    var O = toIndexedObject$3(object);
    var i = 0;
    var result = [];
    var key;
    for (key in O) !hasOwn$1(hiddenKeys$2, key) && hasOwn$1(O, key) && push$2(result, key);
    // Don't enum bug & hidden keys
    while (names.length > i) if (hasOwn$1(O, key = names[i++])) {
      ~indexOf$1(result, key) || push$2(result, key);
    }
    return result;
  };

  // IE8- don't enum bug keys
  var enumBugKeys$3 = [
    'constructor',
    'hasOwnProperty',
    'isPrototypeOf',
    'propertyIsEnumerable',
    'toLocaleString',
    'toString',
    'valueOf'
  ];

  var internalObjectKeys$1 = objectKeysInternal;
  var enumBugKeys$2 = enumBugKeys$3;

  var hiddenKeys$1 = enumBugKeys$2.concat('length', 'prototype');

  // `Object.getOwnPropertyNames` method
  // https://tc39.es/ecma262/#sec-object.getownpropertynames
  // eslint-disable-next-line es/no-object-getownpropertynames -- safe
  objectGetOwnPropertyNames.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
    return internalObjectKeys$1(O, hiddenKeys$1);
  };

  var objectGetOwnPropertySymbols = {};

  // eslint-disable-next-line es/no-object-getownpropertysymbols -- safe
  objectGetOwnPropertySymbols.f = Object.getOwnPropertySymbols;

  var getBuiltIn$2 = getBuiltIn$5;
  var uncurryThis$b = functionUncurryThis;
  var getOwnPropertyNamesModule = objectGetOwnPropertyNames;
  var getOwnPropertySymbolsModule$1 = objectGetOwnPropertySymbols;
  var anObject$5 = anObject$7;

  var concat$2 = uncurryThis$b([].concat);

  // all object keys, includes non-enumerable and symbols
  var ownKeys$1 = getBuiltIn$2('Reflect', 'ownKeys') || function ownKeys(it) {
    var keys = getOwnPropertyNamesModule.f(anObject$5(it));
    var getOwnPropertySymbols = getOwnPropertySymbolsModule$1.f;
    return getOwnPropertySymbols ? concat$2(keys, getOwnPropertySymbols(it)) : keys;
  };

  var hasOwn = hasOwnProperty_1;
  var ownKeys = ownKeys$1;
  var getOwnPropertyDescriptorModule = objectGetOwnPropertyDescriptor;
  var definePropertyModule$2 = objectDefineProperty;

  var copyConstructorProperties$1 = function (target, source, exceptions) {
    var keys = ownKeys(source);
    var defineProperty = definePropertyModule$2.f;
    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
    for (var i = 0; i < keys.length; i++) {
      var key = keys[i];
      if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {
        defineProperty(target, key, getOwnPropertyDescriptor(source, key));
      }
    }
  };

  var fails$a = fails$i;
  var isCallable$4 = isCallable$e;

  var replacement = /#|\.prototype\./;

  var isForced$1 = function (feature, detection) {
    var value = data[normalize(feature)];
    return value == POLYFILL ? true
      : value == NATIVE ? false
      : isCallable$4(detection) ? fails$a(detection)
      : !!detection;
  };

  var normalize = isForced$1.normalize = function (string) {
    return String(string).replace(replacement, '.').toLowerCase();
  };

  var data = isForced$1.data = {};
  var NATIVE = isForced$1.NATIVE = 'N';
  var POLYFILL = isForced$1.POLYFILL = 'P';

  var isForced_1 = isForced$1;

  var global$5 = global$e;
  var getOwnPropertyDescriptor = objectGetOwnPropertyDescriptor.f;
  var createNonEnumerableProperty$2 = createNonEnumerableProperty$4;
  var defineBuiltIn$2 = defineBuiltIn$3;
  var defineGlobalProperty = defineGlobalProperty$3;
  var copyConstructorProperties = copyConstructorProperties$1;
  var isForced = isForced_1;

  /*
    options.target         - name of the target object
    options.global         - target is the global object
    options.stat           - export as static methods of target
    options.proto          - export as prototype methods of target
    options.real           - real prototype method for the `pure` version
    options.forced         - export even if the native feature is available
    options.bind           - bind methods to the target, required for the `pure` version
    options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version
    options.unsafe         - use the simple assignment of property instead of delete + defineProperty
    options.sham           - add a flag to not completely full polyfills
    options.enumerable     - export as enumerable property
    options.dontCallGetSet - prevent calling a getter on target
    options.name           - the .name of the function if it does not match the key
  */
  var _export = function (options, source) {
    var TARGET = options.target;
    var GLOBAL = options.global;
    var STATIC = options.stat;
    var FORCED, target, key, targetProperty, sourceProperty, descriptor;
    if (GLOBAL) {
      target = global$5;
    } else if (STATIC) {
      target = global$5[TARGET] || defineGlobalProperty(TARGET, {});
    } else {
      target = (global$5[TARGET] || {}).prototype;
    }
    if (target) for (key in source) {
      sourceProperty = source[key];
      if (options.dontCallGetSet) {
        descriptor = getOwnPropertyDescriptor(target, key);
        targetProperty = descriptor && descriptor.value;
      } else targetProperty = target[key];
      FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);
      // contained in target
      if (!FORCED && targetProperty !== undefined) {
        if (typeof sourceProperty == typeof targetProperty) continue;
        copyConstructorProperties(sourceProperty, targetProperty);
      }
      // add a flag to not completely full polyfills
      if (options.sham || (targetProperty && targetProperty.sham)) {
        createNonEnumerableProperty$2(sourceProperty, 'sham', true);
      }
      defineBuiltIn$2(target, key, sourceProperty, options);
    }
  };

  var wellKnownSymbol$8 = wellKnownSymbol$a;

  var TO_STRING_TAG$1 = wellKnownSymbol$8('toStringTag');
  var test = {};

  test[TO_STRING_TAG$1] = 'z';

  var toStringTagSupport = String(test) === '[object z]';

  var TO_STRING_TAG_SUPPORT$2 = toStringTagSupport;
  var isCallable$3 = isCallable$e;
  var classofRaw = classofRaw$2;
  var wellKnownSymbol$7 = wellKnownSymbol$a;

  var TO_STRING_TAG = wellKnownSymbol$7('toStringTag');
  var $Object = Object;

  // ES3 wrong here
  var CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';

  // fallback for IE11 Script Access Denied error
  var tryGet = function (it, key) {
    try {
      return it[key];
    } catch (error) { /* empty */ }
  };

  // getting tag from ES6+ `Object.prototype.toString`
  var classof$5 = TO_STRING_TAG_SUPPORT$2 ? classofRaw : function (it) {
    var O, tag, result;
    return it === undefined ? 'Undefined' : it === null ? 'Null'
      // @@toStringTag case
      : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag
      // builtinTag case
      : CORRECT_ARGUMENTS ? classofRaw(O)
      // ES3 arguments fallback
      : (result = classofRaw(O)) == 'Object' && isCallable$3(O.callee) ? 'Arguments' : result;
  };

  var classof$4 = classof$5;

  var $String = String;

  var toString$4 = function (argument) {
    if (classof$4(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');
    return $String(argument);
  };

  var anObject$4 = anObject$7;

  // `RegExp.prototype.flags` getter implementation
  // https://tc39.es/ecma262/#sec-get-regexp.prototype.flags
  var regexpFlags$1 = function () {
    var that = anObject$4(this);
    var result = '';
    if (that.hasIndices) result += 'd';
    if (that.global) result += 'g';
    if (that.ignoreCase) result += 'i';
    if (that.multiline) result += 'm';
    if (that.dotAll) result += 's';
    if (that.unicode) result += 'u';
    if (that.unicodeSets) result += 'v';
    if (that.sticky) result += 'y';
    return result;
  };

  var fails$9 = fails$i;
  var global$4 = global$e;

  // babel-minify and Closure Compiler transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError
  var $RegExp$2 = global$4.RegExp;

  var UNSUPPORTED_Y$1 = fails$9(function () {
    var re = $RegExp$2('a', 'y');
    re.lastIndex = 2;
    return re.exec('abcd') != null;
  });

  // UC Browser bug
  // https://github.com/zloirock/core-js/issues/1008
  var MISSED_STICKY = UNSUPPORTED_Y$1 || fails$9(function () {
    return !$RegExp$2('a', 'y').sticky;
  });

  var BROKEN_CARET = UNSUPPORTED_Y$1 || fails$9(function () {
    // https://bugzilla.mozilla.org/show_bug.cgi?id=773687
    var re = $RegExp$2('^r', 'gy');
    re.lastIndex = 2;
    return re.exec('str') != null;
  });

  var regexpStickyHelpers = {
    BROKEN_CARET: BROKEN_CARET,
    MISSED_STICKY: MISSED_STICKY,
    UNSUPPORTED_Y: UNSUPPORTED_Y$1
  };

  var objectDefineProperties = {};

  var internalObjectKeys = objectKeysInternal;
  var enumBugKeys$1 = enumBugKeys$3;

  // `Object.keys` method
  // https://tc39.es/ecma262/#sec-object.keys
  // eslint-disable-next-line es/no-object-keys -- safe
  var objectKeys$2 = Object.keys || function keys(O) {
    return internalObjectKeys(O, enumBugKeys$1);
  };

  var DESCRIPTORS$1 = descriptors;
  var V8_PROTOTYPE_DEFINE_BUG = v8PrototypeDefineBug;
  var definePropertyModule$1 = objectDefineProperty;
  var anObject$3 = anObject$7;
  var toIndexedObject$2 = toIndexedObject$6;
  var objectKeys$1 = objectKeys$2;

  // `Object.defineProperties` method
  // https://tc39.es/ecma262/#sec-object.defineproperties
  // eslint-disable-next-line es/no-object-defineproperties -- safe
  objectDefineProperties.f = DESCRIPTORS$1 && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {
    anObject$3(O);
    var props = toIndexedObject$2(Properties);
    var keys = objectKeys$1(Properties);
    var length = keys.length;
    var index = 0;
    var key;
    while (length > index) definePropertyModule$1.f(O, key = keys[index++], props[key]);
    return O;
  };

  var getBuiltIn$1 = getBuiltIn$5;

  var html$1 = getBuiltIn$1('document', 'documentElement');

  /* global ActiveXObject -- old IE, WSH */

  var anObject$2 = anObject$7;
  var definePropertiesModule = objectDefineProperties;
  var enumBugKeys = enumBugKeys$3;
  var hiddenKeys = hiddenKeys$4;
  var html = html$1;
  var documentCreateElement$1 = documentCreateElement$2;
  var sharedKey = sharedKey$2;

  var GT = '>';
  var LT = '<';
  var PROTOTYPE = 'prototype';
  var SCRIPT = 'script';
  var IE_PROTO = sharedKey('IE_PROTO');

  var EmptyConstructor = function () { /* empty */ };

  var scriptTag = function (content) {
    return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;
  };

  // Create object with fake `null` prototype: use ActiveX Object with cleared prototype
  var NullProtoObjectViaActiveX = function (activeXDocument) {
    activeXDocument.write(scriptTag(''));
    activeXDocument.close();
    var temp = activeXDocument.parentWindow.Object;
    activeXDocument = null; // avoid memory leak
    return temp;
  };

  // Create object with fake `null` prototype: use iframe Object with cleared prototype
  var NullProtoObjectViaIFrame = function () {
    // Thrash, waste and sodomy: IE GC bug
    var iframe = documentCreateElement$1('iframe');
    var JS = 'java' + SCRIPT + ':';
    var iframeDocument;
    iframe.style.display = 'none';
    html.appendChild(iframe);
    // https://github.com/zloirock/core-js/issues/475
    iframe.src = String(JS);
    iframeDocument = iframe.contentWindow.document;
    iframeDocument.open();
    iframeDocument.write(scriptTag('document.F=Object'));
    iframeDocument.close();
    return iframeDocument.F;
  };

  // Check for document.domain and active x support
  // No need to use active x approach when document.domain is not set
  // see https://github.com/es-shims/es5-shim/issues/150
  // variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346
  // avoid IE GC bug
  var activeXDocument;
  var NullProtoObject = function () {
    try {
      activeXDocument = new ActiveXObject('htmlfile');
    } catch (error) { /* ignore */ }
    NullProtoObject = typeof document != 'undefined'
      ? document.domain && activeXDocument
        ? NullProtoObjectViaActiveX(activeXDocument) // old IE
        : NullProtoObjectViaIFrame()
      : NullProtoObjectViaActiveX(activeXDocument); // WSH
    var length = enumBugKeys.length;
    while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];
    return NullProtoObject();
  };

  hiddenKeys[IE_PROTO] = true;

  // `Object.create` method
  // https://tc39.es/ecma262/#sec-object.create
  // eslint-disable-next-line es/no-object-create -- safe
  var objectCreate = Object.create || function create(O, Properties) {
    var result;
    if (O !== null) {
      EmptyConstructor[PROTOTYPE] = anObject$2(O);
      result = new EmptyConstructor();
      EmptyConstructor[PROTOTYPE] = null;
      // add "__proto__" for Object.getPrototypeOf polyfill
      result[IE_PROTO] = O;
    } else result = NullProtoObject();
    return Properties === undefined ? result : definePropertiesModule.f(result, Properties);
  };

  var fails$8 = fails$i;
  var global$3 = global$e;

  // babel-minify and Closure Compiler transpiles RegExp('.', 's') -> /./s and it causes SyntaxError
  var $RegExp$1 = global$3.RegExp;

  var regexpUnsupportedDotAll = fails$8(function () {
    var re = $RegExp$1('.', 's');
    return !(re.dotAll && re.exec('\n') && re.flags === 's');
  });

  var fails$7 = fails$i;
  var global$2 = global$e;

  // babel-minify and Closure Compiler transpiles RegExp('(?<a>b)', 'g') -> /(?<a>b)/g and it causes SyntaxError
  var $RegExp = global$2.RegExp;

  var regexpUnsupportedNcg = fails$7(function () {
    var re = $RegExp('(?<a>b)', 'g');
    return re.exec('b').groups.a !== 'b' ||
      'b'.replace(re, '$<a>c') !== 'bc';
  });

  /* eslint-disable regexp/no-empty-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */
  /* eslint-disable regexp/no-useless-quantifier -- testing */
  var call$4 = functionCall;
  var uncurryThis$a = functionUncurryThis;
  var toString$3 = toString$4;
  var regexpFlags = regexpFlags$1;
  var stickyHelpers = regexpStickyHelpers;
  var shared = shared$4.exports;
  var create$1 = objectCreate;
  var getInternalState = internalState.get;
  var UNSUPPORTED_DOT_ALL = regexpUnsupportedDotAll;
  var UNSUPPORTED_NCG = regexpUnsupportedNcg;

  var nativeReplace = shared('native-string-replace', String.prototype.replace);
  var nativeExec = RegExp.prototype.exec;
  var patchedExec = nativeExec;
  var charAt$3 = uncurryThis$a(''.charAt);
  var indexOf = uncurryThis$a(''.indexOf);
  var replace$1 = uncurryThis$a(''.replace);
  var stringSlice$3 = uncurryThis$a(''.slice);

  var UPDATES_LAST_INDEX_WRONG = (function () {
    var re1 = /a/;
    var re2 = /b*/g;
    call$4(nativeExec, re1, 'a');
    call$4(nativeExec, re2, 'a');
    return re1.lastIndex !== 0 || re2.lastIndex !== 0;
  })();

  var UNSUPPORTED_Y = stickyHelpers.BROKEN_CARET;

  // nonparticipating capturing group, copied from es5-shim's String#split patch.
  var NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;

  var PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG;

  if (PATCH) {
    patchedExec = function exec(string) {
      var re = this;
      var state = getInternalState(re);
      var str = toString$3(string);
      var raw = state.raw;
      var result, reCopy, lastIndex, match, i, object, group;

      if (raw) {
        raw.lastIndex = re.lastIndex;
        result = call$4(patchedExec, raw, str);
        re.lastIndex = raw.lastIndex;
        return result;
      }

      var groups = state.groups;
      var sticky = UNSUPPORTED_Y && re.sticky;
      var flags = call$4(regexpFlags, re);
      var source = re.source;
      var charsAdded = 0;
      var strCopy = str;

      if (sticky) {
        flags = replace$1(flags, 'y', '');
        if (indexOf(flags, 'g') === -1) {
          flags += 'g';
        }

        strCopy = stringSlice$3(str, re.lastIndex);
        // Support anchored sticky behavior.
        if (re.lastIndex > 0 && (!re.multiline || re.multiline && charAt$3(str, re.lastIndex - 1) !== '\n')) {
          source = '(?: ' + source + ')';
          strCopy = ' ' + strCopy;
          charsAdded++;
        }
        // ^(? + rx + ) is needed, in combination with some str slicing, to
        // simulate the 'y' flag.
        reCopy = new RegExp('^(?:' + source + ')', flags);
      }

      if (NPCG_INCLUDED) {
        reCopy = new RegExp('^' + source + '$(?!\\s)', flags);
      }
      if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;

      match = call$4(nativeExec, sticky ? reCopy : re, strCopy);

      if (sticky) {
        if (match) {
          match.input = stringSlice$3(match.input, charsAdded);
          match[0] = stringSlice$3(match[0], charsAdded);
          match.index = re.lastIndex;
          re.lastIndex += match[0].length;
        } else re.lastIndex = 0;
      } else if (UPDATES_LAST_INDEX_WRONG && match) {
        re.lastIndex = re.global ? match.index + match[0].length : lastIndex;
      }
      if (NPCG_INCLUDED && match && match.length > 1) {
        // Fix browsers whose `exec` methods don't consistently return `undefined`
        // for NPCG, like IE8. NOTE: This doesn't work for /(.?)?/
        call$4(nativeReplace, match[0], reCopy, function () {
          for (i = 1; i < arguments.length - 2; i++) {
            if (arguments[i] === undefined) match[i] = undefined;
          }
        });
      }

      if (match && groups) {
        match.groups = object = create$1(null);
        for (i = 0; i < groups.length; i++) {
          group = groups[i];
          object[group[0]] = match[group[1]];
        }
      }

      return match;
    };
  }

  var regexpExec$2 = patchedExec;

  var $$6 = _export;
  var exec$1 = regexpExec$2;

  // `RegExp.prototype.exec` method
  // https://tc39.es/ecma262/#sec-regexp.prototype.exec
  $$6({ target: 'RegExp', proto: true, forced: /./.exec !== exec$1 }, {
    exec: exec$1
  });

  var NATIVE_BIND$1 = functionBindNative;

  var FunctionPrototype = Function.prototype;
  var apply$1 = FunctionPrototype.apply;
  var call$3 = FunctionPrototype.call;

  // eslint-disable-next-line es/no-reflect -- safe
  var functionApply = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND$1 ? call$3.bind(apply$1) : function () {
    return call$3.apply(apply$1, arguments);
  });

  // TODO: Remove from `core-js@4` since it's moved to entry points

  var uncurryThis$9 = functionUncurryThis;
  var defineBuiltIn$1 = defineBuiltIn$3;
  var regexpExec$1 = regexpExec$2;
  var fails$6 = fails$i;
  var wellKnownSymbol$6 = wellKnownSymbol$a;
  var createNonEnumerableProperty$1 = createNonEnumerableProperty$4;

  var SPECIES$3 = wellKnownSymbol$6('species');
  var RegExpPrototype = RegExp.prototype;

  var fixRegexpWellKnownSymbolLogic = function (KEY, exec, FORCED, SHAM) {
    var SYMBOL = wellKnownSymbol$6(KEY);

    var DELEGATES_TO_SYMBOL = !fails$6(function () {
      // String methods call symbol-named RegEp methods
      var O = {};
      O[SYMBOL] = function () { return 7; };
      return ''[KEY](O) != 7;
    });

    var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails$6(function () {
      // Symbol-named RegExp methods call .exec
      var execCalled = false;
      var re = /a/;

      if (KEY === 'split') {
        // We can't use real regex here since it causes deoptimization
        // and serious performance degradation in V8
        // https://github.com/zloirock/core-js/issues/306
        re = {};
        // RegExp[@@split] doesn't call the regex's exec method, but first creates
        // a new one. We need to return the patched regex when creating the new one.
        re.constructor = {};
        re.constructor[SPECIES$3] = function () { return re; };
        re.flags = '';
        re[SYMBOL] = /./[SYMBOL];
      }

      re.exec = function () { execCalled = true; return null; };

      re[SYMBOL]('');
      return !execCalled;
    });

    if (
      !DELEGATES_TO_SYMBOL ||
      !DELEGATES_TO_EXEC ||
      FORCED
    ) {
      var uncurriedNativeRegExpMethod = uncurryThis$9(/./[SYMBOL]);
      var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {
        var uncurriedNativeMethod = uncurryThis$9(nativeMethod);
        var $exec = regexp.exec;
        if ($exec === regexpExec$1 || $exec === RegExpPrototype.exec) {
          if (DELEGATES_TO_SYMBOL && !forceStringMethod) {
            // The native String method already delegates to @@method (this
            // polyfilled function), leasing to infinite recursion.
            // We avoid it by directly calling the native @@method method.
            return { done: true, value: uncurriedNativeRegExpMethod(regexp, str, arg2) };
          }
          return { done: true, value: uncurriedNativeMethod(str, regexp, arg2) };
        }
        return { done: false };
      });

      defineBuiltIn$1(String.prototype, KEY, methods[0]);
      defineBuiltIn$1(RegExpPrototype, SYMBOL, methods[1]);
    }

    if (SHAM) createNonEnumerableProperty$1(RegExpPrototype[SYMBOL], 'sham', true);
  };

  var uncurryThis$8 = functionUncurryThis;
  var toIntegerOrInfinity$1 = toIntegerOrInfinity$4;
  var toString$2 = toString$4;
  var requireObjectCoercible$1 = requireObjectCoercible$4;

  var charAt$2 = uncurryThis$8(''.charAt);
  var charCodeAt = uncurryThis$8(''.charCodeAt);
  var stringSlice$2 = uncurryThis$8(''.slice);

  var createMethod$1 = function (CONVERT_TO_STRING) {
    return function ($this, pos) {
      var S = toString$2(requireObjectCoercible$1($this));
      var position = toIntegerOrInfinity$1(pos);
      var size = S.length;
      var first, second;
      if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;
      first = charCodeAt(S, position);
      return first < 0xD800 || first > 0xDBFF || position + 1 === size
        || (second = charCodeAt(S, position + 1)) < 0xDC00 || second > 0xDFFF
          ? CONVERT_TO_STRING
            ? charAt$2(S, position)
            : first
          : CONVERT_TO_STRING
            ? stringSlice$2(S, position, position + 2)
            : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;
    };
  };

  var stringMultibyte = {
    // `String.prototype.codePointAt` method
    // https://tc39.es/ecma262/#sec-string.prototype.codepointat
    codeAt: createMethod$1(false),
    // `String.prototype.at` method
    // https://github.com/mathiasbynens/String.prototype.at
    charAt: createMethod$1(true)
  };

  var charAt$1 = stringMultibyte.charAt;

  // `AdvanceStringIndex` abstract operation
  // https://tc39.es/ecma262/#sec-advancestringindex
  var advanceStringIndex$1 = function (S, index, unicode) {
    return index + (unicode ? charAt$1(S, index).length : 1);
  };

  var uncurryThis$7 = functionUncurryThis;
  var toObject$3 = toObject$5;

  var floor = Math.floor;
  var charAt = uncurryThis$7(''.charAt);
  var replace = uncurryThis$7(''.replace);
  var stringSlice$1 = uncurryThis$7(''.slice);
  var SUBSTITUTION_SYMBOLS = /\$([$&'`]|\d{1,2}|<[^>]*>)/g;
  var SUBSTITUTION_SYMBOLS_NO_NAMED = /\$([$&'`]|\d{1,2})/g;

  // `GetSubstitution` abstract operation
  // https://tc39.es/ecma262/#sec-getsubstitution
  var getSubstitution$1 = function (matched, str, position, captures, namedCaptures, replacement) {
    var tailPos = position + matched.length;
    var m = captures.length;
    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;
    if (namedCaptures !== undefined) {
      namedCaptures = toObject$3(namedCaptures);
      symbols = SUBSTITUTION_SYMBOLS;
    }
    return replace(replacement, symbols, function (match, ch) {
      var capture;
      switch (charAt(ch, 0)) {
        case '$': return '$';
        case '&': return matched;
        case '`': return stringSlice$1(str, 0, position);
        case "'": return stringSlice$1(str, tailPos);
        case '<':
          capture = namedCaptures[stringSlice$1(ch, 1, -1)];
          break;
        default: // \d\d?
          var n = +ch;
          if (n === 0) return match;
          if (n > m) {
            var f = floor(n / 10);
            if (f === 0) return match;
            if (f <= m) return captures[f - 1] === undefined ? charAt(ch, 1) : captures[f - 1] + charAt(ch, 1);
            return match;
          }
          capture = captures[n - 1];
      }
      return capture === undefined ? '' : capture;
    });
  };

  var call$2 = functionCall;
  var anObject$1 = anObject$7;
  var isCallable$2 = isCallable$e;
  var classof$3 = classofRaw$2;
  var regexpExec = regexpExec$2;

  var $TypeError$1 = TypeError;

  // `RegExpExec` abstract operation
  // https://tc39.es/ecma262/#sec-regexpexec
  var regexpExecAbstract = function (R, S) {
    var exec = R.exec;
    if (isCallable$2(exec)) {
      var result = call$2(exec, R, S);
      if (result !== null) anObject$1(result);
      return result;
    }
    if (classof$3(R) === 'RegExp') return call$2(regexpExec, R, S);
    throw $TypeError$1('RegExp#exec called on incompatible receiver');
  };

  var apply = functionApply;
  var call$1 = functionCall;
  var uncurryThis$6 = functionUncurryThis;
  var fixRegExpWellKnownSymbolLogic = fixRegexpWellKnownSymbolLogic;
  var fails$5 = fails$i;
  var anObject = anObject$7;
  var isCallable$1 = isCallable$e;
  var isNullOrUndefined = isNullOrUndefined$3;
  var toIntegerOrInfinity = toIntegerOrInfinity$4;
  var toLength = toLength$2;
  var toString$1 = toString$4;
  var requireObjectCoercible = requireObjectCoercible$4;
  var advanceStringIndex = advanceStringIndex$1;
  var getMethod = getMethod$2;
  var getSubstitution = getSubstitution$1;
  var regExpExec = regexpExecAbstract;
  var wellKnownSymbol$5 = wellKnownSymbol$a;

  var REPLACE = wellKnownSymbol$5('replace');
  var max$1 = Math.max;
  var min = Math.min;
  var concat$1 = uncurryThis$6([].concat);
  var push$1 = uncurryThis$6([].push);
  var stringIndexOf = uncurryThis$6(''.indexOf);
  var stringSlice = uncurryThis$6(''.slice);

  var maybeToString = function (it) {
    return it === undefined ? it : String(it);
  };

  // IE <= 11 replaces $0 with the whole match, as if it was $&
  // https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0
  var REPLACE_KEEPS_$0 = (function () {
    // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing
    return 'a'.replace(/./, '$0') === '$0';
  })();

  // Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string
  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {
    if (/./[REPLACE]) {
      return /./[REPLACE]('a', '$0') === '';
    }
    return false;
  })();

  var REPLACE_SUPPORTS_NAMED_GROUPS = !fails$5(function () {
    var re = /./;
    re.exec = function () {
      var result = [];
      result.groups = { a: '7' };
      return result;
    };
    // eslint-disable-next-line regexp/no-useless-dollar-replacements -- false positive
    return ''.replace(re, '$<a>') !== '7';
  });

  // @@replace logic
  fixRegExpWellKnownSymbolLogic('replace', function (_, nativeReplace, maybeCallNative) {
    var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';

    return [
      // `String.prototype.replace` method
      // https://tc39.es/ecma262/#sec-string.prototype.replace
      function replace(searchValue, replaceValue) {
        var O = requireObjectCoercible(this);
        var replacer = isNullOrUndefined(searchValue) ? undefined : getMethod(searchValue, REPLACE);
        return replacer
          ? call$1(replacer, searchValue, O, replaceValue)
          : call$1(nativeReplace, toString$1(O), searchValue, replaceValue);
      },
      // `RegExp.prototype[@@replace]` method
      // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace
      function (string, replaceValue) {
        var rx = anObject(this);
        var S = toString$1(string);

        if (
          typeof replaceValue == 'string' &&
          stringIndexOf(replaceValue, UNSAFE_SUBSTITUTE) === -1 &&
          stringIndexOf(replaceValue, '$<') === -1
        ) {
          var res = maybeCallNative(nativeReplace, rx, S, replaceValue);
          if (res.done) return res.value;
        }

        var functionalReplace = isCallable$1(replaceValue);
        if (!functionalReplace) replaceValue = toString$1(replaceValue);

        var global = rx.global;
        if (global) {
          var fullUnicode = rx.unicode;
          rx.lastIndex = 0;
        }
        var results = [];
        while (true) {
          var result = regExpExec(rx, S);
          if (result === null) break;

          push$1(results, result);
          if (!global) break;

          var matchStr = toString$1(result[0]);
          if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);
        }

        var accumulatedResult = '';
        var nextSourcePosition = 0;
        for (var i = 0; i < results.length; i++) {
          result = results[i];

          var matched = toString$1(result[0]);
          var position = max$1(min(toIntegerOrInfinity(result.index), S.length), 0);
          var captures = [];
          // NOTE: This is equivalent to
          //   captures = result.slice(1).map(maybeToString)
          // but for some reason `nativeSlice.call(result, 1, result.length)` (called in
          // the slice polyfill when slicing native arrays) "doesn't work" in safari 9 and
          // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.
          for (var j = 1; j < result.length; j++) push$1(captures, maybeToString(result[j]));
          var namedCaptures = result.groups;
          if (functionalReplace) {
            var replacerArgs = concat$1([matched], captures, position, S);
            if (namedCaptures !== undefined) push$1(replacerArgs, namedCaptures);
            var replacement = toString$1(apply(replaceValue, undefined, replacerArgs));
          } else {
            replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);
          }
          if (position >= nextSourcePosition) {
            accumulatedResult += stringSlice(S, nextSourcePosition, position) + replacement;
            nextSourcePosition = position + matched.length;
          }
        }
        return accumulatedResult + stringSlice(S, nextSourcePosition);
      }
    ];
  }, !REPLACE_SUPPORTS_NAMED_GROUPS || !REPLACE_KEEPS_$0 || REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);

  var classof$2 = classofRaw$2;

  // `IsArray` abstract operation
  // https://tc39.es/ecma262/#sec-isarray
  // eslint-disable-next-line es/no-array-isarray -- safe
  var isArray$3 = Array.isArray || function isArray(argument) {
    return classof$2(argument) == 'Array';
  };

  var uncurryThis$5 = functionUncurryThis;
  var fails$4 = fails$i;
  var isCallable = isCallable$e;
  var classof$1 = classof$5;
  var getBuiltIn = getBuiltIn$5;
  var inspectSource = inspectSource$2;

  var noop = function () { /* empty */ };
  var empty = [];
  var construct = getBuiltIn('Reflect', 'construct');
  var constructorRegExp = /^\s*(?:class|function)\b/;
  var exec = uncurryThis$5(constructorRegExp.exec);
  var INCORRECT_TO_STRING = !constructorRegExp.exec(noop);

  var isConstructorModern = function isConstructor(argument) {
    if (!isCallable(argument)) return false;
    try {
      construct(noop, empty, argument);
      return true;
    } catch (error) {
      return false;
    }
  };

  var isConstructorLegacy = function isConstructor(argument) {
    if (!isCallable(argument)) return false;
    switch (classof$1(argument)) {
      case 'AsyncFunction':
      case 'GeneratorFunction':
      case 'AsyncGeneratorFunction': return false;
    }
    try {
      // we can't check .prototype since constructors produced by .bind haven't it
      // `Function#toString` throws on some built-it function in some legacy engines
      // (for example, `DOMQuad` and similar in FF41-)
      return INCORRECT_TO_STRING || !!exec(constructorRegExp, inspectSource(argument));
    } catch (error) {
      return true;
    }
  };

  isConstructorLegacy.sham = true;

  // `IsConstructor` abstract operation
  // https://tc39.es/ecma262/#sec-isconstructor
  var isConstructor$2 = !construct || fails$4(function () {
    var called;
    return isConstructorModern(isConstructorModern.call)
      || !isConstructorModern(Object)
      || !isConstructorModern(function () { called = true; })
      || called;
  }) ? isConstructorLegacy : isConstructorModern;

  var toPropertyKey = toPropertyKey$3;
  var definePropertyModule = objectDefineProperty;
  var createPropertyDescriptor = createPropertyDescriptor$3;

  var createProperty$2 = function (object, key, value) {
    var propertyKey = toPropertyKey(key);
    if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));
    else object[propertyKey] = value;
  };

  var fails$3 = fails$i;
  var wellKnownSymbol$4 = wellKnownSymbol$a;
  var V8_VERSION$1 = engineV8Version;

  var SPECIES$2 = wellKnownSymbol$4('species');

  var arrayMethodHasSpeciesSupport$3 = function (METHOD_NAME) {
    // We can't use this feature detection in V8 since it causes
    // deoptimization and serious performance degradation
    // https://github.com/zloirock/core-js/issues/677
    return V8_VERSION$1 >= 51 || !fails$3(function () {
      var array = [];
      var constructor = array.constructor = {};
      constructor[SPECIES$2] = function () {
        return { foo: 1 };
      };
      return array[METHOD_NAME](Boolean).foo !== 1;
    });
  };

  var uncurryThis$4 = functionUncurryThis;

  var arraySlice = uncurryThis$4([].slice);

  var $$5 = _export;
  var isArray$2 = isArray$3;
  var isConstructor$1 = isConstructor$2;
  var isObject$2 = isObject$8;
  var toAbsoluteIndex = toAbsoluteIndex$2;
  var lengthOfArrayLike$2 = lengthOfArrayLike$4;
  var toIndexedObject$1 = toIndexedObject$6;
  var createProperty$1 = createProperty$2;
  var wellKnownSymbol$3 = wellKnownSymbol$a;
  var arrayMethodHasSpeciesSupport$2 = arrayMethodHasSpeciesSupport$3;
  var nativeSlice = arraySlice;

  var HAS_SPECIES_SUPPORT$1 = arrayMethodHasSpeciesSupport$2('slice');

  var SPECIES$1 = wellKnownSymbol$3('species');
  var $Array$1 = Array;
  var max = Math.max;

  // `Array.prototype.slice` method
  // https://tc39.es/ecma262/#sec-array.prototype.slice
  // fallback for not array-like ES3 strings and DOM objects
  $$5({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$1 }, {
    slice: function slice(start, end) {
      var O = toIndexedObject$1(this);
      var length = lengthOfArrayLike$2(O);
      var k = toAbsoluteIndex(start, length);
      var fin = toAbsoluteIndex(end === undefined ? length : end, length);
      // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible
      var Constructor, result, n;
      if (isArray$2(O)) {
        Constructor = O.constructor;
        // cross-realm fallback
        if (isConstructor$1(Constructor) && (Constructor === $Array$1 || isArray$2(Constructor.prototype))) {
          Constructor = undefined;
        } else if (isObject$2(Constructor)) {
          Constructor = Constructor[SPECIES$1];
          if (Constructor === null) Constructor = undefined;
        }
        if (Constructor === $Array$1 || Constructor === undefined) {
          return nativeSlice(O, k, fin);
        }
      }
      result = new (Constructor === undefined ? $Array$1 : Constructor)(max(fin - k, 0));
      for (n = 0; k < fin; k++, n++) if (k in O) createProperty$1(result, n, O[k]);
      result.length = n;
      return result;
    }
  });

  var uncurryThis$3 = functionUncurryThis;
  var aCallable = aCallable$2;
  var NATIVE_BIND = functionBindNative;

  var bind$1 = uncurryThis$3(uncurryThis$3.bind);

  // optional / simple context binding
  var functionBindContext = function (fn, that) {
    aCallable(fn);
    return that === undefined ? fn : NATIVE_BIND ? bind$1(fn, that) : function (/* ...args */) {
      return fn.apply(that, arguments);
    };
  };

  var isArray$1 = isArray$3;
  var isConstructor = isConstructor$2;
  var isObject$1 = isObject$8;
  var wellKnownSymbol$2 = wellKnownSymbol$a;

  var SPECIES = wellKnownSymbol$2('species');
  var $Array = Array;

  // a part of `ArraySpeciesCreate` abstract operation
  // https://tc39.es/ecma262/#sec-arrayspeciescreate
  var arraySpeciesConstructor$1 = function (originalArray) {
    var C;
    if (isArray$1(originalArray)) {
      C = originalArray.constructor;
      // cross-realm fallback
      if (isConstructor(C) && (C === $Array || isArray$1(C.prototype))) C = undefined;
      else if (isObject$1(C)) {
        C = C[SPECIES];
        if (C === null) C = undefined;
      }
    } return C === undefined ? $Array : C;
  };

  var arraySpeciesConstructor = arraySpeciesConstructor$1;

  // `ArraySpeciesCreate` abstract operation
  // https://tc39.es/ecma262/#sec-arrayspeciescreate
  var arraySpeciesCreate$2 = function (originalArray, length) {
    return new (arraySpeciesConstructor(originalArray))(length === 0 ? 0 : length);
  };

  var bind = functionBindContext;
  var uncurryThis$2 = functionUncurryThis;
  var IndexedObject$2 = indexedObject;
  var toObject$2 = toObject$5;
  var lengthOfArrayLike$1 = lengthOfArrayLike$4;
  var arraySpeciesCreate$1 = arraySpeciesCreate$2;

  var push = uncurryThis$2([].push);

  // `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterReject }` methods implementation
  var createMethod = function (TYPE) {
    var IS_MAP = TYPE == 1;
    var IS_FILTER = TYPE == 2;
    var IS_SOME = TYPE == 3;
    var IS_EVERY = TYPE == 4;
    var IS_FIND_INDEX = TYPE == 6;
    var IS_FILTER_REJECT = TYPE == 7;
    var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;
    return function ($this, callbackfn, that, specificCreate) {
      var O = toObject$2($this);
      var self = IndexedObject$2(O);
      var boundFunction = bind(callbackfn, that);
      var length = lengthOfArrayLike$1(self);
      var index = 0;
      var create = specificCreate || arraySpeciesCreate$1;
      var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_REJECT ? create($this, 0) : undefined;
      var value, result;
      for (;length > index; index++) if (NO_HOLES || index in self) {
        value = self[index];
        result = boundFunction(value, index, O);
        if (TYPE) {
          if (IS_MAP) target[index] = result; // map
          else if (result) switch (TYPE) {
            case 3: return true;              // some
            case 5: return value;             // find
            case 6: return index;             // findIndex
            case 2: push(target, value);      // filter
          } else switch (TYPE) {
            case 4: return false;             // every
            case 7: push(target, value);      // filterReject
          }
        }
      }
      return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;
    };
  };

  var arrayIteration = {
    // `Array.prototype.forEach` method
    // https://tc39.es/ecma262/#sec-array.prototype.foreach
    forEach: createMethod(0),
    // `Array.prototype.map` method
    // https://tc39.es/ecma262/#sec-array.prototype.map
    map: createMethod(1),
    // `Array.prototype.filter` method
    // https://tc39.es/ecma262/#sec-array.prototype.filter
    filter: createMethod(2),
    // `Array.prototype.some` method
    // https://tc39.es/ecma262/#sec-array.prototype.some
    some: createMethod(3),
    // `Array.prototype.every` method
    // https://tc39.es/ecma262/#sec-array.prototype.every
    every: createMethod(4),
    // `Array.prototype.find` method
    // https://tc39.es/ecma262/#sec-array.prototype.find
    find: createMethod(5),
    // `Array.prototype.findIndex` method
    // https://tc39.es/ecma262/#sec-array.prototype.findIndex
    findIndex: createMethod(6),
    // `Array.prototype.filterReject` method
    // https://github.com/tc39/proposal-array-filtering
    filterReject: createMethod(7)
  };

  var $$4 = _export;
  var $map = arrayIteration.map;
  var arrayMethodHasSpeciesSupport$1 = arrayMethodHasSpeciesSupport$3;

  var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport$1('map');

  // `Array.prototype.map` method
  // https://tc39.es/ecma262/#sec-array.prototype.map
  // with adding support of @@species
  $$4({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {
    map: function map(callbackfn /* , thisArg */) {
      return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    }
  });

  var wellKnownSymbol$1 = wellKnownSymbol$a;
  var create = objectCreate;
  var defineProperty$1 = objectDefineProperty.f;

  var UNSCOPABLES = wellKnownSymbol$1('unscopables');
  var ArrayPrototype = Array.prototype;

  // Array.prototype[@@unscopables]
  // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
  if (ArrayPrototype[UNSCOPABLES] == undefined) {
    defineProperty$1(ArrayPrototype, UNSCOPABLES, {
      configurable: true,
      value: create(null)
    });
  }

  // add a key to Array.prototype[@@unscopables]
  var addToUnscopables$1 = function (key) {
    ArrayPrototype[UNSCOPABLES][key] = true;
  };

  var $$3 = _export;
  var $find = arrayIteration.find;
  var addToUnscopables = addToUnscopables$1;

  var FIND = 'find';
  var SKIPS_HOLES = true;

  // Shouldn't skip holes
  if (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });

  // `Array.prototype.find` method
  // https://tc39.es/ecma262/#sec-array.prototype.find
  $$3({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {
    find: function find(callbackfn /* , that = undefined */) {
      return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    }
  });

  // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
  addToUnscopables(FIND);

  var TO_STRING_TAG_SUPPORT$1 = toStringTagSupport;
  var classof = classof$5;

  // `Object.prototype.toString` method implementation
  // https://tc39.es/ecma262/#sec-object.prototype.tostring
  var objectToString = TO_STRING_TAG_SUPPORT$1 ? {}.toString : function toString() {
    return '[object ' + classof(this) + ']';
  };

  var TO_STRING_TAG_SUPPORT = toStringTagSupport;
  var defineBuiltIn = defineBuiltIn$3;
  var toString = objectToString;

  // `Object.prototype.toString` method
  // https://tc39.es/ecma262/#sec-object.prototype.tostring
  if (!TO_STRING_TAG_SUPPORT) {
    defineBuiltIn(Object.prototype, 'toString', toString, { unsafe: true });
  }

  var DESCRIPTORS = descriptors;
  var uncurryThis$1 = functionUncurryThis;
  var call = functionCall;
  var fails$2 = fails$i;
  var objectKeys = objectKeys$2;
  var getOwnPropertySymbolsModule = objectGetOwnPropertySymbols;
  var propertyIsEnumerableModule = objectPropertyIsEnumerable;
  var toObject$1 = toObject$5;
  var IndexedObject$1 = indexedObject;

  // eslint-disable-next-line es/no-object-assign -- safe
  var $assign = Object.assign;
  // eslint-disable-next-line es/no-object-defineproperty -- required for testing
  var defineProperty = Object.defineProperty;
  var concat = uncurryThis$1([].concat);

  // `Object.assign` method
  // https://tc39.es/ecma262/#sec-object.assign
  var objectAssign = !$assign || fails$2(function () {
    // should have correct order of operations (Edge bug)
    if (DESCRIPTORS && $assign({ b: 1 }, $assign(defineProperty({}, 'a', {
      enumerable: true,
      get: function () {
        defineProperty(this, 'b', {
          value: 3,
          enumerable: false
        });
      }
    }), { b: 2 })).b !== 1) return true;
    // should work with symbols and should have deterministic property order (V8 bug)
    var A = {};
    var B = {};
    // eslint-disable-next-line es/no-symbol -- safe
    var symbol = Symbol();
    var alphabet = 'abcdefghijklmnopqrst';
    A[symbol] = 7;
    alphabet.split('').forEach(function (chr) { B[chr] = chr; });
    return $assign({}, A)[symbol] != 7 || objectKeys($assign({}, B)).join('') != alphabet;
  }) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`
    var T = toObject$1(target);
    var argumentsLength = arguments.length;
    var index = 1;
    var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
    var propertyIsEnumerable = propertyIsEnumerableModule.f;
    while (argumentsLength > index) {
      var S = IndexedObject$1(arguments[index++]);
      var keys = getOwnPropertySymbols ? concat(objectKeys(S), getOwnPropertySymbols(S)) : objectKeys(S);
      var length = keys.length;
      var j = 0;
      var key;
      while (length > j) {
        key = keys[j++];
        if (!DESCRIPTORS || call(propertyIsEnumerable, S, key)) T[key] = S[key];
      }
    } return T;
  } : $assign;

  var $$2 = _export;
  var assign = objectAssign;

  // `Object.assign` method
  // https://tc39.es/ecma262/#sec-object.assign
  // eslint-disable-next-line es/no-object-assign -- required for testing
  $$2({ target: 'Object', stat: true, arity: 2, forced: Object.assign !== assign }, {
    assign: assign
  });

  var $TypeError = TypeError;
  var MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991

  var doesNotExceedSafeInteger$1 = function (it) {
    if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');
    return it;
  };

  var $$1 = _export;
  var fails$1 = fails$i;
  var isArray = isArray$3;
  var isObject = isObject$8;
  var toObject = toObject$5;
  var lengthOfArrayLike = lengthOfArrayLike$4;
  var doesNotExceedSafeInteger = doesNotExceedSafeInteger$1;
  var createProperty = createProperty$2;
  var arraySpeciesCreate = arraySpeciesCreate$2;
  var arrayMethodHasSpeciesSupport = arrayMethodHasSpeciesSupport$3;
  var wellKnownSymbol = wellKnownSymbol$a;
  var V8_VERSION = engineV8Version;

  var IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');

  // We can't use this feature detection in V8 since it causes
  // deoptimization and serious performance degradation
  // https://github.com/zloirock/core-js/issues/679
  var IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails$1(function () {
    var array = [];
    array[IS_CONCAT_SPREADABLE] = false;
    return array.concat()[0] !== array;
  });

  var SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');

  var isConcatSpreadable = function (O) {
    if (!isObject(O)) return false;
    var spreadable = O[IS_CONCAT_SPREADABLE];
    return spreadable !== undefined ? !!spreadable : isArray(O);
  };

  var FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;

  // `Array.prototype.concat` method
  // https://tc39.es/ecma262/#sec-array.prototype.concat
  // with adding support of @@isConcatSpreadable and @@species
  $$1({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {
    // eslint-disable-next-line no-unused-vars -- required for `.length`
    concat: function concat(arg) {
      var O = toObject(this);
      var A = arraySpeciesCreate(O, 0);
      var n = 0;
      var i, k, length, len, E;
      for (i = -1, length = arguments.length; i < length; i++) {
        E = i === -1 ? O : arguments[i];
        if (isConcatSpreadable(E)) {
          len = lengthOfArrayLike(E);
          doesNotExceedSafeInteger(n + len);
          for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);
        } else {
          doesNotExceedSafeInteger(n + 1);
          createProperty(A, n++, E);
        }
      }
      A.length = n;
      return A;
    }
  });

  var fails = fails$i;

  var arrayMethodIsStrict$2 = function (METHOD_NAME, argument) {
    var method = [][METHOD_NAME];
    return !!method && fails(function () {
      // eslint-disable-next-line no-useless-call -- required for testing
      method.call(null, argument || function () { return 1; }, 1);
    });
  };

  var $ = _export;
  var uncurryThis = functionUncurryThis;
  var IndexedObject = indexedObject;
  var toIndexedObject = toIndexedObject$6;
  var arrayMethodIsStrict$1 = arrayMethodIsStrict$2;

  var nativeJoin = uncurryThis([].join);

  var ES3_STRINGS = IndexedObject != Object;
  var STRICT_METHOD$1 = arrayMethodIsStrict$1('join', ',');

  // `Array.prototype.join` method
  // https://tc39.es/ecma262/#sec-array.prototype.join
  $({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD$1 }, {
    join: function join(separator) {
      return nativeJoin(toIndexedObject(this), separator === undefined ? ',' : separator);
    }
  });

  // iterable DOM collections
  // flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods
  var domIterables = {
    CSSRuleList: 0,
    CSSStyleDeclaration: 0,
    CSSValueList: 0,
    ClientRectList: 0,
    DOMRectList: 0,
    DOMStringList: 0,
    DOMTokenList: 1,
    DataTransferItemList: 0,
    FileList: 0,
    HTMLAllCollection: 0,
    HTMLCollection: 0,
    HTMLFormElement: 0,
    HTMLSelectElement: 0,
    MediaList: 0,
    MimeTypeArray: 0,
    NamedNodeMap: 0,
    NodeList: 1,
    PaintRequestList: 0,
    Plugin: 0,
    PluginArray: 0,
    SVGLengthList: 0,
    SVGNumberList: 0,
    SVGPathSegList: 0,
    SVGPointList: 0,
    SVGStringList: 0,
    SVGTransformList: 0,
    SourceBufferList: 0,
    StyleSheetList: 0,
    TextTrackCueList: 0,
    TextTrackList: 0,
    TouchList: 0
  };

  // in old WebKit versions, `element.classList` is not an instance of global `DOMTokenList`
  var documentCreateElement = documentCreateElement$2;

  var classList = documentCreateElement('span').classList;
  var DOMTokenListPrototype$1 = classList && classList.constructor && classList.constructor.prototype;

  var domTokenListPrototype = DOMTokenListPrototype$1 === Object.prototype ? undefined : DOMTokenListPrototype$1;

  var $forEach = arrayIteration.forEach;
  var arrayMethodIsStrict = arrayMethodIsStrict$2;

  var STRICT_METHOD = arrayMethodIsStrict('forEach');

  // `Array.prototype.forEach` method implementation
  // https://tc39.es/ecma262/#sec-array.prototype.foreach
  var arrayForEach = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {
    return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
  // eslint-disable-next-line es/no-array-prototype-foreach -- safe
  } : [].forEach;

  var global$1 = global$e;
  var DOMIterables = domIterables;
  var DOMTokenListPrototype = domTokenListPrototype;
  var forEach = arrayForEach;
  var createNonEnumerableProperty = createNonEnumerableProperty$4;

  var handlePrototype = function (CollectionPrototype) {
    // some Chrome versions have non-configurable methods on DOMTokenList
    if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {
      createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);
    } catch (error) {
      CollectionPrototype.forEach = forEach;
    }
  };

  for (var COLLECTION_NAME in DOMIterables) {
    if (DOMIterables[COLLECTION_NAME]) {
      handlePrototype(global$1[COLLECTION_NAME] && global$1[COLLECTION_NAME].prototype);
    }
  }

  handlePrototype(DOMTokenListPrototype);

  /**
   * @author zhixin wen <wenzhixin2010@gmail.com>
   * extensions: https://github.com/hhurz/tableExport.jquery.plugin
   */

  var Utils = $__default["default"].fn.bootstrapTable.utils;
  var TYPE_NAME = {
    json: 'JSON',
    xml: 'XML',
    png: 'PNG',
    csv: 'CSV',
    txt: 'TXT',
    sql: 'SQL',
    doc: 'MS-Word',
    excel: 'MS-Excel',
    xlsx: 'MS-Excel (OpenXML)',
    powerpoint: 'MS-Powerpoint',
    pdf: 'PDF'
  };
  $__default["default"].extend($__default["default"].fn.bootstrapTable.defaults, {
    showExport: false,
    exportDataType: 'basic',
    // basic, all, selected
    exportTypes: ['json', 'xml', 'csv', 'txt', 'sql', 'excel'],
    exportOptions: {},
    exportFooter: false
  });
  $__default["default"].extend($__default["default"].fn.bootstrapTable.columnDefaults, {
    forceExport: false,
    forceHide: false
  });
  $__default["default"].extend($__default["default"].fn.bootstrapTable.defaults.icons, {
    export: {
      bootstrap3: 'glyphicon-export icon-share',
      bootstrap5: 'bi-download',
      materialize: 'file_download',
      'bootstrap-table': 'icon-download'
    }[$__default["default"].fn.bootstrapTable.theme] || 'fa-download'
  });
  $__default["default"].extend($__default["default"].fn.bootstrapTable.locales, {
    formatExport: function formatExport() {
      return 'Export data';
    }
  });
  $__default["default"].extend($__default["default"].fn.bootstrapTable.defaults, $__default["default"].fn.bootstrapTable.locales);
  $__default["default"].fn.bootstrapTable.methods.push('exportTable');
  $__default["default"].extend($__default["default"].fn.bootstrapTable.defaults, {
    // eslint-disable-next-line no-unused-vars
    onExportSaved: function onExportSaved(exportedRows) {
      return false;
    },
    onExportStarted: function onExportStarted() {
      return false;
    }
  });
  $__default["default"].extend($__default["default"].fn.bootstrapTable.Constructor.EVENTS, {
    'export-saved.bs.table': 'onExportSaved',
    'export-started.bs.table': 'onExportStarted'
  });
  $__default["default"].BootstrapTable = /*#__PURE__*/function (_$$BootstrapTable) {
    _inherits(_class, _$$BootstrapTable);
    var _super = _createSuper(_class);
    function _class() {
      _classCallCheck(this, _class);
      return _super.apply(this, arguments);
    }
    _createClass(_class, [{
      key: "initToolbar",
      value: function initToolbar() {
        var _this = this,
          _get2;
        var o = this.options;
        var exportTypes = o.exportTypes;
        this.showToolbar = this.showToolbar || o.showExport;
        if (this.options.showExport) {
          if (typeof exportTypes === 'string') {
            var types = exportTypes.slice(1, -1).replace(/ /g, '').split(',');
            exportTypes = types.map(function (t) {
              return t.slice(1, -1);
            });
          }
          if (typeof o.exportOptions === 'string') {
            o.exportOptions = Utils.calculateObjectValue(null, o.exportOptions);
          }
          this.$export = this.$toolbar.find('>.columns div.export');
          if (this.$export.length) {
            this.updateExportButton();
            return;
          }
          this.buttons = Object.assign(this.buttons, {
            export: {
              html: function html() {
                if (exportTypes.length === 1) {
                  return "\n                  <div class=\"export ".concat(_this.constants.classes.buttonsDropdown, "\"\n                  data-type=\"").concat(exportTypes[0], "\">\n                  <button class=\"").concat(_this.constants.buttonsClass, "\"\n                  aria-label=\"").concat(o.formatExport(), "\"\n                  type=\"button\"\n                  title=\"").concat(o.formatExport(), "\">\n                  ").concat(o.showButtonIcons ? Utils.sprintf(_this.constants.html.icon, o.iconsPrefix, o.icons.export) : '', "\n                  ").concat(o.showButtonText ? o.formatExport() : '', "\n                  </button>\n                  </div>\n                ");
                }
                var html = [];
                html.push("\n                <div class=\"export ".concat(_this.constants.classes.buttonsDropdown, "\">\n                <button class=\"").concat(_this.constants.buttonsClass, " dropdown-toggle\"\n                aria-label=\"").concat(o.formatExport(), "\"\n                ").concat(_this.constants.dataToggle, "=\"dropdown\"\n                type=\"button\"\n                title=\"").concat(o.formatExport(), "\">\n                ").concat(o.showButtonIcons ? Utils.sprintf(_this.constants.html.icon, o.iconsPrefix, o.icons.export) : '', "\n                ").concat(o.showButtonText ? o.formatExport() : '', "\n                ").concat(_this.constants.html.dropdownCaret, "\n                </button>\n                ").concat(_this.constants.html.toolbarDropdown[0], "\n              "));
                var _iterator = _createForOfIteratorHelper(exportTypes),
                  _step;
                try {
                  for (_iterator.s(); !(_step = _iterator.n()).done;) {
                    var type = _step.value;
                    if (TYPE_NAME.hasOwnProperty(type)) {
                      var $item = $__default["default"](Utils.sprintf(_this.constants.html.pageDropdownItem, '', TYPE_NAME[type]));
                      $item.attr('data-type', type);
                      html.push($item.prop('outerHTML'));
                    }
                  }
                } catch (err) {
                  _iterator.e(err);
                } finally {
                  _iterator.f();
                }
                html.push(_this.constants.html.toolbarDropdown[1], '</div>');
                return html.join('');
              }
            }
          });
        }
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        (_get2 = _get(_getPrototypeOf(_class.prototype), "initToolbar", this)).call.apply(_get2, [this].concat(args));
        this.$export = this.$toolbar.find('>.columns div.export');
        if (!this.options.showExport) {
          return;
        }
        this.updateExportButton();
        var $exportButtons = this.$export.find('[data-type]');
        if (exportTypes.length === 1) {
          $exportButtons = this.$export;
        }
        $exportButtons.click(function (e) {
          e.preventDefault();
          _this.exportTable({
            type: $__default["default"](e.currentTarget).data('type')
          });
        });
        this.handleToolbar();
      }
    }, {
      key: "handleToolbar",
      value: function handleToolbar() {
        if (!this.$export) {
          return;
        }
        if (_get(_getPrototypeOf(_class.prototype), "handleToolbar", this)) {
          _get(_getPrototypeOf(_class.prototype), "handleToolbar", this).call(this);
        }
      }
    }, {
      key: "exportTable",
      value: function exportTable(options) {
        var _this2 = this;
        var o = this.options;
        var stateField = this.header.stateField;
        var isCardView = o.cardView;
        var doExport = function doExport(callback) {
          _this2.trigger('export-started');
          if (stateField) {
            _this2.hideColumn(stateField);
          }
          if (isCardView) {
            _this2.toggleView();
          }
          _this2.columns.forEach(function (row) {
            if (row.forceHide) {
              _this2.hideColumn(row.field);
            }
          });
          var data = _this2.getData();
          if (o.detailView && o.detailViewIcon) {
            var detailViewIndex = o.detailViewAlign === 'left' ? 0 : _this2.getVisibleFields().length + Utils.getDetailViewIndexOffset(_this2.options);
            o.exportOptions.ignoreColumn = [detailViewIndex].concat(o.exportOptions.ignoreColumn || []);
          }
          if (o.exportFooter && o.height) {
            var $footerRow = _this2.$tableFooter.find('tr').first();
            var footerData = {};
            var footerHtml = [];
            $__default["default"].each($footerRow.children(), function (index, footerCell) {
              var footerCellHtml = $__default["default"](footerCell).children('.th-inner').first().html();
              footerData[_this2.columns[index].field] = footerCellHtml === '&nbsp;' ? null : footerCellHtml;

              // grab footer cell text into cell index-based array
              footerHtml.push(footerCellHtml);
            });
            _this2.$body.append(_this2.$body.children().last()[0].outerHTML);
            var $lastTableRow = _this2.$body.children().last();
            $__default["default"].each($lastTableRow.children(), function (index, lastTableRowCell) {
              $__default["default"](lastTableRowCell).html(footerHtml[index]);
            });
          }
          var hiddenColumns = _this2.getHiddenColumns();
          hiddenColumns.forEach(function (row) {
            if (row.forceExport) {
              _this2.showColumn(row.field);
            }
          });
          if (typeof o.exportOptions.fileName === 'function') {
            options.fileName = o.exportOptions.fileName();
          }
          _this2.$el.tableExport($__default["default"].extend({
            onAfterSaveToFile: function onAfterSaveToFile() {
              if (o.exportFooter) {
                _this2.load(data);
              }
              if (stateField) {
                _this2.showColumn(stateField);
              }
              if (isCardView) {
                _this2.toggleView();
              }
              hiddenColumns.forEach(function (row) {
                if (row.forceExport) {
                  _this2.hideColumn(row.field);
                }
              });
              _this2.columns.forEach(function (row) {
                if (row.forceHide) {
                  _this2.showColumn(row.field);
                }
              });
              if (callback) callback();
            }
          }, o.exportOptions, options));
        };
        if (o.exportDataType === 'all' && o.pagination) {
          var eventName = o.sidePagination === 'server' ? 'post-body.bs.table' : 'page-change.bs.table';
          var virtualScroll = this.options.virtualScroll;
          this.$el.one(eventName, function () {
            setTimeout(function () {
              doExport(function () {
                _this2.options.virtualScroll = virtualScroll;
                _this2.togglePagination();
              });
            }, 0);
          });
          this.options.virtualScroll = false;
          this.togglePagination();
          this.trigger('export-saved', this.getData());
        } else if (o.exportDataType === 'selected') {
          var data = this.getData();
          var selectedData = this.getSelections();
          var pagination = o.pagination;
          if (!selectedData.length) {
            return;
          }
          if (o.sidePagination === 'server') {
            data = _defineProperty({
              total: o.totalRows
            }, this.options.dataField, data);
            selectedData = _defineProperty({
              total: selectedData.length
            }, this.options.dataField, selectedData);
          }
          this.load(selectedData);
          if (pagination) {
            this.togglePagination();
          }
          doExport(function () {
            if (pagination) {
              _this2.togglePagination();
            }
            _this2.load(data);
          });
          this.trigger('export-saved', selectedData);
        } else {
          doExport();
          this.trigger('export-saved', this.getData(true));
        }
      }
    }, {
      key: "updateSelected",
      value: function updateSelected() {
        _get(_getPrototypeOf(_class.prototype), "updateSelected", this).call(this);
        this.updateExportButton();
      }
    }, {
      key: "updateExportButton",
      value: function updateExportButton() {
        if (this.options.exportDataType === 'selected') {
          this.$export.find('> button').prop('disabled', !this.getSelections().length);
        }
      }
    }]);
    return _class;
  }($__default["default"].BootstrapTable);

}));


/***/ }),

/***/ "./node_modules/bootstrap/dist/js/bootstrap.esm.js":
/*!*********************************************************!*\
  !*** ./node_modules/bootstrap/dist/js/bootstrap.esm.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Alert": () => (/* binding */ Alert),
/* harmony export */   "Button": () => (/* binding */ Button),
/* harmony export */   "Carousel": () => (/* binding */ Carousel),
/* harmony export */   "Collapse": () => (/* binding */ Collapse),
/* harmony export */   "Dropdown": () => (/* binding */ Dropdown),
/* harmony export */   "Modal": () => (/* binding */ Modal),
/* harmony export */   "Offcanvas": () => (/* binding */ Offcanvas),
/* harmony export */   "Popover": () => (/* binding */ Popover),
/* harmony export */   "ScrollSpy": () => (/* binding */ ScrollSpy),
/* harmony export */   "Tab": () => (/* binding */ Tab),
/* harmony export */   "Toast": () => (/* binding */ Toast),
/* harmony export */   "Tooltip": () => (/* binding */ Tooltip)
/* harmony export */ });
/* harmony import */ var _popperjs_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @popperjs/core */ "./node_modules/@popperjs/core/lib/index.js");
/* harmony import */ var _popperjs_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @popperjs/core */ "./node_modules/@popperjs/core/lib/popper.js");
/* provided dependency */ var __webpack_provided_window_dot_jQuery = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/*!
  * Bootstrap v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */


/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): util/index.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
const MAX_UID = 1000000;
const MILLISECONDS_MULTIPLIER = 1000;
const TRANSITION_END = 'transitionend'; // Shout-out Angus Croll (https://goo.gl/pxwQGp)

const toType = object => {
  if (object === null || object === undefined) {
    return `${object}`;
  }

  return Object.prototype.toString.call(object).match(/\s([a-z]+)/i)[1].toLowerCase();
};
/**
 * Public Util API
 */


const getUID = prefix => {
  do {
    prefix += Math.floor(Math.random() * MAX_UID);
  } while (document.getElementById(prefix));

  return prefix;
};

const getSelector = element => {
  let selector = element.getAttribute('data-bs-target');

  if (!selector || selector === '#') {
    let hrefAttribute = element.getAttribute('href'); // The only valid content that could double as a selector are IDs or classes,
    // so everything starting with `#` or `.`. If a "real" URL is used as the selector,
    // `document.querySelector` will rightfully complain it is invalid.
    // See https://github.com/twbs/bootstrap/issues/32273

    if (!hrefAttribute || !hrefAttribute.includes('#') && !hrefAttribute.startsWith('.')) {
      return null;
    } // Just in case some CMS puts out a full URL with the anchor appended


    if (hrefAttribute.includes('#') && !hrefAttribute.startsWith('#')) {
      hrefAttribute = `#${hrefAttribute.split('#')[1]}`;
    }

    selector = hrefAttribute && hrefAttribute !== '#' ? hrefAttribute.trim() : null;
  }

  return selector;
};

const getSelectorFromElement = element => {
  const selector = getSelector(element);

  if (selector) {
    return document.querySelector(selector) ? selector : null;
  }

  return null;
};

const getElementFromSelector = element => {
  const selector = getSelector(element);
  return selector ? document.querySelector(selector) : null;
};

const getTransitionDurationFromElement = element => {
  if (!element) {
    return 0;
  } // Get transition-duration of the element


  let {
    transitionDuration,
    transitionDelay
  } = window.getComputedStyle(element);
  const floatTransitionDuration = Number.parseFloat(transitionDuration);
  const floatTransitionDelay = Number.parseFloat(transitionDelay); // Return 0 if element or transition duration is not found

  if (!floatTransitionDuration && !floatTransitionDelay) {
    return 0;
  } // If multiple durations are defined, take the first


  transitionDuration = transitionDuration.split(',')[0];
  transitionDelay = transitionDelay.split(',')[0];
  return (Number.parseFloat(transitionDuration) + Number.parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER;
};

const triggerTransitionEnd = element => {
  element.dispatchEvent(new Event(TRANSITION_END));
};

const isElement = object => {
  if (!object || typeof object !== 'object') {
    return false;
  }

  if (typeof object.jquery !== 'undefined') {
    object = object[0];
  }

  return typeof object.nodeType !== 'undefined';
};

const getElement = object => {
  // it's a jQuery object or a node element
  if (isElement(object)) {
    return object.jquery ? object[0] : object;
  }

  if (typeof object === 'string' && object.length > 0) {
    return document.querySelector(object);
  }

  return null;
};

const isVisible = element => {
  if (!isElement(element) || element.getClientRects().length === 0) {
    return false;
  }

  const elementIsVisible = getComputedStyle(element).getPropertyValue('visibility') === 'visible'; // Handle `details` element as its content may falsie appear visible when it is closed

  const closedDetails = element.closest('details:not([open])');

  if (!closedDetails) {
    return elementIsVisible;
  }

  if (closedDetails !== element) {
    const summary = element.closest('summary');

    if (summary && summary.parentNode !== closedDetails) {
      return false;
    }

    if (summary === null) {
      return false;
    }
  }

  return elementIsVisible;
};

const isDisabled = element => {
  if (!element || element.nodeType !== Node.ELEMENT_NODE) {
    return true;
  }

  if (element.classList.contains('disabled')) {
    return true;
  }

  if (typeof element.disabled !== 'undefined') {
    return element.disabled;
  }

  return element.hasAttribute('disabled') && element.getAttribute('disabled') !== 'false';
};

const findShadowRoot = element => {
  if (!document.documentElement.attachShadow) {
    return null;
  } // Can find the shadow root otherwise it'll return the document


  if (typeof element.getRootNode === 'function') {
    const root = element.getRootNode();
    return root instanceof ShadowRoot ? root : null;
  }

  if (element instanceof ShadowRoot) {
    return element;
  } // when we don't find a shadow root


  if (!element.parentNode) {
    return null;
  }

  return findShadowRoot(element.parentNode);
};

const noop = () => {};
/**
 * Trick to restart an element's animation
 *
 * @param {HTMLElement} element
 * @return void
 *
 * @see https://www.charistheo.io/blog/2021/02/restart-a-css-animation-with-javascript/#restarting-a-css-animation
 */


const reflow = element => {
  element.offsetHeight; // eslint-disable-line no-unused-expressions
};

const getjQuery = () => {
  if (__webpack_provided_window_dot_jQuery && !document.body.hasAttribute('data-bs-no-jquery')) {
    return __webpack_provided_window_dot_jQuery;
  }

  return null;
};

const DOMContentLoadedCallbacks = [];

const onDOMContentLoaded = callback => {
  if (document.readyState === 'loading') {
    // add listener on the first call when the document is in loading state
    if (!DOMContentLoadedCallbacks.length) {
      document.addEventListener('DOMContentLoaded', () => {
        for (const callback of DOMContentLoadedCallbacks) {
          callback();
        }
      });
    }

    DOMContentLoadedCallbacks.push(callback);
  } else {
    callback();
  }
};

const isRTL = () => document.documentElement.dir === 'rtl';

const defineJQueryPlugin = plugin => {
  onDOMContentLoaded(() => {
    const $ = getjQuery();
    /* istanbul ignore if */

    if ($) {
      const name = plugin.NAME;
      const JQUERY_NO_CONFLICT = $.fn[name];
      $.fn[name] = plugin.jQueryInterface;
      $.fn[name].Constructor = plugin;

      $.fn[name].noConflict = () => {
        $.fn[name] = JQUERY_NO_CONFLICT;
        return plugin.jQueryInterface;
      };
    }
  });
};

const execute = callback => {
  if (typeof callback === 'function') {
    callback();
  }
};

const executeAfterTransition = (callback, transitionElement, waitForTransition = true) => {
  if (!waitForTransition) {
    execute(callback);
    return;
  }

  const durationPadding = 5;
  const emulatedDuration = getTransitionDurationFromElement(transitionElement) + durationPadding;
  let called = false;

  const handler = ({
    target
  }) => {
    if (target !== transitionElement) {
      return;
    }

    called = true;
    transitionElement.removeEventListener(TRANSITION_END, handler);
    execute(callback);
  };

  transitionElement.addEventListener(TRANSITION_END, handler);
  setTimeout(() => {
    if (!called) {
      triggerTransitionEnd(transitionElement);
    }
  }, emulatedDuration);
};
/**
 * Return the previous/next element of a list.
 *
 * @param {array} list    The list of elements
 * @param activeElement   The active element
 * @param shouldGetNext   Choose to get next or previous element
 * @param isCycleAllowed
 * @return {Element|elem} The proper element
 */


const getNextActiveElement = (list, activeElement, shouldGetNext, isCycleAllowed) => {
  const listLength = list.length;
  let index = list.indexOf(activeElement); // if the element does not exist in the list return an element
  // depending on the direction and if cycle is allowed

  if (index === -1) {
    return !shouldGetNext && isCycleAllowed ? list[listLength - 1] : list[0];
  }

  index += shouldGetNext ? 1 : -1;

  if (isCycleAllowed) {
    index = (index + listLength) % listLength;
  }

  return list[Math.max(0, Math.min(index, listLength - 1))];
};

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): dom/event-handler.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
/**
 * Constants
 */

const namespaceRegex = /[^.]*(?=\..*)\.|.*/;
const stripNameRegex = /\..*/;
const stripUidRegex = /::\d+$/;
const eventRegistry = {}; // Events storage

let uidEvent = 1;
const customEvents = {
  mouseenter: 'mouseover',
  mouseleave: 'mouseout'
};
const nativeEvents = new Set(['click', 'dblclick', 'mouseup', 'mousedown', 'contextmenu', 'mousewheel', 'DOMMouseScroll', 'mouseover', 'mouseout', 'mousemove', 'selectstart', 'selectend', 'keydown', 'keypress', 'keyup', 'orientationchange', 'touchstart', 'touchmove', 'touchend', 'touchcancel', 'pointerdown', 'pointermove', 'pointerup', 'pointerleave', 'pointercancel', 'gesturestart', 'gesturechange', 'gestureend', 'focus', 'blur', 'change', 'reset', 'select', 'submit', 'focusin', 'focusout', 'load', 'unload', 'beforeunload', 'resize', 'move', 'DOMContentLoaded', 'readystatechange', 'error', 'abort', 'scroll']);
/**
 * Private methods
 */

function makeEventUid(element, uid) {
  return uid && `${uid}::${uidEvent++}` || element.uidEvent || uidEvent++;
}

function getElementEvents(element) {
  const uid = makeEventUid(element);
  element.uidEvent = uid;
  eventRegistry[uid] = eventRegistry[uid] || {};
  return eventRegistry[uid];
}

function bootstrapHandler(element, fn) {
  return function handler(event) {
    hydrateObj(event, {
      delegateTarget: element
    });

    if (handler.oneOff) {
      EventHandler.off(element, event.type, fn);
    }

    return fn.apply(element, [event]);
  };
}

function bootstrapDelegationHandler(element, selector, fn) {
  return function handler(event) {
    const domElements = element.querySelectorAll(selector);

    for (let {
      target
    } = event; target && target !== this; target = target.parentNode) {
      for (const domElement of domElements) {
        if (domElement !== target) {
          continue;
        }

        hydrateObj(event, {
          delegateTarget: target
        });

        if (handler.oneOff) {
          EventHandler.off(element, event.type, selector, fn);
        }

        return fn.apply(target, [event]);
      }
    }
  };
}

function findHandler(events, callable, delegationSelector = null) {
  return Object.values(events).find(event => event.callable === callable && event.delegationSelector === delegationSelector);
}

function normalizeParameters(originalTypeEvent, handler, delegationFunction) {
  const isDelegated = typeof handler === 'string'; // todo: tooltip passes `false` instead of selector, so we need to check

  const callable = isDelegated ? delegationFunction : handler || delegationFunction;
  let typeEvent = getTypeEvent(originalTypeEvent);

  if (!nativeEvents.has(typeEvent)) {
    typeEvent = originalTypeEvent;
  }

  return [isDelegated, callable, typeEvent];
}

function addHandler(element, originalTypeEvent, handler, delegationFunction, oneOff) {
  if (typeof originalTypeEvent !== 'string' || !element) {
    return;
  }

  let [isDelegated, callable, typeEvent] = normalizeParameters(originalTypeEvent, handler, delegationFunction); // in case of mouseenter or mouseleave wrap the handler within a function that checks for its DOM position
  // this prevents the handler from being dispatched the same way as mouseover or mouseout does

  if (originalTypeEvent in customEvents) {
    const wrapFunction = fn => {
      return function (event) {
        if (!event.relatedTarget || event.relatedTarget !== event.delegateTarget && !event.delegateTarget.contains(event.relatedTarget)) {
          return fn.call(this, event);
        }
      };
    };

    callable = wrapFunction(callable);
  }

  const events = getElementEvents(element);
  const handlers = events[typeEvent] || (events[typeEvent] = {});
  const previousFunction = findHandler(handlers, callable, isDelegated ? handler : null);

  if (previousFunction) {
    previousFunction.oneOff = previousFunction.oneOff && oneOff;
    return;
  }

  const uid = makeEventUid(callable, originalTypeEvent.replace(namespaceRegex, ''));
  const fn = isDelegated ? bootstrapDelegationHandler(element, handler, callable) : bootstrapHandler(element, callable);
  fn.delegationSelector = isDelegated ? handler : null;
  fn.callable = callable;
  fn.oneOff = oneOff;
  fn.uidEvent = uid;
  handlers[uid] = fn;
  element.addEventListener(typeEvent, fn, isDelegated);
}

function removeHandler(element, events, typeEvent, handler, delegationSelector) {
  const fn = findHandler(events[typeEvent], handler, delegationSelector);

  if (!fn) {
    return;
  }

  element.removeEventListener(typeEvent, fn, Boolean(delegationSelector));
  delete events[typeEvent][fn.uidEvent];
}

function removeNamespacedHandlers(element, events, typeEvent, namespace) {
  const storeElementEvent = events[typeEvent] || {};

  for (const handlerKey of Object.keys(storeElementEvent)) {
    if (handlerKey.includes(namespace)) {
      const event = storeElementEvent[handlerKey];
      removeHandler(element, events, typeEvent, event.callable, event.delegationSelector);
    }
  }
}

function getTypeEvent(event) {
  // allow to get the native events from namespaced events ('click.bs.button' --> 'click')
  event = event.replace(stripNameRegex, '');
  return customEvents[event] || event;
}

const EventHandler = {
  on(element, event, handler, delegationFunction) {
    addHandler(element, event, handler, delegationFunction, false);
  },

  one(element, event, handler, delegationFunction) {
    addHandler(element, event, handler, delegationFunction, true);
  },

  off(element, originalTypeEvent, handler, delegationFunction) {
    if (typeof originalTypeEvent !== 'string' || !element) {
      return;
    }

    const [isDelegated, callable, typeEvent] = normalizeParameters(originalTypeEvent, handler, delegationFunction);
    const inNamespace = typeEvent !== originalTypeEvent;
    const events = getElementEvents(element);
    const storeElementEvent = events[typeEvent] || {};
    const isNamespace = originalTypeEvent.startsWith('.');

    if (typeof callable !== 'undefined') {
      // Simplest case: handler is passed, remove that listener ONLY.
      if (!Object.keys(storeElementEvent).length) {
        return;
      }

      removeHandler(element, events, typeEvent, callable, isDelegated ? handler : null);
      return;
    }

    if (isNamespace) {
      for (const elementEvent of Object.keys(events)) {
        removeNamespacedHandlers(element, events, elementEvent, originalTypeEvent.slice(1));
      }
    }

    for (const keyHandlers of Object.keys(storeElementEvent)) {
      const handlerKey = keyHandlers.replace(stripUidRegex, '');

      if (!inNamespace || originalTypeEvent.includes(handlerKey)) {
        const event = storeElementEvent[keyHandlers];
        removeHandler(element, events, typeEvent, event.callable, event.delegationSelector);
      }
    }
  },

  trigger(element, event, args) {
    if (typeof event !== 'string' || !element) {
      return null;
    }

    const $ = getjQuery();
    const typeEvent = getTypeEvent(event);
    const inNamespace = event !== typeEvent;
    let jQueryEvent = null;
    let bubbles = true;
    let nativeDispatch = true;
    let defaultPrevented = false;

    if (inNamespace && $) {
      jQueryEvent = $.Event(event, args);
      $(element).trigger(jQueryEvent);
      bubbles = !jQueryEvent.isPropagationStopped();
      nativeDispatch = !jQueryEvent.isImmediatePropagationStopped();
      defaultPrevented = jQueryEvent.isDefaultPrevented();
    }

    let evt = new Event(event, {
      bubbles,
      cancelable: true
    });
    evt = hydrateObj(evt, args);

    if (defaultPrevented) {
      evt.preventDefault();
    }

    if (nativeDispatch) {
      element.dispatchEvent(evt);
    }

    if (evt.defaultPrevented && jQueryEvent) {
      jQueryEvent.preventDefault();
    }

    return evt;
  }

};

function hydrateObj(obj, meta) {
  for (const [key, value] of Object.entries(meta || {})) {
    try {
      obj[key] = value;
    } catch (_unused) {
      Object.defineProperty(obj, key, {
        configurable: true,

        get() {
          return value;
        }

      });
    }
  }

  return obj;
}

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): dom/data.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */

/**
 * Constants
 */
const elementMap = new Map();
const Data = {
  set(element, key, instance) {
    if (!elementMap.has(element)) {
      elementMap.set(element, new Map());
    }

    const instanceMap = elementMap.get(element); // make it clear we only want one instance per element
    // can be removed later when multiple key/instances are fine to be used

    if (!instanceMap.has(key) && instanceMap.size !== 0) {
      // eslint-disable-next-line no-console
      console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(instanceMap.keys())[0]}.`);
      return;
    }

    instanceMap.set(key, instance);
  },

  get(element, key) {
    if (elementMap.has(element)) {
      return elementMap.get(element).get(key) || null;
    }

    return null;
  },

  remove(element, key) {
    if (!elementMap.has(element)) {
      return;
    }

    const instanceMap = elementMap.get(element);
    instanceMap.delete(key); // free up element references if there are no instances left for an element

    if (instanceMap.size === 0) {
      elementMap.delete(element);
    }
  }

};

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): dom/manipulator.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
function normalizeData(value) {
  if (value === 'true') {
    return true;
  }

  if (value === 'false') {
    return false;
  }

  if (value === Number(value).toString()) {
    return Number(value);
  }

  if (value === '' || value === 'null') {
    return null;
  }

  if (typeof value !== 'string') {
    return value;
  }

  try {
    return JSON.parse(decodeURIComponent(value));
  } catch (_unused) {
    return value;
  }
}

function normalizeDataKey(key) {
  return key.replace(/[A-Z]/g, chr => `-${chr.toLowerCase()}`);
}

const Manipulator = {
  setDataAttribute(element, key, value) {
    element.setAttribute(`data-bs-${normalizeDataKey(key)}`, value);
  },

  removeDataAttribute(element, key) {
    element.removeAttribute(`data-bs-${normalizeDataKey(key)}`);
  },

  getDataAttributes(element) {
    if (!element) {
      return {};
    }

    const attributes = {};
    const bsKeys = Object.keys(element.dataset).filter(key => key.startsWith('bs') && !key.startsWith('bsConfig'));

    for (const key of bsKeys) {
      let pureKey = key.replace(/^bs/, '');
      pureKey = pureKey.charAt(0).toLowerCase() + pureKey.slice(1, pureKey.length);
      attributes[pureKey] = normalizeData(element.dataset[key]);
    }

    return attributes;
  },

  getDataAttribute(element, key) {
    return normalizeData(element.getAttribute(`data-bs-${normalizeDataKey(key)}`));
  }

};

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): util/config.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
/**
 * Class definition
 */

class Config {
  // Getters
  static get Default() {
    return {};
  }

  static get DefaultType() {
    return {};
  }

  static get NAME() {
    throw new Error('You have to implement the static method "NAME", for each component!');
  }

  _getConfig(config) {
    config = this._mergeConfigObj(config);
    config = this._configAfterMerge(config);

    this._typeCheckConfig(config);

    return config;
  }

  _configAfterMerge(config) {
    return config;
  }

  _mergeConfigObj(config, element) {
    const jsonConfig = isElement(element) ? Manipulator.getDataAttribute(element, 'config') : {}; // try to parse

    return { ...this.constructor.Default,
      ...(typeof jsonConfig === 'object' ? jsonConfig : {}),
      ...(isElement(element) ? Manipulator.getDataAttributes(element) : {}),
      ...(typeof config === 'object' ? config : {})
    };
  }

  _typeCheckConfig(config, configTypes = this.constructor.DefaultType) {
    for (const property of Object.keys(configTypes)) {
      const expectedTypes = configTypes[property];
      const value = config[property];
      const valueType = isElement(value) ? 'element' : toType(value);

      if (!new RegExp(expectedTypes).test(valueType)) {
        throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${property}" provided type "${valueType}" but expected type "${expectedTypes}".`);
      }
    }
  }

}

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): base-component.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
/**
 * Constants
 */

const VERSION = '5.2.3';
/**
 * Class definition
 */

class BaseComponent extends Config {
  constructor(element, config) {
    super();
    element = getElement(element);

    if (!element) {
      return;
    }

    this._element = element;
    this._config = this._getConfig(config);
    Data.set(this._element, this.constructor.DATA_KEY, this);
  } // Public


  dispose() {
    Data.remove(this._element, this.constructor.DATA_KEY);
    EventHandler.off(this._element, this.constructor.EVENT_KEY);

    for (const propertyName of Object.getOwnPropertyNames(this)) {
      this[propertyName] = null;
    }
  }

  _queueCallback(callback, element, isAnimated = true) {
    executeAfterTransition(callback, element, isAnimated);
  }

  _getConfig(config) {
    config = this._mergeConfigObj(config, this._element);
    config = this._configAfterMerge(config);

    this._typeCheckConfig(config);

    return config;
  } // Static


  static getInstance(element) {
    return Data.get(getElement(element), this.DATA_KEY);
  }

  static getOrCreateInstance(element, config = {}) {
    return this.getInstance(element) || new this(element, typeof config === 'object' ? config : null);
  }

  static get VERSION() {
    return VERSION;
  }

  static get DATA_KEY() {
    return `bs.${this.NAME}`;
  }

  static get EVENT_KEY() {
    return `.${this.DATA_KEY}`;
  }

  static eventName(name) {
    return `${name}${this.EVENT_KEY}`;
  }

}

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): util/component-functions.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */

const enableDismissTrigger = (component, method = 'hide') => {
  const clickEvent = `click.dismiss${component.EVENT_KEY}`;
  const name = component.NAME;
  EventHandler.on(document, clickEvent, `[data-bs-dismiss="${name}"]`, function (event) {
    if (['A', 'AREA'].includes(this.tagName)) {
      event.preventDefault();
    }

    if (isDisabled(this)) {
      return;
    }

    const target = getElementFromSelector(this) || this.closest(`.${name}`);
    const instance = component.getOrCreateInstance(target); // Method argument is left, for Alert and only, as it doesn't implement the 'hide' method

    instance[method]();
  });
};

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): alert.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
/**
 * Constants
 */

const NAME$f = 'alert';
const DATA_KEY$a = 'bs.alert';
const EVENT_KEY$b = `.${DATA_KEY$a}`;
const EVENT_CLOSE = `close${EVENT_KEY$b}`;
const EVENT_CLOSED = `closed${EVENT_KEY$b}`;
const CLASS_NAME_FADE$5 = 'fade';
const CLASS_NAME_SHOW$8 = 'show';
/**
 * Class definition
 */

class Alert extends BaseComponent {
  // Getters
  static get NAME() {
    return NAME$f;
  } // Public


  close() {
    const closeEvent = EventHandler.trigger(this._element, EVENT_CLOSE);

    if (closeEvent.defaultPrevented) {
      return;
    }

    this._element.classList.remove(CLASS_NAME_SHOW$8);

    const isAnimated = this._element.classList.contains(CLASS_NAME_FADE$5);

    this._queueCallback(() => this._destroyElement(), this._element, isAnimated);
  } // Private


  _destroyElement() {
    this._element.remove();

    EventHandler.trigger(this._element, EVENT_CLOSED);
    this.dispose();
  } // Static


  static jQueryInterface(config) {
    return this.each(function () {
      const data = Alert.getOrCreateInstance(this);

      if (typeof config !== 'string') {
        return;
      }

      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {
        throw new TypeError(`No method named "${config}"`);
      }

      data[config](this);
    });
  }

}
/**
 * Data API implementation
 */


enableDismissTrigger(Alert, 'close');
/**
 * jQuery
 */

defineJQueryPlugin(Alert);

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): button.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
/**
 * Constants
 */

const NAME$e = 'button';
const DATA_KEY$9 = 'bs.button';
const EVENT_KEY$a = `.${DATA_KEY$9}`;
const DATA_API_KEY$6 = '.data-api';
const CLASS_NAME_ACTIVE$3 = 'active';
const SELECTOR_DATA_TOGGLE$5 = '[data-bs-toggle="button"]';
const EVENT_CLICK_DATA_API$6 = `click${EVENT_KEY$a}${DATA_API_KEY$6}`;
/**
 * Class definition
 */

class Button extends BaseComponent {
  // Getters
  static get NAME() {
    return NAME$e;
  } // Public


  toggle() {
    // Toggle class and sync the `aria-pressed` attribute with the return value of the `.toggle()` method
    this._element.setAttribute('aria-pressed', this._element.classList.toggle(CLASS_NAME_ACTIVE$3));
  } // Static


  static jQueryInterface(config) {
    return this.each(function () {
      const data = Button.getOrCreateInstance(this);

      if (config === 'toggle') {
        data[config]();
      }
    });
  }

}
/**
 * Data API implementation
 */


EventHandler.on(document, EVENT_CLICK_DATA_API$6, SELECTOR_DATA_TOGGLE$5, event => {
  event.preventDefault();
  const button = event.target.closest(SELECTOR_DATA_TOGGLE$5);
  const data = Button.getOrCreateInstance(button);
  data.toggle();
});
/**
 * jQuery
 */

defineJQueryPlugin(Button);

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): dom/selector-engine.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
/**
 * Constants
 */

const SelectorEngine = {
  find(selector, element = document.documentElement) {
    return [].concat(...Element.prototype.querySelectorAll.call(element, selector));
  },

  findOne(selector, element = document.documentElement) {
    return Element.prototype.querySelector.call(element, selector);
  },

  children(element, selector) {
    return [].concat(...element.children).filter(child => child.matches(selector));
  },

  parents(element, selector) {
    const parents = [];
    let ancestor = element.parentNode.closest(selector);

    while (ancestor) {
      parents.push(ancestor);
      ancestor = ancestor.parentNode.closest(selector);
    }

    return parents;
  },

  prev(element, selector) {
    let previous = element.previousElementSibling;

    while (previous) {
      if (previous.matches(selector)) {
        return [previous];
      }

      previous = previous.previousElementSibling;
    }

    return [];
  },

  // TODO: this is now unused; remove later along with prev()
  next(element, selector) {
    let next = element.nextElementSibling;

    while (next) {
      if (next.matches(selector)) {
        return [next];
      }

      next = next.nextElementSibling;
    }

    return [];
  },

  focusableChildren(element) {
    const focusables = ['a', 'button', 'input', 'textarea', 'select', 'details', '[tabindex]', '[contenteditable="true"]'].map(selector => `${selector}:not([tabindex^="-"])`).join(',');
    return this.find(focusables, element).filter(el => !isDisabled(el) && isVisible(el));
  }

};

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): util/swipe.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
/**
 * Constants
 */

const NAME$d = 'swipe';
const EVENT_KEY$9 = '.bs.swipe';
const EVENT_TOUCHSTART = `touchstart${EVENT_KEY$9}`;
const EVENT_TOUCHMOVE = `touchmove${EVENT_KEY$9}`;
const EVENT_TOUCHEND = `touchend${EVENT_KEY$9}`;
const EVENT_POINTERDOWN = `pointerdown${EVENT_KEY$9}`;
const EVENT_POINTERUP = `pointerup${EVENT_KEY$9}`;
const POINTER_TYPE_TOUCH = 'touch';
const POINTER_TYPE_PEN = 'pen';
const CLASS_NAME_POINTER_EVENT = 'pointer-event';
const SWIPE_THRESHOLD = 40;
const Default$c = {
  endCallback: null,
  leftCallback: null,
  rightCallback: null
};
const DefaultType$c = {
  endCallback: '(function|null)',
  leftCallback: '(function|null)',
  rightCallback: '(function|null)'
};
/**
 * Class definition
 */

class Swipe extends Config {
  constructor(element, config) {
    super();
    this._element = element;

    if (!element || !Swipe.isSupported()) {
      return;
    }

    this._config = this._getConfig(config);
    this._deltaX = 0;
    this._supportPointerEvents = Boolean(window.PointerEvent);

    this._initEvents();
  } // Getters


  static get Default() {
    return Default$c;
  }

  static get DefaultType() {
    return DefaultType$c;
  }

  static get NAME() {
    return NAME$d;
  } // Public


  dispose() {
    EventHandler.off(this._element, EVENT_KEY$9);
  } // Private


  _start(event) {
    if (!this._supportPointerEvents) {
      this._deltaX = event.touches[0].clientX;
      return;
    }

    if (this._eventIsPointerPenTouch(event)) {
      this._deltaX = event.clientX;
    }
  }

  _end(event) {
    if (this._eventIsPointerPenTouch(event)) {
      this._deltaX = event.clientX - this._deltaX;
    }

    this._handleSwipe();

    execute(this._config.endCallback);
  }

  _move(event) {
    this._deltaX = event.touches && event.touches.length > 1 ? 0 : event.touches[0].clientX - this._deltaX;
  }

  _handleSwipe() {
    const absDeltaX = Math.abs(this._deltaX);

    if (absDeltaX <= SWIPE_THRESHOLD) {
      return;
    }

    const direction = absDeltaX / this._deltaX;
    this._deltaX = 0;

    if (!direction) {
      return;
    }

    execute(direction > 0 ? this._config.rightCallback : this._config.leftCallback);
  }

  _initEvents() {
    if (this._supportPointerEvents) {
      EventHandler.on(this._element, EVENT_POINTERDOWN, event => this._start(event));
      EventHandler.on(this._element, EVENT_POINTERUP, event => this._end(event));

      this._element.classList.add(CLASS_NAME_POINTER_EVENT);
    } else {
      EventHandler.on(this._element, EVENT_TOUCHSTART, event => this._start(event));
      EventHandler.on(this._element, EVENT_TOUCHMOVE, event => this._move(event));
      EventHandler.on(this._element, EVENT_TOUCHEND, event => this._end(event));
    }
  }

  _eventIsPointerPenTouch(event) {
    return this._supportPointerEvents && (event.pointerType === POINTER_TYPE_PEN || event.pointerType === POINTER_TYPE_TOUCH);
  } // Static


  static isSupported() {
    return 'ontouchstart' in document.documentElement || navigator.maxTouchPoints > 0;
  }

}

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): carousel.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
/**
 * Constants
 */

const NAME$c = 'carousel';
const DATA_KEY$8 = 'bs.carousel';
const EVENT_KEY$8 = `.${DATA_KEY$8}`;
const DATA_API_KEY$5 = '.data-api';
const ARROW_LEFT_KEY$1 = 'ArrowLeft';
const ARROW_RIGHT_KEY$1 = 'ArrowRight';
const TOUCHEVENT_COMPAT_WAIT = 500; // Time for mouse compat events to fire after touch

const ORDER_NEXT = 'next';
const ORDER_PREV = 'prev';
const DIRECTION_LEFT = 'left';
const DIRECTION_RIGHT = 'right';
const EVENT_SLIDE = `slide${EVENT_KEY$8}`;
const EVENT_SLID = `slid${EVENT_KEY$8}`;
const EVENT_KEYDOWN$1 = `keydown${EVENT_KEY$8}`;
const EVENT_MOUSEENTER$1 = `mouseenter${EVENT_KEY$8}`;
const EVENT_MOUSELEAVE$1 = `mouseleave${EVENT_KEY$8}`;
const EVENT_DRAG_START = `dragstart${EVENT_KEY$8}`;
const EVENT_LOAD_DATA_API$3 = `load${EVENT_KEY$8}${DATA_API_KEY$5}`;
const EVENT_CLICK_DATA_API$5 = `click${EVENT_KEY$8}${DATA_API_KEY$5}`;
const CLASS_NAME_CAROUSEL = 'carousel';
const CLASS_NAME_ACTIVE$2 = 'active';
const CLASS_NAME_SLIDE = 'slide';
const CLASS_NAME_END = 'carousel-item-end';
const CLASS_NAME_START = 'carousel-item-start';
const CLASS_NAME_NEXT = 'carousel-item-next';
const CLASS_NAME_PREV = 'carousel-item-prev';
const SELECTOR_ACTIVE = '.active';
const SELECTOR_ITEM = '.carousel-item';
const SELECTOR_ACTIVE_ITEM = SELECTOR_ACTIVE + SELECTOR_ITEM;
const SELECTOR_ITEM_IMG = '.carousel-item img';
const SELECTOR_INDICATORS = '.carousel-indicators';
const SELECTOR_DATA_SLIDE = '[data-bs-slide], [data-bs-slide-to]';
const SELECTOR_DATA_RIDE = '[data-bs-ride="carousel"]';
const KEY_TO_DIRECTION = {
  [ARROW_LEFT_KEY$1]: DIRECTION_RIGHT,
  [ARROW_RIGHT_KEY$1]: DIRECTION_LEFT
};
const Default$b = {
  interval: 5000,
  keyboard: true,
  pause: 'hover',
  ride: false,
  touch: true,
  wrap: true
};
const DefaultType$b = {
  interval: '(number|boolean)',
  // TODO:v6 remove boolean support
  keyboard: 'boolean',
  pause: '(string|boolean)',
  ride: '(boolean|string)',
  touch: 'boolean',
  wrap: 'boolean'
};
/**
 * Class definition
 */

class Carousel extends BaseComponent {
  constructor(element, config) {
    super(element, config);
    this._interval = null;
    this._activeElement = null;
    this._isSliding = false;
    this.touchTimeout = null;
    this._swipeHelper = null;
    this._indicatorsElement = SelectorEngine.findOne(SELECTOR_INDICATORS, this._element);

    this._addEventListeners();

    if (this._config.ride === CLASS_NAME_CAROUSEL) {
      this.cycle();
    }
  } // Getters


  static get Default() {
    return Default$b;
  }

  static get DefaultType() {
    return DefaultType$b;
  }

  static get NAME() {
    return NAME$c;
  } // Public


  next() {
    this._slide(ORDER_NEXT);
  }

  nextWhenVisible() {
    // FIXME TODO use `document.visibilityState`
    // Don't call next when the page isn't visible
    // or the carousel or its parent isn't visible
    if (!document.hidden && isVisible(this._element)) {
      this.next();
    }
  }

  prev() {
    this._slide(ORDER_PREV);
  }

  pause() {
    if (this._isSliding) {
      triggerTransitionEnd(this._element);
    }

    this._clearInterval();
  }

  cycle() {
    this._clearInterval();

    this._updateInterval();

    this._interval = setInterval(() => this.nextWhenVisible(), this._config.interval);
  }

  _maybeEnableCycle() {
    if (!this._config.ride) {
      return;
    }

    if (this._isSliding) {
      EventHandler.one(this._element, EVENT_SLID, () => this.cycle());
      return;
    }

    this.cycle();
  }

  to(index) {
    const items = this._getItems();

    if (index > items.length - 1 || index < 0) {
      return;
    }

    if (this._isSliding) {
      EventHandler.one(this._element, EVENT_SLID, () => this.to(index));
      return;
    }

    const activeIndex = this._getItemIndex(this._getActive());

    if (activeIndex === index) {
      return;
    }

    const order = index > activeIndex ? ORDER_NEXT : ORDER_PREV;

    this._slide(order, items[index]);
  }

  dispose() {
    if (this._swipeHelper) {
      this._swipeHelper.dispose();
    }

    super.dispose();
  } // Private


  _configAfterMerge(config) {
    config.defaultInterval = config.interval;
    return config;
  }

  _addEventListeners() {
    if (this._config.keyboard) {
      EventHandler.on(this._element, EVENT_KEYDOWN$1, event => this._keydown(event));
    }

    if (this._config.pause === 'hover') {
      EventHandler.on(this._element, EVENT_MOUSEENTER$1, () => this.pause());
      EventHandler.on(this._element, EVENT_MOUSELEAVE$1, () => this._maybeEnableCycle());
    }

    if (this._config.touch && Swipe.isSupported()) {
      this._addTouchEventListeners();
    }
  }

  _addTouchEventListeners() {
    for (const img of SelectorEngine.find(SELECTOR_ITEM_IMG, this._element)) {
      EventHandler.on(img, EVENT_DRAG_START, event => event.preventDefault());
    }

    const endCallBack = () => {
      if (this._config.pause !== 'hover') {
        return;
      } // If it's a touch-enabled device, mouseenter/leave are fired as
      // part of the mouse compatibility events on first tap - the carousel
      // would stop cycling until user tapped out of it;
      // here, we listen for touchend, explicitly pause the carousel
      // (as if it's the second time we tap on it, mouseenter compat event
      // is NOT fired) and after a timeout (to allow for mouse compatibility
      // events to fire) we explicitly restart cycling


      this.pause();

      if (this.touchTimeout) {
        clearTimeout(this.touchTimeout);
      }

      this.touchTimeout = setTimeout(() => this._maybeEnableCycle(), TOUCHEVENT_COMPAT_WAIT + this._config.interval);
    };

    const swipeConfig = {
      leftCallback: () => this._slide(this._directionToOrder(DIRECTION_LEFT)),
      rightCallback: () => this._slide(this._directionToOrder(DIRECTION_RIGHT)),
      endCallback: endCallBack
    };
    this._swipeHelper = new Swipe(this._element, swipeConfig);
  }

  _keydown(event) {
    if (/input|textarea/i.test(event.target.tagName)) {
      return;
    }

    const direction = KEY_TO_DIRECTION[event.key];

    if (direction) {
      event.preventDefault();

      this._slide(this._directionToOrder(direction));
    }
  }

  _getItemIndex(element) {
    return this._getItems().indexOf(element);
  }

  _setActiveIndicatorElement(index) {
    if (!this._indicatorsElement) {
      return;
    }

    const activeIndicator = SelectorEngine.findOne(SELECTOR_ACTIVE, this._indicatorsElement);
    activeIndicator.classList.remove(CLASS_NAME_ACTIVE$2);
    activeIndicator.removeAttribute('aria-current');
    const newActiveIndicator = SelectorEngine.findOne(`[data-bs-slide-to="${index}"]`, this._indicatorsElement);

    if (newActiveIndicator) {
      newActiveIndicator.classList.add(CLASS_NAME_ACTIVE$2);
      newActiveIndicator.setAttribute('aria-current', 'true');
    }
  }

  _updateInterval() {
    const element = this._activeElement || this._getActive();

    if (!element) {
      return;
    }

    const elementInterval = Number.parseInt(element.getAttribute('data-bs-interval'), 10);
    this._config.interval = elementInterval || this._config.defaultInterval;
  }

  _slide(order, element = null) {
    if (this._isSliding) {
      return;
    }

    const activeElement = this._getActive();

    const isNext = order === ORDER_NEXT;
    const nextElement = element || getNextActiveElement(this._getItems(), activeElement, isNext, this._config.wrap);

    if (nextElement === activeElement) {
      return;
    }

    const nextElementIndex = this._getItemIndex(nextElement);

    const triggerEvent = eventName => {
      return EventHandler.trigger(this._element, eventName, {
        relatedTarget: nextElement,
        direction: this._orderToDirection(order),
        from: this._getItemIndex(activeElement),
        to: nextElementIndex
      });
    };

    const slideEvent = triggerEvent(EVENT_SLIDE);

    if (slideEvent.defaultPrevented) {
      return;
    }

    if (!activeElement || !nextElement) {
      // Some weirdness is happening, so we bail
      // todo: change tests that use empty divs to avoid this check
      return;
    }

    const isCycling = Boolean(this._interval);
    this.pause();
    this._isSliding = true;

    this._setActiveIndicatorElement(nextElementIndex);

    this._activeElement = nextElement;
    const directionalClassName = isNext ? CLASS_NAME_START : CLASS_NAME_END;
    const orderClassName = isNext ? CLASS_NAME_NEXT : CLASS_NAME_PREV;
    nextElement.classList.add(orderClassName);
    reflow(nextElement);
    activeElement.classList.add(directionalClassName);
    nextElement.classList.add(directionalClassName);

    const completeCallBack = () => {
      nextElement.classList.remove(directionalClassName, orderClassName);
      nextElement.classList.add(CLASS_NAME_ACTIVE$2);
      activeElement.classList.remove(CLASS_NAME_ACTIVE$2, orderClassName, directionalClassName);
      this._isSliding = false;
      triggerEvent(EVENT_SLID);
    };

    this._queueCallback(completeCallBack, activeElement, this._isAnimated());

    if (isCycling) {
      this.cycle();
    }
  }

  _isAnimated() {
    return this._element.classList.contains(CLASS_NAME_SLIDE);
  }

  _getActive() {
    return SelectorEngine.findOne(SELECTOR_ACTIVE_ITEM, this._element);
  }

  _getItems() {
    return SelectorEngine.find(SELECTOR_ITEM, this._element);
  }

  _clearInterval() {
    if (this._interval) {
      clearInterval(this._interval);
      this._interval = null;
    }
  }

  _directionToOrder(direction) {
    if (isRTL()) {
      return direction === DIRECTION_LEFT ? ORDER_PREV : ORDER_NEXT;
    }

    return direction === DIRECTION_LEFT ? ORDER_NEXT : ORDER_PREV;
  }

  _orderToDirection(order) {
    if (isRTL()) {
      return order === ORDER_PREV ? DIRECTION_LEFT : DIRECTION_RIGHT;
    }

    return order === ORDER_PREV ? DIRECTION_RIGHT : DIRECTION_LEFT;
  } // Static


  static jQueryInterface(config) {
    return this.each(function () {
      const data = Carousel.getOrCreateInstance(this, config);

      if (typeof config === 'number') {
        data.to(config);
        return;
      }

      if (typeof config === 'string') {
        if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {
          throw new TypeError(`No method named "${config}"`);
        }

        data[config]();
      }
    });
  }

}
/**
 * Data API implementation
 */


EventHandler.on(document, EVENT_CLICK_DATA_API$5, SELECTOR_DATA_SLIDE, function (event) {
  const target = getElementFromSelector(this);

  if (!target || !target.classList.contains(CLASS_NAME_CAROUSEL)) {
    return;
  }

  event.preventDefault();
  const carousel = Carousel.getOrCreateInstance(target);
  const slideIndex = this.getAttribute('data-bs-slide-to');

  if (slideIndex) {
    carousel.to(slideIndex);

    carousel._maybeEnableCycle();

    return;
  }

  if (Manipulator.getDataAttribute(this, 'slide') === 'next') {
    carousel.next();

    carousel._maybeEnableCycle();

    return;
  }

  carousel.prev();

  carousel._maybeEnableCycle();
});
EventHandler.on(window, EVENT_LOAD_DATA_API$3, () => {
  const carousels = SelectorEngine.find(SELECTOR_DATA_RIDE);

  for (const carousel of carousels) {
    Carousel.getOrCreateInstance(carousel);
  }
});
/**
 * jQuery
 */

defineJQueryPlugin(Carousel);

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): collapse.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
/**
 * Constants
 */

const NAME$b = 'collapse';
const DATA_KEY$7 = 'bs.collapse';
const EVENT_KEY$7 = `.${DATA_KEY$7}`;
const DATA_API_KEY$4 = '.data-api';
const EVENT_SHOW$6 = `show${EVENT_KEY$7}`;
const EVENT_SHOWN$6 = `shown${EVENT_KEY$7}`;
const EVENT_HIDE$6 = `hide${EVENT_KEY$7}`;
const EVENT_HIDDEN$6 = `hidden${EVENT_KEY$7}`;
const EVENT_CLICK_DATA_API$4 = `click${EVENT_KEY$7}${DATA_API_KEY$4}`;
const CLASS_NAME_SHOW$7 = 'show';
const CLASS_NAME_COLLAPSE = 'collapse';
const CLASS_NAME_COLLAPSING = 'collapsing';
const CLASS_NAME_COLLAPSED = 'collapsed';
const CLASS_NAME_DEEPER_CHILDREN = `:scope .${CLASS_NAME_COLLAPSE} .${CLASS_NAME_COLLAPSE}`;
const CLASS_NAME_HORIZONTAL = 'collapse-horizontal';
const WIDTH = 'width';
const HEIGHT = 'height';
const SELECTOR_ACTIVES = '.collapse.show, .collapse.collapsing';
const SELECTOR_DATA_TOGGLE$4 = '[data-bs-toggle="collapse"]';
const Default$a = {
  parent: null,
  toggle: true
};
const DefaultType$a = {
  parent: '(null|element)',
  toggle: 'boolean'
};
/**
 * Class definition
 */

class Collapse extends BaseComponent {
  constructor(element, config) {
    super(element, config);
    this._isTransitioning = false;
    this._triggerArray = [];
    const toggleList = SelectorEngine.find(SELECTOR_DATA_TOGGLE$4);

    for (const elem of toggleList) {
      const selector = getSelectorFromElement(elem);
      const filterElement = SelectorEngine.find(selector).filter(foundElement => foundElement === this._element);

      if (selector !== null && filterElement.length) {
        this._triggerArray.push(elem);
      }
    }

    this._initializeChildren();

    if (!this._config.parent) {
      this._addAriaAndCollapsedClass(this._triggerArray, this._isShown());
    }

    if (this._config.toggle) {
      this.toggle();
    }
  } // Getters


  static get Default() {
    return Default$a;
  }

  static get DefaultType() {
    return DefaultType$a;
  }

  static get NAME() {
    return NAME$b;
  } // Public


  toggle() {
    if (this._isShown()) {
      this.hide();
    } else {
      this.show();
    }
  }

  show() {
    if (this._isTransitioning || this._isShown()) {
      return;
    }

    let activeChildren = []; // find active children

    if (this._config.parent) {
      activeChildren = this._getFirstLevelChildren(SELECTOR_ACTIVES).filter(element => element !== this._element).map(element => Collapse.getOrCreateInstance(element, {
        toggle: false
      }));
    }

    if (activeChildren.length && activeChildren[0]._isTransitioning) {
      return;
    }

    const startEvent = EventHandler.trigger(this._element, EVENT_SHOW$6);

    if (startEvent.defaultPrevented) {
      return;
    }

    for (const activeInstance of activeChildren) {
      activeInstance.hide();
    }

    const dimension = this._getDimension();

    this._element.classList.remove(CLASS_NAME_COLLAPSE);

    this._element.classList.add(CLASS_NAME_COLLAPSING);

    this._element.style[dimension] = 0;

    this._addAriaAndCollapsedClass(this._triggerArray, true);

    this._isTransitioning = true;

    const complete = () => {
      this._isTransitioning = false;

      this._element.classList.remove(CLASS_NAME_COLLAPSING);

      this._element.classList.add(CLASS_NAME_COLLAPSE, CLASS_NAME_SHOW$7);

      this._element.style[dimension] = '';
      EventHandler.trigger(this._element, EVENT_SHOWN$6);
    };

    const capitalizedDimension = dimension[0].toUpperCase() + dimension.slice(1);
    const scrollSize = `scroll${capitalizedDimension}`;

    this._queueCallback(complete, this._element, true);

    this._element.style[dimension] = `${this._element[scrollSize]}px`;
  }

  hide() {
    if (this._isTransitioning || !this._isShown()) {
      return;
    }

    const startEvent = EventHandler.trigger(this._element, EVENT_HIDE$6);

    if (startEvent.defaultPrevented) {
      return;
    }

    const dimension = this._getDimension();

    this._element.style[dimension] = `${this._element.getBoundingClientRect()[dimension]}px`;
    reflow(this._element);

    this._element.classList.add(CLASS_NAME_COLLAPSING);

    this._element.classList.remove(CLASS_NAME_COLLAPSE, CLASS_NAME_SHOW$7);

    for (const trigger of this._triggerArray) {
      const element = getElementFromSelector(trigger);

      if (element && !this._isShown(element)) {
        this._addAriaAndCollapsedClass([trigger], false);
      }
    }

    this._isTransitioning = true;

    const complete = () => {
      this._isTransitioning = false;

      this._element.classList.remove(CLASS_NAME_COLLAPSING);

      this._element.classList.add(CLASS_NAME_COLLAPSE);

      EventHandler.trigger(this._element, EVENT_HIDDEN$6);
    };

    this._element.style[dimension] = '';

    this._queueCallback(complete, this._element, true);
  }

  _isShown(element = this._element) {
    return element.classList.contains(CLASS_NAME_SHOW$7);
  } // Private


  _configAfterMerge(config) {
    config.toggle = Boolean(config.toggle); // Coerce string values

    config.parent = getElement(config.parent);
    return config;
  }

  _getDimension() {
    return this._element.classList.contains(CLASS_NAME_HORIZONTAL) ? WIDTH : HEIGHT;
  }

  _initializeChildren() {
    if (!this._config.parent) {
      return;
    }

    const children = this._getFirstLevelChildren(SELECTOR_DATA_TOGGLE$4);

    for (const element of children) {
      const selected = getElementFromSelector(element);

      if (selected) {
        this._addAriaAndCollapsedClass([element], this._isShown(selected));
      }
    }
  }

  _getFirstLevelChildren(selector) {
    const children = SelectorEngine.find(CLASS_NAME_DEEPER_CHILDREN, this._config.parent); // remove children if greater depth

    return SelectorEngine.find(selector, this._config.parent).filter(element => !children.includes(element));
  }

  _addAriaAndCollapsedClass(triggerArray, isOpen) {
    if (!triggerArray.length) {
      return;
    }

    for (const element of triggerArray) {
      element.classList.toggle(CLASS_NAME_COLLAPSED, !isOpen);
      element.setAttribute('aria-expanded', isOpen);
    }
  } // Static


  static jQueryInterface(config) {
    const _config = {};

    if (typeof config === 'string' && /show|hide/.test(config)) {
      _config.toggle = false;
    }

    return this.each(function () {
      const data = Collapse.getOrCreateInstance(this, _config);

      if (typeof config === 'string') {
        if (typeof data[config] === 'undefined') {
          throw new TypeError(`No method named "${config}"`);
        }

        data[config]();
      }
    });
  }

}
/**
 * Data API implementation
 */


EventHandler.on(document, EVENT_CLICK_DATA_API$4, SELECTOR_DATA_TOGGLE$4, function (event) {
  // preventDefault only for <a> elements (which change the URL) not inside the collapsible element
  if (event.target.tagName === 'A' || event.delegateTarget && event.delegateTarget.tagName === 'A') {
    event.preventDefault();
  }

  const selector = getSelectorFromElement(this);
  const selectorElements = SelectorEngine.find(selector);

  for (const element of selectorElements) {
    Collapse.getOrCreateInstance(element, {
      toggle: false
    }).toggle();
  }
});
/**
 * jQuery
 */

defineJQueryPlugin(Collapse);

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): dropdown.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
/**
 * Constants
 */

const NAME$a = 'dropdown';
const DATA_KEY$6 = 'bs.dropdown';
const EVENT_KEY$6 = `.${DATA_KEY$6}`;
const DATA_API_KEY$3 = '.data-api';
const ESCAPE_KEY$2 = 'Escape';
const TAB_KEY$1 = 'Tab';
const ARROW_UP_KEY$1 = 'ArrowUp';
const ARROW_DOWN_KEY$1 = 'ArrowDown';
const RIGHT_MOUSE_BUTTON = 2; // MouseEvent.button value for the secondary button, usually the right button

const EVENT_HIDE$5 = `hide${EVENT_KEY$6}`;
const EVENT_HIDDEN$5 = `hidden${EVENT_KEY$6}`;
const EVENT_SHOW$5 = `show${EVENT_KEY$6}`;
const EVENT_SHOWN$5 = `shown${EVENT_KEY$6}`;
const EVENT_CLICK_DATA_API$3 = `click${EVENT_KEY$6}${DATA_API_KEY$3}`;
const EVENT_KEYDOWN_DATA_API = `keydown${EVENT_KEY$6}${DATA_API_KEY$3}`;
const EVENT_KEYUP_DATA_API = `keyup${EVENT_KEY$6}${DATA_API_KEY$3}`;
const CLASS_NAME_SHOW$6 = 'show';
const CLASS_NAME_DROPUP = 'dropup';
const CLASS_NAME_DROPEND = 'dropend';
const CLASS_NAME_DROPSTART = 'dropstart';
const CLASS_NAME_DROPUP_CENTER = 'dropup-center';
const CLASS_NAME_DROPDOWN_CENTER = 'dropdown-center';
const SELECTOR_DATA_TOGGLE$3 = '[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)';
const SELECTOR_DATA_TOGGLE_SHOWN = `${SELECTOR_DATA_TOGGLE$3}.${CLASS_NAME_SHOW$6}`;
const SELECTOR_MENU = '.dropdown-menu';
const SELECTOR_NAVBAR = '.navbar';
const SELECTOR_NAVBAR_NAV = '.navbar-nav';
const SELECTOR_VISIBLE_ITEMS = '.dropdown-menu .dropdown-item:not(.disabled):not(:disabled)';
const PLACEMENT_TOP = isRTL() ? 'top-end' : 'top-start';
const PLACEMENT_TOPEND = isRTL() ? 'top-start' : 'top-end';
const PLACEMENT_BOTTOM = isRTL() ? 'bottom-end' : 'bottom-start';
const PLACEMENT_BOTTOMEND = isRTL() ? 'bottom-start' : 'bottom-end';
const PLACEMENT_RIGHT = isRTL() ? 'left-start' : 'right-start';
const PLACEMENT_LEFT = isRTL() ? 'right-start' : 'left-start';
const PLACEMENT_TOPCENTER = 'top';
const PLACEMENT_BOTTOMCENTER = 'bottom';
const Default$9 = {
  autoClose: true,
  boundary: 'clippingParents',
  display: 'dynamic',
  offset: [0, 2],
  popperConfig: null,
  reference: 'toggle'
};
const DefaultType$9 = {
  autoClose: '(boolean|string)',
  boundary: '(string|element)',
  display: 'string',
  offset: '(array|string|function)',
  popperConfig: '(null|object|function)',
  reference: '(string|element|object)'
};
/**
 * Class definition
 */

class Dropdown extends BaseComponent {
  constructor(element, config) {
    super(element, config);
    this._popper = null;
    this._parent = this._element.parentNode; // dropdown wrapper
    // todo: v6 revert #37011 & change markup https://getbootstrap.com/docs/5.2/forms/input-group/

    this._menu = SelectorEngine.next(this._element, SELECTOR_MENU)[0] || SelectorEngine.prev(this._element, SELECTOR_MENU)[0] || SelectorEngine.findOne(SELECTOR_MENU, this._parent);
    this._inNavbar = this._detectNavbar();
  } // Getters


  static get Default() {
    return Default$9;
  }

  static get DefaultType() {
    return DefaultType$9;
  }

  static get NAME() {
    return NAME$a;
  } // Public


  toggle() {
    return this._isShown() ? this.hide() : this.show();
  }

  show() {
    if (isDisabled(this._element) || this._isShown()) {
      return;
    }

    const relatedTarget = {
      relatedTarget: this._element
    };
    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW$5, relatedTarget);

    if (showEvent.defaultPrevented) {
      return;
    }

    this._createPopper(); // If this is a touch-enabled device we add extra
    // empty mouseover listeners to the body's immediate children;
    // only needed because of broken event delegation on iOS
    // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html


    if ('ontouchstart' in document.documentElement && !this._parent.closest(SELECTOR_NAVBAR_NAV)) {
      for (const element of [].concat(...document.body.children)) {
        EventHandler.on(element, 'mouseover', noop);
      }
    }

    this._element.focus();

    this._element.setAttribute('aria-expanded', true);

    this._menu.classList.add(CLASS_NAME_SHOW$6);

    this._element.classList.add(CLASS_NAME_SHOW$6);

    EventHandler.trigger(this._element, EVENT_SHOWN$5, relatedTarget);
  }

  hide() {
    if (isDisabled(this._element) || !this._isShown()) {
      return;
    }

    const relatedTarget = {
      relatedTarget: this._element
    };

    this._completeHide(relatedTarget);
  }

  dispose() {
    if (this._popper) {
      this._popper.destroy();
    }

    super.dispose();
  }

  update() {
    this._inNavbar = this._detectNavbar();

    if (this._popper) {
      this._popper.update();
    }
  } // Private


  _completeHide(relatedTarget) {
    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE$5, relatedTarget);

    if (hideEvent.defaultPrevented) {
      return;
    } // If this is a touch-enabled device we remove the extra
    // empty mouseover listeners we added for iOS support


    if ('ontouchstart' in document.documentElement) {
      for (const element of [].concat(...document.body.children)) {
        EventHandler.off(element, 'mouseover', noop);
      }
    }

    if (this._popper) {
      this._popper.destroy();
    }

    this._menu.classList.remove(CLASS_NAME_SHOW$6);

    this._element.classList.remove(CLASS_NAME_SHOW$6);

    this._element.setAttribute('aria-expanded', 'false');

    Manipulator.removeDataAttribute(this._menu, 'popper');
    EventHandler.trigger(this._element, EVENT_HIDDEN$5, relatedTarget);
  }

  _getConfig(config) {
    config = super._getConfig(config);

    if (typeof config.reference === 'object' && !isElement(config.reference) && typeof config.reference.getBoundingClientRect !== 'function') {
      // Popper virtual elements require a getBoundingClientRect method
      throw new TypeError(`${NAME$a.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);
    }

    return config;
  }

  _createPopper() {
    if (typeof _popperjs_core__WEBPACK_IMPORTED_MODULE_0__ === 'undefined') {
      throw new TypeError('Bootstrap\'s dropdowns require Popper (https://popper.js.org)');
    }

    let referenceElement = this._element;

    if (this._config.reference === 'parent') {
      referenceElement = this._parent;
    } else if (isElement(this._config.reference)) {
      referenceElement = getElement(this._config.reference);
    } else if (typeof this._config.reference === 'object') {
      referenceElement = this._config.reference;
    }

    const popperConfig = this._getPopperConfig();

    this._popper = _popperjs_core__WEBPACK_IMPORTED_MODULE_1__.createPopper(referenceElement, this._menu, popperConfig);
  }

  _isShown() {
    return this._menu.classList.contains(CLASS_NAME_SHOW$6);
  }

  _getPlacement() {
    const parentDropdown = this._parent;

    if (parentDropdown.classList.contains(CLASS_NAME_DROPEND)) {
      return PLACEMENT_RIGHT;
    }

    if (parentDropdown.classList.contains(CLASS_NAME_DROPSTART)) {
      return PLACEMENT_LEFT;
    }

    if (parentDropdown.classList.contains(CLASS_NAME_DROPUP_CENTER)) {
      return PLACEMENT_TOPCENTER;
    }

    if (parentDropdown.classList.contains(CLASS_NAME_DROPDOWN_CENTER)) {
      return PLACEMENT_BOTTOMCENTER;
    } // We need to trim the value because custom properties can also include spaces


    const isEnd = getComputedStyle(this._menu).getPropertyValue('--bs-position').trim() === 'end';

    if (parentDropdown.classList.contains(CLASS_NAME_DROPUP)) {
      return isEnd ? PLACEMENT_TOPEND : PLACEMENT_TOP;
    }

    return isEnd ? PLACEMENT_BOTTOMEND : PLACEMENT_BOTTOM;
  }

  _detectNavbar() {
    return this._element.closest(SELECTOR_NAVBAR) !== null;
  }

  _getOffset() {
    const {
      offset
    } = this._config;

    if (typeof offset === 'string') {
      return offset.split(',').map(value => Number.parseInt(value, 10));
    }

    if (typeof offset === 'function') {
      return popperData => offset(popperData, this._element);
    }

    return offset;
  }

  _getPopperConfig() {
    const defaultBsPopperConfig = {
      placement: this._getPlacement(),
      modifiers: [{
        name: 'preventOverflow',
        options: {
          boundary: this._config.boundary
        }
      }, {
        name: 'offset',
        options: {
          offset: this._getOffset()
        }
      }]
    }; // Disable Popper if we have a static display or Dropdown is in Navbar

    if (this._inNavbar || this._config.display === 'static') {
      Manipulator.setDataAttribute(this._menu, 'popper', 'static'); // todo:v6 remove

      defaultBsPopperConfig.modifiers = [{
        name: 'applyStyles',
        enabled: false
      }];
    }

    return { ...defaultBsPopperConfig,
      ...(typeof this._config.popperConfig === 'function' ? this._config.popperConfig(defaultBsPopperConfig) : this._config.popperConfig)
    };
  }

  _selectMenuItem({
    key,
    target
  }) {
    const items = SelectorEngine.find(SELECTOR_VISIBLE_ITEMS, this._menu).filter(element => isVisible(element));

    if (!items.length) {
      return;
    } // if target isn't included in items (e.g. when expanding the dropdown)
    // allow cycling to get the last item in case key equals ARROW_UP_KEY


    getNextActiveElement(items, target, key === ARROW_DOWN_KEY$1, !items.includes(target)).focus();
  } // Static


  static jQueryInterface(config) {
    return this.each(function () {
      const data = Dropdown.getOrCreateInstance(this, config);

      if (typeof config !== 'string') {
        return;
      }

      if (typeof data[config] === 'undefined') {
        throw new TypeError(`No method named "${config}"`);
      }

      data[config]();
    });
  }

  static clearMenus(event) {
    if (event.button === RIGHT_MOUSE_BUTTON || event.type === 'keyup' && event.key !== TAB_KEY$1) {
      return;
    }

    const openToggles = SelectorEngine.find(SELECTOR_DATA_TOGGLE_SHOWN);

    for (const toggle of openToggles) {
      const context = Dropdown.getInstance(toggle);

      if (!context || context._config.autoClose === false) {
        continue;
      }

      const composedPath = event.composedPath();
      const isMenuTarget = composedPath.includes(context._menu);

      if (composedPath.includes(context._element) || context._config.autoClose === 'inside' && !isMenuTarget || context._config.autoClose === 'outside' && isMenuTarget) {
        continue;
      } // Tab navigation through the dropdown menu or events from contained inputs shouldn't close the menu


      if (context._menu.contains(event.target) && (event.type === 'keyup' && event.key === TAB_KEY$1 || /input|select|option|textarea|form/i.test(event.target.tagName))) {
        continue;
      }

      const relatedTarget = {
        relatedTarget: context._element
      };

      if (event.type === 'click') {
        relatedTarget.clickEvent = event;
      }

      context._completeHide(relatedTarget);
    }
  }

  static dataApiKeydownHandler(event) {
    // If not an UP | DOWN | ESCAPE key => not a dropdown command
    // If input/textarea && if key is other than ESCAPE => not a dropdown command
    const isInput = /input|textarea/i.test(event.target.tagName);
    const isEscapeEvent = event.key === ESCAPE_KEY$2;
    const isUpOrDownEvent = [ARROW_UP_KEY$1, ARROW_DOWN_KEY$1].includes(event.key);

    if (!isUpOrDownEvent && !isEscapeEvent) {
      return;
    }

    if (isInput && !isEscapeEvent) {
      return;
    }

    event.preventDefault(); // todo: v6 revert #37011 & change markup https://getbootstrap.com/docs/5.2/forms/input-group/

    const getToggleButton = this.matches(SELECTOR_DATA_TOGGLE$3) ? this : SelectorEngine.prev(this, SELECTOR_DATA_TOGGLE$3)[0] || SelectorEngine.next(this, SELECTOR_DATA_TOGGLE$3)[0] || SelectorEngine.findOne(SELECTOR_DATA_TOGGLE$3, event.delegateTarget.parentNode);
    const instance = Dropdown.getOrCreateInstance(getToggleButton);

    if (isUpOrDownEvent) {
      event.stopPropagation();
      instance.show();

      instance._selectMenuItem(event);

      return;
    }

    if (instance._isShown()) {
      // else is escape and we check if it is shown
      event.stopPropagation();
      instance.hide();
      getToggleButton.focus();
    }
  }

}
/**
 * Data API implementation
 */


EventHandler.on(document, EVENT_KEYDOWN_DATA_API, SELECTOR_DATA_TOGGLE$3, Dropdown.dataApiKeydownHandler);
EventHandler.on(document, EVENT_KEYDOWN_DATA_API, SELECTOR_MENU, Dropdown.dataApiKeydownHandler);
EventHandler.on(document, EVENT_CLICK_DATA_API$3, Dropdown.clearMenus);
EventHandler.on(document, EVENT_KEYUP_DATA_API, Dropdown.clearMenus);
EventHandler.on(document, EVENT_CLICK_DATA_API$3, SELECTOR_DATA_TOGGLE$3, function (event) {
  event.preventDefault();
  Dropdown.getOrCreateInstance(this).toggle();
});
/**
 * jQuery
 */

defineJQueryPlugin(Dropdown);

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): util/scrollBar.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
/**
 * Constants
 */

const SELECTOR_FIXED_CONTENT = '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top';
const SELECTOR_STICKY_CONTENT = '.sticky-top';
const PROPERTY_PADDING = 'padding-right';
const PROPERTY_MARGIN = 'margin-right';
/**
 * Class definition
 */

class ScrollBarHelper {
  constructor() {
    this._element = document.body;
  } // Public


  getWidth() {
    // https://developer.mozilla.org/en-US/docs/Web/API/Window/innerWidth#usage_notes
    const documentWidth = document.documentElement.clientWidth;
    return Math.abs(window.innerWidth - documentWidth);
  }

  hide() {
    const width = this.getWidth();

    this._disableOverFlow(); // give padding to element to balance the hidden scrollbar width


    this._setElementAttributes(this._element, PROPERTY_PADDING, calculatedValue => calculatedValue + width); // trick: We adjust positive paddingRight and negative marginRight to sticky-top elements to keep showing fullwidth


    this._setElementAttributes(SELECTOR_FIXED_CONTENT, PROPERTY_PADDING, calculatedValue => calculatedValue + width);

    this._setElementAttributes(SELECTOR_STICKY_CONTENT, PROPERTY_MARGIN, calculatedValue => calculatedValue - width);
  }

  reset() {
    this._resetElementAttributes(this._element, 'overflow');

    this._resetElementAttributes(this._element, PROPERTY_PADDING);

    this._resetElementAttributes(SELECTOR_FIXED_CONTENT, PROPERTY_PADDING);

    this._resetElementAttributes(SELECTOR_STICKY_CONTENT, PROPERTY_MARGIN);
  }

  isOverflowing() {
    return this.getWidth() > 0;
  } // Private


  _disableOverFlow() {
    this._saveInitialAttribute(this._element, 'overflow');

    this._element.style.overflow = 'hidden';
  }

  _setElementAttributes(selector, styleProperty, callback) {
    const scrollbarWidth = this.getWidth();

    const manipulationCallBack = element => {
      if (element !== this._element && window.innerWidth > element.clientWidth + scrollbarWidth) {
        return;
      }

      this._saveInitialAttribute(element, styleProperty);

      const calculatedValue = window.getComputedStyle(element).getPropertyValue(styleProperty);
      element.style.setProperty(styleProperty, `${callback(Number.parseFloat(calculatedValue))}px`);
    };

    this._applyManipulationCallback(selector, manipulationCallBack);
  }

  _saveInitialAttribute(element, styleProperty) {
    const actualValue = element.style.getPropertyValue(styleProperty);

    if (actualValue) {
      Manipulator.setDataAttribute(element, styleProperty, actualValue);
    }
  }

  _resetElementAttributes(selector, styleProperty) {
    const manipulationCallBack = element => {
      const value = Manipulator.getDataAttribute(element, styleProperty); // We only want to remove the property if the value is `null`; the value can also be zero

      if (value === null) {
        element.style.removeProperty(styleProperty);
        return;
      }

      Manipulator.removeDataAttribute(element, styleProperty);
      element.style.setProperty(styleProperty, value);
    };

    this._applyManipulationCallback(selector, manipulationCallBack);
  }

  _applyManipulationCallback(selector, callBack) {
    if (isElement(selector)) {
      callBack(selector);
      return;
    }

    for (const sel of SelectorEngine.find(selector, this._element)) {
      callBack(sel);
    }
  }

}

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): util/backdrop.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
/**
 * Constants
 */

const NAME$9 = 'backdrop';
const CLASS_NAME_FADE$4 = 'fade';
const CLASS_NAME_SHOW$5 = 'show';
const EVENT_MOUSEDOWN = `mousedown.bs.${NAME$9}`;
const Default$8 = {
  className: 'modal-backdrop',
  clickCallback: null,
  isAnimated: false,
  isVisible: true,
  // if false, we use the backdrop helper without adding any element to the dom
  rootElement: 'body' // give the choice to place backdrop under different elements

};
const DefaultType$8 = {
  className: 'string',
  clickCallback: '(function|null)',
  isAnimated: 'boolean',
  isVisible: 'boolean',
  rootElement: '(element|string)'
};
/**
 * Class definition
 */

class Backdrop extends Config {
  constructor(config) {
    super();
    this._config = this._getConfig(config);
    this._isAppended = false;
    this._element = null;
  } // Getters


  static get Default() {
    return Default$8;
  }

  static get DefaultType() {
    return DefaultType$8;
  }

  static get NAME() {
    return NAME$9;
  } // Public


  show(callback) {
    if (!this._config.isVisible) {
      execute(callback);
      return;
    }

    this._append();

    const element = this._getElement();

    if (this._config.isAnimated) {
      reflow(element);
    }

    element.classList.add(CLASS_NAME_SHOW$5);

    this._emulateAnimation(() => {
      execute(callback);
    });
  }

  hide(callback) {
    if (!this._config.isVisible) {
      execute(callback);
      return;
    }

    this._getElement().classList.remove(CLASS_NAME_SHOW$5);

    this._emulateAnimation(() => {
      this.dispose();
      execute(callback);
    });
  }

  dispose() {
    if (!this._isAppended) {
      return;
    }

    EventHandler.off(this._element, EVENT_MOUSEDOWN);

    this._element.remove();

    this._isAppended = false;
  } // Private


  _getElement() {
    if (!this._element) {
      const backdrop = document.createElement('div');
      backdrop.className = this._config.className;

      if (this._config.isAnimated) {
        backdrop.classList.add(CLASS_NAME_FADE$4);
      }

      this._element = backdrop;
    }

    return this._element;
  }

  _configAfterMerge(config) {
    // use getElement() with the default "body" to get a fresh Element on each instantiation
    config.rootElement = getElement(config.rootElement);
    return config;
  }

  _append() {
    if (this._isAppended) {
      return;
    }

    const element = this._getElement();

    this._config.rootElement.append(element);

    EventHandler.on(element, EVENT_MOUSEDOWN, () => {
      execute(this._config.clickCallback);
    });
    this._isAppended = true;
  }

  _emulateAnimation(callback) {
    executeAfterTransition(callback, this._getElement(), this._config.isAnimated);
  }

}

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): util/focustrap.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
/**
 * Constants
 */

const NAME$8 = 'focustrap';
const DATA_KEY$5 = 'bs.focustrap';
const EVENT_KEY$5 = `.${DATA_KEY$5}`;
const EVENT_FOCUSIN$2 = `focusin${EVENT_KEY$5}`;
const EVENT_KEYDOWN_TAB = `keydown.tab${EVENT_KEY$5}`;
const TAB_KEY = 'Tab';
const TAB_NAV_FORWARD = 'forward';
const TAB_NAV_BACKWARD = 'backward';
const Default$7 = {
  autofocus: true,
  trapElement: null // The element to trap focus inside of

};
const DefaultType$7 = {
  autofocus: 'boolean',
  trapElement: 'element'
};
/**
 * Class definition
 */

class FocusTrap extends Config {
  constructor(config) {
    super();
    this._config = this._getConfig(config);
    this._isActive = false;
    this._lastTabNavDirection = null;
  } // Getters


  static get Default() {
    return Default$7;
  }

  static get DefaultType() {
    return DefaultType$7;
  }

  static get NAME() {
    return NAME$8;
  } // Public


  activate() {
    if (this._isActive) {
      return;
    }

    if (this._config.autofocus) {
      this._config.trapElement.focus();
    }

    EventHandler.off(document, EVENT_KEY$5); // guard against infinite focus loop

    EventHandler.on(document, EVENT_FOCUSIN$2, event => this._handleFocusin(event));
    EventHandler.on(document, EVENT_KEYDOWN_TAB, event => this._handleKeydown(event));
    this._isActive = true;
  }

  deactivate() {
    if (!this._isActive) {
      return;
    }

    this._isActive = false;
    EventHandler.off(document, EVENT_KEY$5);
  } // Private


  _handleFocusin(event) {
    const {
      trapElement
    } = this._config;

    if (event.target === document || event.target === trapElement || trapElement.contains(event.target)) {
      return;
    }

    const elements = SelectorEngine.focusableChildren(trapElement);

    if (elements.length === 0) {
      trapElement.focus();
    } else if (this._lastTabNavDirection === TAB_NAV_BACKWARD) {
      elements[elements.length - 1].focus();
    } else {
      elements[0].focus();
    }
  }

  _handleKeydown(event) {
    if (event.key !== TAB_KEY) {
      return;
    }

    this._lastTabNavDirection = event.shiftKey ? TAB_NAV_BACKWARD : TAB_NAV_FORWARD;
  }

}

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): modal.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
/**
 * Constants
 */

const NAME$7 = 'modal';
const DATA_KEY$4 = 'bs.modal';
const EVENT_KEY$4 = `.${DATA_KEY$4}`;
const DATA_API_KEY$2 = '.data-api';
const ESCAPE_KEY$1 = 'Escape';
const EVENT_HIDE$4 = `hide${EVENT_KEY$4}`;
const EVENT_HIDE_PREVENTED$1 = `hidePrevented${EVENT_KEY$4}`;
const EVENT_HIDDEN$4 = `hidden${EVENT_KEY$4}`;
const EVENT_SHOW$4 = `show${EVENT_KEY$4}`;
const EVENT_SHOWN$4 = `shown${EVENT_KEY$4}`;
const EVENT_RESIZE$1 = `resize${EVENT_KEY$4}`;
const EVENT_CLICK_DISMISS = `click.dismiss${EVENT_KEY$4}`;
const EVENT_MOUSEDOWN_DISMISS = `mousedown.dismiss${EVENT_KEY$4}`;
const EVENT_KEYDOWN_DISMISS$1 = `keydown.dismiss${EVENT_KEY$4}`;
const EVENT_CLICK_DATA_API$2 = `click${EVENT_KEY$4}${DATA_API_KEY$2}`;
const CLASS_NAME_OPEN = 'modal-open';
const CLASS_NAME_FADE$3 = 'fade';
const CLASS_NAME_SHOW$4 = 'show';
const CLASS_NAME_STATIC = 'modal-static';
const OPEN_SELECTOR$1 = '.modal.show';
const SELECTOR_DIALOG = '.modal-dialog';
const SELECTOR_MODAL_BODY = '.modal-body';
const SELECTOR_DATA_TOGGLE$2 = '[data-bs-toggle="modal"]';
const Default$6 = {
  backdrop: true,
  focus: true,
  keyboard: true
};
const DefaultType$6 = {
  backdrop: '(boolean|string)',
  focus: 'boolean',
  keyboard: 'boolean'
};
/**
 * Class definition
 */

class Modal extends BaseComponent {
  constructor(element, config) {
    super(element, config);
    this._dialog = SelectorEngine.findOne(SELECTOR_DIALOG, this._element);
    this._backdrop = this._initializeBackDrop();
    this._focustrap = this._initializeFocusTrap();
    this._isShown = false;
    this._isTransitioning = false;
    this._scrollBar = new ScrollBarHelper();

    this._addEventListeners();
  } // Getters


  static get Default() {
    return Default$6;
  }

  static get DefaultType() {
    return DefaultType$6;
  }

  static get NAME() {
    return NAME$7;
  } // Public


  toggle(relatedTarget) {
    return this._isShown ? this.hide() : this.show(relatedTarget);
  }

  show(relatedTarget) {
    if (this._isShown || this._isTransitioning) {
      return;
    }

    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW$4, {
      relatedTarget
    });

    if (showEvent.defaultPrevented) {
      return;
    }

    this._isShown = true;
    this._isTransitioning = true;

    this._scrollBar.hide();

    document.body.classList.add(CLASS_NAME_OPEN);

    this._adjustDialog();

    this._backdrop.show(() => this._showElement(relatedTarget));
  }

  hide() {
    if (!this._isShown || this._isTransitioning) {
      return;
    }

    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE$4);

    if (hideEvent.defaultPrevented) {
      return;
    }

    this._isShown = false;
    this._isTransitioning = true;

    this._focustrap.deactivate();

    this._element.classList.remove(CLASS_NAME_SHOW$4);

    this._queueCallback(() => this._hideModal(), this._element, this._isAnimated());
  }

  dispose() {
    for (const htmlElement of [window, this._dialog]) {
      EventHandler.off(htmlElement, EVENT_KEY$4);
    }

    this._backdrop.dispose();

    this._focustrap.deactivate();

    super.dispose();
  }

  handleUpdate() {
    this._adjustDialog();
  } // Private


  _initializeBackDrop() {
    return new Backdrop({
      isVisible: Boolean(this._config.backdrop),
      // 'static' option will be translated to true, and booleans will keep their value,
      isAnimated: this._isAnimated()
    });
  }

  _initializeFocusTrap() {
    return new FocusTrap({
      trapElement: this._element
    });
  }

  _showElement(relatedTarget) {
    // try to append dynamic modal
    if (!document.body.contains(this._element)) {
      document.body.append(this._element);
    }

    this._element.style.display = 'block';

    this._element.removeAttribute('aria-hidden');

    this._element.setAttribute('aria-modal', true);

    this._element.setAttribute('role', 'dialog');

    this._element.scrollTop = 0;
    const modalBody = SelectorEngine.findOne(SELECTOR_MODAL_BODY, this._dialog);

    if (modalBody) {
      modalBody.scrollTop = 0;
    }

    reflow(this._element);

    this._element.classList.add(CLASS_NAME_SHOW$4);

    const transitionComplete = () => {
      if (this._config.focus) {
        this._focustrap.activate();
      }

      this._isTransitioning = false;
      EventHandler.trigger(this._element, EVENT_SHOWN$4, {
        relatedTarget
      });
    };

    this._queueCallback(transitionComplete, this._dialog, this._isAnimated());
  }

  _addEventListeners() {
    EventHandler.on(this._element, EVENT_KEYDOWN_DISMISS$1, event => {
      if (event.key !== ESCAPE_KEY$1) {
        return;
      }

      if (this._config.keyboard) {
        event.preventDefault();
        this.hide();
        return;
      }

      this._triggerBackdropTransition();
    });
    EventHandler.on(window, EVENT_RESIZE$1, () => {
      if (this._isShown && !this._isTransitioning) {
        this._adjustDialog();
      }
    });
    EventHandler.on(this._element, EVENT_MOUSEDOWN_DISMISS, event => {
      // a bad trick to segregate clicks that may start inside dialog but end outside, and avoid listen to scrollbar clicks
      EventHandler.one(this._element, EVENT_CLICK_DISMISS, event2 => {
        if (this._element !== event.target || this._element !== event2.target) {
          return;
        }

        if (this._config.backdrop === 'static') {
          this._triggerBackdropTransition();

          return;
        }

        if (this._config.backdrop) {
          this.hide();
        }
      });
    });
  }

  _hideModal() {
    this._element.style.display = 'none';

    this._element.setAttribute('aria-hidden', true);

    this._element.removeAttribute('aria-modal');

    this._element.removeAttribute('role');

    this._isTransitioning = false;

    this._backdrop.hide(() => {
      document.body.classList.remove(CLASS_NAME_OPEN);

      this._resetAdjustments();

      this._scrollBar.reset();

      EventHandler.trigger(this._element, EVENT_HIDDEN$4);
    });
  }

  _isAnimated() {
    return this._element.classList.contains(CLASS_NAME_FADE$3);
  }

  _triggerBackdropTransition() {
    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED$1);

    if (hideEvent.defaultPrevented) {
      return;
    }

    const isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight;
    const initialOverflowY = this._element.style.overflowY; // return if the following background transition hasn't yet completed

    if (initialOverflowY === 'hidden' || this._element.classList.contains(CLASS_NAME_STATIC)) {
      return;
    }

    if (!isModalOverflowing) {
      this._element.style.overflowY = 'hidden';
    }

    this._element.classList.add(CLASS_NAME_STATIC);

    this._queueCallback(() => {
      this._element.classList.remove(CLASS_NAME_STATIC);

      this._queueCallback(() => {
        this._element.style.overflowY = initialOverflowY;
      }, this._dialog);
    }, this._dialog);

    this._element.focus();
  }
  /**
   * The following methods are used to handle overflowing modals
   */


  _adjustDialog() {
    const isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight;

    const scrollbarWidth = this._scrollBar.getWidth();

    const isBodyOverflowing = scrollbarWidth > 0;

    if (isBodyOverflowing && !isModalOverflowing) {
      const property = isRTL() ? 'paddingLeft' : 'paddingRight';
      this._element.style[property] = `${scrollbarWidth}px`;
    }

    if (!isBodyOverflowing && isModalOverflowing) {
      const property = isRTL() ? 'paddingRight' : 'paddingLeft';
      this._element.style[property] = `${scrollbarWidth}px`;
    }
  }

  _resetAdjustments() {
    this._element.style.paddingLeft = '';
    this._element.style.paddingRight = '';
  } // Static


  static jQueryInterface(config, relatedTarget) {
    return this.each(function () {
      const data = Modal.getOrCreateInstance(this, config);

      if (typeof config !== 'string') {
        return;
      }

      if (typeof data[config] === 'undefined') {
        throw new TypeError(`No method named "${config}"`);
      }

      data[config](relatedTarget);
    });
  }

}
/**
 * Data API implementation
 */


EventHandler.on(document, EVENT_CLICK_DATA_API$2, SELECTOR_DATA_TOGGLE$2, function (event) {
  const target = getElementFromSelector(this);

  if (['A', 'AREA'].includes(this.tagName)) {
    event.preventDefault();
  }

  EventHandler.one(target, EVENT_SHOW$4, showEvent => {
    if (showEvent.defaultPrevented) {
      // only register focus restorer if modal will actually get shown
      return;
    }

    EventHandler.one(target, EVENT_HIDDEN$4, () => {
      if (isVisible(this)) {
        this.focus();
      }
    });
  }); // avoid conflict when clicking modal toggler while another one is open

  const alreadyOpen = SelectorEngine.findOne(OPEN_SELECTOR$1);

  if (alreadyOpen) {
    Modal.getInstance(alreadyOpen).hide();
  }

  const data = Modal.getOrCreateInstance(target);
  data.toggle(this);
});
enableDismissTrigger(Modal);
/**
 * jQuery
 */

defineJQueryPlugin(Modal);

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): offcanvas.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
/**
 * Constants
 */

const NAME$6 = 'offcanvas';
const DATA_KEY$3 = 'bs.offcanvas';
const EVENT_KEY$3 = `.${DATA_KEY$3}`;
const DATA_API_KEY$1 = '.data-api';
const EVENT_LOAD_DATA_API$2 = `load${EVENT_KEY$3}${DATA_API_KEY$1}`;
const ESCAPE_KEY = 'Escape';
const CLASS_NAME_SHOW$3 = 'show';
const CLASS_NAME_SHOWING$1 = 'showing';
const CLASS_NAME_HIDING = 'hiding';
const CLASS_NAME_BACKDROP = 'offcanvas-backdrop';
const OPEN_SELECTOR = '.offcanvas.show';
const EVENT_SHOW$3 = `show${EVENT_KEY$3}`;
const EVENT_SHOWN$3 = `shown${EVENT_KEY$3}`;
const EVENT_HIDE$3 = `hide${EVENT_KEY$3}`;
const EVENT_HIDE_PREVENTED = `hidePrevented${EVENT_KEY$3}`;
const EVENT_HIDDEN$3 = `hidden${EVENT_KEY$3}`;
const EVENT_RESIZE = `resize${EVENT_KEY$3}`;
const EVENT_CLICK_DATA_API$1 = `click${EVENT_KEY$3}${DATA_API_KEY$1}`;
const EVENT_KEYDOWN_DISMISS = `keydown.dismiss${EVENT_KEY$3}`;
const SELECTOR_DATA_TOGGLE$1 = '[data-bs-toggle="offcanvas"]';
const Default$5 = {
  backdrop: true,
  keyboard: true,
  scroll: false
};
const DefaultType$5 = {
  backdrop: '(boolean|string)',
  keyboard: 'boolean',
  scroll: 'boolean'
};
/**
 * Class definition
 */

class Offcanvas extends BaseComponent {
  constructor(element, config) {
    super(element, config);
    this._isShown = false;
    this._backdrop = this._initializeBackDrop();
    this._focustrap = this._initializeFocusTrap();

    this._addEventListeners();
  } // Getters


  static get Default() {
    return Default$5;
  }

  static get DefaultType() {
    return DefaultType$5;
  }

  static get NAME() {
    return NAME$6;
  } // Public


  toggle(relatedTarget) {
    return this._isShown ? this.hide() : this.show(relatedTarget);
  }

  show(relatedTarget) {
    if (this._isShown) {
      return;
    }

    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW$3, {
      relatedTarget
    });

    if (showEvent.defaultPrevented) {
      return;
    }

    this._isShown = true;

    this._backdrop.show();

    if (!this._config.scroll) {
      new ScrollBarHelper().hide();
    }

    this._element.setAttribute('aria-modal', true);

    this._element.setAttribute('role', 'dialog');

    this._element.classList.add(CLASS_NAME_SHOWING$1);

    const completeCallBack = () => {
      if (!this._config.scroll || this._config.backdrop) {
        this._focustrap.activate();
      }

      this._element.classList.add(CLASS_NAME_SHOW$3);

      this._element.classList.remove(CLASS_NAME_SHOWING$1);

      EventHandler.trigger(this._element, EVENT_SHOWN$3, {
        relatedTarget
      });
    };

    this._queueCallback(completeCallBack, this._element, true);
  }

  hide() {
    if (!this._isShown) {
      return;
    }

    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE$3);

    if (hideEvent.defaultPrevented) {
      return;
    }

    this._focustrap.deactivate();

    this._element.blur();

    this._isShown = false;

    this._element.classList.add(CLASS_NAME_HIDING);

    this._backdrop.hide();

    const completeCallback = () => {
      this._element.classList.remove(CLASS_NAME_SHOW$3, CLASS_NAME_HIDING);

      this._element.removeAttribute('aria-modal');

      this._element.removeAttribute('role');

      if (!this._config.scroll) {
        new ScrollBarHelper().reset();
      }

      EventHandler.trigger(this._element, EVENT_HIDDEN$3);
    };

    this._queueCallback(completeCallback, this._element, true);
  }

  dispose() {
    this._backdrop.dispose();

    this._focustrap.deactivate();

    super.dispose();
  } // Private


  _initializeBackDrop() {
    const clickCallback = () => {
      if (this._config.backdrop === 'static') {
        EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED);
        return;
      }

      this.hide();
    }; // 'static' option will be translated to true, and booleans will keep their value


    const isVisible = Boolean(this._config.backdrop);
    return new Backdrop({
      className: CLASS_NAME_BACKDROP,
      isVisible,
      isAnimated: true,
      rootElement: this._element.parentNode,
      clickCallback: isVisible ? clickCallback : null
    });
  }

  _initializeFocusTrap() {
    return new FocusTrap({
      trapElement: this._element
    });
  }

  _addEventListeners() {
    EventHandler.on(this._element, EVENT_KEYDOWN_DISMISS, event => {
      if (event.key !== ESCAPE_KEY) {
        return;
      }

      if (!this._config.keyboard) {
        EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED);
        return;
      }

      this.hide();
    });
  } // Static


  static jQueryInterface(config) {
    return this.each(function () {
      const data = Offcanvas.getOrCreateInstance(this, config);

      if (typeof config !== 'string') {
        return;
      }

      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {
        throw new TypeError(`No method named "${config}"`);
      }

      data[config](this);
    });
  }

}
/**
 * Data API implementation
 */


EventHandler.on(document, EVENT_CLICK_DATA_API$1, SELECTOR_DATA_TOGGLE$1, function (event) {
  const target = getElementFromSelector(this);

  if (['A', 'AREA'].includes(this.tagName)) {
    event.preventDefault();
  }

  if (isDisabled(this)) {
    return;
  }

  EventHandler.one(target, EVENT_HIDDEN$3, () => {
    // focus on trigger when it is closed
    if (isVisible(this)) {
      this.focus();
    }
  }); // avoid conflict when clicking a toggler of an offcanvas, while another is open

  const alreadyOpen = SelectorEngine.findOne(OPEN_SELECTOR);

  if (alreadyOpen && alreadyOpen !== target) {
    Offcanvas.getInstance(alreadyOpen).hide();
  }

  const data = Offcanvas.getOrCreateInstance(target);
  data.toggle(this);
});
EventHandler.on(window, EVENT_LOAD_DATA_API$2, () => {
  for (const selector of SelectorEngine.find(OPEN_SELECTOR)) {
    Offcanvas.getOrCreateInstance(selector).show();
  }
});
EventHandler.on(window, EVENT_RESIZE, () => {
  for (const element of SelectorEngine.find('[aria-modal][class*=show][class*=offcanvas-]')) {
    if (getComputedStyle(element).position !== 'fixed') {
      Offcanvas.getOrCreateInstance(element).hide();
    }
  }
});
enableDismissTrigger(Offcanvas);
/**
 * jQuery
 */

defineJQueryPlugin(Offcanvas);

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): util/sanitizer.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
const uriAttributes = new Set(['background', 'cite', 'href', 'itemtype', 'longdesc', 'poster', 'src', 'xlink:href']);
const ARIA_ATTRIBUTE_PATTERN = /^aria-[\w-]*$/i;
/**
 * A pattern that recognizes a commonly useful subset of URLs that are safe.
 *
 * Shout-out to Angular https://github.com/angular/angular/blob/12.2.x/packages/core/src/sanitization/url_sanitizer.ts
 */

const SAFE_URL_PATTERN = /^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i;
/**
 * A pattern that matches safe data URLs. Only matches image, video and audio types.
 *
 * Shout-out to Angular https://github.com/angular/angular/blob/12.2.x/packages/core/src/sanitization/url_sanitizer.ts
 */

const DATA_URL_PATTERN = /^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;

const allowedAttribute = (attribute, allowedAttributeList) => {
  const attributeName = attribute.nodeName.toLowerCase();

  if (allowedAttributeList.includes(attributeName)) {
    if (uriAttributes.has(attributeName)) {
      return Boolean(SAFE_URL_PATTERN.test(attribute.nodeValue) || DATA_URL_PATTERN.test(attribute.nodeValue));
    }

    return true;
  } // Check if a regular expression validates the attribute.


  return allowedAttributeList.filter(attributeRegex => attributeRegex instanceof RegExp).some(regex => regex.test(attributeName));
};

const DefaultAllowlist = {
  // Global attributes allowed on any supplied element below.
  '*': ['class', 'dir', 'id', 'lang', 'role', ARIA_ATTRIBUTE_PATTERN],
  a: ['target', 'href', 'title', 'rel'],
  area: [],
  b: [],
  br: [],
  col: [],
  code: [],
  div: [],
  em: [],
  hr: [],
  h1: [],
  h2: [],
  h3: [],
  h4: [],
  h5: [],
  h6: [],
  i: [],
  img: ['src', 'srcset', 'alt', 'title', 'width', 'height'],
  li: [],
  ol: [],
  p: [],
  pre: [],
  s: [],
  small: [],
  span: [],
  sub: [],
  sup: [],
  strong: [],
  u: [],
  ul: []
};
function sanitizeHtml(unsafeHtml, allowList, sanitizeFunction) {
  if (!unsafeHtml.length) {
    return unsafeHtml;
  }

  if (sanitizeFunction && typeof sanitizeFunction === 'function') {
    return sanitizeFunction(unsafeHtml);
  }

  const domParser = new window.DOMParser();
  const createdDocument = domParser.parseFromString(unsafeHtml, 'text/html');
  const elements = [].concat(...createdDocument.body.querySelectorAll('*'));

  for (const element of elements) {
    const elementName = element.nodeName.toLowerCase();

    if (!Object.keys(allowList).includes(elementName)) {
      element.remove();
      continue;
    }

    const attributeList = [].concat(...element.attributes);
    const allowedAttributes = [].concat(allowList['*'] || [], allowList[elementName] || []);

    for (const attribute of attributeList) {
      if (!allowedAttribute(attribute, allowedAttributes)) {
        element.removeAttribute(attribute.nodeName);
      }
    }
  }

  return createdDocument.body.innerHTML;
}

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): util/template-factory.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
/**
 * Constants
 */

const NAME$5 = 'TemplateFactory';
const Default$4 = {
  allowList: DefaultAllowlist,
  content: {},
  // { selector : text ,  selector2 : text2 , }
  extraClass: '',
  html: false,
  sanitize: true,
  sanitizeFn: null,
  template: '<div></div>'
};
const DefaultType$4 = {
  allowList: 'object',
  content: 'object',
  extraClass: '(string|function)',
  html: 'boolean',
  sanitize: 'boolean',
  sanitizeFn: '(null|function)',
  template: 'string'
};
const DefaultContentType = {
  entry: '(string|element|function|null)',
  selector: '(string|element)'
};
/**
 * Class definition
 */

class TemplateFactory extends Config {
  constructor(config) {
    super();
    this._config = this._getConfig(config);
  } // Getters


  static get Default() {
    return Default$4;
  }

  static get DefaultType() {
    return DefaultType$4;
  }

  static get NAME() {
    return NAME$5;
  } // Public


  getContent() {
    return Object.values(this._config.content).map(config => this._resolvePossibleFunction(config)).filter(Boolean);
  }

  hasContent() {
    return this.getContent().length > 0;
  }

  changeContent(content) {
    this._checkContent(content);

    this._config.content = { ...this._config.content,
      ...content
    };
    return this;
  }

  toHtml() {
    const templateWrapper = document.createElement('div');
    templateWrapper.innerHTML = this._maybeSanitize(this._config.template);

    for (const [selector, text] of Object.entries(this._config.content)) {
      this._setContent(templateWrapper, text, selector);
    }

    const template = templateWrapper.children[0];

    const extraClass = this._resolvePossibleFunction(this._config.extraClass);

    if (extraClass) {
      template.classList.add(...extraClass.split(' '));
    }

    return template;
  } // Private


  _typeCheckConfig(config) {
    super._typeCheckConfig(config);

    this._checkContent(config.content);
  }

  _checkContent(arg) {
    for (const [selector, content] of Object.entries(arg)) {
      super._typeCheckConfig({
        selector,
        entry: content
      }, DefaultContentType);
    }
  }

  _setContent(template, content, selector) {
    const templateElement = SelectorEngine.findOne(selector, template);

    if (!templateElement) {
      return;
    }

    content = this._resolvePossibleFunction(content);

    if (!content) {
      templateElement.remove();
      return;
    }

    if (isElement(content)) {
      this._putElementInTemplate(getElement(content), templateElement);

      return;
    }

    if (this._config.html) {
      templateElement.innerHTML = this._maybeSanitize(content);
      return;
    }

    templateElement.textContent = content;
  }

  _maybeSanitize(arg) {
    return this._config.sanitize ? sanitizeHtml(arg, this._config.allowList, this._config.sanitizeFn) : arg;
  }

  _resolvePossibleFunction(arg) {
    return typeof arg === 'function' ? arg(this) : arg;
  }

  _putElementInTemplate(element, templateElement) {
    if (this._config.html) {
      templateElement.innerHTML = '';
      templateElement.append(element);
      return;
    }

    templateElement.textContent = element.textContent;
  }

}

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): tooltip.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
/**
 * Constants
 */

const NAME$4 = 'tooltip';
const DISALLOWED_ATTRIBUTES = new Set(['sanitize', 'allowList', 'sanitizeFn']);
const CLASS_NAME_FADE$2 = 'fade';
const CLASS_NAME_MODAL = 'modal';
const CLASS_NAME_SHOW$2 = 'show';
const SELECTOR_TOOLTIP_INNER = '.tooltip-inner';
const SELECTOR_MODAL = `.${CLASS_NAME_MODAL}`;
const EVENT_MODAL_HIDE = 'hide.bs.modal';
const TRIGGER_HOVER = 'hover';
const TRIGGER_FOCUS = 'focus';
const TRIGGER_CLICK = 'click';
const TRIGGER_MANUAL = 'manual';
const EVENT_HIDE$2 = 'hide';
const EVENT_HIDDEN$2 = 'hidden';
const EVENT_SHOW$2 = 'show';
const EVENT_SHOWN$2 = 'shown';
const EVENT_INSERTED = 'inserted';
const EVENT_CLICK$1 = 'click';
const EVENT_FOCUSIN$1 = 'focusin';
const EVENT_FOCUSOUT$1 = 'focusout';
const EVENT_MOUSEENTER = 'mouseenter';
const EVENT_MOUSELEAVE = 'mouseleave';
const AttachmentMap = {
  AUTO: 'auto',
  TOP: 'top',
  RIGHT: isRTL() ? 'left' : 'right',
  BOTTOM: 'bottom',
  LEFT: isRTL() ? 'right' : 'left'
};
const Default$3 = {
  allowList: DefaultAllowlist,
  animation: true,
  boundary: 'clippingParents',
  container: false,
  customClass: '',
  delay: 0,
  fallbackPlacements: ['top', 'right', 'bottom', 'left'],
  html: false,
  offset: [0, 0],
  placement: 'top',
  popperConfig: null,
  sanitize: true,
  sanitizeFn: null,
  selector: false,
  template: '<div class="tooltip" role="tooltip">' + '<div class="tooltip-arrow"></div>' + '<div class="tooltip-inner"></div>' + '</div>',
  title: '',
  trigger: 'hover focus'
};
const DefaultType$3 = {
  allowList: 'object',
  animation: 'boolean',
  boundary: '(string|element)',
  container: '(string|element|boolean)',
  customClass: '(string|function)',
  delay: '(number|object)',
  fallbackPlacements: 'array',
  html: 'boolean',
  offset: '(array|string|function)',
  placement: '(string|function)',
  popperConfig: '(null|object|function)',
  sanitize: 'boolean',
  sanitizeFn: '(null|function)',
  selector: '(string|boolean)',
  template: 'string',
  title: '(string|element|function)',
  trigger: 'string'
};
/**
 * Class definition
 */

class Tooltip extends BaseComponent {
  constructor(element, config) {
    if (typeof _popperjs_core__WEBPACK_IMPORTED_MODULE_0__ === 'undefined') {
      throw new TypeError('Bootstrap\'s tooltips require Popper (https://popper.js.org)');
    }

    super(element, config); // Private

    this._isEnabled = true;
    this._timeout = 0;
    this._isHovered = null;
    this._activeTrigger = {};
    this._popper = null;
    this._templateFactory = null;
    this._newContent = null; // Protected

    this.tip = null;

    this._setListeners();

    if (!this._config.selector) {
      this._fixTitle();
    }
  } // Getters


  static get Default() {
    return Default$3;
  }

  static get DefaultType() {
    return DefaultType$3;
  }

  static get NAME() {
    return NAME$4;
  } // Public


  enable() {
    this._isEnabled = true;
  }

  disable() {
    this._isEnabled = false;
  }

  toggleEnabled() {
    this._isEnabled = !this._isEnabled;
  }

  toggle() {
    if (!this._isEnabled) {
      return;
    }

    this._activeTrigger.click = !this._activeTrigger.click;

    if (this._isShown()) {
      this._leave();

      return;
    }

    this._enter();
  }

  dispose() {
    clearTimeout(this._timeout);
    EventHandler.off(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler);

    if (this._element.getAttribute('data-bs-original-title')) {
      this._element.setAttribute('title', this._element.getAttribute('data-bs-original-title'));
    }

    this._disposePopper();

    super.dispose();
  }

  show() {
    if (this._element.style.display === 'none') {
      throw new Error('Please use show on visible elements');
    }

    if (!(this._isWithContent() && this._isEnabled)) {
      return;
    }

    const showEvent = EventHandler.trigger(this._element, this.constructor.eventName(EVENT_SHOW$2));
    const shadowRoot = findShadowRoot(this._element);

    const isInTheDom = (shadowRoot || this._element.ownerDocument.documentElement).contains(this._element);

    if (showEvent.defaultPrevented || !isInTheDom) {
      return;
    } // todo v6 remove this OR make it optional


    this._disposePopper();

    const tip = this._getTipElement();

    this._element.setAttribute('aria-describedby', tip.getAttribute('id'));

    const {
      container
    } = this._config;

    if (!this._element.ownerDocument.documentElement.contains(this.tip)) {
      container.append(tip);
      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_INSERTED));
    }

    this._popper = this._createPopper(tip);
    tip.classList.add(CLASS_NAME_SHOW$2); // If this is a touch-enabled device we add extra
    // empty mouseover listeners to the body's immediate children;
    // only needed because of broken event delegation on iOS
    // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html

    if ('ontouchstart' in document.documentElement) {
      for (const element of [].concat(...document.body.children)) {
        EventHandler.on(element, 'mouseover', noop);
      }
    }

    const complete = () => {
      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_SHOWN$2));

      if (this._isHovered === false) {
        this._leave();
      }

      this._isHovered = false;
    };

    this._queueCallback(complete, this.tip, this._isAnimated());
  }

  hide() {
    if (!this._isShown()) {
      return;
    }

    const hideEvent = EventHandler.trigger(this._element, this.constructor.eventName(EVENT_HIDE$2));

    if (hideEvent.defaultPrevented) {
      return;
    }

    const tip = this._getTipElement();

    tip.classList.remove(CLASS_NAME_SHOW$2); // If this is a touch-enabled device we remove the extra
    // empty mouseover listeners we added for iOS support

    if ('ontouchstart' in document.documentElement) {
      for (const element of [].concat(...document.body.children)) {
        EventHandler.off(element, 'mouseover', noop);
      }
    }

    this._activeTrigger[TRIGGER_CLICK] = false;
    this._activeTrigger[TRIGGER_FOCUS] = false;
    this._activeTrigger[TRIGGER_HOVER] = false;
    this._isHovered = null; // it is a trick to support manual triggering

    const complete = () => {
      if (this._isWithActiveTrigger()) {
        return;
      }

      if (!this._isHovered) {
        this._disposePopper();
      }

      this._element.removeAttribute('aria-describedby');

      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_HIDDEN$2));
    };

    this._queueCallback(complete, this.tip, this._isAnimated());
  }

  update() {
    if (this._popper) {
      this._popper.update();
    }
  } // Protected


  _isWithContent() {
    return Boolean(this._getTitle());
  }

  _getTipElement() {
    if (!this.tip) {
      this.tip = this._createTipElement(this._newContent || this._getContentForTemplate());
    }

    return this.tip;
  }

  _createTipElement(content) {
    const tip = this._getTemplateFactory(content).toHtml(); // todo: remove this check on v6


    if (!tip) {
      return null;
    }

    tip.classList.remove(CLASS_NAME_FADE$2, CLASS_NAME_SHOW$2); // todo: on v6 the following can be achieved with CSS only

    tip.classList.add(`bs-${this.constructor.NAME}-auto`);
    const tipId = getUID(this.constructor.NAME).toString();
    tip.setAttribute('id', tipId);

    if (this._isAnimated()) {
      tip.classList.add(CLASS_NAME_FADE$2);
    }

    return tip;
  }

  setContent(content) {
    this._newContent = content;

    if (this._isShown()) {
      this._disposePopper();

      this.show();
    }
  }

  _getTemplateFactory(content) {
    if (this._templateFactory) {
      this._templateFactory.changeContent(content);
    } else {
      this._templateFactory = new TemplateFactory({ ...this._config,
        // the `content` var has to be after `this._config`
        // to override config.content in case of popover
        content,
        extraClass: this._resolvePossibleFunction(this._config.customClass)
      });
    }

    return this._templateFactory;
  }

  _getContentForTemplate() {
    return {
      [SELECTOR_TOOLTIP_INNER]: this._getTitle()
    };
  }

  _getTitle() {
    return this._resolvePossibleFunction(this._config.title) || this._element.getAttribute('data-bs-original-title');
  } // Private


  _initializeOnDelegatedTarget(event) {
    return this.constructor.getOrCreateInstance(event.delegateTarget, this._getDelegateConfig());
  }

  _isAnimated() {
    return this._config.animation || this.tip && this.tip.classList.contains(CLASS_NAME_FADE$2);
  }

  _isShown() {
    return this.tip && this.tip.classList.contains(CLASS_NAME_SHOW$2);
  }

  _createPopper(tip) {
    const placement = typeof this._config.placement === 'function' ? this._config.placement.call(this, tip, this._element) : this._config.placement;
    const attachment = AttachmentMap[placement.toUpperCase()];
    return _popperjs_core__WEBPACK_IMPORTED_MODULE_1__.createPopper(this._element, tip, this._getPopperConfig(attachment));
  }

  _getOffset() {
    const {
      offset
    } = this._config;

    if (typeof offset === 'string') {
      return offset.split(',').map(value => Number.parseInt(value, 10));
    }

    if (typeof offset === 'function') {
      return popperData => offset(popperData, this._element);
    }

    return offset;
  }

  _resolvePossibleFunction(arg) {
    return typeof arg === 'function' ? arg.call(this._element) : arg;
  }

  _getPopperConfig(attachment) {
    const defaultBsPopperConfig = {
      placement: attachment,
      modifiers: [{
        name: 'flip',
        options: {
          fallbackPlacements: this._config.fallbackPlacements
        }
      }, {
        name: 'offset',
        options: {
          offset: this._getOffset()
        }
      }, {
        name: 'preventOverflow',
        options: {
          boundary: this._config.boundary
        }
      }, {
        name: 'arrow',
        options: {
          element: `.${this.constructor.NAME}-arrow`
        }
      }, {
        name: 'preSetPlacement',
        enabled: true,
        phase: 'beforeMain',
        fn: data => {
          // Pre-set Popper's placement attribute in order to read the arrow sizes properly.
          // Otherwise, Popper mixes up the width and height dimensions since the initial arrow style is for top placement
          this._getTipElement().setAttribute('data-popper-placement', data.state.placement);
        }
      }]
    };
    return { ...defaultBsPopperConfig,
      ...(typeof this._config.popperConfig === 'function' ? this._config.popperConfig(defaultBsPopperConfig) : this._config.popperConfig)
    };
  }

  _setListeners() {
    const triggers = this._config.trigger.split(' ');

    for (const trigger of triggers) {
      if (trigger === 'click') {
        EventHandler.on(this._element, this.constructor.eventName(EVENT_CLICK$1), this._config.selector, event => {
          const context = this._initializeOnDelegatedTarget(event);

          context.toggle();
        });
      } else if (trigger !== TRIGGER_MANUAL) {
        const eventIn = trigger === TRIGGER_HOVER ? this.constructor.eventName(EVENT_MOUSEENTER) : this.constructor.eventName(EVENT_FOCUSIN$1);
        const eventOut = trigger === TRIGGER_HOVER ? this.constructor.eventName(EVENT_MOUSELEAVE) : this.constructor.eventName(EVENT_FOCUSOUT$1);
        EventHandler.on(this._element, eventIn, this._config.selector, event => {
          const context = this._initializeOnDelegatedTarget(event);

          context._activeTrigger[event.type === 'focusin' ? TRIGGER_FOCUS : TRIGGER_HOVER] = true;

          context._enter();
        });
        EventHandler.on(this._element, eventOut, this._config.selector, event => {
          const context = this._initializeOnDelegatedTarget(event);

          context._activeTrigger[event.type === 'focusout' ? TRIGGER_FOCUS : TRIGGER_HOVER] = context._element.contains(event.relatedTarget);

          context._leave();
        });
      }
    }

    this._hideModalHandler = () => {
      if (this._element) {
        this.hide();
      }
    };

    EventHandler.on(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler);
  }

  _fixTitle() {
    const title = this._element.getAttribute('title');

    if (!title) {
      return;
    }

    if (!this._element.getAttribute('aria-label') && !this._element.textContent.trim()) {
      this._element.setAttribute('aria-label', title);
    }

    this._element.setAttribute('data-bs-original-title', title); // DO NOT USE IT. Is only for backwards compatibility


    this._element.removeAttribute('title');
  }

  _enter() {
    if (this._isShown() || this._isHovered) {
      this._isHovered = true;
      return;
    }

    this._isHovered = true;

    this._setTimeout(() => {
      if (this._isHovered) {
        this.show();
      }
    }, this._config.delay.show);
  }

  _leave() {
    if (this._isWithActiveTrigger()) {
      return;
    }

    this._isHovered = false;

    this._setTimeout(() => {
      if (!this._isHovered) {
        this.hide();
      }
    }, this._config.delay.hide);
  }

  _setTimeout(handler, timeout) {
    clearTimeout(this._timeout);
    this._timeout = setTimeout(handler, timeout);
  }

  _isWithActiveTrigger() {
    return Object.values(this._activeTrigger).includes(true);
  }

  _getConfig(config) {
    const dataAttributes = Manipulator.getDataAttributes(this._element);

    for (const dataAttribute of Object.keys(dataAttributes)) {
      if (DISALLOWED_ATTRIBUTES.has(dataAttribute)) {
        delete dataAttributes[dataAttribute];
      }
    }

    config = { ...dataAttributes,
      ...(typeof config === 'object' && config ? config : {})
    };
    config = this._mergeConfigObj(config);
    config = this._configAfterMerge(config);

    this._typeCheckConfig(config);

    return config;
  }

  _configAfterMerge(config) {
    config.container = config.container === false ? document.body : getElement(config.container);

    if (typeof config.delay === 'number') {
      config.delay = {
        show: config.delay,
        hide: config.delay
      };
    }

    if (typeof config.title === 'number') {
      config.title = config.title.toString();
    }

    if (typeof config.content === 'number') {
      config.content = config.content.toString();
    }

    return config;
  }

  _getDelegateConfig() {
    const config = {};

    for (const key in this._config) {
      if (this.constructor.Default[key] !== this._config[key]) {
        config[key] = this._config[key];
      }
    }

    config.selector = false;
    config.trigger = 'manual'; // In the future can be replaced with:
    // const keysWithDifferentValues = Object.entries(this._config).filter(entry => this.constructor.Default[entry[0]] !== this._config[entry[0]])
    // `Object.fromEntries(keysWithDifferentValues)`

    return config;
  }

  _disposePopper() {
    if (this._popper) {
      this._popper.destroy();

      this._popper = null;
    }

    if (this.tip) {
      this.tip.remove();
      this.tip = null;
    }
  } // Static


  static jQueryInterface(config) {
    return this.each(function () {
      const data = Tooltip.getOrCreateInstance(this, config);

      if (typeof config !== 'string') {
        return;
      }

      if (typeof data[config] === 'undefined') {
        throw new TypeError(`No method named "${config}"`);
      }

      data[config]();
    });
  }

}
/**
 * jQuery
 */


defineJQueryPlugin(Tooltip);

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): popover.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
/**
 * Constants
 */

const NAME$3 = 'popover';
const SELECTOR_TITLE = '.popover-header';
const SELECTOR_CONTENT = '.popover-body';
const Default$2 = { ...Tooltip.Default,
  content: '',
  offset: [0, 8],
  placement: 'right',
  template: '<div class="popover" role="tooltip">' + '<div class="popover-arrow"></div>' + '<h3 class="popover-header"></h3>' + '<div class="popover-body"></div>' + '</div>',
  trigger: 'click'
};
const DefaultType$2 = { ...Tooltip.DefaultType,
  content: '(null|string|element|function)'
};
/**
 * Class definition
 */

class Popover extends Tooltip {
  // Getters
  static get Default() {
    return Default$2;
  }

  static get DefaultType() {
    return DefaultType$2;
  }

  static get NAME() {
    return NAME$3;
  } // Overrides


  _isWithContent() {
    return this._getTitle() || this._getContent();
  } // Private


  _getContentForTemplate() {
    return {
      [SELECTOR_TITLE]: this._getTitle(),
      [SELECTOR_CONTENT]: this._getContent()
    };
  }

  _getContent() {
    return this._resolvePossibleFunction(this._config.content);
  } // Static


  static jQueryInterface(config) {
    return this.each(function () {
      const data = Popover.getOrCreateInstance(this, config);

      if (typeof config !== 'string') {
        return;
      }

      if (typeof data[config] === 'undefined') {
        throw new TypeError(`No method named "${config}"`);
      }

      data[config]();
    });
  }

}
/**
 * jQuery
 */


defineJQueryPlugin(Popover);

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): scrollspy.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
/**
 * Constants
 */

const NAME$2 = 'scrollspy';
const DATA_KEY$2 = 'bs.scrollspy';
const EVENT_KEY$2 = `.${DATA_KEY$2}`;
const DATA_API_KEY = '.data-api';
const EVENT_ACTIVATE = `activate${EVENT_KEY$2}`;
const EVENT_CLICK = `click${EVENT_KEY$2}`;
const EVENT_LOAD_DATA_API$1 = `load${EVENT_KEY$2}${DATA_API_KEY}`;
const CLASS_NAME_DROPDOWN_ITEM = 'dropdown-item';
const CLASS_NAME_ACTIVE$1 = 'active';
const SELECTOR_DATA_SPY = '[data-bs-spy="scroll"]';
const SELECTOR_TARGET_LINKS = '[href]';
const SELECTOR_NAV_LIST_GROUP = '.nav, .list-group';
const SELECTOR_NAV_LINKS = '.nav-link';
const SELECTOR_NAV_ITEMS = '.nav-item';
const SELECTOR_LIST_ITEMS = '.list-group-item';
const SELECTOR_LINK_ITEMS = `${SELECTOR_NAV_LINKS}, ${SELECTOR_NAV_ITEMS} > ${SELECTOR_NAV_LINKS}, ${SELECTOR_LIST_ITEMS}`;
const SELECTOR_DROPDOWN = '.dropdown';
const SELECTOR_DROPDOWN_TOGGLE$1 = '.dropdown-toggle';
const Default$1 = {
  offset: null,
  // TODO: v6 @deprecated, keep it for backwards compatibility reasons
  rootMargin: '0px 0px -25%',
  smoothScroll: false,
  target: null,
  threshold: [0.1, 0.5, 1]
};
const DefaultType$1 = {
  offset: '(number|null)',
  // TODO v6 @deprecated, keep it for backwards compatibility reasons
  rootMargin: 'string',
  smoothScroll: 'boolean',
  target: 'element',
  threshold: 'array'
};
/**
 * Class definition
 */

class ScrollSpy extends BaseComponent {
  constructor(element, config) {
    super(element, config); // this._element is the observablesContainer and config.target the menu links wrapper

    this._targetLinks = new Map();
    this._observableSections = new Map();
    this._rootElement = getComputedStyle(this._element).overflowY === 'visible' ? null : this._element;
    this._activeTarget = null;
    this._observer = null;
    this._previousScrollData = {
      visibleEntryTop: 0,
      parentScrollTop: 0
    };
    this.refresh(); // initialize
  } // Getters


  static get Default() {
    return Default$1;
  }

  static get DefaultType() {
    return DefaultType$1;
  }

  static get NAME() {
    return NAME$2;
  } // Public


  refresh() {
    this._initializeTargetsAndObservables();

    this._maybeEnableSmoothScroll();

    if (this._observer) {
      this._observer.disconnect();
    } else {
      this._observer = this._getNewObserver();
    }

    for (const section of this._observableSections.values()) {
      this._observer.observe(section);
    }
  }

  dispose() {
    this._observer.disconnect();

    super.dispose();
  } // Private


  _configAfterMerge(config) {
    // TODO: on v6 target should be given explicitly & remove the {target: 'ss-target'} case
    config.target = getElement(config.target) || document.body; // TODO: v6 Only for backwards compatibility reasons. Use rootMargin only

    config.rootMargin = config.offset ? `${config.offset}px 0px -30%` : config.rootMargin;

    if (typeof config.threshold === 'string') {
      config.threshold = config.threshold.split(',').map(value => Number.parseFloat(value));
    }

    return config;
  }

  _maybeEnableSmoothScroll() {
    if (!this._config.smoothScroll) {
      return;
    } // unregister any previous listeners


    EventHandler.off(this._config.target, EVENT_CLICK);
    EventHandler.on(this._config.target, EVENT_CLICK, SELECTOR_TARGET_LINKS, event => {
      const observableSection = this._observableSections.get(event.target.hash);

      if (observableSection) {
        event.preventDefault();
        const root = this._rootElement || window;
        const height = observableSection.offsetTop - this._element.offsetTop;

        if (root.scrollTo) {
          root.scrollTo({
            top: height,
            behavior: 'smooth'
          });
          return;
        } // Chrome 60 doesn't support `scrollTo`


        root.scrollTop = height;
      }
    });
  }

  _getNewObserver() {
    const options = {
      root: this._rootElement,
      threshold: this._config.threshold,
      rootMargin: this._config.rootMargin
    };
    return new IntersectionObserver(entries => this._observerCallback(entries), options);
  } // The logic of selection


  _observerCallback(entries) {
    const targetElement = entry => this._targetLinks.get(`#${entry.target.id}`);

    const activate = entry => {
      this._previousScrollData.visibleEntryTop = entry.target.offsetTop;

      this._process(targetElement(entry));
    };

    const parentScrollTop = (this._rootElement || document.documentElement).scrollTop;
    const userScrollsDown = parentScrollTop >= this._previousScrollData.parentScrollTop;
    this._previousScrollData.parentScrollTop = parentScrollTop;

    for (const entry of entries) {
      if (!entry.isIntersecting) {
        this._activeTarget = null;

        this._clearActiveClass(targetElement(entry));

        continue;
      }

      const entryIsLowerThanPrevious = entry.target.offsetTop >= this._previousScrollData.visibleEntryTop; // if we are scrolling down, pick the bigger offsetTop

      if (userScrollsDown && entryIsLowerThanPrevious) {
        activate(entry); // if parent isn't scrolled, let's keep the first visible item, breaking the iteration

        if (!parentScrollTop) {
          return;
        }

        continue;
      } // if we are scrolling up, pick the smallest offsetTop


      if (!userScrollsDown && !entryIsLowerThanPrevious) {
        activate(entry);
      }
    }
  }

  _initializeTargetsAndObservables() {
    this._targetLinks = new Map();
    this._observableSections = new Map();
    const targetLinks = SelectorEngine.find(SELECTOR_TARGET_LINKS, this._config.target);

    for (const anchor of targetLinks) {
      // ensure that the anchor has an id and is not disabled
      if (!anchor.hash || isDisabled(anchor)) {
        continue;
      }

      const observableSection = SelectorEngine.findOne(anchor.hash, this._element); // ensure that the observableSection exists & is visible

      if (isVisible(observableSection)) {
        this._targetLinks.set(anchor.hash, anchor);

        this._observableSections.set(anchor.hash, observableSection);
      }
    }
  }

  _process(target) {
    if (this._activeTarget === target) {
      return;
    }

    this._clearActiveClass(this._config.target);

    this._activeTarget = target;
    target.classList.add(CLASS_NAME_ACTIVE$1);

    this._activateParents(target);

    EventHandler.trigger(this._element, EVENT_ACTIVATE, {
      relatedTarget: target
    });
  }

  _activateParents(target) {
    // Activate dropdown parents
    if (target.classList.contains(CLASS_NAME_DROPDOWN_ITEM)) {
      SelectorEngine.findOne(SELECTOR_DROPDOWN_TOGGLE$1, target.closest(SELECTOR_DROPDOWN)).classList.add(CLASS_NAME_ACTIVE$1);
      return;
    }

    for (const listGroup of SelectorEngine.parents(target, SELECTOR_NAV_LIST_GROUP)) {
      // Set triggered links parents as active
      // With both <ul> and <nav> markup a parent is the previous sibling of any nav ancestor
      for (const item of SelectorEngine.prev(listGroup, SELECTOR_LINK_ITEMS)) {
        item.classList.add(CLASS_NAME_ACTIVE$1);
      }
    }
  }

  _clearActiveClass(parent) {
    parent.classList.remove(CLASS_NAME_ACTIVE$1);
    const activeNodes = SelectorEngine.find(`${SELECTOR_TARGET_LINKS}.${CLASS_NAME_ACTIVE$1}`, parent);

    for (const node of activeNodes) {
      node.classList.remove(CLASS_NAME_ACTIVE$1);
    }
  } // Static


  static jQueryInterface(config) {
    return this.each(function () {
      const data = ScrollSpy.getOrCreateInstance(this, config);

      if (typeof config !== 'string') {
        return;
      }

      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {
        throw new TypeError(`No method named "${config}"`);
      }

      data[config]();
    });
  }

}
/**
 * Data API implementation
 */


EventHandler.on(window, EVENT_LOAD_DATA_API$1, () => {
  for (const spy of SelectorEngine.find(SELECTOR_DATA_SPY)) {
    ScrollSpy.getOrCreateInstance(spy);
  }
});
/**
 * jQuery
 */

defineJQueryPlugin(ScrollSpy);

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): tab.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
/**
 * Constants
 */

const NAME$1 = 'tab';
const DATA_KEY$1 = 'bs.tab';
const EVENT_KEY$1 = `.${DATA_KEY$1}`;
const EVENT_HIDE$1 = `hide${EVENT_KEY$1}`;
const EVENT_HIDDEN$1 = `hidden${EVENT_KEY$1}`;
const EVENT_SHOW$1 = `show${EVENT_KEY$1}`;
const EVENT_SHOWN$1 = `shown${EVENT_KEY$1}`;
const EVENT_CLICK_DATA_API = `click${EVENT_KEY$1}`;
const EVENT_KEYDOWN = `keydown${EVENT_KEY$1}`;
const EVENT_LOAD_DATA_API = `load${EVENT_KEY$1}`;
const ARROW_LEFT_KEY = 'ArrowLeft';
const ARROW_RIGHT_KEY = 'ArrowRight';
const ARROW_UP_KEY = 'ArrowUp';
const ARROW_DOWN_KEY = 'ArrowDown';
const CLASS_NAME_ACTIVE = 'active';
const CLASS_NAME_FADE$1 = 'fade';
const CLASS_NAME_SHOW$1 = 'show';
const CLASS_DROPDOWN = 'dropdown';
const SELECTOR_DROPDOWN_TOGGLE = '.dropdown-toggle';
const SELECTOR_DROPDOWN_MENU = '.dropdown-menu';
const NOT_SELECTOR_DROPDOWN_TOGGLE = ':not(.dropdown-toggle)';
const SELECTOR_TAB_PANEL = '.list-group, .nav, [role="tablist"]';
const SELECTOR_OUTER = '.nav-item, .list-group-item';
const SELECTOR_INNER = `.nav-link${NOT_SELECTOR_DROPDOWN_TOGGLE}, .list-group-item${NOT_SELECTOR_DROPDOWN_TOGGLE}, [role="tab"]${NOT_SELECTOR_DROPDOWN_TOGGLE}`;
const SELECTOR_DATA_TOGGLE = '[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]'; // todo:v6: could be only `tab`

const SELECTOR_INNER_ELEM = `${SELECTOR_INNER}, ${SELECTOR_DATA_TOGGLE}`;
const SELECTOR_DATA_TOGGLE_ACTIVE = `.${CLASS_NAME_ACTIVE}[data-bs-toggle="tab"], .${CLASS_NAME_ACTIVE}[data-bs-toggle="pill"], .${CLASS_NAME_ACTIVE}[data-bs-toggle="list"]`;
/**
 * Class definition
 */

class Tab extends BaseComponent {
  constructor(element) {
    super(element);
    this._parent = this._element.closest(SELECTOR_TAB_PANEL);

    if (!this._parent) {
      return; // todo: should Throw exception on v6
      // throw new TypeError(`${element.outerHTML} has not a valid parent ${SELECTOR_INNER_ELEM}`)
    } // Set up initial aria attributes


    this._setInitialAttributes(this._parent, this._getChildren());

    EventHandler.on(this._element, EVENT_KEYDOWN, event => this._keydown(event));
  } // Getters


  static get NAME() {
    return NAME$1;
  } // Public


  show() {
    // Shows this elem and deactivate the active sibling if exists
    const innerElem = this._element;

    if (this._elemIsActive(innerElem)) {
      return;
    } // Search for active tab on same parent to deactivate it


    const active = this._getActiveElem();

    const hideEvent = active ? EventHandler.trigger(active, EVENT_HIDE$1, {
      relatedTarget: innerElem
    }) : null;
    const showEvent = EventHandler.trigger(innerElem, EVENT_SHOW$1, {
      relatedTarget: active
    });

    if (showEvent.defaultPrevented || hideEvent && hideEvent.defaultPrevented) {
      return;
    }

    this._deactivate(active, innerElem);

    this._activate(innerElem, active);
  } // Private


  _activate(element, relatedElem) {
    if (!element) {
      return;
    }

    element.classList.add(CLASS_NAME_ACTIVE);

    this._activate(getElementFromSelector(element)); // Search and activate/show the proper section


    const complete = () => {
      if (element.getAttribute('role') !== 'tab') {
        element.classList.add(CLASS_NAME_SHOW$1);
        return;
      }

      element.removeAttribute('tabindex');
      element.setAttribute('aria-selected', true);

      this._toggleDropDown(element, true);

      EventHandler.trigger(element, EVENT_SHOWN$1, {
        relatedTarget: relatedElem
      });
    };

    this._queueCallback(complete, element, element.classList.contains(CLASS_NAME_FADE$1));
  }

  _deactivate(element, relatedElem) {
    if (!element) {
      return;
    }

    element.classList.remove(CLASS_NAME_ACTIVE);
    element.blur();

    this._deactivate(getElementFromSelector(element)); // Search and deactivate the shown section too


    const complete = () => {
      if (element.getAttribute('role') !== 'tab') {
        element.classList.remove(CLASS_NAME_SHOW$1);
        return;
      }

      element.setAttribute('aria-selected', false);
      element.setAttribute('tabindex', '-1');

      this._toggleDropDown(element, false);

      EventHandler.trigger(element, EVENT_HIDDEN$1, {
        relatedTarget: relatedElem
      });
    };

    this._queueCallback(complete, element, element.classList.contains(CLASS_NAME_FADE$1));
  }

  _keydown(event) {
    if (![ARROW_LEFT_KEY, ARROW_RIGHT_KEY, ARROW_UP_KEY, ARROW_DOWN_KEY].includes(event.key)) {
      return;
    }

    event.stopPropagation(); // stopPropagation/preventDefault both added to support up/down keys without scrolling the page

    event.preventDefault();
    const isNext = [ARROW_RIGHT_KEY, ARROW_DOWN_KEY].includes(event.key);
    const nextActiveElement = getNextActiveElement(this._getChildren().filter(element => !isDisabled(element)), event.target, isNext, true);

    if (nextActiveElement) {
      nextActiveElement.focus({
        preventScroll: true
      });
      Tab.getOrCreateInstance(nextActiveElement).show();
    }
  }

  _getChildren() {
    // collection of inner elements
    return SelectorEngine.find(SELECTOR_INNER_ELEM, this._parent);
  }

  _getActiveElem() {
    return this._getChildren().find(child => this._elemIsActive(child)) || null;
  }

  _setInitialAttributes(parent, children) {
    this._setAttributeIfNotExists(parent, 'role', 'tablist');

    for (const child of children) {
      this._setInitialAttributesOnChild(child);
    }
  }

  _setInitialAttributesOnChild(child) {
    child = this._getInnerElement(child);

    const isActive = this._elemIsActive(child);

    const outerElem = this._getOuterElement(child);

    child.setAttribute('aria-selected', isActive);

    if (outerElem !== child) {
      this._setAttributeIfNotExists(outerElem, 'role', 'presentation');
    }

    if (!isActive) {
      child.setAttribute('tabindex', '-1');
    }

    this._setAttributeIfNotExists(child, 'role', 'tab'); // set attributes to the related panel too


    this._setInitialAttributesOnTargetPanel(child);
  }

  _setInitialAttributesOnTargetPanel(child) {
    const target = getElementFromSelector(child);

    if (!target) {
      return;
    }

    this._setAttributeIfNotExists(target, 'role', 'tabpanel');

    if (child.id) {
      this._setAttributeIfNotExists(target, 'aria-labelledby', `#${child.id}`);
    }
  }

  _toggleDropDown(element, open) {
    const outerElem = this._getOuterElement(element);

    if (!outerElem.classList.contains(CLASS_DROPDOWN)) {
      return;
    }

    const toggle = (selector, className) => {
      const element = SelectorEngine.findOne(selector, outerElem);

      if (element) {
        element.classList.toggle(className, open);
      }
    };

    toggle(SELECTOR_DROPDOWN_TOGGLE, CLASS_NAME_ACTIVE);
    toggle(SELECTOR_DROPDOWN_MENU, CLASS_NAME_SHOW$1);
    outerElem.setAttribute('aria-expanded', open);
  }

  _setAttributeIfNotExists(element, attribute, value) {
    if (!element.hasAttribute(attribute)) {
      element.setAttribute(attribute, value);
    }
  }

  _elemIsActive(elem) {
    return elem.classList.contains(CLASS_NAME_ACTIVE);
  } // Try to get the inner element (usually the .nav-link)


  _getInnerElement(elem) {
    return elem.matches(SELECTOR_INNER_ELEM) ? elem : SelectorEngine.findOne(SELECTOR_INNER_ELEM, elem);
  } // Try to get the outer element (usually the .nav-item)


  _getOuterElement(elem) {
    return elem.closest(SELECTOR_OUTER) || elem;
  } // Static


  static jQueryInterface(config) {
    return this.each(function () {
      const data = Tab.getOrCreateInstance(this);

      if (typeof config !== 'string') {
        return;
      }

      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {
        throw new TypeError(`No method named "${config}"`);
      }

      data[config]();
    });
  }

}
/**
 * Data API implementation
 */


EventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {
  if (['A', 'AREA'].includes(this.tagName)) {
    event.preventDefault();
  }

  if (isDisabled(this)) {
    return;
  }

  Tab.getOrCreateInstance(this).show();
});
/**
 * Initialize on focus
 */

EventHandler.on(window, EVENT_LOAD_DATA_API, () => {
  for (const element of SelectorEngine.find(SELECTOR_DATA_TOGGLE_ACTIVE)) {
    Tab.getOrCreateInstance(element);
  }
});
/**
 * jQuery
 */

defineJQueryPlugin(Tab);

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v5.2.3): toast.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */
/**
 * Constants
 */

const NAME = 'toast';
const DATA_KEY = 'bs.toast';
const EVENT_KEY = `.${DATA_KEY}`;
const EVENT_MOUSEOVER = `mouseover${EVENT_KEY}`;
const EVENT_MOUSEOUT = `mouseout${EVENT_KEY}`;
const EVENT_FOCUSIN = `focusin${EVENT_KEY}`;
const EVENT_FOCUSOUT = `focusout${EVENT_KEY}`;
const EVENT_HIDE = `hide${EVENT_KEY}`;
const EVENT_HIDDEN = `hidden${EVENT_KEY}`;
const EVENT_SHOW = `show${EVENT_KEY}`;
const EVENT_SHOWN = `shown${EVENT_KEY}`;
const CLASS_NAME_FADE = 'fade';
const CLASS_NAME_HIDE = 'hide'; // @deprecated - kept here only for backwards compatibility

const CLASS_NAME_SHOW = 'show';
const CLASS_NAME_SHOWING = 'showing';
const DefaultType = {
  animation: 'boolean',
  autohide: 'boolean',
  delay: 'number'
};
const Default = {
  animation: true,
  autohide: true,
  delay: 5000
};
/**
 * Class definition
 */

class Toast extends BaseComponent {
  constructor(element, config) {
    super(element, config);
    this._timeout = null;
    this._hasMouseInteraction = false;
    this._hasKeyboardInteraction = false;

    this._setListeners();
  } // Getters


  static get Default() {
    return Default;
  }

  static get DefaultType() {
    return DefaultType;
  }

  static get NAME() {
    return NAME;
  } // Public


  show() {
    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW);

    if (showEvent.defaultPrevented) {
      return;
    }

    this._clearTimeout();

    if (this._config.animation) {
      this._element.classList.add(CLASS_NAME_FADE);
    }

    const complete = () => {
      this._element.classList.remove(CLASS_NAME_SHOWING);

      EventHandler.trigger(this._element, EVENT_SHOWN);

      this._maybeScheduleHide();
    };

    this._element.classList.remove(CLASS_NAME_HIDE); // @deprecated


    reflow(this._element);

    this._element.classList.add(CLASS_NAME_SHOW, CLASS_NAME_SHOWING);

    this._queueCallback(complete, this._element, this._config.animation);
  }

  hide() {
    if (!this.isShown()) {
      return;
    }

    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE);

    if (hideEvent.defaultPrevented) {
      return;
    }

    const complete = () => {
      this._element.classList.add(CLASS_NAME_HIDE); // @deprecated


      this._element.classList.remove(CLASS_NAME_SHOWING, CLASS_NAME_SHOW);

      EventHandler.trigger(this._element, EVENT_HIDDEN);
    };

    this._element.classList.add(CLASS_NAME_SHOWING);

    this._queueCallback(complete, this._element, this._config.animation);
  }

  dispose() {
    this._clearTimeout();

    if (this.isShown()) {
      this._element.classList.remove(CLASS_NAME_SHOW);
    }

    super.dispose();
  }

  isShown() {
    return this._element.classList.contains(CLASS_NAME_SHOW);
  } // Private


  _maybeScheduleHide() {
    if (!this._config.autohide) {
      return;
    }

    if (this._hasMouseInteraction || this._hasKeyboardInteraction) {
      return;
    }

    this._timeout = setTimeout(() => {
      this.hide();
    }, this._config.delay);
  }

  _onInteraction(event, isInteracting) {
    switch (event.type) {
      case 'mouseover':
      case 'mouseout':
        {
          this._hasMouseInteraction = isInteracting;
          break;
        }

      case 'focusin':
      case 'focusout':
        {
          this._hasKeyboardInteraction = isInteracting;
          break;
        }
    }

    if (isInteracting) {
      this._clearTimeout();

      return;
    }

    const nextElement = event.relatedTarget;

    if (this._element === nextElement || this._element.contains(nextElement)) {
      return;
    }

    this._maybeScheduleHide();
  }

  _setListeners() {
    EventHandler.on(this._element, EVENT_MOUSEOVER, event => this._onInteraction(event, true));
    EventHandler.on(this._element, EVENT_MOUSEOUT, event => this._onInteraction(event, false));
    EventHandler.on(this._element, EVENT_FOCUSIN, event => this._onInteraction(event, true));
    EventHandler.on(this._element, EVENT_FOCUSOUT, event => this._onInteraction(event, false));
  }

  _clearTimeout() {
    clearTimeout(this._timeout);
    this._timeout = null;
  } // Static


  static jQueryInterface(config) {
    return this.each(function () {
      const data = Toast.getOrCreateInstance(this, config);

      if (typeof config === 'string') {
        if (typeof data[config] === 'undefined') {
          throw new TypeError(`No method named "${config}"`);
        }

        data[config](this);
      }
    });
  }

}
/**
 * Data API implementation
 */


enableDismissTrigger(Toast);
/**
 * jQuery
 */

defineJQueryPlugin(Toast);


//# sourceMappingURL=bootstrap.esm.js.map


/***/ }),

/***/ "./node_modules/ckeditor4/ckeditor.js":
/*!********************************************!*\
  !*** ./node_modules/ckeditor4/ckeditor.js ***!
  \********************************************/
/***/ (() => {

﻿/*
Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license/
*/
(function(){window.CKEDITOR&&window.CKEDITOR.dom||(window.CKEDITOR||(window.CKEDITOR=function(){var a=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,f={timestamp:"MAUF",version:"4.20.1 (Standard)",revision:"b520aa2b40",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:a},status:"unloaded",basePath:function(){var c=window.CKEDITOR_BASEPATH||"";if(!c)for(var b=document.getElementsByTagName("script"),e=0;e<b.length;e++){var m=b[e].src.match(a);if(m){c=m[1];break}}-1==c.indexOf(":/")&&
"//"!=c.slice(0,2)&&(c=0===c.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+c:location.href.match(/^[^\?]*\/(?:)/)[0]+c);if(!c)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return c}(),getUrl:function(a){-1==a.indexOf(":/")&&0!==a.indexOf("/")&&(a=this.basePath+a);return a=this.appendTimestamp(a)},appendTimestamp:function(a){if(!this.timestamp||"/"===a.charAt(a.length-1)||/[&?]t=/.test(a))return a;
var b=0<=a.indexOf("?")?"\x26":"?";return a+b+"t\x3d"+this.timestamp},domReady:function(){function a(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",a,!1),window.removeEventListener("load",a,!1),b()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",a),window.detachEvent("onload",a),b())}catch(e){}}function b(){for(var a;a=e.shift();)a()}var e=[];return function(b){function d(){try{document.documentElement.doScroll("left")}catch(g){setTimeout(d,
1);return}a()}e.push(b);"complete"===document.readyState&&setTimeout(a,1);if(1==e.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",a);window.attachEvent("onload",a);b=!1;try{b=!window.frameElement}catch(h){}document.documentElement.doScroll&&b&&d()}}}()},e=window.CKEDITOR_GETURL;if(e){var b=f.getUrl;f.getUrl=function(a){return e.call(f,a)||b.call(f,a)}}return f}()),
function(){var a={};CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(a){var e=CKEDITOR.event.prototype,b;for(b in e)null==a[b]&&(a[b]=e[b])},CKEDITOR.event.prototype=function(){function f(a){var k=e(this);return k[a]||(k[a]=new b(a))}var e=function(a){a=a.getPrivate&&a.getPrivate()||a._||(a._={});return a.events||(a.events={})},b=function(a){this.name=a;this.listeners=[]};b.prototype={getListenerIndex:function(a){for(var b=0,e=this.listeners;b<e.length;b++)if(e[b].fn==
a)return b;return-1}};return{define:function(a,b){var e=f.call(this,a);CKEDITOR.tools.extend(e,b,!0)},on:function(c,b,e,m,d){function h(n,d,h,w){n={name:c,sender:this,editor:n,data:d,listenerData:m,stop:h,cancel:w,removeListener:g};return!1===b.call(e,n)?a:n.data}function g(){n.removeListener(c,b)}var n=this,w=f.call(this,c);if(0>w.getListenerIndex(b)){w=w.listeners;e||(e=this);isNaN(d)&&(d=10);h.fn=b;h.priority=d;for(var x=w.length-1;0<=x;x--)if(w[x].priority<=d)return w.splice(x+1,0,h),{removeListener:g};
w.unshift(h)}return{removeListener:g}},once:function(){var a=Array.prototype.slice.call(arguments),b=a[1];a[1]=function(a){a.removeListener();return b.apply(this,arguments)};return this.on.apply(this,a)},capture:function(){CKEDITOR.event.useCapture=1;var a=this.on.apply(this,arguments);CKEDITOR.event.useCapture=0;return a},fire:function(){var c=0,b=function(){c=1},l=0,m=function(){l=1};return function(d,h,g){var n=e(this)[d];d=c;var w=l;c=l=0;if(n){var f=n.listeners;if(f.length)for(var f=f.slice(0),
r,p=0;p<f.length;p++){if(n.errorProof)try{r=f[p].call(this,g,h,b,m)}catch(u){}else r=f[p].call(this,g,h,b,m);r===a?l=1:"undefined"!=typeof r&&(h=r);if(c||l)break}}h=l?!1:"undefined"==typeof h?!0:h;c=d;l=w;return h}}(),fireOnce:function(a,b,l){b=this.fire(a,b,l);delete e(this)[a];return b},removeListener:function(a,b){var l=e(this)[a];if(l){var m=l.getListenerIndex(b);0<=m&&l.listeners.splice(m,1)}},removeAllListeners:function(){var a=e(this),b;for(b in a)delete a[b]},hasListeners:function(a){return(a=
e(this)[a])&&0<a.listeners.length}}}())}(),CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]);CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(a,f){a in{instanceReady:1,loaded:1}&&(this[a]=!0);return CKEDITOR.event.prototype.fire.call(this,a,f,this)},CKEDITOR.editor.prototype.fireOnce=function(a,f){a in{instanceReady:1,loaded:1}&&(this[a]=!0);return CKEDITOR.event.prototype.fireOnce.call(this,a,f,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),
CKEDITOR.env||(CKEDITOR.env=function(){var a=navigator.userAgent.toLowerCase(),f=a.match(/edge[ \/](\d+.?\d*)/),e=-1<a.indexOf("trident/"),e=!(!f&&!e),e={ie:e,edge:!!f,webkit:!e&&-1<a.indexOf(" applewebkit/"),air:-1<a.indexOf(" adobeair/"),mac:-1<a.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode&&(!document.documentMode||10>document.documentMode),mobile:-1<a.indexOf("mobile"),iOS:/(ipad|iphone|ipod)/.test(a),isCustomDomain:function(){if(!this.ie)return!1;var a=document.domain,b=window.location.hostname;
return a!=b&&a!="["+b+"]"},secure:"https:"==location.protocol};e.gecko="Gecko"==navigator.product&&!e.webkit&&!e.ie;e.webkit&&(-1<a.indexOf("chrome")?e.chrome=!0:e.safari=!0);var b=0;e.ie&&(b=f?parseFloat(f[1]):e.quirks||!document.documentMode?parseFloat(a.match(/msie (\d+)/)[1]):document.documentMode,e.ie9Compat=9==b,e.ie8Compat=8==b,e.ie7Compat=7==b,e.ie6Compat=7>b||e.quirks);e.gecko&&(f=a.match(/rv:([\d\.]+)/))&&(f=f[1].split("."),b=1E4*f[0]+100*(f[1]||0)+1*(f[2]||0));e.air&&(b=parseFloat(a.match(/ adobeair\/(\d+)/)[1]));
e.webkit&&(b=parseFloat(a.match(/ applewebkit\/(\d+)/)[1]));e.version=b;e.isCompatible=!(e.ie&&7>b)&&!(e.gecko&&4E4>b)&&!(e.webkit&&534>b);e.hidpi=2<=window.devicePixelRatio;e.needsBrFiller=e.gecko||e.webkit||e.ie&&10<b;e.needsNbspFiller=e.ie&&11>b;e.cssClass="cke_browser_"+(e.ie?"ie":e.gecko?"gecko":e.webkit?"webkit":"unknown");e.quirks&&(e.cssClass+=" cke_browser_quirks");e.ie&&(e.cssClass+=" cke_browser_ie"+(e.quirks?"6 cke_browser_iequirks":e.version));e.air&&(e.cssClass+=" cke_browser_air");
e.iOS&&(e.cssClass+=" cke_browser_ios");e.hidpi&&(e.cssClass+=" cke_hidpi");return e}()),"unloaded"==CKEDITOR.status&&function(){CKEDITOR.event.implementOn(CKEDITOR);CKEDITOR.loadFullCore=function(){if("basic_ready"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var a=document.createElement("script");a.type="text/javascript";a.src=CKEDITOR.basePath+"ckeditor.js";document.getElementsByTagName("head")[0].appendChild(a)}};CKEDITOR.loadFullCoreTimeout=0;CKEDITOR.add=
function(a){(this._.pending||(this._.pending=[])).push(a)};(function(){CKEDITOR.domReady(function(){var a=CKEDITOR.loadFullCore,f=CKEDITOR.loadFullCoreTimeout;a&&(CKEDITOR.status="basic_ready",a&&a._load?a():f&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1E3*f))})})();CKEDITOR.status="basic_loaded"}(),"use strict",CKEDITOR.VERBOSITY_WARN=1,CKEDITOR.VERBOSITY_ERROR=2,CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR,CKEDITOR.warn=function(a,f){CKEDITOR.verbosity&
CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire("log",{type:"warn",errorCode:a,additionalData:f})},CKEDITOR.error=function(a,f){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire("log",{type:"error",errorCode:a,additionalData:f})},CKEDITOR.on("log",function(a){if(window.console&&window.console.log){var f=console[a.data.type]?a.data.type:"log",e=a.data.errorCode;if(a=a.data.additionalData)console[f]("[CKEDITOR] Error code: "+e+".",a);else console[f]("[CKEDITOR] Error code: "+e+".");console[f]("[CKEDITOR] For more information about this error go to https://ckeditor.com/docs/ckeditor4/latest/guide/dev_errors.html#"+
e)}},null,null,999),CKEDITOR.dom={},function(){function a(a,g,d){this._minInterval=a;this._context=d;this._lastOutput=this._scheduledTimer=0;this._output=CKEDITOR.tools.bind(g,d||{});var b=this;this.input=function(){function a(){b._lastOutput=(new Date).getTime();b._scheduledTimer=0;b._call()}if(!b._scheduledTimer||!1!==b._reschedule()){var n=(new Date).getTime()-b._lastOutput;n<b._minInterval?b._scheduledTimer=setTimeout(a,b._minInterval-n):a()}}}function f(n,g,d){a.call(this,n,g,d);this._args=[];
var b=this;this.input=CKEDITOR.tools.override(this.input,function(a){return function(){b._args=Array.prototype.slice.call(arguments);a.call(this)}})}var e=[],b=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",c=/&/g,k=/>/g,l=/</g,m=/"/g,d=/&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,h={lt:"\x3c",gt:"\x3e",amp:"\x26",quot:'"',nbsp:" ",shy:"­"},g=function(a,g){return"#"==g[0]?String.fromCharCode(parseInt(g.slice(1),10)):h[g]};CKEDITOR.on("reset",function(){e=[]});CKEDITOR.tools=
{arrayCompare:function(a,g){if(!a&&!g)return!0;if(!a||!g||a.length!=g.length)return!1;for(var d=0;d<a.length;d++)if(a[d]!=g[d])return!1;return!0},getIndex:function(a,g){for(var d=0;d<a.length;++d)if(g(a[d]))return d;return-1},clone:function(a){var g;if(a&&a instanceof Array){g=[];for(var d=0;d<a.length;d++)g[d]=CKEDITOR.tools.clone(a[d]);return g}if(null===a||"object"!=typeof a||a instanceof String||a instanceof Number||a instanceof Boolean||a instanceof Date||a instanceof RegExp||a.nodeType||a.window===
a)return a;g=new a.constructor;for(d in a)g[d]=CKEDITOR.tools.clone(a[d]);return g},capitalize:function(a,g){return a.charAt(0).toUpperCase()+(g?a.slice(1):a.slice(1).toLowerCase())},extend:function(a){var g=arguments.length,d,b;"boolean"==typeof(d=arguments[g-1])?g--:"boolean"==typeof(d=arguments[g-2])&&(b=arguments[g-1],g-=2);for(var c=1;c<g;c++){var h=arguments[c]||{};CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(h),function(g){if(!0===d||null==a[g])if(!b||g in b)a[g]=h[g]})}return a},
prototypedCopy:function(a){var g=function(){};g.prototype=a;return new g},copy:function(a){var g={},d;for(d in a)g[d]=a[d];return g},isArray:function(a){return"[object Array]"==Object.prototype.toString.call(a)},isEmpty:function(a){for(var g in a)if(a.hasOwnProperty(g))return!1;return!0},cssVendorPrefix:function(a,g,d){if(d)return b+a+":"+g+";"+a+":"+g;d={};d[a]=g;d[b+a]=g;return d},cssStyleToDomStyle:function(){var a=document.createElement("div").style,g="undefined"!=typeof a.cssFloat?"cssFloat":
"undefined"!=typeof a.styleFloat?"styleFloat":"float";return function(a){return"float"==a?g:a.replace(/-./g,function(a){return a.substr(1).toUpperCase()})}}(),buildStyleHtml:function(a){a=[].concat(a);for(var g,d=[],b=0;b<a.length;b++)if(g=a[b])/@import|[{}]/.test(g)?d.push("\x3cstyle\x3e"+g+"\x3c/style\x3e"):(g=CKEDITOR.appendTimestamp(g),d.push('\x3clink type\x3d"text/css" rel\x3dstylesheet href\x3d"'+g+'"\x3e'));return d.join("")},htmlEncode:function(a){return void 0===a||null===a?"":String(a).replace(c,
"\x26amp;").replace(k,"\x26gt;").replace(l,"\x26lt;")},htmlDecode:function(a){return a.replace(d,g)},htmlEncodeAttr:function(a){return CKEDITOR.tools.htmlEncode(a).replace(m,"\x26quot;")},htmlDecodeAttr:function(a){return CKEDITOR.tools.htmlDecode(a)},transformPlainTextToHtml:function(a,g){var d=g==CKEDITOR.ENTER_BR,b=this.htmlEncode(a.replace(/\r\n/g,"\n")),b=b.replace(/\t/g,"\x26nbsp;\x26nbsp; \x26nbsp;"),c=g==CKEDITOR.ENTER_P?"p":"div";if(!d){var h=/\n{2}/g;if(h.test(b))var e="\x3c"+c+"\x3e",m=
"\x3c/"+c+"\x3e",b=e+b.replace(h,function(){return m+e})+m}b=b.replace(/\n/g,"\x3cbr\x3e");d||(b=b.replace(new RegExp("\x3cbr\x3e(?\x3d\x3c/"+c+"\x3e)"),function(a){return CKEDITOR.tools.repeat(a,2)}));b=b.replace(/^ | $/g,"\x26nbsp;");return b=b.replace(/(>|\s) /g,function(a,g){return g+"\x26nbsp;"}).replace(/ (?=<)/g,"\x26nbsp;")},getNextNumber:function(){var a=0;return function(){return++a}}(),getNextId:function(){return"cke_"+this.getNextNumber()},getUniqueId:function(){for(var a="e",g=0;8>g;g++)a+=
Math.floor(65536*(1+Math.random())).toString(16).substring(1);return a},override:function(a,g){var d=g(a);d.prototype=a.prototype;return d},setTimeout:function(a,g,d,b,c){c||(c=window);d||(d=c);return c.setTimeout(function(){b?a.apply(d,[].concat(b)):a.apply(d)},g||0)},debounce:function(a,g){var d;return function(){var b=this,c=arguments;clearTimeout(d);d=setTimeout(function(){d=null;a.apply(b,c)},g)}},throttle:function(a,g,d){return new this.buffers.throttle(a,g,d)},trim:function(){var a=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;
return function(g){return g.replace(a,"")}}(),ltrim:function(){var a=/^[ \t\n\r]+/g;return function(g){return g.replace(a,"")}}(),rtrim:function(){var a=/[ \t\n\r]+$/g;return function(g){return g.replace(a,"")}}(),indexOf:function(a,g){if("function"==typeof g)for(var d=0,b=a.length;d<b;d++){if(g(a[d]))return d}else{if(a.indexOf)return a.indexOf(g);d=0;for(b=a.length;d<b;d++)if(a[d]===g)return d}return-1},search:function(a,g){var d=CKEDITOR.tools.indexOf(a,g);return 0<=d?a[d]:null},bind:function(a,
g){var d=Array.prototype.slice.call(arguments,2);return function(){return a.apply(g,d.concat(Array.prototype.slice.call(arguments)))}},createClass:function(a){var g=a.$,d=a.base,b=a.privates||a._,c=a.proto;a=a.statics;!g&&(g=function(){d&&this.base.apply(this,arguments)});if(b)var h=g,g=function(){var a=this._||(this._={}),g;for(g in b){var d=b[g];a[g]="function"==typeof d?CKEDITOR.tools.bind(d,this):d}h.apply(this,arguments)};d&&(g.prototype=this.prototypedCopy(d.prototype),g.prototype.constructor=
g,g.base=d,g.baseProto=d.prototype,g.prototype.base=function q(){this.base=d.prototype.base;d.apply(this,arguments);this.base=q});c&&this.extend(g.prototype,c,!0);a&&this.extend(g,a,!0);return g},addFunction:function(a,g){return e.push(function(){return a.apply(g||this,arguments)})-1},removeFunction:function(a){e[a]=null},callFunction:function(a){var g=e[a];return g&&g.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var a=/^-?\d+\.?\d*px$/,g;return function(d){g=CKEDITOR.tools.trim(d+
"")+"px";return a.test(g)?g:d||""}}(),convertToPx:function(){var a,g;return function(d){if(!a||a.isDetached())a=CKEDITOR.dom.element.createFromHtml('\x3cdiv style\x3d"position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"\x3e\x3c/div\x3e',CKEDITOR.document),CKEDITOR.document.getBody().append(a);if(!/%$/.test(d)){var b=0>parseFloat(d);b&&(d=d.replace("-",""));a.setStyle("width",d);g=a.getClientRect();d=Math.round(g.width);return b?-d:d}return d}}(),repeat:function(a,g){return Array(g+
1).join(a)},tryThese:function(){for(var a,g=0,d=arguments.length;g<d;g++){var b=arguments[g];try{a=b();break}catch(c){}}return a},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(a){return function(){var g=arguments,d=this;window.setTimeout(function(){a.apply(d,g)},0)}},normalizeCssText:function(a,g){var d=[],b,c=CKEDITOR.tools.parseCssText(a,!0,g);for(b in c)d.push(b+":"+c[b]);d.sort();return d.length?d.join(";")+";":""},convertRgbToHex:function(a){return a.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,
function(a,g,d,n){a=[g,d,n];for(g=0;3>g;g++)a[g]=("0"+parseInt(a[g],10).toString(16)).slice(-2);return"#"+a.join("")})},normalizeHex:function(a){return a.replace(/#(([0-9a-f]{3}){1,2})($|;|\s+)/gi,function(a,g,d,n){a=g.toLowerCase();3==a.length&&(a=a.split(""),a=[a[0],a[0],a[1],a[1],a[2],a[2]].join(""));return"#"+a+n})},_isValidColorFormat:function(a){if(!a)return!1;a=a.replace(/\s+/g,"");return/^[a-z0-9()#%,./]+$/i.test(a)},parseCssText:function(a,g,d){var b={};d&&(a=(new CKEDITOR.dom.element("span")).setAttribute("style",
a).getAttribute("style")||"");a&&(a=CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(a)));if(!a||";"==a)return b;a.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(a,d,n){g&&(d=d.toLowerCase(),"font-family"==d&&(n=n.replace(/\s*,\s*/g,",")),n=CKEDITOR.tools.trim(n));b[d]=n});return b},writeCssText:function(a,g){var d,b=[];for(d in a)b.push(d+":"+a[d]);g&&b.sort();return b.join("; ")},objectCompare:function(a,g,d){var b;if(!a&&!g)return!0;if(!a||!g)return!1;
for(b in a)if(a[b]!=g[b])return!1;if(!d)for(b in g)if(a[b]!=g[b])return!1;return!0},objectKeys:function(a){return CKEDITOR.tools.object.keys(a)},convertArrayToObject:function(a,g){var d={};1==arguments.length&&(g=!0);for(var b=0,c=a.length;b<c;++b)d[a[b]]=g;return d},getStyledSpans:function(a,g){var d=CKEDITOR.env.ie&&8==CKEDITOR.env.version?a.toUpperCase():a,d=g.find("span[style*\x3d"+d+"]").toArray();return CKEDITOR.tools.array.filter(d,function(g){return!!g.getStyle(a)})},fixDomain:function(){for(var a;;)try{a=
window.parent.document.domain;break}catch(g){a=a?a.replace(/.+?(?:\.|$)/,""):document.domain;if(!a)break;document.domain=a}return!!a},eventsBuffer:function(a,g,d){return new this.buffers.event(a,g,d)},enableHtml5Elements:function(a,g){for(var d="abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video".split(" "),b=d.length,c;b--;)c=a.createElement(d[b]),g&&a.appendChild(c)},checkIfAnyArrayItemMatches:function(a,
g){for(var d=0,b=a.length;d<b;++d)if(a[d].match(g))return!0;return!1},checkIfAnyObjectPropertyMatches:function(a,g){for(var d in a)if(d.match(g))return!0;return!1},keystrokeToString:function(a,g){var d=this.keystrokeToArray(a,g);d.display=d.display.join("+");d.aria=d.aria.join("+");return d},keystrokeToArray:function(a,g){var d=g&16711680,b=g&65535,c=CKEDITOR.env.mac,h=[],e=[];d&CKEDITOR.CTRL&&(h.push(c?"⌘":a[17]),e.push(c?a[224]:a[17]));d&CKEDITOR.ALT&&(h.push(c?"⌥":a[18]),e.push(a[18]));d&CKEDITOR.SHIFT&&
(h.push(c?"⇧":a[16]),e.push(a[16]));b&&(a[b]?(h.push(a[b]),e.push(a[b])):(h.push(String.fromCharCode(b)),e.push(String.fromCharCode(b))));return{display:h,aria:e}},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw\x3d\x3d",getCookie:function(a){a=a.toLowerCase();for(var g=document.cookie.split(";"),d,b,c=0;c<g.length;c++)if(d=g[c].split("\x3d"),b=decodeURIComponent(CKEDITOR.tools.trim(d[0]).toLowerCase()),b===a)return decodeURIComponent(1<d.length?
d[1]:"");return null},setCookie:function(a,g){document.cookie=encodeURIComponent(a)+"\x3d"+encodeURIComponent(g)+";path\x3d/"},getCsrfToken:function(){var a=CKEDITOR.tools.getCookie("ckCsrfToken");if(!a||40!=a.length){var a=[],g="";if(window.crypto&&window.crypto.getRandomValues)a=new Uint8Array(40),window.crypto.getRandomValues(a);else for(var d=0;40>d;d++)a.push(Math.floor(256*Math.random()));for(d=0;d<a.length;d++)var b="abcdefghijklmnopqrstuvwxyz0123456789".charAt(a[d]%36),g=g+(.5<Math.random()?
b.toUpperCase():b);a=g;CKEDITOR.tools.setCookie("ckCsrfToken",a)}return a},escapeCss:function(a){if(a)if(window.CSS&&CSS.escape)a=CSS.escape(a);else{a=String(a);for(var g=a.length,d=-1,b,c="",h=a.charCodeAt(0);++d<g;)b=a.charCodeAt(d),c=0==b?c+"�":127==b||1<=b&&31>=b||0==d&&48<=b&&57>=b||1==d&&48<=b&&57>=b&&45==h?c+("\\"+b.toString(16)+" "):0==d&&1==g&&45==b?c+("\\"+a.charAt(d)):128<=b||45==b||95==b||48<=b&&57>=b||65<=b&&90>=b||97<=b&&122>=b?c+a.charAt(d):c+("\\"+a.charAt(d));a=c}else a="";return a},
getMouseButton:function(a){return(a=a&&a.data?a.data.$:a)?CKEDITOR.tools.normalizeMouseButton(a.button):!1},normalizeMouseButton:function(a,g){if(!CKEDITOR.env.ie||9<=CKEDITOR.env.version&&!CKEDITOR.env.ie6Compat)return a;for(var d=[[CKEDITOR.MOUSE_BUTTON_LEFT,1],[CKEDITOR.MOUSE_BUTTON_MIDDLE,4],[CKEDITOR.MOUSE_BUTTON_RIGHT,2]],b=0;b<d.length;b++){var c=d[b];if(c[0]===a&&g)return c[1];if(!g&&c[1]===a)return c[0]}},convertHexStringToBytes:function(a){var g=[],d=a.length/2,b;for(b=0;b<d;b++)g.push(parseInt(a.substr(2*
b,2),16));return g},convertBytesToBase64:function(a){var g="",d=a.length,b;for(b=0;b<d;b+=3){var c=a.slice(b,b+3),h=c.length,e=[],m;if(3>h)for(m=h;3>m;m++)c[m]=0;e[0]=(c[0]&252)>>2;e[1]=(c[0]&3)<<4|c[1]>>4;e[2]=(c[1]&15)<<2|(c[2]&192)>>6;e[3]=c[2]&63;for(m=0;4>m;m++)g=m<=h?g+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e[m]):g+"\x3d"}return g},style:{parse:{_borderStyle:"none hidden dotted dashed solid double groove ridge inset outset".split(" "),_widthRegExp:/^(thin|medium|thick|[\+-]?\d+(\.\d+)?[a-z%]+|[\+-]?0+(\.0+)?|\.\d+[a-z%]+)$/,
_rgbaRegExp:/rgba?\(\s*\d+%?\s*,\s*\d+%?\s*,\s*\d+%?\s*(?:,\s*[0-9.]+\s*)?\)/gi,_hslaRegExp:/hsla?\(\s*[0-9.]+\s*,\s*\d+%\s*,\s*\d+%\s*(?:,\s*[0-9.]+\s*)?\)/gi,background:function(a){var g={},d=this._findColor(a);d.length&&(g.color=d[0],CKEDITOR.tools.array.forEach(d,function(g){a=a.replace(g,"")}));if(a=CKEDITOR.tools.trim(a))g.unprocessed=a;return g},margin:function(a){return CKEDITOR.tools.style.parse.sideShorthand(a,function(a){return a.match(/(?:\-?[\.\d]+(?:%|\w*)|auto|inherit|initial|unset|revert)/g)||
["0px"]})},sideShorthand:function(a,g){function d(a){b.top=c[a[0]];b.right=c[a[1]];b.bottom=c[a[2]];b.left=c[a[3]]}var b={},c=g?g(a):a.split(/\s+/);switch(c.length){case 1:d([0,0,0,0]);break;case 2:d([0,1,0,1]);break;case 3:d([0,1,2,1]);break;case 4:d([0,1,2,3])}return b},border:function(a){return CKEDITOR.tools.style.border.fromCssRule(a)},_findColor:function(a){var g=[],d=CKEDITOR.tools.array,g=g.concat(a.match(this._rgbaRegExp)||[]),g=g.concat(a.match(this._hslaRegExp)||[]);return g=g.concat(d.filter(a.split(/\s+/),
function(a){return a.match(/^\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/gi)?!0:a.toLowerCase()in CKEDITOR.tools.style.parse._colors}))}}},array:{filter:function(a,g,d){var b=[];this.forEach(a,function(c,h){g.call(d,c,h,a)&&b.push(c)});return b},find:function(a,g,d){for(var b=a.length,c=0;c<b;){if(g.call(d,a[c],c,a))return a[c];c++}},forEach:function(a,g,d){var b=a.length,c;for(c=0;c<b;c++)g.call(d,a[c],c,a)},map:function(a,g,d){for(var b=[],c=0;c<a.length;c++)b.push(g.call(d,a[c],c,a));return b},reduce:function(a,
g,d,b){for(var c=0;c<a.length;c++)d=g.call(b,d,a[c],c,a);return d},every:function(a,g,d){if(!a.length)return!0;g=this.filter(a,g,d);return a.length===g.length},some:function(a,g,d){for(var b=0;b<a.length;b++)if(g.call(d,a[b],b,a))return!0;return!1},zip:function(a,g){return CKEDITOR.tools.array.map(a,function(a,d){return[a,g[d]]})},unique:function(a){return this.filter(a,function(g,d){return d===CKEDITOR.tools.array.indexOf(a,g)})}},object:{DONT_ENUMS:"toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),
entries:function(a){return CKEDITOR.tools.array.map(CKEDITOR.tools.object.keys(a),function(g){return[g,a[g]]})},values:function(a){return CKEDITOR.tools.array.map(CKEDITOR.tools.object.keys(a),function(g){return a[g]})},keys:function(a){var g=Object.prototype.hasOwnProperty,d=[],b=CKEDITOR.tools.object.DONT_ENUMS;if(CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(!a||"object"!==typeof a)){g=[];if("string"===typeof a)for(d=0;d<a.length;d++)g.push(String(d));return g}for(var c in a)d.push(c);if(CKEDITOR.env.ie&&
9>CKEDITOR.env.version)for(c=0;c<b.length;c++)g.call(a,b[c])&&d.push(b[c]);return d},findKey:function(a,g){if("object"!==typeof a)return null;for(var d in a)if(a[d]===g)return d;return null},merge:function(a,g){var d=CKEDITOR.tools,b=d.clone(a),c=d.clone(g);d.array.forEach(d.object.keys(c),function(a){b[a]="object"===typeof c[a]&&"object"===typeof b[a]?d.object.merge(b[a],c[a]):c[a]});return b}},getAbsoluteRectPosition:function(a,g){function d(a){if(a){var g=a.getClientRect();b.top+=g.top;b.left+=
g.left;"x"in b&&"y"in b&&(b.x+=g.x,b.y+=g.y);d(a.getWindow().getFrame())}}var b=CKEDITOR.tools.copy(g);d(a.getFrame());var c=CKEDITOR.document.getWindow().getScrollPosition();b.top+=c.y;b.left+=c.x;"x"in b&&"y"in b&&(b.y+=c.y,b.x+=c.x);b.right=b.left+b.width;b.bottom=b.top+b.height;return b}};a.prototype={reset:function(){this._lastOutput=0;this._clearTimer()},_reschedule:function(){return!1},_call:function(){this._output()},_clearTimer:function(){this._scheduledTimer&&clearTimeout(this._scheduledTimer);
this._scheduledTimer=0}};f.prototype=CKEDITOR.tools.prototypedCopy(a.prototype);f.prototype._reschedule=function(){this._scheduledTimer&&this._clearTimer()};f.prototype._call=function(){this._output.apply(this._context,this._args)};CKEDITOR.tools.buffers={};CKEDITOR.tools.buffers.event=a;CKEDITOR.tools.buffers.throttle=f;CKEDITOR.tools.style.border=CKEDITOR.tools.createClass({$:function(a){a=a||{};this.width=a.width;this.style=a.style;this.color=a.color;this._.normalize()},_:{normalizeMap:{color:[[/windowtext/g,
"black"]]},normalize:function(){for(var a in this._.normalizeMap){var g=this[a];g&&(this[a]=CKEDITOR.tools.array.reduce(this._.normalizeMap[a],function(a,g){return a.replace(g[0],g[1])},g))}}},proto:{toString:function(){return CKEDITOR.tools.array.filter([this.width,this.style,this.color],function(a){return!!a}).join(" ")}},statics:{fromCssRule:function(a){var g={},d=a.split(/\s+/g);a=CKEDITOR.tools.style.parse._findColor(a);a.length&&(g.color=a[0]);CKEDITOR.tools.array.forEach(d,function(a){g.style||
-1===CKEDITOR.tools.indexOf(CKEDITOR.tools.style.parse._borderStyle,a)?!g.width&&CKEDITOR.tools.style.parse._widthRegExp.test(a)&&(g.width=a):g.style=a});return new CKEDITOR.tools.style.border(g)},splitCssValues:function(a,g){g=g||{};var d=CKEDITOR.tools.array.reduce(["width","style","color"],function(d,b){var c=a["border-"+b]||g[b];d[b]=c?CKEDITOR.tools.style.parse.sideShorthand(c):null;return d},{});return CKEDITOR.tools.array.reduce(["top","right","bottom","left"],function(g,b){var c={},h;for(h in d){var e=
a["border-"+b+"-"+h];c[h]=e?e:d[h]&&d[h][b]}g["border-"+b]=new CKEDITOR.tools.style.border(c);return g},{})}}});CKEDITOR.tools.array.indexOf=CKEDITOR.tools.indexOf;CKEDITOR.tools.array.isArray=CKEDITOR.tools.isArray;CKEDITOR.MOUSE_BUTTON_LEFT=0;CKEDITOR.MOUSE_BUTTON_MIDDLE=1;CKEDITOR.MOUSE_BUTTON_RIGHT=2}(),CKEDITOR.dtd=function(){var a=CKEDITOR.tools.extend,f=function(a,g){for(var d=CKEDITOR.tools.clone(a),b=1;b<arguments.length;b++){g=arguments[b];for(var c in g)delete d[c]}return d},e={},b={},
c={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},k={command:1,link:1,meta:1,noscript:1,script:1,style:1},l={},m={"#":1},d={center:1,dir:1,noframes:1};a(e,{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,
mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,"var":1,video:1,wbr:1},m,{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1});a(b,c,e,d);f={a:f(e,{a:1,button:1}),abbr:e,address:b,area:l,article:b,aside:b,audio:a({source:1,track:1},b),b:e,base:l,bdi:e,bdo:e,blockquote:b,body:b,br:l,button:f(e,{a:1,button:1}),canvas:e,caption:b,cite:e,code:e,col:l,colgroup:{col:1},command:l,
datalist:a({option:1},e),dd:b,del:e,details:a({summary:1},b),dfn:e,div:b,dl:{dt:1,dd:1},dt:b,em:e,embed:l,fieldset:a({legend:1},b),figcaption:b,figure:a({figcaption:1},b),footer:b,form:b,h1:e,h2:e,h3:e,h4:e,h5:e,h6:e,head:a({title:1,base:1},k),header:b,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:l,html:a({head:1,body:1},b,k),i:e,iframe:m,img:l,input:l,ins:e,kbd:e,keygen:l,label:e,legend:e,li:b,link:l,main:b,map:b,mark:e,menu:a({li:1},b),meta:l,meter:f(e,{meter:1}),nav:b,noscript:a({link:1,meta:1,style:1},
e),object:a({param:1},e),ol:{li:1},optgroup:{option:1},option:m,output:e,p:e,param:l,pre:e,progress:f(e,{progress:1}),q:e,rp:e,rt:e,ruby:a({rp:1,rt:1},e),s:e,samp:e,script:m,section:b,select:{optgroup:1,option:1},small:e,source:l,span:e,strong:e,style:m,sub:e,summary:a({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},e),sup:e,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:b,textarea:m,tfoot:{tr:1},th:b,thead:{tr:1},time:f(e,{time:1}),title:m,tr:{th:1,td:1},track:l,u:e,ul:{li:1},"var":e,
video:a({source:1,track:1},b),wbr:l,acronym:e,applet:a({param:1},b),basefont:l,big:e,center:b,dialog:l,dir:{li:1},font:e,isindex:l,noframes:b,strike:e,tt:e};a(f,{$block:a({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},c,d),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,
aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:e,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:a({body:1,head:1,html:1},f.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,
option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,"var":1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,
td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}});return f}(),CKEDITOR.dom.event=function(a){this.$=a},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var a=this.getKey();if(this.$.ctrlKey||this.$.metaKey)a+=CKEDITOR.CTRL;
this.$.shiftKey&&(a+=CKEDITOR.SHIFT);this.$.altKey&&(a+=CKEDITOR.ALT);return a},preventDefault:function(a){var f=this.$;f.preventDefault?f.preventDefault():f.returnValue=!1;a&&this.stopPropagation()},stopPropagation:function(){var a=this.$;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},getTarget:function(){var a=this.$.target||this.$.srcElement;return a?new CKEDITOR.dom.node(a):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var a=this.getTarget().getDocument().$;
return{x:this.$.pageX||this.$.clientX+(a.documentElement.scrollLeft||a.body.scrollLeft),y:this.$.pageY||this.$.clientY+(a.documentElement.scrollTop||a.body.scrollTop)}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.HISTORY_NATIVE=1,CKEDITOR.HISTORY_HASH=2,CKEDITOR.HISTORY_OFF=0,CKEDITOR.dom.domObject=function(a){a&&(this.$=a)},CKEDITOR.dom.domObject.prototype=function(){var a=
function(a,e){return function(b){"undefined"!=typeof CKEDITOR&&a.fire(e,new CKEDITOR.dom.event(b))}};return{getPrivate:function(){var a;(a=this.getCustomData("_"))||this.setCustomData("_",a={});return a},on:function(f){var e=this.getCustomData("_cke_nativeListeners");e||(e={},this.setCustomData("_cke_nativeListeners",e));e[f]||(e=e[f]=a(this,f),this.$.addEventListener?this.$.addEventListener(f,e,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+f,e));return CKEDITOR.event.prototype.on.apply(this,
arguments)},removeListener:function(a){CKEDITOR.event.prototype.removeListener.apply(this,arguments);if(!this.hasListeners(a)){var e=this.getCustomData("_cke_nativeListeners"),b=e&&e[a];b&&(this.$.removeEventListener?this.$.removeEventListener(a,b,!1):this.$.detachEvent&&this.$.detachEvent("on"+a,b),delete e[a])}},removeAllListeners:function(){try{var a=this.getCustomData("_cke_nativeListeners"),e;for(e in a){var b=a[e];this.$.detachEvent?this.$.detachEvent("on"+e,b):this.$.removeEventListener&&this.$.removeEventListener(e,
b,!1);delete a[e]}}catch(c){if(!CKEDITOR.env.edge||-2146828218!==c.number)throw c;}CKEDITOR.event.prototype.removeAllListeners.call(this)}}}(),function(a){var f={};CKEDITOR.on("reset",function(){f={}});a.equals=function(a){try{return a&&a.$===this.$}catch(b){return!1}};a.setCustomData=function(a,b){var c=this.getUniqueId();(f[c]||(f[c]={}))[a]=b;return this};a.getCustomData=function(a){var b=this.$["data-cke-expando"];return(b=b&&f[b])&&a in b?b[a]:null};a.removeCustomData=function(a){var b=this.$["data-cke-expando"],
b=b&&f[b],c,k;b&&(c=b[a],k=a in b,delete b[a]);return k?c:null};a.clearCustomData=function(){this.removeAllListeners();var a=this.getUniqueId();a&&delete f[a]};a.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())};CKEDITOR.event.implementOn(a)}(CKEDITOR.dom.domObject.prototype),CKEDITOR.dom.node=function(a){return a?new CKEDITOR.dom[a.nodeType==CKEDITOR.NODE_DOCUMENT?"document":a.nodeType==CKEDITOR.NODE_ELEMENT?"element":a.nodeType==
CKEDITOR.NODE_TEXT?"text":a.nodeType==CKEDITOR.NODE_COMMENT?"comment":a.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](a):this},CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=
16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(a,f){a.append(this,f);return a},clone:function(a,f){function e(b){b["data-cke-expando"]&&(b["data-cke-expando"]=!1);if(b.nodeType==CKEDITOR.NODE_ELEMENT||b.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)if(f||b.nodeType!=CKEDITOR.NODE_ELEMENT||b.removeAttribute("id",!1),a){b=b.childNodes;for(var c=0;c<b.length;c++)e(b[c])}}function b(c){if(c.type==CKEDITOR.NODE_ELEMENT||c.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(c.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var e=
c.getName();":"==e[0]&&c.renameNode(e.substring(1))}if(a)for(e=0;e<c.getChildCount();e++)b(c.getChild(e))}}var c=this.$.cloneNode(a);e(c);c=new CKEDITOR.dom.node(c);CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&b(c);return c},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(a){a.$.parentNode.insertBefore(this.$,a.$.nextSibling);return a},insertBefore:function(a){a.$.parentNode.insertBefore(this.$,
a.$);return a},insertBeforeMe:function(a){this.$.parentNode.insertBefore(a.$,this.$);return a},getAddress:function(a){for(var f=[],e=this.getDocument().$.documentElement,b=this;b&&b!=e;){var c=b.getParent();c&&f.unshift(this.getIndex.call(b,a));b=c}return f},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(a){function f(a,b){var c=b?a.getNext():a.getPrevious();return c&&c.type==CKEDITOR.NODE_TEXT?c.isEmpty()?f(c,b):c:
null}var e=this,b=-1,c;if(!this.getParent()||a&&e.type==CKEDITOR.NODE_TEXT&&e.isEmpty()&&!f(e)&&!f(e,!0))return-1;do if(!a||e.equals(this)||e.type!=CKEDITOR.NODE_TEXT||!c&&!e.isEmpty())b++,c=e.type==CKEDITOR.NODE_TEXT;while(e=e.getPrevious());return b},getNextSourceNode:function(a,f,e){if(e&&!e.call){var b=e;e=function(a){return!a.equals(b)}}a=!a&&this.getFirst&&this.getFirst();var c;if(!a){if(this.type==CKEDITOR.NODE_ELEMENT&&e&&!1===e(this,!0))return null;a=this.getNext()}for(;!a&&(c=(c||this).getParent());){if(e&&
!1===e(c,!0))return null;a=c.getNext()}return!a||e&&!1===e(a)?null:f&&f!=a.type?a.getNextSourceNode(!1,f,e):a},getPreviousSourceNode:function(a,f,e){if(e&&!e.call){var b=e;e=function(a){return!a.equals(b)}}a=!a&&this.getLast&&this.getLast();var c;if(!a){if(this.type==CKEDITOR.NODE_ELEMENT&&e&&!1===e(this,!0))return null;a=this.getPrevious()}for(;!a&&(c=(c||this).getParent());){if(e&&!1===e(c,!0))return null;a=c.getPrevious()}return!a||e&&!1===e(a)?null:f&&a.type!=f?a.getPreviousSourceNode(!1,f,e):
a},getPrevious:function(a){var f=this.$,e;do e=(f=f.previousSibling)&&10!=f.nodeType&&new CKEDITOR.dom.node(f);while(e&&a&&!a(e));return e},getNext:function(a){var f=this.$,e;do e=(f=f.nextSibling)&&new CKEDITOR.dom.node(f);while(e&&a&&!a(e));return e},getParent:function(a){var f=this.$.parentNode;return f&&(f.nodeType==CKEDITOR.NODE_ELEMENT||a&&f.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(f):null},getParents:function(a){var f=this,e=[];do e[a?"push":"unshift"](f);while(f=f.getParent());
return e},getCommonAncestor:function(a){if(a.equals(this))return this;if(a.contains&&a.contains(this))return a;var f=this.contains?this:this.getParent();do if(f.contains(a))return f;while(f=f.getParent());return null},getPosition:function(a){var f=this.$,e=a.$;if(f.compareDocumentPosition)return f.compareDocumentPosition(e);if(f==e)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&a.type==CKEDITOR.NODE_ELEMENT){if(f.contains){if(f.contains(e))return CKEDITOR.POSITION_CONTAINS+
CKEDITOR.POSITION_PRECEDING;if(e.contains(f))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in f)return 0>f.sourceIndex||0>e.sourceIndex?CKEDITOR.POSITION_DISCONNECTED:f.sourceIndex<e.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}f=this.getAddress();a=a.getAddress();for(var e=Math.min(f.length,a.length),b=0;b<e;b++)if(f[b]!=a[b])return f[b]<a[b]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return f.length<a.length?CKEDITOR.POSITION_CONTAINS+
CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(a,f){var e=this.$,b,c;f||(e=e.parentNode);"function"==typeof a?(c=!0,b=a):(c=!1,b=function(b){b="string"==typeof b.nodeName?b.nodeName.toLowerCase():"";return"string"==typeof a?b==a:b in a});for(;e;){if(b(c?new CKEDITOR.dom.node(e):e))return new CKEDITOR.dom.node(e);try{e=e.parentNode}catch(k){e=null}}return null},hasAscendant:function(a,f){var e=this.$;f||(e=e.parentNode);for(;e;){if(e.nodeName&&
e.nodeName.toLowerCase()==a)return!0;e=e.parentNode}return!1},move:function(a,f){a.append(this.remove(),f)},remove:function(a){var f=this.$,e=f.parentNode;if(e){if(a)for(;a=f.firstChild;)e.insertBefore(f.removeChild(a),f);e.removeChild(f)}return this},replace:function(a){this.insertBefore(a);a.remove()},trim:function(){this.ltrim();this.rtrim()},ltrim:function(){for(var a;this.getFirst&&(a=this.getFirst());){if(a.type==CKEDITOR.NODE_TEXT){var f=CKEDITOR.tools.ltrim(a.getText()),e=a.getLength();if(f)f.length<
e&&(a.split(e-f.length),this.$.removeChild(this.$.firstChild));else{a.remove();continue}}break}},rtrim:function(){for(var a;this.getLast&&(a=this.getLast());){if(a.type==CKEDITOR.NODE_TEXT){var f=CKEDITOR.tools.rtrim(a.getText()),e=a.getLength();if(f)f.length<e&&(a.split(f.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild));else{a.remove();continue}}break}CKEDITOR.env.needsBrFiller&&(a=this.$.lastChild)&&1==a.type&&"br"==a.nodeName.toLowerCase()&&a.parentNode.removeChild(a)},isReadOnly:function(a){var f=
this;this.type!=CKEDITOR.NODE_ELEMENT&&(f=this.getParent());CKEDITOR.env.edge&&f&&f.is("textarea","input")&&(a=!0);if(!a&&f&&"undefined"!=typeof f.$.isContentEditable)return!(f.$.isContentEditable||f.data("cke-editable"));for(;f;){if(f.data("cke-editable"))return!1;if(f.hasAttribute("contenteditable"))return"false"==f.getAttribute("contenteditable");f=f.getParent()}return!0}}),CKEDITOR.dom.window=function(a){CKEDITOR.dom.domObject.call(this,a)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,
CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var a=this.$.document,f="CSS1Compat"==a.compatMode;return{width:(f?a.documentElement.clientWidth:a.body.clientWidth)||0,height:(f?a.documentElement.clientHeight:a.body.clientHeight)||0}},getScrollPosition:function(){var a=this.$;if("pageXOffset"in a)return{x:a.pageXOffset||0,y:a.pageYOffset||0};a=a.document;return{x:a.documentElement.scrollLeft||a.body.scrollLeft||0,y:a.documentElement.scrollTop||
a.body.scrollTop||0}},getFrame:function(){var a=this.$.frameElement;return a?new CKEDITOR.dom.element.get(a):null}}),CKEDITOR.dom.document=function(a){CKEDITOR.dom.domObject.call(this,a)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(a){a=CKEDITOR.appendTimestamp(a);if(this.$.createStyleSheet)this.$.createStyleSheet(a);else{var f=new CKEDITOR.dom.element("link");f.setAttributes({rel:"stylesheet",
type:"text/css",href:a});this.getHead().append(f)}},appendStyleText:function(a){if(this.$.createStyleSheet){var f=this.$.createStyleSheet("");f.cssText=a}else{var e=new CKEDITOR.dom.element("style",this);e.append(new CKEDITOR.dom.text(a,this));this.getHead().append(e)}return f||e.$.sheet},createElement:function(a,f){var e=new CKEDITOR.dom.element(a,this);f&&(f.attributes&&e.setAttributes(f.attributes),f.styles&&e.setStyles(f.styles));return e},createText:function(a){return new CKEDITOR.dom.text(a,
this)},focus:function(){this.getWindow().focus()},getActive:function(){var a;try{a=this.$.activeElement}catch(f){return null}return new CKEDITOR.dom.element(a)},getById:function(a){return(a=this.$.getElementById(a))?new CKEDITOR.dom.element(a):null},getByAddress:function(a,f){for(var e=this.$.documentElement,b=0;e&&b<a.length;b++){var c=a[b];if(f)for(var k=-1,l=0;l<e.childNodes.length;l++){var m=e.childNodes[l];if(!0!==f||3!=m.nodeType||!m.previousSibling||3!=m.previousSibling.nodeType)if(k++,k==
c){e=m;break}}else e=e.childNodes[c]}return e?new CKEDITOR.dom.node(e):null},getElementsByTag:function(a,f){CKEDITOR.env.ie&&8>=document.documentMode||!f||(a=f+":"+a);return new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(a))},getHead:function(){var a=this.$.getElementsByTagName("head")[0];return a=a?new CKEDITOR.dom.element(a):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},
getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(a){this.$.open("text/html","replace");CKEDITOR.env.ie&&(a=a.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$\x26\n\x3cscript data-cke-temp\x3d"1"\x3e('+CKEDITOR.tools.fixDomain+")();\x3c/script\x3e"));this.$.write(a);this.$.close()},find:function(a){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(a))},findOne:function(a){return(a=this.$.querySelector(a))?new CKEDITOR.dom.element(a):null},
_getHtml5ShivFrag:function(){var a=this.getCustomData("html5ShivFrag");a||(a=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(a,!0),this.setCustomData("html5ShivFrag",a));return a}}),CKEDITOR.dom.nodeList=function(a){this.$=a},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(a){return 0>a||a>=this.$.length?null:(a=this.$[a])?new CKEDITOR.dom.node(a):null},toArray:function(){return CKEDITOR.tools.array.map(this.$,function(a){return new CKEDITOR.dom.node(a)})}},
CKEDITOR.dom.element=function(a,f){"string"==typeof a&&(a=(f?f.$:document).createElement(a));CKEDITOR.dom.domObject.call(this,a)},CKEDITOR.dom.element.get=function(a){return(a="string"==typeof a?document.getElementById(a)||document.getElementsByName(a)[0]:a)&&(a.$?a:new CKEDITOR.dom.element(a))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(a,f){var e=new CKEDITOR.dom.element("div",f);e.setHtml(a);return e.getFirst().remove()},CKEDITOR.dom.element.setMarker=
function(a,f,e,b){var c=f.getCustomData("list_marker_id")||f.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),k=f.getCustomData("list_marker_names")||f.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");a[c]=f;k[e]=1;return f.setCustomData(e,b)},CKEDITOR.dom.element.clearAllMarkers=function(a){for(var f in a)CKEDITOR.dom.element.clearMarkers(a,a[f],1)},CKEDITOR.dom.element.clearMarkers=function(a,f,e){var b=f.getCustomData("list_marker_names"),
c=f.getCustomData("list_marker_id"),k;for(k in b)f.removeCustomData(k);f.removeCustomData("list_marker_names");e&&(f.removeCustomData("list_marker_id"),delete a[c])},function(){function a(a,d){return-1<(" "+a+" ").replace(k," ").indexOf(" "+d+" ")}function f(a){var d=!0;a.$.id||(a.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber(),d=!1);return function(){d||a.removeAttribute("id")}}function e(a,d){var b=CKEDITOR.tools.escapeCss(a.$.id);return"#"+b+" "+d.split(/,\s*/).join(", #"+b+" ")}function b(a){for(var d=
0,b=0,g=l[a].length;b<g;b++)d+=parseFloat(this.getComputedStyle(l[a][b])||0,10)||0;return d}var c=document.createElement("_").classList,c="undefined"!==typeof c&&null!==String(c.add).match(/\[Native code\]/gi),k=/[\n\t\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:c?function(a){this.$.classList.add(a);return this}:function(b){var d=this.$.className;d&&(a(d,b)||(d+=" "+b));this.$.className=d||b;return this},removeClass:c?function(a){var d=this.$;d.classList.remove(a);
d.className||d.removeAttribute("class");return this}:function(b){var d=this.getAttribute("class");d&&a(d,b)&&((d=d.replace(new RegExp("(?:^|\\s+)"+b+"(?\x3d\\s|$)"),"").replace(/^\s+/,""))?this.setAttribute("class",d):this.removeAttribute("class"));return this},hasClass:function(b){return a(this.$.className,b)},append:function(a,d){"string"==typeof a&&(a=this.getDocument().createElement(a));d?this.$.insertBefore(a.$,this.$.firstChild):this.$.appendChild(a.$);return a},appendHtml:function(a){if(this.$.childNodes.length){var d=
new CKEDITOR.dom.element("div",this.getDocument());d.setHtml(a);d.moveChildren(this)}else this.setHtml(a)},appendText:function(a){null!=this.$.text&&CKEDITOR.env.ie&&9>CKEDITOR.env.version?this.$.text+=a:this.append(new CKEDITOR.dom.text(a))},appendBogus:function(a){if(a||CKEDITOR.env.needsBrFiller){for(a=this.getLast();a&&a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(a.getText());)a=a.getPrevious();a&&a.is&&a.is("br")||(a=this.getDocument().createElement("br"),CKEDITOR.env.gecko&&a.setAttribute("type",
"_moz"),this.append(a))}},breakParent:function(a,d){var b=new CKEDITOR.dom.range(this.getDocument());b.setStartAfter(this);b.setEndAfter(a);var g=b.extractContents(!1,d||!1),c;b.insertNode(this.remove());if(CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(b=new CKEDITOR.dom.element("div");c=g.getFirst();)c.$.style.backgroundColor&&(c.$.style.backgroundColor=c.$.style.backgroundColor),b.append(c);b.insertAfter(this);b.remove(!0)}else g.insertAfterNode(this)},contains:document.compareDocumentPosition?function(a){return!!(this.$.compareDocumentPosition(a.$)&
16)}:function(a){var d=this.$;return a.type!=CKEDITOR.NODE_ELEMENT?d.contains(a.getParent().$):d!=a.$&&d.contains(a.$)},focus:function(){function a(){try{this.$.focus()}catch(d){}}return function(d){d?CKEDITOR.tools.setTimeout(a,100,this):a.call(this)}}(),getHtml:function(){var a=this.$.innerHTML;return CKEDITOR.env.ie?a.replace(/<\?[^>]*>/g,""):a},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var a=this.$.ownerDocument.createElement("div");a.appendChild(this.$.cloneNode(!0));
return a.innerHTML},getClientRect:function(a){var d=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());!d.width&&(d.width=d.right-d.left);!d.height&&(d.height=d.bottom-d.top);return a?CKEDITOR.tools.getAbsoluteRectPosition(this.getWindow(),d):d},setHtml:CKEDITOR.env.ie&&9>CKEDITOR.env.version?function(a){try{var d=this.$;if(this.getParent())return d.innerHTML=a;var b=this.getDocument()._getHtml5ShivFrag();b.appendChild(d);d.innerHTML=a;b.removeChild(d);return a}catch(g){this.$.innerHTML="";
d=new CKEDITOR.dom.element("body",this.getDocument());d.$.innerHTML=a;for(d=d.getChildren();d.count();)this.append(d.getItem(0));return a}}:function(a){return this.$.innerHTML=a},setText:function(){var a=document.createElement("p");a.innerHTML="x";a=a.textContent;return function(d){this.$[a?"textContent":"innerText"]=d}}(),getAttribute:function(){var a=function(a){return this.$.getAttribute(a,2)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(a){switch(a){case "class":a=
"className";break;case "http-equiv":a="httpEquiv";break;case "name":return this.$.name;case "tabindex":return a=this.$.getAttribute(a,2),0!==a&&0===this.$.tabIndex&&(a=null),a;case "checked":return a=this.$.attributes.getNamedItem(a),(a.specified?a.nodeValue:this.$.checked)?"checked":null;case "hspace":case "value":return this.$[a];case "style":return this.$.style.cssText;case "contenteditable":case "contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):
null}return this.$.getAttribute(a,2)}:a}(),getAttributes:function(a){var d={},b=this.$.attributes,g;a=CKEDITOR.tools.isArray(a)?a:[];for(g=0;g<b.length;g++)-1===CKEDITOR.tools.indexOf(a,b[g].name)&&(d[b[g].name]=b[g].value);return d},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getClientSize:function(){return{width:this.$.clientWidth,height:this.$.clientHeight}},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(a){var d=this.getWindow().$.getComputedStyle(this.$,
null);return d?d.getPropertyValue(a):""}:function(a){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(a)]},getDtd:function(){var a=CKEDITOR.dtd[this.getName()];this.getDtd=function(){return a};return a},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:function(){var a=this.$.tabIndex;return 0!==a||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute("tabindex"),10)?a:-1},getText:function(){return this.$.textContent||this.$.innerText||""},
getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var a=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&8>=document.documentMode){var d=this.$.scopeName;"HTML"!=d&&(a=d.toLowerCase()+":"+a)}this.getName=function(){return a};return this.getName()},getValue:function(){return this.$.value},getFirst:function(a){var d=this.$.firstChild;(d=d&&new CKEDITOR.dom.node(d))&&a&&!a(d)&&(d=d.getNext(a));
return d},getLast:function(a){var d=this.$.lastChild;(d=d&&new CKEDITOR.dom.node(d))&&a&&!a(d)&&(d=d.getPrevious(a));return d},getStyle:function(a){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]},is:function(){var a=this.getName();if("object"==typeof arguments[0])return!!arguments[0][a];for(var d=0;d<arguments.length;d++)if(arguments[d]==a)return!0;return!1},isEditable:function(a){var d=this.getName();return this.isReadOnly()||"none"==this.getComputedStyle("display")||"hidden"==this.getComputedStyle("visibility")||
CKEDITOR.dtd.$nonEditable[d]||CKEDITOR.dtd.$empty[d]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount()?!1:!1!==a?(a=CKEDITOR.dtd[d]||CKEDITOR.dtd.span,!(!a||!a["#"])):!0},isIdentical:function(a){var d=this.clone(0,1);a=a.clone(0,1);d.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]);a.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]);if(d.$.isEqualNode)return d.$.style.cssText=
CKEDITOR.tools.normalizeCssText(d.$.style.cssText),a.$.style.cssText=CKEDITOR.tools.normalizeCssText(a.$.style.cssText),d.$.isEqualNode(a.$);d=d.getOuterHtml();a=a.getOuterHtml();if(CKEDITOR.env.ie&&9>CKEDITOR.env.version&&this.is("a")){var b=this.getParent();b.type==CKEDITOR.NODE_ELEMENT&&(b=b.clone(),b.setHtml(d),d=b.getHtml(),b.setHtml(a),a=b.getHtml())}return d==a},isVisible:function(){var a=(this.$.offsetHeight||this.$.offsetWidth)&&"hidden"!=this.getComputedStyle("visibility"),d,b;a&&CKEDITOR.env.webkit&&
(d=this.getWindow(),!d.equals(CKEDITOR.document.getWindow())&&(b=d.$.frameElement)&&(a=(new CKEDITOR.dom.element(b)).isVisible()));return!!a},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;for(var a=this.getChildren(),d=0,b=a.count();d<b;d++){var g=a.getItem(d);if(g.type!=CKEDITOR.NODE_ELEMENT||!g.data("cke-bookmark"))if(g.type==CKEDITOR.NODE_ELEMENT&&!g.isEmptyInlineRemoveable()||g.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(g.getText()))return!1}return!0},
hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var a=this.$.attributes,d=0;d<a.length;d++){var b=a[d];switch(b.nodeName){case "class":if(this.getAttribute("class"))return!0;case "data-cke-expando":continue;default:if(b.specified)return!0}}return!1}:function(){var a=this.$.attributes,d=a.length,b={"data-cke-expando":1,_moz_dirty:1};return 0<d&&(2<d||!b[a[0].nodeName]||2==d&&!b[a[1].nodeName])},hasAttribute:function(){function a(d){var b=this.$.attributes.getNamedItem(d);
if("input"==this.getName())switch(d){case "class":return 0<this.$.className.length;case "checked":return!!this.$.checked;case "value":return d=this.getAttribute("type"),"checkbox"==d||"radio"==d?"on"!=this.$.value:!!this.$.value}return b?b.specified:!1}return CKEDITOR.env.ie?8>CKEDITOR.env.version?function(d){return"name"==d?!!this.$.name:a.call(this,d)}:a:function(a){return!!this.$.attributes.getNamedItem(a)}}(),hide:function(){this.setStyle("display","none")},moveChildren:function(a,d){var b=this.$;
a=a.$;if(b!=a){var g;if(d)for(;g=b.lastChild;)a.insertBefore(b.removeChild(g),a.firstChild);else for(;g=b.firstChild;)a.appendChild(b.removeChild(g))}},mergeSiblings:function(){function a(d,b,g){if(b&&b.type==CKEDITOR.NODE_ELEMENT){for(var c=[];b.data("cke-bookmark")||b.isEmptyInlineRemoveable();)if(c.push(b),b=g?b.getNext():b.getPrevious(),!b||b.type!=CKEDITOR.NODE_ELEMENT)return;if(d.isIdentical(b)){for(var e=g?d.getLast():d.getFirst();c.length;)c.shift().move(d,!g);b.moveChildren(d,!g);b.remove();
e&&e.type==CKEDITOR.NODE_ELEMENT&&e.mergeSiblings()}}}return function(d){if(!1===d||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a"))a(this,this.getNext(),!0),a(this,this.getPrevious())}}(),show:function(){this.setStyles({display:"",visibility:""})},setAttribute:function(){var a=function(a,b){this.$.setAttribute(a,b);return this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(d,b){"class"==d?this.$.className=b:"style"==d?this.$.style.cssText=b:"tabindex"==d?
this.$.tabIndex=b:"checked"==d?this.$.checked=b:"contenteditable"==d?a.call(this,"contentEditable",b):a.apply(this,arguments);return this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(d,b){if("src"==d&&b.match(/^http:\/\//))try{a.apply(this,arguments)}catch(g){}else a.apply(this,arguments);return this}:a}(),setAttributes:function(a){for(var d in a)this.setAttribute(d,a[d]);return this},setValue:function(a){this.$.value=a;return this},removeAttribute:function(){var a=function(a){this.$.removeAttribute(a)};
return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(a){"class"==a?a="className":"tabindex"==a?a="tabIndex":"contenteditable"==a&&(a="contentEditable");this.$.removeAttribute(a)}:a}(),removeAttributes:function(a){if(CKEDITOR.tools.isArray(a))for(var d=0;d<a.length;d++)this.removeAttribute(a[d]);else for(d in a=a||this.getAttributes(),a)a.hasOwnProperty(d)&&this.removeAttribute(d)},removeStyle:function(a){var d=this.$.style;if(d.removeProperty||"border"!=a&&"margin"!=a&&"padding"!=
a)d.removeProperty?d.removeProperty(a):d.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(a)),this.$.style.cssText||this.removeAttribute("style");else{var b=["top","left","right","bottom"],g;"border"==a&&(g=["color","style","width"]);for(var d=[],c=0;c<b.length;c++)if(g)for(var e=0;e<g.length;e++)d.push([a,b[c],g[e]].join("-"));else d.push([a,b[c]].join("-"));for(a=0;a<d.length;a++)this.removeStyle(d[a])}},setStyle:function(a,d){this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]=d;return this},setStyles:function(a){for(var d in a)this.setStyle(d,
a[d]);return this},setOpacity:function(a){CKEDITOR.env.ie&&9>CKEDITOR.env.version?(a=Math.round(100*a),this.setStyle("filter",100<=a?"":"progid:DXImageTransform.Microsoft.Alpha(opacity\x3d"+a+")")):this.setStyle("opacity",a)},unselectable:function(){this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","none"));if(CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var a,d=this.getElementsByTag("*"),b=0,g=d.count();b<g;b++)a=d.getItem(b),a.setAttribute("unselectable","on")}},getPositionedAncestor:function(){for(var a=
this;"html"!=a.getName();){if("static"!=a.getComputedStyle("position"))return a;a=a.getParent()}return null},getDocumentPosition:function(a){var d=0,b=0,g=this.getDocument(),c=g.getBody(),e="BackCompat"==g.$.compatMode;if(document.documentElement.getBoundingClientRect&&(CKEDITOR.env.ie?8!==CKEDITOR.env.version:1)){var k=this.$.getBoundingClientRect(),l=g.$.documentElement,f=l.clientTop||c.$.clientTop||0,u=l.clientLeft||c.$.clientLeft||0,z=!0;CKEDITOR.env.ie&&(z=g.getDocumentElement().contains(this),
g=g.getBody().contains(this),z=e&&g||!e&&z);z&&(CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(d=c.$.scrollLeft||l.scrollLeft,b=c.$.scrollTop||l.scrollTop):(b=e?c.$:l,d=b.scrollLeft,b=b.scrollTop),d=k.left+d-u,b=k.top+b-f)}else for(f=this,u=null;f&&"body"!=f.getName()&&"html"!=f.getName();){d+=f.$.offsetLeft-f.$.scrollLeft;b+=f.$.offsetTop-f.$.scrollTop;f.equals(this)||(d+=f.$.clientLeft||0,b+=f.$.clientTop||0);for(;u&&!u.equals(f);)d-=u.$.scrollLeft,b-=u.$.scrollTop,u=u.getParent();
u=f;f=(k=f.$.offsetParent)?new CKEDITOR.dom.element(k):null}a&&(k=this.getWindow(),f=a.getWindow(),!k.equals(f)&&k.$.frameElement&&(a=(new CKEDITOR.dom.element(k.$.frameElement)).getDocumentPosition(a),d+=a.x,b+=a.y));document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||e||(d+=this.$.clientLeft?1:0,b+=this.$.clientTop?1:0);return{x:d,y:b}},scrollIntoView:function(a){var b=this.getParent();if(b){do if((b.$.clientWidth&&b.$.clientWidth<b.$.scrollWidth||b.$.clientHeight&&b.$.clientHeight<
b.$.scrollHeight)&&!b.is("body")&&this.scrollIntoParent(b,a,1),b.is("html")){var c=b.getWindow();try{var g=c.$.frameElement;g&&(b=new CKEDITOR.dom.element(g))}catch(e){}}while(b=b.getParent())}},scrollIntoParent:function(a,b,c){var g,e,k,f;function l(g,b){/body|html/.test(a.getName())?a.getWindow().$.scrollBy(g,b):(a.$.scrollLeft+=g,a.$.scrollTop+=b)}function p(a,g){var b={x:0,y:0};if(!a.is(z?"body":"html")){var d=a.$.getBoundingClientRect();b.x=d.left;b.y=d.top}d=a.getWindow();d.equals(g)||(d=p(CKEDITOR.dom.element.get(d.$.frameElement),
g),b.x+=d.x,b.y+=d.y);return b}function u(a,g){return parseInt(a.getComputedStyle("margin-"+g)||0,10)||0}!a&&(a=this.getWindow());k=a.getDocument();var z="BackCompat"==k.$.compatMode;a instanceof CKEDITOR.dom.window&&(a=z?k.getBody():k.getDocumentElement());CKEDITOR.env.webkit&&(k=this.getEditor(!1))&&(k._.previousScrollTop=null);k=a.getWindow();e=p(this,k);var q=p(a,k),A=this.$.offsetHeight;g=this.$.offsetWidth;var y=a.$.clientHeight,t=a.$.clientWidth;k=e.x-u(this,"left")-q.x||0;f=e.y-u(this,"top")-
q.y||0;g=e.x+g+u(this,"right")-(q.x+t)||0;e=e.y+A+u(this,"bottom")-(q.y+y)||0;(0>f||0<e)&&l(0,!0===b?f:!1===b?e:0>f?f:e);c&&(0>k||0<g)&&l(0>k?k:g,0)},setState:function(a,b,c){b=b||"cke";switch(a){case CKEDITOR.TRISTATE_ON:this.addClass(b+"_on");this.removeClass(b+"_off");this.removeClass(b+"_disabled");c&&this.setAttribute("aria-pressed",!0);c&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(b+"_disabled");this.removeClass(b+"_off");this.removeClass(b+"_on");
c&&this.setAttribute("aria-disabled",!0);c&&this.removeAttribute("aria-pressed");break;default:this.addClass(b+"_off"),this.removeClass(b+"_on"),this.removeClass(b+"_disabled"),c&&this.removeAttribute("aria-pressed"),c&&this.removeAttribute("aria-disabled")}},getFrameDocument:function(){var a=this.$;try{a.contentWindow.document}catch(b){a.src=a.src}return a&&new CKEDITOR.dom.document(a.contentWindow.document)},copyAttributes:function(a,b){var c=this.$.attributes;b=b||{};for(var g=0;g<c.length;g++){var e=
c[g],k=e.nodeName.toLowerCase(),f;if(!(k in b))if("checked"==k&&(f=this.getAttribute(k)))a.setAttribute(k,f);else if(!CKEDITOR.env.ie||this.hasAttribute(k))f=this.getAttribute(k),null===f&&(f=e.nodeValue),a.setAttribute(k,f)}""!==this.$.style.cssText&&(a.$.style.cssText=this.$.style.cssText)},renameNode:function(a){if(this.getName()!=a){var b=this.getDocument();a=new CKEDITOR.dom.element(a,b);this.copyAttributes(a);this.moveChildren(a);this.getParent(!0)&&this.$.parentNode.replaceChild(a.$,this.$);
a.$["data-cke-expando"]=this.$["data-cke-expando"];this.$=a.$;delete this.getName}},getChild:function(){function a(b,c){var g=b.childNodes;if(0<=c&&c<g.length)return g[c]}return function(b){var c=this.$;if(b.slice)for(b=b.slice();0<b.length&&c;)c=a(c,b.shift());else c=a(c,b);return c?new CKEDITOR.dom.node(c):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function a(b){return b.type==CKEDITOR.NODE_ELEMENT&&b.hasClass("cke_enable_context_menu")}this.on("contextmenu",
function(b){b.data.getTarget().getAscendant(a,!0)||b.data.preventDefault()})},getDirection:function(a){return a?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(a,b){a="data-"+a;if(void 0===b)return this.getAttribute(a);!1===b?this.removeAttribute(a):this.setAttribute(a,b);return null},getEditor:function(a){var b=CKEDITOR.instances,c,g,e;a=
a||void 0===a;for(c in b)if(g=b[c],g.element.equals(this)&&g.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||!a&&(e=g.editable())&&(e.equals(this)||e.contains(this)))return g;return null},find:function(a){var b=f(this);a=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(e(this,a)));b();return a},findOne:function(a){var b=f(this);a=this.$.querySelector(e(this,a));b();return a?new CKEDITOR.dom.element(a):null},forEach:function(a,b,c){if(!(c||b&&this.type!=b))var g=a(this);if(!1!==g){c=this.getChildren();
for(var e=0;e<c.count();e++)g=c.getItem(e),g.type==CKEDITOR.NODE_ELEMENT?g.forEach(a,b):b&&g.type!=b||a(g)}},fireEventHandler:function(a,b){var c="on"+a,g=this.$;if(CKEDITOR.env.ie&&9>CKEDITOR.env.version){var e=g.ownerDocument.createEventObject(),k;for(k in b)e[k]=b[k];g.fireEvent(c,e)}else g[g[a]?a:c](b)},isDetached:function(){var a=this.getDocument(),b=a.getDocumentElement();return b.equals(this)||b.contains(this)?!CKEDITOR.env.ie||8<CKEDITOR.env.version&&!CKEDITOR.env.quirks?!a.$.defaultView:
!1:!0}});var l={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=function(a,d,c){"number"==typeof d&&(!c||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(d-=b.call(this,a)),this.setStyle(a,d+"px"))};CKEDITOR.dom.element.prototype.getSize=function(a,d){var c=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(a)],this.$["client"+CKEDITOR.tools.capitalize(a)])||
0;d&&(c-=b.call(this,a));return c}}(),CKEDITOR.dom.documentFragment=function(a){a=a||CKEDITOR.document;this.$=a.type==CKEDITOR.NODE_DOCUMENT?a.$.createDocumentFragment():a},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(a){a=a.$;a.parentNode.insertBefore(this.$,a.nextSibling)},getHtml:function(){var a=new CKEDITOR.dom.element("div");this.clone(1,1).appendTo(a);return a.getHtml().replace(/\s*data-cke-expando=".*?"/g,
"")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1}),CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.document.prototype,!0,{find:1,findOne:1}),function(){function a(a,b){var g=this.range;if(this._.end)return null;if(!this._.start){this._.start=1;if(g.collapsed)return this.end(),
null;g.optimize()}var d,c=g.startContainer;d=g.endContainer;var e=g.startOffset,h=g.endOffset,n,k=this.guard,f=this.type,l=a?"getPreviousSourceNode":"getNextSourceNode";if(!a&&!this._.guardLTR){var m=d.type==CKEDITOR.NODE_ELEMENT?d:d.getParent(),D=d.type==CKEDITOR.NODE_ELEMENT?d.getChild(h):d.getNext();this._.guardLTR=function(a,b){return(!b||!m.equals(a))&&(!D||!a.equals(D))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(g.root))}}if(a&&!this._.guardRTL){var C=c.type==CKEDITOR.NODE_ELEMENT?c:c.getParent(),
F=c.type==CKEDITOR.NODE_ELEMENT?e?c.getChild(e-1):null:c.getPrevious();this._.guardRTL=function(a,b){return(!b||!C.equals(a))&&(!F||!a.equals(F))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(g.root))}}var J=a?this._.guardRTL:this._.guardLTR;n=k?function(a,b){return!1===J(a,b)?!1:k(a,b)}:J;this.current?d=this.current[l](!1,f,n):(a?d.type==CKEDITOR.NODE_ELEMENT&&(d=0<h?d.getChild(h-1):!1===n(d,!0)?null:d.getPreviousSourceNode(!0,f,n)):(d=c,d.type==CKEDITOR.NODE_ELEMENT&&((d=d.getChild(e))||(d=!1===
n(c,!0)?null:c.getNextSourceNode(!0,f,n)))),d&&!1===n(d)&&(d=null));for(;d&&!this._.end;){this.current=d;if(!this.evaluator||!1!==this.evaluator(d)){if(!b)return d}else if(b&&this.evaluator)return!1;d=d[l](!1,f,n)}this.end();return this.current=null}function f(b){for(var g,d=null;g=a.call(this,b);)d=g;return d}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(a){this.range=a;this._={}},proto:{end:function(){this._.end=1},next:function(){return a.call(this)},previous:function(){return a.call(this,
1)},checkForward:function(){return!1!==a.call(this,0,1)},checkBackward:function(){return!1!==a.call(this,1,1)},lastForward:function(){return f.call(this)},lastBackward:function(){return f.call(this,1)},reset:function(){delete this.current;this._={}}}});var e={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1},b={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=
function(a){return"none"!=this.getComputedStyle("float")||this.getComputedStyle("position")in b||!e[this.getComputedStyle("display")]?!!(this.is(CKEDITOR.dtd.$block)||a&&this.is(a)):!0};CKEDITOR.dom.walker.blockBoundary=function(a){return function(b){return!(b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary(a))}};CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})};CKEDITOR.dom.walker.bookmark=function(a,b){function g(a){return a&&a.getName&&"span"==a.getName()&&a.data("cke-bookmark")}
return function(d){var c,e;c=d&&d.type!=CKEDITOR.NODE_ELEMENT&&(e=d.getParent())&&g(e);c=a?c:c||g(d);return!!(b^c)}};CKEDITOR.dom.walker.whitespaces=function(a){return function(b){var g;b&&b.type==CKEDITOR.NODE_TEXT&&(g=!CKEDITOR.tools.trim(b.getText())||CKEDITOR.env.webkit&&b.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE);return!!(a^g)}};CKEDITOR.dom.walker.invisible=function(a){var b=CKEDITOR.dom.walker.whitespaces(),g=CKEDITOR.env.webkit?1:0;return function(d){b(d)?d=1:(d.type==CKEDITOR.NODE_TEXT&&
(d=d.getParent()),d=d.$.offsetWidth<=g);return!!(a^d)}};CKEDITOR.dom.walker.nodeType=function(a,b){return function(g){return!!(b^g.type==a)}};CKEDITOR.dom.walker.bogus=function(a){function b(a){return!k(a)&&!l(a)}return function(g){var d=CKEDITOR.env.needsBrFiller?g.is&&g.is("br"):g.getText&&c.test(g.getText());d&&(d=g.getParent(),g=g.getNext(b),d=d.isBlockBoundary()&&(!g||g.type==CKEDITOR.NODE_ELEMENT&&g.isBlockBoundary()));return!!(a^d)}};CKEDITOR.dom.walker.temp=function(a){return function(b){b.type!=
CKEDITOR.NODE_ELEMENT&&(b=b.getParent());b=b&&b.hasAttribute("data-cke-temp");return!!(a^b)}};var c=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,k=CKEDITOR.dom.walker.whitespaces(),l=CKEDITOR.dom.walker.bookmark(),m=CKEDITOR.dom.walker.temp(),d=function(a){return l(a)||k(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$inline)&&!a.is(CKEDITOR.dtd.$empty)};CKEDITOR.dom.walker.ignored=function(a){return function(b){b=k(b)||l(b)||m(b);return!!(a^b)}};var h=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=
function(a){return function(b){for(var g=0,d=b.getChildCount();g<d;++g)if(!h(b.getChild(g)))return!!a;return!a}};var g=CKEDITOR.dom.walker.empty(),n=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(a){var b={},g;for(g in a)CKEDITOR.dtd[g]["#"]&&(b[g]=1);return b}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=function(a){return function(b){b=h(b)?!1:b.type==CKEDITOR.NODE_TEXT||b.type==CKEDITOR.NODE_ELEMENT&&(b.is(CKEDITOR.dtd.$inline)||b.is("hr")||
"false"==b.getAttribute("contenteditable")||!CKEDITOR.env.needsBrFiller&&b.is(n)&&g(b))?!0:!1;return!!(a^b)}};CKEDITOR.dom.element.prototype.getBogus=function(){var a=this;do a=a.getPreviousSourceNode();while(d(a));return a&&(CKEDITOR.env.needsBrFiller?a.is&&a.is("br"):a.getText&&c.test(a.getText()))?a:!1}}(),"use strict",CKEDITOR.dom.range=function(a){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null;this.collapsed=!0;var f=a instanceof CKEDITOR.dom.document;this.document=
f?a:a.getDocument();this.root=f?a.getBody():a},function(){function a(a){a.collapsed=a.startContainer&&a.endContainer&&a.startContainer.equals(a.endContainer)&&a.startOffset==a.endOffset}function f(a,b,d,c,e){function h(a,b,g,d){var c=g?a.getPrevious():a.getNext();if(d&&l)return c;y||d?b.append(a.clone(!0,e),g):(a.remove(),m&&b.append(a,g));return c}function k(){var a,b,g,d=Math.min(H.length,E.length);for(a=0;a<d;a++)if(b=H[a],g=E[a],!b.equals(g))return a;return a-1}function f(){var b=P-1,d=J&&K&&
!t.equals(v);b<L-1||b<N-1||d?(d?a.moveToPosition(v,CKEDITOR.POSITION_BEFORE_START):N==b+1&&F?a.moveToPosition(E[b],CKEDITOR.POSITION_BEFORE_END):a.moveToPosition(E[b+1],CKEDITOR.POSITION_BEFORE_START),c&&(b=H[b+1])&&b.type==CKEDITOR.NODE_ELEMENT&&(d=CKEDITOR.dom.element.createFromHtml('\x3cspan data-cke-bookmark\x3d"1" style\x3d"display:none"\x3e\x26nbsp;\x3c/span\x3e',a.document),d.insertAfter(b),b.mergeSiblings(!1),a.moveToBookmark({startNode:d}))):a.collapse(!0)}a.optimizeBookmark();var l=0===
b,m=1==b,y=2==b;b=y||m;var t=a.startContainer,v=a.endContainer,B=a.startOffset,D=a.endOffset,C,F,J,K,G,M;if(y&&v.type==CKEDITOR.NODE_TEXT&&(t.equals(v)||t.type===CKEDITOR.NODE_ELEMENT&&t.getFirst().equals(v)))d.append(a.document.createText(v.substring(B,D)));else{v.type==CKEDITOR.NODE_TEXT?y?M=!0:v=v.split(D):0<v.getChildCount()?D>=v.getChildCount()?(v=v.getChild(D-1),F=!0):v=v.getChild(D):K=F=!0;t.type==CKEDITOR.NODE_TEXT?y?G=!0:t.split(B):0<t.getChildCount()?0===B?(t=t.getChild(B),C=!0):t=t.getChild(B-
1):J=C=!0;for(var H=t.getParents(),E=v.getParents(),P=k(),L=H.length-1,N=E.length-1,O=d,X,S,Y,ea=-1,U=P;U<=L;U++){S=H[U];Y=S.getNext();for(U!=L||S.equals(E[U])&&L<N?b&&(X=O.append(S.clone(0,e))):C?h(S,O,!1,J):G&&O.append(a.document.createText(S.substring(B)));Y;){if(Y.equals(E[U])){ea=U;break}Y=h(Y,O)}O=X}O=d;for(U=P;U<=N;U++)if(d=E[U],Y=d.getPrevious(),d.equals(H[U]))b&&(O=O.getChild(0));else{U!=N||d.equals(H[U])&&N<L?b&&(X=O.append(d.clone(0,e))):F?h(d,O,!1,K):M&&O.append(a.document.createText(d.substring(0,
D)));if(U>ea)for(;Y;)Y=h(Y,O,!0);O=X}y||f()}}function e(){var a=!1,b=CKEDITOR.dom.walker.whitespaces(),d=CKEDITOR.dom.walker.bookmark(!0),c=CKEDITOR.dom.walker.bogus();return function(e){return d(e)||b(e)?!0:c(e)&&!a?a=!0:e.type==CKEDITOR.NODE_TEXT&&(e.hasAscendant("pre")||CKEDITOR.tools.trim(e.getText()).length)||e.type==CKEDITOR.NODE_ELEMENT&&!e.is(k)?!1:!0}}function b(a){var b=CKEDITOR.dom.walker.whitespaces(),d=CKEDITOR.dom.walker.bookmark(1);return function(c){return d(c)||b(c)?!0:!a&&l(c)||
c.type==CKEDITOR.NODE_ELEMENT&&c.is(CKEDITOR.dtd.$removeEmpty)}}function c(a){return function(){var b;return this[a?"getPreviousNode":"getNextNode"](function(a){!b&&h(a)&&(b=a);return d(a)&&!(l(a)&&a.equals(b))})}}var k={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1},l=CKEDITOR.dom.walker.bogus(),m=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,d=CKEDITOR.dom.walker.editable(),h=CKEDITOR.dom.walker.ignored(!0);
CKEDITOR.dom.range.prototype={clone:function(){var a=new CKEDITOR.dom.range(this.root);a._setStartContainer(this.startContainer);a.startOffset=this.startOffset;a._setEndContainer(this.endContainer);a.endOffset=this.endOffset;a.collapsed=this.collapsed;return a},collapse:function(a){a?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset);this.collapsed=!0},cloneContents:function(a){var b=new CKEDITOR.dom.documentFragment(this.document);
this.collapsed||f(this,2,b,!1,"undefined"==typeof a?!0:a);return b},deleteContents:function(a){this.collapsed||f(this,0,null,a)},extractContents:function(a,b){var d=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||f(this,1,d,a,"undefined"==typeof b?!0:b);return d},equals:function(a){return this.startOffset===a.startOffset&&this.endOffset===a.endOffset&&this.startContainer.equals(a.startContainer)&&this.endContainer.equals(a.endContainer)},createBookmark:function(a){function b(a){return a.getAscendant(function(a){var b;
if(b=a.data&&a.data("cke-temp"))b=-1===CKEDITOR.tools.array.indexOf(["cke_copybin","cke_pastebin"],a.getAttribute("id"));return b},!0)}var d=this.startContainer,c=this.endContainer,e=this.collapsed,h,k,f,l;h=this.document.createElement("span");h.data("cke-bookmark",1);h.setStyle("display","none");h.setHtml("\x26nbsp;");a&&(f="cke_bm_"+CKEDITOR.tools.getNextNumber(),h.setAttribute("id",f+(e?"C":"S")));e||(k=h.clone(),k.setHtml("\x26nbsp;"),a&&k.setAttribute("id",f+"E"),l=this.clone(),b(c)&&(c=b(c),
l.moveToPosition(c,CKEDITOR.POSITION_AFTER_END)),l.collapse(),l.insertNode(k));l=this.clone();b(d)&&(c=b(d),l.moveToPosition(c,CKEDITOR.POSITION_BEFORE_START));l.collapse(!0);l.insertNode(h);k?(this.setStartAfter(h),this.setEndBefore(k)):this.moveToPosition(h,CKEDITOR.POSITION_AFTER_END);return{startNode:a?f+(e?"C":"S"):h,endNode:a?f+"E":k,serializable:a,collapsed:e}},createBookmark2:function(){function a(b){var g=b.container,c=b.offset,e;e=g;var h=c;e=e.type!=CKEDITOR.NODE_ELEMENT||0===h||h==e.getChildCount()?
0:e.getChild(h-1).type==CKEDITOR.NODE_TEXT&&e.getChild(h).type==CKEDITOR.NODE_TEXT;e&&(g=g.getChild(c-1),c=g.getLength());if(g.type==CKEDITOR.NODE_ELEMENT&&0<c){a:{for(e=g;c--;)if(h=e.getChild(c).getIndex(!0),0<=h){c=h;break a}c=-1}c+=1}if(g.type==CKEDITOR.NODE_TEXT){e=g;for(h=0;(e=e.getPrevious())&&e.type==CKEDITOR.NODE_TEXT;)h+=e.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,"").length;e=h;g.isEmpty()?(h=g.getPrevious(d),e?(c=e,g=h?h.getNext():g.getParent().getFirst()):(g=g.getParent(),
c=h?h.getIndex(!0)+1:0)):c+=e}b.container=g;b.offset=c}function b(a,g){var d=g.getCustomData("cke-fillingChar");if(d){var c=a.container;d.equals(c)&&(a.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,0>=a.offset&&(a.offset=c.getIndex(),a.container=c.getParent()))}}var d=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(d){var c=this.collapsed,e={container:this.startContainer,offset:this.startOffset},h={container:this.endContainer,offset:this.endOffset};d&&(a(e),b(e,this.root),
c||(a(h),b(h,this.root)));return{start:e.container.getAddress(d),end:c?null:h.container.getAddress(d),startOffset:e.offset,endOffset:h.offset,normalized:d,collapsed:c,is2:!0}}}(),moveToBookmark:function(a){if(a.is2){var b=this.document.getByAddress(a.start,a.normalized),d=a.startOffset,c=a.end&&this.document.getByAddress(a.end,a.normalized);a=a.endOffset;this.setStart(b,d);c?this.setEnd(c,a):this.collapse(!0)}else b=(d=a.serializable)?this.document.getById(a.startNode):a.startNode,a=d?this.document.getById(a.endNode):
a.endNode,this.setStartBefore(b),b.remove(),a?(this.setEndBefore(a),a.remove()):this.collapse(!0)},getBoundaryNodes:function(){var a=this.startContainer,b=this.endContainer,d=this.startOffset,c=this.endOffset,e;if(a.type==CKEDITOR.NODE_ELEMENT)if(e=a.getChildCount(),e>d)a=a.getChild(d);else if(1>e)a=a.getPreviousSourceNode();else{for(a=a.$;a.lastChild;)a=a.lastChild;a=new CKEDITOR.dom.node(a);a=a.getNextSourceNode()||a}if(b.type==CKEDITOR.NODE_ELEMENT)if(e=b.getChildCount(),e>c)b=b.getChild(c).getPreviousSourceNode(!0);
else if(1>e)b=b.getPreviousSourceNode();else{for(b=b.$;b.lastChild;)b=b.lastChild;b=new CKEDITOR.dom.node(b)}a.getPosition(b)&CKEDITOR.POSITION_FOLLOWING&&(a=b);return{startNode:a,endNode:b}},getCommonAncestor:function(a,b){var d=this.startContainer,c=this.endContainer,d=d.equals(c)?a&&d.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?d.getChild(this.startOffset):d:d.getCommonAncestor(c);return b&&!d.is?d.getParent():d},optimize:function(){var a=this.startContainer,b=this.startOffset;
a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setStartAfter(a):this.setStartBefore(a));a=this.endContainer;b=this.endOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setEndAfter(a):this.setEndBefore(a))},optimizeBookmark:function(){var a=this.startContainer,b=this.endContainer;a.is&&a.is("span")&&a.data("cke-bookmark")&&this.setStartAt(a,CKEDITOR.POSITION_BEFORE_START);b&&b.is&&b.is("span")&&b.data("cke-bookmark")&&this.setEndAt(b,CKEDITOR.POSITION_AFTER_END)},trim:function(a,
b){var d=this.startContainer,c=this.startOffset,e=this.collapsed;if((!a||e)&&d&&d.type==CKEDITOR.NODE_TEXT){if(c)if(c>=d.getLength())c=d.getIndex()+1,d=d.getParent();else{var h=d.split(c),c=d.getIndex()+1,d=d.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(h,this.endOffset-this.startOffset):d.equals(this.endContainer)&&(this.endOffset+=1)}else c=d.getIndex(),d=d.getParent();this.setStart(d,c);if(e){this.collapse(!0);return}}d=this.endContainer;c=this.endOffset;b||e||!d||d.type!=
CKEDITOR.NODE_TEXT||(c?(c>=d.getLength()||d.split(c),c=d.getIndex()+1):c=d.getIndex(),d=d.getParent(),this.setEnd(d,c))},enlarge:function(a,b){function d(a){return a&&a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("contenteditable")?null:a}function c(a,b,d){var g=new CKEDITOR.dom.range(d);g.setStart(a,b);g.setEndAt(d,CKEDITOR.POSITION_BEFORE_END);d=new CKEDITOR.dom.walker(g);for(d.guard=function(a){return!(a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary())};g=d.next();){if(g.type!=CKEDITOR.NODE_TEXT)return!1;
h=g!=a?g.getText():g.substring(b);if(e.test(h))return!1}return!0}var e=new RegExp(/[^\s\ufeff]/),h,k;switch(a){case CKEDITOR.ENLARGE_INLINE:var f=1;case CKEDITOR.ENLARGE_ELEMENT:if(this.collapsed)break;var l=this.getCommonAncestor();k=this.root;var m,y,t,v,B,D=!1,C;C=this.startContainer;var F=this.startOffset;C.type==CKEDITOR.NODE_TEXT?(F&&(C=!CKEDITOR.tools.trim(C.substring(0,F)).length&&C,D=!!C),C&&((v=C.getPrevious())||(t=C.getParent()))):(F&&(v=C.getChild(F-1)||C.getLast()),v||(t=C));for(t=d(t);t||
v;){if(t&&!v){!B&&t.equals(l)&&(B=!0);if(f?t.isBlockBoundary():!k.contains(t))break;D&&"inline"==t.getComputedStyle("display")||(D=!1,B?m=t:this.setStartBefore(t));v=t.getPrevious()}for(;v;)if(C=!1,v.type==CKEDITOR.NODE_COMMENT)v=v.getPrevious();else{if(v.type==CKEDITOR.NODE_TEXT)h=v.getText(),e.test(h)&&(v=null),C=/[\s\ufeff]$/.test(h);else if((v.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||b&&v.is("br"))&&!v.data("cke-bookmark"))if(D&&CKEDITOR.dtd.$removeEmpty[v.getName()]){h=v.getText();if(e.test(h))v=
null;else for(var F=v.$.getElementsByTagName("*"),J=0,K;K=F[J++];)if(!CKEDITOR.dtd.$removeEmpty[K.nodeName.toLowerCase()]){v=null;break}v&&(C=!!h.length)}else v=null;C&&(D?B?m=t:t&&this.setStartBefore(t):D=!0);if(v){C=v.getPrevious();if(!t&&!C){t=v;v=null;break}v=C}else t=null}t&&(t=d(t.getParent()))}C=this.endContainer;F=this.endOffset;t=v=null;B=D=!1;C.type==CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(C.substring(F)).length?D=!0:(D=!C.getLength(),F==C.getLength()?(v=C.getNext())||(t=C.getParent()):c(C,
F,k)&&(t=C.getParent())):(v=C.getChild(F))||(t=C);for(;t||v;){if(t&&!v){!B&&t.equals(l)&&(B=!0);if(f?t.isBlockBoundary():!k.contains(t))break;D&&"inline"==t.getComputedStyle("display")||(D=!1,B?y=t:t&&this.setEndAfter(t));v=t.getNext()}for(;v;){C=!1;if(v.type==CKEDITOR.NODE_TEXT)h=v.getText(),c(v,0,k)||(v=null),C=/^[\s\ufeff]/.test(h);else if(v.type==CKEDITOR.NODE_ELEMENT){if((0<v.$.offsetWidth||b&&v.is("br"))&&!v.data("cke-bookmark"))if(D&&CKEDITOR.dtd.$removeEmpty[v.getName()]){h=v.getText();if(e.test(h))v=
null;else for(F=v.$.getElementsByTagName("*"),J=0;K=F[J++];)if(!CKEDITOR.dtd.$removeEmpty[K.nodeName.toLowerCase()]){v=null;break}v&&(C=!!h.length)}else v=null}else C=1;C&&D&&(B?y=t:this.setEndAfter(t));if(v){C=v.getNext();if(!t&&!C){t=v;v=null;break}v=C}else t=null}t&&(t=d(t.getParent()))}m&&y&&(l=m.contains(y)?y:m,this.setStartBefore(l),this.setEndAfter(l));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:t=new CKEDITOR.dom.range(this.root);k=this.root;t.setStartAt(k,
CKEDITOR.POSITION_AFTER_START);t.setEnd(this.startContainer,this.startOffset);t=new CKEDITOR.dom.walker(t);var G,M,H=CKEDITOR.dom.walker.blockBoundary(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),E=null,P=function(a){if(a.type==CKEDITOR.NODE_ELEMENT&&"false"==a.getAttribute("contenteditable"))if(E){if(E.equals(a)){E=null;return}}else E=a;else if(E)return;var b=H(a);b||(G=a);return b},f=function(a){var b=P(a);!b&&a.is&&a.is("br")&&(M=a);return b};t.guard=P;t=t.lastBackward();G=G||k;this.setStartAt(G,
!G.is("br")&&(!t&&this.checkStartOfBlock()||t&&G.contains(t))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END);if(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){t=this.clone();t=new CKEDITOR.dom.walker(t);var L=CKEDITOR.dom.walker.whitespaces(),N=CKEDITOR.dom.walker.bookmark();t.evaluator=function(a){return!L(a)&&!N(a)};if((t=t.previous())&&t.type==CKEDITOR.NODE_ELEMENT&&t.is("br"))break}t=this.clone();t.collapse();t.setEndAt(k,CKEDITOR.POSITION_BEFORE_END);t=new CKEDITOR.dom.walker(t);t.guard=
a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?f:P;G=E=M=null;t=t.lastForward();G=G||k;this.setEndAt(G,!t&&this.checkEndOfBlock()||t&&G.contains(t)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START);M&&this.setEndAfter(M)}},shrink:function(a,b,d){var c="boolean"===typeof d?d:d&&"boolean"===typeof d.shrinkOnBlockBoundary?d.shrinkOnBlockBoundary:!0,e=d&&d.skipBogus;if(!this.collapsed){a=a||CKEDITOR.SHRINK_TEXT;var h=this.clone(),k=this.startContainer,f=this.endContainer,l=this.startOffset,m=this.endOffset,
y=d=1;k&&k.type==CKEDITOR.NODE_TEXT&&(l?l>=k.getLength()?h.setStartAfter(k):(h.setStartBefore(k),d=0):h.setStartBefore(k));f&&f.type==CKEDITOR.NODE_TEXT&&(m?m>=f.getLength()?h.setEndAfter(f):(h.setEndAfter(f),y=0):h.setEndBefore(f));var h=new CKEDITOR.dom.walker(h),t=CKEDITOR.dom.walker.bookmark(),v=CKEDITOR.dom.walker.bogus();h.evaluator=function(b){return b.type==(a==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)};var B;h.guard=function(b,d){if(e&&v(b)||t(b))return!0;if(a==CKEDITOR.SHRINK_ELEMENT&&
b.type==CKEDITOR.NODE_TEXT||d&&b.equals(B)||!1===c&&b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary()||b.type==CKEDITOR.NODE_ELEMENT&&b.hasAttribute("contenteditable"))return!1;d||b.type!=CKEDITOR.NODE_ELEMENT||(B=b);return!0};d&&(k=h[a==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(k,b?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START);y&&(h.reset(),(h=h[a==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(h,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END));
return!(!d&&!y)}},insertNode:function(a){this.optimizeBookmark();this.trim(!1,!0);var b=this.startContainer,d=b.getChild(this.startOffset);d?a.insertBefore(d):b.append(a);a.getParent()&&a.getParent().equals(this.endContainer)&&this.endOffset++;this.setStartBefore(a)},moveToPosition:function(a,b){this.setStartAt(a,b);this.collapse(!0)},moveToRange:function(a){this.setStart(a.startContainer,a.startOffset);this.setEnd(a.endContainer,a.endOffset)},selectNodeContents:function(a){this.setStart(a,0);this.setEnd(a,
a.type==CKEDITOR.NODE_TEXT?a.getLength():a.getChildCount())},setStart:function(b,d){b.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[b.getName()]&&(d=b.getIndex(),b=b.getParent());this._setStartContainer(b);this.startOffset=d;this.endContainer||(this._setEndContainer(b),this.endOffset=d);a(this)},setEnd:function(b,d){b.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[b.getName()]&&(d=b.getIndex()+1,b=b.getParent());this._setEndContainer(b);this.endOffset=d;this.startContainer||(this._setStartContainer(b),
this.startOffset=d);a(this)},setStartAfter:function(a){this.setStart(a.getParent(),a.getIndex()+1)},setStartBefore:function(a){this.setStart(a.getParent(),a.getIndex())},setEndAfter:function(a){this.setEnd(a.getParent(),a.getIndex()+1)},setEndBefore:function(a){this.setEnd(a.getParent(),a.getIndex())},setStartAt:function(b,d){switch(d){case CKEDITOR.POSITION_AFTER_START:this.setStart(b,0);break;case CKEDITOR.POSITION_BEFORE_END:b.type==CKEDITOR.NODE_TEXT?this.setStart(b,b.getLength()):this.setStart(b,
b.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(b);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(b)}a(this)},setEndAt:function(b,d){switch(d){case CKEDITOR.POSITION_AFTER_START:this.setEnd(b,0);break;case CKEDITOR.POSITION_BEFORE_END:b.type==CKEDITOR.NODE_TEXT?this.setEnd(b,b.getLength()):this.setEnd(b,b.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(b);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(b)}a(this)},fixBlock:function(a,
b){var d=this.createBookmark(),c=this.document.createElement(b);this.collapse(a);this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS);this.extractContents().appendTo(c);c.trim();this.insertNode(c);var e=c.getBogus();e&&e.remove();c.appendBogus();this.moveToBookmark(d);return c},splitBlock:function(a,b){var d=new CKEDITOR.dom.elementPath(this.startContainer,this.root),c=new CKEDITOR.dom.elementPath(this.endContainer,this.root),e=d.block,h=c.block,k=null;if(!d.blockLimit.equals(c.blockLimit))return null;"br"!=
a&&(e||(e=this.fixBlock(!0,a),h=(new CKEDITOR.dom.elementPath(this.endContainer,this.root)).block),h||(h=this.fixBlock(!1,a)));d=e&&this.checkStartOfBlock();c=h&&this.checkEndOfBlock();this.deleteContents();e&&e.equals(h)&&(c?(k=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(h,CKEDITOR.POSITION_AFTER_END),h=null):d?(k=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),e=null):(h=this.splitElement(e,b||
!1),e.is("ul","ol")||e.appendBogus()));return{previousBlock:e,nextBlock:h,wasStartOfBlock:d,wasEndOfBlock:c,elementPath:k}},splitElement:function(a,b){if(!this.collapsed)return null;this.setEndAt(a,CKEDITOR.POSITION_BEFORE_END);var d=this.extractContents(!1,b||!1),c=a.clone(!1,b||!1);d.appendTo(c);c.insertAfter(a);this.moveToPosition(a,CKEDITOR.POSITION_AFTER_END);return c},removeEmptyBlocksAtEnd:function(){function a(c){return function(a){return b(a)||d(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.isEmptyInlineRemoveable()||
c.is("table")&&a.is("caption")?!1:!0}}var b=CKEDITOR.dom.walker.whitespaces(),d=CKEDITOR.dom.walker.bookmark(!1);return function(b){for(var d=this.createBookmark(),c=this[b?"endPath":"startPath"](),e=c.block||c.blockLimit,h;e&&!e.equals(c.root)&&!e.getFirst(a(e));)h=e.getParent(),this[b?"setEndAt":"setStartAt"](e,CKEDITOR.POSITION_AFTER_END),e.remove(1),e=h;this.moveToBookmark(d)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,
this.root)},checkBoundaryOfElement:function(a,d){var c=d==CKEDITOR.START,e=this.clone();e.collapse(c);e[c?"setStartAt":"setEndAt"](a,c?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END);e=new CKEDITOR.dom.walker(e);e.evaluator=b(c);return e[c?"checkBackward":"checkForward"]()},checkStartOfBlock:function(a){var b=this.startContainer,d=this.startOffset;CKEDITOR.env.ie&&d&&b.type==CKEDITOR.NODE_TEXT&&(b=CKEDITOR.tools.ltrim(b.substring(0,d)),m.test(b)&&this.trim(0,1));a||this.trim();a=new CKEDITOR.dom.elementPath(this.startContainer,
this.root);b=this.clone();b.collapse(!0);b.setStartAt(a.block||a.blockLimit,CKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(b);a.evaluator=e();return a.checkBackward()},checkEndOfBlock:function(a){var b=this.endContainer,d=this.endOffset;CKEDITOR.env.ie&&b.type==CKEDITOR.NODE_TEXT&&(b=CKEDITOR.tools.rtrim(b.substring(d)),m.test(b)&&this.trim(1,0));a||this.trim();a=new CKEDITOR.dom.elementPath(this.endContainer,this.root);b=this.clone();b.collapse(!1);b.setEndAt(a.block||a.blockLimit,CKEDITOR.POSITION_BEFORE_END);
a=new CKEDITOR.dom.walker(b);a.evaluator=e();return a.checkForward()},getPreviousNode:function(a,b,d){var c=this.clone();c.collapse(1);c.setStartAt(d||this.root,CKEDITOR.POSITION_AFTER_START);d=new CKEDITOR.dom.walker(c);d.evaluator=a;d.guard=b;return d.previous()},getNextNode:function(a,b,d){var c=this.clone();c.collapse();c.setEndAt(d||this.root,CKEDITOR.POSITION_BEFORE_END);d=new CKEDITOR.dom.walker(c);d.evaluator=a;d.guard=b;return d.next()},checkReadOnly:function(){function a(b,d){for(;b;){if(b.type==
CKEDITOR.NODE_ELEMENT){if("false"==b.getAttribute("contentEditable")&&!b.data("cke-editable"))return 0;if(b.is("html")||"true"==b.getAttribute("contentEditable")&&(b.contains(d)||b.equals(d)))break}b=b.getParent()}return 1}return function(){var b=this.startContainer,d=this.endContainer;return!(a(b,d)&&a(d,b))}}(),moveToElementEditablePosition:function(a,b){if(a.type==CKEDITOR.NODE_ELEMENT&&!a.isEditable(!1))return this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),
!0;for(var d=0;a;){if(a.type==CKEDITOR.NODE_TEXT){b&&this.endContainer&&this.checkEndOfBlock()&&m.test(a.getText())?this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START);d=1;break}if(a.type==CKEDITOR.NODE_ELEMENT)if(a.isEditable())this.moveToPosition(a,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),d=1;else if(b&&a.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START);
else if("false"==a.getAttribute("contenteditable")&&a.is(CKEDITOR.dtd.$block))return this.setStartBefore(a),this.setEndAfter(a),!0;var c=a,e=d,k=void 0;c.type==CKEDITOR.NODE_ELEMENT&&c.isEditable(!1)&&(k=c[b?"getLast":"getFirst"](h));e||k||(k=c[b?"getPrevious":"getNext"](h));a=k}return!!d},moveToClosestEditablePosition:function(a,b){var d,c=0,e,h,k=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];a?(d=new CKEDITOR.dom.range(this.root),d.moveToPosition(a,k[b?0:1])):d=this.clone();if(a&&
!a.is(CKEDITOR.dtd.$block))c=1;else if(e=d[b?"getNextEditableNode":"getPreviousEditableNode"]())c=1,(h=e.type==CKEDITOR.NODE_ELEMENT)&&e.is(CKEDITOR.dtd.$block)&&"false"==e.getAttribute("contenteditable")?(d.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),d.setEndAt(e,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&h&&e.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(d.setEnd(e,0),d.collapse()):d.moveToPosition(e,k[b?1:0]);c&&this.moveToRange(d);return!!c},moveToElementEditStart:function(a){return this.moveToElementEditablePosition(a)},
moveToElementEditEnd:function(a){return this.moveToElementEditablePosition(a,!0)},getEnclosedNode:function(){var a=this.clone();a.optimize();if(a.startContainer.type!=CKEDITOR.NODE_ELEMENT||a.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var a=new CKEDITOR.dom.walker(a),b=CKEDITOR.dom.walker.bookmark(!1,!0),d=CKEDITOR.dom.walker.whitespaces(!0);a.evaluator=function(a){return d(a)&&b(a)};var c=a.next();a.reset();return c&&c.equals(a.previous())?c:null},getTouchedStartNode:function(){var a=this.startContainer;
return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.startOffset)||a},getTouchedEndNode:function(){var a=this.endContainer;return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.endOffset-1)||a},getNextEditableNode:c(),getPreviousEditableNode:c(1),_getTableElement:function(a){a=a||{td:1,th:1,tr:1,tbody:1,thead:1,tfoot:1,table:1};var b=this.getTouchedStartNode(),d=this.getTouchedEndNode(),c=b.getAscendant("table",!0),d=d.getAscendant("table",!0);return c&&!this.root.contains(c)?
null:this.getEnclosedNode()?this.getEnclosedNode().getAscendant(a,!0):c&&d&&(c.equals(d)||c.contains(d)||d.contains(c))?b.getAscendant(a,!0):null},scrollIntoView:function(){var a=new CKEDITOR.dom.element.createFromHtml("\x3cspan\x3e\x26nbsp;\x3c/span\x3e",this.document),b,d,c,e=this.clone();e.optimize();(c=e.startContainer.type==CKEDITOR.NODE_TEXT)?(d=e.startContainer.getText(),b=e.startContainer.split(e.startOffset),a.insertAfter(e.startContainer)):e.insertNode(a);a.scrollIntoView();c&&(e.startContainer.setText(d),
b.remove());a.remove()},getClientRects:function(){function a(b,d){var c=CKEDITOR.tools.array.map(b,function(a){return a}),g=new CKEDITOR.dom.range(d.root),e,h,k;d.startContainer instanceof CKEDITOR.dom.element&&(h=0===d.startOffset&&d.startContainer.hasAttribute("data-widget"));d.endContainer instanceof CKEDITOR.dom.element&&(k=(k=d.endOffset===(d.endContainer.getChildCount?d.endContainer.getChildCount():d.endContainer.length))&&d.endContainer.hasAttribute("data-widget"));h&&g.setStart(d.startContainer.getParent(),
d.startContainer.getIndex());k&&g.setEnd(d.endContainer.getParent(),d.endContainer.getIndex()+1);if(h||k)d=g;g=d.cloneContents().find("[data-cke-widget-id]").toArray();if(g=CKEDITOR.tools.array.map(g,function(a){var b=d.root.editor;a=a.getAttribute("data-cke-widget-id");return b.widgets.instances[a].element}))return g=CKEDITOR.tools.array.map(g,function(a){var b;b=a.getParent().hasClass("cke_widget_wrapper")?a.getParent():a;e=this.root.getDocument().$.createRange();e.setStart(b.getParent().$,b.getIndex());
e.setEnd(b.getParent().$,b.getIndex()+1);b=e.getClientRects();b.widgetRect=a.getClientRect();return b},d),CKEDITOR.tools.array.forEach(g,function(a){function b(g){CKEDITOR.tools.array.forEach(c,function(b,e){var h=CKEDITOR.tools.objectCompare(a[g],b);h||(h=CKEDITOR.tools.objectCompare(a.widgetRect,b));h&&(Array.prototype.splice.call(c,e,a.length-g,a.widgetRect),d=!0)});d||(g<c.length-1?b(g+1):c.push(a.widgetRect))}var d;b(0)}),c}function b(a,d,g){var e;d.collapsed?g.startContainer instanceof CKEDITOR.dom.element?
(a=g.checkStartOfBlock(),e=new CKEDITOR.dom.text("​"),a?g.startContainer.append(e,!0):0===g.startOffset?e.insertBefore(g.startContainer.getFirst()):(g=g.startContainer.getChildren().getItem(g.startOffset-1),e.insertAfter(g)),d.setStart(e.$,0),d.setEnd(e.$,0),a=d.getClientRects(),e.remove()):g.startContainer instanceof CKEDITOR.dom.text&&(""===g.startContainer.getText()?(g.startContainer.setText("​"),a=d.getClientRects(),g.startContainer.setText("")):a=[c(g.createBookmark())]):a=[c(g.createBookmark())];
return a}function d(a,b,c){a=CKEDITOR.tools.extend({},a);b&&(a=CKEDITOR.tools.getAbsoluteRectPosition(c.document.getWindow(),a));!a.width&&(a.width=a.right-a.left);!a.height&&(a.height=a.bottom-a.top);return a}function c(a){var b=a.startNode;a=a.endNode;var d;b.setText("​");b.removeStyle("display");a?(a.setText("​"),a.removeStyle("display"),d=[b.getClientRect(),a.getClientRect()],a.remove()):d=[b.getClientRect(),b.getClientRect()];b.remove();return{right:Math.max(d[0].right,d[1].right),bottom:Math.max(d[0].bottom,
d[1].bottom),left:Math.min(d[0].left,d[1].left),top:Math.min(d[0].top,d[1].top),width:Math.abs(d[0].left-d[1].left),height:Math.max(d[0].bottom,d[1].bottom)-Math.min(d[0].top,d[1].top)}}return void 0!==document.getSelection?function(c){var e=this.root.getDocument().$.createRange(),h;e.setStart(this.startContainer.$,this.startOffset);e.setEnd(this.endContainer.$,this.endOffset);h=e.getClientRects();h=a(h,this);h.length||(h=b(h,e,this));return CKEDITOR.tools.array.map(h,function(a){return d(a,c,this)},
this)}:function(a){return[d(c(this.createBookmark()),a,this)]}}(),_setStartContainer:function(a){this.startContainer=a},_setEndContainer:function(a){this.endContainer=a},_find:function(a,b){var d=this.getCommonAncestor(),c=this.getBoundaryNodes(),e=[],h,k,f,l;if(d&&d.find)for(k=d.find(a),h=0;h<k.count();h++)if(d=k.getItem(h),b||!d.isReadOnly())f=d.getPosition(c.startNode)&CKEDITOR.POSITION_FOLLOWING||c.startNode.equals(d),l=d.getPosition(c.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED||
c.endNode.equals(d),f&&l&&e.push(d);return e}};CKEDITOR.dom.range.mergeRanges=function(a){return CKEDITOR.tools.array.reduce(a,function(a,b){var d=a[a.length-1],c=!1;b=b.clone();b.enlarge(CKEDITOR.ENLARGE_ELEMENT);if(d){var g=new CKEDITOR.dom.range(b.root),c=new CKEDITOR.dom.walker(g),e=CKEDITOR.dom.walker.whitespaces();g.setStart(d.endContainer,d.endOffset);g.setEnd(b.startContainer,b.startOffset);for(g=c.next();e(g)||b.endContainer.equals(g);)g=c.next();c=!g}c?d.setEnd(b.endContainer,b.endOffset):
a.push(b);return a},[])}}(),CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,"use strict",function(){function a(a){1>arguments.length||(this.range=a,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||
(this._={}))}function f(a){var b=[];a.forEach(function(a){if("true"==a.getAttribute("contenteditable"))return b.push(a),!1},CKEDITOR.NODE_ELEMENT,!0);return b}function e(a,b,d,c){a:{null==c&&(c=f(d));for(var k;k=c.shift();)if(k.getDtd().p){c={element:k,remaining:c};break a}c=null}if(!c)return 0;if((k=CKEDITOR.filter.instances[c.element.data("cke-filter")])&&!k.check(b))return e(a,b,d,c.remaining);b=new CKEDITOR.dom.range(c.element);b.selectNodeContents(c.element);b=b.createIterator();b.enlargeBr=
a.enlargeBr;b.enforceRealBlocks=a.enforceRealBlocks;b.activeFilter=b.filter=k;a._.nestedEditable={element:c.element,container:d,remaining:c.remaining,iterator:b};return 1}function b(a,b,d){if(!b)return!1;a=a.clone();a.collapse(!d);return a.checkBoundaryOfElement(b,d?CKEDITOR.START:CKEDITOR.END)}var c=/^[\r\n\t ]+$/,k=CKEDITOR.dom.walker.bookmark(!1,!0),l=CKEDITOR.dom.walker.whitespaces(!0),m=function(a){return k(a)&&l(a)},d={dd:1,dt:1,li:1};a.prototype={getNextParagraph:function(a){var g,f,l,x,r;
a=a||"p";if(this._.nestedEditable){if(g=this._.nestedEditable.iterator.getNextParagraph(a))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,g;this.activeFilter=this.filter;if(e(this,a,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(a);this._.nestedEditable=null}if(!this.range.root.getDtd()[a])return null;if(!this._.started){var p=this.range.clone();
f=p.startPath();var u=p.endPath(),z=!p.collapsed&&b(p,f.block),q=!p.collapsed&&b(p,u.block,1);p.shrink(CKEDITOR.SHRINK_ELEMENT,!0);z&&p.setStartAt(f.block,CKEDITOR.POSITION_BEFORE_END);q&&p.setEndAt(u.block,CKEDITOR.POSITION_AFTER_START);f=p.endContainer.hasAscendant("pre",!0)||p.startContainer.hasAscendant("pre",!0);p.enlarge(this.forceBrBreak&&!f||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS);p.collapsed||(f=new CKEDITOR.dom.walker(p.clone()),u=CKEDITOR.dom.walker.bookmark(!0,
!0),f.evaluator=u,this._.nextNode=f.next(),f=new CKEDITOR.dom.walker(p.clone()),f.evaluator=u,f=f.previous(),this._.lastNode=f.getNextSourceNode(!0,null,p.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&(u=this.range.clone(),u.moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),u.checkEndOfBlock()&&(u=new CKEDITOR.dom.elementPath(u.endContainer,u.root),this._.lastNode=(u.block||
u.blockLimit).getNextSourceNode(!0))),this._.lastNode&&p.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=p.document.createText(""),this._.lastNode.insertAfter(f)),p=null);this._.started=1;f=p}u=this._.nextNode;p=this._.lastNode;for(this._.nextNode=null;u;){var z=0,q=u.hasAscendant("pre"),A=u.type!=CKEDITOR.NODE_ELEMENT,y=0;if(A)u.type==CKEDITOR.NODE_TEXT&&c.test(u.getText())&&(A=0);else{var t=u.getName();if(CKEDITOR.dtd.$block[t]&&"false"==u.getAttribute("contenteditable")){g=
u;e(this,a,g);break}else if(u.isBlockBoundary(this.forceBrBreak&&!q&&{br:1})){if("br"==t)A=1;else if(!f&&!u.getChildCount()&&"hr"!=t){g=u;l=u.equals(p);break}f&&(f.setEndAt(u,CKEDITOR.POSITION_BEFORE_START),"br"!=t&&(this._.nextNode=u));z=1}else{if(u.getFirst()){f||(f=this.range.clone(),f.setStartAt(u,CKEDITOR.POSITION_BEFORE_START));u=u.getFirst();continue}A=1}}A&&!f&&(f=this.range.clone(),f.setStartAt(u,CKEDITOR.POSITION_BEFORE_START));l=(!z||A)&&u.equals(p);if(f&&!z)for(;!u.getNext(m)&&!l;){t=
u.getParent();if(t.isBlockBoundary(this.forceBrBreak&&!q&&{br:1})){z=1;A=0;l||t.equals(p);f.setEndAt(t,CKEDITOR.POSITION_BEFORE_END);break}u=t;A=1;l=u.equals(p);y=1}A&&f.setEndAt(u,CKEDITOR.POSITION_AFTER_END);u=this._getNextSourceNode(u,y,p);if((l=!u)||z&&f)break}if(!g){if(!f)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;g=new CKEDITOR.dom.elementPath(f.startContainer,f.root);u=g.blockLimit;z={div:1,th:1,td:1};g=g.block;!g&&u&&!this.enforceRealBlocks&&z[u.getName()]&&
f.checkStartOfBlock()&&f.checkEndOfBlock()&&!u.equals(f.root)?g=u:!g||this.enforceRealBlocks&&g.is(d)?(g=this.range.document.createElement(a),f.extractContents().appendTo(g),g.trim(),f.insertNode(g),x=r=!0):"li"!=g.getName()?f.checkStartOfBlock()&&f.checkEndOfBlock()||(g=g.clone(!1),f.extractContents().appendTo(g),g.trim(),r=f.splitBlock(),x=!r.wasStartOfBlock,r=!r.wasEndOfBlock,f.insertNode(g)):l||(this._.nextNode=g.equals(p)?null:this._getNextSourceNode(f.getBoundaryNodes().endNode,1,p))}x&&(x=
g.getPrevious())&&x.type==CKEDITOR.NODE_ELEMENT&&("br"==x.getName()?x.remove():x.getLast()&&"br"==x.getLast().$.nodeName.toLowerCase()&&x.getLast().remove());r&&(x=g.getLast())&&x.type==CKEDITOR.NODE_ELEMENT&&"br"==x.getName()&&(!CKEDITOR.env.needsBrFiller||x.getPrevious(k)||x.getNext(k))&&x.remove();this._.nextNode||(this._.nextNode=l||g.equals(p)||!p?null:this._getNextSourceNode(g,1,p));return g},_getNextSourceNode:function(a,b,d){function c(a){return!(a.equals(d)||a.equals(e))}var e=this.range.root;
for(a=a.getNextSourceNode(b,null,c);!k(a);)a=a.getNextSourceNode(b,null,c);return a}};CKEDITOR.dom.range.prototype.createIterator=function(){return new a(this)}}(),CKEDITOR.command=function(a,f){this.uiItems=[];this.exec=function(b){if(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())return!1;this.editorFocus&&a.focus();return!1===this.fire("exec")?!0:!1!==f.exec.call(this,a,b)};this.refresh=function(a,c){if(!this.readOnly&&a.readOnly)return!0;if(this.context&&!c.isContextFor(this.context)||
!this.checkAllowed(!0))return this.disable(),!0;this.startDisabled||this.enable();this.modes&&!this.modes[a.mode]&&this.disable();return!1===this.fire("refresh",{editor:a,path:c})?!0:f.refresh&&!1!==f.refresh.apply(this,arguments)};var e;this.checkAllowed=function(b){return b||"boolean"!=typeof e?e=a.activeFilter.checkFeature(this):e};CKEDITOR.tools.extend(this,f,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!f.context,state:CKEDITOR.TRISTATE_DISABLED});CKEDITOR.event.call(this)},CKEDITOR.command.prototype=
{enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&"undefined"!=typeof this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(a){if(this.state==a||a!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed())return!1;this.previousState=this.state;this.state=a;this.fire("state");return!0},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):
this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"\x3c!DOCTYPE html\x3e",bodyId:"",bodyClass:"",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl("contents.css"),
extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,useComputedState:!0,width:"",baseFloatZIndex:1E4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){function a(a,b,d,c,g){var e,h;a=[];for(e in b){h=b[e];h="boolean"==typeof h?{}:"function"==typeof h?{match:h}:J(h);"$"!=e.charAt(0)&&(h.elements=e);d&&(h.featureName=d.toLowerCase());var k=h;k.elements=l(k.elements,/\s+/)||null;k.propertiesOnly=k.propertiesOnly||!0===k.elements;var f=/\s*,\s*/,n=void 0;for(n in M){k[n]=
l(k[n],f)||null;var m=k,N=H[n],u=l(k[H[n]],f),L=k[n],v=[],I=!0,q=void 0;u?I=!1:u={};for(q in L)"!"==q.charAt(0)&&(q=q.slice(1),v.push(q),u[q]=!0,I=!1);for(;q=v.pop();)L[q]=L["!"+q],delete L["!"+q];m[N]=(I?!1:u)||null}k.match=k.match||null;c.push(h);a.push(h)}b=g.elements;g=g.generic;var w;d=0;for(c=a.length;d<c;++d){e=J(a[d]);h=!0===e.classes||!0===e.styles||!0===e.attributes;k=e;n=N=f=void 0;for(f in M)k[f]=z(k[f]);m=!0;for(n in H){f=H[n];N=k[f];u=[];L=void 0;for(L in N)-1<L.indexOf("*")?u.push(new RegExp("^"+
L.replace(/\*/g,".*")+"$")):u.push(L);N=u;N.length&&(k[f]=N,m=!1)}k.nothingRequired=m;k.noProperties=!(k.attributes||k.classes||k.styles);if(!0===e.elements||null===e.elements)g[h?"unshift":"push"](e);else for(w in k=e.elements,delete e.elements,k)if(b[w])b[w][h?"unshift":"push"](e);else b[w]=[e]}}function f(a,b,d,c){if(!a.match||a.match(b))if(c||m(a,b))if(a.propertiesOnly||(d.valid=!0),d.allAttributes||(d.allAttributes=e(a.attributes,b.attributes,d.validAttributes)),d.allStyles||(d.allStyles=e(a.styles,
b.styles,d.validStyles)),!d.allClasses){a=a.classes;b=b.classes;c=d.validClasses;if(a)if(!0===a)a=!0;else{for(var g=0,h=b.length,k;g<h;++g)k=b[g],c[k]||(c[k]=a(k));a=!1}else a=!1;d.allClasses=a}}function e(a,b,d){if(!a)return!1;if(!0===a)return!0;for(var c in b)d[c]||(d[c]=a(c));return!1}function b(a,b,d){if(!a.match||a.match(b)){if(a.noProperties)return!1;d.hadInvalidAttribute=c(a.attributes,b.attributes)||d.hadInvalidAttribute;d.hadInvalidStyle=c(a.styles,b.styles)||d.hadInvalidStyle;a=a.classes;
b=b.classes;if(a){for(var g=!1,e=!0===a,h=b.length;h--;)if(e||a(b[h]))b.splice(h,1),g=!0;a=g}else a=!1;d.hadInvalidClass=a||d.hadInvalidClass}}function c(a,b){if(!a)return!1;var d=!1,c=!0===a,g;for(g in b)if(c||a(g))delete b[g],d=!0;return d}function k(a,b,d){if(a.disabled||a.customConfig&&!d||!b)return!1;a._.cachedChecks={};return!0}function l(a,b){if(!a)return!1;if(!0===a)return a;if("string"==typeof a)return a=K(a),"*"==a?!0:CKEDITOR.tools.convertArrayToObject(a.split(b));if(CKEDITOR.tools.isArray(a))return a.length?
CKEDITOR.tools.convertArrayToObject(a):!1;var d={},c=0,g;for(g in a)d[g]=a[g],c++;return c?d:!1}function m(a,b){if(a.nothingRequired)return!0;var c,g,e,h;if(e=a.requiredClasses)for(h=b.classes,c=0;c<e.length;++c)if(g=e[c],"string"==typeof g){if(-1==CKEDITOR.tools.indexOf(h,g))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(h,g))return!1;return d(b.styles,a.requiredStyles)&&d(b.attributes,a.requiredAttributes)}function d(a,b){if(!b)return!0;for(var d=0,c;d<b.length;++d)if(c=b[d],"string"==
typeof c){if(!(c in a))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(a,c))return!1;return!0}function h(a){if(!a)return{};a=a.split(/\s*,\s*/).sort();for(var b={};a.length;)b[a.shift()]="cke-test";return b}function g(a){var b,d,c,g,e={},h=1;for(a=K(a);b=a.match(E);)(d=b[2])?(c=n(d,"styles"),g=n(d,"attrs"),d=n(d,"classes")):c=g=d=null,e["$"+h++]={elements:b[1],classes:d,styles:c,attributes:g},a=a.slice(b[0].length);return e}function n(a,b){var d=a.match(P[b]);return d?K(d[1]):null}
function w(a){var b=a.styleBackup=a.attributes.style,d=a.classBackup=a.attributes["class"];a.styles||(a.styles=CKEDITOR.tools.parseCssText(b||"",1));a.classes||(a.classes=d?d.split(/\s+/):[])}function x(a,d,c,g){var e=0,h;g.toHtml&&(d.name=d.name.replace(L,"$1"));if(g.doCallbacks&&a.elementCallbacks){a:{h=a.elementCallbacks;for(var k=0,l=h.length,n;k<l;++k)if(n=h[k](d)){h=n;break a}h=void 0}if(h)return h}if(g.doTransform&&(h=a._.transformations[d.name])){w(d);for(k=0;k<h.length;++k)t(a,d,h[k]);p(d)}if(g.doFilter){a:{k=
d.name;l=a._;a=l.allowedRules.elements[k];h=l.allowedRules.generic;k=l.disallowedRules.elements[k];l=l.disallowedRules.generic;n=g.skipRequired;var m={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1},v,q;if(a||h){w(d);if(k)for(v=0,q=k.length;v<q;++v)if(!1===b(k[v],d,m)){a=null;break a}if(l)for(v=0,q=l.length;v<q;++v)b(l[v],d,m);if(a)for(v=0,q=a.length;v<q;++v)f(a[v],d,m,n);if(h)for(v=
0,q=h.length;v<q;++v)f(h[v],d,m,n);a=m}else a=null}if(!a||!a.valid)return c.push(d),1;q=a.validAttributes;var F=a.validStyles;h=a.validClasses;var k=d.attributes,z=d.styles,l=d.classes;n=d.classBackup;var D=d.styleBackup,I,J,K=[],m=[],C=/^data-cke-/;v=!1;delete k.style;delete k["class"];delete d.classBackup;delete d.styleBackup;if(!a.allAttributes)for(I in k)q[I]||(C.test(I)?I==(J=I.replace(/^data-cke-saved-/,""))||q[J]||(delete k[I],v=!0):(delete k[I],v=!0));if(!a.allStyles||a.hadInvalidStyle){for(I in z)a.allStyles||
F[I]?K.push(I+":"+z[I]):v=!0;K.length&&(k.style=K.sort().join("; "))}else D&&(k.style=D);if(!a.allClasses||a.hadInvalidClass){for(I=0;I<l.length;++I)(a.allClasses||h[l[I]])&&m.push(l[I]);m.length&&(k["class"]=m.sort().join(" "));n&&m.length<n.split(/\s+/).length&&(v=!0)}else n&&(k["class"]=n);v&&(e=1);if(!g.skipFinalValidation&&!u(d))return c.push(d),1}g.toHtml&&(d.name=d.name.replace(N,"cke:$1"));return e}function r(a){var b=[],d;for(d in a)-1<d.indexOf("*")&&b.push(d.replace(/\*/g,".*"));return b.length?
new RegExp("^(?:"+b.join("|")+")$"):null}function p(a){var b=a.attributes,d;delete b.style;delete b["class"];if(d=CKEDITOR.tools.writeCssText(a.styles,!0))b.style=d;a.classes.length&&(b["class"]=a.classes.sort().join(" "))}function u(a){switch(a.name){case "a":if(!(a.children.length||a.attributes.name||a.attributes.id))return!1;break;case "img":if(!a.attributes.src)return!1}return!0}function z(a){if(!a)return!1;if(!0===a)return!0;var b=r(a);return function(d){return d in a||b&&d.match(b)}}function q(){return new CKEDITOR.htmlParser.element("br")}
function A(a){return a.type==CKEDITOR.NODE_ELEMENT&&("br"==a.name||F.$block[a.name])}function y(a,b,d){var c=a.name;if(F.$empty[c]||!a.children.length)"hr"==c&&"br"==b?a.replaceWith(q()):(a.parent&&d.push({check:"it",el:a.parent}),a.remove());else if(F.$block[c]||"tr"==c)if("br"==b)a.previous&&!A(a.previous)&&(b=q(),b.insertBefore(a)),a.next&&!A(a.next)&&(b=q(),b.insertAfter(a)),a.replaceWithChildren();else{var c=a.children,g;b:{g=F[b];for(var e=0,h=c.length,k;e<h;++e)if(k=c[e],k.type==CKEDITOR.NODE_ELEMENT&&
!g[k.name]){g=!1;break b}g=!0}if(g)a.name=b,a.attributes={},d.push({check:"parent-down",el:a});else{g=a.parent;for(var e=g.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==g.name,f,l,h=c.length;0<h;)k=c[--h],e&&(k.type==CKEDITOR.NODE_TEXT||k.type==CKEDITOR.NODE_ELEMENT&&F.$inline[k.name])?(f||(f=new CKEDITOR.htmlParser.element(b),f.insertAfter(a),d.push({check:"parent-down",el:f})),f.add(k,0)):(f=null,l=F[g.name]||F.span,k.insertAfter(a),g.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||k.type!=CKEDITOR.NODE_ELEMENT||
l[k.name]||d.push({check:"el-up",el:k}));a.remove()}}else c in{style:1,script:1}?a.remove():(a.parent&&d.push({check:"it",el:a.parent}),a.replaceWithChildren())}function t(a,b,d){var c,g;for(c=0;c<d.length;++c)if(g=d[c],!(g.check&&!a.check(g.check,!1)||g.left&&!g.left(b))){g.right(b,O);break}}function v(a,b){var d=b.getDefinition(),c=d.attributes,g=d.styles,e,h,k,f;if(a.name!=d.element)return!1;for(e in c)if("class"==e)for(d=c[e].split(/\s+/),k=a.classes.join("|");f=d.pop();){if(-1==k.indexOf(f))return!1}else if(a.attributes[e]!=
c[e])return!1;for(h in g)if(a.styles[h]!=g[h])return!1;return!0}function B(a,b){var d,c;"string"==typeof a?d=a:a instanceof CKEDITOR.style?c=a:(d=a[0],c=a[1]);return[{element:d,left:c,right:function(a,d){d.transform(a,b)}}]}function D(a){return function(b){return v(b,a)}}function C(a){return function(b,d){d[a](b)}}var F=CKEDITOR.dtd,J=CKEDITOR.tools.copy,K=CKEDITOR.tools.trim,G=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2;CKEDITOR.filter=function(a,b){this.allowedContent=[];this.disallowedContent=
[];this.elementCallbacks=null;this.disabled=!1;this.editor=null;this.id=CKEDITOR.tools.getNextNumber();this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{},cachedChecks:{}};CKEDITOR.filter.instances[this.id]=this;var d=this.editor=a instanceof CKEDITOR.editor?a:null;if(d&&!b){this.customConfig=!0;var c=d.config.allowedContent;!0===c?this.disabled=!0:(c||(this.customConfig=!1),this.allow(c,"config",1),this.allow(d.config.extraAllowedContent,
"extra",1),this.allow(G[d.enterMode]+" "+G[d.shiftEnterMode],"default",1),this.disallow(d.config.disallowedContent))}else this.customConfig=!1,this.allow(b||a,"default",1)};CKEDITOR.filter.instances={};CKEDITOR.filter.prototype={allow:function(b,d,c){if(!k(this,b,c))return!1;var e,h;if("string"==typeof b)b=g(b);else if(b instanceof CKEDITOR.style){if(b.toAllowedContentRules)return this.allow(b.toAllowedContentRules(this.editor),d,c);e=b.getDefinition();b={};c=e.attributes;b[e.element]=e={styles:e.styles,
requiredStyles:e.styles&&CKEDITOR.tools.object.keys(e.styles)};c&&(c=J(c),e.classes=c["class"]?c["class"].split(/\s+/):null,e.requiredClasses=e.classes,delete c["class"],e.attributes=c,e.requiredAttributes=c&&CKEDITOR.tools.object.keys(c))}else if(CKEDITOR.tools.isArray(b)){for(e=0;e<b.length;++e)h=this.allow(b[e],d,c);return h}a(this,b,d,this.allowedContent,this._.allowedRules);return!0},applyTo:function(a,b,d,c){if(this.disabled)return!1;var g=this,e=[],h=this.editor&&this.editor.config.protectedSource,
k,f=!1,l={doFilter:!d,doTransform:!0,doCallbacks:!0,toHtml:b};a.forEach(function(a){if(a.type==CKEDITOR.NODE_ELEMENT){if("off"==a.attributes["data-cke-filter"])return!1;if(!b||"span"!=a.name||!~CKEDITOR.tools.object.keys(a.attributes).join("|").indexOf("data-cke-"))if(k=x(g,a,e,l),k&1)f=!0;else if(k&2)return!1}else if(a.type==CKEDITOR.NODE_COMMENT&&a.value.match(/^\{cke_protected\}(?!\{C\})/)){var d;a:{var c=decodeURIComponent(a.value.replace(/^\{cke_protected\}/,""));d=[];var n,m,N;if(h)for(m=0;m<
h.length;++m)if((N=c.match(h[m]))&&N[0].length==c.length){d=!0;break a}c=CKEDITOR.htmlParser.fragment.fromHtml(c);1==c.children.length&&(n=c.children[0]).type==CKEDITOR.NODE_ELEMENT&&x(g,n,d,l);d=!d.length}d||e.push(a)}},null,!0);e.length&&(f=!0);var n;a=[];c=G[c||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];for(var m;d=e.pop();)d.type==CKEDITOR.NODE_ELEMENT?y(d,c,a):d.remove();for(;n=a.pop();)if(d=n.el,d.parent)switch(m=F[d.parent.name]||F.span,n.check){case "it":F.$removeEmpty[d.name]&&
!d.children.length?y(d,c,a):u(d)||y(d,c,a);break;case "el-up":d.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||m[d.name]||y(d,c,a);break;case "parent-down":d.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||m[d.name]||y(d.parent,c,a)}return f},checkFeature:function(a){if(this.disabled||!a)return!0;a.toFeature&&(a=a.toFeature(this.editor));return!a.requiredContent||this.check(a.requiredContent)},disable:function(){this.disabled=!0},disallow:function(b){if(!k(this,b,!0))return!1;"string"==typeof b&&(b=
g(b));a(this,b,null,this.disallowedContent,this._.disallowedRules);return!0},addContentForms:function(a){if(!this.disabled&&a){var b,d,c=[],g;for(b=0;b<a.length&&!g;++b)d=a[b],("string"==typeof d||d instanceof CKEDITOR.style)&&this.check(d)&&(g=d);if(g){for(b=0;b<a.length;++b)c.push(B(a[b],g));this.addTransformations(c)}}},addElementCallback:function(a){this.elementCallbacks||(this.elementCallbacks=[]);this.elementCallbacks.push(a)},addFeature:function(a){if(this.disabled||!a)return!0;a.toFeature&&
(a=a.toFeature(this.editor));this.allow(a.allowedContent,a.name);this.addTransformations(a.contentTransformations);this.addContentForms(a.contentForms);return a.requiredContent&&(this.customConfig||this.disallowedContent.length)?this.check(a.requiredContent):!0},addTransformations:function(a){var b,d;if(!this.disabled&&a){var c=this._.transformations,g;for(g=0;g<a.length;++g){b=a[g];var e=void 0,h=void 0,k=void 0,f=void 0,l=void 0,n=void 0;d=[];for(h=0;h<b.length;++h)k=b[h],"string"==typeof k?(k=
k.split(/\s*:\s*/),f=k[0],l=null,n=k[1]):(f=k.check,l=k.left,n=k.right),e||(e=k,e=e.element?e.element:f?f.match(/^([a-z0-9]+)/i)[0]:e.left.getDefinition().element),l instanceof CKEDITOR.style&&(l=D(l)),d.push({check:f==e?null:f,left:l,right:"string"==typeof n?C(n):n});b=e;c[b]||(c[b]=[]);c[b].push(d)}}},check:function(a,b,d){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(a)){for(var c=a.length;c--;)if(this.check(a[c],b,d))return!0;return!1}var e,k;if("string"==typeof a){k=a+"\x3c"+(!1===b?"0":
"1")+(d?"1":"0")+"\x3e";if(k in this._.cachedChecks)return this._.cachedChecks[k];e=g(a).$1;var f=e.styles,c=e.classes;e.name=e.elements;e.classes=c=c?c.split(/\s*,\s*/):[];e.styles=h(f);e.attributes=h(e.attributes);e.children=[];c.length&&(e.attributes["class"]=c.join(" "));f&&(e.attributes.style=CKEDITOR.tools.writeCssText(e.styles))}else e=a.getDefinition(),f=e.styles,c=e.attributes||{},f&&!CKEDITOR.tools.isEmpty(f)?(f=J(f),c.style=CKEDITOR.tools.writeCssText(f,!0)):f={},e={name:e.element,attributes:c,
classes:c["class"]?c["class"].split(/\s+/):[],styles:f,children:[]};var f=CKEDITOR.tools.clone(e),l=[],n;if(!1!==b&&(n=this._.transformations[e.name])){for(c=0;c<n.length;++c)t(this,e,n[c]);p(e)}x(this,f,l,{doFilter:!0,doTransform:!1!==b,skipRequired:!d,skipFinalValidation:!d});0<l.length?d=!1:((b=e.attributes["class"])&&(e.attributes["class"]=e.attributes["class"].split(" ").sort().join(" ")),d=CKEDITOR.tools.objectCompare(e.attributes,f.attributes,!0),b&&(e.attributes["class"]=b));"string"==typeof a&&
(this._.cachedChecks[k]=d);return d},getAllowedEnterMode:function(){var a=["p","div","br"],b={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(d,c){var g=a.slice(),e;if(this.check(G[d]))return d;for(c||(g=g.reverse());e=g.pop();)if(this.check(e))return b[e];return CKEDITOR.ENTER_BR}}(),clone:function(){var a=new CKEDITOR.filter,b=CKEDITOR.tools.clone;a.allowedContent=b(this.allowedContent);a._.allowedRules=b(this._.allowedRules);a.disallowedContent=b(this.disallowedContent);
a._.disallowedRules=b(this._.disallowedRules);a._.transformations=b(this._.transformations);a.disabled=this.disabled;a.editor=this.editor;return a},destroy:function(){delete CKEDITOR.filter.instances[this.id];delete this._;delete this.allowedContent;delete this.disallowedContent}};var M={styles:1,attributes:1,classes:1},H={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},E=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,
P={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},L=/^cke:(object|embed|param)$/,N=/^(object|embed|param)$/,O;O=CKEDITOR.filter.transformationsTools={sizeToStyle:function(a){this.lengthToStyle(a,"width");this.lengthToStyle(a,"height")},sizeToAttribute:function(a){this.lengthToAttribute(a,"width");this.lengthToAttribute(a,"height")},lengthToStyle:function(a,b,d){d=d||b;if(!(d in a.styles)){var c=a.attributes[b];c&&(/^\d+$/.test(c)&&(c+="px"),a.styles[d]=c)}delete a.attributes[b]},
lengthToAttribute:function(a,b,d){d=d||b;if(!(d in a.attributes)){var c=a.styles[b],g=c&&c.match(/^(\d+)(?:\.\d*)?px$/);g?a.attributes[d]=g[1]:"cke-test"==c&&(a.attributes[d]="cke-test")}delete a.styles[b]},alignmentToStyle:function(a){if(!("float"in a.styles)){var b=a.attributes.align;if("left"==b||"right"==b)a.styles["float"]=b}delete a.attributes.align},alignmentToAttribute:function(a){if(!("align"in a.attributes)){var b=a.styles["float"];if("left"==b||"right"==b)a.attributes.align=b}delete a.styles["float"]},
splitBorderShorthand:function(a){if(a.styles.border){var b=CKEDITOR.tools.style.parse.border(a.styles.border);b.color&&(a.styles["border-color"]=b.color);b.style&&(a.styles["border-style"]=b.style);b.width&&(a.styles["border-width"]=b.width);delete a.styles.border}},listTypeToStyle:function(a){if(a.attributes.type)switch(a.attributes.type){case "a":a.styles["list-style-type"]="lower-alpha";break;case "A":a.styles["list-style-type"]="upper-alpha";break;case "i":a.styles["list-style-type"]="lower-roman";
break;case "I":a.styles["list-style-type"]="upper-roman";break;case "1":a.styles["list-style-type"]="decimal";break;default:a.styles["list-style-type"]=a.attributes.type}},splitMarginShorthand:function(a){function b(c){a.styles["margin-top"]=d[c[0]];a.styles["margin-right"]=d[c[1]];a.styles["margin-bottom"]=d[c[2]];a.styles["margin-left"]=d[c[3]]}if(a.styles.margin){var d=a.styles.margin.match(/(auto|0|(?:\-?[\.\d]+(?:\w+|%)))/g)||["0px"];switch(d.length){case 1:b([0,0,0,0]);break;case 2:b([0,1,0,
1]);break;case 3:b([0,1,2,1]);break;case 4:b([0,1,2,3])}delete a.styles.margin}},matchesStyle:v,transform:function(a,b){if("string"==typeof b)a.name=b;else{var d=b.getDefinition(),c=d.styles,g=d.attributes,e,h,k,f;a.name=d.element;for(e in g)if("class"==e)for(d=a.classes.join("|"),k=g[e].split(/\s+/);f=k.pop();)-1==d.indexOf(f)&&a.classes.push(f);else a.attributes[e]=g[e];for(h in c)a.styles[h]=c[h]}}}}(),function(){CKEDITOR.focusManager=function(a){if(a.focusManager)return a.focusManager;this.hasFocus=
!1;this.currentActive=null;this._={editor:a};return this};CKEDITOR.focusManager._={blurDelay:200};CKEDITOR.focusManager.prototype={focus:function(a){this._.timer&&clearTimeout(this._.timer);a&&(this.currentActive=a);this.hasFocus||this._.locked||((a=CKEDITOR.currentInstance)&&a.focusManager.blur(1),this.hasFocus=!0,(a=this._.editor.container)&&a.addClass("cke_focus"),this._.editor.fire("focus"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(a){function f(){if(this.hasFocus){this.hasFocus=
!1;var a=this._.editor.container;a&&a.removeClass("cke_focus");this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var e=CKEDITOR.focusManager._.blurDelay;a||!e?f.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer;f.call(this)},e,this)}},add:function(a,f){var e=a.getCustomData("focusmanager");if(!e||e!=this){e&&e.remove(a);var e="focus",b="blur";f&&(CKEDITOR.env.ie?(e="focusin",b="focusout"):CKEDITOR.event.useCapture=1);var c={blur:function(){a.equals(this.currentActive)&&
this.blur()},focus:function(){this.focus(a)}};a.on(e,c.focus,this);a.on(b,c.blur,this);f&&(CKEDITOR.event.useCapture=0);a.setCustomData("focusmanager",this);a.setCustomData("focusmanager_handlers",c)}},remove:function(a){a.removeCustomData("focusmanager");var f=a.removeCustomData("focusmanager_handlers");a.removeListener("blur",f.blur);a.removeListener("focus",f.focus)}}}(),CKEDITOR.keystrokeHandler=function(a){if(a.keystrokeHandler)return a.keystrokeHandler;this.keystrokes={};this.blockedKeystrokes=
{};this._={editor:a};return this},function(){var a,f=function(b){b=b.data;var c=b.getKeystroke(),e=this.keystrokes[c],f=this._.editor;a=!1===f.fire("key",{keyCode:c,domEvent:b});a||(e&&(a=!1!==f.execCommand(e,{from:"keystrokeHandler"})),a||(a=!!this.blockedKeystrokes[c]));a&&b.preventDefault(!0);return!a},e=function(b){a&&(a=!1,b.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(a){a.on("keydown",f,this);if(CKEDITOR.env.gecko&&CKEDITOR.env.mac)a.on("keypress",e,this)}}}(),
function(){CKEDITOR.lang={languages:{af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(a,f,e){a&&CKEDITOR.lang.languages[a]||
(a=this.detect(f,a));var b=this;f=function(){b[a].dir=b.rtl[a]?"rtl":"ltr";e(a,b[a])};this[a]?f():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+a+".js"),f,this)},detect:function(a,f){var e=this.languages;f=f||navigator.userLanguage||navigator.language||a;var b=f.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),c=b[1],b=b[2];e[c+"-"+b]?c=c+"-"+b:e[c]||(c=null);CKEDITOR.lang.detect=c?function(){return c}:function(a){return a};return c||a}}}(),CKEDITOR.scriptLoader=function(){var a={},f={};return{load:function(e,
b,c,k){var l="string"==typeof e;l&&(e=[e]);c||(c=CKEDITOR);var m=e.length,d=m,h=[],g=[],n=function(a){b&&(l?b.call(c,a):b.call(c,h,g))};if(0===d)n(!0);else{var w=function(a,b){(b?h:g).push(a);0>=--d&&(k&&CKEDITOR.document.getDocumentElement().removeStyle("cursor"),n(b))},x=function(b,d){a[b]=1;var c=f[b];delete f[b];for(var g=0;g<c.length;g++)c[g](b,d)},r=function(d){if(a[d])w(d,!0);else{var c=f[d]||(f[d]=[]);c.push(w);if(!(1<c.length)){var g=new CKEDITOR.dom.element("script");g.setAttributes({type:"text/javascript",
src:d});b&&(CKEDITOR.env.ie&&(8>=CKEDITOR.env.version||CKEDITOR.env.ie9Compat)?g.$.onreadystatechange=function(){if("loaded"==g.$.readyState||"complete"==g.$.readyState)g.$.onreadystatechange=null,x(d,!0)}:(g.$.onload=function(){setTimeout(function(){g.$.onload=null;g.$.onerror=null;x(d,!0)},0)},g.$.onerror=function(){g.$.onload=null;g.$.onerror=null;x(d,!1)}));g.appendTo(CKEDITOR.document.getHead())}}};k&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var p=0;p<m;p++)r(e[p])}},
queue:function(){function a(){var c;(c=b[0])&&this.load(c.scriptUrl,c.callback,CKEDITOR,0)}var b=[];return function(c,k){var f=this;b.push({scriptUrl:c,callback:function(){k&&k.apply(this,arguments);b.shift();a.call(f)}});1==b.length&&a.call(this)}}()}}(),CKEDITOR.resourceManager=function(a,f){this.basePath=a;this.fileName=f;this.registered={};this.loaded={};this.externals={};this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(a,f){if(this.registered[a])throw Error('[CKEDITOR.resourceManager.add] The resource name "'+
a+'" is already registered.');var e=this.registered[a]=f||{};e.name=a;e.path=this.getPath(a);CKEDITOR.fire(a+CKEDITOR.tools.capitalize(this.fileName)+"Ready",e);return this.get(a)},get:function(a){return this.registered[a]||null},getPath:function(a){var f=this.externals[a];return CKEDITOR.getUrl(f&&f.dir||this.basePath+a+"/")},getFilePath:function(a){var f=this.externals[a];return CKEDITOR.getUrl(this.getPath(a)+(f?f.file:this.fileName+".js"))},addExternal:function(a,f,e){e||(f=f.replace(/[^\/]+$/,
function(a){e=a;return""}));e=e||this.fileName+".js";a=a.split(",");for(var b=0;b<a.length;b++)this.externals[a[b]]={dir:f,file:e}},load:function(a,f,e){CKEDITOR.tools.isArray(a)||(a=a?[a]:[]);for(var b=this.loaded,c=this.registered,k=[],l={},m={},d=0;d<a.length;d++){var h=a[d];if(h)if(b[h]||c[h])m[h]=this.get(h);else{var g=this.getFilePath(h);k.push(g);g in l||(l[g]=[]);l[g].push(h)}}CKEDITOR.scriptLoader.load(k,function(a,d){if(d.length)throw Error('[CKEDITOR.resourceManager.load] Resource name "'+
l[d[0]].join(",")+'" was not found at "'+d[0]+'".');for(var c=0;c<a.length;c++)for(var g=l[a[c]],h=0;h<g.length;h++){var k=g[h];m[k]=this.get(k);b[k]=1}f.call(e,m)},this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(a){var f={};return function(e,b,c){var k={},l=function(e){a.call(this,e,function(a){CKEDITOR.tools.extend(k,a);var e=[],g;for(g in a){var n=a[g],m=n&&n.requires;if(!f[g]){if(n.icons)for(var x=
n.icons.split(","),r=x.length;r--;)CKEDITOR.skin.addIcon(x[r],n.path+"icons/"+(CKEDITOR.env.hidpi&&n.hidpi?"hidpi/":"")+x[r]+".png");n.isSupportedEnvironment=n.isSupportedEnvironment||function(){return!0};f[g]=1}if(m)for(m.split&&(m=m.split(",")),n=0;n<m.length;n++)k[m[n]]||e.push(m[n])}if(e.length)l.call(this,e);else{for(g in k)n=k[g],n.onLoad&&!n.onLoad._called&&(!1===n.onLoad()&&delete k[g],n.onLoad._called=1);b&&b.call(c||window,k)}},this)};l.call(this,e)}}),CKEDITOR.plugins.setLang=function(a,
f,e){var b=this.get(a);a=b.langEntries||(b.langEntries={});b=b.lang||(b.lang=[]);b.split&&(b=b.split(","));-1==CKEDITOR.tools.indexOf(b,f)&&b.push(f);a[f]=e},CKEDITOR.ui=function(a){if(a.ui)return a.ui;this.items={};this.instances={};this.editor=a;this._={handlers:{}};return this},CKEDITOR.ui.prototype={add:function(a,f,e){e.name=a.toLowerCase();var b=this.items[a]={type:f,command:e.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(b,e)},get:function(a){return this.instances[a]},
create:function(a){var f=this.items[a],e=f&&this._.handlers[f.type],b=f&&f.command&&this.editor.getCommand(f.command),e=e&&e.create.apply(this,f.args);this.instances[a]=e;b&&b.uiItems.push(e);e&&!e.type&&(e.type=f.type);return e},addHandler:function(a,f){this._.handlers[a]=f},space:function(a){return CKEDITOR.document.getById(this.spaceId(a))},spaceId:function(a){return this.editor.id+"_"+a}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function a(a,d,c){CKEDITOR.event.call(this);a=a&&CKEDITOR.tools.clone(a);
if(void 0!==d){if(!(d instanceof CKEDITOR.dom.element))throw Error("Expect element of type CKEDITOR.dom.element.");if(!c)throw Error("One of the element modes must be specified.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&c==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");if(!e(d,c))throw Error('The specified element mode is not supported on element: "'+d.getName()+'".');this.element=d;this.elementMode=c;this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&
(d.getId()||d.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={};this.commands={};this.templates={};this.name=this.name||f();this.id=CKEDITOR.tools.getNextId();this.status="unloaded";this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config);this.ui=new CKEDITOR.ui(this);this.focusManager=new CKEDITOR.focusManager(this);this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this);this.on("readOnly",b);this.on("selectionChange",function(a){k(this,a.data.path)});this.on("activeFilterChange",
function(){k(this,this.elementPath(),!0)});this.on("mode",b);CKEDITOR.dom.selection.setupEditorOptimization(this);this.on("instanceReady",function(){if(this.config.startupFocus){if("end"===this.config.startupFocus){var a=this.createRange();a.selectNodeContents(this.editable());a.shrink(CKEDITOR.SHRINK_ELEMENT,!0);a.collapse();this.getSelection().selectRanges([a])}this.focus()}});CKEDITOR.fire("instanceCreated",null,this);CKEDITOR.add(this);CKEDITOR.tools.setTimeout(function(){this.isDestroyed()||
this.isDetached()||m(this,a)},0,this)}function f(){do var a="editor"+ ++r;while(CKEDITOR.instances[a]);return a}function e(a,b){return b==CKEDITOR.ELEMENT_MODE_INLINE?a.is(CKEDITOR.dtd.$editable)||a.is("textarea"):b==CKEDITOR.ELEMENT_MODE_REPLACE?!a.is(CKEDITOR.dtd.$nonBodyContent):1}function b(){var a=this.commands,b;for(b in a)c(this,a[b])}function c(a,b){b[b.startDisabled?"disable":a.readOnly&&!b.readOnly?"disable":b.modes[a.mode]?"enable":"disable"]()}function k(a,b,d){if(b){var c,g,e=a.commands;
for(g in e)c=e[g],(d||c.contextSensitive)&&c.refresh(a,b)}}function l(a){var b=a.config.customConfig;if(!b)return!1;var b=CKEDITOR.getUrl(b),d=p[b]||(p[b]={});d.fn?(d.fn.call(a,a.config),CKEDITOR.getUrl(a.config.customConfig)!=b&&l(a)||a.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(b,function(){d.fn=d.fn||CKEDITOR.editorConfig||function(){};l(a)});return!0}function m(a,b){a.on("customConfigLoaded",function(){if(b){if(b.on)for(var c in b.on)a.on(c,b.on[c]);CKEDITOR.tools.extend(a.config,
b,!0);delete a.config.on}c=a.config;a.readOnly=c.readOnly?!0:a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.is("textarea")?a.element.hasAttribute("disabled")||a.element.hasAttribute("readonly"):a.element.isReadOnly():a.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?a.element.hasAttribute("disabled")||a.element.hasAttribute("readonly"):!1;a.blockless=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?!(a.element.is("textarea")||CKEDITOR.dtd[a.element.getName()].p):!1;a.tabIndex=c.tabIndex||a.element&&
a.element.getAttribute("tabindex")||0;a.activeEnterMode=a.enterMode=a.blockless?CKEDITOR.ENTER_BR:c.enterMode;a.activeShiftEnterMode=a.shiftEnterMode=a.blockless?CKEDITOR.ENTER_BR:c.shiftEnterMode;c.skin&&(CKEDITOR.skinName=c.skin);a.fireOnce("configLoaded");a.dataProcessor=new CKEDITOR.htmlDataProcessor(a);a.filter=a.activeFilter=new CKEDITOR.filter(a);d(a)});b&&null!=b.customConfig&&(a.config.customConfig=b.customConfig);l(a)||a.fireOnce("customConfigLoaded")}function d(a){CKEDITOR.skin.loadPart("editor",
function(){h(a)})}function h(a){CKEDITOR.lang.load(a.config.language,a.config.defaultLanguage,function(b,d){var c=a.config.title,e=a.config.applicationTitle;a.langCode=b;a.lang=CKEDITOR.tools.prototypedCopy(d);a.title="string"==typeof c||!1===c?c:[a.lang.editor,a.name].join(", ");a.applicationTitle="string"==typeof e||!1===e?e:[a.lang.application,a.name].join(", ");a.config.contentsLangDirection||(a.config.contentsLangDirection=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.getDirection(1):
a.lang.dir);a.fire("langLoaded");g(a)})}function g(a){a.getStylesSet(function(b){a.once("loaded",function(){a.fire("stylesSet",{styles:b})},null,null,1);n(a)})}function n(a){function b(a){if(!a)return"";CKEDITOR.tools.isArray(a)&&(a=a.join(","));return a.replace(/\s/g,"")}var d=a.config,c=b(d.plugins),g=b(d.extraPlugins),e=b(d.removePlugins);if(g)var h=new RegExp("(?:^|,)(?:"+g.replace(/,/g,"|")+")(?\x3d,|$)","g"),c=c.replace(h,""),c=c+(","+g);if(e)var k=new RegExp("(?:^|,)(?:"+e.replace(/,/g,"|")+
")(?\x3d,|$)","g"),c=c.replace(k,"");CKEDITOR.env.air&&(c+=",adobeair");CKEDITOR.plugins.load(c.split(","),function(b){var c=[],g=[],e=[];a.plugins=CKEDITOR.tools.extend({},a.plugins,b);for(var h in b){var f=b[h],l=f.lang,n=null,m=f.requires,v;CKEDITOR.tools.isArray(m)&&(m=m.join(","));if(m&&(v=m.match(k)))for(;m=v.pop();)CKEDITOR.error("editor-plugin-required",{plugin:m.replace(",",""),requiredBy:h});l&&!a.lang[h]&&(l.split&&(l=l.split(",")),0<=CKEDITOR.tools.indexOf(l,a.langCode)?n=a.langCode:(n=
a.langCode.replace(/-.*/,""),n=n!=a.langCode&&0<=CKEDITOR.tools.indexOf(l,n)?n:0<=CKEDITOR.tools.indexOf(l,"en")?"en":l[0]),f.langEntries&&f.langEntries[n]?(a.lang[h]=f.langEntries[n],n=null):e.push(CKEDITOR.getUrl(f.path+"lang/"+n+".js")));g.push(n);c.push(f)}CKEDITOR.scriptLoader.load(e,function(){if(!a.isDestroyed()&&!a.isDetached()){for(var b=["beforeInit","init","afterInit"],e=0;e<b.length;e++)for(var h=0;h<c.length;h++){var k=c[h];0===e&&g[h]&&k.lang&&k.langEntries&&(a.lang[k.name]=k.langEntries[g[h]]);
if(k[b[e]])k[b[e]](a)}a.fireOnce("pluginsLoaded");d.keystrokes&&a.setKeystroke(a.config.keystrokes);for(h=0;h<a.config.blockedKeystrokes.length;h++)a.keystrokeHandler.blockedKeystrokes[a.config.blockedKeystrokes[h]]=1;a.status="loaded";a.fireOnce("loaded");CKEDITOR.fire("instanceLoaded",null,a)}})})}function w(){var a=this.element;if(a&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var b=this.getData();this.config.htmlEncodeOutput&&(b=CKEDITOR.tools.htmlEncode(b));a.is("textarea")?a.setValue(b):
a.setHtml(b);return!0}return!1}function x(a,b){function d(a){var b=a.startContainer,c=a.endContainer,g=b.is&&b.is("tr"),e=b.is&&b.is("td");a=e&&b.equals(c)&&a.endOffset===b.getChildCount();b=e&&1===b.getChildCount()&&"img"===b.getChildren().getItem(0).getName();return g||a&&!b?!0:!1}function c(a){var b=a.startContainer;return b.is("tr")?a.cloneContents():b.clone(!0)}for(var g=new CKEDITOR.dom.documentFragment,e,h,k,f=0;f<a.length;f++){var l=a[f],n=l.startContainer.getAscendant("tr",!0);d(l)?(e||(e=
n.getAscendant("table").clone(),e.append(n.getAscendant({thead:1,tbody:1,tfoot:1}).clone()),g.append(e),e=e.findOne("thead, tbody, tfoot")),h&&h.equals(n)||(h=n,k=n.clone(),e.append(k)),k.append(c(l))):g.append(l.cloneContents())}return e?g:b.getHtmlFromRange(a[0])}a.prototype=CKEDITOR.editor.prototype;CKEDITOR.editor=a;var r=0,p={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{plugins:{detectConflict:function(a,b){for(var d=0;d<b.length;d++){var c=b[d];if(this[c])return CKEDITOR.warn("editor-plugin-conflict",
{plugin:a,replacedWith:c}),!0}return!1}},addCommand:function(a,b){b.name=a.toLowerCase();var d=b instanceof CKEDITOR.command?b:new CKEDITOR.command(this,b);this.mode&&c(this,d);return this.commands[a]=d},_attachToForm:function(){function a(b){d.updateElement();d._.required&&!c.getValue()&&!1===d.fire("required")&&b.data.preventDefault()}function b(a){return!!(a&&a.call&&a.apply)}var d=this,c=d.element,g=new CKEDITOR.dom.element(c.$.form);c.is("textarea")&&g&&(g.on("submit",a),b(g.$.submit)&&(g.$.submit=
CKEDITOR.tools.override(g.$.submit,function(b){return function(){a();b.apply?b.apply(this):b()}})),d.on("destroy",function(){g.removeListener("submit",a)}))},destroy:function(a){var b=CKEDITOR.filter.instances,d=this;this.fire("beforeDestroy");!a&&w.call(this);this.editable(null);this.filter&&delete this.filter;CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(b),function(a){a=b[a];d===a.editor&&a.destroy()});delete this.activeFilter;this.status="destroyed";this.fire("destroy");this.removeAllListeners();
CKEDITOR.remove(this);CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(a){if(!a){a=this.getSelection();if(!a)return null;a=a.getStartElement()}return a?new CKEDITOR.dom.elementPath(a,this.editable()):null},createRange:function(){var a=this.editable();return a?new CKEDITOR.dom.range(a):null},execCommand:function(a,b){var d=this.getCommand(a),c={name:a,commandData:b||{},command:d};return d&&d.state!=CKEDITOR.TRISTATE_DISABLED&&!1!==this.fire("beforeCommandExec",c)&&(c.returnValue=
d.exec(c.commandData),!d.async&&!1!==this.fire("afterCommandExec",c))?c.returnValue:!1},getCommand:function(a){return this.commands[a]},getData:function(a){!a&&this.fire("beforeGetData");var b=this._.data;"string"!=typeof b&&(b=(b=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?b.is("textarea")?b.getValue():b.getHtml():"");b={dataValue:b};!a&&this.fire("getData",b);return b.dataValue},getSnapshot:function(){var a=this.fire("getSnapshot");"string"!=typeof a&&(a=(a=this.element)&&this.elementMode==
CKEDITOR.ELEMENT_MODE_REPLACE?a.is("textarea")?a.getValue():a.getHtml():"");return a},loadSnapshot:function(a){this.fire("loadSnapshot",a)},setData:function(a,b,d){var c=!0,g=b;b&&"object"==typeof b&&(d=b.internal,g=b.callback,c=!b.noSnapshot);!d&&c&&this.fire("saveSnapshot");if(g||!d)this.once("dataReady",function(a){!d&&c&&this.fire("saveSnapshot");g&&g.call(a.editor)});a={dataValue:a};!d&&this.fire("setData",a);this._.data=a.dataValue;!d&&this.fire("afterSetData",a)},setReadOnly:function(a){a=
null==a||a;this.readOnly!=a&&(this.readOnly=a,this.keystrokeHandler.blockedKeystrokes[8]=+a,this.editable().setReadOnly(a),this.fire("readOnly"))},insertHtml:function(a,b,d){this.fire("insertHtml",{dataValue:a,mode:b,range:d})},insertText:function(a){this.fire("insertText",a)},insertElement:function(a){this.fire("insertElement",a)},getSelectedHtml:function(a){var b=this.editable(),d=this.getSelection(),d=d&&d.getRanges();if(!b||!d||0===d.length)return null;b=x(d,b);return a?b.getHtml():b},extractSelectedHtml:function(a,
b){var d=this.editable(),c=this.getSelection().getRanges(),g=new CKEDITOR.dom.documentFragment,e;if(!d||0===c.length)return null;for(e=0;e<c.length;e++)g.append(d.extractHtmlFromRange(c[e],b));b||this.getSelection().selectRanges([c[0]]);return a?g.getHtml():g},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return"ready"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return w.call(this)},
setKeystroke:function(){for(var a=this.keystrokeHandler.keystrokes,b=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],d,c,g=b.length;g--;)d=b[g],c=0,CKEDITOR.tools.isArray(d)&&(c=d[1],d=d[0]),c?a[d]=c:delete a[d]},getCommandKeystroke:function(a,b){var d="string"===typeof a?this.getCommand(a):a,c=[];if(d){var g=CKEDITOR.tools.object.findKey(this.commands,d),e=this.keystrokeHandler.keystrokes;if(d.fakeKeystroke)c.push(d.fakeKeystroke);else for(var h in e)e[h]===g&&c.push(h)}return b?
c:c[0]||null},addFeature:function(a){return this.filter.addFeature(a)},setActiveFilter:function(a){a||(a=this.filter);this.activeFilter!==a&&(this.activeFilter=a,this.fire("activeFilterChange"),a===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(a.getAllowedEnterMode(this.enterMode),a.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(a,b){a=a?this.blockless?CKEDITOR.ENTER_BR:a:this.enterMode;b=b?this.blockless?CKEDITOR.ENTER_BR:b:this.shiftEnterMode;
if(this.activeEnterMode!=a||this.activeShiftEnterMode!=b)this.activeEnterMode=a,this.activeShiftEnterMode=b,this.fire("activeEnterModeChange")},showNotification:function(a){alert(a)},isDetached:function(){return!!this.container&&this.container.isDetached()},isDestroyed:function(){return"destroyed"===this.status}});CKEDITOR.editor._getEditorElement=function(a){if(!CKEDITOR.env.isCompatible)return null;var b=CKEDITOR.dom.element.get(a);return b?b.getEditor()?(CKEDITOR.error("editor-element-conflict",
{editorName:b.getEditor().name}),null):b:(CKEDITOR.error("editor-incorrect-element",{element:a}),null)};CKEDITOR.editor.initializeDelayedEditorCreation=function(a,b,d){if(b.delayIfDetached_callback)return CKEDITOR.warn("editor-delayed-creation",{method:"callback"}),b.delayIfDetached_callback(function(){CKEDITOR[d](a,b);CKEDITOR.warn("editor-delayed-creation-success",{method:"callback"})}),null;var c=void 0===b.delayIfDetached_interval?CKEDITOR.config.delayIfDetached_interval:b.delayIfDetached_interval;
CKEDITOR.warn("editor-delayed-creation",{method:"interval - "+c+" ms"});var g=setInterval(function(){a.isDetached()||(clearInterval(g),CKEDITOR[d](a,b),CKEDITOR.warn("editor-delayed-creation-success",{method:"interval - "+c+" ms"}))},c);return function(){clearInterval(g)}};CKEDITOR.editor.shouldDelayEditorCreation=function(a,b){CKEDITOR.editor.mergeDelayedCreationConfigs(b);return b&&b.delayIfDetached&&a.isDetached()};CKEDITOR.editor.mergeDelayedCreationConfigs=function(a){a&&(a.delayIfDetached="boolean"===
typeof a.delayIfDetached?a.delayIfDetached:CKEDITOR.config.delayIfDetached,a.delayIfDetached_interval=isNaN(a.delayIfDetached_interval)?CKEDITOR.config.delayIfDetached_interval:a.delayIfDetached_interval,a.delayIfDetached_callback=a.delayIfDetached_callback||CKEDITOR.config.delayIfDetached_callback)}}(),CKEDITOR.ELEMENT_MODE_NONE=0,CKEDITOR.ELEMENT_MODE_REPLACE=1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=3,CKEDITOR.config.delayIfDetached=!1,CKEDITOR.config.delayIfDetached_callback=
void 0,CKEDITOR.config.delayIfDetached_interval=50,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--!?>)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}},function(){var a=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,f={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};CKEDITOR.htmlParser.prototype=
{onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(e){for(var b,c,k=0,l;b=this._.htmlPartsRegex.exec(e);){c=b.index;if(c>k)if(k=e.substring(k,c),l)l.push(k);else this.onText(k);k=this._.htmlPartsRegex.lastIndex;if(c=b[1])if(c=c.toLowerCase(),l&&CKEDITOR.dtd.$cdata[c]&&(this.onCDATA(l.join("")),l=null),!l){this.onTagClose(c);continue}if(l)l.push(b[0]);else if(c=b[3]){if(c=c.toLowerCase(),!/="/.test(c)){var m={},d,h=b[4];b=
!!b[5];if(h)for(;d=a.exec(h);){var g=d[1].toLowerCase();d=d[2]||d[3]||d[4]||"";m[g]=!d&&f[g]?g:CKEDITOR.tools.htmlDecodeAttr(d)}this.onTagOpen(c,m,b);!l&&CKEDITOR.dtd.$cdata[c]&&(l=[])}}else if(c=b[2])this.onComment(c)}if(e.length>k)this.onText(e.substring(k,e.length))}}}(),CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(a){this._.output.push("\x3c",a)},openTagClose:function(a,f){f?this._.output.push(" /\x3e"):this._.output.push("\x3e")},
attribute:function(a,f){"string"==typeof f&&(f=CKEDITOR.tools.htmlEncodeAttr(f));this._.output.push(" ",a,'\x3d"',f,'"')},closeTag:function(a){this._.output.push("\x3c/",a,"\x3e")},text:function(a){this._.output.push(a)},comment:function(a){this._.output.push("\x3c!--",a,"--\x3e")},write:function(a){this._.output.push(a)},reset:function(){this._.output=[];this._.indent=!1},getHtml:function(a){var f=this._.output.join("");a&&this.reset();return f}}}),"use strict",function(){CKEDITOR.htmlParser.node=
function(){};CKEDITOR.htmlParser.node.prototype={remove:function(){var a=this.parent.children,f=CKEDITOR.tools.indexOf(a,this),e=this.previous,b=this.next;e&&(e.next=b);b&&(b.previous=e);a.splice(f,1);this.parent=null},replaceWith:function(a){var f=this.parent.children,e=CKEDITOR.tools.indexOf(f,this),b=a.previous=this.previous,c=a.next=this.next;b&&(b.next=a);c&&(c.previous=a);f[e]=a;a.parent=this.parent;this.parent=null},insertAfter:function(a){var f=a.parent.children,e=CKEDITOR.tools.indexOf(f,
a),b=a.next;f.splice(e+1,0,this);this.next=a.next;this.previous=a;a.next=this;b&&(b.previous=this);this.parent=a.parent},insertBefore:function(a){var f=a.parent.children,e=CKEDITOR.tools.indexOf(f,a);f.splice(e,0,this);this.next=a;(this.previous=a.previous)&&(a.previous.next=this);a.previous=this;this.parent=a.parent},getAscendant:function(a){var f="function"==typeof a?a:"string"==typeof a?function(b){return b.name==a}:function(b){return b.name in a},e=this.parent;for(;e&&e.type==CKEDITOR.NODE_ELEMENT;){if(f(e))return e;
e=e.parent}return null},wrapWith:function(a){this.replaceWith(a);a.add(this);return a},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(a){return a||{}}}}(),"use strict",CKEDITOR.htmlParser.comment=function(a){this.value=a;this._={isBlockLike:!1}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(a,f){var e=this.value;if(!(e=a.onComment(f,e,this)))return this.remove(),
!1;if("string"!=typeof e)return this.replaceWith(e),!1;this.value=e;return!0},writeHtml:function(a,f){f&&this.filter(f);a.comment(this.value)}}),"use strict",function(){CKEDITOR.htmlParser.text=function(a){this.value=a;this._={isBlockLike:!1}};CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(a,f){if(!(this.value=a.onText(f,this.value,this)))return this.remove(),!1},writeHtml:function(a,f){f&&this.filter(f);a.text(this.value)}})}(),
"use strict",function(){CKEDITOR.htmlParser.cdata=function(a){this.value=a};CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(a){var f=this.getAscendant("style");if(f&&f.getAscendant({math:1,svg:1})){var f=CKEDITOR.htmlParser.fragment.fromHtml(this.value),e=new CKEDITOR.htmlParser.basicWriter;a.applyTo(f);f.writeHtml(e);this.value=e.getHtml()}},writeHtml:function(a){a.write(this.value)}})}(),"use strict",CKEDITOR.htmlParser.fragment=
function(){this.children=[];this.parent=null;this._={isBlockLike:!0,hasInlineStarted:!1}},function(){function a(a){return a.attributes["data-cke-survive"]?!1:"a"==a.name&&a.attributes.href||CKEDITOR.dtd.$removeEmpty[a.name]}var f=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),e={ol:1,ul:1},b=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),c={ul:"li",ol:"li",dl:"dd",table:"tbody",
tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=function(k,l,m){function d(a){var b;if(0<u.length)for(var d=0;d<u.length;d++){var c=u[d],g=c.name,e=CKEDITOR.dtd[g],k=q.name&&CKEDITOR.dtd[q.name];k&&!k[g]||a&&e&&!e[a]&&CKEDITOR.dtd[a]?g==q.name&&(n(q,q.parent,1),d--):(b||(h(),b=1),c=c.clone(),c.parent=q,q=c,u.splice(d,1),d--)}}function h(){for(;z.length;)n(z.shift(),q)}function g(a){if(a._.isBlockLike&&"pre"!=a.name&&"textarea"!=a.name){var b=a.children.length,d=a.children[b-
1],c;d&&d.type==CKEDITOR.NODE_TEXT&&((c=CKEDITOR.tools.rtrim(d.value))?d.value=c:a.children.length=b-1)}}function n(b,d,c){d=d||q||p;var e=q;void 0===b.previous&&(w(d,b)&&(q=d,r.onTagOpen(m,{}),b.returnPoint=d=q),g(b),a(b)&&!b.children.length||d.add(b),"pre"==b.name&&(y=!1),"textarea"==b.name&&(A=!1));b.returnPoint?(q=b.returnPoint,delete b.returnPoint):q=c?d:e}function w(a,b){if((a==p||"body"==a.name)&&m&&(!a.name||CKEDITOR.dtd[a.name][m])){var d,c;return(d=b.attributes&&(c=b.attributes["data-cke-real-element-type"])?
c:b.name)&&d in CKEDITOR.dtd.$inline&&!(d in CKEDITOR.dtd.head)&&!b.isOrphan||b.type==CKEDITOR.NODE_TEXT}}function x(a,b){return a in CKEDITOR.dtd.$listItem||a in CKEDITOR.dtd.$tableContent?a==b||"dt"==a&&"dd"==b||"dd"==a&&"dt"==b:!1}var r=new CKEDITOR.htmlParser,p=l instanceof CKEDITOR.htmlParser.element?l:"string"==typeof l?new CKEDITOR.htmlParser.element(l):new CKEDITOR.htmlParser.fragment,u=[],z=[],q=p,A="textarea"==p.name,y="pre"==p.name;r.onTagOpen=function(c,g,k,l){g=new CKEDITOR.htmlParser.element(c,
g);g.isUnknown&&k&&(g.isEmpty=!0);g.isOptionalClose=l;if(a(g))u.push(g);else{if("pre"==c)y=!0;else{if("br"==c&&y){q.add(new CKEDITOR.htmlParser.text("\n"));return}"textarea"==c&&(A=!0)}if("br"==c)z.push(g);else{for(;!(l=(k=q.name)?CKEDITOR.dtd[k]||(q._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):b,g.isUnknown||q.isUnknown||l[c]);)if(q.isOptionalClose)r.onTagClose(k);else if(c in e&&k in e)k=q.children,(k=k[k.length-1])&&"li"==k.name||n(k=new CKEDITOR.htmlParser.element("li"),q),!g.returnPoint&&
(g.returnPoint=q),q=k;else if(c in CKEDITOR.dtd.$listItem&&!x(c,k))r.onTagOpen("li"==c?"ul":"dl",{},0,1);else if(k in f&&!x(c,k))!g.returnPoint&&(g.returnPoint=q),q=q.parent;else if(k in CKEDITOR.dtd.$inline&&u.unshift(q),q.parent)n(q,q.parent,1);else{g.isOrphan=1;break}d(c);h();g.parent=q;g.isEmpty?n(g):q=g}}};r.onTagClose=function(a){for(var b=u.length-1;0<=b;b--)if(a==u[b].name){u.splice(b,1);return}for(var d=[],c=[],g=q;g!=p&&g.name!=a;)g._.isBlockLike||c.unshift(g),d.push(g),g=g.returnPoint||
g.parent;if(g!=p){for(b=0;b<d.length;b++){var e=d[b];n(e,e.parent)}q=g;g._.isBlockLike?h():(b=CKEDITOR.config.shiftLineBreaks,!0!==b&&z.length&&("function"!==typeof b?h():(b=b(z[z.length-1]),!0!==b&&(h(),b instanceof CKEDITOR.htmlParser.text&&q.add(b),b instanceof CKEDITOR.htmlParser.element&&n(b,q)))));n(g,g.parent);g==q&&(q=q.parent);u=u.concat(c)}"body"==a&&(m=!1)};r.onText=function(a){if(!(q._.hasInlineStarted&&!z.length||y||A)&&(a=CKEDITOR.tools.ltrim(a),0===a.length))return;var g=q.name,e=g?
CKEDITOR.dtd[g]||(q._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):b;if(!A&&!e["#"]&&g in f)r.onTagOpen(c[g]||""),r.onText(a);else{h();d();y||A||(a=a.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," "));a=new CKEDITOR.htmlParser.text(a);if(w(q,a))this.onTagOpen(m,{},0,1);q.add(a)}};r.onCDATA=function(a){q.add(new CKEDITOR.htmlParser.cdata(a))};r.onComment=function(a){h();d();q.add(new CKEDITOR.htmlParser.comment(a))};r.parse(k);for(h();q!=p;)n(q,q.parent,1);g(p);return p};CKEDITOR.htmlParser.fragment.prototype=
{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(a,b){isNaN(b)&&(b=this.children.length);var c=0<b?this.children[b-1]:null;if(c){if(a._.isBlockLike&&c.type==CKEDITOR.NODE_TEXT&&(c.value=CKEDITOR.tools.rtrim(c.value),0===c.value.length)){this.children.pop();this.add(a);return}c.next=a}a.previous=c;a.parent=this;this.children.splice(b,0,a);this._.hasInlineStarted||(this._.hasInlineStarted=a.type==CKEDITOR.NODE_TEXT||a.type==CKEDITOR.NODE_ELEMENT&&!a._.isBlockLike)},filter:function(a,b){b=this.getFilterContext(b);
a.onRoot(b,this);this.filterChildren(a,!1,b)},filterChildren:function(a,b,c){if(this.childrenFilteredBy!=a.id){c=this.getFilterContext(c);if(b&&!this.parent)a.onRoot(c,this);this.childrenFilteredBy=a.id;for(b=0;b<this.children.length;b++)!1===this.children[b].filter(a,c)&&b--}},writeHtml:function(a,b){b&&this.filter(b);this.writeChildrenHtml(a)},writeChildrenHtml:function(a,b,c){var d=this.getFilterContext();if(c&&!this.parent&&b)b.onRoot(d,this);b&&this.filterChildren(b,!1,d);b=0;c=this.children;
for(d=c.length;b<d;b++)c[b].writeHtml(a)},forEach:function(a,b,c){if(!(c||b&&this.type!=b))var d=a(this);if(!1!==d){c=this.children;for(var e=0;e<c.length;e++)d=c[e],d.type==CKEDITOR.NODE_ELEMENT?d.forEach(a,b):b&&d.type!=b||a(d)}},getFilterContext:function(a){return a||{}}};CKEDITOR.config.shiftLineBreaks=!0}(),"use strict",function(){function a(){this.rules=[]}function f(e,b,c,k){var f,m;for(f in b)(m=e[f])||(m=e[f]=new a),m.add(b[f],c,k)}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(e){this.id=
CKEDITOR.tools.getNextNumber();this.elementNameRules=new a;this.attributeNameRules=new a;this.elementsRules={};this.attributesRules={};this.textRules=new a;this.commentRules=new a;this.rootRules=new a;e&&this.addRules(e,10)},proto:{addRules:function(a,b){var c;"number"==typeof b?c=b:b&&"priority"in b&&(c=b.priority);"number"!=typeof c&&(c=10);"object"!=typeof b&&(b={});a.elementNames&&this.elementNameRules.addMany(a.elementNames,c,b);a.attributeNames&&this.attributeNameRules.addMany(a.attributeNames,
c,b);a.elements&&f(this.elementsRules,a.elements,c,b);a.attributes&&f(this.attributesRules,a.attributes,c,b);a.text&&this.textRules.add(a.text,c,b);a.comment&&this.commentRules.add(a.comment,c,b);a.root&&this.rootRules.add(a.root,c,b)},applyTo:function(a){a.filter(this)},onElementName:function(a,b){return this.elementNameRules.execOnName(a,b)},onAttributeName:function(a,b){return this.attributeNameRules.execOnName(a,b)},onText:function(a,b,c){return this.textRules.exec(a,b,c)},onComment:function(a,
b,c){return this.commentRules.exec(a,b,c)},onRoot:function(a,b){return this.rootRules.exec(a,b)},onElement:function(a,b){for(var c=[this.elementsRules["^"],this.elementsRules[b.name],this.elementsRules.$],k,f=0;3>f;f++)if(k=c[f]){k=k.exec(a,b,this);if(!1===k)return null;if(k&&k!=b)return this.onNode(a,k);if(b.parent&&!b.name)break}return b},onNode:function(a,b){var c=b.type;return c==CKEDITOR.NODE_ELEMENT?this.onElement(a,b):c==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(a,b.value,
b)):c==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(a,b.value,b)):null},onAttribute:function(a,b,c,k){return(c=this.attributesRules[c])?c.exec(a,k,b,this):k}}});CKEDITOR.htmlParser.filterRulesGroup=a;a.prototype={add:function(a,b,c){this.rules.splice(this.findIndex(b),0,{value:a,priority:b,options:c})},addMany:function(a,b,c){for(var k=[this.findIndex(b),0],f=0,m=a.length;f<m;f++)k.push({value:a[f],priority:b,options:c});this.rules.splice.apply(this.rules,k)},findIndex:function(a){for(var b=
this.rules,c=b.length-1;0<=c&&a<b[c].priority;)c--;return c+1},exec:function(a,b){var c=b instanceof CKEDITOR.htmlParser.node||b instanceof CKEDITOR.htmlParser.fragment,k=Array.prototype.slice.call(arguments,1),f=this.rules,m=f.length,d,h,g,n;for(n=0;n<m;n++)if(c&&(d=b.type,h=b.name),g=f[n],!(a.nonEditable&&!g.options.applyToAll||a.nestedEditable&&g.options.excludeNestedEditable)){g=g.value.apply(null,k);if(!1===g||c&&g&&(g.name!=h||g.type!=d))return g;null!=g&&(k[0]=b=g)}return b},execOnName:function(a,
b){for(var c=0,k=this.rules,f=k.length,m;b&&c<f;c++)m=k[c],a.nonEditable&&!m.options.applyToAll||a.nestedEditable&&m.options.excludeNestedEditable||(b=b.replace(m.value[0],m.value[1]));return b}}}(),function(){function a(a,d){function g(a){return a||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text(" "):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function h(a,d){return function(c){if(c.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var h=[],l=e(c),n,N;if(l)for(f(l,1)&&h.push(l);l;)k(l)&&
(n=b(l))&&f(n)&&((N=b(n))&&!k(N)?h.push(n):(g(m).insertAfter(n),n.remove())),l=l.previous;for(l=0;l<h.length;l++)h[l].remove();if(h=!a||!1!==("function"==typeof d?d(c):d))m||CKEDITOR.env.needsBrFiller||c.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT?m||CKEDITOR.env.needsBrFiller||!(7<document.documentMode||c.name in CKEDITOR.dtd.tr||c.name in CKEDITOR.dtd.$listItem)?(h=e(c),h=!h||"form"==c.name&&"input"==h.name):h=!1:h=!1;h&&c.add(g(a))}}}function f(a,b){if((!m||CKEDITOR.env.needsBrFiller)&&a.type==CKEDITOR.NODE_ELEMENT&&
"br"==a.name&&!a.attributes["data-cke-eol"])return!0;var d;return a.type==CKEDITOR.NODE_TEXT&&(d=a.value.match(z))&&(d.index&&((new CKEDITOR.htmlParser.text(a.value.substring(0,d.index))).insertBefore(a),a.value=d[0]),!CKEDITOR.env.needsBrFiller&&m&&(!b||a.parent.name in L)||!m&&((d=a.previous)&&"br"==d.name||!d||k(d)))?!0:!1}var n={elements:{}},m="html"==d,L=CKEDITOR.tools.extend({},t),w;for(w in L)"#"in A[w]||delete L[w];for(w in L)n.elements[w]=h(m,a.config.fillEmptyBlocks);n.root=h(m,!1);n.elements.br=
function(a){return function(d){if(d.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var e=d.attributes;if("data-cke-bogus"in e||"data-cke-eol"in e)delete e["data-cke-bogus"];else{for(e=d.next;e&&c(e);)e=e.next;var h=b(d);!e&&k(d.parent)?l(d.parent,g(a)):k(e)&&h&&!k(h)&&g(a).insertBefore(e)}}}}(m);return n}function f(a,b){return a!=CKEDITOR.ENTER_BR&&!1!==b?a==CKEDITOR.ENTER_DIV?"div":"p":!1}function e(a){for(a=a.children[a.children.length-1];a&&c(a);)a=a.previous;return a}function b(a){for(a=a.previous;a&&
c(a);)a=a.previous;return a}function c(a){return a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(a.value)||a.type==CKEDITOR.NODE_ELEMENT&&a.attributes["data-cke-bookmark"]}function k(a){return a&&(a.type==CKEDITOR.NODE_ELEMENT&&a.name in t||a.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function l(a,b){var d=a.children[a.children.length-1];a.children.push(b);b.parent=a;d&&(d.next=b,b.previous=d)}function m(a){a=a.attributes;"false"!=a.contenteditable&&(a["data-cke-editable"]=a.contenteditable?"true":1);
a.contenteditable="false"}function d(a){a=a.attributes;switch(a["data-cke-editable"]){case "true":a.contenteditable="true";break;case "1":delete a.contenteditable}}function h(a,b){return a.replace(F,function(a,d,c){return"\x3c"+d+c.replace(J,function(a,d){return K.test(d)&&-1==c.indexOf("data-cke-saved-"+d)?" data-cke-saved-"+a+" data-cke-"+b+"-"+a:a})+"\x3e"})}function g(a,b){return a.replace(b,function(a,b,d){0===a.indexOf("\x3ctextarea")&&(a=b+x(d).replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")+
"\x3c/textarea\x3e");return"\x3ccke:encoded\x3e"+encodeURIComponent(a)+"\x3c/cke:encoded\x3e"})}function n(a){return a.replace(H,function(a,b){return decodeURIComponent(b)})}function w(a){return a.replace(/\x3c!--(?!{cke_protected})[\s\S]+?--\x3e/g,function(a){return"\x3c!--"+q+"{C}"+encodeURIComponent(a).replace(/--/g,"%2D%2D")+"--\x3e"})}function x(a){return a.replace(/\x3c!--\{cke_protected\}\{C\}([\s\S]+?)--\x3e/g,function(a,b){return decodeURIComponent(b)})}function r(a,b){var d=b._.dataStore;
return a.replace(/\x3c!--\{cke_protected\}([\s\S]+?)--\x3e/g,function(a,b){return decodeURIComponent(b)}).replace(/\{cke_protected_(\d+)\}/g,function(a,b){return d&&d[b]||""})}function p(a,b,d){var c=[],g=b.config.protectedSource,e=b._.dataStore||(b._.dataStore={id:1}),h=new RegExp("\x3c\\!--\\{cke_temp_"+d+"(comment)?\\}(\\d*?)--\x3e","g"),g=[/<script[\s\S]*?(<\/script>|$)/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(g);a=a.replace(/\x3c!--[\s\S]*?--\x3e/g,function(a){return"\x3c!--{cke_temp_"+
d+"comment}"+(c.push(a)-1)+"--\x3e"});for(var k=0;k<g.length;k++)a=a.replace(g[k],function(a){a=a.replace(h,function(a,b,d){return c[d]});return h.test(a)?a:"\x3c!--{cke_temp_"+d+"}"+(c.push(a)-1)+"--\x3e"});a=a.replace(h,function(a,b,d){return"\x3c!--"+q+(b?"{C}":"")+encodeURIComponent(c[d]).replace(/--/g,"%2D%2D")+"--\x3e"});a=a.replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g,function(a){return a.replace(/\x3c!--\{cke_protected\}([^>]*)--\x3e/g,function(a,
b){e[e.id]=decodeURIComponent(b);return"{cke_protected_"+e.id++ +"}"})});return a=a.replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,function(a,d,c,g){return"\x3c"+d+c+"\x3e"+r(x(g),b)+"\x3c/"+d+"\x3e"})}var u;CKEDITOR.htmlDataProcessor=function(b){var d,c,e=this;this.editor=b;this.dataFilter=d=new CKEDITOR.htmlParser.filter;this.htmlFilter=c=new CKEDITOR.htmlParser.filter;this.writer=new CKEDITOR.htmlParser.basicWriter;d.addRules(v);d.addRules(B,{applyToAll:!0});d.addRules(a(b,"data"),
{applyToAll:!0});c.addRules(D);c.addRules(C,{applyToAll:!0});c.addRules(a(b,"html"),{applyToAll:!0});b.on("toHtml",function(a){var d;var c=window.crypto||window.msCrypto;d=c?c.getRandomValues(new Uint32Array(1))[0]:Math.floor(9E9*Math.random()+1E9);a=a.data;var c=a.dataValue,c=u(c),c=p(c,b,d),c=g(c,M),c=h(c,d),c=g(c,G),c=c.replace(E,"$1cke:$2"),c=c.replace(L,"\x3ccke:$1$2\x3e\x3c/cke:$1\x3e"),c=c.replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2"),c=c.replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+
d+"-$2"),e=a.context||b.editable().getName(),k;CKEDITOR.env.ie&&9>CKEDITOR.env.version&&"pre"==e&&(e="div",c="\x3cpre\x3e"+c+"\x3c/pre\x3e",k=1);e=b.document.createElement(e);e.setHtml("a"+c);c=e.getHtml().substr(1);c=c.replace(new RegExp("data-cke-"+d+"-","ig"),"");k&&(c=c.replace(/^<pre>|<\/pre>$/gi,""));c=c.replace(P,"$1$2");c=n(c);c=x(c);d=!1===a.fixForBody?!1:f(a.enterMode,b.config.autoParagraph);c=CKEDITOR.htmlParser.fragment.fromHtml(c,a.context,d);d&&(k=c,!k.children.length&&CKEDITOR.dtd[k.name][d]&&
(d=new CKEDITOR.htmlParser.element(d),k.add(d)));a.dataValue=c},null,null,5);b.on("toHtml",function(a){a.data.filter.applyTo(a.data.dataValue,!0,a.data.dontFilter,a.data.enterMode)&&b.fire("dataFiltered")},null,null,6);b.on("toHtml",function(a){a.data.dataValue.filterChildren(e.dataFilter,!0)},null,null,10);b.on("toHtml",function(a){a=a.data;var b=a.dataValue,d=new CKEDITOR.htmlParser.basicWriter;b.writeChildrenHtml(d);b=d.getHtml(!0);a.dataValue=w(b)},null,null,15);b.on("toDataFormat",function(a){var d=
a.data.dataValue;a.data.enterMode!=CKEDITOR.ENTER_BR&&(d=d.replace(/^<br *\/?>/i,""));a.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(d,a.data.context,f(a.data.enterMode,b.config.autoParagraph))},null,null,5);b.on("toDataFormat",function(a){a.data.dataValue.filterChildren(e.htmlFilter,!0)},null,null,10);b.on("toDataFormat",function(a){a.data.filter.applyTo(a.data.dataValue,!1,!0)},null,null,11);b.on("toDataFormat",function(a){var d=a.data.dataValue,c=e.writer;c.reset();d.writeChildrenHtml(c);
d=c.getHtml(!0);d=x(d);d=r(d,b);a.data.dataValue=d},null,null,15)};CKEDITOR.htmlDataProcessor.prototype={toHtml:function(a,b,d,c){var g=this.editor,e,h,k,f;b&&"object"==typeof b?(e=b.context,d=b.fixForBody,c=b.dontFilter,h=b.filter,k=b.enterMode,f=b.protectedWhitespaces):e=b;e||null===e||(e=g.editable().getName());return g.fire("toHtml",{dataValue:a,context:e,fixForBody:d,dontFilter:c,filter:h||g.filter,enterMode:k||g.enterMode,protectedWhitespaces:f}).dataValue},toDataFormat:function(a,b){var d,
c,g;b&&(d=b.context,c=b.filter,g=b.enterMode);d||null===d||(d=this.editor.editable().getName());return this.editor.fire("toDataFormat",{dataValue:a,filter:c||this.editor.filter,context:d,enterMode:g||this.editor.enterMode}).dataValue},protectSource:function(a){return p(a,this.editor)},unprotectSource:function(a){return r(a,this.editor)},unprotectRealComments:function(a){return x(a)}};var z=/(?:&nbsp;|\xa0)$/,q="{cke_protected}",A=CKEDITOR.dtd,y="caption colgroup col thead tfoot tbody".split(" "),
t=CKEDITOR.tools.extend({},A.$blockLimit,A.$block),v={elements:{input:m,textarea:m}},B={attributeNames:[[/^on/,"data-cke-pa-on"],[/^srcdoc/,"data-cke-pa-srcdoc"],[/^data-cke-expando$/,""]],elements:{iframe:function(a){if(a.attributes&&a.attributes.src){var b=a.attributes.src.toLowerCase().replace(/[^a-z]/gi,"");if(0===b.indexOf("javascript")||0===b.indexOf("data"))a.attributes["data-cke-pa-src"]=a.attributes.src,delete a.attributes.src}}}},D={elements:{embed:function(a){var b=a.parent;if(b&&"object"==
b.name){var d=b.attributes.width,b=b.attributes.height;d&&(a.attributes.width=d);b&&(a.attributes.height=b)}},a:function(a){var b=a.attributes;if(!(a.children.length||b.name||b.id||a.attributes["data-cke-saved-name"]))return!1}}},C={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(a){var b=a.attributes;if(b){if(b["data-cke-temp"])return!1;for(var d=["name","href","src"],c,g=0;g<d.length;g++)c=
"data-cke-saved-"+d[g],c in b&&delete b[d[g]]}return a},table:function(a){a.children.slice(0).sort(function(a,b){var d,c;a.type==CKEDITOR.NODE_ELEMENT&&b.type==a.type&&(d=CKEDITOR.tools.indexOf(y,a.name),c=CKEDITOR.tools.indexOf(y,b.name));-1<d&&-1<c&&d!=c||(d=a.parent?a.getIndex():-1,c=b.parent?b.getIndex():-1);return d>c?1:-1})},param:function(a){a.children=[];a.isEmpty=!0;return a},span:function(a){"Apple-style-span"==a.attributes["class"]&&delete a.name},html:function(a){delete a.attributes.contenteditable;
delete a.attributes["class"]},body:function(a){delete a.attributes.spellcheck;delete a.attributes.contenteditable},style:function(a){var b=a.children[0];b&&b.value&&(b.value=CKEDITOR.tools.trim(b.value));a.attributes.type||(a.attributes.type="text/css")},title:function(a){var b=a.children[0];!b&&l(a,b=new CKEDITOR.htmlParser.text);b.value=a.attributes["data-cke-title"]||""},input:d,textarea:d},attributes:{"class":function(a){return CKEDITOR.tools.ltrim(a.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};
CKEDITOR.env.ie&&(C.attributes.style=function(a){return a.replace(/(^|;)([^\:]+)/g,function(a){return a.toLowerCase()})});var F=/<(a|area|img|input|source)\b([^>]*)>/gi,J=/([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,K=/^(href|src|name)$/i,G=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,M=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,H=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,E=/(<\/?)((?:object|embed|param|html|body|head|title)([\s][^>]*)?>)/gi,
P=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,L=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi;u=function(){function a(b,d){for(var c=0;c<b.length;c++){var g=b[c];g.lastIndex=0;if(g.test(d))return!0}return!1}function b(a){return CKEDITOR.tools.array.reduce(a.split(""),function(a,b){var c=b.toLowerCase(),g=b.toUpperCase(),e=d(c);c!==g&&(e+="|"+d(g));return a+("("+e+")")},"")}function d(a){var b;b=a.charCodeAt(0);var c=b.toString(16);b={htmlCode:"\x26#"+b+";?",hex:"\x26#x0*"+c+";?",entity:{"\x3c":"\x26lt;",
"\x3e":"\x26gt;",":":"\x26colon;"}[a]};for(var g in b)b[g]&&(a+="|"+b[g]);return a}var c=[new RegExp("("+b("\x3ccke:encoded\x3e")+"(.*?)"+b("\x3c/cke:encoded\x3e")+")|("+b("\x3c")+b("/")+"?"+b("cke:encoded\x3e")+")","gi"),new RegExp("(("+b("{cke_protected")+")(_[0-9]*)?"+b("}")+")","gi"),/<!(?:\s*-\s*){2,3}!?\s*>/g];return function(b){for(;a(c,b);)for(var d=c,g=0;g<d.length;g++)b=b.replace(d[g],"");return b}}()}(),"use strict",CKEDITOR.htmlParser.element=function(a,f){this.name=a;this.attributes=
f||{};this.children=[];var e=a||"",b=e.match(/^cke:(.*)/);b&&(e=b[1]);e=!!(CKEDITOR.dtd.$nonBodyContent[e]||CKEDITOR.dtd.$block[e]||CKEDITOR.dtd.$listItem[e]||CKEDITOR.dtd.$tableContent[e]||CKEDITOR.dtd.$nonEditable[e]||"br"==e);this.isEmpty=!!CKEDITOR.dtd.$empty[a];this.isUnknown=!CKEDITOR.dtd[a];this._={isBlockLike:e,hasInlineStarted:this.isEmpty||!e}},CKEDITOR.htmlParser.cssStyle=function(a){var f={};((a instanceof CKEDITOR.htmlParser.element?a.attributes.style:a)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,
function(a,b,c){"font-family"==b&&(c=c.replace(/["']/g,""));f[b.toLowerCase()]=c});return{rules:f,populate:function(a){var b=this.toString();b&&(a instanceof CKEDITOR.dom.element?a.setAttribute("style",b):a instanceof CKEDITOR.htmlParser.element?a.attributes.style=b:a.style=b)},toString:function(){var a=[],b;for(b in f)f[b]&&a.push(b,":",f[b],";");return a.join("")}}},function(){function a(a){return function(c){return c.type==CKEDITOR.NODE_ELEMENT&&("string"==typeof a?c.name==a:c.name in a)}}var f=
function(a,c){a=a[0];c=c[0];return a<c?-1:a>c?1:0},e=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:e.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(a,c){var e=this,f,m;c=e.getFilterContext(c);if(!e.parent)a.onRoot(c,e);for(;;){f=e.name;if(!(m=a.onElementName(c,f)))return this.remove(),!1;e.name=m;if(!(e=a.onElement(c,e)))return this.remove(),
!1;if(e!==this)return this.replaceWith(e),!1;if(e.name==f)break;if(e.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(e),!1;if(!e.name)return this.replaceWithChildren(),!1}f=e.attributes;var d,h;for(d in f){for(m=f[d];;)if(h=a.onAttributeName(c,d))if(h!=d)delete f[d],d=h;else break;else{delete f[d];break}h&&(!1===(m=a.onAttribute(c,e,h,m))?delete f[h]:f[h]=m)}e.isEmpty||this.filterChildren(a,!1,c);return!0},filterChildren:e.filterChildren,writeHtml:function(a,c){c&&this.filter(c);var e=this.name,
l=[],m=this.attributes,d,h;a.openTag(e,m);for(d in m)l.push([d,m[d]]);a.sortAttributes&&l.sort(f);d=0;for(h=l.length;d<h;d++)m=l[d],a.attribute(m[0],m[1]);a.openTagClose(e,this.isEmpty);this.writeChildrenHtml(a);this.isEmpty||a.closeTag(e)},writeChildrenHtml:e.writeChildrenHtml,replaceWithChildren:function(){for(var a=this.children,c=a.length;c;)a[--c].insertAfter(this);this.remove()},forEach:e.forEach,getFirst:function(b){if(!b)return this.children.length?this.children[0]:null;"function"!=typeof b&&
(b=a(b));for(var c=0,e=this.children.length;c<e;++c)if(b(this.children[c]))return this.children[c];return null},getHtml:function(){var a=new CKEDITOR.htmlParser.basicWriter;this.writeChildrenHtml(a);return a.getHtml()},setHtml:function(a){a=this.children=CKEDITOR.htmlParser.fragment.fromHtml(a).children;for(var c=0,e=a.length;c<e;++c)a[c].parent=this},getOuterHtml:function(){var a=new CKEDITOR.htmlParser.basicWriter;this.writeHtml(a);return a.getHtml()},split:function(a){for(var c=this.children.splice(a,
this.children.length-a),e=this.clone(),f=0;f<c.length;++f)c[f].parent=e;e.children=c;c[0]&&(c[0].previous=null);0<a&&(this.children[a-1].next=null);this.parent.add(e,this.getIndex()+1);return e},find:function(a,c){void 0===c&&(c=!1);var e=[],f;for(f=0;f<this.children.length;f++){var m=this.children[f];"function"==typeof a&&a(m)?e.push(m):"string"==typeof a&&m.name===a&&e.push(m);c&&m.find&&(e=e.concat(m.find(a,c)))}return e},findOne:function(a,c){var e=null,f=CKEDITOR.tools.array.find(this.children,
function(f){var d="function"===typeof a?a(f):f.name===a;if(d||!c)return d;f.children&&f.findOne&&(e=f.findOne(a,!0));return!!e});return e||f||null},addClass:function(a){if(!this.hasClass(a)){var c=this.attributes["class"]||"";this.attributes["class"]=c+(c?" ":"")+a}},removeClass:function(a){var c=this.attributes["class"];c&&((c=CKEDITOR.tools.trim(c.replace(new RegExp("(?:\\s+|^)"+a+"(?:\\s+|$)")," ")))?this.attributes["class"]=c:delete this.attributes["class"])},hasClass:function(a){var c=this.attributes["class"];
return c?(new RegExp("(?:^|\\s)"+a+"(?\x3d\\s|$)")).test(c):!1},getFilterContext:function(a){var c=[];a||(a={nonEditable:!1,nestedEditable:!1});a.nonEditable||"false"!=this.attributes.contenteditable?a.nonEditable&&!a.nestedEditable&&"true"==this.attributes.contenteditable&&c.push("nestedEditable",!0):c.push("nonEditable",!0);if(c.length){a=CKEDITOR.tools.copy(a);for(var e=0;e<c.length;e+=2)a[c[e]]=c[e+1]}return a}},!0)}(),function(){var a=/{([^}]+)}/g;CKEDITOR.template=function(a){this.source="function"===
typeof a?a:String(a)};CKEDITOR.template.prototype.output=function(f,e){var b=("function"===typeof this.source?this.source(f):this.source).replace(a,function(a,b){return void 0!==f[b]?f[b]:a});return e?e.push(b):b}}(),delete CKEDITOR.loadFullCore,CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(a){function f(){CKEDITOR.currentInstance==a&&(CKEDITOR.currentInstance=null,CKEDITOR.fire("currentInstance"))}CKEDITOR.instances[a.name]=a;a.on("focus",function(){CKEDITOR.currentInstance!=
a&&(CKEDITOR.currentInstance=a,CKEDITOR.fire("currentInstance"))});a.on("blur",f);a.on("destroy",f);CKEDITOR.fire("instance",null,a)},CKEDITOR.remove=function(a){delete CKEDITOR.instances[a.name]},function(){var a={};CKEDITOR.addTemplate=function(f,e){var b=a[f];if(b)return b;b={name:f,source:e};CKEDITOR.fire("template",b);return a[f]=new CKEDITOR.template(b.source)};CKEDITOR.getTemplate=function(f){return a[f]}}(),function(){var a=[];CKEDITOR.addCss=function(f){a.push(f)};CKEDITOR.getCss=function(){return a.join("\n")}}(),
CKEDITOR.on("instanceDestroyed",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")}),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,function(){CKEDITOR.inline=function(a,f){a=CKEDITOR.editor._getEditorElement(a);if(!a)return null;if(CKEDITOR.editor.shouldDelayEditorCreation(a,f))return CKEDITOR.editor.initializeDelayedEditorCreation(a,f,"inline");var e=a.is("textarea")?a:null,b=e?e.getValue():a.getHtml(),c=new CKEDITOR.editor(f,a,CKEDITOR.ELEMENT_MODE_INLINE);
e?(c.setData(b,null,!0),a=CKEDITOR.dom.element.createFromHtml('\x3cdiv contenteditable\x3d"'+!!c.readOnly+'" class\x3d"cke_textarea_inline"\x3e'+e.getValue()+"\x3c/div\x3e",CKEDITOR.document),a.insertAfter(e),e.hide(),e.$.form&&c._attachToForm()):(f&&"undefined"!==typeof f.readOnly&&!f.readOnly&&a.setAttribute("contenteditable","true"),c.setData(b,null,!0));c.on("loaded",function(){c.fire("uiReady");c.editable(a);c.container=a;c.ui.contentsElement=a;c.setData(c.getData(1));c.resetDirty();c.fire("contentDom");
c.mode="wysiwyg";c.fire("mode");c.status="ready";c.fireOnce("instanceReady");CKEDITOR.fire("instanceReady",null,c)},null,null,1E4);c.on("destroy",function(){var a=c.container;e&&a&&(a.clearCustomData(),a.remove());e&&e.show();c.element.clearCustomData();delete c.element});return c};CKEDITOR.inlineAll=function(){var a,f,e;for(e in CKEDITOR.dtd.$editable)for(var b=CKEDITOR.document.getElementsByTag(e),c=0,k=b.count();c<k;c++)a=b.getItem(c),"true"!=a.getAttribute("contenteditable")||a.getEditor()||(f=
{element:a,config:{}},!1!==CKEDITOR.fire("inline",f)&&CKEDITOR.inline(a,f.config))};CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()})}(),CKEDITOR.replaceClass="ckeditor",function(){function a(a,c,k,l){a=CKEDITOR.editor._getEditorElement(a);if(!a)return null;if(CKEDITOR.editor.shouldDelayEditorCreation(a,c))return CKEDITOR.editor.initializeDelayedEditorCreation(a,c,"replace");var m=new CKEDITOR.editor(c,a,l);l==CKEDITOR.ELEMENT_MODE_REPLACE&&(a.setStyle("visibility",
"hidden"),m._.required=a.hasAttribute("required"),a.removeAttribute("required"));k&&m.setData(k,null,!0);m.on("loaded",function(){m.isDestroyed()||m.isDetached()||(e(m),l==CKEDITOR.ELEMENT_MODE_REPLACE&&m.config.autoUpdateElement&&a.$.form&&m._attachToForm(),m.setMode(m.config.startupMode,function(){m.resetDirty();m.status="ready";m.fireOnce("instanceReady");CKEDITOR.fire("instanceReady",null,m)}))});m.on("destroy",f);return m}function f(){var a=this.container,c=this.element;a&&(a.clearCustomData(),
a.remove());c&&(c.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(c.show(),this._.required&&c.setAttribute("required","required")),delete this.element)}function e(a){var c=a.name,e=a.element,f=a.elementMode,m=a.fire("uiSpace",{space:"top",html:""}).html,d=a.fire("uiSpace",{space:"bottom",html:""}).html,h=new CKEDITOR.template('\x3c{outerEl} id\x3d"cke_{name}" class\x3d"{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir\x3d"{langDir}" lang\x3d"{langCode}" role\x3d"application"'+
(a.applicationTitle?' aria-labelledby\x3d"cke_{name}_arialbl"':"")+"\x3e"+(a.applicationTitle?'\x3cspan id\x3d"cke_{name}_arialbl" class\x3d"cke_voice_label"\x3e{voiceLabel}\x3c/span\x3e':"")+'\x3c{outerEl} class\x3d"cke_inner cke_reset" role\x3d"presentation"\x3e{topHtml}\x3c{outerEl} id\x3d"{contentId}" class\x3d"cke_contents cke_reset" role\x3d"presentation"\x3e\x3c/{outerEl}\x3e{bottomHtml}\x3c/{outerEl}\x3e\x3c/{outerEl}\x3e'),c=CKEDITOR.dom.element.createFromHtml(h.output({id:a.id,name:c,langDir:a.lang.dir,
langCode:a.langCode,voiceLabel:a.applicationTitle,topHtml:m?'\x3cspan id\x3d"'+a.ui.spaceId("top")+'" class\x3d"cke_top cke_reset_all" role\x3d"presentation" style\x3d"height:auto"\x3e'+m+"\x3c/span\x3e":"",contentId:a.ui.spaceId("contents"),bottomHtml:d?'\x3cspan id\x3d"'+a.ui.spaceId("bottom")+'" class\x3d"cke_bottom cke_reset_all" role\x3d"presentation"\x3e'+d+"\x3c/span\x3e":"",outerEl:CKEDITOR.env.ie?"span":"div"}));f==CKEDITOR.ELEMENT_MODE_REPLACE?(e.hide(),c.insertAfter(e)):e.append(c);a.container=
c;a.ui.contentsElement=a.ui.space("contents");m&&a.ui.space("top").unselectable();d&&a.ui.space("bottom").unselectable();e=a.config.width;f=a.config.height;e&&c.setStyle("width",CKEDITOR.tools.cssLength(e));f&&a.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(f));c.disableContextMenu();CKEDITOR.env.webkit&&c.on("focus",function(){a.focus()});a.fireOnce("uiReady")}CKEDITOR.replace=function(b,c){return a(b,c,null,CKEDITOR.ELEMENT_MODE_REPLACE)};CKEDITOR.appendTo=function(b,c,e){return a(b,
c,e,CKEDITOR.ELEMENT_MODE_APPENDTO)};CKEDITOR.replaceAll=function(){for(var a=document.getElementsByTagName("textarea"),c=0;c<a.length;c++){var e=null,f=a[c];if(f.name||f.id){if("string"==typeof arguments[0]){if(!(new RegExp("(?:^|\\s)"+arguments[0]+"(?:$|\\s)")).test(f.className))continue}else if("function"==typeof arguments[0]&&(e={},!1===arguments[0](f,e)))continue;this.replace(f,e)}}};CKEDITOR.editor.prototype.addMode=function(a,c){(this._.modes||(this._.modes={}))[a]=c};CKEDITOR.editor.prototype.setMode=
function(a,c){var e=this,f=this._.modes;if(a!=e.mode&&f&&f[a]){e.fire("beforeSetMode",a);if(e.mode){var m=e.checkDirty(),f=e._.previousModeData,d,h=0;e.fire("beforeModeUnload");e.editable(0);e._.previousMode=e.mode;e._.previousModeData=d=e.getData(1);"source"==e.mode&&f==d&&(e.fire("lockSnapshot",{forceUpdate:!0}),h=1);e.ui.space("contents").setHtml("");e.mode=""}else e._.previousModeData=e.getData(1);this._.modes[a](function(){e.mode=a;void 0!==m&&!m&&e.resetDirty();h?e.fire("unlockSnapshot"):"wysiwyg"==
a&&e.fire("saveSnapshot");setTimeout(function(){e.isDestroyed()||e.isDetached()||(e.fire("mode"),c&&c.call(e))},0)})}};CKEDITOR.editor.prototype.resize=function(a,c,e,f){var m=this.container,d=this.ui.space("contents"),h=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;f=f?this.container.getFirst(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass("cke_inner")}):m;if(a||0===a)a=CKEDITOR.tools.convertToPx(CKEDITOR.tools.cssLength(a));f.setSize("width",a,!0);h&&
(h.style.width="1%");c=CKEDITOR.tools.convertToPx(CKEDITOR.tools.cssLength(c));var g=(f.$.offsetHeight||0)-(d.$.clientHeight||0),m=Math.max(c-(e?0:g),0);c=e?c+g:c;d.setStyle("height",CKEDITOR.tools.cssLength(m));h&&(h.style.width="100%");this.fire("resize",{outerHeight:c,contentsHeight:m,outerWidth:a||f.getSize("width")})};CKEDITOR.editor.prototype.getResizable=function(a){return a?this.ui.space("contents"):this.container};CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})}(),
CKEDITOR.config.startupMode="wysiwyg",function(){function a(a){var c=a.editor,g=a.data.path,e=g.blockLimit,h=a.data.selection,k=h.getRanges()[0],l;if(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)if(h=f(h,g))h.appendBogus(),l=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.edge&&c._.previousActive;d(c,g.block,e)&&k.collapsed&&!k.getCommonAncestor().isReadOnly()&&(g=k.clone(),g.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),e=new CKEDITOR.dom.walker(g),e.guard=function(a){return!b(a)||
a.type==CKEDITOR.NODE_COMMENT||a.isReadOnly()},!e.checkForward()||g.checkStartOfBlock()&&g.checkEndOfBlock())&&(c=k.fixBlock(!0,c.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.needsBrFiller||(c=c.getFirst(b))&&c.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(c.getText()).match(/^(?:&nbsp;|\xa0)$/)&&c.remove(),l=1,a.cancel());l&&k.select()}function f(a,d){if(a.isFake)return 0;var c=d.block||d.blockLimit,g=c&&c.getLast(b);if(!(!c||!c.isBlockBoundary()||g&&g.type==CKEDITOR.NODE_ELEMENT&&
g.isBlockBoundary()||c.is("pre")||c.getBogus()))return c}function e(a){var b=a.data.getTarget();b.is("input")&&(b=b.getAttribute("type"),"submit"!=b&&"reset"!=b||a.data.preventDefault())}function b(a){return x(a)&&r(a)}function c(a,b){return function(d){var c=d.data.$.toElement||d.data.$.fromElement||d.data.$.relatedTarget;(c=c&&c.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(c):null)&&(b.equals(c)||b.contains(c))||a.call(this,d)}}function k(a){return!!a.getRanges()[0].startPath().contains({table:1,
ul:1,ol:1,dl:1})}function l(a){function d(a){var g={table:1,ul:1,ol:1,dl:1};return function(d,e){e&&d.type==CKEDITOR.NODE_ELEMENT&&d.is(g)&&(c=d);if(!(e||!b(d)||a&&u(d)))return!1}}var c,g=a.getRanges()[0],e=a.root;return k(a)&&(a=g.clone(),a.collapse(1),a.setStartAt(e,CKEDITOR.POSITION_AFTER_START),e=new CKEDITOR.dom.walker(a),e.guard=d(),e.checkBackward(),c)?(a=g.clone(),a.collapse(),a.setEndAt(c,CKEDITOR.POSITION_AFTER_END),e=new CKEDITOR.dom.walker(a),e.guard=d(!0),c=!1,e.checkForward(),c):null}
function m(a){return a.block.getParent().getChildCount()}function d(a,b,d){return!1!==a.config.autoParagraph&&a.activeEnterMode!=CKEDITOR.ENTER_BR&&(a.editable().equals(d)&&!b||b&&"true"==b.getAttribute("contenteditable"))}function h(a){return a.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==a.config.autoParagraph?a.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p":!1}function g(a){a&&a.isEmptyInlineRemoveable()&&a.remove()}function n(a){var b=a.editor;b.getSelection().scrollIntoView();setTimeout(function(){b.fire("saveSnapshot")},
0)}function w(a,b,d){var c=a.getCommonAncestor(b);for(b=a=d?b:a;(a=a.getParent())&&!c.equals(a)&&1==a.getChildCount();)b=a;b.remove()}var x,r,p,u,z,q,A,y,t,v,B={ul:1,ol:1,dl:1};CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(a,b){this.base(b.$||b);this.editor=a;this.status="unloaded";this.hasFocus=!1;this.setup()},proto:{focus:function(){var a;if(CKEDITOR.env.webkit&&!this.hasFocus&&(a=this.editor._.previousActive||this.getDocument().getActive(),this.contains(a))){a.focus();
return}CKEDITOR.env.edge&&14<CKEDITOR.env.version&&!this.hasFocus&&this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);try{if(!CKEDITOR.env.ie||CKEDITOR.env.edge&&14<CKEDITOR.env.version||!this.getDocument().equals(CKEDITOR.document))if(CKEDITOR.env.chrome){var b=this.$.scrollTop;this.$.focus();this.$.scrollTop=b}else this.$.focus();else this.$.setActive()}catch(d){if(!CKEDITOR.env.ie)throw d;}CKEDITOR.env.safari&&!this.isInline()&&(a=CKEDITOR.document.getActive(),
a.equals(this.getWindow().getFrame())||this.getWindow().focus())},on:function(a,b){var d=Array.prototype.slice.call(arguments,0);CKEDITOR.env.ie&&/^focus|blur$/.exec(a)&&(a="focus"==a?"focusin":"focusout",b=c(b,this),d[0]=a,d[1]=b);return CKEDITOR.dom.element.prototype.on.apply(this,d)},attachListener:function(a){!this._.listeners&&(this._.listeners=[]);var b=Array.prototype.slice.call(arguments,1),b=a.on.apply(a,b);this._.listeners.push(b);return b},clearListeners:function(){var a=this._.listeners;
try{for(;a.length;)a.pop().removeListener()}catch(b){}},restoreAttrs:function(){var a=this._.attrChanges,b,d;for(d in a)a.hasOwnProperty(d)&&(b=a[d],null!==b?this.setAttribute(d,b):this.removeAttribute(d))},attachClass:function(a){var b=this.getCustomData("classes");this.hasClass(a)||(!b&&(b=[]),b.push(a),this.setCustomData("classes",b),this.addClass(a))},changeAttr:function(a,b){var d=this.getAttribute(a);b!==d&&(!this._.attrChanges&&(this._.attrChanges={}),a in this._.attrChanges||(this._.attrChanges[a]=
d),this.setAttribute(a,b))},insertText:function(a){this.editor.focus();this.insertHtml(this.transformPlainTextToHtml(a),"text")},transformPlainTextToHtml:function(a){var b=this.editor.getSelection().getStartElement().hasAscendant("pre",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(a,b)},insertHtml:function(a,b,d){var c=this.editor;c.focus();c.fire("saveSnapshot");d||(d=c.getSelection().getRanges()[0]);q(this,b||"html",a,d);d.select();n(this);this.editor.fire("afterInsertHtml",
{})},insertHtmlIntoRange:function(a,b,d){q(this,d||"html",a,b);this.editor.fire("afterInsertHtml",{intoRange:b})},insertElement:function(a,d){var c=this.editor;c.focus();c.fire("saveSnapshot");var g=c.activeEnterMode,c=c.getSelection(),e=a.getName(),e=CKEDITOR.dtd.$block[e];d||(d=c.getRanges()[0]);this.insertElementIntoRange(a,d)&&(d.moveToPosition(a,CKEDITOR.POSITION_AFTER_END),e&&((e=a.getNext(function(a){return b(a)&&!u(a)}))&&e.type==CKEDITOR.NODE_ELEMENT&&e.is(CKEDITOR.dtd.$block)?e.getDtd()["#"]?
d.moveToElementEditStart(e):d.moveToElementEditEnd(a):e||g==CKEDITOR.ENTER_BR||(e=d.fixBlock(!0,g==CKEDITOR.ENTER_DIV?"div":"p"),d.moveToElementEditStart(e))));c.selectRanges([d]);n(this)},insertElementIntoSelection:function(a){this.insertElement(a)},insertElementIntoRange:function(a,b){var d=this.editor,c=d.config.enterMode,e=a.getName(),h=CKEDITOR.dtd.$block[e];if(b.checkReadOnly())return!1;b.deleteContents(1);b.startContainer.type==CKEDITOR.NODE_ELEMENT&&(b.startContainer.is({tr:1,table:1,tbody:1,
thead:1,tfoot:1})?A(b):b.startContainer.is(CKEDITOR.dtd.$list)&&y(b));var f,k;if(h)for(;(f=b.getCommonAncestor(0,1))&&(k=CKEDITOR.dtd[f.getName()])&&(!k||!k[e]);)if(f.getName()in CKEDITOR.dtd.span){var h=b.splitElement(f),l=b.createBookmark();g(f);g(h);b.moveToBookmark(l)}else b.checkStartOfBlock()&&b.checkEndOfBlock()?(b.setStartBefore(f),b.collapse(!0),f.remove()):b.splitBlock(c==CKEDITOR.ENTER_DIV?"div":"p",d.editable());b.insertNode(a);return!0},setData:function(a,b){b||(a=this.editor.dataProcessor.toHtml(a));
this.setHtml(a);this.fixInitialSelection();"unloaded"==this.status&&(this.status="ready");this.editor.fire("dataReady")},getData:function(a){var b=this.getHtml();a||(b=this.editor.dataProcessor.toDataFormat(b));return b},setReadOnly:function(a){this.setAttribute("contenteditable",String(!a));this.setAttribute("aria-readonly",String(a))},detach:function(){this.status="detached";this.editor.setData(this.editor.getData(),{internal:!0});this.clearListeners();try{this._.cleanCustomData()}catch(a){if(!CKEDITOR.env.ie||
-2146828218!==a.number)throw a;}this.editor.fire("contentDomUnload");delete this.editor.document;delete this.editor.window;delete this.editor},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function a(){var b=d.getDocument().$,c=b.getSelection(),g;a:if(c.anchorNode&&c.anchorNode==d.$)g=!0;else{if(CKEDITOR.env.webkit&&(g=d.getDocument().getActive())&&g.equals(d)&&!c.anchorNode){g=!0;break a}g=void 0}g&&(g=new CKEDITOR.dom.range(d),g.moveToElementEditStart(d),
b=b.createRange(),b.setStart(g.startContainer.$,g.startOffset),b.collapse(!0),c.removeAllRanges(),c.addRange(b))}function b(){var a=d.getDocument().$,c=a.selection,g=d.getDocument().getActive();"None"==c.type&&g.equals(d)&&(c=new CKEDITOR.dom.range(d),a=a.body.createTextRange(),c.moveToElementEditStart(d),c=c.startContainer,c.type!=CKEDITOR.NODE_ELEMENT&&(c=c.getParent()),a.moveToElementText(c.$),a.collapse(!0),a.select())}var d=this;if(CKEDITOR.env.ie&&(9>CKEDITOR.env.version||CKEDITOR.env.quirks))this.hasFocus&&
(this.focus(),b());else if(this.hasFocus)this.focus(),a();else this.once("focus",function(){a()},null,null,-999)},getHtmlFromRange:function(a){if(a.collapsed)return new CKEDITOR.dom.documentFragment(a.document);a={doc:this.getDocument(),range:a.clone()};t.eol.detect(a,this);t.bogus.exclude(a);t.cell.shrink(a);a.fragment=a.range.cloneContents();t.tree.rebuild(a,this);t.eol.fix(a,this);return new CKEDITOR.dom.documentFragment(a.fragment.$)},extractHtmlFromRange:function(a,b){var d=v,c={range:a,doc:a.document},
g=this.getHtmlFromRange(a);if(a.collapsed)return a.optimize(),g;a.enlarge(CKEDITOR.ENLARGE_INLINE,1);d.table.detectPurge(c);c.bookmark=a.createBookmark();delete c.range;var e=this.editor.createRange();e.moveToPosition(c.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START);c.targetBookmark=e.createBookmark();d.list.detectMerge(c,this);d.table.detectRanges(c,this);d.block.detectMerge(c,this);c.tableContentsRanges?(d.table.deleteRanges(c),a.moveToBookmark(c.bookmark),c.range=a):(a.moveToBookmark(c.bookmark),
c.range=a,a.extractContents(d.detectExtractMerge(c)));a.moveToBookmark(c.targetBookmark);a.optimize();d.fixUneditableRangePosition(a);d.list.merge(c,this);d.table.purge(c,this);d.block.merge(c,this);if(b){d=a.startPath();if(c=a.checkStartOfBlock()&&a.checkEndOfBlock()&&d.block&&!a.root.equals(d.block)){a:{var c=d.block.getElementsByTag("span"),e=0,h;if(c)for(;h=c.getItem(e++);)if(!r(h)){c=!0;break a}c=!1}c=!c}c&&(a.moveToPosition(d.block,CKEDITOR.POSITION_BEFORE_START),d.block.remove())}else d.autoParagraph(this.editor,
a),p(a.startContainer)&&a.startContainer.appendBogus();a.startContainer.mergeSiblings();return g},setup:function(){var a=this.editor;this.attachListener(a,"beforeGetData",function(){var b=this.getData();this.is("textarea")||!1!==a.config.ignoreEmptyParagraph&&(b=b.replace(z,function(a,b){return b}));a.setData(b,null,1)},this);this.attachListener(a,"getSnapshot",function(a){a.data=this.getData(1)},this);this.attachListener(a,"afterSetData",function(){this.setData(a.getData(1))},this);this.attachListener(a,
"loadSnapshot",function(a){this.setData(a.data,1)},this);this.attachListener(a,"beforeFocus",function(){var b=a.getSelection();(b=b&&b.getNative())&&"Control"==b.type||this.focus()},this);this.attachListener(a,"insertHtml",function(a){this.insertHtml(a.data.dataValue,a.data.mode,a.data.range)},this);this.attachListener(a,"insertElement",function(a){this.insertElement(a.data)},this);this.attachListener(a,"insertText",function(a){this.insertText(a.data)},this);this.setReadOnly(a.readOnly);this.attachClass("cke_editable");
a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass("cke_editable_inline"):a.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&a.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||this.attachClass("cke_editable_themed");this.attachClass("cke_contents_"+a.config.contentsLangDirection);a.keystrokeHandler.blockedKeystrokes[8]=+a.readOnly;a.keystrokeHandler.attach(this);this.on("blur",function(){this.hasFocus=!1},null,null,-1);this.on("focus",function(){this.hasFocus=!0},null,null,-1);if(CKEDITOR.env.webkit)this.on("scroll",
function(){a._.previousScrollTop=a.editable().$.scrollTop},null,null,-1);if(CKEDITOR.env.edge&&14<CKEDITOR.env.version){var d=function(){var b=a.editable();null!=a._.previousScrollTop&&b.getDocument().equals(CKEDITOR.document)&&(b.$.scrollTop=a._.previousScrollTop,a._.previousScrollTop=null,this.removeListener("scroll",d))};this.on("scroll",d)}a.focusManager.add(this);this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,a.once("contentDom",function(){a.focusManager.focus(this)},this));this.isInline()&&
this.changeAttr("tabindex",a.tabIndex);if(!this.is("textarea")){a.document=this.getDocument();a.window=this.getWindow();var c=a.document;this.changeAttr("spellcheck",!a.config.disableNativeSpellChecker);var g=a.config.contentsLangDirection;this.getDirection(1)!=g&&this.changeAttr("dir",g);var h=CKEDITOR.getCss();if(h){var g=c.getHead(),f=g.getCustomData("stylesheet");f?h!=f.getText()&&(CKEDITOR.env.ie&&9>CKEDITOR.env.version?f.$.styleSheet.cssText=h:f.setText(h)):(h=c.appendStyleText(h),h=new CKEDITOR.dom.element(h.ownerNode||
h.owningElement),g.setCustomData("stylesheet",h),h.data("cke-temp",1))}g=c.getCustomData("stylesheet_ref")||0;c.setCustomData("stylesheet_ref",g+1);this.setCustomData("cke_includeReadonly",!a.config.disableReadonlyStyling);this.attachListener(this,"click",function(a){a=a.data;var b=(new CKEDITOR.dom.elementPath(a.getTarget(),this)).contains("a");b&&2!=a.$.button&&b.isReadOnly()&&a.preventDefault()});var n={8:1,46:1};this.attachListener(a,"key",function(b){if(a.readOnly)return!0;var d=b.data.domEvent.getKey(),
c,g=a.getSelection();if(0!==g.getRanges().length){if(d in n){var e;b=g.getRanges()[0];var h=b.startPath(),f,w,v,d=8==d,q=!1;if(CKEDITOR.env.ie&&11>CKEDITOR.env.version&&g.getSelectedElement())e=g.getSelectedElement();else if(k(g)){var u=new CKEDITOR.dom.walker(b),t=b.collapsed?b.startContainer:u.next(),q=!1,F;if(b.checkStartOfBlock()){F=b.startPath().block||b.startPath().blockLimit;var y=F.getName();F=-1!==CKEDITOR.tools.array.indexOf(["dd","dt","li"],y)&&null===F.getPrevious()}else F=!1;if(F){for(;t&&
!q;)q=t.$.nodeName.toLowerCase(),q=!!B[q],t=u.next();u=m(b.startPath());t=m(b.endPath());q=q||u!==t}else q=void 0;q||(e=l(g))}e||q?(a.fire("saveSnapshot"),q?((c=b.startContainer.getAscendant(B,!0))?(b.setStart(c,0),b.enlarge(CKEDITOR.ENLARGE_ELEMENT),e=b):e=null,e.deleteContents()):(b.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),e.remove()),b.select(),a.fire("saveSnapshot"),c=1):b.collapsed&&((f=h.block)&&(v=f[d?"getPrevious":"getNext"](x))&&v.type==CKEDITOR.NODE_ELEMENT&&v.is("table")&&b[d?"checkStartOfBlock":
"checkEndOfBlock"]()?(a.fire("saveSnapshot"),b[d?"checkEndOfBlock":"checkStartOfBlock"]()&&f.remove(),b["moveToElementEdit"+(d?"End":"Start")](v),b.select(),a.fire("saveSnapshot"),c=1):h.blockLimit&&h.blockLimit.is("td")&&(w=h.blockLimit.getAscendant("table"))&&b.checkBoundaryOfElement(w,d?CKEDITOR.START:CKEDITOR.END)&&(v=w[d?"getPrevious":"getNext"](x))?(a.fire("saveSnapshot"),b["moveToElementEdit"+(d?"End":"Start")](v),b.checkStartOfBlock()&&b.checkEndOfBlock()?v.remove():b.select(),a.fire("saveSnapshot"),
c=1):(w=h.contains(["td","th","caption"]))&&b.checkBoundaryOfElement(w,d?CKEDITOR.START:CKEDITOR.END)&&(c=1))}return!c}});a.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,"keyup",function(d){d.data.getKeystroke()in n&&!this.getFirst(b)&&(this.appendBogus(),d=a.createRange(),d.moveToPosition(this,CKEDITOR.POSITION_AFTER_START),d.select())});this.attachListener(this,"dblclick",function(b){if(a.readOnly)return!1;b={element:b.data.getTarget()};a.fire("doubleclick",b)});
CKEDITOR.env.ie&&this.attachListener(this,"click",e);CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,"mousedown",function(b){var d=b.data.getTarget();d.is("img","hr","input","textarea","select")&&!d.isReadOnly()&&(a.getSelection().selectElement(d),d.is("input","textarea","select")&&b.data.preventDefault())});CKEDITOR.env.edge&&this.attachListener(this,"mouseup",function(b){(b=b.data.getTarget())&&b.is("img")&&!b.isReadOnly()&&a.getSelection().selectElement(b)});CKEDITOR.env.gecko&&this.attachListener(this,
"mouseup",function(b){if(2==b.data.$.button&&(b=b.data.getTarget(),!b.getAscendant("table")&&!b.getOuterHtml().replace(z,""))){var d=a.createRange();d.moveToElementEditStart(b);d.select(!0)}});CKEDITOR.env.webkit&&(this.attachListener(this,"click",function(a){a.data.getTarget().is("input","select")&&a.data.preventDefault()}),this.attachListener(this,"mouseup",function(a){a.data.getTarget().is("input","textarea")&&a.data.preventDefault()}));CKEDITOR.env.webkit&&this.attachListener(a,"key",function(b){if(a.readOnly)return!0;
var d=b.data.domEvent.getKey();if(d in n&&(b=a.getSelection(),0!==b.getRanges().length)){var d=8==d,c=b.getRanges()[0];b=c.startPath();if(c.collapsed)a:{var g=b.block;if(g&&c[d?"checkStartOfBlock":"checkEndOfBlock"](!0)&&c.moveToClosestEditablePosition(g,!d)&&c.collapsed){if(c.startContainer.type==CKEDITOR.NODE_ELEMENT){var e=c.startContainer.getChild(c.startOffset-(d?1:0));if(e&&e.type==CKEDITOR.NODE_ELEMENT&&e.is("hr")){a.fire("saveSnapshot");e.remove();b=!0;break a}}c=c.startPath().block;if(!c||
c&&c.contains(g))b=void 0;else{a.fire("saveSnapshot");var h;(h=(d?c:g).getBogus())&&h.remove();h=a.getSelection();e=h.createBookmarks();(d?g:c).moveChildren(d?c:g,!1);b.lastElement.mergeSiblings();w(g,c,!d);h.selectBookmarks(e);b=!0}}else b=!1}else d=c,h=b.block,c=d.endPath().block,h&&c&&!h.equals(c)?(a.fire("saveSnapshot"),(g=h.getBogus())&&g.remove(),d.enlarge(CKEDITOR.ENLARGE_INLINE),d.deleteContents(),c.getParent()&&(c.moveChildren(h,!1),b.lastElement.mergeSiblings(),w(h,c,!0)),d=a.getSelection().getRanges()[0],
d.collapse(1),d.optimize(),""===d.startContainer.getHtml()&&d.startContainer.appendBogus(),d.select(),b=!0):b=!1;if(!b)return;a.getSelection().scrollIntoView();a.fire("saveSnapshot");return!1}},this,null,100)}},getUniqueId:function(){var a;try{this._.expandoNumber=a=CKEDITOR.dom.domObject.prototype.getUniqueId.call(this)}catch(b){a=this._&&this._.expandoNumber}return a}},_:{cleanCustomData:function(){this.removeClass("cke_editable");this.restoreAttrs();for(var a=this.removeCustomData("classes");a&&
a.length;)this.removeClass(a.pop());if(!this.is("textarea")){var a=this.getDocument(),b=a.getHead();if(b.getCustomData("stylesheet")){var d=a.getCustomData("stylesheet_ref");--d?a.setCustomData("stylesheet_ref",d):(a.removeCustomData("stylesheet_ref"),b.removeCustomData("stylesheet").remove())}}}}});CKEDITOR.editor.prototype.editable=function(a){var b=this._.editable;if(b&&a)return 0;if(!arguments.length)return b;a?b=a instanceof CKEDITOR.editable?a:new CKEDITOR.editable(this,a):(b&&b.detach(),b=
null);return this._.editable=b};CKEDITOR.on("instanceLoaded",function(b){var d=b.editor;d.on("insertElement",function(a){a=a.data;a.type==CKEDITOR.NODE_ELEMENT&&(a.is("input")||a.is("textarea"))&&("false"!=a.getAttribute("contentEditable")&&a.data("cke-editable",a.hasAttribute("contenteditable")?"true":"1"),a.setAttribute("contentEditable",!1))});d.on("selectionChange",function(b){if(!d.readOnly){var c=d.getSelection();c&&!c.isLocked&&(c=d.checkDirty(),d.fire("lockSnapshot"),a(b),d.fire("unlockSnapshot"),
!c&&d.resetDirty())}})});CKEDITOR.on("instanceCreated",function(a){var b=a.editor;b.on("mode",function(){var a=b.editable();if(a&&a.isInline()){var d=b.title;a.changeAttr("role","textbox");a.changeAttr("aria-multiline","true");d&&a.changeAttr("aria-label",d);d&&a.changeAttr("title",d);var c=b.fire("ariaEditorHelpLabel",{}).label;if(c&&(d=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents"))){var g=CKEDITOR.tools.getNextId(),c=CKEDITOR.dom.element.createFromHtml('\x3cspan id\x3d"'+
g+'" class\x3d"cke_voice_label"\x3e'+c+"\x3c/span\x3e");d.append(c);a.changeAttr("aria-describedby",g)}}})});CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}");x=CKEDITOR.dom.walker.whitespaces(!0);r=CKEDITOR.dom.walker.bookmark(!1,!0);p=CKEDITOR.dom.walker.empty();u=CKEDITOR.dom.walker.bogus();z=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi;q=
function(){function a(b){return b.type==CKEDITOR.NODE_ELEMENT}function c(b,d){var g,e,h,f,k=[],l=d.range.startContainer;g=d.range.startPath();for(var l=m[l.getName()],n=0,L=b.getChildren(),w=L.count(),v=-1,q=-1,t=0,u=g.contains(m.$list);n<w;++n)g=L.getItem(n),a(g)?(h=g.getName(),u&&h in CKEDITOR.dtd.$list?k=k.concat(c(g,d)):(f=!!l[h],"br"!=h||!g.data("cke-eol")||n&&n!=w-1||(t=(e=n?k[n-1].node:L.getItem(n+1))&&(!a(e)||!e.is("br")),e=e&&a(e)&&m.$block[e.getName()]),-1!=v||f||(v=n),f||(q=n),k.push({isElement:1,
isLineBreak:t,isBlock:g.isBlockBoundary(),hasBlockSibling:e,node:g,name:h,allowed:f}),e=t=0)):k.push({isElement:0,node:g,allowed:1});-1<v&&(k[v].firstNotAllowed=1);-1<q&&(k[q].lastNotAllowed=1);return k}function e(b,d){var c=[],g=b.getChildren(),h=g.count(),f,k=0,l=m[d],n=!b.is(m.$inline)||b.is("br");for(n&&c.push(" ");k<h;k++)f=g.getItem(k),a(f)&&!f.is(l)?c=c.concat(e(f,d)):c.push(f);n&&c.push(" ");return c}function f(b){return a(b.startContainer)&&b.startContainer.getChild(b.startOffset-1)}function k(b){return b&&
a(b)&&(b.is(m.$removeEmpty)||b.is("a")&&!b.isBlockBoundary())}function l(b,d,c,g){var e=b.clone(),h,f;e.setEndAt(d,CKEDITOR.POSITION_BEFORE_END);(h=(new CKEDITOR.dom.walker(e)).next())&&a(h)&&w[h.getName()]&&(f=h.getPrevious())&&a(f)&&!f.getParent().equals(b.startContainer)&&c.contains(f)&&g.contains(h)&&h.isIdentical(f)&&(h.moveChildren(f),h.remove(),l(b,d,c,g))}function n(b,d){function c(b,d){if(d.isBlock&&d.isElement&&!d.node.is("br")&&a(b)&&b.is("br"))return b.remove(),1}var g=d.endContainer.getChild(d.endOffset),
e=d.endContainer.getChild(d.endOffset-1);g&&c(g,b[b.length-1]);e&&c(e,b[0])&&(d.setEnd(d.endContainer,d.endOffset-1),d.collapse())}var m=CKEDITOR.dtd,w={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},v={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},L=CKEDITOR.tools.extend({},m.$inline);delete L.br;return function(w,q,t,u){var y=w.editor,p=!1,r;"unfiltered_html"==q&&(q="html",p=!0);if(!u.checkReadOnly()){var x=(new CKEDITOR.dom.elementPath(u.startContainer,u.root)).blockLimit||
u.root;q={type:q,dontFilter:p,editable:w,editor:y,range:u,blockLimit:x,mergeCandidates:[],zombies:[]};var p=q.range,x=q.mergeCandidates,E="html"===q.type,A,B,T,Z,aa;"text"==q.type&&p.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(B=CKEDITOR.dom.element.createFromHtml("\x3cspan\x3e\x26nbsp;\x3c/span\x3e",p.document),p.insertNode(B),p.setStartAfter(B));T=new CKEDITOR.dom.elementPath(p.startContainer);q.endPath=Z=new CKEDITOR.dom.elementPath(p.endContainer);if(!p.collapsed){A=Z.block||Z.blockLimit;var ca=p.getCommonAncestor();
A&&!A.equals(ca)&&!A.contains(ca)&&p.checkEndOfBlock()&&q.zombies.push(A);p.deleteContents()}for(;(aa=f(p))&&a(aa)&&aa.isBlockBoundary()&&T.contains(aa);)p.moveToPosition(aa,CKEDITOR.POSITION_BEFORE_END);l(p,q.blockLimit,T,Z);B&&(p.setEndBefore(B),p.collapse(),B.remove());B=p.startPath();if(A=B.contains(k,!1,1))r=p.splitElement(A),q.inlineStylesRoot=A,q.inlineStylesPeak=B.lastElement;B=p.createBookmark();E&&(g(A),g(r));(A=B.startNode.getPrevious(b))&&a(A)&&k(A)&&x.push(A);(A=B.startNode.getNext(b))&&
a(A)&&k(A)&&x.push(A);for(A=B.startNode;(A=A.getParent())&&k(A);)x.push(A);p.moveToBookmark(B);r=w.getHtml();r=""===r||r.match(z);y.enterMode===CKEDITOR.ENTER_DIV&&r&&((y=w.getFirst())&&y.remove(),u.setStartAt(w,CKEDITOR.POSITION_AFTER_START),u.collapse(!0));if(w=t){w=q.range;if("text"==q.type&&q.inlineStylesRoot){u=q.inlineStylesPeak;y=u.getDocument().createText("{cke-peak}");for(r=q.inlineStylesRoot.getParent();!u.equals(r);)y=y.appendTo(u.clone()),u=u.getParent();t=y.getOuterHtml().split("{cke-peak}").join(t)}u=
q.blockLimit.getName();if(/^\s+|\s+$/.test(t)&&"span"in CKEDITOR.dtd[u]){var V='\x3cspan data-cke-marker\x3d"1"\x3e\x26nbsp;\x3c/span\x3e';t=V+t+V}t=q.editor.dataProcessor.toHtml(t,{context:null,fixForBody:!1,protectedWhitespaces:!!V,dontFilter:q.dontFilter,filter:q.editor.activeFilter,enterMode:q.editor.activeEnterMode});u=w.document.createElement("body");u.setHtml(t);V&&(u.getFirst().remove(),u.getLast().remove());if((V=w.startPath().block)&&(1!=V.getChildCount()||!V.getBogus()))a:{var Q;if(1==
u.getChildCount()&&a(Q=u.getFirst())&&Q.is(v)&&!Q.hasAttribute("contenteditable")){V=Q.getElementsByTag("*");w=0;for(r=V.count();w<r;w++)if(y=V.getItem(w),!y.is(L))break a;Q.moveChildren(Q.getParent(1));Q.remove()}}q.dataWrapper=u;w=t}if(w){Q=q.range;w=Q.document;u=q.blockLimit;r=0;var I,V=[],fa,R;t=B=0;var ba,y=Q.startContainer;aa=q.endPath.elements[0];var W,p=aa.getPosition(y),x=!!aa.getCommonAncestor(y)&&p!=CKEDITOR.POSITION_IDENTICAL&&!(p&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED),
y=c(q.dataWrapper,q);for(q.editor.enterMode!==CKEDITOR.ENTER_BR&&n(y,Q);r<y.length;r++){p=y[r];if(E=p.isLineBreak)E=Q,A=u,Z=T=void 0,p.hasBlockSibling?E=1:(T=E.startContainer.getAscendant(m.$block,1))&&T.is({div:1,p:1})?(Z=T.getPosition(A),Z==CKEDITOR.POSITION_IDENTICAL||Z==CKEDITOR.POSITION_CONTAINS?E=0:(A=E.splitElement(T),E.moveToPosition(A,CKEDITOR.POSITION_AFTER_START),E=1)):E=0;if(E)t=0<r;else{E=Q.startPath();!p.isBlock&&d(q.editor,E.block,E.blockLimit)&&(R=h(q.editor))&&(R=w.createElement(R),
R.appendBogus(),Q.insertNode(R),CKEDITOR.env.needsBrFiller&&(I=R.getBogus())&&I.remove(),Q.moveToPosition(R,CKEDITOR.POSITION_BEFORE_END));if((E=Q.startPath().block)&&!E.equals(fa)){if(I=E.getBogus())I.remove(),V.push(E);fa=E}p.firstNotAllowed&&(B=1);if(B&&p.isElement){E=Q.startContainer;for(A=null;E&&!m[E.getName()][p.name];){if(E.equals(u)){E=null;break}A=E;E=E.getParent()}if(E)A&&(ba=Q.splitElement(A),q.zombies.push(ba),q.zombies.push(A));else{A=u.getName();W=!r;E=r==y.length-1;A=e(p.node,A);T=
[];Z=A.length;for(var ca=0,da=void 0,la=0,ma=-1;ca<Z;ca++)da=A[ca]," "==da?(la||W&&!ca||(T.push(new CKEDITOR.dom.text(" ")),ma=T.length),la=1):(T.push(da),la=0);E&&ma==T.length&&T.pop();W=T}}if(W){for(;E=W.pop();)Q.insertNode(E);W=0}else Q.insertNode(p.node);p.lastNotAllowed&&r<y.length-1&&((ba=x?aa:ba)&&Q.setEndAt(ba,CKEDITOR.POSITION_AFTER_START),B=0);Q.collapse()}}1!=y.length?I=!1:(I=y[0],I=I.isElement&&"false"==I.node.getAttribute("contenteditable"));I&&(t=!0,E=y[0].node,Q.setStartAt(E,CKEDITOR.POSITION_BEFORE_START),
Q.setEndAt(E,CKEDITOR.POSITION_AFTER_END));q.dontMoveCaret=t;q.bogusNeededBlocks=V}I=q.range;var ha;W=q.bogusNeededBlocks;for(fa=I.createBookmark();R=q.zombies.pop();)R.getParent()&&(ba=I.clone(),ba.moveToElementEditStart(R),ba.removeEmptyBlocksAtEnd());if(W)for(;R=W.pop();)CKEDITOR.env.needsBrFiller?R.appendBogus():R.append(I.document.createText(" "));for(;R=q.mergeCandidates.pop();)R.mergeSiblings();CKEDITOR.env.webkit&&I.startPath()&&(R=I.startPath(),R.block?R.block.$.normalize():R.blockLimit&&
R.blockLimit.$.normalize());I.moveToBookmark(fa);if(!q.dontMoveCaret){for(R=f(I);R&&a(R)&&!R.is(m.$empty);){if(R.isBlockBoundary())I.moveToPosition(R,CKEDITOR.POSITION_BEFORE_END);else{if(k(R)&&R.getHtml().match(/(\s|&nbsp;)$/g)){ha=null;break}ha=I.clone();ha.moveToPosition(R,CKEDITOR.POSITION_BEFORE_END)}R=R.getLast(b)}ha&&I.moveToRange(ha)}}}}();A=function(){function a(b){b=new CKEDITOR.dom.walker(b);b.guard=function(a,b){if(b)return!1;if(a.type==CKEDITOR.NODE_ELEMENT)return a.is(CKEDITOR.dtd.$tableContent)};
b.evaluator=function(a){return a.type==CKEDITOR.NODE_ELEMENT};return b}function b(a,d,c){d=a.getDocument().createElement(d);a.append(d,c);return d}function d(a){var b=a.count(),c;for(b;0<b--;)c=a.getItem(b),CKEDITOR.tools.trim(c.getHtml())||(c.appendBogus(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&c.getChildCount()&&c.getFirst().remove())}return function(c){var g=c.startContainer,e=g.getAscendant("table",1),h=!1;d(e.getElementsByTag("td"));d(e.getElementsByTag("th"));e=c.clone();e.setStart(g,0);e=
a(e).lastBackward();e||(e=c.clone(),e.setEndAt(g,CKEDITOR.POSITION_BEFORE_END),e=a(e).lastForward(),h=!0);e||(e=g);e.is("table")?(c.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),c.collapse(!0),e.remove()):(e.is({tbody:1,thead:1,tfoot:1})&&(e=b(e,"tr",h)),e.is("tr")&&(e=b(e,e.getParent().is("thead")?"th":"td",h)),(g=e.getBogus())&&g.remove(),c.moveToPosition(e,h?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}();y=function(){function a(b){b=new CKEDITOR.dom.walker(b);b.guard=function(a,
b){if(b)return!1;if(a.type==CKEDITOR.NODE_ELEMENT)return a.is(CKEDITOR.dtd.$list)||a.is(CKEDITOR.dtd.$listItem)};b.evaluator=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$listItem)};return b}return function(b){var d=b.startContainer,c=!1,g;g=b.clone();g.setStart(d,0);g=a(g).lastBackward();g||(g=b.clone(),g.setEndAt(d,CKEDITOR.POSITION_BEFORE_END),g=a(g).lastForward(),c=!0);g||(g=d);g.is(CKEDITOR.dtd.$list)?(b.setStartAt(g,CKEDITOR.POSITION_BEFORE_START),b.collapse(!0),g.remove()):
((d=g.getBogus())&&d.remove(),b.moveToPosition(g,c?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),b.select())}}();t={eol:{detect:function(a,b){var d=a.range,c=d.clone(),g=d.clone(),e=new CKEDITOR.dom.elementPath(d.startContainer,b),h=new CKEDITOR.dom.elementPath(d.endContainer,b);c.collapse(1);g.collapse();e.block&&c.checkBoundaryOfElement(e.block,CKEDITOR.END)&&(d.setStartAfter(e.block),a.prependEolBr=1);h.block&&g.checkBoundaryOfElement(h.block,CKEDITOR.START)&&(d.setEndBefore(h.block),
a.appendEolBr=1)},fix:function(a,b){var d=b.getDocument(),c;a.appendEolBr&&(c=this.createEolBr(d),a.fragment.append(c));!a.prependEolBr||c&&!c.getPrevious()||a.fragment.append(this.createEolBr(d),1)},createEolBr:function(a){return a.createElement("br",{attributes:{"data-cke-eol":1}})}},bogus:{exclude:function(a){var b=a.range.getBoundaryNodes(),d=b.startNode,b=b.endNode;!b||!u(b)||d&&d.equals(b)||a.range.setEndBefore(b)}},tree:{rebuild:function(a,b){var d=a.range,c=d.getCommonAncestor(),g=new CKEDITOR.dom.elementPath(c,
b),e=new CKEDITOR.dom.elementPath(d.startContainer,b),d=new CKEDITOR.dom.elementPath(d.endContainer,b),h;c.type==CKEDITOR.NODE_TEXT&&(c=c.getParent());if(g.blockLimit.is({tr:1,table:1})){var f=g.contains("table").getParent();h=function(a){return!a.equals(f)}}else if(g.block&&g.block.is(CKEDITOR.dtd.$listItem)&&(e=e.contains(CKEDITOR.dtd.$list),d=d.contains(CKEDITOR.dtd.$list),!e.equals(d))){var k=g.contains(CKEDITOR.dtd.$list).getParent();h=function(a){return!a.equals(k)}}h||(h=function(a){return!a.equals(g.block)&&
!a.equals(g.blockLimit)});this.rebuildFragment(a,b,c,h)},rebuildFragment:function(a,b,d,c){for(var g;d&&!d.equals(b)&&c(d);)g=d.clone(0,1),a.fragment.appendTo(g),a.fragment=g,d=d.getParent()}},cell:{shrink:function(a){a=a.range;var b=a.startContainer,d=a.endContainer,c=a.startOffset,g=a.endOffset;b.type==CKEDITOR.NODE_ELEMENT&&b.equals(d)&&b.is("tr")&&++c==g&&a.shrink(CKEDITOR.SHRINK_TEXT)}}};v=function(){function a(b,d){var c=b.getParent();if(c.is(CKEDITOR.dtd.$inline))b[d?"insertBefore":"insertAfter"](c)}
function b(d,c,g){a(c);a(g,1);for(var e;e=g.getNext();)e.insertAfter(c),c=e;p(d)&&d.remove()}function c(a,b){var d=new CKEDITOR.dom.range(a);d.setStartAfter(b.startNode);d.setEndBefore(b.endNode);return d}return{list:{detectMerge:function(a,b){var d=c(b,a.bookmark),g=d.startPath(),e=d.endPath(),h=g.contains(CKEDITOR.dtd.$list),f=e.contains(CKEDITOR.dtd.$list);a.mergeList=h&&f&&h.getParent().equals(f.getParent())&&!h.equals(f);a.mergeListItems=g.block&&e.block&&g.block.is(CKEDITOR.dtd.$listItem)&&
e.block.is(CKEDITOR.dtd.$listItem);if(a.mergeList||a.mergeListItems)d=d.clone(),d.setStartBefore(a.bookmark.startNode),d.setEndAfter(a.bookmark.endNode),a.mergeListBookmark=d.createBookmark()},merge:function(a,d){if(a.mergeListBookmark){var c=a.mergeListBookmark.startNode,g=a.mergeListBookmark.endNode,e=new CKEDITOR.dom.elementPath(c,d),h=new CKEDITOR.dom.elementPath(g,d);if(a.mergeList){var f=e.contains(CKEDITOR.dtd.$list),k=h.contains(CKEDITOR.dtd.$list);f.equals(k)||(k.moveChildren(f),k.remove())}a.mergeListItems&&
(e=e.contains(CKEDITOR.dtd.$listItem),h=h.contains(CKEDITOR.dtd.$listItem),e.equals(h)||b(h,c,g));c.remove();g.remove()}}},block:{detectMerge:function(a,b){if(!a.tableContentsRanges&&!a.mergeListBookmark){var d=new CKEDITOR.dom.range(b);d.setStartBefore(a.bookmark.startNode);d.setEndAfter(a.bookmark.endNode);a.mergeBlockBookmark=d.createBookmark()}},merge:function(a,d){if(a.mergeBlockBookmark&&!a.purgeTableBookmark){var c=a.mergeBlockBookmark.startNode,g=a.mergeBlockBookmark.endNode,e=new CKEDITOR.dom.elementPath(c,
d),h=new CKEDITOR.dom.elementPath(g,d),e=e.block,h=h.block;e&&h&&!e.equals(h)&&b(h,c,g);c.remove();g.remove()}}},table:function(){function a(c){var g=[],e,h=new CKEDITOR.dom.walker(c),f=c.startPath().contains(d),k=c.endPath().contains(d),l={};h.guard=function(a,h){if(a.type==CKEDITOR.NODE_ELEMENT){var n="visited_"+(h?"out":"in");if(a.getCustomData(n))return;CKEDITOR.dom.element.setMarker(l,a,n,1)}if(h&&f&&a.equals(f))e=c.clone(),e.setEndAt(f,CKEDITOR.POSITION_BEFORE_END),g.push(e);else if(!h&&k&&
a.equals(k))e=c.clone(),e.setStartAt(k,CKEDITOR.POSITION_AFTER_START),g.push(e);else{if(n=!h)n=a.type==CKEDITOR.NODE_ELEMENT&&a.is(d)&&(!f||b(a,f))&&(!k||b(a,k));if(!n&&(n=h))if(a.is(d))var n=f&&f.getAscendant("table",!0),m=k&&k.getAscendant("table",!0),w=a.getAscendant("table",!0),n=n&&n.contains(w)||m&&m.contains(w);else n=void 0;n&&(e=c.clone(),e.selectNodeContents(a),g.push(e))}};h.lastForward();CKEDITOR.dom.element.clearAllMarkers(l);return g}function b(a,d){var c=CKEDITOR.POSITION_CONTAINS+
CKEDITOR.POSITION_IS_CONTAINED,g=a.getPosition(d);return g===CKEDITOR.POSITION_IDENTICAL?!1:0===(g&c)}var d={td:1,th:1,caption:1};return{detectPurge:function(a){var b=a.range,c=b.clone();c.enlarge(CKEDITOR.ENLARGE_ELEMENT);var c=new CKEDITOR.dom.walker(c),g=0;c.evaluator=function(a){a.type==CKEDITOR.NODE_ELEMENT&&a.is(d)&&++g};c.checkForward();if(1<g){var c=b.startPath().contains("table"),e=b.endPath().contains("table");c&&e&&b.checkBoundaryOfElement(c,CKEDITOR.START)&&b.checkBoundaryOfElement(e,
CKEDITOR.END)&&(b=a.range.clone(),b.setStartBefore(c),b.setEndAfter(e),a.purgeTableBookmark=b.createBookmark())}},detectRanges:function(g,e){var h=c(e,g.bookmark),f=h.clone(),k,l,n=h.getCommonAncestor();n.is(CKEDITOR.dtd.$tableContent)&&!n.is(d)&&(n=n.getAscendant("table",!0));l=n;n=new CKEDITOR.dom.elementPath(h.startContainer,l);l=new CKEDITOR.dom.elementPath(h.endContainer,l);n=n.contains("table");l=l.contains("table");if(n||l)n&&l&&b(n,l)?(g.tableSurroundingRange=f,f.setStartAt(n,CKEDITOR.POSITION_AFTER_END),
f.setEndAt(l,CKEDITOR.POSITION_BEFORE_START),f=h.clone(),f.setEndAt(n,CKEDITOR.POSITION_AFTER_END),k=h.clone(),k.setStartAt(l,CKEDITOR.POSITION_BEFORE_START),k=a(f).concat(a(k))):n?l||(g.tableSurroundingRange=f,f.setStartAt(n,CKEDITOR.POSITION_AFTER_END),h.setEndAt(n,CKEDITOR.POSITION_AFTER_END)):(g.tableSurroundingRange=f,f.setEndAt(l,CKEDITOR.POSITION_BEFORE_START),h.setStartAt(l,CKEDITOR.POSITION_AFTER_START)),g.tableContentsRanges=k?k:a(h)},deleteRanges:function(a){for(var b;b=a.tableContentsRanges.pop();)b.extractContents(),
p(b.startContainer)&&b.startContainer.appendBogus();a.tableSurroundingRange&&a.tableSurroundingRange.extractContents()},purge:function(a){if(a.purgeTableBookmark){var b=a.doc,d=a.range.clone(),b=b.createElement("p");b.insertBefore(a.purgeTableBookmark.startNode);d.moveToBookmark(a.purgeTableBookmark);d.deleteContents();a.range.moveToPosition(b,CKEDITOR.POSITION_AFTER_START)}}}}(),detectExtractMerge:function(a){return!(a.range.startPath().contains(CKEDITOR.dtd.$listItem)&&a.range.endPath().contains(CKEDITOR.dtd.$listItem))},
fixUneditableRangePosition:function(a){a.startContainer.getDtd()["#"]||a.moveToClosestEditablePosition(null,!0)},autoParagraph:function(a,b){var c=b.startPath(),g;d(a,c.block,c.blockLimit)&&(g=h(a))&&(g=b.document.createElement(g),g.appendBogus(),b.insertNode(g),b.moveToPosition(g,CKEDITOR.POSITION_AFTER_START))}}}()}(),function(){function a(a){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(a)}function f(b,d){if(0===b.length||a(b[0].getEnclosedNode()))return!1;var c,g;if((c=!d&&
1===b.length)&&!(c=b[0].collapsed)){var e=b[0];c=e.startContainer.getAscendant({td:1,th:1},!0);var h=e.endContainer.getAscendant({td:1,th:1},!0);g=CKEDITOR.tools.trim;c&&c.equals(h)&&!c.findOne("td, th, tr, tbody, table")?(e=e.cloneContents(),c=e.getFirst()?g(e.getFirst().getText())!==g(c.getText()):!0):c=!1}if(c)return!1;for(g=0;g<b.length;g++)if(c=b[g]._getTableElement(),!c)return!1;return!0}function e(a){function b(a){a=a.find("td, th");var d=[],c;for(c=0;c<a.count();c++)d.push(a.getItem(c));return d}
var d=[],c,g;for(g=0;g<a.length;g++)c=a[g]._getTableElement(),c.is&&c.is({td:1,th:1})?d.push(c):d=d.concat(b(c));return d}function b(a){a=e(a);var b="",d=[],c,g;for(g=0;g<a.length;g++)c&&!c.equals(a[g].getAscendant("tr"))?(b+=d.join("\t")+"\n",c=a[g].getAscendant("tr"),d=[]):0===g&&(c=a[g].getAscendant("tr")),d.push(a[g].getText());return b+=d.join("\t")}function c(a){var d=this.root.editor,c=d.getSelection(1);this.reset();y=!0;c.root.once("selectionchange",function(a){a.cancel()},null,null,0);c.selectRanges([a[0]]);
c=this._.cache;c.ranges=new CKEDITOR.dom.rangeList(a);c.type=CKEDITOR.SELECTION_TEXT;c.selectedElement=a[0]._getTableElement();c.selectedText=b(a);c.nativeSel=null;this.isFake=1;this.rev=z++;d._.fakeSelection=this;y=!1;this.root.fire("selectionchange")}function k(){var b=this._.fakeSelection,d;if(b){d=this.getSelection(1);var c;if(!(c=!d)&&(c=!d.isHidden())){c=b;var g=d.getRanges(),e=c.getRanges(),h=g.length&&g[0]._getTableElement()&&g[0]._getTableElement().getAscendant("table",!0),k=e.length&&e[0]._getTableElement()&&
e[0]._getTableElement().getAscendant("table",!0),l=1===g.length&&g[0]._getTableElement()&&g[0]._getTableElement().is("table"),n=1===e.length&&e[0]._getTableElement()&&e[0]._getTableElement().is("table");if(a(c.getSelectedElement()))c=!1;else{var m=1===g.length&&g[0].collapsed,e=f(g,!!CKEDITOR.env.webkit)&&f(e);h=h&&k?h.equals(k)||k.contains(h):!1;h&&(m||e)?(l&&!n&&c.selectRanges(g),c=!0):c=!1}c=!c}c&&(b.reset(),b=0)}if(!b&&(b=d||this.getSelection(1),!b||b.getType()==CKEDITOR.SELECTION_NONE))return;
this.fire("selectionCheck",b);d=this.elementPath();d.compare(this._.selectionPreviousPath)||(c=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(d.blockLimit),!CKEDITOR.env.webkit&&!CKEDITOR.env.gecko||c||(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=d,this.fire("selectionChange",{selection:b,path:d}))}function l(){v=!0;t||(m.call(this),t=CKEDITOR.tools.setTimeout(m,200,this))}function m(){t=null;v&&(CKEDITOR.tools.setTimeout(k,0,this),v=
!1)}function d(a){return B(a)||a.type==CKEDITOR.NODE_ELEMENT&&!a.is(CKEDITOR.dtd.$empty)?!0:!1}function h(a){function b(d,c){return d&&d.type!=CKEDITOR.NODE_TEXT?a.clone()["moveToElementEdit"+(c?"End":"Start")](d):!1}if(!(a.root instanceof CKEDITOR.editable))return!1;var c=a.startContainer,g=a.getPreviousNode(d,null,c),e=a.getNextNode(d,null,c);return b(g)||b(e,1)||!(g||e||c.type==CKEDITOR.NODE_ELEMENT&&c.isBlockBoundary()&&c.getBogus())?!0:!1}function g(a){n(a,!1);var b=a.getDocument().createText(q);
a.setCustomData("cke-fillingChar",b);return b}function n(a,b){var d=a&&a.removeCustomData("cke-fillingChar");if(d){if(!1!==b){var c=a.getDocument().getSelection().getNative(),g=c&&"None"!=c.type&&c.getRangeAt(0),e=q.length;if(d.getLength()>e&&g&&g.intersectsNode(d.$)){var h=[{node:c.anchorNode,offset:c.anchorOffset},{node:c.focusNode,offset:c.focusOffset}];c.anchorNode==d.$&&c.anchorOffset>e&&(h[0].offset-=e);c.focusNode==d.$&&c.focusOffset>e&&(h[1].offset-=e)}}d.setText(w(d.getText(),1));h&&(d=a.getDocument().$,
c=d.getSelection(),d=d.createRange(),d.setStart(h[0].node,h[0].offset),d.collapse(!0),c.removeAllRanges(),c.addRange(d),c.extend(h[1].node,h[1].offset))}}function w(a,b){return b?a.replace(A,function(a,b){return b?" ":""}):a.replace(q,"")}function x(a,b){var d=b&&CKEDITOR.tools.htmlEncode(b)||"\x26nbsp;",d=CKEDITOR.dom.element.createFromHtml('\x3cdiv data-cke-hidden-sel\x3d"1" data-cke-temp\x3d"1" style\x3d"'+(CKEDITOR.env.ie&&14>CKEDITOR.env.version?"display:none":"position:fixed;top:0;left:-1000px;width:0;height:0;overflow:hidden;")+
'"\x3e'+d+"\x3c/div\x3e",a.document);a.fire("lockSnapshot");a.editable().append(d);var c=a.getSelection(1),g=a.createRange(),e=c.root.on("selectionchange",function(a){a.cancel()},null,null,0);g.setStartAt(d,CKEDITOR.POSITION_AFTER_START);g.setEndAt(d,CKEDITOR.POSITION_BEFORE_END);c.selectRanges([g]);e.removeListener();a.fire("unlockSnapshot");a._.hiddenSelectionContainer=d}function r(b){var d={37:1,39:1,8:1,46:1};return function(c){var g=c.data.getKeystroke();if(d[g]){var e=b.getSelection(),h=e.getRanges()[0];
e.isCollapsed()&&(h=h[38>g?"getPreviousEditableNode":"getNextEditableNode"]())&&h.type==CKEDITOR.NODE_ELEMENT&&"false"==h.getAttribute("contenteditable")&&(e=e.getStartElement(),!e.isBlockBoundary()||""!==(void 0===e.$.textContent?e.$.innerText:e.$.textContent)||a(e.getFirst())||8!==g&&46!==g||(e.remove(),b.fire("saveSnapshot")),b.getSelection().fake(h),c.data.preventDefault(),c.cancel())}}}function p(a){for(var b=0;b<a.length;b++){var d=a[b];d.getCommonAncestor().isReadOnly()&&a.splice(b,1);if(!d.collapsed){if(d.startContainer.isReadOnly())for(var c=
d.startContainer,g;c&&!((g=c.type==CKEDITOR.NODE_ELEMENT)&&c.is("body")||!c.isReadOnly());)g&&"false"==c.getAttribute("contentEditable")&&d.setStartAfter(c),c=c.getParent();c=d.startContainer;g=d.endContainer;var e=d.startOffset,h=d.endOffset,f=d.clone();c&&c.type==CKEDITOR.NODE_TEXT&&(e>=c.getLength()?f.setStartAfter(c):f.setStartBefore(c));g&&g.type==CKEDITOR.NODE_TEXT&&(h?f.setEndAfter(g):f.setEndBefore(g));c=new CKEDITOR.dom.walker(f);c.evaluator=function(c){if(c.type==CKEDITOR.NODE_ELEMENT&&
c.isReadOnly()){var g=d.clone();d.setEndBefore(c);d.collapsed&&a.splice(b--,1);c.getPosition(f.endContainer)&CKEDITOR.POSITION_CONTAINS||(g.setStartAfter(c),g.collapsed||a.splice(b+1,0,g));return!0}return!1};c.next()}}return a}var u="function"!=typeof window.getSelection,z=1,q=CKEDITOR.tools.repeat("​",7),A=new RegExp(q+"( )?","g"),y,t,v,B=CKEDITOR.dom.walker.invisible(1),D=function(){function a(b){return function(a){var d=a.editor.createRange();d.moveToClosestEditablePosition(a.selected,b)&&a.editor.getSelection().selectRanges([d]);
return!1}}function b(a){return function(b){var d=b.editor,c=d.createRange(),g;if(!d.readOnly)return(g=c.moveToClosestEditablePosition(b.selected,a))||(g=c.moveToClosestEditablePosition(b.selected,!a)),g&&d.getSelection().selectRanges([c]),d.fire("saveSnapshot"),b.selected.remove(),g||(c.moveToElementEditablePosition(d.editable()),d.getSelection().selectRanges([c])),d.fire("saveSnapshot"),!1}}var d=a(),c=a(1);return{37:d,38:d,39:c,40:c,8:b(),46:b(1)}}();CKEDITOR.on("instanceCreated",function(a){function b(){var a=
d.getSelection();a&&a.removeAllRanges()}var d=a.editor;d.on("contentDom",function(){function a(){t=new CKEDITOR.dom.selection(d.getSelection());t.lock()}function b(){h.removeListener("mouseup",b);w.removeListener("mouseup",b);var a=CKEDITOR.document.$.selection,d=a.createRange();"None"!=a.type&&d.parentElement()&&d.parentElement().ownerDocument==e.$&&d.select()}function c(a){var b,d;b=(b=this.document.getActive())?"input"===b.getName()||"textarea"===b.getName():!1;b||(b=this.getSelection(1),(d=g(b))&&
!d.equals(f)&&(b.selectElement(d),a.data.preventDefault()))}function g(a){a=a.getRanges()[0];return a?(a=a.startContainer.getAscendant(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("contenteditable")},!0))&&"false"===a.getAttribute("contenteditable")?a:null:null}var e=d.document,h=CKEDITOR.document,f=d.editable(),m=e.getBody(),w=e.getDocumentElement(),q=f.isInline(),v,t;CKEDITOR.env.gecko&&f.attachListener(f,"focus",function(a){a.removeListener();0!==v&&(a=d.getSelection().getNative())&&
a.isCollapsed&&a.anchorNode==f.$&&(a=d.createRange(),a.moveToElementEditStart(f),a.select())},null,null,-2);f.attachListener(f,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",function(){if(v&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){v=d._.previousActive&&d._.previousActive.equals(e.getActive());var a=null!=d._.previousScrollTop&&d._.previousScrollTop!=f.$.scrollTop;CKEDITOR.env.webkit&&v&&a&&(f.$.scrollTop=d._.previousScrollTop)}d.unlockSelection(v);v=0},null,null,-1);f.attachListener(f,
"mousedown",function(){v=0});if(CKEDITOR.env.ie||CKEDITOR.env.gecko||q)u?f.attachListener(f,"beforedeactivate",a,null,null,-1):f.attachListener(d,"selectionCheck",a,null,null,-1),f.attachListener(f,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusout":"blur",function(){var a=t&&(t.isFake||2>t.getRanges().length);CKEDITOR.env.gecko&&!q&&a||(d.lockSelection(t),v=1)},null,null,-1),f.attachListener(f,"mousedown",function(){v=0});if(CKEDITOR.env.ie&&!q){var y;f.attachListener(f,"mousedown",function(a){2==
a.data.$.button&&((a=d.document.getSelection())&&a.getType()!=CKEDITOR.SELECTION_NONE||(y=d.window.getScrollPosition()))});f.attachListener(f,"mouseup",function(a){2==a.data.$.button&&y&&(d.document.$.documentElement.scrollLeft=y.x,d.document.$.documentElement.scrollTop=y.y);y=null});if("BackCompat"!=e.$.compatMode){if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat){var p,z;w.on("mousedown",function(a){function b(a){a=a.data.$;if(p){var d=m.$.createTextRange();try{d.moveToPoint(a.clientX,a.clientY)}catch(c){}p.setEndPoint(0>
z.compareEndPoints("StartToStart",d)?"EndToEnd":"StartToStart",d);p.select()}}function d(){w.removeListener("mousemove",b);h.removeListener("mouseup",d);w.removeListener("mouseup",d);p.select()}a=a.data;if(a.getTarget().is("html")&&a.$.y<w.$.clientHeight&&a.$.x<w.$.clientWidth){p=m.$.createTextRange();try{p.moveToPoint(a.$.clientX,a.$.clientY)}catch(c){}z=p.duplicate();w.on("mousemove",b);h.on("mouseup",d);w.on("mouseup",d)}})}if(7<CKEDITOR.env.version&&11>CKEDITOR.env.version)w.on("mousedown",function(a){a.data.getTarget().is("html")&&
(h.on("mouseup",b),w.on("mouseup",b))})}}f.attachListener(f,"selectionchange",k,d);f.attachListener(f,"keyup",l,d);f.attachListener(f,"touchstart",l,d);f.attachListener(f,"touchend",l,d);CKEDITOR.env.ie&&f.attachListener(f,"keydown",c,d);f.attachListener(f,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",function(){d.forceNextSelectionCheck();d.selectionChange(1)});if(q&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){var A;f.attachListener(f,"mousedown",function(){A=1});f.attachListener(e.getDocumentElement(),
"mouseup",function(){A&&l.call(d);A=0})}else f.attachListener(CKEDITOR.env.ie?f:e.getDocumentElement(),"mouseup",l,d);CKEDITOR.env.webkit&&f.attachListener(e,"keydown",function(a){switch(a.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:f.hasFocus&&n(f)}},null,null,-1);f.attachListener(f,"keydown",r(d),null,null,-1)});d.on("setData",function(){d.unlockSelection();CKEDITOR.env.webkit&&b()});d.on("contentDomUnload",function(){d.unlockSelection()});if(CKEDITOR.env.ie9Compat)d.on("beforeDestroy",
b,null,null,9);d.on("dataReady",function(){delete d._.fakeSelection;delete d._.hiddenSelectionContainer;d.selectionChange(1)});d.on("loadSnapshot",function(){var a=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),b=d.editable().getLast(a);b&&b.hasAttribute("data-cke-hidden-sel")&&(b.remove(),CKEDITOR.env.gecko&&(a=d.editable().getFirst(a))&&a.is("br")&&a.getAttribute("_moz_editor_bogus_node")&&a.remove())},null,null,100);d.on("key",function(a){if("wysiwyg"==d.mode){var b=d.getSelection();if(b.isFake){var c=
D[a.data.keyCode];if(c)return c({editor:d,selected:b.getSelectedElement(),selection:b,keyEvent:a})}}})});if(CKEDITOR.env.webkit)CKEDITOR.on("instanceReady",function(a){var b=a.editor;b.on("selectionChange",function(){var a=b.editable(),d=a.getCustomData("cke-fillingChar");d&&(d.getCustomData("ready")?(n(a),a.editor.fire("selectionCheck")):d.setCustomData("ready",1))},null,null,-1);b.on("beforeSetMode",function(){n(b.editable())},null,null,-1);b.on("getSnapshot",function(a){a.data&&(a.data=w(a.data))},
b,null,20);b.on("toDataFormat",function(a){a.data.dataValue=w(a.data.dataValue)},null,null,0)});CKEDITOR.editor.prototype.selectionChange=function(a){(a?k:l).call(this)};CKEDITOR.editor.prototype.getSelection=function(a){return!this._.savedSelection&&!this._.fakeSelection||a?(a=this.editable())&&"wysiwyg"==this.mode&&"recreating"!==this.status?new CKEDITOR.dom.selection(a):null:this._.savedSelection||this._.fakeSelection};CKEDITOR.editor.prototype.getSelectedRanges=function(a){var b=this.getSelection();
return b&&b.getRanges(a)||[]};CKEDITOR.editor.prototype.lockSelection=function(a){a=a||this.getSelection(1);return a.getType()!=CKEDITOR.SELECTION_NONE?(!a.isLocked&&a.lock(),this._.savedSelection=a,!0):!1};CKEDITOR.editor.prototype.unlockSelection=function(a){var b=this._.savedSelection;return b?(b.unlock(a),delete this._.savedSelection,!0):!1};CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath};CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)};
CKEDITOR.dom.range.prototype.select=function(){var a=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);a.selectRanges([this]);return a};CKEDITOR.SELECTION_NONE=1;CKEDITOR.SELECTION_TEXT=2;CKEDITOR.SELECTION_ELEMENT=3;CKEDITOR.dom.selection=function(a){if(a instanceof CKEDITOR.dom.selection){var b=a;a=a.root}var d=a instanceof CKEDITOR.dom.element;this.rev=b?b.rev:z++;this.document=a instanceof CKEDITOR.dom.document?a:a.getDocument();this.root=
d?a:this.document.getBody();this.isLocked=0;this._={cache:{}};if(b)return CKEDITOR.tools.extend(this._.cache,b._.cache),this.isFake=b.isFake,this.isLocked=b.isLocked,this;a=this.getNative();var c,g;if(a)if(a.getRangeAt)c=(g=a.rangeCount&&a.getRangeAt(0))&&new CKEDITOR.dom.node(g.commonAncestorContainer);else{try{g=a.createRange()}catch(e){}c=g&&CKEDITOR.dom.element.get(g.item&&g.item(0)||g.parentElement())}if(!c||c.type!=CKEDITOR.NODE_ELEMENT&&c.type!=CKEDITOR.NODE_TEXT||!this.root.equals(c)&&!this.root.contains(c))this._.cache.type=
CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList;return this};var C={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:w,_createFillingCharSequenceNode:g,FILLING_CHAR_SEQUENCE:q});CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==
this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=u?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:u?function(){var a=this._.cache;if(a.type)return a.type;var b=CKEDITOR.SELECTION_NONE;try{var d=this.getNative(),c=d.type;"Text"==c&&(b=CKEDITOR.SELECTION_TEXT);"Control"==c&&(b=CKEDITOR.SELECTION_ELEMENT);d.createRange().parentElement()&&(b=CKEDITOR.SELECTION_TEXT)}catch(g){}return a.type=b}:function(){var a=this._.cache;if(a.type)return a.type;var b=
CKEDITOR.SELECTION_TEXT,d=this.getNative();if(!d||!d.rangeCount)b=CKEDITOR.SELECTION_NONE;else if(1==d.rangeCount){var d=d.getRangeAt(0),c=d.startContainer;c==d.endContainer&&1==c.nodeType&&1==d.endOffset-d.startOffset&&C[c.childNodes[d.startOffset].nodeName.toLowerCase()]&&(b=CKEDITOR.SELECTION_ELEMENT)}return a.type=b},getRanges:function(){var a=u?function(){function a(b){return(new CKEDITOR.dom.node(b)).getIndex()}var b=function(b,d){b=b.duplicate();b.collapse(d);var c=b.parentElement();if(!c.hasChildNodes())return{container:c,
offset:0};for(var g=c.children,e,h,f=b.duplicate(),k=0,l=g.length-1,n=-1,m,w;k<=l;)if(n=Math.floor((k+l)/2),e=g[n],f.moveToElementText(e),m=f.compareEndPoints("StartToStart",b),0<m)l=n-1;else if(0>m)k=n+1;else return{container:c,offset:a(e)};if(-1==n||n==g.length-1&&0>m){f.moveToElementText(c);f.setEndPoint("StartToStart",b);f=f.text.replace(/(\r\n|\r)/g,"\n").length;g=c.childNodes;if(!f)return e=g[g.length-1],e.nodeType!=CKEDITOR.NODE_TEXT?{container:c,offset:g.length}:{container:e,offset:e.nodeValue.length};
for(c=g.length;0<f&&0<c;)h=g[--c],h.nodeType==CKEDITOR.NODE_TEXT&&(w=h,f-=h.nodeValue.length);return{container:w,offset:-f}}f.collapse(0<m?!0:!1);f.setEndPoint(0<m?"StartToStart":"EndToStart",b);f=f.text.replace(/(\r\n|\r)/g,"\n").length;if(!f)return{container:c,offset:a(e)+(0<m?0:1)};for(;0<f;)try{h=e[0<m?"previousSibling":"nextSibling"],h.nodeType==CKEDITOR.NODE_TEXT&&(f-=h.nodeValue.length,w=h),e=h}catch(v){return{container:c,offset:a(e)}}return{container:w,offset:0<m?-f:w.nodeValue.length+f}};
return function(){var a=this.getNative(),d=a&&a.createRange(),c=this.getType();if(!a)return[];if(c==CKEDITOR.SELECTION_TEXT)return a=new CKEDITOR.dom.range(this.root),c=b(d,!0),a.setStart(new CKEDITOR.dom.node(c.container),c.offset),c=b(d),a.setEnd(new CKEDITOR.dom.node(c.container),c.offset),a.endContainer.getPosition(a.startContainer)&CKEDITOR.POSITION_PRECEDING&&a.endOffset<=a.startContainer.getIndex()&&a.collapse(),[a];if(c==CKEDITOR.SELECTION_ELEMENT){for(var c=[],g=0;g<d.length;g++){for(var e=
d.item(g),h=e.parentNode,f=0,a=new CKEDITOR.dom.range(this.root);f<h.childNodes.length&&h.childNodes[f]!=e;f++);a.setStart(new CKEDITOR.dom.node(h),f);a.setEnd(new CKEDITOR.dom.node(h),f+1);c.push(a)}return c}return[]}}():function(){var a=[],b,d=this.getNative();if(!d)return a;for(var c=0;c<d.rangeCount;c++){var g=d.getRangeAt(c);b=new CKEDITOR.dom.range(this.root);b.setStart(new CKEDITOR.dom.node(g.startContainer),g.startOffset);b.setEnd(new CKEDITOR.dom.node(g.endContainer),g.endOffset);a.push(b)}return a};
return function(b){var d=this._.cache,c=d.ranges;c||(d.ranges=c=new CKEDITOR.dom.rangeList(a.call(this)));return b?p(new CKEDITOR.dom.rangeList(c.slice())):c}}(),getStartElement:function(){var a=this._.cache;if(void 0!==a.startElement)return a.startElement;var b;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var d=this.getRanges()[0];if(d){if(d.collapsed)b=d.startContainer,b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent());else{for(d.optimize();b=
d.startContainer,d.startOffset==(b.getChildCount?b.getChildCount():b.getLength())&&!b.isBlockBoundary();)d.setStartAfter(b);b=d.startContainer;if(b.type!=CKEDITOR.NODE_ELEMENT)return b.getParent();if((b=b.getChild(d.startOffset))&&b.type==CKEDITOR.NODE_ELEMENT)for(d=b.getFirst();d&&d.type==CKEDITOR.NODE_ELEMENT;)b=d,d=d.getFirst();else b=d.startContainer}b=b.$}}return a.startElement=b?new CKEDITOR.dom.element(b):null},getSelectedElement:function(){var a=this._.cache;if(void 0!==a.selectedElement)return a.selectedElement;
var b=this,d=CKEDITOR.tools.tryThese(function(){return b.getNative().createRange().item(0)},function(){for(var a=b.getRanges()[0].clone(),d,c,g=2;g&&!((d=a.getEnclosedNode())&&d.type==CKEDITOR.NODE_ELEMENT&&C[d.getName()]&&(c=d));g--)a.shrink(CKEDITOR.SHRINK_ELEMENT);return c&&c.$});return a.selectedElement=d?new CKEDITOR.dom.element(d):null},getSelectedText:function(){var a=this._.cache;if(void 0!==a.selectedText)return a.selectedText;var b=this.getNative(),b=u?"Control"==b.type?"":b.createRange().text:
b.toString();return a.selectedText=b},lock:function(){this.getRanges();this.getStartElement();this.getSelectedElement();this.getSelectedText();this._.cache.nativeSel=null;this.isLocked=1},unlock:function(a){if(this.isLocked){if(a)var b=this.getSelectedElement(),d=this.getRanges(),g=this.isFake;this.isLocked=0;this.reset();a&&(a=b||d[0]&&d[0].getCommonAncestor())&&a.getAscendant("body",1)&&((a=this.root.editor)&&a.plugins.tableselection&&a.plugins.tableselection.isSupportedEnvironment(a)&&f(d)?c.call(this,
d):g?this.fake(b):b&&2>d.length?this.selectElement(b):this.selectRanges(d))}},reset:function(){this._.cache={};this.isFake=0;var a=this.root.editor;if(a&&a._.fakeSelection)if(this.rev==a._.fakeSelection.rev){delete a._.fakeSelection;var b=a._.hiddenSelectionContainer;if(b){var d=a.checkDirty();a.fire("lockSnapshot");b.remove();a.fire("unlockSnapshot");!d&&a.resetDirty()}delete a._.hiddenSelectionContainer}else CKEDITOR.warn("selection-fake-reset");this.rev=z++},selectElement:function(a){var b=new CKEDITOR.dom.range(this.root);
b.setStartBefore(a);b.setEndAfter(a);this.selectRanges([b])},selectRanges:function(a){var b=this.root.editor,d=b&&b._.hiddenSelectionContainer;this.reset();if(d)for(var d=this.root,e,k=0;k<a.length;++k)e=a[k],e.endContainer.equals(d)&&(e.endOffset=Math.min(e.endOffset,d.getChildCount()));if(a.length)if(this.isLocked){var l=CKEDITOR.document.getActive();this.unlock();this.selectRanges(a);this.lock();l&&!l.equals(this.root)&&l.focus()}else{var m;a:{var w,v;if(1==a.length&&!(v=a[0]).collapsed&&(m=v.getEnclosedNode())&&
m.type==CKEDITOR.NODE_ELEMENT&&(v=v.clone(),v.shrink(CKEDITOR.SHRINK_ELEMENT,!0),(w=v.getEnclosedNode())&&w.type==CKEDITOR.NODE_ELEMENT&&(m=w),"false"==m.getAttribute("contenteditable")))break a;m=void 0}if(m)this.fake(m);else if(b&&b.plugins.tableselection&&b.plugins.tableselection.isSupportedEnvironment(b)&&f(a)&&!y&&!a[0]._getTableElement({table:1}).hasAttribute("data-cke-tableselection-ignored"))c.call(this,a);else{if(u){w=CKEDITOR.dom.walker.whitespaces(!0);m=/\ufeff|\u00a0/;v={table:1,tbody:1,
tr:1};1<a.length&&(b=a[a.length-1],a[0].setEnd(b.endContainer,b.endOffset));b=a[0];a=b.collapsed;var q,t,p;if((d=b.getEnclosedNode())&&d.type==CKEDITOR.NODE_ELEMENT&&d.getName()in C&&(!d.is("a")||!d.getText()))try{p=d.$.createControlRange();p.addElement(d.$);p.select();return}catch(z){}if(b.startContainer.type==CKEDITOR.NODE_ELEMENT&&b.startContainer.getName()in v||b.endContainer.type==CKEDITOR.NODE_ELEMENT&&b.endContainer.getName()in v)b.shrink(CKEDITOR.NODE_ELEMENT,!0),a=b.collapsed;p=b.createBookmark();
v=p.startNode;a||(l=p.endNode);p=b.document.$.body.createTextRange();p.moveToElementText(v.$);p.moveStart("character",1);l?(m=b.document.$.body.createTextRange(),m.moveToElementText(l.$),p.setEndPoint("EndToEnd",m),p.moveEnd("character",-1)):(q=v.getNext(w),t=v.hasAscendant("pre"),q=!(q&&q.getText&&q.getText().match(m))&&(t||!v.hasPrevious()||v.getPrevious().is&&v.getPrevious().is("br")),t=b.document.createElement("span"),t.setHtml("\x26#65279;"),t.insertBefore(v),q&&b.document.createText("﻿").insertBefore(v));
b.setStartBefore(v);v.remove();a?(q?(p.moveStart("character",-1),p.select(),b.document.$.selection.clear()):p.select(),b.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START),t.remove()):(b.setEndBefore(l),l.remove(),p.select())}else{l=this.getNative();if(!l)return;this.removeAllRanges();for(p=0;p<a.length;p++){if(p<a.length-1&&(q=a[p],t=a[p+1],m=q.clone(),m.setStart(q.endContainer,q.endOffset),m.setEnd(t.startContainer,t.startOffset),!m.collapsed&&(m.shrink(CKEDITOR.NODE_ELEMENT,!0),b=m.getCommonAncestor(),
m=m.getEnclosedNode(),b.isReadOnly()||m&&m.isReadOnly()))){t.setStart(q.startContainer,q.startOffset);a.splice(p--,1);continue}b=a[p];t=this.document.$.createRange();b.collapsed&&CKEDITOR.env.webkit&&h(b)&&(m=g(this.root),b.insertNode(m),(q=m.getNext())&&!m.getPrevious()&&q.type==CKEDITOR.NODE_ELEMENT&&"br"==q.getName()?(n(this.root),b.moveToPosition(q,CKEDITOR.POSITION_BEFORE_START)):b.moveToPosition(m,CKEDITOR.POSITION_AFTER_END));t.setStart(b.startContainer.$,b.startOffset);try{t.setEnd(b.endContainer.$,
b.endOffset)}catch(r){if(0<=r.toString().indexOf("NS_ERROR_ILLEGAL_VALUE"))b.collapse(1),t.setEnd(b.endContainer.$,b.endOffset);else throw r;}l.addRange(t)}}this.reset();this.root.fire("selectionchange")}}},fake:function(a,b){var d=this.root.editor;void 0===b&&a.hasAttribute("aria-label")&&(b=a.getAttribute("aria-label"));this.reset();x(d,b);var c=this._.cache,g=new CKEDITOR.dom.range(this.root);g.setStartBefore(a);g.setEndAfter(a);c.ranges=new CKEDITOR.dom.rangeList(g);c.selectedElement=c.startElement=
a;c.type=CKEDITOR.SELECTION_ELEMENT;c.selectedText=c.nativeSel=null;this.isFake=1;this.rev=z++;d._.fakeSelection=this;this.root.fire("selectionchange")},isHidden:function(){var a=this.getCommonAncestor();a&&a.type==CKEDITOR.NODE_TEXT&&(a=a.getParent());return!(!a||!a.data("cke-hidden-sel"))},isInTable:function(a){return f(this.getRanges(),a)},isCollapsed:function(){var a=this.getRanges();return 1===a.length&&a[0].collapsed},createBookmarks:function(a){a=this.getRanges().createBookmarks(a);this.isFake&&
(a.isFake=1);return a},createBookmarks2:function(a){a=this.getRanges().createBookmarks2(a);this.isFake&&(a.isFake=1);return a},selectBookmarks:function(a){for(var b=[],d,c=0;c<a.length;c++){var g=new CKEDITOR.dom.range(this.root);g.moveToBookmark(a[c]);b.push(g)}a.isFake&&(d=f(b)?b[0]._getTableElement():b[0].getEnclosedNode(),d&&d.type==CKEDITOR.NODE_ELEMENT||(CKEDITOR.warn("selection-not-fake"),a.isFake=0));a.isFake&&!f(b)?this.fake(d):this.selectRanges(b);return this},getCommonAncestor:function(){var a=
this.getRanges();return a.length?a[0].startContainer.getCommonAncestor(a[a.length-1].endContainer):null},scrollIntoView:function(){this.getType()!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var a=this.getNative();try{a&&a[u?"empty":"removeAllRanges"]()}catch(b){}this.reset()}}}}(),"use strict",CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=2,CKEDITOR.STYLE_OBJECT=3,function(){function a(a,b){for(var d,c;(a=a.getParent())&&
!a.equals(b);)if(a.getAttribute("data-nostyle"))d=a;else if(!c){var g=a.getAttribute("contentEditable");"false"==g?d=a:"true"==g&&(c=1)}return d}function f(a,b,d,c){return(a.getPosition(b)|c)==c&&(!d.childRule||d.childRule(a))}function e(b){var d=b.document;if(b.collapsed)d=z(this,d),b.insertNode(d),b.moveToPosition(d,CKEDITOR.POSITION_BEFORE_END);else{var g=this.element,h=this._.definition,k,l=h.ignoreReadonly,n=l||h.includeReadonly;null==n&&(n=b.root.getCustomData("cke_includeReadonly"));var m=
CKEDITOR.dtd[g];m||(k=!0,m=CKEDITOR.dtd.span);b.enlarge(CKEDITOR.ENLARGE_INLINE,1);b.trim();var w=b.createBookmark(),v=w.startNode,q=w.endNode,t=v,p;if(!l){var u=b.getCommonAncestor(),l=a(v,u),u=a(q,u);l&&(t=l.getNextSourceNode(!0));u&&(q=u)}for(t.getPosition(q)==CKEDITOR.POSITION_FOLLOWING&&(t=0);t;){l=!1;if(t.equals(q))t=null,l=!0;else{var y=t.type==CKEDITOR.NODE_ELEMENT?t.getName():null,u=y&&"false"==t.getAttribute("contentEditable"),A=y&&-1!==CKEDITOR.tools.array.indexOf(CKEDITOR.style.unstylableElements,
y),A=y&&(t.getAttribute("data-nostyle")||A);if(y&&t.data("cke-bookmark")||t.type===CKEDITOR.NODE_COMMENT){t=t.getNextSourceNode(!0);continue}if(u&&n&&CKEDITOR.dtd.$block[y])for(var x=t,B=c(x),C=void 0,D=B.length,I=0,x=D&&new CKEDITOR.dom.range(x.getDocument());I<D;++I){var C=B[I],fa=CKEDITOR.filter.instances[C.data("cke-filter")];if(fa?fa.check(this):1)x.selectNodeContents(C),e.call(this,x)}B=y?!m[y]||A?0:u&&!n?0:f(t,q,h,M):1;if(B)if(C=t.getParent(),B=h,D=g,I=k,!C||!(C.getDtd()||CKEDITOR.dtd.span)[D]&&
!I||B.parentRule&&!B.parentRule(C))l=!0;else{if(p||y&&CKEDITOR.dtd.$removeEmpty[y]&&(t.getPosition(q)|M)!=M||(p=b.clone(),p.setStartBefore(t)),y=t.type,y==CKEDITOR.NODE_TEXT||u||y==CKEDITOR.NODE_ELEMENT&&!t.getChildCount()){for(var y=t,R;(l=!y.getNext(K))&&(R=y.getParent(),m[R.getName()])&&f(R,v,h,H);)y=R;p.setEndAfter(y)}}else l=!0;t=t.getNextSourceNode(A||u)}if(l&&p&&!p.collapsed){for(var l=z(this,d),u=l.hasAttributes(),A=p.getCommonAncestor(),y={},B={},C={},D={},ba,W,da;l&&A;){if(A.getName()==
g){for(ba in h.attributes)!D[ba]&&(da=A.getAttribute(W))&&(l.getAttribute(ba)==da?B[ba]=1:D[ba]=1);for(W in h.styles)!C[W]&&(da=A.getStyle(W))&&(l.getStyle(W)==da?y[W]=1:C[W]=1)}A=A.getParent()}for(ba in B)l.removeAttribute(ba);for(W in y)l.removeStyle(W);u&&!l.hasAttributes()&&(l=null);l?(p.extractContents().appendTo(l),p.insertNode(l),r.call(this,l),l.mergeSiblings(),CKEDITOR.env.ie||l.$.normalize()):(l=new CKEDITOR.dom.element("span"),p.extractContents().appendTo(l),p.insertNode(l),r.call(this,
l),l.remove(!0));p=null}}b.moveToBookmark(w);b.shrink(CKEDITOR.SHRINK_TEXT);b.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function b(a){function b(){for(var a=new CKEDITOR.dom.elementPath(c.getParent()),d=new CKEDITOR.dom.elementPath(n.getParent()),g=null,e=null,h=0;h<a.elements.length;h++){var f=a.elements[h];if(f==a.block||f==a.blockLimit)break;m.checkElementRemovable(f,!0)&&(g=f)}for(h=0;h<d.elements.length;h++){f=d.elements[h];if(f==d.block||f==d.blockLimit)break;m.checkElementRemovable(f,!0)&&(e=f)}e&&
n.breakParent(e);g&&c.breakParent(g)}a.enlarge(CKEDITOR.ENLARGE_INLINE,1);var d=a.createBookmark(),c=d.startNode,g=this._.definition.alwaysRemoveElement;if(a.collapsed){for(var e=new CKEDITOR.dom.elementPath(c.getParent(),a.root),h,f=0,k;f<e.elements.length&&(k=e.elements[f])&&k!=e.block&&k!=e.blockLimit;f++)if(this.checkElementRemovable(k)){var l;!g&&a.collapsed&&(a.checkBoundaryOfElement(k,CKEDITOR.END)||(l=a.checkBoundaryOfElement(k,CKEDITOR.START)))?(h=k,h.match=l?"start":"end"):(k.mergeSiblings(),
k.is(this.element)?x.call(this,k):p(k,y(this)[k.getName()]))}if(h){g=c;for(f=0;;f++){k=e.elements[f];if(k.equals(h))break;else if(k.match)continue;else k=k.clone();k.append(g);g=k}g["start"==h.match?"insertBefore":"insertAfter"](h)}}else{var n=d.endNode,m=this;b();for(e=c;!e.equals(n);)h=e.getNextSourceNode(),e.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(e)&&(e.getName()==this.element?x.call(this,e):p(e,y(this)[e.getName()]),h.type==CKEDITOR.NODE_ELEMENT&&h.contains(c)&&(b(),h=c.getNext())),
e=h}a.moveToBookmark(d);a.shrink(CKEDITOR.NODE_ELEMENT,!0)}function c(a){var b=[];a.forEach(function(a){if("true"==a.getAttribute("contenteditable"))return b.push(a),!1},CKEDITOR.NODE_ELEMENT,!0);return b}function k(a){var b=a.getEnclosedNode()||a.getCommonAncestor(!1,!0);(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1))&&!a.isReadOnly()&&q(a,this)}function l(a){var b=a.getCommonAncestor(!0,!0);if(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1)){var b=this._.definition,
d=b.attributes;if(d)for(var c in d)a.removeAttribute(c,d[c]);if(b.styles)for(var g in b.styles)b.styles.hasOwnProperty(g)&&a.removeStyle(g)}}function m(a){var b=a.createBookmark(!0),d=a.createIterator();d.enforceRealBlocks=!0;this._.enterMode&&(d.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var c,g=a.document,e;c=d.getNextParagraph();)!c.isReadOnly()&&(d.activeFilter?d.activeFilter.check(this):1)&&(e=z(this,g,c),h(c,e));a.moveToBookmark(b)}function d(a){var b=a.createBookmark(1),d=a.createIterator();
d.enforceRealBlocks=!0;d.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;for(var c,g;c=d.getNextParagraph();)this.checkElementRemovable(c)&&(c.is("pre")?((g=this._.enterMode==CKEDITOR.ENTER_BR?null:a.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))&&c.copyAttributes(g),h(c,g)):x.call(this,c));a.moveToBookmark(b)}function h(a,b){var d=!b;d&&(b=a.getDocument().createElement("div"),a.copyAttributes(b));var c=b&&b.is("pre"),e=a.is("pre"),h=!c&&e;if(c&&!e){e=b;(h=a.getBogus())&&h.remove();
h=a.getHtml();h=n(h,/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"");h=h.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1");h=h.replace(/([ \t\n\r]+|&nbsp;)/g," ");h=h.replace(/<br\b[^>]*>/gi,"\n");if(CKEDITOR.env.ie){var f=a.getDocument().createElement("div");f.append(e);e.$.outerHTML="\x3cpre\x3e"+h+"\x3c/pre\x3e";e.copyAttributes(f.getFirst());e=f.getFirst().remove()}else e.setHtml(h);b=e}else h?b=w(d?[a.getHtml()]:g(a),b):a.moveChildren(b);b.replace(a);if(c){var d=b,k;(k=d.getPrevious(G))&&k.type==CKEDITOR.NODE_ELEMENT&&
k.is("pre")&&(c=n(k.getHtml(),/\n$/,"")+"\n\n"+n(d.getHtml(),/^\n/,""),CKEDITOR.env.ie?d.$.outerHTML="\x3cpre\x3e"+c+"\x3c/pre\x3e":d.setHtml(c),k.remove())}else d&&u(b)}function g(a){var b=[];n(a.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,function(a,b,d){return b+"\x3c/pre\x3e"+d+"\x3cpre\x3e"}).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(a,d){b.push(d)});return b}function n(a,b,d){var c="",g="";a=a.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,
function(a,b,d){b&&(c=b);d&&(g=d);return""});return c+a.replace(b,d)+g}function w(a,b){var d;1<a.length&&(d=new CKEDITOR.dom.documentFragment(b.getDocument()));for(var c=0;c<a.length;c++){var g=a[c],g=g.replace(/(\r\n|\r)/g,"\n"),g=n(g,/^[ \t]*\n/,""),g=n(g,/\n$/,""),g=n(g,/^[ \t]+|[ \t]+$/g,function(a,b){return 1==a.length?"\x26nbsp;":b?" "+CKEDITOR.tools.repeat("\x26nbsp;",a.length-1):CKEDITOR.tools.repeat("\x26nbsp;",a.length-1)+" "}),g=g.replace(/\n/g,"\x3cbr\x3e"),g=g.replace(/[ \t]{2,}/g,function(a){return CKEDITOR.tools.repeat("\x26nbsp;",
a.length-1)+" "});if(d){var e=b.clone();e.setHtml(g);d.append(e)}else b.setHtml(g)}return d||b}function x(a,b){var d=this._.definition,c=d.attributes,d=d.styles,g=y(this)[a.getName()],e=CKEDITOR.tools.isEmpty(c)&&CKEDITOR.tools.isEmpty(d),h;for(h in c)if("class"!=h&&!this._.definition.fullMatch||a.getAttribute(h)==t(h,c[h]))b&&"data-"==h.slice(0,5)||(e=a.hasAttribute(h),a.removeAttribute(h));for(var f in d)this._.definition.fullMatch&&a.getStyle(f)!=t(f,d[f],!0)||(e=e||!!a.getStyle(f),a.removeStyle(f));
p(a,g,D[a.getName()]);e&&(this._.definition.alwaysRemoveElement?u(a,1):!CKEDITOR.dtd.$block[a.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!a.hasAttributes()?u(a):a.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function r(a){for(var b=y(this),d=a.getElementsByTag(this.element),c,g=d.count();0<=--g;)c=d.getItem(g),c.isReadOnly()||x.call(this,c,!0);for(var e in b)if(e!=this.element)for(d=a.getElementsByTag(e),g=d.count()-1;0<=g;g--)c=d.getItem(g),c.isReadOnly()||p(c,b[e])}function p(a,
b,d){if(b=b&&b.attributes)for(var c=0;c<b.length;c++){var g=b[c][0],e;if(e=a.getAttribute(g)){var h=b[c][1];(null===h||h.test&&h.test(e)||"string"==typeof h&&e==h)&&a.removeAttribute(g)}}d||u(a)}function u(a,b){if(!a.hasAttributes()||b)if(CKEDITOR.dtd.$block[a.getName()]){var d=a.getPrevious(G),c=a.getNext(G);!d||d.type!=CKEDITOR.NODE_TEXT&&d.isBlockBoundary({br:1})||a.append("br",1);!c||c.type!=CKEDITOR.NODE_TEXT&&c.isBlockBoundary({br:1})||a.append("br");a.remove(!0)}else d=a.getFirst(),c=a.getLast(),
a.remove(!0),d&&(d.type==CKEDITOR.NODE_ELEMENT&&d.mergeSiblings(),c&&!d.equals(c)&&c.type==CKEDITOR.NODE_ELEMENT&&c.mergeSiblings())}function z(a,b,d){var c;c=a.element;"*"==c&&(c="span");c=new CKEDITOR.dom.element(c,b);d&&d.copyAttributes(c);c=q(c,a);b.getCustomData("doc_processing_style")&&c.hasAttribute("id")?c.removeAttribute("id"):b.setCustomData("doc_processing_style",1);return c}function q(a,b){var d=b._.definition,c=d.attributes,d=CKEDITOR.style.getStyleText(d);if(c)for(var g in c)a.setAttribute(g,
c[g]);d&&a.setAttribute("style",d);a.getDocument().removeCustomData("doc_processing_style");return a}function A(a,b){for(var d in a)a[d]=a[d].replace(J,function(a,d){return b[d]})}function y(a){if(a._.overrides)return a._.overrides;var b=a._.overrides={},d=a._.definition.overrides;if(d){CKEDITOR.tools.isArray(d)||(d=[d]);for(var c=0;c<d.length;c++){var g=d[c],e,h;"string"==typeof g?e=g.toLowerCase():(e=g.element?g.element.toLowerCase():a.element,h=g.attributes);g=b[e]||(b[e]={});if(h){var g=g.attributes=
g.attributes||[],f;for(f in h)g.push([f.toLowerCase(),h[f]])}}}return b}function t(a,b,d){var c=new CKEDITOR.dom.element("span");c[d?"setStyle":"setAttribute"](a,b);return c[d?"getStyle":"getAttribute"](a)}function v(a,b){function d(a,b){return"font-family"==b.toLowerCase()?a.replace(/["']/g,""):a}"string"==typeof a&&(a=CKEDITOR.tools.parseCssText(a));"string"==typeof b&&(b=CKEDITOR.tools.parseCssText(b,!0));for(var c in a)if(!(c in b)||d(b[c],c)!=d(a[c],c)&&"inherit"!=a[c]&&"inherit"!=b[c])return!1;
return!0}function B(a,b,d){var c=a.getRanges();b=b?this.removeFromRange:this.applyToRange;for(var g,e=c.createIterator();g=e.getNextRange();)b.call(this,g,d);a.selectRanges(c)}var D={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},C={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,
dt:1,dd:1,form:1,audio:1,video:1},F=/\s*(?:;\s*|$)/,J=/#\((.+?)\)/g,K=CKEDITOR.dom.walker.bookmark(0,1),G=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(a,b){if("string"==typeof a.type)return new CKEDITOR.style.customHandlers[a.type](a);var d=a.attributes;d&&d.style&&(a.styles=CKEDITOR.tools.extend({},a.styles,CKEDITOR.tools.parseCssText(d.style)),delete d.style);b&&(a=CKEDITOR.tools.clone(a),A(a.attributes,b),A(a.styles,b));d=this.element=a.element?"string"==typeof a.element?a.element.toLowerCase():
a.element:"*";this.type=a.type||(D[d]?CKEDITOR.STYLE_BLOCK:C[d]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE);"object"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT);this._={definition:a}};CKEDITOR.style.prototype={apply:function(a){if(a instanceof CKEDITOR.dom.document)return B.call(this,a.getSelection());if(this.checkApplicable(a.elementPath(),a)){var b=this._.enterMode;b||(this._.enterMode=a.activeEnterMode);B.call(this,a.getSelection(),0,a);this._.enterMode=b}},remove:function(a){if(a instanceof
CKEDITOR.dom.document)return B.call(this,a.getSelection(),1);if(this.checkApplicable(a.elementPath(),a)){var b=this._.enterMode;b||(this._.enterMode=a.activeEnterMode);B.call(this,a.getSelection(),1,a);this._.enterMode=b}},applyToRange:function(a){this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?e:this.type==CKEDITOR.STYLE_BLOCK?m:this.type==CKEDITOR.STYLE_OBJECT?k:null;return this.applyToRange(a)},removeFromRange:function(a){this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?b:this.type==CKEDITOR.STYLE_BLOCK?
d:this.type==CKEDITOR.STYLE_OBJECT?l:null;return this.removeFromRange(a)},applyToObject:function(a){q(a,this)},checkActive:function(a,b){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(a.block||a.blockLimit,!0,b);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var d=a.elements,c=0,g;c<d.length;c++)if(g=d[c],this.type!=CKEDITOR.STYLE_INLINE||g!=a.block&&g!=a.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var e=g.getName();if(!("string"==typeof this.element?
e==this.element:e in this.element))continue}if(this.checkElementRemovable(g,!0,b))return!0}}return!1},checkApplicable:function(a,b,d){b&&b instanceof CKEDITOR.filter&&(d=b);if(d&&!d.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!a.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!a.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(a,b){var d=this._.definition;if(!a||!d.ignoreReadonly&&a.isReadOnly())return!1;var c=a.getName();if("string"==typeof this.element?
c==this.element:c in this.element){if(!b&&!a.hasAttributes())return!0;if(c=d._AC)d=c;else{var c={},g=0,e=d.attributes;if(e)for(var h in e)g++,c[h]=e[h];if(h=CKEDITOR.style.getStyleText(d))c.style||g++,c.style=h;c._length=g;d=d._AC=c}if(d._length){for(var f in d)if("_length"!=f)if(c=a.getAttribute(f)||"","style"==f?v(d[f],c):d[f]==c){if(!b)return!0}else if(b)return!1;if(b)return!0}else return!0}return!1},checkElementRemovable:function(a,b,d){if(this.checkElementMatch(a,b,d))return!0;if(b=y(this)[a.getName()]){var c;
if(!(b=b.attributes))return!0;for(d=0;d<b.length;d++)if(c=b[d][0],c=a.getAttribute(c)){var g=b[d][1];if(null===g)return!0;if("string"==typeof g){if(c==g)return!0}else if(g.test(c))return!0}}return!1},buildPreview:function(a){var b=this._.definition,d=[],c=b.element;"bdo"==c&&(c="span");var d=["\x3c",c],g=b.attributes;if(g)for(var e in g)d.push(" ",e,'\x3d"',g[e],'"');(g=CKEDITOR.style.getStyleText(b))&&d.push(' style\x3d"',g,'"');d.push("\x3e",a||b.name,"\x3c/",c,"\x3e");return d.join("")},getDefinition:function(){return this._.definition}};
CKEDITOR.style.getStyleText=function(a){var b=a._ST;if(b)return b;var b=a.styles,d=a.attributes&&a.attributes.style||"",c="";d.length&&(d=d.replace(F,";"));for(var g in b){var e=b[g],h=(g+":"+e).replace(F,";");"inherit"==e?c+=h:d+=h}d.length&&(d=CKEDITOR.tools.normalizeCssText(d,!0));return a._ST=d+c};CKEDITOR.style.customHandlers={};CKEDITOR.style.unstylableElements=[];CKEDITOR.style.addCustomHandler=function(a){var b=function(a){this._={definition:a};this.setup&&this.setup(a)};b.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),
{assignedTo:CKEDITOR.STYLE_OBJECT},a,!0);return this.customHandlers[a.type]=b};var M=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,H=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(a,f){this.requiredContent=this.allowedContent=this.style=a;CKEDITOR.tools.extend(this,f,!0)},CKEDITOR.styleCommand.prototype.exec=function(a){a.focus();this.state==CKEDITOR.TRISTATE_OFF?a.applyStyle(this.style):
this.state==CKEDITOR.TRISTATE_ON&&a.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(a,f,e){CKEDITOR.stylesSet.addExternal(a,f,"");CKEDITOR.stylesSet.load(a,e)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(a,f){var e=this._.styleStateChangeCallbacks;e||(e=this._.styleStateChangeCallbacks=[],this.on("selectionChange",
function(a){for(var c=0;c<e.length;c++){var f=e[c],l=f.style.checkActive(a.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;f.fn.call(this,l)}}));e.push({style:a,fn:f})},applyStyle:function(a){a.apply(this)},removeStyle:function(a){a.remove(this)},getStylesSet:function(a){if(this._.stylesDefinitions)a(this._.stylesDefinitions);else{var f=this,e=f.config.stylesCombo_stylesSet||f.config.stylesSet;if(!1===e)a(null);else if(e instanceof Array)f._.stylesDefinitions=e,a(e);else{e||(e="default");
var e=e.split(":"),b=e[0];CKEDITOR.stylesSet.addExternal(b,e[1]?e.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),"");CKEDITOR.stylesSet.load(b,function(c){f._.stylesDefinitions=c[b];a(f._.stylesDefinitions)})}}}}),function(){if(window.Promise)CKEDITOR.tools.promise=Promise;else{var a=CKEDITOR.getUrl("vendor/promise.js");if("function"===typeof window.define&&window.define.amd&&"function"===typeof window.require)return window.require([a],function(a){CKEDITOR.tools.promise=a});CKEDITOR.scriptLoader.load(a,
function(f){if(!f)return CKEDITOR.error("no-vendor-lib",{path:a});if("undefined"!==typeof window.ES6Promise)return CKEDITOR.tools.promise=ES6Promise})}}(),function(){function a(a,c,k){a.once("selectionCheck",function(a){if(!f){var b=a.data.getRanges()[0];k.equals(b)?a.cancel():c.equals(b)&&(e=!0)}},null,null,-1)}var f=!0,e=!1;CKEDITOR.dom.selection.setupEditorOptimization=function(a){a.on("selectionCheck",function(a){a.data&&!e&&a.data.optimizeInElementEnds();e=!1});a.on("contentDom",function(){var c=
a.editable();c&&(c.attachListener(c,"keydown",function(a){this._.shiftPressed=a.data.$.shiftKey},this),c.attachListener(c,"keyup",function(a){this._.shiftPressed=a.data.$.shiftKey},this))})};CKEDITOR.dom.selection.prototype.optimizeInElementEnds=function(){var b=this.getRanges()[0],c=this.root.editor,e;if(this.root.editor._.shiftPressed||this.isFake||b.isCollapsed||b.startContainer.equals(b.endContainer)||(b.endContainer.is?b.endContainer.is("li"):b.endContainer.getParent().is&&b.endContainer.getParent().is("li")))e=
!1;else if(0===b.endOffset)e=!0;else{e=b.startContainer.type===CKEDITOR.NODE_TEXT;var l=b.endContainer.type===CKEDITOR.NODE_TEXT,m=e?b.startContainer.getLength():b.startContainer.getChildCount();e=b.startOffset===m||e^l}e&&(e=b.clone(),b.shrink(CKEDITOR.SHRINK_TEXT,!1,{skipBogus:!CKEDITOR.env.webkit}),f=!1,a(c,b,e),b.select(),f=!0)}}(),function(){function a(a,b){if(e(a))a=Math.round(b*(parseFloat(a)/100));else if("string"===typeof a&&a.match(/^\d+$/gm)||"string"===typeof a&&a.match(/^\d+(?:deg)?$/gm))a=
parseInt(a,10);return a}function f(a,b){e(a)?a=b*(parseFloat(a)/100):"string"===typeof a&&a.match(/^\d?\.\d+/gm)&&(a=parseFloat(a));return a}function e(a){return"string"===typeof a&&a.match(/^((\d*\.\d+)|(\d+))%{1}$/gm)}function b(a,b,c){return!isNaN(a)&&a>=b&&a<=c}function c(a){a=a.toString(16);return 1==a.length?"0"+a:a}CKEDITOR.tools.color=CKEDITOR.tools.createClass({$:function(a,b){this._.initialColorCode=a;this._.defaultValue=b;this._.parseInput(a)},proto:{getHex:function(){if(!this._.isValidColor)return this._.defaultValue;
var a=this._.blendAlphaColor(this._.red,this._.green,this._.blue,this._.alpha);return this._.formatHexString(a[0],a[1],a[2])},getHexWithAlpha:function(){if(!this._.isValidColor)return this._.defaultValue;var a=Math.round(this._.alpha*CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE);return this._.formatHexString(this._.red,this._.green,this._.blue,a)},getRgb:function(){if(!this._.isValidColor)return this._.defaultValue;var a=this._.blendAlphaColor(this._.red,this._.green,this._.blue,this._.alpha);return this._.formatRgbString("rgb",
a[0],a[1],a[2])},getRgba:function(){return this._.isValidColor?this._.formatRgbString("rgba",this._.red,this._.green,this._.blue,this._.alpha):this._.defaultValue},getHsl:function(){var a=0===this._.alpha||1===this._.alpha;if(!this._.isValidColor)return this._.defaultValue;this._.type===CKEDITOR.tools.color.TYPE_HSL&&a?a=[this._.hue,this._.saturation,this._.lightness]:(a=this._.blendAlphaColor(this._.red,this._.green,this._.blue,this._.alpha),a=this._.rgbToHsl(a[0],a[1],a[2]));return this._.formatHslString("hsl",
a[0],a[1],a[2])},getHsla:function(){var a;if(!this._.isValidColor)return this._.defaultValue;a=this._.type===CKEDITOR.tools.color.TYPE_HSL?[this._.hue,this._.saturation,this._.lightness]:this._.rgbToHsl(this._.red,this._.green,this._.blue);return this._.formatHslString("hsla",a[0],a[1],a[2],this._.alpha)},getInitialValue:function(){return this._.initialColorCode}},_:{initialColorCode:"",isValidColor:!0,type:0,hue:0,saturation:0,lightness:0,red:0,green:0,blue:0,alpha:1,blendAlphaColor:function(a,b,
c,d){return CKEDITOR.tools.array.map([a,b,c],function(a){return Math.round(CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE-d*(CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE-a))})},formatHexString:function(a,b,e,d){a="#"+c(a)+c(b)+c(e);void 0!==d&&(a+=c(d));return a.toUpperCase()},formatRgbString:function(a,b,c,d,e){b=[b,c,d];void 0!==e&&b.push(e);return a+"("+b.join(",")+")"},formatHslString:function(a,b,c,d,e){return a+"("+b+","+c+"%,"+d+"%"+(void 0!==e?","+e:"")+")"},parseInput:function(a){if("string"!==
typeof a)this._.isValidColor=!1;else{a=CKEDITOR.tools.trim(a);var b=this._.matchStringToNamedColor(a);b&&(a=b);var b=this._.extractColorChannelsFromHex(a),c=this._.extractColorChannelsFromRgba(a);a=this._.extractColorChannelsFromHsla(a);(a=b||c||a)?(this._.type=a.type,this._.red=a.red,this._.green=a.green,this._.blue=a.blue,this._.alpha=a.alpha,a.type===CKEDITOR.tools.color.TYPE_HSL&&(this._.hue=a.hue,this._.saturation=a.saturation,this._.lightness=a.lightness)):this._.isValidColor=!1}},matchStringToNamedColor:function(a){return CKEDITOR.tools.color.namedColors[a.toLowerCase()]||
null},extractColorChannelsFromHex:function(a){-1===a.indexOf("#")&&(a="#"+a);a.match(CKEDITOR.tools.color.hex3CharsRegExp)&&(a=this._.hex3ToHex6(a));a.match(CKEDITOR.tools.color.hex4CharsRegExp)&&(a=this._.hex4ToHex8(a));if(!a.match(CKEDITOR.tools.color.hex6CharsRegExp)&&!a.match(CKEDITOR.tools.color.hex8CharsRegExp))return null;a=a.split("");var b=1;a[7]&&a[8]&&(b=parseInt(a[7]+a[8],16),b/=CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE,b=Number(b.toFixed(1)));return{type:CKEDITOR.tools.color.TYPE_RGB,
red:parseInt(a[1]+a[2],16),green:parseInt(a[3]+a[4],16),blue:parseInt(a[5]+a[6],16),alpha:b}},extractColorChannelsFromRgba:function(b){var c=this._.extractColorChannelsByPattern(b,CKEDITOR.tools.color.rgbRegExp);if(!c||3>c.length||4<c.length)return null;var e=4===c.length;b=a(c[0],CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE);var d=a(c[1],CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE),h=a(c[2],CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE),g=1;e&&(g=f(c[3],CKEDITOR.tools.color.MAX_ALPHA_CHANNEL_VALUE));c=
{type:CKEDITOR.tools.color.TYPE_RGB,red:b,green:d,blue:h,alpha:g};return this._.areColorChannelsValid(b,d,h,g)?c:null},extractColorChannelsFromHsla:function(b){var c=this._.extractColorChannelsByPattern(b,CKEDITOR.tools.color.hslRegExp);if(!c||3>c.length||4<c.length)return null;var e=4===c.length,d=a(c[0],CKEDITOR.tools.color.MAX_HUE_CHANNEL_VALUE),h=f(c[1],CKEDITOR.tools.color.MAX_SATURATION_LIGHTNESS_CHANNEL_VALUE),g=f(c[2],CKEDITOR.tools.color.MAX_SATURATION_LIGHTNESS_CHANNEL_VALUE),n=1;b=this._.hslToRgb(d,
h,g);e&&(n=f(c[3],CKEDITOR.tools.color.MAX_ALPHA_CHANNEL_VALUE));b.push(n);c={type:CKEDITOR.tools.color.TYPE_HSL,red:b[0],green:b[1],blue:b[2],alpha:b[3],hue:d,saturation:Math.round(100*h),lightness:Math.round(100*g)};return this._.areColorChannelsValid(b[0],b[1],b[2],b[3])?c:null},hex3ToHex6:function(a){a=a.split("");return"#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3]},hex4ToHex8:function(a){return this._.hex3ToHex6(a.substr(0,4))+CKEDITOR.tools.repeat(a[4],2)},extractColorChannelsByPattern:function(a,b){var c=
a.match(b);if(!c)return null;var d=-1===c[1].indexOf(",")?/\s/:",",d=c[1].split(d),d=CKEDITOR.tools.array.reduce(d,function(a,b){var d=CKEDITOR.tools.trim(b);return 0===d.length?a:a.concat([d])},[]);c[2]&&(c=CKEDITOR.tools.trim(c[2].replace(/[\/,]/,"")),d.push(c));return d},areColorChannelsValid:function(a,c,e,d){return b(a,0,CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE)&&b(c,0,CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE)&&b(e,0,CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE)&&b(d,0,CKEDITOR.tools.color.MAX_ALPHA_CHANNEL_VALUE)},
hslToRgb:function(a,b,c){var d=function(d){var g=(d+a/30)%12;d=b*Math.min(c,1-c);g=Math.min(g-3,9-g,1);g=Math.max(-1,g);return Math.round((c-d*g)*CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE)};return[d(0),d(8),d(4)]},rgbToHsl:function(a,b,c){a/=CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE;b/=CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE;var d=c/CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE,e=Math.max(a,b,d),g=Math.min(a,b,d);c=e-g;var f=0;switch(e){case a:f=(b-d)/c%6;break;case b:f=(d-a)/c+2;break;case d:f=
(a-b)/c+4}a=0===c?0:60*f;b=(e+g)/2;e=0;1!==b&&0!==b&&(e=c/(1-Math.abs(2*b-1)));a=Math.round(a);e=Math.round(100*e);b=Math.round(100*b);return[a,e,b]}},statics:{TYPE_RGB:1,TYPE_HSL:2,MAX_RGB_CHANNEL_VALUE:255,MAX_ALPHA_CHANNEL_VALUE:1,MAX_HUE_CHANNEL_VALUE:360,MAX_SATURATION_LIGHTNESS_CHANNEL_VALUE:1,hex3CharsRegExp:/#([0-9a-f]{3}$)/gim,hex4CharsRegExp:/#([0-9a-f]{4}$)/gim,hex6CharsRegExp:/#([0-9a-f]{6}$)/gim,hex8CharsRegExp:/#([0-9a-f]{8}$)/gim,rgbRegExp:/rgba?\(([.,\d\s%]*)(\s*\/\s*[\d.%]+)?\s*\)/i,
hslRegExp:/hsla?\((\s*(?:[.\d]+(?:deg)?)(?:\s*,?\s*[.\d]+%){2})((?:(?:\s*\/\s*)|(?:\s*,\s*))[\d.]+%?)?\s*\)/i,namedColors:{aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",
cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",
firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",
lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",
mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",
red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",windowtext:"windowtext",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",
yellowgreen:"#9ACD32"}}});CKEDITOR.tools.style.parse._colors=CKEDITOR.tools.color.namedColors}(),CKEDITOR.dom.comment=function(a,f){"string"==typeof a&&(a=(f?f.$:document).createComment(a));CKEDITOR.dom.domObject.call(this,a)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"\x3c!--"+this.$.nodeValue+"--\x3e"}}),"use strict",function(){var a={},f={},e;for(e in CKEDITOR.dtd.$blockLimit)e in
CKEDITOR.dtd.$list||(a[e]=1);for(e in CKEDITOR.dtd.$block)e in CKEDITOR.dtd.$blockLimit||e in CKEDITOR.dtd.$empty||(f[e]=1);CKEDITOR.dom.elementPath=function(b,c){var e=null,l=null,m=[],d=b,h;c=c||b.getDocument().getBody();d||(d=c);do if(d.type==CKEDITOR.NODE_ELEMENT){m.push(d);if(!this.lastElement&&(this.lastElement=d,d.is(CKEDITOR.dtd.$object)||"false"==d.getAttribute("contenteditable")))continue;if(d.equals(c))break;if(!l&&(h=d.getName(),"true"==d.getAttribute("contenteditable")?l=d:!e&&f[h]&&
(e=d),a[h])){if(h=!e&&"div"==h){a:{h=d.getChildren();for(var g=0,n=h.count();g<n;g++){var w=h.getItem(g);if(w.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[w.getName()]){h=!0;break a}}h=!1}h=!h}h?e=d:l=d}}while(d=d.getParent());l||(l=c);this.block=e;this.blockLimit=l;this.root=c;this.elements=m}}(),CKEDITOR.dom.elementPath.prototype={compare:function(a){var f=this.elements;a=a&&a.elements;if(!a||f.length!=a.length)return!1;for(var e=0;e<f.length;e++)if(!f[e].equals(a[e]))return!1;return!0},contains:function(a,
f,e){var b=0,c;"string"==typeof a&&(c=function(b){return b.getName()==a});a instanceof CKEDITOR.dom.element?c=function(b){return b.equals(a)}:CKEDITOR.tools.isArray(a)?c=function(b){return-1<CKEDITOR.tools.indexOf(a,b.getName())}:"function"==typeof a?c=a:"object"==typeof a&&(c=function(b){return b.getName()in a});var k=this.elements,l=k.length;f&&(e?b+=1:--l);e&&(k=Array.prototype.slice.call(k,0),k.reverse());for(;b<l;b++)if(c(k[b]))return k[b];return null},isContextFor:function(a){var f;return a in
CKEDITOR.dtd.$block?(f=this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit,!!f.getDtd()[a]):!0},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}},CKEDITOR.dom.text=function(a,f){"string"==typeof a&&(a=(f?f.$:document).createTextNode(a));this.$=a},CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},
getText:function(){return this.$.nodeValue},setText:function(a){this.$.nodeValue=a},isEmpty:function(a){var f=this.getText();a&&(f=CKEDITOR.tools.trim(f));return!f||f===CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE},split:function(a){var f=this.$.parentNode,e=f.childNodes.length,b=this.getLength(),c=this.getDocument(),k=new CKEDITOR.dom.text(this.$.splitText(a),c);f.childNodes.length==e&&(a>=b?(k=c.createText(""),k.insertAfter(this)):(a=c.createText(""),a.insertAfter(k),a.remove()));return k},substring:function(a,
f){return"number"!=typeof f?this.$.nodeValue.substr(a):this.$.nodeValue.substring(a,f)}}),function(){function a(a,b,c){var f=a.serializable,l=b[c?"endContainer":"startContainer"],m=c?"endOffset":"startOffset",d=f?b.document.getById(a.startNode):a.startNode;a=f?b.document.getById(a.endNode):a.endNode;l.equals(d.getPrevious())?(b.startOffset=b.startOffset-l.getLength()-a.getPrevious().getLength(),l=a.getNext()):l.equals(a.getPrevious())&&(b.startOffset-=l.getLength(),l=a.getNext());l.equals(d.getParent())&&
b[m]++;l.equals(a.getParent())&&b[m]++;b[c?"endContainer":"startContainer"]=l;return b}CKEDITOR.dom.rangeList=function(a){if(a instanceof CKEDITOR.dom.rangeList)return a;a?a instanceof CKEDITOR.dom.range&&(a=[a]):a=[];return CKEDITOR.tools.extend(a,f)};var f={createIterator:function(){var a=this,b=CKEDITOR.dom.walker.bookmark(),c=[],f;return{getNextRange:function(l){f=void 0===f?0:f+1;var m=a[f];if(m&&1<a.length){if(!f)for(var d=a.length-1;0<=d;d--)c.unshift(a[d].createBookmark(!0));if(l)for(var h=
0;a[f+h+1];){var g=m.document;l=0;d=g.getById(c[h].endNode);for(g=g.getById(c[h+1].startNode);;){d=d.getNextSourceNode(!1);if(g.equals(d))l=1;else if(b(d)||d.type==CKEDITOR.NODE_ELEMENT&&d.isBlockBoundary())continue;break}if(!l)break;h++}for(m.moveToBookmark(c.shift());h--;)d=a[++f],d.moveToBookmark(c.shift()),m.setEnd(d.endContainer,d.endOffset)}return m}}},createBookmarks:function(e){for(var b=[],c,f=0;f<this.length;f++){b.push(c=this[f].createBookmark(e,!0));for(var l=f+1;l<this.length;l++)this[l]=
a(c,this[l]),this[l]=a(c,this[l],!0)}return b},createBookmarks2:function(a){for(var b=[],c=0;c<this.length;c++)b.push(this[c].createBookmark2(a));return b},moveToBookmarks:function(a){for(var b=0;b<this.length;b++)this[b].moveToBookmark(a[b])}}}(),function(){function a(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/")}function f(b){var d=CKEDITOR.skin["ua_"+b],c=CKEDITOR.env;if(d)for(var d=d.split(",").sort(function(a,b){return a>b?-1:1}),e=0,
f;e<d.length;e++)if(f=d[e],c.ie&&(f.replace(/^ie/,"")==c.version||c.quirks&&"iequirks"==f)&&(f="ie"),c[f]){b+="_"+d[e];break}return CKEDITOR.getUrl(a()+b+".css")}function e(a,b){k[a]||(CKEDITOR.document.appendStyleSheet(f(a)),k[a]=1);b&&b()}function b(a){var b=a.getById(l);b||(b=a.getHead().append("style"),b.setAttribute("id",l),b.setAttribute("type","text/css"));return b}function c(a,b,d){var c,e,f;if(CKEDITOR.env.webkit)for(b=b.split("}").slice(0,-1),e=0;e<b.length;e++)b[e]=b[e].split("{");for(var k=
0;k<a.length;k++)if(CKEDITOR.env.webkit)for(e=0;e<b.length;e++){f=b[e][1];for(c=0;c<d.length;c++)f=f.replace(d[c][0],d[c][1]);a[k].$.sheet.addRule(b[e][0],f)}else{f=b;for(c=0;c<d.length;c++)f=f.replace(d[c][0],d[c][1]);CKEDITOR.env.ie&&11>CKEDITOR.env.version?a[k].$.styleSheet.cssText+=f:a[k].$.innerHTML+=f}}var k={};CKEDITOR.skin={path:a,loadPart:function(b,d){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(a()+"skin.js"),function(){e(b,d)}):e(b,d)},
getPath:function(a){return CKEDITOR.getUrl(f(a))},icons:{},addIcon:function(a,b,d,c){a=a.toLowerCase();this.icons[a]||(this.icons[a]={path:b,offset:d||0,bgsize:c||"16px"})},getIconStyle:function(a,b,d,c,e){var f;a&&(a=a.toLowerCase(),b&&(f=this.icons[a+"-rtl"]),f||(f=this.icons[a]));a=d||f&&f.path||"";c=c||f&&f.offset;e=e||f&&f.bgsize||"16px";a&&(a=a.replace(/'/g,"\\'"));return a&&"background-image:url('"+CKEDITOR.getUrl(a)+"');background-position:0 "+c+"px;background-size:"+e+";"}};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,
{getUiColor:function(){return this.uiColor},setUiColor:function(a){var g=b(CKEDITOR.document);return(this.setUiColor=function(a){this.uiColor=a;var b=CKEDITOR.skin.chameleon,e="",h="";"function"==typeof b&&(e=b(this,"editor"),h=b(this,"panel"));a=[[d,a]];c([g],e,a);c(m,h,a)}).call(this,a)}});var l="cke_ui_color",m=[],d=/\$color/g;CKEDITOR.on("instanceLoaded",function(a){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var g=a.editor;a=function(a){a=(a.data[0]||a.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument();
if(!a.getById("cke_ui_color")){var e=b(a);m.push(e);g.on("destroy",function(){m=CKEDITOR.tools.array.filter(m,function(a){return e!==a})});(a=g.getUiColor())&&c([e],CKEDITOR.skin.chameleon(g,"panel"),[[d,a]])}};g.on("panelShow",a);g.on("menuShow",a);g.config.uiColor&&g.setUiColor(g.config.uiColor)}})}(),function(){var a=CKEDITOR.dom.element.createFromHtml('\x3cdiv style\x3d"width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"\x3e\x3c/div\x3e',CKEDITOR.document);
a.appendTo(CKEDITOR.document.getHead());try{var f=a.getComputedStyle("border-top-color"),e=a.getComputedStyle("border-right-color");CKEDITOR.env.hc=!(!f||f!=e)}catch(b){CKEDITOR.env.hc=!1}a.remove();CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=" cke_hc");CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}");CKEDITOR.status="loaded";CKEDITOR.fireOnce("loaded");if(a=CKEDITOR._.pending)for(delete CKEDITOR._.pending,f=0;f<a.length;f++)CKEDITOR.editor.prototype.constructor.apply(a[f][0],a[f][1]),CKEDITOR.add(a[f][0])}(),
CKEDITOR.skin.name="moono-lisa",CKEDITOR.skin.ua_editor="ie,iequirks,ie8,gecko",CKEDITOR.skin.ua_dialog="ie,iequirks,ie8",CKEDITOR.skin.chameleon=function(){var a=function(){return function(a,b){for(var c=a.match(/[^#]./g),f=0;3>f;f++){var l=f,m;m=parseInt(c[f],16);m=("0"+(0>b?0|m*(1+b):0|m+(255-m)*b).toString(16)).slice(-2);c[l]=m}return"#"+c.join("")}}(),f={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_bottom [background-color:{defaultBackground};border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [background-color:{defaultBackground};outline-color:{defaultBorder};] {id} .cke_dialog_tab [background-color:{dialogTab};border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [background-color:{lightBackground};] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} a.cke_button_off:hover,{id} a.cke_button_off:focus,{id} a.cke_button_off:active [background-color:{darkBackground};border-color:{toolbarElementsBorder};] {id} .cke_button_on [background-color:{ckeButtonOn};border-color:{toolbarElementsBorder};] {id} .cke_toolbar_separator,{id} .cke_toolgroup a.cke_button:last-child:after,{id} .cke_toolgroup a.cke_button.cke_button_disabled:hover:last-child:after [background-color: {toolbarElementsBorder};border-color: {toolbarElementsBorder};] {id} a.cke_combo_button:hover,{id} a.cke_combo_button:focus,{id} .cke_combo_on a.cke_combo_button [border-color:{toolbarElementsBorder};background-color:{darkBackground};] {id} .cke_combo:after [border-color:{toolbarElementsBorder};] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover,{id} a.cke_path_item:focus,{id} a.cke_path_item:active [background-color:{darkBackground};] {id}.cke_panel [border-color:{defaultBorder};] "),
panel:new CKEDITOR.template(".cke_panel_grouptitle [background-color:{lightBackground};border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover,.cke_menubutton:focus,.cke_menubutton:active [background-color:{menubuttonHover};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menubutton_disabled:hover .cke_menubutton_icon,.cke_menubutton_disabled:focus .cke_menubutton_icon,.cke_menubutton_disabled:active .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")};
return function(e,b){var c=a(e.uiColor,.4),c={id:"."+e.id,defaultBorder:a(c,-.2),toolbarElementsBorder:a(c,-.25),defaultBackground:c,lightBackground:a(c,.8),darkBackground:a(c,-.15),ckeButtonOn:a(c,.4),ckeResizer:a(c,-.4),ckeColorauto:a(c,.8),dialogBody:a(c,.7),dialogTab:a(c,.65),dialogTabSelected:"#FFF",dialogTabSelectedBorder:"#FFF",elementsPathColor:a(c,-.6),menubuttonHover:a(c,.1),menubuttonIcon:a(c,.5),menubuttonIconHover:a(c,.3)};return f[b].output(c).replace(/\[/g,"{").replace(/\]/g,"}")}}(),
CKEDITOR.plugins.add("dialogui",{onLoad:function(){var a=function(a){this._||(this._={});this._["default"]=this._.initValue=a["default"]||"";this._.required=a.required||!1;for(var b=[this._],c=1;c<arguments.length;c++)b.push(arguments[c]);b.push(!0);CKEDITOR.tools.extend.apply(CKEDITOR.tools,b);return this._},f={build:function(a,b,c){return new CKEDITOR.ui.dialog.textInput(a,b,c)}},e={build:function(a,b,c){return new CKEDITOR.ui.dialog[b.type](a,b,c)}},b={isChanged:function(){return this.getValue()!=
this.getInitValue()},reset:function(a){this.setValue(this.getInitValue(),a)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._["default"]},getInitValue:function(){return this._.initValue}},c=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(a,b){this._.domOnChangeRegistered||(a.on("load",function(){this.getInputElement().on("change",function(){a.parts.dialog.isVisible()&&this.fire("change",{value:this.getValue()})},
this)},this),this._.domOnChangeRegistered=!0);this.on("change",b)}},!0),k=/^on([A-Z]\w+)/,l=function(a){for(var b in a)(k.test(b)||"title"==b||"type"==b)&&delete a[b];return a},m=function(a){a=a.data.getKeystroke();a==CKEDITOR.SHIFT+CKEDITOR.ALT+36?this.setDirectionMarker("ltr"):a==CKEDITOR.SHIFT+CKEDITOR.ALT+35&&this.setDirectionMarker("rtl")};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(b,c,g,e){if(!(4>arguments.length)){var f=a.call(this,c);f.labelId=CKEDITOR.tools.getNextId()+
"_label";this._.children=[];var k={role:c.role||"presentation"};c.includeLabel&&(k["aria-labelledby"]=f.labelId);CKEDITOR.ui.dialog.uiElement.call(this,b,c,g,"div",null,k,function(){var a=[],g=c.required?" cke_required":"";"horizontal"!=c.labelLayout?a.push('\x3clabel class\x3d"cke_dialog_ui_labeled_label'+g+'" ',' id\x3d"'+f.labelId+'"',f.inputId?' for\x3d"'+f.inputId+'"':"",(c.labelStyle?' style\x3d"'+c.labelStyle+'"':"")+"\x3e",c.required?c.label+'\x3cspan class\x3d"cke_dialog_ui_labeled_required" aria-hidden\x3d"true"\x3e*\x3c/span\x3e':
c.label,"\x3c/label\x3e",'\x3cdiv class\x3d"cke_dialog_ui_labeled_content"',c.controlStyle?' style\x3d"'+c.controlStyle+'"':"",' role\x3d"presentation"\x3e',e.call(this,b,c),"\x3c/div\x3e"):(g={type:"hbox",widths:c.widths,padding:0,children:[{type:"html",html:'\x3clabel class\x3d"cke_dialog_ui_labeled_label'+g+'" id\x3d"'+f.labelId+'" for\x3d"'+f.inputId+'"'+(c.labelStyle?' style\x3d"'+c.labelStyle+'"':"")+"\x3e"+CKEDITOR.tools.htmlEncode(c.label)+"\x3c/label\x3e"},{type:"html",html:'\x3cspan class\x3d"cke_dialog_ui_labeled_content"'+
(c.controlStyle?' style\x3d"'+c.controlStyle+'"':"")+"\x3e"+e.call(this,b,c)+"\x3c/span\x3e"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(b,g,a));return a.join("")})}},textInput:function(b,c,g){if(!(3>arguments.length)){a.call(this,c);var e=this._.inputId=CKEDITOR.tools.getNextId()+"_textInput",f={"class":"cke_dialog_ui_input_"+c.type,id:e,type:c.type};c.validate&&(this.validate=c.validate);c.maxLength&&(f.maxlength=c.maxLength);c.size&&(f.size=c.size);c.inputStyle&&(f.style=c.inputStyle);var k=
this,l=!1;b.on("load",function(){k.getInputElement().on("keydown",function(a){13==a.data.getKeystroke()&&(l=!0)});k.getInputElement().on("keyup",function(a){13==a.data.getKeystroke()&&l&&(b.getButton("ok")&&setTimeout(function(){b.getButton("ok").click()},0),l=!1);k.bidi&&m.call(k,a)},null,null,1E3)});CKEDITOR.ui.dialog.labeledElement.call(this,b,c,g,function(){var a=['\x3cdiv class\x3d"cke_dialog_ui_input_',c.type,'" role\x3d"presentation"'];c.width&&a.push('style\x3d"width:'+c.width+'" ');a.push("\x3e\x3cinput ");
f["aria-labelledby"]=this._.labelId;this._.required&&(f["aria-required"]=this._.required);for(var b in f)a.push(b+'\x3d"'+f[b]+'" ');a.push(" /\x3e\x3c/div\x3e");return a.join("")})}},textarea:function(b,c,g){if(!(3>arguments.length)){a.call(this,c);var e=this,f=this._.inputId=CKEDITOR.tools.getNextId()+"_textarea",k={};c.validate&&(this.validate=c.validate);k.rows=c.rows||5;k.cols=c.cols||20;k["class"]="cke_dialog_ui_input_textarea "+(c["class"]||"");"undefined"!=typeof c.inputStyle&&(k.style=c.inputStyle);
c.dir&&(k.dir=c.dir);if(e.bidi)b.on("load",function(){e.getInputElement().on("keyup",m)},e);CKEDITOR.ui.dialog.labeledElement.call(this,b,c,g,function(){k["aria-labelledby"]=this._.labelId;this._.required&&(k["aria-required"]=this._.required);var a=['\x3cdiv class\x3d"cke_dialog_ui_input_textarea" role\x3d"presentation"\x3e\x3ctextarea id\x3d"',f,'" '],b;for(b in k)a.push(b+'\x3d"'+CKEDITOR.tools.htmlEncode(k[b])+'" ');a.push("\x3e",CKEDITOR.tools.htmlEncode(e._["default"]),"\x3c/textarea\x3e\x3c/div\x3e");
return a.join("")})}},checkbox:function(b,c,g){if(!(3>arguments.length)){var e=a.call(this,c,{"default":!!c["default"]});c.validate&&(this.validate=c.validate);CKEDITOR.ui.dialog.uiElement.call(this,b,c,g,"span",null,null,function(){var a=CKEDITOR.tools.extend({},c,{id:c.id?c.id+"_checkbox":CKEDITOR.tools.getNextId()+"_checkbox"},!0),g=[],f=CKEDITOR.tools.getNextId()+"_label",k={"class":"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":f};l(a);c["default"]&&(k.checked="checked");"undefined"!=
typeof a.inputStyle&&(a.style=a.inputStyle);e.checkbox=new CKEDITOR.ui.dialog.uiElement(b,a,g,"input",null,k);g.push(' \x3clabel id\x3d"',f,'" for\x3d"',k.id,'"'+(c.labelStyle?' style\x3d"'+c.labelStyle+'"':"")+"\x3e",CKEDITOR.tools.htmlEncode(c.label),"\x3c/label\x3e");return g.join("")})}},radio:function(b,c,g){if(!(3>arguments.length)){a.call(this,c);this._["default"]||(this._["default"]=this._.initValue=c.items[0][1]);c.validate&&(this.validate=c.validate);var e=[],f=this;c.role="radiogroup";
c.includeLabel=!0;CKEDITOR.ui.dialog.labeledElement.call(this,b,c,g,function(){for(var a=[],g=[],k=(c.id?c.id:CKEDITOR.tools.getNextId())+"_radio",m=0;m<c.items.length;m++){var z=c.items[m],q=void 0!==z[2]?z[2]:z[0],A=void 0!==z[1]?z[1]:z[0],y=CKEDITOR.tools.getNextId()+"_radio_input",t=y+"_label",y=CKEDITOR.tools.extend({},c,{id:y,title:null,type:null},!0),q=CKEDITOR.tools.extend({},y,{title:q},!0),v={type:"radio","class":"cke_dialog_ui_radio_input",name:k,value:A,"aria-labelledby":t},B=[];f._["default"]==
A&&(v.checked="checked");l(y);l(q);"undefined"!=typeof y.inputStyle&&(y.style=y.inputStyle);y.keyboardFocusable=!0;e.push(new CKEDITOR.ui.dialog.uiElement(b,y,B,"input",null,v));B.push(" ");new CKEDITOR.ui.dialog.uiElement(b,q,B,"label",null,{id:t,"for":v.id},z[0]);a.push(B.join(""))}new CKEDITOR.ui.dialog.hbox(b,e,a,g);return g.join("")});this._.children=e}},button:function(b,c,g){if(arguments.length){"function"==typeof c&&(c=c(b.getParentEditor()));a.call(this,c,{disabled:c.disabled||!1});CKEDITOR.event.implementOn(this);
var e=this;b.on("load",function(){var a=this.getElement();(function(){a.on("click",function(a){e.click();a.data.preventDefault()});a.on("keydown",function(a){a.data.getKeystroke()in{32:1}&&(e.click(),a.data.preventDefault())})})();a.unselectable()},this);var f=CKEDITOR.tools.extend({},c);delete f.style;var k=CKEDITOR.tools.getNextId()+"_label";CKEDITOR.ui.dialog.uiElement.call(this,b,f,g,"a",null,{style:c.style,href:"javascript:void(0)",title:c.label,hidefocus:"true","class":c["class"],role:"button",
"aria-labelledby":k},'\x3cspan id\x3d"'+k+'" class\x3d"cke_dialog_ui_button"\x3e'+CKEDITOR.tools.htmlEncode(c.label)+"\x3c/span\x3e")}},select:function(b,c,g){if(!(3>arguments.length)){var e=a.call(this,c);c.validate&&(this.validate=c.validate);e.inputId=CKEDITOR.tools.getNextId()+"_select";CKEDITOR.ui.dialog.labeledElement.call(this,b,c,g,function(){var a=CKEDITOR.tools.extend({},c,{id:c.id?c.id+"_select":CKEDITOR.tools.getNextId()+"_select"},!0),g=[],f=[],k={id:e.inputId,"class":"cke_dialog_ui_input_select",
"aria-labelledby":this._.labelId};g.push('\x3cdiv class\x3d"cke_dialog_ui_input_',c.type,'" role\x3d"presentation"');c.width&&g.push('style\x3d"width:'+c.width+'" ');g.push("\x3e");void 0!==c.size&&(k.size=c.size);void 0!==c.multiple&&(k.multiple=c.multiple);l(a);for(var m=0,z;m<c.items.length&&(z=c.items[m]);m++)f.push('\x3coption value\x3d"',CKEDITOR.tools.htmlEncode(void 0!==z[1]?z[1]:z[0]).replace(/"/g,"\x26quot;"),'" /\x3e ',CKEDITOR.tools.htmlEncode(z[0]));"undefined"!=typeof a.inputStyle&&
(a.style=a.inputStyle);e.select=new CKEDITOR.ui.dialog.uiElement(b,a,g,"select",null,k,f.join(""));g.push("\x3c/div\x3e");return g.join("")})}},file:function(b,c,g){if(!(3>arguments.length)){void 0===c["default"]&&(c["default"]="");var e=CKEDITOR.tools.extend(a.call(this,c),{definition:c,buttons:[]});c.validate&&(this.validate=c.validate);b.on("load",function(){CKEDITOR.document.getById(e.frameId).getParent().addClass("cke_dialog_ui_input_file")});CKEDITOR.ui.dialog.labeledElement.call(this,b,c,g,
function(){e.frameId=CKEDITOR.tools.getNextId()+"_fileInput";var a=['\x3ciframe frameborder\x3d"0" allowtransparency\x3d"0" class\x3d"cke_dialog_ui_input_file" role\x3d"presentation" id\x3d"',e.frameId,'" title\x3d"',c.label,'" src\x3d"javascript:void('];a.push(CKEDITOR.env.ie?"(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"})()":"0");a.push(')"\x3e\x3c/iframe\x3e');return a.join("")})}},fileButton:function(b,c,g){var e=this;if(!(3>arguments.length)){a.call(this,
c);c.validate&&(this.validate=c.validate);var f=CKEDITOR.tools.extend({},c),k=f.onClick;f.className=(f.className?f.className+" ":"")+"cke_dialog_ui_button";f.onClick=function(a){var g=c["for"];a=k?k.call(this,a):!1;!1!==a&&("xhr"!==a&&b.getContentElement(g[0],g[1]).submit(),this.disable())};b.on("load",function(){b.getContentElement(c["for"][0],c["for"][1])._.buttons.push(e)});CKEDITOR.ui.dialog.button.call(this,b,f,g)}},html:function(){var a=/^\s*<[\w:]+\s+([^>]*)?>/,b=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,
c=/\/$/;return function(e,f,k){if(!(3>arguments.length)){var l=[],m=f.html;"\x3c"!=m.charAt(0)&&(m="\x3cspan\x3e"+m+"\x3c/span\x3e");var u=f.focus;if(u){var z=this.focus;this.focus=function(){("function"==typeof u?u:z).call(this);this.fire("focus")};f.isFocusable&&(this.isFocusable=this.isFocusable);this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,e,f,l,"span",null,null,"");l=l.join("").match(a);m=m.match(b)||["","",""];c.test(m[1])&&(m[1]=m[1].slice(0,-1),m[2]="/"+m[2]);k.push([m[1],
" ",l[1]||"",m[2]].join(""))}}}(),fieldset:function(a,b,c,e,f){var k=f.label;this._={children:b};CKEDITOR.ui.dialog.uiElement.call(this,a,f,e,"fieldset",null,null,function(){var a=[];k&&a.push("\x3clegend"+(f.labelStyle?' style\x3d"'+f.labelStyle+'"':"")+"\x3e"+k+"\x3c/legend\x3e");for(var b=0;b<c.length;b++)a.push(c[b]);return a.join("")})}},!0);CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement;CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,
{setLabel:function(a){var b=CKEDITOR.document.getById(this._.labelId);1>b.getChildCount()?(new CKEDITOR.dom.text(a,CKEDITOR.document)).appendTo(b):b.getChild(0).$.nodeValue=a;return this},getLabel:function(){var a=CKEDITOR.document.getById(this._.labelId);return!a||1>a.getChildCount()?"":a.getChild(0).getText()},eventProcessors:c},!0);CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return this._.disabled?!1:this.fire("click",{dialog:this._.dialog})},
enable:function(){this._.disabled=!1;var a=this.getElement();a&&a.removeClass("cke_disabled")},disable:function(){this._.disabled=!0;this.getElement().addClass("cke_disabled")},isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(a,b){this.on("click",function(){b.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},
accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},focus:function(){var a=this.selectParentTab();setTimeout(function(){var b=a.getInputElement();b&&b.$.focus()},0)},select:function(){var a=this.selectParentTab();setTimeout(function(){var b=a.getInputElement();b&&(b.$.focus(),b.$.select())},0)},accessKeyUp:function(){this.select()},
setValue:function(a){if(this.bidi){var b=a&&a.charAt(0);(b="‪"==b?"ltr":"‫"==b?"rtl":null)&&(a=a.slice(1));this.setDirectionMarker(b)}a||(a="");return CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},getValue:function(){var a=CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);if(this.bidi&&a){var b=this.getDirectionMarker();b&&(a=("ltr"==b?"‪":"‫")+a)}return a},setDirectionMarker:function(a){var b=this.getInputElement();a?b.setAttributes({dir:a,"data-cke-dir-marker":a}):
this.getDirectionMarker()&&b.removeAttributes(["dir","data-cke-dir-marker"])},getDirectionMarker:function(){return this.getInputElement().data("cke-dir-marker")},keyboardFocusable:!0},b,!0);CKEDITOR.ui.dialog.textarea.prototype=new CKEDITOR.ui.dialog.textInput;CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(a,b,c){var e=new CKEDITOR.dom.element("option",this.getDialog().getParentEditor().document),
f=this.getInputElement().$;e.$.text=a;e.$.value=void 0===b||null===b?a:b;void 0===c||null===c?CKEDITOR.env.ie?f.add(e.$):f.add(e.$,null):f.add(e.$,c);return this},remove:function(a){this.getInputElement().$.remove(a);return this},clear:function(){for(var a=this.getInputElement().$;0<a.length;)a.remove(0);return this},keyboardFocusable:!0},b,!0);CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},
setValue:function(a,b){this.getInputElement().$.checked=a;!b&&this.fire("change",{value:a});return this},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(a,b){if(!CKEDITOR.env.ie||8<CKEDITOR.env.version)return c.onChange.apply(this,arguments);a.on("load",function(){var a=this._.checkbox.getElement();a.on("propertychange",function(b){b=b.data.$;"checked"==b.propertyName&&this.fire("change",{value:a.$.checked})},
this)},this);this.on("change",b);return null}},keyboardFocusable:!0},b,!0);CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(a,b){for(var c=this._.children,e,f=0;f<c.length&&(e=c[f]);f++)e.getElement().$.checked=e.getValue()==a;!b&&this.fire("change",{value:a});return this},getValue:function(){for(var a=this._.children,b=0;b<a.length;b++)if(a[b].getElement().$.checked)return a[b].getValue();return null},accessKeyUp:function(){var a=this._.children,
b;for(b=0;b<a.length;b++)if(a[b].getElement().$.checked){a[b].getElement().focus();return}a[0].getElement().focus()},eventProcessors:{onChange:function(a,b){if(!CKEDITOR.env.ie||8<CKEDITOR.env.version)return c.onChange.apply(this,arguments);a.on("load",function(){for(var a=this._.children,b=this,d=0;d<a.length;d++)a[d].getElement().on("propertychange",function(a){a=a.data.$;"checked"==a.propertyName&&this.$.checked&&b.fire("change",{value:this.getAttribute("value")})})},this);this.on("change",b);
return null}}},b,!0);CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,b,{getInputElement:function(){var a=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<a.$.forms.length?new CKEDITOR.dom.element(a.$.forms[0].elements[0]):this.getElement()},submit:function(){this.getInputElement().getParent().$.submit();return this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(a){var b=/^on([A-Z]\w+)/,
c,e=function(a,b,d,c){a.on("formLoaded",function(){a.getInputElement().on(d,c,a)})},f;for(f in a)if(c=f.match(b))this.eventProcessors[f]?this.eventProcessors[f].call(this,this._.dialog,a[f]):e(this,this._.dialog,c[1].toLowerCase(),a[f]);return this},reset:function(){function a(){c.$.open();var d="";e.size&&(d=e.size-(CKEDITOR.env.ie?7:0));var q=b.frameId+"_input";c.$.write(['\x3chtml dir\x3d"'+m+'" lang\x3d"'+u+'"\x3e\x3chead\x3e\x3ctitle\x3e\x3c/title\x3e\x3c/head\x3e\x3cbody style\x3d"margin: 0; overflow: hidden; background: transparent;"\x3e',
'\x3cform enctype\x3d"multipart/form-data" method\x3d"POST" dir\x3d"'+m+'" lang\x3d"'+u+'" action\x3d"',CKEDITOR.tools.htmlEncode(e.action),'"\x3e\x3clabel id\x3d"',b.labelId,'" for\x3d"',q,'" style\x3d"display:none"\x3e',CKEDITOR.tools.htmlEncode(e.label),'\x3c/label\x3e\x3cinput style\x3d"width:100%" id\x3d"',q,'" aria-labelledby\x3d"',b.labelId,'" type\x3d"file" name\x3d"',CKEDITOR.tools.htmlEncode(e.id||"cke_upload"),'" size\x3d"',CKEDITOR.tools.htmlEncode(0<d?d:""),'" /\x3e\x3c/form\x3e\x3c/body\x3e\x3c/html\x3e\x3cscript\x3e',
CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"","window.parent.CKEDITOR.tools.callFunction("+k+");","window.onbeforeunload \x3d function() {window.parent.CKEDITOR.tools.callFunction("+l+")}","\x3c/script\x3e"].join(""));c.$.close();for(d=0;d<f.length;d++)f[d].enable()}var b=this._,c=CKEDITOR.document.getById(b.frameId).getFrameDocument(),e=b.definition,f=b.buttons,k=this.formLoadedNumber,l=this.formUnloadNumber,m=b.dialog._.editor.lang.dir,u=b.dialog._.editor.langCode;k||(k=this.formLoadedNumber=
CKEDITOR.tools.addFunction(function(){this.fire("formLoaded")},this),l=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on("destroy",function(){CKEDITOR.tools.removeFunction(k);CKEDITOR.tools.removeFunction(l)}));CKEDITOR.env.gecko?setTimeout(a,500):a()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(a,b){this._.domOnChangeRegistered||
(this.on("formLoaded",function(){this.getInputElement().on("change",function(){this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0);this.on("change",b)}},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.fileButton.prototype=new CKEDITOR.ui.dialog.button;CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype);CKEDITOR.dialog.addUIElement("text",f);CKEDITOR.dialog.addUIElement("password",f);CKEDITOR.dialog.addUIElement("tel",f);
CKEDITOR.dialog.addUIElement("textarea",e);CKEDITOR.dialog.addUIElement("checkbox",e);CKEDITOR.dialog.addUIElement("radio",e);CKEDITOR.dialog.addUIElement("button",e);CKEDITOR.dialog.addUIElement("select",e);CKEDITOR.dialog.addUIElement("file",e);CKEDITOR.dialog.addUIElement("fileButton",e);CKEDITOR.dialog.addUIElement("html",e);CKEDITOR.dialog.addUIElement("fieldset",{build:function(a,b,c){for(var e=b.children,f,k=[],l=[],m=0;m<e.length&&(f=e[m]);m++){var u=[];k.push(u);l.push(CKEDITOR.dialog._.uiElementBuilders[f.type].build(a,
f,u))}return new CKEDITOR.ui.dialog[b.type](a,l,k,c,b)}})}}),CKEDITOR.DIALOG_RESIZE_NONE=0,CKEDITOR.DIALOG_RESIZE_WIDTH=1,CKEDITOR.DIALOG_RESIZE_HEIGHT=2,CKEDITOR.DIALOG_RESIZE_BOTH=3,CKEDITOR.DIALOG_STATE_IDLE=1,CKEDITOR.DIALOG_STATE_BUSY=2,function(){function a(a){a._.tabBarMode=!0;a._.tabs[a._.currentTabId][0].focus();a._.currentFocusIndex=-1}function f(){for(var a=this._.tabIdList.length,b=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+a,d=b-1;d>b-a;d--)if(this._.tabs[this._.tabIdList[d%
a]][0].$.offsetHeight)return this._.tabIdList[d%a];return null}function e(){for(var a=this._.tabIdList.length,b=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),d=b+1;d<b+a;d++)if(this._.tabs[this._.tabIdList[d%a]][0].$.offsetHeight)return this._.tabIdList[d%a];return null}function b(a,b){for(var d=a.$.getElementsByTagName("input"),c=0,g=d.length;c<g;c++){var e=new CKEDITOR.dom.element(d[c]);"text"==e.getAttribute("type").toLowerCase()&&(b?(e.setAttribute("value",e.getCustomData("fake_value")||
""),e.removeCustomData("fake_value")):(e.setCustomData("fake_value",e.getAttribute("value")),e.setAttribute("value","")))}}function c(a,b){var d=this.getInputElement();d&&(a?d.removeAttribute("aria-invalid"):d.setAttribute("aria-invalid",!0));a||(this.select?this.select():this.focus());b&&alert(b);this.fire("validated",{valid:a,msg:b})}function k(){var a=this.getInputElement();a&&a.removeAttribute("aria-invalid")}function l(a){var b=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog",
K).output({id:CKEDITOR.tools.getNextNumber(),editorId:a.id,langDir:a.lang.dir,langCode:a.langCode,editorDialogClass:"cke_editor_"+a.name.replace(/\./g,"\\.")+"_dialog",closeTitle:a.lang.common.close,hidpi:CKEDITOR.env.hidpi?"cke_hidpi":""})),d=b.getChild([0,0,0,0,0]),c=d.getChild(0),g=d.getChild(1);a.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(d);!CKEDITOR.env.ie||CKEDITOR.env.quirks||CKEDITOR.env.edge||(a="javascript:void(function(){"+encodeURIComponent("document.open();("+
CKEDITOR.tools.fixDomain+")();document.close();")+"}())",CKEDITOR.dom.element.createFromHtml('\x3ciframe frameBorder\x3d"0" class\x3d"cke_iframe_shim" src\x3d"'+a+'" tabIndex\x3d"-1"\x3e\x3c/iframe\x3e').appendTo(d.getParent()));c.unselectable();g.unselectable();return{element:b,parts:{dialog:b.getChild(0),title:c,close:g,tabs:d.getChild(2),contents:d.getChild([3,0,0,0]),footer:d.getChild([3,0,1,0])}}}function m(a,b,d){this.element=b;this.focusIndex=d;this.tabIndex=0;this.isFocusable=function(){return!b.getAttribute("disabled")&&
b.isVisible()};this.focus=function(){a._.currentFocusIndex=this.focusIndex;this.element.focus()};b.on("keydown",function(a){a.data.getKeystroke()in{32:1,13:1}&&this.fire("click")});b.on("focus",function(){this.fire("mouseover")});b.on("blur",function(){this.fire("mouseout")})}function d(a){function b(){a.layout()}var d=CKEDITOR.document.getWindow();d.on("resize",b);a.on("hide",function(){d.removeListener("resize",b)})}function h(a,b){this.dialog=a;for(var d=b.contents,c=0,e;e=d[c];c++)d[c]=e&&new g(a,
e);CKEDITOR.tools.extend(this,b)}function g(a,b){this._={dialog:a};CKEDITOR.tools.extend(this,b)}function n(a){function b(d){var k=a.getSize(),l=a.parts.dialog.getParent().getClientSize(),m=d.data.$.screenX,n=d.data.$.screenY,v=m-c.x,q=n-c.y;c={x:m,y:n};g.x+=v;g.y+=q;m=g.x+h[3]<f?-h[3]:g.x-h[1]>l.width-k.width-f?l.width-k.width+("rtl"==e.lang.dir?0:h[1]):g.x;k=g.y+h[0]<f?-h[0]:g.y-h[2]>l.height-k.height-f?l.height-k.height+h[2]:g.y;m=Math.floor(m);k=Math.floor(k);a.move(m,k,1);d.data.preventDefault()}
function d(){CKEDITOR.document.removeListener("mousemove",b);CKEDITOR.document.removeListener("mouseup",d);if(CKEDITOR.env.ie6Compat){var a=C.getChild(0).getFrameDocument();a.removeListener("mousemove",b);a.removeListener("mouseup",d)}}var c=null,g=null,e=a.getParentEditor(),f=e.config.dialog_magnetDistance,h=CKEDITOR.skin.margins||[0,0,0,0];"undefined"==typeof f&&(f=20);a.parts.title.on("mousedown",function(e){if(!a._.moved){var f=a._.element;f.getFirst().setStyle("position","absolute");f.removeStyle("display");
a._.moved=!0;a.layout()}c={x:e.data.$.screenX,y:e.data.$.screenY};CKEDITOR.document.on("mousemove",b);CKEDITOR.document.on("mouseup",d);g=a.getPosition();CKEDITOR.env.ie6Compat&&(f=C.getChild(0).getFrameDocument(),f.on("mousemove",b),f.on("mouseup",d));e.data.preventDefault()},a)}function w(a){function b(d){var n="rtl"==e.lang.dir,v=m.width,q=m.height,t=v+(d.data.$.screenX-l.x)*(n?-1:1)*(a._.moved?1:2),I=q+(d.data.$.screenY-l.y)*(a._.moved?1:2),w=a._.element.getFirst(),w=n&&parseInt(w.getComputedStyle("right"),
10),y=a.getPosition();y.x=y.x||0;y.y=y.y||0;y.y+I>k.height&&(I=k.height-y.y);(n?w:y.x)+t>k.width&&(t=k.width-(n?w:y.x));I=Math.floor(I);t=Math.floor(t);if(g==CKEDITOR.DIALOG_RESIZE_WIDTH||g==CKEDITOR.DIALOG_RESIZE_BOTH)v=Math.max(c.minWidth||0,t-f);if(g==CKEDITOR.DIALOG_RESIZE_HEIGHT||g==CKEDITOR.DIALOG_RESIZE_BOTH)q=Math.max(c.minHeight||0,I-h);a.resize(v,q);a._.moved&&x(a,a._.position.x,a._.position.y);a._.moved||a.layout();d.data.preventDefault()}function d(){CKEDITOR.document.removeListener("mouseup",
d);CKEDITOR.document.removeListener("mousemove",b);n&&(n.remove(),n=null);if(CKEDITOR.env.ie6Compat){var a=C.getChild(0).getFrameDocument();a.removeListener("mouseup",d);a.removeListener("mousemove",b)}}var c=a.definition,g=c.resizable;if(g!=CKEDITOR.DIALOG_RESIZE_NONE){var e=a.getParentEditor(),f,h,k,l,m,n,v=CKEDITOR.tools.addFunction(function(c){function g(a){return a.isVisible()}m=a.getSize();var e=a.parts.contents,v=e.$.getElementsByTagName("iframe").length,q=!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&
CKEDITOR.env.quirks);v&&(n=CKEDITOR.dom.element.createFromHtml('\x3cdiv class\x3d"cke_dialog_resize_cover" style\x3d"height: 100%; position: absolute; width: 100%; left:0; top:0;"\x3e\x3c/div\x3e'),e.append(n));h=m.height-a.parts.contents.getFirst(g).getSize("height",q);f=m.width-a.parts.contents.getFirst(g).getSize("width",1);l={x:c.screenX,y:c.screenY};k=CKEDITOR.document.getWindow().getViewPaneSize();CKEDITOR.document.on("mousemove",b);CKEDITOR.document.on("mouseup",d);CKEDITOR.env.ie6Compat&&
(e=C.getChild(0).getFrameDocument(),e.on("mousemove",b),e.on("mouseup",d));c.preventDefault&&c.preventDefault()});a.on("load",function(){var b="";g==CKEDITOR.DIALOG_RESIZE_WIDTH?b=" cke_resizer_horizontal":g==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(b=" cke_resizer_vertical");b=CKEDITOR.dom.element.createFromHtml('\x3cdiv class\x3d"cke_resizer'+b+" cke_resizer_"+e.lang.dir+'" title\x3d"'+CKEDITOR.tools.htmlEncode(e.lang.common.resize)+'" onmousedown\x3d"CKEDITOR.tools.callFunction('+v+', event )"\x3e'+("ltr"==
e.lang.dir?"◢":"◣")+"\x3c/div\x3e");a.parts.footer.append(b,1)});e.on("destroy",function(){CKEDITOR.tools.removeFunction(v)})}}function x(a,b,d){var c=a.parts.dialog.getParent().getClientSize(),g=a.getSize(),e=a._.viewportRatio,f=Math.max(c.width-g.width,0),c=Math.max(c.height-g.height,0);e.width=f?b/f:e.width;e.height=c?d/c:e.height;a._.viewportRatio=e}function r(a){a.data.preventDefault(1)}function p(a){var b=a.config,d=CKEDITOR.skinName||a.config.skin,c=b.dialog_backgroundCoverColor||("moono-lisa"==
d?"black":"white"),d=b.dialog_backgroundCoverOpacity,g=b.baseFloatZIndex,b=CKEDITOR.tools.genKey(c,d,g),e=E[b];CKEDITOR.document.getBody().addClass("cke_dialog_open");e?e.show():(g=['\x3cdiv tabIndex\x3d"-1" style\x3d"position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",g,"; top: 0px; left: 0px; ","; width: 100%; height: 100%;",CKEDITOR.env.ie6Compat?"":"background-color: "+c,'" class\x3d"cke_dialog_background_cover"\x3e'],CKEDITOR.env.ie6Compat&&(c="\x3chtml\x3e\x3cbody style\x3d\\'background-color:"+
c+";\\'\x3e\x3c/body\x3e\x3c/html\x3e",g.push('\x3ciframe hidefocus\x3d"true" frameborder\x3d"0" id\x3d"cke_dialog_background_iframe" src\x3d"javascript:'),g.push("void((function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.write( '"+c+"' );document.close();")+"})())"),g.push('" style\x3d"position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity\x3d0)"\x3e\x3c/iframe\x3e')),g.push("\x3c/div\x3e"),e=CKEDITOR.dom.element.createFromHtml(g.join("")),
e.setOpacity(void 0!==d?d:.5),e.on("keydown",r),e.on("keypress",r),e.on("keyup",r),e.appendTo(CKEDITOR.document.getBody()),E[b]=e);a.focusManager.add(e);C=e;CKEDITOR.env.mac&&CKEDITOR.env.webkit||e.focus()}function u(a){CKEDITOR.document.getBody().removeClass("cke_dialog_open");C&&(a.focusManager.remove(C),C.hide())}function z(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,d=a.data.$.altKey,c=a.data.$.shiftKey,g=String.fromCharCode(a.data.$.keyCode);(b=P[(b?"CTRL+":"")+(d?"ALT+":"")+(c?"SHIFT+":"")+
g])&&b.length&&(b=b[b.length-1],b.keydown&&b.keydown.call(b.uiElement,b.dialog,b.key),a.data.preventDefault())}function q(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,d=a.data.$.altKey,c=a.data.$.shiftKey,g=String.fromCharCode(a.data.$.keyCode);(b=P[(b?"CTRL+":"")+(d?"ALT+":"")+(c?"SHIFT+":"")+g])&&b.length&&(b=b[b.length-1],b.keyup&&(b.keyup.call(b.uiElement,b.dialog,b.key),a.data.preventDefault()))}function A(a,b,d,c,g){(P[d]||(P[d]=[])).push({uiElement:a,dialog:b,key:d,keyup:g||a.accessKeyUp,keydown:c||
a.accessKeyDown})}function y(a){for(var b in P){for(var d=P[b],c=d.length-1;0<=c;c--)d[c].dialog!=a&&d[c].uiElement!=a||d.splice(c,1);0===d.length&&delete P[b]}}function t(a,b){a._.accessKeyMap[b]&&a.selectPage(a._.accessKeyMap[b])}function v(){}var B=CKEDITOR.tools.cssLength,D,C,F=!1,J=!CKEDITOR.env.ie||CKEDITOR.env.edge,K='\x3cdiv class\x3d"cke_reset_all cke_dialog_container {editorId} {editorDialogClass} {hidpi}" dir\x3d"{langDir}" style\x3d"'+(J?"display:flex":"")+'" lang\x3d"{langCode}" role\x3d"dialog" aria-labelledby\x3d"cke_dialog_title_{id}"\x3e\x3ctable class\x3d"cke_dialog '+
CKEDITOR.env.cssClass+' cke_{langDir}" style\x3d"'+(J?"margin:auto":"position:absolute")+'" role\x3d"presentation"\x3e\x3ctr\x3e\x3ctd role\x3d"presentation"\x3e\x3cdiv class\x3d"cke_dialog_body" role\x3d"presentation"\x3e\x3cdiv id\x3d"cke_dialog_title_{id}" class\x3d"cke_dialog_title" role\x3d"presentation"\x3e\x3c/div\x3e\x3ca id\x3d"cke_dialog_close_button_{id}" class\x3d"cke_dialog_close_button" href\x3d"javascript:void(0)" title\x3d"{closeTitle}" role\x3d"button"\x3e\x3cspan class\x3d"cke_label"\x3eX\x3c/span\x3e\x3c/a\x3e\x3cdiv id\x3d"cke_dialog_tabs_{id}" class\x3d"cke_dialog_tabs" role\x3d"tablist"\x3e\x3c/div\x3e\x3ctable class\x3d"cke_dialog_contents" role\x3d"presentation"\x3e\x3ctr\x3e\x3ctd id\x3d"cke_dialog_contents_{id}" class\x3d"cke_dialog_contents_body" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd id\x3d"cke_dialog_footer_{id}" class\x3d"cke_dialog_footer" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e';
CKEDITOR.dialog=function(b,d){function g(){var a=x._.focusList;a.sort(function(a,b){return a.tabIndex!=b.tabIndex?b.tabIndex-a.tabIndex:a.focusIndex-b.focusIndex});for(var b=a.length,d=0;d<b;d++)a[d].focusIndex=d}function m(a){var b=x._.focusList;a=a||0;if(!(1>b.length)){var d=x._.currentFocusIndex;x._.tabBarMode&&0>a&&(d=0);try{b[d].getInputElement().$.blur()}catch(c){}var g=d,e=1<x._.pageCount;do{g+=a;if(e&&!x._.tabBarMode&&(g==b.length||-1==g)){x._.tabBarMode=!0;x._.tabs[x._.currentTabId][0].focus();
x._.currentFocusIndex=-1;return}g=(g+b.length)%b.length;if(g==d)break}while(a&&!b[g].isFocusable());b[g].focus();"text"==b[g].type&&b[g].select()}}function v(d){if(x==CKEDITOR.dialog._.currentTop){var c=d.data.getKeystroke(),g="rtl"==b.lang.dir,h=[37,38,39,40];A=B=0;if(9==c||c==CKEDITOR.SHIFT+9)m(c==CKEDITOR.SHIFT+9?-1:1),A=1;else if(c==CKEDITOR.ALT+121&&!x._.tabBarMode&&1<x.getPageCount())a(x),A=1;else if(-1!=CKEDITOR.tools.indexOf(h,c)&&x._.tabBarMode)c=-1!=CKEDITOR.tools.indexOf([g?39:37,38],c)?
f.call(x):e.call(x),x.selectPage(c),x._.tabs[c][0].focus(),A=1;else if(13!=c&&32!=c||!x._.tabBarMode)if(13==c)c=d.data.getTarget(),c.is("a","button","select","textarea")||c.is("input")&&"button"==c.$.type||((c=this.getButton("ok"))&&CKEDITOR.tools.setTimeout(c.click,0,c),A=1),B=1;else if(27==c)(c=this.getButton("cancel"))?CKEDITOR.tools.setTimeout(c.click,0,c):!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),B=1;else return;else this.selectPage(this._.currentTabId),this._.tabBarMode=!1,this._.currentFocusIndex=
-1,m(1),A=1;q(d)}}function q(a){A?a.data.preventDefault(1):B&&a.data.stopPropagation()}var t=CKEDITOR.dialog._.dialogDefinitions[d],y=CKEDITOR.tools.clone(D),u=b.config.dialog_buttonsOrder||"OS",p=b.lang.dir,z={},A,B;("OS"==u&&CKEDITOR.env.mac||"rtl"==u&&"ltr"==p||"ltr"==u&&"rtl"==p)&&y.buttons.reverse();t=CKEDITOR.tools.extend(t(b),y);t=CKEDITOR.tools.clone(t);t=new h(this,t);y=l(b);this._={editor:b,element:y.element,name:d,model:null,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},
buttons:{},accessKeyMap:{},viewportRatio:{width:.5,height:.5},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1};this.parts=y.parts;CKEDITOR.tools.setTimeout(function(){b.fire("ariaWidget",this.parts.contents)},0,this);y={top:0,visibility:"hidden"};CKEDITOR.env.ie6Compat&&(y.position="absolute");y["rtl"==p?"right":"left"]=0;this.parts.dialog.setStyles(y);CKEDITOR.event.call(this);this.definition=t=CKEDITOR.fire("dialogDefinition",
{name:d,definition:t,dialog:this},b).definition;if(!("removeDialogTabs"in b._)&&b.config.removeDialogTabs){y=b.config.removeDialogTabs.split(";");for(p=0;p<y.length;p++)if(u=y[p].split(":"),2==u.length){var r=u[0];z[r]||(z[r]=[]);z[r].push(u[1])}b._.removeDialogTabs=z}if(b._.removeDialogTabs&&(z=b._.removeDialogTabs[d]))for(p=0;p<z.length;p++)t.removeContents(z[p]);if(t.onLoad)this.on("load",t.onLoad);if(t.onShow)this.on("show",t.onShow);if(t.onHide)this.on("hide",t.onHide);if(t.onOk)this.on("ok",
function(a){b.fire("saveSnapshot");setTimeout(function(){b.fire("saveSnapshot")},0);!1===t.onOk.call(this,a)&&(a.data.hide=!1)});this.state=CKEDITOR.DIALOG_STATE_IDLE;if(t.onCancel)this.on("cancel",function(a){!1===t.onCancel.call(this,a)&&(a.data.hide=!1)});var x=this,C=function(a){var b=x._.contents,d=!1,c;for(c in b)for(var g in b[c])if(d=a.call(this,b[c][g]))return};this.on("ok",function(a){C(function(b){if(b.validate){var d=b.validate(this),g="string"==typeof d||!1===d;g&&(a.data.hide=!1,a.stop());
c.call(b,!g,"string"==typeof d?d:void 0);return g}})},this,null,0);this.on("cancel",function(a){C(function(d){if(d.isChanged())return b.config.dialog_noConfirmCancel||confirm(b.lang.common.confirmCancel)||(a.data.hide=!1),!0})},this,null,0);this.parts.close.on("click",function(a){!1!==this.fire("cancel",{hide:!0}).hide&&this.hide();a.data.preventDefault()},this);this.changeFocus=m;var F=this._.element;b.focusManager.add(F,1);this.on("show",function(){F.on("keydown",v,this);if(CKEDITOR.env.gecko)F.on("keypress",
q,this)});this.on("hide",function(){F.removeListener("keydown",v);CKEDITOR.env.gecko&&F.removeListener("keypress",q);C(function(a){k.apply(a)})});this.on("iframeAdded",function(a){(new CKEDITOR.dom.document(a.data.iframe.$.contentWindow.document)).on("keydown",v,this,null,0)});this.on("show",function(){g();var a=1<x._.pageCount;b.config.dialog_startupFocusTab&&a?(x._.tabBarMode=!0,x._.tabs[x._.currentTabId][0].focus(),x._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=a?-1:this._.focusList.length-
1,t.onFocus?(a=t.onFocus.call(this))&&a.focus():m(1))},this,null,4294967295);if(CKEDITOR.env.ie6Compat)this.on("load",function(){var a=this.getElement(),b=a.getFirst();b.remove();b.appendTo(a)},this);n(this);w(this);(new CKEDITOR.dom.text(t.title,CKEDITOR.document)).appendTo(this.parts.title);for(p=0;p<t.contents.length;p++)(z=t.contents[p])&&this.addPage(z);this.parts.tabs.on("click",function(b){var d=b.data.getTarget();d.hasClass("cke_dialog_tab")&&(d=d.$.id,this.selectPage(d.substring(4,d.lastIndexOf("_"))),
a(this),b.data.preventDefault())},this);p=[];z=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:t.buttons},p).getChild();this.parts.footer.setHtml(p.join(""));for(p=0;p<z.length;p++)this._.buttons[z[p].id]=z[p]};CKEDITOR.dialog.prototype={destroy:function(){this.hide();this._.element.remove()},resize:function(a,b){if(!this._.contentSize||this._.contentSize.width!=a||this._.contentSize.height!=b){CKEDITOR.dialog.fire("resize",
{dialog:this,width:a,height:b},this._.editor);this.fire("resize",{width:a,height:b},this._.editor);this.parts.contents.setStyles({width:a+"px",height:b+"px"});if("rtl"==this._.editor.lang.dir&&this._.position){var d=this.parts.dialog.getParent().getClientSize().width;this._.position.x=d-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle("right"),10)}this._.contentSize={width:a,height:b}}},getSize:function(){var a=this._.element.getFirst();return{width:a.$.offsetWidth||0,height:a.$.offsetHeight||
0}},move:function(a,b,d){var c=this._.element.getFirst(),g="rtl"==this._.editor.lang.dir;CKEDITOR.env.ie&&c.setStyle("zoom","100%");var e=this.parts.dialog.getParent().getClientSize(),f=this.getSize(),h=this._.viewportRatio,k=Math.max(e.width-f.width,0),e=Math.max(e.height-f.height,0);this._.position&&this._.position.x==a&&this._.position.y==b?(a=Math.floor(k*h.width),b=Math.floor(e*h.height)):x(this,a,b);this._.position={x:a,y:b};g&&(a=k-a);b={top:(0<b?b:0)+"px"};b[g?"right":"left"]=(0<a?a:0)+"px";
c.setStyles(b);d&&(this._.moved=1)},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var a=this._.element,b=this.definition,c=CKEDITOR.document.getBody(),g=this._.editor.config.baseFloatZIndex;a.getParent()&&a.getParent().equals(c)?a.setStyle("display",J?"flex":"block"):a.appendTo(c);this.resize(this._.contentSize&&this._.contentSize.width||b.width||b.minWidth,this._.contentSize&&this._.contentSize.height||b.height||b.minHeight);this.reset();null===this._.currentTabId&&
this.selectPage(this.definition.contents[0].id);null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=g);this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex+=10);this.getElement().setStyle("z-index",CKEDITOR.dialog._.currentZIndex);null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,this._.parentDialog=null,p(this._.editor)):CKEDITOR.dialog._.currentTop!==this&&(this._.parentDialog=CKEDITOR.dialog._.currentTop,c=this._.parentDialog.getElement().getFirst(),
c.$.style.zIndex-=Math.floor(g/2),this._.parentDialog.getElement().setStyle("z-index",c.$.style.zIndex),CKEDITOR.dialog._.currentTop=this);a.on("keydown",z);a.on("keyup",q);this._.hasFocus=!1;for(var e in b.contents)if(b.contents[e]){var a=b.contents[e],g=this._.tabs[a.id],c=a.requiredContent,f=0;if(g){for(var h in this._.contents[a.id]){var k=this._.contents[a.id][h];"hbox"!=k.type&&"vbox"!=k.type&&k.getInputElement()&&(k.requiredContent&&!this._.editor.activeFilter.check(k.requiredContent)?k.disable():
(k.enable(),f++))}!f||c&&!this._.editor.activeFilter.check(c)?g[0].addClass("cke_dialog_tab_disabled"):g[0].removeClass("cke_dialog_tab_disabled")}}CKEDITOR.tools.setTimeout(function(){this.layout();d(this);this.parts.dialog.setStyle("visibility","");this.fireOnce("load",{});CKEDITOR.ui.fire("ready",this);this.fire("show",{});this._.editor.fire("dialogShow",this);this._.parentDialog||this._.editor.focusManager.lock();this.foreach(function(a){a.setInitValue&&a.setInitValue()})},100,this)},layout:function(){var a=
this.parts.dialog;if(this._.moved||!J){var b=this.getSize(),d=CKEDITOR.document.getWindow().getViewPaneSize(),c;this._.moved&&this._.position?(c=this._.position.x,b=this._.position.y):(c=(d.width-b.width)/2,b=(d.height-b.height)/2);CKEDITOR.env.ie6Compat||(a.setStyle("position","absolute"),a.removeStyle("margin"));c=Math.floor(c);b=Math.floor(b);this.move(c,b)}},foreach:function(a){for(var b in this._.contents)for(var d in this._.contents[b])a.call(this,this._.contents[b][d]);return this},reset:function(){var a=
function(a){a.reset&&a.reset(1)};return function(){this.foreach(a);return this}}(),setupContent:function(){var a=arguments;this.foreach(function(b){b.setup&&b.setup.apply(b,a)})},commitContent:function(){var a=arguments;this.foreach(function(b){CKEDITOR.env.ie&&this._.currentFocusIndex==b.focusIndex&&b.getInputElement().$.blur();b.commit&&b.commit.apply(b,a)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{});this._.editor.fire("dialogHide",this);this.selectPage(this._.tabIdList[0]);
var a=this._.element;a.setStyle("display","none");this.parts.dialog.setStyle("visibility","hidden");for(y(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var b=this._.parentDialog.getElement().getFirst(),d=parseInt(b.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2);this._.parentDialog.getElement().setStyle("z-index",d);b.setStyle("z-index",d)}else u(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=
10;else{CKEDITOR.dialog._.currentZIndex=null;a.removeListener("keydown",z);a.removeListener("keyup",q);var c=this._.editor;c.focus();setTimeout(function(){c.focusManager.unlock();CKEDITOR.env.iOS&&c.window.focus()},0)}delete this._.parentDialog;this.foreach(function(a){a.resetInitValue&&a.resetInitValue()});this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:function(a){if(!a.requiredContent||this._.editor.filter.check(a.requiredContent)){for(var b=[],d=a.label?' title\x3d"'+CKEDITOR.tools.htmlEncode(a.label)+
'"':"",c=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:"vbox",className:"cke_dialog_page_contents",children:a.elements,expand:!!a.expand,padding:a.padding,style:a.style||"width: 100%;"},b),g=this._.contents[a.id]={},e=c.getChild(),f=0;c=e.shift();)c.notAllowed||"hbox"==c.type||"vbox"==c.type||f++,g[c.id]=c,"function"==typeof c.getChild&&e.push.apply(e,c.getChild());f||(a.hidden=!0);b=CKEDITOR.dom.element.createFromHtml(b.join(""));b.setAttribute("role","tabpanel");b.setStyle("min-height",
"100%");c=CKEDITOR.env;g="cke_"+a.id+"_"+CKEDITOR.tools.getNextNumber();d=CKEDITOR.dom.element.createFromHtml(['\x3ca class\x3d"cke_dialog_tab"',0<this._.pageCount?" cke_last":"cke_first",d,a.hidden?' style\x3d"display:none"':"",' id\x3d"',g,'"',c.gecko&&!c.hc?"":' href\x3d"javascript:void(0)"',' tabIndex\x3d"-1" hidefocus\x3d"true" role\x3d"tab"\x3e',a.label,"\x3c/a\x3e"].join(""));b.setAttribute("aria-labelledby",g);this._.tabs[a.id]=[d,b];this._.tabIdList.push(a.id);!a.hidden&&this._.pageCount++;
this._.lastTab=d;this.updateStyle();b.setAttribute("name",a.id);b.appendTo(this.parts.contents);d.unselectable();this.parts.tabs.append(d);a.accessKey&&(A(this,this,"CTRL+"+a.accessKey,v,t),this._.accessKeyMap["CTRL+"+a.accessKey]=a.id)}},selectPage:function(a){if(this._.currentTabId!=a&&!this._.tabs[a][0].hasClass("cke_dialog_tab_disabled")&&!1!==this.fire("selectPage",{page:a,currentPage:this._.currentTabId})){for(var d in this._.tabs){var c=this._.tabs[d][0],g=this._.tabs[d][1];d!=a&&(c.removeClass("cke_dialog_tab_selected"),
c.removeAttribute("aria-selected"),g.hide());g.setAttribute("aria-hidden",d!=a)}var e=this._.tabs[a];e[0].addClass("cke_dialog_tab_selected");e[0].setAttribute("aria-selected",!0);CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(b(e[1]),e[1].show(),setTimeout(function(){b(e[1],1)},0)):e[1].show();this._.currentTabId=a;this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,a)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(a){var b=
this._.tabs[a]&&this._.tabs[a][0];b&&1!=this._.pageCount&&b.isVisible()&&(a==this._.currentTabId&&this.selectPage(f.call(this)),b.hide(),this._.pageCount--,this.updateStyle())},showPage:function(a){if(a=this._.tabs[a]&&this._.tabs[a][0])a.show(),this._.pageCount++,this.updateStyle()},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(a,b){var d=this._.contents[a];return d&&d[b]},getValueOf:function(a,b){return this.getContentElement(a,b).getValue()},
setValueOf:function(a,b,d){return this.getContentElement(a,b).setValue(d)},getButton:function(a){return this._.buttons[a]},click:function(a){return this._.buttons[a].click()},disableButton:function(a){return this._.buttons[a].disable()},enableButton:function(a){return this._.buttons[a].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(a,
b){if("undefined"==typeof b)b=this._.focusList.length,this._.focusList.push(new m(this,a,b));else{this._.focusList.splice(b,0,new m(this,a,b));for(var d=b+1;d<this._.focusList.length;d++)this._.focusList[d].focusIndex++}},setState:function(a){if(this.state!=a){this.state=a;if(a==CKEDITOR.DIALOG_STATE_BUSY){if(!this.parts.spinner){var b=this.getParentEditor().lang.dir,d={attributes:{"class":"cke_dialog_spinner"},styles:{"float":"rtl"==b?"right":"left"}};d.styles["margin-"+("rtl"==b?"left":"right")]=
"8px";this.parts.spinner=CKEDITOR.document.createElement("div",d);this.parts.spinner.setHtml("\x26#8987;");this.parts.spinner.appendTo(this.parts.title,1)}this.parts.spinner.show();this.getButton("ok")&&this.getButton("ok").disable()}else a==CKEDITOR.DIALOG_STATE_IDLE&&(this.parts.spinner&&this.parts.spinner.hide(),this.getButton("ok")&&this.getButton("ok").enable());this.fire("state",a)}},getModel:function(a){return this._.model?this._.model:this.definition.getModel?this.definition.getModel(a):null},
setModel:function(a){this._.model=a},getMode:function(a){if(this.definition.getMode)return this.definition.getMode(a);a=this.getModel(a);return!a||a instanceof CKEDITOR.dom.element&&!a.getParent()?CKEDITOR.dialog.CREATION_MODE:CKEDITOR.dialog.EDITING_MODE}};CKEDITOR.tools.extend(CKEDITOR.dialog,{CREATION_MODE:0,EDITING_MODE:1,add:function(a,b){this._.dialogDefinitions[a]&&"function"!=typeof b||(this._.dialogDefinitions[a]=b)},exists:function(a){return!!this._.dialogDefinitions[a]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},
isTabEnabled:function(a,b,d){a=a.config.removeDialogTabs;return!(a&&a.match(new RegExp("(?:^|;)"+b+":"+d+"(?:$|;)","i")))},okButton:function(){var a=function(a,b){b=b||{};return CKEDITOR.tools.extend({id:"ok",type:"button",label:a.lang.common.ok,"class":"cke_dialog_ui_button_ok",onClick:function(a){a=a.data.dialog;!1!==a.fire("ok",{hide:!0}).hide&&a.hide()}},b,!0)};a.type="button";a.override=function(b){return CKEDITOR.tools.extend(function(d){return a(d,b)},{type:"button"},!0)};return a}(),cancelButton:function(){var a=
function(a,b){b=b||{};return CKEDITOR.tools.extend({id:"cancel",type:"button",label:a.lang.common.cancel,"class":"cke_dialog_ui_button_cancel",onClick:function(a){a=a.data.dialog;!1!==a.fire("cancel",{hide:!0}).hide&&a.hide()}},b,!0)};a.type="button";a.override=function(b){return CKEDITOR.tools.extend(function(d){return a(d,b)},{type:"button"},!0)};return a}(),addUIElement:function(a,b){this._.uiElementBuilders[a]=b}});CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null};
CKEDITOR.event.implementOn(CKEDITOR.dialog);CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);D={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]};var G=function(a,b,d){for(var c=0,g;g=a[c];c++)if(g.id==b||d&&g[d]&&(g=G(g[d],b,d)))return g;return null},M=function(a,b,d,c,g){if(d){for(var e=0,f;f=a[e];e++){if(f.id==d)return a.splice(e,0,b),b;if(c&&f[c]&&(f=M(f[c],b,d,c,!0)))return f}if(g)return null}a.push(b);return b},
H=function(a,b,d){for(var c=0,g;g=a[c];c++){if(g.id==b)return a.splice(c,1);if(d&&g[d]&&(g=H(g[d],b,d)))return g}return null};h.prototype={getContents:function(a){return G(this.contents,a)},getButton:function(a){return G(this.buttons,a)},addContents:function(a,b){return M(this.contents,a,b)},addButton:function(a,b){return M(this.buttons,a,b)},removeContents:function(a){H(this.contents,a)},removeButton:function(a){H(this.buttons,a)}};g.prototype={get:function(a){return G(this.elements,a,"children")},
add:function(a,b){return M(this.elements,a,b,"children")},remove:function(a){H(this.elements,a,"children")}};var E={},P={};(function(){CKEDITOR.ui.dialog={uiElement:function(a,b,d,c,g,e,f){if(!(4>arguments.length)){var h=(c.call?c(b):c)||"div",k=["\x3c",h," "],l=(g&&g.call?g(b):g)||{},m=(e&&e.call?e(b):e)||{},n=(f&&f.call?f.call(this,a,b):f)||"",v=this.domId=m.id||CKEDITOR.tools.getNextId()+"_uiElement";b.requiredContent&&!a.getParentEditor().filter.check(b.requiredContent)&&(l.display="none",this.notAllowed=
!0);m.id=v;var q={};b.type&&(q["cke_dialog_ui_"+b.type]=1);b.className&&(q[b.className]=1);b.disabled&&(q.cke_disabled=1);for(var t=m["class"]&&m["class"].split?m["class"].split(" "):[],v=0;v<t.length;v++)t[v]&&(q[t[v]]=1);t=[];for(v in q)t.push(v);m["class"]=t.join(" ");b.title&&(m.title=b.title);q=(b.style||"").split(";");b.align&&(t=b.align,l["margin-left"]="left"==t?0:"auto",l["margin-right"]="right"==t?0:"auto");for(v in l)q.push(v+":"+l[v]);b.hidden&&q.push("display:none");for(v=q.length-1;0<=
v;v--)""===q[v]&&q.splice(v,1);0<q.length&&(m.style=(m.style?m.style+"; ":"")+q.join("; "));for(v in m)k.push(v+'\x3d"'+CKEDITOR.tools.htmlEncode(m[v])+'" ');k.push("\x3e",n,"\x3c/",h,"\x3e");d.push(k.join(""));(this._||(this._={})).dialog=a;"boolean"==typeof b.isChanged&&(this.isChanged=function(){return b.isChanged});"function"==typeof b.isChanged&&(this.isChanged=b.isChanged);"function"==typeof b.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(a){return function(d){a.call(this,
b.setValue.call(this,d))}}));"function"==typeof b.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,function(a){return function(){return b.getValue.call(this,a.call(this))}}));CKEDITOR.event.implementOn(this);this.registerEvents(b);this.accessKeyUp&&this.accessKeyDown&&b.accessKey&&A(this,a,"CTRL+"+b.accessKey);var y=this;a.on("load",function(){var b=y.getInputElement();if(b){var d=y.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?"cke_dialog_ui_focused":"";b.on("focus",
function(){a._.tabBarMode=!1;a._.hasFocus=!0;y.fire("focus");d&&this.addClass(d)});b.on("blur",function(){y.fire("blur");d&&this.removeClass(d)})}});CKEDITOR.tools.extend(this,b);this.keyboardFocusable&&(this.tabIndex=b.tabIndex||0,this.focusIndex=a._.focusList.push(this)-1,this.on("focus",function(){a._.currentFocusIndex=y.focusIndex}))}},hbox:function(a,b,d,c,g){if(!(4>arguments.length)){this._||(this._={});var e=this._.children=b,f=g&&g.widths||null,h=g&&g.height||null,k,l={role:"presentation"};
g&&g.align&&(l.align=g.align);CKEDITOR.ui.dialog.uiElement.call(this,a,g||{type:"hbox"},c,"table",{},l,function(){var a=['\x3ctbody\x3e\x3ctr class\x3d"cke_dialog_ui_hbox"\x3e'];for(k=0;k<d.length;k++){var b="cke_dialog_ui_hbox_child",c=[];0===k&&(b="cke_dialog_ui_hbox_first");k==d.length-1&&(b="cke_dialog_ui_hbox_last");a.push('\x3ctd class\x3d"',b,'" role\x3d"presentation" ');f?f[k]&&c.push("width:"+B(f[k])):c.push("width:"+Math.floor(100/d.length)+"%");h&&c.push("height:"+B(h));g&&void 0!==g.padding&&
c.push("padding:"+B(g.padding));CKEDITOR.env.ie&&CKEDITOR.env.quirks&&e[k].align&&c.push("text-align:"+e[k].align);0<c.length&&a.push('style\x3d"'+c.join("; ")+'" ');a.push("\x3e",d[k],"\x3c/td\x3e")}a.push("\x3c/tr\x3e\x3c/tbody\x3e");return a.join("")})}},vbox:function(a,b,d,c,g){if(!(3>arguments.length)){this._||(this._={});var e=this._.children=b,f=g&&g.width||null,h=g&&g.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,a,g||{type:"vbox"},c,"div",null,{role:"presentation"},function(){var b=
['\x3ctable role\x3d"presentation" cellspacing\x3d"0" border\x3d"0" '];b.push('style\x3d"');g&&g.expand&&b.push("height:100%;");b.push("width:"+B(f||"100%"),";");CKEDITOR.env.webkit&&b.push("float:none;");b.push('"');b.push('align\x3d"',CKEDITOR.tools.htmlEncode(g&&g.align||("ltr"==a.getParentEditor().lang.dir?"left":"right")),'" ');b.push("\x3e\x3ctbody\x3e");for(var c=0;c<d.length;c++){var k=[];b.push('\x3ctr\x3e\x3ctd role\x3d"presentation" ');f&&k.push("width:"+B(f||"100%"));h?k.push("height:"+
B(h[c])):g&&g.expand&&k.push("height:"+Math.floor(100/d.length)+"%");g&&void 0!==g.padding&&k.push("padding:"+B(g.padding));CKEDITOR.env.ie&&CKEDITOR.env.quirks&&e[c].align&&k.push("text-align:"+e[c].align);0<k.length&&b.push('style\x3d"',k.join("; "),'" ');b.push(' class\x3d"cke_dialog_ui_vbox_child"\x3e',d[c],"\x3c/td\x3e\x3c/tr\x3e")}b.push("\x3c/tbody\x3e\x3c/table\x3e");return b.join("")})}}}})();CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},
getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(a,b){this.getInputElement().setValue(a);!b&&this.fire("change",{value:a});return this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var a=this.getInputElement();(a=a.getParent())&&-1==a.$.className.search("cke_dialog_page_contents"););if(!a)return this;a=a.getAttribute("name");this._.dialog._.currentTabId!=
a&&this._.dialog.selectPage(a);return this},focus:function(){this.selectParentTab().getInputElement().focus();return this},registerEvents:function(a){var b=/^on([A-Z]\w+)/,d,c=function(a,b,d,c){b.on("load",function(){a.getInputElement().on(d,c,a)})},g;for(g in a)if(d=g.match(b))this.eventProcessors[g]?this.eventProcessors[g].call(this,this._.dialog,a[g]):c(this,this._.dialog,d[1].toLowerCase(),a[g]);return this},eventProcessors:{onLoad:function(a,b){a.on("load",b,this)},onShow:function(a,b){a.on("show",
b,this)},onHide:function(a,b){a.on("hide",b,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var a=this.getElement();this.getInputElement().setAttribute("disabled","true");a.addClass("cke_disabled")},enable:function(){var a=this.getElement();this.getInputElement().removeAttribute("disabled");a.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},
isFocusable:function(){return this.isEnabled()&&this.isVisible()?!0:!1}};CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(a){if(1>arguments.length)return this._.children.concat();a.splice||(a=[a]);return 2>a.length?this._.children[a[0]]:this._.children[a[0]]&&this._.children[a[0]].getChild?this._.children[a[0]].getChild(a.slice(1,a.length)):null}},!0);CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox;(function(){var a={build:function(a,
b,d){for(var c=b.children,g,e=[],f=[],h=0;h<c.length&&(g=c[h]);h++){var k=[];e.push(k);f.push(CKEDITOR.dialog._.uiElementBuilders[g.type].build(a,g,k))}return new CKEDITOR.ui.dialog[b.type](a,f,e,d,b)}};CKEDITOR.dialog.addUIElement("hbox",a);CKEDITOR.dialog.addUIElement("vbox",a)})();CKEDITOR.dialogCommand=function(a,b){this.dialogName=a;CKEDITOR.tools.extend(this,b,!0)};CKEDITOR.dialogCommand.prototype={exec:function(a){var b=this.tabId;a.openDialog(this.dialogName,function(a){b&&a.selectPage(b)})},
canUndo:!1,editorFocus:1};(function(){var a=/^\d*$/,b=/^\d*(?:\.\d+)?$/,d=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,c=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,g=/^(--|-?([a-zA-Z_]|\\))(\\|[a-zA-Z0-9-_])*\s*?:\s*?[^:;]+$/;CKEDITOR.VALIDATE_OR=1;CKEDITOR.VALIDATE_AND=2;CKEDITOR.dialog.validate={functions:function(){var a=arguments;return function(b){this&&this.getValue&&(b=this.getValue());var d,c=CKEDITOR.VALIDATE_AND,g=[],e;for(e=0;e<a.length;e++)if("function"==typeof a[e])g.push(a[e]);
else break;e<a.length&&"string"==typeof a[e]&&(d=a[e],e++);e<a.length&&"number"==typeof a[e]&&(c=a[e]);e=c==CKEDITOR.VALIDATE_AND;for(var f=0;f<g.length;f++){var h=!0===g[f](b);e=c==CKEDITOR.VALIDATE_AND?e&&h:e||h}return e?!0:d}},regex:function(a,b){return this.functions(function(b){return a.test(b)},b)},notEmpty:function(a){return this.functions(function(a){return 0<a.replace(RegExp("^[\\u0020\\u00a0\\u1680\\u202f\\u205f\\u3000\\u2000-\\u200a\\s]+|[\\u0020\\u00a0\\u1680\\u202f\\u205f\\u3000\\u2000-\\u200a\\s]+$",
"g"),"").length},a)},integer:function(b){return this.regex(a,b)},number:function(a){return this.regex(b,a)},cssLength:function(a){return this.functions(function(a){return c.test(CKEDITOR.tools.trim(a))},a)},htmlLength:function(a){return this.functions(function(a){return d.test(CKEDITOR.tools.trim(a))},a)},inlineStyle:function(a){return this.functions(function(a){a=CKEDITOR.tools.trim(a).split(";");""===a[a.length-1]&&a.pop();return CKEDITOR.tools.array.every(a,function(a){return g.test(CKEDITOR.tools.trim(a))})},
a)},equals:function(a,b){return this.functions(function(b){return b==a},b)},notEqual:function(a,b){return this.functions(function(b){return b!=a},b)}};CKEDITOR.on("instanceDestroyed",function(a){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var b;b=CKEDITOR.dialog._.currentTop;)b.hide();for(var d in E)E[d].remove();E={}}a=a.editor._.storedDialogs;for(var c in a)a[c].destroy()})})();CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(a,b,d){var c=null,g=CKEDITOR.dialog._.dialogDefinitions[a];
null===CKEDITOR.dialog._.currentTop&&p(this);if("function"==typeof g)g=this._.storedDialogs||(this._.storedDialogs={}),c=g[a]||(g[a]=new CKEDITOR.dialog(this,a)),c.setModel(d),b&&b.call(c,c),c.show();else{if("failed"==g)throw u(this),Error('[CKEDITOR.dialog.openDialog] Dialog "'+a+'" failed when loading definition.');"string"==typeof g&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(g),function(){"function"!=typeof CKEDITOR.dialog._.dialogDefinitions[a]&&(CKEDITOR.dialog._.dialogDefinitions[a]="failed");
this.openDialog(a,b,d)},this,0,1)}CKEDITOR.skin.loadPart("dialog");if(c)c.once("hide",function(){c.setModel(null)},null,null,999);return c}});CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:function(a){F||(CKEDITOR.document.appendStyleSheet(this.path+"styles/dialog.css"),F=!0);a.on("doubleclick",function(b){b.data.dialog&&a.openDialog(b.data.dialog)},null,null,999)}})}(),function(){CKEDITOR.plugins.add("a11yhelp",{requires:"dialog",availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,
"de-ch":1,el:1,en:1,"en-au":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,"fr-ca":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},init:function(a){var f=this;a.addCommand("a11yHelp",{exec:function(){var e=a.langCode,e=f.availableLangs[e]?e:f.availableLangs[e.replace(/-.*/,"")]?e.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(f.path+
"dialogs/lang/"+e+".js"),function(){a.lang.a11yhelp=f.langEntries[e];a.openDialog("a11yHelp")})},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1});a.setKeystroke(CKEDITOR.ALT+48,"a11yHelp");CKEDITOR.dialog.add("a11yHelp",this.path+"dialogs/a11yhelp.js");a.on("ariaEditorHelpLabel",function(e){e.data.label=a.lang.common.editorHelp})}})}(),CKEDITOR.plugins.add("about",{requires:"dialog",init:function(a){var f=a.addCommand("about",new CKEDITOR.dialogCommand("about"));f.modes={wysiwyg:1,source:1};f.canUndo=
!1;f.readOnly=1;a.ui.addButton&&a.ui.addButton("About",{label:a.lang.about.dlgTitle,command:"about",toolbar:"about"});CKEDITOR.dialog.add("about",this.path+"dialogs/about.js")}}),CKEDITOR.plugins.add("basicstyles",{init:function(a){var f=0,e=function(c,e,d,h){if(h){h=new CKEDITOR.style(h);var g=b[d];g.unshift(h);a.attachStyleStateChange(h,function(b){!a.readOnly&&a.getCommand(d).setState(b)});a.addCommand(d,new CKEDITOR.styleCommand(h,{contentForms:g}));a.ui.addButton&&a.ui.addButton(c,{isToggle:!0,
label:e,command:d,toolbar:"basicstyles,"+(f+=10)})}},b={bold:["strong","b",["span",function(a){a=a.styles["font-weight"];return"bold"==a||700<=+a}]],italic:["em","i",["span",function(a){return"italic"==a.styles["font-style"]}]],underline:["u",["span",function(a){return"underline"==a.styles["text-decoration"]}]],strike:["s","strike",["span",function(a){return"line-through"==a.styles["text-decoration"]}]],subscript:["sub"],superscript:["sup"]},c=a.config,k=a.lang.basicstyles;e("Bold",k.bold,"bold",
c.coreStyles_bold);e("Italic",k.italic,"italic",c.coreStyles_italic);e("Underline",k.underline,"underline",c.coreStyles_underline);e("Strike",k.strike,"strike",c.coreStyles_strike);e("Subscript",k.subscript,"subscript",c.coreStyles_subscript);e("Superscript",k.superscript,"superscript",c.coreStyles_superscript);a.setKeystroke([[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"]])},afterInit:function(a){if(a.config.coreStyles_toggleSubSup){var f=a.getCommand("subscript"),
e=a.getCommand("superscript");if(f&&e)a.on("afterCommandExec",function(b){b=b.data.name;if("subscript"===b||"superscript"===b){var c="subscript"===b?e:f;("subscript"===b?f:e).state===CKEDITOR.TRISTATE_ON&&c.state===CKEDITOR.TRISTATE_ON&&(c.exec(a),a.fire("updateSnapshot"))}})}}}),CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"},CKEDITOR.config.coreStyles_italic={element:"em",overrides:"i"},CKEDITOR.config.coreStyles_underline={element:"u"},CKEDITOR.config.coreStyles_strike={element:"s",
overrides:"strike"},CKEDITOR.config.coreStyles_subscript={element:"sub"},CKEDITOR.config.coreStyles_superscript={element:"sup"},CKEDITOR.config.coreStyles_toggleSubSup=!1,function(){var a={exec:function(a){var e=a.getCommand("blockquote").state,b=a.getSelection(),c=b&&b.getRanges()[0];if(c){var k=b.createBookmarks();if(CKEDITOR.env.ie){var l=k[0].startNode,m=k[0].endNode,d;if(l&&"blockquote"==l.getParent().getName())for(d=l;d=d.getNext();)if(d.type==CKEDITOR.NODE_ELEMENT&&d.isBlockBoundary()){l.move(d,
!0);break}if(m&&"blockquote"==m.getParent().getName())for(d=m;d=d.getPrevious();)if(d.type==CKEDITOR.NODE_ELEMENT&&d.isBlockBoundary()){m.move(d);break}}var h=c.createIterator();h.enlargeBr=a.config.enterMode!=CKEDITOR.ENTER_BR;if(e==CKEDITOR.TRISTATE_OFF){for(l=[];e=h.getNextParagraph();)l.push(e);1>l.length&&(e=a.document.createElement(a.config.enterMode==CKEDITOR.ENTER_P?"p":"div"),m=k.shift(),c.insertNode(e),e.append(new CKEDITOR.dom.text("﻿",a.document)),c.moveToBookmark(m),c.selectNodeContents(e),
c.collapse(!0),m=c.createBookmark(),l.push(e),k.unshift(m));d=l[0].getParent();c=[];for(m=0;m<l.length;m++)e=l[m],d=d.getCommonAncestor(e.getParent());for(e={table:1,tbody:1,tr:1,ol:1,ul:1};e[d.getName()];)d=d.getParent();for(m=null;0<l.length;){for(e=l.shift();!e.getParent().equals(d);)e=e.getParent();e.equals(m)||c.push(e);m=e}for(;0<c.length;)if(e=c.shift(),"blockquote"==e.getName()){for(m=new CKEDITOR.dom.documentFragment(a.document);e.getFirst();)m.append(e.getFirst().remove()),l.push(m.getLast());
m.replace(e)}else l.push(e);c=a.document.createElement("blockquote");for(c.insertBefore(l[0]);0<l.length;)e=l.shift(),c.append(e)}else if(e==CKEDITOR.TRISTATE_ON){m=[];for(d={};e=h.getNextParagraph();){for(l=c=null;e.getParent();){if("blockquote"==e.getParent().getName()){c=e.getParent();l=e;break}e=e.getParent()}c&&l&&!l.getCustomData("blockquote_moveout")&&(m.push(l),CKEDITOR.dom.element.setMarker(d,l,"blockquote_moveout",!0))}CKEDITOR.dom.element.clearAllMarkers(d);e=[];l=[];for(d={};0<m.length;)h=
m.shift(),c=h.getParent(),h.getPrevious()?h.getNext()?(h.breakParent(h.getParent()),l.push(h.getNext())):h.remove().insertAfter(c):h.remove().insertBefore(c),c.getCustomData("blockquote_processed")||(l.push(c),CKEDITOR.dom.element.setMarker(d,c,"blockquote_processed",!0)),e.push(h);CKEDITOR.dom.element.clearAllMarkers(d);for(m=l.length-1;0<=m;m--){c=l[m];a:{d=c;for(var h=0,g=d.getChildCount(),n=void 0;h<g&&(n=d.getChild(h));h++)if(n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary()){d=!1;break a}d=
!0}d&&c.remove()}if(a.config.enterMode==CKEDITOR.ENTER_BR)for(c=!0;e.length;)if(h=e.shift(),"div"==h.getName()){m=new CKEDITOR.dom.documentFragment(a.document);!c||!h.getPrevious()||h.getPrevious().type==CKEDITOR.NODE_ELEMENT&&h.getPrevious().isBlockBoundary()||m.append(a.document.createElement("br"));for(c=h.getNext()&&!(h.getNext().type==CKEDITOR.NODE_ELEMENT&&h.getNext().isBlockBoundary());h.getFirst();)h.getFirst().remove().appendTo(m);c&&m.append(a.document.createElement("br"));m.replace(h);
c=!1}}b.selectBookmarks(k);a.focus()}},refresh:function(a,e){this.setState(a.elementPath(e.block||e.blockLimit).contains("blockquote",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:"blockquote",allowedContent:"blockquote",requiredContent:"blockquote"};CKEDITOR.plugins.add("blockquote",{init:function(f){f.blockless||(f.addCommand("blockquote",a),f.ui.addButton&&f.ui.addButton("Blockquote",{isToggle:!0,label:f.lang.blockquote.toolbar,command:"blockquote",toolbar:"blocks,10"}))}})}(),"use strict",
function(){function a(a,b){CKEDITOR.tools.extend(this,b,{editor:a,id:"cke-"+CKEDITOR.tools.getUniqueId(),area:a._.notificationArea});b.type||(this.type="info");this.element=this._createElement();a.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(this.element)}function f(a){var b=this;this.editor=a;this.notifications=[];this.element=this._createElement();this._uiBuffer=CKEDITOR.tools.eventsBuffer(10,this._layout,this);this._changeBuffer=CKEDITOR.tools.eventsBuffer(500,this._layout,
this);a.on("destroy",function(){b._removeListeners();b.element.remove()})}CKEDITOR.plugins.add("notification",{init:function(a){function b(a){var b=new CKEDITOR.dom.element("div");b.setStyles({position:"fixed","margin-left":"-9999px"});b.setAttributes({"aria-live":"assertive","aria-atomic":"true"});b.setText(a);CKEDITOR.document.getBody().append(b);setTimeout(function(){b.remove()},100)}a._.notificationArea=new f(a);a.showNotification=function(b,f,l){var m,d;"progress"==f?m=l:d=l;b=new CKEDITOR.plugins.notification(a,
{message:b,type:f,progress:m,duration:d});b.show();return b};a.on("key",function(c){if(27==c.data.keyCode){var f=a._.notificationArea.notifications;f.length&&(b(a.lang.notification.closed),f[f.length-1].hide(),c.cancel())}})}});a.prototype={show:function(){!1!==this.editor.fire("notificationShow",{notification:this})&&(this.area.add(this),this._hideAfterTimeout())},update:function(a){var b=!0;!1===this.editor.fire("notificationUpdate",{notification:this,options:a})&&(b=!1);var c=this.element,f=c.findOne(".cke_notification_message"),
l=c.findOne(".cke_notification_progress"),m=a.type;c.removeAttribute("role");a.progress&&"progress"!=this.type&&(m="progress");m&&(c.removeClass(this._getClass()),c.removeAttribute("aria-label"),this.type=m,c.addClass(this._getClass()),c.setAttribute("aria-label",this.type),"progress"!=this.type||l?"progress"!=this.type&&l&&l.remove():(l=this._createProgressElement(),l.insertBefore(f)));void 0!==a.message&&(this.message=a.message,f.setHtml(this.message));void 0!==a.progress&&(this.progress=a.progress,
l&&l.setStyle("width",this._getPercentageProgress()));b&&a.important&&(c.setAttribute("role","alert"),this.isVisible()||this.area.add(this));this.duration=a.duration;this._hideAfterTimeout()},hide:function(){!1!==this.editor.fire("notificationHide",{notification:this})&&this.area.remove(this)},isVisible:function(){return 0<=CKEDITOR.tools.indexOf(this.area.notifications,this)},_createElement:function(){var a=this,b,c,f=this.editor.lang.common.close;b=new CKEDITOR.dom.element("div");b.addClass("cke_notification");
b.addClass(this._getClass());b.setAttributes({id:this.id,role:"alert","aria-label":this.type});"progress"==this.type&&b.append(this._createProgressElement());c=new CKEDITOR.dom.element("p");c.addClass("cke_notification_message");c.setHtml(this.message);b.append(c);c=CKEDITOR.dom.element.createFromHtml('\x3ca class\x3d"cke_notification_close" href\x3d"javascript:void(0)" title\x3d"'+f+'" role\x3d"button" tabindex\x3d"-1"\x3e\x3cspan class\x3d"cke_label"\x3eX\x3c/span\x3e\x3c/a\x3e');b.append(c);c.on("click",
function(){a.editor.focus();a.hide()});return b},_getClass:function(){return"progress"==this.type?"cke_notification_info":"cke_notification_"+this.type},_createProgressElement:function(){var a=new CKEDITOR.dom.element("span");a.addClass("cke_notification_progress");a.setStyle("width",this._getPercentageProgress());return a},_getPercentageProgress:function(){return Math.round(100*(this.progress||0))+"%"},_hideAfterTimeout:function(){var a=this,b;this._hideTimeoutId&&clearTimeout(this._hideTimeoutId);
if("number"==typeof this.duration)b=this.duration;else if("info"==this.type||"success"==this.type)b="number"==typeof this.editor.config.notification_duration?this.editor.config.notification_duration:5E3;b&&(a._hideTimeoutId=setTimeout(function(){a.hide()},b))}};f.prototype={add:function(a){this.notifications.push(a);this.element.append(a.element);1==this.element.getChildCount()&&(CKEDITOR.document.getBody().append(this.element),this._attachListeners());this._layout()},remove:function(a){var b=CKEDITOR.tools.indexOf(this.notifications,
a);0>b||(this.notifications.splice(b,1),a.element.remove(),this.element.getChildCount()||(this._removeListeners(),this.element.remove()))},_createElement:function(){var a=this.editor,b=a.config,c=new CKEDITOR.dom.element("div");c.addClass("cke_notifications_area");c.setAttribute("id","cke_notifications_area_"+a.name);c.setStyle("z-index",b.baseFloatZIndex-2);return c},_attachListeners:function(){var a=CKEDITOR.document.getWindow(),b=this.editor;a.on("scroll",this._uiBuffer.input);a.on("resize",this._uiBuffer.input);
b.on("change",this._changeBuffer.input);b.on("floatingSpaceLayout",this._layout,this,null,20);b.on("blur",this._layout,this,null,20)},_removeListeners:function(){var a=CKEDITOR.document.getWindow(),b=this.editor;a.removeListener("scroll",this._uiBuffer.input);a.removeListener("resize",this._uiBuffer.input);b.removeListener("change",this._changeBuffer.input);b.removeListener("floatingSpaceLayout",this._layout);b.removeListener("blur",this._layout)},_layout:function(){function a(){b.setStyle("left",
z(q+f.width-n-w))}var b=this.element,c=this.editor,f=c.ui.contentsElement.getClientRect(),l=c.ui.contentsElement.getDocumentPosition(),m,d,h=b.getClientRect(),g,n=this._notificationWidth,w=this._notificationMargin;g=CKEDITOR.document.getWindow();var x=g.getScrollPosition(),r=g.getViewPaneSize(),p=CKEDITOR.document.getBody(),u=p.getDocumentPosition(),z=CKEDITOR.tools.cssLength;n&&w||(g=this.element.getChild(0),n=this._notificationWidth=g.getClientRect().width,w=this._notificationMargin=parseInt(g.getComputedStyle("margin-left"),
10)+parseInt(g.getComputedStyle("margin-right"),10));c.toolbar&&(m=c.ui.space(c.config.toolbarLocation),d=m.getClientRect());m&&m.isVisible()&&d.bottom>f.top&&d.bottom<f.bottom-h.height?b.setStyles({position:"fixed",top:z(d.bottom)}):0<f.top?b.setStyles({position:"absolute",top:z(l.y)}):l.y+f.height-h.height>x.y?b.setStyles({position:"fixed",top:0}):b.setStyles({position:"absolute",top:z(l.y+f.height-h.height)});var q="fixed"==b.getStyle("position")?f.left:"static"!=p.getComputedStyle("position")?
l.x-u.x:l.x;f.width<n+w?l.x+n+w>x.x+r.width?a():b.setStyle("left",z(q)):l.x+n+w>x.x+r.width?b.setStyle("left",z(q)):l.x+f.width/2+n/2+w>x.x+r.width?b.setStyle("left",z(q-l.x+x.x+r.width-n-w)):0>f.left+f.width-n-w?a():0>f.left+f.width/2-n/2?b.setStyle("left",z(q-l.x+x.x)):b.setStyle("left",z(q+f.width/2-n/2-w/2))}};CKEDITOR.plugins.notification=a}(),function(){var a='\x3ca id\x3d"{id}" class\x3d"cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href\x3d\"javascript:void('{titleJs}')\"")+
' title\x3d"{title}" tabindex\x3d"-1" hidefocus\x3d"true" role\x3d"button" aria-labelledby\x3d"{id}_label" aria-describedby\x3d"{id}_description" aria-haspopup\x3d"{hasArrow}" aria-disabled\x3d"{ariaDisabled}"{hasArrowAriaHtml}{toggleAriaHtml}';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(a+=' onkeypress\x3d"return false;"');CKEDITOR.env.gecko&&(a+=' onblur\x3d"this.style.cssText \x3d this.style.cssText;"');var f="";CKEDITOR.env.ie&&(f='return false;" onmouseup\x3d"CKEDITOR.tools.getMouseButton(event)\x3d\x3dCKEDITOR.MOUSE_BUTTON_LEFT\x26\x26');
var a=a+(' onkeydown\x3d"return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus\x3d"return CKEDITOR.tools.callFunction({focusFn},event);" onclick\x3d"'+f+'CKEDITOR.tools.callFunction({clickFn},this);return false;"\x3e\x3cspan class\x3d"cke_button_icon cke_button__{iconName}_icon" style\x3d"{style}"')+'\x3e\x26nbsp;\x3c/span\x3e\x3cspan id\x3d"{id}_label" class\x3d"cke_button_label cke_button__{name}_label" aria-hidden\x3d"false"\x3e{label}\x3c/span\x3e\x3cspan id\x3d"{id}_description" class\x3d"cke_button_label" aria-hidden\x3d"false"\x3e{ariaShortcutSpace}{ariaShortcut}\x3c/span\x3e{arrowHtml}\x3c/a\x3e',
e=CKEDITOR.addTemplate("buttonArrow",'\x3cspan class\x3d"cke_button_arrow"\x3e'+(CKEDITOR.env.hc?"\x26#9660;":"")+"\x3c/span\x3e"),b=CKEDITOR.addTemplate("button",a);CKEDITOR.plugins.add("button",{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}});CKEDITOR.UI_BUTTON="button";CKEDITOR.ui.button=function(a){CKEDITOR.tools.extend(this,a,{isToggle:a.isToggle||!1,title:a.label,click:a.click||function(b){b.execCommand(a.command)}});this._={}};CKEDITOR.ui.button.handler=
{create:function(a){return new CKEDITOR.ui.button(a)}};CKEDITOR.ui.button.prototype={render:function(a,f){function l(){var b=a.mode;b&&(b=this.modes[b]?void 0!==m[b]?m[b]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,b=a.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:b,this.setState(b),this.refresh&&this.refresh())}var m=null,d=CKEDITOR.env,h=this._.id=CKEDITOR.tools.getNextId(),g="",n=this.command,w,x,r;this._.editor=a;var p={id:h,button:this,editor:a,focus:function(){CKEDITOR.document.getById(h).focus()},
execute:function(){this.button.click(a)},attach:function(a){this.button.attach(a)}},u=CKEDITOR.tools.addFunction(function(a){if(p.onkey)return a=new CKEDITOR.dom.event(a),!1!==p.onkey(p,a.getKeystroke())}),z=CKEDITOR.tools.addFunction(function(a){var b;p.onfocus&&(b=!1!==p.onfocus(p,new CKEDITOR.dom.event(a)));return b}),q=0;p.clickFn=w=CKEDITOR.tools.addFunction(function(){q&&(a.unlockSelection(1),q=0);p.execute();d.iOS&&a.focus()});this.modes?(m={},a.on("beforeModeUnload",function(){a.mode&&this._.state!=
CKEDITOR.TRISTATE_DISABLED&&(m[a.mode]=this._.state)},this),a.on("activeFilterChange",l,this),a.on("mode",l,this),!this.readOnly&&a.on("readOnly",l,this)):n&&(n=a.getCommand(n))&&(n.on("state",function(){this.setState(n.state)},this),g+=n.state==CKEDITOR.TRISTATE_ON?"on":n.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off");var A;if(this.directional)a.on("contentDirChanged",function(b){var d=CKEDITOR.document.getById(this._.id),g=d.getFirst();b=b.data;b!=a.lang.dir?d.addClass("cke_"+b):d.removeClass("cke_ltr").removeClass("cke_rtl");
g.setAttribute("style",CKEDITOR.skin.getIconStyle(A,"rtl"==b,this.icon,this.iconOffset))},this);n?(x=a.getCommandKeystroke(n))&&(r=CKEDITOR.tools.keystrokeToString(a.lang.common.keyboard,x)):g+="off";x=this.name||this.command;var y=null,t=this.icon;A=x;this.icon&&!/\./.test(this.icon)?(A=this.icon,t=null):(this.icon&&(y=this.icon),CKEDITOR.env.hidpi&&this.iconHiDpi&&(y=this.iconHiDpi));y?(CKEDITOR.skin.addIcon(y,y),t=null):y=A;g={id:h,name:x,iconName:A,label:this.label,cls:(this.hasArrow?"cke_button_expandable ":
"")+(this.className||""),state:g,ariaDisabled:"disabled"==g?"true":"false",title:this.title+(r?" ("+r.display+")":""),ariaShortcutSpace:r?"\x26nbsp;":"",ariaShortcut:r?a.lang.common.keyboardShortcut+" "+r.aria:"",titleJs:d.gecko&&!d.hc?"":(this.title||"").replace("'",""),hasArrow:"string"===typeof this.hasArrow&&this.hasArrow||(this.hasArrow?"true":"false"),keydownFn:u,focusFn:z,clickFn:w,style:CKEDITOR.skin.getIconStyle(y,"rtl"==a.lang.dir,t,this.iconOffset),arrowHtml:this.hasArrow?e.output():"",
hasArrowAriaHtml:this.hasArrow?' aria-expanded\x3d"false"':"",toggleAriaHtml:this.isToggle?'aria-pressed\x3d"false"':""};b.output(g,f);if(this.onRender)this.onRender();return p},setState:function(a){if(this._.state==a)return!1;this._.state=a;var b=CKEDITOR.document.getById(this._.id);return b?(b.setState(a,"cke_button"),b.setAttribute("aria-disabled",a==CKEDITOR.TRISTATE_DISABLED),this.isToggle&&!this.hasArrow&&b.setAttribute("aria-pressed",a===CKEDITOR.TRISTATE_ON),!0):!1},getState:function(){return this._.state},
toFeature:function(a){if(this._.feature)return this._.feature;var b=this;this.allowedContent||this.requiredContent||!this.command||(b=a.getCommand(this.command)||b);return this._.feature=b}};CKEDITOR.ui.prototype.addButton=function(a,b){this.add(a,CKEDITOR.UI_BUTTON,b)}}(),function(){function a(a){function b(){for(var d=e(),g=CKEDITOR.tools.clone(a.config.toolbarGroups)||f(a),h=0;h<g.length;h++){var k=g[h];if("/"!=k){"string"==typeof k&&(k=g[h]={name:k});var p,u=k.groups;if(u)for(var z=0;z<u.length;z++)p=
u[z],(p=d[p])&&m(k,p);(p=d[k.name])&&m(k,p)}}return g}function e(){var b={},d,g,f;for(d in a.ui.items)g=a.ui.items[d],f=g.toolbar||"others",f=f.split(","),g=f[0],f=parseInt(f[1]||-1,10),b[g]||(b[g]=[]),b[g].push({name:d,order:f});for(g in b)b[g]=b[g].sort(function(a,b){return a.order==b.order?0:0>b.order?-1:0>a.order?1:a.order<b.order?-1:1});return b}function m(b,d){if(d.length){b.items?b.items.push(a.ui.create("-")):b.items=[];for(var g;g=d.shift();)g="string"==typeof g?g:g.name,h&&-1!=CKEDITOR.tools.indexOf(h,
g)||(g=a.ui.create(g))&&a.addFeature(g)&&b.items.push(g)}}function d(a){var b=[],d,c,g;for(d=0;d<a.length;++d)c=a[d],g={},"/"==c?b.push(c):CKEDITOR.tools.isArray(c)?(m(g,CKEDITOR.tools.clone(c)),b.push(g)):c.items&&(m(g,CKEDITOR.tools.clone(c.items)),g.name=c.name,b.push(g));return b}var h=function(a){return a&&"string"===typeof a?a.split(","):a}(a.config.removeButtons),g=a.config.toolbar;"string"==typeof g&&(g=a.config["toolbar_"+g]);return a.toolbar=g?d(g):b()}function f(a){return a._.toolbarGroups||
(a._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}var e=function(){this.toolbars=[]};e.prototype.focus=function(){for(var a=
0,b;b=this.toolbars[a++];)for(var e=0,f;f=b.items[e++];)if(f.focus){f.focus();return}};var b={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(a){a.toolbox&&(CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){a.toolbox.focus()},100):a.toolbox.focus())}};CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(c){var f,l=function(a,b){var e,g="rtl"==c.lang.dir,n=c.config.toolbarGroupCycling,w=g?37:39,g=g?39:37,n=void 0===n||n;switch(b){case 9:case CKEDITOR.SHIFT+9:for(;!e||!e.items.length;)if(e=
9==b?(e?e.next:a.toolbar.next)||c.toolbox.toolbars[0]:(e?e.previous:a.toolbar.previous)||c.toolbox.toolbars[c.toolbox.toolbars.length-1],e.items.length)for(a=e.items[f?e.items.length-1:0];a&&!a.focus;)(a=f?a.previous:a.next)||(e=0);a&&a.focus();return!1;case w:e=a;do e=e.next,!e&&n&&(e=a.toolbar.items[0]);while(e&&!e.focus);e?e.focus():l(a,9);return!1;case 40:return a.button&&a.button.hasArrow?a.execute():l(a,40==b?w:g),!1;case g:case 38:e=a;do e=e.previous,!e&&n&&(e=a.toolbar.items[a.toolbar.items.length-
1]);while(e&&!e.focus);e?e.focus():(f=1,l(a,CKEDITOR.SHIFT+9),f=0);return!1;case 27:return c.focus(),!1;case 13:case 32:return a.execute(),!1;case CKEDITOR.ALT+122:return c.execCommand("elementsPathFocus"),!1}return!0};c.on("uiSpace",function(b){if(b.data.space==c.config.toolbarLocation){b.removeListener();c.toolbox=new e;var d=CKEDITOR.tools.getNextId(),f=['\x3cspan id\x3d"',d,'" class\x3d"cke_voice_label"\x3e',c.lang.toolbar.toolbars,"\x3c/span\x3e",'\x3cspan id\x3d"'+c.ui.spaceId("toolbox")+'" class\x3d"cke_toolbox" role\x3d"group" aria-labelledby\x3d"',
d,'" onmousedown\x3d"return false;"\x3e'],d=!1!==c.config.toolbarStartupExpanded,g,k;c.config.toolbarCanCollapse&&c.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&f.push('\x3cspan class\x3d"cke_toolbox_main"'+(d?"\x3e":' style\x3d"display:none"\x3e'));for(var w=c.toolbox.toolbars,x=a(c),r=x.length,p=0;p<r;p++){var u,z=0,q,A=x[p],y="/"!==A&&("/"===x[p+1]||p==r-1),t;if(A)if(g&&(f.push("\x3c/span\x3e"),k=g=0),"/"===A)f.push('\x3cspan class\x3d"cke_toolbar_break"\x3e\x3c/span\x3e');else{t=A.items||A;for(var v=
0;v<t.length;v++){var B=t[v],D;if(B){var C=function(a){a=a.render(c,f);F=z.items.push(a)-1;0<F&&(a.previous=z.items[F-1],a.previous.next=a);a.toolbar=z;a.onkey=l};if(B.type==CKEDITOR.UI_SEPARATOR)k=g&&B;else{D=!1!==B.canGroup;if(!z){u=CKEDITOR.tools.getNextId();z={id:u,items:[]};q=A.name&&(c.lang.toolbar.toolbarGroups[A.name]||A.name);f.push('\x3cspan id\x3d"',u,'" class\x3d"cke_toolbar'+(y?' cke_toolbar_last"':'"'),q?' aria-labelledby\x3d"'+u+'_label"':"",' role\x3d"toolbar"\x3e');q&&f.push('\x3cspan id\x3d"',
u,'_label" class\x3d"cke_voice_label"\x3e',q,"\x3c/span\x3e");f.push('\x3cspan class\x3d"cke_toolbar_start"\x3e\x3c/span\x3e');var F=w.push(z)-1;0<F&&(z.previous=w[F-1],z.previous.next=z)}D?g||(f.push('\x3cspan class\x3d"cke_toolgroup" role\x3d"presentation"\x3e'),g=1):g&&(f.push("\x3c/span\x3e"),g=0);k&&(C(k),k=0);C(B)}}}g&&(f.push("\x3c/span\x3e"),k=g=0);z&&f.push('\x3cspan class\x3d"cke_toolbar_end"\x3e\x3c/span\x3e\x3c/span\x3e')}}c.config.toolbarCanCollapse&&f.push("\x3c/span\x3e");if(c.config.toolbarCanCollapse&&
c.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var J=CKEDITOR.tools.addFunction(function(){c.execCommand("toolbarCollapse")});c.on("destroy",function(){CKEDITOR.tools.removeFunction(J)});c.addCommand("toolbarCollapse",{readOnly:1,exec:function(a){var b=a.ui.space("toolbar_collapser"),d=b.getPrevious(),c=a.ui.space("contents"),g=d.getParent(),e=parseInt(c.$.style.height,10),f=g.$.offsetHeight,h=b.hasClass("cke_toolbox_collapser_min");h?(d.show(),b.removeClass("cke_toolbox_collapser_min"),b.setAttribute("title",
a.lang.toolbar.toolbarCollapse)):(d.hide(),b.addClass("cke_toolbox_collapser_min"),b.setAttribute("title",a.lang.toolbar.toolbarExpand));b.getFirst().setText(h?"▲":"◀");c.setStyle("height",e-(g.$.offsetHeight-f)+"px");a.fire("resize",{outerHeight:a.container.$.offsetHeight,contentsHeight:c.$.offsetHeight,outerWidth:a.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}});c.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse");f.push('\x3ca title\x3d"'+(d?c.lang.toolbar.toolbarCollapse:
c.lang.toolbar.toolbarExpand)+'" id\x3d"'+c.ui.spaceId("toolbar_collapser")+'" tabIndex\x3d"-1" class\x3d"cke_toolbox_collapser');d||f.push(" cke_toolbox_collapser_min");f.push('" onclick\x3d"CKEDITOR.tools.callFunction('+J+')"\x3e','\x3cspan class\x3d"cke_arrow"\x3e\x26#9650;\x3c/span\x3e',"\x3c/a\x3e")}f.push("\x3c/span\x3e");b.data.html+=f.join("")}});c.on("destroy",function(){if(this.toolbox){var a,b=0,c,g,e;for(a=this.toolbox.toolbars;b<a.length;b++)for(g=a[b].items,c=0;c<g.length;c++)e=g[c],
e.clickFn&&CKEDITOR.tools.removeFunction(e.clickFn),e.keyDownFn&&CKEDITOR.tools.removeFunction(e.keyDownFn)}});c.on("uiReady",function(){var a=c.ui.space("toolbox");a&&c.focusManager.add(a,1)});c.addCommand("toolbarFocus",b);c.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus");c.ui.add("-",CKEDITOR.UI_SEPARATOR,{});c.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(a,b){b.push('\x3cspan class\x3d"cke_toolbar_separator" role\x3d"separator"\x3e\x3c/span\x3e');return{}}}}})}});
CKEDITOR.ui.prototype.addToolbarGroup=function(a,b,e){var m=f(this.editor),d=0===b,h={name:a};if(e){if(e=CKEDITOR.tools.search(m,function(a){return a.name==e})){!e.groups&&(e.groups=[]);if(b&&(b=CKEDITOR.tools.indexOf(e.groups,b),0<=b)){e.groups.splice(b+1,0,a);return}d?e.groups.splice(0,0,a):e.groups.push(a);return}b=null}b&&(b=CKEDITOR.tools.indexOf(m,function(a){return a.name==b}));d?m.splice(0,0,a):"number"==typeof b?m.splice(b+1,0,h):m.push(a)}}(),CKEDITOR.UI_SEPARATOR="separator",CKEDITOR.config.toolbarLocation=
"top","use strict",function(){function a(a,b,d){b.type||(b.type="auto");if(d&&!1===a.fire("beforePaste",b)||!b.dataValue&&b.dataTransfer.isEmpty())return!1;b.dataValue||(b.dataValue="");if(CKEDITOR.env.gecko&&"drop"==b.method&&a.toolbox)a.once("afterPaste",function(){a.toolbox.focus();a.focus()});return a.fire("paste",b)}function f(b){function d(){var a=b.editable();if(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){var c=function(a){b.getSelection().isCollapsed()||(b.readOnly&&"cut"==a.name||
D.initPasteDataTransfer(a,b),a.data.preventDefault())};a.on("copy",c);a.on("cut",c);a.on("cut",function(){b.readOnly||b.extractSelectedHtml()},null,null,999)}a.on(D.mainPasteEvent,function(a){"beforepaste"==D.mainPasteEvent&&C||t(a)});"beforepaste"==D.mainPasteEvent&&(a.on("paste",function(a){F||(f(),a.data.preventDefault(),t(a),k("paste"))}),a.on("contextmenu",h,null,null,0),a.on("beforepaste",function(a){!a.data||a.data.$.ctrlKey||a.data.$.shiftKey||h()},null,null,0));a.on("beforecut",function(){!C&&
l(b)});var e;a.attachListener(CKEDITOR.env.ie?a:b.document.getDocumentElement(),"mouseup",function(){e=setTimeout(v,0)});b.on("destroy",function(){clearTimeout(e)});a.on("keyup",v)}function c(a){return{type:a,canUndo:"cut"==a,startDisabled:!0,fakeKeystroke:"cut"==a?CKEDITOR.CTRL+88:CKEDITOR.CTRL+67,exec:function(){"cut"==this.type&&l();var a;var d=this.type;if(CKEDITOR.env.ie)a=k(d);else try{a=b.document.$.execCommand(d,!1,null)}catch(c){a=!1}a||b.showNotification(b.lang.clipboard[this.type+"Error"]);
return a}}}function e(){return{canUndo:!1,async:!0,fakeKeystroke:CKEDITOR.CTRL+86,exec:function(b,d){function c(d,f){f="undefined"!==typeof f?f:!0;d?(d.method="paste",d.dataTransfer||(d.dataTransfer=D.initPasteDataTransfer()),a(b,d,f)):e&&!b._.forcePasteDialog&&b.showNotification(k,"info",b.config.clipboard_notificationDuration);b._.forcePasteDialog=!1;b.fire("afterCommandExec",{name:"paste",command:g,returnValue:!!d})}d="undefined"!==typeof d&&null!==d?d:{};var g=this,e="undefined"!==typeof d.notification?
d.notification:!0,f=d.type,h=CKEDITOR.tools.keystrokeToString(b.lang.common.keyboard,b.getCommandKeystroke(this)),k="string"===typeof e?e:b.lang.clipboard.pasteNotification.replace(/%1/,'\x3ckbd aria-label\x3d"'+h.aria+'"\x3e'+h.display+"\x3c/kbd\x3e"),h="string"===typeof d?d:d.dataValue;f&&!0!==b.config.forcePasteAsPlainText&&"allow-word"!==b.config.forcePasteAsPlainText?b._.nextPasteType=f:delete b._.nextPasteType;"string"===typeof h?c({dataValue:h}):b.getClipboardData(c)}}}function f(){F=1;setTimeout(function(){F=
0},100)}function h(){C=1;setTimeout(function(){C=0},10)}function k(a){var d=b.document,c=d.getBody(),e=!1,f=function(){e=!0};c.on(a,f);7<CKEDITOR.env.version?d.$.execCommand(a):d.$.selection.createRange().execCommand(a);c.removeListener(a,f);return e}function l(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var a=b.getSelection(),d,c,e;a.getType()==CKEDITOR.SELECTION_ELEMENT&&(d=a.getSelectedElement())&&(c=a.getRanges()[0],e=b.document.createText(""),e.insertBefore(d),c.setStartBefore(e),c.setEndAfter(d),
a.selectRanges([c]),setTimeout(function(){d.getParent()&&(e.remove(),a.selectElement(d))},0))}}function m(a,d){var c=b.document,e=b.editable(),f=function(a){a.cancel()},h;if(!c.getById("cke_pastebin")){var k=b.getSelection(),l=k.createBookmarks();CKEDITOR.env.ie&&k.root.fire("selectionchange");var n=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!e.is("body")||CKEDITOR.env.ie?"div":"body",c);n.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var q=0,c=c.getWindow();CKEDITOR.env.webkit?(e.append(n),
n.addClass("cke_editable"),e.is("body")||(q="static"!=e.getComputedStyle("position")?e:CKEDITOR.dom.element.get(e.$.offsetParent),q=q.getDocumentPosition().y)):e.getAscendant(CKEDITOR.env.ie?"body":"html",1).append(n);n.setStyles({position:"absolute",top:c.getScrollPosition().y-q+10+"px",width:"1px",height:Math.max(1,c.getViewPaneSize().height-20)+"px",overflow:"hidden",margin:0,padding:0});CKEDITOR.env.safari&&n.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","text"));(q=n.getParent().isReadOnly())?
(n.setOpacity(0),n.setAttribute("contenteditable",!0)):n.setStyle("ltr"==b.config.contentsLangDirection?"left":"right","-10000px");b.on("selectionChange",f,null,null,0);if(CKEDITOR.env.webkit||CKEDITOR.env.gecko)h=e.once("blur",f,null,null,-100);q&&n.focus();q=new CKEDITOR.dom.range(n);q.selectNodeContents(n);var v=q.select();CKEDITOR.env.ie&&(h=e.once("blur",function(){b.lockSelection(v)}));var t=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=
t);h&&h.removeListener();CKEDITOR.env.ie&&e.focus();k.selectBookmarks(l);n.remove();var a;CKEDITOR.env.webkit&&(a=n.getFirst())&&a.is&&a.hasClass("Apple-style-span")&&(n=a);b.removeListener("selectionChange",f);d(n.getHtml())},0)}}function A(){if("paste"==D.mainPasteEvent)return b.fire("beforePaste",{type:"auto",method:"paste"}),!1;b.focus();f();var a=b.focusManager;a.lock();if(b.editable().fire(D.mainPasteEvent)&&!k("paste"))return a.unlock(),!1;a.unlock();return!0}function y(a){if("wysiwyg"==b.mode)switch(a.data.keyCode){case CKEDITOR.CTRL+
86:case CKEDITOR.SHIFT+45:a=b.editable();f();"paste"==D.mainPasteEvent&&a.fire("beforepaste");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:b.fire("saveSnapshot"),setTimeout(function(){b.fire("saveSnapshot")},50)}}function t(d){var c={type:"auto",method:"paste",dataTransfer:D.initPasteDataTransfer(d)};c.dataTransfer.cacheData();var e=!1!==b.fire("beforePaste",c);e&&D.canClipboardApiBeTrusted(c.dataTransfer,b)?(d.data.preventDefault(),setTimeout(function(){a(b,c)},0)):m(d,function(d){c.dataValue=
d.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/ig,"");e&&a(b,c)})}function v(){if("wysiwyg"==b.mode){var a=B("paste");b.getCommand("cut").setState(B("cut"));b.getCommand("copy").setState(B("copy"));b.getCommand("paste").setState(a);b.fire("pasteState",a)}}function B(a){var d=b.getSelection(),d=d&&d.getRanges()[0];if((b.readOnly||d&&d.checkReadOnly())&&a in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if("paste"==a)return CKEDITOR.TRISTATE_OFF;a=b.getSelection();d=a.getRanges();return a.getType()==
CKEDITOR.SELECTION_NONE||1==d.length&&d[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF}var D=CKEDITOR.plugins.clipboard,C=0,F=0;(function(){b.on("key",y);b.on("contentDom",d);b.on("selectionChange",v);if(b.contextMenu){b.contextMenu.addListener(function(){return{cut:B("cut"),copy:B("copy"),paste:B("paste")}});var a=null;b.on("menuShow",function(){a&&(a.removeListener(),a=null);var d=b.contextMenu.findItemByCommandName("paste");d&&d.element&&(a=d.element.on("touchend",function(){b._.forcePasteDialog=
!0}))})}if(b.ui.addButton)b.once("instanceReady",function(){b._.pasteButtons&&CKEDITOR.tools.array.forEach(b._.pasteButtons,function(a){if(a=b.ui.get(a))if(a=CKEDITOR.document.getById(a._.id))a.on("touchend",function(){b._.forcePasteDialog=!0})})})})();(function(){function a(d,c,e,f,h){var k=b.lang.clipboard[c];b.addCommand(c,e);b.ui.addButton&&b.ui.addButton(d,{label:k,command:c,toolbar:"clipboard,"+f});b.addMenuItems&&b.addMenuItem(c,{label:k,command:c,group:"clipboard",order:h})}a("Cut","cut",
c("cut"),10,1);a("Copy","copy",c("copy"),20,4);a("Paste","paste",e(),30,8);b._.pasteButtons||(b._.pasteButtons=[]);b._.pasteButtons.push("Paste")})();b.getClipboardData=function(a,d){function c(a){a.removeListener();a.cancel();d(a.data)}function e(a){a.removeListener();a.cancel();d({type:h,dataValue:a.data.dataValue,dataTransfer:a.data.dataTransfer,method:"paste"})}var f=!1,h="auto";d||(d=a,a=null);b.on("beforePaste",function(a){a.removeListener();f=!0;h=a.data.type},null,null,1E3);b.on("paste",c,
null,null,0);!1===A()&&(b.removeListener("paste",c),b._.forcePasteDialog&&f&&b.fire("pasteDialog")?(b.on("pasteDialogCommit",e),b.on("dialogHide",function(a){a.removeListener();a.data.removeListener("pasteDialogCommit",e);a.data._.committed||d(null)})):d(null))}}function e(a){if(CKEDITOR.env.webkit){if(!a.match(/^[^<]*$/g)&&!a.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!a.match(/^([^<]|<br( ?\/)?>)*$/gi)&&!a.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else if(CKEDITOR.env.gecko){if(!a.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}else return"html";
return"htmlifiedtext"}function b(a,b){function d(a){return CKEDITOR.tools.repeat("\x3c/p\x3e\x3cp\x3e",~~(a/2))+(1==a%2?"\x3cbr\x3e":"")}b=b.replace(/(?!\u3000)\s+/g," ").replace(/> +</g,"\x3e\x3c").replace(/<br ?\/>/gi,"\x3cbr\x3e");b=b.replace(/<\/?[A-Z]+>/g,function(a){return a.toLowerCase()});if(b.match(/^[^<]$/))return b;CKEDITOR.env.webkit&&-1<b.indexOf("\x3cdiv\x3e")&&(b=b.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"\x3cbr\x3e").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"\x3cdiv\x3e\x3c/div\x3e"),
b.match(/<div>(<br>|)<\/div>/)&&(b="\x3cp\x3e"+b.replace(/(<div>(<br>|)<\/div>)+/g,function(a){return d(a.split("\x3c/div\x3e\x3cdiv\x3e").length+1)})+"\x3c/p\x3e"),b=b.replace(/<\/div><div>/g,"\x3cbr\x3e"),b=b.replace(/<\/?div>/g,""));CKEDITOR.env.gecko&&a.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(b=b.replace(/^<br><br>$/,"\x3cbr\x3e")),-1<b.indexOf("\x3cbr\x3e\x3cbr\x3e")&&(b="\x3cp\x3e"+b.replace(/(<br>){2,}/g,function(a){return d(a.length/4)})+"\x3c/p\x3e"));return l(a,b)}function c(a){function b(){var a=
{},d;for(d in CKEDITOR.dtd)"$"!=d.charAt(0)&&"div"!=d&&"span"!=d&&(a[d]=1);return a}var d={};return{get:function(c){return"plain-text"==c?d.plainText||(d.plainText=new CKEDITOR.filter(a,"br")):"semantic-content"==c?((c=d.semanticContent)||(c=new CKEDITOR.filter(a,{}),c.allow({$1:{elements:b(),attributes:!0,styles:!1,classes:!1}}),c=d.semanticContent=c),c):c?new CKEDITOR.filter(a,c):null}}}function k(a,b,d){b=CKEDITOR.htmlParser.fragment.fromHtml(b);var c=new CKEDITOR.htmlParser.basicWriter;d.applyTo(b,
!0,!1,a.activeEnterMode);b.writeHtml(c);return c.getHtml()}function l(a,b){a.enterMode==CKEDITOR.ENTER_BR?b=b.replace(/(<\/p><p>)+/g,function(a){return CKEDITOR.tools.repeat("\x3cbr\x3e",a.length/7*2)}).replace(/<\/?p>/g,""):a.enterMode==CKEDITOR.ENTER_DIV&&(b=b.replace(/<(\/)?p>/g,"\x3c$1div\x3e"));return b}function m(a){a.data.preventDefault();a.data.$.dataTransfer.dropEffect="none"}function d(b){var d=CKEDITOR.plugins.clipboard;b.on("contentDom",function(){function c(d,e,f){e.select();a(b,{dataTransfer:f,
method:"drop"},1);f.sourceEditor.fire("saveSnapshot");f.sourceEditor.editable().extractHtmlFromRange(d);f.sourceEditor.getSelection().selectRanges([d]);f.sourceEditor.fire("saveSnapshot")}function e(c,f){c.select();a(b,{dataTransfer:f,method:"drop"},1);d.resetDragDataTransfer()}function f(a,d,c){var e={$:a.data.$,target:a.data.getTarget()};d&&(e.dragRange=d);c&&(e.dropRange=c);!1===b.fire(a.name,e)&&a.data.preventDefault()}function h(a){a.type!=CKEDITOR.NODE_ELEMENT&&(a=a.getParent());return a.getChildCount()}
var k=b.editable(),l=CKEDITOR.plugins.clipboard.getDropTarget(b),m=b.ui.space("top"),A=b.ui.space("bottom");d.preventDefaultDropOnElement(m);d.preventDefaultDropOnElement(A);k.attachListener(l,"dragstart",f);k.attachListener(b,"dragstart",d.resetDragDataTransfer,d,null,1);k.attachListener(b,"dragstart",function(a){d.initDragDataTransfer(a,b)},null,null,2);k.attachListener(b,"dragstart",function(){var a=d.dragRange=b.getSelection().getRanges()[0];CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(d.dragStartContainerChildCount=
a?h(a.startContainer):null,d.dragEndContainerChildCount=a?h(a.endContainer):null)},null,null,100);k.attachListener(l,"dragend",f);k.attachListener(b,"dragend",d.initDragDataTransfer,d,null,1);k.attachListener(b,"dragend",d.resetDragDataTransfer,d,null,100);k.attachListener(l,"dragover",function(a){if(CKEDITOR.env.edge)a.data.preventDefault();else{var b=a.data.getTarget();b&&b.is&&b.is("html")?a.data.preventDefault():CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&a.data.$.dataTransfer.types.contains("Files")&&
a.data.preventDefault()}});k.attachListener(l,"drop",function(a){if(!a.data.$.defaultPrevented&&(a.data.preventDefault(),!b.readOnly)){var c=a.data.getTarget();if(!c.isReadOnly()||c.type==CKEDITOR.NODE_ELEMENT&&c.is("html")){var c=d.getRangeAtDropPosition(a,b),e=d.dragRange;c&&f(a,e,c)}}},null,null,9999);k.attachListener(b,"drop",d.initDragDataTransfer,d,null,1);k.attachListener(b,"drop",function(a){if(a=a.data){var f=a.dropRange,h=a.dragRange,k=a.dataTransfer;k.getTransferType(b)==CKEDITOR.DATA_TRANSFER_INTERNAL?
setTimeout(function(){d.internalDrop(h,f,k,b)},0):k.getTransferType(b)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?c(h,f,k):e(f,k)}},null,null,9999)})}var h;CKEDITOR.plugins.add("clipboard",{requires:"dialog,notification,toolbar",_supportedFileMatchers:[],init:function(a){function h(a){return-1!==CKEDITOR.tools.indexOf(["image/png","image/jpeg","image/gif"],a.type)}function l(b){return CKEDITOR.tools.array.some(a.plugins.clipboard._supportedFileMatchers,function(a){return a(b)})}function m(b){b.length&&
(b=CKEDITOR.tools.array.unique(b),b=CKEDITOR.tools.array.filter(b,function(a){return!!CKEDITOR.tools.trim(a)}),b=r(b.join(", ")),a.showNotification(b,"info",a.config.clipboard_notificationDuration))}function r(b){return b?a.lang.clipboard.fileFormatNotSupportedNotification.replace(/\${formats\}/g,"\x3cem\x3e"+b+"\x3c/em\x3e"):a.lang.clipboard.fileWithoutFormatNotSupportedNotification}function p(a,b){return CKEDITOR.env.ie&&a.data.fileTransferCancel||!(CKEDITOR.env.ie||b&&A!==b.id)?!1:b.isFileTransfer()&&
1===b.getFilesCount()}var u,z=c(a);a.config.forcePasteAsPlainText?u="plain-text":a.config.pasteFilter?u=a.config.pasteFilter:!CKEDITOR.env.webkit||"pasteFilter"in a.config||(u="semantic-content");a.pasteFilter=z.get(u);f(a);d(a);CKEDITOR.dialog.add("paste",CKEDITOR.getUrl(this.path+"dialogs/paste.js"));var q=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||CKEDITOR.plugins.clipboard.isFileApiSupported,A;CKEDITOR.plugins.clipboard.addFileMatcher(a,h);a.on("paste",function(a){if(q){var b=a.data;
a=b.dataTransfer;if(!b.dataValue){for(var b=[],d=0;d<a.getFilesCount();d++){var c=a.getFile(d);l(c)||b.push(c.type)}m(b)}}},null,null,1);a.on("paste",function(b){if(q&&a.config.clipboard_handleImages){var d=b.data,c=d.dataTransfer;if(!d.dataValue&&p(b,c)&&(c=c.getFile(0),h(c))){var e=new FileReader;e.addEventListener("load",function(){b.data.dataValue='\x3cimg src\x3d"'+e.result+'" /\x3e';a.fire("paste",b.data)},!1);e.addEventListener("abort",function(){CKEDITOR.env.ie&&(b.data.fileTransferCancel=
!0);a.fire("paste",b.data)},!1);e.addEventListener("error",function(){CKEDITOR.env.ie&&(b.data.fileTransferCancel=!0);a.fire("paste",b.data)},!1);e.readAsDataURL(c);A=d.dataTransfer.id;b.stop()}}},null,null,1);a.on("paste",function(b){b.data.dataTransfer||(b.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer);if(!b.data.dataValue){var d=b.data.dataTransfer,c=d.getData("text/html");if(c)b.data.dataValue=c,b.data.type="html";else if(c=d.getData("text/plain"))b.data.dataValue=a.editable().transformPlainTextToHtml(c),
b.data.type="text"}},null,null,1);a.on("paste",function(a){var b=a.data.dataValue,d=CKEDITOR.dtd.$block;-1<b.indexOf("Apple-")&&(b=b.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," "),"html"!=a.data.type&&(b=b.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,function(a,b){return b.replace(/\t/g,"\x26nbsp;\x26nbsp; \x26nbsp;")})),-1<b.indexOf('\x3cbr class\x3d"Apple-interchange-newline"\x3e')&&(a.data.startsWithEOL=1,a.data.preSniffing="html",b=b.replace(/<br class="Apple-interchange-newline">/,
"")),b=b.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1"));if(b.match(/^<[^<]+cke_(editable|contents)/i)){var c,e,g=new CKEDITOR.dom.element("div");for(g.setHtml(b);1==g.getChildCount()&&(c=g.getFirst())&&c.type==CKEDITOR.NODE_ELEMENT&&(c.hasClass("cke_editable")||c.hasClass("cke_contents"));)g=e=c;e&&(b=e.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?b=b.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,function(b,c){return c.toLowerCase()in d?(a.data.preSniffing="html","\x3c"+c):b}):CKEDITOR.env.webkit?b=b.replace(/<\/(\w+)><div><br><\/div>$/,
function(b,c){return c in d?(a.data.endsWithEOL=1,"\x3c/"+c+"\x3e"):b}):CKEDITOR.env.gecko&&(b=b.replace(/(\s)<br>$/,"$1"));a.data.dataValue=b},null,null,3);a.on("paste",function(d){d=d.data;var c=a._.nextPasteType||d.type,f=d.dataValue,h,l=a.config.clipboard_defaultContentType||"html",m=d.dataTransfer.getTransferType(a)==CKEDITOR.DATA_TRANSFER_EXTERNAL,n=!0===a.config.forcePasteAsPlainText;h="html"==c||"html"==d.preSniffing?"html":e(f);delete a._.nextPasteType;"htmlifiedtext"==h&&(f=b(a.config,f));
if("text"==c&&"html"==h)f=k(a,f,z.get("plain-text"));else if(m&&a.pasteFilter&&!d.dontFilter||n)f=k(a,f,a.pasteFilter);d.startsWithEOL&&(f='\x3cbr data-cke-eol\x3d"1"\x3e'+f);d.endsWithEOL&&(f+='\x3cbr data-cke-eol\x3d"1"\x3e');"auto"==c&&(c="html"==h||"html"==l?"html":"text");d.type=c;d.dataValue=f;delete d.preSniffing;delete d.startsWithEOL;delete d.endsWithEOL},null,null,6);a.on("paste",function(b){b=b.data;b.dataValue&&(a.insertHtml(b.dataValue,b.type,b.range),setTimeout(function(){a.fire("afterPaste")},
0))},null,null,1E3);a.on("pasteDialog",function(b){setTimeout(function(){a.openDialog("paste",b.data)},0)})}});CKEDITOR.plugins.clipboard={addFileMatcher:function(a,b){a.plugins.clipboard._supportedFileMatchers.push(b)},isCustomCopyCutSupported:CKEDITOR.env.ie&&16>CKEDITOR.env.version||CKEDITOR.env.iOS&&605>CKEDITOR.env.version?!1:!0,isCustomDataTypesSupported:!CKEDITOR.env.ie||16<=CKEDITOR.env.version,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?
"beforepaste":"paste",addPasteButton:function(a,b,d){a.ui.addButton&&(a.ui.addButton(b,d),a._.pasteButtons||(a._.pasteButtons=[]),a._.pasteButtons.push(b))},canClipboardApiBeTrusted:function(a,b){return a.getTransferType(b)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||CKEDITOR.env.chrome&&!a.isEmpty()||CKEDITOR.env.gecko&&(a.getData("text/html")||a.getFilesCount())||CKEDITOR.env.safari&&603<=CKEDITOR.env.version&&!CKEDITOR.env.iOS||CKEDITOR.env.iOS&&605<=CKEDITOR.env.version||CKEDITOR.env.edge&&16<=CKEDITOR.env.version?
!0:!1},getDropTarget:function(a){var b=a.editable();return CKEDITOR.env.ie&&9>CKEDITOR.env.version||b.isInline()?b:a.document},fixSplitNodesAfterDrop:function(a,b,d,c){function e(a,d,c){var g=a;g.type==CKEDITOR.NODE_TEXT&&(g=a.getParent());if(g.equals(d)&&c!=d.getChildCount())return a=b.startContainer.getChild(b.startOffset-1),d=b.startContainer.getChild(b.startOffset),a&&a.type==CKEDITOR.NODE_TEXT&&d&&d.type==CKEDITOR.NODE_TEXT&&(c=a.getLength(),a.setText(a.getText()+d.getText()),d.remove(),b.setStart(a,
c),b.collapse(!0)),!0}var f=b.startContainer;"number"==typeof c&&"number"==typeof d&&f.type==CKEDITOR.NODE_ELEMENT&&(e(a.startContainer,f,d)||e(a.endContainer,f,c))},isDropRangeAffectedByDragRange:function(a,b){var d=b.startContainer,c=b.endOffset;return a.endContainer.equals(d)&&a.endOffset<=c||a.startContainer.getParent().equals(d)&&a.startContainer.getIndex()<c||a.endContainer.getParent().equals(d)&&a.endContainer.getIndex()<c?!0:!1},internalDrop:function(b,d,c,e){var f=CKEDITOR.plugins.clipboard,
h=e.editable(),k,l;e.fire("saveSnapshot");e.fire("lockSnapshot",{dontUpdate:1});CKEDITOR.env.ie&&10>CKEDITOR.env.version&&this.fixSplitNodesAfterDrop(b,d,f.dragStartContainerChildCount,f.dragEndContainerChildCount);(l=this.isDropRangeAffectedByDragRange(b,d))||(k=b.createBookmark(!1));f=d.clone().createBookmark(!1);l&&(k=b.createBookmark(!1));b=k.startNode;d=k.endNode;l=f.startNode;d&&b.getPosition(l)&CKEDITOR.POSITION_PRECEDING&&d.getPosition(l)&CKEDITOR.POSITION_FOLLOWING&&l.insertBefore(b);b=e.createRange();
b.moveToBookmark(k);h.extractHtmlFromRange(b,1);d=e.createRange();f.startNode.getCommonAncestor(h)||(f=e.getSelection().createBookmarks()[0]);d.moveToBookmark(f);a(e,{dataTransfer:c,method:"drop",range:d},1);e.fire("unlockSnapshot")},getRangeAtDropPosition:function(a,b){var d=a.data.$,c=d.clientX,e=d.clientY,f=b.getSelection(!0).getRanges()[0],h=b.createRange();if(a.data.testRange)return a.data.testRange;if(document.caretRangeFromPoint&&b.document.$.caretRangeFromPoint(c,e))d=b.document.$.caretRangeFromPoint(c,
e),h.setStart(CKEDITOR.dom.node(d.startContainer),d.startOffset),h.collapse(!0);else if(d.rangeParent)h.setStart(CKEDITOR.dom.node(d.rangeParent),d.rangeOffset),h.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&f&&b.editable().hasFocus)return f;if(document.body.createTextRange){b.focus();d=b.document.getBody().$.createTextRange();try{for(var k=!1,l=0;20>l&&!k;l++){if(!k)try{d.moveToPoint(c,e-l),k=!0}catch(m){}if(!k)try{d.moveToPoint(c,e+l),k=!0}catch(y){}}if(k){var t="cke-temp-"+(new Date).getTime();
d.pasteHTML('\x3cspan id\x3d"'+t+'"\x3e​\x3c/span\x3e');var v=b.document.getById(t);h.moveToPosition(v,CKEDITOR.POSITION_BEFORE_START);v.remove()}else{var B=b.document.$.elementFromPoint(c,e),D=new CKEDITOR.dom.element(B),C;if(D.equals(b.editable())||"html"==D.getName())return f&&f.startContainer&&!f.startContainer.equals(b.editable())?f:null;C=D.getClientRect();c<C.left?h.setStartAt(D,CKEDITOR.POSITION_AFTER_START):h.setStartAt(D,CKEDITOR.POSITION_BEFORE_END);h.collapse(!0)}}catch(F){return null}}else return null}return h},
initDragDataTransfer:function(a,b){var d=a.data.$?a.data.$.dataTransfer:null,c=new this.dataTransfer(d,b);"dragstart"===a.name&&c.storeId();d?this.dragData&&c.id==this.dragData.id?c=this.dragData:this.dragData=c:this.dragData?c=this.dragData:this.dragData=c;a.data.dataTransfer=c},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(a,b){if(this.isCustomCopyCutSupported){if(a&&a.data&&a.data.$){var d=a.data.$.clipboardData,c=new this.dataTransfer(d,b);"copy"!==a.name&&
"cut"!==a.name||c.storeId();this.copyCutData&&c.id==this.copyCutData.id?(c=this.copyCutData,c.$=d):this.copyCutData=c;return c}return new this.dataTransfer(null,b)}return new this.dataTransfer(CKEDITOR.env.edge&&a&&a.data.$&&a.data.$.clipboardData||null,b)},preventDefaultDropOnElement:function(a){a&&a.on("dragover",m)}};h=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?"cke/id":"Text";CKEDITOR.plugins.clipboard.dataTransfer=function(a,b){a&&(this.$=a);this._={metaRegExp:/^<meta.*?>/i,fragmentRegExp:/\s*\x3c!--StartFragment--\x3e|\x3c!--EndFragment--\x3e\s*/g,
types:[],data:{},files:[],nativeHtmlCache:"",normalizeType:function(a){a=a.toLowerCase();return"text"==a||"text/plain"==a?"Text":"url"==a?"URL":"files"===a?"Files":a}};this._.fallbackDataTransfer=new CKEDITOR.plugins.clipboard.fallbackDataTransfer(this);this.id=this.getData(h);this.id||(this.id="Text"==h?"":"cke-"+CKEDITOR.tools.getUniqueId());b&&(this.sourceEditor=b,this.setData("text/html",b.getSelectedHtml(1)),"Text"==h||this.getData("text/plain")||this.setData("text/plain",b.getSelection().getSelectedText()))};
CKEDITOR.DATA_TRANSFER_INTERNAL=1;CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2;CKEDITOR.DATA_TRANSFER_EXTERNAL=3;CKEDITOR.plugins.clipboard.dataTransfer.prototype={getData:function(a,b){a=this._.normalizeType(a);var d="text/html"==a&&b?this._.nativeHtmlCache:this._.data[a];if(void 0===d||null===d||""===d){if(this._.fallbackDataTransfer.isRequired())d=this._.fallbackDataTransfer.getData(a,b);else try{d=this.$.getData(a)||""}catch(c){d=""}"text/html"!=a||b||(d=this._stripHtml(d))}"Text"==a&&CKEDITOR.env.gecko&&
this.getFilesCount()&&"file://"==d.substring(0,7)&&(d="");if("string"===typeof d)var e=d.indexOf("\x3c/html\x3e"),d=-1!==e?d.substring(0,e+7):d;return d},setData:function(a,b){a=this._.normalizeType(a);"text/html"==a?(this._.data[a]=this._stripHtml(b),this._.nativeHtmlCache=b):this._.data[a]=b;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"URL"==a||"Text"==a)if("Text"==h&&"Text"==a&&(this.id=b),this._.fallbackDataTransfer.isRequired())this._.fallbackDataTransfer.setData(a,b);else try{this.$.setData(a,
b)}catch(d){}},storeId:function(){"Text"!==h&&this.setData(h,this.id)},getTransferType:function(a){return this.sourceEditor?this.sourceEditor==a?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:CKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){function a(d){d=b._.normalizeType(d);var c=b.getData(d);"text/html"==d&&(b._.nativeHtmlCache=b.getData(d,!0),c=b._stripHtml(c));c&&(b._.data[d]=c);b._.types.push(d)}if(this.$){var b=this,d,c,e;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(d=
0;d<this.$.types.length;d++)a(this.$.types[d])}else a("Text"),a("URL");c=this._getImageFromClipboard();if((e=this.$&&this.$.files||null)||c){this._.files=[];if(e&&e.length)for(d=0;d<e.length;d++)this._.files.push(e[d]);0===this._.files.length&&c&&this._.files.push(c)}}},getFilesCount:function(){if(this._.files.length)return this._.files.length;var a=this.$&&this.$.files||null;return a&&a.length?a.length:this._getImageFromClipboard()?1:0},getFile:function(a){if(this._.files.length)return this._.files[a];
var b=this.$&&this.$.files||null;return b&&b.length?b[a]:0===a?this._getImageFromClipboard():void 0},isFileTransfer:function(){var a=this.getTypes(),a=CKEDITOR.tools.array.filter(a,function(a){return"application/x-moz-file"!==a});return 1===a.length&&"files"===a[0].toLowerCase()},isEmpty:function(){var a={},b;if(this.getFilesCount())return!1;CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(this._.data),function(b){a[b]=1});if(this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var d=
0;d<this.$.types.length;d++)a[this.$.types[d]]=1}else a.Text=1,a.URL=1;"Text"!=h&&(a[h]=0);for(b in a)if(a[b]&&""!==this.getData(b))return!1;return!0},getTypes:function(){return 0<this._.types.length?this._.types:this.$&&this.$.types?[].slice.call(this.$.types):[]},_getImageFromClipboard:function(){var a;try{if(this.$&&this.$.items&&this.$.items[0]&&(a=this.$.items[0].getAsFile())&&a.type)return a}catch(b){}},_stripHtml:function(a){function b(a){var d=new CKEDITOR.htmlParser,c,e;d.onTagOpen=function(a){"body"===
a&&(c=d._.htmlPartsRegex.lastIndex)};d.onTagClose=function(a){"body"===a&&(e=d._.htmlPartsRegex.lastIndex)};d.parse(a);return"number"!==typeof c||"number"!==typeof e?a:a.substring(c,e).replace(/<\/body\s*>$/gi,"")}a&&a.length&&(a=b(a),a=a.replace(this._.metaRegExp,""),a=a.replace(this._.fragmentRegExp,""));return a}};CKEDITOR.plugins.clipboard.fallbackDataTransfer=function(a){this._dataTransfer=a;this._customDataFallbackType="text/html"};CKEDITOR.plugins.clipboard.fallbackDataTransfer._isCustomMimeTypeSupported=
null;CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes=[];CKEDITOR.plugins.clipboard.fallbackDataTransfer.prototype={isRequired:function(){var a=CKEDITOR.plugins.clipboard.fallbackDataTransfer,b=this._dataTransfer.$;if(null===a._isCustomMimeTypeSupported)if(b){a._isCustomMimeTypeSupported=!1;if(CKEDITOR.env.edge&&17<=CKEDITOR.env.version)return!0;try{b.setData("cke/mimetypetest","cke test value"),a._isCustomMimeTypeSupported="cke test value"===b.getData("cke/mimetypetest"),b.clearData("cke/mimetypetest")}catch(d){}}else return!1;
return!a._isCustomMimeTypeSupported},getData:function(a,b){var d=this._getData(this._customDataFallbackType,!0);if(b)return d;var d=this._extractDataComment(d),c=null,c=a===this._customDataFallbackType?d.content:d.data&&d.data[a]?d.data[a]:this._getData(a,!0);return null!==c?c:""},setData:function(a,b){var d=a===this._customDataFallbackType;d&&(b=this._applyDataComment(b,this._getFallbackTypeData()));var c=b,e=this._dataTransfer.$;try{e.setData(a,c),d&&(this._dataTransfer._.nativeHtmlCache=c)}catch(f){if(this._isUnsupportedMimeTypeError(f)){d=
CKEDITOR.plugins.clipboard.fallbackDataTransfer;-1===CKEDITOR.tools.indexOf(d._customTypes,a)&&d._customTypes.push(a);var d=this._getFallbackTypeContent(),h=this._getFallbackTypeData();h[a]=c;try{c=this._applyDataComment(d,h),e.setData(this._customDataFallbackType,c),this._dataTransfer._.nativeHtmlCache=c}catch(k){c=""}}}return c},_getData:function(a,b){var d=this._dataTransfer._.data;if(!b&&d[a])return d[a];try{return this._dataTransfer.$.getData(a)}catch(c){return null}},_getFallbackTypeContent:function(){var a=
this._dataTransfer._.data[this._customDataFallbackType];a||(a=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).content);return a},_getFallbackTypeData:function(){var a=CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes,b=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).data||{},d=this._dataTransfer._.data;CKEDITOR.tools.array.forEach(a,function(a){void 0!==d[a]?b[a]=d[a]:void 0!==b[a]&&(b[a]=b[a])},this);return b},_isUnsupportedMimeTypeError:function(a){return a.message&&
-1!==a.message.search(/element not found/gi)},_extractDataComment:function(a){var b={data:null,content:a||""};if(a&&16<a.length){var d;(d=/\x3c!--cke-data:(.*?)--\x3e/g.exec(a))&&d[1]&&(b.data=JSON.parse(decodeURIComponent(d[1])),b.content=a.replace(d[0],""))}return b},_applyDataComment:function(a,b){var d="";b&&CKEDITOR.tools.object.keys(b).length&&(d="\x3c!--cke-data:"+encodeURIComponent(JSON.stringify(b))+"--\x3e");return d+(a&&a.length?a:"")}}}(),CKEDITOR.config.clipboard_notificationDuration=
1E4,CKEDITOR.config.clipboard_handleImages=!0,function(){CKEDITOR.plugins.add("panel",{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}});CKEDITOR.UI_PANEL="panel";CKEDITOR.ui.panel=function(a,c){c&&CKEDITOR.tools.extend(this,c);CKEDITOR.tools.extend(this,{className:"",css:[]});this.id=CKEDITOR.tools.getNextId();this.document=a;this.isFramed=this.forceIFrame||this.css.length;this._={blocks:{}}};CKEDITOR.ui.panel.handler={create:function(a){return new CKEDITOR.ui.panel(a)}};
var a=CKEDITOR.addTemplate("panel",'\x3cdiv lang\x3d"{langCode}" id\x3d"{id}" dir\x3d{dir} class\x3d"cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style\x3d"z-index:{z-index}" role\x3d"presentation"\x3e{frame}\x3c/div\x3e'),f=CKEDITOR.addTemplate("panel-frame",'\x3ciframe id\x3d"{id}" class\x3d"cke_panel_frame" role\x3d"presentation" frameborder\x3d"0" src\x3d"{src}"\x3e\x3c/iframe\x3e'),e=CKEDITOR.addTemplate("panel-frame-inner",'\x3c!DOCTYPE html\x3e\x3chtml class\x3d"cke_panel_container {env}" dir\x3d"{dir}" lang\x3d"{langCode}"\x3e\x3chead\x3e{css}\x3c/head\x3e\x3cbody class\x3d"cke_{dir}" style\x3d"margin:0;padding:0" onload\x3d"{onload}"\x3e\x3c/body\x3e\x3c/html\x3e');
CKEDITOR.ui.panel.prototype={render:function(b,c){var k={editorId:b.id,id:this.id,langCode:b.langCode,dir:b.lang.dir,cls:this.className,frame:"",env:CKEDITOR.env.cssClass,"z-index":b.config.baseFloatZIndex+1};this.getHolderElement=function(){var a=this._.holder;if(!a){if(this.isFramed){var a=this.document.getById(this.id+"_frame"),b=a.getParent(),a=a.getFrameDocument();CKEDITOR.env.iOS&&b.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"});b=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=
!0;if(this.onLoad)this.onLoad()},this));a.write(e.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:"window.parent.CKEDITOR.tools.callFunction("+b+");"},k)));a.getWindow().$.CKEDITOR=CKEDITOR;a.on("keydown",function(a){var b=a.data.getKeystroke(),d=this.document.getById(this.id).getAttribute("dir");if("input"!==a.data.getTarget().getName()||37!==b&&39!==b)this._.onKeyDown&&!1===this._.onKeyDown(b)?"input"===a.data.getTarget().getName()&&32===b||a.data.preventDefault():
(27==b||b==("rtl"==d?39:37))&&this.onEscape&&!1===this.onEscape(b)&&a.data.preventDefault()},this);a=a.getBody();a.unselectable();CKEDITOR.env.air&&CKEDITOR.tools.callFunction(b)}else a=this.document.getById(this.id);this._.holder=a}return a};if(this.isFramed){var l=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())":"";k.frame=f.output({id:this.id+"_frame",
src:l})}l=a.output(k);c&&c.push(l);return l},addBlock:function(a,c){c=this._.blocks[a]=c instanceof CKEDITOR.ui.panel.block?c:new CKEDITOR.ui.panel.block(this.getHolderElement(),c);this._.currentBlock||this.showBlock(a);return c},getBlock:function(a){return this._.blocks[a]},showBlock:function(a){a=this._.blocks[a];var c=this._.currentBlock,e=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+"_frame");c&&c.hide();this._.currentBlock=a;CKEDITOR.fire("ariaWidget",e);a._.focusIndex=
-1;this._.onKeyDown=a.onKeyDown&&CKEDITOR.tools.bind(a.onKeyDown,a);a.show();return a},destroy:function(){this.element&&this.element.remove()}};CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:function(a,c){this.element=a.append(a.getDocument().createElement("div",{attributes:{tabindex:-1,"class":"cke_panel_block"},styles:{display:"none"}}));c&&CKEDITOR.tools.extend(this,c);this.element.setAttributes({role:this.attributes.role||"presentation","aria-label":this.attributes["aria-label"],title:this.attributes.title||
this.attributes["aria-label"]});this.keys={};this._.focusIndex=-1;this.element.disableContextMenu()},_:{markItem:function(a){-1!=a&&(a=this._.getItems().getItem(this._.focusIndex=a),CKEDITOR.env.webkit&&a.getDocument().getWindow().focus(),a.focus(),this.onMark&&this.onMark(a))},markFirstDisplayed:function(a){for(var c=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&"none"==a.getStyle("display")},e=this._.getItems(),f,m,d=e.count()-1;0<=d;d--)if(f=e.getItem(d),f.getAscendant(c)||(m=f,this._.focusIndex=
d),"true"==f.getAttribute("aria-selected")){m=f;this._.focusIndex=d;break}m&&(a&&a(),CKEDITOR.env.webkit&&m.getDocument().getWindow().focus(),m.focus(),this.onMark&&this.onMark(m))},getItems:function(){return this.element.find("a,input")}},proto:{show:function(){this.element.setStyle("display","")},hide:function(){this.onHide&&!0===this.onHide.call(this)||this.element.setStyle("display","none")},onKeyDown:function(a,c){var e=this.keys[a];switch(e){case "next":for(var f=this._.focusIndex,e=this._.getItems(),
m;m=e.getItem(++f);)if(m.getAttribute("_cke_focus")&&m.$.offsetWidth){this._.focusIndex=f;m.focus(!0);break}return m||c?!1:(this._.focusIndex=-1,this.onKeyDown(a,1));case "prev":f=this._.focusIndex;for(e=this._.getItems();0<f&&(m=e.getItem(--f));){if(m.getAttribute("_cke_focus")&&m.$.offsetWidth){this._.focusIndex=f;m.focus(!0);break}m=null}return m||c?!1:(this._.focusIndex=e.count(),this.onKeyDown(a,1));case "click":case "mouseup":return f=this._.focusIndex,(m=0<=f&&this._.getItems().getItem(f))&&
m.fireEventHandler(e,{button:CKEDITOR.tools.normalizeMouseButton(CKEDITOR.MOUSE_BUTTON_LEFT,!0)}),!1}return!0}}})}(),CKEDITOR.plugins.add("floatpanel",{requires:"panel"}),function(){function a(a,b,c,k,l){l=CKEDITOR.tools.genKey(b.getUniqueId(),c.getUniqueId(),a.lang.dir,a.uiColor||"",k.css||"",l||"");var m=f[l];m||(m=f[l]=new CKEDITOR.ui.panel(b,k),m.element=c.append(CKEDITOR.dom.element.createFromHtml(m.render(a),b)),m.element.setStyles({display:"none",position:"absolute"}));return m}var f={};CKEDITOR.ui.floatPanel=
CKEDITOR.tools.createClass({$:function(e,b,c,f){function l(){g.hide()}c.forceIFrame=1;c.toolbarRelated&&e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(b=CKEDITOR.document.getById("cke_"+e.name));var m=b.getDocument();f=a(e,m,b,c,f||0);var d=f.element,h=d.getFirst(),g=this;d.disableContextMenu();this.element=d;this._={editor:e,panel:f,parentElement:b,definition:c,document:m,iframe:h,children:[],dir:e.lang.dir,showBlockParams:null,markFirst:void 0!==c.markFirst?c.markFirst:!0};e.on("mode",l);e.on("resize",
l);m.getWindow().on("resize",function(){this.reposition()},this)},proto:{addBlock:function(a,b){return this._.panel.addBlock(a,b)},addListBlock:function(a,b){return this._.panel.addListBlock(a,b)},getBlock:function(a){return this._.panel.getBlock(a)},showBlock:function(a,b,c,f,l,m){var d=this._.panel,h=d.showBlock(a);this._.showBlockParams=[].slice.call(arguments);this.allowBlur(!1);var g=this._.editor.editable();this._.returnFocus=g.hasFocus?g:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement);
this._.hideTimeout=0;var n=this.element,g=this._.iframe,g=CKEDITOR.env.ie&&!CKEDITOR.env.edge?g:new CKEDITOR.dom.window(g.$.contentWindow),w=n.getDocument(),x=this._.parentElement.getPositionedAncestor(),r=b.getDocumentPosition(w),w=x?x.getDocumentPosition(w):{x:0,y:0},p="rtl"==this._.dir,u=r.x+(f||0)-w.x,z=r.y+(l||0)-w.y;!p||1!=c&&4!=c?p||2!=c&&3!=c||(u+=b.$.offsetWidth-1):u+=b.$.offsetWidth;if(3==c||4==c)z+=b.$.offsetHeight-1;this._.panel._.offsetParentId=b.getId();n.setStyles({top:z+"px",left:0,
display:""});n.setOpacity(0);n.getFirst().removeStyle("width");this._.editor.focusManager.add(g);this._.blurSet||(CKEDITOR.event.useCapture=!0,g.on("blur",function(a){function b(){delete this._.returnFocus;this.hide()}this.allowBlur()&&a.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&this.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(b,0,this)):b.call(this))},this),g.on("focus",function(){this._.focused=!0;this.hideChild();this.allowBlur(!0)},
this),CKEDITOR.env.iOS&&(g.on("touchstart",function(){clearTimeout(this._.hideTimeout)},this),g.on("touchend",function(){this._.hideTimeout=0;this.focus()},this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1);d.onEscape=CKEDITOR.tools.bind(function(a){if(this.onEscape&&!1===this.onEscape(a))return!1},this);CKEDITOR.tools.setTimeout(function(){var a=CKEDITOR.tools.bind(function(){var a=n;a.removeStyle("width");if(h.autoSize){var b=h.element.getDocument(),b=(CKEDITOR.env.webkit||CKEDITOR.env.edge?
h.element:b.getBody()).$.scrollWidth;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<b&&(b+=(a.$.offsetWidth||0)-(a.$.clientWidth||0)+3);a.setStyle("width",b+10+"px");b=h.element.$.scrollHeight;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<b&&(b+=(a.$.offsetHeight||0)-(a.$.clientHeight||0)+3);a.setStyle("height",b+"px");d._.currentBlock.element.setStyle("display","none").removeStyle("display")}else a.removeStyle("height");p&&(u-=n.$.offsetWidth);n.setStyle("left",u+"px");var b=d.element.getWindow(),a=n.$.getBoundingClientRect(),
b=b.getViewPaneSize(),c=a.width||a.right-a.left,e=a.height||a.bottom-a.top,g=p?a.right:b.width-a.left,f=p?b.width-a.right:a.left;p?g<c&&(u=f>c?u+c:b.width>c?u-a.left:u-a.right+b.width):g<c&&(u=f>c?u-c:b.width>c?u-a.right+b.width:u-a.left);c=a.top;b.height-a.top<e&&(z=c>e?z-e:b.height>e?z-a.bottom+b.height:z-a.top);CKEDITOR.env.ie&&!CKEDITOR.env.edge&&((b=a=n.$.offsetParent&&new CKEDITOR.dom.element(n.$.offsetParent))&&"html"==b.getName()&&(b=b.getDocument().getBody()),b&&"rtl"==b.getComputedStyle("direction")&&
(u=CKEDITOR.env.ie8Compat?u-2*n.getDocument().getDocumentElement().$.scrollLeft:u-(a.$.scrollWidth-a.$.clientWidth)));var a=n.getFirst(),k;(k=a.getCustomData("activePanel"))&&k.onHide&&k.onHide.call(this,1);a.setCustomData("activePanel",this);n.setStyles({top:z+"px",left:u+"px"});n.setOpacity(1);m&&m()},this);d.isLoaded?a():d.onLoad=a;CKEDITOR.tools.setTimeout(function(){var a=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus();h.element.focus();CKEDITOR.env.webkit&&
(CKEDITOR.document.getBody().$.scrollTop=a);this.allowBlur(!0);this._.markFirst&&(CKEDITOR.env.ie?CKEDITOR.tools.setTimeout(function(){h.markFirstDisplayed?h.markFirstDisplayed():h._.markFirstDisplayed()},0):h.markFirstDisplayed?h.markFirstDisplayed():h._.markFirstDisplayed());this._.editor.fire("panelShow",this)},0,this)},CKEDITOR.env.air?200:0,this);this.visible=1;this.onShow&&this.onShow.call(this)},reposition:function(){var a=this._.showBlockParams;this.visible&&this._.showBlockParams&&(this.hide(),
this.showBlock.apply(this,a))},focus:function(){if(CKEDITOR.env.webkit){var a=CKEDITOR.document.getActive();a&&!a.equals(this._.iframe)&&a.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var a=this._.iframe.getFrameDocument().getActive();a&&a.is("a")&&(this._.lastFocused=a)},hide:function(a){if(this.visible&&(!this.onHide||!0!==this.onHide.call(this))){this.hideChild();CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur();
this.element.setStyle("display","none");this.visible=0;this.element.getFirst().removeCustomData("activePanel");if(a=a&&this._.returnFocus)CKEDITOR.env.webkit&&a.type&&a.getWindow().$.focus(),a.focus();delete this._.lastFocused;this._.showBlockParams=null;this._.editor.fire("panelHide",this)}},allowBlur:function(a){var b=this._.panel;void 0!==a&&(b.allowBlur=a);return b.allowBlur},showAsChild:function(a,b,c,f,l,m){if(this._.activeChild!=a||a._.panel._.offsetParentId!=c.getId())this.hideChild(),a.onHide=
CKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=a,this._.focused=!1,a.showBlock(b,c,f,l,m),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){a.element.getChild(0).$.style.cssText+=""},100)},hideChild:function(a){var b=this._.activeChild;b&&(delete b.onHide,delete this._.activeChild,b.hide(),a&&this.focus())}}});CKEDITOR.on("instanceDestroyed",function(){var a=CKEDITOR.tools.isEmpty(CKEDITOR.instances),
b;for(b in f){var c=f[b];a?c.destroy():c.element.hide()}a&&(f={})})}(),CKEDITOR.plugins.add("menu",{requires:"floatpanel",beforeInit:function(a){for(var f=a.config.menu_groups.split(","),e=a._.menuGroups={},b=a._.menuItems={},c=0;c<f.length;c++)e[f[c]]=c+1;a.addMenuGroup=function(a,b){e[a]=b||100};a.addMenuItem=function(a,c){e[c.group]&&(b[a]=new CKEDITOR.menuItem(this,a,c))};a.addMenuItems=function(a){for(var b in a)this.addMenuItem(b,a[b])};a.getMenuItem=function(a){return b[a]};a.removeMenuItem=
function(a){delete b[a]}}}),function(){function a(a){a.sort(function(a,b){return a.group<b.group?-1:a.group>b.group?1:a.order<b.order?-1:a.order>b.order?1:0})}var f='\x3cspan class\x3d"cke_menuitem"\x3e\x3ca id\x3d"{id}" class\x3d"cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href\x3d"{href}" title\x3d"{title}" tabindex\x3d"-1" _cke_focus\x3d1 hidefocus\x3d"true" role\x3d"{role}" aria-label\x3d"{attrLabel}" aria-describedby\x3d"{id}_description" aria-haspopup\x3d"{hasPopup}" aria-disabled\x3d"{disabled}" {ariaChecked} draggable\x3d"false"',
e="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(f+=' onkeypress\x3d"return false;"');CKEDITOR.env.gecko&&(f+=' onblur\x3d"this.style.cssText \x3d this.style.cssText;" ondragstart\x3d"return false;"');CKEDITOR.env.ie&&(e='return false;" onmouseup\x3d"CKEDITOR.tools.getMouseButton(event)\x3d\x3d\x3dCKEDITOR.MOUSE_BUTTON_LEFT\x26\x26');var f=f+(' onmouseover\x3d"CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout\x3d"CKEDITOR.tools.callFunction({moveOutFn},{index});" onclick\x3d"'+e+'CKEDITOR.tools.callFunction({clickFn},{index}); return false;"\x3e')+
'\x3cspan class\x3d"cke_menubutton_inner"\x3e\x3cspan class\x3d"cke_menubutton_icon"\x3e\x3cspan class\x3d"cke_button_icon cke_button__{iconName}_icon" style\x3d"{iconStyle}"\x3e\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"cke_menubutton_label"\x3e{label}\x3c/span\x3e{shortcutHtml}{arrowHtml}\x3c/span\x3e\x3c/a\x3e\x3cspan id\x3d"{id}_description" class\x3d"cke_voice_label" aria-hidden\x3d"false"\x3e{ariaShortcut}\x3c/span\x3e\x3c/span\x3e',b=CKEDITOR.addTemplate("menuItem",f),c=CKEDITOR.addTemplate("menuArrow",
'\x3cspan class\x3d"cke_menuarrow"\x3e\x3cspan\x3e{label}\x3c/span\x3e\x3c/span\x3e'),k=CKEDITOR.addTemplate("menuShortcut",'\x3cspan class\x3d"cke_menubutton_label cke_menubutton_shortcut"\x3e{shortcut}\x3c/span\x3e');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(a,b){b=this._.definition=b||{};this.id=CKEDITOR.tools.getNextId();this.editor=a;this.items=[];this._.listeners=[];this._.level=b.level||1;var d=CKEDITOR.tools.extend({},b.panel,{css:[CKEDITOR.skin.getPath("editor")],level:this._.level-
1,block:{}}),c=d.block.attributes=d.attributes||{};!c.role&&(c.role="menu");this._.panelDefinition=d},_:{onShow:function(){var a=this.editor.getSelection(),b=a&&a.getStartElement(),d=this.editor.elementPath(),c=this._.listeners;this.removeAll();for(var e=0;e<c.length;e++){var f=c[e](b,a,d);if(f)for(var k in f){var x=this.editor.getMenuItem(k);!x||x.command&&!this.editor.getCommand(x.command).state||(x.state=f[k],this.add(x))}}},onClick:function(a){this.hide();if(a.onClick)a.onClick();else a.command&&
this.editor.execCommand(a.command)},onEscape:function(a){var b=this.parent;b?b._.panel.hideChild(1):27==a&&this.hide(1);return!1},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(a){var b=this._.subMenu,d=this.items[a];if(d=d.getItems&&d.getItems()){b?b.removeAll():(b=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0)),b.parent=this,b._.onClick=CKEDITOR.tools.bind(this._.onClick,this));for(var c in d){var e=this.editor.getMenuItem(c);
e&&(e.state=d[c],b.add(e))}var f=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+String(a));setTimeout(function(){b.show(f,2)},0)}else this._.panel.hideChild(1)}},proto:{add:function(a){a.order||(a.order=this.items.length);this.items.push(a)},removeAll:function(){this.items=[]},show:function(b,c,d,e){if(!this.parent&&(this._.onShow(),!this.items.length))return;c=c||("rtl"==this.editor.lang.dir?2:1);var g=this.items,f=this.editor,k=this._.panel,x=this._.element;if(!k){k=this._.panel=
new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level);k.onEscape=CKEDITOR.tools.bind(function(a){if(!1===this._.onEscape(a))return!1},this);k.onShow=function(){k._.panel.getHolderElement().getParent().addClass("cke").addClass("cke_reset_all")};k.onHide=CKEDITOR.tools.bind(function(){this._.onHide&&this._.onHide()},this);x=k.addBlock(this.id,this._.panelDefinition.block);x.autoSize=!0;var r=x.keys;r[40]="next";r[9]="next";r[38]="prev";r[CKEDITOR.SHIFT+
9]="prev";r["rtl"==f.lang.dir?37:39]=CKEDITOR.env.ie?"mouseup":"click";r[32]=CKEDITOR.env.ie?"mouseup":"click";CKEDITOR.env.ie&&(r[13]="mouseup");x=this._.element=x.element;r=x.getDocument();r.getBody().setStyle("overflow","hidden");r.getElementsByTag("html").getItem(0).setStyle("overflow","hidden");this._.itemOverFn=CKEDITOR.tools.addFunction(function(a){clearTimeout(this._.showSubTimeout);this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,f.config.menu_subMenuDelay||400,this,[a])},
this);this._.itemOutFn=CKEDITOR.tools.addFunction(function(){clearTimeout(this._.showSubTimeout)},this);this._.itemClickFn=CKEDITOR.tools.addFunction(function(a){var b=this.items[a];if(b.state==CKEDITOR.TRISTATE_DISABLED)this.hide(1);else if(b.getItems)this._.showSubMenu(a);else this._.onClick(b)},this)}a(g);for(var r=f.elementPath(),r=['\x3cdiv class\x3d"cke_menu'+(r&&r.direction()!=f.lang.dir?" cke_mixed_dir_content":"")+'" role\x3d"presentation"\x3e'],p=g.length,u=p&&g[0].group,z=0;z<p;z++){var q=
g[z];u!=q.group&&(r.push('\x3cdiv class\x3d"cke_menuseparator" role\x3d"separator"\x3e\x3c/div\x3e'),u=q.group);q.render(this,z,r)}r.push("\x3c/div\x3e");x.setHtml(r.join(""));CKEDITOR.ui.fire("ready",this);this.parent?this.parent._.panel.showAsChild(k,this.id,b,c,d,e):k.showBlock(this.id,b,c,d,e);f.fire("menuShow",[k])},addListener:function(a){this._.listeners.push(a)},hide:function(a){this._.onHide&&this._.onHide();this._.panel&&this._.panel.hide(a)},findItemByCommandName:function(a){var b=CKEDITOR.tools.array.filter(this.items,
function(b){return a===b.command});return b.length?(b=b[0],{item:b,element:this._.element.findOne("."+b.className)}):null}}});CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(a,b,d){CKEDITOR.tools.extend(this,d,{order:0,className:"cke_menubutton__"+b});this.group=a._.menuGroups[this.group];this.editor=a;this.name=b},proto:{render:function(a,e,d){var f=a.id+String(e),g="undefined"==typeof this.state?CKEDITOR.TRISTATE_OFF:this.state,n="",w=this.editor,x,r,p=g==CKEDITOR.TRISTATE_ON?"on":g==CKEDITOR.TRISTATE_DISABLED?
"disabled":"off";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(n=' aria-checked\x3d"'+(g==CKEDITOR.TRISTATE_ON?"true":"false")+'"');var u=this.getItems,z="\x26#"+("rtl"==this.editor.lang.dir?"9668":"9658")+";",q=this.name;this.icon&&!/\./.test(this.icon)&&(q=this.icon);this.command&&(x=w.getCommand(this.command),(x=w.getCommandKeystroke(x))&&(r=CKEDITOR.tools.keystrokeToString(w.lang.common.keyboard,x)));x=CKEDITOR.tools.htmlEncodeAttr(this.label);a={id:f,name:this.name,iconName:q,label:this.label,
attrLabel:x,cls:this.className||"",state:p,hasPopup:u?"true":"false",disabled:g==CKEDITOR.TRISTATE_DISABLED,title:x+(r?" ("+r.display+")":""),ariaShortcut:r?w.lang.common.keyboardShortcut+" "+r.aria:"",href:"javascript:void('"+(x||"").replace("'")+"')",hoverFn:a._.itemOverFn,moveOutFn:a._.itemOutFn,clickFn:a._.itemClickFn,index:e,iconStyle:CKEDITOR.skin.getIconStyle(q,"rtl"==this.editor.lang.dir,q==this.icon?null:this.icon,this.iconOffset),shortcutHtml:r?k.output({shortcut:r.display}):"",arrowHtml:u?
c.output({label:z}):"",role:this.role?this.role:"menuitem",ariaChecked:n};b.output(a,d)}}})}(),CKEDITOR.config.menu_groups="clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div",CKEDITOR.plugins.add("contextmenu",{requires:"menu",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(a){this.base.call(this,a,{panel:{css:a.config.contextmenu_contentsCss,
className:"cke_menu_panel",attributes:{"aria-label":a.lang.contextmenu.options}}})},proto:{addTarget:function(a,f){function e(){c=!1}var b,c;a.on("contextmenu",function(a){a=a.data;var e=CKEDITOR.env.webkit?b:CKEDITOR.env.mac?a.$.metaKey:a.$.ctrlKey;if(!f||!e)if(a.preventDefault(),!c){if(CKEDITOR.env.mac&&CKEDITOR.env.webkit){var e=this.editor,d=(new CKEDITOR.dom.elementPath(a.getTarget(),e.editable())).contains(function(a){return a.hasAttribute("contenteditable")},!0);d&&"false"==d.getAttribute("contenteditable")&&
e.getSelection().fake(d)}var d=a.getTarget().getDocument(),h=a.getTarget().getDocument().getDocumentElement(),e=!d.equals(CKEDITOR.document),d=d.getWindow().getScrollPosition(),g=e?a.$.clientX:a.$.pageX||d.x+a.$.clientX,k=e?a.$.clientY:a.$.pageY||d.y+a.$.clientY;CKEDITOR.tools.setTimeout(function(){this.open(h,null,g,k)},CKEDITOR.env.ie?200:0,this)}},this);if(CKEDITOR.env.webkit){var k=function(){b=0};a.on("keydown",function(a){b=CKEDITOR.env.mac?a.data.$.metaKey:a.data.$.ctrlKey});a.on("keyup",k);
a.on("contextmenu",k)}CKEDITOR.env.gecko&&!CKEDITOR.env.mac&&(a.on("keydown",function(a){a.data.$.shiftKey&&121===a.data.$.keyCode&&(c=!0)},null,null,0),a.on("keyup",e),a.on("contextmenu",e))},open:function(a,f,e,b){!1!==this.editor.config.enableContextMenu&&this.editor.getSelection().getType()!==CKEDITOR.SELECTION_NONE&&(this.editor.focus(),a=a||CKEDITOR.document.getDocumentElement(),this.editor.selectionChange(1),this.show(a,f,e,b))}}})},beforeInit:function(a){var f=a.contextMenu=new CKEDITOR.plugins.contextMenu(a);
a.on("contentDom",function(){f.addTarget(a.editable(),!1!==a.config.browserContextMenuOnCtrl)});a.addCommand("contextMenu",{exec:function(a){var b=0,c=0,f=a.getSelection().getRanges(),f=f[f.length-1].getClientRects(a.editable().isInline());if(f=f[f.length-1])b=f["rtl"===a.lang.dir?"left":"right"],c=f.bottom;a.contextMenu.open(a.document.getBody().getParent(),null,b,c)}});a.setKeystroke(CKEDITOR.SHIFT+121,"contextMenu");a.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,"contextMenu")}}),function(){function a(a,
e){function l(b){b=g.list[b];var d;b.equals(a.editable())||"true"==b.getAttribute("contenteditable")?(d=a.createRange(),d.selectNodeContents(b),d=d.select()):(d=a.getSelection(),d.selectElement(b));CKEDITOR.env.ie&&a.fire("selectionChange",{selection:d,path:new CKEDITOR.dom.elementPath(b)});a.focus()}function m(){h&&h.setHtml('\x3cspan class\x3d"cke_path_empty"\x3e\x26nbsp;\x3c/span\x3e');delete g.list}var d=a.ui.spaceId("path"),h,g=a._.elementsPath,n=g.idBase;e.html+='\x3cspan id\x3d"'+d+'_label" class\x3d"cke_voice_label"\x3e'+
a.lang.elementspath.eleLabel+'\x3c/span\x3e\x3cspan id\x3d"'+d+'" class\x3d"cke_path" role\x3d"group" aria-labelledby\x3d"'+d+'_label"\x3e\x3cspan class\x3d"cke_path_empty"\x3e\x26nbsp;\x3c/span\x3e\x3c/span\x3e';a.on("uiReady",function(){var b=a.ui.space("path");b&&a.focusManager.add(b,1)});g.onClick=l;var w=CKEDITOR.tools.addFunction(l),x=CKEDITOR.tools.addFunction(function(b,d){var e=g.idBase,f;d=new CKEDITOR.dom.event(d);f="rtl"==a.lang.dir;switch(d.getKeystroke()){case f?39:37:case 9:return(f=
CKEDITOR.document.getById(e+(b+1)))||(f=CKEDITOR.document.getById(e+"0")),f.focus(),!1;case f?37:39:case CKEDITOR.SHIFT+9:return(f=CKEDITOR.document.getById(e+(b-1)))||(f=CKEDITOR.document.getById(e+(g.list.length-1))),f.focus(),!1;case 27:return a.focus(),!1;case 13:case 32:return l(b),!1;case CKEDITOR.ALT+121:return a.execCommand("toolbarFocus"),!1}return!0});a.on("selectionChange",function(e){for(var f=[],k=g.list=[],l=[],m=g.filters,A=!0,y=e.data.path.elements,t=y.length;t--;){var v=y[t],B=0;
e=v.data("cke-display-name")?v.data("cke-display-name"):v.data("cke-real-element-type")?v.data("cke-real-element-type"):v.getName();(A=v.hasAttribute("contenteditable")?"true"==v.getAttribute("contenteditable"):A)||v.hasAttribute("contenteditable")||(B=1);for(var D=0;D<m.length;D++){var C=m[D](v,e);if(!1===C){B=1;break}e=C||e}B||(k.unshift(v),l.unshift(e))}k=k.length;for(m=0;m<k;m++)e=l[m],A=a.lang.elementspath.eleTitle.replace(/%1/,e),e=b.output({id:n+m,label:A,text:e,jsTitle:"javascript:void('"+
e+"')",index:m,keyDownFn:x,clickFn:w}),f.unshift(e);h||(h=CKEDITOR.document.getById(d));l=h;l.setHtml(f.join("")+'\x3cspan class\x3d"cke_path_empty"\x3e\x26nbsp;\x3c/span\x3e');a.fire("elementsPathUpdate",{space:l})});a.on("readOnly",m);a.on("contentDomUnload",m);a.addCommand("elementsPathFocus",f.toolbarFocus);a.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}var f={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(a){(a=CKEDITOR.document.getById(a._.elementsPath.idBase+"0"))&&a.focus(CKEDITOR.env.ie||
CKEDITOR.env.air)}}},e="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e+=' onkeypress\x3d"return false;"');CKEDITOR.env.gecko&&(e+=' onblur\x3d"this.style.cssText \x3d this.style.cssText;"');var b=CKEDITOR.addTemplate("pathItem",'\x3ca id\x3d"{id}" href\x3d"{jsTitle}" tabindex\x3d"-1" class\x3d"cke_path_item" title\x3d"{label}"'+e+' hidefocus\x3d"true"  draggable\x3d"false"  ondragstart\x3d"return false;" onkeydown\x3d"return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick\x3d"CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role\x3d"button" aria-label\x3d"{label}"\x3e{text}\x3c/a\x3e');
CKEDITOR.plugins.add("elementspath",{init:function(b){b._.elementsPath={idBase:"cke_elementspath_"+CKEDITOR.tools.getNextNumber()+"_",filters:[]};b.on("uiSpace",function(e){"bottom"==e.data.space&&a(b,e.data)})}})}(),function(){function a(a,c){var k,l;c.on("refresh",function(a){var b=[f],c;for(c in a.data.states)b.push(a.data.states[c]);this.setState(CKEDITOR.tools.search(b,e)?e:f)},c,null,100);c.on("exec",function(c){k=a.getSelection();l=k.createBookmarks(1);c.data||(c.data={});c.data.done=!1},c,
null,0);c.on("exec",function(){a.forceNextSelectionCheck();k.selectBookmarks(l)},c,null,100)}var f=CKEDITOR.TRISTATE_DISABLED,e=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indent",{init:function(b){var c=CKEDITOR.plugins.indent.genericDefinition;a(b,b.addCommand("indent",new c(!0)));a(b,b.addCommand("outdent",new c));b.ui.addButton&&(b.ui.addButton("Indent",{label:b.lang.indent.indent,command:"indent",directional:!0,toolbar:"indent,20"}),b.ui.addButton("Outdent",{label:b.lang.indent.outdent,command:"outdent",
directional:!0,toolbar:"indent,10"}));b.on("dirChanged",function(a){var c=b.createRange(),e=a.data.node;c.setStartBefore(e);c.setEndAfter(e);for(var d=new CKEDITOR.dom.walker(c),f;f=d.next();)if(f.type==CKEDITOR.NODE_ELEMENT)if(!f.equals(e)&&f.getDirection())c.setStartAfter(f),d=new CKEDITOR.dom.walker(c);else{var g=b.config.indentClasses;if(g)for(var n="ltr"==a.data.dir?["_rtl",""]:["","_rtl"],w=0;w<g.length;w++)f.hasClass(g[w]+n[0])&&(f.removeClass(g[w]+n[0]),f.addClass(g[w]+n[1]));g=f.getStyle("margin-right");
n=f.getStyle("margin-left");g?f.setStyle("margin-left",g):f.removeStyle("margin-left");n?f.setStyle("margin-right",n):f.removeStyle("margin-right")}})}});CKEDITOR.plugins.indent={genericDefinition:function(a){this.isIndent=!!a;this.startDisabled=!this.isIndent},specificDefinition:function(a,c,e){this.name=c;this.editor=a;this.jobs={};this.enterBr=a.config.enterMode==CKEDITOR.ENTER_BR;this.isIndent=!!e;this.relatedGlobal=e?"indent":"outdent";this.indentKey=e?9:CKEDITOR.SHIFT+9;this.database={}},registerCommands:function(a,
c){a.on("pluginsLoaded",function(){for(var a in c)(function(a,b){var d=a.getCommand(b.relatedGlobal),c;for(c in b.jobs)d.on("exec",function(d){d.data.done||(a.fire("lockSnapshot"),b.execJob(a,c)&&(d.data.done=!0),a.fire("unlockSnapshot"),CKEDITOR.dom.element.clearAllMarkers(b.database))},this,null,c),d.on("refresh",function(d){d.data.states||(d.data.states={});d.data.states[b.name+"@"+c]=b.refreshJob(a,c,d.data.path)},this,null,c);a.addFeature(b)})(this,c[a])})}};CKEDITOR.plugins.indent.genericDefinition.prototype=
{context:"p",exec:function(){}};CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(a,c){var e=this.jobs[c];if(e.state!=f)return e.exec.call(this,a)},refreshJob:function(a,c,e){c=this.jobs[c];a.activeFilter.checkFeature(this)?c.state=c.refresh.call(this,a,e):c.state=f;return c.state},getContext:function(a){return a.contains(this.context)}}}(),function(){function a(a){function b(d){for(var f=l.startContainer,q=l.endContainer;f&&!f.getParent().equals(d);)f=f.getParent();for(;q&&!q.getParent().equals(d);)q=
q.getParent();if(!f||!q)return!1;for(var p=[],y=!1;!y;)f.equals(q)&&(y=!0),p.push(f),f=f.getNext();if(1>p.length)return!1;f=d.getParents(!0);for(q=0;q<f.length;q++)if(f[q].getName&&k[f[q].getName()]){d=f[q];break}for(var f=c.isIndent?1:-1,q=p[0],p=p[p.length-1],y=CKEDITOR.plugins.list.listToArray(d,g),t=y[p.getCustomData("listarray_index")].indent,q=q.getCustomData("listarray_index");q<=p.getCustomData("listarray_index");q++)if(y[q].indent+=f,0<f){for(var v=y[q].parent,B=q-1;0<=B;B--)if(y[B].indent===
f){v=y[B].parent;break}y[q].parent=new CKEDITOR.dom.element(v.getName(),v.getDocument())}for(q=p.getCustomData("listarray_index")+1;q<y.length&&y[q].indent>t;q++)y[q].indent+=f;f=CKEDITOR.plugins.list.arrayToList(y,g,null,a.config.enterMode,d.getDirection());if(!c.isIndent){var r;if((r=d.getParent())&&r.is("li"))for(var p=f.listNode.getChildren(),C=[],x,q=p.count()-1;0<=q;q--)(x=p.getItem(q))&&x.is&&x.is("li")&&C.push(x)}f&&f.listNode.replace(d);if(C&&C.length)for(q=0;q<C.length;q++){for(x=d=C[q];(x=
x.getNext())&&x.is&&x.getName()in k;)CKEDITOR.env.needsNbspFiller&&!d.getFirst(e)&&d.append(l.document.createText(" ")),d.append(x);d.insertAfter(r)}f&&a.fire("contentDomInvalidated");return!0}for(var c=this,g=this.database,k=this.context,l,x=a.getSelection(),x=(x&&x.getRanges()).createIterator();l=x.getNextRange();){for(var r=l.getCommonAncestor();r&&(r.type!=CKEDITOR.NODE_ELEMENT||!k[r.getName()]);){if(a.editable().equals(r)){r=!1;break}r=r.getParent()}r||(r=l.startPath().contains(k))&&l.setEndAt(r,
CKEDITOR.POSITION_BEFORE_END);if(!r){var p=l.getEnclosedNode();p&&p.type==CKEDITOR.NODE_ELEMENT&&p.getName()in k&&(l.setStartAt(p,CKEDITOR.POSITION_AFTER_START),l.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),r=p)}r&&l.startContainer.type==CKEDITOR.NODE_ELEMENT&&l.startContainer.getName()in k&&(p=new CKEDITOR.dom.walker(l),p.evaluator=f,l.startContainer=p.next());r&&l.endContainer.type==CKEDITOR.NODE_ELEMENT&&l.endContainer.getName()in k&&(p=new CKEDITOR.dom.walker(l),p.evaluator=f,l.endContainer=p.previous());
if(r)return b(r)}return 0}function f(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.is("li")}function e(a){return b(a)&&c(a)}var b=CKEDITOR.dom.walker.whitespaces(!0),c=CKEDITOR.dom.walker.bookmark(!1,!0),k=CKEDITOR.TRISTATE_DISABLED,l=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(b){function d(b){c.specificDefinition.apply(this,arguments);this.requiredContent=["ul","ol"];b.on("key",function(a){var d=b.elementPath();if("wysiwyg"==b.mode&&a.data.keyCode==this.indentKey&&
d){var c=this.getContext(d);!c||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,d,c)||(b.execCommand(this.relatedGlobal),a.cancel())}},this);this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(a,b){var d=this.getContext(b),c=CKEDITOR.plugins.indentList.firstItemInPath(this.context,b,d);return d&&this.isIndent&&!c?l:k}:function(a,b){return!this.getContext(b)||this.isIndent?k:l},exec:CKEDITOR.tools.bind(a,this)}}var c=CKEDITOR.plugins.indent;c.registerCommands(b,{indentlist:new d(b,
"indentlist",!0),outdentlist:new d(b,"outdentlist")});CKEDITOR.tools.extend(d.prototype,c.specificDefinition.prototype,{context:{ol:1,ul:1}})}});CKEDITOR.plugins.indentList={};CKEDITOR.plugins.indentList.firstItemInPath=function(a,b,c){var e=b.contains(f);c||(c=b.contains(a));return c&&e&&e.equals(c.getFirst(f))}}(),function(){function a(a,b,d,c){for(var e=CKEDITOR.plugins.list.listToArray(b.root,d),g=[],f=0;f<b.contents.length;f++){var h=b.contents[f];(h=h.getAscendant("li",!0))&&!h.getCustomData("list_item_processed")&&
(g.push(h),CKEDITOR.dom.element.setMarker(d,h,"list_item_processed",!0))}for(var h=b.root.getDocument(),k,l,f=0;f<g.length;f++){var m=g[f].getCustomData("listarray_index");k=e[m].parent;k.is(this.type)||(l=h.createElement(this.type),k.copyAttributes(l,{start:1,type:1}),l.removeStyle("list-style-type"),e[m].parent=l)}d=CKEDITOR.plugins.list.arrayToList(e,d,null,a.config.enterMode);for(var n,e=d.listNode.getChildCount(),f=0;f<e&&(n=d.listNode.getChild(f));f++)n.getName()==this.type&&c.push(n);d.listNode.replace(b.root);
a.fire("contentDomInvalidated")}function f(a,b,d){var c=b.contents,e=b.root.getDocument(),g=[];if(1==c.length&&c[0].equals(b.root)){var f=e.createElement("div");c[0].moveChildren&&c[0].moveChildren(f);c[0].append(f);c[0]=f}b=b.contents[0].getParent();for(f=0;f<c.length;f++)b=b.getCommonAncestor(c[f].getParent());a=a.config.useComputedState;for(var h,k,f=0;f<c.length;f++)for(var l=c[f],m;m=l.getParent();){if(m.equals(b)){g.push(l);!k&&l.getDirection()&&(k=1);l=l.getDirection(a);null!==h&&(h=h&&h!=
l?null:l);break}l=m}if(!(1>g.length)){c=g[g.length-1].getNext();f=e.createElement(this.type);for(d.push(f);g.length;)d=g.shift(),a=e.createElement("li"),l=d,l.is("pre")||r.test(l.getName())||"false"==l.getAttribute("contenteditable")?d.appendTo(a):(d.copyAttributes(a),h&&d.getDirection()&&(a.removeStyle("direction"),a.removeAttribute("dir")),d.moveChildren(a),d.remove()),a.appendTo(f);h&&k&&f.setAttribute("dir",h);c?f.insertBefore(c):f.appendTo(b)}}function e(a,b,d){function c(d){if(!(!(l=k[d?"getFirst":
"getLast"]())||l.is&&l.isBlockBoundary()||!(m=b.root[d?"getPrevious":"getNext"](CKEDITOR.dom.walker.invisible(!0)))||m.is&&m.isBlockBoundary({br:1})))a.document.createElement("br")[d?"insertBefore":"insertAfter"](l)}for(var e=CKEDITOR.plugins.list.listToArray(b.root,d),g=[],f=0;f<b.contents.length;f++){var h=b.contents[f];(h=h.getAscendant("li",!0))&&!h.getCustomData("list_item_processed")&&(g.push(h),CKEDITOR.dom.element.setMarker(d,h,"list_item_processed",!0))}h=null;for(f=0;f<g.length;f++)h=g[f].getCustomData("listarray_index"),
e[h].indent=-1;for(f=h+1;f<e.length;f++)if(e[f].indent>e[f-1].indent+1){g=e[f-1].indent+1-e[f].indent;for(h=e[f].indent;e[f]&&e[f].indent>=h;)e[f].indent+=g,f++;f--}var k=CKEDITOR.plugins.list.arrayToList(e,d,null,a.config.enterMode,b.root.getAttribute("dir")).listNode,l,m;c(!0);c();k.replace(b.root);a.fire("contentDomInvalidated")}function b(a,b){this.name=a;this.context=this.type=b;this.allowedContent=b+" li";this.requiredContent=b}function c(a,b,d,c){for(var e,g;e=a[c?"getLast":"getFirst"](p);)(g=
e.getDirection(1))!==b.getDirection(1)&&e.setAttribute("dir",g),e.remove(),d?e[c?"insertBefore":"insertAfter"](d):b.append(e,c),d=e}function k(a){function b(d){var e=a[d?"getPrevious":"getNext"](w);e&&e.type==CKEDITOR.NODE_ELEMENT&&e.is(a.getName())&&(c(a,e,null,!d),a.remove(),a=e)}b();b(1)}function l(a){return a.type==CKEDITOR.NODE_ELEMENT&&(a.getName()in CKEDITOR.dtd.$block||a.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[a.getName()]["#"]}function m(a,b,e){a.fire("saveSnapshot");e.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);
var g=e.extractContents();b.trim(!1,!0);var f=b.createBookmark(),h=new CKEDITOR.dom.elementPath(b.startContainer),l=h.block,h=h.lastElement.getAscendant("li",1)||l,m=new CKEDITOR.dom.elementPath(e.startContainer),n=m.contains(CKEDITOR.dtd.$listItem),m=m.contains(CKEDITOR.dtd.$list);l?(l=l.getBogus())&&l.remove():m&&(l=m.getPrevious(w))&&x(l)&&l.remove();(l=g.getLast())&&l.type==CKEDITOR.NODE_ELEMENT&&l.is("br")&&l.remove();(l=b.startContainer.getChild(b.startOffset))?g.insertBefore(l):b.startContainer.append(g);
n&&(g=d(n))&&(h.contains(n)?(c(g,n.getParent(),n),g.remove()):h.append(g));for(;e.checkStartOfBlock()&&e.checkEndOfBlock();){m=e.startPath();g=m.block;if(!g)break;g.is("li")&&(h=g.getParent(),g.equals(h.getLast(w))&&g.equals(h.getFirst(w))&&(g=h));e.moveToPosition(g,CKEDITOR.POSITION_BEFORE_START);g.remove()}e=e.clone();g=a.editable();e.setEndAt(g,CKEDITOR.POSITION_BEFORE_END);e=new CKEDITOR.dom.walker(e);e.evaluator=function(a){return w(a)&&!x(a)};(e=e.next())&&e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in
CKEDITOR.dtd.$list&&k(e);b.moveToBookmark(f);b.select();a.fire("saveSnapshot")}function d(a){return(a=a.getLast(w))&&a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in h?a:null}var h={ol:1,ul:1},g=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(),w=function(a){return!(g(a)||n(a))},x=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(a,b,d,c,e){if(!h[a.getName()])return[];c||(c=0);d||(d=[]);for(var g=0,f=a.getChildCount();g<f;g++){var k=a.getChild(g);k.type==CKEDITOR.NODE_ELEMENT&&
k.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(k,b,d,c+1);if("li"==k.$.nodeName.toLowerCase()){var l={parent:a,indent:c,element:k,contents:[]};e?l.grandparent=e:(l.grandparent=a.getParent(),l.grandparent&&"li"==l.grandparent.$.nodeName.toLowerCase()&&(l.grandparent=l.grandparent.getParent()));b&&CKEDITOR.dom.element.setMarker(b,k,"listarray_index",d.length);d.push(l);for(var m=0,n=k.getChildCount(),p;m<n;m++)p=k.getChild(m),p.type==CKEDITOR.NODE_ELEMENT&&h[p.getName()]?CKEDITOR.plugins.list.listToArray(p,
b,d,c+1,l.grandparent):l.contents.push(p)}}return d},arrayToList:function(a,b,d,c,e){d||(d=0);if(!a||a.length<d+1)return null;for(var g,f=a[d].parent.getDocument(),k=new CKEDITOR.dom.documentFragment(f),l=null,m=d,p=Math.max(a[d].indent,0),r=null,x,G,M=c==CKEDITOR.ENTER_P?"p":"div";;){var H=a[m];g=H.grandparent;x=H.element.getDirection(1);if(H.indent==p){l&&a[m].parent.getName()==l.getName()||(l=a[m].parent.clone(!1,1),e&&l.setAttribute("dir",e),k.append(l));r=l.append(H.element.clone(0,1));x!=l.getDirection(1)&&
r.setAttribute("dir",x);for(g=0;g<H.contents.length;g++)r.append(H.contents[g].clone(1,1));m++}else if(H.indent==Math.max(p,0)+1)H=a[m-1].element.getDirection(1),m=CKEDITOR.plugins.list.arrayToList(a,null,m,c,H!=x?x:null),!r.getChildCount()&&CKEDITOR.env.needsNbspFiller&&7>=f.$.documentMode&&r.append(f.createText(" ")),r.append(m.listNode),m=m.nextIndex;else if(-1==H.indent&&!d&&g){h[g.getName()]?(r=H.element.clone(!1,!0),x!=g.getDirection(1)&&r.setAttribute("dir",x)):r=new CKEDITOR.dom.documentFragment(f);
var l=g.getDirection(1)!=x,E=H.element,P=E.getAttribute("class"),L=E.getAttribute("style"),N=r.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(c!=CKEDITOR.ENTER_BR||l||L||P),O,X=H.contents.length,S;for(g=0;g<X;g++)if(O=H.contents[g],n(O)&&1<X)N?S=O.clone(1,1):r.append(O.clone(1,1));else if(O.type==CKEDITOR.NODE_ELEMENT&&O.isBlockBoundary()){l&&!O.getDirection()&&O.setAttribute("dir",x);G=O;var Y=E.getAttribute("style");Y&&G.setAttribute("style",Y.replace(/([^;])$/,"$1;")+(G.getAttribute("style")||""));P&&
O.addClass(P);G=null;S&&(r.append(S),S=null);r.append(O.clone(1,1))}else N?(G||(G=f.createElement(M),r.append(G),l&&G.setAttribute("dir",x)),L&&G.setAttribute("style",L),P&&G.setAttribute("class",P),S&&(G.append(S),S=null),G.append(O.clone(1,1))):r.append(O.clone(1,1));S&&((G||r).append(S),S=null);r.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&m!=a.length-1&&(CKEDITOR.env.needsBrFiller&&(x=r.getLast())&&x.type==CKEDITOR.NODE_ELEMENT&&x.is("br")&&x.remove(),(x=r.getLast(w))&&x.type==CKEDITOR.NODE_ELEMENT&&
x.is(CKEDITOR.dtd.$block)||r.append(f.createElement("br")));x=r.$.nodeName.toLowerCase();"div"!=x&&"p"!=x||r.appendBogus();k.append(r);l=null;m++}else return null;G=null;if(a.length<=m||Math.max(a[m].indent,0)<p)break}if(b)for(a=k.getFirst();a;){if(a.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(b,a),a.getName()in CKEDITOR.dtd.$listItem&&(d=a,f=e=c=void 0,c=d.getDirection()))){for(e=d.getParent();e&&!(f=e.getDirection());)e=e.getParent();c==f&&d.removeAttribute("dir")}a=a.getNextSourceNode()}return{listNode:k,
nextIndex:m}}};var r=/^h[1-6]$/,p=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);b.prototype={exec:function(b){function d(a){return h[a.root.getName()]&&!c(a.root,[CKEDITOR.NODE_COMMENT])}function c(a,b){return CKEDITOR.tools.array.filter(a.getChildren().toArray(),function(a){return-1===CKEDITOR.tools.array.indexOf(b,a.type)}).length}function g(a){var b=!0;if(0===a.getChildCount())return!1;a.forEach(function(a){if(a.type!==CKEDITOR.NODE_COMMENT)return b=!1},null,!0);return b}this.refresh(b,b.elementPath());
var l=b.config,m=b.getSelection(),n=m&&m.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF){var p=b.editable();if(p.getFirst(w)){var r=1==n.length&&n[0];(l=r&&r.getEnclosedNode())&&l.is&&this.type==l.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else l.enterMode==CKEDITOR.ENTER_BR?p.appendBogus():n[0].fixBlock(1,l.enterMode==CKEDITOR.ENTER_P?"p":"div"),m.selectRanges(n)}for(var l=m.createBookmarks(!0),p=[],C={},n=n.createIterator(),x=0;(r=n.getNextRange())&&++x;){var J=r.getBoundaryNodes(),K=J.startNode,
G=J.endNode;K.type==CKEDITOR.NODE_ELEMENT&&"td"==K.getName()&&r.setStartAt(J.startNode,CKEDITOR.POSITION_AFTER_START);G.type==CKEDITOR.NODE_ELEMENT&&"td"==G.getName()&&r.setEndAt(J.endNode,CKEDITOR.POSITION_BEFORE_END);r=r.createIterator();for(r.forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;J=r.getNextParagraph();)if(!J.getCustomData("list_block")&&!g(J)){CKEDITOR.dom.element.setMarker(C,J,"list_block",1);for(var M=b.elementPath(J),K=M.elements,G=0,M=M.blockLimit,H,E=K.length-1;0<=E&&(H=K[E]);E--)if(h[H.getName()]&&
M.contains(H)){M.removeCustomData("list_group_object_"+x);(K=H.getCustomData("list_group_object"))?K.contents.push(J):(K={root:H,contents:[J]},p.push(K),CKEDITOR.dom.element.setMarker(C,H,"list_group_object",K));G=1;break}G||(G=M,G.getCustomData("list_group_object_"+x)?G.getCustomData("list_group_object_"+x).contents.push(J):(K={root:G,contents:[J]},CKEDITOR.dom.element.setMarker(C,G,"list_group_object_"+x,K),p.push(K)))}}for(H=[];0<p.length;)K=p.shift(),this.state==CKEDITOR.TRISTATE_OFF?d(K)||(h[K.root.getName()]?
a.call(this,b,K,C,H):f.call(this,b,K,H)):this.state==CKEDITOR.TRISTATE_ON&&h[K.root.getName()]&&!d(K)&&e.call(this,b,K,C);for(E=0;E<H.length;E++)k(H[E]);CKEDITOR.dom.element.clearAllMarkers(C);m.selectBookmarks(l);b.focus()},refresh:function(a,b){var d=b.contains(h,1),c=b.blockLimit||b.root;d&&c.contains(d)?this.setState(d.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}};CKEDITOR.plugins.add("list",{requires:"indentlist",init:function(a){a.blockless||
(a.addCommand("numberedlist",new b("numberedlist","ol")),a.addCommand("bulletedlist",new b("bulletedlist","ul")),a.ui.addButton&&(a.ui.addButton("NumberedList",{isToggle:!0,label:a.lang.list.numberedlist,command:"numberedlist",directional:!0,toolbar:"list,10"}),a.ui.addButton("BulletedList",{isToggle:!0,label:a.lang.list.bulletedlist,command:"bulletedlist",directional:!0,toolbar:"list,20"})),a.on("key",function(b){var c=b.data.domEvent.getKey(),e;if("wysiwyg"==a.mode&&c in{8:1,46:1}){var g=a.getSelection().getRanges()[0],
f=g&&g.startPath();if(g&&g.collapsed){var k=8==c,n=a.editable(),p=new CKEDITOR.dom.walker(g.clone());p.evaluator=function(a){return w(a)&&!x(a)};p.guard=function(a,b){return!(b&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("table"))};c=g.clone();if(k){var r;(r=f.contains(h))&&g.checkBoundaryOfElement(r,CKEDITOR.START)&&(r=r.getParent())&&r.is("li")&&(r=d(r))?(e=r,r=r.getPrevious(w),c.moveToPosition(r&&x(r)?r:e,CKEDITOR.POSITION_BEFORE_START)):(p.range.setStartAt(n,CKEDITOR.POSITION_AFTER_START),p.range.setEnd(g.startContainer,
g.startOffset),(r=p.previous())&&r.type==CKEDITOR.NODE_ELEMENT&&(r.getName()in h||r.is("li"))&&(r.is("li")||(p.range.selectNodeContents(r),p.reset(),p.evaluator=l,r=p.previous()),e=r,c.moveToElementEditEnd(e),c.moveToPosition(c.endPath().block,CKEDITOR.POSITION_BEFORE_END)));if(e)m(a,c,g),b.cancel();else{var F=f.contains(h);F&&g.checkBoundaryOfElement(F,CKEDITOR.START)&&(e=F.getFirst(w),g.checkBoundaryOfElement(e,CKEDITOR.START)&&(r=F.getPrevious(w),d(e)?r&&(g.moveToElementEditEnd(r),g.select()):
a.execCommand("outdent"),b.cancel()))}}else if(e=f.contains("li")){if(p.range.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),k=(n=e.getLast(w))&&l(n)?n:e,f=0,(r=p.next())&&r.type==CKEDITOR.NODE_ELEMENT&&r.getName()in h&&r.equals(n)?(f=1,r=p.next()):g.checkBoundaryOfElement(k,CKEDITOR.END)&&(f=2),f&&r){g=g.clone();g.moveToElementEditStart(r);if(1==f&&(c.optimize(),!c.startContainer.equals(e))){for(e=c.startContainer;e.is(CKEDITOR.dtd.$inline);)F=e,e=e.getParent();F&&c.moveToPosition(F,CKEDITOR.POSITION_AFTER_END)}2==
f&&(c.moveToPosition(c.endPath().block,CKEDITOR.POSITION_BEFORE_END),g.endPath().block&&g.moveToPosition(g.endPath().block,CKEDITOR.POSITION_AFTER_START));m(a,c,g);b.cancel()}}else p.range.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),(r=p.next())&&r.type==CKEDITOR.NODE_ELEMENT&&r.is(h)&&(r=r.getFirst(w),f.block&&g.checkStartOfBlock()&&g.checkEndOfBlock()?(f.block.remove(),g.moveToElementEditStart(r),g.select()):d(r)?(g.moveToElementEditStart(r),g.select()):(g=g.clone(),g.moveToElementEditStart(r),m(a,
c,g)),b.cancel());setTimeout(function(){a.selectionChange(1)})}}}))}})}(),function(){function a(a,b,d){d=a.config.forceEnterMode||d;if("wysiwyg"==a.mode){b||(b=a.activeEnterMode);var c=a.elementPath();c&&!c.isContextFor("p")&&(b=CKEDITOR.ENTER_BR,d=1);a.fire("saveSnapshot");b==CKEDITOR.ENTER_BR?l(a,b,null,d):m(a,b,null,d);a.fire("saveSnapshot")}}function f(a){a=a.getSelection().getRanges(!0);for(var b=a.length-1;0<b;b--)a[b].deleteContents();return a[0]}function e(a){var b=a.startContainer.getAscendant(function(a){return a.type==
CKEDITOR.NODE_ELEMENT&&"true"==a.getAttribute("contenteditable")},!0);if(a.root.equals(b))return a;b=new CKEDITOR.dom.range(b);b.moveToRange(a);return b}CKEDITOR.plugins.add("enterkey",{init:function(b){b.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(b){a(b)}});b.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(b){a(b,b.activeShiftEnterMode,1)}});b.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var b=CKEDITOR.dom.walker.whitespaces(),c=
CKEDITOR.dom.walker.bookmark(),k,l,m,d;CKEDITOR.plugins.enterkey={enterBlock:function(a,g,k,m){function x(a){var b;if(a===CKEDITOR.ENTER_BR||-1===CKEDITOR.tools.indexOf(["td","th"],z.lastElement.getName())||1!==z.lastElement.getChildCount())return!1;a=z.lastElement.getChild(0).clone(!0);(b=a.getBogus())&&b.remove();return a.getText().length?!1:!0}if(k=k||f(a)){k=e(k);var r=k.document,p=k.checkStartOfBlock(),u=k.checkEndOfBlock(),z=a.elementPath(k.startContainer),q=z.block,A=g==CKEDITOR.ENTER_DIV?
"div":"p",y;if(q&&p&&u){p=q.getParent();if(p.is("li")&&1<p.getChildCount()){r=new CKEDITOR.dom.element("li");y=a.createRange();r.insertAfter(p);q.remove();y.setStart(r,0);a.getSelection().selectRanges([y]);return}if(q.is("li")||q.getParent().is("li")){q.is("li")||(q=q.getParent(),p=q.getParent());y=p.getParent();k=!q.hasPrevious();var t=!q.hasNext();m=a.getSelection();var A=m.createBookmarks(),v=q.getDirection(1),u=q.getAttribute("class"),B=q.getAttribute("style"),D=y.getDirection(1)!=v;a=a.enterMode!=
CKEDITOR.ENTER_BR||D||B||u;if(y.is("li"))k||t?(k&&t&&p.remove(),q[t?"insertAfter":"insertBefore"](y)):q.breakParent(y);else{if(a)if(z.block.is("li")?(y=r.createElement(g==CKEDITOR.ENTER_P?"p":"div"),D&&y.setAttribute("dir",v),B&&y.setAttribute("style",B),u&&y.setAttribute("class",u),q.moveChildren(y)):y=z.block,k||t)y[k?"insertBefore":"insertAfter"](p);else q.breakParent(p),y.insertAfter(p);else if(q.appendBogus(!0),k||t)for(;r=q[k?"getFirst":"getLast"]();)r[k?"insertBefore":"insertAfter"](p);else for(q.breakParent(p);r=
q.getLast();)r.insertAfter(p);q.remove()}m.selectBookmarks(A);return}if(q&&q.getParent().is("blockquote")){q.breakParent(q.getParent());q.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||q.getPrevious().remove();q.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||q.getNext().remove();k.moveToElementEditStart(q);k.select();return}}else if(q&&q.is("pre")&&!u){l(a,g,k,m);return}if(B=k.splitBlock(A)){a=B.previousBlock;q=B.nextBlock;p=B.wasStartOfBlock;u=B.wasEndOfBlock;q?(t=q.getParent(),
t.is("li")&&(q.breakParent(t),q.move(q.getNext(),1))):a&&(t=a.getParent())&&t.is("li")&&(a.breakParent(t),t=a.getNext(),k.moveToElementEditStart(t),a.move(a.getPrevious()));if(p||u)if(x(g))k.moveToElementEditStart(k.getTouchedStartNode());else{if(a){if(a.is("li")||!d.test(a.getName())&&!a.is("pre"))y=a.clone()}else q&&(y=q.clone());y?m&&!y.is("li")&&y.renameNode(A):t&&t.is("li")?y=t:(y=r.createElement(A),a&&(v=a.getDirection())&&y.setAttribute("dir",v));if(r=B.elementPath)for(g=0,m=r.elements.length;g<
m;g++){A=r.elements[g];if(A.equals(r.block)||A.equals(r.blockLimit))break;CKEDITOR.dtd.$removeEmpty[A.getName()]&&(A=A.clone(),y.moveChildren(A),y.append(A))}y.appendBogus();y.getParent()||k.insertNode(y);y.is("li")&&y.removeAttribute("value");!CKEDITOR.env.ie||!p||u&&a.getChildCount()||(k.moveToElementEditStart(u?a:y),k.select());k.moveToElementEditStart(p&&!u?q:y)}else q.is("li")&&(y=k.clone(),y.selectNodeContents(q),y=new CKEDITOR.dom.walker(y),y.evaluator=function(a){return!(c(a)||b(a)||a.type==
CKEDITOR.NODE_ELEMENT&&a.getName()in CKEDITOR.dtd.$inline&&!(a.getName()in CKEDITOR.dtd.$empty))},(t=y.next())&&t.type==CKEDITOR.NODE_ELEMENT&&t.is("ul","ol")&&(CKEDITOR.env.needsBrFiller?r.createElement("br"):r.createText(" ")).insertBefore(t)),q&&k.moveToElementEditStart(q);k.select();k.scrollIntoView()}}},enterBr:function(a,b,c,e){if(c=c||f(a)){var k=c.document,l=c.checkEndOfBlock(),p=new CKEDITOR.dom.elementPath(a.getSelection().getStartElement()),u=p.block,z=u&&p.block.getName();e||"li"!=z?(!e&&
l&&d.test(z)?(l=u.getDirection())?(k=k.createElement("div"),k.setAttribute("dir",l),k.insertAfter(u),c.setStart(k,0)):(k.createElement("br").insertAfter(u),CKEDITOR.env.gecko&&k.createText("").insertAfter(u),c.setStartAt(u.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(a="pre"==z&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?k.createText("\r"):k.createElement("br"),c.deleteContents(),c.insertNode(a),CKEDITOR.env.needsBrFiller?(k.createText("﻿").insertAfter(a),
l&&(u||p.blockLimit).appendBogus(),a.getNext().$.nodeValue="",c.setStartAt(a.getNext(),CKEDITOR.POSITION_AFTER_START)):c.setStartAt(a,CKEDITOR.POSITION_AFTER_END)),c.collapse(!0),c.select(),c.scrollIntoView()):m(a,b,c,e)}}};k=CKEDITOR.plugins.enterkey;l=k.enterBr;m=k.enterBlock;d=/^h[1-6]$/}(),function(){function a(a,e){var b={},c=[],k={nbsp:" ",shy:"­",gt:"\x3e",lt:"\x3c",amp:"\x26",apos:"'",quot:'"'};a=a.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(a,d){var f=e?"\x26"+d+";":k[d];
b[f]=e?k[d]:"\x26"+d+";";c.push(f);return""});a=a.replace(/,$/,"");if(!e&&a){a=a.split(",");var l=document.createElement("div"),m;l.innerHTML="\x26"+a.join(";\x26")+";";m=l.innerHTML;l=null;for(l=0;l<m.length;l++){var d=m.charAt(l);b[d]="\x26"+a[l]+";";c.push(d)}}b.regex=c.join(e?"|":"");return b}CKEDITOR.plugins.add("entities",{afterInit:function(f){function e(a){return d[a]}function b(a){return"force"!=c.entities_processNumerical&&l[a]?l[a]:"\x26#"+(CKEDITOR.env.ie?a.charCodeAt(0):a.codePointAt(0))+
";"}var c=f.config;if(f=(f=f.dataProcessor)&&f.htmlFilter){var k=[];!1!==c.basicEntities&&k.push("nbsp,gt,lt,amp");c.entities&&(k.length&&k.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"),
c.entities_latin&&k.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"),c.entities_greek&&k.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"),
c.entities_additional&&k.push(c.entities_additional));var l=a(k.join(",")),m=l.regex?"["+l.regex+"]":"a^";delete l.regex;c.entities&&c.entities_processNumerical&&(m="[^ -~]|"+m);var m=new RegExp(m,CKEDITOR.env.ie?"g":"gu"),d=a("nbsp,gt,lt,amp,shy",!0),h=new RegExp(d.regex,"g");f.addRules({text:function(a){return a.replace(h,e).replace(m,b)}},{applyToAll:!0,excludeNestedEditable:!0})}}})}(),CKEDITOR.config.basicEntities=!0,CKEDITOR.config.entities=!0,CKEDITOR.config.entities_latin=!0,CKEDITOR.config.entities_greek=
!0,CKEDITOR.config.entities_additional="#39",CKEDITOR.plugins.add("popup"),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(a,f,e,b){f=f||"80%";e=e||"70%";"string"==typeof f&&1<f.length&&"%"==f.substr(f.length-1,1)&&(f=parseInt(window.screen.width*parseInt(f,10)/100,10));"string"==typeof e&&1<e.length&&"%"==e.substr(e.length-1,1)&&(e=parseInt(window.screen.height*parseInt(e,10)/100,10));640>f&&(f=640);420>e&&(e=420);var c=parseInt((window.screen.height-e)/2,10),k=parseInt((window.screen.width-
f)/2,10);b=(b||"location\x3dno,menubar\x3dno,toolbar\x3dno,dependent\x3dyes,minimizable\x3dno,modal\x3dyes,alwaysRaised\x3dyes,resizable\x3dyes,scrollbars\x3dyes")+",width\x3d"+f+",height\x3d"+e+",top\x3d"+c+",left\x3d"+k;var l=window.open("",null,b,!0);if(!l)return!1;try{-1==navigator.userAgent.toLowerCase().indexOf(" chrome/")&&(l.moveTo(k,c),l.resizeTo(f,e)),l.focus(),l.location.href=a}catch(m){window.open(a,null,b,!0)}return!0}}),"use strict",function(){function a(a){this.editor=a;this.loaders=
[]}function f(a,b,f){var m=a.config.fileTools_defaultFileName;this.editor=a;this.lang=a.lang;"string"===typeof b?(this.data=b,this.file=e(this.data),this.loaded=this.total=this.file.size):(this.data=null,this.file=b,this.total=this.file.size,this.loaded=0);f?this.fileName=f:this.file.name?this.fileName=this.file.name:(a=this.file.type.split("/"),m&&(a[0]=m),this.fileName=a.join("."));this.uploaded=0;this.responseData=this.uploadTotal=null;this.status="created";this.abort=function(){this.changeStatus("abort")}}
function e(a){var e=a.match(b)[1];a=a.replace(b,"");a=atob(a);var f=[],m,d,h,g;for(m=0;m<a.length;m+=512){d=a.slice(m,m+512);h=Array(d.length);for(g=0;g<d.length;g++)h[g]=d.charCodeAt(g);d=new Uint8Array(h);f.push(d)}return new Blob(f,{type:e})}CKEDITOR.plugins.add("filetools",{beforeInit:function(b){b.uploadRepository=new a(b);b.on("fileUploadRequest",function(a){var b=a.data.fileLoader;b.xhr.open("POST",b.uploadUrl,!0);a.data.requestData.upload={file:b.file,name:b.fileName}},null,null,5);b.on("fileUploadRequest",
function(a){var e=a.data.fileLoader,f=new FormData;a=a.data.requestData;var d=b.config.fileTools_requestHeaders,h,g;for(g in a){var n=a[g];"object"===typeof n&&n.file?f.append(g,n.file,n.name):f.append(g,n)}f.append("ckCsrfToken",CKEDITOR.tools.getCsrfToken());if(d)for(h in d)e.xhr.setRequestHeader(h,d[h]);e.xhr.send(f)},null,null,999);b.on("fileUploadResponse",function(a){var b=a.data.fileLoader,c=b.xhr,d=a.data;try{var e=JSON.parse(c.responseText);e.error&&e.error.message&&(d.message=e.error.message);
if(e.uploaded)for(var g in e)d[g]=e[g];else a.cancel()}catch(f){d.message=b.lang.filetools.responseError,CKEDITOR.warn("filetools-response-error",{responseText:c.responseText}),a.cancel()}},null,null,999)}});a.prototype={create:function(a,b,e){e=e||f;var m=this.loaders.length;a=new e(this.editor,a,b);a.id=m;this.loaders[m]=a;this.fire("instanceCreated",a);return a},isFinished:function(){for(var a=0;a<this.loaders.length;++a)if(!this.loaders[a].isFinished())return!1;return!0}};f.prototype={loadAndUpload:function(a,
b){var e=this;this.once("loaded",function(f){f.cancel();e.once("update",function(a){a.cancel()},null,null,0);e.upload(a,b)},null,null,0);this.load()},load:function(){var a=this,b=this.reader=new FileReader;a.changeStatus("loading");this.abort=function(){a.reader.abort()};b.onabort=function(){a.changeStatus("abort")};b.onerror=function(){a.message=a.lang.filetools.loadError;a.changeStatus("error")};b.onprogress=function(b){a.loaded=b.loaded;a.update()};b.onload=function(){a.loaded=a.total;a.data=b.result;
a.changeStatus("loaded")};b.readAsDataURL(this.file)},upload:function(a,b){var e=b||{};a?(this.uploadUrl=a,this.xhr=new XMLHttpRequest,this.attachRequestListeners(),this.editor.fire("fileUploadRequest",{fileLoader:this,requestData:e})&&this.changeStatus("uploading")):(this.message=this.lang.filetools.noUrlError,this.changeStatus("error"))},attachRequestListeners:function(){function a(){"error"!=e.status&&(e.message=e.lang.filetools.networkError,e.changeStatus("error"))}function b(){"abort"!=e.status&&
e.changeStatus("abort")}var e=this,f=this.xhr;e.abort=function(){f.abort();b()};f.onerror=a;f.onabort=b;f.upload?(f.upload.onprogress=function(a){a.lengthComputable&&(e.uploadTotal||(e.uploadTotal=a.total),e.uploaded=a.loaded,e.update())},f.upload.onerror=a,f.upload.onabort=b):(e.uploadTotal=e.total,e.update());f.onload=function(){e.update();if("abort"!=e.status)if(e.uploaded=e.uploadTotal,200>f.status||299<f.status)e.message=e.lang.filetools["httpError"+f.status],e.message||(e.message=e.lang.filetools.httpError.replace("%1",
f.status)),e.changeStatus("error");else{for(var a={fileLoader:e},b=["message","fileName","url"],c=e.editor.fire("fileUploadResponse",a),k=0;k<b.length;k++){var w=b[k];"string"===typeof a[w]&&(e[w]=a[w])}e.responseData=a;delete e.responseData.fileLoader;!1===c?e.changeStatus("error"):e.changeStatus("uploaded")}}},changeStatus:function(a){this.status=a;if("error"==a||"abort"==a||"loaded"==a||"uploaded"==a)this.abort=function(){};this.fire(a);this.update()},update:function(){this.fire("update")},isFinished:function(){return!!this.status.match(/^(?:loaded|uploaded|error|abort)$/)}};
CKEDITOR.event.implementOn(a.prototype);CKEDITOR.event.implementOn(f.prototype);var b=/^data:(\S*?);base64,/;CKEDITOR.fileTools||(CKEDITOR.fileTools={});CKEDITOR.tools.extend(CKEDITOR.fileTools,{uploadRepository:a,fileLoader:f,getUploadUrl:function(a,b){var e=CKEDITOR.tools.capitalize;return b&&a[b+"UploadUrl"]?a[b+"UploadUrl"]:a.uploadUrl?a.uploadUrl:b&&a["filebrowser"+e(b,1)+"UploadUrl"]?a["filebrowser"+e(b,1)+"UploadUrl"]+"\x26responseType\x3djson":a.filebrowserUploadUrl?a.filebrowserUploadUrl+
"\x26responseType\x3djson":null},isTypeSupported:function(a,b){return!!a.type.match(b)},isFileUploadSupported:"function"===typeof FileReader&&"function"===typeof(new FileReader).readAsDataURL&&"function"===typeof FormData&&"function"===typeof(new FormData).append&&"function"===typeof XMLHttpRequest&&"function"===typeof Blob})}(),function(){function a(a,b){var d=[];if(b)for(var c in b)d.push(c+"\x3d"+encodeURIComponent(b[c]));else return a;return a+(-1!=a.indexOf("?")?"\x26":"?")+d.join("\x26")}function f(b){return!b.match(/command=QuickUpload/)||
b.match(/(\?|&)responseType=json/)?b:a(b,{responseType:"json"})}function e(a){a+="";return a.charAt(0).toUpperCase()+a.substr(1)}function b(){var b=this.getDialog(),d=b.getParentEditor();d._.filebrowserSe=this;var c=d.config["filebrowser"+e(b.getName())+"WindowWidth"]||d.config.filebrowserWindowWidth||"80%",b=d.config["filebrowser"+e(b.getName())+"WindowHeight"]||d.config.filebrowserWindowHeight||"70%",g=this.filebrowser.params||{};g.CKEditor=d.name;g.CKEditorFuncNum=d._.filebrowserFn;g.langCode||
(g.langCode=d.langCode);g=a(this.filebrowser.url,g);d.popup(g,c,b,d.config.filebrowserWindowFeatures||d.config.fileBrowserWindowFeatures)}function c(a){var b=new CKEDITOR.dom.element(a.$.form);b&&((a=b.$.elements.ckCsrfToken)?a=new CKEDITOR.dom.element(a):(a=new CKEDITOR.dom.element("input"),a.setAttributes({name:"ckCsrfToken",type:"hidden"}),b.append(a)),a.setAttribute("value",CKEDITOR.tools.getCsrfToken()))}function k(){var a=this.getDialog();a.getParentEditor()._.filebrowserSe=this;return a.getContentElement(this["for"][0],
this["for"][1]).getInputElement().$.value&&a.getContentElement(this["for"][0],this["for"][1]).getAction()?!0:!1}function l(b,d,c){var e=c.params||{};e.CKEditor=b.name;e.CKEditorFuncNum=b._.filebrowserFn;e.langCode||(e.langCode=b.langCode);d.action=a(c.url,e);d.filebrowser=c}function m(a,h,x,r){if(r&&r.length)for(var p,u=r.length;u--;)if(p=r[u],"hbox"!=p.type&&"vbox"!=p.type&&"fieldset"!=p.type||m(a,h,x,p.children),p.filebrowser)if("string"==typeof p.filebrowser&&(p.filebrowser={action:"fileButton"==
p.type?"QuickUpload":"Browse",target:p.filebrowser}),"Browse"==p.filebrowser.action){var z=p.filebrowser.url;void 0===z&&(z=a.config["filebrowser"+e(h)+"BrowseUrl"],void 0===z&&(z=a.config.filebrowserBrowseUrl));z&&(p.onClick=b,p.filebrowser.url=z,p.hidden=!1)}else if("QuickUpload"==p.filebrowser.action&&p["for"]&&(z=p.filebrowser.url,void 0===z&&(z=a.config["filebrowser"+e(h)+"UploadUrl"],void 0===z&&(z=a.config.filebrowserUploadUrl)),z)){var q=p.onClick;p.onClick=function(b){var e=b.sender,h=e.getDialog().getContentElement(this["for"][0],
this["for"][1]).getInputElement(),l=CKEDITOR.fileTools&&CKEDITOR.fileTools.isFileUploadSupported;if(q&&!1===q.call(e,b))return!1;if(k.call(e,b)){if("form"!==a.config.filebrowserUploadMethod&&l)return b=a.uploadRepository.create(h.$.files[0]),b.on("uploaded",function(a){var b=a.sender.responseData;g.call(a.sender.editor,b.url,b.message)}),b.on("error",d.bind(this)),b.on("abort",d.bind(this)),b.loadAndUpload(f(z)),"xhr";c(h);return!0}return!1};p.filebrowser.url=z;p.hidden=!1;l(a,x.getContents(p["for"][0]).get(p["for"][1]),
p.filebrowser)}}function d(a){var b={};try{b=JSON.parse(a.sender.xhr.response)||{}}catch(d){}this.enable();alert(b.error?b.error.message:a.sender.message)}function h(a,b,d){if(-1!==d.indexOf(";")){d=d.split(";");for(var c=0;c<d.length;c++)if(h(a,b,d[c]))return!0;return!1}return(a=a.getContents(b).get(d).filebrowser)&&a.url}function g(a,b){var d=this._.filebrowserSe.getDialog(),c=this._.filebrowserSe["for"],e=this._.filebrowserSe.filebrowser.onSelect;c&&d.getContentElement(c[0],c[1]).reset();if("function"!=
typeof b||!1!==b.call(this._.filebrowserSe))if(!e||!1!==e.call(this._.filebrowserSe,a,b))if("string"==typeof b&&b&&alert(b),a&&(c=this._.filebrowserSe,d=c.getDialog(),c=c.filebrowser.target||null))if(c=c.split(":"),e=d.getContentElement(c[0],c[1]))e.setValue(a),d.selectPage(c[0])}CKEDITOR.plugins.add("filebrowser",{requires:"popup,filetools",init:function(a){a._.filebrowserFn=CKEDITOR.tools.addFunction(g,a);a.on("destroy",function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)})}});CKEDITOR.on("dialogDefinition",
function(a){if(a.editor.plugins.filebrowser)for(var b=a.data.definition,d,c=0;c<b.contents.length;++c)if(d=b.contents[c])m(a.editor,a.data.name,b,d.elements),d.hidden&&d.filebrowser&&(d.hidden=!h(b,d.id,d.filebrowser))})}(),function(){function a(a){var c=a.config,k=a.fire("uiSpace",{space:"top",html:""}).html,l=function(){function g(a,b,c){d.setStyle(b,e(c));d.setStyle("position",a)}function h(a){var b=m.getDocumentPosition();switch(a){case "top":g("absolute","top",b.y-q-t);break;case "pin":g("fixed",
"top",B);break;case "bottom":g("absolute","top",b.y+(u.height||u.bottom-u.top)+t)}k=a}var k,m,p,u,z,q,A,y=c.floatSpaceDockedOffsetX||0,t=c.floatSpaceDockedOffsetY||0,v=c.floatSpacePinnedOffsetX||0,B=c.floatSpacePinnedOffsetY||0;return function(g){if(m=a.editable()){var n=g&&"focus"==g.name;n&&d.show();a.fire("floatingSpaceLayout",{show:n});d.removeStyle("left");d.removeStyle("right");p=d.getClientRect();u=m.getClientRect();z=f.getViewPaneSize();q=p.height;A="pageXOffset"in f.$?f.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft;
k?(q+t<=u.top?h("top"):q+t>z.height-u.bottom?h("pin"):h("bottom"),g=z.width/2,g=c.floatSpacePreferRight?"right":0<u.left&&u.right<z.width&&u.width>p.width?"rtl"==c.contentsLangDirection?"right":"left":g-u.left>u.right-g?"left":"right",p.width>z.width?(g="left",n=0):(n="left"==g?0<u.left?u.left:0:u.right<z.width?z.width-u.right:0,n+p.width>z.width&&(g="left"==g?"right":"left",n=0)),d.setStyle(g,e(("pin"==k?v:y)+n+("pin"==k?0:"left"==g?A:-A)))):(k="pin",h("pin"),l(g))}}}();if(k){var m=new CKEDITOR.template('\x3cdiv id\x3d"cke_{name}" class\x3d"cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+
CKEDITOR.env.cssClass+'" dir\x3d"{langDir}" title\x3d"'+(CKEDITOR.env.gecko?" ":"")+'" lang\x3d"{langCode}" role\x3d"application" style\x3d"{style}"'+(a.applicationTitle?' aria-labelledby\x3d"cke_{name}_arialbl"':" ")+"\x3e"+(a.applicationTitle?'\x3cspan id\x3d"cke_{name}_arialbl" class\x3d"cke_voice_label"\x3e{voiceLabel}\x3c/span\x3e':" ")+'\x3cdiv class\x3d"cke_inner"\x3e\x3cdiv id\x3d"{topId}" class\x3d"cke_top" role\x3d"presentation"\x3e{content}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),d=CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(m.output({content:k,
id:a.id,langDir:a.lang.dir,langCode:a.langCode,name:a.name,style:"display:none;z-index:"+(c.baseFloatZIndex-1),topId:a.ui.spaceId("top"),voiceLabel:a.applicationTitle}))),h=CKEDITOR.tools.eventsBuffer(500,l),g=CKEDITOR.tools.eventsBuffer(100,l);d.unselectable();d.on("mousedown",function(a){a=a.data;a.getTarget().hasAscendant("a",1)||a.preventDefault()});a.on("focus",function(d){l(d);a.on("change",h.input);f.on("scroll",g.input);f.on("resize",g.input)});a.on("blur",function(){d.hide();a.removeListener("change",
h.input);f.removeListener("scroll",g.input);f.removeListener("resize",g.input)});a.on("destroy",function(){f.removeListener("scroll",g.input);f.removeListener("resize",g.input);d.clearCustomData();d.remove()});a.focusManager.hasFocus&&d.show();a.focusManager.add(d,1)}}var f=CKEDITOR.document.getWindow(),e=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add("floatingspace",{init:function(b){b.on("loaded",function(){a(this)},null,null,20)}})}(),CKEDITOR.plugins.add("listblock",{requires:"panel",onLoad:function(){var a=
CKEDITOR.addTemplate("panel-list",'\x3cul role\x3d"presentation" class\x3d"cke_panel_list"\x3e{items}\x3c/ul\x3e'),f=CKEDITOR.addTemplate("panel-list-item",'\x3cli id\x3d"{id}" class\x3d"cke_panel_listItem" role\x3dpresentation\x3e\x3ca id\x3d"{id}_option" _cke_focus\x3d1 hidefocus\x3dtrue title\x3d"{title}" draggable\x3d"false" ondragstart\x3d"return false;" href\x3d"javascript:void(\'{val}\')"  onclick\x3d"{onclick}CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role\x3d"option"\x3e{text}\x3c/a\x3e\x3c/li\x3e'),
e=CKEDITOR.addTemplate("panel-list-group",'\x3ch1 id\x3d"{id}" draggable\x3d"false" ondragstart\x3d"return false;" class\x3d"cke_panel_grouptitle" role\x3d"presentation" \x3e{label}\x3c/h1\x3e'),b=/\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(a,b){return this.addBlock(a,new CKEDITOR.ui.listBlock(this.getHolderElement(),b))};CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(a,b){b=b||{};var e=b.attributes||(b.attributes={});(this.multiSelect=!!b.multiSelect)&&
(e["aria-multiselectable"]=!0);!e.role&&(e.role="listbox");this.base.apply(this,arguments);this.element.setAttribute("role",e.role);e=this.keys;e[40]="next";e[9]="next";e[38]="prev";e[CKEDITOR.SHIFT+9]="prev";e[32]=CKEDITOR.env.ie?"mouseup":"click";CKEDITOR.env.ie&&(e[13]="mouseup");this._.pendingHtml=[];this._.pendingList=[];this._.items={};this._.groups={}},_:{close:function(){if(this._.started){var b=a.output({items:this._.pendingList.join("")});this._.pendingList=[];this._.pendingHtml.push(b);
delete this._.started}},getClick:function(){this._.click||(this._.click=CKEDITOR.tools.addFunction(function(a){var b=this.toggle(a);if(this.onClick)this.onClick(a,b)},this));return this._.click}},proto:{add:function(a,e,l){var m=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0);this._.items[a]=m;var d;d=CKEDITOR.tools.htmlEncodeAttr(a).replace(b,"\\'");a={id:m,val:d,onclick:CKEDITOR.env.ie?'return false;" onmouseup\x3d"CKEDITOR.tools.getMouseButton(event)\x3d\x3d\x3dCKEDITOR.MOUSE_BUTTON_LEFT\x26\x26':
"",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(l||a),text:e||a};this._.pendingList.push(f.output(a))},startGroup:function(a){this._.close();var b=CKEDITOR.tools.getNextId();this._.groups[a]=b;this._.pendingHtml.push(e.output({id:b,label:a}))},commit:function(){this._.close();this.element.appendHtml(this._.pendingHtml.join(""));delete this._.size;this._.pendingHtml=[]},toggle:function(a){var b=this.isMarked(a);b?this.unmark(a):this.mark(a);return!b},hideGroup:function(a){var b=(a=
this.element.getDocument().getById(this._.groups[a]))&&a.getNext();a&&(a.setStyle("display","none"),b&&"ul"==b.getName()&&b.setStyle("display","none"))},hideItem:function(a){this.element.getDocument().getById(this._.items[a]).setStyle("display","none")},showAll:function(){var a=this._.items,b=this._.groups,e=this.element.getDocument(),f;for(f in a)e.getById(a[f]).setStyle("display","");for(var d in b)a=e.getById(b[d]),f=a.getNext(),a.setStyle("display",""),f&&"ul"==f.getName()&&f.setStyle("display",
"")},mark:function(a){this.multiSelect||this.unmarkAll();a=this._.items[a];var b=this.element.getDocument().getById(a);b.addClass("cke_selected");this.element.getDocument().getById(a+"_option").setAttribute("aria-selected",!0);this.onMark&&this.onMark(b)},markFirstDisplayed:function(){var a=this;this._.markFirstDisplayed(function(){a.multiSelect||a.unmarkAll()})},unmark:function(a){var b=this.element.getDocument();a=this._.items[a];var e=b.getById(a);e.removeClass("cke_selected");b.getById(a+"_option").removeAttribute("aria-selected");
this.onUnmark&&this.onUnmark(e)},unmarkAll:function(){var a=this._.items,b=this.element.getDocument(),e;for(e in a){var f=a[e];b.getById(f).removeClass("cke_selected");b.getById(f+"_option").removeAttribute("aria-selected")}this.onUnmark&&this.onUnmark()},isMarked:function(a){return this.element.getDocument().getById(this._.items[a]).hasClass("cke_selected")},focus:function(a){this._.focusIndex=-1;var b=this.element.getElementsByTag("a"),e,f=-1;if(a)for(e=this.element.getDocument().getById(this._.items[a]).getFirst();a=
b.getItem(++f);){if(a.equals(e)){this._.focusIndex=f;break}}else this.element.focus();e&&setTimeout(function(){e.focus()},0)}}})}}),CKEDITOR.plugins.add("richcombo",{requires:"floatpanel,listblock,button",beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}}),function(){var a='\x3cspan id\x3d"{id}" class\x3d"cke_combo cke_combo__{name} {cls}" role\x3d"presentation"\x3e\x3cspan id\x3d"{id}_label" class\x3d"cke_combo_label"\x3e{label}\x3c/span\x3e\x3ca class\x3d"cke_combo_button" title\x3d"{title}" tabindex\x3d"-1"'+
(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href\x3d\"javascript:void('{titleJs}')\"")+' hidefocus\x3d"true" role\x3d"button" aria-labelledby\x3d"{id}_label" aria-haspopup\x3d"listbox"',f="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(a+=' onkeypress\x3d"return false;"');CKEDITOR.env.gecko&&(a+=' onblur\x3d"this.style.cssText \x3d this.style.cssText;"');CKEDITOR.env.ie&&(f='return false;" onmouseup\x3d"CKEDITOR.tools.getMouseButton(event)\x3d\x3dCKEDITOR.MOUSE_BUTTON_LEFT\x26\x26');var a=a+(' onkeydown\x3d"return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus\x3d"return CKEDITOR.tools.callFunction({focusFn},event);" onclick\x3d"'+
f+'CKEDITOR.tools.callFunction({clickFn},this);return false;"\x3e\x3cspan id\x3d"{id}_text" class\x3d"cke_combo_text cke_combo_inlinelabel"\x3e{label}\x3c/span\x3e\x3cspan class\x3d"cke_combo_open"\x3e\x3cspan class\x3d"cke_combo_arrow"\x3e'+(CKEDITOR.env.hc?"\x26#9660;":CKEDITOR.env.air?"\x26nbsp;":"")+"\x3c/span\x3e\x3c/span\x3e\x3c/a\x3e\x3c/span\x3e"),e=CKEDITOR.addTemplate("combo",a);CKEDITOR.UI_RICHCOMBO="richcombo";CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(a){CKEDITOR.tools.extend(this,
a,{canGroup:!1,title:a.label,modes:{wysiwyg:1},editorFocus:1});a=this.panel||{};delete this.panel;this.id=CKEDITOR.tools.getNextNumber();this.document=a.parent&&a.parent.getDocument()||CKEDITOR.document;a.className="cke_combopanel";a.block={multiSelect:a.multiSelect,attributes:a.attributes};a.toolbarRelated=!0;this._={panelDefinition:a,items:{},listeners:[]}},proto:{renderHtml:function(a){var c=[];this.render(a,c);return c.join("")},render:function(a,c){function f(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var d=
this.modes[a.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;a.readOnly&&!this.readOnly&&(d=CKEDITOR.TRISTATE_DISABLED);this.setState(d);this.setValue("");d!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var l=CKEDITOR.env,m,d,h="cke_"+this.id,g=CKEDITOR.tools.addFunction(function(c){d&&(a.unlockSelection(1),d=0);m.execute(c)},this),n=this;m={id:h,combo:this,focus:function(){CKEDITOR.document.getById(h).getChild(1).focus()},execute:function(d){var c=n._;if(c.state!=CKEDITOR.TRISTATE_DISABLED)if(n.createPanel(a),
c.on)c.panel.hide();else{n.commit();var e=n.getValue();e?c.list.mark(e):c.list.unmarkAll();c.panel.showBlock(n.id,new CKEDITOR.dom.element(d),4)}},clickFn:g};this._.listeners.push(a.on("activeFilterChange",f,this));this._.listeners.push(a.on("mode",f,this));this._.listeners.push(a.on("selectionChange",f,this));!this.readOnly&&this._.listeners.push(a.on("readOnly",f,this));var w=CKEDITOR.tools.addFunction(function(a,b){a=new CKEDITOR.dom.event(a);var d=a.getKeystroke();switch(d){case 13:case 32:case 40:CKEDITOR.tools.callFunction(g,
b);break;default:m.onkey(m,d)}a.preventDefault()}),x=CKEDITOR.tools.addFunction(function(){m.onfocus&&m.onfocus()});d=0;m.keyDownFn=w;l={id:h,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||"",titleJs:l.gecko&&!l.hc?"":(this.title||"").replace("'",""),keydownFn:w,focusFn:x,clickFn:g};e.output(l,c);if(this.onRender)this.onRender();return m},createPanel:function(a){if(!this._.panel){var c=this._.panelDefinition,e=this._.panelDefinition.block,f=c.parent||CKEDITOR.document.getBody(),
m="cke_combopanel__"+this.name,d=new CKEDITOR.ui.floatPanel(a,f,c),c=d.addListBlock(this.id,e),h=this;d.onShow=function(){this.element.addClass(m);h.setState(CKEDITOR.TRISTATE_ON);h._.on=1;h.editorFocus&&!a.focusManager.hasFocus&&a.focus();if(h.onOpen)h.onOpen()};d.onHide=function(d){this.element.removeClass(m);h.setState(h.modes&&h.modes[a.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);h._.on=0;if(!d&&h.onClose)h.onClose()};d.onEscape=function(){d.hide(1)};c.onClick=function(a,b){h.onClick&&
h.onClick.call(h,a,b);d.hide()};this._.panel=d;this._.list=c;d.getBlock(this.id).onHide=function(){h._.on=0;h.setState(CKEDITOR.TRISTATE_OFF)};this.init&&this.init()}},setValue:function(a,c){this._.value=a;var e=this.document.getById("cke_"+this.id+"_text");e&&(a||c?e.removeClass("cke_combo_inlinelabel"):(c=this.label,e.addClass("cke_combo_inlinelabel")),e.setText("undefined"!=typeof c?c:a));var e="undefined"!=typeof c?c:a,f=this.label,e=e===f?e:e+", "+f;(f=this.document.getById("cke_"+this.id+"_label"))&&
f.setText(e)},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(a){this._.list.mark(a)},hideItem:function(a){this._.list.hideItem(a)},hideGroup:function(a){this._.list.hideGroup(a)},showAll:function(){this._.list.showAll()},add:function(a,c,e){this._.items[a]=e||a;this._.list.add(a,c,e)},startGroup:function(a){this._.list.startGroup(a)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire("ready",this));
this._.committed=1},setState:function(a){if(this._.state!=a){var c=this.document.getById("cke_"+this.id),e=c.getElementsByTag("a").getItem(0);c.setState(a,"cke_combo");a==CKEDITOR.TRISTATE_DISABLED?c.setAttribute("aria-disabled",!0):c.removeAttribute("aria-disabled");e&&e.setAttribute("aria-expanded",a==CKEDITOR.TRISTATE_ON);this._.state=a}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=
CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))},destroy:function(){CKEDITOR.tools.array.forEach(this._.listeners,function(a){a.removeListener()});this._.listeners=[]},select:function(a){if(!CKEDITOR.tools.isEmpty(this._.items))for(var c in this._.items)if(a({value:c,text:this._.items[c]})){this.setValue(c);break}}},statics:{handler:{create:function(a){return new CKEDITOR.ui.richCombo(a)}}}});CKEDITOR.ui.prototype.addRichCombo=function(a,c){this.add(a,
CKEDITOR.UI_RICHCOMBO,c)}}(),CKEDITOR.plugins.add("format",{requires:"richcombo",init:function(a){if(!a.blockless){for(var f=a.config,e=a.lang.format,b=f.format_tags.split(";"),c={},k=0,l=[],m=0;m<b.length;m++){var d=b[m],h=new CKEDITOR.style(f["format_"+d]);if(!a.filter.customConfig||a.filter.check(h))k++,c[d]=h,c[d]._.enterMode=a.config.enterMode,l.push(h)}0!==k&&a.ui.addRichCombo("Format",{label:e.label,title:e.panelTitle,toolbar:"styles,20",allowedContent:l,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(f.contentsCss),
multiSelect:!1,attributes:{"aria-label":e.panelTitle}},init:function(){this.startGroup(e.panelTitle);for(var a in c){var b=e["tag_"+a];this.add(a,c[a].buildPreview(b),b)}},onClick:function(b){a.focus();a.fire("saveSnapshot");b=c[b];var d=a.elementPath();a.fire("stylesRemove",{type:CKEDITOR.STYLE_BLOCK});b.checkActive(d,a)||a.applyStyle(b);setTimeout(function(){a.fire("saveSnapshot")},0)},onRender:function(){a.on("selectionChange",function(b){var d=this.getValue();b=b.data.path;this.refresh();for(var e in c)if(c[e].checkActive(b,
a)){e!=d&&this.setValue(e,a.lang.format["tag_"+e]);return}this.setValue("")},this)},onOpen:function(){this.showAll();for(var b in c)a.activeFilter.check(c[b])||this.hideItem(b)},refresh:function(){var b=a.elementPath();if(b){if(b.isContextFor("p"))for(var d in c)if(a.activeFilter.check(c[d]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}}),CKEDITOR.config.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div",CKEDITOR.config.format_p={element:"p"},CKEDITOR.config.format_div={element:"div"},CKEDITOR.config.format_pre=
{element:"pre"},CKEDITOR.config.format_address={element:"address"},CKEDITOR.config.format_h1={element:"h1"},CKEDITOR.config.format_h2={element:"h2"},CKEDITOR.config.format_h3={element:"h3"},CKEDITOR.config.format_h4={element:"h4"},CKEDITOR.config.format_h5={element:"h5"},CKEDITOR.config.format_h6={element:"h6"},function(){var a={canUndo:!1,exec:function(a){var e=a.document.createElement("hr");a.insertElement(e)},allowedContent:"hr",requiredContent:"hr"};CKEDITOR.plugins.add("horizontalrule",{init:function(f){f.blockless||
(f.addCommand("horizontalrule",a),f.ui.addButton&&f.ui.addButton("HorizontalRule",{label:f.lang.horizontalrule.toolbar,command:"horizontalrule",toolbar:"insert,40"}))}})}(),CKEDITOR.plugins.add("htmlwriter",{init:function(a){var f=new CKEDITOR.htmlWriter;f.forceSimpleAmpersand=a.config.forceSimpleAmpersand;f.indentationChars="string"===typeof a.config.dataIndentationChars?a.config.dataIndentationChars:"\t";a.dataProcessor.writer=f}}),CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,
$:function(){this.base();this.indentationChars="\t";this.selfClosingEnd=" /\x3e";this.lineBreakChars="\n";this.sortAttributes=1;this._.indent=0;this._.indentation="";this._.inPre=0;this._.rules={};var a=CKEDITOR.dtd,f;for(f in CKEDITOR.tools.extend({},a.$nonBodyContent,a.$block,a.$listItem,a.$tableContent))this.setRules(f,{indent:!a[f]["#"],breakBeforeOpen:1,breakBeforeClose:!a[f]["#"],breakAfterClose:1,needsSpace:f in a.$block&&!(f in{li:1,dt:1,dd:1})});this.setRules("br",{breakAfterOpen:1});this.setRules("title",
{indent:0,breakAfterOpen:0});this.setRules("style",{indent:0,breakBeforeClose:1});this.setRules("pre",{breakAfterOpen:1,indent:0})},proto:{openTag:function(a){var f=this._.rules[a];this._.afterCloser&&f&&f.needsSpace&&this._.needsSpace&&this._.output.push("\n");this._.indent?this.indentation():f&&f.breakBeforeOpen&&(this.lineBreak(),this.indentation());this._.output.push("\x3c",a);this._.afterCloser=0},openTagClose:function(a,f){var e=this._.rules[a];f?(this._.output.push(this.selfClosingEnd),e&&
e.breakAfterClose&&(this._.needsSpace=e.needsSpace)):(this._.output.push("\x3e"),e&&e.indent&&(this._.indentation+=this.indentationChars));e&&e.breakAfterOpen&&this.lineBreak();"pre"==a&&(this._.inPre=1)},attribute:function(a,f){"string"==typeof f&&(f=CKEDITOR.tools.htmlEncodeAttr(f),this.forceSimpleAmpersand&&(f=f.replace(/&amp;/g,"\x26")));this._.output.push(" ",a,'\x3d"',f,'"')},closeTag:function(a){var f=this._.rules[a];f&&f.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length));
this._.indent?this.indentation():f&&f.breakBeforeClose&&(this.lineBreak(),this.indentation());this._.output.push("\x3c/",a,"\x3e");"pre"==a&&(this._.inPre=0);f&&f.breakAfterClose&&(this.lineBreak(),this._.needsSpace=f.needsSpace);this._.afterCloser=1},text:function(a){this._.indent&&(this.indentation(),!this._.inPre&&(a=CKEDITOR.tools.ltrim(a)));this._.output.push(a)},comment:function(a){this._.indent&&this.indentation();this._.output.push("\x3c!--",a,"--\x3e")},lineBreak:function(){!this._.inPre&&
0<this._.output.length&&this._.output.push(this.lineBreakChars);this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&this._.output.push(this._.indentation);this._.indent=0},reset:function(){this._.output=[];this._.indent=0;this._.indentation="";this._.afterCloser=0;this._.inPre=0;this._.needsSpace=0},setRules:function(a,f){var e=this._.rules[a];e?CKEDITOR.tools.extend(e,f,!0):this._.rules[a]=f}}}),function(){function a(a,b){b||(b=a.getSelection().getSelectedElement());if(b&&
b.is("img")&&!b.data("cke-realelement")&&!b.isReadOnly())return b}function f(a){var b=a.getStyle("float");if("inherit"==b||"none"==b)b=0;b||(b=a.getAttribute("align"));return b}CKEDITOR.plugins.add("image",{requires:"dialog",init:function(e){if(!e.plugins.detectConflict("image",["easyimage","image2"])){CKEDITOR.dialog.add("image",this.path+"dialogs/image.js");var b="img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}";CKEDITOR.dialog.isTabEnabled(e,
"image","advanced")&&(b="img[alt,dir,id,lang,longdesc,!src,title]{*}(*)");e.addCommand("image",new CKEDITOR.dialogCommand("image",{allowedContent:b,requiredContent:"img[alt,src]",contentTransformations:[["img{width}: sizeToStyle","img[width]: sizeToAttribute"],["img{float}: alignmentToStyle","img[align]: alignmentToAttribute"]]}));e.ui.addButton&&e.ui.addButton("Image",{label:e.lang.common.image,command:"image",toolbar:"insert,10"});e.on("doubleclick",function(a){var b=a.data.element;!b.is("img")||
b.data("cke-realelement")||b.isReadOnly()||(a.data.dialog="image")});e.addMenuItems&&e.addMenuItems({image:{label:e.lang.image.menu,command:"image",group:"image"}});e.contextMenu&&e.contextMenu.addListener(function(b){if(a(e,b))return{image:CKEDITOR.TRISTATE_OFF}})}},afterInit:function(e){function b(b){var k=e.getCommand("justify"+b);if(k){if("left"==b||"right"==b)k.on("exec",function(k){var m=a(e),d;m&&(d=f(m),d==b?(m.removeStyle("float"),b==f(m)&&m.removeAttribute("align")):m.setStyle("float",b),
k.cancel())});k.on("refresh",function(k){var m=a(e);m&&(m=f(m),this.setState(m==b?CKEDITOR.TRISTATE_ON:"right"==b||"left"==b?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),k.cancel())})}}e.plugins.image2||(b("left"),b("right"),b("center"),b("block"))}})}(),CKEDITOR.config.image_removeLinkByEmptyURL=!0,function(){function a(a,b){var d=k.exec(a),c=k.exec(b);if(d){if(!d[2]&&"px"==c[2])return c[1];if("px"==d[2]&&!c[2])return c[1]+"px"}return b}function f(c){return{elements:{$:function(f){var d=f.attributes,
d=d&&d["data-cke-realelement"],h=e(c,decodeURIComponent(d));if((d=(d=d&&new CKEDITOR.htmlParser.fragment.fromHtml(h))&&d.children[0])&&f.attributes["data-cke-resizable"]){var g=(new b(f)).rules;f=d.attributes;h=g.width;g=g.height;h&&(f.width=a(f.width,h));g&&(f.height=a(f.height,g))}return d}}}}function e(a,b){var d=[],c=/^cke:/i,e=new CKEDITOR.htmlParser.filter({elements:{"^":function(a){c.test(a.name)&&(a.name=a.name.replace(c,""),d.push(a))},iframe:function(a){a.children=[]}}}),f=a.activeFilter,
k=new CKEDITOR.htmlParser.basicWriter,x=CKEDITOR.htmlParser.fragment.fromHtml(b);e.applyTo(x);f.applyTo(x);CKEDITOR.tools.array.forEach(d,function(a){a.name="cke:"+a.name});x.writeHtml(k);return k.getHtml()}var b=CKEDITOR.htmlParser.cssStyle,c=CKEDITOR.tools.cssLength,k=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i;CKEDITOR.plugins.add("fakeobjects",{init:function(a){a.filter.allow("img[!data-cke-realelement,src,alt,title](*){*}","fakeobjects")},afterInit:function(a){var b=a.dataProcessor;(b=b&&b.htmlFilter)&&
b.addRules(f(a),{applyToAll:!0})}});CKEDITOR.editor.prototype.createFakeElement=function(a,e,d,f){var g=this.lang.fakeobjects,g=g[d]||g.unknown;e={"class":e,"data-cke-realelement":encodeURIComponent(a.getOuterHtml()),"data-cke-real-node-type":a.type,alt:g,title:g,align:a.getAttribute("align")||""};CKEDITOR.env.hc||(e.src=CKEDITOR.tools.transparentImageData);d&&(e["data-cke-real-element-type"]=d);f&&(e["data-cke-resizable"]=f,d=new b,f=a.getAttribute("width"),a=a.getAttribute("height"),f&&(d.rules.width=
c(f)),a&&(d.rules.height=c(a)),d.populate(e));return this.document.createElement("img",{attributes:e})};CKEDITOR.editor.prototype.createFakeParserElement=function(a,e,d,f){var g=this.lang.fakeobjects,g=g[d]||g.unknown,k;k=new CKEDITOR.htmlParser.basicWriter;a.writeHtml(k);k=k.getHtml();e={"class":e,"data-cke-realelement":encodeURIComponent(k),"data-cke-real-node-type":a.type,alt:g,title:g,align:a.attributes.align||""};CKEDITOR.env.hc||(e.src=CKEDITOR.tools.transparentImageData);d&&(e["data-cke-real-element-type"]=
d);f&&(e["data-cke-resizable"]=f,f=a.attributes,a=new b,d=f.width,f=f.height,void 0!==d&&(a.rules.width=c(d)),void 0!==f&&(a.rules.height=c(f)),a.populate(e));return new CKEDITOR.htmlParser.element("img",e)};CKEDITOR.editor.prototype.restoreRealElement=function(b){if(b.data("cke-real-node-type")!=CKEDITOR.NODE_ELEMENT)return null;var c=decodeURIComponent(b.data("cke-realelement")),c=e(this,c),c=CKEDITOR.dom.element.createFromHtml(c,this.document);if(b.data("cke-resizable")){var d=b.getStyle("width");
b=b.getStyle("height");d&&c.setAttribute("width",a(c.getAttribute("width"),d));b&&c.setAttribute("height",a(c.getAttribute("height"),b))}return c}}(),"use strict",function(){function a(a){return a.replace(/'/g,"\\$\x26")}function f(a){for(var b=a.length,d=[],c,e=0;e<b;e++)c=a.charCodeAt(e),d.push(c);return"String.fromCharCode("+d.join(",")+")"}function e(b,d){for(var c=b.plugins.link,e=c.compiledProtectionFunction.params,c=[c.compiledProtectionFunction.name,"("],f,g,h=0;h<e.length;h++)f=e[h].toLowerCase(),
g=d[f],0<h&&c.push(","),c.push("'",g?a(encodeURIComponent(d[f])):"","'");c.push(")");return c.join("")}function b(a){a=a.config.emailProtection||"";var b;a&&"encode"!=a&&(b={},a.replace(/^([^(]+)\(([^)]+)\)$/,function(a,d,c){b.name=d;b.params=[];c.replace(/[^,\s]+/g,function(a){b.params.push(a)})}));return b}CKEDITOR.plugins.add("link",{requires:"dialog,fakeobjects",onLoad:function(){function a(b){return d.replace(/%1/g,"rtl"==b?"right":"left").replace(/%2/g,"cke_contents_"+b)}var b="background:url("+
CKEDITOR.getUrl(this.path+"images"+(CKEDITOR.env.hidpi?"/hidpi":"")+"/anchor.png")+") no-repeat %1 center;border:1px dotted #00f;background-size:16px;",d=".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{"+b+"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{"+b+"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}";CKEDITOR.addCss(a("ltr")+a("rtl"))},init:function(a){var d="a[!href]";CKEDITOR.dialog.isTabEnabled(a,"link","advanced")&&
(d=d.replace("]",",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type,download]{*}(*)"));CKEDITOR.dialog.isTabEnabled(a,"link","target")&&(d=d.replace("]",",target,onclick]"));a.addCommand("link",new CKEDITOR.dialogCommand("link",{allowedContent:d,requiredContent:"a[href]"}));a.addCommand("anchor",new CKEDITOR.dialogCommand("anchor",{allowedContent:"a[!name,id]",requiredContent:"a[name]"}));a.addCommand("unlink",new CKEDITOR.unlinkCommand);a.addCommand("removeAnchor",new CKEDITOR.removeAnchorCommand);
a.setKeystroke(CKEDITOR.CTRL+76,"link");a.setKeystroke(CKEDITOR.CTRL+75,"link");a.ui.addButton&&(a.ui.addButton("Link",{label:a.lang.link.toolbar,command:"link",toolbar:"links,10"}),a.ui.addButton("Unlink",{label:a.lang.link.unlink,command:"unlink",toolbar:"links,20"}),a.ui.addButton("Anchor",{label:a.lang.link.anchor.toolbar,command:"anchor",toolbar:"links,30"}));CKEDITOR.dialog.add("link",this.path+"dialogs/link.js");CKEDITOR.dialog.add("anchor",this.path+"dialogs/anchor.js");a.on("doubleclick",
function(b){var d=b.data.element.getAscendant({a:1,img:1},!0);d&&!d.isReadOnly()&&(d.is("a")?(b.data.dialog=!d.getAttribute("name")||d.getAttribute("href")&&d.getChildCount()?"link":"anchor",b.data.link=d):CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,d)&&(b.data.dialog="anchor"))},null,null,0);a.on("doubleclick",function(b){b.data.dialog in{link:1,anchor:1}&&b.data.link&&a.getSelection().selectElement(b.data.link)},null,null,20);a.addMenuItems&&a.addMenuItems({anchor:{label:a.lang.link.anchor.menu,
command:"anchor",group:"anchor",order:1},removeAnchor:{label:a.lang.link.anchor.remove,command:"removeAnchor",group:"anchor",order:5},link:{label:a.lang.link.menu,command:"link",group:"link",order:1},unlink:{label:a.lang.link.unlink,command:"unlink",group:"link",order:5}});a.contextMenu&&a.contextMenu.addListener(function(b){if(!b||b.isReadOnly())return null;b=CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,b);if(!b&&!(b=CKEDITOR.plugins.link.getSelectedLink(a)))return null;var d={};b.getAttribute("href")&&
b.getChildCount()&&(d={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF});b&&b.hasAttribute("name")&&(d.anchor=d.removeAnchor=CKEDITOR.TRISTATE_OFF);return d});this.compiledProtectionFunction=b(a)},afterInit:function(a){a.dataProcessor.dataFilter.addRules({elements:{a:function(b){return b.attributes.name?b.children.length?null:a.createFakeParserElement(b,"cke_anchor","anchor"):null}}});var b=a._.elementsPath&&a._.elementsPath.filters;b&&b.push(function(b,d){if("a"==d&&(CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,
b)||b.getAttribute("name")&&(!b.getAttribute("href")||!b.getChildCount())))return"anchor"})}});var c=/^javascript:/,k=/^(?:mailto)(?:(?!\?(subject|body)=).)+/i,l=/subject=([^;?:@&=$,\/]*)/i,m=/body=([^;?:@&=$,\/]*)/i,d=/^#(.*)$/,h=/^((?:http|https|ftp|news):\/\/)?(.*)$/,g=/^(_(?:self|top|parent|blank))$/,n=/^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/,w=/^javascript:([^(]+)\(([^)]+)\)$/,x=/\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/,
r=/(?:^|,)([^=]+)=(\d+|yes|no)/gi,p=/^tel:(.*)$/,u={id:"advId",dir:"advLangDir",accessKey:"advAccessKey",name:"advName",lang:"advLangCode",tabindex:"advTabIndex",title:"advTitle",type:"advContentType","class":"advCSSClasses",charset:"advCharset",style:"advStyles",rel:"advRel"};CKEDITOR.plugins.link={getSelectedLink:function(a,b){var d=a.getSelection(),c=d.getSelectedElement(),e=d.getRanges(),f=[],g;if(!b&&c&&c.is("a"))return c;for(c=0;c<e.length;c++)if(g=d.getRanges()[c],g.shrink(CKEDITOR.SHRINK_ELEMENT,
!0,{skipBogus:!0}),(g=a.elementPath(g.getCommonAncestor()).contains("a",1))&&b)f.push(g);else if(g)return g;return b?f:null},getEditorAnchors:function(a){for(var b=a.editable(),d=b.isInline()&&!a.plugins.divarea?a.document:b,b=d.getElementsByTag("a"),d=d.getElementsByTag("img"),c=[],e=0,f;f=b.getItem(e++);)(f.data("cke-saved-name")||f.hasAttribute("name"))&&c.push({name:f.data("cke-saved-name")||f.getAttribute("name"),id:f.getAttribute("id")});for(e=0;f=d.getItem(e++);)(f=this.tryRestoreFakeAnchor(a,
f))&&c.push({name:f.getAttribute("name"),id:f.getAttribute("id")});return c},fakeAnchor:!0,tryRestoreFakeAnchor:function(a,b){if(b&&b.data("cke-real-element-type")&&"anchor"==b.data("cke-real-element-type")){var d=a.restoreRealElement(b);if(d.data("cke-saved-name"))return d}},parseLinkAttributes:function(a,b){var e=b&&(b.data("cke-saved-href")||b.getAttribute("href"))||"",f=a.plugins.link.compiledProtectionFunction,t=a.config.emailProtection,v={},B;e.match(c)&&("encode"==t?e=e.replace(n,function(a,
b,d){d=d||"";return"mailto:"+String.fromCharCode.apply(String,b.split(","))+d.replace(/\\'/g,"'")}):t&&e.replace(w,function(a,b,d){if(b==f.name){v.type="email";a=v.email={};b=/(^')|('$)/g;d=d.match(/[^,\s]+/g);for(var c=d.length,e,g,h=0;h<c;h++)e=decodeURIComponent,g=d[h].replace(b,"").replace(/\\'/g,"'"),g=e(g),e=f.params[h].toLowerCase(),a[e]=g;a.address=[a.name,a.domain].join("@")}}));if(!v.type)if(t=e.match(d))v.type="anchor",v.anchor={},v.anchor.name=v.anchor.id=t[1];else if(t=e.match(p))v.type=
"tel",v.tel=t[1];else if(t=e.match(k)){B=e.match(l);var e=e.match(m),D=v.email={};v.type="email";D.address=t[0].replace("mailto:","");B&&(D.subject=decodeURIComponent(B[1]));e&&(D.body=decodeURIComponent(e[1]))}else e&&(B=e.match(h))&&(v.type="url",v.url={},v.url.protocol=B[1],v.url.url=B[2]);if(b){if(e=b.getAttribute("target"))v.target={type:e.match(g)?e:"frame",name:e};else if(e=(e=b.data("cke-pa-onclick")||b.getAttribute("onclick"))&&e.match(x))for(v.target={type:"popup",name:e[1]};t=r.exec(e[2]);)"yes"!=
t[2]&&"1"!=t[2]||t[1]in{height:1,width:1,top:1,left:1}?isFinite(t[2])&&(v.target[t[1]]=t[2]):v.target[t[1]]=!0;null!==b.getAttribute("download")&&(v.download=!0);var e={},C;for(C in u)(t=b.getAttribute(C))&&(e[u[C]]=t);if(C=b.data("cke-saved-name")||e.advName)e.advName=C;CKEDITOR.tools.isEmpty(e)||(v.advanced=e)}return v},getLinkAttributes:function(b,d){var c=b.config.emailProtection||"",g={};switch(d.type){case "url":var c=d.url&&void 0!==d.url.protocol?d.url.protocol:"http://",h=d.url&&CKEDITOR.tools.trim(d.url.url)||
"";g["data-cke-saved-href"]=0===h.indexOf("/")?h:c+h;break;case "anchor":c=d.anchor&&d.anchor.id;g["data-cke-saved-href"]="#"+(d.anchor&&d.anchor.name||c||"");break;case "email":var k=d.email,h=k.address;switch(c){case "":case "encode":var l=encodeURIComponent(k.subject||""),m=encodeURIComponent(k.body||""),k=[];l&&k.push("subject\x3d"+l);m&&k.push("body\x3d"+m);k=k.length?"?"+k.join("\x26"):"";"encode"==c?(c=["javascript:void(location.href\x3d'mailto:'+",f(h)],k&&c.push("+'",a(k),"'"),c.push(")")):
c=["mailto:",h,k];break;default:c=h.split("@",2),k.name=c[0],k.domain=c[1],c=["javascript:",e(b,k)]}g["data-cke-saved-href"]=c.join("");break;case "tel":g["data-cke-saved-href"]="tel:"+d.tel}if(d.target)if("popup"==d.target.type){for(var c=["window.open(this.href, '",d.target.name||"","', '"],n="resizable status location toolbar menubar fullscreen scrollbars dependent".split(" "),h=n.length,l=function(a){d.target[a]&&n.push(a+"\x3d"+d.target[a])},k=0;k<h;k++)n[k]+=d.target[n[k]]?"\x3dyes":"\x3dno";
l("width");l("left");l("height");l("top");c.push(n.join(","),"'); return false;");g["data-cke-pa-onclick"]=c.join("")}else"notSet"!=d.target.type&&d.target.name&&(g.target=d.target.name);d.download&&(g.download="");if(d.advanced){for(var p in u)(c=d.advanced[u[p]])&&(g[p]=c);g.name&&(g["data-cke-saved-name"]=g.name)}g["data-cke-saved-href"]&&(g.href=g["data-cke-saved-href"]);p={target:1,onclick:1,"data-cke-pa-onclick":1,"data-cke-saved-name":1,download:1};d.advanced&&CKEDITOR.tools.extend(p,u);for(var w in g)delete p[w];
return{set:g,removed:CKEDITOR.tools.object.keys(p)}},showDisplayTextForElement:function(a,b){var d={img:1,table:1,tbody:1,thead:1,tfoot:1,input:1,select:1,textarea:1},c=b.getSelection();return b.widgets&&b.widgets.focused||c&&1<c.getRanges().length?!1:!a||!a.getName||!a.is(d)}};CKEDITOR.unlinkCommand=function(){};CKEDITOR.unlinkCommand.prototype={exec:function(a){if(CKEDITOR.env.ie){var b=a.getSelection().getRanges()[0],d=b.getPreviousEditableNode()&&b.getPreviousEditableNode().getAscendant("a",!0)||
b.getNextEditableNode()&&b.getNextEditableNode().getAscendant("a",!0),c;b.collapsed&&d&&(c=b.createBookmark(),b.selectNodeContents(d),b.select())}d=new CKEDITOR.style({element:"a",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1});a.removeStyle(d);c&&(b.moveToBookmark(c),b.select())},refresh:function(a,b){var d=b.lastElement&&b.lastElement.getAscendant("a",!0);d&&"a"==d.getName()&&d.getAttribute("href")&&d.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},
contextSensitive:1,startDisabled:1,requiredContent:"a[href]",editorFocus:1};CKEDITOR.removeAnchorCommand=function(){};CKEDITOR.removeAnchorCommand.prototype={exec:function(a){var b=a.getSelection(),d=b.createBookmarks(),c;if(b&&(c=b.getSelectedElement())&&(c.getChildCount()?c.is("a"):CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,c)))c.remove(1);else if(c=CKEDITOR.plugins.link.getSelectedLink(a))c.hasAttribute("href")?(c.removeAttributes({name:1,"data-cke-saved-name":1}),c.removeClass("cke_anchor")):
c.remove(1);b.selectBookmarks(d)},requiredContent:"a[name]"};CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0,linkDefaultProtocol:"http://"})}(),"use strict",function(){function a(a,b,d){return n(b)&&n(d)&&d.equals(b.getNext(function(a){return!(aa(a)||ca(a)||w(a))}))}function f(a){this.upper=a[0];this.lower=a[1];this.set.apply(this,a.slice(2))}function e(a){var b=a.element;if(b&&n(b)&&(b=b.getAscendant(a.triggers,!0))&&a.editable.contains(b)){var d=l(b);if("true"==
d.getAttribute("contenteditable"))return b;if(d.is(a.triggers))return d}return null}function b(a,b,d){y(a,b);y(a,d);a=b.size.bottom;d=d.size.top;return a&&d?0|(a+d)/2:a||d}function c(a,b,d){return b=b[d?"getPrevious":"getNext"](function(b){return b&&b.type==CKEDITOR.NODE_TEXT&&!aa(b)||n(b)&&!w(b)&&!g(a,b)})}function k(a,b,d){return a>b&&a<d}function l(a,b){if(a.data("cke-editable"))return null;for(b||(a=a.getParent());a&&!a.data("cke-editable");){if(a.hasAttribute("contenteditable"))return a;a=a.getParent()}return null}
function m(a){var b=a.doc,c=F('\x3cspan contenteditable\x3d"false" data-cke-magic-line\x3d"1" style\x3d"'+ga+"position:absolute;border-top:1px dashed "+a.boxColor+'"\x3e\x3c/span\x3e',b),e=CKEDITOR.getUrl(this.path+"images/"+(J.hidpi?"hidpi/":"")+"icon"+(a.rtl?"-rtl":"")+".png");D(c,{attach:function(){this.wrap.getParent()||this.wrap.appendTo(a.editable,!0);return this},lineChildren:[D(F('\x3cspan title\x3d"'+a.editor.lang.magicline.title+'" contenteditable\x3d"false"\x3e\x26#8629;\x3c/span\x3e',
b),{base:ga+"height:17px;width:17px;"+(a.rtl?"left":"right")+":17px;background:url("+e+") center no-repeat "+a.boxColor+";cursor:pointer;"+(J.hc?"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;":"")+(J.hidpi?"background-size: 9px 10px;":""),looks:["top:-8px; border-radius: 2px;","top:-17px; border-radius: 2px 2px 0px 0px;","top:-1px; border-radius: 0px 0px 2px 2px;"]}),D(F(T,b),{base:ka+"left:0px;border-left-color:"+a.boxColor+";",looks:["border-width:8px 0 8px 8px;top:-8px",
"border-width:8px 0 0 8px;top:-8px","border-width:0 0 8px 8px;top:0px"]}),D(F(T,b),{base:ka+"right:0px;border-right-color:"+a.boxColor+";",looks:["border-width:8px 8px 8px 0;top:-8px","border-width:8px 8px 0 0;top:-8px","border-width:0 8px 8px 0;top:0px"]})],detach:function(){this.wrap.getParent()&&this.wrap.remove();return this},mouseNear:function(){y(a,this);var b=a.holdDistance,d=this.size;return d&&k(a.mouse.y,d.top-b,d.bottom+b)&&k(a.mouse.x,d.left-b,d.right+b)?!0:!1},place:function(){var b=
a.view,d=a.editable,c=a.trigger,e=c.upper,f=c.lower,g=e||f,h=g.getParent(),l={};this.trigger=c;e&&y(a,e,!0);f&&y(a,f,!0);y(a,h,!0);a.inInlineMode&&t(a,!0);h.equals(d)?(l.left=b.scroll.x,l.right=-b.scroll.x,l.width=""):(l.left=g.size.left-g.size.margin.left+b.scroll.x-(a.inInlineMode?b.editable.left+b.editable.border.left:0),l.width=g.size.outerWidth+g.size.margin.left+g.size.margin.right+b.scroll.x,l.right="");e&&f?l.top=e.size.margin.bottom===f.size.margin.top?0|e.size.bottom+e.size.margin.bottom/
2:e.size.margin.bottom<f.size.margin.top?e.size.bottom+e.size.margin.bottom:e.size.bottom+e.size.margin.bottom-f.size.margin.top:e?f||(l.top=e.size.bottom+e.size.margin.bottom):l.top=f.size.top-f.size.margin.top;c.is(N)||k(l.top,b.scroll.y-15,b.scroll.y+5)?(l.top=a.inInlineMode?0:b.scroll.y,this.look(N)):c.is(O)||k(l.top,b.pane.bottom-5,b.pane.bottom+15)?(l.top=a.inInlineMode?b.editable.height+b.editable.padding.top+b.editable.padding.bottom:b.pane.bottom-1,this.look(O)):(a.inInlineMode&&(l.top-=
b.editable.top+b.editable.border.top),this.look(X));a.inInlineMode&&(l.top--,l.top+=b.editable.scroll.top,l.left+=b.editable.scroll.left);for(var m in l)l[m]=CKEDITOR.tools.cssLength(l[m]);this.setStyles(l)},look:function(a){if(this.oldLook!=a){for(var b=this.lineChildren.length,d;b--;)(d=this.lineChildren[b]).setAttribute("style",d.base+d.looks[0|a/2]);this.oldLook=a}},wrap:new C("span",a.doc)});for(b=c.lineChildren.length;b--;)c.lineChildren[b].appendTo(c);c.look(X);c.appendTo(c.wrap);c.unselectable();
c.lineChildren[0].on("mouseup",function(b){c.detach();d(a,function(b){var d=a.line.trigger;b[d.is(H)?"insertBefore":"insertAfter"](d.is(H)?d.lower:d.upper)},!0);a.editor.focus();J.ie||a.enterMode==CKEDITOR.ENTER_BR||a.hotNode.scrollIntoView();b.data.preventDefault(!0)});c.on("mousedown",function(a){a.data.preventDefault(!0)});a.line=c}function d(a,b,d){var c=new CKEDITOR.dom.range(a.doc),e=a.editor,f;J.ie&&a.enterMode==CKEDITOR.ENTER_BR?f=a.doc.createText(S):(f=(f=l(a.element,!0))&&f.data("cke-enter-mode")||
a.enterMode,f=new C(M[f],a.doc),f.is("br")||a.doc.createText(S).appendTo(f));d&&e.fire("saveSnapshot");b(f);c.moveToPosition(f,CKEDITOR.POSITION_AFTER_START);e.getSelection().selectRanges([c]);a.hotNode=f;d&&e.fire("saveSnapshot")}function h(a,b){return{canUndo:!0,modes:{wysiwyg:1},exec:function(){function f(c){var e=J.ie&&9>J.version?" ":S,g=a.hotNode&&a.hotNode.getText()==e&&a.element.equals(a.hotNode)&&a.lastCmdDirection===!!b;d(a,function(d){g&&a.hotNode&&a.hotNode.remove();d[b?"insertAfter":
"insertBefore"](c);d.setAttributes({"data-cke-magicline-hot":1,"data-cke-magicline-dir":!!b});a.lastCmdDirection=!!b});J.ie||a.enterMode==CKEDITOR.ENTER_BR||a.hotNode.scrollIntoView();a.line.detach()}return function(d){d=d.getSelection().getStartElement();var g;d=d.getAscendant(ia,1);if(!p(a,d)&&d&&!d.equals(a.editable)&&!d.contains(a.editable)){(g=l(d))&&"false"==g.getAttribute("contenteditable")&&(d=g);a.element=d;g=c(a,d,!b);var h;n(g)&&g.is(a.triggers)&&g.is(U)&&(!c(a,g,!b)||(h=c(a,g,!b))&&n(h)&&
h.is(a.triggers))?f(g):(h=e(a,d),n(h)&&(c(a,h,!b)?(d=c(a,h,!b))&&n(d)&&d.is(a.triggers)&&f(h):f(h)))}}}()}}function g(a,b){if(!b||b.type!=CKEDITOR.NODE_ELEMENT||!b.$)return!1;var d=a.line;return d.wrap.equals(b)||d.wrap.contains(b)}function n(a){return a&&a.type==CKEDITOR.NODE_ELEMENT&&a.$}function w(a){if(!n(a))return!1;var b;(b=x(a))||(n(a)?(b={left:1,right:1,center:1},b=!(!b[a.getComputedStyle("float")]&&!b[a.getAttribute("align")])):b=!1);return b}function x(a){return!!{absolute:1,fixed:1}[a.getComputedStyle("position")]}
function r(a,b){return n(b)?b.is(a.triggers):null}function p(a,b){if(!b)return!1;for(var d=b.getParents(1),c=d.length;c--;)for(var e=a.tabuList.length;e--;)if(d[c].hasAttribute(a.tabuList[e]))return!0;return!1}function u(a,b,d){b=b[d?"getLast":"getFirst"](function(b){return a.isRelevant(b)&&!b.is(ea)});if(!b)return!1;y(a,b);return d?b.size.top>a.mouse.y:b.size.bottom<a.mouse.y}function z(a){var b=a.editable,d=a.mouse,c=a.view,e=a.triggerOffset;t(a);var h=d.y>(a.inInlineMode?c.editable.top+c.editable.height/
2:Math.min(c.editable.height,c.pane.height)/2),b=b[h?"getLast":"getFirst"](function(a){return!(aa(a)||ca(a))});if(!b)return null;g(a,b)&&(b=a.line.wrap[h?"getPrevious":"getNext"](function(a){return!(aa(a)||ca(a))}));if(!n(b)||w(b)||!r(a,b))return null;y(a,b);return!h&&0<=b.size.top&&k(d.y,0,b.size.top+e)?(a=a.inInlineMode||0===c.scroll.y?N:X,new f([null,b,H,L,a])):h&&b.size.bottom<=c.pane.height&&k(d.y,b.size.bottom-e,c.pane.height)?(a=a.inInlineMode||k(b.size.bottom,c.pane.height-e,c.pane.height)?
O:X,new f([b,null,E,L,a])):null}function q(a){var b=a.mouse,d=a.view,g=a.triggerOffset,h=e(a);if(!h)return null;y(a,h);var g=Math.min(g,0|h.size.outerHeight/2),l=[],m,p;if(k(b.y,h.size.top-1,h.size.top+g))p=!1;else if(k(b.y,h.size.bottom-g,h.size.bottom+1))p=!0;else return null;if(w(h)||u(a,h,p)||h.getParent().is(Y))return null;var v=c(a,h,!p);if(v){if(v&&v.type==CKEDITOR.NODE_TEXT)return null;if(n(v)){if(w(v)||!r(a,v)||v.getParent().is(Y))return null;l=[v,h][p?"reverse":"concat"]().concat([P,L])}}else h.equals(a.editable[p?
"getLast":"getFirst"](a.isRelevant))?(t(a),p&&k(b.y,h.size.bottom-g,d.pane.height)&&k(h.size.bottom,d.pane.height-g,d.pane.height)?m=O:k(b.y,0,h.size.top+g)&&(m=N)):m=X,l=[null,h][p?"reverse":"concat"]().concat([p?E:H,L,m,h.equals(a.editable[p?"getLast":"getFirst"](a.isRelevant))?p?O:N:X]);return 0 in l?new f(l):null}function A(a,b,d,c){for(var e=b.getDocumentPosition(),f={},g={},h={},k={},l=Q.length;l--;)f[Q[l]]=parseInt(b.getComputedStyle.call(b,"border-"+Q[l]+"-width"),10)||0,h[Q[l]]=parseInt(b.getComputedStyle.call(b,
"padding-"+Q[l]),10)||0,g[Q[l]]=parseInt(b.getComputedStyle.call(b,"margin-"+Q[l]),10)||0;d&&!c||v(a,c);k.top=e.y-(d?0:a.view.scroll.y);k.left=e.x-(d?0:a.view.scroll.x);k.outerWidth=b.$.offsetWidth;k.outerHeight=b.$.offsetHeight;k.height=k.outerHeight-(h.top+h.bottom+f.top+f.bottom);k.width=k.outerWidth-(h.left+h.right+f.left+f.right);k.bottom=k.top+k.outerHeight;k.right=k.left+k.outerWidth;a.inInlineMode&&(k.scroll={top:b.$.scrollTop,left:b.$.scrollLeft});return D({border:f,padding:h,margin:g,ignoreScroll:d},
k,!0)}function y(a,b,d){if(!n(b))return b.size=null;if(!b.size)b.size={};else if(b.size.ignoreScroll==d&&b.size.date>new Date-ja)return null;return D(b.size,A(a,b,d),{date:+new Date},!0)}function t(a,b){a.view.editable=A(a,a.editable,b,!0)}function v(a,b){a.view||(a.view={});var d=a.view;if(!(!b&&d&&d.date>new Date-ja)){var c=a.win,d=c.getScrollPosition(),c=c.getViewPaneSize();D(a.view,{scroll:{x:d.x,y:d.y,width:a.doc.$.documentElement.scrollWidth-c.width,height:a.doc.$.documentElement.scrollHeight-
c.height},pane:{width:c.width,height:c.height,bottom:c.height+d.y},date:+new Date},!0)}}function B(a,b,d,c){for(var e=c,g=c,h=0,k=!1,l=!1,m=a.view.pane.height,n=a.mouse;n.y+h<m&&0<n.y-h;){k||(k=b(e,c));l||(l=b(g,c));!k&&0<n.y-h&&(e=d(a,{x:n.x,y:n.y-h}));!l&&n.y+h<m&&(g=d(a,{x:n.x,y:n.y+h}));if(k&&l)break;h+=2}return new f([e,g,null,null])}CKEDITOR.plugins.add("magicline",{init:function(a){var b=a.config,k=b.magicline_triggerOffset||30,l={editor:a,enterMode:b.enterMode,triggerOffset:k,holdDistance:0|
k*(b.magicline_holdDistance||.5),boxColor:b.magicline_color||"#ff0000",rtl:"rtl"==b.contentsLangDirection,tabuList:["data-cke-hidden-sel"].concat(b.magicline_tabuList||[]),triggers:b.magicline_everywhere?ia:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}},u,r,B;l.isRelevant=function(a){return n(a)&&!g(l,a)&&!w(a)};a.on("contentDom",function(){var k=a.editable(),n=a.document,w=a.window;D(l,{editable:k,inInlineMode:k.isInline(),doc:n,win:w,hotNode:null},!0);l.boundary=l.inInlineMode?l.editable:
l.doc.getDocumentElement();k.is(G.$inline)||(l.inInlineMode&&!x(k)&&k.setStyles({position:"relative",top:null,left:null}),m.call(this,l),v(l),k.attachListener(a,"beforeUndoImage",function(){l.line.detach()}),k.attachListener(a,"beforeGetData",function(){l.line.wrap.getParent()&&(l.line.detach(),a.once("getData",function(){l.line.attach()},null,null,1E3))},null,null,0),k.attachListener(l.inInlineMode?n:n.getWindow().getFrame(),"mouseout",function(b){if("wysiwyg"==a.mode)if(l.inInlineMode){var d=b.data.$.clientX;
b=b.data.$.clientY;v(l);t(l,!0);var c=l.view.editable,e=l.view.scroll;d>c.left-e.x&&d<c.right-e.x&&b>c.top-e.y&&b<c.bottom-e.y||(clearTimeout(B),B=null,l.line.detach())}else clearTimeout(B),B=null,l.line.detach()}),k.attachListener(k,"keyup",function(){l.hiddenMode=0}),k.attachListener(k,"keydown",function(b){if("wysiwyg"==a.mode)switch(b.data.getKeystroke()){case 2228240:case 16:l.hiddenMode=1,l.line.detach()}}),k.attachListener(l.inInlineMode?k:n,"mousemove",function(b){r=!0;if("wysiwyg"==a.mode&&
!a.readOnly&&!B){var d={x:b.data.$.clientX,y:b.data.$.clientY};B=setTimeout(function(){l.mouse=d;B=l.trigger=null;v(l);r&&!l.hiddenMode&&a.focusManager.hasFocus&&!l.line.mouseNear()&&(l.element=Z(l,!0))&&((l.trigger=z(l)||q(l)||V(l))&&!p(l,l.trigger.upper||l.trigger.lower)?l.line.attach().place():(l.trigger=null,l.line.detach()),r=!1)},30)}}),k.attachListener(w,"scroll",function(){"wysiwyg"==a.mode&&(l.line.detach(),J.webkit&&(l.hiddenMode=1,clearTimeout(u),u=setTimeout(function(){l.mouseDown||(l.hiddenMode=
0)},50)))}),k.attachListener(K?n:w,"mousedown",function(){"wysiwyg"==a.mode&&(l.line.detach(),l.hiddenMode=1,l.mouseDown=1)}),k.attachListener(K?n:w,"mouseup",function(){l.hiddenMode=0;l.mouseDown=0}),a.addCommand("accessPreviousSpace",h(l)),a.addCommand("accessNextSpace",h(l,!0)),a.setKeystroke([[b.magicline_keystrokePrevious,"accessPreviousSpace"],[b.magicline_keystrokeNext,"accessNextSpace"]]),a.on("loadSnapshot",function(){var b,d,c,e;for(e in{p:1,br:1,div:1})for(b=a.document.getElementsByTag(e),
c=b.count();c--;)if((d=b.getItem(c)).data("cke-magicline-hot")){l.hotNode=d;l.lastCmdDirection="true"===d.data("cke-magicline-dir")?!0:!1;return}}),a._.magiclineBackdoor={accessFocusSpace:d,boxTrigger:f,isLine:g,getAscendantTrigger:e,getNonEmptyNeighbour:c,getSize:A,that:l,triggerEdge:q,triggerEditable:z,triggerExpand:V})},this)}});var D=CKEDITOR.tools.extend,C=CKEDITOR.dom.element,F=C.createFromHtml,J=CKEDITOR.env,K=CKEDITOR.env.ie&&9>CKEDITOR.env.version,G=CKEDITOR.dtd,M={},H=128,E=64,P=32,L=16,
N=4,O=2,X=1,S=" ",Y=G.$listItem,ea=G.$tableContent,U=D({},G.$nonEditable,G.$empty),ia=G.$block,ja=100,ga="width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;",ka=ga+"border-color:transparent;display:block;border-style:solid;",T="\x3cspan\x3e"+S+"\x3c/span\x3e";M[CKEDITOR.ENTER_BR]="br";M[CKEDITOR.ENTER_P]="p";M[CKEDITOR.ENTER_DIV]="div";f.prototype={set:function(a,b,d){this.properties=a+b+(d||X);return this},is:function(a){return(this.properties&
a)==a}};var Z=function(){function a(b,d){var c=b.$.elementFromPoint(d.x,d.y);return c&&c.nodeType?new CKEDITOR.dom.element(c):null}return function(b,d,c){if(!b.mouse)return null;var e=b.doc,f=b.line.wrap;c=c||b.mouse;var h=a(e,c);d&&g(b,h)&&(f.hide(),h=a(e,c),f.show());return!h||h.type!=CKEDITOR.NODE_ELEMENT||!h.$||J.ie&&9>J.version&&!b.boundary.equals(h)&&!b.boundary.contains(h)?null:h}}(),aa=CKEDITOR.dom.walker.whitespaces(),ca=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),V=function(){function d(e){var f=
e.element,g,h,l;if(!n(f)||f.contains(e.editable)||f.isReadOnly())return null;l=B(e,function(a,b){return!b.equals(a)},function(a,b){return Z(a,!0,b)},f);g=l.upper;h=l.lower;if(a(e,g,h))return l.set(P,8);if(g&&f.contains(g))for(;!g.getParent().equals(f);)g=g.getParent();else g=f.getFirst(function(a){return c(e,a)});if(h&&f.contains(h))for(;!h.getParent().equals(f);)h=h.getParent();else h=f.getLast(function(a){return c(e,a)});if(!g||!h)return null;y(e,g);y(e,h);if(!k(e.mouse.y,g.size.top,h.size.bottom))return null;
for(var f=Number.MAX_VALUE,m,I,p,v;h&&!h.equals(g)&&(I=g.getNext(e.isRelevant));)m=Math.abs(b(e,g,I)-e.mouse.y),m<f&&(f=m,p=g,v=I),g=I,y(e,g);if(!p||!v||!k(e.mouse.y,p.size.top,v.size.bottom))return null;l.upper=p;l.lower=v;return l.set(P,8)}function c(a,b){return!(b&&b.type==CKEDITOR.NODE_TEXT||ca(b)||w(b)||g(a,b)||b.type==CKEDITOR.NODE_ELEMENT&&b.$&&b.is("br"))}return function(b){var c=d(b),e;if(e=c){e=c.upper;var f=c.lower;e=!e||!f||w(f)||w(e)||f.equals(e)||e.equals(f)||f.contains(e)||e.contains(f)?
!1:r(b,e)&&r(b,f)&&a(b,e,f)?!0:!1}return e?c:null}}(),Q=["top","left","right","bottom"]}(),CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51,CKEDITOR.config.magicline_keystrokeNext=CKEDITOR.CTRL+CKEDITOR.SHIFT+52,function(){function a(a){if(!a||a.type!=CKEDITOR.NODE_ELEMENT||"form"!=a.getName())return[];for(var b=[],c=["style","className"],d=0;d<c.length;d++){var e=a.$.elements.namedItem(c[d]);e&&(e=new CKEDITOR.dom.element(e),b.push([e,e.nextSibling]),e.remove())}return b}
function f(a,b){if(a&&a.type==CKEDITOR.NODE_ELEMENT&&"form"==a.getName()&&0<b.length)for(var c=b.length-1;0<=c;c--){var d=b[c][0],e=b[c][1];e?d.insertBefore(e):d.appendTo(a)}}function e(b,c){var e=a(b),d={},h=b.$;c||(d["class"]=h.className||"",h.className="");d.inline=h.style.cssText||"";c||(h.style.cssText="position: static; overflow: visible");f(e);return d}function b(b,c){var e=a(b),d=b.$;"class"in c&&(d.className=c["class"]);"inline"in c&&(d.style.cssText=c.inline);f(e)}function c(a){if(!a.editable().isInline()){var b=
CKEDITOR.instances,c;for(c in b){var d=b[c];"wysiwyg"!=d.mode||d.readOnly||(d=d.document.getBody(),d.setAttribute("contentEditable",!1),d.setAttribute("contentEditable",!0))}a.editable().hasFocus&&(a.toolbox.focus(),a.focus())}}CKEDITOR.plugins.add("maximize",{init:function(a){function f(){var b=h.getViewPaneSize();a.resize(b.width,b.height,null,!0)}if(a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var m=a.lang,d=CKEDITOR.document,h=d.getWindow(),g,n,w,x=CKEDITOR.TRISTATE_OFF;a.addCommand("maximize",
{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var m=a.container.getFirst(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass("cke_inner")}),p=a.ui.space("contents");if("wysiwyg"==a.mode){var u=a.getSelection();g=u&&u.getRanges();n=h.getScrollPosition()}else{var z=a.editable().$;g=!CKEDITOR.env.ie&&[z.selectionStart,z.selectionEnd];n=[z.scrollLeft,z.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){h.on("resize",f);w=h.getScrollPosition();
for(u=a.container;u=u.getParent();)u.setCustomData("maximize_saved_styles",e(u)),u.setStyle("z-index",a.config.baseFloatZIndex-5);p.setCustomData("maximize_saved_styles",e(p,!0));m.setCustomData("maximize_saved_styles",e(m,!0));p={overflow:CKEDITOR.env.webkit?"":"hidden",width:0,height:0};d.getDocumentElement().setStyles(p);!CKEDITOR.env.gecko&&d.getDocumentElement().setStyle("position","fixed");CKEDITOR.env.gecko&&CKEDITOR.env.quirks||d.getBody().setStyles(p);CKEDITOR.env.ie?setTimeout(function(){h.$.scrollTo(0,
0)},0):h.$.scrollTo(0,0);m.setStyle("position",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?"fixed":"absolute");m.$.offsetLeft;m.setStyles({"z-index":a.config.baseFloatZIndex-5,left:"0px",top:"0px"});m.addClass("cke_maximized");f();p=m.getDocumentPosition();m.setStyles({left:-1*p.x+"px",top:-1*p.y+"px"});CKEDITOR.env.gecko&&c(a)}else if(this.state==CKEDITOR.TRISTATE_ON){h.removeListener("resize",f);for(var u=[p,m],q=0;q<u.length;q++)b(u[q],u[q].getCustomData("maximize_saved_styles")),u[q].removeCustomData("maximize_saved_styles");
for(u=a.container;u=u.getParent();)b(u,u.getCustomData("maximize_saved_styles")),u.removeCustomData("maximize_saved_styles");CKEDITOR.env.ie?setTimeout(function(){h.$.scrollTo(w.x,w.y)},0):h.$.scrollTo(w.x,w.y);m.removeClass("cke_maximized");CKEDITOR.env.webkit&&(m.setStyle("display","inline"),setTimeout(function(){m.setStyle("display","block")},0));a.fire("resize",{outerHeight:a.container.$.offsetHeight,contentsHeight:p.$.offsetHeight,outerWidth:a.container.$.offsetWidth})}this.toggleState();"wysiwyg"==
a.mode?g?(CKEDITOR.env.gecko&&c(a),a.getSelection().selectRanges(g),(z=a.getSelection().getStartElement())&&z.scrollIntoView(!0)):h.$.scrollTo(n.x,n.y):(g&&(z.selectionStart=g[0],z.selectionEnd=g[1]),z.scrollLeft=n[0],z.scrollTop=n[1]);g=n=null;x=this.state;a.fire("maximize",this.state)},canUndo:!1});a.ui.addButton&&a.ui.addButton("Maximize",{isToggle:!0,label:m.maximize.maximize,command:"maximize",toolbar:"tools,10"});a.on("mode",function(){var b=a.getCommand("maximize");b.setState(b.state==CKEDITOR.TRISTATE_DISABLED?
CKEDITOR.TRISTATE_DISABLED:x)},null,null,100);if(a.config.maximize_historyIntegration)h.on(a.config.maximize_historyIntegration===CKEDITOR.HISTORY_NATIVE?"popstate":"hashchange",function(){var b=a.getCommand("maximize");b.state===CKEDITOR.TRISTATE_ON&&b.exec()})}}});CKEDITOR.config.maximize_historyIntegration=CKEDITOR.HISTORY_NATIVE}(),function(){CKEDITOR.plugins.add("xml",{});CKEDITOR.xml=function(a){var f=null;if("object"==typeof a)f=a;else if(a=(a||"").replace(/&nbsp;/g," "),"ActiveXObject"in window){try{f=
new ActiveXObject("MSXML2.DOMDocument")}catch(e){try{f=new ActiveXObject("Microsoft.XmlDom")}catch(b){}}f&&(f.async=!1,f.resolveExternals=!1,f.validateOnParse=!1,f.loadXML(a))}else window.DOMParser&&(f=(new DOMParser).parseFromString(a,"text/xml"));this.baseXml=f};CKEDITOR.xml.prototype={selectSingleNode:function(a,f){var e=this.baseXml;if(f||(f=e)){if("selectSingleNode"in f)return f.selectSingleNode(a);if(e.evaluate)return(e=e.evaluate(a,f,null,9,null))&&e.singleNodeValue||null}return null},selectNodes:function(a,
f){var e=this.baseXml,b=[];if(f||(f=e)){if("selectNodes"in f)return f.selectNodes(a);if(e.evaluate&&(e=e.evaluate(a,f,null,5,null)))for(var c;c=e.iterateNext();)b.push(c)}return b},getInnerXml:function(a,f){var e=this.selectSingleNode(a,f),b=[];if(e)for(e=e.firstChild;e;)e.xml?b.push(e.xml):window.XMLSerializer&&b.push((new XMLSerializer).serializeToString(e)),e=e.nextSibling;return b.length?b.join(""):null}}}(),function(){CKEDITOR.plugins.add("ajax",{requires:"xml"});CKEDITOR.ajax=function(){function a(){if(!CKEDITOR.env.ie||
"file:"!=location.protocol)try{return new XMLHttpRequest}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(b){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}return null}function f(a,b){if(4!=a.readyState||!(200<=a.status&&300>a.status||304==a.status||0===a.status||1223==a.status))return null;switch(b){case "text":return a.responseText;case "xml":var e=a.responseXML;return new CKEDITOR.xml(e&&e.firstChild?e:a.responseText);case "arraybuffer":return a.response;default:return null}}
function e(b,e,l){var m=!!e,d=a();if(!d)return null;m&&"text"!==l&&"xml"!==l&&(d.responseType=l);d.open("GET",b,m);m&&(d.onreadystatechange=function(){4==d.readyState&&(e(f(d,l)),d=null)});d.send(null);return m?"":f(d,l)}function b(b,e,l,m,d){var h=a();if(!h)return null;h.open("POST",b,!0);h.onreadystatechange=function(){4==h.readyState&&(m&&m(f(h,d)),h=null)};h.setRequestHeader("Content-type",l||"application/x-www-form-urlencoded; charset\x3dUTF-8");h.send(e)}return{load:function(a,b,f){return e(a,
b,f||"text")},post:function(a,e,f,m){return b(a,e,f,m,"text")},loadXml:function(a,b){return e(a,b,"xml")},loadText:function(a,b){return e(a,b,"text")},loadBinary:function(a,b){return e(a,b,"arraybuffer")}}}()}(),function(){function a(a,b){return CKEDITOR.tools.array.filter(a,function(a){return a.canHandle(b)}).sort(function(a,b){return a.priority===b.priority?0:a.priority-b.priority})}function f(a,b){var d=a.shift();d&&d.handle(b,function(){f(a,b)})}function e(a){var b=CKEDITOR.tools.array.reduce(a,
function(a,b){return CKEDITOR.tools.array.isArray(b.filters)?a.concat(b.filters):a},[]);return CKEDITOR.tools.array.filter(b,function(a,c){return CKEDITOR.tools.array.indexOf(b,a)===c})}function b(a,b){var d=0,e,f;if(!CKEDITOR.tools.array.isArray(a)||0===a.length)return!0;e=CKEDITOR.tools.array.filter(a,function(a){return-1===CKEDITOR.tools.array.indexOf(c,a)});if(0<e.length)for(f=0;f<e.length;f++)(function(a){CKEDITOR.scriptLoader.queue(a,function(f){f&&c.push(a);++d===e.length&&b()})})(e[f]);return 0===
e.length}var c=[],k=CKEDITOR.tools.createClass({$:function(){this.handlers=[]},proto:{register:function(a){"number"!==typeof a.priority&&(a.priority=10);this.handlers.push(a)},addPasteListener:function(c){c.on("paste",function(k){var d=a(this.handlers,k),h;if(0!==d.length){h=e(d);h=b(h,function(){return c.fire("paste",k.data)});if(!h)return k.cancel();f(d,k)}},this,null,3)}}});CKEDITOR.plugins.add("pastetools",{requires:["clipboard","ajax"],beforeInit:function(a){a.pasteTools=new k;a.pasteTools.addPasteListener(a)}});
CKEDITOR.plugins.pastetools={filters:{},loadFilters:b,createFilter:function(a){var b=CKEDITOR.tools.array.isArray(a.rules)?a.rules:[a.rules],d=a.additionalTransforms;return function(a,c){var e=new CKEDITOR.htmlParser.basicWriter,f=new CKEDITOR.htmlParser.filter,k;d&&(a=d(a,c));CKEDITOR.tools.array.forEach(b,function(b){f.addRules(b(a,c,f))});k=CKEDITOR.htmlParser.fragment.fromHtml(a);f.applyTo(k);k.writeHtml(e);return e.getHtml()}},getClipboardData:function(a,b){var d;return CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||
"text/html"===b?(d=a.dataTransfer.getData(b,!0))||"text/html"!==b?d:a.dataValue:null},getConfigValue:function(a,b){if(a&&a.config){var d=CKEDITOR.tools,c=a.config,e=d.object.keys(c),f=["pasteTools_"+b,"pasteFromWord_"+b,"pasteFromWord"+d.capitalize(b,!0)],f=d.array.find(f,function(a){return-1!==d.array.indexOf(e,a)});return c[f]}},getContentGeneratorName:function(a){if((a=/<meta\s+name=["']?generator["']?\s+content=["']?(\w+)/gi.exec(a))&&a.length)return a=a[1].toLowerCase(),0===a.indexOf("microsoft")?
"microsoft":0===a.indexOf("libreoffice")?"libreoffice":"unknown"}};CKEDITOR.pasteFilters=CKEDITOR.plugins.pastetools.filters}(),function(){CKEDITOR.plugins.add("pastefromgdocs",{requires:"pastetools",init:function(a){var f=CKEDITOR.plugins.getPath("pastetools"),e=this.path;a.pasteTools.register({filters:[CKEDITOR.getUrl(f+"filter/common.js"),CKEDITOR.getUrl(e+"filter/default.js")],canHandle:function(a){return/id=(\"|\')?docs\-internal\-guid\-/.test(a.data.dataValue)},handle:function(b,c){var e=b.data,
f=CKEDITOR.plugins.pastetools.getClipboardData(e,"text/html");e.dontFilter=!0;e.dataValue=CKEDITOR.pasteFilters.gdocs(f,a);!0===a.config.forcePasteAsPlainText&&(e.type="text");c()}})}})}(),function(){CKEDITOR.plugins.add("pastefromlibreoffice",{requires:"pastetools",isSupportedEnvironment:function(){var a=CKEDITOR.env.ie&&11>=CKEDITOR.env.version;return!(CKEDITOR.env.webkit&&!CKEDITOR.env.chrome)&&!a},init:function(a){if(this.isSupportedEnvironment()){var f=CKEDITOR.plugins.getPath("pastetools"),
e=this.path;a.pasteTools.register({priority:100,filters:[CKEDITOR.getUrl(f+"filter/common.js"),CKEDITOR.getUrl(f+"filter/image.js"),CKEDITOR.getUrl(e+"filter/default.js")],canHandle:function(a){a=a.data;return(a=a.dataTransfer.getData("text/html",!0)||a.dataValue)?"libreoffice"===CKEDITOR.plugins.pastetools.getContentGeneratorName(a):!1},handle:function(b,c){var e=b.data,f=e.dataValue||CKEDITOR.plugins.pastetools.getClipboardData(e,"text/html");e.dontFilter=!0;f=CKEDITOR.pasteFilters.image(f,a,CKEDITOR.plugins.pastetools.getClipboardData(e,
"text/rtf"));e.dataValue=CKEDITOR.pasteFilters.libreoffice(f,a);!0===a.config.forcePasteAsPlainText&&(e.type="text");c()}})}}})}(),function(){CKEDITOR.plugins.add("pastefromword",{requires:"pastetools",init:function(a){var f=0,e=CKEDITOR.plugins.getPath("pastetools"),b=this.path,c=void 0===a.config.pasteFromWord_inlineImages?!0:a.config.pasteFromWord_inlineImages,e=[CKEDITOR.getUrl(e+"filter/common.js"),CKEDITOR.getUrl(e+"filter/image.js"),CKEDITOR.getUrl(b+"filter/default.js")];a.addCommand("pastefromword",
{canUndo:!1,async:!0,exec:function(a,b){f=1;a.execCommand("paste",{type:"html",notification:b&&"undefined"!==typeof b.notification?b.notification:!0})}});CKEDITOR.plugins.clipboard.addPasteButton(a,"PasteFromWord",{label:a.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"});a.pasteTools.register({filters:a.config.pasteFromWordCleanupFile?[a.config.pasteFromWordCleanupFile]:e,canHandle:function(a){a=CKEDITOR.plugins.pastetools.getClipboardData(a.data,"text/html");var b=CKEDITOR.plugins.pastetools.getContentGeneratorName(a),
c=/(class="?Mso|style=["'][^"]*?\bmso\-|w:WordDocument|<o:\w+>|<\/font>)/,b=b?"microsoft"===b:c.test(a);return a&&(f||b)},handle:function(b,e){var m=b.data,d=CKEDITOR.plugins.pastetools.getClipboardData(m,"text/html"),h=CKEDITOR.plugins.pastetools.getClipboardData(m,"text/rtf"),d={dataValue:d,dataTransfer:{"text/rtf":h}};if(!1!==a.fire("pasteFromWord",d)||f){m.dontFilter=!0;if(f||!a.config.pasteFromWordPromptCleanup||confirm(a.lang.pastefromword.confirmCleanup))d.dataValue=CKEDITOR.cleanWord(d.dataValue,
a),CKEDITOR.plugins.clipboard.isCustomDataTypesSupported&&c&&CKEDITOR.pasteFilters.image&&(d.dataValue=CKEDITOR.pasteFilters.image(d.dataValue,a,h)),a.fire("afterPasteFromWord",d),m.dataValue=d.dataValue,!0===a.config.forcePasteAsPlainText?m.type="text":CKEDITOR.plugins.clipboard.isCustomCopyCutSupported||"allow-word"!==a.config.forcePasteAsPlainText||(m.type="html");f=0;e()}}})}})}(),function(){var a={canUndo:!1,async:!0,exec:function(a,e){var b=a.lang,c=CKEDITOR.tools.keystrokeToString(b.common.keyboard,
a.getCommandKeystroke(CKEDITOR.env.ie?a.commands.paste:this)),k=e&&"undefined"!==typeof e.notification?e.notification:!e||!e.from||"keystrokeHandler"===e.from&&CKEDITOR.env.ie,b=k&&"string"===typeof k?k:b.pastetext.pasteNotification.replace(/%1/,'\x3ckbd aria-label\x3d"'+c.aria+'"\x3e'+c.display+"\x3c/kbd\x3e");a.execCommand("paste",{type:"text",notification:k?b:!1})}};CKEDITOR.plugins.add("pastetext",{requires:"clipboard",init:function(f){var e=CKEDITOR.env.safari?CKEDITOR.CTRL+CKEDITOR.ALT+CKEDITOR.SHIFT+
86:CKEDITOR.CTRL+CKEDITOR.SHIFT+86;f.addCommand("pastetext",a);f.setKeystroke(e,"pastetext");CKEDITOR.plugins.clipboard.addPasteButton(f,"PasteText",{label:f.lang.pastetext.button,command:"pastetext",toolbar:"clipboard,40"});if(f.config.forcePasteAsPlainText)f.on("beforePaste",function(a){"html"!=a.data.type&&(a.data.type="text")});f.on("pasteState",function(a){f.getCommand("pastetext").setState(a.data)})}})}(),CKEDITOR.plugins.add("removeformat",{init:function(a){a.addCommand("removeFormat",CKEDITOR.plugins.removeformat.commands.removeformat);
a.ui.addButton&&a.ui.addButton("RemoveFormat",{label:a.lang.removeformat.toolbar,command:"removeFormat",toolbar:"cleanup,10"})}}),CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(a){for(var f=a._.removeFormatRegex||(a._.removeFormatRegex=new RegExp("^(?:"+a.config.removeFormatTags.replace(/,/g,"|")+")$","i")),e=a._.removeAttributes||(a._.removeAttributes=a.config.removeFormatAttributes.split(",")),b=CKEDITOR.plugins.removeformat.filter,c=a.getSelection().getRanges(),k=c.createIterator(),
l=function(a){return a.type==CKEDITOR.NODE_ELEMENT},m;m=k.getNextRange();){m.enlarge(CKEDITOR.ENLARGE_INLINE);var d=m.createBookmark(),h=d.startNode,g=d.endNode,n=function(d){for(var c=a.elementPath(d),e=c.elements,g=1,h;(h=e[g])&&!h.equals(c.block)&&!h.equals(c.blockLimit);g++)f.test(h.getName())&&b(a,h)&&d.breakParent(h)};n(h);if(g)for(n(g),h=h.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);h&&!h.equals(g);)if(h.isReadOnly()){if(h.getPosition(g)&CKEDITOR.POSITION_CONTAINS)break;h=h.getNext(l)}else n=
h.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),"img"==h.getName()&&h.data("cke-realelement")||!b(a,h)||(f.test(h.getName())?h.remove(1):(h.removeAttributes(e),a.fire("removeFormatCleanup",h))),h=n;m.moveToBookmark(d)}a.forceNextSelectionCheck();a.getSelection().selectRanges(c)}}},filter:function(a,f){for(var e=a._.removeFormatFilters||[],b=0;b<e.length;b++)if(!1===e[b](f))return!1;return!0}},CKEDITOR.editor.prototype.addRemoveFormatFilter=function(a){this._.removeFormatFilters||(this._.removeFormatFilters=
[]);this._.removeFormatFilters.push(a)},CKEDITOR.config.removeFormatTags="b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var",CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign",CKEDITOR.plugins.add("resize",{init:function(a){function f(c){var e=d.width,f=d.height,l=e+(c.data.$.screenX-m.x)*("rtl"==k?-1:1);c=f+(c.data.$.screenY-m.y);h&&(e=Math.max(b.resize_minWidth,Math.min(l,b.resize_maxWidth)));g&&(f=Math.max(b.resize_minHeight,
Math.min(c,b.resize_maxHeight)));a.resize(h?e:null,f)}function e(){CKEDITOR.document.removeListener("mousemove",f);CKEDITOR.document.removeListener("mouseup",e);a.document&&(a.document.removeListener("mousemove",f),a.document.removeListener("mouseup",e))}var b=a.config,c=a.ui.spaceId("resizer"),k=a.element?a.element.getDirection(1):"ltr";!b.resize_dir&&(b.resize_dir="vertical");void 0===b.resize_maxWidth&&(b.resize_maxWidth=3E3);void 0===b.resize_maxHeight&&(b.resize_maxHeight=3E3);void 0===b.resize_minWidth&&
(b.resize_minWidth=750);void 0===b.resize_minHeight&&(b.resize_minHeight=250);if(!1!==b.resize_enabled){var l=null,m,d,h=("both"==b.resize_dir||"horizontal"==b.resize_dir)&&b.resize_minWidth!=b.resize_maxWidth,g=("both"==b.resize_dir||"vertical"==b.resize_dir)&&b.resize_minHeight!=b.resize_maxHeight,n=CKEDITOR.tools.addFunction(function(c){l||(l=a.getResizable());d={width:l.$.offsetWidth||0,height:l.$.offsetHeight||0};m={x:c.screenX,y:c.screenY};b.resize_minWidth>d.width&&(b.resize_minWidth=d.width);
b.resize_minHeight>d.height&&(b.resize_minHeight=d.height);CKEDITOR.document.on("mousemove",f);CKEDITOR.document.on("mouseup",e);a.document&&(a.document.on("mousemove",f),a.document.on("mouseup",e));c.preventDefault&&c.preventDefault()});a.on("destroy",function(){CKEDITOR.tools.removeFunction(n)});a.on("uiSpace",function(b){if("bottom"==b.data.space){var d="";h&&!g&&(d=" cke_resizer_horizontal");!h&&g&&(d=" cke_resizer_vertical");var e='\x3cspan id\x3d"'+c+'" class\x3d"cke_resizer'+d+" cke_resizer_"+
k+'" title\x3d"'+CKEDITOR.tools.htmlEncode(a.lang.common.resize)+'" onmousedown\x3d"CKEDITOR.tools.callFunction('+n+', event)"\x3e'+("ltr"==k?"◢":"◣")+"\x3c/span\x3e";"ltr"==k&&"ltr"==d?b.data.html+=e:b.data.html=e+b.data.html}},a,null,100);a.on("maximize",function(b){a.ui.space("resizer")[b.data==CKEDITOR.TRISTATE_ON?"hide":"show"]()})}}}),CKEDITOR.plugins.add("menubutton",{requires:"button,menu",onLoad:function(){var a=function(a){var e=this._,b=CKEDITOR.document.getById(e.id),c=e.menu;e.state!==
CKEDITOR.TRISTATE_DISABLED&&(e.on&&c?c.hide():(e.previousState=e.state,c||(c=e.menu=new CKEDITOR.menu(a,{panel:{className:"cke_menu_panel",attributes:{"aria-label":a.lang.common.options}}}),c.onHide=CKEDITOR.tools.bind(function(){var c=this.command?a.getCommand(this.command).modes:this.modes;this.setState(!c||c[a.mode]?e.previousState:CKEDITOR.TRISTATE_DISABLED);e.on=0;b.setAttribute("aria-expanded","false")},this),this.onMenu&&c.addListener(this.onMenu)),this.setState(CKEDITOR.TRISTATE_ON),e.on=
1,b.setAttribute("aria-expanded","true"),setTimeout(function(){c.show(CKEDITOR.document.getById(e.id),4)},0)))};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(f){delete f.panel;this.base(f);this.hasArrow="menu";this.click=a},statics:{handler:{create:function(a){return new CKEDITOR.ui.menuButton(a)}}}})},beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}}),CKEDITOR.UI_MENUBUTTON="menubutton","use strict",CKEDITOR.plugins.add("scayt",
{requires:"menubutton,dialog",tabToOpen:null,dialogName:"scaytDialog",onLoad:function(a){"moono-lisa"==(CKEDITOR.skinName||a.config.skin)&&CKEDITOR.document.appendStyleSheet(CKEDITOR.getUrl(this.path+"skins/"+CKEDITOR.skin.name+"/scayt.css"));CKEDITOR.document.appendStyleSheet(CKEDITOR.getUrl(this.path+"dialogs/dialog.css"));var f=!1;CKEDITOR.on("instanceLoaded",function(a){if(!f&&CKEDITOR.plugins.autocomplete){f=!0;var b=CKEDITOR.plugins.autocomplete.prototype.getModel;CKEDITOR.plugins.autocomplete.prototype.getModel=
function(a){var e=this.editor;a=b.bind(this)(a);a.on("change-isActive",function(a){a.data?e.fire("autocompletePanelShow"):e.fire("autocompletePanelHide")});return a}}})},init:function(a){var f=this,e=CKEDITOR.plugins.scayt;this.bindEvents(a);this.parseConfig(a);this.addRule(a);CKEDITOR.dialog.add(this.dialogName,CKEDITOR.getUrl(this.path+"dialogs/options.js"));this.addMenuItems(a);var b=a.lang.scayt,c=CKEDITOR.env;a.ui.add("Scayt",CKEDITOR.UI_MENUBUTTON,{label:b.text_title,title:a.plugins.wsc?a.lang.wsc.title:
b.text_title,modes:{wysiwyg:!(c.ie&&(8>c.version||c.quirks))},toolbar:"spellchecker,20",refresh:function(){var b=a.ui.instances.Scayt.getState();a.scayt&&(b=e.state.scayt[a.name]?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF);a.fire("scaytButtonState",b)},onRender:function(){var b=this;a.on("scaytButtonState",function(a){void 0!==typeof a.data&&b.setState(a.data)})},onMenu:function(){var b=a.scayt;a.getMenuItem("scaytToggle").label=a.lang.scayt[b&&e.state.scayt[a.name]?"btn_disable":"btn_enable"];var c=
{scaytToggle:CKEDITOR.TRISTATE_OFF,scaytOptions:b?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytLangs:b?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytDict:b?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytAbout:b?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,WSC:a.plugins.wsc?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};a.config.scayt_uiTabs[0]||delete c.scaytOptions;a.config.scayt_uiTabs[1]||delete c.scaytLangs;a.config.scayt_uiTabs[2]||delete c.scaytDict;b&&!CKEDITOR.plugins.scayt.isNewUdSupported(b)&&
(delete c.scaytDict,a.config.scayt_uiTabs[2]=0,CKEDITOR.plugins.scayt.alarmCompatibilityMessage());return c}});a.contextMenu&&a.addMenuItems&&(a.contextMenu.addListener(function(b,c){var e=a.scayt,d,h;e&&(h=e.getSelectionNode())&&(d=f.menuGenerator(a,h),e.showBanner("."+a.contextMenu._.definition.panel.className.split(" ").join(" .")));return d}),a.contextMenu._.onHide=CKEDITOR.tools.override(a.contextMenu._.onHide,function(b){return function(){var c=a.scayt;c&&c.hideBanner();return b.apply(this)}}))},
addMenuItems:function(a){var f=this,e=CKEDITOR.plugins.scayt;a.addMenuGroup("scaytButton");for(var b=a.config.scayt_contextMenuItemsOrder.split("|"),c=0;c<b.length;c++)b[c]="scayt_"+b[c];if((b=["grayt_description","grayt_suggest","grayt_control"].concat(b))&&b.length)for(c=0;c<b.length;c++)a.addMenuGroup(b[c],c-10);a.addCommand("scaytToggle",{exec:function(a){var b=a.scayt;e.state.scayt[a.name]=!e.state.scayt[a.name];!0===e.state.scayt[a.name]?b||e.createScayt(a):b&&e.destroy(a)}});a.addCommand("scaytAbout",
{exec:function(a){a.scayt.tabToOpen="about";e.openDialog(f.dialogName,a)}});a.addCommand("scaytOptions",{exec:function(a){a.scayt.tabToOpen="options";e.openDialog(f.dialogName,a)}});a.addCommand("scaytLangs",{exec:function(a){a.scayt.tabToOpen="langs";e.openDialog(f.dialogName,a)}});a.addCommand("scaytDict",{exec:function(a){a.scayt.tabToOpen="dictionaries";e.openDialog(f.dialogName,a)}});b={scaytToggle:{label:a.lang.scayt.btn_enable,group:"scaytButton",command:"scaytToggle"},scaytAbout:{label:a.lang.scayt.btn_about,
group:"scaytButton",command:"scaytAbout"},scaytOptions:{label:a.lang.scayt.btn_options,group:"scaytButton",command:"scaytOptions"},scaytLangs:{label:a.lang.scayt.btn_langs,group:"scaytButton",command:"scaytLangs"},scaytDict:{label:a.lang.scayt.btn_dictionaries,group:"scaytButton",command:"scaytDict"}};a.plugins.wsc&&(b.WSC={label:a.lang.wsc.toolbar,group:"scaytButton",onClick:function(){var b=CKEDITOR.plugins.scayt,c=a.scayt,e=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.container.getText():a.document.getBody().getText();
(e=e.replace(/\s/g,""))?(c&&b.state.scayt[a.name]&&c.setMarkupPaused&&c.setMarkupPaused(!0),a.lockSelection(),a.execCommand("checkspell")):alert("Nothing to check!")}});a.addMenuItems(b)},bindEvents:function(a){var f=CKEDITOR.plugins.scayt,e=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE,b=function(){f.destroy(a)},c=function(){!f.state.scayt[a.name]||a.readOnly||a.scayt||f.createScayt(a)},k=function(){var b=a.editable();b.attachListener(b,"focus",function(b){CKEDITOR.plugins.scayt&&!a.scayt&&setTimeout(c,
0);b=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[a.name]&&a.scayt;var f,g;if((e||b)&&a._.savedSelection){b=a._.savedSelection.getSelectedElement();b=!b&&a._.savedSelection.getRanges();for(var k=0;k<b.length;k++)g=b[k],"string"===typeof g.startContainer.$.nodeValue&&(f=g.startContainer.getText().length,(f<g.startOffset||f<g.endOffset)&&a.unlockSelection(!1))}},this,null,-10)},l=function(){e?a.config.scayt_inlineModeImmediateMarkup?c():(a.on("blur",function(){setTimeout(b,0)}),a.on("focus",
c),a.focusManager.hasFocus&&c()):c();k();var f=a.editable();f.attachListener(f,"mousedown",function(b){b=b.data.getTarget();var c=a.widgets&&a.widgets.getByElement(b);c&&(c.wrapper=b.getAscendant(function(a){return a.hasAttribute("data-cke-widget-wrapper")},!0))},this,null,-10)};a.on("contentDom",l);a.on("beforeCommandExec",function(b){var d=a.scayt,c=!1,e=!1,k=!0;b.data.name in f.options.disablingCommandExec&&"wysiwyg"==a.mode?d&&(f.destroy(a),a.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)):
"bold"!==b.data.name&&"italic"!==b.data.name&&"underline"!==b.data.name&&"strike"!==b.data.name&&"subscript"!==b.data.name&&"superscript"!==b.data.name&&"enter"!==b.data.name&&"cut"!==b.data.name&&"language"!==b.data.name||!d||("cut"===b.data.name&&(k=!1,e=!0),"language"===b.data.name&&(e=c=!0),a.fire("reloadMarkupScayt",{removeOptions:{removeInside:k,forceBookmark:e,language:c},timeout:0}))});a.on("beforeSetMode",function(b){if("source"==b.data){if(b=a.scayt)f.destroy(a),a.fire("scaytButtonState",
CKEDITOR.TRISTATE_DISABLED);a.document&&a.document.getBody().removeAttribute("_jquid")}});a.on("afterCommandExec",function(b){"wysiwyg"!=a.mode||"undo"!=b.data.name&&"redo"!=b.data.name||setTimeout(function(){f.reloadMarkup(a.scayt)},250)});a.on("readOnly",function(b){var d;b&&(d=a.scayt,!0===b.editor.readOnly?d&&d.fire("removeMarkupInDocument",{}):d?f.reloadMarkup(d):"wysiwyg"==b.editor.mode&&!0===f.state.scayt[b.editor.name]&&(f.createScayt(a),b.editor.fire("scaytButtonState",CKEDITOR.TRISTATE_ON)))});
a.on("beforeDestroy",b);a.on("setData",function(){b();(a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE||a.plugins.divarea)&&l()},this,null,50);a.on("reloadMarkupScayt",function(b){var d=b.data&&b.data.removeOptions,c=b.data&&b.data.timeout,e=b.data&&b.data.language,k=a.scayt;k&&setTimeout(function(){e&&(d.selectionNode=a.plugins.language.getCurrentLangElement(a),d.selectionNode=d.selectionNode&&d.selectionNode.$||null);k.removeMarkupInSelectionNode(d);f.reloadMarkup(k)},c||0)});a.on("insertElement",function(){a.fire("reloadMarkupScayt",
{removeOptions:{forceBookmark:!0}})},this,null,50);a.on("insertHtml",function(){a.scayt&&a.scayt.setFocused&&a.scayt.setFocused(!0);a.fire("reloadMarkupScayt")},this,null,50);a.on("insertText",function(){a.scayt&&a.scayt.setFocused&&a.scayt.setFocused(!0);a.fire("reloadMarkupScayt")},this,null,50);a.on("scaytDialogShown",function(b){b.data.selectPage(a.scayt.tabToOpen)});a.on("autocompletePanelShow",function(b){(b=a.scayt)&&b.setMarkupPaused&&b.setMarkupPaused(!0)});a.on("autocompletePanelHide",function(b){(b=
a.scayt)&&b.setMarkupPaused&&b.setMarkupPaused(!1)})},parseConfig:function(a){var f=CKEDITOR.plugins.scayt;f.replaceOldOptionsNames(a.config);"boolean"!==typeof a.config.scayt_autoStartup&&(a.config.scayt_autoStartup=!1);f.state.scayt[a.name]=a.config.scayt_autoStartup;"boolean"!==typeof a.config.grayt_autoStartup&&(a.config.grayt_autoStartup=!1);"boolean"!==typeof a.config.scayt_inlineModeImmediateMarkup&&(a.config.scayt_inlineModeImmediateMarkup=!1);f.state.grayt[a.name]=a.config.grayt_autoStartup;
a.config.scayt_contextCommands||(a.config.scayt_contextCommands="ignoreall|add");a.config.scayt_contextMenuItemsOrder||(a.config.scayt_contextMenuItemsOrder="suggest|moresuggest|control");a.config.scayt_sLang||(a.config.scayt_sLang="en_US");if(void 0===a.config.scayt_maxSuggestions||"number"!=typeof a.config.scayt_maxSuggestions||0>a.config.scayt_maxSuggestions)a.config.scayt_maxSuggestions=3;if(void 0===a.config.scayt_minWordLength||"number"!=typeof a.config.scayt_minWordLength||1>a.config.scayt_minWordLength)a.config.scayt_minWordLength=
3;if(void 0===a.config.scayt_customDictionaryIds||"string"!==typeof a.config.scayt_customDictionaryIds)a.config.scayt_customDictionaryIds="";if(void 0===a.config.scayt_userDictionaryName||"string"!==typeof a.config.scayt_userDictionaryName)a.config.scayt_userDictionaryName=null;if("string"===typeof a.config.scayt_uiTabs&&3===a.config.scayt_uiTabs.split(",").length){var e=[],b=[];a.config.scayt_uiTabs=a.config.scayt_uiTabs.split(",");CKEDITOR.tools.search(a.config.scayt_uiTabs,function(a){1===Number(a)||
0===Number(a)?(b.push(!0),e.push(Number(a))):b.push(!1)});null===CKEDITOR.tools.search(b,!1)?a.config.scayt_uiTabs=e:a.config.scayt_uiTabs=[1,1,1]}else a.config.scayt_uiTabs=[1,1,1];"string"!=typeof a.config.scayt_serviceProtocol&&(a.config.scayt_serviceProtocol=null);"string"!=typeof a.config.scayt_serviceHost&&(a.config.scayt_serviceHost=null);"string"!=typeof a.config.scayt_servicePort&&(a.config.scayt_servicePort=null);"string"!=typeof a.config.scayt_servicePath&&(a.config.scayt_servicePath=null);
a.config.scayt_moreSuggestions||(a.config.scayt_moreSuggestions="on");"string"!==typeof a.config.scayt_customerId&&(a.config.scayt_customerId="1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2");"string"!==typeof a.config.scayt_customPunctuation&&(a.config.scayt_customPunctuation="-");"string"!==typeof a.config.scayt_srcUrl&&(a.config.scayt_srcUrl="https://svc.webspellchecker.net/spellcheck31/wscbundle/wscbundle.js");"boolean"!==typeof CKEDITOR.config.scayt_handleCheckDirty&&
(CKEDITOR.config.scayt_handleCheckDirty=!0);"boolean"!==typeof CKEDITOR.config.scayt_handleUndoRedo&&(CKEDITOR.config.scayt_handleUndoRedo=!0);CKEDITOR.config.scayt_handleUndoRedo=CKEDITOR.plugins.undo?CKEDITOR.config.scayt_handleUndoRedo:!1;a.config.scayt_ignoreAllCapsWords&&"boolean"!==typeof a.config.scayt_ignoreAllCapsWords&&(a.config.scayt_ignoreAllCapsWords=!1);a.config.scayt_ignoreDomainNames&&"boolean"!==typeof a.config.scayt_ignoreDomainNames&&(a.config.scayt_ignoreDomainNames=!1);a.config.scayt_ignoreWordsWithMixedCases&&
"boolean"!==typeof a.config.scayt_ignoreWordsWithMixedCases&&(a.config.scayt_ignoreWordsWithMixedCases=!1);a.config.scayt_ignoreWordsWithNumbers&&"boolean"!==typeof a.config.scayt_ignoreWordsWithNumbers&&(a.config.scayt_ignoreWordsWithNumbers=!1);if(a.config.scayt_disableOptionsStorage){var f=CKEDITOR.tools.isArray(a.config.scayt_disableOptionsStorage)?a.config.scayt_disableOptionsStorage:"string"===typeof a.config.scayt_disableOptionsStorage?[a.config.scayt_disableOptionsStorage]:void 0,c="all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers".split(" "),
k=["lang","ignore-all-caps-words","ignore-domain-names","ignore-words-with-mixed-cases","ignore-words-with-numbers"],l=CKEDITOR.tools.search,m=CKEDITOR.tools.indexOf;a.config.scayt_disableOptionsStorage=function(a){for(var b=[],e=0;e<a.length;e++){var f=a[e],w=!!l(a,"options");if(!l(c,f)||w&&l(k,function(a){if("lang"===a)return!1}))return;l(k,f)&&k.splice(m(k,f),1);if("all"===f||w&&l(a,"lang"))return[];"options"===f&&(k=["lang"])}return b=b.concat(k)}(f)}},addRule:function(a){var f=CKEDITOR.plugins.scayt,
e=a.dataProcessor,b=e&&e.htmlFilter,c=a._.elementsPath&&a._.elementsPath.filters,e=e&&e.dataFilter,k=a.addRemoveFormatFilter,l=function(b){if(a.scayt&&(b.hasAttribute(f.options.data_attribute_name)||b.hasAttribute(f.options.problem_grammar_data_attribute)))return!1},m=function(b){var c=!0;a.scayt&&(b.hasAttribute(f.options.data_attribute_name)||b.hasAttribute(f.options.problem_grammar_data_attribute))&&(c=!1);return c};c&&c.push(l);e&&e.addRules({elements:{span:function(a){var b=a.hasClass(f.options.misspelled_word_class)&&
a.attributes[f.options.data_attribute_name],c=a.hasClass(f.options.problem_grammar_class)&&a.attributes[f.options.problem_grammar_data_attribute];f&&(b||c)&&delete a.name;return a}}});b&&b.addRules({elements:{span:function(a){var b=a.hasClass(f.options.misspelled_word_class)&&a.attributes[f.options.data_attribute_name],c=a.hasClass(f.options.problem_grammar_class)&&a.attributes[f.options.problem_grammar_data_attribute];f&&(b||c)&&delete a.name;return a}}});k&&k.call(a,m)},scaytMenuDefinition:function(a){var f=
this,e=CKEDITOR.plugins.scayt;a=a.scayt;return{scayt:{scayt_ignore:{label:a.getLocal("btn_ignore"),group:"scayt_control",order:1,exec:function(a){a.scayt.ignoreWord()}},scayt_ignoreall:{label:a.getLocal("btn_ignoreAll"),group:"scayt_control",order:2,exec:function(a){a.scayt.ignoreAllWords()}},scayt_add:{label:a.getLocal("btn_addWord"),group:"scayt_control",order:3,exec:function(a){var c=a.scayt;setTimeout(function(){c.addWordToUserDictionary()},10)}},scayt_option:{label:a.getLocal("btn_options"),
group:"scayt_control",order:4,exec:function(a){a.scayt.tabToOpen="options";e.openDialog(f.dialogName,a)},verification:function(a){return 1==a.config.scayt_uiTabs[0]?!0:!1}},scayt_language:{label:a.getLocal("btn_langs"),group:"scayt_control",order:5,exec:function(a){a.scayt.tabToOpen="langs";e.openDialog(f.dialogName,a)},verification:function(a){return 1==a.config.scayt_uiTabs[1]?!0:!1}},scayt_dictionary:{label:a.getLocal("btn_dictionaries"),group:"scayt_control",order:6,exec:function(a){a.scayt.tabToOpen=
"dictionaries";e.openDialog(f.dialogName,a)},verification:function(a){return 1==a.config.scayt_uiTabs[2]?!0:!1}},scayt_about:{label:a.getLocal("btn_about"),group:"scayt_control",order:7,exec:function(a){a.scayt.tabToOpen="about";e.openDialog(f.dialogName,a)}}},grayt:{grayt_problemdescription:{label:"Grammar problem description",group:"grayt_description",order:1,state:CKEDITOR.TRISTATE_DISABLED,exec:function(a){}},grayt_ignore:{label:a.getLocal("btn_ignore"),group:"grayt_control",order:2,exec:function(a){a.scayt.ignorePhrase()}},
grayt_ignoreall:{label:a.getLocal("btn_ignoreAll"),group:"grayt_control",order:3,exec:function(a){a.scayt.ignoreAllPhrases()}}}}},buildSuggestionMenuItems:function(a,f,e){var b={},c={},k=e?"word":"phrase",l=e?"startGrammarCheck":"startSpellCheck",m=a.scayt;if(0<f.length&&"no_any_suggestions"!==f[0])if(e)for(e=0;e<f.length;e++){var d="scayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[e].replace(" ","_");a.addCommand(d,this.createCommand(CKEDITOR.plugins.scayt.suggestions[e],k,l));e<a.config.scayt_maxSuggestions?
(a.addMenuItem(d,{label:f[e],command:d,group:"scayt_suggest",order:e+1}),b[d]=CKEDITOR.TRISTATE_OFF):(a.addMenuItem(d,{label:f[e],command:d,group:"scayt_moresuggest",order:e+1}),c[d]=CKEDITOR.TRISTATE_OFF,"on"===a.config.scayt_moreSuggestions&&(a.addMenuItem("scayt_moresuggest",{label:m.getLocal("btn_moreSuggestions"),group:"scayt_moresuggest",order:10,getItems:function(){return c}}),b.scayt_moresuggest=CKEDITOR.TRISTATE_OFF))}else for(e=0;e<f.length;e++)d="grayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[e].replace(" ",
"_"),a.addCommand(d,this.createCommand(CKEDITOR.plugins.scayt.suggestions[e],k,l)),a.addMenuItem(d,{label:f[e],command:d,group:"grayt_suggest",order:e+1}),b[d]=CKEDITOR.TRISTATE_OFF;else b.no_scayt_suggest=CKEDITOR.TRISTATE_DISABLED,a.addCommand("no_scayt_suggest",{exec:function(){}}),a.addMenuItem("no_scayt_suggest",{label:m.getLocal("btn_noSuggestions")||"no_scayt_suggest",command:"no_scayt_suggest",group:"scayt_suggest",order:0});return b},menuGenerator:function(a,f){var e=a.scayt,b=this.scaytMenuDefinition(a),
c={},k=a.config.scayt_contextCommands.split("|"),l=f.getAttribute(e.getLangAttribute())||e.getLang(),m,d,h,g;d=e.isScaytNode(f);h=e.isGraytNode(f);d?(b=b.scayt,m=f.getAttribute(e.getScaytNodeAttributeName()),e.fire("getSuggestionsList",{lang:l,word:m}),c=this.buildSuggestionMenuItems(a,CKEDITOR.plugins.scayt.suggestions,d)):h&&(b=b.grayt,c=f.getAttribute(e.getGraytNodeAttributeName()),e.getGraytNodeRuleAttributeName?(m=f.getAttribute(e.getGraytNodeRuleAttributeName()),e.getProblemDescriptionText(c,
m,l)):e.getProblemDescriptionText(c,l),g=e.getProblemDescriptionText(c,m,l),b.grayt_problemdescription&&g&&(g=g.replace(/([.!?])\s/g,"$1\x3cbr\x3e"),b.grayt_problemdescription.label=g),e.fire("getGrammarSuggestionsList",{lang:l,phrase:c,rule:m}),c=this.buildSuggestionMenuItems(a,CKEDITOR.plugins.scayt.suggestions,d));if(d&&"off"==a.config.scayt_contextCommands)return c;for(var n in b)d&&-1==CKEDITOR.tools.indexOf(k,n.replace("scayt_",""))&&"all"!=a.config.scayt_contextCommands||h&&"grayt_problemdescription"!==
n&&-1==CKEDITOR.tools.indexOf(k,n.replace("grayt_",""))&&"all"!=a.config.scayt_contextCommands||(c[n]="undefined"!=typeof b[n].state?b[n].state:CKEDITOR.TRISTATE_OFF,"function"!==typeof b[n].verification||b[n].verification(a)||delete c[n],a.addCommand(n,{exec:b[n].exec}),a.addMenuItem(n,{label:a.lang.scayt[b[n].label]||b[n].label,command:n,group:b[n].group,order:b[n].order}));return c},createCommand:function(a,f,e){return{exec:function(b){b=b.scayt;var c={};c[f]=a;b.replaceSelectionNode(c);"startGrammarCheck"===
e&&b.removeMarkupInSelectionNode({grammarOnly:!0});b.fire(e)}}}}),CKEDITOR.plugins.scayt={charsToObserve:[{charName:"cke-fillingChar",charCode:function(){var a=CKEDITOR.version,f=[4,5,6],e=String.fromCharCode(8203),b=Array(8).join(e),c,k;if(!a)return e;for(var a=a.split("."),l=0;l<f.length;l++){c=f[l];k=Number(a[l]);if(k>c)return b;if(k<c)break}return e}()}],state:{scayt:{},grayt:{}},warningCounter:0,suggestions:[],options:{disablingCommandExec:{source:!0,newpage:!0,templates:!0},data_attribute_name:"data-scayt-word",
misspelled_word_class:"scayt-misspell-word",problem_grammar_data_attribute:"data-grayt-phrase",problem_grammar_class:"gramm-problem"},backCompatibilityMap:{scayt_service_protocol:"scayt_serviceProtocol",scayt_service_host:"scayt_serviceHost",scayt_service_port:"scayt_servicePort",scayt_service_path:"scayt_servicePath",scayt_customerid:"scayt_customerId"},openDialog:function(a,f){var e=f.scayt;e.isAllModulesReady&&!1===e.isAllModulesReady()||(f.lockSelection(),f.openDialog(a))},alarmCompatibilityMessage:function(){5>
this.warningCounter&&(console.warn("You are using the latest version of SCAYT plugin for CKEditor with the old application version. In order to have access to the newest features, it is recommended to upgrade the application version to latest one as well. Contact us for more details at support@webspellchecker.net."),this.warningCounter+=1)},isNewUdSupported:function(a){return a.getUserDictionary?!0:!1},reloadMarkup:function(a){var f;a&&(f=a.getScaytLangList(),a.reloadMarkup?a.reloadMarkup():(this.alarmCompatibilityMessage(),
f&&f.ltr&&f.rtl&&a.fire("startSpellCheck, startGrammarCheck")))},replaceOldOptionsNames:function(a){for(var f in a)f in this.backCompatibilityMap&&(a[this.backCompatibilityMap[f]]=a[f],delete a[f])},createScayt:function(a){var f=this,e=CKEDITOR.plugins.scayt;this.loadScaytLibrary(a,function(a){function c(a){return new SCAYT.CKSCAYT(a,function(){},function(){})}var k;a.window&&(k="BODY"==a.editable().$.nodeName?a.window.getFrame():a.editable());if(k){k={lang:a.config.scayt_sLang,container:k.$,customDictionary:a.config.scayt_customDictionaryIds,
userDictionaryName:a.config.scayt_userDictionaryName,localization:a.langCode,customer_id:a.config.scayt_customerId,customPunctuation:a.config.scayt_customPunctuation,debug:a.config.scayt_debug,data_attribute_name:f.options.data_attribute_name,misspelled_word_class:f.options.misspelled_word_class,problem_grammar_data_attribute:f.options.problem_grammar_data_attribute,problem_grammar_class:f.options.problem_grammar_class,"options-to-restore":a.config.scayt_disableOptionsStorage,focused:a.editable().hasFocus,
ignoreElementsRegex:a.config.scayt_elementsToIgnore,ignoreGraytElementsRegex:a.config.grayt_elementsToIgnore,minWordLength:a.config.scayt_minWordLength,graytAutoStartup:a.config.grayt_autoStartup,charsToObserve:e.charsToObserve};a.config.scayt_serviceProtocol&&(k.service_protocol=a.config.scayt_serviceProtocol);a.config.scayt_serviceHost&&(k.service_host=a.config.scayt_serviceHost);a.config.scayt_servicePort&&(k.service_port=a.config.scayt_servicePort);a.config.scayt_servicePath&&(k.service_path=
a.config.scayt_servicePath);"boolean"===typeof a.config.scayt_ignoreAllCapsWords&&(k["ignore-all-caps-words"]=a.config.scayt_ignoreAllCapsWords);"boolean"===typeof a.config.scayt_ignoreDomainNames&&(k["ignore-domain-names"]=a.config.scayt_ignoreDomainNames);"boolean"===typeof a.config.scayt_ignoreWordsWithMixedCases&&(k["ignore-words-with-mixed-cases"]=a.config.scayt_ignoreWordsWithMixedCases);"boolean"===typeof a.config.scayt_ignoreWordsWithNumbers&&(k["ignore-words-with-numbers"]=a.config.scayt_ignoreWordsWithNumbers);
var l;try{l=c(k)}catch(m){f.alarmCompatibilityMessage(),delete k.charsToObserve,l=c(k)}l.subscribe("suggestionListSend",function(a){for(var b={},c=[],e=0;e<a.suggestionList.length;e++)b["word_"+a.suggestionList[e]]||(b["word_"+a.suggestionList[e]]=a.suggestionList[e],c.push(a.suggestionList[e]));CKEDITOR.plugins.scayt.suggestions=c});l.subscribe("selectionIsChanged",function(d){a.getSelection().isLocked&&"restoreSelection"!==d.action&&a.lockSelection();"restoreSelection"===d.action&&a.selectionChange(!0)});
l.subscribe("graytStateChanged",function(d){e.state.grayt[a.name]=d.state});l.addMarkupHandler&&l.addMarkupHandler(function(d){var c=a.editable(),e=c.getCustomData(d.charName);e&&(e.$=d.node,c.setCustomData(d.charName,e))});a.scayt=l;a.fire("scaytButtonState",a.readOnly?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_ON)}else e.state.scayt[a.name]=!1})},destroy:function(a){a.scayt&&a.scayt.destroy();delete a.scayt;a.fire("scaytButtonState",CKEDITOR.TRISTATE_OFF)},loadScaytLibrary:function(a,f){var e,
b=function(){CKEDITOR.fireOnce("scaytReady");a.scayt||"function"===typeof f&&f(a)};"undefined"===typeof window.SCAYT||"function"!==typeof window.SCAYT.CKSCAYT?(e=a.config.scayt_srcUrl,CKEDITOR.scriptLoader.load(e,function(a){a&&b()})):window.SCAYT&&"function"===typeof window.SCAYT.CKSCAYT&&b()}},CKEDITOR.on("dialogDefinition",function(a){var f=a.data.name;a=a.data.definition.dialog;"scaytDialog"!==f&&"checkspell"!==f&&(a.on("show",function(a){a=a.sender&&a.sender.getParentEditor();var b=CKEDITOR.plugins.scayt,
c=a.scayt;c&&b.state.scayt[a.name]&&c.setMarkupPaused&&c.setMarkupPaused(!0)}),a.on("hide",function(a){a=a.sender&&a.sender.getParentEditor();var b=CKEDITOR.plugins.scayt,c=a.scayt;c&&b.state.scayt[a.name]&&c.setMarkupPaused&&c.setMarkupPaused(!1)}));if("scaytDialog"===f)a.on("cancel",function(a){return!1},this,null,-1);if("checkspell"===f)a.on("cancel",function(a){a=a.sender&&a.sender.getParentEditor();var b=CKEDITOR.plugins.scayt,c=a.scayt;c&&b.state.scayt[a.name]&&c.setMarkupPaused&&c.setMarkupPaused(!1);
a.unlockSelection()},this,null,-2);if("link"===f)a.on("ok",function(a){var b=a.sender&&a.sender.getParentEditor();b&&setTimeout(function(){b.fire("reloadMarkupScayt",{removeOptions:{removeInside:!0,forceBookmark:!0},timeout:0})},0)});if("replace"===f)a.on("hide",function(a){a=a.sender&&a.sender.getParentEditor();var b=CKEDITOR.plugins.scayt,c=a.scayt;a&&setTimeout(function(){c&&(c.fire("removeMarkupInDocument",{}),b.reloadMarkup(c))},0)})}),CKEDITOR.on("scaytReady",function(){if(!0===CKEDITOR.config.scayt_handleCheckDirty){var a=
CKEDITOR.editor.prototype;a.checkDirty=CKEDITOR.tools.override(a.checkDirty,function(a){return function(){var b=null,c=this.scayt;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt){if(b="ready"==this.status)var f=c.removeMarkupFromString(this.getSnapshot()),c=c.removeMarkupFromString(this._.previousValue),b=b&&c!==f}else b=a.call(this);return b}});a.resetDirty=CKEDITOR.tools.override(a.resetDirty,function(a){return function(){var b=this.scayt;CKEDITOR.plugins.scayt&&
CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt?this._.previousValue=b.removeMarkupFromString(this.getSnapshot()):a.call(this)}})}if(!0===CKEDITOR.config.scayt_handleUndoRedo){var a=CKEDITOR.plugins.undo.Image.prototype,f="function"==typeof a.equalsContent?"equalsContent":"equals";a[f]=CKEDITOR.tools.override(a[f],function(a){return function(b){var c=b.editor.scayt,f=this.contents,l=b.contents,m=null;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[b.editor.name]&&b.editor.scayt&&
(this.contents=c.removeMarkupFromString(f)||"",b.contents=c.removeMarkupFromString(l)||"");m=a.apply(this,arguments);this.contents=f;b.contents=l;return m}})}}),function(){var a={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(a){this.toggleState();this.refresh(a)},refresh:function(a){if(a.document){var e=this.state==CKEDITOR.TRISTATE_ON?"attachClass":"removeClass";a.editable()[e]("cke_show_borders")}}};CKEDITOR.plugins.add("showborders",{modes:{wysiwyg:1},onLoad:function(){var a;a=(CKEDITOR.env.ie6Compat?
[".%1 table.%2,",".%1 table.%2 td, .%1 table.%2 th","{","border : #d3d3d3 1px dotted","}"]:".%1 table.%2,;.%1 table.%2 \x3e tr \x3e td, .%1 table.%2 \x3e tr \x3e th,;.%1 table.%2 \x3e tbody \x3e tr \x3e td, .%1 table.%2 \x3e tbody \x3e tr \x3e th,;.%1 table.%2 \x3e thead \x3e tr \x3e td, .%1 table.%2 \x3e thead \x3e tr \x3e th,;.%1 table.%2 \x3e tfoot \x3e tr \x3e td, .%1 table.%2 \x3e tfoot \x3e tr \x3e th;{;border : #d3d3d3 1px dotted;}".split(";")).join("").replace(/%2/g,"cke_show_border").replace(/%1/g,
"cke_show_borders ");CKEDITOR.addCss(a)},init:function(f){var e=f.addCommand("showborders",a);e.canUndo=!1;!1!==f.config.startupShowBorders&&e.setState(CKEDITOR.TRISTATE_ON);f.on("mode",function(){e.state!=CKEDITOR.TRISTATE_DISABLED&&e.refresh(f)},null,null,100);f.on("contentDom",function(){e.state!=CKEDITOR.TRISTATE_DISABLED&&e.refresh(f)});f.on("removeFormatCleanup",function(a){a=a.data;f.getCommand("showborders").state==CKEDITOR.TRISTATE_ON&&a.is("table")&&(!a.hasAttribute("border")||0>=parseInt(a.getAttribute("border"),
10))&&a.addClass("cke_show_border")})},afterInit:function(a){var e=a.dataProcessor;a=e&&e.dataFilter;e=e&&e.htmlFilter;a&&a.addRules({elements:{table:function(a){a=a.attributes;var c=a["class"],e=parseInt(a.border,10);e&&!(0>=e)||c&&-1!=c.indexOf("cke_show_border")||(a["class"]=(c||"")+" cke_show_border")}}});e&&e.addRules({elements:{table:function(a){a=a.attributes;var c=a["class"];c&&(a["class"]=c.replace("cke_show_border","").replace(/\s{2}/," ").replace(/^\s+|\s+$/,""))}}})}});CKEDITOR.on("dialogDefinition",
function(a){var e=a.data.name;if("table"==e||"tableProperties"==e)if(a=a.data.definition,e=a.getContents("info").get("txtBorder"),e.commit=CKEDITOR.tools.override(e.commit,function(a){return function(c,e){a.apply(this,arguments);var f=parseInt(this.getValue(),10);e[!f||0>=f?"addClass":"removeClass"]("cke_show_border")}}),a=(a=a.getContents("advanced"))&&a.get("advCSSClasses"))a.setup=CKEDITOR.tools.override(a.setup,function(a){return function(){a.apply(this,arguments);this.setValue(this.getValue().replace(/cke_show_border/,
""))}}),a.commit=CKEDITOR.tools.override(a.commit,function(a){return function(c,e){a.apply(this,arguments);parseInt(e.getAttribute("border"),10)||e.addClass("cke_show_border")}})})}(),function(){CKEDITOR.plugins.add("sourcearea",{init:function(f){function e(){var a=c&&this.equals(CKEDITOR.document.getActive());this.hide();this.setStyle("height",this.getParent().$.clientHeight+"px");this.setStyle("width",this.getParent().$.clientWidth+"px");this.show();a&&this.focus()}if(f.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var b=
CKEDITOR.plugins.sourcearea;f.addMode("source",function(b){var c=f.ui.space("contents").getDocument().createElement("textarea");c.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?"99%":"100%",height:"100%",resize:"none",outline:"none","text-align":"left"},CKEDITOR.tools.cssVendorPrefix("tab-size",f.config.sourceAreaTabSize||4)));c.setAttribute("dir","ltr");c.addClass("cke_source").addClass("cke_reset").addClass("cke_enable_context_menu");f.ui.space("contents").append(c);c=f.editable(new a(f,
c));c.setData(f.getData(1));CKEDITOR.env.ie&&(c.attachListener(f,"resize",e,c),c.attachListener(CKEDITOR.document.getWindow(),"resize",e,c),CKEDITOR.tools.setTimeout(e,0,c));f.fire("ariaWidget",this);b()});f.addCommand("source",b.commands.source);f.ui.addButton&&f.ui.addButton("Source",{isToggle:!0,label:f.lang.sourcearea.toolbar,command:"source",toolbar:"mode,10"});f.on("mode",function(){f.getCommand("source").setState("source"==f.mode?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)});var c=CKEDITOR.env.ie&&
9==CKEDITOR.env.version}}});var a=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(a){this.setValue(a);this.status="ready";this.editor.fire("dataReady")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(a){this[(a?"set":"remove")+"Attribute"]("readOnly","readonly")},detach:function(){a.baseProto.detach.call(this);this.clearCustomData();this.remove()}}})}(),CKEDITOR.plugins.sourcearea=
{commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(a){"wysiwyg"==a.mode&&a.fire("saveSnapshot");a.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED);a.setMode("source"==a.mode?"wysiwyg":"source")},canUndo:!1}}},CKEDITOR.plugins.add("specialchar",{availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,
lt:1,lv:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},requires:"dialog",init:function(a){var f=this;CKEDITOR.dialog.add("specialchar",this.path+"dialogs/specialchar.js");a.addCommand("specialchar",{exec:function(){var e=a.langCode,e=f.availableLangs[e]?e:f.availableLangs[e.replace(/-.*/,"")]?e.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(f.path+"dialogs/lang/"+e+".js"),function(){CKEDITOR.tools.extend(a.lang.specialchar,
f.langEntries[e]);a.openDialog("specialchar")})},modes:{wysiwyg:1},canUndo:!1});a.ui.addButton&&a.ui.addButton("SpecialChar",{label:a.lang.specialchar.toolbar,command:"specialchar",toolbar:"insert,50"})}}),CKEDITOR.config.specialChars="! \x26quot; # $ % \x26amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; \x26lt; \x3d \x26gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ \x26euro; \x26lsquo; \x26rsquo; \x26ldquo; \x26rdquo; \x26ndash; \x26mdash; \x26iexcl; \x26cent; \x26pound; \x26curren; \x26yen; \x26brvbar; \x26sect; \x26uml; \x26copy; \x26ordf; \x26laquo; \x26not; \x26reg; \x26macr; \x26deg; \x26sup2; \x26sup3; \x26acute; \x26micro; \x26para; \x26middot; \x26cedil; \x26sup1; \x26ordm; \x26raquo; \x26frac14; \x26frac12; \x26frac34; \x26iquest; \x26Agrave; \x26Aacute; \x26Acirc; \x26Atilde; \x26Auml; \x26Aring; \x26AElig; \x26Ccedil; \x26Egrave; \x26Eacute; \x26Ecirc; \x26Euml; \x26Igrave; \x26Iacute; \x26Icirc; \x26Iuml; \x26ETH; \x26Ntilde; \x26Ograve; \x26Oacute; \x26Ocirc; \x26Otilde; \x26Ouml; \x26times; \x26Oslash; \x26Ugrave; \x26Uacute; \x26Ucirc; \x26Uuml; \x26Yacute; \x26THORN; \x26szlig; \x26agrave; \x26aacute; \x26acirc; \x26atilde; \x26auml; \x26aring; \x26aelig; \x26ccedil; \x26egrave; \x26eacute; \x26ecirc; \x26euml; \x26igrave; \x26iacute; \x26icirc; \x26iuml; \x26eth; \x26ntilde; \x26ograve; \x26oacute; \x26ocirc; \x26otilde; \x26ouml; \x26divide; \x26oslash; \x26ugrave; \x26uacute; \x26ucirc; \x26uuml; \x26yacute; \x26thorn; \x26yuml; \x26OElig; \x26oelig; \x26#372; \x26#374 \x26#373 \x26#375; \x26sbquo; \x26#8219; \x26bdquo; \x26hellip; \x26trade; \x26#9658; \x26bull; \x26rarr; \x26rArr; \x26hArr; \x26diams; \x26asymp;".split(" "),
function(){CKEDITOR.plugins.add("stylescombo",{requires:"richcombo",init:function(a){var f=a.config,e=a.lang.stylescombo,b={},c=[],k=[];a.on("stylesSet",function(e){if(e=e.data.styles){for(var m,d,h,g=0,n=e.length;g<n;g++)(m=e[g],a.blockless&&m.element in CKEDITOR.dtd.$block||"string"==typeof m.type&&!CKEDITOR.style.customHandlers[m.type]||(d=m.name,m=new CKEDITOR.style(m),a.filter.customConfig&&!a.filter.check(m)))||(m._name=d,m._.enterMode=f.enterMode,m._.type=h=m.assignedTo||m.type,m._.weight=
g+1E3*(h==CKEDITOR.STYLE_OBJECT?1:h==CKEDITOR.STYLE_BLOCK?2:3),b[d]=m,c.push(m),k.push(m));c.sort(function(a,b){return a._.weight-b._.weight})}});a.on("stylesRemove",function(c){c=c.data&&c.data.type;var e=void 0===c,d;for(d in b){var f=b[d];(e||f.type===c)&&a.removeStyle(f)}});a.ui.addRichCombo("Styles",{label:e.label,title:e.panelTitle,toolbar:"styles,10",allowedContent:k,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(f.contentsCss),multiSelect:!0,attributes:{"aria-label":e.panelTitle}},init:function(){var a,
b,d,f,g,k;g=0;for(k=c.length;g<k;g++)a=c[g],b=a._name,f=a._.type,f!=d&&(this.startGroup(e["panelTitle"+String(f)]),d=f),this.add(b,a.type==CKEDITOR.STYLE_OBJECT?b:a.buildPreview(),b);this.commit()},onClick:function(c){a.focus();a.fire("saveSnapshot");c=b[c];var e=a.elementPath();if(c.group&&c.removeStylesFromSameGroup(a))a.applyStyle(c);else a[c.checkActive(e,a)?"removeStyle":"applyStyle"](c);a.fire("saveSnapshot")},onRender:function(){a.on("selectionChange",function(c){var e=this.getValue();c=c.data.path.elements;
for(var d=0,f=c.length,g;d<f;d++){g=c[d];for(var k in b)if(b[k].checkElementRemovable(g,!0,a)){k!=e&&this.setValue(k);return}}this.setValue("")},this)},onOpen:function(){var c=a.getSelection(),c=c.getSelectedElement()||c.getStartElement()||a.editable(),c=a.elementPath(c),f=[0,0,0,0];this.showAll();this.unmarkAll();for(var d in b){var h=b[d],g=h._.type;h.checkApplicable(c,a,a.activeFilter)?f[g]++:this.hideItem(d);h.checkActive(c,a)&&this.mark(d)}f[CKEDITOR.STYLE_BLOCK]||this.hideGroup(e["panelTitle"+
String(CKEDITOR.STYLE_BLOCK)]);f[CKEDITOR.STYLE_INLINE]||this.hideGroup(e["panelTitle"+String(CKEDITOR.STYLE_INLINE)]);f[CKEDITOR.STYLE_OBJECT]||this.hideGroup(e["panelTitle"+String(CKEDITOR.STYLE_OBJECT)])},refresh:function(){var c=a.elementPath();if(c){for(var e in b)if(b[e].checkApplicable(c,a,a.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){b={};c=[]}})}})}(),function(){function a(a){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(b){if(b.editable().hasFocus){var e=
b.getSelection(),f;if(f=(new CKEDITOR.dom.elementPath(e.getStartElement(),e.root)).contains({td:1,th:1},1)){var e=b.createRange(),d=CKEDITOR.tools.tryThese(function(){var b=f.getParent().$.cells[f.$.cellIndex+(a?-1:1)];b.parentNode.parentNode;return b},function(){var b=f.getParent(),b=b.getAscendant("table").$.rows[b.$.rowIndex+(a?-1:1)];return b.cells[a?b.cells.length-1:0]});if(d||a)if(d)d=new CKEDITOR.dom.element(d),e.moveToElementEditStart(d),e.checkStartOfBlock()&&e.checkEndOfBlock()||e.selectNodeContents(d);
else return!0;else{for(var h=f.getAscendant("table").$,d=f.getParent().$.cells,h=new CKEDITOR.dom.element(h.insertRow(-1),b.document),g=0,n=d.length;g<n;g++)h.append((new CKEDITOR.dom.element(d[g],b.document)).clone(!1,!1)).appendBogus();e.moveToElementEditStart(h)}e.select(!0);return!0}}return!1}}}var f={editorFocus:!1,modes:{wysiwyg:1,source:1}},e={exec:function(a){a.container.focusNext(!0,a.tabIndex)}},b={exec:function(a){a.container.focusPrevious(!0,a.tabIndex)}};CKEDITOR.plugins.add("tab",{init:function(c){for(var k=
!1!==c.config.enableTabKeyTools,l=c.config.tabSpaces||0,m="";l--;)m+=" ";if(m)c.on("key",function(a){9==a.data.keyCode&&(c.insertText(m),a.cancel())});if(k)c.on("key",function(a){(9==a.data.keyCode&&c.execCommand("selectNextCell")||a.data.keyCode==CKEDITOR.SHIFT+9&&c.execCommand("selectPreviousCell"))&&a.cancel()});c.addCommand("blur",CKEDITOR.tools.extend(e,f));c.addCommand("blurBack",CKEDITOR.tools.extend(b,f));c.addCommand("selectNextCell",a());c.addCommand("selectPreviousCell",a(!0))}})}(),CKEDITOR.dom.element.prototype.focusNext=
function(a,f){var e=void 0===f?this.getTabIndex():f,b,c,k,l,m,d;if(0>=e)for(m=this.getNextSourceNode(a,CKEDITOR.NODE_ELEMENT);m;){if(m.isVisible()&&0===m.getTabIndex()){k=m;break}m=m.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(m=this.getDocument().getBody().getFirst();m=m.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!b)if(!c&&m.equals(this)){if(c=!0,a){if(!(m=m.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;b=1}}else c&&!this.contains(m)&&(b=1);if(m.isVisible()&&!(0>(d=m.getTabIndex()))){if(b&&
d==e){k=m;break}d>e&&(!k||!l||d<l)?(k=m,l=d):k||0!==d||(k=m,l=d)}}k&&k.focus()},CKEDITOR.dom.element.prototype.focusPrevious=function(a,f){for(var e=void 0===f?this.getTabIndex():f,b,c,k,l=0,m,d=this.getDocument().getBody().getLast();d=d.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!b)if(!c&&d.equals(this)){if(c=!0,a){if(!(d=d.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;b=1}}else c&&!this.contains(d)&&(b=1);if(d.isVisible()&&!(0>(m=d.getTabIndex())))if(0>=e){if(b&&0===m){k=d;break}m>
l&&(k=d,l=m)}else{if(b&&m==e){k=d;break}m<e&&(!k||m>l)&&(k=d,l=m)}}k&&k.focus()},CKEDITOR.plugins.add("table",{requires:"dialog",init:function(a){function f(a){return CKEDITOR.tools.extend(a||{},{contextSensitive:1,refresh:function(a,b){this.setState(b.contains("table",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!a.blockless){var e=a.lang.table;a.addCommand("table",new CKEDITOR.dialogCommand("table",{context:"table",allowedContent:"table{width,height,border-collapse}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];td{border*,background-color,vertical-align,width,height}[colspan,rowspan];"+
(a.plugins.dialogadvtab?"table"+a.plugins.dialogadvtab.allowedContent():""),requiredContent:"table",contentTransformations:[["table{width}: sizeToStyle","table[width]: sizeToAttribute"],["td: splitBorderShorthand"],[{element:"table",right:function(a){if(a.styles){var c;if(a.styles.border)c=CKEDITOR.tools.style.parse.border(a.styles.border);else if(CKEDITOR.env.ie&&8===CKEDITOR.env.version){var e=a.styles;e["border-left"]&&e["border-left"]===e["border-right"]&&e["border-right"]===e["border-top"]&&
e["border-top"]===e["border-bottom"]&&(c=CKEDITOR.tools.style.parse.border(e["border-top"]))}c&&c.style&&"solid"===c.style&&c.width&&0!==parseFloat(c.width)&&(a.attributes.border=1);"collapse"==a.styles["border-collapse"]&&(a.attributes.cellspacing=0)}}}]]}));a.addCommand("tableProperties",new CKEDITOR.dialogCommand("tableProperties",f()));a.addCommand("tableDelete",f({exec:function(a){var c=a.elementPath().contains("table",1);if(c){var e=c.getParent(),f=a.editable();1!=e.getChildCount()||e.is("td",
"th")||e.equals(f)||(c=e);a=a.createRange();a.moveToPosition(c,CKEDITOR.POSITION_BEFORE_START);c.remove();a.select()}}}));a.ui.addButton&&a.ui.addButton("Table",{label:e.toolbar,command:"table",toolbar:"insert,30"});CKEDITOR.dialog.add("table",this.path+"dialogs/table.js");CKEDITOR.dialog.add("tableProperties",this.path+"dialogs/table.js");a.addMenuItems&&a.addMenuItems({table:{label:e.menu,command:"tableProperties",group:"table",order:5},tabledelete:{label:e.deleteTable,command:"tableDelete",group:"table",
order:1}});a.on("doubleclick",function(a){a.data.element.is("table")&&(a.data.dialog="tableProperties")});a.contextMenu&&a.contextMenu.addListener(function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}})}}}),function(){function a(a,b){function d(a){return b?b.contains(a)&&a.getAscendant("table",!0).equals(b):!0}function c(a){var b=/^(?:td|th)$/;0<e.length||a.type!=CKEDITOR.NODE_ELEMENT||!b.test(a.getName())||a.getCustomData("selected_cell")||(CKEDITOR.dom.element.setMarker(f,
a,"selected_cell",!0),e.push(a))}var e=[],f={};if(!a)return e;for(var g=a.getRanges(),h=0;h<g.length;h++){var k=g[h];if(k.collapsed)(k=k.getCommonAncestor().getAscendant({td:1,th:1},!0))&&d(k)&&e.push(k);else{var k=new CKEDITOR.dom.walker(k),l;for(k.guard=c;l=k.next();)l.type==CKEDITOR.NODE_ELEMENT&&l.is(CKEDITOR.dtd.table)||(l=l.getAscendant({td:1,th:1},!0))&&!l.getCustomData("selected_cell")&&d(l)&&(CKEDITOR.dom.element.setMarker(f,l,"selected_cell",!0),e.push(l))}}CKEDITOR.dom.element.clearAllMarkers(f);
return e}function f(b,d){for(var c=r(b)?b:a(b),e=c[0],f=e.getAscendant("table"),e=e.getDocument(),g=c[0].getParent(),h=g.$.rowIndex,c=c[c.length-1],k=c.getParent().$.rowIndex+c.$.rowSpan-1,c=new CKEDITOR.dom.element(f.$.rows[k]),h=d?h:k,g=d?g:c,c=CKEDITOR.tools.buildTableMap(f),f=c[h],h=d?c[h-1]:c[h+1],c=c[0].length,e=e.createElement("tr"),k=0;f[k]&&k<c;k++){var l;1<f[k].rowSpan&&h&&f[k]==h[k]?(l=f[k],l.rowSpan+=1):(l=(new CKEDITOR.dom.element(f[k])).clone(),l.removeAttribute("rowSpan"),l.appendBogus(),
e.append(l),l=l.$);k+=l.colSpan-1}d?e.insertBefore(g):e.insertAfter(g);return e}function e(b){if(b instanceof CKEDITOR.dom.selection){var d=b.getRanges(),c=a(b),f=c[0].getAscendant("table"),g=CKEDITOR.tools.buildTableMap(f),h=c[0].getParent().$.rowIndex,c=c[c.length-1],k=c.getParent().$.rowIndex+c.$.rowSpan-1,c=[];b.reset();for(b=h;b<=k;b++){for(var l=g[b],m=new CKEDITOR.dom.element(f.$.rows[b]),n=0;n<l.length;n++){var r=new CKEDITOR.dom.element(l[n]),w=r.getParent().$.rowIndex;1==r.$.rowSpan?r.remove():
(--r.$.rowSpan,w==b&&(w=g[b+1],w[n-1]?r.insertAfter(new CKEDITOR.dom.element(w[n-1])):(new CKEDITOR.dom.element(f.$.rows[b+1])).append(r,1)));n+=r.$.colSpan-1}c.push(m)}g=f.$.rows;d[0].moveToPosition(f,CKEDITOR.POSITION_BEFORE_START);h=new CKEDITOR.dom.element(g[k+1]||(0<h?g[h-1]:null)||f.$.parentNode);for(b=c.length;0<=b;b--)e(c[b]);return f.$.parentNode?h:(d[0].select(),null)}b instanceof CKEDITOR.dom.element&&(f=b.getAscendant("table"),1==f.$.rows.length?f.remove():b.remove());return null}function b(a){for(var b=
a.getParent().$.cells,d=0,c=0;c<b.length;c++){var e=b[c],d=d+e.colSpan;if(e==a.$)break}return d-1}function c(a,d){for(var c=d?Infinity:0,e=0;e<a.length;e++){var f=b(a[e]);if(d?f<c:f>c)c=f}return c}function k(b,d){for(var e=r(b)?b:a(b),f=e[0].getAscendant("table"),g=c(e,1),e=c(e),h=d?g:e,k=CKEDITOR.tools.buildTableMap(f),f=[],g=[],e=[],l=k.length,m=0;m<l;m++){var n=d?k[m][h-1]:k[m][h+1];f.push(k[m][h]);g.push(n)}for(m=0;m<l;m++)f[m]&&(1<f[m].colSpan&&g[m]==f[m]?(k=f[m],k.colSpan+=1):(h=new CKEDITOR.dom.element(f[m]),
k=h.clone(),k.removeAttribute("colSpan"),k.appendBogus(),k[d?"insertBefore":"insertAfter"].call(k,h),e.push(k),k=k.$),m+=k.rowSpan-1);return e}function l(b){function d(a){var b=a.getRanges(),c,e;if(1!==b.length)return a;b=b[0];if(b.collapsed||0!==b.endOffset)return a;c=b.endContainer;e=c.getName().toLowerCase();if("td"!==e&&"th"!==e)return a;for((e=c.getPrevious())||(e=c.getParent().getPrevious().getLast());e.type!==CKEDITOR.NODE_TEXT&&"br"!==e.getName().toLowerCase();)if(e=e.getLast(),!e)return a;
b.setEndAt(e,CKEDITOR.POSITION_BEFORE_END);return b.select()}CKEDITOR.env.webkit&&!b.isFake&&(b=d(b));var c=b.getRanges(),e=a(b),f=e[0],g=e[e.length-1],e=f.getAscendant("table"),h=CKEDITOR.tools.buildTableMap(e),k,l,m=[];b.reset();var n=0;for(b=h.length;n<b;n++)for(var r=0,w=h[n].length;r<w;r++)void 0===k&&h[n][r]==f.$&&(k=r),h[n][r]==g.$&&(l=r);for(n=k;n<=l;n++)for(r=0;r<h.length;r++)g=h[r],f=new CKEDITOR.dom.element(e.$.rows[r]),g=new CKEDITOR.dom.element(g[n]),g.$&&(1==g.$.colSpan?g.remove():--g.$.colSpan,
r+=g.$.rowSpan-1,f.$.cells.length||m.push(f));k=h[0].length-1>l?new CKEDITOR.dom.element(h[0][l+1]):k&&-1!==h[0][k-1].cellIndex?new CKEDITOR.dom.element(h[0][k-1]):new CKEDITOR.dom.element(e.$.parentNode);m.length==b&&(c[0].moveToPosition(e,CKEDITOR.POSITION_AFTER_END),c[0].select(),e.remove());return k}function m(a,b){var d=a.getStartElement().getAscendant({td:1,th:1},!0);if(d){var c=d.clone();c.appendBogus();b?c.insertBefore(d):c.insertAfter(d)}}function d(b){if(b instanceof CKEDITOR.dom.selection){var c=
b.getRanges(),e=a(b),f=e[0]&&e[0].getAscendant("table"),g;a:{var k=0;g=e.length-1;for(var l={},m,n;m=e[k++];)CKEDITOR.dom.element.setMarker(l,m,"delete_cell",!0);for(k=0;m=e[k++];)if((n=m.getPrevious())&&!n.getCustomData("delete_cell")||(n=m.getNext())&&!n.getCustomData("delete_cell")){CKEDITOR.dom.element.clearAllMarkers(l);g=n;break a}CKEDITOR.dom.element.clearAllMarkers(l);k=e[0].getParent();(k=k.getPrevious())?g=k.getLast():(k=e[g].getParent(),g=(k=k.getNext())?k.getChild(0):null)}b.reset();for(b=
e.length-1;0<=b;b--)d(e[b]);g?h(g,!0):f&&(c[0].moveToPosition(f,CKEDITOR.POSITION_BEFORE_START),c[0].select(),f.remove())}else b instanceof CKEDITOR.dom.element&&(c=b.getParent(),1==c.getChildCount()?c.remove():b.remove())}function h(a,b){var d=a.getDocument(),c=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(c.focus(),d.focus());d=new CKEDITOR.dom.range(d);d["moveToElementEdit"+(b?"End":"Start")](a)||(d.selectNodeContents(a),d.collapse(b?!1:!0));d.select(!0)}function g(a,b,d){a=a[b];
if("undefined"==typeof d)return a;for(b=0;a&&b<a.length;b++){if(d.is&&a[b]==d.$)return b;if(b==d)return new CKEDITOR.dom.element(a[b])}return d.is?-1:null}function n(b,d,c){var e=a(b),f;if((d?1!=e.length:2>e.length)||(f=b.getCommonAncestor())&&f.type==CKEDITOR.NODE_ELEMENT&&f.is("table"))return!1;b=e[0];f=b.getAscendant("table");var h=CKEDITOR.tools.buildTableMap(f),k=h.length,l=h[0].length,m=b.getParent().$.rowIndex,n=g(h,m,b),r;if(d){var w;try{var x=parseInt(b.getAttribute("rowspan"),10)||1;r=parseInt(b.getAttribute("colspan"),
10)||1;w=h["up"==d?m-x:"down"==d?m+x:m]["left"==d?n-r:"right"==d?n+r:n]}catch(K){return!1}if(!w||b.$==w)return!1;e["up"==d||"left"==d?"unshift":"push"](new CKEDITOR.dom.element(w))}d=b.getDocument();var G=m,x=w=0,M=!c&&new CKEDITOR.dom.documentFragment(d),H=0;for(d=0;d<e.length;d++){r=e[d];var E=r.getParent(),P=r.getFirst(),L=r.$.colSpan,N=r.$.rowSpan,E=E.$.rowIndex,O=g(h,E,r),H=H+L*N,x=Math.max(x,O-n+L);w=Math.max(w,E-m+N);c||(L=r,(N=L.getBogus())&&N.remove(),L.trim(),r.getChildren().count()&&(E==
G||!P||P.isBlockBoundary&&P.isBlockBoundary({br:1})||(G=M.getLast(CKEDITOR.dom.walker.whitespaces(!0)),!G||G.is&&G.is("br")||M.append("br")),r.moveChildren(M)),d?r.remove():r.setHtml(""));G=E}if(c)return w*x==H;M.moveChildren(b);b.appendBogus();x>=l?b.removeAttribute("rowSpan"):b.$.rowSpan=w;w>=k?b.removeAttribute("colSpan"):b.$.colSpan=x;c=new CKEDITOR.dom.nodeList(f.$.rows);e=c.count();for(d=e-1;0<=d;d--)f=c.getItem(d),f.$.cells.length||(f.remove(),e++);return b}function w(b,d){var c=a(b);if(1<
c.length)return!1;if(d)return!0;var c=c[0],e=c.getParent(),f=e.getAscendant("table"),h=CKEDITOR.tools.buildTableMap(f),k=e.$.rowIndex,l=g(h,k,c),m=c.$.rowSpan,n;if(1<m){n=Math.ceil(m/2);for(var m=Math.floor(m/2),e=k+n,f=new CKEDITOR.dom.element(f.$.rows[e]),h=g(h,e),r,e=c.clone(),k=0;k<h.length;k++)if(r=h[k],r.parentNode==f.$&&k>l){e.insertBefore(new CKEDITOR.dom.element(r));break}else r=null;r||f.append(e)}else for(m=n=1,f=e.clone(),f.insertAfter(e),f.append(e=c.clone()),r=g(h,k),l=0;l<r.length;l++)r[l].rowSpan++;
e.appendBogus();c.$.rowSpan=n;e.$.rowSpan=m;1==n&&c.removeAttribute("rowSpan");1==m&&e.removeAttribute("rowSpan");return e}function x(b,d){var c=a(b);if(1<c.length)return!1;if(d)return!0;var c=c[0],e=c.getParent(),f=e.getAscendant("table"),f=CKEDITOR.tools.buildTableMap(f),h=g(f,e.$.rowIndex,c),k=c.$.colSpan;if(1<k)e=Math.ceil(k/2),k=Math.floor(k/2);else{for(var k=e=1,l=[],m=0;m<f.length;m++){var n=f[m];l.push(n[h]);1<n[h].rowSpan&&(m+=n[h].rowSpan-1)}for(f=0;f<l.length;f++)l[f].colSpan++}f=c.clone();
f.insertAfter(c);f.appendBogus();c.$.colSpan=e;f.$.colSpan=k;1==e&&c.removeAttribute("colSpan");1==k&&f.removeAttribute("colSpan");return f}var r=CKEDITOR.tools.isArray;CKEDITOR.plugins.tabletools={requires:"table,dialog,contextmenu",init:function(b){function c(a){return CKEDITOR.tools.extend(a||{},{contextSensitive:1,refresh:function(a,b){this.setState(b.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function g(a,d){var c=b.addCommand(a,d);b.addFeature(c)}var q=b.lang.table,
r=CKEDITOR.tools.style.parse,y="td{width} td{height} td{border-color} td{background-color} td{white-space} td{vertical-align} td{text-align} td[colspan] td[rowspan] th".split(" ");g("cellProperties",new CKEDITOR.dialogCommand("cellProperties",c({allowedContent:"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",requiredContent:y,contentTransformations:[[{element:"td",left:function(a){return a.styles.background&&r.background(a.styles.background).color},
right:function(a){a.styles["background-color"]=r.background(a.styles.background).color}},{element:"td",check:"td{vertical-align}",left:function(a){return a.attributes&&a.attributes.valign},right:function(a){a.styles["vertical-align"]=a.attributes.valign;delete a.attributes.valign}}],[{element:"tr",check:"td{height}",left:function(a){return a.styles&&a.styles.height},right:function(a){CKEDITOR.tools.array.forEach(a.children,function(b){b.name in{td:1,th:1}&&(b.attributes["cke-row-height"]=a.styles.height)});
delete a.styles.height}}],[{element:"td",check:"td{height}",left:function(a){return(a=a.attributes)&&a["cke-row-height"]},right:function(a){a.styles.height=a.attributes["cke-row-height"];delete a.attributes["cke-row-height"]}}]]})));CKEDITOR.dialog.add("cellProperties",this.path+"dialogs/tableCell.js");g("rowDelete",c({requiredContent:"table",exec:function(a){a=a.getSelection();(a=e(a))&&h(a)}}));g("rowInsertBefore",c({requiredContent:"table",exec:function(b){b=b.getSelection();b=a(b);f(b,!0)}}));
g("rowInsertAfter",c({requiredContent:"table",exec:function(b){b=b.getSelection();b=a(b);f(b)}}));g("columnDelete",c({requiredContent:"table",exec:function(a){a=a.getSelection();(a=l(a))&&h(a,!0)}}));g("columnInsertBefore",c({requiredContent:"table",exec:function(b){b=b.getSelection();b=a(b);k(b,!0)}}));g("columnInsertAfter",c({requiredContent:"table",exec:function(b){b=b.getSelection();b=a(b);k(b)}}));g("cellDelete",c({requiredContent:"table",exec:function(a){a=a.getSelection();d(a)}}));g("cellMerge",
c({allowedContent:"td[colspan,rowspan]",requiredContent:"td[colspan,rowspan]",exec:function(a,b){b.cell=n(a.getSelection());h(b.cell,!0)}}));g("cellMergeRight",c({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(a,b){b.cell=n(a.getSelection(),"right");h(b.cell,!0)}}));g("cellMergeDown",c({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(a,b){b.cell=n(a.getSelection(),"down");h(b.cell,!0)}}));g("cellVerticalSplit",c({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",
exec:function(a){h(x(a.getSelection()))}}));g("cellHorizontalSplit",c({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(a){h(w(a.getSelection()))}}));g("cellInsertBefore",c({requiredContent:"table",exec:function(a){a=a.getSelection();m(a,!0)}}));g("cellInsertAfter",c({requiredContent:"table",exec:function(a){a=a.getSelection();m(a)}}));b.addMenuItems&&b.addMenuItems({tablecell:{label:q.cell.menu,group:"tablecell",order:1,getItems:function(){var d=b.getSelection(),c=a(d),d=
{tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:n(d,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:n(d,"right",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:n(d,"down",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:x(d,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:w(d,!0)?CKEDITOR.TRISTATE_OFF:
CKEDITOR.TRISTATE_DISABLED};b.filter.check(y)&&(d.tablecell_properties=0<c.length?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);return d}},tablecell_insertBefore:{label:q.cell.insertBefore,group:"tablecell",command:"cellInsertBefore",order:5},tablecell_insertAfter:{label:q.cell.insertAfter,group:"tablecell",command:"cellInsertAfter",order:10},tablecell_delete:{label:q.cell.deleteCell,group:"tablecell",command:"cellDelete",order:15},tablecell_merge:{label:q.cell.merge,group:"tablecell",command:"cellMerge",
order:16},tablecell_merge_right:{label:q.cell.mergeRight,group:"tablecell",command:"cellMergeRight",order:17},tablecell_merge_down:{label:q.cell.mergeDown,group:"tablecell",command:"cellMergeDown",order:18},tablecell_split_horizontal:{label:q.cell.splitHorizontal,group:"tablecell",command:"cellHorizontalSplit",order:19},tablecell_split_vertical:{label:q.cell.splitVertical,group:"tablecell",command:"cellVerticalSplit",order:20},tablecell_properties:{label:q.cell.title,group:"tablecellproperties",command:"cellProperties",
order:21},tablerow:{label:q.row.menu,group:"tablerow",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:q.row.insertBefore,group:"tablerow",command:"rowInsertBefore",order:5},tablerow_insertAfter:{label:q.row.insertAfter,group:"tablerow",command:"rowInsertAfter",order:10},tablerow_delete:{label:q.row.deleteRow,group:"tablerow",command:"rowDelete",order:15},
tablecolumn:{label:q.column.menu,group:"tablecolumn",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:q.column.insertBefore,group:"tablecolumn",command:"columnInsertBefore",order:5},tablecolumn_insertAfter:{label:q.column.insertAfter,group:"tablecolumn",command:"columnInsertAfter",order:10},tablecolumn_delete:{label:q.column.deleteColumn,group:"tablecolumn",
command:"columnDelete",order:15}});b.contextMenu&&b.contextMenu.addListener(function(a,b,d){return(a=d.contains({td:1,th:1},1))&&!a.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null})},getCellColIndex:b,insertRow:f,insertColumn:k,getSelectedCells:a};CKEDITOR.plugins.add("tabletools",CKEDITOR.plugins.tabletools)}(),CKEDITOR.tools.buildTableMap=function(a,f,e,b,c){a=a.$.rows;e=e||0;b="number"===typeof b?b:a.length-1;c="number"===typeof c?
c:-1;var k=-1,l=[];for(f=f||0;f<=b;f++){k++;!l[k]&&(l[k]=[]);for(var m=-1,d=e;d<=(-1===c?a[f].cells.length-1:c);d++){var h=a[f].cells[d];if(!h)break;for(m++;l[k][m];)m++;for(var g=isNaN(h.colSpan)?1:h.colSpan,h=isNaN(h.rowSpan)?1:h.rowSpan,n=0;n<h&&!(f+n>b);n++){l[k+n]||(l[k+n]=[]);for(var w=0;w<g;w++)l[k+n][m+w]=a[f].cells[d]}m+=g-1;if(-1!==c&&m>=c)break}}return l},CKEDITOR.config.tabletools_scopedHeaders=!1,function(){function a(a){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(a)}
function f(a,b){var c=a.getAscendant("table"),e=b.getAscendant("table"),f=CKEDITOR.tools.buildTableMap(c),g=d(a),h=d(b),k=[],l={},m,n;c.contains(e)&&(b=b.getAscendant({td:1,th:1}),h=d(b));g>h&&(c=g,g=h,h=c,c=a,a=b,b=c);for(c=0;c<f[g].length;c++)if(a.$===f[g][c]){m=c;break}for(c=0;c<f[h].length;c++)if(b.$===f[h][c]){n=c;break}m>n&&(c=m,m=n,n=c);for(c=g;c<=h;c++)for(g=m;g<=n;g++)e=new CKEDITOR.dom.element(f[c][g]),e.$&&!e.getCustomData("selected_cell")&&(k.push(e),CKEDITOR.dom.element.setMarker(l,e,
"selected_cell",!0));CKEDITOR.dom.element.clearAllMarkers(l);return k}function e(a){return(a=a.editable().findOne(".cke_table-faked-selection"))&&a.getAscendant("table")}function b(a,b){var d=a.editable().find(".cke_table-faked-selection"),c=a.editable().findOne("[data-cke-table-faked-selection-table]"),e;a.fire("lockSnapshot");a.editable().removeClass("cke_table-faked-selection-editor");for(e=0;e<d.count();e++)d.getItem(e).removeClass("cke_table-faked-selection");c&&c.data("cke-table-faked-selection-table",
!1);a.fire("unlockSnapshot");b&&(p={active:!1},a.getSelection().isInTable()&&a.getSelection().reset())}function c(a,b){var d=[],c,e;for(e=0;e<b.length;e++)c=a.createRange(),c.setStartBefore(b[e]),c.setEndAfter(b[e]),d.push(c);a.getSelection().selectRanges(d)}function k(a){var b=a.editable().find(".cke_table-faked-selection");1>b.count()||(b=f(b.getItem(0),b.getItem(b.count()-1)),c(a,b))}function l(d,e,g){var h=z(d.getSelection(!0));e=e.is("table")?null:e;var k;(k=p.active&&!p.first)&&!(k=e)&&(k=d.getSelection().getRanges(),
k=1<h.length||k[0]&&!k[0].collapsed?!0:!1);if(k)p.first=e||h[0],p.dirty=e?!1:1!==h.length;else if(p.active&&e&&p.first.getAscendant("table").equals(e.getAscendant("table"))){h=f(p.first,e);if(!p.dirty&&1===h.length&&!a(g.data.getTarget()))return b(d,"mouseup"===g.name);p.dirty=!0;p.last=e;c(d,h)}}function m(a){var d=(a=a.editor||a.sender.editor)&&a.getSelection(),c=d&&d.getRanges()||[],e=c&&c[0].getEnclosedNode(),e=e&&e.type==CKEDITOR.NODE_ELEMENT&&e.is("img"),f;if(d&&(b(a),d.isInTable()&&d.isFake))if(e)a.getSelection().reset();
else if(!c[0]._getTableElement({table:1}).hasAttribute("data-cke-tableselection-ignored")){1===c.length&&c[0]._getTableElement()&&c[0]._getTableElement().is("table")&&(f=c[0]._getTableElement());f=z(d,f);a.fire("lockSnapshot");for(d=0;d<f.length;d++)f[d].addClass("cke_table-faked-selection");0<f.length&&(a.editable().addClass("cke_table-faked-selection-editor"),f[0].getAscendant("table").data("cke-table-faked-selection-table",""));a.fire("unlockSnapshot")}}function d(a){return a.getAscendant("tr",
!0).$.rowIndex}function h(d){function c(a,b){return a&&b?a.equals(b)||a.contains(b)||b.contains(a)||a.getCommonAncestor(b).is(t):!1}function f(a){return!a.getAscendant("table",!0)&&a.getDocument().equals(m.document)}function g(a,b,d,c){if("mousedown"===a.name&&(CKEDITOR.tools.getMouseButton(a)===CKEDITOR.MOUSE_BUTTON_LEFT||!c))return!0;if(b=a.name===(CKEDITOR.env.gecko?"mousedown":"mouseup")&&!f(a.data.getTarget()))a=a.data.getTarget().getAscendant({td:1,th:1},!0),b=!(a&&a.hasClass("cke_table-faked-selection"));
return b}if(d.data.getTarget().getName&&("mouseup"===d.name||!a(d.data.getTarget()))){var m=d.editor||d.listenerData.editor,n=m.getSelection(1),q=e(m),r=d.data.getTarget(),w=r&&r.getAscendant({td:1,th:1},!0),r=r&&r.getAscendant("table",!0),t={table:1,thead:1,tbody:1,tfoot:1,tr:1,td:1,th:1};r&&r.hasAttribute("data-cke-tableselection-ignored")||(g(d,n,q,r)&&b(m,!0),!p.active&&"mousedown"===d.name&&CKEDITOR.tools.getMouseButton(d)===CKEDITOR.MOUSE_BUTTON_LEFT&&r&&(p={active:!0},CKEDITOR.document.on("mouseup",
h,null,{editor:m})),(w||r)&&l(m,w||r,d),"mouseup"===d.name&&(CKEDITOR.tools.getMouseButton(d)===CKEDITOR.MOUSE_BUTTON_LEFT&&(f(d.data.getTarget())||c(q,r))&&k(m),p={active:!1},CKEDITOR.document.removeListener("mouseup",h)))}}function g(a){var b=a.data.getTarget().getAscendant("table",!0);p.active=!1;b&&b.hasAttribute("data-cke-tableselection-ignored")||(a=a.data.getTarget().getAscendant({td:1,th:1},!0),!a||a.hasClass("cke_table-faked-selection"))}function n(a,b){function d(a){a.cancel()}var c=a.getSelection(),
e=c.createBookmarks(),f=a.document,g=a.createRange(),h=f.getDocumentElement().$,k=CKEDITOR.env.ie&&9>CKEDITOR.env.version,l=a.blockless||CKEDITOR.env.ie?"span":"div",m,n,p,q;f.getById("cke_table_copybin")||(m=f.createElement(l),n=f.createElement(l),n.setAttributes({id:"cke_table_copybin","data-cke-temp":"1"}),m.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"}),m.setStyle("ltr"==a.config.contentsLangDirection?"left":"right","-5000px"),m.setHtml(a.getSelectedHtml(!0)),a.fire("lockSnapshot"),
n.append(m),a.editable().append(n),q=a.on("selectionChange",d,null,null,0),k&&(p=h.scrollTop),g.selectNodeContents(m),g.select(),k&&(h.scrollTop=p),setTimeout(function(){n.remove();c.selectBookmarks(e);q.removeListener();a.fire("unlockSnapshot");b&&(a.extractSelectedHtml(),a.fire("saveSnapshot"))},100))}function w(a){var b=a.editor||a.sender.editor,d=b.getSelection();d.isInTable()&&(d.getRanges()[0]._getTableElement({table:1}).hasAttribute("data-cke-tableselection-ignored")||n(b,"cut"===a.name))}
function x(a){this._reset();a&&this.setSelectedCells(a)}function r(a,b,d){a.on("beforeCommandExec",function(d){-1!==CKEDITOR.tools.array.indexOf(b,d.data.name)&&(d.data.selectedCells=z(a.getSelection()))});a.on("afterCommandExec",function(c){-1!==CKEDITOR.tools.array.indexOf(b,c.data.name)&&d(a,c.data)},null,null,9)}var p={active:!1},u,z,q,A,y;x.prototype={};x.prototype._reset=function(){this.cells={first:null,last:null,all:[]};this.rows={first:null,last:null}};x.prototype.setSelectedCells=function(a){this._reset();
a=a.slice(0);this._arraySortByDOMOrder(a);this.cells.all=a;this.cells.first=a[0];this.cells.last=a[a.length-1];this.rows.first=a[0].getAscendant("tr");this.rows.last=this.cells.last.getAscendant("tr")};x.prototype.getTableMap=function(){var a=q(this.cells.first),b;a:{b=this.cells.last;var c=b.getAscendant("table"),e=d(b),c=CKEDITOR.tools.buildTableMap(c),f;for(f=0;f<c[e].length;f++)if((new CKEDITOR.dom.element(c[e][f])).equals(b)){b=f;break a}b=void 0}return CKEDITOR.tools.buildTableMap(this._getTable(),
d(this.rows.first),a,d(this.rows.last),b)};x.prototype._getTable=function(){return this.rows.first.getAscendant("table")};x.prototype.insertRow=function(a,b,d){if("undefined"===typeof a)a=1;else if(0>=a)return;for(var c=this.cells.first.$.cellIndex,e=this.cells.last.$.cellIndex,f=d?[]:this.cells.all,g,h=0;h<a;h++)g=A(d?this.cells.all:f,b),g=CKEDITOR.tools.array.filter(g.find("td, th").toArray(),function(a){return d?!0:a.$.cellIndex>=c&&a.$.cellIndex<=e}),f=b?g.concat(f):f.concat(g);this.setSelectedCells(f)};
x.prototype.insertColumn=function(a){function b(a){a=d(a);return a>=f&&a<=g}if("undefined"===typeof a)a=1;else if(0>=a)return;for(var c=this.cells,e=c.all,f=d(c.first),g=d(c.last),c=0;c<a;c++)e=e.concat(CKEDITOR.tools.array.filter(y(e),b));this.setSelectedCells(e)};x.prototype.emptyCells=function(a){a=a||this.cells.all;for(var b=0;b<a.length;b++)a[b].setHtml("")};x.prototype._arraySortByDOMOrder=function(a){a.sort(function(a,b){return a.getPosition(b)&CKEDITOR.POSITION_PRECEDING?-1:1})};var t={onPaste:function(a){function b(a){var d=
e.createRange();d.selectNodeContents(a);d.select()}function d(a){return Math.max.apply(null,CKEDITOR.tools.array.map(a,function(a){return a.length},0))}var e=a.editor,g=e.getSelection(),h=z(g),k=g.isInTable(!0)&&this.isBoundarySelection(g),l=this.findTableInPastedContent(e,a.data.dataValue),m,n;(function(a,b,d,c){a=a.getRanges();var e=a.length&&a[0]._getTableElement({table:1});if(!b.length||e&&e.hasAttribute("data-cke-tableselection-ignored")||c&&!d)return!1;if(b=!c)(b=a[0])?(b=b.clone(),b.enlarge(CKEDITOR.ENLARGE_ELEMENT),
b=(b=b.getEnclosedNode())&&b.is&&b.is(CKEDITOR.dtd.$tableContent)):b=void 0,b=!b;return b?!1:!0})(g,h,l,k)&&"drop"!==a.data.method&&(h=h[0].getAscendant("table"),m=new x(z(g,h)),e.once("afterPaste",function(){var a;if(n){a=new CKEDITOR.dom.element(n[0][0]);var b=n[n.length-1];a=f(a,new CKEDITOR.dom.element(b[b.length-1]))}else a=m.cells.all;c(e,a)}),l?(a.stop(),k?(m.insertRow(1,1===k,!0),g.selectElement(m.rows.first)):(m.emptyCells(),c(e,m.cells.all)),a=m.getTableMap(),n=CKEDITOR.tools.buildTableMap(l),
m.insertRow(n.length-a.length),m.insertColumn(d(n)-d(a)),a=m.getTableMap(),this.pasteTable(m,a,n),e.fire("saveSnapshot"),setTimeout(function(){e.fire("afterPaste")},0)):(b(m.cells.first),e.once("afterPaste",function(){e.fire("lockSnapshot");m.emptyCells(m.cells.all.slice(1));c(e,m.cells.all);e.fire("unlockSnapshot")})))},isBoundarySelection:function(a){a=a.getRanges()[0];var b=a.endContainer.getAscendant("tr",!0);if(b&&a.collapsed){if(a.checkBoundaryOfElement(b,CKEDITOR.START))return 1;if(a.checkBoundaryOfElement(b,
CKEDITOR.END))return 2}return 0},findTableInPastedContent:function(a,b){var d=a.dataProcessor,c=new CKEDITOR.dom.element("body");d||(d=new CKEDITOR.htmlDataProcessor(a));c.setHtml(d.toHtml(b),{fixForBody:!1});return 1<c.getChildCount()?null:c.findOne("table")},pasteTable:function(a,b,d){var c,e=q(a.cells.first),f=a._getTable(),g={},h,k,l,m;for(l=0;l<d.length;l++)for(h=new CKEDITOR.dom.element(f.$.rows[a.rows.first.$.rowIndex+l]),m=0;m<d[l].length;m++)if(k=new CKEDITOR.dom.element(d[l][m]),c=b[l]&&
b[l][m]?new CKEDITOR.dom.element(b[l][m]):null,k&&!k.getCustomData("processed")){if(c&&c.getParent())k.replace(c);else if(0===m||d[l][m-1])(c=0!==m?new CKEDITOR.dom.element(d[l][m-1]):null)&&h.equals(c.getParent())?k.insertAfter(c):0<e?h.$.cells[e]?k.insertAfter(new CKEDITOR.dom.element(h.$.cells[e])):h.append(k):h.append(k,!0);CKEDITOR.dom.element.setMarker(g,k,"processed",!0)}else k.getCustomData("processed")&&c&&c.remove();CKEDITOR.dom.element.clearAllMarkers(g)}};CKEDITOR.plugins.tableselection=
{getCellsBetween:f,keyboardIntegration:function(a){function b(a){var d=a.getEnclosedNode();d&&"function"===typeof d.is&&d.is({td:1,th:1})?d.setText(""):a.deleteContents();CKEDITOR.tools.array.forEach(a._find("td"),function(a){a.appendBogus()})}var d=a.editable();d.attachListener(d,"keydown",function(a){function d(b,c){if(!c.length)return null;var f=a.createRange(),g=CKEDITOR.dom.range.mergeRanges(c);CKEDITOR.tools.array.forEach(g,function(a){a.enlarge(CKEDITOR.ENLARGE_ELEMENT)});var h=g[0].getBoundaryNodes(),
k=h.startNode,h=h.endNode;if(k&&k.is&&k.is(e)){for(var l=k.getAscendant("table",!0),m=k.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,l),n=!1,p=function(a){return!k.contains(a)&&a.is&&a.is("td","th")};m&&!p(m);)m=m.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,l);!m&&h&&h.is&&!h.is("table")&&h.getNext()&&(m=h.getNext().findOne("td, th"),n=!0);if(m)f["moveToElementEdit"+(n?"Start":"End")](m);else f.setStartBefore(k.getAscendant("table",!0)),f.collapse(!0);g[0].deleteContents();return[f]}if(k)return f.moveToElementEditablePosition(k),
[f]}var c={37:1,38:1,39:1,40:1,8:1,46:1,13:1},e=CKEDITOR.tools.extend({table:1},CKEDITOR.dtd.$tableContent);delete e.td;delete e.th;return function(e){var f=e.data.getKey(),g=e.data.getKeystroke(),h,k=37===f||38==f,l,m,n;if(c[f]&&!a.readOnly&&(h=a.getSelection())&&h.isInTable()&&h.isFake){l=h.getRanges();m=l[0]._getTableElement();n=l[l.length-1]._getTableElement();if(13!==f||a.plugins.enterkey)e.data.preventDefault(),e.cancel();if(36<f&&41>f)l[0].moveToElementEditablePosition(k?m:n,!k),h.selectRanges([l[0]]);
else if(13!==f||13===g||g===CKEDITOR.SHIFT+13){for(e=0;e<l.length;e++)b(l[e]);(e=d(m,l))?l=e:l[0].moveToElementEditablePosition(m);h.selectRanges(l);13===f&&a.plugins.enterkey?(a.fire("lockSnapshot"),13===g?a.execCommand("enter"):a.execCommand("shiftEnter"),a.fire("unlockSnapshot"),a.fire("saveSnapshot")):13!==f&&a.fire("saveSnapshot")}}}}(a),null,null,-1);d.attachListener(d,"keypress",function(d){var c=a.getSelection(),e=d.data.$.charCode||13===d.data.getKey(),f;if(!a.readOnly&&c&&c.isInTable()&&
c.isFake&&e&&!(d.data.getKeystroke()&CKEDITOR.CTRL)){d=c.getRanges();e=d[0].getEnclosedNode().getAscendant({td:1,th:1},!0);for(f=0;f<d.length;f++)b(d[f]);e&&(d[0].moveToElementEditablePosition(e),c.selectRanges([d[0]]))}},null,null,-1);d.attachListener(d,"keyup",function(a){return function(b){b=b.data.getKey();var d=a.getSelection();9===b&&d.isInTable()&&k(a)}}(a),null,null,-1)}};CKEDITOR.plugins.add("tableselection",{requires:"clipboard,tabletools",isSupportedEnvironment:function(){return!(CKEDITOR.env.ie&&
11>CKEDITOR.env.version)},onLoad:function(){u=CKEDITOR.plugins.tabletools;z=u.getSelectedCells;q=u.getCellColIndex;A=u.insertRow;y=u.insertColumn;CKEDITOR.document.appendStyleSheet(this.path+"styles/tableselection.css")},init:function(a){this.isSupportedEnvironment()&&(a.addContentsCss&&a.addContentsCss(this.path+"styles/tableselection.css"),a.on("contentDom",function(){var b=a.editable(),d=b.isInline()?b:a.document,c={editor:a};b.attachListener(d,"mousedown",h,null,c);b.attachListener(d,"mousemove",
h,null,c);b.attachListener(d,"mouseup",h,null,c);b.attachListener(b,"dragstart",g);b.attachListener(a,"selectionCheck",m);CKEDITOR.plugins.tableselection.keyboardIntegration(a);CKEDITOR.plugins.clipboard&&!CKEDITOR.plugins.clipboard.isCustomCopyCutSupported&&(b.attachListener(b,"cut",w),b.attachListener(b,"copy",w))}),a.on("paste",t.onPaste,t),r(a,"rowInsertBefore rowInsertAfter columnInsertBefore columnInsertAfter cellInsertBefore cellInsertAfter".split(" "),function(a,b){c(a,b.selectedCells)}),
r(a,["cellMerge","cellMergeRight","cellMergeDown"],function(a,b){c(a,[b.commandData.cell])}),r(a,["cellDelete"],function(a){b(a,!0)}))}})}(),"use strict",function(){function a(a,b){return CKEDITOR.tools.array.reduce(b,function(a,b){return b(a)},a)}var f=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],e={8:1,46:1};CKEDITOR.plugins.add("undo",{init:function(a){function c(a){k.enabled&&!1!==a.data.command.canUndo&&k.save()}function e(){k.enabled=a.readOnly?!1:"wysiwyg"==a.mode;k.onChange()}
var k=a.undoManager=new b(a),m=k.editingHandler=new l(k),x=a.addCommand("undo",{exec:function(){k.undo()&&(a.selectionChange(),this.fire("afterUndo"))},startDisabled:!0,canUndo:!1}),r=a.addCommand("redo",{exec:function(){k.redo()&&(a.selectionChange(),this.fire("afterRedo"))},startDisabled:!0,canUndo:!1});a.setKeystroke([[f[0],"undo"],[f[1],"redo"],[f[2],"redo"]]);k.onChange=function(){x.setState(k.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);r.setState(k.redoable()?CKEDITOR.TRISTATE_OFF:
CKEDITOR.TRISTATE_DISABLED)};a.on("beforeCommandExec",c);a.on("afterCommandExec",c);a.on("saveSnapshot",function(a){k.save(a.data&&a.data.contentOnly)});a.on("contentDom",m.attachListeners,m);a.on("instanceReady",function(){a.fire("saveSnapshot")});a.on("beforeModeUnload",function(){"wysiwyg"==a.mode&&k.save(!0)});a.on("mode",e);a.on("readOnly",e);a.ui.addButton&&(a.ui.addButton("Undo",{label:a.lang.undo.undo,command:"undo",toolbar:"undo,10"}),a.ui.addButton("Redo",{label:a.lang.undo.redo,command:"redo",
toolbar:"undo,20"}));a.resetUndo=function(){k.reset();a.fire("saveSnapshot")};a.on("updateSnapshot",function(){k.currentImage&&k.update()});a.on("lockSnapshot",function(a){a=a.data;k.lock(a&&a.dontUpdate,a&&a.forceUpdate)});a.on("unlockSnapshot",k.unlock,k)}});CKEDITOR.plugins.undo={};var b=CKEDITOR.plugins.undo.UndoManager=function(a){this.strokesRecorded=[0,0];this.locked=null;this.previousKeyGroup=-1;this.limit=a.config.undoStackSize||20;this.strokesLimit=25;this._filterRules=[];this.editor=a;
this.reset();CKEDITOR.env.ie&&this.addFilterRule(function(a){return a.replace(/\s+data-cke-expando=".*?"/g,"")})};b.prototype={type:function(a,c){var e=b.getKeyGroup(a),f=this.strokesRecorded[e]+1;c=c||f>=this.strokesLimit;this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange());c?(f=0,this.editor.fire("saveSnapshot")):this.editor.fire("change");this.strokesRecorded[e]=f;this.previousKeyGroup=e},keyGroupChanged:function(a){return b.getKeyGroup(a)!=this.previousKeyGroup},reset:function(){this.snapshots=
[];this.index=-1;this.currentImage=null;this.hasRedo=this.hasUndo=!1;this.locked=null;this.resetType()},resetType:function(){this.strokesRecorded=[0,0];this.typing=!1;this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0);this.hasRedo=!!this.getNextImage(!1);this.resetType();this.onChange()},save:function(a,b,e){var f=this.editor;if(this.locked||"ready"!=f.status||"wysiwyg"!=f.mode)return!1;var k=f.editable();if(!k||"ready"!=k.status)return!1;k=this.snapshots;b||(b=
new c(f));if(!1===b.contents)return!1;if(this.currentImage)if(b.equalsContent(this.currentImage)){if(a||b.equalsSelection(this.currentImage))return!1}else!1!==e&&f.fire("change");k.splice(this.index+1,k.length-this.index-1);k.length==this.limit&&k.shift();this.index=k.push(b)-1;this.currentImage=b;!1!==e&&this.refreshState();return!0},restoreImage:function(a){var b=this.editor,c;a.bookmarks&&(b.focus(),c=b.getSelection());this.locked={level:999};this.editor.loadSnapshot(a.contents);a.bookmarks?c.selectBookmarks(a.bookmarks):
CKEDITOR.env.ie&&(c=this.editor.document.getBody().$.createTextRange(),c.collapse(!0),c.select());this.locked=null;this.index=a.index;this.currentImage=this.snapshots[this.index];this.update();this.refreshState();b.fire("change")},getNextImage:function(a){var b=this.snapshots,c=this.currentImage,e;if(c)if(a)for(e=this.index-1;0<=e;e--){if(a=b[e],!c.equalsContent(a))return a.index=e,a}else for(e=this.index+1;e<b.length;e++)if(a=b[e],!c.equalsContent(a))return a.index=e,a;return null},redoable:function(){return this.enabled&&
this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var a=this.getNextImage(!0);if(a)return this.restoreImage(a),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var a=this.getNextImage(!1);if(a)return this.restoreImage(a),!0}return!1},update:function(a){if(!this.locked){a||(a=new c(this.editor));for(var b=this.index,e=this.snapshots;0<b&&this.currentImage.equalsContent(e[b-1]);)--b;e.splice(b,this.index-
b+1,a);this.index=b;this.currentImage=a}},updateSelection:function(a){if(!this.snapshots.length)return!1;var b=this.snapshots,c=b[b.length-1];return c.equalsContent(a)&&!c.equalsSelection(a)?(this.currentImage=b[b.length-1]=a,!0):!1},lock:function(a,b){if(this.locked)this.locked.level++;else if(a)this.locked={level:1};else{var e=null;if(b)e=!0;else{var f=new c(this.editor,!0);this.currentImage&&this.currentImage.equalsContent(f)&&(e=f)}this.locked={update:e,level:1}}},unlock:function(){if(this.locked&&
!--this.locked.level){var a=this.locked.update;this.locked=null;if(!0===a)this.update();else if(a){var b=new c(this.editor,!0);a.equalsContent(b)||this.update()}}},addFilterRule:function(a){this._filterRules.push(a)}};b.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1};b.keyGroups={PRINTABLE:0,FUNCTIONAL:1};b.isNavigationKey=function(a){return!!b.navigationKeyCodes[a]};b.getKeyGroup=function(a){var c=b.keyGroups;return e[a]?c.FUNCTIONAL:c.PRINTABLE};b.getOppositeKeyGroup=function(a){var c=
b.keyGroups;return a==c.FUNCTIONAL?c.PRINTABLE:c.FUNCTIONAL};b.ieFunctionalKeysBug=function(a){return CKEDITOR.env.ie&&b.getKeyGroup(a)==b.keyGroups.FUNCTIONAL};var c=CKEDITOR.plugins.undo.Image=function(b,c){this.editor=b;b.fire("beforeUndoImage");var e=b.getSnapshot();e&&(this.contents=a(e,b.undoManager._filterRules));c||(this.bookmarks=(e=e&&b.getSelection())&&e.createBookmarks2(!0));b.fire("afterUndoImage")},k=/\b(?:href|src|name)="[^"]*?"/gi;c.prototype={equalsContent:function(a){var b=this.contents;
a=a.contents;CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(b=b.replace(k,""),a=a.replace(k,""));return b!=a?!1:!0},equalsSelection:function(a){var b=this.bookmarks;a=a.bookmarks;if(b||a){if(!b||!a||b.length!=a.length)return!1;for(var c=0;c<b.length;c++){var e=b[c],f=a[c];if(e.startOffset!=f.startOffset||e.endOffset!=f.endOffset||!CKEDITOR.tools.arrayCompare(e.start,f.start)||!CKEDITOR.tools.arrayCompare(e.end,f.end))return!1}}return!0}};var l=CKEDITOR.plugins.undo.NativeEditingHandler=
function(a){this.undoManager=a;this.ignoreInputEvent=!1;this.keyEventsStack=new m;this.lastKeydownImage=null};l.prototype={onKeydown:function(a){var e=a.data.getKey();if(229!==e)if(-1<CKEDITOR.tools.indexOf(f,a.data.getKeystroke()))a.data.preventDefault();else if(this.keyEventsStack.cleanUp(a),a=this.undoManager,this.keyEventsStack.getLast(e)||this.keyEventsStack.push(e),this.lastKeydownImage=new c(a.editor),b.isNavigationKey(e)||this.undoManager.keyGroupChanged(e))if(a.strokesRecorded[0]||a.strokesRecorded[1])a.save(!1,
this.lastKeydownImage,!1),a.resetType()},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var a=this.keyEventsStack.getLast();a||(a=this.keyEventsStack.push(0));this.keyEventsStack.increment(a.keyCode);this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(a.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(a){var e=this.undoManager;a=a.data.getKey();var f=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(a);
if(!(b.ieFunctionalKeysBug(a)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new c(e.editor,!0))))if(0<f)e.type(a);else if(b.isNavigationKey(a))this.onNavigationKey(!0)},onNavigationKey:function(a){var b=this.undoManager;!a&&b.save(!0,null,!1)||b.updateSelection(new c(b.editor));b.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},activateInputEventListener:function(){this.ignoreInputEvent=!1},attachListeners:function(){var a=this.undoManager.editor,c=a.editable(),
e=this;c.attachListener(c,"keydown",function(a){e.onKeydown(a);if(b.ieFunctionalKeysBug(a.data.getKey()))e.onInput()},null,null,999);c.attachListener(c,CKEDITOR.env.ie?"keypress":"input",e.onInput,e,null,999);c.attachListener(c,"keyup",e.onKeyup,e,null,999);c.attachListener(c,"paste",e.ignoreInputEventListener,e,null,999);c.attachListener(c,"drop",e.ignoreInputEventListener,e,null,999);a.on("afterPaste",e.activateInputEventListener,e,null,999);c.attachListener(c.isInline()?c:a.document.getDocumentElement(),
"click",function(){e.onNavigationKey()},null,null,999);c.attachListener(this.undoManager.editor,"blur",function(){e.keyEventsStack.remove(9)},null,null,999)}};var m=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};m.prototype={push:function(a){a=this.stack.push({keyCode:a,inputs:0});return this.stack[a-1]},getLastIndex:function(a){if("number"!=typeof a)return this.stack.length-1;for(var b=this.stack.length;b--;)if(this.stack[b].keyCode==a)return b;return-1},getLast:function(a){a=this.getLastIndex(a);
return-1!=a?this.stack[a]:null},increment:function(a){this.getLast(a).inputs++},remove:function(a){a=this.getLastIndex(a);-1!=a&&this.stack.splice(a,1)},resetInputs:function(a){if("number"==typeof a)this.getLast(a).inputs=0;else for(a=this.stack.length;a--;)this.stack[a].inputs=0},getTotalInputs:function(){for(var a=this.stack.length,b=0;a--;)b+=this.stack[a].inputs;return b},cleanUp:function(a){a=a.data.$;a.ctrlKey||a.metaKey||this.remove(17);a.shiftKey||this.remove(16);a.altKey||this.remove(18)}}}(),
"use strict",function(){function a(a,b){CKEDITOR.tools.extend(this,{editor:a,editable:a.editable(),doc:a.document,win:a.window},b,!0);this.inline=this.editable.isInline();this.inline||(this.frame=this.win.getFrame());this.target=this[this.inline?"editable":"doc"]}function f(a,b){CKEDITOR.tools.extend(this,b,{editor:a},!0)}function e(a,b){var e=a.editable();CKEDITOR.tools.extend(this,{editor:a,editable:e,inline:e.isInline(),doc:a.document,win:a.window,container:CKEDITOR.document.getBody(),winTop:CKEDITOR.document.getWindow()},
b,!0);this.hidden={};this.visible={};this.inline||(this.frame=this.win.getFrame());this.queryViewport();var f=CKEDITOR.tools.bind(this.queryViewport,this),l=CKEDITOR.tools.bind(this.hideVisible,this),m=CKEDITOR.tools.bind(this.removeAll,this);e.attachListener(this.winTop,"resize",f);e.attachListener(this.winTop,"scroll",f);e.attachListener(this.winTop,"resize",l);e.attachListener(this.win,"scroll",l);e.attachListener(this.inline?e:this.frame,"mouseout",function(a){var b=a.data.$.clientX;a=a.data.$.clientY;
this.queryViewport();(b<=this.rect.left||b>=this.rect.right||a<=this.rect.top||a>=this.rect.bottom)&&this.hideVisible();(0>=b||b>=this.winTopPane.width||0>=a||a>=this.winTopPane.height)&&this.hideVisible()},this);e.attachListener(a,"resize",f);e.attachListener(a,"mode",m);a.on("destroy",m);this.lineTpl=(new CKEDITOR.template('\x3cdiv data-cke-lineutils-line\x3d"1" class\x3d"cke_reset_all" style\x3d"{lineStyle}"\x3e\x3cspan style\x3d"{tipLeftStyle}"\x3e\x26nbsp;\x3c/span\x3e\x3cspan style\x3d"{tipRightStyle}"\x3e\x26nbsp;\x3c/span\x3e\x3c/div\x3e')).output({lineStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},
k,this.lineStyle,!0)),tipLeftStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},c,{left:"0px","border-left-color":"red","border-width":"6px 0 6px 6px"},this.tipCss,this.tipLeftStyle,!0)),tipRightStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},c,{right:"0px","border-right-color":"red","border-width":"6px 6px 6px 0"},this.tipCss,this.tipRightStyle,!0))})}function b(a){var b;if(b=a&&a.type==CKEDITOR.NODE_ELEMENT)b=!(l[a.getComputedStyle("float")]||l[a.getAttribute("align")]);return b&&
!m[a.getComputedStyle("position")]}CKEDITOR.plugins.add("lineutils");CKEDITOR.LINEUTILS_BEFORE=1;CKEDITOR.LINEUTILS_AFTER=2;CKEDITOR.LINEUTILS_INSIDE=4;a.prototype={start:function(a){var b=this,c=this.editor,e=this.doc,f,k,l,m,u=CKEDITOR.tools.eventsBuffer(50,function(){c.readOnly||"wysiwyg"!=c.mode||(b.relations={},(k=e.$.elementFromPoint(l,m))&&k.nodeType&&(f=new CKEDITOR.dom.element(k),b.traverseSearch(f),isNaN(l+m)||b.pixelSearch(f,l,m),a&&a(b.relations,l,m)))});this.listener=this.editable.attachListener(this.target,
"mousemove",function(a){l=a.data.$.clientX;m=a.data.$.clientY;u.input()});this.editable.attachListener(this.inline?this.editable:this.frame,"mouseout",function(){u.reset()})},stop:function(){this.listener&&this.listener.removeListener()},getRange:function(){var a={};a[CKEDITOR.LINEUTILS_BEFORE]=CKEDITOR.POSITION_BEFORE_START;a[CKEDITOR.LINEUTILS_AFTER]=CKEDITOR.POSITION_AFTER_END;a[CKEDITOR.LINEUTILS_INSIDE]=CKEDITOR.POSITION_AFTER_START;return function(b){var c=this.editor.createRange();c.moveToPosition(this.relations[b.uid].element,
a[b.type]);return c}}(),store:function(){function a(b,c,d){var e=b.getUniqueId();e in d?d[e].type|=c:d[e]={element:b,type:c}}return function(c,e){var f;e&CKEDITOR.LINEUTILS_AFTER&&b(f=c.getNext())&&f.isVisible()&&(a(f,CKEDITOR.LINEUTILS_BEFORE,this.relations),e^=CKEDITOR.LINEUTILS_AFTER);e&CKEDITOR.LINEUTILS_INSIDE&&b(f=c.getFirst())&&f.isVisible()&&(a(f,CKEDITOR.LINEUTILS_BEFORE,this.relations),e^=CKEDITOR.LINEUTILS_INSIDE);a(c,e,this.relations)}}(),traverseSearch:function(a){var c,e,f;do if(f=a.$["data-cke-expando"],
!(f&&f in this.relations)){if(a.equals(this.editable))break;if(b(a))for(c in this.lookups)(e=this.lookups[c](a))&&this.store(a,e)}while((!a||a.type!=CKEDITOR.NODE_ELEMENT||"true"!=a.getAttribute("contenteditable"))&&(a=a.getParent()))},pixelSearch:function(){function a(d,e,f,k,l){for(var m=0,u;l(f);){f+=k;if(25==++m)break;if(u=this.doc.$.elementFromPoint(e,f))if(u==d)m=0;else if(c(d,u)&&(m=0,b(u=new CKEDITOR.dom.element(u))))return u}}var c=CKEDITOR.env.ie||CKEDITOR.env.webkit?function(a,b){return a.contains(b)}:
function(a,b){return!!(a.compareDocumentPosition(b)&16)};return function(c,e,f){var h=this.win.getViewPaneSize().height,k=a.call(this,c.$,e,f,-1,function(a){return 0<a});e=a.call(this,c.$,e,f,1,function(a){return a<h});if(k)for(this.traverseSearch(k);!k.getParent().equals(c);)k=k.getParent();if(e)for(this.traverseSearch(e);!e.getParent().equals(c);)e=e.getParent();for(;k||e;){k&&(k=k.getNext(b));if(!k||k.equals(e))break;this.traverseSearch(k);e&&(e=e.getPrevious(b));if(!e||e.equals(k))break;this.traverseSearch(e)}}}(),
greedySearch:function(){this.relations={};for(var a=this.editable.getElementsByTag("*"),c=0,e,f,k;e=a.getItem(c++);)if(!e.equals(this.editable)&&e.type==CKEDITOR.NODE_ELEMENT&&(e.hasAttribute("contenteditable")||!e.isReadOnly())&&b(e)&&e.isVisible())for(k in this.lookups)(f=this.lookups[k](e))&&this.store(e,f);return this.relations}};f.prototype={locate:function(){function a(c,d){var e=c.element[d===CKEDITOR.LINEUTILS_BEFORE?"getPrevious":"getNext"]();return e&&b(e)?(c.siblingRect=e.getClientRect(),
d==CKEDITOR.LINEUTILS_BEFORE?(c.siblingRect.bottom+c.elementRect.top)/2:(c.elementRect.bottom+c.siblingRect.top)/2):d==CKEDITOR.LINEUTILS_BEFORE?c.elementRect.top:c.elementRect.bottom}return function(b){var c;this.locations={};for(var e in b)c=b[e],c.elementRect=c.element.getClientRect(),c.type&CKEDITOR.LINEUTILS_BEFORE&&this.store(e,CKEDITOR.LINEUTILS_BEFORE,a(c,CKEDITOR.LINEUTILS_BEFORE)),c.type&CKEDITOR.LINEUTILS_AFTER&&this.store(e,CKEDITOR.LINEUTILS_AFTER,a(c,CKEDITOR.LINEUTILS_AFTER)),c.type&
CKEDITOR.LINEUTILS_INSIDE&&this.store(e,CKEDITOR.LINEUTILS_INSIDE,(c.elementRect.top+c.elementRect.bottom)/2);return this.locations}}(),sort:function(){var a,b,c,e;return function(f,k){a=this.locations;b=[];for(var l in a)for(var m in a[l])if(c=Math.abs(f-a[l][m]),b.length){for(e=0;e<b.length;e++)if(c<b[e].dist){b.splice(e,0,{uid:+l,type:m,dist:c});break}e==b.length&&b.push({uid:+l,type:m,dist:c})}else b.push({uid:+l,type:m,dist:c});return"undefined"!=typeof k?b.slice(0,k):b}}(),store:function(a,
b,c){this.locations[a]||(this.locations[a]={});this.locations[a][b]=c}};var c={display:"block",width:"0px",height:"0px","border-color":"transparent","border-style":"solid",position:"absolute",top:"-6px"},k={height:"0px","border-top":"1px dashed red",position:"absolute","z-index":9999};e.prototype={removeAll:function(){for(var a in this.hidden)this.hidden[a].remove(),delete this.hidden[a];for(a in this.visible)this.visible[a].remove(),delete this.visible[a]},hideLine:function(a){var b=a.getUniqueId();
a.hide();this.hidden[b]=a;delete this.visible[b]},showLine:function(a){var b=a.getUniqueId();a.show();this.visible[b]=a;delete this.hidden[b]},hideVisible:function(){for(var a in this.visible)this.hideLine(this.visible[a])},placeLine:function(a,b){var c,e,f;if(c=this.getStyle(a.uid,a.type)){for(f in this.visible)if(this.visible[f].getCustomData("hash")!==this.hash){e=this.visible[f];break}if(!e)for(f in this.hidden)if(this.hidden[f].getCustomData("hash")!==this.hash){this.showLine(e=this.hidden[f]);
break}e||this.showLine(e=this.addLine());e.setCustomData("hash",this.hash);this.visible[e.getUniqueId()]=e;e.setStyles(c);b&&b(e)}},getStyle:function(a,b){var c=this.relations[a],e=this.locations[a][b],f={};f.width=c.siblingRect?Math.max(c.siblingRect.width,c.elementRect.width):c.elementRect.width;f.top=this.inline?e+this.winTopScroll.y-this.rect.relativeY:this.rect.top+this.winTopScroll.y+e;if(f.top-this.winTopScroll.y<this.rect.top||f.top-this.winTopScroll.y>this.rect.bottom)return!1;this.inline?
f.left=c.elementRect.left-this.rect.relativeX:(0<c.elementRect.left?f.left=this.rect.left+c.elementRect.left:(f.width+=c.elementRect.left,f.left=this.rect.left),0<(c=f.left+f.width-(this.rect.left+this.winPane.width))&&(f.width-=c));f.left+=this.winTopScroll.x;for(var k in f)f[k]=CKEDITOR.tools.cssLength(f[k]);return f},addLine:function(){var a=CKEDITOR.dom.element.createFromHtml(this.lineTpl);a.appendTo(this.container);return a},prepare:function(a,b){this.relations=a;this.locations=b;this.hash=Math.random()},
cleanup:function(){var a,b;for(b in this.visible)a=this.visible[b],a.getCustomData("hash")!==this.hash&&this.hideLine(a)},queryViewport:function(){this.winPane=this.win.getViewPaneSize();this.winTopScroll=this.winTop.getScrollPosition();this.winTopPane=this.winTop.getViewPaneSize();this.rect=this.getClientRect(this.inline?this.editable:this.frame)},getClientRect:function(a){a=a.getClientRect();var b=this.container.getDocumentPosition(),c=this.container.getComputedStyle("position");a.relativeX=a.relativeY=
0;"static"!=c&&(a.relativeY=b.y,a.relativeX=b.x,a.top-=a.relativeY,a.bottom-=a.relativeY,a.left-=a.relativeX,a.right-=a.relativeX);return a}};var l={left:1,right:1,center:1},m={absolute:1,fixed:1};CKEDITOR.plugins.lineutils={finder:a,locator:f,liner:e}}(),function(){function a(a){return a.getName&&!a.hasAttribute("data-cke-temp")}CKEDITOR.plugins.add("widgetselection",{init:function(a){if(CKEDITOR.env.webkit){var e=CKEDITOR.plugins.widgetselection;a.on("contentDom",function(a){a=a.editor;var c=a.editable();
c.attachListener(c,"keydown",function(a){a.data.getKeystroke()==CKEDITOR.CTRL+65&&CKEDITOR.tools.setTimeout(function(){e.addFillers(c)||e.removeFillers(c)},0)},null,null,-1);a.on("selectionCheck",function(a){e.removeFillers(a.editor.editable())});a.on("paste",function(a){a.data.dataValue=e.cleanPasteData(a.data.dataValue)});"selectall"in a.plugins&&e.addSelectAllIntegration(a)})}}});CKEDITOR.plugins.widgetselection={startFiller:null,endFiller:null,fillerAttribute:"data-cke-filler-webkit",fillerContent:"\x26nbsp;",
fillerTagName:"div",addFillers:function(f){var e=f.editor;if(!this.isWholeContentSelected(f)&&0<f.getChildCount()){var b=f.getFirst(a),c=f.getLast(a);b&&b.type==CKEDITOR.NODE_ELEMENT&&!b.isEditable()&&(this.startFiller=this.createFiller(),f.append(this.startFiller,1));c&&c.type==CKEDITOR.NODE_ELEMENT&&!c.isEditable()&&(this.endFiller=this.createFiller(!0),f.append(this.endFiller,0));if(this.hasFiller(f))return e=e.createRange(),e.selectNodeContents(f),e.select(),!0}return!1},removeFillers:function(a){if(this.hasFiller(a)&&
!this.isWholeContentSelected(a)){var e=a.findOne(this.fillerTagName+"["+this.fillerAttribute+"\x3dstart]"),b=a.findOne(this.fillerTagName+"["+this.fillerAttribute+"\x3dend]");this.startFiller&&e&&this.startFiller.equals(e)?this.removeFiller(this.startFiller,a):this.startFiller=e;this.endFiller&&b&&this.endFiller.equals(b)?this.removeFiller(this.endFiller,a):this.endFiller=b}},cleanPasteData:function(a){a&&a.length&&(a=a.replace(this.createFillerRegex(),"").replace(this.createFillerRegex(!0),""));
return a},isWholeContentSelected:function(a){var e=a.editor.getSelection().getRanges()[0];return!e||e&&e.collapsed?!1:(e=e.clone(),e.enlarge(CKEDITOR.ENLARGE_ELEMENT),!!(e&&a&&e.startContainer&&e.endContainer&&0===e.startOffset&&e.endOffset===a.getChildCount()&&e.startContainer.equals(a)&&e.endContainer.equals(a)))},hasFiller:function(a){return 0<a.find(this.fillerTagName+"["+this.fillerAttribute+"]").count()},createFiller:function(a){var e=new CKEDITOR.dom.element(this.fillerTagName);e.setHtml(this.fillerContent);
e.setAttribute(this.fillerAttribute,a?"end":"start");e.setAttribute("data-cke-temp",1);e.setStyles({display:"block",width:0,height:0,padding:0,border:0,margin:0,position:"absolute",top:0,left:"-9999px",opacity:0,overflow:"hidden"});return e},removeFiller:function(a,e){if(a){var b=e.editor,c=e.editor.getSelection().getRanges()[0].startPath(),k=b.createRange(),l,m;c.contains(a)&&(l=a.getHtml(),m=!0);c="start"==a.getAttribute(this.fillerAttribute);a.remove();l&&0<l.length&&l!=this.fillerContent?(e.insertHtmlIntoRange(l,
b.getSelection().getRanges()[0]),k.setStartAt(e.getChild(e.getChildCount()-1),CKEDITOR.POSITION_BEFORE_END),b.getSelection().selectRanges([k])):m&&(c?k.setStartAt(e.getFirst().getNext(),CKEDITOR.POSITION_AFTER_START):k.setEndAt(e.getLast().getPrevious(),CKEDITOR.POSITION_BEFORE_END),e.editor.getSelection().selectRanges([k]))}},createFillerRegex:function(a){var e=this.createFiller(a).getOuterHtml().replace(/style="[^"]*"/gi,'style\x3d"[^"]*"').replace(/>[^<]*</gi,"\x3e[^\x3c]*\x3c");return new RegExp((a?
"":"^")+e+(a?"$":""))},addSelectAllIntegration:function(a){var e=this;a.editable().attachListener(a,"beforeCommandExec",function(b){var c=a.editable();"selectAll"==b.data.name&&c&&e.addFillers(c)},null,null,9999)}}}(),"use strict",function(){function a(a){this.editor=a;this.registered={};this.instances={};this.selected=[];this.widgetHoldingFocusedEditable=this.focused=null;this._={nextId:0,upcasts:[],upcastCallbacks:[],filters:{}};C(this);D(this);this.on("checkWidgets",l);this.editor.on("contentDomInvalidated",
this.checkWidgets,this);B(this);y(this);t(this);A(this);v(this)}function f(a,b,c,d,e){var g=a.editor;CKEDITOR.tools.extend(this,d,{editor:g,id:b,inline:"span"==c.getParent().getName(),element:c,data:CKEDITOR.tools.extend({},"function"==typeof d.defaults?d.defaults():d.defaults),dataReady:!1,inited:!1,ready:!1,edit:f.prototype.edit,focusedEditable:null,definition:d,repository:a,draggable:!1!==d.draggable,_:{downcastFn:d.downcast&&"string"==typeof d.downcast?d.downcasts[d.downcast]:d.downcast}},!0);
a.fire("instanceCreated",this);O(this,d);this.init&&this.init();this.inited=!0;(a=this.element.data("cke-widget-data"))&&this.setData(JSON.parse(decodeURIComponent(a)));e&&this.setData(e);this.data.classes||this.setData("classes",this.getClasses());this.dataReady=!0;Z(this);this.fire("data",this.data);this.isInited()&&g.editable().contains(this.wrapper)&&(this.ready=!0,this.fire("ready"))}function e(a,b,c){CKEDITOR.dom.element.call(this,b.$);this.editor=a;this._={};b=this.filter=c.filter;CKEDITOR.dtd[this.getName()].p?
(this.enterMode=b?b.getAllowedEnterMode(a.enterMode):a.enterMode,this.shiftEnterMode=b?b.getAllowedEnterMode(a.shiftEnterMode,!0):a.shiftEnterMode):this.enterMode=this.shiftEnterMode=CKEDITOR.ENTER_BR}function b(a,b){a.addCommand(b.name,{exec:function(a,c){function d(){a.widgets.finalizeCreation(h)}var e=a.widgets.focused;if(e&&e.name==b.name)e.edit();else if(b.insert)b.insert({editor:a,commandData:c});else if(b.template){var e="function"==typeof b.defaults?b.defaults():b.defaults,e=CKEDITOR.dom.element.createFromHtml(b.template.output(e),
a.document),f,g=a.widgets.wrapElement(e,b.name),h=new CKEDITOR.dom.documentFragment(g.getDocument());h.append(g);(f=a.widgets.initOn(e,b,c&&c.startupData))?(e=f.once("edit",function(b){if(b.data.dialog)f.once("dialog",function(b){b=b.data;var c,e;c=b.once("ok",d,null,null,20);e=b.once("cancel",function(b){b.data&&!1===b.data.hide||a.widgets.destroy(f,!0)});b.once("hide",function(){c.removeListener();e.removeListener()})});else d()},null,null,999),f.edit(),e.removeListener()):d()}},allowedContent:b.allowedContent,
requiredContent:b.requiredContent,contentForms:b.contentForms,contentTransformations:b.contentTransformations})}function c(a,b){function c(a,d){var e=b.upcast.split(","),f,g;for(g=0;g<e.length;g++)if(f=e[g],f===a.name)return b.upcasts[f].call(this,a,d);return!1}function d(b,c,e){var f=CKEDITOR.tools.getIndex(a._.upcasts,function(a){return a[2]>e});0>f&&(f=a._.upcasts.length);a._.upcasts.splice(f,0,[CKEDITOR.tools.bind(b,c),c.name,e])}var e=b.upcast,f=b.upcastPriority||10;e&&("string"==typeof e?d(c,
b,f):d(e,b,f))}function k(a,b){a.focused=null;if(b.isInited()){var c=b.editor.checkDirty();a.fire("widgetBlurred",{widget:b});b.setFocused(!1);!c&&b.editor.resetDirty()}}function l(a){a=a.data;if("wysiwyg"==this.editor.mode){var b=this.editor.editable(),c=this.instances,d,e,g,h;if(b){for(d in c)c[d].isReady()&&!b.contains(c[d].wrapper)&&this.destroy(c[d],!0);if(a&&a.initOnlyNew)c=this.initOnAll();else{var k=b.find(".cke_widget_wrapper"),c=[];d=0;for(e=k.count();d<e;d++){g=k.getItem(d);if(h=!this.getByElement(g,
!0)){a:{h=p;for(var l=g;l=l.getParent();)if(h(l)){h=!0;break a}h=!1}h=!h}h&&b.contains(g)&&(g.addClass("cke_widget_new"),c.push(this.initOn(g.getFirst(f.isDomWidgetElement))))}}a&&a.focusInited&&1==c.length&&c[0].focus()}}}function m(a){if("undefined"!=typeof a.attributes&&a.attributes["data-widget"]){var b=d(a),c=h(a),e=!1;b&&b.value&&b.value.match(/^\s/g)&&(b.parent.attributes["data-cke-white-space-first"]=1,b.value=b.value.replace(/^\s/g,"\x26nbsp;"),e=!0);c&&c.value&&c.value.match(/\s$/g)&&(c.parent.attributes["data-cke-white-space-last"]=
1,c.value=c.value.replace(/\s$/g,"\x26nbsp;"),e=!0);e&&(a.attributes["data-cke-widget-white-space"]=1)}}function d(a){return a.find(function(a){return 3===a.type},!0).shift()}function h(a){return a.find(function(a){return 3===a.type},!0).pop()}function g(a,b,c){if(!c.allowedContent&&!c.disallowedContent)return null;var d=this._.filters[a];d||(this._.filters[a]=d={});a=d[b];a||(a=c.allowedContent?new CKEDITOR.filter(c.allowedContent):this.editor.filter.clone(),d[b]=a,c.disallowedContent&&a.disallow(c.disallowedContent));
return a}function n(a){var b=[],c=a._.upcasts,d=a._.upcastCallbacks;return{toBeWrapped:b,iterator:function(a){var e,g,h,k,l;if("data-cke-widget-wrapper"in a.attributes)return(a=a.getFirst(f.isParserWidgetElement))&&b.push([a]),!1;if("data-widget"in a.attributes)return b.push([a]),!1;if(l=c.length){if(a.attributes["data-cke-widget-upcasted"])return!1;k=0;for(e=d.length;k<e;++k)if(!1===d[k](a))return;for(k=0;k<l;++k)if(e=c[k],h={},g=e[0](a,h))return g instanceof CKEDITOR.htmlParser.element&&(a=g),a.attributes["data-cke-widget-data"]=
encodeURIComponent(JSON.stringify(h)),a.attributes["data-cke-widget-upcasted"]=1,b.push([a,e[1]]),!1}}}}function w(a,b){return{tabindex:-1,contenteditable:"false","data-cke-widget-wrapper":1,"data-cke-filter":"off","class":"cke_widget_wrapper cke_widget_new cke_widget_"+(a?"inline":"block")+(b?" cke_widget_"+b:"")}}function x(a,b,c){if(a.type==CKEDITOR.NODE_ELEMENT){var d=CKEDITOR.dtd[a.name];if(d&&!d[c.name]){var d=a.split(b),e=a.parent;b=d.getIndex();a.children.length||(--b,a.remove());d.children.length||
d.remove();return x(e,b,c)}}a.add(c,b)}function r(a,b){return"boolean"==typeof a.inline?a.inline:!!CKEDITOR.dtd.$inline[b]}function p(a){return a.hasAttribute("data-cke-temp")}function u(a,b,c,d){var e=a.editor;e.fire("lockSnapshot");c?(d=c.data("cke-widget-editable"),d=b.editables[d],a.widgetHoldingFocusedEditable=b,b.focusedEditable=d,c.addClass("cke_widget_editable_focused"),d.filter&&e.setActiveFilter(d.filter),e.setActiveEnterMode(d.enterMode,d.shiftEnterMode)):(d||b.focusedEditable.removeClass("cke_widget_editable_focused"),
b.focusedEditable=null,a.widgetHoldingFocusedEditable=null,e.setActiveFilter(null),e.setActiveEnterMode(null,null));e.fire("unlockSnapshot")}function z(a){a.contextMenu&&a.contextMenu.addListener(function(b){if(b=a.widgets.getByElement(b,!0))return b.fire("contextMenu",{})})}function q(a,b){return CKEDITOR.tools.trim(b)}function A(a){var b=a.editor,c=CKEDITOR.plugins.lineutils;b.on("dragstart",function(c){var d=c.data.target;f.isDomDragHandler(d)&&(d=a.getByElement(d),c.data.dataTransfer.setData("cke/widget-id",
d.id),b.focus(),d.focus())});b.on("drop",function(c){function d(a,b){return a&&b?a.wrapper.equals(b.wrapper)||a.wrapper.contains(b.wrapper):!1}var e=c.data.dataTransfer,f=e.getData("cke/widget-id"),g=e.getTransferType(b),e=b.createRange(),h=function(a){a=a.getBoundaryNodes().startNode;a.type!==CKEDITOR.NODE_ELEMENT&&(a=a.getParent());return b.widgets.getByElement(a)}(c.data.dropRange);if(""!==f&&g===CKEDITOR.DATA_TRANSFER_CROSS_EDITORS)c.cancel();else if(g==CKEDITOR.DATA_TRANSFER_INTERNAL)if(""===
f&&0<b.widgets.selected.length)c.data.dataTransfer.setData("text/html",N(b));else if(f=a.instances[f])d(f,h)?c.cancel():(e.setStartBefore(f.wrapper),e.setEndAfter(f.wrapper),c.data.dragRange=e,delete CKEDITOR.plugins.clipboard.dragStartContainerChildCount,delete CKEDITOR.plugins.clipboard.dragEndContainerChildCount,c.data.dataTransfer.setData("text/html",f.getClipboardHtml()),b.widgets.destroy(f,!0))});b.on("contentDom",function(){var d=b.editable();CKEDITOR.tools.extend(a,{finder:new c.finder(b,
{lookups:{"default":function(b){if(!b.is(CKEDITOR.dtd.$listItem)&&b.is(CKEDITOR.dtd.$block)&&!f.isDomNestedEditable(b)&&!a._.draggedWidget.wrapper.contains(b)){var c=f.getNestedEditable(d,b);if(c){b=a._.draggedWidget;if(a.getByElement(c)==b)return;c=CKEDITOR.filter.instances[c.data("cke-filter")];b=b.requiredContent;if(c&&b&&!c.check(b))return}return CKEDITOR.LINEUTILS_BEFORE|CKEDITOR.LINEUTILS_AFTER}}}}),locator:new c.locator(b),liner:new c.liner(b,{lineStyle:{cursor:"move !important","border-top-color":"#666"},
tipLeftStyle:{"border-left-color":"#666"},tipRightStyle:{"border-right-color":"#666"}})},!0)})}function y(a){var b=a.editor;b.on("contentDom",function(){var c=b.editable(),d=c.isInline()?c:b.document,e,g;c.attachListener(d,"mousedown",function(c){var d=c.data.getTarget();e=d instanceof CKEDITOR.dom.element?a.getByElement(d):null;g=0;e&&(e.inline&&d.type==CKEDITOR.NODE_ELEMENT&&d.hasAttribute("data-cke-widget-drag-handler")?(g=1,a.focused!=e&&b.getSelection().removeAllRanges()):f.getNestedEditable(e.wrapper,
d)?e=null:(c.data.preventDefault(),CKEDITOR.env.ie||e.focus()))});c.attachListener(d,"mouseup",function(){g&&e&&e.wrapper&&(g=0,e.focus())});CKEDITOR.env.ie&&c.attachListener(d,"mouseup",function(){setTimeout(function(){e&&e.wrapper&&c.contains(e.wrapper)&&(e.focus(),e=null)})})});b.on("doubleclick",function(b){var c=a.getByElement(b.data.element);if(c&&!f.getNestedEditable(c.wrapper,b.data.element))return c.fire("doubleclick",{element:b.data.element})},null,null,1)}function t(a){a.editor.on("key",
function(b){var c=a.focused,d=a.widgetHoldingFocusedEditable,e;c?e=c.fire("key",{keyCode:b.data.keyCode}):d&&(c=b.data.keyCode,b=d.focusedEditable,c==CKEDITOR.CTRL+65?(c=b.getBogus(),d=d.editor.createRange(),d.selectNodeContents(b),c&&d.setEndAt(c,CKEDITOR.POSITION_BEFORE_START),d.select(),e=!1):8==c||46==c?(e=d.editor.getSelection().getRanges(),d=e[0],e=!(1==e.length&&d.collapsed&&d.checkBoundaryOfElement(b,CKEDITOR[8==c?"START":"END"]))):e=void 0);return e},null,null,1)}function v(a){function b(d){1>
a.selected.length||H(c,"cut"===d.name)}var c=a.editor;c.on("contentDom",function(){var a=c.editable();a.attachListener(a,"copy",b);a.attachListener(a,"cut",b)})}function B(a){function b(){var a=e.getSelection();if(a&&(a=a.getRanges()[0])&&!a.collapsed){var d=c(a.startContainer),f=c(a.endContainer);!d&&f?(a.setEndBefore(f.wrapper),a.select()):d&&!f&&(a.setStartAfter(d.wrapper),a.select())}}function c(a){return a?a.type==CKEDITOR.NODE_TEXT?c(a.getParent()):e.widgets.getByElement(a):null}function d(){a.fire("checkSelection")}
var e=a.editor;e.on("selectionCheck",d);e.on("contentDom",function(){e.editable().attachListener(e,"key",function(){setTimeout(d,10)})});if(!CKEDITOR.env.ie)a.on("checkSelection",b);a.on("checkSelection",a.checkSelection,a);e.on("selectionChange",function(b){var c=(b=f.getNestedEditable(e.editable(),b.data.selection.getStartElement()))&&a.getByElement(b),d=a.widgetHoldingFocusedEditable;d?d===c&&d.focusedEditable.equals(b)||(u(a,d,null),c&&b&&u(a,c,b)):c&&b&&u(a,c,b)});e.on("dataReady",function(){F(a).commit()});
e.on("blur",function(){var b;(b=a.focused)&&k(a,b);(b=a.widgetHoldingFocusedEditable)&&u(a,b,null)})}function D(a){var b=a.editor,c={};b.on("toDataFormat",function(b){var e=CKEDITOR.tools.getNextNumber(),g=[];b.data.downcastingSessionId=e;c[e]=g;b.data.dataValue.forEach(function(b){var c=b.attributes,e;if("data-cke-widget-white-space"in c){e=d(b);var k=h(b);e.parent.attributes["data-cke-white-space-first"]&&(e.value=e.value.replace(/^&nbsp;/g," "));k.parent.attributes["data-cke-white-space-last"]&&
(k.value=k.value.replace(/&nbsp;$/g," "))}if("data-cke-widget-id"in c){if(c=a.instances[c["data-cke-widget-id"]])e=b.getFirst(f.isParserWidgetElement),g.push({wrapper:b,element:e,widget:c,editables:{}}),"1"!=e.attributes["data-cke-widget-keep-attr"]&&delete e.attributes["data-widget"]}else if("data-cke-widget-editable"in c)return 0<g.length&&(g[g.length-1].editables[c["data-cke-widget-editable"]]=b),!1},CKEDITOR.NODE_ELEMENT,!0)},null,null,8);b.on("toDataFormat",function(a){if(a.data.downcastingSessionId)for(var b=
c[a.data.downcastingSessionId],d,e,f,g,h,k;d=b.shift();){e=d.widget;f=d.element;g=e._.downcastFn&&e._.downcastFn.call(e,f);a.data.widgetsCopy&&e.getClipboardHtml&&(g=CKEDITOR.htmlParser.fragment.fromHtml(e.getClipboardHtml()),g=g.children[0]);for(k in d.editables)h=d.editables[k],delete h.attributes.contenteditable,h.setHtml(e.editables[k].getData());g||(g=f);d.wrapper.replaceWith(g)}},null,null,13);b.on("contentDomUnload",function(){a.destroyAll(!0)})}function C(a){var b=a.editor,c,d;b.on("toHtml",
function(b){var d=n(a),e;for(b.data.dataValue.forEach(d.iterator,CKEDITOR.NODE_ELEMENT,!0);e=d.toBeWrapped.pop();){var g=e[0],h=g.parent;h.type==CKEDITOR.NODE_ELEMENT&&h.attributes["data-cke-widget-wrapper"]&&h.replaceWith(g);a.wrapElement(e[0],e[1])}c=b.data.protectedWhitespaces?3==b.data.dataValue.children.length&&f.isParserWidgetWrapper(b.data.dataValue.children[1]):1==b.data.dataValue.children.length&&f.isParserWidgetWrapper(b.data.dataValue.children[0])},null,null,8);b.on("dataReady",function(){if(d)for(var c=
b.editable().find(".cke_widget_wrapper"),e,g,h=0,k=c.count();h<k;++h)e=c.getItem(h),g=e.getFirst(f.isDomWidgetElement),g.type==CKEDITOR.NODE_ELEMENT&&g.data("widget")?(g.replace(e),a.wrapElement(g)):e.remove();d=0;a.destroyAll(!0);a.initOnAll()});b.on("loadSnapshot",function(b){/data-cke-widget/.test(b.data)&&(d=1);a.destroyAll(!0)},null,null,9);b.on("paste",function(a){a=a.data;a.dataValue=a.dataValue.replace(ca,q);a.range&&(a=f.getNestedEditable(b.editable(),a.range.startContainer))&&(a=CKEDITOR.filter.instances[a.data("cke-filter")])&&
b.setActiveFilter(a)});b.on("afterInsertHtml",function(d){d.data.intoRange?a.checkWidgets({initOnlyNew:!0}):(b.fire("lockSnapshot"),a.checkWidgets({initOnlyNew:!0,focusInited:c}),b.fire("unlockSnapshot"))})}function F(a){var b=a.selected,c=[],d=b.slice(0),e=null;return{select:function(a){0>CKEDITOR.tools.indexOf(b,a)&&c.push(a);a=CKEDITOR.tools.indexOf(d,a);0<=a&&d.splice(a,1);return this},focus:function(a){e=a;return this},commit:function(){var f=a.focused!==e,g,h;a.editor.fire("lockSnapshot");for(f&&
(g=a.focused)&&k(a,g);g=d.pop();)b.splice(CKEDITOR.tools.indexOf(b,g),1),g.isInited()&&(h=g.editor.checkDirty(),g.setSelected(!1),!h&&g.editor.resetDirty());f&&e&&(h=a.editor.checkDirty(),a.focused=e,a.fire("widgetFocused",{widget:e}),e.setFocused(!0),!h&&a.editor.resetDirty());for(;g=c.pop();)b.push(g),g.setSelected(!0);a.editor.fire("unlockSnapshot")}}}function J(a){a&&a.addFilterRule(function(a){return a.replace(/\s*cke_widget_selected/g,"").replace(/\s*cke_widget_focused/g,"")})}function K(a,
b,c){var d=0;b=E(b);var e=a.data.classes||{},f;if(b){for(e=CKEDITOR.tools.clone(e);f=b.pop();)c?e[f]||(d=e[f]=1):e[f]&&(delete e[f],d=1);d&&a.setData("classes",e)}}function G(a){a.cancel()}function M(a,b){var c=function(a){return a==CKEDITOR.ENTER_BR?"br":a==CKEDITOR.ENTER_DIV?"div":"p"}(a.editor.config.enterMode),d=new CKEDITOR.dom.element(c);"br"!==c&&d.appendBogus();"after"===b?d.insertAfter(a.wrapper):d.insertBefore(a.wrapper);(function(b){var c=a.editor.createRange();c.setStart(b,0);a.editor.getSelection().selectRanges([c])})(d)}
function H(a,b){var c=a.widgets.focused,d,e,f;Q.hasCopyBin(a)||(e=new Q(a,{beforeDestroy:function(){!b&&c&&c.focus();f&&a.getSelection().selectBookmarks(f);d&&CKEDITOR.plugins.widgetselection.addFillers(a.editable())},afterDestroy:function(){b&&!a.readOnly&&(c?a.widgets.del(c):a.extractSelectedHtml(),a.fire("saveSnapshot"))}}),c||(d=CKEDITOR.env.webkit&&CKEDITOR.plugins.widgetselection.isWholeContentSelected(a.editable()),f=a.getSelection().createBookmarks(!0)),e.handle(N(a)))}function E(a){return(a=
(a=a.getDefinition().attributes)&&a["class"])?a.split(/\s+/):null}function P(){var a=CKEDITOR.document.getActive(),b=this.editor,c=b.editable();(c.isInline()?c:b.document.getWindow().getFrame()).equals(a)&&b.focusManager.focus(c)}function L(){CKEDITOR.env.gecko&&this.editor.unlockSelection();CKEDITOR.env.webkit||(this.editor.forceNextSelectionCheck(),this.editor.selectionChange(1))}function N(a){var b=a.getSelectedHtml(!0);if(a.widgets.focused)return a.widgets.focused.getClipboardHtml();a.once("toDataFormat",
function(a){a.data.widgetsCopy=!0},null,null,-1);return a.dataProcessor.toDataFormat(b)}function O(a,b){var c=a.editor.config.widget_keystrokeInsertLineBefore,d=a.editor.config.widget_keystrokeInsertLineAfter;X(a);S(a);Y(a);ea(a);ja(a);ka(a);T(a);if(CKEDITOR.env.ie&&9>CKEDITOR.env.version)a.wrapper.on("dragstart",function(b){var c=b.data.getTarget();f.getNestedEditable(a,c)||a.inline&&f.isDomDragHandler(c)||b.data.preventDefault()});a.wrapper.removeClass("cke_widget_new");a.element.addClass("cke_widget_element");
a.on("key",function(b){b=b.data.keyCode;if(b==c)M(a,"before"),a.editor.fire("saveSnapshot");else if(b==d)M(a,"after"),a.editor.fire("saveSnapshot");else if(13==b)a.edit();else{if(b==CKEDITOR.CTRL+67||b==CKEDITOR.CTRL+88){H(a.editor,b==CKEDITOR.CTRL+88);return}if(b in V||CKEDITOR.CTRL&b||CKEDITOR.ALT&b)return}return!1},null,null,999);a.on("doubleclick",function(b){a.edit()&&b.cancel()});if(b.data)a.on("data",b.data);if(b.edit)a.on("edit",b.edit)}function X(a){(a.wrapper=a.element.getParent()).setAttribute("data-cke-widget-id",
a.id)}function S(a,b){a.partSelectors||(a.partSelectors=a.parts);if(a.parts){var c={},d,e;for(e in a.partSelectors)b||!a.parts[e]||"string"==typeof a.parts[e]?(d=a.wrapper.findOne(a.partSelectors[e]),c[e]=d):c[e]=a.parts[e];a.parts=c}}function Y(a){var b=a.editables,c,d;a.editables={};if(a.editables)for(c in b)d=b[c],a.initEditable(c,"string"==typeof d?{selector:d}:d)}function ea(a){if(!0===a.mask)U(a);else if(a.mask){var b=new CKEDITOR.tools.buffers.throttle(250,ia,a),c=CKEDITOR.env.gecko?300:0,
d,e;a.on("focus",function(){b.input();d=a.editor.on("change",b.input);e=a.on("blur",function(){d.removeListener();e.removeListener()})});a.editor.on("instanceReady",function(){setTimeout(function(){b.input()},c)});a.editor.on("mode",function(){setTimeout(function(){b.input()},c)});if(CKEDITOR.env.gecko){var f=a.element.find("img");CKEDITOR.tools.array.forEach(f.toArray(),function(a){a.on("load",function(){b.input()})})}for(var g in a.editables)a.editables[g].on("focus",function(){a.editor.on("change",
b.input);e&&e.removeListener()}),a.editables[g].on("blur",function(){a.editor.removeListener("change",b.input)});b.input()}}function U(a){var b=a.wrapper.findOne(".cke_widget_mask");b||(b=new CKEDITOR.dom.element("img",a.editor.document),b.setAttributes({src:CKEDITOR.tools.transparentImageData,"class":"cke_reset cke_widget_mask"}),a.wrapper.append(b));a.mask=b}function ia(){if(this.wrapper){this.maskPart=this.maskPart||this.mask;var a=this.parts[this.maskPart],b;if(a&&"string"!=typeof a){b=this.wrapper.findOne(".cke_widget_partial_mask");
b||(b=new CKEDITOR.dom.element("img",this.editor.document),b.setAttributes({src:CKEDITOR.tools.transparentImageData,"class":"cke_reset cke_widget_partial_mask"}),this.wrapper.append(b));this.mask=b;var c=b.$,d=a.$,e=!(c.offsetTop==d.offsetTop&&c.offsetLeft==d.offsetLeft);if(c.offsetWidth!=d.offsetWidth||c.offsetHeight!=d.offsetHeight||e)c=a.getParent(),d=CKEDITOR.plugins.widget.isDomWidget(c),b.setStyles({top:a.$.offsetTop+(d?0:c.$.offsetTop)+"px",left:a.$.offsetLeft+(d?0:c.$.offsetLeft)+"px",width:a.$.offsetWidth+
"px",height:a.$.offsetHeight+"px"})}}}function ja(a){if(a.draggable){var b=a.editor,c=a.wrapper.getLast(f.isDomDragHandlerContainer),d;c?d=c.findOne("img"):(c=new CKEDITOR.dom.element("span",b.document),c.setAttributes({"class":"cke_reset cke_widget_drag_handler_container",style:"background:rgba(220,220,220,0.5);background-image:url("+b.plugins.widget.path+"images/handle.png);display:none;"}),d=new CKEDITOR.dom.element("img",b.document),d.setAttributes({"class":"cke_reset cke_widget_drag_handler",
"data-cke-widget-drag-handler":"1",src:CKEDITOR.tools.transparentImageData,width:15,title:b.lang.widget.move,height:15,role:"presentation"}),a.inline&&d.setAttribute("draggable","true"),c.append(d),a.wrapper.append(c));a.wrapper.on("dragover",function(a){a.data.preventDefault()});a.wrapper.on("mouseenter",a.updateDragHandlerPosition,a);setTimeout(function(){a.on("data",a.updateDragHandlerPosition,a)},50);if(!a.inline&&(d.on("mousedown",ga,a),CKEDITOR.env.ie&&9>CKEDITOR.env.version))d.on("dragstart",
function(a){a.data.preventDefault(!0)});a.dragHandlerContainer=c}}function ga(a){function b(){var c;for(p.reset();c=h.pop();)c.removeListener();var d=k;c=a.sender;var e=this.repository.finder,f=this.repository.liner,g=this.editor,l=this.editor.editable();CKEDITOR.tools.isEmpty(f.visible)||(d=e.getRange(d[0]),this.focus(),g.fire("drop",{dropRange:d,target:d.startContainer}));l.removeClass("cke_widget_dragging");f.hideVisible();g.fire("dragend",{target:c})}if(CKEDITOR.tools.getMouseButton(a)===CKEDITOR.MOUSE_BUTTON_LEFT){var c=
this.repository.finder,d=this.repository.locator,e=this.repository.liner,f=this.editor,g=f.editable(),h=[],k=[],l,m;this.repository._.draggedWidget=this;var n=c.greedySearch(),p=CKEDITOR.tools.eventsBuffer(50,function(){l=d.locate(n);k=d.sort(m,1);k.length&&(e.prepare(n,l),e.placeLine(k[0]),e.cleanup())});g.addClass("cke_widget_dragging");h.push(g.on("mousemove",function(a){m=a.data.$.clientY;p.input()}));f.fire("dragstart",{target:a.sender});h.push(f.document.once("mouseup",b,this));g.isInline()||
h.push(CKEDITOR.document.once("mouseup",b,this))}}function ka(a){var b=null;a.on("data",function(){var a=this.data.classes,c;if(b!=a){for(c in b)a&&a[c]||this.removeClass(c);for(c in a)this.addClass(c);b=a}})}function T(a){a.on("data",function(){if(a.wrapper){var b=this.getLabel?this.getLabel():this.editor.lang.widget.label.replace(/%1/,this.pathName||this.element.getName());a.wrapper.setAttribute("role","region");a.wrapper.setAttribute("aria-label",b)}},null,null,9999)}function Z(a){a.element.data("cke-widget-data",
encodeURIComponent(JSON.stringify(a.data)))}function aa(){function a(){}function b(a,c,d){return d&&this.checkElement(a)?(a=d.widgets.getByElement(a,!0))&&a.checkStyleActive(this):!1}function c(a){function b(a,c,d){for(var e=a.length,f=0;f<e;){if(c.call(d,a[f],f,a))return a[f];f++}}function e(a){function b(a,c){var d=CKEDITOR.tools.object.keys(a),e=CKEDITOR.tools.object.keys(c);if(d.length!==e.length)return!1;for(var f in a)if(("object"!==typeof a[f]||"object"!==typeof c[f]||!b(a[f],c[f]))&&a[f]!==
c[f])return!1;return!0}return function(c){return b(a.getDefinition(),c.getDefinition())}}var f=a.widget,g;d[f]||(d[f]={});for(var h=0,k=a.group.length;h<k;h++)g=a.group[h],d[f][g]||(d[f][g]=[]),g=d[f][g],b(g,e(a))||g.push(a)}var d={};CKEDITOR.style.addCustomHandler({type:"widget",setup:function(a){this.widget=a.widget;(this.group="string"==typeof a.group?[a.group]:a.group)&&c(this)},apply:function(a){var b;a instanceof CKEDITOR.editor&&this.checkApplicable(a.elementPath(),a)&&(b=a.widgets.focused,
this.group&&this.removeStylesFromSameGroup(a),b.applyStyle(this))},remove:function(a){a instanceof CKEDITOR.editor&&this.checkApplicable(a.elementPath(),a)&&a.widgets.focused.removeStyle(this)},removeStylesFromSameGroup:function(a){var b=!1,c,e;if(!(a instanceof CKEDITOR.editor))return!1;e=a.elementPath();if(this.checkApplicable(e,a))for(var f=0,g=this.group.length;f<g;f++){c=d[this.widget][this.group[f]];for(var h=0;h<c.length;h++)c[h]!==this&&c[h].checkActive(e,a)&&(a.widgets.focused.removeStyle(c[h]),
b=!0)}return b},checkActive:function(a,b){return this.checkElementMatch(a.lastElement,0,b)},checkApplicable:function(a,b){return b instanceof CKEDITOR.editor?this.checkElement(a.lastElement):!1},checkElementMatch:b,checkElementRemovable:b,checkElement:function(a){return f.isDomWidgetWrapper(a)?(a=a.getFirst(f.isDomWidgetElement))&&a.data("widget")==this.widget:!1},buildPreview:function(a){return a||this._.definition.name},toAllowedContentRules:function(a){if(!a)return null;a=a.widgets.registered[this.widget];
var b,c={};if(!a)return null;if(a.styleableElements){b=this.getClassesArray();if(!b)return null;c[a.styleableElements]={classes:b,propertiesOnly:!0};return c}return a.styleToAllowedContentRules?a.styleToAllowedContentRules(this):null},getClassesArray:function(){var a=this._.definition.attributes&&this._.definition.attributes["class"];return a?CKEDITOR.tools.trim(a).split(/\s+/):null},applyToRange:a,removeFromRange:a,applyToObject:a})}CKEDITOR.plugins.add("widget",{requires:"lineutils,clipboard,widgetselection",
onLoad:function(){void 0!==CKEDITOR.document.$.querySelectorAll&&(CKEDITOR.addCss('.cke_widget_wrapper{position:relative;outline:none}.cke_widget_inline{display:inline-block}.cke_widget_wrapper:hover\x3e.cke_widget_element{outline:2px solid #ffd25c;cursor:default}.cke_widget_wrapper:hover .cke_widget_editable{outline:2px solid #ffd25c}.cke_widget_wrapper.cke_widget_focused\x3e.cke_widget_element,.cke_widget_wrapper .cke_widget_editable.cke_widget_editable_focused{outline:2px solid #47a4f5}.cke_widget_editable{cursor:text}.cke_widget_drag_handler_container{position:absolute;width:15px;height:0;display:block;opacity:0.75;transition:height 0s 0.2s;line-height:0}.cke_widget_wrapper:hover\x3e.cke_widget_drag_handler_container{height:15px;transition:none}.cke_widget_drag_handler_container:hover{opacity:1}.cke_editable[contenteditable\x3d"false"] .cke_widget_drag_handler_container{display:none;}img.cke_widget_drag_handler{cursor:move;width:15px;height:15px;display:inline-block}.cke_widget_mask{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.cke_widget_partial_mask{position:absolute;display:block}.cke_editable.cke_widget_dragging, .cke_editable.cke_widget_dragging *{cursor:move !important}'),
aa())},beforeInit:function(b){void 0!==CKEDITOR.document.$.querySelectorAll&&(b.widgets=new a(b))},afterInit:function(a){if(void 0!==CKEDITOR.document.$.querySelectorAll){var b=a.widgets.registered,c,d,e;for(d in b)c=b[d],(e=c.button)&&a.ui.addButton&&a.ui.addButton(CKEDITOR.tools.capitalize(c.name,!0),{label:e,command:c.name,toolbar:"insert,10"});z(a);J(a.undoManager)}}});a.prototype={MIN_SELECTION_CHECK_INTERVAL:500,add:function(a,d){var e=this.editor;d=CKEDITOR.tools.prototypedCopy(d);d.name=a;
d._=d._||{};e.fire("widgetDefinition",d);d.template&&(d.template=new CKEDITOR.template(d.template));b(e,d);c(this,d);this.registered[a]=d;if(d.dialog&&e.plugins.dialog)var f=CKEDITOR.on("dialogDefinition",function(a){a=a.data.definition;var b=a.dialog;a.getMode||b.getName()!==d.dialog||(a.getMode=function(){var a=b.getModel(e);return a&&a instanceof CKEDITOR.plugins.widget&&a.ready?CKEDITOR.dialog.EDITING_MODE:CKEDITOR.dialog.CREATION_MODE});f.removeListener()});return d},addUpcastCallback:function(a){this._.upcastCallbacks.push(a)},
checkSelection:function(){if(this.editor.getSelection()){var a=this.editor.getSelection(),b=a.getSelectedElement(),c=F(this),d;if(b&&(d=this.getByElement(b,!0)))return c.focus(d).select(d).commit();a=a.getRanges()[0];if(!a||a.collapsed)return c.commit();a=new CKEDITOR.dom.walker(a);for(a.evaluator=f.isDomWidgetWrapper;b=a.next();)c.select(this.getByElement(b));c.commit()}},checkWidgets:function(a){this.fire("checkWidgets",CKEDITOR.tools.copy(a||{}))},del:function(a){if(this.focused===a){var b=a.editor,
c=b.createRange(),d;(d=c.moveToClosestEditablePosition(a.wrapper,!0))||(d=c.moveToClosestEditablePosition(a.wrapper,!1));d&&b.getSelection().selectRanges([c])}a.wrapper.remove();this.destroy(a,!0)},destroy:function(a,b){this.widgetHoldingFocusedEditable===a&&u(this,a,null,b);a.destroy(b);delete this.instances[a.id];this.fire("instanceDestroyed",a)},destroyAll:function(a,b){var c,d,e=this.instances;if(b&&!a){d=b.find(".cke_widget_wrapper");for(var e=d.count(),f=0;f<e;++f)(c=this.getByElement(d.getItem(f),
!0))&&this.destroy(c)}else for(d in e)c=e[d],this.destroy(c,a)},finalizeCreation:function(a){(a=a.getFirst())&&f.isDomWidgetWrapper(a)&&(this.editor.insertElement(a),a=this.getByElement(a),a.ready=!0,a.fire("ready"),a.focus())},getByElement:function(){function a(c){return c.is(b)&&c.data("cke-widget-id")}var b={div:1,span:1};return function(b,c){if(!b)return null;var d=a(b);if(!c&&!d){var e=this.editor.editable();do b=b.getParent();while(b&&!b.equals(e)&&!(d=a(b)))}return this.instances[d]||null}}(),
initOn:function(a,b,c){b?"string"==typeof b&&(b=this.registered[b]):b=this.registered[a.data("widget")];if(!b)return null;var d=this.wrapElement(a,b.name);return d?d.hasClass("cke_widget_new")?(a=new f(this,this._.nextId++,a,b,c),a.isInited()?this.instances[a.id]=a:null):this.getByElement(a):null},initOnAll:function(a){a=(a||this.editor.editable()).find(".cke_widget_new");for(var b=[],c,d=a.count();d--;)(c=this.initOn(a.getItem(d).getFirst(f.isDomWidgetElement)))&&b.push(c);return b},onWidget:function(a){var b=
Array.prototype.slice.call(arguments);b.shift();for(var c in this.instances){var d=this.instances[c];d.name==a&&d.on.apply(d,b)}this.on("instanceCreated",function(c){c=c.data;c.name==a&&c.on.apply(c,b)})},parseElementClasses:function(a){if(!a)return null;a=CKEDITOR.tools.trim(a).split(/\s+/);for(var b,c={},d=0;b=a.pop();)-1==b.indexOf("cke_")&&(c[b]=d=1);return d?c:null},wrapElement:function(a,b){var c=null,d,e;if(a instanceof CKEDITOR.dom.element){b=b||a.data("widget");d=this.registered[b];if(!d)return null;
if((c=a.getParent())&&c.type==CKEDITOR.NODE_ELEMENT&&c.data("cke-widget-wrapper"))return c;a.hasAttribute("data-cke-widget-keep-attr")||a.data("cke-widget-keep-attr",a.data("widget")?1:0);a.data("widget",b);(e=r(d,a.getName()))&&m(a);c=new CKEDITOR.dom.element(e?"span":"div",a.getDocument());c.setAttributes(w(e,b));c.data("cke-display-name",d.pathName?d.pathName:a.getName());a.getParent(!0)&&c.replace(a);a.appendTo(c)}else if(a instanceof CKEDITOR.htmlParser.element){b=b||a.attributes["data-widget"];
d=this.registered[b];if(!d)return null;if((c=a.parent)&&c.type==CKEDITOR.NODE_ELEMENT&&c.attributes["data-cke-widget-wrapper"])return c;"data-cke-widget-keep-attr"in a.attributes||(a.attributes["data-cke-widget-keep-attr"]=a.attributes["data-widget"]?1:0);b&&(a.attributes["data-widget"]=b);(e=r(d,a.name))&&m(a);c=new CKEDITOR.htmlParser.element(e?"span":"div",w(e,b));c.attributes["data-cke-display-name"]=d.pathName?d.pathName:a.name;d=a.parent;var f;d&&(f=a.getIndex(),a.remove());c.add(a);d&&x(d,
f,c)}return c},_tests_createEditableFilter:g};CKEDITOR.event.implementOn(a.prototype);f.prototype={addClass:function(a){this.element.addClass(a);this.wrapper.addClass(f.WRAPPER_CLASS_PREFIX+a)},applyStyle:function(a){K(this,a,1)},checkStyleActive:function(a){a=E(a);var b;if(!a)return!1;for(;b=a.pop();)if(!this.hasClass(b))return!1;return!0},destroy:function(a){this.fire("destroy");if(this.editables)for(var b in this.editables)this.destroyEditable(b,a);a||("0"==this.element.data("cke-widget-keep-attr")&&
this.element.removeAttribute("data-widget"),this.element.removeAttributes(["data-cke-widget-data","data-cke-widget-keep-attr"]),this.element.removeClass("cke_widget_element"),this.element.replace(this.wrapper));this.wrapper=null},destroyEditable:function(a,b){var c=this.editables[a],d=!0;c.removeListener("focus",L);c.removeListener("blur",P);this.editor.focusManager.remove(c);if(c.filter){for(var e in this.repository.instances){var f=this.repository.instances[e];f.editables&&(f=f.editables[a])&&f!==
c&&c.filter===f.filter&&(d=!1)}d&&(c.filter.destroy(),(d=this.repository._.filters[this.name])&&delete d[a])}b||(this.repository.destroyAll(!1,c),c.removeClass("cke_widget_editable"),c.removeClass("cke_widget_editable_focused"),c.removeAttributes(["contenteditable","data-cke-widget-editable","data-cke-enter-mode"]));delete this.editables[a]},edit:function(){var a={dialog:this.dialog},b=this;if(!1===this.fire("edit",a)||!a.dialog)return!1;this.editor.openDialog(a.dialog,function(a){var c,d;!1!==b.fire("dialog",
a)&&(c=a.on("show",function(){a.setupContent(b)}),d=a.on("ok",function(){var c,d=b.on("data",function(a){c=1;a.cancel()},null,null,0);b.editor.fire("saveSnapshot");a.commitContent(b);d.removeListener();c&&(b.fire("data",b.data),b.editor.fire("saveSnapshot"))}),a.once("hide",function(){c.removeListener();d.removeListener()}))},b);return!0},getClasses:function(){return this.repository.parseElementClasses(this.element.getAttribute("class"))},getClipboardHtml:function(){var a=this.editor.createRange();
a.setStartBefore(this.wrapper);a.setEndAfter(this.wrapper);return this.editor.editable().getHtmlFromRange(a).getHtml()},hasClass:function(a){return this.element.hasClass(a)},initEditable:function(a,b){var c=this._findOneNotNested(b.selector);return c&&c.is(CKEDITOR.dtd.$editable)?(c=new e(this.editor,c,{filter:g.call(this.repository,this.name,a,b)}),this.editables[a]=c,c.setAttributes({contenteditable:"true","data-cke-widget-editable":a,"data-cke-enter-mode":c.enterMode}),c.filter&&c.data("cke-filter",
c.filter.id),c.addClass("cke_widget_editable"),c.removeClass("cke_widget_editable_focused"),b.pathName&&c.data("cke-display-name",b.pathName),this.editor.focusManager.add(c),c.on("focus",L,this),CKEDITOR.env.ie&&c.on("blur",P,this),c._.initialSetData=!0,c.setData(c.getHtml()),!0):!1},_findOneNotNested:function(a){a=this.wrapper.find(a);for(var b,c,d=0;d<a.count();d++)if(b=a.getItem(d),c=b.getAscendant(f.isDomWidgetWrapper),this.wrapper.equals(c))return b;return null},isInited:function(){return!(!this.wrapper||
!this.inited)},isReady:function(){return this.isInited()&&this.ready},focus:function(){var a=this.editor.getSelection();if(a){var b=this.editor.checkDirty();a.fake(this.wrapper);!b&&this.editor.resetDirty()}this.editor.focus()},refreshMask:function(){ea(this)},refreshParts:function(a){S(this,"undefined"!==typeof a?a:!0)},removeClass:function(a){this.element.removeClass(a);this.wrapper.removeClass(f.WRAPPER_CLASS_PREFIX+a)},removeStyle:function(a){K(this,a,0)},setData:function(a,b){var c=this.data,
d=0;if("string"==typeof a)c[a]!==b&&(c[a]=b,d=1);else{var e=a;for(a in e)c[a]!==e[a]&&(d=1,c[a]=e[a])}d&&this.dataReady&&(Z(this),this.fire("data",c));return this},setFocused:function(a){this.wrapper[a?"addClass":"removeClass"]("cke_widget_focused");this.fire(a?"focus":"blur");return this},setSelected:function(a){this.wrapper[a?"addClass":"removeClass"]("cke_widget_selected");this.fire(a?"select":"deselect");return this},updateDragHandlerPosition:function(){var a=this.editor,b=this.element.$,c=this._.dragHandlerOffset,
b={x:b.offsetLeft,y:b.offsetTop-15};c&&b.x==c.x&&b.y==c.y||(c=a.checkDirty(),a.fire("lockSnapshot"),this.dragHandlerContainer.setStyles({top:b.y+"px",left:b.x+"px"}),this.dragHandlerContainer.removeStyle("display"),a.fire("unlockSnapshot"),!c&&a.resetDirty(),this._.dragHandlerOffset=b)}};CKEDITOR.event.implementOn(f.prototype);f.getNestedEditable=function(a,b){return!b||b.equals(a)?null:f.isDomNestedEditable(b)?b:f.getNestedEditable(a,b.getParent())};f.isDomDragHandler=function(a){return a.type==
CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-cke-widget-drag-handler")};f.isDomDragHandlerContainer=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass("cke_widget_drag_handler_container")};f.isDomNestedEditable=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-cke-widget-editable")};f.isDomWidgetElement=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-widget")};f.isDomWidgetWrapper=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-cke-widget-wrapper")};
f.isDomWidget=function(a){return a?this.isDomWidgetWrapper(a)||this.isDomWidgetElement(a):!1};f.isParserWidgetElement=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&!!a.attributes["data-widget"]};f.isParserWidgetWrapper=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&!!a.attributes["data-cke-widget-wrapper"]};f.WRAPPER_CLASS_PREFIX="cke_widget_wrapper_";e.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.dom.element.prototype),{setData:function(a){this._.initialSetData||
this.editor.widgets.destroyAll(!1,this);this._.initialSetData=!1;a=this.editor.dataProcessor.unprotectRealComments(a);a=this.editor.dataProcessor.unprotectSource(a);a=this.editor.dataProcessor.toHtml(a,{context:this.getName(),filter:this.filter,enterMode:this.enterMode});this.setHtml(a);this.editor.widgets.initOnAll(this)},getData:function(){return this.editor.dataProcessor.toDataFormat(this.getHtml(),{context:this.getName(),filter:this.filter,enterMode:this.enterMode})}});var ca=/^(?:<(?:div|span)(?: data-cke-temp="1")?(?: id="cke_copybin")?(?: data-cke-temp="1")?>)?(?:<(?:div|span)(?: style="[^"]+")?>)?<span [^>]*data-cke-copybin-start="1"[^>]*>.?<\/span>([\s\S]+)<span [^>]*data-cke-copybin-end="1"[^>]*>.?<\/span>(?:<\/(?:div|span)>)?(?:<\/(?:div|span)>)?$/i,
V={37:1,38:1,39:1,40:1,8:1,46:1};V[CKEDITOR.SHIFT+121]=1;var Q=CKEDITOR.tools.createClass({$:function(a,b){this._.createCopyBin(a,b);this._.createListeners(b)},_:{createCopyBin:function(a){var b=a.document,c=CKEDITOR.env.edge&&16<=CKEDITOR.env.version,d=!a.blockless&&!CKEDITOR.env.ie||c?"div":"span",c=b.createElement(d),b=b.createElement(d);b.setAttributes({id:"cke_copybin","data-cke-temp":"1"});c.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"});c.setStyle("ltr"==a.config.contentsLangDirection?
"left":"right","-5000px");this.editor=a;this.copyBin=c;this.container=b},createListeners:function(a){a&&(a.beforeDestroy&&(this.beforeDestroy=a.beforeDestroy),a.afterDestroy&&(this.afterDestroy=a.afterDestroy))}},proto:{handle:function(a){var b=this.copyBin,c=this.editor,d=this.container,e=CKEDITOR.env.ie&&9>CKEDITOR.env.version,f=c.document.getDocumentElement().$,g=c.createRange(),h=this,k=CKEDITOR.env.mac&&CKEDITOR.env.webkit,l=k?100:0,m=window.requestAnimationFrame&&!k?requestAnimationFrame:setTimeout,
n,p,q;b.setHtml('\x3cspan data-cke-copybin-start\x3d"1"\x3e​\x3c/span\x3e'+a+'\x3cspan data-cke-copybin-end\x3d"1"\x3e​\x3c/span\x3e');c.fire("lockSnapshot");d.append(b);c.editable().append(d);n=c.on("selectionChange",G,null,null,0);p=c.widgets.on("checkSelection",G,null,null,0);e&&(q=f.scrollTop);g.selectNodeContents(b);g.select();e&&(f.scrollTop=q);return new CKEDITOR.tools.promise(function(a){m(function(){h.beforeDestroy&&h.beforeDestroy();d.remove();n.removeListener();p.removeListener();c.fire("unlockSnapshot");
h.afterDestroy&&h.afterDestroy();a()},l)})}},statics:{hasCopyBin:function(a){return!!Q.getCopyBin(a)},getCopyBin:function(a){return a.document.getById("cke_copybin")}}});CKEDITOR.plugins.widget=f;f.repository=a;f.nestedEditable=e}(),CKEDITOR.config.widget_keystrokeInsertLineBefore=CKEDITOR.SHIFT+CKEDITOR.ALT+13,CKEDITOR.config.widget_keystrokeInsertLineAfter=CKEDITOR.SHIFT+13,function(){function a(a,b,c){this.editor=a;this.notification=null;this._message=new CKEDITOR.template(b);this._singularMessage=
c?new CKEDITOR.template(c):null;this._tasks=[];this._doneTasks=this._doneWeights=this._totalWeights=0}function f(a){this._weight=a||1;this._doneWeight=0;this._isCanceled=!1}CKEDITOR.plugins.add("notificationaggregator",{requires:"notification"});a.prototype={createTask:function(a){a=a||{};var b=!this.notification,c;b&&(this.notification=this._createNotification());c=this._addTask(a);c.on("updated",this._onTaskUpdate,this);c.on("done",this._onTaskDone,this);c.on("canceled",function(){this._removeTask(c)},
this);this.update();b&&this.notification.show();return c},update:function(){this._updateNotification();this.isFinished()&&this.fire("finished")},getPercentage:function(){return 0===this.getTaskCount()?1:this._doneWeights/this._totalWeights},isFinished:function(){return this.getDoneTaskCount()===this.getTaskCount()},getTaskCount:function(){return this._tasks.length},getDoneTaskCount:function(){return this._doneTasks},_updateNotification:function(){this.notification.update({message:this._getNotificationMessage(),
progress:this.getPercentage()})},_getNotificationMessage:function(){var a=this.getTaskCount(),b={current:this.getDoneTaskCount(),max:a,percentage:Math.round(100*this.getPercentage())};return(1==a&&this._singularMessage?this._singularMessage:this._message).output(b)},_createNotification:function(){return new CKEDITOR.plugins.notification(this.editor,{type:"progress"})},_addTask:function(a){a=new f(a.weight);this._tasks.push(a);this._totalWeights+=a._weight;return a},_removeTask:function(a){var b=CKEDITOR.tools.indexOf(this._tasks,
a);-1!==b&&(a._doneWeight&&(this._doneWeights-=a._doneWeight),this._totalWeights-=a._weight,this._tasks.splice(b,1),this.update())},_onTaskUpdate:function(a){this._doneWeights+=a.data;this.update()},_onTaskDone:function(){this._doneTasks+=1;this.update()}};CKEDITOR.event.implementOn(a.prototype);f.prototype={done:function(){this.update(this._weight)},update:function(a){if(!this.isDone()&&!this.isCanceled()){a=Math.min(this._weight,a);var b=a-this._doneWeight;this._doneWeight=a;this.fire("updated",
b);this.isDone()&&this.fire("done")}},cancel:function(){this.isDone()||this.isCanceled()||(this._isCanceled=!0,this.fire("canceled"))},isDone:function(){return this._weight===this._doneWeight},isCanceled:function(){return this._isCanceled}};CKEDITOR.event.implementOn(f.prototype);CKEDITOR.plugins.notificationAggregator=a;CKEDITOR.plugins.notificationAggregator.task=f}(),"use strict",function(){CKEDITOR.plugins.add("uploadwidget",{requires:"widget,clipboard,filetools,notificationaggregator",init:function(a){a.filter.allow("*[!data-widget,!data-cke-upload-id]")},
isSupportedEnvironment:function(){return CKEDITOR.plugins.clipboard.isFileApiSupported}});CKEDITOR.fileTools||(CKEDITOR.fileTools={});CKEDITOR.tools.extend(CKEDITOR.fileTools,{addUploadWidget:function(a,f,e){var b=CKEDITOR.fileTools,c=a.uploadRepository,k=e.supportedTypes?10:20;CKEDITOR.plugins.clipboard.addFileMatcher(a,function(a){return e.supportedTypes?b.isTypeSupported(a,e.supportedTypes):!0});if(e.fileToElement)a.on("paste",function(e){e=e.data;var k=a.widgets.registered[f],d=e.dataTransfer,
h=d.getFilesCount(),g=k.loadMethod||"loadAndUpload",n,w;if(!e.dataValue&&h)for(w=0;w<h;w++)if(n=d.getFile(w),!k.supportedTypes||b.isTypeSupported(n,k.supportedTypes)){var x=k.fileToElement(n);n=c.create(n,void 0,k.loaderType);x&&(n[g](k.uploadUrl,k.additionalRequestParameters),CKEDITOR.fileTools.markElement(x,f,n.id),"loadAndUpload"!=g&&"upload"!=g||k.skipNotifications||CKEDITOR.fileTools.bindNotifications(a,n),e.dataValue+=x.getOuterHtml())}},null,null,k);CKEDITOR.tools.extend(e,{downcast:function(){return new CKEDITOR.htmlParser.text("")},
init:function(){var b=this,e=this.wrapper.findOne("[data-cke-upload-id]").data("cke-upload-id"),d=c.loaders[e],f=CKEDITOR.tools.capitalize,g,k;d.on("update",function(c){if("abort"===d.status&&"function"===typeof b.onAbort)b.onAbort(d);if(b.wrapper&&b.wrapper.getParent()){a.fire("lockSnapshot");c="on"+f(d.status);if("abort"===d.status||"function"!==typeof b[c]||!1!==b[c](d))k="cke_upload_"+d.status,b.wrapper&&k!=g&&(g&&b.wrapper.removeClass(g),b.wrapper.addClass(k),g=k),"error"!=d.status&&"abort"!=
d.status||a.widgets.del(b);a.fire("unlockSnapshot")}else CKEDITOR.instances[a.name]&&a.editable().find('[data-cke-upload-id\x3d"'+e+'"]').count()||d.abort(),c.removeListener()});d.update()},replaceWith:function(b,c){if(""===b.trim())a.widgets.del(this);else{var d=this==a.widgets.focused,e=a.editable(),f=a.createRange(),k,w;d||(w=a.getSelection().createBookmarks());f.setStartBefore(this.wrapper);f.setEndAfter(this.wrapper);d&&(k=f.createBookmark());e.insertHtmlIntoRange(b,f,c);a.widgets.checkWidgets({initOnlyNew:!0});
a.widgets.destroy(this,!0);d?(f.moveToBookmark(k),f.select()):a.getSelection().selectBookmarks(w)}},_getLoader:function(){var a=this.wrapper.findOne("[data-cke-upload-id]");return a?this.editor.uploadRepository.loaders[a.data("cke-upload-id")]:null}});a.widgets.add(f,e)},markElement:function(a,f,e){a.setAttributes({"data-cke-upload-id":e,"data-widget":f})},bindNotifications:function(a,f){function e(){b=a._.uploadWidgetNotificaionAggregator;if(!b||b.isFinished())b=a._.uploadWidgetNotificaionAggregator=
new CKEDITOR.plugins.notificationAggregator(a,a.lang.uploadwidget.uploadMany,a.lang.uploadwidget.uploadOne),b.once("finished",function(){var c=b.getTaskCount();0===c?b.notification.hide():b.notification.update({message:1==c?a.lang.uploadwidget.doneOne:a.lang.uploadwidget.doneMany.replace("%1",c),type:"success",important:1})})}var b,c=null;f.on("update",function(){!c&&f.uploadTotal&&(e(),c=b.createTask({weight:f.uploadTotal}));c&&"uploading"==f.status&&c.update(f.uploaded)});f.on("uploaded",function(){c&&
c.done()});f.on("error",function(){c&&c.cancel();a.showNotification(f.message,"warning")});f.on("abort",function(){c&&c.cancel();CKEDITOR.instances[a.name]&&a.showNotification(a.lang.uploadwidget.abort,"info")})}})}(),"use strict",function(){function a(a){9>=a&&(a="0"+a);return String(a)}function f(b){var c=new Date,c=[c.getFullYear(),c.getMonth()+1,c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds()];e+=1;return"image-"+CKEDITOR.tools.array.map(c,a).join("")+"-"+e+"."+b}var e=0;CKEDITOR.plugins.add("uploadimage",
{requires:"uploadwidget",onLoad:function(){CKEDITOR.addCss(".cke_upload_uploading img{opacity: 0.3}")},isSupportedEnvironment:function(){return CKEDITOR.plugins.clipboard.isFileApiSupported},init:function(a){if(this.isSupportedEnvironment()){var c=CKEDITOR.fileTools,e=c.getUploadUrl(a.config,"image");e&&(a.config.clipboard_handleImages&&(a.config.clipboard_handleImages=!1,CKEDITOR.warn("clipboard-image-handling-disabled",{editor:a.name,plugin:"uploadimage"})),c.addUploadWidget(a,"uploadimage",{supportedTypes:/image\/(jpeg|png|gif|bmp)/,
uploadUrl:e,fileToElement:function(){var a=new CKEDITOR.dom.element("img");a.setAttribute("src","data:image/gif;base64,R0lGODlhDgAOAIAAAAAAAP///yH5BAAAAAAALAAAAAAOAA4AAAIMhI+py+0Po5y02qsKADs\x3d");return a},parts:{img:"img"},onUploading:function(a){this.parts.img.setAttribute("src",a.data)},onUploaded:function(a){var b=this.parts.img.$;this.replaceWith('\x3cimg src\x3d"'+a.url+'" width\x3d"'+(a.responseData.width||b.naturalWidth)+'" height\x3d"'+(a.responseData.height||b.naturalHeight)+'"\x3e')}}),
a.on("paste",function(l){if(l.data.dataValue.match(/<img[\s\S]+data:/i)){l=l.data;var m=document.implementation.createHTMLDocument(""),m=new CKEDITOR.dom.element(m.body),d,h,g;m.data("cke-editable",1);m.appendHtml(l.dataValue);d=m.find("img");for(g=0;g<d.count();g++){h=d.getItem(g);var n=h.getAttribute("src"),w=n&&"data:"==n.substring(0,5),x=null===h.data("cke-realelement");w&&x&&!h.data("cke-upload-id")&&!h.isReadOnly(1)&&(w=(w=n.match(/image\/([a-z]+?);/i))&&w[1]||"jpg",n=a.uploadRepository.create(n,
f(w)),n.upload(e),c.markElement(h,"uploadimage",n.id),c.bindNotifications(a,n))}l.dataValue=m.getHtml()}}))}}})}(),function(){function a(a){function b(a){var c=!1;g.attachListener(g,"keydown",function(){var b=m.getBody().getElementsByTag(a);if(!c){for(var d=0;d<b.count();d++)b.getItem(d).setCustomData("retain",!0);c=!0}},null,null,1);g.attachListener(g,"keyup",function(){var b=m.getElementsByTag(a);c&&(1==b.count()&&!b.getItem(0).getCustomData("retain")&&CKEDITOR.tools.isEmpty(b.getItem(0).getAttributes())&&
b.getItem(0).remove(1),c=!1)})}var e=this.editor;if(e&&!e.isDetached()){var m=a.document,d=m.body,h=m.getElementById("cke_actscrpt");h&&h.parentNode.removeChild(h);(h=m.getElementById("cke_shimscrpt"))&&h.parentNode.removeChild(h);(h=m.getElementById("cke_basetagscrpt"))&&h.parentNode.removeChild(h);d.contentEditable=!0;CKEDITOR.env.ie&&(d.hideFocus=!0,d.disabled=!0,d.removeAttribute("disabled"));delete this._.isLoadingData;this.$=d;m=new CKEDITOR.dom.document(m);this.setup();this.fixInitialSelection();
var g=this;CKEDITOR.env.ie&&!CKEDITOR.env.edge&&m.getDocumentElement().addClass(m.$.compatMode);CKEDITOR.env.ie&&!CKEDITOR.env.edge&&e.enterMode!=CKEDITOR.ENTER_P?b("p"):CKEDITOR.env.edge&&15>CKEDITOR.env.version&&e.enterMode!=CKEDITOR.ENTER_DIV&&b("div");if(CKEDITOR.env.webkit||CKEDITOR.env.ie&&10<CKEDITOR.env.version)m.getDocumentElement().on("mousedown",function(a){a.data.getTarget().is("html")&&setTimeout(function(){e.editable().focus()})});f(e);try{e.document.$.execCommand("2D-position",!1,!0)}catch(n){}(CKEDITOR.env.gecko||
CKEDITOR.env.ie&&"CSS1Compat"==e.document.$.compatMode)&&this.attachListener(this,"keydown",function(a){var b=a.data.getKeystroke();if(33==b||34==b)if(CKEDITOR.env.ie)setTimeout(function(){e.getSelection().scrollIntoView()},0);else if(e.window.$.innerHeight>this.$.offsetHeight){var c=e.createRange();c[33==b?"moveToElementEditStart":"moveToElementEditEnd"](this);c.select();a.data.preventDefault()}});CKEDITOR.env.ie&&this.attachListener(m,"blur",function(){try{m.$.selection.empty()}catch(a){}});CKEDITOR.env.iOS&&
this.attachListener(m,"touchend",function(){a.focus()});d=e.document.getElementsByTag("title").getItem(0);d.data("cke-title",d.getText());CKEDITOR.env.ie&&(e.document.$.title=this._.docTitle);CKEDITOR.tools.setTimeout(function(){"unloaded"==this.status&&(this.status="ready");e.fire("contentDom");this._.isPendingFocus&&(e.focus(),this._.isPendingFocus=!1);setTimeout(function(){e.fire("dataReady")},0)},0,this)}}function f(a){function b(){var d;a.editable().attachListener(a,"selectionChange",function(){var b=
a.getSelection().getSelectedElement();b&&(d&&(d.detachEvent("onresizestart",e),d=null),b.$.attachEvent("onresizestart",e),d=b.$)})}function e(a){a.returnValue=!1}if(CKEDITOR.env.gecko)try{var f=a.document.$;f.execCommand("enableObjectResizing",!1,!a.config.disableObjectResizing);f.execCommand("enableInlineTableEditing",!1,!a.config.disableNativeTableHandles)}catch(d){}else CKEDITOR.env.ie&&11>CKEDITOR.env.version&&a.config.disableObjectResizing&&b()}function e(){var a=[];if(8<=CKEDITOR.document.$.documentMode){a.push("html.CSS1Compat [contenteditable\x3dfalse]{min-height:0 !important}");
var b=[],e;for(e in CKEDITOR.dtd.$removeEmpty)b.push("html.CSS1Compat "+e+"[contenteditable\x3dfalse]");a.push(b.join(",")+"{display:inline-block}")}else CKEDITOR.env.gecko&&(a.push("html{height:100% !important}"),a.push("img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"));a.push("html{cursor:text;*cursor:auto}");a.push("img,input,textarea{cursor:default}");return a.join("\n")}var b;CKEDITOR.plugins.add("wysiwygarea",{init:function(a){a.config.fullPage&&a.addFeature({allowedContent:"html head title; style [media,type]; body (*)[id]; meta link [*]",
requiredContent:"body"});a.addMode("wysiwyg",function(e){function f(g){g&&g.removeListener();if(!a.isDestroyed()&&!a.isDetached()&&(a.editable(new b(a,n.getFrameDocument().getBody())),a.setData(a.getData(1),e),z)){if(u)a.on("mode",m,{iframe:n,editor:a,callback:e});a.on("mode",function(){a.status="ready"});d()}}function m(a){a&&a.removeListener();n.on("load",function(){p&&(p=!1,h())})}function d(){q=new MutationObserver(function(b){for(var d=0;d<b.length;d++){var e=b[d];if("childList"===e.type&&0!==
e.addedNodes.length)for(var f=0;f<e.addedNodes.length;f++){var g=e.addedNodes[f];g.contains&&g.contains(a.container.$)&&(u?p=!0:h())}}});q.observe(a.config.observableParent,{childList:!0,subtree:!0})}function h(){var d=a.getData(!1),f;a.editable().preserveIframe=!0;a.editable(null);f=new b(a,n.getFrameDocument().getBody());a.editable(f);a.status="recreating";a.setData(d,{callback:e,internal:!1,noSnapshot:!1})}var g="document.open();"+(CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"")+"document.close();",
g=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent(g)+"}())":"",n=CKEDITOR.dom.element.createFromHtml('\x3ciframe src\x3d"'+g+'" frameBorder\x3d"0"\x3e\x3c/iframe\x3e');n.setStyles({width:"100%",height:"100%"});n.addClass("cke_wysiwyg_frame").addClass("cke_reset");g=a.ui.space("contents");g.append(n);var w=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.gecko;if(w)n.on("load",f);var x=a.title,r=a.fire("ariaEditorHelpLabel",
{}).label,p=!1,u=CKEDITOR.env.ie&&11===CKEDITOR.env.version,z=!!window.MutationObserver,q;x&&(CKEDITOR.env.ie&&r&&(x+=", "+r),n.setAttribute("title",x));if(r){var x=CKEDITOR.tools.getNextId(),A=CKEDITOR.dom.element.createFromHtml('\x3cspan id\x3d"'+x+'" class\x3d"cke_voice_label"\x3e'+r+"\x3c/span\x3e");g.append(A,1);n.setAttribute("aria-describedby",x)}a.on("beforeModeUnload",function(a){a.removeListener();A&&A.remove();z&&q.disconnect()});a.on("destroy",function(){q&&q.disconnect()});n.setAttributes({tabIndex:a.tabIndex,
allowTransparency:"true"});!w&&f();a.fire("ariaWidget",n)})}});CKEDITOR.editor.prototype.addContentsCss=function(a){var b=this.config,e=b.contentsCss;CKEDITOR.tools.isArray(e)||(b.contentsCss=e?[e]:[]);b.contentsCss.push(a)};b=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments);this._.frameLoadedHandler=CKEDITOR.tools.addFunction(function(b){CKEDITOR.tools.setTimeout(a,0,this,b)},this);this._.docTitle=this.getWindow().getFrame().getAttribute("title")||" "},base:CKEDITOR.editable,
proto:{preserveIframe:!1,setData:function(a,b){var f=this.editor;if(b)this.setHtml(a),this.fixInitialSelection(),f.fire("dataReady");else{this._.isLoadingData=!0;f._.dataStore={id:1};var m=f.config,d=m.fullPage,h=m.docType,g=CKEDITOR.tools.buildStyleHtml(e()).replace(/<style>/,'\x3cstyle data-cke-temp\x3d"1"\x3e');d||(g+=CKEDITOR.tools.buildStyleHtml(f.config.contentsCss));var n=m.baseHref?'\x3cbase href\x3d"'+m.baseHref+'" data-cke-temp\x3d"1" /\x3e':"";d&&(a=a.replace(/<!DOCTYPE[^>]*>/i,function(a){f.docType=
h=a;return""}).replace(/<\?xml\s[^\?]*\?>/i,function(a){f.xmlDeclaration=a;return""}));a=f.dataProcessor.toHtml(a);d?(/<body[\s|>]/.test(a)||(a="\x3cbody\x3e"+a),/<html[\s|>]/.test(a)||(a="\x3chtml\x3e"+a+"\x3c/html\x3e"),/<head[\s|>]/.test(a)?/<title[\s|>]/.test(a)||(a=a.replace(/<head[^>]*>/,"$\x26\x3ctitle\x3e\x3c/title\x3e")):a=a.replace(/<html[^>]*>/,"$\x26\x3chead\x3e\x3ctitle\x3e\x3c/title\x3e\x3c/head\x3e"),n&&(a=a.replace(/<head[^>]*?>/,"$\x26"+n)),a=a.replace(/<\/head\s*>/,g+"$\x26"),a=
h+a):a=m.docType+'\x3chtml dir\x3d"'+m.contentsLangDirection+'" lang\x3d"'+(m.contentsLanguage||f.langCode)+'"\x3e\x3chead\x3e\x3ctitle\x3e'+this._.docTitle+"\x3c/title\x3e"+n+g+"\x3c/head\x3e\x3cbody"+(m.bodyId?' id\x3d"'+m.bodyId+'"':"")+(m.bodyClass?' class\x3d"'+m.bodyClass+'"':"")+"\x3e"+a+"\x3c/body\x3e\x3c/html\x3e";CKEDITOR.env.gecko&&(a=a.replace(/<body/,'\x3cbody contenteditable\x3d"true" '),2E4>CKEDITOR.env.version&&(a=a.replace(/<body[^>]*>/,"$\x26\x3c!-- cke-content-start --\x3e")));
a=a.replace(/<body/,'\x3cbody role\x3d"textbox" aria-multiline\x3d"true"');f.title&&(a=a.replace(/<body/,'\x3cbody aria-label\x3d"'+CKEDITOR.tools.htmlEncodeAttr(f.title)+'"'));CKEDITOR.env.gecko||(a=a.replace("\x3cbody",'\x3cbody tabindex\x3d"0" '));m='\x3cscript id\x3d"cke_actscrpt" type\x3d"text/javascript"'+(CKEDITOR.env.ie?' defer\x3d"defer" ':"")+"\x3evar wasLoaded\x3d0;function onload(){if(!wasLoaded)window.parent.CKEDITOR \x26\x26 window.parent.CKEDITOR.tools.callFunction("+this._.frameLoadedHandler+
",window);wasLoaded\x3d1;}"+(CKEDITOR.env.ie?"onload();":'document.addEventListener("DOMContentLoaded", onload, false );')+"\x3c/script\x3e";CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(m+='\x3cscript id\x3d"cke_shimscrpt"\x3ewindow.parent.CKEDITOR.tools.enableHtml5Elements(document)\x3c/script\x3e');n&&CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(m+='\x3cscript id\x3d"cke_basetagscrpt"\x3evar baseTag \x3d document.querySelector( "base" );baseTag.href \x3d baseTag.href;\x3c/script\x3e');a=a.replace(/(?=\s*<\/(:?head)>)/,
m);this.clearCustomData();this.clearListeners();f.fire("contentDomUnload");var w=this.getDocument();try{w.write(a)}catch(x){setTimeout(function(){w.write(a)},0)}}},getData:function(a){if(a)return this.getHtml();a=this.editor;var b=a.config,e=b.fullPage,f=e&&a.docType,d=e&&a.xmlDeclaration,h=this.getDocument(),h=e?h.getDocumentElement().getOuterHtml():h.getBody().getHtml();CKEDITOR.env.gecko&&b.enterMode!=CKEDITOR.ENTER_BR&&(h=h.replace(/<br>(?=\s*(:?$|<\/body>))/,""));e&&(h=h.replace(/<body(.*?)role="?textbox"?/i,
"\x3cbody$1").replace(/<body(.*?)aria-multiline="?true"?/i,"\x3cbody$1").replace(/<body(.*?)tabindex="?0"?/i,"\x3cbody$1").replace(/<body(.*?)aria-label="(.+?)"/i,"\x3cbody$1").replace(/<body(.*?)aria-readonly="?(?:true|false)"?/i,"\x3cbody$1"));h=a.dataProcessor.toDataFormat(h);d&&(h=d+"\n"+h);f&&(h=f+"\n"+h);return h},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:b.baseProto.focus.call(this)},detach:function(){if(!this.preserveIframe){var a=this.editor,e=a.document,a=a.container.findOne("iframe.cke_wysiwyg_frame");
b.baseProto.detach.call(this);this.clearCustomData(this._.expandoNumber);e.getDocumentElement().clearCustomData();CKEDITOR.tools.removeFunction(this._.frameLoadedHandler);a&&(a.clearCustomData(),(e=a.removeCustomData("onResize"))&&e.removeListener(),a.isDetached()||a.remove())}}}})}(),CKEDITOR.config.disableObjectResizing=!1,CKEDITOR.config.disableNativeTableHandles=!0,CKEDITOR.config.disableNativeSpellChecker=!0,CKEDITOR.config.observableParent=CKEDITOR.document.$,CKEDITOR.config.plugins="dialogui,dialog,a11yhelp,about,basicstyles,blockquote,notification,button,toolbar,clipboard,panel,floatpanel,menu,contextmenu,elementspath,indent,indentlist,list,enterkey,entities,popup,filetools,filebrowser,floatingspace,listblock,richcombo,format,horizontalrule,htmlwriter,image,fakeobjects,link,magicline,maximize,xml,ajax,pastetools,pastefromgdocs,pastefromlibreoffice,pastefromword,pastetext,removeformat,resize,menubutton,scayt,showborders,sourcearea,specialchar,stylescombo,tab,table,tabletools,tableselection,undo,lineutils,widgetselection,widget,notificationaggregator,uploadwidget,uploadimage,wysiwygarea",
CKEDITOR.config.skin="moono-lisa",function(){var a=function(a,e){var b=CKEDITOR.getUrl("plugins/"+e);a=a.split(",");for(var c=0;c<a.length;c++)CKEDITOR.skin.icons[a[c]]={path:b,offset:-a[++c],bgsize:a[++c]}};CKEDITOR.env.hidpi?a("about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,codesnippet,384,,bgcolor,408,,textcolor,432,,copyformatting,456,,creatediv,480,,docprops-rtl,504,,docprops,528,,easyimagealigncenter,552,,easyimagealignleft,576,,easyimagealignright,600,,easyimagealt,624,,easyimagefull,648,,easyimageside,672,,easyimageupload,696,,embed,720,,embedsemantic,744,,emojipanel,768,,exportpdf,792,,find-rtl,816,,find,840,,replace,864,,button,888,,checkbox,912,,form,936,,hiddenfield,960,,imagebutton,984,,radio,1008,,select-rtl,1032,,select,1056,,textarea-rtl,1080,,textarea,1104,,textfield-rtl,1128,,textfield,1152,,horizontalrule,1176,,iframe,1200,,image,1224,,indent-rtl,1248,,indent,1272,,outdent-rtl,1296,,outdent,1320,,justifyblock,1344,,justifycenter,1368,,justifyleft,1392,,justifyright,1416,,language,1440,,anchor-rtl,1464,,anchor,1488,,link,1512,,unlink,1536,,bulletedlist-rtl,1560,,bulletedlist,1584,,numberedlist-rtl,1608,,numberedlist,1632,,mathjax,1656,,maximize,1680,,newpage-rtl,1704,,newpage,1728,,pagebreak-rtl,1752,,pagebreak,1776,,pastefromword-rtl,1800,,pastefromword,1824,,pastetext-rtl,1848,,pastetext,1872,,placeholder,1896,,preview-rtl,1920,,preview,1944,,print,1968,,removeformat,1992,,save,2016,,scayt,2040,,selectall,2064,,showblocks-rtl,2088,,showblocks,2112,,smiley,2136,,source-rtl,2160,,source,2184,,sourcedialog-rtl,2208,,sourcedialog,2232,,specialchar,2256,,table,2280,,templates-rtl,2304,,templates,2328,,uicolor,2352,,redo-rtl,2376,,redo,2400,,undo-rtl,2424,,undo,2448,,simplebox,4944,auto",
"icons_hidpi.png"):a("about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,codesnippet,384,auto,bgcolor,408,auto,textcolor,432,auto,copyformatting,456,auto,creatediv,480,auto,docprops-rtl,504,auto,docprops,528,auto,easyimagealigncenter,552,auto,easyimagealignleft,576,auto,easyimagealignright,600,auto,easyimagealt,624,auto,easyimagefull,648,auto,easyimageside,672,auto,easyimageupload,696,auto,embed,720,auto,embedsemantic,744,auto,emojipanel,768,auto,exportpdf,792,auto,find-rtl,816,auto,find,840,auto,replace,864,auto,button,888,auto,checkbox,912,auto,form,936,auto,hiddenfield,960,auto,imagebutton,984,auto,radio,1008,auto,select-rtl,1032,auto,select,1056,auto,textarea-rtl,1080,auto,textarea,1104,auto,textfield-rtl,1128,auto,textfield,1152,auto,horizontalrule,1176,auto,iframe,1200,auto,image,1224,auto,indent-rtl,1248,auto,indent,1272,auto,outdent-rtl,1296,auto,outdent,1320,auto,justifyblock,1344,auto,justifycenter,1368,auto,justifyleft,1392,auto,justifyright,1416,auto,language,1440,auto,anchor-rtl,1464,auto,anchor,1488,auto,link,1512,auto,unlink,1536,auto,bulletedlist-rtl,1560,auto,bulletedlist,1584,auto,numberedlist-rtl,1608,auto,numberedlist,1632,auto,mathjax,1656,auto,maximize,1680,auto,newpage-rtl,1704,auto,newpage,1728,auto,pagebreak-rtl,1752,auto,pagebreak,1776,auto,pastefromword-rtl,1800,auto,pastefromword,1824,auto,pastetext-rtl,1848,auto,pastetext,1872,auto,placeholder,1896,auto,preview-rtl,1920,auto,preview,1944,auto,print,1968,auto,removeformat,1992,auto,save,2016,auto,scayt,2040,auto,selectall,2064,auto,showblocks-rtl,2088,auto,showblocks,2112,auto,smiley,2136,auto,source-rtl,2160,auto,source,2184,auto,sourcedialog-rtl,2208,auto,sourcedialog,2232,auto,specialchar,2256,auto,table,2280,auto,templates-rtl,2304,auto,templates,2328,auto,uicolor,2352,auto,redo-rtl,2376,auto,redo,2400,auto,undo-rtl,2424,auto,undo,2448,auto,simplebox,2472,auto",
"icons.png")}())})();

/***/ }),

/***/ "./node_modules/core-js/modules/es.json.stringify.js":
/*!***********************************************************!*\
  !*** ./node_modules/core-js/modules/es.json.stringify.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");
var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "./node_modules/core-js/internals/get-built-in.js");
var apply = __webpack_require__(/*! ../internals/function-apply */ "./node_modules/core-js/internals/function-apply.js");
var call = __webpack_require__(/*! ../internals/function-call */ "./node_modules/core-js/internals/function-call.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");
var fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");
var isArray = __webpack_require__(/*! ../internals/is-array */ "./node_modules/core-js/internals/is-array.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");
var isSymbol = __webpack_require__(/*! ../internals/is-symbol */ "./node_modules/core-js/internals/is-symbol.js");
var arraySlice = __webpack_require__(/*! ../internals/array-slice */ "./node_modules/core-js/internals/array-slice.js");
var NATIVE_SYMBOL = __webpack_require__(/*! ../internals/symbol-constructor-detection */ "./node_modules/core-js/internals/symbol-constructor-detection.js");

var $stringify = getBuiltIn('JSON', 'stringify');
var exec = uncurryThis(/./.exec);
var charAt = uncurryThis(''.charAt);
var charCodeAt = uncurryThis(''.charCodeAt);
var replace = uncurryThis(''.replace);
var numberToString = uncurryThis(1.0.toString);

var tester = /[\uD800-\uDFFF]/g;
var low = /^[\uD800-\uDBFF]$/;
var hi = /^[\uDC00-\uDFFF]$/;

var WRONG_SYMBOLS_CONVERSION = !NATIVE_SYMBOL || fails(function () {
  var symbol = getBuiltIn('Symbol')();
  // MS Edge converts symbol values to JSON as {}
  return $stringify([symbol]) != '[null]'
    // WebKit converts symbol values to JSON as null
    || $stringify({ a: symbol }) != '{}'
    // V8 throws on boxed symbols
    || $stringify(Object(symbol)) != '{}';
});

// https://github.com/tc39/proposal-well-formed-stringify
var ILL_FORMED_UNICODE = fails(function () {
  return $stringify('\uDF06\uD834') !== '"\\udf06\\ud834"'
    || $stringify('\uDEAD') !== '"\\udead"';
});

var stringifyWithSymbolsFix = function (it, replacer) {
  var args = arraySlice(arguments);
  var $replacer = replacer;
  if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined
  if (!isArray(replacer)) replacer = function (key, value) {
    if (isCallable($replacer)) value = call($replacer, this, key, value);
    if (!isSymbol(value)) return value;
  };
  args[1] = replacer;
  return apply($stringify, null, args);
};

var fixIllFormed = function (match, offset, string) {
  var prev = charAt(string, offset - 1);
  var next = charAt(string, offset + 1);
  if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {
    return '\\u' + numberToString(charCodeAt(match, 0), 16);
  } return match;
};

if ($stringify) {
  // `JSON.stringify` method
  // https://tc39.es/ecma262/#sec-json.stringify
  $({ target: 'JSON', stat: true, arity: 3, forced: WRONG_SYMBOLS_CONVERSION || ILL_FORMED_UNICODE }, {
    // eslint-disable-next-line no-unused-vars -- required for `.length`
    stringify: function stringify(it, replacer, space) {
      var args = arraySlice(arguments);
      var result = apply(WRONG_SYMBOLS_CONVERSION ? stringifyWithSymbolsFix : $stringify, null, args);
      return ILL_FORMED_UNICODE && typeof result == 'string' ? replace(result, tester, fixIllFormed) : result;
    }
  });
}


/***/ }),

/***/ "./node_modules/jquery/dist/jquery.js":
/*!********************************************!*\
  !*** ./node_modules/jquery/dist/jquery.js ***!
  \********************************************/
/***/ (function(module, exports) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery JavaScript Library v3.6.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-08-26T17:52Z
 */
( function( global, factory ) {

	"use strict";

	if (  true && typeof module.exports === "object" ) {

		// For CommonJS and CommonJS-like environments where a proper `window`
		// is present, execute the factory and get jQuery.
		// For environments that do not have a `window` with a `document`
		// (such as Node.js), expose a factory as module.exports.
		// This accentuates the need for the creation of a real `window`.
		// e.g. var jQuery = require("jquery")(window);
		// See ticket trac-14549 for more info.
		module.exports = global.document ?
			factory( global, true ) :
			function( w ) {
				if ( !w.document ) {
					throw new Error( "jQuery requires a window with a document" );
				}
				return factory( w );
			};
	} else {
		factory( global );
	}

// Pass this if window is not defined yet
} )( typeof window !== "undefined" ? window : this, function( window, noGlobal ) {

// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1
// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode
// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common
// enough that all such attempts are guarded in a try block.
"use strict";

var arr = [];

var getProto = Object.getPrototypeOf;

var slice = arr.slice;

var flat = arr.flat ? function( array ) {
	return arr.flat.call( array );
} : function( array ) {
	return arr.concat.apply( [], array );
};


var push = arr.push;

var indexOf = arr.indexOf;

var class2type = {};

var toString = class2type.toString;

var hasOwn = class2type.hasOwnProperty;

var fnToString = hasOwn.toString;

var ObjectFunctionString = fnToString.call( Object );

var support = {};

var isFunction = function isFunction( obj ) {

		// Support: Chrome <=57, Firefox <=52
		// In some browsers, typeof returns "function" for HTML <object> elements
		// (i.e., `typeof document.createElement( "object" ) === "function"`).
		// We don't want to classify *any* DOM node as a function.
		// Support: QtWeb <=3.8.5, WebKit <=534.34, wkhtmltopdf tool <=0.12.5
		// Plus for old WebKit, typeof returns "function" for HTML collections
		// (e.g., `typeof document.getElementsByTagName("div") === "function"`). (gh-4756)
		return typeof obj === "function" && typeof obj.nodeType !== "number" &&
			typeof obj.item !== "function";
	};


var isWindow = function isWindow( obj ) {
		return obj != null && obj === obj.window;
	};


var document = window.document;



	var preservedScriptAttributes = {
		type: true,
		src: true,
		nonce: true,
		noModule: true
	};

	function DOMEval( code, node, doc ) {
		doc = doc || document;

		var i, val,
			script = doc.createElement( "script" );

		script.text = code;
		if ( node ) {
			for ( i in preservedScriptAttributes ) {

				// Support: Firefox 64+, Edge 18+
				// Some browsers don't support the "nonce" property on scripts.
				// On the other hand, just using `getAttribute` is not enough as
				// the `nonce` attribute is reset to an empty string whenever it
				// becomes browsing-context connected.
				// See https://github.com/whatwg/html/issues/2369
				// See https://html.spec.whatwg.org/#nonce-attributes
				// The `node.getAttribute` check was added for the sake of
				// `jQuery.globalEval` so that it can fake a nonce-containing node
				// via an object.
				val = node[ i ] || node.getAttribute && node.getAttribute( i );
				if ( val ) {
					script.setAttribute( i, val );
				}
			}
		}
		doc.head.appendChild( script ).parentNode.removeChild( script );
	}


function toType( obj ) {
	if ( obj == null ) {
		return obj + "";
	}

	// Support: Android <=2.3 only (functionish RegExp)
	return typeof obj === "object" || typeof obj === "function" ?
		class2type[ toString.call( obj ) ] || "object" :
		typeof obj;
}
/* global Symbol */
// Defining this global in .eslintrc.json would create a danger of using the global
// unguarded in another place, it seems safer to define global only for this module



var
	version = "3.6.1",

	// Define a local copy of jQuery
	jQuery = function( selector, context ) {

		// The jQuery object is actually just the init constructor 'enhanced'
		// Need init if jQuery is called (just allow error to be thrown if not included)
		return new jQuery.fn.init( selector, context );
	};

jQuery.fn = jQuery.prototype = {

	// The current version of jQuery being used
	jquery: version,

	constructor: jQuery,

	// The default length of a jQuery object is 0
	length: 0,

	toArray: function() {
		return slice.call( this );
	},

	// Get the Nth element in the matched element set OR
	// Get the whole matched element set as a clean array
	get: function( num ) {

		// Return all the elements in a clean array
		if ( num == null ) {
			return slice.call( this );
		}

		// Return just the one element from the set
		return num < 0 ? this[ num + this.length ] : this[ num ];
	},

	// Take an array of elements and push it onto the stack
	// (returning the new matched element set)
	pushStack: function( elems ) {

		// Build a new jQuery matched element set
		var ret = jQuery.merge( this.constructor(), elems );

		// Add the old object onto the stack (as a reference)
		ret.prevObject = this;

		// Return the newly-formed element set
		return ret;
	},

	// Execute a callback for every element in the matched set.
	each: function( callback ) {
		return jQuery.each( this, callback );
	},

	map: function( callback ) {
		return this.pushStack( jQuery.map( this, function( elem, i ) {
			return callback.call( elem, i, elem );
		} ) );
	},

	slice: function() {
		return this.pushStack( slice.apply( this, arguments ) );
	},

	first: function() {
		return this.eq( 0 );
	},

	last: function() {
		return this.eq( -1 );
	},

	even: function() {
		return this.pushStack( jQuery.grep( this, function( _elem, i ) {
			return ( i + 1 ) % 2;
		} ) );
	},

	odd: function() {
		return this.pushStack( jQuery.grep( this, function( _elem, i ) {
			return i % 2;
		} ) );
	},

	eq: function( i ) {
		var len = this.length,
			j = +i + ( i < 0 ? len : 0 );
		return this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );
	},

	end: function() {
		return this.prevObject || this.constructor();
	},

	// For internal use only.
	// Behaves like an Array's method, not like a jQuery method.
	push: push,
	sort: arr.sort,
	splice: arr.splice
};

jQuery.extend = jQuery.fn.extend = function() {
	var options, name, src, copy, copyIsArray, clone,
		target = arguments[ 0 ] || {},
		i = 1,
		length = arguments.length,
		deep = false;

	// Handle a deep copy situation
	if ( typeof target === "boolean" ) {
		deep = target;

		// Skip the boolean and the target
		target = arguments[ i ] || {};
		i++;
	}

	// Handle case when target is a string or something (possible in deep copy)
	if ( typeof target !== "object" && !isFunction( target ) ) {
		target = {};
	}

	// Extend jQuery itself if only one argument is passed
	if ( i === length ) {
		target = this;
		i--;
	}

	for ( ; i < length; i++ ) {

		// Only deal with non-null/undefined values
		if ( ( options = arguments[ i ] ) != null ) {

			// Extend the base object
			for ( name in options ) {
				copy = options[ name ];

				// Prevent Object.prototype pollution
				// Prevent never-ending loop
				if ( name === "__proto__" || target === copy ) {
					continue;
				}

				// Recurse if we're merging plain objects or arrays
				if ( deep && copy && ( jQuery.isPlainObject( copy ) ||
					( copyIsArray = Array.isArray( copy ) ) ) ) {
					src = target[ name ];

					// Ensure proper type for the source value
					if ( copyIsArray && !Array.isArray( src ) ) {
						clone = [];
					} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {
						clone = {};
					} else {
						clone = src;
					}
					copyIsArray = false;

					// Never move original objects, clone them
					target[ name ] = jQuery.extend( deep, clone, copy );

				// Don't bring in undefined values
				} else if ( copy !== undefined ) {
					target[ name ] = copy;
				}
			}
		}
	}

	// Return the modified object
	return target;
};

jQuery.extend( {

	// Unique for each copy of jQuery on the page
	expando: "jQuery" + ( version + Math.random() ).replace( /\D/g, "" ),

	// Assume jQuery is ready without the ready module
	isReady: true,

	error: function( msg ) {
		throw new Error( msg );
	},

	noop: function() {},

	isPlainObject: function( obj ) {
		var proto, Ctor;

		// Detect obvious negatives
		// Use toString instead of jQuery.type to catch host objects
		if ( !obj || toString.call( obj ) !== "[object Object]" ) {
			return false;
		}

		proto = getProto( obj );

		// Objects with no prototype (e.g., `Object.create( null )`) are plain
		if ( !proto ) {
			return true;
		}

		// Objects with prototype are plain iff they were constructed by a global Object function
		Ctor = hasOwn.call( proto, "constructor" ) && proto.constructor;
		return typeof Ctor === "function" && fnToString.call( Ctor ) === ObjectFunctionString;
	},

	isEmptyObject: function( obj ) {
		var name;

		for ( name in obj ) {
			return false;
		}
		return true;
	},

	// Evaluates a script in a provided context; falls back to the global one
	// if not specified.
	globalEval: function( code, options, doc ) {
		DOMEval( code, { nonce: options && options.nonce }, doc );
	},

	each: function( obj, callback ) {
		var length, i = 0;

		if ( isArrayLike( obj ) ) {
			length = obj.length;
			for ( ; i < length; i++ ) {
				if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
					break;
				}
			}
		} else {
			for ( i in obj ) {
				if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
					break;
				}
			}
		}

		return obj;
	},

	// results is for internal usage only
	makeArray: function( arr, results ) {
		var ret = results || [];

		if ( arr != null ) {
			if ( isArrayLike( Object( arr ) ) ) {
				jQuery.merge( ret,
					typeof arr === "string" ?
						[ arr ] : arr
				);
			} else {
				push.call( ret, arr );
			}
		}

		return ret;
	},

	inArray: function( elem, arr, i ) {
		return arr == null ? -1 : indexOf.call( arr, elem, i );
	},

	// Support: Android <=4.0 only, PhantomJS 1 only
	// push.apply(_, arraylike) throws on ancient WebKit
	merge: function( first, second ) {
		var len = +second.length,
			j = 0,
			i = first.length;

		for ( ; j < len; j++ ) {
			first[ i++ ] = second[ j ];
		}

		first.length = i;

		return first;
	},

	grep: function( elems, callback, invert ) {
		var callbackInverse,
			matches = [],
			i = 0,
			length = elems.length,
			callbackExpect = !invert;

		// Go through the array, only saving the items
		// that pass the validator function
		for ( ; i < length; i++ ) {
			callbackInverse = !callback( elems[ i ], i );
			if ( callbackInverse !== callbackExpect ) {
				matches.push( elems[ i ] );
			}
		}

		return matches;
	},

	// arg is for internal usage only
	map: function( elems, callback, arg ) {
		var length, value,
			i = 0,
			ret = [];

		// Go through the array, translating each of the items to their new values
		if ( isArrayLike( elems ) ) {
			length = elems.length;
			for ( ; i < length; i++ ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}

		// Go through every key on the object,
		} else {
			for ( i in elems ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}
		}

		// Flatten any nested arrays
		return flat( ret );
	},

	// A global GUID counter for objects
	guid: 1,

	// jQuery.support is not used in Core but other projects attach their
	// properties to it so it needs to exist.
	support: support
} );

if ( typeof Symbol === "function" ) {
	jQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];
}

// Populate the class2type map
jQuery.each( "Boolean Number String Function Array Date RegExp Object Error Symbol".split( " " ),
	function( _i, name ) {
		class2type[ "[object " + name + "]" ] = name.toLowerCase();
	} );

function isArrayLike( obj ) {

	// Support: real iOS 8.2 only (not reproducible in simulator)
	// `in` check used to prevent JIT error (gh-2145)
	// hasOwn isn't used here due to false negatives
	// regarding Nodelist length in IE
	var length = !!obj && "length" in obj && obj.length,
		type = toType( obj );

	if ( isFunction( obj ) || isWindow( obj ) ) {
		return false;
	}

	return type === "array" || length === 0 ||
		typeof length === "number" && length > 0 && ( length - 1 ) in obj;
}
var Sizzle =
/*!
 * Sizzle CSS Selector Engine v2.3.6
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2021-02-16
 */
( function( window ) {
var i,
	support,
	Expr,
	getText,
	isXML,
	tokenize,
	compile,
	select,
	outermostContext,
	sortInput,
	hasDuplicate,

	// Local document vars
	setDocument,
	document,
	docElem,
	documentIsHTML,
	rbuggyQSA,
	rbuggyMatches,
	matches,
	contains,

	// Instance-specific data
	expando = "sizzle" + 1 * new Date(),
	preferredDoc = window.document,
	dirruns = 0,
	done = 0,
	classCache = createCache(),
	tokenCache = createCache(),
	compilerCache = createCache(),
	nonnativeSelectorCache = createCache(),
	sortOrder = function( a, b ) {
		if ( a === b ) {
			hasDuplicate = true;
		}
		return 0;
	},

	// Instance methods
	hasOwn = ( {} ).hasOwnProperty,
	arr = [],
	pop = arr.pop,
	pushNative = arr.push,
	push = arr.push,
	slice = arr.slice,

	// Use a stripped-down indexOf as it's faster than native
	// https://jsperf.com/thor-indexof-vs-for/5
	indexOf = function( list, elem ) {
		var i = 0,
			len = list.length;
		for ( ; i < len; i++ ) {
			if ( list[ i ] === elem ) {
				return i;
			}
		}
		return -1;
	},

	booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|" +
		"ismap|loop|multiple|open|readonly|required|scoped",

	// Regular expressions

	// http://www.w3.org/TR/css3-selectors/#whitespace
	whitespace = "[\\x20\\t\\r\\n\\f]",

	// https://www.w3.org/TR/css-syntax-3/#ident-token-diagram
	identifier = "(?:\\\\[\\da-fA-F]{1,6}" + whitespace +
		"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",

	// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors
	attributes = "\\[" + whitespace + "*(" + identifier + ")(?:" + whitespace +

		// Operator (capture 2)
		"*([*^$|!~]?=)" + whitespace +

		// "Attribute values must be CSS identifiers [capture 5]
		// or strings [capture 3 or capture 4]"
		"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" +
		whitespace + "*\\]",

	pseudos = ":(" + identifier + ")(?:\\((" +

		// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:
		// 1. quoted (capture 3; capture 4 or capture 5)
		"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" +

		// 2. simple (capture 6)
		"((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|" +

		// 3. anything else (capture 2)
		".*" +
		")\\)|)",

	// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter
	rwhitespace = new RegExp( whitespace + "+", "g" ),
	rtrim = new RegExp( "^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" +
		whitespace + "+$", "g" ),

	rcomma = new RegExp( "^" + whitespace + "*," + whitespace + "*" ),
	rcombinators = new RegExp( "^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace +
		"*" ),
	rdescend = new RegExp( whitespace + "|>" ),

	rpseudo = new RegExp( pseudos ),
	ridentifier = new RegExp( "^" + identifier + "$" ),

	matchExpr = {
		"ID": new RegExp( "^#(" + identifier + ")" ),
		"CLASS": new RegExp( "^\\.(" + identifier + ")" ),
		"TAG": new RegExp( "^(" + identifier + "|[*])" ),
		"ATTR": new RegExp( "^" + attributes ),
		"PSEUDO": new RegExp( "^" + pseudos ),
		"CHILD": new RegExp( "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" +
			whitespace + "*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" +
			whitespace + "*(\\d+)|))" + whitespace + "*\\)|)", "i" ),
		"bool": new RegExp( "^(?:" + booleans + ")$", "i" ),

		// For use in libraries implementing .is()
		// We use this for POS matching in `select`
		"needsContext": new RegExp( "^" + whitespace +
			"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + whitespace +
			"*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i" )
	},

	rhtml = /HTML$/i,
	rinputs = /^(?:input|select|textarea|button)$/i,
	rheader = /^h\d$/i,

	rnative = /^[^{]+\{\s*\[native \w/,

	// Easily-parseable/retrievable ID or TAG or CLASS selectors
	rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,

	rsibling = /[+~]/,

	// CSS escapes
	// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters
	runescape = new RegExp( "\\\\[\\da-fA-F]{1,6}" + whitespace + "?|\\\\([^\\r\\n\\f])", "g" ),
	funescape = function( escape, nonHex ) {
		var high = "0x" + escape.slice( 1 ) - 0x10000;

		return nonHex ?

			// Strip the backslash prefix from a non-hex escape sequence
			nonHex :

			// Replace a hexadecimal escape sequence with the encoded Unicode code point
			// Support: IE <=11+
			// For values outside the Basic Multilingual Plane (BMP), manually construct a
			// surrogate pair
			high < 0 ?
				String.fromCharCode( high + 0x10000 ) :
				String.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );
	},

	// CSS string/identifier serialization
	// https://drafts.csswg.org/cssom/#common-serializing-idioms
	rcssescape = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
	fcssescape = function( ch, asCodePoint ) {
		if ( asCodePoint ) {

			// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER
			if ( ch === "\0" ) {
				return "\uFFFD";
			}

			// Control characters and (dependent upon position) numbers get escaped as code points
			return ch.slice( 0, -1 ) + "\\" +
				ch.charCodeAt( ch.length - 1 ).toString( 16 ) + " ";
		}

		// Other potentially-special ASCII characters get backslash-escaped
		return "\\" + ch;
	},

	// Used for iframes
	// See setDocument()
	// Removing the function wrapper causes a "Permission Denied"
	// error in IE
	unloadHandler = function() {
		setDocument();
	},

	inDisabledFieldset = addCombinator(
		function( elem ) {
			return elem.disabled === true && elem.nodeName.toLowerCase() === "fieldset";
		},
		{ dir: "parentNode", next: "legend" }
	);

// Optimize for push.apply( _, NodeList )
try {
	push.apply(
		( arr = slice.call( preferredDoc.childNodes ) ),
		preferredDoc.childNodes
	);

	// Support: Android<4.0
	// Detect silently failing push.apply
	// eslint-disable-next-line no-unused-expressions
	arr[ preferredDoc.childNodes.length ].nodeType;
} catch ( e ) {
	push = { apply: arr.length ?

		// Leverage slice if possible
		function( target, els ) {
			pushNative.apply( target, slice.call( els ) );
		} :

		// Support: IE<9
		// Otherwise append directly
		function( target, els ) {
			var j = target.length,
				i = 0;

			// Can't trust NodeList.length
			while ( ( target[ j++ ] = els[ i++ ] ) ) {}
			target.length = j - 1;
		}
	};
}

function Sizzle( selector, context, results, seed ) {
	var m, i, elem, nid, match, groups, newSelector,
		newContext = context && context.ownerDocument,

		// nodeType defaults to 9, since context defaults to document
		nodeType = context ? context.nodeType : 9;

	results = results || [];

	// Return early from calls with invalid selector or context
	if ( typeof selector !== "string" || !selector ||
		nodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {

		return results;
	}

	// Try to shortcut find operations (as opposed to filters) in HTML documents
	if ( !seed ) {
		setDocument( context );
		context = context || document;

		if ( documentIsHTML ) {

			// If the selector is sufficiently simple, try using a "get*By*" DOM method
			// (excepting DocumentFragment context, where the methods don't exist)
			if ( nodeType !== 11 && ( match = rquickExpr.exec( selector ) ) ) {

				// ID selector
				if ( ( m = match[ 1 ] ) ) {

					// Document context
					if ( nodeType === 9 ) {
						if ( ( elem = context.getElementById( m ) ) ) {

							// Support: IE, Opera, Webkit
							// TODO: identify versions
							// getElementById can match elements by name instead of ID
							if ( elem.id === m ) {
								results.push( elem );
								return results;
							}
						} else {
							return results;
						}

					// Element context
					} else {

						// Support: IE, Opera, Webkit
						// TODO: identify versions
						// getElementById can match elements by name instead of ID
						if ( newContext && ( elem = newContext.getElementById( m ) ) &&
							contains( context, elem ) &&
							elem.id === m ) {

							results.push( elem );
							return results;
						}
					}

				// Type selector
				} else if ( match[ 2 ] ) {
					push.apply( results, context.getElementsByTagName( selector ) );
					return results;

				// Class selector
				} else if ( ( m = match[ 3 ] ) && support.getElementsByClassName &&
					context.getElementsByClassName ) {

					push.apply( results, context.getElementsByClassName( m ) );
					return results;
				}
			}

			// Take advantage of querySelectorAll
			if ( support.qsa &&
				!nonnativeSelectorCache[ selector + " " ] &&
				( !rbuggyQSA || !rbuggyQSA.test( selector ) ) &&

				// Support: IE 8 only
				// Exclude object elements
				( nodeType !== 1 || context.nodeName.toLowerCase() !== "object" ) ) {

				newSelector = selector;
				newContext = context;

				// qSA considers elements outside a scoping root when evaluating child or
				// descendant combinators, which is not what we want.
				// In such cases, we work around the behavior by prefixing every selector in the
				// list with an ID selector referencing the scope context.
				// The technique has to be used as well when a leading combinator is used
				// as such selectors are not recognized by querySelectorAll.
				// Thanks to Andrew Dupont for this technique.
				if ( nodeType === 1 &&
					( rdescend.test( selector ) || rcombinators.test( selector ) ) ) {

					// Expand context for sibling selectors
					newContext = rsibling.test( selector ) && testContext( context.parentNode ) ||
						context;

					// We can use :scope instead of the ID hack if the browser
					// supports it & if we're not changing the context.
					if ( newContext !== context || !support.scope ) {

						// Capture the context ID, setting it first if necessary
						if ( ( nid = context.getAttribute( "id" ) ) ) {
							nid = nid.replace( rcssescape, fcssescape );
						} else {
							context.setAttribute( "id", ( nid = expando ) );
						}
					}

					// Prefix every selector in the list
					groups = tokenize( selector );
					i = groups.length;
					while ( i-- ) {
						groups[ i ] = ( nid ? "#" + nid : ":scope" ) + " " +
							toSelector( groups[ i ] );
					}
					newSelector = groups.join( "," );
				}

				try {
					push.apply( results,
						newContext.querySelectorAll( newSelector )
					);
					return results;
				} catch ( qsaError ) {
					nonnativeSelectorCache( selector, true );
				} finally {
					if ( nid === expando ) {
						context.removeAttribute( "id" );
					}
				}
			}
		}
	}

	// All others
	return select( selector.replace( rtrim, "$1" ), context, results, seed );
}

/**
 * Create key-value caches of limited size
 * @returns {function(string, object)} Returns the Object data after storing it on itself with
 *	property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)
 *	deleting the oldest entry
 */
function createCache() {
	var keys = [];

	function cache( key, value ) {

		// Use (key + " ") to avoid collision with native prototype properties (see Issue #157)
		if ( keys.push( key + " " ) > Expr.cacheLength ) {

			// Only keep the most recent entries
			delete cache[ keys.shift() ];
		}
		return ( cache[ key + " " ] = value );
	}
	return cache;
}

/**
 * Mark a function for special use by Sizzle
 * @param {Function} fn The function to mark
 */
function markFunction( fn ) {
	fn[ expando ] = true;
	return fn;
}

/**
 * Support testing using an element
 * @param {Function} fn Passed the created element and returns a boolean result
 */
function assert( fn ) {
	var el = document.createElement( "fieldset" );

	try {
		return !!fn( el );
	} catch ( e ) {
		return false;
	} finally {

		// Remove from its parent by default
		if ( el.parentNode ) {
			el.parentNode.removeChild( el );
		}

		// release memory in IE
		el = null;
	}
}

/**
 * Adds the same handler for all of the specified attrs
 * @param {String} attrs Pipe-separated list of attributes
 * @param {Function} handler The method that will be applied
 */
function addHandle( attrs, handler ) {
	var arr = attrs.split( "|" ),
		i = arr.length;

	while ( i-- ) {
		Expr.attrHandle[ arr[ i ] ] = handler;
	}
}

/**
 * Checks document order of two siblings
 * @param {Element} a
 * @param {Element} b
 * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b
 */
function siblingCheck( a, b ) {
	var cur = b && a,
		diff = cur && a.nodeType === 1 && b.nodeType === 1 &&
			a.sourceIndex - b.sourceIndex;

	// Use IE sourceIndex if available on both nodes
	if ( diff ) {
		return diff;
	}

	// Check if b follows a
	if ( cur ) {
		while ( ( cur = cur.nextSibling ) ) {
			if ( cur === b ) {
				return -1;
			}
		}
	}

	return a ? 1 : -1;
}

/**
 * Returns a function to use in pseudos for input types
 * @param {String} type
 */
function createInputPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return name === "input" && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for buttons
 * @param {String} type
 */
function createButtonPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return ( name === "input" || name === "button" ) && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for :enabled/:disabled
 * @param {Boolean} disabled true for :disabled; false for :enabled
 */
function createDisabledPseudo( disabled ) {

	// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable
	return function( elem ) {

		// Only certain elements can match :enabled or :disabled
		// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled
		// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled
		if ( "form" in elem ) {

			// Check for inherited disabledness on relevant non-disabled elements:
			// * listed form-associated elements in a disabled fieldset
			//   https://html.spec.whatwg.org/multipage/forms.html#category-listed
			//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled
			// * option elements in a disabled optgroup
			//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled
			// All such elements have a "form" property.
			if ( elem.parentNode && elem.disabled === false ) {

				// Option elements defer to a parent optgroup if present
				if ( "label" in elem ) {
					if ( "label" in elem.parentNode ) {
						return elem.parentNode.disabled === disabled;
					} else {
						return elem.disabled === disabled;
					}
				}

				// Support: IE 6 - 11
				// Use the isDisabled shortcut property to check for disabled fieldset ancestors
				return elem.isDisabled === disabled ||

					// Where there is no isDisabled, check manually
					/* jshint -W018 */
					elem.isDisabled !== !disabled &&
					inDisabledFieldset( elem ) === disabled;
			}

			return elem.disabled === disabled;

		// Try to winnow out elements that can't be disabled before trusting the disabled property.
		// Some victims get caught in our net (label, legend, menu, track), but it shouldn't
		// even exist on them, let alone have a boolean value.
		} else if ( "label" in elem ) {
			return elem.disabled === disabled;
		}

		// Remaining elements are neither :enabled nor :disabled
		return false;
	};
}

/**
 * Returns a function to use in pseudos for positionals
 * @param {Function} fn
 */
function createPositionalPseudo( fn ) {
	return markFunction( function( argument ) {
		argument = +argument;
		return markFunction( function( seed, matches ) {
			var j,
				matchIndexes = fn( [], seed.length, argument ),
				i = matchIndexes.length;

			// Match elements found at the specified indexes
			while ( i-- ) {
				if ( seed[ ( j = matchIndexes[ i ] ) ] ) {
					seed[ j ] = !( matches[ j ] = seed[ j ] );
				}
			}
		} );
	} );
}

/**
 * Checks a node for validity as a Sizzle context
 * @param {Element|Object=} context
 * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value
 */
function testContext( context ) {
	return context && typeof context.getElementsByTagName !== "undefined" && context;
}

// Expose support vars for convenience
support = Sizzle.support = {};

/**
 * Detects XML nodes
 * @param {Element|Object} elem An element or a document
 * @returns {Boolean} True iff elem is a non-HTML XML node
 */
isXML = Sizzle.isXML = function( elem ) {
	var namespace = elem && elem.namespaceURI,
		docElem = elem && ( elem.ownerDocument || elem ).documentElement;

	// Support: IE <=8
	// Assume HTML when documentElement doesn't yet exist, such as inside loading iframes
	// https://bugs.jquery.com/ticket/4833
	return !rhtml.test( namespace || docElem && docElem.nodeName || "HTML" );
};

/**
 * Sets document-related variables once based on the current document
 * @param {Element|Object} [doc] An element or document object to use to set the document
 * @returns {Object} Returns the current document
 */
setDocument = Sizzle.setDocument = function( node ) {
	var hasCompare, subWindow,
		doc = node ? node.ownerDocument || node : preferredDoc;

	// Return early if doc is invalid or already selected
	// Support: IE 11+, Edge 17 - 18+
	// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	// two documents; shallow comparisons work.
	// eslint-disable-next-line eqeqeq
	if ( doc == document || doc.nodeType !== 9 || !doc.documentElement ) {
		return document;
	}

	// Update global variables
	document = doc;
	docElem = document.documentElement;
	documentIsHTML = !isXML( document );

	// Support: IE 9 - 11+, Edge 12 - 18+
	// Accessing iframe documents after unload throws "permission denied" errors (jQuery #13936)
	// Support: IE 11+, Edge 17 - 18+
	// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	// two documents; shallow comparisons work.
	// eslint-disable-next-line eqeqeq
	if ( preferredDoc != document &&
		( subWindow = document.defaultView ) && subWindow.top !== subWindow ) {

		// Support: IE 11, Edge
		if ( subWindow.addEventListener ) {
			subWindow.addEventListener( "unload", unloadHandler, false );

		// Support: IE 9 - 10 only
		} else if ( subWindow.attachEvent ) {
			subWindow.attachEvent( "onunload", unloadHandler );
		}
	}

	// Support: IE 8 - 11+, Edge 12 - 18+, Chrome <=16 - 25 only, Firefox <=3.6 - 31 only,
	// Safari 4 - 5 only, Opera <=11.6 - 12.x only
	// IE/Edge & older browsers don't support the :scope pseudo-class.
	// Support: Safari 6.0 only
	// Safari 6.0 supports :scope but it's an alias of :root there.
	support.scope = assert( function( el ) {
		docElem.appendChild( el ).appendChild( document.createElement( "div" ) );
		return typeof el.querySelectorAll !== "undefined" &&
			!el.querySelectorAll( ":scope fieldset div" ).length;
	} );

	/* Attributes
	---------------------------------------------------------------------- */

	// Support: IE<8
	// Verify that getAttribute really returns attributes and not properties
	// (excepting IE8 booleans)
	support.attributes = assert( function( el ) {
		el.className = "i";
		return !el.getAttribute( "className" );
	} );

	/* getElement(s)By*
	---------------------------------------------------------------------- */

	// Check if getElementsByTagName("*") returns only elements
	support.getElementsByTagName = assert( function( el ) {
		el.appendChild( document.createComment( "" ) );
		return !el.getElementsByTagName( "*" ).length;
	} );

	// Support: IE<9
	support.getElementsByClassName = rnative.test( document.getElementsByClassName );

	// Support: IE<10
	// Check if getElementById returns elements by name
	// The broken getElementById methods don't pick up programmatically-set names,
	// so use a roundabout getElementsByName test
	support.getById = assert( function( el ) {
		docElem.appendChild( el ).id = expando;
		return !document.getElementsByName || !document.getElementsByName( expando ).length;
	} );

	// ID filter and find
	if ( support.getById ) {
		Expr.filter[ "ID" ] = function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				return elem.getAttribute( "id" ) === attrId;
			};
		};
		Expr.find[ "ID" ] = function( id, context ) {
			if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {
				var elem = context.getElementById( id );
				return elem ? [ elem ] : [];
			}
		};
	} else {
		Expr.filter[ "ID" ] =  function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				var node = typeof elem.getAttributeNode !== "undefined" &&
					elem.getAttributeNode( "id" );
				return node && node.value === attrId;
			};
		};

		// Support: IE 6 - 7 only
		// getElementById is not reliable as a find shortcut
		Expr.find[ "ID" ] = function( id, context ) {
			if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {
				var node, i, elems,
					elem = context.getElementById( id );

				if ( elem ) {

					// Verify the id attribute
					node = elem.getAttributeNode( "id" );
					if ( node && node.value === id ) {
						return [ elem ];
					}

					// Fall back on getElementsByName
					elems = context.getElementsByName( id );
					i = 0;
					while ( ( elem = elems[ i++ ] ) ) {
						node = elem.getAttributeNode( "id" );
						if ( node && node.value === id ) {
							return [ elem ];
						}
					}
				}

				return [];
			}
		};
	}

	// Tag
	Expr.find[ "TAG" ] = support.getElementsByTagName ?
		function( tag, context ) {
			if ( typeof context.getElementsByTagName !== "undefined" ) {
				return context.getElementsByTagName( tag );

			// DocumentFragment nodes don't have gEBTN
			} else if ( support.qsa ) {
				return context.querySelectorAll( tag );
			}
		} :

		function( tag, context ) {
			var elem,
				tmp = [],
				i = 0,

				// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too
				results = context.getElementsByTagName( tag );

			// Filter out possible comments
			if ( tag === "*" ) {
				while ( ( elem = results[ i++ ] ) ) {
					if ( elem.nodeType === 1 ) {
						tmp.push( elem );
					}
				}

				return tmp;
			}
			return results;
		};

	// Class
	Expr.find[ "CLASS" ] = support.getElementsByClassName && function( className, context ) {
		if ( typeof context.getElementsByClassName !== "undefined" && documentIsHTML ) {
			return context.getElementsByClassName( className );
		}
	};

	/* QSA/matchesSelector
	---------------------------------------------------------------------- */

	// QSA and matchesSelector support

	// matchesSelector(:active) reports false when true (IE9/Opera 11.5)
	rbuggyMatches = [];

	// qSa(:focus) reports false when true (Chrome 21)
	// We allow this because of a bug in IE8/9 that throws an error
	// whenever `document.activeElement` is accessed on an iframe
	// So, we allow :focus to pass through QSA all the time to avoid the IE error
	// See https://bugs.jquery.com/ticket/13378
	rbuggyQSA = [];

	if ( ( support.qsa = rnative.test( document.querySelectorAll ) ) ) {

		// Build QSA regex
		// Regex strategy adopted from Diego Perini
		assert( function( el ) {

			var input;

			// Select is set to empty string on purpose
			// This is to test IE's treatment of not explicitly
			// setting a boolean content attribute,
			// since its presence should be enough
			// https://bugs.jquery.com/ticket/12359
			docElem.appendChild( el ).innerHTML = "<a id='" + expando + "'></a>" +
				"<select id='" + expando + "-\r\\' msallowcapture=''>" +
				"<option selected=''></option></select>";

			// Support: IE8, Opera 11-12.16
			// Nothing should be selected when empty strings follow ^= or $= or *=
			// The test attribute must be unknown in Opera but "safe" for WinRT
			// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section
			if ( el.querySelectorAll( "[msallowcapture^='']" ).length ) {
				rbuggyQSA.push( "[*^$]=" + whitespace + "*(?:''|\"\")" );
			}

			// Support: IE8
			// Boolean attributes and "value" are not treated correctly
			if ( !el.querySelectorAll( "[selected]" ).length ) {
				rbuggyQSA.push( "\\[" + whitespace + "*(?:value|" + booleans + ")" );
			}

			// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+
			if ( !el.querySelectorAll( "[id~=" + expando + "-]" ).length ) {
				rbuggyQSA.push( "~=" );
			}

			// Support: IE 11+, Edge 15 - 18+
			// IE 11/Edge don't find elements on a `[name='']` query in some cases.
			// Adding a temporary attribute to the document before the selection works
			// around the issue.
			// Interestingly, IE 10 & older don't seem to have the issue.
			input = document.createElement( "input" );
			input.setAttribute( "name", "" );
			el.appendChild( input );
			if ( !el.querySelectorAll( "[name='']" ).length ) {
				rbuggyQSA.push( "\\[" + whitespace + "*name" + whitespace + "*=" +
					whitespace + "*(?:''|\"\")" );
			}

			// Webkit/Opera - :checked should return selected option elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			// IE8 throws error here and will not see later tests
			if ( !el.querySelectorAll( ":checked" ).length ) {
				rbuggyQSA.push( ":checked" );
			}

			// Support: Safari 8+, iOS 8+
			// https://bugs.webkit.org/show_bug.cgi?id=136851
			// In-page `selector#id sibling-combinator selector` fails
			if ( !el.querySelectorAll( "a#" + expando + "+*" ).length ) {
				rbuggyQSA.push( ".#.+[+~]" );
			}

			// Support: Firefox <=3.6 - 5 only
			// Old Firefox doesn't throw on a badly-escaped identifier.
			el.querySelectorAll( "\\\f" );
			rbuggyQSA.push( "[\\r\\n\\f]" );
		} );

		assert( function( el ) {
			el.innerHTML = "<a href='' disabled='disabled'></a>" +
				"<select disabled='disabled'><option/></select>";

			// Support: Windows 8 Native Apps
			// The type and name attributes are restricted during .innerHTML assignment
			var input = document.createElement( "input" );
			input.setAttribute( "type", "hidden" );
			el.appendChild( input ).setAttribute( "name", "D" );

			// Support: IE8
			// Enforce case-sensitivity of name attribute
			if ( el.querySelectorAll( "[name=d]" ).length ) {
				rbuggyQSA.push( "name" + whitespace + "*[*^$|!~]?=" );
			}

			// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)
			// IE8 throws error here and will not see later tests
			if ( el.querySelectorAll( ":enabled" ).length !== 2 ) {
				rbuggyQSA.push( ":enabled", ":disabled" );
			}

			// Support: IE9-11+
			// IE's :disabled selector does not pick up the children of disabled fieldsets
			docElem.appendChild( el ).disabled = true;
			if ( el.querySelectorAll( ":disabled" ).length !== 2 ) {
				rbuggyQSA.push( ":enabled", ":disabled" );
			}

			// Support: Opera 10 - 11 only
			// Opera 10-11 does not throw on post-comma invalid pseudos
			el.querySelectorAll( "*,:x" );
			rbuggyQSA.push( ",.*:" );
		} );
	}

	if ( ( support.matchesSelector = rnative.test( ( matches = docElem.matches ||
		docElem.webkitMatchesSelector ||
		docElem.mozMatchesSelector ||
		docElem.oMatchesSelector ||
		docElem.msMatchesSelector ) ) ) ) {

		assert( function( el ) {

			// Check to see if it's possible to do matchesSelector
			// on a disconnected node (IE 9)
			support.disconnectedMatch = matches.call( el, "*" );

			// This should fail with an exception
			// Gecko does not error, returns false instead
			matches.call( el, "[s!='']:x" );
			rbuggyMatches.push( "!=", pseudos );
		} );
	}

	rbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join( "|" ) );
	rbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join( "|" ) );

	/* Contains
	---------------------------------------------------------------------- */
	hasCompare = rnative.test( docElem.compareDocumentPosition );

	// Element contains another
	// Purposefully self-exclusive
	// As in, an element does not contain itself
	contains = hasCompare || rnative.test( docElem.contains ) ?
		function( a, b ) {
			var adown = a.nodeType === 9 ? a.documentElement : a,
				bup = b && b.parentNode;
			return a === bup || !!( bup && bup.nodeType === 1 && (
				adown.contains ?
					adown.contains( bup ) :
					a.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16
			) );
		} :
		function( a, b ) {
			if ( b ) {
				while ( ( b = b.parentNode ) ) {
					if ( b === a ) {
						return true;
					}
				}
			}
			return false;
		};

	/* Sorting
	---------------------------------------------------------------------- */

	// Document order sorting
	sortOrder = hasCompare ?
	function( a, b ) {

		// Flag for duplicate removal
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		// Sort on method existence if only one input has compareDocumentPosition
		var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
		if ( compare ) {
			return compare;
		}

		// Calculate position if both inputs belong to the same document
		// Support: IE 11+, Edge 17 - 18+
		// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
		// two documents; shallow comparisons work.
		// eslint-disable-next-line eqeqeq
		compare = ( a.ownerDocument || a ) == ( b.ownerDocument || b ) ?
			a.compareDocumentPosition( b ) :

			// Otherwise we know they are disconnected
			1;

		// Disconnected nodes
		if ( compare & 1 ||
			( !support.sortDetached && b.compareDocumentPosition( a ) === compare ) ) {

			// Choose the first element that is related to our preferred document
			// Support: IE 11+, Edge 17 - 18+
			// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
			// two documents; shallow comparisons work.
			// eslint-disable-next-line eqeqeq
			if ( a == document || a.ownerDocument == preferredDoc &&
				contains( preferredDoc, a ) ) {
				return -1;
			}

			// Support: IE 11+, Edge 17 - 18+
			// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
			// two documents; shallow comparisons work.
			// eslint-disable-next-line eqeqeq
			if ( b == document || b.ownerDocument == preferredDoc &&
				contains( preferredDoc, b ) ) {
				return 1;
			}

			// Maintain original order
			return sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;
		}

		return compare & 4 ? -1 : 1;
	} :
	function( a, b ) {

		// Exit early if the nodes are identical
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		var cur,
			i = 0,
			aup = a.parentNode,
			bup = b.parentNode,
			ap = [ a ],
			bp = [ b ];

		// Parentless nodes are either documents or disconnected
		if ( !aup || !bup ) {

			// Support: IE 11+, Edge 17 - 18+
			// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
			// two documents; shallow comparisons work.
			/* eslint-disable eqeqeq */
			return a == document ? -1 :
				b == document ? 1 :
				/* eslint-enable eqeqeq */
				aup ? -1 :
				bup ? 1 :
				sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;

		// If the nodes are siblings, we can do a quick check
		} else if ( aup === bup ) {
			return siblingCheck( a, b );
		}

		// Otherwise we need full lists of their ancestors for comparison
		cur = a;
		while ( ( cur = cur.parentNode ) ) {
			ap.unshift( cur );
		}
		cur = b;
		while ( ( cur = cur.parentNode ) ) {
			bp.unshift( cur );
		}

		// Walk down the tree looking for a discrepancy
		while ( ap[ i ] === bp[ i ] ) {
			i++;
		}

		return i ?

			// Do a sibling check if the nodes have a common ancestor
			siblingCheck( ap[ i ], bp[ i ] ) :

			// Otherwise nodes in our document sort first
			// Support: IE 11+, Edge 17 - 18+
			// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
			// two documents; shallow comparisons work.
			/* eslint-disable eqeqeq */
			ap[ i ] == preferredDoc ? -1 :
			bp[ i ] == preferredDoc ? 1 :
			/* eslint-enable eqeqeq */
			0;
	};

	return document;
};

Sizzle.matches = function( expr, elements ) {
	return Sizzle( expr, null, null, elements );
};

Sizzle.matchesSelector = function( elem, expr ) {
	setDocument( elem );

	if ( support.matchesSelector && documentIsHTML &&
		!nonnativeSelectorCache[ expr + " " ] &&
		( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&
		( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {

		try {
			var ret = matches.call( elem, expr );

			// IE 9's matchesSelector returns false on disconnected nodes
			if ( ret || support.disconnectedMatch ||

				// As well, disconnected nodes are said to be in a document
				// fragment in IE 9
				elem.document && elem.document.nodeType !== 11 ) {
				return ret;
			}
		} catch ( e ) {
			nonnativeSelectorCache( expr, true );
		}
	}

	return Sizzle( expr, document, null, [ elem ] ).length > 0;
};

Sizzle.contains = function( context, elem ) {

	// Set document vars if needed
	// Support: IE 11+, Edge 17 - 18+
	// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	// two documents; shallow comparisons work.
	// eslint-disable-next-line eqeqeq
	if ( ( context.ownerDocument || context ) != document ) {
		setDocument( context );
	}
	return contains( context, elem );
};

Sizzle.attr = function( elem, name ) {

	// Set document vars if needed
	// Support: IE 11+, Edge 17 - 18+
	// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	// two documents; shallow comparisons work.
	// eslint-disable-next-line eqeqeq
	if ( ( elem.ownerDocument || elem ) != document ) {
		setDocument( elem );
	}

	var fn = Expr.attrHandle[ name.toLowerCase() ],

		// Don't get fooled by Object.prototype properties (jQuery #13807)
		val = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?
			fn( elem, name, !documentIsHTML ) :
			undefined;

	return val !== undefined ?
		val :
		support.attributes || !documentIsHTML ?
			elem.getAttribute( name ) :
			( val = elem.getAttributeNode( name ) ) && val.specified ?
				val.value :
				null;
};

Sizzle.escape = function( sel ) {
	return ( sel + "" ).replace( rcssescape, fcssescape );
};

Sizzle.error = function( msg ) {
	throw new Error( "Syntax error, unrecognized expression: " + msg );
};

/**
 * Document sorting and removing duplicates
 * @param {ArrayLike} results
 */
Sizzle.uniqueSort = function( results ) {
	var elem,
		duplicates = [],
		j = 0,
		i = 0;

	// Unless we *know* we can detect duplicates, assume their presence
	hasDuplicate = !support.detectDuplicates;
	sortInput = !support.sortStable && results.slice( 0 );
	results.sort( sortOrder );

	if ( hasDuplicate ) {
		while ( ( elem = results[ i++ ] ) ) {
			if ( elem === results[ i ] ) {
				j = duplicates.push( i );
			}
		}
		while ( j-- ) {
			results.splice( duplicates[ j ], 1 );
		}
	}

	// Clear input after sorting to release objects
	// See https://github.com/jquery/sizzle/pull/225
	sortInput = null;

	return results;
};

/**
 * Utility function for retrieving the text value of an array of DOM nodes
 * @param {Array|Element} elem
 */
getText = Sizzle.getText = function( elem ) {
	var node,
		ret = "",
		i = 0,
		nodeType = elem.nodeType;

	if ( !nodeType ) {

		// If no nodeType, this is expected to be an array
		while ( ( node = elem[ i++ ] ) ) {

			// Do not traverse comment nodes
			ret += getText( node );
		}
	} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {

		// Use textContent for elements
		// innerText usage removed for consistency of new lines (jQuery #11153)
		if ( typeof elem.textContent === "string" ) {
			return elem.textContent;
		} else {

			// Traverse its children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				ret += getText( elem );
			}
		}
	} else if ( nodeType === 3 || nodeType === 4 ) {
		return elem.nodeValue;
	}

	// Do not include comment or processing instruction nodes

	return ret;
};

Expr = Sizzle.selectors = {

	// Can be adjusted by the user
	cacheLength: 50,

	createPseudo: markFunction,

	match: matchExpr,

	attrHandle: {},

	find: {},

	relative: {
		">": { dir: "parentNode", first: true },
		" ": { dir: "parentNode" },
		"+": { dir: "previousSibling", first: true },
		"~": { dir: "previousSibling" }
	},

	preFilter: {
		"ATTR": function( match ) {
			match[ 1 ] = match[ 1 ].replace( runescape, funescape );

			// Move the given value to match[3] whether quoted or unquoted
			match[ 3 ] = ( match[ 3 ] || match[ 4 ] ||
				match[ 5 ] || "" ).replace( runescape, funescape );

			if ( match[ 2 ] === "~=" ) {
				match[ 3 ] = " " + match[ 3 ] + " ";
			}

			return match.slice( 0, 4 );
		},

		"CHILD": function( match ) {

			/* matches from matchExpr["CHILD"]
				1 type (only|nth|...)
				2 what (child|of-type)
				3 argument (even|odd|\d*|\d*n([+-]\d+)?|...)
				4 xn-component of xn+y argument ([+-]?\d*n|)
				5 sign of xn-component
				6 x of xn-component
				7 sign of y-component
				8 y of y-component
			*/
			match[ 1 ] = match[ 1 ].toLowerCase();

			if ( match[ 1 ].slice( 0, 3 ) === "nth" ) {

				// nth-* requires argument
				if ( !match[ 3 ] ) {
					Sizzle.error( match[ 0 ] );
				}

				// numeric x and y parameters for Expr.filter.CHILD
				// remember that false/true cast respectively to 0/1
				match[ 4 ] = +( match[ 4 ] ?
					match[ 5 ] + ( match[ 6 ] || 1 ) :
					2 * ( match[ 3 ] === "even" || match[ 3 ] === "odd" ) );
				match[ 5 ] = +( ( match[ 7 ] + match[ 8 ] ) || match[ 3 ] === "odd" );

				// other types prohibit arguments
			} else if ( match[ 3 ] ) {
				Sizzle.error( match[ 0 ] );
			}

			return match;
		},

		"PSEUDO": function( match ) {
			var excess,
				unquoted = !match[ 6 ] && match[ 2 ];

			if ( matchExpr[ "CHILD" ].test( match[ 0 ] ) ) {
				return null;
			}

			// Accept quoted arguments as-is
			if ( match[ 3 ] ) {
				match[ 2 ] = match[ 4 ] || match[ 5 ] || "";

			// Strip excess characters from unquoted arguments
			} else if ( unquoted && rpseudo.test( unquoted ) &&

				// Get excess from tokenize (recursively)
				( excess = tokenize( unquoted, true ) ) &&

				// advance to the next closing parenthesis
				( excess = unquoted.indexOf( ")", unquoted.length - excess ) - unquoted.length ) ) {

				// excess is a negative index
				match[ 0 ] = match[ 0 ].slice( 0, excess );
				match[ 2 ] = unquoted.slice( 0, excess );
			}

			// Return only captures needed by the pseudo filter method (type and argument)
			return match.slice( 0, 3 );
		}
	},

	filter: {

		"TAG": function( nodeNameSelector ) {
			var nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();
			return nodeNameSelector === "*" ?
				function() {
					return true;
				} :
				function( elem ) {
					return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
				};
		},

		"CLASS": function( className ) {
			var pattern = classCache[ className + " " ];

			return pattern ||
				( pattern = new RegExp( "(^|" + whitespace +
					")" + className + "(" + whitespace + "|$)" ) ) && classCache(
						className, function( elem ) {
							return pattern.test(
								typeof elem.className === "string" && elem.className ||
								typeof elem.getAttribute !== "undefined" &&
									elem.getAttribute( "class" ) ||
								""
							);
				} );
		},

		"ATTR": function( name, operator, check ) {
			return function( elem ) {
				var result = Sizzle.attr( elem, name );

				if ( result == null ) {
					return operator === "!=";
				}
				if ( !operator ) {
					return true;
				}

				result += "";

				/* eslint-disable max-len */

				return operator === "=" ? result === check :
					operator === "!=" ? result !== check :
					operator === "^=" ? check && result.indexOf( check ) === 0 :
					operator === "*=" ? check && result.indexOf( check ) > -1 :
					operator === "$=" ? check && result.slice( -check.length ) === check :
					operator === "~=" ? ( " " + result.replace( rwhitespace, " " ) + " " ).indexOf( check ) > -1 :
					operator === "|=" ? result === check || result.slice( 0, check.length + 1 ) === check + "-" :
					false;
				/* eslint-enable max-len */

			};
		},

		"CHILD": function( type, what, _argument, first, last ) {
			var simple = type.slice( 0, 3 ) !== "nth",
				forward = type.slice( -4 ) !== "last",
				ofType = what === "of-type";

			return first === 1 && last === 0 ?

				// Shortcut for :nth-*(n)
				function( elem ) {
					return !!elem.parentNode;
				} :

				function( elem, _context, xml ) {
					var cache, uniqueCache, outerCache, node, nodeIndex, start,
						dir = simple !== forward ? "nextSibling" : "previousSibling",
						parent = elem.parentNode,
						name = ofType && elem.nodeName.toLowerCase(),
						useCache = !xml && !ofType,
						diff = false;

					if ( parent ) {

						// :(first|last|only)-(child|of-type)
						if ( simple ) {
							while ( dir ) {
								node = elem;
								while ( ( node = node[ dir ] ) ) {
									if ( ofType ?
										node.nodeName.toLowerCase() === name :
										node.nodeType === 1 ) {

										return false;
									}
								}

								// Reverse direction for :only-* (if we haven't yet done so)
								start = dir = type === "only" && !start && "nextSibling";
							}
							return true;
						}

						start = [ forward ? parent.firstChild : parent.lastChild ];

						// non-xml :nth-child(...) stores cache data on `parent`
						if ( forward && useCache ) {

							// Seek `elem` from a previously-cached index

							// ...in a gzip-friendly way
							node = parent;
							outerCache = node[ expando ] || ( node[ expando ] = {} );

							// Support: IE <9 only
							// Defend against cloned attroperties (jQuery gh-1709)
							uniqueCache = outerCache[ node.uniqueID ] ||
								( outerCache[ node.uniqueID ] = {} );

							cache = uniqueCache[ type ] || [];
							nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];
							diff = nodeIndex && cache[ 2 ];
							node = nodeIndex && parent.childNodes[ nodeIndex ];

							while ( ( node = ++nodeIndex && node && node[ dir ] ||

								// Fallback to seeking `elem` from the start
								( diff = nodeIndex = 0 ) || start.pop() ) ) {

								// When found, cache indexes on `parent` and break
								if ( node.nodeType === 1 && ++diff && node === elem ) {
									uniqueCache[ type ] = [ dirruns, nodeIndex, diff ];
									break;
								}
							}

						} else {

							// Use previously-cached element index if available
							if ( useCache ) {

								// ...in a gzip-friendly way
								node = elem;
								outerCache = node[ expando ] || ( node[ expando ] = {} );

								// Support: IE <9 only
								// Defend against cloned attroperties (jQuery gh-1709)
								uniqueCache = outerCache[ node.uniqueID ] ||
									( outerCache[ node.uniqueID ] = {} );

								cache = uniqueCache[ type ] || [];
								nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];
								diff = nodeIndex;
							}

							// xml :nth-child(...)
							// or :nth-last-child(...) or :nth(-last)?-of-type(...)
							if ( diff === false ) {

								// Use the same loop as above to seek `elem` from the start
								while ( ( node = ++nodeIndex && node && node[ dir ] ||
									( diff = nodeIndex = 0 ) || start.pop() ) ) {

									if ( ( ofType ?
										node.nodeName.toLowerCase() === name :
										node.nodeType === 1 ) &&
										++diff ) {

										// Cache the index of each encountered element
										if ( useCache ) {
											outerCache = node[ expando ] ||
												( node[ expando ] = {} );

											// Support: IE <9 only
											// Defend against cloned attroperties (jQuery gh-1709)
											uniqueCache = outerCache[ node.uniqueID ] ||
												( outerCache[ node.uniqueID ] = {} );

											uniqueCache[ type ] = [ dirruns, diff ];
										}

										if ( node === elem ) {
											break;
										}
									}
								}
							}
						}

						// Incorporate the offset, then check against cycle size
						diff -= last;
						return diff === first || ( diff % first === 0 && diff / first >= 0 );
					}
				};
		},

		"PSEUDO": function( pseudo, argument ) {

			// pseudo-class names are case-insensitive
			// http://www.w3.org/TR/selectors/#pseudo-classes
			// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters
			// Remember that setFilters inherits from pseudos
			var args,
				fn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||
					Sizzle.error( "unsupported pseudo: " + pseudo );

			// The user may use createPseudo to indicate that
			// arguments are needed to create the filter function
			// just as Sizzle does
			if ( fn[ expando ] ) {
				return fn( argument );
			}

			// But maintain support for old signatures
			if ( fn.length > 1 ) {
				args = [ pseudo, pseudo, "", argument ];
				return Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?
					markFunction( function( seed, matches ) {
						var idx,
							matched = fn( seed, argument ),
							i = matched.length;
						while ( i-- ) {
							idx = indexOf( seed, matched[ i ] );
							seed[ idx ] = !( matches[ idx ] = matched[ i ] );
						}
					} ) :
					function( elem ) {
						return fn( elem, 0, args );
					};
			}

			return fn;
		}
	},

	pseudos: {

		// Potentially complex pseudos
		"not": markFunction( function( selector ) {

			// Trim the selector passed to compile
			// to avoid treating leading and trailing
			// spaces as combinators
			var input = [],
				results = [],
				matcher = compile( selector.replace( rtrim, "$1" ) );

			return matcher[ expando ] ?
				markFunction( function( seed, matches, _context, xml ) {
					var elem,
						unmatched = matcher( seed, null, xml, [] ),
						i = seed.length;

					// Match elements unmatched by `matcher`
					while ( i-- ) {
						if ( ( elem = unmatched[ i ] ) ) {
							seed[ i ] = !( matches[ i ] = elem );
						}
					}
				} ) :
				function( elem, _context, xml ) {
					input[ 0 ] = elem;
					matcher( input, null, xml, results );

					// Don't keep the element (issue #299)
					input[ 0 ] = null;
					return !results.pop();
				};
		} ),

		"has": markFunction( function( selector ) {
			return function( elem ) {
				return Sizzle( selector, elem ).length > 0;
			};
		} ),

		"contains": markFunction( function( text ) {
			text = text.replace( runescape, funescape );
			return function( elem ) {
				return ( elem.textContent || getText( elem ) ).indexOf( text ) > -1;
			};
		} ),

		// "Whether an element is represented by a :lang() selector
		// is based solely on the element's language value
		// being equal to the identifier C,
		// or beginning with the identifier C immediately followed by "-".
		// The matching of C against the element's language value is performed case-insensitively.
		// The identifier C does not have to be a valid language name."
		// http://www.w3.org/TR/selectors/#lang-pseudo
		"lang": markFunction( function( lang ) {

			// lang value must be a valid identifier
			if ( !ridentifier.test( lang || "" ) ) {
				Sizzle.error( "unsupported lang: " + lang );
			}
			lang = lang.replace( runescape, funescape ).toLowerCase();
			return function( elem ) {
				var elemLang;
				do {
					if ( ( elemLang = documentIsHTML ?
						elem.lang :
						elem.getAttribute( "xml:lang" ) || elem.getAttribute( "lang" ) ) ) {

						elemLang = elemLang.toLowerCase();
						return elemLang === lang || elemLang.indexOf( lang + "-" ) === 0;
					}
				} while ( ( elem = elem.parentNode ) && elem.nodeType === 1 );
				return false;
			};
		} ),

		// Miscellaneous
		"target": function( elem ) {
			var hash = window.location && window.location.hash;
			return hash && hash.slice( 1 ) === elem.id;
		},

		"root": function( elem ) {
			return elem === docElem;
		},

		"focus": function( elem ) {
			return elem === document.activeElement &&
				( !document.hasFocus || document.hasFocus() ) &&
				!!( elem.type || elem.href || ~elem.tabIndex );
		},

		// Boolean properties
		"enabled": createDisabledPseudo( false ),
		"disabled": createDisabledPseudo( true ),

		"checked": function( elem ) {

			// In CSS3, :checked should return both checked and selected elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			var nodeName = elem.nodeName.toLowerCase();
			return ( nodeName === "input" && !!elem.checked ) ||
				( nodeName === "option" && !!elem.selected );
		},

		"selected": function( elem ) {

			// Accessing this property makes selected-by-default
			// options in Safari work properly
			if ( elem.parentNode ) {
				// eslint-disable-next-line no-unused-expressions
				elem.parentNode.selectedIndex;
			}

			return elem.selected === true;
		},

		// Contents
		"empty": function( elem ) {

			// http://www.w3.org/TR/selectors/#empty-pseudo
			// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),
			//   but not by others (comment: 8; processing instruction: 7; etc.)
			// nodeType < 6 works because attributes (2) do not appear as children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				if ( elem.nodeType < 6 ) {
					return false;
				}
			}
			return true;
		},

		"parent": function( elem ) {
			return !Expr.pseudos[ "empty" ]( elem );
		},

		// Element/input types
		"header": function( elem ) {
			return rheader.test( elem.nodeName );
		},

		"input": function( elem ) {
			return rinputs.test( elem.nodeName );
		},

		"button": function( elem ) {
			var name = elem.nodeName.toLowerCase();
			return name === "input" && elem.type === "button" || name === "button";
		},

		"text": function( elem ) {
			var attr;
			return elem.nodeName.toLowerCase() === "input" &&
				elem.type === "text" &&

				// Support: IE<8
				// New HTML5 attribute values (e.g., "search") appear with elem.type === "text"
				( ( attr = elem.getAttribute( "type" ) ) == null ||
					attr.toLowerCase() === "text" );
		},

		// Position-in-collection
		"first": createPositionalPseudo( function() {
			return [ 0 ];
		} ),

		"last": createPositionalPseudo( function( _matchIndexes, length ) {
			return [ length - 1 ];
		} ),

		"eq": createPositionalPseudo( function( _matchIndexes, length, argument ) {
			return [ argument < 0 ? argument + length : argument ];
		} ),

		"even": createPositionalPseudo( function( matchIndexes, length ) {
			var i = 0;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} ),

		"odd": createPositionalPseudo( function( matchIndexes, length ) {
			var i = 1;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} ),

		"lt": createPositionalPseudo( function( matchIndexes, length, argument ) {
			var i = argument < 0 ?
				argument + length :
				argument > length ?
					length :
					argument;
			for ( ; --i >= 0; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} ),

		"gt": createPositionalPseudo( function( matchIndexes, length, argument ) {
			var i = argument < 0 ? argument + length : argument;
			for ( ; ++i < length; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} )
	}
};

Expr.pseudos[ "nth" ] = Expr.pseudos[ "eq" ];

// Add button/input type pseudos
for ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {
	Expr.pseudos[ i ] = createInputPseudo( i );
}
for ( i in { submit: true, reset: true } ) {
	Expr.pseudos[ i ] = createButtonPseudo( i );
}

// Easy API for creating new setFilters
function setFilters() {}
setFilters.prototype = Expr.filters = Expr.pseudos;
Expr.setFilters = new setFilters();

tokenize = Sizzle.tokenize = function( selector, parseOnly ) {
	var matched, match, tokens, type,
		soFar, groups, preFilters,
		cached = tokenCache[ selector + " " ];

	if ( cached ) {
		return parseOnly ? 0 : cached.slice( 0 );
	}

	soFar = selector;
	groups = [];
	preFilters = Expr.preFilter;

	while ( soFar ) {

		// Comma and first run
		if ( !matched || ( match = rcomma.exec( soFar ) ) ) {
			if ( match ) {

				// Don't consume trailing commas as valid
				soFar = soFar.slice( match[ 0 ].length ) || soFar;
			}
			groups.push( ( tokens = [] ) );
		}

		matched = false;

		// Combinators
		if ( ( match = rcombinators.exec( soFar ) ) ) {
			matched = match.shift();
			tokens.push( {
				value: matched,

				// Cast descendant combinators to space
				type: match[ 0 ].replace( rtrim, " " )
			} );
			soFar = soFar.slice( matched.length );
		}

		// Filters
		for ( type in Expr.filter ) {
			if ( ( match = matchExpr[ type ].exec( soFar ) ) && ( !preFilters[ type ] ||
				( match = preFilters[ type ]( match ) ) ) ) {
				matched = match.shift();
				tokens.push( {
					value: matched,
					type: type,
					matches: match
				} );
				soFar = soFar.slice( matched.length );
			}
		}

		if ( !matched ) {
			break;
		}
	}

	// Return the length of the invalid excess
	// if we're just parsing
	// Otherwise, throw an error or return tokens
	return parseOnly ?
		soFar.length :
		soFar ?
			Sizzle.error( selector ) :

			// Cache the tokens
			tokenCache( selector, groups ).slice( 0 );
};

function toSelector( tokens ) {
	var i = 0,
		len = tokens.length,
		selector = "";
	for ( ; i < len; i++ ) {
		selector += tokens[ i ].value;
	}
	return selector;
}

function addCombinator( matcher, combinator, base ) {
	var dir = combinator.dir,
		skip = combinator.next,
		key = skip || dir,
		checkNonElements = base && key === "parentNode",
		doneName = done++;

	return combinator.first ?

		// Check against closest ancestor/preceding element
		function( elem, context, xml ) {
			while ( ( elem = elem[ dir ] ) ) {
				if ( elem.nodeType === 1 || checkNonElements ) {
					return matcher( elem, context, xml );
				}
			}
			return false;
		} :

		// Check against all ancestor/preceding elements
		function( elem, context, xml ) {
			var oldCache, uniqueCache, outerCache,
				newCache = [ dirruns, doneName ];

			// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching
			if ( xml ) {
				while ( ( elem = elem[ dir ] ) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						if ( matcher( elem, context, xml ) ) {
							return true;
						}
					}
				}
			} else {
				while ( ( elem = elem[ dir ] ) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						outerCache = elem[ expando ] || ( elem[ expando ] = {} );

						// Support: IE <9 only
						// Defend against cloned attroperties (jQuery gh-1709)
						uniqueCache = outerCache[ elem.uniqueID ] ||
							( outerCache[ elem.uniqueID ] = {} );

						if ( skip && skip === elem.nodeName.toLowerCase() ) {
							elem = elem[ dir ] || elem;
						} else if ( ( oldCache = uniqueCache[ key ] ) &&
							oldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {

							// Assign to newCache so results back-propagate to previous elements
							return ( newCache[ 2 ] = oldCache[ 2 ] );
						} else {

							// Reuse newcache so results back-propagate to previous elements
							uniqueCache[ key ] = newCache;

							// A match means we're done; a fail means we have to keep checking
							if ( ( newCache[ 2 ] = matcher( elem, context, xml ) ) ) {
								return true;
							}
						}
					}
				}
			}
			return false;
		};
}

function elementMatcher( matchers ) {
	return matchers.length > 1 ?
		function( elem, context, xml ) {
			var i = matchers.length;
			while ( i-- ) {
				if ( !matchers[ i ]( elem, context, xml ) ) {
					return false;
				}
			}
			return true;
		} :
		matchers[ 0 ];
}

function multipleContexts( selector, contexts, results ) {
	var i = 0,
		len = contexts.length;
	for ( ; i < len; i++ ) {
		Sizzle( selector, contexts[ i ], results );
	}
	return results;
}

function condense( unmatched, map, filter, context, xml ) {
	var elem,
		newUnmatched = [],
		i = 0,
		len = unmatched.length,
		mapped = map != null;

	for ( ; i < len; i++ ) {
		if ( ( elem = unmatched[ i ] ) ) {
			if ( !filter || filter( elem, context, xml ) ) {
				newUnmatched.push( elem );
				if ( mapped ) {
					map.push( i );
				}
			}
		}
	}

	return newUnmatched;
}

function setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {
	if ( postFilter && !postFilter[ expando ] ) {
		postFilter = setMatcher( postFilter );
	}
	if ( postFinder && !postFinder[ expando ] ) {
		postFinder = setMatcher( postFinder, postSelector );
	}
	return markFunction( function( seed, results, context, xml ) {
		var temp, i, elem,
			preMap = [],
			postMap = [],
			preexisting = results.length,

			// Get initial elements from seed or context
			elems = seed || multipleContexts(
				selector || "*",
				context.nodeType ? [ context ] : context,
				[]
			),

			// Prefilter to get matcher input, preserving a map for seed-results synchronization
			matcherIn = preFilter && ( seed || !selector ) ?
				condense( elems, preMap, preFilter, context, xml ) :
				elems,

			matcherOut = matcher ?

				// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,
				postFinder || ( seed ? preFilter : preexisting || postFilter ) ?

					// ...intermediate processing is necessary
					[] :

					// ...otherwise use results directly
					results :
				matcherIn;

		// Find primary matches
		if ( matcher ) {
			matcher( matcherIn, matcherOut, context, xml );
		}

		// Apply postFilter
		if ( postFilter ) {
			temp = condense( matcherOut, postMap );
			postFilter( temp, [], context, xml );

			// Un-match failing elements by moving them back to matcherIn
			i = temp.length;
			while ( i-- ) {
				if ( ( elem = temp[ i ] ) ) {
					matcherOut[ postMap[ i ] ] = !( matcherIn[ postMap[ i ] ] = elem );
				}
			}
		}

		if ( seed ) {
			if ( postFinder || preFilter ) {
				if ( postFinder ) {

					// Get the final matcherOut by condensing this intermediate into postFinder contexts
					temp = [];
					i = matcherOut.length;
					while ( i-- ) {
						if ( ( elem = matcherOut[ i ] ) ) {

							// Restore matcherIn since elem is not yet a final match
							temp.push( ( matcherIn[ i ] = elem ) );
						}
					}
					postFinder( null, ( matcherOut = [] ), temp, xml );
				}

				// Move matched elements from seed to results to keep them synchronized
				i = matcherOut.length;
				while ( i-- ) {
					if ( ( elem = matcherOut[ i ] ) &&
						( temp = postFinder ? indexOf( seed, elem ) : preMap[ i ] ) > -1 ) {

						seed[ temp ] = !( results[ temp ] = elem );
					}
				}
			}

		// Add elements to results, through postFinder if defined
		} else {
			matcherOut = condense(
				matcherOut === results ?
					matcherOut.splice( preexisting, matcherOut.length ) :
					matcherOut
			);
			if ( postFinder ) {
				postFinder( null, results, matcherOut, xml );
			} else {
				push.apply( results, matcherOut );
			}
		}
	} );
}

function matcherFromTokens( tokens ) {
	var checkContext, matcher, j,
		len = tokens.length,
		leadingRelative = Expr.relative[ tokens[ 0 ].type ],
		implicitRelative = leadingRelative || Expr.relative[ " " ],
		i = leadingRelative ? 1 : 0,

		// The foundational matcher ensures that elements are reachable from top-level context(s)
		matchContext = addCombinator( function( elem ) {
			return elem === checkContext;
		}, implicitRelative, true ),
		matchAnyContext = addCombinator( function( elem ) {
			return indexOf( checkContext, elem ) > -1;
		}, implicitRelative, true ),
		matchers = [ function( elem, context, xml ) {
			var ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (
				( checkContext = context ).nodeType ?
					matchContext( elem, context, xml ) :
					matchAnyContext( elem, context, xml ) );

			// Avoid hanging onto element (issue #299)
			checkContext = null;
			return ret;
		} ];

	for ( ; i < len; i++ ) {
		if ( ( matcher = Expr.relative[ tokens[ i ].type ] ) ) {
			matchers = [ addCombinator( elementMatcher( matchers ), matcher ) ];
		} else {
			matcher = Expr.filter[ tokens[ i ].type ].apply( null, tokens[ i ].matches );

			// Return special upon seeing a positional matcher
			if ( matcher[ expando ] ) {

				// Find the next relative operator (if any) for proper handling
				j = ++i;
				for ( ; j < len; j++ ) {
					if ( Expr.relative[ tokens[ j ].type ] ) {
						break;
					}
				}
				return setMatcher(
					i > 1 && elementMatcher( matchers ),
					i > 1 && toSelector(

					// If the preceding token was a descendant combinator, insert an implicit any-element `*`
					tokens
						.slice( 0, i - 1 )
						.concat( { value: tokens[ i - 2 ].type === " " ? "*" : "" } )
					).replace( rtrim, "$1" ),
					matcher,
					i < j && matcherFromTokens( tokens.slice( i, j ) ),
					j < len && matcherFromTokens( ( tokens = tokens.slice( j ) ) ),
					j < len && toSelector( tokens )
				);
			}
			matchers.push( matcher );
		}
	}

	return elementMatcher( matchers );
}

function matcherFromGroupMatchers( elementMatchers, setMatchers ) {
	var bySet = setMatchers.length > 0,
		byElement = elementMatchers.length > 0,
		superMatcher = function( seed, context, xml, results, outermost ) {
			var elem, j, matcher,
				matchedCount = 0,
				i = "0",
				unmatched = seed && [],
				setMatched = [],
				contextBackup = outermostContext,

				// We must always have either seed elements or outermost context
				elems = seed || byElement && Expr.find[ "TAG" ]( "*", outermost ),

				// Use integer dirruns iff this is the outermost matcher
				dirrunsUnique = ( dirruns += contextBackup == null ? 1 : Math.random() || 0.1 ),
				len = elems.length;

			if ( outermost ) {

				// Support: IE 11+, Edge 17 - 18+
				// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
				// two documents; shallow comparisons work.
				// eslint-disable-next-line eqeqeq
				outermostContext = context == document || context || outermost;
			}

			// Add elements passing elementMatchers directly to results
			// Support: IE<9, Safari
			// Tolerate NodeList properties (IE: "length"; Safari: <number>) matching elements by id
			for ( ; i !== len && ( elem = elems[ i ] ) != null; i++ ) {
				if ( byElement && elem ) {
					j = 0;

					// Support: IE 11+, Edge 17 - 18+
					// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
					// two documents; shallow comparisons work.
					// eslint-disable-next-line eqeqeq
					if ( !context && elem.ownerDocument != document ) {
						setDocument( elem );
						xml = !documentIsHTML;
					}
					while ( ( matcher = elementMatchers[ j++ ] ) ) {
						if ( matcher( elem, context || document, xml ) ) {
							results.push( elem );
							break;
						}
					}
					if ( outermost ) {
						dirruns = dirrunsUnique;
					}
				}

				// Track unmatched elements for set filters
				if ( bySet ) {

					// They will have gone through all possible matchers
					if ( ( elem = !matcher && elem ) ) {
						matchedCount--;
					}

					// Lengthen the array for every element, matched or not
					if ( seed ) {
						unmatched.push( elem );
					}
				}
			}

			// `i` is now the count of elements visited above, and adding it to `matchedCount`
			// makes the latter nonnegative.
			matchedCount += i;

			// Apply set filters to unmatched elements
			// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`
			// equals `i`), unless we didn't visit _any_ elements in the above loop because we have
			// no element matchers and no seed.
			// Incrementing an initially-string "0" `i` allows `i` to remain a string only in that
			// case, which will result in a "00" `matchedCount` that differs from `i` but is also
			// numerically zero.
			if ( bySet && i !== matchedCount ) {
				j = 0;
				while ( ( matcher = setMatchers[ j++ ] ) ) {
					matcher( unmatched, setMatched, context, xml );
				}

				if ( seed ) {

					// Reintegrate element matches to eliminate the need for sorting
					if ( matchedCount > 0 ) {
						while ( i-- ) {
							if ( !( unmatched[ i ] || setMatched[ i ] ) ) {
								setMatched[ i ] = pop.call( results );
							}
						}
					}

					// Discard index placeholder values to get only actual matches
					setMatched = condense( setMatched );
				}

				// Add matches to results
				push.apply( results, setMatched );

				// Seedless set matches succeeding multiple successful matchers stipulate sorting
				if ( outermost && !seed && setMatched.length > 0 &&
					( matchedCount + setMatchers.length ) > 1 ) {

					Sizzle.uniqueSort( results );
				}
			}

			// Override manipulation of globals by nested matchers
			if ( outermost ) {
				dirruns = dirrunsUnique;
				outermostContext = contextBackup;
			}

			return unmatched;
		};

	return bySet ?
		markFunction( superMatcher ) :
		superMatcher;
}

compile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {
	var i,
		setMatchers = [],
		elementMatchers = [],
		cached = compilerCache[ selector + " " ];

	if ( !cached ) {

		// Generate a function of recursive functions that can be used to check each element
		if ( !match ) {
			match = tokenize( selector );
		}
		i = match.length;
		while ( i-- ) {
			cached = matcherFromTokens( match[ i ] );
			if ( cached[ expando ] ) {
				setMatchers.push( cached );
			} else {
				elementMatchers.push( cached );
			}
		}

		// Cache the compiled function
		cached = compilerCache(
			selector,
			matcherFromGroupMatchers( elementMatchers, setMatchers )
		);

		// Save selector and tokenization
		cached.selector = selector;
	}
	return cached;
};

/**
 * A low-level selection function that works with Sizzle's compiled
 *  selector functions
 * @param {String|Function} selector A selector or a pre-compiled
 *  selector function built with Sizzle.compile
 * @param {Element} context
 * @param {Array} [results]
 * @param {Array} [seed] A set of elements to match against
 */
select = Sizzle.select = function( selector, context, results, seed ) {
	var i, tokens, token, type, find,
		compiled = typeof selector === "function" && selector,
		match = !seed && tokenize( ( selector = compiled.selector || selector ) );

	results = results || [];

	// Try to minimize operations if there is only one selector in the list and no seed
	// (the latter of which guarantees us context)
	if ( match.length === 1 ) {

		// Reduce context if the leading compound selector is an ID
		tokens = match[ 0 ] = match[ 0 ].slice( 0 );
		if ( tokens.length > 2 && ( token = tokens[ 0 ] ).type === "ID" &&
			context.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[ 1 ].type ] ) {

			context = ( Expr.find[ "ID" ]( token.matches[ 0 ]
				.replace( runescape, funescape ), context ) || [] )[ 0 ];
			if ( !context ) {
				return results;

			// Precompiled matchers will still verify ancestry, so step up a level
			} else if ( compiled ) {
				context = context.parentNode;
			}

			selector = selector.slice( tokens.shift().value.length );
		}

		// Fetch a seed set for right-to-left matching
		i = matchExpr[ "needsContext" ].test( selector ) ? 0 : tokens.length;
		while ( i-- ) {
			token = tokens[ i ];

			// Abort if we hit a combinator
			if ( Expr.relative[ ( type = token.type ) ] ) {
				break;
			}
			if ( ( find = Expr.find[ type ] ) ) {

				// Search, expanding context for leading sibling combinators
				if ( ( seed = find(
					token.matches[ 0 ].replace( runescape, funescape ),
					rsibling.test( tokens[ 0 ].type ) && testContext( context.parentNode ) ||
						context
				) ) ) {

					// If seed is empty or no tokens remain, we can return early
					tokens.splice( i, 1 );
					selector = seed.length && toSelector( tokens );
					if ( !selector ) {
						push.apply( results, seed );
						return results;
					}

					break;
				}
			}
		}
	}

	// Compile and execute a filtering function if one is not provided
	// Provide `match` to avoid retokenization if we modified the selector above
	( compiled || compile( selector, match ) )(
		seed,
		context,
		!documentIsHTML,
		results,
		!context || rsibling.test( selector ) && testContext( context.parentNode ) || context
	);
	return results;
};

// One-time assignments

// Sort stability
support.sortStable = expando.split( "" ).sort( sortOrder ).join( "" ) === expando;

// Support: Chrome 14-35+
// Always assume duplicates if they aren't passed to the comparison function
support.detectDuplicates = !!hasDuplicate;

// Initialize against the default document
setDocument();

// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)
// Detached nodes confoundingly follow *each other*
support.sortDetached = assert( function( el ) {

	// Should return 1, but returns 4 (following)
	return el.compareDocumentPosition( document.createElement( "fieldset" ) ) & 1;
} );

// Support: IE<8
// Prevent attribute/property "interpolation"
// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx
if ( !assert( function( el ) {
	el.innerHTML = "<a href='#'></a>";
	return el.firstChild.getAttribute( "href" ) === "#";
} ) ) {
	addHandle( "type|href|height|width", function( elem, name, isXML ) {
		if ( !isXML ) {
			return elem.getAttribute( name, name.toLowerCase() === "type" ? 1 : 2 );
		}
	} );
}

// Support: IE<9
// Use defaultValue in place of getAttribute("value")
if ( !support.attributes || !assert( function( el ) {
	el.innerHTML = "<input/>";
	el.firstChild.setAttribute( "value", "" );
	return el.firstChild.getAttribute( "value" ) === "";
} ) ) {
	addHandle( "value", function( elem, _name, isXML ) {
		if ( !isXML && elem.nodeName.toLowerCase() === "input" ) {
			return elem.defaultValue;
		}
	} );
}

// Support: IE<9
// Use getAttributeNode to fetch booleans when getAttribute lies
if ( !assert( function( el ) {
	return el.getAttribute( "disabled" ) == null;
} ) ) {
	addHandle( booleans, function( elem, name, isXML ) {
		var val;
		if ( !isXML ) {
			return elem[ name ] === true ? name.toLowerCase() :
				( val = elem.getAttributeNode( name ) ) && val.specified ?
					val.value :
					null;
		}
	} );
}

return Sizzle;

} )( window );



jQuery.find = Sizzle;
jQuery.expr = Sizzle.selectors;

// Deprecated
jQuery.expr[ ":" ] = jQuery.expr.pseudos;
jQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;
jQuery.text = Sizzle.getText;
jQuery.isXMLDoc = Sizzle.isXML;
jQuery.contains = Sizzle.contains;
jQuery.escapeSelector = Sizzle.escape;




var dir = function( elem, dir, until ) {
	var matched = [],
		truncate = until !== undefined;

	while ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {
		if ( elem.nodeType === 1 ) {
			if ( truncate && jQuery( elem ).is( until ) ) {
				break;
			}
			matched.push( elem );
		}
	}
	return matched;
};


var siblings = function( n, elem ) {
	var matched = [];

	for ( ; n; n = n.nextSibling ) {
		if ( n.nodeType === 1 && n !== elem ) {
			matched.push( n );
		}
	}

	return matched;
};


var rneedsContext = jQuery.expr.match.needsContext;



function nodeName( elem, name ) {

	return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();

}
var rsingleTag = ( /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i );



// Implement the identical functionality for filter and not
function winnow( elements, qualifier, not ) {
	if ( isFunction( qualifier ) ) {
		return jQuery.grep( elements, function( elem, i ) {
			return !!qualifier.call( elem, i, elem ) !== not;
		} );
	}

	// Single element
	if ( qualifier.nodeType ) {
		return jQuery.grep( elements, function( elem ) {
			return ( elem === qualifier ) !== not;
		} );
	}

	// Arraylike of elements (jQuery, arguments, Array)
	if ( typeof qualifier !== "string" ) {
		return jQuery.grep( elements, function( elem ) {
			return ( indexOf.call( qualifier, elem ) > -1 ) !== not;
		} );
	}

	// Filtered directly for both simple and complex selectors
	return jQuery.filter( qualifier, elements, not );
}

jQuery.filter = function( expr, elems, not ) {
	var elem = elems[ 0 ];

	if ( not ) {
		expr = ":not(" + expr + ")";
	}

	if ( elems.length === 1 && elem.nodeType === 1 ) {
		return jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];
	}

	return jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {
		return elem.nodeType === 1;
	} ) );
};

jQuery.fn.extend( {
	find: function( selector ) {
		var i, ret,
			len = this.length,
			self = this;

		if ( typeof selector !== "string" ) {
			return this.pushStack( jQuery( selector ).filter( function() {
				for ( i = 0; i < len; i++ ) {
					if ( jQuery.contains( self[ i ], this ) ) {
						return true;
					}
				}
			} ) );
		}

		ret = this.pushStack( [] );

		for ( i = 0; i < len; i++ ) {
			jQuery.find( selector, self[ i ], ret );
		}

		return len > 1 ? jQuery.uniqueSort( ret ) : ret;
	},
	filter: function( selector ) {
		return this.pushStack( winnow( this, selector || [], false ) );
	},
	not: function( selector ) {
		return this.pushStack( winnow( this, selector || [], true ) );
	},
	is: function( selector ) {
		return !!winnow(
			this,

			// If this is a positional/relative selector, check membership in the returned set
			// so $("p:first").is("p:last") won't return true for a doc with two "p".
			typeof selector === "string" && rneedsContext.test( selector ) ?
				jQuery( selector ) :
				selector || [],
			false
		).length;
	}
} );


// Initialize a jQuery object


// A central reference to the root jQuery(document)
var rootjQuery,

	// A simple way to check for HTML strings
	// Prioritize #id over <tag> to avoid XSS via location.hash (trac-9521)
	// Strict HTML recognition (trac-11290: must start with <)
	// Shortcut simple #id case for speed
	rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,

	init = jQuery.fn.init = function( selector, context, root ) {
		var match, elem;

		// HANDLE: $(""), $(null), $(undefined), $(false)
		if ( !selector ) {
			return this;
		}

		// Method init() accepts an alternate rootjQuery
		// so migrate can support jQuery.sub (gh-2101)
		root = root || rootjQuery;

		// Handle HTML strings
		if ( typeof selector === "string" ) {
			if ( selector[ 0 ] === "<" &&
				selector[ selector.length - 1 ] === ">" &&
				selector.length >= 3 ) {

				// Assume that strings that start and end with <> are HTML and skip the regex check
				match = [ null, selector, null ];

			} else {
				match = rquickExpr.exec( selector );
			}

			// Match html or make sure no context is specified for #id
			if ( match && ( match[ 1 ] || !context ) ) {

				// HANDLE: $(html) -> $(array)
				if ( match[ 1 ] ) {
					context = context instanceof jQuery ? context[ 0 ] : context;

					// Option to run scripts is true for back-compat
					// Intentionally let the error be thrown if parseHTML is not present
					jQuery.merge( this, jQuery.parseHTML(
						match[ 1 ],
						context && context.nodeType ? context.ownerDocument || context : document,
						true
					) );

					// HANDLE: $(html, props)
					if ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {
						for ( match in context ) {

							// Properties of context are called as methods if possible
							if ( isFunction( this[ match ] ) ) {
								this[ match ]( context[ match ] );

							// ...and otherwise set as attributes
							} else {
								this.attr( match, context[ match ] );
							}
						}
					}

					return this;

				// HANDLE: $(#id)
				} else {
					elem = document.getElementById( match[ 2 ] );

					if ( elem ) {

						// Inject the element directly into the jQuery object
						this[ 0 ] = elem;
						this.length = 1;
					}
					return this;
				}

			// HANDLE: $(expr, $(...))
			} else if ( !context || context.jquery ) {
				return ( context || root ).find( selector );

			// HANDLE: $(expr, context)
			// (which is just equivalent to: $(context).find(expr)
			} else {
				return this.constructor( context ).find( selector );
			}

		// HANDLE: $(DOMElement)
		} else if ( selector.nodeType ) {
			this[ 0 ] = selector;
			this.length = 1;
			return this;

		// HANDLE: $(function)
		// Shortcut for document ready
		} else if ( isFunction( selector ) ) {
			return root.ready !== undefined ?
				root.ready( selector ) :

				// Execute immediately if ready is not present
				selector( jQuery );
		}

		return jQuery.makeArray( selector, this );
	};

// Give the init function the jQuery prototype for later instantiation
init.prototype = jQuery.fn;

// Initialize central reference
rootjQuery = jQuery( document );


var rparentsprev = /^(?:parents|prev(?:Until|All))/,

	// Methods guaranteed to produce a unique set when starting from a unique set
	guaranteedUnique = {
		children: true,
		contents: true,
		next: true,
		prev: true
	};

jQuery.fn.extend( {
	has: function( target ) {
		var targets = jQuery( target, this ),
			l = targets.length;

		return this.filter( function() {
			var i = 0;
			for ( ; i < l; i++ ) {
				if ( jQuery.contains( this, targets[ i ] ) ) {
					return true;
				}
			}
		} );
	},

	closest: function( selectors, context ) {
		var cur,
			i = 0,
			l = this.length,
			matched = [],
			targets = typeof selectors !== "string" && jQuery( selectors );

		// Positional selectors never match, since there's no _selection_ context
		if ( !rneedsContext.test( selectors ) ) {
			for ( ; i < l; i++ ) {
				for ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {

					// Always skip document fragments
					if ( cur.nodeType < 11 && ( targets ?
						targets.index( cur ) > -1 :

						// Don't pass non-elements to Sizzle
						cur.nodeType === 1 &&
							jQuery.find.matchesSelector( cur, selectors ) ) ) {

						matched.push( cur );
						break;
					}
				}
			}
		}

		return this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );
	},

	// Determine the position of an element within the set
	index: function( elem ) {

		// No argument, return index in parent
		if ( !elem ) {
			return ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;
		}

		// Index in selector
		if ( typeof elem === "string" ) {
			return indexOf.call( jQuery( elem ), this[ 0 ] );
		}

		// Locate the position of the desired element
		return indexOf.call( this,

			// If it receives a jQuery object, the first element is used
			elem.jquery ? elem[ 0 ] : elem
		);
	},

	add: function( selector, context ) {
		return this.pushStack(
			jQuery.uniqueSort(
				jQuery.merge( this.get(), jQuery( selector, context ) )
			)
		);
	},

	addBack: function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter( selector )
		);
	}
} );

function sibling( cur, dir ) {
	while ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}
	return cur;
}

jQuery.each( {
	parent: function( elem ) {
		var parent = elem.parentNode;
		return parent && parent.nodeType !== 11 ? parent : null;
	},
	parents: function( elem ) {
		return dir( elem, "parentNode" );
	},
	parentsUntil: function( elem, _i, until ) {
		return dir( elem, "parentNode", until );
	},
	next: function( elem ) {
		return sibling( elem, "nextSibling" );
	},
	prev: function( elem ) {
		return sibling( elem, "previousSibling" );
	},
	nextAll: function( elem ) {
		return dir( elem, "nextSibling" );
	},
	prevAll: function( elem ) {
		return dir( elem, "previousSibling" );
	},
	nextUntil: function( elem, _i, until ) {
		return dir( elem, "nextSibling", until );
	},
	prevUntil: function( elem, _i, until ) {
		return dir( elem, "previousSibling", until );
	},
	siblings: function( elem ) {
		return siblings( ( elem.parentNode || {} ).firstChild, elem );
	},
	children: function( elem ) {
		return siblings( elem.firstChild );
	},
	contents: function( elem ) {
		if ( elem.contentDocument != null &&

			// Support: IE 11+
			// <object> elements with no `data` attribute has an object
			// `contentDocument` with a `null` prototype.
			getProto( elem.contentDocument ) ) {

			return elem.contentDocument;
		}

		// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only
		// Treat the template element as a regular one in browsers that
		// don't support it.
		if ( nodeName( elem, "template" ) ) {
			elem = elem.content || elem;
		}

		return jQuery.merge( [], elem.childNodes );
	}
}, function( name, fn ) {
	jQuery.fn[ name ] = function( until, selector ) {
		var matched = jQuery.map( this, fn, until );

		if ( name.slice( -5 ) !== "Until" ) {
			selector = until;
		}

		if ( selector && typeof selector === "string" ) {
			matched = jQuery.filter( selector, matched );
		}

		if ( this.length > 1 ) {

			// Remove duplicates
			if ( !guaranteedUnique[ name ] ) {
				jQuery.uniqueSort( matched );
			}

			// Reverse order for parents* and prev-derivatives
			if ( rparentsprev.test( name ) ) {
				matched.reverse();
			}
		}

		return this.pushStack( matched );
	};
} );
var rnothtmlwhite = ( /[^\x20\t\r\n\f]+/g );



// Convert String-formatted options into Object-formatted ones
function createOptions( options ) {
	var object = {};
	jQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {
		object[ flag ] = true;
	} );
	return object;
}

/*
 * Create a callback list using the following parameters:
 *
 *	options: an optional list of space-separated options that will change how
 *			the callback list behaves or a more traditional option object
 *
 * By default a callback list will act like an event callback list and can be
 * "fired" multiple times.
 *
 * Possible options:
 *
 *	once:			will ensure the callback list can only be fired once (like a Deferred)
 *
 *	memory:			will keep track of previous values and will call any callback added
 *					after the list has been fired right away with the latest "memorized"
 *					values (like a Deferred)
 *
 *	unique:			will ensure a callback can only be added once (no duplicate in the list)
 *
 *	stopOnFalse:	interrupt callings when a callback returns false
 *
 */
jQuery.Callbacks = function( options ) {

	// Convert options from String-formatted to Object-formatted if needed
	// (we check in cache first)
	options = typeof options === "string" ?
		createOptions( options ) :
		jQuery.extend( {}, options );

	var // Flag to know if list is currently firing
		firing,

		// Last fire value for non-forgettable lists
		memory,

		// Flag to know if list was already fired
		fired,

		// Flag to prevent firing
		locked,

		// Actual callback list
		list = [],

		// Queue of execution data for repeatable lists
		queue = [],

		// Index of currently firing callback (modified by add/remove as needed)
		firingIndex = -1,

		// Fire callbacks
		fire = function() {

			// Enforce single-firing
			locked = locked || options.once;

			// Execute callbacks for all pending executions,
			// respecting firingIndex overrides and runtime changes
			fired = firing = true;
			for ( ; queue.length; firingIndex = -1 ) {
				memory = queue.shift();
				while ( ++firingIndex < list.length ) {

					// Run callback and check for early termination
					if ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&
						options.stopOnFalse ) {

						// Jump to end and forget the data so .add doesn't re-fire
						firingIndex = list.length;
						memory = false;
					}
				}
			}

			// Forget the data if we're done with it
			if ( !options.memory ) {
				memory = false;
			}

			firing = false;

			// Clean up if we're done firing for good
			if ( locked ) {

				// Keep an empty list if we have data for future add calls
				if ( memory ) {
					list = [];

				// Otherwise, this object is spent
				} else {
					list = "";
				}
			}
		},

		// Actual Callbacks object
		self = {

			// Add a callback or a collection of callbacks to the list
			add: function() {
				if ( list ) {

					// If we have memory from a past run, we should fire after adding
					if ( memory && !firing ) {
						firingIndex = list.length - 1;
						queue.push( memory );
					}

					( function add( args ) {
						jQuery.each( args, function( _, arg ) {
							if ( isFunction( arg ) ) {
								if ( !options.unique || !self.has( arg ) ) {
									list.push( arg );
								}
							} else if ( arg && arg.length && toType( arg ) !== "string" ) {

								// Inspect recursively
								add( arg );
							}
						} );
					} )( arguments );

					if ( memory && !firing ) {
						fire();
					}
				}
				return this;
			},

			// Remove a callback from the list
			remove: function() {
				jQuery.each( arguments, function( _, arg ) {
					var index;
					while ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {
						list.splice( index, 1 );

						// Handle firing indexes
						if ( index <= firingIndex ) {
							firingIndex--;
						}
					}
				} );
				return this;
			},

			// Check if a given callback is in the list.
			// If no argument is given, return whether or not list has callbacks attached.
			has: function( fn ) {
				return fn ?
					jQuery.inArray( fn, list ) > -1 :
					list.length > 0;
			},

			// Remove all callbacks from the list
			empty: function() {
				if ( list ) {
					list = [];
				}
				return this;
			},

			// Disable .fire and .add
			// Abort any current/pending executions
			// Clear all callbacks and values
			disable: function() {
				locked = queue = [];
				list = memory = "";
				return this;
			},
			disabled: function() {
				return !list;
			},

			// Disable .fire
			// Also disable .add unless we have memory (since it would have no effect)
			// Abort any pending executions
			lock: function() {
				locked = queue = [];
				if ( !memory && !firing ) {
					list = memory = "";
				}
				return this;
			},
			locked: function() {
				return !!locked;
			},

			// Call all callbacks with the given context and arguments
			fireWith: function( context, args ) {
				if ( !locked ) {
					args = args || [];
					args = [ context, args.slice ? args.slice() : args ];
					queue.push( args );
					if ( !firing ) {
						fire();
					}
				}
				return this;
			},

			// Call all the callbacks with the given arguments
			fire: function() {
				self.fireWith( this, arguments );
				return this;
			},

			// To know if the callbacks have already been called at least once
			fired: function() {
				return !!fired;
			}
		};

	return self;
};


function Identity( v ) {
	return v;
}
function Thrower( ex ) {
	throw ex;
}

function adoptValue( value, resolve, reject, noValue ) {
	var method;

	try {

		// Check for promise aspect first to privilege synchronous behavior
		if ( value && isFunction( ( method = value.promise ) ) ) {
			method.call( value ).done( resolve ).fail( reject );

		// Other thenables
		} else if ( value && isFunction( ( method = value.then ) ) ) {
			method.call( value, resolve, reject );

		// Other non-thenables
		} else {

			// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:
			// * false: [ value ].slice( 0 ) => resolve( value )
			// * true: [ value ].slice( 1 ) => resolve()
			resolve.apply( undefined, [ value ].slice( noValue ) );
		}

	// For Promises/A+, convert exceptions into rejections
	// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in
	// Deferred#then to conditionally suppress rejection.
	} catch ( value ) {

		// Support: Android 4.0 only
		// Strict mode functions invoked without .call/.apply get global-object context
		reject.apply( undefined, [ value ] );
	}
}

jQuery.extend( {

	Deferred: function( func ) {
		var tuples = [

				// action, add listener, callbacks,
				// ... .then handlers, argument index, [final state]
				[ "notify", "progress", jQuery.Callbacks( "memory" ),
					jQuery.Callbacks( "memory" ), 2 ],
				[ "resolve", "done", jQuery.Callbacks( "once memory" ),
					jQuery.Callbacks( "once memory" ), 0, "resolved" ],
				[ "reject", "fail", jQuery.Callbacks( "once memory" ),
					jQuery.Callbacks( "once memory" ), 1, "rejected" ]
			],
			state = "pending",
			promise = {
				state: function() {
					return state;
				},
				always: function() {
					deferred.done( arguments ).fail( arguments );
					return this;
				},
				"catch": function( fn ) {
					return promise.then( null, fn );
				},

				// Keep pipe for back-compat
				pipe: function( /* fnDone, fnFail, fnProgress */ ) {
					var fns = arguments;

					return jQuery.Deferred( function( newDefer ) {
						jQuery.each( tuples, function( _i, tuple ) {

							// Map tuples (progress, done, fail) to arguments (done, fail, progress)
							var fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];

							// deferred.progress(function() { bind to newDefer or newDefer.notify })
							// deferred.done(function() { bind to newDefer or newDefer.resolve })
							// deferred.fail(function() { bind to newDefer or newDefer.reject })
							deferred[ tuple[ 1 ] ]( function() {
								var returned = fn && fn.apply( this, arguments );
								if ( returned && isFunction( returned.promise ) ) {
									returned.promise()
										.progress( newDefer.notify )
										.done( newDefer.resolve )
										.fail( newDefer.reject );
								} else {
									newDefer[ tuple[ 0 ] + "With" ](
										this,
										fn ? [ returned ] : arguments
									);
								}
							} );
						} );
						fns = null;
					} ).promise();
				},
				then: function( onFulfilled, onRejected, onProgress ) {
					var maxDepth = 0;
					function resolve( depth, deferred, handler, special ) {
						return function() {
							var that = this,
								args = arguments,
								mightThrow = function() {
									var returned, then;

									// Support: Promises/A+ section 2.3.3.3.3
									// https://promisesaplus.com/#point-59
									// Ignore double-resolution attempts
									if ( depth < maxDepth ) {
										return;
									}

									returned = handler.apply( that, args );

									// Support: Promises/A+ section 2.3.1
									// https://promisesaplus.com/#point-48
									if ( returned === deferred.promise() ) {
										throw new TypeError( "Thenable self-resolution" );
									}

									// Support: Promises/A+ sections 2.3.3.1, 3.5
									// https://promisesaplus.com/#point-54
									// https://promisesaplus.com/#point-75
									// Retrieve `then` only once
									then = returned &&

										// Support: Promises/A+ section 2.3.4
										// https://promisesaplus.com/#point-64
										// Only check objects and functions for thenability
										( typeof returned === "object" ||
											typeof returned === "function" ) &&
										returned.then;

									// Handle a returned thenable
									if ( isFunction( then ) ) {

										// Special processors (notify) just wait for resolution
										if ( special ) {
											then.call(
												returned,
												resolve( maxDepth, deferred, Identity, special ),
												resolve( maxDepth, deferred, Thrower, special )
											);

										// Normal processors (resolve) also hook into progress
										} else {

											// ...and disregard older resolution values
											maxDepth++;

											then.call(
												returned,
												resolve( maxDepth, deferred, Identity, special ),
												resolve( maxDepth, deferred, Thrower, special ),
												resolve( maxDepth, deferred, Identity,
													deferred.notifyWith )
											);
										}

									// Handle all other returned values
									} else {

										// Only substitute handlers pass on context
										// and multiple values (non-spec behavior)
										if ( handler !== Identity ) {
											that = undefined;
											args = [ returned ];
										}

										// Process the value(s)
										// Default process is resolve
										( special || deferred.resolveWith )( that, args );
									}
								},

								// Only normal processors (resolve) catch and reject exceptions
								process = special ?
									mightThrow :
									function() {
										try {
											mightThrow();
										} catch ( e ) {

											if ( jQuery.Deferred.exceptionHook ) {
												jQuery.Deferred.exceptionHook( e,
													process.stackTrace );
											}

											// Support: Promises/A+ section 2.3.3.3.4.1
											// https://promisesaplus.com/#point-61
											// Ignore post-resolution exceptions
											if ( depth + 1 >= maxDepth ) {

												// Only substitute handlers pass on context
												// and multiple values (non-spec behavior)
												if ( handler !== Thrower ) {
													that = undefined;
													args = [ e ];
												}

												deferred.rejectWith( that, args );
											}
										}
									};

							// Support: Promises/A+ section 2.3.3.3.1
							// https://promisesaplus.com/#point-57
							// Re-resolve promises immediately to dodge false rejection from
							// subsequent errors
							if ( depth ) {
								process();
							} else {

								// Call an optional hook to record the stack, in case of exception
								// since it's otherwise lost when execution goes async
								if ( jQuery.Deferred.getStackHook ) {
									process.stackTrace = jQuery.Deferred.getStackHook();
								}
								window.setTimeout( process );
							}
						};
					}

					return jQuery.Deferred( function( newDefer ) {

						// progress_handlers.add( ... )
						tuples[ 0 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onProgress ) ?
									onProgress :
									Identity,
								newDefer.notifyWith
							)
						);

						// fulfilled_handlers.add( ... )
						tuples[ 1 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onFulfilled ) ?
									onFulfilled :
									Identity
							)
						);

						// rejected_handlers.add( ... )
						tuples[ 2 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onRejected ) ?
									onRejected :
									Thrower
							)
						);
					} ).promise();
				},

				// Get a promise for this deferred
				// If obj is provided, the promise aspect is added to the object
				promise: function( obj ) {
					return obj != null ? jQuery.extend( obj, promise ) : promise;
				}
			},
			deferred = {};

		// Add list-specific methods
		jQuery.each( tuples, function( i, tuple ) {
			var list = tuple[ 2 ],
				stateString = tuple[ 5 ];

			// promise.progress = list.add
			// promise.done = list.add
			// promise.fail = list.add
			promise[ tuple[ 1 ] ] = list.add;

			// Handle state
			if ( stateString ) {
				list.add(
					function() {

						// state = "resolved" (i.e., fulfilled)
						// state = "rejected"
						state = stateString;
					},

					// rejected_callbacks.disable
					// fulfilled_callbacks.disable
					tuples[ 3 - i ][ 2 ].disable,

					// rejected_handlers.disable
					// fulfilled_handlers.disable
					tuples[ 3 - i ][ 3 ].disable,

					// progress_callbacks.lock
					tuples[ 0 ][ 2 ].lock,

					// progress_handlers.lock
					tuples[ 0 ][ 3 ].lock
				);
			}

			// progress_handlers.fire
			// fulfilled_handlers.fire
			// rejected_handlers.fire
			list.add( tuple[ 3 ].fire );

			// deferred.notify = function() { deferred.notifyWith(...) }
			// deferred.resolve = function() { deferred.resolveWith(...) }
			// deferred.reject = function() { deferred.rejectWith(...) }
			deferred[ tuple[ 0 ] ] = function() {
				deferred[ tuple[ 0 ] + "With" ]( this === deferred ? undefined : this, arguments );
				return this;
			};

			// deferred.notifyWith = list.fireWith
			// deferred.resolveWith = list.fireWith
			// deferred.rejectWith = list.fireWith
			deferred[ tuple[ 0 ] + "With" ] = list.fireWith;
		} );

		// Make the deferred a promise
		promise.promise( deferred );

		// Call given func if any
		if ( func ) {
			func.call( deferred, deferred );
		}

		// All done!
		return deferred;
	},

	// Deferred helper
	when: function( singleValue ) {
		var

			// count of uncompleted subordinates
			remaining = arguments.length,

			// count of unprocessed arguments
			i = remaining,

			// subordinate fulfillment data
			resolveContexts = Array( i ),
			resolveValues = slice.call( arguments ),

			// the primary Deferred
			primary = jQuery.Deferred(),

			// subordinate callback factory
			updateFunc = function( i ) {
				return function( value ) {
					resolveContexts[ i ] = this;
					resolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;
					if ( !( --remaining ) ) {
						primary.resolveWith( resolveContexts, resolveValues );
					}
				};
			};

		// Single- and empty arguments are adopted like Promise.resolve
		if ( remaining <= 1 ) {
			adoptValue( singleValue, primary.done( updateFunc( i ) ).resolve, primary.reject,
				!remaining );

			// Use .then() to unwrap secondary thenables (cf. gh-3000)
			if ( primary.state() === "pending" ||
				isFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {

				return primary.then();
			}
		}

		// Multiple arguments are aggregated like Promise.all array elements
		while ( i-- ) {
			adoptValue( resolveValues[ i ], updateFunc( i ), primary.reject );
		}

		return primary.promise();
	}
} );


// These usually indicate a programmer mistake during development,
// warn about them ASAP rather than swallowing them by default.
var rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;

jQuery.Deferred.exceptionHook = function( error, stack ) {

	// Support: IE 8 - 9 only
	// Console exists when dev tools are open, which can happen at any time
	if ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {
		window.console.warn( "jQuery.Deferred exception: " + error.message, error.stack, stack );
	}
};




jQuery.readyException = function( error ) {
	window.setTimeout( function() {
		throw error;
	} );
};




// The deferred used on DOM ready
var readyList = jQuery.Deferred();

jQuery.fn.ready = function( fn ) {

	readyList
		.then( fn )

		// Wrap jQuery.readyException in a function so that the lookup
		// happens at the time of error handling instead of callback
		// registration.
		.catch( function( error ) {
			jQuery.readyException( error );
		} );

	return this;
};

jQuery.extend( {

	// Is the DOM ready to be used? Set to true once it occurs.
	isReady: false,

	// A counter to track how many items to wait for before
	// the ready event fires. See trac-6781
	readyWait: 1,

	// Handle when the DOM is ready
	ready: function( wait ) {

		// Abort if there are pending holds or we're already ready
		if ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {
			return;
		}

		// Remember that the DOM is ready
		jQuery.isReady = true;

		// If a normal DOM Ready event fired, decrement, and wait if need be
		if ( wait !== true && --jQuery.readyWait > 0 ) {
			return;
		}

		// If there are functions bound, to execute
		readyList.resolveWith( document, [ jQuery ] );
	}
} );

jQuery.ready.then = readyList.then;

// The ready event handler and self cleanup method
function completed() {
	document.removeEventListener( "DOMContentLoaded", completed );
	window.removeEventListener( "load", completed );
	jQuery.ready();
}

// Catch cases where $(document).ready() is called
// after the browser event has already occurred.
// Support: IE <=9 - 10 only
// Older IE sometimes signals "interactive" too soon
if ( document.readyState === "complete" ||
	( document.readyState !== "loading" && !document.documentElement.doScroll ) ) {

	// Handle it asynchronously to allow scripts the opportunity to delay ready
	window.setTimeout( jQuery.ready );

} else {

	// Use the handy event callback
	document.addEventListener( "DOMContentLoaded", completed );

	// A fallback to window.onload, that will always work
	window.addEventListener( "load", completed );
}




// Multifunctional method to get and set values of a collection
// The value/s can optionally be executed if it's a function
var access = function( elems, fn, key, value, chainable, emptyGet, raw ) {
	var i = 0,
		len = elems.length,
		bulk = key == null;

	// Sets many values
	if ( toType( key ) === "object" ) {
		chainable = true;
		for ( i in key ) {
			access( elems, fn, i, key[ i ], true, emptyGet, raw );
		}

	// Sets one value
	} else if ( value !== undefined ) {
		chainable = true;

		if ( !isFunction( value ) ) {
			raw = true;
		}

		if ( bulk ) {

			// Bulk operations run against the entire set
			if ( raw ) {
				fn.call( elems, value );
				fn = null;

			// ...except when executing function values
			} else {
				bulk = fn;
				fn = function( elem, _key, value ) {
					return bulk.call( jQuery( elem ), value );
				};
			}
		}

		if ( fn ) {
			for ( ; i < len; i++ ) {
				fn(
					elems[ i ], key, raw ?
						value :
						value.call( elems[ i ], i, fn( elems[ i ], key ) )
				);
			}
		}
	}

	if ( chainable ) {
		return elems;
	}

	// Gets
	if ( bulk ) {
		return fn.call( elems );
	}

	return len ? fn( elems[ 0 ], key ) : emptyGet;
};


// Matches dashed string for camelizing
var rmsPrefix = /^-ms-/,
	rdashAlpha = /-([a-z])/g;

// Used by camelCase as callback to replace()
function fcamelCase( _all, letter ) {
	return letter.toUpperCase();
}

// Convert dashed to camelCase; used by the css and data modules
// Support: IE <=9 - 11, Edge 12 - 15
// Microsoft forgot to hump their vendor prefix (trac-9572)
function camelCase( string ) {
	return string.replace( rmsPrefix, "ms-" ).replace( rdashAlpha, fcamelCase );
}
var acceptData = function( owner ) {

	// Accepts only:
	//  - Node
	//    - Node.ELEMENT_NODE
	//    - Node.DOCUMENT_NODE
	//  - Object
	//    - Any
	return owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );
};




function Data() {
	this.expando = jQuery.expando + Data.uid++;
}

Data.uid = 1;

Data.prototype = {

	cache: function( owner ) {

		// Check if the owner object already has a cache
		var value = owner[ this.expando ];

		// If not, create one
		if ( !value ) {
			value = {};

			// We can accept data for non-element nodes in modern browsers,
			// but we should not, see trac-8335.
			// Always return an empty object.
			if ( acceptData( owner ) ) {

				// If it is a node unlikely to be stringify-ed or looped over
				// use plain assignment
				if ( owner.nodeType ) {
					owner[ this.expando ] = value;

				// Otherwise secure it in a non-enumerable property
				// configurable must be true to allow the property to be
				// deleted when data is removed
				} else {
					Object.defineProperty( owner, this.expando, {
						value: value,
						configurable: true
					} );
				}
			}
		}

		return value;
	},
	set: function( owner, data, value ) {
		var prop,
			cache = this.cache( owner );

		// Handle: [ owner, key, value ] args
		// Always use camelCase key (gh-2257)
		if ( typeof data === "string" ) {
			cache[ camelCase( data ) ] = value;

		// Handle: [ owner, { properties } ] args
		} else {

			// Copy the properties one-by-one to the cache object
			for ( prop in data ) {
				cache[ camelCase( prop ) ] = data[ prop ];
			}
		}
		return cache;
	},
	get: function( owner, key ) {
		return key === undefined ?
			this.cache( owner ) :

			// Always use camelCase key (gh-2257)
			owner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];
	},
	access: function( owner, key, value ) {

		// In cases where either:
		//
		//   1. No key was specified
		//   2. A string key was specified, but no value provided
		//
		// Take the "read" path and allow the get method to determine
		// which value to return, respectively either:
		//
		//   1. The entire cache object
		//   2. The data stored at the key
		//
		if ( key === undefined ||
				( ( key && typeof key === "string" ) && value === undefined ) ) {

			return this.get( owner, key );
		}

		// When the key is not a string, or both a key and value
		// are specified, set or extend (existing objects) with either:
		//
		//   1. An object of properties
		//   2. A key and value
		//
		this.set( owner, key, value );

		// Since the "set" path can have two possible entry points
		// return the expected data based on which path was taken[*]
		return value !== undefined ? value : key;
	},
	remove: function( owner, key ) {
		var i,
			cache = owner[ this.expando ];

		if ( cache === undefined ) {
			return;
		}

		if ( key !== undefined ) {

			// Support array or space separated string of keys
			if ( Array.isArray( key ) ) {

				// If key is an array of keys...
				// We always set camelCase keys, so remove that.
				key = key.map( camelCase );
			} else {
				key = camelCase( key );

				// If a key with the spaces exists, use it.
				// Otherwise, create an array by matching non-whitespace
				key = key in cache ?
					[ key ] :
					( key.match( rnothtmlwhite ) || [] );
			}

			i = key.length;

			while ( i-- ) {
				delete cache[ key[ i ] ];
			}
		}

		// Remove the expando if there's no more data
		if ( key === undefined || jQuery.isEmptyObject( cache ) ) {

			// Support: Chrome <=35 - 45
			// Webkit & Blink performance suffers when deleting properties
			// from DOM nodes, so set to undefined instead
			// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)
			if ( owner.nodeType ) {
				owner[ this.expando ] = undefined;
			} else {
				delete owner[ this.expando ];
			}
		}
	},
	hasData: function( owner ) {
		var cache = owner[ this.expando ];
		return cache !== undefined && !jQuery.isEmptyObject( cache );
	}
};
var dataPriv = new Data();

var dataUser = new Data();



//	Implementation Summary
//
//	1. Enforce API surface and semantic compatibility with 1.9.x branch
//	2. Improve the module's maintainability by reducing the storage
//		paths to a single mechanism.
//	3. Use the same single mechanism to support "private" and "user" data.
//	4. _Never_ expose "private" data to user code (TODO: Drop _data, _removeData)
//	5. Avoid exposing implementation details on user objects (eg. expando properties)
//	6. Provide a clear path for implementation upgrade to WeakMap in 2014

var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
	rmultiDash = /[A-Z]/g;

function getData( data ) {
	if ( data === "true" ) {
		return true;
	}

	if ( data === "false" ) {
		return false;
	}

	if ( data === "null" ) {
		return null;
	}

	// Only convert to a number if it doesn't change the string
	if ( data === +data + "" ) {
		return +data;
	}

	if ( rbrace.test( data ) ) {
		return JSON.parse( data );
	}

	return data;
}

function dataAttr( elem, key, data ) {
	var name;

	// If nothing was found internally, try to fetch any
	// data from the HTML5 data-* attribute
	if ( data === undefined && elem.nodeType === 1 ) {
		name = "data-" + key.replace( rmultiDash, "-$&" ).toLowerCase();
		data = elem.getAttribute( name );

		if ( typeof data === "string" ) {
			try {
				data = getData( data );
			} catch ( e ) {}

			// Make sure we set the data so it isn't changed later
			dataUser.set( elem, key, data );
		} else {
			data = undefined;
		}
	}
	return data;
}

jQuery.extend( {
	hasData: function( elem ) {
		return dataUser.hasData( elem ) || dataPriv.hasData( elem );
	},

	data: function( elem, name, data ) {
		return dataUser.access( elem, name, data );
	},

	removeData: function( elem, name ) {
		dataUser.remove( elem, name );
	},

	// TODO: Now that all calls to _data and _removeData have been replaced
	// with direct calls to dataPriv methods, these can be deprecated.
	_data: function( elem, name, data ) {
		return dataPriv.access( elem, name, data );
	},

	_removeData: function( elem, name ) {
		dataPriv.remove( elem, name );
	}
} );

jQuery.fn.extend( {
	data: function( key, value ) {
		var i, name, data,
			elem = this[ 0 ],
			attrs = elem && elem.attributes;

		// Gets all values
		if ( key === undefined ) {
			if ( this.length ) {
				data = dataUser.get( elem );

				if ( elem.nodeType === 1 && !dataPriv.get( elem, "hasDataAttrs" ) ) {
					i = attrs.length;
					while ( i-- ) {

						// Support: IE 11 only
						// The attrs elements can be null (trac-14894)
						if ( attrs[ i ] ) {
							name = attrs[ i ].name;
							if ( name.indexOf( "data-" ) === 0 ) {
								name = camelCase( name.slice( 5 ) );
								dataAttr( elem, name, data[ name ] );
							}
						}
					}
					dataPriv.set( elem, "hasDataAttrs", true );
				}
			}

			return data;
		}

		// Sets multiple values
		if ( typeof key === "object" ) {
			return this.each( function() {
				dataUser.set( this, key );
			} );
		}

		return access( this, function( value ) {
			var data;

			// The calling jQuery object (element matches) is not empty
			// (and therefore has an element appears at this[ 0 ]) and the
			// `value` parameter was not undefined. An empty jQuery object
			// will result in `undefined` for elem = this[ 0 ] which will
			// throw an exception if an attempt to read a data cache is made.
			if ( elem && value === undefined ) {

				// Attempt to get data from the cache
				// The key will always be camelCased in Data
				data = dataUser.get( elem, key );
				if ( data !== undefined ) {
					return data;
				}

				// Attempt to "discover" the data in
				// HTML5 custom data-* attrs
				data = dataAttr( elem, key );
				if ( data !== undefined ) {
					return data;
				}

				// We tried really hard, but the data doesn't exist.
				return;
			}

			// Set the data...
			this.each( function() {

				// We always store the camelCased key
				dataUser.set( this, key, value );
			} );
		}, null, value, arguments.length > 1, null, true );
	},

	removeData: function( key ) {
		return this.each( function() {
			dataUser.remove( this, key );
		} );
	}
} );


jQuery.extend( {
	queue: function( elem, type, data ) {
		var queue;

		if ( elem ) {
			type = ( type || "fx" ) + "queue";
			queue = dataPriv.get( elem, type );

			// Speed up dequeue by getting out quickly if this is just a lookup
			if ( data ) {
				if ( !queue || Array.isArray( data ) ) {
					queue = dataPriv.access( elem, type, jQuery.makeArray( data ) );
				} else {
					queue.push( data );
				}
			}
			return queue || [];
		}
	},

	dequeue: function( elem, type ) {
		type = type || "fx";

		var queue = jQuery.queue( elem, type ),
			startLength = queue.length,
			fn = queue.shift(),
			hooks = jQuery._queueHooks( elem, type ),
			next = function() {
				jQuery.dequeue( elem, type );
			};

		// If the fx queue is dequeued, always remove the progress sentinel
		if ( fn === "inprogress" ) {
			fn = queue.shift();
			startLength--;
		}

		if ( fn ) {

			// Add a progress sentinel to prevent the fx queue from being
			// automatically dequeued
			if ( type === "fx" ) {
				queue.unshift( "inprogress" );
			}

			// Clear up the last queue stop function
			delete hooks.stop;
			fn.call( elem, next, hooks );
		}

		if ( !startLength && hooks ) {
			hooks.empty.fire();
		}
	},

	// Not public - generate a queueHooks object, or return the current one
	_queueHooks: function( elem, type ) {
		var key = type + "queueHooks";
		return dataPriv.get( elem, key ) || dataPriv.access( elem, key, {
			empty: jQuery.Callbacks( "once memory" ).add( function() {
				dataPriv.remove( elem, [ type + "queue", key ] );
			} )
		} );
	}
} );

jQuery.fn.extend( {
	queue: function( type, data ) {
		var setter = 2;

		if ( typeof type !== "string" ) {
			data = type;
			type = "fx";
			setter--;
		}

		if ( arguments.length < setter ) {
			return jQuery.queue( this[ 0 ], type );
		}

		return data === undefined ?
			this :
			this.each( function() {
				var queue = jQuery.queue( this, type, data );

				// Ensure a hooks for this queue
				jQuery._queueHooks( this, type );

				if ( type === "fx" && queue[ 0 ] !== "inprogress" ) {
					jQuery.dequeue( this, type );
				}
			} );
	},
	dequeue: function( type ) {
		return this.each( function() {
			jQuery.dequeue( this, type );
		} );
	},
	clearQueue: function( type ) {
		return this.queue( type || "fx", [] );
	},

	// Get a promise resolved when queues of a certain type
	// are emptied (fx is the type by default)
	promise: function( type, obj ) {
		var tmp,
			count = 1,
			defer = jQuery.Deferred(),
			elements = this,
			i = this.length,
			resolve = function() {
				if ( !( --count ) ) {
					defer.resolveWith( elements, [ elements ] );
				}
			};

		if ( typeof type !== "string" ) {
			obj = type;
			type = undefined;
		}
		type = type || "fx";

		while ( i-- ) {
			tmp = dataPriv.get( elements[ i ], type + "queueHooks" );
			if ( tmp && tmp.empty ) {
				count++;
				tmp.empty.add( resolve );
			}
		}
		resolve();
		return defer.promise( obj );
	}
} );
var pnum = ( /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/ ).source;

var rcssNum = new RegExp( "^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i" );


var cssExpand = [ "Top", "Right", "Bottom", "Left" ];

var documentElement = document.documentElement;



	var isAttached = function( elem ) {
			return jQuery.contains( elem.ownerDocument, elem );
		},
		composed = { composed: true };

	// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only
	// Check attachment across shadow DOM boundaries when possible (gh-3504)
	// Support: iOS 10.0-10.2 only
	// Early iOS 10 versions support `attachShadow` but not `getRootNode`,
	// leading to errors. We need to check for `getRootNode`.
	if ( documentElement.getRootNode ) {
		isAttached = function( elem ) {
			return jQuery.contains( elem.ownerDocument, elem ) ||
				elem.getRootNode( composed ) === elem.ownerDocument;
		};
	}
var isHiddenWithinTree = function( elem, el ) {

		// isHiddenWithinTree might be called from jQuery#filter function;
		// in that case, element will be second argument
		elem = el || elem;

		// Inline style trumps all
		return elem.style.display === "none" ||
			elem.style.display === "" &&

			// Otherwise, check computed style
			// Support: Firefox <=43 - 45
			// Disconnected elements can have computed display: none, so first confirm that elem is
			// in the document.
			isAttached( elem ) &&

			jQuery.css( elem, "display" ) === "none";
	};



function adjustCSS( elem, prop, valueParts, tween ) {
	var adjusted, scale,
		maxIterations = 20,
		currentValue = tween ?
			function() {
				return tween.cur();
			} :
			function() {
				return jQuery.css( elem, prop, "" );
			},
		initial = currentValue(),
		unit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? "" : "px" ),

		// Starting value computation is required for potential unit mismatches
		initialInUnit = elem.nodeType &&
			( jQuery.cssNumber[ prop ] || unit !== "px" && +initial ) &&
			rcssNum.exec( jQuery.css( elem, prop ) );

	if ( initialInUnit && initialInUnit[ 3 ] !== unit ) {

		// Support: Firefox <=54
		// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)
		initial = initial / 2;

		// Trust units reported by jQuery.css
		unit = unit || initialInUnit[ 3 ];

		// Iteratively approximate from a nonzero starting point
		initialInUnit = +initial || 1;

		while ( maxIterations-- ) {

			// Evaluate and update our best guess (doubling guesses that zero out).
			// Finish if the scale equals or crosses 1 (making the old*new product non-positive).
			jQuery.style( elem, prop, initialInUnit + unit );
			if ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {
				maxIterations = 0;
			}
			initialInUnit = initialInUnit / scale;

		}

		initialInUnit = initialInUnit * 2;
		jQuery.style( elem, prop, initialInUnit + unit );

		// Make sure we update the tween properties later on
		valueParts = valueParts || [];
	}

	if ( valueParts ) {
		initialInUnit = +initialInUnit || +initial || 0;

		// Apply relative offset (+=/-=) if specified
		adjusted = valueParts[ 1 ] ?
			initialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :
			+valueParts[ 2 ];
		if ( tween ) {
			tween.unit = unit;
			tween.start = initialInUnit;
			tween.end = adjusted;
		}
	}
	return adjusted;
}


var defaultDisplayMap = {};

function getDefaultDisplay( elem ) {
	var temp,
		doc = elem.ownerDocument,
		nodeName = elem.nodeName,
		display = defaultDisplayMap[ nodeName ];

	if ( display ) {
		return display;
	}

	temp = doc.body.appendChild( doc.createElement( nodeName ) );
	display = jQuery.css( temp, "display" );

	temp.parentNode.removeChild( temp );

	if ( display === "none" ) {
		display = "block";
	}
	defaultDisplayMap[ nodeName ] = display;

	return display;
}

function showHide( elements, show ) {
	var display, elem,
		values = [],
		index = 0,
		length = elements.length;

	// Determine new display value for elements that need to change
	for ( ; index < length; index++ ) {
		elem = elements[ index ];
		if ( !elem.style ) {
			continue;
		}

		display = elem.style.display;
		if ( show ) {

			// Since we force visibility upon cascade-hidden elements, an immediate (and slow)
			// check is required in this first loop unless we have a nonempty display value (either
			// inline or about-to-be-restored)
			if ( display === "none" ) {
				values[ index ] = dataPriv.get( elem, "display" ) || null;
				if ( !values[ index ] ) {
					elem.style.display = "";
				}
			}
			if ( elem.style.display === "" && isHiddenWithinTree( elem ) ) {
				values[ index ] = getDefaultDisplay( elem );
			}
		} else {
			if ( display !== "none" ) {
				values[ index ] = "none";

				// Remember what we're overwriting
				dataPriv.set( elem, "display", display );
			}
		}
	}

	// Set the display of the elements in a second loop to avoid constant reflow
	for ( index = 0; index < length; index++ ) {
		if ( values[ index ] != null ) {
			elements[ index ].style.display = values[ index ];
		}
	}

	return elements;
}

jQuery.fn.extend( {
	show: function() {
		return showHide( this, true );
	},
	hide: function() {
		return showHide( this );
	},
	toggle: function( state ) {
		if ( typeof state === "boolean" ) {
			return state ? this.show() : this.hide();
		}

		return this.each( function() {
			if ( isHiddenWithinTree( this ) ) {
				jQuery( this ).show();
			} else {
				jQuery( this ).hide();
			}
		} );
	}
} );
var rcheckableType = ( /^(?:checkbox|radio)$/i );

var rtagName = ( /<([a-z][^\/\0>\x20\t\r\n\f]*)/i );

var rscriptType = ( /^$|^module$|\/(?:java|ecma)script/i );



( function() {
	var fragment = document.createDocumentFragment(),
		div = fragment.appendChild( document.createElement( "div" ) ),
		input = document.createElement( "input" );

	// Support: Android 4.0 - 4.3 only
	// Check state lost if the name is set (trac-11217)
	// Support: Windows Web Apps (WWA)
	// `name` and `type` must use .setAttribute for WWA (trac-14901)
	input.setAttribute( "type", "radio" );
	input.setAttribute( "checked", "checked" );
	input.setAttribute( "name", "t" );

	div.appendChild( input );

	// Support: Android <=4.1 only
	// Older WebKit doesn't clone checked state correctly in fragments
	support.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;

	// Support: IE <=11 only
	// Make sure textarea (and checkbox) defaultValue is properly cloned
	div.innerHTML = "<textarea>x</textarea>";
	support.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;

	// Support: IE <=9 only
	// IE <=9 replaces <option> tags with their contents when inserted outside of
	// the select element.
	div.innerHTML = "<option></option>";
	support.option = !!div.lastChild;
} )();


// We have to close these tags to support XHTML (trac-13200)
var wrapMap = {

	// XHTML parsers do not magically insert elements in the
	// same way that tag soup parsers do. So we cannot shorten
	// this by omitting <tbody> or other required elements.
	thead: [ 1, "<table>", "</table>" ],
	col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
	tr: [ 2, "<table><tbody>", "</tbody></table>" ],
	td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],

	_default: [ 0, "", "" ]
};

wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
wrapMap.th = wrapMap.td;

// Support: IE <=9 only
if ( !support.option ) {
	wrapMap.optgroup = wrapMap.option = [ 1, "<select multiple='multiple'>", "</select>" ];
}


function getAll( context, tag ) {

	// Support: IE <=9 - 11 only
	// Use typeof to avoid zero-argument method invocation on host objects (trac-15151)
	var ret;

	if ( typeof context.getElementsByTagName !== "undefined" ) {
		ret = context.getElementsByTagName( tag || "*" );

	} else if ( typeof context.querySelectorAll !== "undefined" ) {
		ret = context.querySelectorAll( tag || "*" );

	} else {
		ret = [];
	}

	if ( tag === undefined || tag && nodeName( context, tag ) ) {
		return jQuery.merge( [ context ], ret );
	}

	return ret;
}


// Mark scripts as having already been evaluated
function setGlobalEval( elems, refElements ) {
	var i = 0,
		l = elems.length;

	for ( ; i < l; i++ ) {
		dataPriv.set(
			elems[ i ],
			"globalEval",
			!refElements || dataPriv.get( refElements[ i ], "globalEval" )
		);
	}
}


var rhtml = /<|&#?\w+;/;

function buildFragment( elems, context, scripts, selection, ignored ) {
	var elem, tmp, tag, wrap, attached, j,
		fragment = context.createDocumentFragment(),
		nodes = [],
		i = 0,
		l = elems.length;

	for ( ; i < l; i++ ) {
		elem = elems[ i ];

		if ( elem || elem === 0 ) {

			// Add nodes directly
			if ( toType( elem ) === "object" ) {

				// Support: Android <=4.0 only, PhantomJS 1 only
				// push.apply(_, arraylike) throws on ancient WebKit
				jQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );

			// Convert non-html into a text node
			} else if ( !rhtml.test( elem ) ) {
				nodes.push( context.createTextNode( elem ) );

			// Convert html into DOM nodes
			} else {
				tmp = tmp || fragment.appendChild( context.createElement( "div" ) );

				// Deserialize a standard representation
				tag = ( rtagName.exec( elem ) || [ "", "" ] )[ 1 ].toLowerCase();
				wrap = wrapMap[ tag ] || wrapMap._default;
				tmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];

				// Descend through wrappers to the right content
				j = wrap[ 0 ];
				while ( j-- ) {
					tmp = tmp.lastChild;
				}

				// Support: Android <=4.0 only, PhantomJS 1 only
				// push.apply(_, arraylike) throws on ancient WebKit
				jQuery.merge( nodes, tmp.childNodes );

				// Remember the top-level container
				tmp = fragment.firstChild;

				// Ensure the created nodes are orphaned (trac-12392)
				tmp.textContent = "";
			}
		}
	}

	// Remove wrapper from fragment
	fragment.textContent = "";

	i = 0;
	while ( ( elem = nodes[ i++ ] ) ) {

		// Skip elements already in the context collection (trac-4087)
		if ( selection && jQuery.inArray( elem, selection ) > -1 ) {
			if ( ignored ) {
				ignored.push( elem );
			}
			continue;
		}

		attached = isAttached( elem );

		// Append to fragment
		tmp = getAll( fragment.appendChild( elem ), "script" );

		// Preserve script evaluation history
		if ( attached ) {
			setGlobalEval( tmp );
		}

		// Capture executables
		if ( scripts ) {
			j = 0;
			while ( ( elem = tmp[ j++ ] ) ) {
				if ( rscriptType.test( elem.type || "" ) ) {
					scripts.push( elem );
				}
			}
		}
	}

	return fragment;
}


var rtypenamespace = /^([^.]*)(?:\.(.+)|)/;

function returnTrue() {
	return true;
}

function returnFalse() {
	return false;
}

// Support: IE <=9 - 11+
// focus() and blur() are asynchronous, except when they are no-op.
// So expect focus to be synchronous when the element is already active,
// and blur to be synchronous when the element is not already active.
// (focus and blur are always synchronous in other supported browsers,
// this just defines when we can count on it).
function expectSync( elem, type ) {
	return ( elem === safeActiveElement() ) === ( type === "focus" );
}

// Support: IE <=9 only
// Accessing document.activeElement can throw unexpectedly
// https://bugs.jquery.com/ticket/13393
function safeActiveElement() {
	try {
		return document.activeElement;
	} catch ( err ) { }
}

function on( elem, types, selector, data, fn, one ) {
	var origFn, type;

	// Types can be a map of types/handlers
	if ( typeof types === "object" ) {

		// ( types-Object, selector, data )
		if ( typeof selector !== "string" ) {

			// ( types-Object, data )
			data = data || selector;
			selector = undefined;
		}
		for ( type in types ) {
			on( elem, type, selector, data, types[ type ], one );
		}
		return elem;
	}

	if ( data == null && fn == null ) {

		// ( types, fn )
		fn = selector;
		data = selector = undefined;
	} else if ( fn == null ) {
		if ( typeof selector === "string" ) {

			// ( types, selector, fn )
			fn = data;
			data = undefined;
		} else {

			// ( types, data, fn )
			fn = data;
			data = selector;
			selector = undefined;
		}
	}
	if ( fn === false ) {
		fn = returnFalse;
	} else if ( !fn ) {
		return elem;
	}

	if ( one === 1 ) {
		origFn = fn;
		fn = function( event ) {

			// Can use an empty set, since event contains the info
			jQuery().off( event );
			return origFn.apply( this, arguments );
		};

		// Use same guid so caller can remove using origFn
		fn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );
	}
	return elem.each( function() {
		jQuery.event.add( this, types, fn, data, selector );
	} );
}

/*
 * Helper functions for managing events -- not part of the public interface.
 * Props to Dean Edwards' addEvent library for many of the ideas.
 */
jQuery.event = {

	global: {},

	add: function( elem, types, handler, data, selector ) {

		var handleObjIn, eventHandle, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = dataPriv.get( elem );

		// Only attach events to objects that accept data
		if ( !acceptData( elem ) ) {
			return;
		}

		// Caller can pass in an object of custom data in lieu of the handler
		if ( handler.handler ) {
			handleObjIn = handler;
			handler = handleObjIn.handler;
			selector = handleObjIn.selector;
		}

		// Ensure that invalid selectors throw exceptions at attach time
		// Evaluate against documentElement in case elem is a non-element node (e.g., document)
		if ( selector ) {
			jQuery.find.matchesSelector( documentElement, selector );
		}

		// Make sure that the handler has a unique ID, used to find/remove it later
		if ( !handler.guid ) {
			handler.guid = jQuery.guid++;
		}

		// Init the element's event structure and main handler, if this is the first
		if ( !( events = elemData.events ) ) {
			events = elemData.events = Object.create( null );
		}
		if ( !( eventHandle = elemData.handle ) ) {
			eventHandle = elemData.handle = function( e ) {

				// Discard the second event of a jQuery.event.trigger() and
				// when an event is called after a page has unloaded
				return typeof jQuery !== "undefined" && jQuery.event.triggered !== e.type ?
					jQuery.event.dispatch.apply( elem, arguments ) : undefined;
			};
		}

		// Handle multiple events separated by a space
		types = ( types || "" ).match( rnothtmlwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[ t ] ) || [];
			type = origType = tmp[ 1 ];
			namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

			// There *must* be a type, no attaching namespace-only handlers
			if ( !type ) {
				continue;
			}

			// If event changes its type, use the special event handlers for the changed type
			special = jQuery.event.special[ type ] || {};

			// If selector defined, determine special event api type, otherwise given type
			type = ( selector ? special.delegateType : special.bindType ) || type;

			// Update special based on newly reset type
			special = jQuery.event.special[ type ] || {};

			// handleObj is passed to all event handlers
			handleObj = jQuery.extend( {
				type: type,
				origType: origType,
				data: data,
				handler: handler,
				guid: handler.guid,
				selector: selector,
				needsContext: selector && jQuery.expr.match.needsContext.test( selector ),
				namespace: namespaces.join( "." )
			}, handleObjIn );

			// Init the event handler queue if we're the first
			if ( !( handlers = events[ type ] ) ) {
				handlers = events[ type ] = [];
				handlers.delegateCount = 0;

				// Only use addEventListener if the special events handler returns false
				if ( !special.setup ||
					special.setup.call( elem, data, namespaces, eventHandle ) === false ) {

					if ( elem.addEventListener ) {
						elem.addEventListener( type, eventHandle );
					}
				}
			}

			if ( special.add ) {
				special.add.call( elem, handleObj );

				if ( !handleObj.handler.guid ) {
					handleObj.handler.guid = handler.guid;
				}
			}

			// Add to the element's handler list, delegates in front
			if ( selector ) {
				handlers.splice( handlers.delegateCount++, 0, handleObj );
			} else {
				handlers.push( handleObj );
			}

			// Keep track of which events have ever been used, for event optimization
			jQuery.event.global[ type ] = true;
		}

	},

	// Detach an event or set of events from an element
	remove: function( elem, types, handler, selector, mappedTypes ) {

		var j, origCount, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = dataPriv.hasData( elem ) && dataPriv.get( elem );

		if ( !elemData || !( events = elemData.events ) ) {
			return;
		}

		// Once for each type.namespace in types; type may be omitted
		types = ( types || "" ).match( rnothtmlwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[ t ] ) || [];
			type = origType = tmp[ 1 ];
			namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

			// Unbind all events (on this namespace, if provided) for the element
			if ( !type ) {
				for ( type in events ) {
					jQuery.event.remove( elem, type + types[ t ], handler, selector, true );
				}
				continue;
			}

			special = jQuery.event.special[ type ] || {};
			type = ( selector ? special.delegateType : special.bindType ) || type;
			handlers = events[ type ] || [];
			tmp = tmp[ 2 ] &&
				new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" );

			// Remove matching events
			origCount = j = handlers.length;
			while ( j-- ) {
				handleObj = handlers[ j ];

				if ( ( mappedTypes || origType === handleObj.origType ) &&
					( !handler || handler.guid === handleObj.guid ) &&
					( !tmp || tmp.test( handleObj.namespace ) ) &&
					( !selector || selector === handleObj.selector ||
						selector === "**" && handleObj.selector ) ) {
					handlers.splice( j, 1 );

					if ( handleObj.selector ) {
						handlers.delegateCount--;
					}
					if ( special.remove ) {
						special.remove.call( elem, handleObj );
					}
				}
			}

			// Remove generic event handler if we removed something and no more handlers exist
			// (avoids potential for endless recursion during removal of special event handlers)
			if ( origCount && !handlers.length ) {
				if ( !special.teardown ||
					special.teardown.call( elem, namespaces, elemData.handle ) === false ) {

					jQuery.removeEvent( elem, type, elemData.handle );
				}

				delete events[ type ];
			}
		}

		// Remove data and the expando if it's no longer used
		if ( jQuery.isEmptyObject( events ) ) {
			dataPriv.remove( elem, "handle events" );
		}
	},

	dispatch: function( nativeEvent ) {

		var i, j, ret, matched, handleObj, handlerQueue,
			args = new Array( arguments.length ),

			// Make a writable jQuery.Event from the native event object
			event = jQuery.event.fix( nativeEvent ),

			handlers = (
				dataPriv.get( this, "events" ) || Object.create( null )
			)[ event.type ] || [],
			special = jQuery.event.special[ event.type ] || {};

		// Use the fix-ed jQuery.Event rather than the (read-only) native event
		args[ 0 ] = event;

		for ( i = 1; i < arguments.length; i++ ) {
			args[ i ] = arguments[ i ];
		}

		event.delegateTarget = this;

		// Call the preDispatch hook for the mapped type, and let it bail if desired
		if ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {
			return;
		}

		// Determine handlers
		handlerQueue = jQuery.event.handlers.call( this, event, handlers );

		// Run delegates first; they may want to stop propagation beneath us
		i = 0;
		while ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {
			event.currentTarget = matched.elem;

			j = 0;
			while ( ( handleObj = matched.handlers[ j++ ] ) &&
				!event.isImmediatePropagationStopped() ) {

				// If the event is namespaced, then each handler is only invoked if it is
				// specially universal or its namespaces are a superset of the event's.
				if ( !event.rnamespace || handleObj.namespace === false ||
					event.rnamespace.test( handleObj.namespace ) ) {

					event.handleObj = handleObj;
					event.data = handleObj.data;

					ret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||
						handleObj.handler ).apply( matched.elem, args );

					if ( ret !== undefined ) {
						if ( ( event.result = ret ) === false ) {
							event.preventDefault();
							event.stopPropagation();
						}
					}
				}
			}
		}

		// Call the postDispatch hook for the mapped type
		if ( special.postDispatch ) {
			special.postDispatch.call( this, event );
		}

		return event.result;
	},

	handlers: function( event, handlers ) {
		var i, handleObj, sel, matchedHandlers, matchedSelectors,
			handlerQueue = [],
			delegateCount = handlers.delegateCount,
			cur = event.target;

		// Find delegate handlers
		if ( delegateCount &&

			// Support: IE <=9
			// Black-hole SVG <use> instance trees (trac-13180)
			cur.nodeType &&

			// Support: Firefox <=42
			// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)
			// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click
			// Support: IE 11 only
			// ...but not arrow key "clicks" of radio inputs, which can have `button` -1 (gh-2343)
			!( event.type === "click" && event.button >= 1 ) ) {

			for ( ; cur !== this; cur = cur.parentNode || this ) {

				// Don't check non-elements (trac-13208)
				// Don't process clicks on disabled elements (trac-6911, trac-8165, trac-11382, trac-11764)
				if ( cur.nodeType === 1 && !( event.type === "click" && cur.disabled === true ) ) {
					matchedHandlers = [];
					matchedSelectors = {};
					for ( i = 0; i < delegateCount; i++ ) {
						handleObj = handlers[ i ];

						// Don't conflict with Object.prototype properties (trac-13203)
						sel = handleObj.selector + " ";

						if ( matchedSelectors[ sel ] === undefined ) {
							matchedSelectors[ sel ] = handleObj.needsContext ?
								jQuery( sel, this ).index( cur ) > -1 :
								jQuery.find( sel, this, null, [ cur ] ).length;
						}
						if ( matchedSelectors[ sel ] ) {
							matchedHandlers.push( handleObj );
						}
					}
					if ( matchedHandlers.length ) {
						handlerQueue.push( { elem: cur, handlers: matchedHandlers } );
					}
				}
			}
		}

		// Add the remaining (directly-bound) handlers
		cur = this;
		if ( delegateCount < handlers.length ) {
			handlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );
		}

		return handlerQueue;
	},

	addProp: function( name, hook ) {
		Object.defineProperty( jQuery.Event.prototype, name, {
			enumerable: true,
			configurable: true,

			get: isFunction( hook ) ?
				function() {
					if ( this.originalEvent ) {
						return hook( this.originalEvent );
					}
				} :
				function() {
					if ( this.originalEvent ) {
						return this.originalEvent[ name ];
					}
				},

			set: function( value ) {
				Object.defineProperty( this, name, {
					enumerable: true,
					configurable: true,
					writable: true,
					value: value
				} );
			}
		} );
	},

	fix: function( originalEvent ) {
		return originalEvent[ jQuery.expando ] ?
			originalEvent :
			new jQuery.Event( originalEvent );
	},

	special: {
		load: {

			// Prevent triggered image.load events from bubbling to window.load
			noBubble: true
		},
		click: {

			// Utilize native event to ensure correct state for checkable inputs
			setup: function( data ) {

				// For mutual compressibility with _default, replace `this` access with a local var.
				// `|| data` is dead code meant only to preserve the variable through minification.
				var el = this || data;

				// Claim the first handler
				if ( rcheckableType.test( el.type ) &&
					el.click && nodeName( el, "input" ) ) {

					// dataPriv.set( el, "click", ... )
					leverageNative( el, "click", returnTrue );
				}

				// Return false to allow normal processing in the caller
				return false;
			},
			trigger: function( data ) {

				// For mutual compressibility with _default, replace `this` access with a local var.
				// `|| data` is dead code meant only to preserve the variable through minification.
				var el = this || data;

				// Force setup before triggering a click
				if ( rcheckableType.test( el.type ) &&
					el.click && nodeName( el, "input" ) ) {

					leverageNative( el, "click" );
				}

				// Return non-false to allow normal event-path propagation
				return true;
			},

			// For cross-browser consistency, suppress native .click() on links
			// Also prevent it if we're currently inside a leveraged native-event stack
			_default: function( event ) {
				var target = event.target;
				return rcheckableType.test( target.type ) &&
					target.click && nodeName( target, "input" ) &&
					dataPriv.get( target, "click" ) ||
					nodeName( target, "a" );
			}
		},

		beforeunload: {
			postDispatch: function( event ) {

				// Support: Firefox 20+
				// Firefox doesn't alert if the returnValue field is not set.
				if ( event.result !== undefined && event.originalEvent ) {
					event.originalEvent.returnValue = event.result;
				}
			}
		}
	}
};

// Ensure the presence of an event listener that handles manually-triggered
// synthetic events by interrupting progress until reinvoked in response to
// *native* events that it fires directly, ensuring that state changes have
// already occurred before other listeners are invoked.
function leverageNative( el, type, expectSync ) {

	// Missing expectSync indicates a trigger call, which must force setup through jQuery.event.add
	if ( !expectSync ) {
		if ( dataPriv.get( el, type ) === undefined ) {
			jQuery.event.add( el, type, returnTrue );
		}
		return;
	}

	// Register the controller as a special universal handler for all event namespaces
	dataPriv.set( el, type, false );
	jQuery.event.add( el, type, {
		namespace: false,
		handler: function( event ) {
			var notAsync, result,
				saved = dataPriv.get( this, type );

			if ( ( event.isTrigger & 1 ) && this[ type ] ) {

				// Interrupt processing of the outer synthetic .trigger()ed event
				// Saved data should be false in such cases, but might be a leftover capture object
				// from an async native handler (gh-4350)
				if ( !saved.length ) {

					// Store arguments for use when handling the inner native event
					// There will always be at least one argument (an event object), so this array
					// will not be confused with a leftover capture object.
					saved = slice.call( arguments );
					dataPriv.set( this, type, saved );

					// Trigger the native event and capture its result
					// Support: IE <=9 - 11+
					// focus() and blur() are asynchronous
					notAsync = expectSync( this, type );
					this[ type ]();
					result = dataPriv.get( this, type );
					if ( saved !== result || notAsync ) {
						dataPriv.set( this, type, false );
					} else {
						result = {};
					}
					if ( saved !== result ) {

						// Cancel the outer synthetic event
						event.stopImmediatePropagation();
						event.preventDefault();

						// Support: Chrome 86+
						// In Chrome, if an element having a focusout handler is blurred by
						// clicking outside of it, it invokes the handler synchronously. If
						// that handler calls `.remove()` on the element, the data is cleared,
						// leaving `result` undefined. We need to guard against this.
						return result && result.value;
					}

				// If this is an inner synthetic event for an event with a bubbling surrogate
				// (focus or blur), assume that the surrogate already propagated from triggering the
				// native event and prevent that from happening again here.
				// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the
				// bubbling surrogate propagates *after* the non-bubbling base), but that seems
				// less bad than duplication.
				} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {
					event.stopPropagation();
				}

			// If this is a native event triggered above, everything is now in order
			// Fire an inner synthetic event with the original arguments
			} else if ( saved.length ) {

				// ...and capture the result
				dataPriv.set( this, type, {
					value: jQuery.event.trigger(

						// Support: IE <=9 - 11+
						// Extend with the prototype to reset the above stopImmediatePropagation()
						jQuery.extend( saved[ 0 ], jQuery.Event.prototype ),
						saved.slice( 1 ),
						this
					)
				} );

				// Abort handling of the native event
				event.stopImmediatePropagation();
			}
		}
	} );
}

jQuery.removeEvent = function( elem, type, handle ) {

	// This "if" is needed for plain objects
	if ( elem.removeEventListener ) {
		elem.removeEventListener( type, handle );
	}
};

jQuery.Event = function( src, props ) {

	// Allow instantiation without the 'new' keyword
	if ( !( this instanceof jQuery.Event ) ) {
		return new jQuery.Event( src, props );
	}

	// Event object
	if ( src && src.type ) {
		this.originalEvent = src;
		this.type = src.type;

		// Events bubbling up the document may have been marked as prevented
		// by a handler lower down the tree; reflect the correct value.
		this.isDefaultPrevented = src.defaultPrevented ||
				src.defaultPrevented === undefined &&

				// Support: Android <=2.3 only
				src.returnValue === false ?
			returnTrue :
			returnFalse;

		// Create target properties
		// Support: Safari <=6 - 7 only
		// Target should not be a text node (trac-504, trac-13143)
		this.target = ( src.target && src.target.nodeType === 3 ) ?
			src.target.parentNode :
			src.target;

		this.currentTarget = src.currentTarget;
		this.relatedTarget = src.relatedTarget;

	// Event type
	} else {
		this.type = src;
	}

	// Put explicitly provided properties onto the event object
	if ( props ) {
		jQuery.extend( this, props );
	}

	// Create a timestamp if incoming event doesn't have one
	this.timeStamp = src && src.timeStamp || Date.now();

	// Mark it as fixed
	this[ jQuery.expando ] = true;
};

// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding
// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html
jQuery.Event.prototype = {
	constructor: jQuery.Event,
	isDefaultPrevented: returnFalse,
	isPropagationStopped: returnFalse,
	isImmediatePropagationStopped: returnFalse,
	isSimulated: false,

	preventDefault: function() {
		var e = this.originalEvent;

		this.isDefaultPrevented = returnTrue;

		if ( e && !this.isSimulated ) {
			e.preventDefault();
		}
	},
	stopPropagation: function() {
		var e = this.originalEvent;

		this.isPropagationStopped = returnTrue;

		if ( e && !this.isSimulated ) {
			e.stopPropagation();
		}
	},
	stopImmediatePropagation: function() {
		var e = this.originalEvent;

		this.isImmediatePropagationStopped = returnTrue;

		if ( e && !this.isSimulated ) {
			e.stopImmediatePropagation();
		}

		this.stopPropagation();
	}
};

// Includes all common event props including KeyEvent and MouseEvent specific props
jQuery.each( {
	altKey: true,
	bubbles: true,
	cancelable: true,
	changedTouches: true,
	ctrlKey: true,
	detail: true,
	eventPhase: true,
	metaKey: true,
	pageX: true,
	pageY: true,
	shiftKey: true,
	view: true,
	"char": true,
	code: true,
	charCode: true,
	key: true,
	keyCode: true,
	button: true,
	buttons: true,
	clientX: true,
	clientY: true,
	offsetX: true,
	offsetY: true,
	pointerId: true,
	pointerType: true,
	screenX: true,
	screenY: true,
	targetTouches: true,
	toElement: true,
	touches: true,
	which: true
}, jQuery.event.addProp );

jQuery.each( { focus: "focusin", blur: "focusout" }, function( type, delegateType ) {
	jQuery.event.special[ type ] = {

		// Utilize native event if possible so blur/focus sequence is correct
		setup: function() {

			// Claim the first handler
			// dataPriv.set( this, "focus", ... )
			// dataPriv.set( this, "blur", ... )
			leverageNative( this, type, expectSync );

			// Return false to allow normal processing in the caller
			return false;
		},
		trigger: function() {

			// Force setup before trigger
			leverageNative( this, type );

			// Return non-false to allow normal event-path propagation
			return true;
		},

		// Suppress native focus or blur if we're currently inside
		// a leveraged native-event stack
		_default: function( event ) {
			return dataPriv.get( event.target, type );
		},

		delegateType: delegateType
	};
} );

// Create mouseenter/leave events using mouseover/out and event-time checks
// so that event delegation works in jQuery.
// Do the same for pointerenter/pointerleave and pointerover/pointerout
//
// Support: Safari 7 only
// Safari sends mouseenter too often; see:
// https://bugs.chromium.org/p/chromium/issues/detail?id=470258
// for the description of the bug (it existed in older Chrome versions as well).
jQuery.each( {
	mouseenter: "mouseover",
	mouseleave: "mouseout",
	pointerenter: "pointerover",
	pointerleave: "pointerout"
}, function( orig, fix ) {
	jQuery.event.special[ orig ] = {
		delegateType: fix,
		bindType: fix,

		handle: function( event ) {
			var ret,
				target = this,
				related = event.relatedTarget,
				handleObj = event.handleObj;

			// For mouseenter/leave call the handler if related is outside the target.
			// NB: No relatedTarget if the mouse left/entered the browser window
			if ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {
				event.type = handleObj.origType;
				ret = handleObj.handler.apply( this, arguments );
				event.type = fix;
			}
			return ret;
		}
	};
} );

jQuery.fn.extend( {

	on: function( types, selector, data, fn ) {
		return on( this, types, selector, data, fn );
	},
	one: function( types, selector, data, fn ) {
		return on( this, types, selector, data, fn, 1 );
	},
	off: function( types, selector, fn ) {
		var handleObj, type;
		if ( types && types.preventDefault && types.handleObj ) {

			// ( event )  dispatched jQuery.Event
			handleObj = types.handleObj;
			jQuery( types.delegateTarget ).off(
				handleObj.namespace ?
					handleObj.origType + "." + handleObj.namespace :
					handleObj.origType,
				handleObj.selector,
				handleObj.handler
			);
			return this;
		}
		if ( typeof types === "object" ) {

			// ( types-object [, selector] )
			for ( type in types ) {
				this.off( type, selector, types[ type ] );
			}
			return this;
		}
		if ( selector === false || typeof selector === "function" ) {

			// ( types [, fn] )
			fn = selector;
			selector = undefined;
		}
		if ( fn === false ) {
			fn = returnFalse;
		}
		return this.each( function() {
			jQuery.event.remove( this, types, fn, selector );
		} );
	}
} );


var

	// Support: IE <=10 - 11, Edge 12 - 13 only
	// In IE/Edge using regex groups here causes severe slowdowns.
	// See https://connect.microsoft.com/IE/feedback/details/1736512/
	rnoInnerhtml = /<script|<style|<link/i,

	// checked="checked" or checked
	rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,

	rcleanScript = /^\s*<!\[CDATA\[|\]\]>\s*$/g;

// Prefer a tbody over its parent table for containing new rows
function manipulationTarget( elem, content ) {
	if ( nodeName( elem, "table" ) &&
		nodeName( content.nodeType !== 11 ? content : content.firstChild, "tr" ) ) {

		return jQuery( elem ).children( "tbody" )[ 0 ] || elem;
	}

	return elem;
}

// Replace/restore the type attribute of script elements for safe DOM manipulation
function disableScript( elem ) {
	elem.type = ( elem.getAttribute( "type" ) !== null ) + "/" + elem.type;
	return elem;
}
function restoreScript( elem ) {
	if ( ( elem.type || "" ).slice( 0, 5 ) === "true/" ) {
		elem.type = elem.type.slice( 5 );
	} else {
		elem.removeAttribute( "type" );
	}

	return elem;
}

function cloneCopyEvent( src, dest ) {
	var i, l, type, pdataOld, udataOld, udataCur, events;

	if ( dest.nodeType !== 1 ) {
		return;
	}

	// 1. Copy private data: events, handlers, etc.
	if ( dataPriv.hasData( src ) ) {
		pdataOld = dataPriv.get( src );
		events = pdataOld.events;

		if ( events ) {
			dataPriv.remove( dest, "handle events" );

			for ( type in events ) {
				for ( i = 0, l = events[ type ].length; i < l; i++ ) {
					jQuery.event.add( dest, type, events[ type ][ i ] );
				}
			}
		}
	}

	// 2. Copy user data
	if ( dataUser.hasData( src ) ) {
		udataOld = dataUser.access( src );
		udataCur = jQuery.extend( {}, udataOld );

		dataUser.set( dest, udataCur );
	}
}

// Fix IE bugs, see support tests
function fixInput( src, dest ) {
	var nodeName = dest.nodeName.toLowerCase();

	// Fails to persist the checked state of a cloned checkbox or radio button.
	if ( nodeName === "input" && rcheckableType.test( src.type ) ) {
		dest.checked = src.checked;

	// Fails to return the selected option to the default selected state when cloning options
	} else if ( nodeName === "input" || nodeName === "textarea" ) {
		dest.defaultValue = src.defaultValue;
	}
}

function domManip( collection, args, callback, ignored ) {

	// Flatten any nested arrays
	args = flat( args );

	var fragment, first, scripts, hasScripts, node, doc,
		i = 0,
		l = collection.length,
		iNoClone = l - 1,
		value = args[ 0 ],
		valueIsFunction = isFunction( value );

	// We can't cloneNode fragments that contain checked, in WebKit
	if ( valueIsFunction ||
			( l > 1 && typeof value === "string" &&
				!support.checkClone && rchecked.test( value ) ) ) {
		return collection.each( function( index ) {
			var self = collection.eq( index );
			if ( valueIsFunction ) {
				args[ 0 ] = value.call( this, index, self.html() );
			}
			domManip( self, args, callback, ignored );
		} );
	}

	if ( l ) {
		fragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );
		first = fragment.firstChild;

		if ( fragment.childNodes.length === 1 ) {
			fragment = first;
		}

		// Require either new content or an interest in ignored elements to invoke the callback
		if ( first || ignored ) {
			scripts = jQuery.map( getAll( fragment, "script" ), disableScript );
			hasScripts = scripts.length;

			// Use the original fragment for the last item
			// instead of the first because it can end up
			// being emptied incorrectly in certain situations (trac-8070).
			for ( ; i < l; i++ ) {
				node = fragment;

				if ( i !== iNoClone ) {
					node = jQuery.clone( node, true, true );

					// Keep references to cloned scripts for later restoration
					if ( hasScripts ) {

						// Support: Android <=4.0 only, PhantomJS 1 only
						// push.apply(_, arraylike) throws on ancient WebKit
						jQuery.merge( scripts, getAll( node, "script" ) );
					}
				}

				callback.call( collection[ i ], node, i );
			}

			if ( hasScripts ) {
				doc = scripts[ scripts.length - 1 ].ownerDocument;

				// Reenable scripts
				jQuery.map( scripts, restoreScript );

				// Evaluate executable scripts on first document insertion
				for ( i = 0; i < hasScripts; i++ ) {
					node = scripts[ i ];
					if ( rscriptType.test( node.type || "" ) &&
						!dataPriv.access( node, "globalEval" ) &&
						jQuery.contains( doc, node ) ) {

						if ( node.src && ( node.type || "" ).toLowerCase()  !== "module" ) {

							// Optional AJAX dependency, but won't run scripts if not present
							if ( jQuery._evalUrl && !node.noModule ) {
								jQuery._evalUrl( node.src, {
									nonce: node.nonce || node.getAttribute( "nonce" )
								}, doc );
							}
						} else {

							// Unwrap a CDATA section containing script contents. This shouldn't be
							// needed as in XML documents they're already not visible when
							// inspecting element contents and in HTML documents they have no
							// meaning but we're preserving that logic for backwards compatibility.
							// This will be removed completely in 4.0. See gh-4904.
							DOMEval( node.textContent.replace( rcleanScript, "" ), node, doc );
						}
					}
				}
			}
		}
	}

	return collection;
}

function remove( elem, selector, keepData ) {
	var node,
		nodes = selector ? jQuery.filter( selector, elem ) : elem,
		i = 0;

	for ( ; ( node = nodes[ i ] ) != null; i++ ) {
		if ( !keepData && node.nodeType === 1 ) {
			jQuery.cleanData( getAll( node ) );
		}

		if ( node.parentNode ) {
			if ( keepData && isAttached( node ) ) {
				setGlobalEval( getAll( node, "script" ) );
			}
			node.parentNode.removeChild( node );
		}
	}

	return elem;
}

jQuery.extend( {
	htmlPrefilter: function( html ) {
		return html;
	},

	clone: function( elem, dataAndEvents, deepDataAndEvents ) {
		var i, l, srcElements, destElements,
			clone = elem.cloneNode( true ),
			inPage = isAttached( elem );

		// Fix IE cloning issues
		if ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&
				!jQuery.isXMLDoc( elem ) ) {

			// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2
			destElements = getAll( clone );
			srcElements = getAll( elem );

			for ( i = 0, l = srcElements.length; i < l; i++ ) {
				fixInput( srcElements[ i ], destElements[ i ] );
			}
		}

		// Copy the events from the original to the clone
		if ( dataAndEvents ) {
			if ( deepDataAndEvents ) {
				srcElements = srcElements || getAll( elem );
				destElements = destElements || getAll( clone );

				for ( i = 0, l = srcElements.length; i < l; i++ ) {
					cloneCopyEvent( srcElements[ i ], destElements[ i ] );
				}
			} else {
				cloneCopyEvent( elem, clone );
			}
		}

		// Preserve script evaluation history
		destElements = getAll( clone, "script" );
		if ( destElements.length > 0 ) {
			setGlobalEval( destElements, !inPage && getAll( elem, "script" ) );
		}

		// Return the cloned set
		return clone;
	},

	cleanData: function( elems ) {
		var data, elem, type,
			special = jQuery.event.special,
			i = 0;

		for ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {
			if ( acceptData( elem ) ) {
				if ( ( data = elem[ dataPriv.expando ] ) ) {
					if ( data.events ) {
						for ( type in data.events ) {
							if ( special[ type ] ) {
								jQuery.event.remove( elem, type );

							// This is a shortcut to avoid jQuery.event.remove's overhead
							} else {
								jQuery.removeEvent( elem, type, data.handle );
							}
						}
					}

					// Support: Chrome <=35 - 45+
					// Assign undefined instead of using delete, see Data#remove
					elem[ dataPriv.expando ] = undefined;
				}
				if ( elem[ dataUser.expando ] ) {

					// Support: Chrome <=35 - 45+
					// Assign undefined instead of using delete, see Data#remove
					elem[ dataUser.expando ] = undefined;
				}
			}
		}
	}
} );

jQuery.fn.extend( {
	detach: function( selector ) {
		return remove( this, selector, true );
	},

	remove: function( selector ) {
		return remove( this, selector );
	},

	text: function( value ) {
		return access( this, function( value ) {
			return value === undefined ?
				jQuery.text( this ) :
				this.empty().each( function() {
					if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
						this.textContent = value;
					}
				} );
		}, null, value, arguments.length );
	},

	append: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.appendChild( elem );
			}
		} );
	},

	prepend: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.insertBefore( elem, target.firstChild );
			}
		} );
	},

	before: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this );
			}
		} );
	},

	after: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this.nextSibling );
			}
		} );
	},

	empty: function() {
		var elem,
			i = 0;

		for ( ; ( elem = this[ i ] ) != null; i++ ) {
			if ( elem.nodeType === 1 ) {

				// Prevent memory leaks
				jQuery.cleanData( getAll( elem, false ) );

				// Remove any remaining nodes
				elem.textContent = "";
			}
		}

		return this;
	},

	clone: function( dataAndEvents, deepDataAndEvents ) {
		dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
		deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;

		return this.map( function() {
			return jQuery.clone( this, dataAndEvents, deepDataAndEvents );
		} );
	},

	html: function( value ) {
		return access( this, function( value ) {
			var elem = this[ 0 ] || {},
				i = 0,
				l = this.length;

			if ( value === undefined && elem.nodeType === 1 ) {
				return elem.innerHTML;
			}

			// See if we can take a shortcut and just use innerHTML
			if ( typeof value === "string" && !rnoInnerhtml.test( value ) &&
				!wrapMap[ ( rtagName.exec( value ) || [ "", "" ] )[ 1 ].toLowerCase() ] ) {

				value = jQuery.htmlPrefilter( value );

				try {
					for ( ; i < l; i++ ) {
						elem = this[ i ] || {};

						// Remove element nodes and prevent memory leaks
						if ( elem.nodeType === 1 ) {
							jQuery.cleanData( getAll( elem, false ) );
							elem.innerHTML = value;
						}
					}

					elem = 0;

				// If using innerHTML throws an exception, use the fallback method
				} catch ( e ) {}
			}

			if ( elem ) {
				this.empty().append( value );
			}
		}, null, value, arguments.length );
	},

	replaceWith: function() {
		var ignored = [];

		// Make the changes, replacing each non-ignored context element with the new content
		return domManip( this, arguments, function( elem ) {
			var parent = this.parentNode;

			if ( jQuery.inArray( this, ignored ) < 0 ) {
				jQuery.cleanData( getAll( this ) );
				if ( parent ) {
					parent.replaceChild( elem, this );
				}
			}

		// Force callback invocation
		}, ignored );
	}
} );

jQuery.each( {
	appendTo: "append",
	prependTo: "prepend",
	insertBefore: "before",
	insertAfter: "after",
	replaceAll: "replaceWith"
}, function( name, original ) {
	jQuery.fn[ name ] = function( selector ) {
		var elems,
			ret = [],
			insert = jQuery( selector ),
			last = insert.length - 1,
			i = 0;

		for ( ; i <= last; i++ ) {
			elems = i === last ? this : this.clone( true );
			jQuery( insert[ i ] )[ original ]( elems );

			// Support: Android <=4.0 only, PhantomJS 1 only
			// .get() because push.apply(_, arraylike) throws on ancient WebKit
			push.apply( ret, elems.get() );
		}

		return this.pushStack( ret );
	};
} );
var rnumnonpx = new RegExp( "^(" + pnum + ")(?!px)[a-z%]+$", "i" );

var rcustomProp = /^--/;


var getStyles = function( elem ) {

		// Support: IE <=11 only, Firefox <=30 (trac-15098, trac-14150)
		// IE throws on elements created in popups
		// FF meanwhile throws on frame elements through "defaultView.getComputedStyle"
		var view = elem.ownerDocument.defaultView;

		if ( !view || !view.opener ) {
			view = window;
		}

		return view.getComputedStyle( elem );
	};

var swap = function( elem, options, callback ) {
	var ret, name,
		old = {};

	// Remember the old values, and insert the new ones
	for ( name in options ) {
		old[ name ] = elem.style[ name ];
		elem.style[ name ] = options[ name ];
	}

	ret = callback.call( elem );

	// Revert the old values
	for ( name in options ) {
		elem.style[ name ] = old[ name ];
	}

	return ret;
};


var rboxStyle = new RegExp( cssExpand.join( "|" ), "i" );

var whitespace = "[\\x20\\t\\r\\n\\f]";


var rtrimCSS = new RegExp(
	"^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$",
	"g"
);




( function() {

	// Executing both pixelPosition & boxSizingReliable tests require only one layout
	// so they're executed at the same time to save the second computation.
	function computeStyleTests() {

		// This is a singleton, we need to execute it only once
		if ( !div ) {
			return;
		}

		container.style.cssText = "position:absolute;left:-11111px;width:60px;" +
			"margin-top:1px;padding:0;border:0";
		div.style.cssText =
			"position:relative;display:block;box-sizing:border-box;overflow:scroll;" +
			"margin:auto;border:1px;padding:1px;" +
			"width:60%;top:1%";
		documentElement.appendChild( container ).appendChild( div );

		var divStyle = window.getComputedStyle( div );
		pixelPositionVal = divStyle.top !== "1%";

		// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44
		reliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;

		// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3
		// Some styles come back with percentage values, even though they shouldn't
		div.style.right = "60%";
		pixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;

		// Support: IE 9 - 11 only
		// Detect misreporting of content dimensions for box-sizing:border-box elements
		boxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;

		// Support: IE 9 only
		// Detect overflow:scroll screwiness (gh-3699)
		// Support: Chrome <=64
		// Don't get tricked when zoom affects offsetWidth (gh-4029)
		div.style.position = "absolute";
		scrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;

		documentElement.removeChild( container );

		// Nullify the div so it wouldn't be stored in the memory and
		// it will also be a sign that checks already performed
		div = null;
	}

	function roundPixelMeasures( measure ) {
		return Math.round( parseFloat( measure ) );
	}

	var pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,
		reliableTrDimensionsVal, reliableMarginLeftVal,
		container = document.createElement( "div" ),
		div = document.createElement( "div" );

	// Finish early in limited (non-browser) environments
	if ( !div.style ) {
		return;
	}

	// Support: IE <=9 - 11 only
	// Style of cloned element affects source element cloned (trac-8908)
	div.style.backgroundClip = "content-box";
	div.cloneNode( true ).style.backgroundClip = "";
	support.clearCloneStyle = div.style.backgroundClip === "content-box";

	jQuery.extend( support, {
		boxSizingReliable: function() {
			computeStyleTests();
			return boxSizingReliableVal;
		},
		pixelBoxStyles: function() {
			computeStyleTests();
			return pixelBoxStylesVal;
		},
		pixelPosition: function() {
			computeStyleTests();
			return pixelPositionVal;
		},
		reliableMarginLeft: function() {
			computeStyleTests();
			return reliableMarginLeftVal;
		},
		scrollboxSize: function() {
			computeStyleTests();
			return scrollboxSizeVal;
		},

		// Support: IE 9 - 11+, Edge 15 - 18+
		// IE/Edge misreport `getComputedStyle` of table rows with width/height
		// set in CSS while `offset*` properties report correct values.
		// Behavior in IE 9 is more subtle than in newer versions & it passes
		// some versions of this test; make sure not to make it pass there!
		//
		// Support: Firefox 70+
		// Only Firefox includes border widths
		// in computed dimensions. (gh-4529)
		reliableTrDimensions: function() {
			var table, tr, trChild, trStyle;
			if ( reliableTrDimensionsVal == null ) {
				table = document.createElement( "table" );
				tr = document.createElement( "tr" );
				trChild = document.createElement( "div" );

				table.style.cssText = "position:absolute;left:-11111px;border-collapse:separate";
				tr.style.cssText = "border:1px solid";

				// Support: Chrome 86+
				// Height set through cssText does not get applied.
				// Computed height then comes back as 0.
				tr.style.height = "1px";
				trChild.style.height = "9px";

				// Support: Android 8 Chrome 86+
				// In our bodyBackground.html iframe,
				// display for all div elements is set to "inline",
				// which causes a problem only in Android 8 Chrome 86.
				// Ensuring the div is display: block
				// gets around this issue.
				trChild.style.display = "block";

				documentElement
					.appendChild( table )
					.appendChild( tr )
					.appendChild( trChild );

				trStyle = window.getComputedStyle( tr );
				reliableTrDimensionsVal = ( parseInt( trStyle.height, 10 ) +
					parseInt( trStyle.borderTopWidth, 10 ) +
					parseInt( trStyle.borderBottomWidth, 10 ) ) === tr.offsetHeight;

				documentElement.removeChild( table );
			}
			return reliableTrDimensionsVal;
		}
	} );
} )();


function curCSS( elem, name, computed ) {
	var width, minWidth, maxWidth, ret,
		isCustomProp = rcustomProp.test( name ),

		// Support: Firefox 51+
		// Retrieving style before computed somehow
		// fixes an issue with getting wrong values
		// on detached elements
		style = elem.style;

	computed = computed || getStyles( elem );

	// getPropertyValue is needed for:
	//   .css('filter') (IE 9 only, trac-12537)
	//   .css('--customProperty) (gh-3144)
	if ( computed ) {
		ret = computed.getPropertyValue( name ) || computed[ name ];

		// trim whitespace for custom property (issue gh-4926)
		if ( isCustomProp ) {

			// rtrim treats U+000D CARRIAGE RETURN and U+000C FORM FEED
			// as whitespace while CSS does not, but this is not a problem
			// because CSS preprocessing replaces them with U+000A LINE FEED
			// (which *is* CSS whitespace)
			// https://www.w3.org/TR/css-syntax-3/#input-preprocessing
			ret = ret.replace( rtrimCSS, "$1" );
		}

		if ( ret === "" && !isAttached( elem ) ) {
			ret = jQuery.style( elem, name );
		}

		// A tribute to the "awesome hack by Dean Edwards"
		// Android Browser returns percentage for some values,
		// but width seems to be reliably pixels.
		// This is against the CSSOM draft spec:
		// https://drafts.csswg.org/cssom/#resolved-values
		if ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {

			// Remember the original values
			width = style.width;
			minWidth = style.minWidth;
			maxWidth = style.maxWidth;

			// Put in the new values to get a computed value out
			style.minWidth = style.maxWidth = style.width = ret;
			ret = computed.width;

			// Revert the changed values
			style.width = width;
			style.minWidth = minWidth;
			style.maxWidth = maxWidth;
		}
	}

	return ret !== undefined ?

		// Support: IE <=9 - 11 only
		// IE returns zIndex value as an integer.
		ret + "" :
		ret;
}


function addGetHookIf( conditionFn, hookFn ) {

	// Define the hook, we'll check on the first run if it's really needed.
	return {
		get: function() {
			if ( conditionFn() ) {

				// Hook not needed (or it's not possible to use it due
				// to missing dependency), remove it.
				delete this.get;
				return;
			}

			// Hook needed; redefine it so that the support test is not executed again.
			return ( this.get = hookFn ).apply( this, arguments );
		}
	};
}


var cssPrefixes = [ "Webkit", "Moz", "ms" ],
	emptyStyle = document.createElement( "div" ).style,
	vendorProps = {};

// Return a vendor-prefixed property or undefined
function vendorPropName( name ) {

	// Check for vendor prefixed names
	var capName = name[ 0 ].toUpperCase() + name.slice( 1 ),
		i = cssPrefixes.length;

	while ( i-- ) {
		name = cssPrefixes[ i ] + capName;
		if ( name in emptyStyle ) {
			return name;
		}
	}
}

// Return a potentially-mapped jQuery.cssProps or vendor prefixed property
function finalPropName( name ) {
	var final = jQuery.cssProps[ name ] || vendorProps[ name ];

	if ( final ) {
		return final;
	}
	if ( name in emptyStyle ) {
		return name;
	}
	return vendorProps[ name ] = vendorPropName( name ) || name;
}


var

	// Swappable if display is none or starts with table
	// except "table", "table-cell", or "table-caption"
	// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display
	rdisplayswap = /^(none|table(?!-c[ea]).+)/,
	cssShow = { position: "absolute", visibility: "hidden", display: "block" },
	cssNormalTransform = {
		letterSpacing: "0",
		fontWeight: "400"
	};

function setPositiveNumber( _elem, value, subtract ) {

	// Any relative (+/-) values have already been
	// normalized at this point
	var matches = rcssNum.exec( value );
	return matches ?

		// Guard against undefined "subtract", e.g., when used as in cssHooks
		Math.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || "px" ) :
		value;
}

function boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {
	var i = dimension === "width" ? 1 : 0,
		extra = 0,
		delta = 0;

	// Adjustment may not be necessary
	if ( box === ( isBorderBox ? "border" : "content" ) ) {
		return 0;
	}

	for ( ; i < 4; i += 2 ) {

		// Both box models exclude margin
		if ( box === "margin" ) {
			delta += jQuery.css( elem, box + cssExpand[ i ], true, styles );
		}

		// If we get here with a content-box, we're seeking "padding" or "border" or "margin"
		if ( !isBorderBox ) {

			// Add padding
			delta += jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );

			// For "border" or "margin", add border
			if ( box !== "padding" ) {
				delta += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );

			// But still keep track of it otherwise
			} else {
				extra += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}

		// If we get here with a border-box (content + padding + border), we're seeking "content" or
		// "padding" or "margin"
		} else {

			// For "content", subtract padding
			if ( box === "content" ) {
				delta -= jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );
			}

			// For "content" or "padding", subtract border
			if ( box !== "margin" ) {
				delta -= jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}
		}
	}

	// Account for positive content-box scroll gutter when requested by providing computedVal
	if ( !isBorderBox && computedVal >= 0 ) {

		// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border
		// Assuming integer scroll gutter, subtract the rest and round down
		delta += Math.max( 0, Math.ceil(
			elem[ "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -
			computedVal -
			delta -
			extra -
			0.5

		// If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter
		// Use an explicit zero to avoid NaN (gh-3964)
		) ) || 0;
	}

	return delta;
}

function getWidthOrHeight( elem, dimension, extra ) {

	// Start with computed style
	var styles = getStyles( elem ),

		// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).
		// Fake content-box until we know it's needed to know the true value.
		boxSizingNeeded = !support.boxSizingReliable() || extra,
		isBorderBox = boxSizingNeeded &&
			jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
		valueIsBorderBox = isBorderBox,

		val = curCSS( elem, dimension, styles ),
		offsetProp = "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );

	// Support: Firefox <=54
	// Return a confounding non-pixel value or feign ignorance, as appropriate.
	if ( rnumnonpx.test( val ) ) {
		if ( !extra ) {
			return val;
		}
		val = "auto";
	}


	// Support: IE 9 - 11 only
	// Use offsetWidth/offsetHeight for when box sizing is unreliable.
	// In those cases, the computed value can be trusted to be border-box.
	if ( ( !support.boxSizingReliable() && isBorderBox ||

		// Support: IE 10 - 11+, Edge 15 - 18+
		// IE/Edge misreport `getComputedStyle` of table rows with width/height
		// set in CSS while `offset*` properties report correct values.
		// Interestingly, in some cases IE 9 doesn't suffer from this issue.
		!support.reliableTrDimensions() && nodeName( elem, "tr" ) ||

		// Fall back to offsetWidth/offsetHeight when value is "auto"
		// This happens for inline elements with no explicit setting (gh-3571)
		val === "auto" ||

		// Support: Android <=4.1 - 4.3 only
		// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)
		!parseFloat( val ) && jQuery.css( elem, "display", false, styles ) === "inline" ) &&

		// Make sure the element is visible & connected
		elem.getClientRects().length ) {

		isBorderBox = jQuery.css( elem, "boxSizing", false, styles ) === "border-box";

		// Where available, offsetWidth/offsetHeight approximate border box dimensions.
		// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the
		// retrieved value as a content box dimension.
		valueIsBorderBox = offsetProp in elem;
		if ( valueIsBorderBox ) {
			val = elem[ offsetProp ];
		}
	}

	// Normalize "" and auto
	val = parseFloat( val ) || 0;

	// Adjust for the element's box model
	return ( val +
		boxModelAdjustment(
			elem,
			dimension,
			extra || ( isBorderBox ? "border" : "content" ),
			valueIsBorderBox,
			styles,

			// Provide the current computed size to request scroll gutter calculation (gh-3589)
			val
		)
	) + "px";
}

jQuery.extend( {

	// Add in style property hooks for overriding the default
	// behavior of getting and setting a style property
	cssHooks: {
		opacity: {
			get: function( elem, computed ) {
				if ( computed ) {

					// We should always get a number back from opacity
					var ret = curCSS( elem, "opacity" );
					return ret === "" ? "1" : ret;
				}
			}
		}
	},

	// Don't automatically add "px" to these possibly-unitless properties
	cssNumber: {
		"animationIterationCount": true,
		"columnCount": true,
		"fillOpacity": true,
		"flexGrow": true,
		"flexShrink": true,
		"fontWeight": true,
		"gridArea": true,
		"gridColumn": true,
		"gridColumnEnd": true,
		"gridColumnStart": true,
		"gridRow": true,
		"gridRowEnd": true,
		"gridRowStart": true,
		"lineHeight": true,
		"opacity": true,
		"order": true,
		"orphans": true,
		"widows": true,
		"zIndex": true,
		"zoom": true
	},

	// Add in properties whose names you wish to fix before
	// setting or getting the value
	cssProps: {},

	// Get and set the style property on a DOM Node
	style: function( elem, name, value, extra ) {

		// Don't set styles on text and comment nodes
		if ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {
			return;
		}

		// Make sure that we're working with the right name
		var ret, type, hooks,
			origName = camelCase( name ),
			isCustomProp = rcustomProp.test( name ),
			style = elem.style;

		// Make sure that we're working with the right name. We don't
		// want to query the value if it is a CSS custom property
		// since they are user-defined.
		if ( !isCustomProp ) {
			name = finalPropName( origName );
		}

		// Gets hook for the prefixed version, then unprefixed version
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// Check if we're setting a value
		if ( value !== undefined ) {
			type = typeof value;

			// Convert "+=" or "-=" to relative numbers (trac-7345)
			if ( type === "string" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {
				value = adjustCSS( elem, name, ret );

				// Fixes bug trac-9237
				type = "number";
			}

			// Make sure that null and NaN values aren't set (trac-7116)
			if ( value == null || value !== value ) {
				return;
			}

			// If a number was passed in, add the unit (except for certain CSS properties)
			// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append
			// "px" to a few hardcoded values.
			if ( type === "number" && !isCustomProp ) {
				value += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? "" : "px" );
			}

			// background-* props affect original clone's values
			if ( !support.clearCloneStyle && value === "" && name.indexOf( "background" ) === 0 ) {
				style[ name ] = "inherit";
			}

			// If a hook was provided, use that value, otherwise just set the specified value
			if ( !hooks || !( "set" in hooks ) ||
				( value = hooks.set( elem, value, extra ) ) !== undefined ) {

				if ( isCustomProp ) {
					style.setProperty( name, value );
				} else {
					style[ name ] = value;
				}
			}

		} else {

			// If a hook was provided get the non-computed value from there
			if ( hooks && "get" in hooks &&
				( ret = hooks.get( elem, false, extra ) ) !== undefined ) {

				return ret;
			}

			// Otherwise just get the value from the style object
			return style[ name ];
		}
	},

	css: function( elem, name, extra, styles ) {
		var val, num, hooks,
			origName = camelCase( name ),
			isCustomProp = rcustomProp.test( name );

		// Make sure that we're working with the right name. We don't
		// want to modify the value if it is a CSS custom property
		// since they are user-defined.
		if ( !isCustomProp ) {
			name = finalPropName( origName );
		}

		// Try prefixed name followed by the unprefixed name
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// If a hook was provided get the computed value from there
		if ( hooks && "get" in hooks ) {
			val = hooks.get( elem, true, extra );
		}

		// Otherwise, if a way to get the computed value exists, use that
		if ( val === undefined ) {
			val = curCSS( elem, name, styles );
		}

		// Convert "normal" to computed value
		if ( val === "normal" && name in cssNormalTransform ) {
			val = cssNormalTransform[ name ];
		}

		// Make numeric if forced or a qualifier was provided and val looks numeric
		if ( extra === "" || extra ) {
			num = parseFloat( val );
			return extra === true || isFinite( num ) ? num || 0 : val;
		}

		return val;
	}
} );

jQuery.each( [ "height", "width" ], function( _i, dimension ) {
	jQuery.cssHooks[ dimension ] = {
		get: function( elem, computed, extra ) {
			if ( computed ) {

				// Certain elements can have dimension info if we invisibly show them
				// but it must have a current display style that would benefit
				return rdisplayswap.test( jQuery.css( elem, "display" ) ) &&

					// Support: Safari 8+
					// Table columns in Safari have non-zero offsetWidth & zero
					// getBoundingClientRect().width unless display is changed.
					// Support: IE <=11 only
					// Running getBoundingClientRect on a disconnected node
					// in IE throws an error.
					( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?
					swap( elem, cssShow, function() {
						return getWidthOrHeight( elem, dimension, extra );
					} ) :
					getWidthOrHeight( elem, dimension, extra );
			}
		},

		set: function( elem, value, extra ) {
			var matches,
				styles = getStyles( elem ),

				// Only read styles.position if the test has a chance to fail
				// to avoid forcing a reflow.
				scrollboxSizeBuggy = !support.scrollboxSize() &&
					styles.position === "absolute",

				// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)
				boxSizingNeeded = scrollboxSizeBuggy || extra,
				isBorderBox = boxSizingNeeded &&
					jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
				subtract = extra ?
					boxModelAdjustment(
						elem,
						dimension,
						extra,
						isBorderBox,
						styles
					) :
					0;

			// Account for unreliable border-box dimensions by comparing offset* to computed and
			// faking a content-box to get border and padding (gh-3699)
			if ( isBorderBox && scrollboxSizeBuggy ) {
				subtract -= Math.ceil(
					elem[ "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -
					parseFloat( styles[ dimension ] ) -
					boxModelAdjustment( elem, dimension, "border", false, styles ) -
					0.5
				);
			}

			// Convert to pixels if value adjustment is needed
			if ( subtract && ( matches = rcssNum.exec( value ) ) &&
				( matches[ 3 ] || "px" ) !== "px" ) {

				elem.style[ dimension ] = value;
				value = jQuery.css( elem, dimension );
			}

			return setPositiveNumber( elem, value, subtract );
		}
	};
} );

jQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,
	function( elem, computed ) {
		if ( computed ) {
			return ( parseFloat( curCSS( elem, "marginLeft" ) ) ||
				elem.getBoundingClientRect().left -
					swap( elem, { marginLeft: 0 }, function() {
						return elem.getBoundingClientRect().left;
					} )
			) + "px";
		}
	}
);

// These hooks are used by animate to expand properties
jQuery.each( {
	margin: "",
	padding: "",
	border: "Width"
}, function( prefix, suffix ) {
	jQuery.cssHooks[ prefix + suffix ] = {
		expand: function( value ) {
			var i = 0,
				expanded = {},

				// Assumes a single number if not a string
				parts = typeof value === "string" ? value.split( " " ) : [ value ];

			for ( ; i < 4; i++ ) {
				expanded[ prefix + cssExpand[ i ] + suffix ] =
					parts[ i ] || parts[ i - 2 ] || parts[ 0 ];
			}

			return expanded;
		}
	};

	if ( prefix !== "margin" ) {
		jQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;
	}
} );

jQuery.fn.extend( {
	css: function( name, value ) {
		return access( this, function( elem, name, value ) {
			var styles, len,
				map = {},
				i = 0;

			if ( Array.isArray( name ) ) {
				styles = getStyles( elem );
				len = name.length;

				for ( ; i < len; i++ ) {
					map[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );
				}

				return map;
			}

			return value !== undefined ?
				jQuery.style( elem, name, value ) :
				jQuery.css( elem, name );
		}, name, value, arguments.length > 1 );
	}
} );


function Tween( elem, options, prop, end, easing ) {
	return new Tween.prototype.init( elem, options, prop, end, easing );
}
jQuery.Tween = Tween;

Tween.prototype = {
	constructor: Tween,
	init: function( elem, options, prop, end, easing, unit ) {
		this.elem = elem;
		this.prop = prop;
		this.easing = easing || jQuery.easing._default;
		this.options = options;
		this.start = this.now = this.cur();
		this.end = end;
		this.unit = unit || ( jQuery.cssNumber[ prop ] ? "" : "px" );
	},
	cur: function() {
		var hooks = Tween.propHooks[ this.prop ];

		return hooks && hooks.get ?
			hooks.get( this ) :
			Tween.propHooks._default.get( this );
	},
	run: function( percent ) {
		var eased,
			hooks = Tween.propHooks[ this.prop ];

		if ( this.options.duration ) {
			this.pos = eased = jQuery.easing[ this.easing ](
				percent, this.options.duration * percent, 0, 1, this.options.duration
			);
		} else {
			this.pos = eased = percent;
		}
		this.now = ( this.end - this.start ) * eased + this.start;

		if ( this.options.step ) {
			this.options.step.call( this.elem, this.now, this );
		}

		if ( hooks && hooks.set ) {
			hooks.set( this );
		} else {
			Tween.propHooks._default.set( this );
		}
		return this;
	}
};

Tween.prototype.init.prototype = Tween.prototype;

Tween.propHooks = {
	_default: {
		get: function( tween ) {
			var result;

			// Use a property on the element directly when it is not a DOM element,
			// or when there is no matching style property that exists.
			if ( tween.elem.nodeType !== 1 ||
				tween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {
				return tween.elem[ tween.prop ];
			}

			// Passing an empty string as a 3rd parameter to .css will automatically
			// attempt a parseFloat and fallback to a string if the parse fails.
			// Simple values such as "10px" are parsed to Float;
			// complex values such as "rotate(1rad)" are returned as-is.
			result = jQuery.css( tween.elem, tween.prop, "" );

			// Empty strings, null, undefined and "auto" are converted to 0.
			return !result || result === "auto" ? 0 : result;
		},
		set: function( tween ) {

			// Use step hook for back compat.
			// Use cssHook if its there.
			// Use .style if available and use plain properties where available.
			if ( jQuery.fx.step[ tween.prop ] ) {
				jQuery.fx.step[ tween.prop ]( tween );
			} else if ( tween.elem.nodeType === 1 && (
				jQuery.cssHooks[ tween.prop ] ||
					tween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {
				jQuery.style( tween.elem, tween.prop, tween.now + tween.unit );
			} else {
				tween.elem[ tween.prop ] = tween.now;
			}
		}
	}
};

// Support: IE <=9 only
// Panic based approach to setting things on disconnected nodes
Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
	set: function( tween ) {
		if ( tween.elem.nodeType && tween.elem.parentNode ) {
			tween.elem[ tween.prop ] = tween.now;
		}
	}
};

jQuery.easing = {
	linear: function( p ) {
		return p;
	},
	swing: function( p ) {
		return 0.5 - Math.cos( p * Math.PI ) / 2;
	},
	_default: "swing"
};

jQuery.fx = Tween.prototype.init;

// Back compat <1.8 extension point
jQuery.fx.step = {};




var
	fxNow, inProgress,
	rfxtypes = /^(?:toggle|show|hide)$/,
	rrun = /queueHooks$/;

function schedule() {
	if ( inProgress ) {
		if ( document.hidden === false && window.requestAnimationFrame ) {
			window.requestAnimationFrame( schedule );
		} else {
			window.setTimeout( schedule, jQuery.fx.interval );
		}

		jQuery.fx.tick();
	}
}

// Animations created synchronously will run synchronously
function createFxNow() {
	window.setTimeout( function() {
		fxNow = undefined;
	} );
	return ( fxNow = Date.now() );
}

// Generate parameters to create a standard animation
function genFx( type, includeWidth ) {
	var which,
		i = 0,
		attrs = { height: type };

	// If we include width, step value is 1 to do all cssExpand values,
	// otherwise step value is 2 to skip over Left and Right
	includeWidth = includeWidth ? 1 : 0;
	for ( ; i < 4; i += 2 - includeWidth ) {
		which = cssExpand[ i ];
		attrs[ "margin" + which ] = attrs[ "padding" + which ] = type;
	}

	if ( includeWidth ) {
		attrs.opacity = attrs.width = type;
	}

	return attrs;
}

function createTween( value, prop, animation ) {
	var tween,
		collection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ "*" ] ),
		index = 0,
		length = collection.length;
	for ( ; index < length; index++ ) {
		if ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {

			// We're done with this property
			return tween;
		}
	}
}

function defaultPrefilter( elem, props, opts ) {
	var prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,
		isBox = "width" in props || "height" in props,
		anim = this,
		orig = {},
		style = elem.style,
		hidden = elem.nodeType && isHiddenWithinTree( elem ),
		dataShow = dataPriv.get( elem, "fxshow" );

	// Queue-skipping animations hijack the fx hooks
	if ( !opts.queue ) {
		hooks = jQuery._queueHooks( elem, "fx" );
		if ( hooks.unqueued == null ) {
			hooks.unqueued = 0;
			oldfire = hooks.empty.fire;
			hooks.empty.fire = function() {
				if ( !hooks.unqueued ) {
					oldfire();
				}
			};
		}
		hooks.unqueued++;

		anim.always( function() {

			// Ensure the complete handler is called before this completes
			anim.always( function() {
				hooks.unqueued--;
				if ( !jQuery.queue( elem, "fx" ).length ) {
					hooks.empty.fire();
				}
			} );
		} );
	}

	// Detect show/hide animations
	for ( prop in props ) {
		value = props[ prop ];
		if ( rfxtypes.test( value ) ) {
			delete props[ prop ];
			toggle = toggle || value === "toggle";
			if ( value === ( hidden ? "hide" : "show" ) ) {

				// Pretend to be hidden if this is a "show" and
				// there is still data from a stopped show/hide
				if ( value === "show" && dataShow && dataShow[ prop ] !== undefined ) {
					hidden = true;

				// Ignore all other no-op show/hide data
				} else {
					continue;
				}
			}
			orig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );
		}
	}

	// Bail out if this is a no-op like .hide().hide()
	propTween = !jQuery.isEmptyObject( props );
	if ( !propTween && jQuery.isEmptyObject( orig ) ) {
		return;
	}

	// Restrict "overflow" and "display" styles during box animations
	if ( isBox && elem.nodeType === 1 ) {

		// Support: IE <=9 - 11, Edge 12 - 15
		// Record all 3 overflow attributes because IE does not infer the shorthand
		// from identically-valued overflowX and overflowY and Edge just mirrors
		// the overflowX value there.
		opts.overflow = [ style.overflow, style.overflowX, style.overflowY ];

		// Identify a display type, preferring old show/hide data over the CSS cascade
		restoreDisplay = dataShow && dataShow.display;
		if ( restoreDisplay == null ) {
			restoreDisplay = dataPriv.get( elem, "display" );
		}
		display = jQuery.css( elem, "display" );
		if ( display === "none" ) {
			if ( restoreDisplay ) {
				display = restoreDisplay;
			} else {

				// Get nonempty value(s) by temporarily forcing visibility
				showHide( [ elem ], true );
				restoreDisplay = elem.style.display || restoreDisplay;
				display = jQuery.css( elem, "display" );
				showHide( [ elem ] );
			}
		}

		// Animate inline elements as inline-block
		if ( display === "inline" || display === "inline-block" && restoreDisplay != null ) {
			if ( jQuery.css( elem, "float" ) === "none" ) {

				// Restore the original display value at the end of pure show/hide animations
				if ( !propTween ) {
					anim.done( function() {
						style.display = restoreDisplay;
					} );
					if ( restoreDisplay == null ) {
						display = style.display;
						restoreDisplay = display === "none" ? "" : display;
					}
				}
				style.display = "inline-block";
			}
		}
	}

	if ( opts.overflow ) {
		style.overflow = "hidden";
		anim.always( function() {
			style.overflow = opts.overflow[ 0 ];
			style.overflowX = opts.overflow[ 1 ];
			style.overflowY = opts.overflow[ 2 ];
		} );
	}

	// Implement show/hide animations
	propTween = false;
	for ( prop in orig ) {

		// General show/hide setup for this element animation
		if ( !propTween ) {
			if ( dataShow ) {
				if ( "hidden" in dataShow ) {
					hidden = dataShow.hidden;
				}
			} else {
				dataShow = dataPriv.access( elem, "fxshow", { display: restoreDisplay } );
			}

			// Store hidden/visible for toggle so `.stop().toggle()` "reverses"
			if ( toggle ) {
				dataShow.hidden = !hidden;
			}

			// Show elements before animating them
			if ( hidden ) {
				showHide( [ elem ], true );
			}

			/* eslint-disable no-loop-func */

			anim.done( function() {

				/* eslint-enable no-loop-func */

				// The final step of a "hide" animation is actually hiding the element
				if ( !hidden ) {
					showHide( [ elem ] );
				}
				dataPriv.remove( elem, "fxshow" );
				for ( prop in orig ) {
					jQuery.style( elem, prop, orig[ prop ] );
				}
			} );
		}

		// Per-property setup
		propTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );
		if ( !( prop in dataShow ) ) {
			dataShow[ prop ] = propTween.start;
			if ( hidden ) {
				propTween.end = propTween.start;
				propTween.start = 0;
			}
		}
	}
}

function propFilter( props, specialEasing ) {
	var index, name, easing, value, hooks;

	// camelCase, specialEasing and expand cssHook pass
	for ( index in props ) {
		name = camelCase( index );
		easing = specialEasing[ name ];
		value = props[ index ];
		if ( Array.isArray( value ) ) {
			easing = value[ 1 ];
			value = props[ index ] = value[ 0 ];
		}

		if ( index !== name ) {
			props[ name ] = value;
			delete props[ index ];
		}

		hooks = jQuery.cssHooks[ name ];
		if ( hooks && "expand" in hooks ) {
			value = hooks.expand( value );
			delete props[ name ];

			// Not quite $.extend, this won't overwrite existing keys.
			// Reusing 'index' because we have the correct "name"
			for ( index in value ) {
				if ( !( index in props ) ) {
					props[ index ] = value[ index ];
					specialEasing[ index ] = easing;
				}
			}
		} else {
			specialEasing[ name ] = easing;
		}
	}
}

function Animation( elem, properties, options ) {
	var result,
		stopped,
		index = 0,
		length = Animation.prefilters.length,
		deferred = jQuery.Deferred().always( function() {

			// Don't match elem in the :animated selector
			delete tick.elem;
		} ),
		tick = function() {
			if ( stopped ) {
				return false;
			}
			var currentTime = fxNow || createFxNow(),
				remaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),

				// Support: Android 2.3 only
				// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (trac-12497)
				temp = remaining / animation.duration || 0,
				percent = 1 - temp,
				index = 0,
				length = animation.tweens.length;

			for ( ; index < length; index++ ) {
				animation.tweens[ index ].run( percent );
			}

			deferred.notifyWith( elem, [ animation, percent, remaining ] );

			// If there's more to do, yield
			if ( percent < 1 && length ) {
				return remaining;
			}

			// If this was an empty animation, synthesize a final progress notification
			if ( !length ) {
				deferred.notifyWith( elem, [ animation, 1, 0 ] );
			}

			// Resolve the animation and report its conclusion
			deferred.resolveWith( elem, [ animation ] );
			return false;
		},
		animation = deferred.promise( {
			elem: elem,
			props: jQuery.extend( {}, properties ),
			opts: jQuery.extend( true, {
				specialEasing: {},
				easing: jQuery.easing._default
			}, options ),
			originalProperties: properties,
			originalOptions: options,
			startTime: fxNow || createFxNow(),
			duration: options.duration,
			tweens: [],
			createTween: function( prop, end ) {
				var tween = jQuery.Tween( elem, animation.opts, prop, end,
					animation.opts.specialEasing[ prop ] || animation.opts.easing );
				animation.tweens.push( tween );
				return tween;
			},
			stop: function( gotoEnd ) {
				var index = 0,

					// If we are going to the end, we want to run all the tweens
					// otherwise we skip this part
					length = gotoEnd ? animation.tweens.length : 0;
				if ( stopped ) {
					return this;
				}
				stopped = true;
				for ( ; index < length; index++ ) {
					animation.tweens[ index ].run( 1 );
				}

				// Resolve when we played the last frame; otherwise, reject
				if ( gotoEnd ) {
					deferred.notifyWith( elem, [ animation, 1, 0 ] );
					deferred.resolveWith( elem, [ animation, gotoEnd ] );
				} else {
					deferred.rejectWith( elem, [ animation, gotoEnd ] );
				}
				return this;
			}
		} ),
		props = animation.props;

	propFilter( props, animation.opts.specialEasing );

	for ( ; index < length; index++ ) {
		result = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );
		if ( result ) {
			if ( isFunction( result.stop ) ) {
				jQuery._queueHooks( animation.elem, animation.opts.queue ).stop =
					result.stop.bind( result );
			}
			return result;
		}
	}

	jQuery.map( props, createTween, animation );

	if ( isFunction( animation.opts.start ) ) {
		animation.opts.start.call( elem, animation );
	}

	// Attach callbacks from options
	animation
		.progress( animation.opts.progress )
		.done( animation.opts.done, animation.opts.complete )
		.fail( animation.opts.fail )
		.always( animation.opts.always );

	jQuery.fx.timer(
		jQuery.extend( tick, {
			elem: elem,
			anim: animation,
			queue: animation.opts.queue
		} )
	);

	return animation;
}

jQuery.Animation = jQuery.extend( Animation, {

	tweeners: {
		"*": [ function( prop, value ) {
			var tween = this.createTween( prop, value );
			adjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );
			return tween;
		} ]
	},

	tweener: function( props, callback ) {
		if ( isFunction( props ) ) {
			callback = props;
			props = [ "*" ];
		} else {
			props = props.match( rnothtmlwhite );
		}

		var prop,
			index = 0,
			length = props.length;

		for ( ; index < length; index++ ) {
			prop = props[ index ];
			Animation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];
			Animation.tweeners[ prop ].unshift( callback );
		}
	},

	prefilters: [ defaultPrefilter ],

	prefilter: function( callback, prepend ) {
		if ( prepend ) {
			Animation.prefilters.unshift( callback );
		} else {
			Animation.prefilters.push( callback );
		}
	}
} );

jQuery.speed = function( speed, easing, fn ) {
	var opt = speed && typeof speed === "object" ? jQuery.extend( {}, speed ) : {
		complete: fn || !fn && easing ||
			isFunction( speed ) && speed,
		duration: speed,
		easing: fn && easing || easing && !isFunction( easing ) && easing
	};

	// Go to the end state if fx are off
	if ( jQuery.fx.off ) {
		opt.duration = 0;

	} else {
		if ( typeof opt.duration !== "number" ) {
			if ( opt.duration in jQuery.fx.speeds ) {
				opt.duration = jQuery.fx.speeds[ opt.duration ];

			} else {
				opt.duration = jQuery.fx.speeds._default;
			}
		}
	}

	// Normalize opt.queue - true/undefined/null -> "fx"
	if ( opt.queue == null || opt.queue === true ) {
		opt.queue = "fx";
	}

	// Queueing
	opt.old = opt.complete;

	opt.complete = function() {
		if ( isFunction( opt.old ) ) {
			opt.old.call( this );
		}

		if ( opt.queue ) {
			jQuery.dequeue( this, opt.queue );
		}
	};

	return opt;
};

jQuery.fn.extend( {
	fadeTo: function( speed, to, easing, callback ) {

		// Show any hidden elements after setting opacity to 0
		return this.filter( isHiddenWithinTree ).css( "opacity", 0 ).show()

			// Animate to the value specified
			.end().animate( { opacity: to }, speed, easing, callback );
	},
	animate: function( prop, speed, easing, callback ) {
		var empty = jQuery.isEmptyObject( prop ),
			optall = jQuery.speed( speed, easing, callback ),
			doAnimation = function() {

				// Operate on a copy of prop so per-property easing won't be lost
				var anim = Animation( this, jQuery.extend( {}, prop ), optall );

				// Empty animations, or finishing resolves immediately
				if ( empty || dataPriv.get( this, "finish" ) ) {
					anim.stop( true );
				}
			};

		doAnimation.finish = doAnimation;

		return empty || optall.queue === false ?
			this.each( doAnimation ) :
			this.queue( optall.queue, doAnimation );
	},
	stop: function( type, clearQueue, gotoEnd ) {
		var stopQueue = function( hooks ) {
			var stop = hooks.stop;
			delete hooks.stop;
			stop( gotoEnd );
		};

		if ( typeof type !== "string" ) {
			gotoEnd = clearQueue;
			clearQueue = type;
			type = undefined;
		}
		if ( clearQueue ) {
			this.queue( type || "fx", [] );
		}

		return this.each( function() {
			var dequeue = true,
				index = type != null && type + "queueHooks",
				timers = jQuery.timers,
				data = dataPriv.get( this );

			if ( index ) {
				if ( data[ index ] && data[ index ].stop ) {
					stopQueue( data[ index ] );
				}
			} else {
				for ( index in data ) {
					if ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {
						stopQueue( data[ index ] );
					}
				}
			}

			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this &&
					( type == null || timers[ index ].queue === type ) ) {

					timers[ index ].anim.stop( gotoEnd );
					dequeue = false;
					timers.splice( index, 1 );
				}
			}

			// Start the next in the queue if the last step wasn't forced.
			// Timers currently will call their complete callbacks, which
			// will dequeue but only if they were gotoEnd.
			if ( dequeue || !gotoEnd ) {
				jQuery.dequeue( this, type );
			}
		} );
	},
	finish: function( type ) {
		if ( type !== false ) {
			type = type || "fx";
		}
		return this.each( function() {
			var index,
				data = dataPriv.get( this ),
				queue = data[ type + "queue" ],
				hooks = data[ type + "queueHooks" ],
				timers = jQuery.timers,
				length = queue ? queue.length : 0;

			// Enable finishing flag on private data
			data.finish = true;

			// Empty the queue first
			jQuery.queue( this, type, [] );

			if ( hooks && hooks.stop ) {
				hooks.stop.call( this, true );
			}

			// Look for any active animations, and finish them
			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this && timers[ index ].queue === type ) {
					timers[ index ].anim.stop( true );
					timers.splice( index, 1 );
				}
			}

			// Look for any animations in the old queue and finish them
			for ( index = 0; index < length; index++ ) {
				if ( queue[ index ] && queue[ index ].finish ) {
					queue[ index ].finish.call( this );
				}
			}

			// Turn off finishing flag
			delete data.finish;
		} );
	}
} );

jQuery.each( [ "toggle", "show", "hide" ], function( _i, name ) {
	var cssFn = jQuery.fn[ name ];
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return speed == null || typeof speed === "boolean" ?
			cssFn.apply( this, arguments ) :
			this.animate( genFx( name, true ), speed, easing, callback );
	};
} );

// Generate shortcuts for custom animations
jQuery.each( {
	slideDown: genFx( "show" ),
	slideUp: genFx( "hide" ),
	slideToggle: genFx( "toggle" ),
	fadeIn: { opacity: "show" },
	fadeOut: { opacity: "hide" },
	fadeToggle: { opacity: "toggle" }
}, function( name, props ) {
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return this.animate( props, speed, easing, callback );
	};
} );

jQuery.timers = [];
jQuery.fx.tick = function() {
	var timer,
		i = 0,
		timers = jQuery.timers;

	fxNow = Date.now();

	for ( ; i < timers.length; i++ ) {
		timer = timers[ i ];

		// Run the timer and safely remove it when done (allowing for external removal)
		if ( !timer() && timers[ i ] === timer ) {
			timers.splice( i--, 1 );
		}
	}

	if ( !timers.length ) {
		jQuery.fx.stop();
	}
	fxNow = undefined;
};

jQuery.fx.timer = function( timer ) {
	jQuery.timers.push( timer );
	jQuery.fx.start();
};

jQuery.fx.interval = 13;
jQuery.fx.start = function() {
	if ( inProgress ) {
		return;
	}

	inProgress = true;
	schedule();
};

jQuery.fx.stop = function() {
	inProgress = null;
};

jQuery.fx.speeds = {
	slow: 600,
	fast: 200,

	// Default speed
	_default: 400
};


// Based off of the plugin by Clint Helfers, with permission.
jQuery.fn.delay = function( time, type ) {
	time = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;
	type = type || "fx";

	return this.queue( type, function( next, hooks ) {
		var timeout = window.setTimeout( next, time );
		hooks.stop = function() {
			window.clearTimeout( timeout );
		};
	} );
};


( function() {
	var input = document.createElement( "input" ),
		select = document.createElement( "select" ),
		opt = select.appendChild( document.createElement( "option" ) );

	input.type = "checkbox";

	// Support: Android <=4.3 only
	// Default value for a checkbox should be "on"
	support.checkOn = input.value !== "";

	// Support: IE <=11 only
	// Must access selectedIndex to make default options select
	support.optSelected = opt.selected;

	// Support: IE <=11 only
	// An input loses its value after becoming a radio
	input = document.createElement( "input" );
	input.value = "t";
	input.type = "radio";
	support.radioValue = input.value === "t";
} )();


var boolHook,
	attrHandle = jQuery.expr.attrHandle;

jQuery.fn.extend( {
	attr: function( name, value ) {
		return access( this, jQuery.attr, name, value, arguments.length > 1 );
	},

	removeAttr: function( name ) {
		return this.each( function() {
			jQuery.removeAttr( this, name );
		} );
	}
} );

jQuery.extend( {
	attr: function( elem, name, value ) {
		var ret, hooks,
			nType = elem.nodeType;

		// Don't get/set attributes on text, comment and attribute nodes
		if ( nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		// Fallback to prop when attributes are not supported
		if ( typeof elem.getAttribute === "undefined" ) {
			return jQuery.prop( elem, name, value );
		}

		// Attribute hooks are determined by the lowercase version
		// Grab necessary hook if one is defined
		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {
			hooks = jQuery.attrHooks[ name.toLowerCase() ] ||
				( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );
		}

		if ( value !== undefined ) {
			if ( value === null ) {
				jQuery.removeAttr( elem, name );
				return;
			}

			if ( hooks && "set" in hooks &&
				( ret = hooks.set( elem, value, name ) ) !== undefined ) {
				return ret;
			}

			elem.setAttribute( name, value + "" );
			return value;
		}

		if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {
			return ret;
		}

		ret = jQuery.find.attr( elem, name );

		// Non-existent attributes return null, we normalize to undefined
		return ret == null ? undefined : ret;
	},

	attrHooks: {
		type: {
			set: function( elem, value ) {
				if ( !support.radioValue && value === "radio" &&
					nodeName( elem, "input" ) ) {
					var val = elem.value;
					elem.setAttribute( "type", value );
					if ( val ) {
						elem.value = val;
					}
					return value;
				}
			}
		}
	},

	removeAttr: function( elem, value ) {
		var name,
			i = 0,

			// Attribute names can contain non-HTML whitespace characters
			// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2
			attrNames = value && value.match( rnothtmlwhite );

		if ( attrNames && elem.nodeType === 1 ) {
			while ( ( name = attrNames[ i++ ] ) ) {
				elem.removeAttribute( name );
			}
		}
	}
} );

// Hooks for boolean attributes
boolHook = {
	set: function( elem, value, name ) {
		if ( value === false ) {

			// Remove boolean attributes when set to false
			jQuery.removeAttr( elem, name );
		} else {
			elem.setAttribute( name, name );
		}
		return name;
	}
};

jQuery.each( jQuery.expr.match.bool.source.match( /\w+/g ), function( _i, name ) {
	var getter = attrHandle[ name ] || jQuery.find.attr;

	attrHandle[ name ] = function( elem, name, isXML ) {
		var ret, handle,
			lowercaseName = name.toLowerCase();

		if ( !isXML ) {

			// Avoid an infinite loop by temporarily removing this function from the getter
			handle = attrHandle[ lowercaseName ];
			attrHandle[ lowercaseName ] = ret;
			ret = getter( elem, name, isXML ) != null ?
				lowercaseName :
				null;
			attrHandle[ lowercaseName ] = handle;
		}
		return ret;
	};
} );




var rfocusable = /^(?:input|select|textarea|button)$/i,
	rclickable = /^(?:a|area)$/i;

jQuery.fn.extend( {
	prop: function( name, value ) {
		return access( this, jQuery.prop, name, value, arguments.length > 1 );
	},

	removeProp: function( name ) {
		return this.each( function() {
			delete this[ jQuery.propFix[ name ] || name ];
		} );
	}
} );

jQuery.extend( {
	prop: function( elem, name, value ) {
		var ret, hooks,
			nType = elem.nodeType;

		// Don't get/set properties on text, comment and attribute nodes
		if ( nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {

			// Fix name and attach hooks
			name = jQuery.propFix[ name ] || name;
			hooks = jQuery.propHooks[ name ];
		}

		if ( value !== undefined ) {
			if ( hooks && "set" in hooks &&
				( ret = hooks.set( elem, value, name ) ) !== undefined ) {
				return ret;
			}

			return ( elem[ name ] = value );
		}

		if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {
			return ret;
		}

		return elem[ name ];
	},

	propHooks: {
		tabIndex: {
			get: function( elem ) {

				// Support: IE <=9 - 11 only
				// elem.tabIndex doesn't always return the
				// correct value when it hasn't been explicitly set
				// Use proper attribute retrieval (trac-12072)
				var tabindex = jQuery.find.attr( elem, "tabindex" );

				if ( tabindex ) {
					return parseInt( tabindex, 10 );
				}

				if (
					rfocusable.test( elem.nodeName ) ||
					rclickable.test( elem.nodeName ) &&
					elem.href
				) {
					return 0;
				}

				return -1;
			}
		}
	},

	propFix: {
		"for": "htmlFor",
		"class": "className"
	}
} );

// Support: IE <=11 only
// Accessing the selectedIndex property
// forces the browser to respect setting selected
// on the option
// The getter ensures a default option is selected
// when in an optgroup
// eslint rule "no-unused-expressions" is disabled for this code
// since it considers such accessions noop
if ( !support.optSelected ) {
	jQuery.propHooks.selected = {
		get: function( elem ) {

			/* eslint no-unused-expressions: "off" */

			var parent = elem.parentNode;
			if ( parent && parent.parentNode ) {
				parent.parentNode.selectedIndex;
			}
			return null;
		},
		set: function( elem ) {

			/* eslint no-unused-expressions: "off" */

			var parent = elem.parentNode;
			if ( parent ) {
				parent.selectedIndex;

				if ( parent.parentNode ) {
					parent.parentNode.selectedIndex;
				}
			}
		}
	};
}

jQuery.each( [
	"tabIndex",
	"readOnly",
	"maxLength",
	"cellSpacing",
	"cellPadding",
	"rowSpan",
	"colSpan",
	"useMap",
	"frameBorder",
	"contentEditable"
], function() {
	jQuery.propFix[ this.toLowerCase() ] = this;
} );




	// Strip and collapse whitespace according to HTML spec
	// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace
	function stripAndCollapse( value ) {
		var tokens = value.match( rnothtmlwhite ) || [];
		return tokens.join( " " );
	}


function getClass( elem ) {
	return elem.getAttribute && elem.getAttribute( "class" ) || "";
}

function classesToArray( value ) {
	if ( Array.isArray( value ) ) {
		return value;
	}
	if ( typeof value === "string" ) {
		return value.match( rnothtmlwhite ) || [];
	}
	return [];
}

jQuery.fn.extend( {
	addClass: function( value ) {
		var classNames, cur, curValue, className, i, finalValue;

		if ( isFunction( value ) ) {
			return this.each( function( j ) {
				jQuery( this ).addClass( value.call( this, j, getClass( this ) ) );
			} );
		}

		classNames = classesToArray( value );

		if ( classNames.length ) {
			return this.each( function() {
				curValue = getClass( this );
				cur = this.nodeType === 1 && ( " " + stripAndCollapse( curValue ) + " " );

				if ( cur ) {
					for ( i = 0; i < classNames.length; i++ ) {
						className = classNames[ i ];
						if ( cur.indexOf( " " + className + " " ) < 0 ) {
							cur += className + " ";
						}
					}

					// Only assign if different to avoid unneeded rendering.
					finalValue = stripAndCollapse( cur );
					if ( curValue !== finalValue ) {
						this.setAttribute( "class", finalValue );
					}
				}
			} );
		}

		return this;
	},

	removeClass: function( value ) {
		var classNames, cur, curValue, className, i, finalValue;

		if ( isFunction( value ) ) {
			return this.each( function( j ) {
				jQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );
			} );
		}

		if ( !arguments.length ) {
			return this.attr( "class", "" );
		}

		classNames = classesToArray( value );

		if ( classNames.length ) {
			return this.each( function() {
				curValue = getClass( this );

				// This expression is here for better compressibility (see addClass)
				cur = this.nodeType === 1 && ( " " + stripAndCollapse( curValue ) + " " );

				if ( cur ) {
					for ( i = 0; i < classNames.length; i++ ) {
						className = classNames[ i ];

						// Remove *all* instances
						while ( cur.indexOf( " " + className + " " ) > -1 ) {
							cur = cur.replace( " " + className + " ", " " );
						}
					}

					// Only assign if different to avoid unneeded rendering.
					finalValue = stripAndCollapse( cur );
					if ( curValue !== finalValue ) {
						this.setAttribute( "class", finalValue );
					}
				}
			} );
		}

		return this;
	},

	toggleClass: function( value, stateVal ) {
		var classNames, className, i, self,
			type = typeof value,
			isValidValue = type === "string" || Array.isArray( value );

		if ( isFunction( value ) ) {
			return this.each( function( i ) {
				jQuery( this ).toggleClass(
					value.call( this, i, getClass( this ), stateVal ),
					stateVal
				);
			} );
		}

		if ( typeof stateVal === "boolean" && isValidValue ) {
			return stateVal ? this.addClass( value ) : this.removeClass( value );
		}

		classNames = classesToArray( value );

		return this.each( function() {
			if ( isValidValue ) {

				// Toggle individual class names
				self = jQuery( this );

				for ( i = 0; i < classNames.length; i++ ) {
					className = classNames[ i ];

					// Check each className given, space separated list
					if ( self.hasClass( className ) ) {
						self.removeClass( className );
					} else {
						self.addClass( className );
					}
				}

			// Toggle whole class name
			} else if ( value === undefined || type === "boolean" ) {
				className = getClass( this );
				if ( className ) {

					// Store className if set
					dataPriv.set( this, "__className__", className );
				}

				// If the element has a class name or if we're passed `false`,
				// then remove the whole classname (if there was one, the above saved it).
				// Otherwise bring back whatever was previously saved (if anything),
				// falling back to the empty string if nothing was stored.
				if ( this.setAttribute ) {
					this.setAttribute( "class",
						className || value === false ?
							"" :
							dataPriv.get( this, "__className__" ) || ""
					);
				}
			}
		} );
	},

	hasClass: function( selector ) {
		var className, elem,
			i = 0;

		className = " " + selector + " ";
		while ( ( elem = this[ i++ ] ) ) {
			if ( elem.nodeType === 1 &&
				( " " + stripAndCollapse( getClass( elem ) ) + " " ).indexOf( className ) > -1 ) {
				return true;
			}
		}

		return false;
	}
} );




var rreturn = /\r/g;

jQuery.fn.extend( {
	val: function( value ) {
		var hooks, ret, valueIsFunction,
			elem = this[ 0 ];

		if ( !arguments.length ) {
			if ( elem ) {
				hooks = jQuery.valHooks[ elem.type ] ||
					jQuery.valHooks[ elem.nodeName.toLowerCase() ];

				if ( hooks &&
					"get" in hooks &&
					( ret = hooks.get( elem, "value" ) ) !== undefined
				) {
					return ret;
				}

				ret = elem.value;

				// Handle most common string cases
				if ( typeof ret === "string" ) {
					return ret.replace( rreturn, "" );
				}

				// Handle cases where value is null/undef or number
				return ret == null ? "" : ret;
			}

			return;
		}

		valueIsFunction = isFunction( value );

		return this.each( function( i ) {
			var val;

			if ( this.nodeType !== 1 ) {
				return;
			}

			if ( valueIsFunction ) {
				val = value.call( this, i, jQuery( this ).val() );
			} else {
				val = value;
			}

			// Treat null/undefined as ""; convert numbers to string
			if ( val == null ) {
				val = "";

			} else if ( typeof val === "number" ) {
				val += "";

			} else if ( Array.isArray( val ) ) {
				val = jQuery.map( val, function( value ) {
					return value == null ? "" : value + "";
				} );
			}

			hooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];

			// If set returns undefined, fall back to normal setting
			if ( !hooks || !( "set" in hooks ) || hooks.set( this, val, "value" ) === undefined ) {
				this.value = val;
			}
		} );
	}
} );

jQuery.extend( {
	valHooks: {
		option: {
			get: function( elem ) {

				var val = jQuery.find.attr( elem, "value" );
				return val != null ?
					val :

					// Support: IE <=10 - 11 only
					// option.text throws exceptions (trac-14686, trac-14858)
					// Strip and collapse whitespace
					// https://html.spec.whatwg.org/#strip-and-collapse-whitespace
					stripAndCollapse( jQuery.text( elem ) );
			}
		},
		select: {
			get: function( elem ) {
				var value, option, i,
					options = elem.options,
					index = elem.selectedIndex,
					one = elem.type === "select-one",
					values = one ? null : [],
					max = one ? index + 1 : options.length;

				if ( index < 0 ) {
					i = max;

				} else {
					i = one ? index : 0;
				}

				// Loop through all the selected options
				for ( ; i < max; i++ ) {
					option = options[ i ];

					// Support: IE <=9 only
					// IE8-9 doesn't update selected after form reset (trac-2551)
					if ( ( option.selected || i === index ) &&

							// Don't return options that are disabled or in a disabled optgroup
							!option.disabled &&
							( !option.parentNode.disabled ||
								!nodeName( option.parentNode, "optgroup" ) ) ) {

						// Get the specific value for the option
						value = jQuery( option ).val();

						// We don't need an array for one selects
						if ( one ) {
							return value;
						}

						// Multi-Selects return an array
						values.push( value );
					}
				}

				return values;
			},

			set: function( elem, value ) {
				var optionSet, option,
					options = elem.options,
					values = jQuery.makeArray( value ),
					i = options.length;

				while ( i-- ) {
					option = options[ i ];

					/* eslint-disable no-cond-assign */

					if ( option.selected =
						jQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1
					) {
						optionSet = true;
					}

					/* eslint-enable no-cond-assign */
				}

				// Force browsers to behave consistently when non-matching value is set
				if ( !optionSet ) {
					elem.selectedIndex = -1;
				}
				return values;
			}
		}
	}
} );

// Radios and checkboxes getter/setter
jQuery.each( [ "radio", "checkbox" ], function() {
	jQuery.valHooks[ this ] = {
		set: function( elem, value ) {
			if ( Array.isArray( value ) ) {
				return ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );
			}
		}
	};
	if ( !support.checkOn ) {
		jQuery.valHooks[ this ].get = function( elem ) {
			return elem.getAttribute( "value" ) === null ? "on" : elem.value;
		};
	}
} );




// Return jQuery for attributes-only inclusion


support.focusin = "onfocusin" in window;


var rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,
	stopPropagationCallback = function( e ) {
		e.stopPropagation();
	};

jQuery.extend( jQuery.event, {

	trigger: function( event, data, elem, onlyHandlers ) {

		var i, cur, tmp, bubbleType, ontype, handle, special, lastElement,
			eventPath = [ elem || document ],
			type = hasOwn.call( event, "type" ) ? event.type : event,
			namespaces = hasOwn.call( event, "namespace" ) ? event.namespace.split( "." ) : [];

		cur = lastElement = tmp = elem = elem || document;

		// Don't do events on text and comment nodes
		if ( elem.nodeType === 3 || elem.nodeType === 8 ) {
			return;
		}

		// focus/blur morphs to focusin/out; ensure we're not firing them right now
		if ( rfocusMorph.test( type + jQuery.event.triggered ) ) {
			return;
		}

		if ( type.indexOf( "." ) > -1 ) {

			// Namespaced trigger; create a regexp to match event type in handle()
			namespaces = type.split( "." );
			type = namespaces.shift();
			namespaces.sort();
		}
		ontype = type.indexOf( ":" ) < 0 && "on" + type;

		// Caller can pass in a jQuery.Event object, Object, or just an event type string
		event = event[ jQuery.expando ] ?
			event :
			new jQuery.Event( type, typeof event === "object" && event );

		// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)
		event.isTrigger = onlyHandlers ? 2 : 3;
		event.namespace = namespaces.join( "." );
		event.rnamespace = event.namespace ?
			new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" ) :
			null;

		// Clean up the event in case it is being reused
		event.result = undefined;
		if ( !event.target ) {
			event.target = elem;
		}

		// Clone any incoming data and prepend the event, creating the handler arg list
		data = data == null ?
			[ event ] :
			jQuery.makeArray( data, [ event ] );

		// Allow special events to draw outside the lines
		special = jQuery.event.special[ type ] || {};
		if ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {
			return;
		}

		// Determine event propagation path in advance, per W3C events spec (trac-9951)
		// Bubble up to document, then to window; watch for a global ownerDocument var (trac-9724)
		if ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {

			bubbleType = special.delegateType || type;
			if ( !rfocusMorph.test( bubbleType + type ) ) {
				cur = cur.parentNode;
			}
			for ( ; cur; cur = cur.parentNode ) {
				eventPath.push( cur );
				tmp = cur;
			}

			// Only add window if we got to document (e.g., not plain obj or detached DOM)
			if ( tmp === ( elem.ownerDocument || document ) ) {
				eventPath.push( tmp.defaultView || tmp.parentWindow || window );
			}
		}

		// Fire handlers on the event path
		i = 0;
		while ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {
			lastElement = cur;
			event.type = i > 1 ?
				bubbleType :
				special.bindType || type;

			// jQuery handler
			handle = ( dataPriv.get( cur, "events" ) || Object.create( null ) )[ event.type ] &&
				dataPriv.get( cur, "handle" );
			if ( handle ) {
				handle.apply( cur, data );
			}

			// Native handler
			handle = ontype && cur[ ontype ];
			if ( handle && handle.apply && acceptData( cur ) ) {
				event.result = handle.apply( cur, data );
				if ( event.result === false ) {
					event.preventDefault();
				}
			}
		}
		event.type = type;

		// If nobody prevented the default action, do it now
		if ( !onlyHandlers && !event.isDefaultPrevented() ) {

			if ( ( !special._default ||
				special._default.apply( eventPath.pop(), data ) === false ) &&
				acceptData( elem ) ) {

				// Call a native DOM method on the target with the same name as the event.
				// Don't do default actions on window, that's where global variables be (trac-6170)
				if ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {

					// Don't re-trigger an onFOO event when we call its FOO() method
					tmp = elem[ ontype ];

					if ( tmp ) {
						elem[ ontype ] = null;
					}

					// Prevent re-triggering of the same event, since we already bubbled it above
					jQuery.event.triggered = type;

					if ( event.isPropagationStopped() ) {
						lastElement.addEventListener( type, stopPropagationCallback );
					}

					elem[ type ]();

					if ( event.isPropagationStopped() ) {
						lastElement.removeEventListener( type, stopPropagationCallback );
					}

					jQuery.event.triggered = undefined;

					if ( tmp ) {
						elem[ ontype ] = tmp;
					}
				}
			}
		}

		return event.result;
	},

	// Piggyback on a donor event to simulate a different one
	// Used only for `focus(in | out)` events
	simulate: function( type, elem, event ) {
		var e = jQuery.extend(
			new jQuery.Event(),
			event,
			{
				type: type,
				isSimulated: true
			}
		);

		jQuery.event.trigger( e, null, elem );
	}

} );

jQuery.fn.extend( {

	trigger: function( type, data ) {
		return this.each( function() {
			jQuery.event.trigger( type, data, this );
		} );
	},
	triggerHandler: function( type, data ) {
		var elem = this[ 0 ];
		if ( elem ) {
			return jQuery.event.trigger( type, data, elem, true );
		}
	}
} );


// Support: Firefox <=44
// Firefox doesn't have focus(in | out) events
// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787
//
// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1
// focus(in | out) events fire after focus & blur events,
// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order
// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857
if ( !support.focusin ) {
	jQuery.each( { focus: "focusin", blur: "focusout" }, function( orig, fix ) {

		// Attach a single capturing handler on the document while someone wants focusin/focusout
		var handler = function( event ) {
			jQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );
		};

		jQuery.event.special[ fix ] = {
			setup: function() {

				// Handle: regular nodes (via `this.ownerDocument`), window
				// (via `this.document`) & document (via `this`).
				var doc = this.ownerDocument || this.document || this,
					attaches = dataPriv.access( doc, fix );

				if ( !attaches ) {
					doc.addEventListener( orig, handler, true );
				}
				dataPriv.access( doc, fix, ( attaches || 0 ) + 1 );
			},
			teardown: function() {
				var doc = this.ownerDocument || this.document || this,
					attaches = dataPriv.access( doc, fix ) - 1;

				if ( !attaches ) {
					doc.removeEventListener( orig, handler, true );
					dataPriv.remove( doc, fix );

				} else {
					dataPriv.access( doc, fix, attaches );
				}
			}
		};
	} );
}
var location = window.location;

var nonce = { guid: Date.now() };

var rquery = ( /\?/ );



// Cross-browser xml parsing
jQuery.parseXML = function( data ) {
	var xml, parserErrorElem;
	if ( !data || typeof data !== "string" ) {
		return null;
	}

	// Support: IE 9 - 11 only
	// IE throws on parseFromString with invalid input.
	try {
		xml = ( new window.DOMParser() ).parseFromString( data, "text/xml" );
	} catch ( e ) {}

	parserErrorElem = xml && xml.getElementsByTagName( "parsererror" )[ 0 ];
	if ( !xml || parserErrorElem ) {
		jQuery.error( "Invalid XML: " + (
			parserErrorElem ?
				jQuery.map( parserErrorElem.childNodes, function( el ) {
					return el.textContent;
				} ).join( "\n" ) :
				data
		) );
	}
	return xml;
};


var
	rbracket = /\[\]$/,
	rCRLF = /\r?\n/g,
	rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
	rsubmittable = /^(?:input|select|textarea|keygen)/i;

function buildParams( prefix, obj, traditional, add ) {
	var name;

	if ( Array.isArray( obj ) ) {

		// Serialize array item.
		jQuery.each( obj, function( i, v ) {
			if ( traditional || rbracket.test( prefix ) ) {

				// Treat each array item as a scalar.
				add( prefix, v );

			} else {

				// Item is non-scalar (array or object), encode its numeric index.
				buildParams(
					prefix + "[" + ( typeof v === "object" && v != null ? i : "" ) + "]",
					v,
					traditional,
					add
				);
			}
		} );

	} else if ( !traditional && toType( obj ) === "object" ) {

		// Serialize object item.
		for ( name in obj ) {
			buildParams( prefix + "[" + name + "]", obj[ name ], traditional, add );
		}

	} else {

		// Serialize scalar item.
		add( prefix, obj );
	}
}

// Serialize an array of form elements or a set of
// key/values into a query string
jQuery.param = function( a, traditional ) {
	var prefix,
		s = [],
		add = function( key, valueOrFunction ) {

			// If value is a function, invoke it and use its return value
			var value = isFunction( valueOrFunction ) ?
				valueOrFunction() :
				valueOrFunction;

			s[ s.length ] = encodeURIComponent( key ) + "=" +
				encodeURIComponent( value == null ? "" : value );
		};

	if ( a == null ) {
		return "";
	}

	// If an array was passed in, assume that it is an array of form elements.
	if ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {

		// Serialize the form elements
		jQuery.each( a, function() {
			add( this.name, this.value );
		} );

	} else {

		// If traditional, encode the "old" way (the way 1.3.2 or older
		// did it), otherwise encode params recursively.
		for ( prefix in a ) {
			buildParams( prefix, a[ prefix ], traditional, add );
		}
	}

	// Return the resulting serialization
	return s.join( "&" );
};

jQuery.fn.extend( {
	serialize: function() {
		return jQuery.param( this.serializeArray() );
	},
	serializeArray: function() {
		return this.map( function() {

			// Can add propHook for "elements" to filter or add form elements
			var elements = jQuery.prop( this, "elements" );
			return elements ? jQuery.makeArray( elements ) : this;
		} ).filter( function() {
			var type = this.type;

			// Use .is( ":disabled" ) so that fieldset[disabled] works
			return this.name && !jQuery( this ).is( ":disabled" ) &&
				rsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&
				( this.checked || !rcheckableType.test( type ) );
		} ).map( function( _i, elem ) {
			var val = jQuery( this ).val();

			if ( val == null ) {
				return null;
			}

			if ( Array.isArray( val ) ) {
				return jQuery.map( val, function( val ) {
					return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
				} );
			}

			return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
		} ).get();
	}
} );


var
	r20 = /%20/g,
	rhash = /#.*$/,
	rantiCache = /([?&])_=[^&]*/,
	rheaders = /^(.*?):[ \t]*([^\r\n]*)$/mg,

	// trac-7653, trac-8125, trac-8152: local protocol detection
	rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
	rnoContent = /^(?:GET|HEAD)$/,
	rprotocol = /^\/\//,

	/* Prefilters
	 * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)
	 * 2) These are called:
	 *    - BEFORE asking for a transport
	 *    - AFTER param serialization (s.data is a string if s.processData is true)
	 * 3) key is the dataType
	 * 4) the catchall symbol "*" can be used
	 * 5) execution will start with transport dataType and THEN continue down to "*" if needed
	 */
	prefilters = {},

	/* Transports bindings
	 * 1) key is the dataType
	 * 2) the catchall symbol "*" can be used
	 * 3) selection will start with transport dataType and THEN go to "*" if needed
	 */
	transports = {},

	// Avoid comment-prolog char sequence (trac-10098); must appease lint and evade compression
	allTypes = "*/".concat( "*" ),

	// Anchor tag for parsing the document origin
	originAnchor = document.createElement( "a" );

originAnchor.href = location.href;

// Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport
function addToPrefiltersOrTransports( structure ) {

	// dataTypeExpression is optional and defaults to "*"
	return function( dataTypeExpression, func ) {

		if ( typeof dataTypeExpression !== "string" ) {
			func = dataTypeExpression;
			dataTypeExpression = "*";
		}

		var dataType,
			i = 0,
			dataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];

		if ( isFunction( func ) ) {

			// For each dataType in the dataTypeExpression
			while ( ( dataType = dataTypes[ i++ ] ) ) {

				// Prepend if requested
				if ( dataType[ 0 ] === "+" ) {
					dataType = dataType.slice( 1 ) || "*";
					( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );

				// Otherwise append
				} else {
					( structure[ dataType ] = structure[ dataType ] || [] ).push( func );
				}
			}
		}
	};
}

// Base inspection function for prefilters and transports
function inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {

	var inspected = {},
		seekingTransport = ( structure === transports );

	function inspect( dataType ) {
		var selected;
		inspected[ dataType ] = true;
		jQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {
			var dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );
			if ( typeof dataTypeOrTransport === "string" &&
				!seekingTransport && !inspected[ dataTypeOrTransport ] ) {

				options.dataTypes.unshift( dataTypeOrTransport );
				inspect( dataTypeOrTransport );
				return false;
			} else if ( seekingTransport ) {
				return !( selected = dataTypeOrTransport );
			}
		} );
		return selected;
	}

	return inspect( options.dataTypes[ 0 ] ) || !inspected[ "*" ] && inspect( "*" );
}

// A special extend for ajax options
// that takes "flat" options (not to be deep extended)
// Fixes trac-9887
function ajaxExtend( target, src ) {
	var key, deep,
		flatOptions = jQuery.ajaxSettings.flatOptions || {};

	for ( key in src ) {
		if ( src[ key ] !== undefined ) {
			( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];
		}
	}
	if ( deep ) {
		jQuery.extend( true, target, deep );
	}

	return target;
}

/* Handles responses to an ajax request:
 * - finds the right dataType (mediates between content-type and expected dataType)
 * - returns the corresponding response
 */
function ajaxHandleResponses( s, jqXHR, responses ) {

	var ct, type, finalDataType, firstDataType,
		contents = s.contents,
		dataTypes = s.dataTypes;

	// Remove auto dataType and get content-type in the process
	while ( dataTypes[ 0 ] === "*" ) {
		dataTypes.shift();
		if ( ct === undefined ) {
			ct = s.mimeType || jqXHR.getResponseHeader( "Content-Type" );
		}
	}

	// Check if we're dealing with a known content-type
	if ( ct ) {
		for ( type in contents ) {
			if ( contents[ type ] && contents[ type ].test( ct ) ) {
				dataTypes.unshift( type );
				break;
			}
		}
	}

	// Check to see if we have a response for the expected dataType
	if ( dataTypes[ 0 ] in responses ) {
		finalDataType = dataTypes[ 0 ];
	} else {

		// Try convertible dataTypes
		for ( type in responses ) {
			if ( !dataTypes[ 0 ] || s.converters[ type + " " + dataTypes[ 0 ] ] ) {
				finalDataType = type;
				break;
			}
			if ( !firstDataType ) {
				firstDataType = type;
			}
		}

		// Or just use first one
		finalDataType = finalDataType || firstDataType;
	}

	// If we found a dataType
	// We add the dataType to the list if needed
	// and return the corresponding response
	if ( finalDataType ) {
		if ( finalDataType !== dataTypes[ 0 ] ) {
			dataTypes.unshift( finalDataType );
		}
		return responses[ finalDataType ];
	}
}

/* Chain conversions given the request and the original response
 * Also sets the responseXXX fields on the jqXHR instance
 */
function ajaxConvert( s, response, jqXHR, isSuccess ) {
	var conv2, current, conv, tmp, prev,
		converters = {},

		// Work with a copy of dataTypes in case we need to modify it for conversion
		dataTypes = s.dataTypes.slice();

	// Create converters map with lowercased keys
	if ( dataTypes[ 1 ] ) {
		for ( conv in s.converters ) {
			converters[ conv.toLowerCase() ] = s.converters[ conv ];
		}
	}

	current = dataTypes.shift();

	// Convert to each sequential dataType
	while ( current ) {

		if ( s.responseFields[ current ] ) {
			jqXHR[ s.responseFields[ current ] ] = response;
		}

		// Apply the dataFilter if provided
		if ( !prev && isSuccess && s.dataFilter ) {
			response = s.dataFilter( response, s.dataType );
		}

		prev = current;
		current = dataTypes.shift();

		if ( current ) {

			// There's only work to do if current dataType is non-auto
			if ( current === "*" ) {

				current = prev;

			// Convert response if prev dataType is non-auto and differs from current
			} else if ( prev !== "*" && prev !== current ) {

				// Seek a direct converter
				conv = converters[ prev + " " + current ] || converters[ "* " + current ];

				// If none found, seek a pair
				if ( !conv ) {
					for ( conv2 in converters ) {

						// If conv2 outputs current
						tmp = conv2.split( " " );
						if ( tmp[ 1 ] === current ) {

							// If prev can be converted to accepted input
							conv = converters[ prev + " " + tmp[ 0 ] ] ||
								converters[ "* " + tmp[ 0 ] ];
							if ( conv ) {

								// Condense equivalence converters
								if ( conv === true ) {
									conv = converters[ conv2 ];

								// Otherwise, insert the intermediate dataType
								} else if ( converters[ conv2 ] !== true ) {
									current = tmp[ 0 ];
									dataTypes.unshift( tmp[ 1 ] );
								}
								break;
							}
						}
					}
				}

				// Apply converter (if not an equivalence)
				if ( conv !== true ) {

					// Unless errors are allowed to bubble, catch and return them
					if ( conv && s.throws ) {
						response = conv( response );
					} else {
						try {
							response = conv( response );
						} catch ( e ) {
							return {
								state: "parsererror",
								error: conv ? e : "No conversion from " + prev + " to " + current
							};
						}
					}
				}
			}
		}
	}

	return { state: "success", data: response };
}

jQuery.extend( {

	// Counter for holding the number of active queries
	active: 0,

	// Last-Modified header cache for next request
	lastModified: {},
	etag: {},

	ajaxSettings: {
		url: location.href,
		type: "GET",
		isLocal: rlocalProtocol.test( location.protocol ),
		global: true,
		processData: true,
		async: true,
		contentType: "application/x-www-form-urlencoded; charset=UTF-8",

		/*
		timeout: 0,
		data: null,
		dataType: null,
		username: null,
		password: null,
		cache: null,
		throws: false,
		traditional: false,
		headers: {},
		*/

		accepts: {
			"*": allTypes,
			text: "text/plain",
			html: "text/html",
			xml: "application/xml, text/xml",
			json: "application/json, text/javascript"
		},

		contents: {
			xml: /\bxml\b/,
			html: /\bhtml/,
			json: /\bjson\b/
		},

		responseFields: {
			xml: "responseXML",
			text: "responseText",
			json: "responseJSON"
		},

		// Data converters
		// Keys separate source (or catchall "*") and destination types with a single space
		converters: {

			// Convert anything to text
			"* text": String,

			// Text to html (true = no transformation)
			"text html": true,

			// Evaluate text as a json expression
			"text json": JSON.parse,

			// Parse text as xml
			"text xml": jQuery.parseXML
		},

		// For options that shouldn't be deep extended:
		// you can add your own custom options here if
		// and when you create one that shouldn't be
		// deep extended (see ajaxExtend)
		flatOptions: {
			url: true,
			context: true
		}
	},

	// Creates a full fledged settings object into target
	// with both ajaxSettings and settings fields.
	// If target is omitted, writes into ajaxSettings.
	ajaxSetup: function( target, settings ) {
		return settings ?

			// Building a settings object
			ajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :

			// Extending ajaxSettings
			ajaxExtend( jQuery.ajaxSettings, target );
	},

	ajaxPrefilter: addToPrefiltersOrTransports( prefilters ),
	ajaxTransport: addToPrefiltersOrTransports( transports ),

	// Main method
	ajax: function( url, options ) {

		// If url is an object, simulate pre-1.5 signature
		if ( typeof url === "object" ) {
			options = url;
			url = undefined;
		}

		// Force options to be an object
		options = options || {};

		var transport,

			// URL without anti-cache param
			cacheURL,

			// Response headers
			responseHeadersString,
			responseHeaders,

			// timeout handle
			timeoutTimer,

			// Url cleanup var
			urlAnchor,

			// Request state (becomes false upon send and true upon completion)
			completed,

			// To know if global events are to be dispatched
			fireGlobals,

			// Loop variable
			i,

			// uncached part of the url
			uncached,

			// Create the final options object
			s = jQuery.ajaxSetup( {}, options ),

			// Callbacks context
			callbackContext = s.context || s,

			// Context for global events is callbackContext if it is a DOM node or jQuery collection
			globalEventContext = s.context &&
				( callbackContext.nodeType || callbackContext.jquery ) ?
				jQuery( callbackContext ) :
				jQuery.event,

			// Deferreds
			deferred = jQuery.Deferred(),
			completeDeferred = jQuery.Callbacks( "once memory" ),

			// Status-dependent callbacks
			statusCode = s.statusCode || {},

			// Headers (they are sent all at once)
			requestHeaders = {},
			requestHeadersNames = {},

			// Default abort message
			strAbort = "canceled",

			// Fake xhr
			jqXHR = {
				readyState: 0,

				// Builds headers hashtable if needed
				getResponseHeader: function( key ) {
					var match;
					if ( completed ) {
						if ( !responseHeaders ) {
							responseHeaders = {};
							while ( ( match = rheaders.exec( responseHeadersString ) ) ) {
								responseHeaders[ match[ 1 ].toLowerCase() + " " ] =
									( responseHeaders[ match[ 1 ].toLowerCase() + " " ] || [] )
										.concat( match[ 2 ] );
							}
						}
						match = responseHeaders[ key.toLowerCase() + " " ];
					}
					return match == null ? null : match.join( ", " );
				},

				// Raw string
				getAllResponseHeaders: function() {
					return completed ? responseHeadersString : null;
				},

				// Caches the header
				setRequestHeader: function( name, value ) {
					if ( completed == null ) {
						name = requestHeadersNames[ name.toLowerCase() ] =
							requestHeadersNames[ name.toLowerCase() ] || name;
						requestHeaders[ name ] = value;
					}
					return this;
				},

				// Overrides response content-type header
				overrideMimeType: function( type ) {
					if ( completed == null ) {
						s.mimeType = type;
					}
					return this;
				},

				// Status-dependent callbacks
				statusCode: function( map ) {
					var code;
					if ( map ) {
						if ( completed ) {

							// Execute the appropriate callbacks
							jqXHR.always( map[ jqXHR.status ] );
						} else {

							// Lazy-add the new callbacks in a way that preserves old ones
							for ( code in map ) {
								statusCode[ code ] = [ statusCode[ code ], map[ code ] ];
							}
						}
					}
					return this;
				},

				// Cancel the request
				abort: function( statusText ) {
					var finalText = statusText || strAbort;
					if ( transport ) {
						transport.abort( finalText );
					}
					done( 0, finalText );
					return this;
				}
			};

		// Attach deferreds
		deferred.promise( jqXHR );

		// Add protocol if not provided (prefilters might expect it)
		// Handle falsy url in the settings object (trac-10093: consistency with old signature)
		// We also use the url parameter if available
		s.url = ( ( url || s.url || location.href ) + "" )
			.replace( rprotocol, location.protocol + "//" );

		// Alias method option to type as per ticket trac-12004
		s.type = options.method || options.type || s.method || s.type;

		// Extract dataTypes list
		s.dataTypes = ( s.dataType || "*" ).toLowerCase().match( rnothtmlwhite ) || [ "" ];

		// A cross-domain request is in order when the origin doesn't match the current origin.
		if ( s.crossDomain == null ) {
			urlAnchor = document.createElement( "a" );

			// Support: IE <=8 - 11, Edge 12 - 15
			// IE throws exception on accessing the href property if url is malformed,
			// e.g. http://example.com:80x/
			try {
				urlAnchor.href = s.url;

				// Support: IE <=8 - 11 only
				// Anchor's host property isn't correctly set when s.url is relative
				urlAnchor.href = urlAnchor.href;
				s.crossDomain = originAnchor.protocol + "//" + originAnchor.host !==
					urlAnchor.protocol + "//" + urlAnchor.host;
			} catch ( e ) {

				// If there is an error parsing the URL, assume it is crossDomain,
				// it can be rejected by the transport if it is invalid
				s.crossDomain = true;
			}
		}

		// Convert data if not already a string
		if ( s.data && s.processData && typeof s.data !== "string" ) {
			s.data = jQuery.param( s.data, s.traditional );
		}

		// Apply prefilters
		inspectPrefiltersOrTransports( prefilters, s, options, jqXHR );

		// If request was aborted inside a prefilter, stop there
		if ( completed ) {
			return jqXHR;
		}

		// We can fire global events as of now if asked to
		// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (trac-15118)
		fireGlobals = jQuery.event && s.global;

		// Watch for a new set of requests
		if ( fireGlobals && jQuery.active++ === 0 ) {
			jQuery.event.trigger( "ajaxStart" );
		}

		// Uppercase the type
		s.type = s.type.toUpperCase();

		// Determine if request has content
		s.hasContent = !rnoContent.test( s.type );

		// Save the URL in case we're toying with the If-Modified-Since
		// and/or If-None-Match header later on
		// Remove hash to simplify url manipulation
		cacheURL = s.url.replace( rhash, "" );

		// More options handling for requests with no content
		if ( !s.hasContent ) {

			// Remember the hash so we can put it back
			uncached = s.url.slice( cacheURL.length );

			// If data is available and should be processed, append data to url
			if ( s.data && ( s.processData || typeof s.data === "string" ) ) {
				cacheURL += ( rquery.test( cacheURL ) ? "&" : "?" ) + s.data;

				// trac-9682: remove data so that it's not used in an eventual retry
				delete s.data;
			}

			// Add or update anti-cache param if needed
			if ( s.cache === false ) {
				cacheURL = cacheURL.replace( rantiCache, "$1" );
				uncached = ( rquery.test( cacheURL ) ? "&" : "?" ) + "_=" + ( nonce.guid++ ) +
					uncached;
			}

			// Put hash and anti-cache on the URL that will be requested (gh-1732)
			s.url = cacheURL + uncached;

		// Change '%20' to '+' if this is encoded form body content (gh-2658)
		} else if ( s.data && s.processData &&
			( s.contentType || "" ).indexOf( "application/x-www-form-urlencoded" ) === 0 ) {
			s.data = s.data.replace( r20, "+" );
		}

		// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
		if ( s.ifModified ) {
			if ( jQuery.lastModified[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-Modified-Since", jQuery.lastModified[ cacheURL ] );
			}
			if ( jQuery.etag[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-None-Match", jQuery.etag[ cacheURL ] );
			}
		}

		// Set the correct header, if data is being sent
		if ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {
			jqXHR.setRequestHeader( "Content-Type", s.contentType );
		}

		// Set the Accepts header for the server, depending on the dataType
		jqXHR.setRequestHeader(
			"Accept",
			s.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?
				s.accepts[ s.dataTypes[ 0 ] ] +
					( s.dataTypes[ 0 ] !== "*" ? ", " + allTypes + "; q=0.01" : "" ) :
				s.accepts[ "*" ]
		);

		// Check for headers option
		for ( i in s.headers ) {
			jqXHR.setRequestHeader( i, s.headers[ i ] );
		}

		// Allow custom headers/mimetypes and early abort
		if ( s.beforeSend &&
			( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {

			// Abort if not done already and return
			return jqXHR.abort();
		}

		// Aborting is no longer a cancellation
		strAbort = "abort";

		// Install callbacks on deferreds
		completeDeferred.add( s.complete );
		jqXHR.done( s.success );
		jqXHR.fail( s.error );

		// Get transport
		transport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );

		// If no transport, we auto-abort
		if ( !transport ) {
			done( -1, "No Transport" );
		} else {
			jqXHR.readyState = 1;

			// Send global event
			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxSend", [ jqXHR, s ] );
			}

			// If request was aborted inside ajaxSend, stop there
			if ( completed ) {
				return jqXHR;
			}

			// Timeout
			if ( s.async && s.timeout > 0 ) {
				timeoutTimer = window.setTimeout( function() {
					jqXHR.abort( "timeout" );
				}, s.timeout );
			}

			try {
				completed = false;
				transport.send( requestHeaders, done );
			} catch ( e ) {

				// Rethrow post-completion exceptions
				if ( completed ) {
					throw e;
				}

				// Propagate others as results
				done( -1, e );
			}
		}

		// Callback for when everything is done
		function done( status, nativeStatusText, responses, headers ) {
			var isSuccess, success, error, response, modified,
				statusText = nativeStatusText;

			// Ignore repeat invocations
			if ( completed ) {
				return;
			}

			completed = true;

			// Clear timeout if it exists
			if ( timeoutTimer ) {
				window.clearTimeout( timeoutTimer );
			}

			// Dereference transport for early garbage collection
			// (no matter how long the jqXHR object will be used)
			transport = undefined;

			// Cache response headers
			responseHeadersString = headers || "";

			// Set readyState
			jqXHR.readyState = status > 0 ? 4 : 0;

			// Determine if successful
			isSuccess = status >= 200 && status < 300 || status === 304;

			// Get response data
			if ( responses ) {
				response = ajaxHandleResponses( s, jqXHR, responses );
			}

			// Use a noop converter for missing script but not if jsonp
			if ( !isSuccess &&
				jQuery.inArray( "script", s.dataTypes ) > -1 &&
				jQuery.inArray( "json", s.dataTypes ) < 0 ) {
				s.converters[ "text script" ] = function() {};
			}

			// Convert no matter what (that way responseXXX fields are always set)
			response = ajaxConvert( s, response, jqXHR, isSuccess );

			// If successful, handle type chaining
			if ( isSuccess ) {

				// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
				if ( s.ifModified ) {
					modified = jqXHR.getResponseHeader( "Last-Modified" );
					if ( modified ) {
						jQuery.lastModified[ cacheURL ] = modified;
					}
					modified = jqXHR.getResponseHeader( "etag" );
					if ( modified ) {
						jQuery.etag[ cacheURL ] = modified;
					}
				}

				// if no content
				if ( status === 204 || s.type === "HEAD" ) {
					statusText = "nocontent";

				// if not modified
				} else if ( status === 304 ) {
					statusText = "notmodified";

				// If we have data, let's convert it
				} else {
					statusText = response.state;
					success = response.data;
					error = response.error;
					isSuccess = !error;
				}
			} else {

				// Extract error from statusText and normalize for non-aborts
				error = statusText;
				if ( status || !statusText ) {
					statusText = "error";
					if ( status < 0 ) {
						status = 0;
					}
				}
			}

			// Set data for the fake xhr object
			jqXHR.status = status;
			jqXHR.statusText = ( nativeStatusText || statusText ) + "";

			// Success/Error
			if ( isSuccess ) {
				deferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );
			} else {
				deferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );
			}

			// Status-dependent callbacks
			jqXHR.statusCode( statusCode );
			statusCode = undefined;

			if ( fireGlobals ) {
				globalEventContext.trigger( isSuccess ? "ajaxSuccess" : "ajaxError",
					[ jqXHR, s, isSuccess ? success : error ] );
			}

			// Complete
			completeDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );

			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxComplete", [ jqXHR, s ] );

				// Handle the global AJAX counter
				if ( !( --jQuery.active ) ) {
					jQuery.event.trigger( "ajaxStop" );
				}
			}
		}

		return jqXHR;
	},

	getJSON: function( url, data, callback ) {
		return jQuery.get( url, data, callback, "json" );
	},

	getScript: function( url, callback ) {
		return jQuery.get( url, undefined, callback, "script" );
	}
} );

jQuery.each( [ "get", "post" ], function( _i, method ) {
	jQuery[ method ] = function( url, data, callback, type ) {

		// Shift arguments if data argument was omitted
		if ( isFunction( data ) ) {
			type = type || callback;
			callback = data;
			data = undefined;
		}

		// The url can be an options object (which then must have .url)
		return jQuery.ajax( jQuery.extend( {
			url: url,
			type: method,
			dataType: type,
			data: data,
			success: callback
		}, jQuery.isPlainObject( url ) && url ) );
	};
} );

jQuery.ajaxPrefilter( function( s ) {
	var i;
	for ( i in s.headers ) {
		if ( i.toLowerCase() === "content-type" ) {
			s.contentType = s.headers[ i ] || "";
		}
	}
} );


jQuery._evalUrl = function( url, options, doc ) {
	return jQuery.ajax( {
		url: url,

		// Make this explicit, since user can override this through ajaxSetup (trac-11264)
		type: "GET",
		dataType: "script",
		cache: true,
		async: false,
		global: false,

		// Only evaluate the response if it is successful (gh-4126)
		// dataFilter is not invoked for failure responses, so using it instead
		// of the default converter is kludgy but it works.
		converters: {
			"text script": function() {}
		},
		dataFilter: function( response ) {
			jQuery.globalEval( response, options, doc );
		}
	} );
};


jQuery.fn.extend( {
	wrapAll: function( html ) {
		var wrap;

		if ( this[ 0 ] ) {
			if ( isFunction( html ) ) {
				html = html.call( this[ 0 ] );
			}

			// The elements to wrap the target around
			wrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );

			if ( this[ 0 ].parentNode ) {
				wrap.insertBefore( this[ 0 ] );
			}

			wrap.map( function() {
				var elem = this;

				while ( elem.firstElementChild ) {
					elem = elem.firstElementChild;
				}

				return elem;
			} ).append( this );
		}

		return this;
	},

	wrapInner: function( html ) {
		if ( isFunction( html ) ) {
			return this.each( function( i ) {
				jQuery( this ).wrapInner( html.call( this, i ) );
			} );
		}

		return this.each( function() {
			var self = jQuery( this ),
				contents = self.contents();

			if ( contents.length ) {
				contents.wrapAll( html );

			} else {
				self.append( html );
			}
		} );
	},

	wrap: function( html ) {
		var htmlIsFunction = isFunction( html );

		return this.each( function( i ) {
			jQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );
		} );
	},

	unwrap: function( selector ) {
		this.parent( selector ).not( "body" ).each( function() {
			jQuery( this ).replaceWith( this.childNodes );
		} );
		return this;
	}
} );


jQuery.expr.pseudos.hidden = function( elem ) {
	return !jQuery.expr.pseudos.visible( elem );
};
jQuery.expr.pseudos.visible = function( elem ) {
	return !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );
};




jQuery.ajaxSettings.xhr = function() {
	try {
		return new window.XMLHttpRequest();
	} catch ( e ) {}
};

var xhrSuccessStatus = {

		// File protocol always yields status code 0, assume 200
		0: 200,

		// Support: IE <=9 only
		// trac-1450: sometimes IE returns 1223 when it should be 204
		1223: 204
	},
	xhrSupported = jQuery.ajaxSettings.xhr();

support.cors = !!xhrSupported && ( "withCredentials" in xhrSupported );
support.ajax = xhrSupported = !!xhrSupported;

jQuery.ajaxTransport( function( options ) {
	var callback, errorCallback;

	// Cross domain only allowed if supported through XMLHttpRequest
	if ( support.cors || xhrSupported && !options.crossDomain ) {
		return {
			send: function( headers, complete ) {
				var i,
					xhr = options.xhr();

				xhr.open(
					options.type,
					options.url,
					options.async,
					options.username,
					options.password
				);

				// Apply custom fields if provided
				if ( options.xhrFields ) {
					for ( i in options.xhrFields ) {
						xhr[ i ] = options.xhrFields[ i ];
					}
				}

				// Override mime type if needed
				if ( options.mimeType && xhr.overrideMimeType ) {
					xhr.overrideMimeType( options.mimeType );
				}

				// X-Requested-With header
				// For cross-domain requests, seeing as conditions for a preflight are
				// akin to a jigsaw puzzle, we simply never set it to be sure.
				// (it can always be set on a per-request basis or even using ajaxSetup)
				// For same-domain requests, won't change header if already provided.
				if ( !options.crossDomain && !headers[ "X-Requested-With" ] ) {
					headers[ "X-Requested-With" ] = "XMLHttpRequest";
				}

				// Set headers
				for ( i in headers ) {
					xhr.setRequestHeader( i, headers[ i ] );
				}

				// Callback
				callback = function( type ) {
					return function() {
						if ( callback ) {
							callback = errorCallback = xhr.onload =
								xhr.onerror = xhr.onabort = xhr.ontimeout =
									xhr.onreadystatechange = null;

							if ( type === "abort" ) {
								xhr.abort();
							} else if ( type === "error" ) {

								// Support: IE <=9 only
								// On a manual native abort, IE9 throws
								// errors on any property access that is not readyState
								if ( typeof xhr.status !== "number" ) {
									complete( 0, "error" );
								} else {
									complete(

										// File: protocol always yields status 0; see trac-8605, trac-14207
										xhr.status,
										xhr.statusText
									);
								}
							} else {
								complete(
									xhrSuccessStatus[ xhr.status ] || xhr.status,
									xhr.statusText,

									// Support: IE <=9 only
									// IE9 has no XHR2 but throws on binary (trac-11426)
									// For XHR2 non-text, let the caller handle it (gh-2498)
									( xhr.responseType || "text" ) !== "text"  ||
									typeof xhr.responseText !== "string" ?
										{ binary: xhr.response } :
										{ text: xhr.responseText },
									xhr.getAllResponseHeaders()
								);
							}
						}
					};
				};

				// Listen to events
				xhr.onload = callback();
				errorCallback = xhr.onerror = xhr.ontimeout = callback( "error" );

				// Support: IE 9 only
				// Use onreadystatechange to replace onabort
				// to handle uncaught aborts
				if ( xhr.onabort !== undefined ) {
					xhr.onabort = errorCallback;
				} else {
					xhr.onreadystatechange = function() {

						// Check readyState before timeout as it changes
						if ( xhr.readyState === 4 ) {

							// Allow onerror to be called first,
							// but that will not handle a native abort
							// Also, save errorCallback to a variable
							// as xhr.onerror cannot be accessed
							window.setTimeout( function() {
								if ( callback ) {
									errorCallback();
								}
							} );
						}
					};
				}

				// Create the abort callback
				callback = callback( "abort" );

				try {

					// Do send the request (this may raise an exception)
					xhr.send( options.hasContent && options.data || null );
				} catch ( e ) {

					// trac-14683: Only rethrow if this hasn't been notified as an error yet
					if ( callback ) {
						throw e;
					}
				}
			},

			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
} );




// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)
jQuery.ajaxPrefilter( function( s ) {
	if ( s.crossDomain ) {
		s.contents.script = false;
	}
} );

// Install script dataType
jQuery.ajaxSetup( {
	accepts: {
		script: "text/javascript, application/javascript, " +
			"application/ecmascript, application/x-ecmascript"
	},
	contents: {
		script: /\b(?:java|ecma)script\b/
	},
	converters: {
		"text script": function( text ) {
			jQuery.globalEval( text );
			return text;
		}
	}
} );

// Handle cache's special case and crossDomain
jQuery.ajaxPrefilter( "script", function( s ) {
	if ( s.cache === undefined ) {
		s.cache = false;
	}
	if ( s.crossDomain ) {
		s.type = "GET";
	}
} );

// Bind script tag hack transport
jQuery.ajaxTransport( "script", function( s ) {

	// This transport only deals with cross domain or forced-by-attrs requests
	if ( s.crossDomain || s.scriptAttrs ) {
		var script, callback;
		return {
			send: function( _, complete ) {
				script = jQuery( "<script>" )
					.attr( s.scriptAttrs || {} )
					.prop( { charset: s.scriptCharset, src: s.url } )
					.on( "load error", callback = function( evt ) {
						script.remove();
						callback = null;
						if ( evt ) {
							complete( evt.type === "error" ? 404 : 200, evt.type );
						}
					} );

				// Use native DOM manipulation to avoid our domManip AJAX trickery
				document.head.appendChild( script[ 0 ] );
			},
			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
} );




var oldCallbacks = [],
	rjsonp = /(=)\?(?=&|$)|\?\?/;

// Default jsonp settings
jQuery.ajaxSetup( {
	jsonp: "callback",
	jsonpCallback: function() {
		var callback = oldCallbacks.pop() || ( jQuery.expando + "_" + ( nonce.guid++ ) );
		this[ callback ] = true;
		return callback;
	}
} );

// Detect, normalize options and install callbacks for jsonp requests
jQuery.ajaxPrefilter( "json jsonp", function( s, originalSettings, jqXHR ) {

	var callbackName, overwritten, responseContainer,
		jsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?
			"url" :
			typeof s.data === "string" &&
				( s.contentType || "" )
					.indexOf( "application/x-www-form-urlencoded" ) === 0 &&
				rjsonp.test( s.data ) && "data"
		);

	// Handle iff the expected data type is "jsonp" or we have a parameter to set
	if ( jsonProp || s.dataTypes[ 0 ] === "jsonp" ) {

		// Get callback name, remembering preexisting value associated with it
		callbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?
			s.jsonpCallback() :
			s.jsonpCallback;

		// Insert callback into url or form data
		if ( jsonProp ) {
			s[ jsonProp ] = s[ jsonProp ].replace( rjsonp, "$1" + callbackName );
		} else if ( s.jsonp !== false ) {
			s.url += ( rquery.test( s.url ) ? "&" : "?" ) + s.jsonp + "=" + callbackName;
		}

		// Use data converter to retrieve json after script execution
		s.converters[ "script json" ] = function() {
			if ( !responseContainer ) {
				jQuery.error( callbackName + " was not called" );
			}
			return responseContainer[ 0 ];
		};

		// Force json dataType
		s.dataTypes[ 0 ] = "json";

		// Install callback
		overwritten = window[ callbackName ];
		window[ callbackName ] = function() {
			responseContainer = arguments;
		};

		// Clean-up function (fires after converters)
		jqXHR.always( function() {

			// If previous value didn't exist - remove it
			if ( overwritten === undefined ) {
				jQuery( window ).removeProp( callbackName );

			// Otherwise restore preexisting value
			} else {
				window[ callbackName ] = overwritten;
			}

			// Save back as free
			if ( s[ callbackName ] ) {

				// Make sure that re-using the options doesn't screw things around
				s.jsonpCallback = originalSettings.jsonpCallback;

				// Save the callback name for future use
				oldCallbacks.push( callbackName );
			}

			// Call if it was a function and we have a response
			if ( responseContainer && isFunction( overwritten ) ) {
				overwritten( responseContainer[ 0 ] );
			}

			responseContainer = overwritten = undefined;
		} );

		// Delegate to script
		return "script";
	}
} );




// Support: Safari 8 only
// In Safari 8 documents created via document.implementation.createHTMLDocument
// collapse sibling forms: the second one becomes a child of the first one.
// Because of that, this security measure has to be disabled in Safari 8.
// https://bugs.webkit.org/show_bug.cgi?id=137337
support.createHTMLDocument = ( function() {
	var body = document.implementation.createHTMLDocument( "" ).body;
	body.innerHTML = "<form></form><form></form>";
	return body.childNodes.length === 2;
} )();


// Argument "data" should be string of html
// context (optional): If specified, the fragment will be created in this context,
// defaults to document
// keepScripts (optional): If true, will include scripts passed in the html string
jQuery.parseHTML = function( data, context, keepScripts ) {
	if ( typeof data !== "string" ) {
		return [];
	}
	if ( typeof context === "boolean" ) {
		keepScripts = context;
		context = false;
	}

	var base, parsed, scripts;

	if ( !context ) {

		// Stop scripts or inline event handlers from being executed immediately
		// by using document.implementation
		if ( support.createHTMLDocument ) {
			context = document.implementation.createHTMLDocument( "" );

			// Set the base href for the created document
			// so any parsed elements with URLs
			// are based on the document's URL (gh-2965)
			base = context.createElement( "base" );
			base.href = document.location.href;
			context.head.appendChild( base );
		} else {
			context = document;
		}
	}

	parsed = rsingleTag.exec( data );
	scripts = !keepScripts && [];

	// Single tag
	if ( parsed ) {
		return [ context.createElement( parsed[ 1 ] ) ];
	}

	parsed = buildFragment( [ data ], context, scripts );

	if ( scripts && scripts.length ) {
		jQuery( scripts ).remove();
	}

	return jQuery.merge( [], parsed.childNodes );
};


/**
 * Load a url into a page
 */
jQuery.fn.load = function( url, params, callback ) {
	var selector, type, response,
		self = this,
		off = url.indexOf( " " );

	if ( off > -1 ) {
		selector = stripAndCollapse( url.slice( off ) );
		url = url.slice( 0, off );
	}

	// If it's a function
	if ( isFunction( params ) ) {

		// We assume that it's the callback
		callback = params;
		params = undefined;

	// Otherwise, build a param string
	} else if ( params && typeof params === "object" ) {
		type = "POST";
	}

	// If we have elements to modify, make the request
	if ( self.length > 0 ) {
		jQuery.ajax( {
			url: url,

			// If "type" variable is undefined, then "GET" method will be used.
			// Make value of this field explicit since
			// user can override it through ajaxSetup method
			type: type || "GET",
			dataType: "html",
			data: params
		} ).done( function( responseText ) {

			// Save response for use in complete callback
			response = arguments;

			self.html( selector ?

				// If a selector was specified, locate the right elements in a dummy div
				// Exclude scripts to avoid IE 'Permission Denied' errors
				jQuery( "<div>" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :

				// Otherwise use the full result
				responseText );

		// If the request succeeds, this function gets "data", "status", "jqXHR"
		// but they are ignored because response was set above.
		// If it fails, this function gets "jqXHR", "status", "error"
		} ).always( callback && function( jqXHR, status ) {
			self.each( function() {
				callback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );
			} );
		} );
	}

	return this;
};




jQuery.expr.pseudos.animated = function( elem ) {
	return jQuery.grep( jQuery.timers, function( fn ) {
		return elem === fn.elem;
	} ).length;
};




jQuery.offset = {
	setOffset: function( elem, options, i ) {
		var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,
			position = jQuery.css( elem, "position" ),
			curElem = jQuery( elem ),
			props = {};

		// Set position first, in-case top/left are set even on static elem
		if ( position === "static" ) {
			elem.style.position = "relative";
		}

		curOffset = curElem.offset();
		curCSSTop = jQuery.css( elem, "top" );
		curCSSLeft = jQuery.css( elem, "left" );
		calculatePosition = ( position === "absolute" || position === "fixed" ) &&
			( curCSSTop + curCSSLeft ).indexOf( "auto" ) > -1;

		// Need to be able to calculate position if either
		// top or left is auto and position is either absolute or fixed
		if ( calculatePosition ) {
			curPosition = curElem.position();
			curTop = curPosition.top;
			curLeft = curPosition.left;

		} else {
			curTop = parseFloat( curCSSTop ) || 0;
			curLeft = parseFloat( curCSSLeft ) || 0;
		}

		if ( isFunction( options ) ) {

			// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)
			options = options.call( elem, i, jQuery.extend( {}, curOffset ) );
		}

		if ( options.top != null ) {
			props.top = ( options.top - curOffset.top ) + curTop;
		}
		if ( options.left != null ) {
			props.left = ( options.left - curOffset.left ) + curLeft;
		}

		if ( "using" in options ) {
			options.using.call( elem, props );

		} else {
			curElem.css( props );
		}
	}
};

jQuery.fn.extend( {

	// offset() relates an element's border box to the document origin
	offset: function( options ) {

		// Preserve chaining for setter
		if ( arguments.length ) {
			return options === undefined ?
				this :
				this.each( function( i ) {
					jQuery.offset.setOffset( this, options, i );
				} );
		}

		var rect, win,
			elem = this[ 0 ];

		if ( !elem ) {
			return;
		}

		// Return zeros for disconnected and hidden (display: none) elements (gh-2310)
		// Support: IE <=11 only
		// Running getBoundingClientRect on a
		// disconnected node in IE throws an error
		if ( !elem.getClientRects().length ) {
			return { top: 0, left: 0 };
		}

		// Get document-relative position by adding viewport scroll to viewport-relative gBCR
		rect = elem.getBoundingClientRect();
		win = elem.ownerDocument.defaultView;
		return {
			top: rect.top + win.pageYOffset,
			left: rect.left + win.pageXOffset
		};
	},

	// position() relates an element's margin box to its offset parent's padding box
	// This corresponds to the behavior of CSS absolute positioning
	position: function() {
		if ( !this[ 0 ] ) {
			return;
		}

		var offsetParent, offset, doc,
			elem = this[ 0 ],
			parentOffset = { top: 0, left: 0 };

		// position:fixed elements are offset from the viewport, which itself always has zero offset
		if ( jQuery.css( elem, "position" ) === "fixed" ) {

			// Assume position:fixed implies availability of getBoundingClientRect
			offset = elem.getBoundingClientRect();

		} else {
			offset = this.offset();

			// Account for the *real* offset parent, which can be the document or its root element
			// when a statically positioned element is identified
			doc = elem.ownerDocument;
			offsetParent = elem.offsetParent || doc.documentElement;
			while ( offsetParent &&
				( offsetParent === doc.body || offsetParent === doc.documentElement ) &&
				jQuery.css( offsetParent, "position" ) === "static" ) {

				offsetParent = offsetParent.parentNode;
			}
			if ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {

				// Incorporate borders into its offset, since they are outside its content origin
				parentOffset = jQuery( offsetParent ).offset();
				parentOffset.top += jQuery.css( offsetParent, "borderTopWidth", true );
				parentOffset.left += jQuery.css( offsetParent, "borderLeftWidth", true );
			}
		}

		// Subtract parent offsets and element margins
		return {
			top: offset.top - parentOffset.top - jQuery.css( elem, "marginTop", true ),
			left: offset.left - parentOffset.left - jQuery.css( elem, "marginLeft", true )
		};
	},

	// This method will return documentElement in the following cases:
	// 1) For the element inside the iframe without offsetParent, this method will return
	//    documentElement of the parent window
	// 2) For the hidden or detached element
	// 3) For body or html element, i.e. in case of the html node - it will return itself
	//
	// but those exceptions were never presented as a real life use-cases
	// and might be considered as more preferable results.
	//
	// This logic, however, is not guaranteed and can change at any point in the future
	offsetParent: function() {
		return this.map( function() {
			var offsetParent = this.offsetParent;

			while ( offsetParent && jQuery.css( offsetParent, "position" ) === "static" ) {
				offsetParent = offsetParent.offsetParent;
			}

			return offsetParent || documentElement;
		} );
	}
} );

// Create scrollLeft and scrollTop methods
jQuery.each( { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function( method, prop ) {
	var top = "pageYOffset" === prop;

	jQuery.fn[ method ] = function( val ) {
		return access( this, function( elem, method, val ) {

			// Coalesce documents and windows
			var win;
			if ( isWindow( elem ) ) {
				win = elem;
			} else if ( elem.nodeType === 9 ) {
				win = elem.defaultView;
			}

			if ( val === undefined ) {
				return win ? win[ prop ] : elem[ method ];
			}

			if ( win ) {
				win.scrollTo(
					!top ? val : win.pageXOffset,
					top ? val : win.pageYOffset
				);

			} else {
				elem[ method ] = val;
			}
		}, method, val, arguments.length );
	};
} );

// Support: Safari <=7 - 9.1, Chrome <=37 - 49
// Add the top/left cssHooks using jQuery.fn.position
// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084
// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347
// getComputedStyle returns percent when specified for top/left/bottom/right;
// rather than make the css module depend on the offset module, just check for it here
jQuery.each( [ "top", "left" ], function( _i, prop ) {
	jQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,
		function( elem, computed ) {
			if ( computed ) {
				computed = curCSS( elem, prop );

				// If curCSS returns percentage, fallback to offset
				return rnumnonpx.test( computed ) ?
					jQuery( elem ).position()[ prop ] + "px" :
					computed;
			}
		}
	);
} );


// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods
jQuery.each( { Height: "height", Width: "width" }, function( name, type ) {
	jQuery.each( {
		padding: "inner" + name,
		content: type,
		"": "outer" + name
	}, function( defaultExtra, funcName ) {

		// Margin is only for outerHeight, outerWidth
		jQuery.fn[ funcName ] = function( margin, value ) {
			var chainable = arguments.length && ( defaultExtra || typeof margin !== "boolean" ),
				extra = defaultExtra || ( margin === true || value === true ? "margin" : "border" );

			return access( this, function( elem, type, value ) {
				var doc;

				if ( isWindow( elem ) ) {

					// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)
					return funcName.indexOf( "outer" ) === 0 ?
						elem[ "inner" + name ] :
						elem.document.documentElement[ "client" + name ];
				}

				// Get document width or height
				if ( elem.nodeType === 9 ) {
					doc = elem.documentElement;

					// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],
					// whichever is greatest
					return Math.max(
						elem.body[ "scroll" + name ], doc[ "scroll" + name ],
						elem.body[ "offset" + name ], doc[ "offset" + name ],
						doc[ "client" + name ]
					);
				}

				return value === undefined ?

					// Get width or height on the element, requesting but not forcing parseFloat
					jQuery.css( elem, type, extra ) :

					// Set width or height on the element
					jQuery.style( elem, type, value, extra );
			}, type, chainable ? margin : undefined, chainable );
		};
	} );
} );


jQuery.each( [
	"ajaxStart",
	"ajaxStop",
	"ajaxComplete",
	"ajaxError",
	"ajaxSuccess",
	"ajaxSend"
], function( _i, type ) {
	jQuery.fn[ type ] = function( fn ) {
		return this.on( type, fn );
	};
} );




jQuery.fn.extend( {

	bind: function( types, data, fn ) {
		return this.on( types, null, data, fn );
	},
	unbind: function( types, fn ) {
		return this.off( types, null, fn );
	},

	delegate: function( selector, types, data, fn ) {
		return this.on( types, selector, data, fn );
	},
	undelegate: function( selector, types, fn ) {

		// ( namespace ) or ( selector, types [, fn] )
		return arguments.length === 1 ?
			this.off( selector, "**" ) :
			this.off( types, selector || "**", fn );
	},

	hover: function( fnOver, fnOut ) {
		return this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );
	}
} );

jQuery.each(
	( "blur focus focusin focusout resize scroll click dblclick " +
	"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " +
	"change select submit keydown keypress keyup contextmenu" ).split( " " ),
	function( _i, name ) {

		// Handle event binding
		jQuery.fn[ name ] = function( data, fn ) {
			return arguments.length > 0 ?
				this.on( name, null, data, fn ) :
				this.trigger( name );
		};
	}
);




// Support: Android <=4.0 only
// Make sure we trim BOM and NBSP
// Require that the "whitespace run" starts from a non-whitespace
// to avoid O(N^2) behavior when the engine would try matching "\s+$" at each space position.
var rtrim = /^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;

// Bind a function to a context, optionally partially applying any
// arguments.
// jQuery.proxy is deprecated to promote standards (specifically Function#bind)
// However, it is not slated for removal any time soon
jQuery.proxy = function( fn, context ) {
	var tmp, args, proxy;

	if ( typeof context === "string" ) {
		tmp = fn[ context ];
		context = fn;
		fn = tmp;
	}

	// Quick check to determine if target is callable, in the spec
	// this throws a TypeError, but we will just return undefined.
	if ( !isFunction( fn ) ) {
		return undefined;
	}

	// Simulated bind
	args = slice.call( arguments, 2 );
	proxy = function() {
		return fn.apply( context || this, args.concat( slice.call( arguments ) ) );
	};

	// Set the guid of unique handler to the same of original handler, so it can be removed
	proxy.guid = fn.guid = fn.guid || jQuery.guid++;

	return proxy;
};

jQuery.holdReady = function( hold ) {
	if ( hold ) {
		jQuery.readyWait++;
	} else {
		jQuery.ready( true );
	}
};
jQuery.isArray = Array.isArray;
jQuery.parseJSON = JSON.parse;
jQuery.nodeName = nodeName;
jQuery.isFunction = isFunction;
jQuery.isWindow = isWindow;
jQuery.camelCase = camelCase;
jQuery.type = toType;

jQuery.now = Date.now;

jQuery.isNumeric = function( obj ) {

	// As of jQuery 3.0, isNumeric is limited to
	// strings and numbers (primitives or objects)
	// that can be coerced to finite numbers (gh-2662)
	var type = jQuery.type( obj );
	return ( type === "number" || type === "string" ) &&

		// parseFloat NaNs numeric-cast false positives ("")
		// ...but misinterprets leading-number strings, particularly hex literals ("0x...")
		// subtraction forces infinities to NaN
		!isNaN( obj - parseFloat( obj ) );
};

jQuery.trim = function( text ) {
	return text == null ?
		"" :
		( text + "" ).replace( rtrim, "$1" );
};



// Register as a named AMD module, since jQuery can be concatenated with other
// files that may use define, but not via a proper concatenation script that
// understands anonymous AMD modules. A named AMD is safest and most robust
// way to register. Lowercase jquery is used because AMD module names are
// derived from file names, and jQuery is normally delivered in a lowercase
// file name. Do this after creating the global so that if an AMD module wants
// to call noConflict to hide this version of jQuery, it will work.

// Note that for maximum portability, libraries that are not jQuery should
// declare themselves as anonymous modules, and avoid setting a global if an
// AMD loader is present. jQuery is a special case. For more information, see
// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon

if ( true ) {
	!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function() {
		return jQuery;
	}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}




var

	// Map over jQuery in case of overwrite
	_jQuery = window.jQuery,

	// Map over the $ in case of overwrite
	_$ = window.$;

jQuery.noConflict = function( deep ) {
	if ( window.$ === jQuery ) {
		window.$ = _$;
	}

	if ( deep && window.jQuery === jQuery ) {
		window.jQuery = _jQuery;
	}

	return jQuery;
};

// Expose jQuery and $ identifiers, even in AMD
// (trac-7102#comment:10, https://github.com/jquery/jquery/pull/557)
// and CommonJS for browser emulators (trac-13566)
if ( typeof noGlobal === "undefined" ) {
	window.jQuery = window.$ = jQuery;
}




return jQuery;
} );


/***/ }),

/***/ "./node_modules/bootstrap-table/dist/bootstrap-table.min.css":
/*!*******************************************************************!*\
  !*** ./node_modules/bootstrap-table/dist/bootstrap-table.min.css ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/tableexport.jquery.plugin/tableExport.min.js":
/*!*******************************************************************!*\
  !*** ./node_modules/tableexport.jquery.plugin/tableExport.min.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var jQuery = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/**
 * @preserve tableExport.jquery.plugin
 *
 * Version 1.26.0
 *
 * Copyright (c) 2015-2022 hhurz,
 *   https://github.com/hhurz/tableExport.jquery.plugin
 *
 * Based on https://github.com/kayalshri/tableExport.jquery.plugin
 *
 * Licensed under the MIT License
 **/
(function($){$.fn.tableExport=function(options){let docData;const defaults={csvEnclosure:'"',csvSeparator:",",csvUseBOM:true,date:{html:"dd/mm/yyyy"},displayTableName:false,escape:false,exportHiddenCells:false,fileName:"tableExport",htmlContent:false,htmlHyperlink:"content",ignoreColumn:[],ignoreRow:[],jsonScope:"all",jspdf:{orientation:"p",unit:"pt",format:"a4",margins:{left:20,right:10,top:10,bottom:10},onDocCreated:null,autotable:{styles:{cellPadding:2,rowHeight:12,fontSize:8,fillColor:255,textColor:50,fontStyle:"normal",overflow:"ellipsize",halign:"inherit",valign:"middle"},headerStyles:{fillColor:[52,73,94],textColor:255,fontStyle:"bold",halign:"inherit",valign:"middle"},alternateRowStyles:{fillColor:245},tableExport:{doc:null,onAfterAutotable:null,onBeforeAutotable:null,onAutotableText:null,onTable:null,outputImages:true}}},mso:{fileFormat:"xlshtml",onMsoNumberFormat:null,pageFormat:"a4",pageOrientation:"portrait",rtl:false,styles:[],worksheetName:"",xlsx:{formatId:{date:14,numbers:2,currency:164},format:{currency:"$#,##0.00;[Red]-$#,##0.00"},onHyperlink:null}},numbers:{html:{decimalMark:".",thousandsSeparator:","},output:{decimalMark:".",thousandsSeparator:","}},onAfterSaveToFile:null,onBeforeSaveToFile:null,onCellData:null,onCellHtmlData:null,onCellHtmlHyperlink:null,onIgnoreRow:null,onTableExportBegin:null,onTableExportEnd:null,outputMode:"file",pdfmake:{enabled:false,docDefinition:{pageSize:"A4",pageOrientation:"portrait",styles:{header:{background:"#34495E",color:"#FFFFFF",bold:true,alignment:"center",fillColor:"#34495E"},alternateRow:{fillColor:"#f5f5f5"}},defaultStyle:{color:"#000000",fontSize:8,font:"Roboto"}},fonts:{}},preserve:{leadingWS:false,trailingWS:false},preventInjection:true,sql:{tableEnclosure:"`",columnEnclosure:"`"},tbodySelector:"tr",tfootSelector:"tr",theadSelector:"tr",tableName:"Table",type:"csv"};const pageFormats={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};const jsPdfThemes={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal",fillStyle:"F"},header:{textColor:255,fillColor:[41,128,185],rowHeight:23,fontStyle:"bold"},body:{},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1,fillStyle:"DF"},header:{textColor:255,fillColor:[26,188,156],rowHeight:23,fillStyle:"F",fontStyle:"bold"},body:{},alternateRow:{}},plain:{header:{fontStyle:"bold"}}};const jsPdfDefaultStyles={cellPadding:5,fontSize:10,font:"helvetica",lineColor:200,lineWidth:.1,fontStyle:"normal",overflow:"ellipsize",fillColor:255,textColor:20,halign:"left",valign:"top",fillStyle:"F",rowHeight:20,columnWidth:"auto"};const FONT_ROW_RATIO=1.15;const el=this;let DownloadEvt=null;let $head_rows=[];let $rows=[];let rowIndex=0;let trData="";let colNames=[];let ranges=[];let blob;let $hiddenTableElements=[];let checkCellVisibility=false;$.extend(true,defaults,options);if(defaults.type==="xlsx"){defaults.mso.fileFormat=defaults.type;defaults.type="excel"}if(typeof defaults.excelFileFormat!=="undefined"&&typeof defaults.mso.fileFormat==="undefined")defaults.mso.fileFormat=defaults.excelFileFormat;if(typeof defaults.excelPageFormat!=="undefined"&&typeof defaults.mso.pageFormat==="undefined")defaults.mso.pageFormat=defaults.excelPageFormat;if(typeof defaults.excelPageOrientation!=="undefined"&&typeof defaults.mso.pageOrientation==="undefined")defaults.mso.pageOrientation=defaults.excelPageOrientation;if(typeof defaults.excelRTL!=="undefined"&&typeof defaults.mso.rtl==="undefined")defaults.mso.rtl=defaults.excelRTL;if(typeof defaults.excelstyles!=="undefined"&&typeof defaults.mso.styles==="undefined")defaults.mso.styles=defaults.excelstyles;if(typeof defaults.onMsoNumberFormat!=="undefined"&&typeof defaults.mso.onMsoNumberFormat==="undefined")defaults.mso.onMsoNumberFormat=defaults.onMsoNumberFormat;if(typeof defaults.worksheetName!=="undefined"&&typeof defaults.mso.worksheetName==="undefined")defaults.mso.worksheetName=defaults.worksheetName;if(typeof defaults.mso.xslx!=="undefined"&&typeof defaults.mso.xlsx==="undefined")defaults.mso.xlsx=defaults.mso.xslx;defaults.mso.pageOrientation=defaults.mso.pageOrientation.substr(0,1)==="l"?"landscape":"portrait";defaults.date.html=defaults.date.html||"";if(defaults.date.html.length){const patt=[];patt["dd"]="(3[01]|[12][0-9]|0?[1-9])";patt["mm"]="(1[012]|0?[1-9])";patt["yyyy"]="((?:1[6-9]|2[0-2])\\d{2})";patt["yy"]="(\\d{2})";const separator=defaults.date.html.match(/[^a-zA-Z0-9]/)[0];const formatItems=defaults.date.html.toLowerCase().split(separator);defaults.date.regex="^\\s*";defaults.date.regex+=patt[formatItems[0]];defaults.date.regex+="(.)";defaults.date.regex+=patt[formatItems[1]];defaults.date.regex+="\\2";defaults.date.regex+=patt[formatItems[2]];defaults.date.regex+="\\s*$";defaults.date.pattern=new RegExp(defaults.date.regex,"g");let f=formatItems.indexOf("dd")+1;defaults.date.match_d=f+(f>1?1:0);f=formatItems.indexOf("mm")+1;defaults.date.match_m=f+(f>1?1:0);f=(formatItems.indexOf("yyyy")>=0?formatItems.indexOf("yyyy"):formatItems.indexOf("yy"))+1;defaults.date.match_y=f+(f>1?1:0)}colNames=GetColumnNames(el);if(typeof defaults.onTableExportBegin==="function")defaults.onTableExportBegin();if(defaults.type==="csv"||defaults.type==="tsv"||defaults.type==="txt"){let csvData="";let rowLength=0;ranges=[];rowIndex=0;const csvString=function(cell,rowIndex,colIndex){let result="";if(cell!==null){const dataString=parseString(cell,rowIndex,colIndex);const csvValue=dataString===null||dataString===""?"":dataString.toString();if(defaults.type==="tsv"){if(dataString instanceof Date)dataString.toLocaleString();result=replaceAll(csvValue,"\t"," ")}else{if(dataString instanceof Date)result=defaults.csvEnclosure+dataString.toLocaleString()+defaults.csvEnclosure;else{result=preventInjection(csvValue);result=replaceAll(result,defaults.csvEnclosure,defaults.csvEnclosure+defaults.csvEnclosure);if(result.indexOf(defaults.csvSeparator)>=0||/[\r\n ]/g.test(result))result=defaults.csvEnclosure+result+defaults.csvEnclosure}}}return result};const CollectCsvData=function($rows,rowselector,length){$rows.each(function(){trData="";ForEachVisibleCell(this,rowselector,rowIndex,length+$rows.length,function(cell,row,col){trData+=csvString(cell,row,col)+(defaults.type==="tsv"?"\t":defaults.csvSeparator)});trData=$.trim(trData).substring(0,trData.length-1);if(trData.length>0){if(csvData.length>0)csvData+="\n";csvData+=trData}rowIndex++});return $rows.length};rowLength+=CollectCsvData($(el).find("thead").first().find(defaults.theadSelector),"th,td",rowLength);findTableElements($(el),"tbody").each(function(){rowLength+=CollectCsvData(findTableElements($(this),defaults.tbodySelector),"td,th",rowLength)});if(defaults.tfootSelector.length)CollectCsvData($(el).find("tfoot").first().find(defaults.tfootSelector),"td,th",rowLength);csvData+="\n";if(defaults.outputMode==="string")return csvData;if(defaults.outputMode==="base64")return base64encode(csvData);if(defaults.outputMode==="window"){downloadFile(false,"data:text/"+(defaults.type==="csv"?"csv":"plain")+";charset=utf-8,",csvData);return}saveToFile(csvData,defaults.fileName+"."+defaults.type,"text/"+(defaults.type==="csv"?"csv":"plain"),"utf-8","",defaults.type==="csv"&&defaults.csvUseBOM)}else if(defaults.type==="sql"){rowIndex=0;ranges=[];let tdData="INSERT INTO "+defaults.sql.tableEnclosure+defaults.tableName+defaults.sql.tableEnclosure+" (";$head_rows=collectHeadRows($(el));$($head_rows).each(function(){ForEachVisibleCell(this,"th,td",rowIndex,$head_rows.length,function(cell,row,col){let colName=parseString(cell,row,col)||"";if(colName.indexOf(defaults.sql.columnEnclosure)>-1)colName=replaceAll(colName.toString(),defaults.sql.columnEnclosure,defaults.sql.columnEnclosure+defaults.sql.columnEnclosure);tdData+=defaults.sql.columnEnclosure+colName+defaults.sql.columnEnclosure+","});rowIndex++;tdData=$.trim(tdData).substring(0,tdData.length-1)});tdData+=") VALUES ";$rows=collectRows($(el));$($rows).each(function(){trData="";ForEachVisibleCell(this,"td,th",rowIndex,$head_rows.length+$rows.length,function(cell,row,col){let dataString=parseString(cell,row,col)||"";if(dataString.indexOf("'")>-1)dataString=replaceAll(dataString.toString(),"'","''");trData+="'"+dataString+"',"});if(trData.length>3){tdData+="("+trData;tdData=$.trim(tdData).substring(0,tdData.length-1);tdData+="),"}rowIndex++});tdData=$.trim(tdData).substring(0,tdData.length-1);tdData+=";";if(defaults.outputMode==="string")return tdData;if(defaults.outputMode==="base64")return base64encode(tdData);saveToFile(tdData,defaults.fileName+".sql","application/sql","utf-8","",false)}else if(defaults.type==="json"){const jsonHeaderArray=[];ranges=[];$head_rows=collectHeadRows($(el));$($head_rows).each(function(){const jsonArrayTd=[];ForEachVisibleCell(this,"th,td",rowIndex,$head_rows.length,function(cell,row,col){jsonArrayTd.push(parseString(cell,row,col))});jsonHeaderArray.push(jsonArrayTd)});const jsonArray=[];$rows=collectRows($(el));$($rows).each(function(){const jsonObjectTd={};let colIndex=0;ForEachVisibleCell(this,"td,th",rowIndex,$head_rows.length+$rows.length,function(cell,row,col){if(jsonHeaderArray.length){jsonObjectTd[jsonHeaderArray[jsonHeaderArray.length-1][colIndex]]=parseString(cell,row,col)}else{jsonObjectTd[colIndex]=parseString(cell,row,col)}colIndex++});if($.isEmptyObject(jsonObjectTd)===false)jsonArray.push(jsonObjectTd);rowIndex++});let save_data;if(defaults.jsonScope==="head")save_data=JSON.stringify(jsonHeaderArray);else if(defaults.jsonScope==="data")save_data=JSON.stringify(jsonArray);else save_data=JSON.stringify({header:jsonHeaderArray,data:jsonArray});if(defaults.outputMode==="string")return save_data;if(defaults.outputMode==="base64")return base64encode(save_data);saveToFile(save_data,defaults.fileName+".json","application/json","utf-8","base64",false)}else if(defaults.type==="xml"){rowIndex=0;ranges=[];let xml='<?xml version="1.0" encoding="utf-8"?>';xml+="<tabledata><fields>";$head_rows=collectHeadRows($(el));$($head_rows).each(function(){ForEachVisibleCell(this,"th,td",rowIndex,$head_rows.length,function(cell,row,col){xml+="<field>"+parseString(cell,row,col)+"</field>"});rowIndex++});xml+="</fields><data>";let rowCount=1;$rows=collectRows($(el));$($rows).each(function(){let colCount=1;trData="";ForEachVisibleCell(this,"td,th",rowIndex,$head_rows.length+$rows.length,function(cell,row,col){trData+="<column-"+colCount+">"+parseString(cell,row,col)+"</column-"+colCount+">";colCount++});if(trData.length>0&&trData!=="<column-1></column-1>"){xml+='<row id="'+rowCount+'">'+trData+"</row>";rowCount++}rowIndex++});xml+="</data></tabledata>";if(defaults.outputMode==="string")return xml;if(defaults.outputMode==="base64")return base64encode(xml);saveToFile(xml,defaults.fileName+".xml","application/xml","utf-8","base64",false)}else if(defaults.type==="excel"&&defaults.mso.fileFormat==="xmlss"){const sheetData=[];const docNames=[];$(el).filter(function(){return isVisible($(this))}).each(function(){const $table=$(this);let ssName="";if(typeof defaults.mso.worksheetName==="string"&&defaults.mso.worksheetName.length)ssName=defaults.mso.worksheetName+" "+(docNames.length+1);else if(typeof defaults.mso.worksheetName[docNames.length]!=="undefined")ssName=defaults.mso.worksheetName[docNames.length];if(!ssName.length)ssName=$table.find("caption").text()||"";if(!ssName.length)ssName="Table "+(docNames.length+1);ssName=$.trim(ssName.replace(/[\\\/[\]*:?'"]/g,"").substring(0,31));docNames.push($("<div />").text(ssName).html());if(defaults.exportHiddenCells===false){$hiddenTableElements=$table.find("tr, th, td").filter(":hidden");checkCellVisibility=$hiddenTableElements.length>0}rowIndex=0;colNames=GetColumnNames(this);docData="<Table>\r";function CollectXmlssData($rows,rowselector,length){const spans=[];$($rows).each(function(){let ssIndex=0;let nCols=0;trData="";ForEachVisibleCell(this,"td,th",rowIndex,length+$rows.length,function(cell,row,col){if(cell!==null){let style="";let data=parseString(cell,row,col);let type="String";if(jQuery.isNumeric(data)!==false){type="Number"}else{const number=parsePercent(data);if(number!==false){data=number;type="Number";style+=' ss:StyleID="pct1"'}}if(type!=="Number")data=data.replace(/\n/g,"<br>");let colspan=getColspan(cell);let rowspan=getRowspan(cell);$.each(spans,function(){const range=this;if(rowIndex>=range.s.r&&rowIndex<=range.e.r&&nCols>=range.s.c&&nCols<=range.e.c){for(let i=0;i<=range.e.c-range.s.c;++i){nCols++;ssIndex++}}});if(rowspan||colspan){rowspan=rowspan||1;colspan=colspan||1;spans.push({s:{r:rowIndex,c:nCols},e:{r:rowIndex+rowspan-1,c:nCols+colspan-1}})}if(colspan>1){style+=' ss:MergeAcross="'+(colspan-1)+'"';nCols+=colspan-1}if(rowspan>1){style+=' ss:MergeDown="'+(rowspan-1)+'" ss:StyleID="rsp1"'}if(ssIndex>0){style+=' ss:Index="'+(nCols+1)+'"';ssIndex=0}trData+="<Cell"+style+'><Data ss:Type="'+type+'">'+$("<div />").text(data).html()+"</Data></Cell>\r";nCols++}});if(trData.length>0)docData+='<Row ss:AutoFitHeight="0">\r'+trData+"</Row>\r";rowIndex++});return $rows.length}const rowLength=CollectXmlssData(collectHeadRows($table),"th,td",0);CollectXmlssData(collectRows($table),"td,th",rowLength);docData+="</Table>\r";sheetData.push(docData)});const count={};const firstOccurrences={};let item,itemCount;for(let n=0,c=docNames.length;n<c;n++){item=docNames[n];itemCount=count[item];itemCount=count[item]=itemCount==null?1:itemCount+1;if(itemCount===2)docNames[firstOccurrences[item]]=docNames[firstOccurrences[item]].substring(0,29)+"-1";if(count[item]>1)docNames[n]=docNames[n].substring(0,29)+"-"+count[item];else firstOccurrences[item]=n}const CreationDate=(new Date).toISOString();let xmlssDocFile='<?xml version="1.0" encoding="UTF-8"?>\r'+'<?mso-application progid="Excel.Sheet"?>\r'+'<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet"\r'+' xmlns:o="urn:schemas-microsoft-com:office:office"\r'+' xmlns:x="urn:schemas-microsoft-com:office:excel"\r'+' xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet"\r'+' xmlns:html="http://www.w3.org/TR/REC-html40">\r'+'<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">\r'+"  <Created>"+CreationDate+"</Created>\r"+"</DocumentProperties>\r"+'<OfficeDocumentSettings xmlns="urn:schemas-microsoft-com:office:office">\r'+"  <AllowPNG/>\r"+"</OfficeDocumentSettings>\r"+'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">\r'+"  <WindowHeight>9000</WindowHeight>\r"+"  <WindowWidth>13860</WindowWidth>\r"+"  <WindowTopX>0</WindowTopX>\r"+"  <WindowTopY>0</WindowTopY>\r"+"  <ProtectStructure>False</ProtectStructure>\r"+"  <ProtectWindows>False</ProtectWindows>\r"+"</ExcelWorkbook>\r"+"<Styles>\r"+'  <Style ss:ID="Default" ss:Name="Normal">\r'+'    <Alignment ss:Vertical="Bottom"/>\r'+"    <Borders/>\r"+"    <Font/>\r"+"    <Interior/>\r"+"    <NumberFormat/>\r"+"    <Protection/>\r"+"  </Style>\r"+'  <Style ss:ID="rsp1">\r'+'    <Alignment ss:Vertical="Center"/>\r'+"  </Style>\r"+'  <Style ss:ID="pct1">\r'+'    <NumberFormat ss:Format="Percent"/>\r'+"  </Style>\r"+"</Styles>\r";for(let j=0;j<sheetData.length;j++){xmlssDocFile+='<Worksheet ss:Name="'+docNames[j]+'" ss:RightToLeft="'+(defaults.mso.rtl?"1":"0")+'">\r'+sheetData[j];if(defaults.mso.rtl){xmlssDocFile+='<WorksheetOptions xmlns="urn:schemas-microsoft-com:office:excel">\r'+"<DisplayRightToLeft/>\r"+"</WorksheetOptions>\r"}else xmlssDocFile+='<WorksheetOptions xmlns="urn:schemas-microsoft-com:office:excel"/>\r';xmlssDocFile+="</Worksheet>\r"}xmlssDocFile+="</Workbook>\r";if(defaults.outputMode==="string")return xmlssDocFile;if(defaults.outputMode==="base64")return base64encode(xmlssDocFile);saveToFile(xmlssDocFile,defaults.fileName+".xml","application/xml","utf-8","base64",false)}else if(defaults.type==="excel"&&defaults.mso.fileFormat==="xlsx"){const sheetNames=[];const workbook=XLSX.utils.book_new();$(el).filter(function(){return isVisible($(this))}).each(function(){const $table=$(this);const ws=xlsxTableToSheet(this);let sheetName="";if(typeof defaults.mso.worksheetName==="string"&&defaults.mso.worksheetName.length)sheetName=defaults.mso.worksheetName+" "+(sheetNames.length+1);else if(typeof defaults.mso.worksheetName[sheetNames.length]!=="undefined")sheetName=defaults.mso.worksheetName[sheetNames.length];if(!sheetName.length)sheetName=$table.find("caption").text()||"";if(!sheetName.length)sheetName="Table "+(sheetNames.length+1);sheetName=$.trim(sheetName.replace(/[\\\/[\]*:?'"]/g,"").substring(0,31));sheetNames.push(sheetName);XLSX.utils.book_append_sheet(workbook,ws,sheetName)});const wbData=XLSX.write(workbook,{type:"binary",bookType:defaults.mso.fileFormat,bookSST:false});saveToFile(xlsxWorkbookToArrayBuffer(wbData),defaults.fileName+"."+defaults.mso.fileFormat,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","UTF-8","",false)}else if(defaults.type==="excel"||defaults.type==="xls"||defaults.type==="word"||defaults.type==="doc"){const MSDocType=defaults.type==="excel"||defaults.type==="xls"?"excel":"word";const MSDocExt=MSDocType==="excel"?"xls":"doc";const MSDocSchema='xmlns:x="urn:schemas-microsoft-com:office:'+MSDocType+'"';docData="";let docName="";$(el).filter(function(){return isVisible($(this))}).each(function(){const $table=$(this);if(docName===""){docName=defaults.mso.worksheetName||$table.find("caption").text()||"Table";docName=$.trim(docName.replace(/[\\\/[\]*:?'"]/g,"").substring(0,31))}if(defaults.exportHiddenCells===false){$hiddenTableElements=$table.find("tr, th, td").filter(":hidden");checkCellVisibility=$hiddenTableElements.length>0}rowIndex=0;ranges=[];colNames=GetColumnNames(this);docData+="<table><thead>";$head_rows=collectHeadRows($table);$($head_rows).each(function(){const $row=$(this);trData="";ForEachVisibleCell(this,"th,td",rowIndex,$head_rows.length,function(cell,row,col){if(cell!==null){let thStyle="";trData+="<th";if(defaults.mso.styles.length){const cellStyles=document.defaultView.getComputedStyle(cell,null);const rowStyles=document.defaultView.getComputedStyle($row[0],null);for(let cssStyle in defaults.mso.styles){let thCss=cellStyles[defaults.mso.styles[cssStyle]];if(thCss==="")thCss=rowStyles[defaults.mso.styles[cssStyle]];if(thCss!==""&&thCss!=="0px none rgb(0, 0, 0)"&&thCss!=="rgba(0, 0, 0, 0)"){thStyle+=thStyle===""?'style="':";";thStyle+=defaults.mso.styles[cssStyle]+":"+thCss}}}if(thStyle!=="")trData+=" "+thStyle+'"';const tdColspan=getColspan(cell);if(tdColspan>0)trData+=' colspan="'+tdColspan+'"';const tdRowspan=getRowspan(cell);if(tdRowspan>0)trData+=' rowspan="'+tdRowspan+'"';trData+=">"+parseString(cell,row,col)+"</th>"}});if(trData.length>0)docData+="<tr>"+trData+"</tr>";rowIndex++});docData+="</thead><tbody>";$rows=collectRows($table);$($rows).each(function(){const $row=$(this);trData="";ForEachVisibleCell(this,"td,th",rowIndex,$head_rows.length+$rows.length,function(cell,row,col){if(cell!==null){let tdValue=parseString(cell,row,col);let tdStyle="";let tdCss=$(cell).attr("data-tableexport-msonumberformat");if(typeof tdCss==="undefined"&&typeof defaults.mso.onMsoNumberFormat==="function")tdCss=defaults.mso.onMsoNumberFormat(cell,row,col);if(typeof tdCss!=="undefined"&&tdCss!=="")tdStyle="style=\"mso-number-format:'"+tdCss+"'";if(defaults.mso.styles.length){const cellStyles=document.defaultView.getComputedStyle(cell,null);const rowStyles=document.defaultView.getComputedStyle($row[0],null);for(let cssStyle in defaults.mso.styles){tdCss=cellStyles[defaults.mso.styles[cssStyle]];if(tdCss==="")tdCss=rowStyles[defaults.mso.styles[cssStyle]];if(tdCss!==""&&tdCss!=="0px none rgb(0, 0, 0)"&&tdCss!=="rgba(0, 0, 0, 0)"){tdStyle+=tdStyle===""?'style="':";";tdStyle+=defaults.mso.styles[cssStyle]+":"+tdCss}}}trData+="<td";if(tdStyle!=="")trData+=" "+tdStyle+'"';const tdColspan=getColspan(cell);if(tdColspan>0)trData+=' colspan="'+tdColspan+'"';const tdRowspan=getRowspan(cell);if(tdRowspan>0)trData+=' rowspan="'+tdRowspan+'"';if(typeof tdValue==="string"&&tdValue!==""){tdValue=preventInjection(tdValue);tdValue=tdValue.replace(/\n/g,"<br>")}trData+=">"+tdValue+"</td>"}});if(trData.length>0)docData+="<tr>"+trData+"</tr>";rowIndex++});if(defaults.displayTableName)docData+="<tr><td></td></tr><tr><td></td></tr><tr><td>"+parseString($("<p>"+defaults.tableName+"</p>"))+"</td></tr>";docData+="</tbody></table>"});let docFile='<html xmlns:o="urn:schemas-microsoft-com:office:office" '+MSDocSchema+' xmlns="http://www.w3.org/TR/REC-html40">';docFile+='<meta http-equiv="content-type" content="application/vnd.ms-'+MSDocType+'; charset=UTF-8">';docFile+="<head>";if(MSDocType==="excel"){docFile+="\x3c!--[if gte mso 9]>";docFile+="<xml>";docFile+="<x:ExcelWorkbook>";docFile+="<x:ExcelWorksheets>";docFile+="<x:ExcelWorksheet>";docFile+="<x:Name>";docFile+=docName;docFile+="</x:Name>";docFile+="<x:WorksheetOptions>";docFile+="<x:DisplayGridlines/>";if(defaults.mso.rtl)docFile+="<x:DisplayRightToLeft/>";docFile+="</x:WorksheetOptions>";docFile+="</x:ExcelWorksheet>";docFile+="</x:ExcelWorksheets>";docFile+="</x:ExcelWorkbook>";docFile+="</xml>";docFile+="<![endif]--\x3e"}docFile+="<style>";docFile+="@page { size:"+defaults.mso.pageOrientation+"; mso-page-orientation:"+defaults.mso.pageOrientation+"; }";docFile+="@page Section1 {size:"+pageFormats[defaults.mso.pageFormat][0]+"pt "+pageFormats[defaults.mso.pageFormat][1]+"pt";docFile+="; margin:1.0in 1.25in 1.0in 1.25in;mso-header-margin:.5in;mso-footer-margin:.5in;mso-paper-source:0;}";docFile+="div.Section1 {page:Section1;}";docFile+="@page Section2 {size:"+pageFormats[defaults.mso.pageFormat][1]+"pt "+pageFormats[defaults.mso.pageFormat][0]+"pt";docFile+=";mso-page-orientation:"+defaults.mso.pageOrientation+";margin:1.25in 1.0in 1.25in 1.0in;mso-header-margin:.5in;mso-footer-margin:.5in;mso-paper-source:0;}";docFile+="div.Section2 {page:Section2;}";docFile+="br {mso-data-placement:same-cell;}";docFile+="</style>";docFile+="</head>";docFile+="<body>";docFile+='<div class="Section'+(defaults.mso.pageOrientation==="landscape"?"2":"1")+'">';docFile+=docData;docFile+="</div>";docFile+="</body>";docFile+="</html>";if(defaults.outputMode==="string")return docFile;if(defaults.outputMode==="base64")return base64encode(docFile);saveToFile(docFile,defaults.fileName+"."+MSDocExt,"application/vnd.ms-"+MSDocType,"","base64",false)}else if(defaults.type==="png"){html2canvas($(el)[0]).then(function(canvas){const image=canvas.toDataURL();const byteString=atob(image.substring(22));const buffer=new ArrayBuffer(byteString.length);const intArray=new Uint8Array(buffer);for(let i=0;i<byteString.length;i++)intArray[i]=byteString.charCodeAt(i);if(defaults.outputMode==="string")return byteString;if(defaults.outputMode==="base64")return base64encode(image);if(defaults.outputMode==="window"){window.open(image);return}saveToFile(buffer,defaults.fileName+".png","image/png","","",false)})}else if(defaults.type==="pdf"){if(defaults.pdfmake.enabled===true){const docDefinition={content:[]};$.extend(true,docDefinition,defaults.pdfmake.docDefinition);ranges=[];$(el).filter(function(){return isVisible($(this))}).each(function(){const $table=$(this);const widths=[];const body=[];rowIndex=0;const CollectPdfmakeData=function($rows,colselector,length){let rLength=0;$($rows).each(function(){const r=[];ForEachVisibleCell(this,colselector,rowIndex,length,function(cell,row,col){let cellContent;if(typeof cell!=="undefined"&&cell!==null){const colspan=getColspan(cell);const rowspan=getRowspan(cell);cellContent={text:parseString(cell,row,col)||" "};if(colspan>1||rowspan>1){cellContent["colSpan"]=colspan||1;cellContent["rowSpan"]=rowspan||1}}else cellContent={text:" "};if(colselector.indexOf("th")>=0)cellContent["style"]="header";r.push(cellContent)});if(r.length)body.push(r);if(rLength<r.length)rLength=r.length;rowIndex++});return rLength};$head_rows=collectHeadRows($table);let colcount=CollectPdfmakeData($head_rows,"th,td",$head_rows.length);for(let i=widths.length;i<colcount;i++)widths.push("*");$rows=collectRows($table);colcount=CollectPdfmakeData($rows,"td",$head_rows.length+$rows.length);for(let i=widths.length;i<colcount;i++)widths.push("*");docDefinition.content.push({table:{headerRows:$head_rows.length?$head_rows.length:null,widths:widths,body:body},layout:{layout:"noBorders",hLineStyle:function(i,node){return 0},vLineWidth:function(i,node){return 0},hLineColor:function(i,node){return i<node.table.headerRows?defaults.pdfmake.docDefinition.styles.header.background:defaults.pdfmake.docDefinition.styles.alternateRow.fillColor},vLineColor:function(i,node){return i<node.table.headerRows?defaults.pdfmake.docDefinition.styles.header.background:defaults.pdfmake.docDefinition.styles.alternateRow.fillColor},fillColor:function(rowIndex,node,columnIndex){return rowIndex%2===0?defaults.pdfmake.docDefinition.styles.alternateRow.fillColor:null}},pageBreak:docDefinition.content.length?"before":undefined})});if(typeof pdfMake!=="undefined"&&typeof pdfMake.createPdf!=="undefined"){pdfMake.fonts={Roboto:{normal:"Roboto-Regular.ttf",bold:"Roboto-Medium.ttf",italics:"Roboto-Italic.ttf",bolditalics:"Roboto-MediumItalic.ttf"}};if(pdfMake.vfs.hasOwnProperty("Mirza-Regular.ttf")){docDefinition.defaultStyle.font="Mirza";$.extend(true,pdfMake.fonts,{Mirza:{normal:"Mirza-Regular.ttf",bold:"Mirza-Bold.ttf",italics:"Mirza-Medium.ttf",bolditalics:"Mirza-SemiBold.ttf"}})}else if(pdfMake.vfs.hasOwnProperty("gbsn00lp.ttf")){docDefinition.defaultStyle.font="gbsn00lp";$.extend(true,pdfMake.fonts,{gbsn00lp:{normal:"gbsn00lp.ttf",bold:"gbsn00lp.ttf",italics:"gbsn00lp.ttf",bolditalics:"gbsn00lp.ttf"}})}else if(pdfMake.vfs.hasOwnProperty("ZCOOLXiaoWei-Regular.ttf")){docDefinition.defaultStyle.font="ZCOOLXiaoWei";$.extend(true,pdfMake.fonts,{ZCOOLXiaoWei:{normal:"ZCOOLXiaoWei-Regular.ttf",bold:"ZCOOLXiaoWei-Regular.ttf",italics:"ZCOOLXiaoWei-Regular.ttf",bolditalics:"ZCOOLXiaoWei-Regular.ttf"}})}$.extend(true,pdfMake.fonts,defaults.pdfmake.fonts);pdfMake.createPdf(docDefinition).getBuffer(function(buffer){saveToFile(buffer,defaults.fileName+".pdf","application/pdf","","",false)})}}else if(defaults.jspdf.autotable===false){let doc=new jspdf.jsPDF({orientation:defaults.jspdf.orientation,unit:defaults.jspdf.unit,format:defaults.jspdf.format});doc.html(el[0],{callback:function(){jsPdfOutput(doc,false)},html2canvas:{scale:(doc.internal.pageSize.width-defaults.jspdf.margins.left*2)/el[0].scrollWidth},x:defaults.jspdf.margins.left,y:defaults.jspdf.margins.top})}else{const teOptions=defaults.jspdf.autotable.tableExport;if(typeof defaults.jspdf.format==="string"&&defaults.jspdf.format.toLowerCase()==="bestfit"){let rk="",ro="";let mw=0;$(el).each(function(){if(isVisible($(this))){const w=getPropertyUnitValue($(this).get(0),"width","pt");if(w>mw){if(w>pageFormats.a0[0]){rk="a0";ro="l"}for(let key in pageFormats){if(pageFormats.hasOwnProperty(key)){if(pageFormats[key][1]>w){rk=key;ro="l";if(pageFormats[key][0]>w)ro="p"}}}mw=w}}});defaults.jspdf.format=rk===""?"a4":rk;defaults.jspdf.orientation=ro===""?"w":ro}if(teOptions.doc==null){teOptions.doc=new jspdf.jsPDF(defaults.jspdf.orientation,defaults.jspdf.unit,defaults.jspdf.format);teOptions.wScaleFactor=1;teOptions.hScaleFactor=1;if(typeof defaults.jspdf.onDocCreated==="function")defaults.jspdf.onDocCreated(teOptions.doc)}if(teOptions.outputImages===true)teOptions.images={};if(typeof teOptions.images!=="undefined"){$(el).filter(function(){return isVisible($(this))}).each(function(){let rowCount=0;ranges=[];if(defaults.exportHiddenCells===false){$hiddenTableElements=$(this).find("tr, th, td").filter(":hidden");checkCellVisibility=$hiddenTableElements.length>0}$head_rows=collectHeadRows($(this));$rows=collectRows($(this));$($rows).each(function(){ForEachVisibleCell(this,"td,th",$head_rows.length+rowCount,$head_rows.length+$rows.length,function(cell){collectImages(cell,$(cell).children(),teOptions)});rowCount++})});$head_rows=[];$rows=[]}loadImages(teOptions,function(){$(el).filter(function(){return isVisible($(this))}).each(function(){let colKey;rowIndex=0;ranges=[];if(defaults.exportHiddenCells===false){$hiddenTableElements=$(this).find("tr, th, td").filter(":hidden");checkCellVisibility=$hiddenTableElements.length>0}colNames=GetColumnNames(this);teOptions.columns=[];teOptions.rows=[];teOptions.teCells={};if(typeof teOptions.onTable==="function")if(teOptions.onTable($(this),defaults)===false)return true;defaults.jspdf.autotable.tableExport=null;const atOptions=$.extend(true,{},defaults.jspdf.autotable);defaults.jspdf.autotable.tableExport=teOptions;atOptions.margin={};$.extend(true,atOptions.margin,defaults.jspdf.margins);atOptions.tableExport=teOptions;if(typeof atOptions.createdHeaderCell!=="function"){atOptions.createdHeaderCell=function(cell,data){if(typeof teOptions.columns[data.column.dataKey]!=="undefined"){const col=teOptions.columns[data.column.dataKey];if(typeof col.rect!=="undefined"){let rh;cell.contentWidth=col.rect.width;if(typeof teOptions.heightRatio==="undefined"||teOptions.heightRatio===0){if(data.row.raw[data.column.dataKey].rowspan)rh=data.row.raw[data.column.dataKey].rect.height/data.row.raw[data.column.dataKey].rowspan;else rh=data.row.raw[data.column.dataKey].rect.height;teOptions.heightRatio=cell.styles.rowHeight/rh}rh=data.row.raw[data.column.dataKey].rect.height*teOptions.heightRatio;if(rh>cell.styles.rowHeight)cell.styles.rowHeight=rh}cell.styles.halign=atOptions.headerStyles.halign==="inherit"?"center":atOptions.headerStyles.halign;cell.styles.valign=atOptions.headerStyles.valign;if(typeof col.style!=="undefined"&&col.style.hidden!==true){if(atOptions.headerStyles.halign==="inherit")cell.styles.halign=col.style.align;if(atOptions.styles.fillColor==="inherit")cell.styles.fillColor=col.style.bcolor;if(atOptions.styles.textColor==="inherit")cell.styles.textColor=col.style.color;if(atOptions.styles.fontStyle==="inherit")cell.styles.fontStyle=col.style.fstyle}}}}if(typeof atOptions.createdCell!=="function"){atOptions.createdCell=function(cell,data){const tecell=teOptions.teCells[data.row.index+":"+data.column.dataKey];cell.styles.halign=atOptions.styles.halign==="inherit"?"center":atOptions.styles.halign;cell.styles.valign=atOptions.styles.valign;if(typeof tecell!=="undefined"&&typeof tecell.style!=="undefined"&&tecell.style.hidden!==true){if(atOptions.styles.halign==="inherit")cell.styles.halign=tecell.style.align;if(atOptions.styles.fillColor==="inherit")cell.styles.fillColor=tecell.style.bcolor;if(atOptions.styles.textColor==="inherit")cell.styles.textColor=tecell.style.color;if(atOptions.styles.fontStyle==="inherit")cell.styles.fontStyle=tecell.style.fstyle}}}if(typeof atOptions.drawHeaderCell!=="function"){atOptions.drawHeaderCell=function(cell,data){const colopt=teOptions.columns[data.column.dataKey];if((colopt.style.hasOwnProperty("hidden")!==true||colopt.style.hidden!==true)&&colopt.rowIndex>=0)return prepareAutoTableText(cell,data,colopt);else return false}}if(typeof atOptions.drawCell!=="function"){atOptions.drawCell=function(cell,data){const teCell=teOptions.teCells[data.row.index+":"+data.column.dataKey];const draw2canvas=typeof teCell!=="undefined"&&teCell.isCanvas;if(draw2canvas!==true){if(prepareAutoTableText(cell,data,teCell)){teOptions.doc.rect(cell.x,cell.y,cell.width,cell.height,cell.styles.fillStyle);if(typeof teCell!=="undefined"&&(typeof teCell.hasUserDefText==="undefined"||teCell.hasUserDefText!==true)&&typeof teCell.elements!=="undefined"&&teCell.elements.length){const hScale=cell.height/teCell.rect.height;if(hScale>teOptions.hScaleFactor)teOptions.hScaleFactor=hScale;teOptions.wScaleFactor=cell.width/teCell.rect.width;const ySave=cell.textPos.y;drawAutotableElements(cell,teCell.elements,teOptions);cell.textPos.y=ySave;drawAutotableText(cell,teCell.elements,teOptions)}else drawAutotableText(cell,{},teOptions)}}else{const container=teCell.elements[0];const imgId=$(container).attr("data-tableexport-canvas");const r=container.getBoundingClientRect();cell.width=r.width*teOptions.wScaleFactor;cell.height=r.height*teOptions.hScaleFactor;data.row.height=cell.height;jsPdfDrawImage(cell,container,imgId,teOptions)}return false}}teOptions.headerrows=[];$head_rows=collectHeadRows($(this));$($head_rows).each(function(){colKey=0;teOptions.headerrows[rowIndex]=[];ForEachVisibleCell(this,"th,td",rowIndex,$head_rows.length,function(cell,row,col){const obj=getCellStyles(cell);obj.title=parseString(cell,row,col);obj.key=colKey++;obj.rowIndex=rowIndex;teOptions.headerrows[rowIndex].push(obj)});rowIndex++});if(rowIndex>0){let lastrow=rowIndex-1;while(lastrow>=0){$.each(teOptions.headerrows[lastrow],function(){let obj=this;if(lastrow>0&&this.rect===null)obj=teOptions.headerrows[lastrow-1][this.key];if(obj!==null&&obj.rowIndex>=0&&(obj.style.hasOwnProperty("hidden")!==true||obj.style.hidden!==true))teOptions.columns.push(obj)});lastrow=teOptions.columns.length>0?-1:lastrow-1}}let rowCount=0;$rows=[];$rows=collectRows($(this));$($rows).each(function(){const rowData=[];colKey=0;ForEachVisibleCell(this,"td,th",rowIndex,$head_rows.length+$rows.length,function(cell,row,col){let obj;if(typeof teOptions.columns[colKey]==="undefined"){obj={title:"",key:colKey,style:{hidden:true}};teOptions.columns.push(obj)}rowData.push(parseString(cell,row,col));if(typeof cell!=="undefined"&&cell!==null){obj=getCellStyles(cell);obj.isCanvas=cell.hasAttribute("data-tableexport-canvas");obj.elements=obj.isCanvas?$(cell):$(cell).children();if(typeof $(cell).data("teUserDefText")!=="undefined")obj.hasUserDefText=true;teOptions.teCells[rowCount+":"+colKey++]=obj}else{obj=$.extend(true,{},teOptions.teCells[rowCount+":"+(colKey-1)]);obj.colspan=-1;teOptions.teCells[rowCount+":"+colKey++]=obj}});if(rowData.length){teOptions.rows.push(rowData);rowCount++}rowIndex++});if(typeof teOptions.onBeforeAutotable==="function")teOptions.onBeforeAutotable($(this),teOptions.columns,teOptions.rows,atOptions);jsPdfAutoTable(teOptions.doc,teOptions.columns,teOptions.rows,atOptions);if(typeof teOptions.onAfterAutotable==="function")teOptions.onAfterAutotable($(this),atOptions);defaults.jspdf.autotable.startY=jsPdfAutoTableEndPosY()+atOptions.margin.top});jsPdfOutput(teOptions.doc,typeof teOptions.images!=="undefined"&&jQuery.isEmptyObject(teOptions.images)===false);if(typeof teOptions.headerrows!=="undefined")teOptions.headerrows.length=0;if(typeof teOptions.columns!=="undefined")teOptions.columns.length=0;if(typeof teOptions.rows!=="undefined")teOptions.rows.length=0;delete teOptions.doc;teOptions.doc=null})}}function collectHeadRows($table){const result=[];findTableElements($table,"thead").each(function(){result.push.apply(result,findTableElements($(this),defaults.theadSelector).toArray())});return result}function collectRows($table){const result=[];findTableElements($table,"tbody").each(function(){result.push.apply(result,findTableElements($(this),defaults.tbodySelector).toArray())});if(defaults.tfootSelector.length){findTableElements($table,"tfoot").each(function(){result.push.apply(result,findTableElements($(this),defaults.tfootSelector).toArray())})}return result}function findTableElements($parent,selector){const parentSelector=$parent[0].tagName;const parentLevel=$parent.parents(parentSelector).length;return $parent.find(selector).filter(function(){return parentLevel===$(this).closest(parentSelector).parents(parentSelector).length})}function GetColumnNames(table){const result=[];let maxCols=0;let row=0;let col=0;$(table).find("thead").first().find("th").each(function(index,el){const hasDataField=$(el).attr("data-field")!==undefined;if(typeof el.parentNode.rowIndex!=="undefined"&&row!==el.parentNode.rowIndex){row=el.parentNode.rowIndex;col=0;maxCols=0}const colSpan=getColspan(el);maxCols+=colSpan?colSpan:1;while(col<maxCols){result[col]=hasDataField?$(el).attr("data-field"):col.toString();col++}});return result}function isVisible($element){let isRow=typeof $element[0].rowIndex!=="undefined";const isCell=isRow===false&&typeof $element[0].cellIndex!=="undefined";const isElementVisible=isCell||isRow?isTableElementVisible($element):$element.is(":visible");let tableexportDisplay=$element.attr("data-tableexport-display");if(isCell&&tableexportDisplay!=="none"&&tableexportDisplay!=="always"){$element=$($element[0].parentNode);isRow=typeof $element[0].rowIndex!=="undefined";tableexportDisplay=$element.attr("data-tableexport-display")}if(isRow&&tableexportDisplay!=="none"&&tableexportDisplay!=="always"){tableexportDisplay=$element.closest("table").attr("data-tableexport-display")}return tableexportDisplay!=="none"&&(isElementVisible===true||tableexportDisplay==="always")}function isTableElementVisible($element){let hiddenEls=[];if(checkCellVisibility){hiddenEls=$hiddenTableElements.filter(function(){let found=false;if(this.nodeType===$element[0].nodeType){if(typeof this.rowIndex!=="undefined"&&this.rowIndex===$element[0].rowIndex)found=true;else if(typeof this.cellIndex!=="undefined"&&this.cellIndex===$element[0].cellIndex&&typeof this.parentNode.rowIndex!=="undefined"&&typeof $element[0].parentNode.rowIndex!=="undefined"&&this.parentNode.rowIndex===$element[0].parentNode.rowIndex)found=true}return found})}return checkCellVisibility===false||hiddenEls.length===0}function isColumnIgnored($cell,rowLength,colIndex){let result=false;if(isVisible($cell)){if(defaults.ignoreColumn.length>0){if($.inArray(colIndex,defaults.ignoreColumn)!==-1||$.inArray(colIndex-rowLength,defaults.ignoreColumn)!==-1||colNames.length>colIndex&&typeof colNames[colIndex]!=="undefined"&&$.inArray(colNames[colIndex],defaults.ignoreColumn)!==-1)result=true}}else result=true;return result}function ForEachVisibleCell(tableRow,selector,rowIndex,rowCount,cellcallback){if(typeof cellcallback==="function"){let ignoreRow=false;if(typeof defaults.onIgnoreRow==="function")ignoreRow=defaults.onIgnoreRow($(tableRow),rowIndex);if(ignoreRow===false&&(defaults.ignoreRow.length===0||$.inArray(rowIndex,defaults.ignoreRow)===-1&&$.inArray(rowIndex-rowCount,defaults.ignoreRow)===-1)&&isVisible($(tableRow))){const $cells=findTableElements($(tableRow),selector);let cellsCount=$cells.length;let colCount=0;let colIndex=0;$cells.each(function(){const $cell=$(this);let colspan=getColspan(this);let rowspan=getRowspan(this);let c;$.each(ranges,function(){const range=this;if(rowIndex>range.s.r&&rowIndex<=range.e.r&&colCount>=range.s.c&&colCount<=range.e.c){for(c=0;c<=range.e.c-range.s.c;++c){cellsCount++;colIndex++;cellcallback(null,rowIndex,colCount++)}}});if(rowspan||colspan){rowspan=rowspan||1;colspan=colspan||1;ranges.push({s:{r:rowIndex,c:colCount},e:{r:rowIndex+rowspan-1,c:colCount+colspan-1}})}if(isColumnIgnored($cell,cellsCount,colIndex++)===false){cellcallback(this,rowIndex,colCount++)}if(colspan>1){for(c=0;c<colspan-1;++c){colIndex++;cellcallback(null,rowIndex,colCount++)}}});$.each(ranges,function(){const range=this;if(rowIndex>=range.s.r&&rowIndex<=range.e.r&&colCount>=range.s.c&&colCount<=range.e.c){for(let c=0;c<=range.e.c-range.s.c;++c){cellcallback(null,rowIndex,colCount++)}}})}}}function jsPdfDrawImage(cell,container,imgId,teOptions){if(typeof teOptions.images!=="undefined"){const image=teOptions.images[imgId];if(typeof image!=="undefined"){const r=container.getBoundingClientRect();const arCell=cell.width/cell.height;const arImg=r.width/r.height;let imgWidth=cell.width;let imgHeight=cell.height;const px2pt=.264583*72/25.4;let uy=0;if(arImg<=arCell){imgHeight=Math.min(cell.height,r.height);imgWidth=r.width*imgHeight/r.height}else if(arImg>arCell){imgWidth=Math.min(cell.width,r.width);imgHeight=r.height*imgWidth/r.width}imgWidth*=px2pt;imgHeight*=px2pt;if(imgHeight<cell.height)uy=(cell.height-imgHeight)/2;try{teOptions.doc.addImage(image.src,cell.textPos.x,cell.y+uy,imgWidth,imgHeight)}catch(e){}cell.textPos.x+=imgWidth}}}function jsPdfOutput(doc,hasimages){if(defaults.outputMode==="string")return doc.output();if(defaults.outputMode==="base64")return base64encode(doc.output());if(defaults.outputMode==="window"){window.URL=window.URL||window.webkitURL;window.open(window.URL.createObjectURL(doc.output("blob")));return}const fileName=defaults.fileName+".pdf";try{const blob=doc.output("blob");saveAs(blob,fileName);if(typeof defaults.onAfterSaveToFile==="function")defaults.onAfterSaveToFile(blob,fileName)}catch(e){downloadFile(fileName,"data:application/pdf"+(hasimages?"":";base64")+",",hasimages?doc.output("blob"):doc.output())}}function prepareAutoTableText(cell,data,cellopt){let cs=0;if(typeof cellopt!=="undefined")cs=cellopt.colspan;if(cs>=0){let cellWidth=cell.width;let textPosX=cell.textPos.x;const i=data.table.columns.indexOf(data.column);for(let c=1;c<cs;c++){const column=data.table.columns[i+c];cellWidth+=column.width}if(cs>1){if(cell.styles.halign==="right")textPosX=cell.textPos.x+cellWidth-cell.width;else if(cell.styles.halign==="center")textPosX=cell.textPos.x+(cellWidth-cell.width)/2}cell.width=cellWidth;cell.textPos.x=textPosX;if(typeof cellopt!=="undefined"&&cellopt.rowspan>1)cell.height=cell.height*cellopt.rowspan;if(cell.styles.valign==="middle"||cell.styles.valign==="bottom"){const splittedText=typeof cell.text==="string"?cell.text.split(/\r\n|\r|\n/g):cell.text;const lineCount=splittedText.length||1;if(lineCount>2)cell.textPos.y-=(2-FONT_ROW_RATIO)/2*data.row.styles.fontSize*(lineCount-2)/3}return true}else return false}function collectImages(cell,elements,teOptions){if(typeof cell!=="undefined"&&cell!==null){if(cell.hasAttribute("data-tableexport-canvas")){const imgId=(new Date).getTime();$(cell).attr("data-tableexport-canvas",imgId);teOptions.images[imgId]={url:'[data-tableexport-canvas="'+imgId+'"]',src:null}}else if(elements!=="undefined"&&elements!=null){elements.each(function(){if($(this).is("img")){const imgId=strHashCode(this.src);teOptions.images[imgId]={url:this.src,src:this.src}}collectImages(cell,$(this).children(),teOptions)})}}}function loadImages(teOptions,callback){let imageCount=0;let pendingCount=0;function done(){callback(imageCount)}function loadImage(image){if(image.url){if(!image.src){const $imgContainer=$(image.url);if($imgContainer.length){imageCount=++pendingCount;html2canvas($imgContainer[0]).then(function(canvas){image.src=canvas.toDataURL("image/png");if(!--pendingCount)done()})}}else{const img=new Image;imageCount=++pendingCount;img.crossOrigin="Anonymous";img.onerror=img.onload=function(){if(img.complete){if(img.src.indexOf("data:image/")===0){img.width=image.width||img.width||0;img.height=image.height||img.height||0}if(img.width+img.height){const canvas=document.createElement("canvas");const ctx=canvas.getContext("2d");canvas.width=img.width;canvas.height=img.height;ctx.drawImage(img,0,0);image.src=canvas.toDataURL("image/png")}}if(!--pendingCount)done()};img.src=image.url}}}if(typeof teOptions.images!=="undefined"){for(let i in teOptions.images)if(teOptions.images.hasOwnProperty(i))loadImage(teOptions.images[i])}return pendingCount||done()}function drawAutotableElements(cell,elements,teOptions){elements.each(function(){if($(this).is("div")){const bColor=rgb2array(getStyle(this,"background-color"),[255,255,255]);const lColor=rgb2array(getStyle(this,"border-top-color"),[0,0,0]);const lWidth=getPropertyUnitValue(this,"border-top-width",defaults.jspdf.unit);const r=this.getBoundingClientRect();const ux=this.offsetLeft*teOptions.wScaleFactor;const uy=this.offsetTop*teOptions.hScaleFactor;const uw=r.width*teOptions.wScaleFactor;const uh=r.height*teOptions.hScaleFactor;teOptions.doc.setDrawColor.apply(undefined,lColor);teOptions.doc.setFillColor.apply(undefined,bColor);teOptions.doc.setLineWidth(lWidth);teOptions.doc.rect(cell.x+ux,cell.y+uy,uw,uh,lWidth?"FD":"F")}else if($(this).is("img")){const imgId=strHashCode(this.src);jsPdfDrawImage(cell,this,imgId,teOptions)}drawAutotableElements(cell,$(this).children(),teOptions)})}function drawAutotableText(cell,texttags,teOptions){if(typeof teOptions.onAutotableText==="function"){teOptions.onAutotableText(teOptions.doc,cell,texttags)}else{let x=cell.textPos.x;let y=cell.textPos.y;const style={halign:cell.styles.halign,valign:cell.styles.valign};if(texttags.length){let tag=texttags[0];while(tag.previousSibling)tag=tag.previousSibling;let b=false,i=false;while(tag){let txt=tag.innerText||tag.textContent||"";const leadingSpace=txt.length&&txt[0]===" "?" ":"";const trailingSpace=txt.length>1&&txt[txt.length-1]===" "?" ":"";if(defaults.preserve.leadingWS!==true)txt=leadingSpace+trimLeft(txt);if(defaults.preserve.trailingWS!==true)txt=trimRight(txt)+trailingSpace;if($(tag).is("br")){x=cell.textPos.x;y+=teOptions.doc.internal.getFontSize()}if($(tag).is("b"))b=true;else if($(tag).is("i"))i=true;if(b||i)teOptions.doc.setFont("undefined ",b&&i?"bolditalic":b?"bold":"italic");let w=teOptions.doc.getStringUnitWidth(txt)*teOptions.doc.internal.getFontSize();if(w){if(cell.styles.overflow==="linebreak"&&x>cell.textPos.x&&x+w>cell.textPos.x+cell.width){const chars=".,!%*;:=-";if(chars.indexOf(txt.charAt(0))>=0){const s=txt.charAt(0);w=teOptions.doc.getStringUnitWidth(s)*teOptions.doc.internal.getFontSize();if(x+w<=cell.textPos.x+cell.width){jsPdfAutoTableText(s,x,y,style);txt=txt.substring(1,txt.length)}w=teOptions.doc.getStringUnitWidth(txt)*teOptions.doc.internal.getFontSize()}x=cell.textPos.x;y+=teOptions.doc.internal.getFontSize()}if(cell.styles.overflow!=="visible"){while(txt.length&&x+w>cell.textPos.x+cell.width){txt=txt.substring(0,txt.length-1);w=teOptions.doc.getStringUnitWidth(txt)*teOptions.doc.internal.getFontSize()}}jsPdfAutoTableText(txt,x,y,style);x+=w}if(b||i){if($(tag).is("b"))b=false;else if($(tag).is("i"))i=false;teOptions.doc.setFont("undefined ",!b&&!i?"normal":b?"bold":"italic")}tag=tag.nextSibling}cell.textPos.x=x;cell.textPos.y=y}else{jsPdfAutoTableText(cell.text,cell.textPos.x,cell.textPos.y,style)}}}function escapeRegExp(string){return string==null?"":string.toString().replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function replaceAll(string,find,replace){return string==null?"":string.toString().replace(new RegExp(escapeRegExp(find),"g"),replace)}function trimLeft(string){return string==null?"":string.toString().replace(/^\s+/,"")}function trimRight(string){return string==null?"":string.toString().replace(/\s+$/,"")}function parseDateUTC(s){if(defaults.date.html.length===0)return false;defaults.date.pattern.lastIndex=0;const match=defaults.date.pattern.exec(s);if(match==null)return false;const y=+match[defaults.date.match_y];if(y<0||y>8099)return false;const m=match[defaults.date.match_m]*1;const d=match[defaults.date.match_d]*1;if(!isFinite(d))return false;const o=new Date(y,m-1,d,0,0,0);if(o.getFullYear()===y&&o.getMonth()===m-1&&o.getDate()===d)return new Date(Date.UTC(y,m-1,d,0,0,0));else return false}function parseNumber(value){value=value||"0";if(""!==defaults.numbers.html.thousandsSeparator)value=replaceAll(value,defaults.numbers.html.thousandsSeparator,"");if("."!==defaults.numbers.html.decimalMark)value=replaceAll(value,defaults.numbers.html.decimalMark,".");return typeof value==="number"||jQuery.isNumeric(value)!==false?value:false}function parsePercent(value){if(value.indexOf("%")>-1){value=parseNumber(value.replace(/%/g,""));if(value!==false)value=value/100}else value=false;return value}function parseString(cell,rowIndex,colIndex,cellInfo){let result="";let cellType="text";if(cell!==null){const $cell=$(cell);let htmlData;$cell.removeData("teUserDefText");if($cell[0].hasAttribute("data-tableexport-canvas")){htmlData=""}else if($cell[0].hasAttribute("data-tableexport-value")){htmlData=$cell.attr("data-tableexport-value");htmlData=htmlData?htmlData+"":"";$cell.data("teUserDefText",1)}else{htmlData=$cell.html();if(typeof defaults.onCellHtmlData==="function"){htmlData=defaults.onCellHtmlData($cell,rowIndex,colIndex,htmlData);$cell.data("teUserDefText",1)}else if(htmlData!==""){const html=$.parseHTML("<div>"+htmlData+"</div>",null,false);let inputIndex=0;let selectIndex=0;htmlData="";$.each(html,function(){if($(this).is("input")){htmlData+=$cell.find("input").eq(inputIndex++).val()}else if($(this).is("select")){htmlData+=$cell.find("select option:selected").eq(selectIndex++).text()}else if($(this).is("br")){htmlData+="<br>"}else{if(typeof $(this).html()==="undefined")htmlData+=$(this).text();else if(jQuery().bootstrapTable===undefined||$(this).hasClass("fht-cell")===false&&$(this).hasClass("filterControl")===false&&$cell.parents(".detail-view").length===0)htmlData+=$(this).html();if($(this).is("a")){const href=$cell.find("a").attr("href")||"";if(typeof defaults.onCellHtmlHyperlink==="function"){result+=defaults.onCellHtmlHyperlink($cell,rowIndex,colIndex,href,htmlData)}else if(defaults.htmlHyperlink==="href"){result+=href}else{result+=htmlData}htmlData=""}}})}}if(htmlData&&htmlData!==""&&defaults.htmlContent===true){result=$.trim(htmlData)}else if(htmlData&&htmlData!==""){const cellFormat=$cell.attr("data-tableexport-cellformat");if(cellFormat!==""){let text=htmlData.replace(/\n/g,"\u2028").replace(/(<\s*br([^>]*)>)/gi,"⁠");const obj=$("<div/>").html(text).contents();let number=false;text="";$.each(obj.text().split("\u2028"),function(i,v){if(i>0)text+=" ";if(defaults.preserve.leadingWS!==true)v=trimLeft(v);text+=defaults.preserve.trailingWS!==true?trimRight(v):v});$.each(text.split("⁠"),function(i,v){if(i>0)result+="\n";if(defaults.preserve.leadingWS!==true)v=trimLeft(v);if(defaults.preserve.trailingWS!==true)v=trimRight(v);result+=v.replace(/\u00AD/g,"")});result=result.replace(/\u00A0/g," ");if(defaults.type==="json"||defaults.type==="excel"&&defaults.mso.fileFormat==="xmlss"||defaults.numbers.output===false){number=parseNumber(result);if(number!==false){cellType="number";result=Number(number)}}else if(defaults.numbers.html.decimalMark!==defaults.numbers.output.decimalMark||defaults.numbers.html.thousandsSeparator!==defaults.numbers.output.thousandsSeparator){number=parseNumber(result);if(number!==false){const frac=(""+number.substr(number<0?1:0)).split(".");if(frac.length===1)frac[1]="";const mod=frac[0].length>3?frac[0].length%3:0;cellType="number";result=(number<0?"-":"")+(defaults.numbers.output.thousandsSeparator?(mod?frac[0].substr(0,mod)+defaults.numbers.output.thousandsSeparator:"")+frac[0].substr(mod).replace(/(\d{3})(?=\d)/g,"$1"+defaults.numbers.output.thousandsSeparator):frac[0])+(frac[1].length?defaults.numbers.output.decimalMark+frac[1]:"")}}}else result=htmlData}if(defaults.escape===true){result=escape(result)}if(typeof defaults.onCellData==="function"){result=defaults.onCellData($cell,rowIndex,colIndex,result,cellType);$cell.data("teUserDefText",1)}}if(cellInfo!==undefined)cellInfo.type=cellType;return result}function preventInjection(str){if(str.length>0&&defaults.preventInjection===true){const chars="=+-@";if(chars.indexOf(str.charAt(0))>=0)return"'"+str}return str}function hyphenate(a,b,c){return b+"-"+c.toLowerCase()}function rgb2array(rgb_string,default_result){const re=/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/;const bits=re.exec(rgb_string);let result=default_result;if(bits)result=[parseInt(bits[1]),parseInt(bits[2]),parseInt(bits[3])];return result}function getCellStyles(cell){let a=getStyle(cell,"text-align");const fw=getStyle(cell,"font-weight");const fs=getStyle(cell,"font-style");let f="";if(a==="start")a=getStyle(cell,"direction")==="rtl"?"right":"left";if(fw>=700)f="bold";if(fs==="italic")f+=fs;if(f==="")f="normal";const result={style:{align:a,bcolor:rgb2array(getStyle(cell,"background-color"),[255,255,255]),color:rgb2array(getStyle(cell,"color"),[0,0,0]),fstyle:f},colspan:getColspan(cell),rowspan:getRowspan(cell)};if(cell!==null){const r=cell.getBoundingClientRect();result.rect={width:r.width,height:r.height}}return result}function getColspan(cell){let result=$(cell).attr("data-tableexport-colspan");if(typeof result==="undefined"&&$(cell).is("[colspan]"))result=$(cell).attr("colspan");return parseInt(result)||0}function getRowspan(cell){let result=$(cell).attr("data-tableexport-rowspan");if(typeof result==="undefined"&&$(cell).is("[rowspan]"))result=$(cell).attr("rowspan");return parseInt(result)||0}function getStyle(target,prop){try{if(window.getComputedStyle){prop=prop.replace(/([a-z])([A-Z])/,hyphenate);return window.getComputedStyle(target,null).getPropertyValue(prop)}if(target.currentStyle){return target.currentStyle[prop]}return target.style[prop]}catch(e){}return""}function getUnitValue(parent,value,unit){const baseline=100;const temp=document.createElement("div");temp.style.overflow="hidden";temp.style.visibility="hidden";parent.appendChild(temp);temp.style.width=baseline+unit;const factor=baseline/temp.offsetWidth;parent.removeChild(temp);return value*factor}function getPropertyUnitValue(target,prop,unit){const value=getStyle(target,prop);let numeric=value.match(/\d+/);if(numeric!==null){numeric=numeric[0];return getUnitValue(target.parentElement,numeric,unit)}return 0}function xlsxWorkbookToArrayBuffer(s){const buf=new ArrayBuffer(s.length);const view=new Uint8Array(buf);for(let i=0;i!==s.length;++i)view[i]=s.charCodeAt(i)&255;return buf}function xlsxTableToSheet(table){let ssfId;const ws={};const rows=table.getElementsByTagName("tr");const sheetRows=Math.min(1e7,rows.length);const range={s:{r:0,c:0},e:{r:0,c:0}};let merges=[],midx=0;let _R=0,R=0,_C=0,C=0,RS=0,CS=0;let elt;const ssfTable=XLSX.SSF.get_table();for(;_R<rows.length&&R<sheetRows;++_R){const row=rows[_R];let ignoreRow=false;if(typeof defaults.onIgnoreRow==="function")ignoreRow=defaults.onIgnoreRow($(row),_R);if(ignoreRow===true||defaults.ignoreRow.length!==0&&($.inArray(_R,defaults.ignoreRow)!==-1||$.inArray(_R-rows.length,defaults.ignoreRow)!==-1)||isVisible($(row))===false){continue}const elts=row.children;let _CLength=0;for(_C=0;_C<elts.length;++_C){elt=elts[_C];CS=+getColspan(elt)||1;_CLength+=CS}let CSOffset=0;for(_C=C=0;_C<elts.length;++_C){elt=elts[_C];CS=+getColspan(elt)||1;const col=_C+CSOffset;if(isColumnIgnored($(elt),_CLength,col+(col<C?C-col:0)))continue;CSOffset+=CS-1;for(midx=0;midx<merges.length;++midx){const m=merges[midx];if(m.s.c==C&&m.s.r<=R&&R<=m.e.r){C=m.e.c+1;midx=-1}}if((RS=+getRowspan(elt))>0||CS>1)merges.push({s:{r:R,c:C},e:{r:R+(RS||1)-1,c:C+CS-1}});const cellInfo={type:""};let v=parseString(elt,_R,_C+CSOffset,cellInfo);let o={t:"s",v:v};let _t="";const cellFormat=$(elt).attr("data-tableexport-cellformat")||undefined;if(cellFormat!==""){ssfId=parseInt($(elt).attr("data-tableexport-xlsxformatid")||0);if(ssfId===0&&typeof defaults.mso.xlsx.formatId.numbers==="function")ssfId=defaults.mso.xlsx.formatId.numbers($(elt),_R,_C+CSOffset);if(ssfId===0&&typeof defaults.mso.xlsx.formatId.date==="function")ssfId=defaults.mso.xlsx.formatId.date($(elt),_R,_C+CSOffset);if(ssfId===49||ssfId==="@")_t="s";else if(cellInfo.type==="number"||ssfId>0&&ssfId<14||ssfId>36&&ssfId<41||ssfId===48)_t="n";else if(cellInfo.type==="date"||ssfId>13&&ssfId<37||ssfId>44&&ssfId<48||ssfId===56)_t="d"}else _t="s";if(v!=null){let vd;if(v.length===0){o.t="z"}else if(v.trim().length===0){}else if(_t==="s"){}else if(cellInfo.type==="function"){o={f:v}}else if(v==="TRUE"){o={t:"b",v:true}}else if(v==="FALSE"){o={t:"b",v:false}}else if(_t==="n"||isFinite(xlsxToNumber(v,defaults.numbers.output))){const vn=xlsxToNumber(v,defaults.numbers.output);if(ssfId===0&&typeof defaults.mso.xlsx.formatId.numbers!=="function"){ssfId=defaults.mso.xlsx.formatId.numbers}if(isFinite(vn)||isFinite(v))o={t:"n",v:isFinite(vn)?vn:v,z:typeof ssfId==="string"?ssfId:ssfId in ssfTable?ssfTable[ssfId]:ssfId===defaults.mso.xlsx.formatId.currency?defaults.mso.xlsx.format.currency:"0.00"}}else if((vd=parseDateUTC(v))!==false||_t==="d"){if(ssfId===0&&typeof defaults.mso.xlsx.formatId.date!=="function"){ssfId=defaults.mso.xlsx.formatId.date}o={t:"d",v:vd!==false?vd:v,z:typeof ssfId==="string"?ssfId:ssfId in ssfTable?ssfTable[ssfId]:"m/d/yy"}}const $aTag=$(elt).find("a");if($aTag&&$aTag.length){const href=$aTag[0].hasAttribute("href")?$aTag.attr("href"):"";const content=defaults.htmlHyperlink!=="href"||href===""?v:"";const hyperlink=href!==""?'=HYPERLINK("'+href+(content.length?'","'+content:"")+'")':"";if(hyperlink!==""){if(typeof defaults.mso.xlsx.onHyperlink==="function"){v=defaults.mso.xlsx.onHyperlink($(elt),_R,_C,href,content,hyperlink);if(v.indexOf("=HYPERLINK")!==0){o={t:"s",v:v}}else{o={f:v}}}else{o={f:hyperlink}}}}}ws[xlsxEncodeCell({c:C,r:R})]=o;if(range.e.c<C){range.e.c=C}C+=CS}++R}if(merges.length){ws["!merges"]=(ws["!merges"]||[]).concat(merges)}range.e.r=Math.max(range.e.r,R-1);ws["!ref"]=xlsxEncodeRange(range);if(R>=sheetRows){ws["!fullref"]=xlsxEncodeRange((range.e.r=rows.length-_R+R-1,range))}return ws}function xlsxEncodeRow(row){return""+(row+1)}function xlsxEncodeCol(col){let s="";for(++col;col;col=Math.floor((col-1)/26)){s=String.fromCharCode((col-1)%26+65)+s}return s}function xlsxEncodeCell(cell){return xlsxEncodeCol(cell.c)+xlsxEncodeRow(cell.r)}function xlsxEncodeRange(cs,ce){if(typeof ce==="undefined"||typeof ce==="number"){return xlsxEncodeRange(cs.s,cs.e)}if(typeof cs!=="string"){cs=xlsxEncodeCell(cs)}if(typeof ce!=="string"){ce=xlsxEncodeCell(ce)}return cs===ce?cs:cs+":"+ce}function xlsxToNumber(s,numbersFormat){let v=Number(s);if(isFinite(v))return v;let wt=1;let ss=s;if(""!==numbersFormat.thousandsSeparator)ss=ss.replace(new RegExp("([\\d])"+numbersFormat.thousandsSeparator+"([\\d])","g"),"$1$2");if("."!==numbersFormat.decimalMark)ss=ss.replace(new RegExp("([\\d])"+numbersFormat.decimalMark+"([\\d])","g"),"$1.$2");ss=ss.replace(/[$]/g,"").replace(/[%]/g,function(){wt*=100;return""});if(isFinite(v=Number(ss)))return v/wt;ss=ss.replace(/[(](.*)[)]/,function($$,$1){wt=-wt;return $1});if(isFinite(v=Number(ss)))return v/wt;return v}function strHashCode(str){let hash=0,i,chr,len;if(str.length===0)return hash;for(i=0,len=str.length;i<len;i++){chr=str.charCodeAt(i);hash=(hash<<5)-hash+chr;hash|=0}return hash}function saveToFile(data,fileName,type,charset,encoding,bom){let saveIt=true;if(typeof defaults.onBeforeSaveToFile==="function"){saveIt=defaults.onBeforeSaveToFile(data,fileName,type,charset,encoding);if(typeof saveIt!=="boolean")saveIt=true}if(saveIt){try{blob=new Blob([data],{type:type+";charset="+charset});saveAs(blob,fileName,bom===false);if(typeof defaults.onAfterSaveToFile==="function")defaults.onAfterSaveToFile(data,fileName)}catch(e){downloadFile(fileName,"data:"+type+(charset.length?";charset="+charset:"")+(encoding.length?";"+encoding:"")+",",bom?"\ufeff"+data:data)}}}function downloadFile(filename,header,data){const ua=window.navigator.userAgent;if(filename!==false&&window.navigator.msSaveOrOpenBlob){window.navigator.msSaveOrOpenBlob(new Blob([data]),filename)}else if(filename!==false&&(ua.indexOf("MSIE ")>0||!!ua.match(/Trident.*rv\:11\./))){const frame=document.createElement("iframe");if(frame){document.body.appendChild(frame);frame.setAttribute("style","display:none");frame.contentDocument.open("txt/plain","replace");frame.contentDocument.write(data);frame.contentDocument.close();frame.contentWindow.focus();const extension=filename.substr(filename.lastIndexOf(".")+1);switch(extension){case"doc":case"json":case"png":case"pdf":case"xls":case"xlsx":filename+=".txt";break}frame.contentDocument.execCommand("SaveAs",true,filename);document.body.removeChild(frame)}}else{const DownloadLink=document.createElement("a");if(DownloadLink){let blobUrl=null;DownloadLink.style.display="none";if(filename!==false)DownloadLink.download=filename;else DownloadLink.target="_blank";if(typeof data==="object"){window.URL=window.URL||window.webkitURL;const binaryData=[];binaryData.push(data);blobUrl=window.URL.createObjectURL(new Blob(binaryData,{type:header}));DownloadLink.href=blobUrl}else if(header.toLowerCase().indexOf("base64,")>=0){DownloadLink.href=header+base64encode(data)}else{DownloadLink.href=header+encodeURIComponent(data)}document.body.appendChild(DownloadLink);if(document.createEvent){if(DownloadEvt===null)DownloadEvt=document.createEvent("MouseEvents");DownloadEvt.initEvent("click",true,false);DownloadLink.dispatchEvent(DownloadEvt)}else if(document.createEventObject)DownloadLink.fireEvent("onclick");else if(typeof DownloadLink.onclick==="function")DownloadLink.onclick();setTimeout(function(){if(blobUrl)window.URL.revokeObjectURL(blobUrl);document.body.removeChild(DownloadLink);if(typeof defaults.onAfterSaveToFile==="function")defaults.onAfterSaveToFile(data,filename)},100)}}}function utf8Encode(text){if(typeof text==="string"){text=text.replace(/\x0d\x0a/g,"\n");let utfText="";for(let n=0;n<text.length;n++){const c=text.charCodeAt(n);if(c<128){utfText+=String.fromCharCode(c)}else if(c>127&&c<2048){utfText+=String.fromCharCode(c>>6|192);utfText+=String.fromCharCode(c&63|128)}else{utfText+=String.fromCharCode(c>>12|224);utfText+=String.fromCharCode(c>>6&63|128);utfText+=String.fromCharCode(c&63|128)}}return utfText}return text}function base64encode(input){let chr1,chr2,chr3,enc1,enc2,enc3,enc4;const keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let output="";let i=0;input=utf8Encode(input);while(i<input.length){chr1=input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=(chr1&3)<<4|chr2>>4;enc3=(chr2&15)<<2|chr3>>6;enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64}else if(isNaN(chr3)){enc4=64}output=output+keyStr.charAt(enc1)+keyStr.charAt(enc2)+keyStr.charAt(enc3)+keyStr.charAt(enc4)}return output}var jsPdfDoc,jsPdfCursor,jsPdfSettings,jsPdfPageCount,jsPdfTable;function jsPdfAutoTable(doc,headers,data,options){jsPdfValidateInput(headers,data,options);jsPdfDoc=doc;jsPdfSettings=jsPdfInitOptions(options||{});jsPdfPageCount=1;jsPdfCursor={y:jsPdfSettings.startY===false?jsPdfSettings.margin.top:jsPdfSettings.startY};const userStyles={textColor:30,fontSize:jsPdfDoc.internal.getFontSize(),fontStyle:jsPdfDoc.internal.getFont().fontStyle};jsPdfCreateModels(headers,data);jsPdfCalculateWidths();const firstRowHeight=jsPdfTable.rows[0]&&jsPdfSettings.pageBreak==="auto"?jsPdfTable.rows[0].height:0;let minTableBottomPos=jsPdfSettings.startY+jsPdfSettings.margin.bottom+jsPdfTable.headerRow.height+firstRowHeight;if(jsPdfSettings.pageBreak==="avoid"){minTableBottomPos+=jsPdfTable.height}if(jsPdfSettings.pageBreak==="always"&&jsPdfSettings.startY!==false||jsPdfSettings.startY!==false&&minTableBottomPos>jsPdfDoc.internal.pageSize.height){jsPdfDoc.addPage();jsPdfCursor.y=jsPdfSettings.margin.top}jsPdfApplyStyles(userStyles);jsPdfSettings.beforePageContent(jsPdfHooksData());if(jsPdfSettings.drawHeaderRow(jsPdfTable.headerRow,jsPdfHooksData({row:jsPdfTable.headerRow}))!==false){jsPdfPrintRow(jsPdfTable.headerRow,jsPdfSettings.drawHeaderCell)}jsPdfApplyStyles(userStyles);jsPdfPrintRows();jsPdfSettings.afterPageContent(jsPdfHooksData());jsPdfApplyStyles(userStyles);return jsPdfDoc}function jsPdfAutoTableEndPosY(){if(typeof jsPdfCursor==="undefined"||typeof jsPdfCursor.y==="undefined"){return 0}return jsPdfCursor.y}function jsPdfAutoTableText(text,x,y,styles){if(typeof x!=="number"||typeof y!=="number"){console.error("The x and y parameters are required. Missing for the text: ",text)}const fontSize=jsPdfDoc.internal.getFontSize()/jsPdfDoc.internal.scaleFactor;const lineHeightProportion=FONT_ROW_RATIO;const splitRegex=/\r\n|\r|\n/g;let splittedText=null;let lineCount=1;if(styles.valign==="middle"||styles.valign==="bottom"||styles.halign==="center"||styles.halign==="right"){splittedText=typeof text==="string"?text.split(splitRegex):text;lineCount=splittedText.length||1}y+=fontSize*(2-lineHeightProportion);if(styles.valign==="middle")y-=lineCount/2*fontSize;else if(styles.valign==="bottom")y-=lineCount*fontSize;if(styles.halign==="center"||styles.halign==="right"){let alignSize=fontSize;if(styles.halign==="center")alignSize*=.5;if(splittedText&&lineCount>=1){for(let iLine=0;iLine<splittedText.length;iLine++){jsPdfDoc.text(splittedText[iLine],x-jsPdfDoc.getStringUnitWidth(splittedText[iLine])*alignSize,y);y+=fontSize}return jsPdfDoc}x-=jsPdfDoc.getStringUnitWidth(text)*alignSize}jsPdfDoc.text(text,x,y);return jsPdfDoc}function jsPdfValidateInput(headers,data,options){if(!headers||typeof headers!=="object"){console.error("The headers should be an object or array, is: "+typeof headers)}if(!data||typeof data!=="object"){console.error("The data should be an object or array, is: "+typeof data)}if(!!options&&typeof options!=="object"){console.error("The data should be an object or array, is: "+typeof data)}if(!Array.prototype.forEach){console.error("The current browser does not support Array.prototype.forEach which is required for jsPDF-AutoTable")}}function jsPdfInitOptions(userOptions){const settings=jsPdfExtend(jsPdfDefaultOptions(),userOptions);if(typeof settings.extendWidth!=="undefined"){settings.tableWidth=settings.extendWidth?"auto":"wrap";console.error("Use of deprecated option: extendWidth, use tableWidth instead.")}if(typeof settings.margins!=="undefined"){if(typeof settings.margin==="undefined")settings.margin=settings.margins;console.error("Use of deprecated option: margins, use margin instead.")}[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(o){const deprecatedOption=typeof o==="string"?o:o[0];const style=typeof o==="string"?o:o[1];if(typeof settings[deprecatedOption]!=="undefined"){if(typeof settings.styles[style]==="undefined"){settings.styles[style]=settings[deprecatedOption]}console.error("Use of deprecated option: "+deprecatedOption+", use the style "+style+" instead.")}});const marginSetting=settings.margin;settings.margin={};if(typeof marginSetting.horizontal==="number"){marginSetting.right=marginSetting.horizontal;marginSetting.left=marginSetting.horizontal}if(typeof marginSetting.vertical==="number"){marginSetting.top=marginSetting.vertical;marginSetting.bottom=marginSetting.vertical}["top","right","bottom","left"].forEach(function(side,i){if(typeof marginSetting==="number"){settings.margin[side]=marginSetting}else{const key=Array.isArray(marginSetting)?i:side;settings.margin[side]=typeof marginSetting[key]==="number"?marginSetting[key]:40}});return settings}function jsPdfCreateModels(inputHeaders,inputData){jsPdfTable=new jsPdfTableClass;jsPdfTable.x=jsPdfSettings.margin.left;const splitRegex=/\r\n|\r|\n/g;const headerRow=new jsPdfRowClass(inputHeaders);headerRow.index=-1;const themeStyles=jsPdfExtend(jsPdfDefaultStyles,jsPdfThemes[jsPdfSettings.theme].table,jsPdfThemes[jsPdfSettings.theme].header);headerRow.styles=jsPdfExtend(themeStyles,jsPdfSettings.styles,jsPdfSettings.headerStyles);inputHeaders.forEach(function(rawColumn,dataKey){if(typeof rawColumn==="object"){dataKey=typeof rawColumn.dataKey!=="undefined"?rawColumn.dataKey:rawColumn.key}if(typeof rawColumn.width!=="undefined"){console.error("Use of deprecated option: column.width, use column.styles.columnWidth instead.")}const col=new jsPdfColumnClass(dataKey);col.styles=jsPdfSettings.columnStyles[col.dataKey]||{};jsPdfTable.columns.push(col);const cell=new jsPdfCellClass;cell.raw=typeof rawColumn==="object"?rawColumn.title:rawColumn;cell.styles=$.extend({},headerRow.styles);cell.text=""+cell.raw;cell.contentWidth=cell.styles.cellPadding*2+jsPdfGetStringWidth(cell.text,cell.styles);cell.text=cell.text.split(splitRegex);headerRow.cells[dataKey]=cell;jsPdfSettings.createdHeaderCell(cell,{column:col,row:headerRow,settings:jsPdfSettings})});jsPdfTable.headerRow=headerRow;inputData.forEach(function(rawRow,i){const row=new jsPdfRowClass(rawRow);const isAlternate=i%2===0;const themeStyles=jsPdfExtend(jsPdfDefaultStyles,jsPdfThemes[jsPdfSettings.theme].table,isAlternate?jsPdfThemes[jsPdfSettings.theme].alternateRow:{});const userStyles=jsPdfExtend(jsPdfSettings.styles,jsPdfSettings.bodyStyles,isAlternate?jsPdfSettings.alternateRowStyles:{});row.styles=jsPdfExtend(themeStyles,userStyles);row.index=i;jsPdfTable.columns.forEach(function(column){const cell=new jsPdfCellClass;cell.raw=rawRow[column.dataKey];cell.styles=jsPdfExtend(row.styles,column.styles);cell.text=typeof cell.raw!=="undefined"?""+cell.raw:"";row.cells[column.dataKey]=cell;jsPdfSettings.createdCell(cell,jsPdfHooksData({column:column,row:row}));cell.contentWidth=cell.styles.cellPadding*2+jsPdfGetStringWidth(cell.text,cell.styles);cell.text=cell.text.split(splitRegex)});jsPdfTable.rows.push(row)})}function jsPdfCalculateWidths(){let tableContentWidth=0;jsPdfTable.columns.forEach(function(column){column.contentWidth=jsPdfTable.headerRow.cells[column.dataKey].contentWidth;jsPdfTable.rows.forEach(function(row){const cellWidth=row.cells[column.dataKey].contentWidth;if(cellWidth>column.contentWidth){column.contentWidth=cellWidth}});column.width=column.contentWidth;tableContentWidth+=column.contentWidth});jsPdfTable.contentWidth=tableContentWidth;const maxTableWidth=jsPdfDoc.internal.pageSize.width-jsPdfSettings.margin.left-jsPdfSettings.margin.right;let preferredTableWidth=maxTableWidth;if(typeof jsPdfSettings.tableWidth==="number"){preferredTableWidth=jsPdfSettings.tableWidth}else if(jsPdfSettings.tableWidth==="wrap"){preferredTableWidth=jsPdfTable.contentWidth}jsPdfTable.width=preferredTableWidth<maxTableWidth?preferredTableWidth:maxTableWidth;const dynamicColumns=[];let dynamicColumnsContentWidth=0;const fairWidth=jsPdfTable.width/jsPdfTable.columns.length;let staticWidth=0;jsPdfTable.columns.forEach(function(column){const colStyles=jsPdfExtend(jsPdfDefaultStyles,jsPdfThemes[jsPdfSettings.theme].table,jsPdfSettings.styles,column.styles);if(colStyles.columnWidth==="wrap"){column.width=column.contentWidth}else if(typeof colStyles.columnWidth==="number"){column.width=colStyles.columnWidth}else if(colStyles.columnWidth==="auto"||true){if(column.contentWidth<=fairWidth&&jsPdfTable.contentWidth>jsPdfTable.width){column.width=column.contentWidth}else{dynamicColumns.push(column);dynamicColumnsContentWidth+=column.contentWidth;column.width=0}}staticWidth+=column.width});jsPdfDistributeWidth(dynamicColumns,staticWidth,dynamicColumnsContentWidth,fairWidth);jsPdfTable.height=0;const all=jsPdfTable.rows.concat(jsPdfTable.headerRow);all.forEach(function(row,i){let lineBreakCount=0;let cursorX=jsPdfTable.x;jsPdfTable.columns.forEach(function(col){const cell=row.cells[col.dataKey];col.x=cursorX;jsPdfApplyStyles(cell.styles);const textSpace=col.width-cell.styles.cellPadding*2;if(cell.styles.overflow==="linebreak"){cell.text=jsPdfDoc.splitTextToSize(cell.text,textSpace+1,{fontSize:cell.styles.fontSize})}else if(cell.styles.overflow==="ellipsize"){cell.text=jsPdfEllipsize(cell.text,textSpace,cell.styles)}else if(cell.styles.overflow==="visible"){}else if(cell.styles.overflow==="hidden"){cell.text=jsPdfEllipsize(cell.text,textSpace,cell.styles,"")}else if(typeof cell.styles.overflow==="function"){cell.text=cell.styles.overflow(cell.text,textSpace)}else{console.error("Unrecognized overflow type: "+cell.styles.overflow)}const count=Array.isArray(cell.text)?cell.text.length-1:0;if(count>lineBreakCount){lineBreakCount=count}cursorX+=col.width});row.heightStyle=row.styles.rowHeight;row.height=row.heightStyle+lineBreakCount*row.styles.fontSize*FONT_ROW_RATIO+(2-FONT_ROW_RATIO)/2*row.styles.fontSize;jsPdfTable.height+=row.height})}function jsPdfDistributeWidth(dynamicColumns,staticWidth,dynamicColumnsContentWidth,fairWidth){const extraWidth=jsPdfTable.width-staticWidth-dynamicColumnsContentWidth;for(let i=0;i<dynamicColumns.length;i++){const col=dynamicColumns[i];const ratio=col.contentWidth/dynamicColumnsContentWidth;const isNoneDynamic=col.contentWidth+extraWidth*ratio<fairWidth;if(extraWidth<0&&isNoneDynamic){dynamicColumns.splice(i,1);dynamicColumnsContentWidth-=col.contentWidth;col.width=fairWidth;staticWidth+=col.width;jsPdfDistributeWidth(dynamicColumns,staticWidth,dynamicColumnsContentWidth,fairWidth);break}else{col.width=col.contentWidth+extraWidth*ratio}}}function jsPdfPrintRows(){jsPdfTable.rows.forEach(function(row,i){if(jsPdfIsNewPage(row.height)){jsPdfAddPage()}row.y=jsPdfCursor.y;if(jsPdfSettings.drawRow(row,jsPdfHooksData({row:row}))!==false){jsPdfPrintRow(row,jsPdfSettings.drawCell)}})}function jsPdfAddPage(){jsPdfSettings.afterPageContent(jsPdfHooksData());jsPdfDoc.addPage();jsPdfPageCount++;jsPdfCursor={x:jsPdfSettings.margin.left,y:jsPdfSettings.margin.top};jsPdfSettings.beforePageContent(jsPdfHooksData());if(jsPdfSettings.drawHeaderRow(jsPdfTable.headerRow,jsPdfHooksData({row:jsPdfTable.headerRow}))!==false){jsPdfPrintRow(jsPdfTable.headerRow,jsPdfSettings.drawHeaderCell)}}function jsPdfIsNewPage(rowHeight){const afterRowPos=jsPdfCursor.y+rowHeight+jsPdfSettings.margin.bottom;return afterRowPos>=jsPdfDoc.internal.pageSize.height}function jsPdfPrintRow(row,hookHandler){for(let i=0;i<jsPdfTable.columns.length;i++){const column=jsPdfTable.columns[i];const cell=row.cells[column.dataKey];if(!cell){continue}jsPdfApplyStyles(cell.styles);cell.x=column.x;cell.y=jsPdfCursor.y;cell.height=row.height;cell.width=column.width;if(cell.styles.valign==="top"){cell.textPos.y=jsPdfCursor.y+cell.styles.cellPadding}else if(cell.styles.valign==="bottom"){cell.textPos.y=jsPdfCursor.y+row.height-cell.styles.cellPadding}else{cell.textPos.y=jsPdfCursor.y+row.height/2}if(cell.styles.halign==="right"){cell.textPos.x=cell.x+cell.width-cell.styles.cellPadding}else if(cell.styles.halign==="center"){cell.textPos.x=cell.x+cell.width/2}else{cell.textPos.x=cell.x+cell.styles.cellPadding}const data=jsPdfHooksData({column:column,row:row});if(hookHandler(cell,data)!==false){jsPdfDoc.rect(cell.x,cell.y,cell.width,cell.height,cell.styles.fillStyle);jsPdfAutoTableText(cell.text,cell.textPos.x,cell.textPos.y,{halign:cell.styles.halign,valign:cell.styles.valign})}}jsPdfCursor.y+=row.height}function jsPdfApplyStyles(styles){const arr=[{func:jsPdfDoc.setFillColor,value:styles.fillColor},{func:jsPdfDoc.setTextColor,value:styles.textColor},{func:jsPdfDoc.setFont,value:styles.font,style:styles.fontStyle},{func:jsPdfDoc.setDrawColor,value:styles.lineColor},{func:jsPdfDoc.setLineWidth,value:styles.lineWidth},{func:jsPdfDoc.setFont,value:styles.font},{func:jsPdfDoc.setFontSize,value:styles.fontSize}];arr.forEach(function(obj){if(typeof obj.value!=="undefined"){if(obj.value.constructor===Array){obj.func.apply(jsPdfDoc,obj.value)}else if(typeof obj.style!=="undefined"){obj.func(obj.value,obj.style)}else{obj.func(obj.value)}}})}function jsPdfHooksData(additionalData){additionalData=additionalData||{};const data={pageCount:jsPdfPageCount,settings:jsPdfSettings,table:jsPdfTable,cursor:jsPdfCursor};for(let prop in additionalData){if(additionalData.hasOwnProperty(prop)){data[prop]=additionalData[prop]}}return data}function jsPdfEllipsize(text,width,styles,ellipsizeStr){ellipsizeStr=typeof ellipsizeStr!=="undefined"?ellipsizeStr:"...";if(Array.isArray(text)){text.forEach(function(str,i){text[i]=jsPdfEllipsize(str,width,styles,ellipsizeStr)});return text}if(width>=jsPdfGetStringWidth(text,styles)){return text}while(width<jsPdfGetStringWidth(text+ellipsizeStr,styles)){if(text.length<2){break}text=text.substring(0,text.length-1)}return text.trim()+ellipsizeStr}function jsPdfGetStringWidth(text,styles){jsPdfApplyStyles(styles);const w=jsPdfDoc.getStringUnitWidth(text);return w*styles.fontSize}function jsPdfExtend(defaults){const extended={};let prop;for(prop in defaults){if(defaults.hasOwnProperty(prop)){extended[prop]=defaults[prop]}}for(let i=1;i<arguments.length;i++){const options=arguments[i];for(prop in options){if(options.hasOwnProperty(prop)){extended[prop]=options[prop]}}}return extended}if(typeof defaults.onTableExportEnd==="function")defaults.onTableExportEnd();return this};function jsPdfDefaultOptions(){return{theme:"striped",styles:{},headerStyles:{},bodyStyles:{},alternateRowStyles:{},columnStyles:{},startY:false,margin:40,pageBreak:"auto",tableWidth:"auto",createdHeaderCell:function(cell,data){},createdCell:function(cell,data){},drawHeaderRow:function(row,data){},drawRow:function(row,data){},drawHeaderCell:function(cell,data){},drawCell:function(cell,data){},beforePageContent:function(data){},afterPageContent:function(data){}}}var jsPdfTableClass=function(){function jsPdfTableClass(){this.height=0;this.width=0;this.x=0;this.y=0;this.contentWidth=0;this.rows=[];this.columns=[];this.headerRow=null;this.settings={}}return jsPdfTableClass}();var jsPdfRowClass=function(){function jsPdfRowClass(raw){this.raw=raw||{};this.index=0;this.styles={};this.cells={};this.height=0;this.y=0}return jsPdfRowClass}();var jsPdfCellClass=function(){function jsPdfCellClass(raw){this.raw=raw;this.styles={};this.text="";this.contentWidth=0;this.textPos={};this.height=0;this.width=0;this.x=0;this.y=0}return jsPdfCellClass}();var jsPdfColumnClass=function(){function jsPdfColumnClass(dataKey){this.dataKey=dataKey;this.options={};this.styles={};this.contentWidth=0;this.width=0;this.x=0}return jsPdfColumnClass}()})(jQuery);

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYm9vdHN0cmFwLWF1dG9jb21wbGV0ZV9kaXN0X2xhdGVzdF9ib290c3RyYXAtYXV0b2NvbXBsZXRlX2pzLW5vZGVfbW9kdWxlLTVmYjIyYi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUErRDtBQUNOO0FBQ1E7QUFDSjtBQUNFO0FBQ1I7QUFDWjtBQUNrQjtBQUNsQjtBQUNnQjtBQUNWO0FBQ007QUFDRDtBQUNwQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNFQUFzRSxhQUFhO0FBQ25GO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1Asb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBLHFCQUFxQixtRUFBUyxjQUFjLDJFQUFpQix5Q0FBeUMsMkVBQWlCO0FBQ3ZILGtCQUFrQiwyRUFBaUI7QUFDbkMsV0FBVztBQUNYOztBQUVBLCtCQUErQixvRUFBYyxDQUFDLGlFQUFXLHlEQUF5RDs7QUFFbEg7QUFDQTtBQUNBLFNBQVMsR0FBRztBQUNaOztBQUVBLFlBQVksSUFBcUM7QUFDakQsMEJBQTBCLDhEQUFRO0FBQ2xDO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsVUFBVSx1RUFBaUI7O0FBRTNCLGNBQWMsc0VBQWdCLDhCQUE4QiwyQ0FBSTtBQUNoRTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtDQUFrQywwRUFBZ0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EseURBQXlEO0FB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RUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0I7O0FBRWxCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHdDQUF3QyxrREFBa0Q7QUFDMUYsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxxRUFBcUU7O0FBRXJFOztBQUVBOztBQUVBO0FBQ0EsMkVBQTJFO0FBQzNFLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsdUNBQXVDOztBQUV2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLGtFQUFrRTtBQUNsRSxNQUFNO0FBQ04sc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQsbUJBQW1COztBQUV0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sZ0JBQWdCO0FBQ3RCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUNBQXVDOztBQUV2QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sZ0JBQWdCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMEJBQTBCO0FBQ2hEO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQixtQkFBbUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVEsNERBQTREO0FBQ3BFO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7O0FBRUEsOEJBQThCLG1CQUFtQjs7QUFFakQ7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBLGlCQUFpQjtBQUNqQixPQUFPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsSUFBSTtBQUMvQyxvREFBb0QsSUFBSTs7QUFFeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0JBQXdCLG9CQUFvQjtBQUM1Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLG1CQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFD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QUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTSx1RUFBdUU7QUFDN0U7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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RUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJOzs7QUFHSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLE1BQU07O0FBRWxGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJOzs7QUFHSjtBQUNBO0FBQ0E7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QUFDQTs7QUFFQSw0QkFBNEI7O0FBRTVCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDZCQUE2Qjs7O0FBRzdCLDZHQUE2Rzs7O0FBRzdHOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJOzs7QUFHSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGtEQUFrRCw2Q0FBNkM7QUFDL0Y7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwRUFBMEUsK0RBQStEOztBQUV6STtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsT0FBTztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSxJQUFJOzs7QUFHSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHdCQUF3QixXQUFXO0FBQ25DLGtDQUFrQyxZQUFZO0FBQzlDLHdDQUF3QyxZQUFZO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSw2Q0FBNkM7O0FBRTdDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJOzs7QUFHSjtBQUNBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFB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QUk7OztBQUdKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87OztBQUdQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLElBQUk7OztBQUdKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLEdBQUc7O0FBRU47O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1SUFBdUk7O0FBRXZJO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJOzs7QUFHSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGlCQUFpQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsMkNBQU07QUFDckI7QUFDQTs7QUFFQSw0QkFBNEI7O0FBRTVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qjs7QUFFN0I7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7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O0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHVEQUF1RDs7O0FBR3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNkJBQTZCOztBQUU3QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEseURBQXlEOzs7QUFHekQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLG1FQUFtRSxTQUFTO0FBQzVFO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJOzs7QUFHSjtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzQkFBc0IsU0FB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QTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUyxZQUFZOztBQUVyQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUYsb0JBQW9COztBQUVwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRiw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBLG1CQUFtQixpQ0FBaUM7QUFDcEQsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFVBQVUsU0FBUztBQUNuQjtBQUNBOztBQUVBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLFNBQVM7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0NBQWtDLElBQUk7QUFDdEM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsMkJBQTJCO0FBQzNCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBLGdCQUFnQixJQUFJOztBQUVwQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSwwQ0FBMEMsSUFBSTtBQUM5QztBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRixVQUFVOztBQUVWO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLDBCQUEwQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsU0FBUyw2QkFBNkI7QUFDakQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QixhQUFhLHdCQUF3QjtBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQjtBQUMzQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQSxpQ0FBaUMsTUFBTTtBQUN2QztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsZUFBZTs7QUFFZixTQUFTOztBQUVUO0FBQ0EsU0FBUyxnQ0FBZ0M7QUFDekMsU0FBUyxtQkFBbUI7QUFDNUIsU0FBUyxxQ0FBcUM7QUFDOUMsU0FBUztBQUNULEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsOERBQThEOztBQUU5RDtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVE7O0FBRVI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0RBQStEOztBQUUvRDtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7O0FBRTVDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DOztBQUVuQztBQUNBO0FBQ0E7QUFDQSwrQ0FBK0M7O0FBRS9DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBLGtFQUFrRSxVQUFVO0FBQzVFLHVDQUF1QywyQkFBMkI7QUFDbEU7QUFDQSxpQ0FBaUMsTUFBTTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBOztBQUVBO0FBQ0EsYUFBYSx1RUFBdUU7QUFDcEY7QUFDQTtBQUNBLGFBQWEsNEJBQTRCO0FBQ3pDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsU0FBUztBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw2REFBNkQ7O0FBRTdEO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQzs7QUFFMUM7QUFDQTtBQUNBLFFBQVE7QUFDUjs7QUFFQTtBQUNBO0FBQ0EsUUFBUTs7QUFFUjtBQUNBOztBQUVBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsU0FBUztBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUyxTQUFTO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKLFNBQVMsU0FBUztBQUNsQjtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsaURBQWlEO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRCxXQUFXLDRDQUE0QztBQUN2RDtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUEsRUFBRTs7OztBQUlGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBLFNBQVMsR0FBRztBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBOzs7O0FBSUE7O0FBRUE7O0FBRUE7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBLGVBQWUsU0FBUztBQUN4QjtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7OztBQUdGOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxNQUFNO0FBQ047O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLDJCQUEyQix3QkFBd0I7O0FBRW5EO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBLDJDQUEyQztBQUMzQyxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1COztBQUVuQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUixPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx5Q0FBeUMscUNBQXFDO0FBQzlFLHFDQUFxQyxzQ0FBc0M7QUFDM0UscUNBQXFDLHFDQUFxQztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTs7QUFFWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTs7QUFFWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUNBQXFDO0FBQ3JDLHNDQUFzQztBQUN0QyxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOzs7QUFHRjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7Ozs7QUFLQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHdCQUF3QixhQUFhO0FBQ3JDLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLFNBQVM7QUFDN0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxFQUFFOzs7QUFHRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7OztBQUdBOztBQUVBOzs7O0FBSUE7QUFDQTtBQUNBLEdBQUc7QUFDSCxlQUFlOztBQUVmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTLGdCQUFnQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsZ0JBQWdCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7O0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7OztBQUdGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7O0FBRUEsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVMsT0FBTztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0Esc0JBQXNCOztBQUV0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUyxPQUFPO0FBQ2hCOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFdBQVc7O0FBRVg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsZUFBZSxzQkFBc0I7QUFDckM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsZ0VBQWdFO0FBQ2hFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsV0FBVyxjQUFjOztBQUV6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG1CQUFtQjtBQUNyQzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHVDQUF1QztBQUNsRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdURBQXVEO0FBQy9FOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxJQUFJO0FBQ0osRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sK0NBQStDO0FBQ3JEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxlQUFlLG9DQUFvQztBQUNuRDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsRUFBRTs7O0FBR0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDRD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QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUEsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZUFBZTtBQUNsQztBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjs7QUFFakI7QUFDQTs7QUFFQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxZQUFZLFNBQVM7QUFDckI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEVBQUU7OztBQUdGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTs7QUFFWjtBQUNBO0FBQ0E7QUFDQSxTQUFTLE9BQU87QUFDaEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGdCQUFnQjtBQUN6Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsa0RBQWtELDBCQUEwQjtBQUM1RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCO0FBQ0E7O0FBRUEsOENBQThDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTs7QUFFQSxTQUFTLGdCQUFnQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOzs7OztBQUtGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7Ozs7QUFLRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQix1QkFBdUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQix1QkFBdUI7QUFDekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlCQUFpQix1QkFBdUI7QUFDeEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7Ozs7O0FBS0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQSxrQ0FBa0M7QUFDbEM7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOzs7OztBQUtGOzs7QUFHQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQ0FBK0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEM7QUFDNUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEtBQUs7QUFDaEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7OztBQUdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixvQ0FBb0M7O0FBRXBEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQSxjQUFjOztBQUVkOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUosR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSixHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkLE1BQU07QUFDTjs7QUFFQSxZQUFZO0FBQ1osSUFBSTtBQUNKO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFD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O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDJCQUEyQjs7QUFFM0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtDQUFrQzs7QUFFbEM7QUFDQSxzQkFBc0I7QUFDdEIsMkJBQTJCOztBQUUzQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFROztBQUVSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLElBQUk7QUFDSixFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSixFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7O0FBRUEsb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1QkFBdUI7QUFDbkMsWUFBWSx3QkFBd0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7Ozs7O0FBS0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEMsY0FBYyx1Q0FBdUM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7Ozs7QUFLRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBLEVBQUU7Ozs7O0FBS0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKOztBQUVBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EscURBQXFEO0FBQ3JEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQjs7QUFFcEI7QUFDQTs7QUFFQTtBQUNBOztBQUVBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBLEVBQUU7O0FBRUY7QUFDQSxlQUFlLHFEQUFxRDtBQUNwRTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOzs7QUFHRjtBQUNBLGVBQWUsa0NBQWtDO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsR0FBRztBQUNILEVBQUU7OztBQUdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOzs7OztBQUtGOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtB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Q0FBaUMsWUFBWSx3REFBd0Qsa0VBQWtFLHdCQUF3Qiw2QkFBNkIsc0RBQXNELEVBQUUsWUFBWSw0Q0FBNEMsWUFBWSwyREFBMkQsa0JBQWtCLE1BQU0scUNBQXFDLGdDQUFnQywwQ0FBMEMseUJBQXlCLDBDQUEwQyx5QkFBeUIsK0JBQStCLGtCQUFrQixTQUFTLHNCQUFzQixrQ0FBa0MsK0JBQStCLFlBQVksbUJBQW1CLEtBQUssMkJBQTJCLHFCQUFxQixpQ0FBaUMsK0JBQStCLGdCQUFnQiw2RUFBNkUsYUFBYSwrQkFBK0IsT0FBTyx5QkFBeUIsZ0JBQWdCLGNBQWMsc0JBQXNCLGdCQUFnQixrR0FBa0csa0NBQWtDLG1DQUFtQyw2QkFBNkIscUNBQXFDLCtCQUErQixtQ0FBbUMsb0NBQW9DLCtCQUErQiwyQkFBMkIsY0FBYyxhQUFhLFNBQVMsU0FBUyxvQkFBb0IsYUFBYSxnQkFBZ0Isb0JBQW9CLGlCQUFpQix1QkFBdUIsR0FBRyw2QkFBNkIsNEJBQTRCLGlCQUFpQixhQUFhLGVBQWUsY0FBYyxjQUFjLFNBQVMscUJBQXFCLEdBQUcsOEJBQThCLDZCQUE2QixhQUFhLGVBQWUsYUFBYSxvQkFBb0IsZ0JBQWdCLGNBQWMsYUFBYSxTQUFTLFNBQVMsc0JBQXNCLEdBQUcsZ0NBQWdDLG1DQUFtQyxxQkFBcUIsZ0JBQWdCLGVBQWUsb0JBQW9CLGFBQWEsU0FBUyx3QkFBd0IsR0FBRyxFQUFFLE1BQU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2NyZWF0ZVBvcHBlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9jb250YWlucy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRCb3VuZGluZ0NsaWVudFJlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0Q2xpcHBpbmdSZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldENvbXBvc2l0ZVJlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0Q29tcHV0ZWRTdHlsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXREb2N1bWVudEVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0RG9jdW1lbnRSZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldEhUTUxFbGVtZW50U2Nyb2xsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldExheW91dFJlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0Tm9kZU5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0Tm9kZVNjcm9sbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRPZmZzZXRQYXJlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0UGFyZW50Tm9kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRTY3JvbGxQYXJlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0Vmlld3BvcnRSZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldFdpbmRvdy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRXaW5kb3dTY3JvbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0V2luZG93U2Nyb2xsQmFyWC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9pbnN0YW5jZU9mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2lzTGF5b3V0Vmlld3BvcnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvaXNTY3JvbGxQYXJlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvaXNUYWJsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvbGlzdFNjcm9sbFBhcmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9lbnVtcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvbW9kaWZpZXJzL2FwcGx5U3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvbW9kaWZpZXJzL2Fycm93LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvbW9kaWZpZXJzL2NvbXB1dGVTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9tb2RpZmllcnMvZXZlbnRMaXN0ZW5lcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9tb2RpZmllcnMvZmxpcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9oaWRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvbW9kaWZpZXJzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvbW9kaWZpZXJzL29mZnNldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9wb3BwZXJPZmZzZXRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvbW9kaWZpZXJzL3ByZXZlbnRPdmVyZmxvdy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3BvcHBlci1saXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvcG9wcGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvY29tcHV0ZUF1dG9QbGFjZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9jb21wdXRlT2Zmc2V0cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL2RlYm91bmNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZGV0ZWN0T3ZlcmZsb3cuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9leHBhbmRUb0hhc2hNYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9mb3JtYXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9nZXRBbHRBeGlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZ2V0QmFzZVBsYWNlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL2dldEZyZXNoU2lkZU9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL2dldE1haW5BeGlzRnJvbVBsYWNlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL2dldE9wcG9zaXRlUGxhY2VtZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZ2V0T3Bwb3NpdGVWYXJpYXRpb25QbGFjZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9nZXRWYXJpYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9tYXRoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvbWVyZ2VCeU5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9tZXJnZVBhZGRpbmdPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9vcmRlck1vZGlmaWVycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL3JlY3RUb0NsaWVudFJlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy91bmlxdWVCeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL3VzZXJBZ2VudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL3ZhbGlkYXRlTW9kaWZpZXJzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvd2l0aGluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib290c3RyYXAtYXV0b2NvbXBsZXRlL2Rpc3QvbGF0ZXN0L2Jvb3RzdHJhcC1hdXRvY29tcGxldGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC10YWJsZS9kaXN0L2Jvb3RzdHJhcC10YWJsZS5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC10YWJsZS9kaXN0L2V4dGVuc2lvbnMvZXhwb3J0L2Jvb3RzdHJhcC10YWJsZS1leHBvcnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC9kaXN0L2pzL2Jvb3RzdHJhcC5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NrZWRpdG9yNC9ja2VkaXRvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qcXVlcnkvZGlzdC9qcXVlcnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC10YWJsZS9kaXN0L2Jvb3RzdHJhcC10YWJsZS5taW4uY3NzP2E1ZTMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RhYmxlZXhwb3J0LmpxdWVyeS5wbHVnaW4vdGFibGVFeHBvcnQubWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBnZXRDb21wb3NpdGVSZWN0IGZyb20gXCIuL2RvbS11dGlscy9nZXRDb21wb3NpdGVSZWN0LmpzXCI7XG5pbXBvcnQgZ2V0TGF5b3V0UmVjdCBmcm9tIFwiLi9kb20tdXRpbHMvZ2V0TGF5b3V0UmVjdC5qc1wiO1xuaW1wb3J0IGxpc3RTY3JvbGxQYXJlbnRzIGZyb20gXCIuL2RvbS11dGlscy9saXN0U2Nyb2xsUGFyZW50cy5qc1wiO1xuaW1wb3J0IGdldE9mZnNldFBhcmVudCBmcm9tIFwiLi9kb20tdXRpbHMvZ2V0T2Zmc2V0UGFyZW50LmpzXCI7XG5pbXBvcnQgZ2V0Q29tcHV0ZWRTdHlsZSBmcm9tIFwiLi9kb20tdXRpbHMvZ2V0Q29tcHV0ZWRTdHlsZS5qc1wiO1xuaW1wb3J0IG9yZGVyTW9kaWZpZXJzIGZyb20gXCIuL3V0aWxzL29yZGVyTW9kaWZpZXJzLmpzXCI7XG5pbXBvcnQgZGVib3VuY2UgZnJvbSBcIi4vdXRpbHMvZGVib3VuY2UuanNcIjtcbmltcG9ydCB2YWxpZGF0ZU1vZGlmaWVycyBmcm9tIFwiLi91dGlscy92YWxpZGF0ZU1vZGlmaWVycy5qc1wiO1xuaW1wb3J0IHVuaXF1ZUJ5IGZyb20gXCIuL3V0aWxzL3VuaXF1ZUJ5LmpzXCI7XG5pbXBvcnQgZ2V0QmFzZVBsYWNlbWVudCBmcm9tIFwiLi91dGlscy9nZXRCYXNlUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgbWVyZ2VCeU5hbWUgZnJvbSBcIi4vdXRpbHMvbWVyZ2VCeU5hbWUuanNcIjtcbmltcG9ydCBkZXRlY3RPdmVyZmxvdyBmcm9tIFwiLi91dGlscy9kZXRlY3RPdmVyZmxvdy5qc1wiO1xuaW1wb3J0IHsgaXNFbGVtZW50IH0gZnJvbSBcIi4vZG9tLXV0aWxzL2luc3RhbmNlT2YuanNcIjtcbmltcG9ydCB7IGF1dG8gfSBmcm9tIFwiLi9lbnVtcy5qc1wiO1xudmFyIElOVkFMSURfRUxFTUVOVF9FUlJPUiA9ICdQb3BwZXI6IEludmFsaWQgcmVmZXJlbmNlIG9yIHBvcHBlciBhcmd1bWVudCBwcm92aWRlZC4gVGhleSBtdXN0IGJlIGVpdGhlciBhIERPTSBlbGVtZW50IG9yIHZpcnR1YWwgZWxlbWVudC4nO1xudmFyIElORklOSVRFX0xPT1BfRVJST1IgPSAnUG9wcGVyOiBBbiBpbmZpbml0ZSBsb29wIGluIHRoZSBtb2RpZmllcnMgY3ljbGUgaGFzIGJlZW4gZGV0ZWN0ZWQhIFRoZSBjeWNsZSBoYXMgYmVlbiBpbnRlcnJ1cHRlZCB0byBwcmV2ZW50IGEgYnJvd3NlciBjcmFzaC4nO1xudmFyIERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgcGxhY2VtZW50OiAnYm90dG9tJyxcbiAgbW9kaWZpZXJzOiBbXSxcbiAgc3RyYXRlZ3k6ICdhYnNvbHV0ZSdcbn07XG5cbmZ1bmN0aW9uIGFyZVZhbGlkRWxlbWVudHMoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gIWFyZ3Muc29tZShmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIHJldHVybiAhKGVsZW1lbnQgJiYgdHlwZW9mIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ID09PSAnZnVuY3Rpb24nKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwb3BwZXJHZW5lcmF0b3IoZ2VuZXJhdG9yT3B0aW9ucykge1xuICBpZiAoZ2VuZXJhdG9yT3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgZ2VuZXJhdG9yT3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgdmFyIF9nZW5lcmF0b3JPcHRpb25zID0gZ2VuZXJhdG9yT3B0aW9ucyxcbiAgICAgIF9nZW5lcmF0b3JPcHRpb25zJGRlZiA9IF9nZW5lcmF0b3JPcHRpb25zLmRlZmF1bHRNb2RpZmllcnMsXG4gICAgICBkZWZhdWx0TW9kaWZpZXJzID0gX2dlbmVyYXRvck9wdGlvbnMkZGVmID09PSB2b2lkIDAgPyBbXSA6IF9nZW5lcmF0b3JPcHRpb25zJGRlZixcbiAgICAgIF9nZW5lcmF0b3JPcHRpb25zJGRlZjIgPSBfZ2VuZXJhdG9yT3B0aW9ucy5kZWZhdWx0T3B0aW9ucyxcbiAgICAgIGRlZmF1bHRPcHRpb25zID0gX2dlbmVyYXRvck9wdGlvbnMkZGVmMiA9PT0gdm9pZCAwID8gREVGQVVMVF9PUFRJT05TIDogX2dlbmVyYXRvck9wdGlvbnMkZGVmMjtcbiAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZVBvcHBlcihyZWZlcmVuY2UsIHBvcHBlciwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSBkZWZhdWx0T3B0aW9ucztcbiAgICB9XG5cbiAgICB2YXIgc3RhdGUgPSB7XG4gICAgICBwbGFjZW1lbnQ6ICdib3R0b20nLFxuICAgICAgb3JkZXJlZE1vZGlmaWVyczogW10sXG4gICAgICBvcHRpb25zOiBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX09QVElPTlMsIGRlZmF1bHRPcHRpb25zKSxcbiAgICAgIG1vZGlmaWVyc0RhdGE6IHt9LFxuICAgICAgZWxlbWVudHM6IHtcbiAgICAgICAgcmVmZXJlbmNlOiByZWZlcmVuY2UsXG4gICAgICAgIHBvcHBlcjogcG9wcGVyXG4gICAgICB9LFxuICAgICAgYXR0cmlidXRlczoge30sXG4gICAgICBzdHlsZXM6IHt9XG4gICAgfTtcbiAgICB2YXIgZWZmZWN0Q2xlYW51cEZucyA9IFtdO1xuICAgIHZhciBpc0Rlc3Ryb3llZCA9IGZhbHNlO1xuICAgIHZhciBpbnN0YW5jZSA9IHtcbiAgICAgIHN0YXRlOiBzdGF0ZSxcbiAgICAgIHNldE9wdGlvbnM6IGZ1bmN0aW9uIHNldE9wdGlvbnMoc2V0T3B0aW9uc0FjdGlvbikge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBzZXRPcHRpb25zQWN0aW9uID09PSAnZnVuY3Rpb24nID8gc2V0T3B0aW9uc0FjdGlvbihzdGF0ZS5vcHRpb25zKSA6IHNldE9wdGlvbnNBY3Rpb247XG4gICAgICAgIGNsZWFudXBNb2RpZmllckVmZmVjdHMoKTtcbiAgICAgICAgc3RhdGUub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBzdGF0ZS5vcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgc3RhdGUuc2Nyb2xsUGFyZW50cyA9IHtcbiAgICAgICAgICByZWZlcmVuY2U6IGlzRWxlbWVudChyZWZlcmVuY2UpID8gbGlzdFNjcm9sbFBhcmVudHMocmVmZXJlbmNlKSA6IHJlZmVyZW5jZS5jb250ZXh0RWxlbWVudCA/IGxpc3RTY3JvbGxQYXJlbnRzKHJlZmVyZW5jZS5jb250ZXh0RWxlbWVudCkgOiBbXSxcbiAgICAgICAgICBwb3BwZXI6IGxpc3RTY3JvbGxQYXJlbnRzKHBvcHBlcilcbiAgICAgICAgfTsgLy8gT3JkZXJzIHRoZSBtb2RpZmllcnMgYmFzZWQgb24gdGhlaXIgZGVwZW5kZW5jaWVzIGFuZCBgcGhhc2VgXG4gICAgICAgIC8vIHByb3BlcnRpZXNcblxuICAgICAgICB2YXIgb3JkZXJlZE1vZGlmaWVycyA9IG9yZGVyTW9kaWZpZXJzKG1lcmdlQnlOYW1lKFtdLmNvbmNhdChkZWZhdWx0TW9kaWZpZXJzLCBzdGF0ZS5vcHRpb25zLm1vZGlmaWVycykpKTsgLy8gU3RyaXAgb3V0IGRpc2FibGVkIG1vZGlmaWVyc1xuXG4gICAgICAgIHN0YXRlLm9yZGVyZWRNb2RpZmllcnMgPSBvcmRlcmVkTW9kaWZpZXJzLmZpbHRlcihmdW5jdGlvbiAobSkge1xuICAgICAgICAgIHJldHVybiBtLmVuYWJsZWQ7XG4gICAgICAgIH0pOyAvLyBWYWxpZGF0ZSB0aGUgcHJvdmlkZWQgbW9kaWZpZXJzIHNvIHRoYXQgdGhlIGNvbnN1bWVyIHdpbGwgZ2V0IHdhcm5lZFxuICAgICAgICAvLyBpZiBvbmUgb2YgdGhlIG1vZGlmaWVycyBpcyBpbnZhbGlkIGZvciBhbnkgcmVhc29uXG5cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgICAgIHZhciBtb2RpZmllcnMgPSB1bmlxdWVCeShbXS5jb25jYXQob3JkZXJlZE1vZGlmaWVycywgc3RhdGUub3B0aW9ucy5tb2RpZmllcnMpLCBmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBfcmVmLm5hbWU7XG4gICAgICAgICAgICByZXR1cm4gbmFtZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YWxpZGF0ZU1vZGlmaWVycyhtb2RpZmllcnMpO1xuXG4gICAgICAgICAgaWYgKGdldEJhc2VQbGFjZW1lbnQoc3RhdGUub3B0aW9ucy5wbGFjZW1lbnQpID09PSBhdXRvKSB7XG4gICAgICAgICAgICB2YXIgZmxpcE1vZGlmaWVyID0gc3RhdGUub3JkZXJlZE1vZGlmaWVycy5maW5kKGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgICAgICAgICB2YXIgbmFtZSA9IF9yZWYyLm5hbWU7XG4gICAgICAgICAgICAgIHJldHVybiBuYW1lID09PSAnZmxpcCc7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCFmbGlwTW9kaWZpZXIpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihbJ1BvcHBlcjogXCJhdXRvXCIgcGxhY2VtZW50cyByZXF1aXJlIHRoZSBcImZsaXBcIiBtb2RpZmllciBiZScsICdwcmVzZW50IGFuZCBlbmFibGVkIHRvIHdvcmsuJ10uam9pbignICcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgX2dldENvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKHBvcHBlciksXG4gICAgICAgICAgICAgIG1hcmdpblRvcCA9IF9nZXRDb21wdXRlZFN0eWxlLm1hcmdpblRvcCxcbiAgICAgICAgICAgICAgbWFyZ2luUmlnaHQgPSBfZ2V0Q29tcHV0ZWRTdHlsZS5tYXJnaW5SaWdodCxcbiAgICAgICAgICAgICAgbWFyZ2luQm90dG9tID0gX2dldENvbXB1dGVkU3R5bGUubWFyZ2luQm90dG9tLFxuICAgICAgICAgICAgICBtYXJnaW5MZWZ0ID0gX2dldENvbXB1dGVkU3R5bGUubWFyZ2luTGVmdDsgLy8gV2Ugbm8gbG9uZ2VyIHRha2UgaW50byBhY2NvdW50IGBtYXJnaW5zYCBvbiB0aGUgcG9wcGVyLCBhbmQgaXQgY2FuXG4gICAgICAgICAgLy8gY2F1c2UgYnVncyB3aXRoIHBvc2l0aW9uaW5nLCBzbyB3ZSdsbCB3YXJuIHRoZSBjb25zdW1lclxuXG5cbiAgICAgICAgICBpZiAoW21hcmdpblRvcCwgbWFyZ2luUmlnaHQsIG1hcmdpbkJvdHRvbSwgbWFyZ2luTGVmdF0uc29tZShmdW5jdGlvbiAobWFyZ2luKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChtYXJnaW4pO1xuICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oWydQb3BwZXI6IENTUyBcIm1hcmdpblwiIHN0eWxlcyBjYW5ub3QgYmUgdXNlZCB0byBhcHBseSBwYWRkaW5nJywgJ2JldHdlZW4gdGhlIHBvcHBlciBhbmQgaXRzIHJlZmVyZW5jZSBlbGVtZW50IG9yIGJvdW5kYXJ5LicsICdUbyByZXBsaWNhdGUgbWFyZ2luLCB1c2UgdGhlIGBvZmZzZXRgIG1vZGlmaWVyLCBhcyB3ZWxsIGFzJywgJ3RoZSBgcGFkZGluZ2Agb3B0aW9uIGluIHRoZSBgcHJldmVudE92ZXJmbG93YCBhbmQgYGZsaXBgJywgJ21vZGlmaWVycy4nXS5qb2luKCcgJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJ1bk1vZGlmaWVyRWZmZWN0cygpO1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UudXBkYXRlKCk7XG4gICAgICB9LFxuICAgICAgLy8gU3luYyB1cGRhdGUg4oCTIGl0IHdpbGwgYWx3YXlzIGJlIGV4ZWN1dGVkLCBldmVuIGlmIG5vdCBuZWNlc3NhcnkuIFRoaXNcbiAgICAgIC8vIGlzIHVzZWZ1bCBmb3IgbG93IGZyZXF1ZW5jeSB1cGRhdGVzIHdoZXJlIHN5bmMgYmVoYXZpb3Igc2ltcGxpZmllcyB0aGVcbiAgICAgIC8vIGxvZ2ljLlxuICAgICAgLy8gRm9yIGhpZ2ggZnJlcXVlbmN5IHVwZGF0ZXMgKGUuZy4gYHJlc2l6ZWAgYW5kIGBzY3JvbGxgIGV2ZW50cyksIGFsd2F5c1xuICAgICAgLy8gcHJlZmVyIHRoZSBhc3luYyBQb3BwZXIjdXBkYXRlIG1ldGhvZFxuICAgICAgZm9yY2VVcGRhdGU6IGZ1bmN0aW9uIGZvcmNlVXBkYXRlKCkge1xuICAgICAgICBpZiAoaXNEZXN0cm95ZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgX3N0YXRlJGVsZW1lbnRzID0gc3RhdGUuZWxlbWVudHMsXG4gICAgICAgICAgICByZWZlcmVuY2UgPSBfc3RhdGUkZWxlbWVudHMucmVmZXJlbmNlLFxuICAgICAgICAgICAgcG9wcGVyID0gX3N0YXRlJGVsZW1lbnRzLnBvcHBlcjsgLy8gRG9uJ3QgcHJvY2VlZCBpZiBgcmVmZXJlbmNlYCBvciBgcG9wcGVyYCBhcmUgbm90IHZhbGlkIGVsZW1lbnRzXG4gICAgICAgIC8vIGFueW1vcmVcblxuICAgICAgICBpZiAoIWFyZVZhbGlkRWxlbWVudHMocmVmZXJlbmNlLCBwb3BwZXIpKSB7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihJTlZBTElEX0VMRU1FTlRfRVJST1IpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBTdG9yZSB0aGUgcmVmZXJlbmNlIGFuZCBwb3BwZXIgcmVjdHMgdG8gYmUgcmVhZCBieSBtb2RpZmllcnNcblxuXG4gICAgICAgIHN0YXRlLnJlY3RzID0ge1xuICAgICAgICAgIHJlZmVyZW5jZTogZ2V0Q29tcG9zaXRlUmVjdChyZWZlcmVuY2UsIGdldE9mZnNldFBhcmVudChwb3BwZXIpLCBzdGF0ZS5vcHRpb25zLnN0cmF0ZWd5ID09PSAnZml4ZWQnKSxcbiAgICAgICAgICBwb3BwZXI6IGdldExheW91dFJlY3QocG9wcGVyKVxuICAgICAgICB9OyAvLyBNb2RpZmllcnMgaGF2ZSB0aGUgYWJpbGl0eSB0byByZXNldCB0aGUgY3VycmVudCB1cGRhdGUgY3ljbGUuIFRoZVxuICAgICAgICAvLyBtb3N0IGNvbW1vbiB1c2UgY2FzZSBmb3IgdGhpcyBpcyB0aGUgYGZsaXBgIG1vZGlmaWVyIGNoYW5naW5nIHRoZVxuICAgICAgICAvLyBwbGFjZW1lbnQsIHdoaWNoIHRoZW4gbmVlZHMgdG8gcmUtcnVuIGFsbCB0aGUgbW9kaWZpZXJzLCBiZWNhdXNlIHRoZVxuICAgICAgICAvLyBsb2dpYyB3YXMgcHJldmlvdXNseSByYW4gZm9yIHRoZSBwcmV2aW91cyBwbGFjZW1lbnQgYW5kIGlzIHRoZXJlZm9yZVxuICAgICAgICAvLyBzdGFsZS9pbmNvcnJlY3RcblxuICAgICAgICBzdGF0ZS5yZXNldCA9IGZhbHNlO1xuICAgICAgICBzdGF0ZS5wbGFjZW1lbnQgPSBzdGF0ZS5vcHRpb25zLnBsYWNlbWVudDsgLy8gT24gZWFjaCB1cGRhdGUgY3ljbGUsIHRoZSBgbW9kaWZpZXJzRGF0YWAgcHJvcGVydHkgZm9yIGVhY2ggbW9kaWZpZXJcbiAgICAgICAgLy8gaXMgZmlsbGVkIHdpdGggdGhlIGluaXRpYWwgZGF0YSBzcGVjaWZpZWQgYnkgdGhlIG1vZGlmaWVyLiBUaGlzIG1lYW5zXG4gICAgICAgIC8vIGl0IGRvZXNuJ3QgcGVyc2lzdCBhbmQgaXMgZnJlc2ggb24gZWFjaCB1cGRhdGUuXG4gICAgICAgIC8vIFRvIGVuc3VyZSBwZXJzaXN0ZW50IGRhdGEsIHVzZSBgJHtuYW1lfSNwZXJzaXN0ZW50YFxuXG4gICAgICAgIHN0YXRlLm9yZGVyZWRNb2RpZmllcnMuZm9yRWFjaChmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICAgICAgICByZXR1cm4gc3RhdGUubW9kaWZpZXJzRGF0YVttb2RpZmllci5uYW1lXSA9IE9iamVjdC5hc3NpZ24oe30sIG1vZGlmaWVyLmRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIF9fZGVidWdfbG9vcHNfXyA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHN0YXRlLm9yZGVyZWRNb2RpZmllcnMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgICAgICAgX19kZWJ1Z19sb29wc19fICs9IDE7XG5cbiAgICAgICAgICAgIGlmIChfX2RlYnVnX2xvb3BzX18gPiAxMDApIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihJTkZJTklURV9MT09QX0VSUk9SKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHN0YXRlLnJlc2V0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICBzdGF0ZS5yZXNldCA9IGZhbHNlO1xuICAgICAgICAgICAgaW5kZXggPSAtMTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBfc3RhdGUkb3JkZXJlZE1vZGlmaWUgPSBzdGF0ZS5vcmRlcmVkTW9kaWZpZXJzW2luZGV4XSxcbiAgICAgICAgICAgICAgZm4gPSBfc3RhdGUkb3JkZXJlZE1vZGlmaWUuZm4sXG4gICAgICAgICAgICAgIF9zdGF0ZSRvcmRlcmVkTW9kaWZpZTIgPSBfc3RhdGUkb3JkZXJlZE1vZGlmaWUub3B0aW9ucyxcbiAgICAgICAgICAgICAgX29wdGlvbnMgPSBfc3RhdGUkb3JkZXJlZE1vZGlmaWUyID09PSB2b2lkIDAgPyB7fSA6IF9zdGF0ZSRvcmRlcmVkTW9kaWZpZTIsXG4gICAgICAgICAgICAgIG5hbWUgPSBfc3RhdGUkb3JkZXJlZE1vZGlmaWUubmFtZTtcblxuICAgICAgICAgIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHN0YXRlID0gZm4oe1xuICAgICAgICAgICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICAgICAgICAgIG9wdGlvbnM6IF9vcHRpb25zLFxuICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICBpbnN0YW5jZTogaW5zdGFuY2VcbiAgICAgICAgICAgIH0pIHx8IHN0YXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8vIEFzeW5jIGFuZCBvcHRpbWlzdGljYWxseSBvcHRpbWl6ZWQgdXBkYXRlIOKAkyBpdCB3aWxsIG5vdCBiZSBleGVjdXRlZCBpZlxuICAgICAgLy8gbm90IG5lY2Vzc2FyeSAoZGVib3VuY2VkIHRvIHJ1biBhdCBtb3N0IG9uY2UtcGVyLXRpY2spXG4gICAgICB1cGRhdGU6IGRlYm91bmNlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgaW5zdGFuY2UuZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgICByZXNvbHZlKHN0YXRlKTtcbiAgICAgICAgfSk7XG4gICAgICB9KSxcbiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIGNsZWFudXBNb2RpZmllckVmZmVjdHMoKTtcbiAgICAgICAgaXNEZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoIWFyZVZhbGlkRWxlbWVudHMocmVmZXJlbmNlLCBwb3BwZXIpKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoSU5WQUxJRF9FTEVNRU5UX0VSUk9SKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH1cblxuICAgIGluc3RhbmNlLnNldE9wdGlvbnMob3B0aW9ucykudGhlbihmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIGlmICghaXNEZXN0cm95ZWQgJiYgb3B0aW9ucy5vbkZpcnN0VXBkYXRlKSB7XG4gICAgICAgIG9wdGlvbnMub25GaXJzdFVwZGF0ZShzdGF0ZSk7XG4gICAgICB9XG4gICAgfSk7IC8vIE1vZGlmaWVycyBoYXZlIHRoZSBhYmlsaXR5IHRvIGV4ZWN1dGUgYXJiaXRyYXJ5IGNvZGUgYmVmb3JlIHRoZSBmaXJzdFxuICAgIC8vIHVwZGF0ZSBjeWNsZSBydW5zLiBUaGV5IHdpbGwgYmUgZXhlY3V0ZWQgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlIHVwZGF0ZVxuICAgIC8vIGN5Y2xlLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGEgbW9kaWZpZXIgYWRkcyBzb21lIHBlcnNpc3RlbnQgZGF0YSB0aGF0XG4gICAgLy8gb3RoZXIgbW9kaWZpZXJzIG5lZWQgdG8gdXNlLCBidXQgdGhlIG1vZGlmaWVyIGlzIHJ1biBhZnRlciB0aGUgZGVwZW5kZW50XG4gICAgLy8gb25lLlxuXG4gICAgZnVuY3Rpb24gcnVuTW9kaWZpZXJFZmZlY3RzKCkge1xuICAgICAgc3RhdGUub3JkZXJlZE1vZGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmMykge1xuICAgICAgICB2YXIgbmFtZSA9IF9yZWYzLm5hbWUsXG4gICAgICAgICAgICBfcmVmMyRvcHRpb25zID0gX3JlZjMub3B0aW9ucyxcbiAgICAgICAgICAgIG9wdGlvbnMgPSBfcmVmMyRvcHRpb25zID09PSB2b2lkIDAgPyB7fSA6IF9yZWYzJG9wdGlvbnMsXG4gICAgICAgICAgICBlZmZlY3QgPSBfcmVmMy5lZmZlY3Q7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBlZmZlY3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB2YXIgY2xlYW51cEZuID0gZWZmZWN0KHtcbiAgICAgICAgICAgIHN0YXRlOiBzdGF0ZSxcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBpbnN0YW5jZTogaW5zdGFuY2UsXG4gICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB2YXIgbm9vcEZuID0gZnVuY3Rpb24gbm9vcEZuKCkge307XG5cbiAgICAgICAgICBlZmZlY3RDbGVhbnVwRm5zLnB1c2goY2xlYW51cEZuIHx8IG5vb3BGbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFudXBNb2RpZmllckVmZmVjdHMoKSB7XG4gICAgICBlZmZlY3RDbGVhbnVwRm5zLmZvckVhY2goZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiBmbigpO1xuICAgICAgfSk7XG4gICAgICBlZmZlY3RDbGVhbnVwRm5zID0gW107XG4gICAgfVxuXG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xufVxuZXhwb3J0IHZhciBjcmVhdGVQb3BwZXIgPSAvKiNfX1BVUkVfXyovcG9wcGVyR2VuZXJhdG9yKCk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuZXhwb3J0IHsgZGV0ZWN0T3ZlcmZsb3cgfTsiLCJpbXBvcnQgeyBpc1NoYWRvd1Jvb3QgfSBmcm9tIFwiLi9pbnN0YW5jZU9mLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb250YWlucyhwYXJlbnQsIGNoaWxkKSB7XG4gIHZhciByb290Tm9kZSA9IGNoaWxkLmdldFJvb3ROb2RlICYmIGNoaWxkLmdldFJvb3ROb2RlKCk7IC8vIEZpcnN0LCBhdHRlbXB0IHdpdGggZmFzdGVyIG5hdGl2ZSBtZXRob2RcblxuICBpZiAocGFyZW50LmNvbnRhaW5zKGNoaWxkKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIHRoZW4gZmFsbGJhY2sgdG8gY3VzdG9tIGltcGxlbWVudGF0aW9uIHdpdGggU2hhZG93IERPTSBzdXBwb3J0XG4gIGVsc2UgaWYgKHJvb3ROb2RlICYmIGlzU2hhZG93Um9vdChyb290Tm9kZSkpIHtcbiAgICAgIHZhciBuZXh0ID0gY2hpbGQ7XG5cbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKG5leHQgJiYgcGFyZW50LmlzU2FtZU5vZGUobmV4dCkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ106IG5lZWQgYSBiZXR0ZXIgd2F5IHRvIGhhbmRsZSB0aGlzLi4uXG5cblxuICAgICAgICBuZXh0ID0gbmV4dC5wYXJlbnROb2RlIHx8IG5leHQuaG9zdDtcbiAgICAgIH0gd2hpbGUgKG5leHQpO1xuICAgIH0gLy8gR2l2ZSB1cCwgdGhlIHJlc3VsdCBpcyBmYWxzZVxuXG5cbiAgcmV0dXJuIGZhbHNlO1xufSIsImltcG9ydCB7IGlzRWxlbWVudCwgaXNIVE1MRWxlbWVudCB9IGZyb20gXCIuL2luc3RhbmNlT2YuanNcIjtcbmltcG9ydCB7IHJvdW5kIH0gZnJvbSBcIi4uL3V0aWxzL21hdGguanNcIjtcbmltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4vZ2V0V2luZG93LmpzXCI7XG5pbXBvcnQgaXNMYXlvdXRWaWV3cG9ydCBmcm9tIFwiLi9pc0xheW91dFZpZXdwb3J0LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCwgaW5jbHVkZVNjYWxlLCBpc0ZpeGVkU3RyYXRlZ3kpIHtcbiAgaWYgKGluY2x1ZGVTY2FsZSA9PT0gdm9pZCAwKSB7XG4gICAgaW5jbHVkZVNjYWxlID0gZmFsc2U7XG4gIH1cblxuICBpZiAoaXNGaXhlZFN0cmF0ZWd5ID09PSB2b2lkIDApIHtcbiAgICBpc0ZpeGVkU3RyYXRlZ3kgPSBmYWxzZTtcbiAgfVxuXG4gIHZhciBjbGllbnRSZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgdmFyIHNjYWxlWCA9IDE7XG4gIHZhciBzY2FsZVkgPSAxO1xuXG4gIGlmIChpbmNsdWRlU2NhbGUgJiYgaXNIVE1MRWxlbWVudChlbGVtZW50KSkge1xuICAgIHNjYWxlWCA9IGVsZW1lbnQub2Zmc2V0V2lkdGggPiAwID8gcm91bmQoY2xpZW50UmVjdC53aWR0aCkgLyBlbGVtZW50Lm9mZnNldFdpZHRoIHx8IDEgOiAxO1xuICAgIHNjYWxlWSA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0ID4gMCA/IHJvdW5kKGNsaWVudFJlY3QuaGVpZ2h0KSAvIGVsZW1lbnQub2Zmc2V0SGVpZ2h0IHx8IDEgOiAxO1xuICB9XG5cbiAgdmFyIF9yZWYgPSBpc0VsZW1lbnQoZWxlbWVudCkgPyBnZXRXaW5kb3coZWxlbWVudCkgOiB3aW5kb3csXG4gICAgICB2aXN1YWxWaWV3cG9ydCA9IF9yZWYudmlzdWFsVmlld3BvcnQ7XG5cbiAgdmFyIGFkZFZpc3VhbE9mZnNldHMgPSAhaXNMYXlvdXRWaWV3cG9ydCgpICYmIGlzRml4ZWRTdHJhdGVneTtcbiAgdmFyIHggPSAoY2xpZW50UmVjdC5sZWZ0ICsgKGFkZFZpc3VhbE9mZnNldHMgJiYgdmlzdWFsVmlld3BvcnQgPyB2aXN1YWxWaWV3cG9ydC5vZmZzZXRMZWZ0IDogMCkpIC8gc2NhbGVYO1xuICB2YXIgeSA9IChjbGllbnRSZWN0LnRvcCArIChhZGRWaXN1YWxPZmZzZXRzICYmIHZpc3VhbFZpZXdwb3J0ID8gdmlzdWFsVmlld3BvcnQub2Zmc2V0VG9wIDogMCkpIC8gc2NhbGVZO1xuICB2YXIgd2lkdGggPSBjbGllbnRSZWN0LndpZHRoIC8gc2NhbGVYO1xuICB2YXIgaGVpZ2h0ID0gY2xpZW50UmVjdC5oZWlnaHQgLyBzY2FsZVk7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHRvcDogeSxcbiAgICByaWdodDogeCArIHdpZHRoLFxuICAgIGJvdHRvbTogeSArIGhlaWdodCxcbiAgICBsZWZ0OiB4LFxuICAgIHg6IHgsXG4gICAgeTogeVxuICB9O1xufSIsImltcG9ydCB7IHZpZXdwb3J0IH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7XG5pbXBvcnQgZ2V0Vmlld3BvcnRSZWN0IGZyb20gXCIuL2dldFZpZXdwb3J0UmVjdC5qc1wiO1xuaW1wb3J0IGdldERvY3VtZW50UmVjdCBmcm9tIFwiLi9nZXREb2N1bWVudFJlY3QuanNcIjtcbmltcG9ydCBsaXN0U2Nyb2xsUGFyZW50cyBmcm9tIFwiLi9saXN0U2Nyb2xsUGFyZW50cy5qc1wiO1xuaW1wb3J0IGdldE9mZnNldFBhcmVudCBmcm9tIFwiLi9nZXRPZmZzZXRQYXJlbnQuanNcIjtcbmltcG9ydCBnZXREb2N1bWVudEVsZW1lbnQgZnJvbSBcIi4vZ2V0RG9jdW1lbnRFbGVtZW50LmpzXCI7XG5pbXBvcnQgZ2V0Q29tcHV0ZWRTdHlsZSBmcm9tIFwiLi9nZXRDb21wdXRlZFN0eWxlLmpzXCI7XG5pbXBvcnQgeyBpc0VsZW1lbnQsIGlzSFRNTEVsZW1lbnQgfSBmcm9tIFwiLi9pbnN0YW5jZU9mLmpzXCI7XG5pbXBvcnQgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGZyb20gXCIuL2dldEJvdW5kaW5nQ2xpZW50UmVjdC5qc1wiO1xuaW1wb3J0IGdldFBhcmVudE5vZGUgZnJvbSBcIi4vZ2V0UGFyZW50Tm9kZS5qc1wiO1xuaW1wb3J0IGNvbnRhaW5zIGZyb20gXCIuL2NvbnRhaW5zLmpzXCI7XG5pbXBvcnQgZ2V0Tm9kZU5hbWUgZnJvbSBcIi4vZ2V0Tm9kZU5hbWUuanNcIjtcbmltcG9ydCByZWN0VG9DbGllbnRSZWN0IGZyb20gXCIuLi91dGlscy9yZWN0VG9DbGllbnRSZWN0LmpzXCI7XG5pbXBvcnQgeyBtYXgsIG1pbiB9IGZyb20gXCIuLi91dGlscy9tYXRoLmpzXCI7XG5cbmZ1bmN0aW9uIGdldElubmVyQm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQsIHN0cmF0ZWd5KSB7XG4gIHZhciByZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQsIGZhbHNlLCBzdHJhdGVneSA9PT0gJ2ZpeGVkJyk7XG4gIHJlY3QudG9wID0gcmVjdC50b3AgKyBlbGVtZW50LmNsaWVudFRvcDtcbiAgcmVjdC5sZWZ0ID0gcmVjdC5sZWZ0ICsgZWxlbWVudC5jbGllbnRMZWZ0O1xuICByZWN0LmJvdHRvbSA9IHJlY3QudG9wICsgZWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gIHJlY3QucmlnaHQgPSByZWN0LmxlZnQgKyBlbGVtZW50LmNsaWVudFdpZHRoO1xuICByZWN0LndpZHRoID0gZWxlbWVudC5jbGllbnRXaWR0aDtcbiAgcmVjdC5oZWlnaHQgPSBlbGVtZW50LmNsaWVudEhlaWdodDtcbiAgcmVjdC54ID0gcmVjdC5sZWZ0O1xuICByZWN0LnkgPSByZWN0LnRvcDtcbiAgcmV0dXJuIHJlY3Q7XG59XG5cbmZ1bmN0aW9uIGdldENsaWVudFJlY3RGcm9tTWl4ZWRUeXBlKGVsZW1lbnQsIGNsaXBwaW5nUGFyZW50LCBzdHJhdGVneSkge1xuICByZXR1cm4gY2xpcHBpbmdQYXJlbnQgPT09IHZpZXdwb3J0ID8gcmVjdFRvQ2xpZW50UmVjdChnZXRWaWV3cG9ydFJlY3QoZWxlbWVudCwgc3RyYXRlZ3kpKSA6IGlzRWxlbWVudChjbGlwcGluZ1BhcmVudCkgPyBnZXRJbm5lckJvdW5kaW5nQ2xpZW50UmVjdChjbGlwcGluZ1BhcmVudCwgc3RyYXRlZ3kpIDogcmVjdFRvQ2xpZW50UmVjdChnZXREb2N1bWVudFJlY3QoZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpKSk7XG59IC8vIEEgXCJjbGlwcGluZyBwYXJlbnRcIiBpcyBhbiBvdmVyZmxvd2FibGUgY29udGFpbmVyIHdpdGggdGhlIGNoYXJhY3RlcmlzdGljIG9mXG4vLyBjbGlwcGluZyAob3IgaGlkaW5nKSBvdmVyZmxvd2luZyBlbGVtZW50cyB3aXRoIGEgcG9zaXRpb24gZGlmZmVyZW50IGZyb21cbi8vIGBpbml0aWFsYFxuXG5cbmZ1bmN0aW9uIGdldENsaXBwaW5nUGFyZW50cyhlbGVtZW50KSB7XG4gIHZhciBjbGlwcGluZ1BhcmVudHMgPSBsaXN0U2Nyb2xsUGFyZW50cyhnZXRQYXJlbnROb2RlKGVsZW1lbnQpKTtcbiAgdmFyIGNhbkVzY2FwZUNsaXBwaW5nID0gWydhYnNvbHV0ZScsICdmaXhlZCddLmluZGV4T2YoZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5wb3NpdGlvbikgPj0gMDtcbiAgdmFyIGNsaXBwZXJFbGVtZW50ID0gY2FuRXNjYXBlQ2xpcHBpbmcgJiYgaXNIVE1MRWxlbWVudChlbGVtZW50KSA/IGdldE9mZnNldFBhcmVudChlbGVtZW50KSA6IGVsZW1lbnQ7XG5cbiAgaWYgKCFpc0VsZW1lbnQoY2xpcHBlckVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9IC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXJldHVybl06IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mbG93L2lzc3Vlcy8xNDE0XG5cblxuICByZXR1cm4gY2xpcHBpbmdQYXJlbnRzLmZpbHRlcihmdW5jdGlvbiAoY2xpcHBpbmdQYXJlbnQpIHtcbiAgICByZXR1cm4gaXNFbGVtZW50KGNsaXBwaW5nUGFyZW50KSAmJiBjb250YWlucyhjbGlwcGluZ1BhcmVudCwgY2xpcHBlckVsZW1lbnQpICYmIGdldE5vZGVOYW1lKGNsaXBwaW5nUGFyZW50KSAhPT0gJ2JvZHknO1xuICB9KTtcbn0gLy8gR2V0cyB0aGUgbWF4aW11bSBhcmVhIHRoYXQgdGhlIGVsZW1lbnQgaXMgdmlzaWJsZSBpbiBkdWUgdG8gYW55IG51bWJlciBvZlxuLy8gY2xpcHBpbmcgcGFyZW50c1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldENsaXBwaW5nUmVjdChlbGVtZW50LCBib3VuZGFyeSwgcm9vdEJvdW5kYXJ5LCBzdHJhdGVneSkge1xuICB2YXIgbWFpbkNsaXBwaW5nUGFyZW50cyA9IGJvdW5kYXJ5ID09PSAnY2xpcHBpbmdQYXJlbnRzJyA/IGdldENsaXBwaW5nUGFyZW50cyhlbGVtZW50KSA6IFtdLmNvbmNhdChib3VuZGFyeSk7XG4gIHZhciBjbGlwcGluZ1BhcmVudHMgPSBbXS5jb25jYXQobWFpbkNsaXBwaW5nUGFyZW50cywgW3Jvb3RCb3VuZGFyeV0pO1xuICB2YXIgZmlyc3RDbGlwcGluZ1BhcmVudCA9IGNsaXBwaW5nUGFyZW50c1swXTtcbiAgdmFyIGNsaXBwaW5nUmVjdCA9IGNsaXBwaW5nUGFyZW50cy5yZWR1Y2UoZnVuY3Rpb24gKGFjY1JlY3QsIGNsaXBwaW5nUGFyZW50KSB7XG4gICAgdmFyIHJlY3QgPSBnZXRDbGllbnRSZWN0RnJvbU1peGVkVHlwZShlbGVtZW50LCBjbGlwcGluZ1BhcmVudCwgc3RyYXRlZ3kpO1xuICAgIGFjY1JlY3QudG9wID0gbWF4KHJlY3QudG9wLCBhY2NSZWN0LnRvcCk7XG4gICAgYWNjUmVjdC5yaWdodCA9IG1pbihyZWN0LnJpZ2h0LCBhY2NSZWN0LnJpZ2h0KTtcbiAgICBhY2NSZWN0LmJvdHRvbSA9IG1pbihyZWN0LmJvdHRvbSwgYWNjUmVjdC5ib3R0b20pO1xuICAgIGFjY1JlY3QubGVmdCA9IG1heChyZWN0LmxlZnQsIGFjY1JlY3QubGVmdCk7XG4gICAgcmV0dXJuIGFjY1JlY3Q7XG4gIH0sIGdldENsaWVudFJlY3RGcm9tTWl4ZWRUeXBlKGVsZW1lbnQsIGZpcnN0Q2xpcHBpbmdQYXJlbnQsIHN0cmF0ZWd5KSk7XG4gIGNsaXBwaW5nUmVjdC53aWR0aCA9IGNsaXBwaW5nUmVjdC5yaWdodCAtIGNsaXBwaW5nUmVjdC5sZWZ0O1xuICBjbGlwcGluZ1JlY3QuaGVpZ2h0ID0gY2xpcHBpbmdSZWN0LmJvdHRvbSAtIGNsaXBwaW5nUmVjdC50b3A7XG4gIGNsaXBwaW5nUmVjdC54ID0gY2xpcHBpbmdSZWN0LmxlZnQ7XG4gIGNsaXBwaW5nUmVjdC55ID0gY2xpcHBpbmdSZWN0LnRvcDtcbiAgcmV0dXJuIGNsaXBwaW5nUmVjdDtcbn0iLCJpbXBvcnQgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGZyb20gXCIuL2dldEJvdW5kaW5nQ2xpZW50UmVjdC5qc1wiO1xuaW1wb3J0IGdldE5vZGVTY3JvbGwgZnJvbSBcIi4vZ2V0Tm9kZVNjcm9sbC5qc1wiO1xuaW1wb3J0IGdldE5vZGVOYW1lIGZyb20gXCIuL2dldE5vZGVOYW1lLmpzXCI7XG5pbXBvcnQgeyBpc0hUTUxFbGVtZW50IH0gZnJvbSBcIi4vaW5zdGFuY2VPZi5qc1wiO1xuaW1wb3J0IGdldFdpbmRvd1Njcm9sbEJhclggZnJvbSBcIi4vZ2V0V2luZG93U2Nyb2xsQmFyWC5qc1wiO1xuaW1wb3J0IGdldERvY3VtZW50RWxlbWVudCBmcm9tIFwiLi9nZXREb2N1bWVudEVsZW1lbnQuanNcIjtcbmltcG9ydCBpc1Njcm9sbFBhcmVudCBmcm9tIFwiLi9pc1Njcm9sbFBhcmVudC5qc1wiO1xuaW1wb3J0IHsgcm91bmQgfSBmcm9tIFwiLi4vdXRpbHMvbWF0aC5qc1wiO1xuXG5mdW5jdGlvbiBpc0VsZW1lbnRTY2FsZWQoZWxlbWVudCkge1xuICB2YXIgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHZhciBzY2FsZVggPSByb3VuZChyZWN0LndpZHRoKSAvIGVsZW1lbnQub2Zmc2V0V2lkdGggfHwgMTtcbiAgdmFyIHNjYWxlWSA9IHJvdW5kKHJlY3QuaGVpZ2h0KSAvIGVsZW1lbnQub2Zmc2V0SGVpZ2h0IHx8IDE7XG4gIHJldHVybiBzY2FsZVggIT09IDEgfHwgc2NhbGVZICE9PSAxO1xufSAvLyBSZXR1cm5zIHRoZSBjb21wb3NpdGUgcmVjdCBvZiBhbiBlbGVtZW50IHJlbGF0aXZlIHRvIGl0cyBvZmZzZXRQYXJlbnQuXG4vLyBDb21wb3NpdGUgbWVhbnMgaXQgdGFrZXMgaW50byBhY2NvdW50IHRyYW5zZm9ybXMgYXMgd2VsbCBhcyBsYXlvdXQuXG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Q29tcG9zaXRlUmVjdChlbGVtZW50T3JWaXJ0dWFsRWxlbWVudCwgb2Zmc2V0UGFyZW50LCBpc0ZpeGVkKSB7XG4gIGlmIChpc0ZpeGVkID09PSB2b2lkIDApIHtcbiAgICBpc0ZpeGVkID0gZmFsc2U7XG4gIH1cblxuICB2YXIgaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgPSBpc0hUTUxFbGVtZW50KG9mZnNldFBhcmVudCk7XG4gIHZhciBvZmZzZXRQYXJlbnRJc1NjYWxlZCA9IGlzSFRNTEVsZW1lbnQob2Zmc2V0UGFyZW50KSAmJiBpc0VsZW1lbnRTY2FsZWQob2Zmc2V0UGFyZW50KTtcbiAgdmFyIGRvY3VtZW50RWxlbWVudCA9IGdldERvY3VtZW50RWxlbWVudChvZmZzZXRQYXJlbnQpO1xuICB2YXIgcmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50T3JWaXJ0dWFsRWxlbWVudCwgb2Zmc2V0UGFyZW50SXNTY2FsZWQsIGlzRml4ZWQpO1xuICB2YXIgc2Nyb2xsID0ge1xuICAgIHNjcm9sbExlZnQ6IDAsXG4gICAgc2Nyb2xsVG9wOiAwXG4gIH07XG4gIHZhciBvZmZzZXRzID0ge1xuICAgIHg6IDAsXG4gICAgeTogMFxuICB9O1xuXG4gIGlmIChpc09mZnNldFBhcmVudEFuRWxlbWVudCB8fCAhaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgJiYgIWlzRml4ZWQpIHtcbiAgICBpZiAoZ2V0Tm9kZU5hbWUob2Zmc2V0UGFyZW50KSAhPT0gJ2JvZHknIHx8IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wb3BwZXJqcy9wb3BwZXItY29yZS9pc3N1ZXMvMTA3OFxuICAgIGlzU2Nyb2xsUGFyZW50KGRvY3VtZW50RWxlbWVudCkpIHtcbiAgICAgIHNjcm9sbCA9IGdldE5vZGVTY3JvbGwob2Zmc2V0UGFyZW50KTtcbiAgICB9XG5cbiAgICBpZiAoaXNIVE1MRWxlbWVudChvZmZzZXRQYXJlbnQpKSB7XG4gICAgICBvZmZzZXRzID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KG9mZnNldFBhcmVudCwgdHJ1ZSk7XG4gICAgICBvZmZzZXRzLnggKz0gb2Zmc2V0UGFyZW50LmNsaWVudExlZnQ7XG4gICAgICBvZmZzZXRzLnkgKz0gb2Zmc2V0UGFyZW50LmNsaWVudFRvcDtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50RWxlbWVudCkge1xuICAgICAgb2Zmc2V0cy54ID0gZ2V0V2luZG93U2Nyb2xsQmFyWChkb2N1bWVudEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgeDogcmVjdC5sZWZ0ICsgc2Nyb2xsLnNjcm9sbExlZnQgLSBvZmZzZXRzLngsXG4gICAgeTogcmVjdC50b3AgKyBzY3JvbGwuc2Nyb2xsVG9wIC0gb2Zmc2V0cy55LFxuICAgIHdpZHRoOiByZWN0LndpZHRoLFxuICAgIGhlaWdodDogcmVjdC5oZWlnaHRcbiAgfTtcbn0iLCJpbXBvcnQgZ2V0V2luZG93IGZyb20gXCIuL2dldFdpbmRvdy5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KSB7XG4gIHJldHVybiBnZXRXaW5kb3coZWxlbWVudCkuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbn0iLCJpbXBvcnQgeyBpc0VsZW1lbnQgfSBmcm9tIFwiLi9pbnN0YW5jZU9mLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudCkge1xuICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1yZXR1cm5dOiBhc3N1bWUgYm9keSBpcyBhbHdheXMgYXZhaWxhYmxlXG4gIHJldHVybiAoKGlzRWxlbWVudChlbGVtZW50KSA/IGVsZW1lbnQub3duZXJEb2N1bWVudCA6IC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICBlbGVtZW50LmRvY3VtZW50KSB8fCB3aW5kb3cuZG9jdW1lbnQpLmRvY3VtZW50RWxlbWVudDtcbn0iLCJpbXBvcnQgZ2V0RG9jdW1lbnRFbGVtZW50IGZyb20gXCIuL2dldERvY3VtZW50RWxlbWVudC5qc1wiO1xuaW1wb3J0IGdldENvbXB1dGVkU3R5bGUgZnJvbSBcIi4vZ2V0Q29tcHV0ZWRTdHlsZS5qc1wiO1xuaW1wb3J0IGdldFdpbmRvd1Njcm9sbEJhclggZnJvbSBcIi4vZ2V0V2luZG93U2Nyb2xsQmFyWC5qc1wiO1xuaW1wb3J0IGdldFdpbmRvd1Njcm9sbCBmcm9tIFwiLi9nZXRXaW5kb3dTY3JvbGwuanNcIjtcbmltcG9ydCB7IG1heCB9IGZyb20gXCIuLi91dGlscy9tYXRoLmpzXCI7IC8vIEdldHMgdGhlIGVudGlyZSBzaXplIG9mIHRoZSBzY3JvbGxhYmxlIGRvY3VtZW50IGFyZWEsIGV2ZW4gZXh0ZW5kaW5nIG91dHNpZGVcbi8vIG9mIHRoZSBgPGh0bWw+YCBhbmQgYDxib2R5PmAgcmVjdCBib3VuZHMgaWYgaG9yaXpvbnRhbGx5IHNjcm9sbGFibGVcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0RG9jdW1lbnRSZWN0KGVsZW1lbnQpIHtcbiAgdmFyIF9lbGVtZW50JG93bmVyRG9jdW1lbjtcblxuICB2YXIgaHRtbCA9IGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KTtcbiAgdmFyIHdpblNjcm9sbCA9IGdldFdpbmRvd1Njcm9sbChlbGVtZW50KTtcbiAgdmFyIGJvZHkgPSAoX2VsZW1lbnQkb3duZXJEb2N1bWVuID0gZWxlbWVudC5vd25lckRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2VsZW1lbnQkb3duZXJEb2N1bWVuLmJvZHk7XG4gIHZhciB3aWR0aCA9IG1heChodG1sLnNjcm9sbFdpZHRoLCBodG1sLmNsaWVudFdpZHRoLCBib2R5ID8gYm9keS5zY3JvbGxXaWR0aCA6IDAsIGJvZHkgPyBib2R5LmNsaWVudFdpZHRoIDogMCk7XG4gIHZhciBoZWlnaHQgPSBtYXgoaHRtbC5zY3JvbGxIZWlnaHQsIGh0bWwuY2xpZW50SGVpZ2h0LCBib2R5ID8gYm9keS5zY3JvbGxIZWlnaHQgOiAwLCBib2R5ID8gYm9keS5jbGllbnRIZWlnaHQgOiAwKTtcbiAgdmFyIHggPSAtd2luU2Nyb2xsLnNjcm9sbExlZnQgKyBnZXRXaW5kb3dTY3JvbGxCYXJYKGVsZW1lbnQpO1xuICB2YXIgeSA9IC13aW5TY3JvbGwuc2Nyb2xsVG9wO1xuXG4gIGlmIChnZXRDb21wdXRlZFN0eWxlKGJvZHkgfHwgaHRtbCkuZGlyZWN0aW9uID09PSAncnRsJykge1xuICAgIHggKz0gbWF4KGh0bWwuY2xpZW50V2lkdGgsIGJvZHkgPyBib2R5LmNsaWVudFdpZHRoIDogMCkgLSB3aWR0aDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHg6IHgsXG4gICAgeTogeVxuICB9O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEhUTUxFbGVtZW50U2Nyb2xsKGVsZW1lbnQpIHtcbiAgcmV0dXJuIHtcbiAgICBzY3JvbGxMZWZ0OiBlbGVtZW50LnNjcm9sbExlZnQsXG4gICAgc2Nyb2xsVG9wOiBlbGVtZW50LnNjcm9sbFRvcFxuICB9O1xufSIsImltcG9ydCBnZXRCb3VuZGluZ0NsaWVudFJlY3QgZnJvbSBcIi4vZ2V0Qm91bmRpbmdDbGllbnRSZWN0LmpzXCI7IC8vIFJldHVybnMgdGhlIGxheW91dCByZWN0IG9mIGFuIGVsZW1lbnQgcmVsYXRpdmUgdG8gaXRzIG9mZnNldFBhcmVudC4gTGF5b3V0XG4vLyBtZWFucyBpdCBkb2Vzbid0IHRha2UgaW50byBhY2NvdW50IHRyYW5zZm9ybXMuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldExheW91dFJlY3QoZWxlbWVudCkge1xuICB2YXIgY2xpZW50UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50KTsgLy8gVXNlIHRoZSBjbGllbnRSZWN0IHNpemVzIGlmIGl0J3Mgbm90IGJlZW4gdHJhbnNmb3JtZWQuXG4gIC8vIEZpeGVzIGh0dHBzOi8vZ2l0aHViLmNvbS9wb3BwZXJqcy9wb3BwZXItY29yZS9pc3N1ZXMvMTIyM1xuXG4gIHZhciB3aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gIHZhciBoZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodDtcblxuICBpZiAoTWF0aC5hYnMoY2xpZW50UmVjdC53aWR0aCAtIHdpZHRoKSA8PSAxKSB7XG4gICAgd2lkdGggPSBjbGllbnRSZWN0LndpZHRoO1xuICB9XG5cbiAgaWYgKE1hdGguYWJzKGNsaWVudFJlY3QuaGVpZ2h0IC0gaGVpZ2h0KSA8PSAxKSB7XG4gICAgaGVpZ2h0ID0gY2xpZW50UmVjdC5oZWlnaHQ7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHg6IGVsZW1lbnQub2Zmc2V0TGVmdCxcbiAgICB5OiBlbGVtZW50Lm9mZnNldFRvcCxcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgaGVpZ2h0OiBoZWlnaHRcbiAgfTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXROb2RlTmFtZShlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50ID8gKGVsZW1lbnQubm9kZU5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCkgOiBudWxsO1xufSIsImltcG9ydCBnZXRXaW5kb3dTY3JvbGwgZnJvbSBcIi4vZ2V0V2luZG93U2Nyb2xsLmpzXCI7XG5pbXBvcnQgZ2V0V2luZG93IGZyb20gXCIuL2dldFdpbmRvdy5qc1wiO1xuaW1wb3J0IHsgaXNIVE1MRWxlbWVudCB9IGZyb20gXCIuL2luc3RhbmNlT2YuanNcIjtcbmltcG9ydCBnZXRIVE1MRWxlbWVudFNjcm9sbCBmcm9tIFwiLi9nZXRIVE1MRWxlbWVudFNjcm9sbC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Tm9kZVNjcm9sbChub2RlKSB7XG4gIGlmIChub2RlID09PSBnZXRXaW5kb3cobm9kZSkgfHwgIWlzSFRNTEVsZW1lbnQobm9kZSkpIHtcbiAgICByZXR1cm4gZ2V0V2luZG93U2Nyb2xsKG5vZGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBnZXRIVE1MRWxlbWVudFNjcm9sbChub2RlKTtcbiAgfVxufSIsImltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4vZ2V0V2luZG93LmpzXCI7XG5pbXBvcnQgZ2V0Tm9kZU5hbWUgZnJvbSBcIi4vZ2V0Tm9kZU5hbWUuanNcIjtcbmltcG9ydCBnZXRDb21wdXRlZFN0eWxlIGZyb20gXCIuL2dldENvbXB1dGVkU3R5bGUuanNcIjtcbmltcG9ydCB7IGlzSFRNTEVsZW1lbnQsIGlzU2hhZG93Um9vdCB9IGZyb20gXCIuL2luc3RhbmNlT2YuanNcIjtcbmltcG9ydCBpc1RhYmxlRWxlbWVudCBmcm9tIFwiLi9pc1RhYmxlRWxlbWVudC5qc1wiO1xuaW1wb3J0IGdldFBhcmVudE5vZGUgZnJvbSBcIi4vZ2V0UGFyZW50Tm9kZS5qc1wiO1xuaW1wb3J0IGdldFVBU3RyaW5nIGZyb20gXCIuLi91dGlscy91c2VyQWdlbnQuanNcIjtcblxuZnVuY3Rpb24gZ2V0VHJ1ZU9mZnNldFBhcmVudChlbGVtZW50KSB7XG4gIGlmICghaXNIVE1MRWxlbWVudChlbGVtZW50KSB8fCAvLyBodHRwczovL2dpdGh1Yi5jb20vcG9wcGVyanMvcG9wcGVyLWNvcmUvaXNzdWVzLzgzN1xuICBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnBvc2l0aW9uID09PSAnZml4ZWQnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudC5vZmZzZXRQYXJlbnQ7XG59IC8vIGAub2Zmc2V0UGFyZW50YCByZXBvcnRzIGBudWxsYCBmb3IgZml4ZWQgZWxlbWVudHMsIHdoaWxlIGFic29sdXRlIGVsZW1lbnRzXG4vLyByZXR1cm4gdGhlIGNvbnRhaW5pbmcgYmxvY2tcblxuXG5mdW5jdGlvbiBnZXRDb250YWluaW5nQmxvY2soZWxlbWVudCkge1xuICB2YXIgaXNGaXJlZm94ID0gL2ZpcmVmb3gvaS50ZXN0KGdldFVBU3RyaW5nKCkpO1xuICB2YXIgaXNJRSA9IC9UcmlkZW50L2kudGVzdChnZXRVQVN0cmluZygpKTtcblxuICBpZiAoaXNJRSAmJiBpc0hUTUxFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgLy8gSW4gSUUgOSwgMTAgYW5kIDExIGZpeGVkIGVsZW1lbnRzIGNvbnRhaW5pbmcgYmxvY2sgaXMgYWx3YXlzIGVzdGFibGlzaGVkIGJ5IHRoZSB2aWV3cG9ydFxuICAgIHZhciBlbGVtZW50Q3NzID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcblxuICAgIGlmIChlbGVtZW50Q3NzLnBvc2l0aW9uID09PSAnZml4ZWQnKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICB2YXIgY3VycmVudE5vZGUgPSBnZXRQYXJlbnROb2RlKGVsZW1lbnQpO1xuXG4gIGlmIChpc1NoYWRvd1Jvb3QoY3VycmVudE5vZGUpKSB7XG4gICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5ob3N0O1xuICB9XG5cbiAgd2hpbGUgKGlzSFRNTEVsZW1lbnQoY3VycmVudE5vZGUpICYmIFsnaHRtbCcsICdib2R5J10uaW5kZXhPZihnZXROb2RlTmFtZShjdXJyZW50Tm9kZSkpIDwgMCkge1xuICAgIHZhciBjc3MgPSBnZXRDb21wdXRlZFN0eWxlKGN1cnJlbnROb2RlKTsgLy8gVGhpcyBpcyBub24tZXhoYXVzdGl2ZSBidXQgY292ZXJzIHRoZSBtb3N0IGNvbW1vbiBDU1MgcHJvcGVydGllcyB0aGF0XG4gICAgLy8gY3JlYXRlIGEgY29udGFpbmluZyBibG9jay5cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvQ29udGFpbmluZ19ibG9jayNpZGVudGlmeWluZ190aGVfY29udGFpbmluZ19ibG9ja1xuXG4gICAgaWYgKGNzcy50cmFuc2Zvcm0gIT09ICdub25lJyB8fCBjc3MucGVyc3BlY3RpdmUgIT09ICdub25lJyB8fCBjc3MuY29udGFpbiA9PT0gJ3BhaW50JyB8fCBbJ3RyYW5zZm9ybScsICdwZXJzcGVjdGl2ZSddLmluZGV4T2YoY3NzLndpbGxDaGFuZ2UpICE9PSAtMSB8fCBpc0ZpcmVmb3ggJiYgY3NzLndpbGxDaGFuZ2UgPT09ICdmaWx0ZXInIHx8IGlzRmlyZWZveCAmJiBjc3MuZmlsdGVyICYmIGNzcy5maWx0ZXIgIT09ICdub25lJykge1xuICAgICAgcmV0dXJuIGN1cnJlbnROb2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLnBhcmVudE5vZGU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59IC8vIEdldHMgdGhlIGNsb3Nlc3QgYW5jZXN0b3IgcG9zaXRpb25lZCBlbGVtZW50LiBIYW5kbGVzIHNvbWUgZWRnZSBjYXNlcyxcbi8vIHN1Y2ggYXMgdGFibGUgYW5jZXN0b3JzIGFuZCBjcm9zcyBicm93c2VyIGJ1Z3MuXG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnQpIHtcbiAgdmFyIHdpbmRvdyA9IGdldFdpbmRvdyhlbGVtZW50KTtcbiAgdmFyIG9mZnNldFBhcmVudCA9IGdldFRydWVPZmZzZXRQYXJlbnQoZWxlbWVudCk7XG5cbiAgd2hpbGUgKG9mZnNldFBhcmVudCAmJiBpc1RhYmxlRWxlbWVudChvZmZzZXRQYXJlbnQpICYmIGdldENvbXB1dGVkU3R5bGUob2Zmc2V0UGFyZW50KS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpIHtcbiAgICBvZmZzZXRQYXJlbnQgPSBnZXRUcnVlT2Zmc2V0UGFyZW50KG9mZnNldFBhcmVudCk7XG4gIH1cblxuICBpZiAob2Zmc2V0UGFyZW50ICYmIChnZXROb2RlTmFtZShvZmZzZXRQYXJlbnQpID09PSAnaHRtbCcgfHwgZ2V0Tm9kZU5hbWUob2Zmc2V0UGFyZW50KSA9PT0gJ2JvZHknICYmIGdldENvbXB1dGVkU3R5bGUob2Zmc2V0UGFyZW50KS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpKSB7XG4gICAgcmV0dXJuIHdpbmRvdztcbiAgfVxuXG4gIHJldHVybiBvZmZzZXRQYXJlbnQgfHwgZ2V0Q29udGFpbmluZ0Jsb2NrKGVsZW1lbnQpIHx8IHdpbmRvdztcbn0iLCJpbXBvcnQgZ2V0Tm9kZU5hbWUgZnJvbSBcIi4vZ2V0Tm9kZU5hbWUuanNcIjtcbmltcG9ydCBnZXREb2N1bWVudEVsZW1lbnQgZnJvbSBcIi4vZ2V0RG9jdW1lbnRFbGVtZW50LmpzXCI7XG5pbXBvcnQgeyBpc1NoYWRvd1Jvb3QgfSBmcm9tIFwiLi9pbnN0YW5jZU9mLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRQYXJlbnROb2RlKGVsZW1lbnQpIHtcbiAgaWYgKGdldE5vZGVOYW1lKGVsZW1lbnQpID09PSAnaHRtbCcpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIHJldHVybiAoLy8gdGhpcyBpcyBhIHF1aWNrZXIgKGJ1dCBsZXNzIHR5cGUgc2FmZSkgd2F5IHRvIHNhdmUgcXVpdGUgc29tZSBieXRlcyBmcm9tIHRoZSBidW5kbGVcbiAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1yZXR1cm5dXG4gICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG4gICAgZWxlbWVudC5hc3NpZ25lZFNsb3QgfHwgLy8gc3RlcCBpbnRvIHRoZSBzaGFkb3cgRE9NIG9mIHRoZSBwYXJlbnQgb2YgYSBzbG90dGVkIG5vZGVcbiAgICBlbGVtZW50LnBhcmVudE5vZGUgfHwgKCAvLyBET00gRWxlbWVudCBkZXRlY3RlZFxuICAgIGlzU2hhZG93Um9vdChlbGVtZW50KSA/IGVsZW1lbnQuaG9zdCA6IG51bGwpIHx8IC8vIFNoYWRvd1Jvb3QgZGV0ZWN0ZWRcbiAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1jYWxsXTogSFRNTEVsZW1lbnQgaXMgYSBOb2RlXG4gICAgZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpIC8vIGZhbGxiYWNrXG5cbiAgKTtcbn0iLCJpbXBvcnQgZ2V0UGFyZW50Tm9kZSBmcm9tIFwiLi9nZXRQYXJlbnROb2RlLmpzXCI7XG5pbXBvcnQgaXNTY3JvbGxQYXJlbnQgZnJvbSBcIi4vaXNTY3JvbGxQYXJlbnQuanNcIjtcbmltcG9ydCBnZXROb2RlTmFtZSBmcm9tIFwiLi9nZXROb2RlTmFtZS5qc1wiO1xuaW1wb3J0IHsgaXNIVE1MRWxlbWVudCB9IGZyb20gXCIuL2luc3RhbmNlT2YuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFNjcm9sbFBhcmVudChub2RlKSB7XG4gIGlmIChbJ2h0bWwnLCAnYm9keScsICcjZG9jdW1lbnQnXS5pbmRleE9mKGdldE5vZGVOYW1lKG5vZGUpKSA+PSAwKSB7XG4gICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtcmV0dXJuXTogYXNzdW1lIGJvZHkgaXMgYWx3YXlzIGF2YWlsYWJsZVxuICAgIHJldHVybiBub2RlLm93bmVyRG9jdW1lbnQuYm9keTtcbiAgfVxuXG4gIGlmIChpc0hUTUxFbGVtZW50KG5vZGUpICYmIGlzU2Nyb2xsUGFyZW50KG5vZGUpKSB7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICByZXR1cm4gZ2V0U2Nyb2xsUGFyZW50KGdldFBhcmVudE5vZGUobm9kZSkpO1xufSIsImltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4vZ2V0V2luZG93LmpzXCI7XG5pbXBvcnQgZ2V0RG9jdW1lbnRFbGVtZW50IGZyb20gXCIuL2dldERvY3VtZW50RWxlbWVudC5qc1wiO1xuaW1wb3J0IGdldFdpbmRvd1Njcm9sbEJhclggZnJvbSBcIi4vZ2V0V2luZG93U2Nyb2xsQmFyWC5qc1wiO1xuaW1wb3J0IGlzTGF5b3V0Vmlld3BvcnQgZnJvbSBcIi4vaXNMYXlvdXRWaWV3cG9ydC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Vmlld3BvcnRSZWN0KGVsZW1lbnQsIHN0cmF0ZWd5KSB7XG4gIHZhciB3aW4gPSBnZXRXaW5kb3coZWxlbWVudCk7XG4gIHZhciBodG1sID0gZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpO1xuICB2YXIgdmlzdWFsVmlld3BvcnQgPSB3aW4udmlzdWFsVmlld3BvcnQ7XG4gIHZhciB3aWR0aCA9IGh0bWwuY2xpZW50V2lkdGg7XG4gIHZhciBoZWlnaHQgPSBodG1sLmNsaWVudEhlaWdodDtcbiAgdmFyIHggPSAwO1xuICB2YXIgeSA9IDA7XG5cbiAgaWYgKHZpc3VhbFZpZXdwb3J0KSB7XG4gICAgd2lkdGggPSB2aXN1YWxWaWV3cG9ydC53aWR0aDtcbiAgICBoZWlnaHQgPSB2aXN1YWxWaWV3cG9ydC5oZWlnaHQ7XG4gICAgdmFyIGxheW91dFZpZXdwb3J0ID0gaXNMYXlvdXRWaWV3cG9ydCgpO1xuXG4gICAgaWYgKGxheW91dFZpZXdwb3J0IHx8ICFsYXlvdXRWaWV3cG9ydCAmJiBzdHJhdGVneSA9PT0gJ2ZpeGVkJykge1xuICAgICAgeCA9IHZpc3VhbFZpZXdwb3J0Lm9mZnNldExlZnQ7XG4gICAgICB5ID0gdmlzdWFsVmlld3BvcnQub2Zmc2V0VG9wO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHg6IHggKyBnZXRXaW5kb3dTY3JvbGxCYXJYKGVsZW1lbnQpLFxuICAgIHk6IHlcbiAgfTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRXaW5kb3cobm9kZSkge1xuICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHdpbmRvdztcbiAgfVxuXG4gIGlmIChub2RlLnRvU3RyaW5nKCkgIT09ICdbb2JqZWN0IFdpbmRvd10nKSB7XG4gICAgdmFyIG93bmVyRG9jdW1lbnQgPSBub2RlLm93bmVyRG9jdW1lbnQ7XG4gICAgcmV0dXJuIG93bmVyRG9jdW1lbnQgPyBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IHx8IHdpbmRvdyA6IHdpbmRvdztcbiAgfVxuXG4gIHJldHVybiBub2RlO1xufSIsImltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4vZ2V0V2luZG93LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRXaW5kb3dTY3JvbGwobm9kZSkge1xuICB2YXIgd2luID0gZ2V0V2luZG93KG5vZGUpO1xuICB2YXIgc2Nyb2xsTGVmdCA9IHdpbi5wYWdlWE9mZnNldDtcbiAgdmFyIHNjcm9sbFRvcCA9IHdpbi5wYWdlWU9mZnNldDtcbiAgcmV0dXJuIHtcbiAgICBzY3JvbGxMZWZ0OiBzY3JvbGxMZWZ0LFxuICAgIHNjcm9sbFRvcDogc2Nyb2xsVG9wXG4gIH07XG59IiwiaW1wb3J0IGdldEJvdW5kaW5nQ2xpZW50UmVjdCBmcm9tIFwiLi9nZXRCb3VuZGluZ0NsaWVudFJlY3QuanNcIjtcbmltcG9ydCBnZXREb2N1bWVudEVsZW1lbnQgZnJvbSBcIi4vZ2V0RG9jdW1lbnRFbGVtZW50LmpzXCI7XG5pbXBvcnQgZ2V0V2luZG93U2Nyb2xsIGZyb20gXCIuL2dldFdpbmRvd1Njcm9sbC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0V2luZG93U2Nyb2xsQmFyWChlbGVtZW50KSB7XG4gIC8vIElmIDxodG1sPiBoYXMgYSBDU1Mgd2lkdGggZ3JlYXRlciB0aGFuIHRoZSB2aWV3cG9ydCwgdGhlbiB0aGlzIHdpbGwgYmVcbiAgLy8gaW5jb3JyZWN0IGZvciBSVEwuXG4gIC8vIFBvcHBlciAxIGlzIGJyb2tlbiBpbiB0aGlzIGNhc2UgYW5kIG5ldmVyIGhhZCBhIGJ1ZyByZXBvcnQgc28gbGV0J3MgYXNzdW1lXG4gIC8vIGl0J3Mgbm90IGFuIGlzc3VlLiBJIGRvbid0IHRoaW5rIGFueW9uZSBldmVyIHNwZWNpZmllcyB3aWR0aCBvbiA8aHRtbD5cbiAgLy8gYW55d2F5LlxuICAvLyBCcm93c2VycyB3aGVyZSB0aGUgbGVmdCBzY3JvbGxiYXIgZG9lc24ndCBjYXVzZSBhbiBpc3N1ZSByZXBvcnQgYDBgIGZvclxuICAvLyB0aGlzIChlLmcuIEVkZ2UgMjAxOSwgSUUxMSwgU2FmYXJpKVxuICByZXR1cm4gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KSkubGVmdCArIGdldFdpbmRvd1Njcm9sbChlbGVtZW50KS5zY3JvbGxMZWZ0O1xufSIsImltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4vZ2V0V2luZG93LmpzXCI7XG5cbmZ1bmN0aW9uIGlzRWxlbWVudChub2RlKSB7XG4gIHZhciBPd25FbGVtZW50ID0gZ2V0V2luZG93KG5vZGUpLkVsZW1lbnQ7XG4gIHJldHVybiBub2RlIGluc3RhbmNlb2YgT3duRWxlbWVudCB8fCBub2RlIGluc3RhbmNlb2YgRWxlbWVudDtcbn1cblxuZnVuY3Rpb24gaXNIVE1MRWxlbWVudChub2RlKSB7XG4gIHZhciBPd25FbGVtZW50ID0gZ2V0V2luZG93KG5vZGUpLkhUTUxFbGVtZW50O1xuICByZXR1cm4gbm9kZSBpbnN0YW5jZW9mIE93bkVsZW1lbnQgfHwgbm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBpc1NoYWRvd1Jvb3Qobm9kZSkge1xuICAvLyBJRSAxMSBoYXMgbm8gU2hhZG93Um9vdFxuICBpZiAodHlwZW9mIFNoYWRvd1Jvb3QgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIE93bkVsZW1lbnQgPSBnZXRXaW5kb3cobm9kZSkuU2hhZG93Um9vdDtcbiAgcmV0dXJuIG5vZGUgaW5zdGFuY2VvZiBPd25FbGVtZW50IHx8IG5vZGUgaW5zdGFuY2VvZiBTaGFkb3dSb290O1xufVxuXG5leHBvcnQgeyBpc0VsZW1lbnQsIGlzSFRNTEVsZW1lbnQsIGlzU2hhZG93Um9vdCB9OyIsImltcG9ydCBnZXRVQVN0cmluZyBmcm9tIFwiLi4vdXRpbHMvdXNlckFnZW50LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0xheW91dFZpZXdwb3J0KCkge1xuICByZXR1cm4gIS9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QoZ2V0VUFTdHJpbmcoKSk7XG59IiwiaW1wb3J0IGdldENvbXB1dGVkU3R5bGUgZnJvbSBcIi4vZ2V0Q29tcHV0ZWRTdHlsZS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNTY3JvbGxQYXJlbnQoZWxlbWVudCkge1xuICAvLyBGaXJlZm94IHdhbnRzIHVzIHRvIGNoZWNrIGAteGAgYW5kIGAteWAgdmFyaWF0aW9ucyBhcyB3ZWxsXG4gIHZhciBfZ2V0Q29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCksXG4gICAgICBvdmVyZmxvdyA9IF9nZXRDb21wdXRlZFN0eWxlLm92ZXJmbG93LFxuICAgICAgb3ZlcmZsb3dYID0gX2dldENvbXB1dGVkU3R5bGUub3ZlcmZsb3dYLFxuICAgICAgb3ZlcmZsb3dZID0gX2dldENvbXB1dGVkU3R5bGUub3ZlcmZsb3dZO1xuXG4gIHJldHVybiAvYXV0b3xzY3JvbGx8b3ZlcmxheXxoaWRkZW4vLnRlc3Qob3ZlcmZsb3cgKyBvdmVyZmxvd1kgKyBvdmVyZmxvd1gpO1xufSIsImltcG9ydCBnZXROb2RlTmFtZSBmcm9tIFwiLi9nZXROb2RlTmFtZS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNUYWJsZUVsZW1lbnQoZWxlbWVudCkge1xuICByZXR1cm4gWyd0YWJsZScsICd0ZCcsICd0aCddLmluZGV4T2YoZ2V0Tm9kZU5hbWUoZWxlbWVudCkpID49IDA7XG59IiwiaW1wb3J0IGdldFNjcm9sbFBhcmVudCBmcm9tIFwiLi9nZXRTY3JvbGxQYXJlbnQuanNcIjtcbmltcG9ydCBnZXRQYXJlbnROb2RlIGZyb20gXCIuL2dldFBhcmVudE5vZGUuanNcIjtcbmltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4vZ2V0V2luZG93LmpzXCI7XG5pbXBvcnQgaXNTY3JvbGxQYXJlbnQgZnJvbSBcIi4vaXNTY3JvbGxQYXJlbnQuanNcIjtcbi8qXG5naXZlbiBhIERPTSBlbGVtZW50LCByZXR1cm4gdGhlIGxpc3Qgb2YgYWxsIHNjcm9sbCBwYXJlbnRzLCB1cCB0aGUgbGlzdCBvZiBhbmNlc29yc1xudW50aWwgd2UgZ2V0IHRvIHRoZSB0b3Agd2luZG93IG9iamVjdC4gVGhpcyBsaXN0IGlzIHdoYXQgd2UgYXR0YWNoIHNjcm9sbCBsaXN0ZW5lcnNcbnRvLCBiZWNhdXNlIGlmIGFueSBvZiB0aGVzZSBwYXJlbnQgZWxlbWVudHMgc2Nyb2xsLCB3ZSdsbCBuZWVkIHRvIHJlLWNhbGN1bGF0ZSB0aGVcbnJlZmVyZW5jZSBlbGVtZW50J3MgcG9zaXRpb24uXG4qL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsaXN0U2Nyb2xsUGFyZW50cyhlbGVtZW50LCBsaXN0KSB7XG4gIHZhciBfZWxlbWVudCRvd25lckRvY3VtZW47XG5cbiAgaWYgKGxpc3QgPT09IHZvaWQgMCkge1xuICAgIGxpc3QgPSBbXTtcbiAgfVxuXG4gIHZhciBzY3JvbGxQYXJlbnQgPSBnZXRTY3JvbGxQYXJlbnQoZWxlbWVudCk7XG4gIHZhciBpc0JvZHkgPSBzY3JvbGxQYXJlbnQgPT09ICgoX2VsZW1lbnQkb3duZXJEb2N1bWVuID0gZWxlbWVudC5vd25lckRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2VsZW1lbnQkb3duZXJEb2N1bWVuLmJvZHkpO1xuICB2YXIgd2luID0gZ2V0V2luZG93KHNjcm9sbFBhcmVudCk7XG4gIHZhciB0YXJnZXQgPSBpc0JvZHkgPyBbd2luXS5jb25jYXQod2luLnZpc3VhbFZpZXdwb3J0IHx8IFtdLCBpc1Njcm9sbFBhcmVudChzY3JvbGxQYXJlbnQpID8gc2Nyb2xsUGFyZW50IDogW10pIDogc2Nyb2xsUGFyZW50O1xuICB2YXIgdXBkYXRlZExpc3QgPSBsaXN0LmNvbmNhdCh0YXJnZXQpO1xuICByZXR1cm4gaXNCb2R5ID8gdXBkYXRlZExpc3QgOiAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1jYWxsXTogaXNCb2R5IHRlbGxzIHVzIHRhcmdldCB3aWxsIGJlIGFuIEhUTUxFbGVtZW50IGhlcmVcbiAgdXBkYXRlZExpc3QuY29uY2F0KGxpc3RTY3JvbGxQYXJlbnRzKGdldFBhcmVudE5vZGUodGFyZ2V0KSkpO1xufSIsImV4cG9ydCB2YXIgdG9wID0gJ3RvcCc7XG5leHBvcnQgdmFyIGJvdHRvbSA9ICdib3R0b20nO1xuZXhwb3J0IHZhciByaWdodCA9ICdyaWdodCc7XG5leHBvcnQgdmFyIGxlZnQgPSAnbGVmdCc7XG5leHBvcnQgdmFyIGF1dG8gPSAnYXV0byc7XG5leHBvcnQgdmFyIGJhc2VQbGFjZW1lbnRzID0gW3RvcCwgYm90dG9tLCByaWdodCwgbGVmdF07XG5leHBvcnQgdmFyIHN0YXJ0ID0gJ3N0YXJ0JztcbmV4cG9ydCB2YXIgZW5kID0gJ2VuZCc7XG5leHBvcnQgdmFyIGNsaXBwaW5nUGFyZW50cyA9ICdjbGlwcGluZ1BhcmVudHMnO1xuZXhwb3J0IHZhciB2aWV3cG9ydCA9ICd2aWV3cG9ydCc7XG5leHBvcnQgdmFyIHBvcHBlciA9ICdwb3BwZXInO1xuZXhwb3J0IHZhciByZWZlcmVuY2UgPSAncmVmZXJlbmNlJztcbmV4cG9ydCB2YXIgdmFyaWF0aW9uUGxhY2VtZW50cyA9IC8qI19fUFVSRV9fKi9iYXNlUGxhY2VtZW50cy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGxhY2VtZW50KSB7XG4gIHJldHVybiBhY2MuY29uY2F0KFtwbGFjZW1lbnQgKyBcIi1cIiArIHN0YXJ0LCBwbGFjZW1lbnQgKyBcIi1cIiArIGVuZF0pO1xufSwgW10pO1xuZXhwb3J0IHZhciBwbGFjZW1lbnRzID0gLyojX19QVVJFX18qL1tdLmNvbmNhdChiYXNlUGxhY2VtZW50cywgW2F1dG9dKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGxhY2VtZW50KSB7XG4gIHJldHVybiBhY2MuY29uY2F0KFtwbGFjZW1lbnQsIHBsYWNlbWVudCArIFwiLVwiICsgc3RhcnQsIHBsYWNlbWVudCArIFwiLVwiICsgZW5kXSk7XG59LCBbXSk7IC8vIG1vZGlmaWVycyB0aGF0IG5lZWQgdG8gcmVhZCB0aGUgRE9NXG5cbmV4cG9ydCB2YXIgYmVmb3JlUmVhZCA9ICdiZWZvcmVSZWFkJztcbmV4cG9ydCB2YXIgcmVhZCA9ICdyZWFkJztcbmV4cG9ydCB2YXIgYWZ0ZXJSZWFkID0gJ2FmdGVyUmVhZCc7IC8vIHB1cmUtbG9naWMgbW9kaWZpZXJzXG5cbmV4cG9ydCB2YXIgYmVmb3JlTWFpbiA9ICdiZWZvcmVNYWluJztcbmV4cG9ydCB2YXIgbWFpbiA9ICdtYWluJztcbmV4cG9ydCB2YXIgYWZ0ZXJNYWluID0gJ2FmdGVyTWFpbic7IC8vIG1vZGlmaWVyIHdpdGggdGhlIHB1cnBvc2UgdG8gd3JpdGUgdG8gdGhlIERPTSAob3Igd3JpdGUgaW50byBhIGZyYW1ld29yayBzdGF0ZSlcblxuZXhwb3J0IHZhciBiZWZvcmVXcml0ZSA9ICdiZWZvcmVXcml0ZSc7XG5leHBvcnQgdmFyIHdyaXRlID0gJ3dyaXRlJztcbmV4cG9ydCB2YXIgYWZ0ZXJXcml0ZSA9ICdhZnRlcldyaXRlJztcbmV4cG9ydCB2YXIgbW9kaWZpZXJQaGFzZXMgPSBbYmVmb3JlUmVhZCwgcmVhZCwgYWZ0ZXJSZWFkLCBiZWZvcmVNYWluLCBtYWluLCBhZnRlck1haW4sIGJlZm9yZVdyaXRlLCB3cml0ZSwgYWZ0ZXJXcml0ZV07IiwiZXhwb3J0ICogZnJvbSBcIi4vZW51bXMuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL21vZGlmaWVycy9pbmRleC5qc1wiOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cbmV4cG9ydCB7IHBvcHBlckdlbmVyYXRvciwgZGV0ZWN0T3ZlcmZsb3csIGNyZWF0ZVBvcHBlciBhcyBjcmVhdGVQb3BwZXJCYXNlIH0gZnJvbSBcIi4vY3JlYXRlUG9wcGVyLmpzXCI7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuZXhwb3J0IHsgY3JlYXRlUG9wcGVyIH0gZnJvbSBcIi4vcG9wcGVyLmpzXCI7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuZXhwb3J0IHsgY3JlYXRlUG9wcGVyIGFzIGNyZWF0ZVBvcHBlckxpdGUgfSBmcm9tIFwiLi9wb3BwZXItbGl0ZS5qc1wiOyIsImltcG9ydCBnZXROb2RlTmFtZSBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldE5vZGVOYW1lLmpzXCI7XG5pbXBvcnQgeyBpc0hUTUxFbGVtZW50IH0gZnJvbSBcIi4uL2RvbS11dGlscy9pbnN0YW5jZU9mLmpzXCI7IC8vIFRoaXMgbW9kaWZpZXIgdGFrZXMgdGhlIHN0eWxlcyBwcmVwYXJlZCBieSB0aGUgYGNvbXB1dGVTdHlsZXNgIG1vZGlmaWVyXG4vLyBhbmQgYXBwbGllcyB0aGVtIHRvIHRoZSBIVE1MRWxlbWVudHMgc3VjaCBhcyBwb3BwZXIgYW5kIGFycm93XG5cbmZ1bmN0aW9uIGFwcGx5U3R5bGVzKF9yZWYpIHtcbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZTtcbiAgT2JqZWN0LmtleXMoc3RhdGUuZWxlbWVudHMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgc3R5bGUgPSBzdGF0ZS5zdHlsZXNbbmFtZV0gfHwge307XG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBzdGF0ZS5hdHRyaWJ1dGVzW25hbWVdIHx8IHt9O1xuICAgIHZhciBlbGVtZW50ID0gc3RhdGUuZWxlbWVudHNbbmFtZV07IC8vIGFycm93IGlzIG9wdGlvbmFsICsgdmlydHVhbCBlbGVtZW50c1xuXG4gICAgaWYgKCFpc0hUTUxFbGVtZW50KGVsZW1lbnQpIHx8ICFnZXROb2RlTmFtZShlbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gRmxvdyBkb2Vzbid0IHN1cHBvcnQgdG8gZXh0ZW5kIHRoaXMgcHJvcGVydHksIGJ1dCBpdCdzIHRoZSBtb3N0XG4gICAgLy8gZWZmZWN0aXZlIHdheSB0byBhcHBseSBzdHlsZXMgdG8gYW4gSFRNTEVsZW1lbnRcbiAgICAvLyAkRmxvd0ZpeE1lW2Nhbm5vdC13cml0ZV1cblxuXG4gICAgT2JqZWN0LmFzc2lnbihlbGVtZW50LnN0eWxlLCBzdHlsZSk7XG4gICAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgdmFyIHZhbHVlID0gYXR0cmlidXRlc1tuYW1lXTtcblxuICAgICAgaWYgKHZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlID09PSB0cnVlID8gJycgOiB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBlZmZlY3QoX3JlZjIpIHtcbiAgdmFyIHN0YXRlID0gX3JlZjIuc3RhdGU7XG4gIHZhciBpbml0aWFsU3R5bGVzID0ge1xuICAgIHBvcHBlcjoge1xuICAgICAgcG9zaXRpb246IHN0YXRlLm9wdGlvbnMuc3RyYXRlZ3ksXG4gICAgICBsZWZ0OiAnMCcsXG4gICAgICB0b3A6ICcwJyxcbiAgICAgIG1hcmdpbjogJzAnXG4gICAgfSxcbiAgICBhcnJvdzoge1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZSdcbiAgICB9LFxuICAgIHJlZmVyZW5jZToge31cbiAgfTtcbiAgT2JqZWN0LmFzc2lnbihzdGF0ZS5lbGVtZW50cy5wb3BwZXIuc3R5bGUsIGluaXRpYWxTdHlsZXMucG9wcGVyKTtcbiAgc3RhdGUuc3R5bGVzID0gaW5pdGlhbFN0eWxlcztcblxuICBpZiAoc3RhdGUuZWxlbWVudHMuYXJyb3cpIHtcbiAgICBPYmplY3QuYXNzaWduKHN0YXRlLmVsZW1lbnRzLmFycm93LnN0eWxlLCBpbml0aWFsU3R5bGVzLmFycm93KTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgT2JqZWN0LmtleXMoc3RhdGUuZWxlbWVudHMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gc3RhdGUuZWxlbWVudHNbbmFtZV07XG4gICAgICB2YXIgYXR0cmlidXRlcyA9IHN0YXRlLmF0dHJpYnV0ZXNbbmFtZV0gfHwge307XG4gICAgICB2YXIgc3R5bGVQcm9wZXJ0aWVzID0gT2JqZWN0LmtleXMoc3RhdGUuc3R5bGVzLmhhc093blByb3BlcnR5KG5hbWUpID8gc3RhdGUuc3R5bGVzW25hbWVdIDogaW5pdGlhbFN0eWxlc1tuYW1lXSk7IC8vIFNldCBhbGwgdmFsdWVzIHRvIGFuIGVtcHR5IHN0cmluZyB0byB1bnNldCB0aGVtXG5cbiAgICAgIHZhciBzdHlsZSA9IHN0eWxlUHJvcGVydGllcy5yZWR1Y2UoZnVuY3Rpb24gKHN0eWxlLCBwcm9wZXJ0eSkge1xuICAgICAgICBzdHlsZVtwcm9wZXJ0eV0gPSAnJztcbiAgICAgICAgcmV0dXJuIHN0eWxlO1xuICAgICAgfSwge30pOyAvLyBhcnJvdyBpcyBvcHRpb25hbCArIHZpcnR1YWwgZWxlbWVudHNcblxuICAgICAgaWYgKCFpc0hUTUxFbGVtZW50KGVsZW1lbnQpIHx8ICFnZXROb2RlTmFtZShlbGVtZW50KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIE9iamVjdC5hc3NpZ24oZWxlbWVudC5zdHlsZSwgc3R5bGUpO1xuICAgICAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoYXR0cmlidXRlKSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbn0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ2FwcGx5U3R5bGVzJyxcbiAgZW5hYmxlZDogdHJ1ZSxcbiAgcGhhc2U6ICd3cml0ZScsXG4gIGZuOiBhcHBseVN0eWxlcyxcbiAgZWZmZWN0OiBlZmZlY3QsXG4gIHJlcXVpcmVzOiBbJ2NvbXB1dGVTdHlsZXMnXVxufTsiLCJpbXBvcnQgZ2V0QmFzZVBsYWNlbWVudCBmcm9tIFwiLi4vdXRpbHMvZ2V0QmFzZVBsYWNlbWVudC5qc1wiO1xuaW1wb3J0IGdldExheW91dFJlY3QgZnJvbSBcIi4uL2RvbS11dGlscy9nZXRMYXlvdXRSZWN0LmpzXCI7XG5pbXBvcnQgY29udGFpbnMgZnJvbSBcIi4uL2RvbS11dGlscy9jb250YWlucy5qc1wiO1xuaW1wb3J0IGdldE9mZnNldFBhcmVudCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldE9mZnNldFBhcmVudC5qc1wiO1xuaW1wb3J0IGdldE1haW5BeGlzRnJvbVBsYWNlbWVudCBmcm9tIFwiLi4vdXRpbHMvZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgeyB3aXRoaW4gfSBmcm9tIFwiLi4vdXRpbHMvd2l0aGluLmpzXCI7XG5pbXBvcnQgbWVyZ2VQYWRkaW5nT2JqZWN0IGZyb20gXCIuLi91dGlscy9tZXJnZVBhZGRpbmdPYmplY3QuanNcIjtcbmltcG9ydCBleHBhbmRUb0hhc2hNYXAgZnJvbSBcIi4uL3V0aWxzL2V4cGFuZFRvSGFzaE1hcC5qc1wiO1xuaW1wb3J0IHsgbGVmdCwgcmlnaHQsIGJhc2VQbGFjZW1lbnRzLCB0b3AsIGJvdHRvbSB9IGZyb20gXCIuLi9lbnVtcy5qc1wiO1xuaW1wb3J0IHsgaXNIVE1MRWxlbWVudCB9IGZyb20gXCIuLi9kb20tdXRpbHMvaW5zdGFuY2VPZi5qc1wiOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cbnZhciB0b1BhZGRpbmdPYmplY3QgPSBmdW5jdGlvbiB0b1BhZGRpbmdPYmplY3QocGFkZGluZywgc3RhdGUpIHtcbiAgcGFkZGluZyA9IHR5cGVvZiBwYWRkaW5nID09PSAnZnVuY3Rpb24nID8gcGFkZGluZyhPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5yZWN0cywge1xuICAgIHBsYWNlbWVudDogc3RhdGUucGxhY2VtZW50XG4gIH0pKSA6IHBhZGRpbmc7XG4gIHJldHVybiBtZXJnZVBhZGRpbmdPYmplY3QodHlwZW9mIHBhZGRpbmcgIT09ICdudW1iZXInID8gcGFkZGluZyA6IGV4cGFuZFRvSGFzaE1hcChwYWRkaW5nLCBiYXNlUGxhY2VtZW50cykpO1xufTtcblxuZnVuY3Rpb24gYXJyb3coX3JlZikge1xuICB2YXIgX3N0YXRlJG1vZGlmaWVyc0RhdGEkO1xuXG4gIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGUsXG4gICAgICBuYW1lID0gX3JlZi5uYW1lLFxuICAgICAgb3B0aW9ucyA9IF9yZWYub3B0aW9ucztcbiAgdmFyIGFycm93RWxlbWVudCA9IHN0YXRlLmVsZW1lbnRzLmFycm93O1xuICB2YXIgcG9wcGVyT2Zmc2V0cyA9IHN0YXRlLm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cztcbiAgdmFyIGJhc2VQbGFjZW1lbnQgPSBnZXRCYXNlUGxhY2VtZW50KHN0YXRlLnBsYWNlbWVudCk7XG4gIHZhciBheGlzID0gZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50KGJhc2VQbGFjZW1lbnQpO1xuICB2YXIgaXNWZXJ0aWNhbCA9IFtsZWZ0LCByaWdodF0uaW5kZXhPZihiYXNlUGxhY2VtZW50KSA+PSAwO1xuICB2YXIgbGVuID0gaXNWZXJ0aWNhbCA/ICdoZWlnaHQnIDogJ3dpZHRoJztcblxuICBpZiAoIWFycm93RWxlbWVudCB8fCAhcG9wcGVyT2Zmc2V0cykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBwYWRkaW5nT2JqZWN0ID0gdG9QYWRkaW5nT2JqZWN0KG9wdGlvbnMucGFkZGluZywgc3RhdGUpO1xuICB2YXIgYXJyb3dSZWN0ID0gZ2V0TGF5b3V0UmVjdChhcnJvd0VsZW1lbnQpO1xuICB2YXIgbWluUHJvcCA9IGF4aXMgPT09ICd5JyA/IHRvcCA6IGxlZnQ7XG4gIHZhciBtYXhQcm9wID0gYXhpcyA9PT0gJ3knID8gYm90dG9tIDogcmlnaHQ7XG4gIHZhciBlbmREaWZmID0gc3RhdGUucmVjdHMucmVmZXJlbmNlW2xlbl0gKyBzdGF0ZS5yZWN0cy5yZWZlcmVuY2VbYXhpc10gLSBwb3BwZXJPZmZzZXRzW2F4aXNdIC0gc3RhdGUucmVjdHMucG9wcGVyW2xlbl07XG4gIHZhciBzdGFydERpZmYgPSBwb3BwZXJPZmZzZXRzW2F4aXNdIC0gc3RhdGUucmVjdHMucmVmZXJlbmNlW2F4aXNdO1xuICB2YXIgYXJyb3dPZmZzZXRQYXJlbnQgPSBnZXRPZmZzZXRQYXJlbnQoYXJyb3dFbGVtZW50KTtcbiAgdmFyIGNsaWVudFNpemUgPSBhcnJvd09mZnNldFBhcmVudCA/IGF4aXMgPT09ICd5JyA/IGFycm93T2Zmc2V0UGFyZW50LmNsaWVudEhlaWdodCB8fCAwIDogYXJyb3dPZmZzZXRQYXJlbnQuY2xpZW50V2lkdGggfHwgMCA6IDA7XG4gIHZhciBjZW50ZXJUb1JlZmVyZW5jZSA9IGVuZERpZmYgLyAyIC0gc3RhcnREaWZmIC8gMjsgLy8gTWFrZSBzdXJlIHRoZSBhcnJvdyBkb2Vzbid0IG92ZXJmbG93IHRoZSBwb3BwZXIgaWYgdGhlIGNlbnRlciBwb2ludCBpc1xuICAvLyBvdXRzaWRlIG9mIHRoZSBwb3BwZXIgYm91bmRzXG5cbiAgdmFyIG1pbiA9IHBhZGRpbmdPYmplY3RbbWluUHJvcF07XG4gIHZhciBtYXggPSBjbGllbnRTaXplIC0gYXJyb3dSZWN0W2xlbl0gLSBwYWRkaW5nT2JqZWN0W21heFByb3BdO1xuICB2YXIgY2VudGVyID0gY2xpZW50U2l6ZSAvIDIgLSBhcnJvd1JlY3RbbGVuXSAvIDIgKyBjZW50ZXJUb1JlZmVyZW5jZTtcbiAgdmFyIG9mZnNldCA9IHdpdGhpbihtaW4sIGNlbnRlciwgbWF4KTsgLy8gUHJldmVudHMgYnJlYWtpbmcgc3ludGF4IGhpZ2hsaWdodGluZy4uLlxuXG4gIHZhciBheGlzUHJvcCA9IGF4aXM7XG4gIHN0YXRlLm1vZGlmaWVyc0RhdGFbbmFtZV0gPSAoX3N0YXRlJG1vZGlmaWVyc0RhdGEkID0ge30sIF9zdGF0ZSRtb2RpZmllcnNEYXRhJFtheGlzUHJvcF0gPSBvZmZzZXQsIF9zdGF0ZSRtb2RpZmllcnNEYXRhJC5jZW50ZXJPZmZzZXQgPSBvZmZzZXQgLSBjZW50ZXIsIF9zdGF0ZSRtb2RpZmllcnNEYXRhJCk7XG59XG5cbmZ1bmN0aW9uIGVmZmVjdChfcmVmMikge1xuICB2YXIgc3RhdGUgPSBfcmVmMi5zdGF0ZSxcbiAgICAgIG9wdGlvbnMgPSBfcmVmMi5vcHRpb25zO1xuICB2YXIgX29wdGlvbnMkZWxlbWVudCA9IG9wdGlvbnMuZWxlbWVudCxcbiAgICAgIGFycm93RWxlbWVudCA9IF9vcHRpb25zJGVsZW1lbnQgPT09IHZvaWQgMCA/ICdbZGF0YS1wb3BwZXItYXJyb3ddJyA6IF9vcHRpb25zJGVsZW1lbnQ7XG5cbiAgaWYgKGFycm93RWxlbWVudCA9PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9IC8vIENTUyBzZWxlY3RvclxuXG5cbiAgaWYgKHR5cGVvZiBhcnJvd0VsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgYXJyb3dFbGVtZW50ID0gc3RhdGUuZWxlbWVudHMucG9wcGVyLnF1ZXJ5U2VsZWN0b3IoYXJyb3dFbGVtZW50KTtcblxuICAgIGlmICghYXJyb3dFbGVtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIGlmICghaXNIVE1MRWxlbWVudChhcnJvd0VsZW1lbnQpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFsnUG9wcGVyOiBcImFycm93XCIgZWxlbWVudCBtdXN0IGJlIGFuIEhUTUxFbGVtZW50IChub3QgYW4gU1ZHRWxlbWVudCkuJywgJ1RvIHVzZSBhbiBTVkcgYXJyb3csIHdyYXAgaXQgaW4gYW4gSFRNTEVsZW1lbnQgdGhhdCB3aWxsIGJlIHVzZWQgYXMnLCAndGhlIGFycm93LiddLmpvaW4oJyAnKSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb250YWlucyhzdGF0ZS5lbGVtZW50cy5wb3BwZXIsIGFycm93RWxlbWVudCkpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFsnUG9wcGVyOiBcImFycm93XCIgbW9kaWZpZXJcXCdzIGBlbGVtZW50YCBtdXN0IGJlIGEgY2hpbGQgb2YgdGhlIHBvcHBlcicsICdlbGVtZW50LiddLmpvaW4oJyAnKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc3RhdGUuZWxlbWVudHMuYXJyb3cgPSBhcnJvd0VsZW1lbnQ7XG59IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdhcnJvdycsXG4gIGVuYWJsZWQ6IHRydWUsXG4gIHBoYXNlOiAnbWFpbicsXG4gIGZuOiBhcnJvdyxcbiAgZWZmZWN0OiBlZmZlY3QsXG4gIHJlcXVpcmVzOiBbJ3BvcHBlck9mZnNldHMnXSxcbiAgcmVxdWlyZXNJZkV4aXN0czogWydwcmV2ZW50T3ZlcmZsb3cnXVxufTsiLCJpbXBvcnQgeyB0b3AsIGxlZnQsIHJpZ2h0LCBib3R0b20sIGVuZCB9IGZyb20gXCIuLi9lbnVtcy5qc1wiO1xuaW1wb3J0IGdldE9mZnNldFBhcmVudCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldE9mZnNldFBhcmVudC5qc1wiO1xuaW1wb3J0IGdldFdpbmRvdyBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldFdpbmRvdy5qc1wiO1xuaW1wb3J0IGdldERvY3VtZW50RWxlbWVudCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldERvY3VtZW50RWxlbWVudC5qc1wiO1xuaW1wb3J0IGdldENvbXB1dGVkU3R5bGUgZnJvbSBcIi4uL2RvbS11dGlscy9nZXRDb21wdXRlZFN0eWxlLmpzXCI7XG5pbXBvcnQgZ2V0QmFzZVBsYWNlbWVudCBmcm9tIFwiLi4vdXRpbHMvZ2V0QmFzZVBsYWNlbWVudC5qc1wiO1xuaW1wb3J0IGdldFZhcmlhdGlvbiBmcm9tIFwiLi4vdXRpbHMvZ2V0VmFyaWF0aW9uLmpzXCI7XG5pbXBvcnQgeyByb3VuZCB9IGZyb20gXCIuLi91dGlscy9tYXRoLmpzXCI7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxudmFyIHVuc2V0U2lkZXMgPSB7XG4gIHRvcDogJ2F1dG8nLFxuICByaWdodDogJ2F1dG8nLFxuICBib3R0b206ICdhdXRvJyxcbiAgbGVmdDogJ2F1dG8nXG59OyAvLyBSb3VuZCB0aGUgb2Zmc2V0cyB0byB0aGUgbmVhcmVzdCBzdWl0YWJsZSBzdWJwaXhlbCBiYXNlZCBvbiB0aGUgRFBSLlxuLy8gWm9vbWluZyBjYW4gY2hhbmdlIHRoZSBEUFIsIGJ1dCBpdCBzZWVtcyB0byByZXBvcnQgYSB2YWx1ZSB0aGF0IHdpbGxcbi8vIGNsZWFubHkgZGl2aWRlIHRoZSB2YWx1ZXMgaW50byB0aGUgYXBwcm9wcmlhdGUgc3VicGl4ZWxzLlxuXG5mdW5jdGlvbiByb3VuZE9mZnNldHNCeURQUihfcmVmKSB7XG4gIHZhciB4ID0gX3JlZi54LFxuICAgICAgeSA9IF9yZWYueTtcbiAgdmFyIHdpbiA9IHdpbmRvdztcbiAgdmFyIGRwciA9IHdpbi5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gIHJldHVybiB7XG4gICAgeDogcm91bmQoeCAqIGRwcikgLyBkcHIgfHwgMCxcbiAgICB5OiByb3VuZCh5ICogZHByKSAvIGRwciB8fCAwXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXBUb1N0eWxlcyhfcmVmMikge1xuICB2YXIgX09iamVjdCRhc3NpZ24yO1xuXG4gIHZhciBwb3BwZXIgPSBfcmVmMi5wb3BwZXIsXG4gICAgICBwb3BwZXJSZWN0ID0gX3JlZjIucG9wcGVyUmVjdCxcbiAgICAgIHBsYWNlbWVudCA9IF9yZWYyLnBsYWNlbWVudCxcbiAgICAgIHZhcmlhdGlvbiA9IF9yZWYyLnZhcmlhdGlvbixcbiAgICAgIG9mZnNldHMgPSBfcmVmMi5vZmZzZXRzLFxuICAgICAgcG9zaXRpb24gPSBfcmVmMi5wb3NpdGlvbixcbiAgICAgIGdwdUFjY2VsZXJhdGlvbiA9IF9yZWYyLmdwdUFjY2VsZXJhdGlvbixcbiAgICAgIGFkYXB0aXZlID0gX3JlZjIuYWRhcHRpdmUsXG4gICAgICByb3VuZE9mZnNldHMgPSBfcmVmMi5yb3VuZE9mZnNldHMsXG4gICAgICBpc0ZpeGVkID0gX3JlZjIuaXNGaXhlZDtcbiAgdmFyIF9vZmZzZXRzJHggPSBvZmZzZXRzLngsXG4gICAgICB4ID0gX29mZnNldHMkeCA9PT0gdm9pZCAwID8gMCA6IF9vZmZzZXRzJHgsXG4gICAgICBfb2Zmc2V0cyR5ID0gb2Zmc2V0cy55LFxuICAgICAgeSA9IF9vZmZzZXRzJHkgPT09IHZvaWQgMCA/IDAgOiBfb2Zmc2V0cyR5O1xuXG4gIHZhciBfcmVmMyA9IHR5cGVvZiByb3VuZE9mZnNldHMgPT09ICdmdW5jdGlvbicgPyByb3VuZE9mZnNldHMoe1xuICAgIHg6IHgsXG4gICAgeTogeVxuICB9KSA6IHtcbiAgICB4OiB4LFxuICAgIHk6IHlcbiAgfTtcblxuICB4ID0gX3JlZjMueDtcbiAgeSA9IF9yZWYzLnk7XG4gIHZhciBoYXNYID0gb2Zmc2V0cy5oYXNPd25Qcm9wZXJ0eSgneCcpO1xuICB2YXIgaGFzWSA9IG9mZnNldHMuaGFzT3duUHJvcGVydHkoJ3knKTtcbiAgdmFyIHNpZGVYID0gbGVmdDtcbiAgdmFyIHNpZGVZID0gdG9wO1xuICB2YXIgd2luID0gd2luZG93O1xuXG4gIGlmIChhZGFwdGl2ZSkge1xuICAgIHZhciBvZmZzZXRQYXJlbnQgPSBnZXRPZmZzZXRQYXJlbnQocG9wcGVyKTtcbiAgICB2YXIgaGVpZ2h0UHJvcCA9ICdjbGllbnRIZWlnaHQnO1xuICAgIHZhciB3aWR0aFByb3AgPSAnY2xpZW50V2lkdGgnO1xuXG4gICAgaWYgKG9mZnNldFBhcmVudCA9PT0gZ2V0V2luZG93KHBvcHBlcikpIHtcbiAgICAgIG9mZnNldFBhcmVudCA9IGdldERvY3VtZW50RWxlbWVudChwb3BwZXIpO1xuXG4gICAgICBpZiAoZ2V0Q29tcHV0ZWRTdHlsZShvZmZzZXRQYXJlbnQpLnBvc2l0aW9uICE9PSAnc3RhdGljJyAmJiBwb3NpdGlvbiA9PT0gJ2Fic29sdXRlJykge1xuICAgICAgICBoZWlnaHRQcm9wID0gJ3Njcm9sbEhlaWdodCc7XG4gICAgICAgIHdpZHRoUHJvcCA9ICdzY3JvbGxXaWR0aCc7XG4gICAgICB9XG4gICAgfSAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1jYXN0XTogZm9yY2UgdHlwZSByZWZpbmVtZW50LCB3ZSBjb21wYXJlIG9mZnNldFBhcmVudCB3aXRoIHdpbmRvdyBhYm92ZSwgYnV0IEZsb3cgZG9lc24ndCBkZXRlY3QgaXRcblxuXG4gICAgb2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50O1xuXG4gICAgaWYgKHBsYWNlbWVudCA9PT0gdG9wIHx8IChwbGFjZW1lbnQgPT09IGxlZnQgfHwgcGxhY2VtZW50ID09PSByaWdodCkgJiYgdmFyaWF0aW9uID09PSBlbmQpIHtcbiAgICAgIHNpZGVZID0gYm90dG9tO1xuICAgICAgdmFyIG9mZnNldFkgPSBpc0ZpeGVkICYmIG9mZnNldFBhcmVudCA9PT0gd2luICYmIHdpbi52aXN1YWxWaWV3cG9ydCA/IHdpbi52aXN1YWxWaWV3cG9ydC5oZWlnaHQgOiAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cbiAgICAgIG9mZnNldFBhcmVudFtoZWlnaHRQcm9wXTtcbiAgICAgIHkgLT0gb2Zmc2V0WSAtIHBvcHBlclJlY3QuaGVpZ2h0O1xuICAgICAgeSAqPSBncHVBY2NlbGVyYXRpb24gPyAxIDogLTE7XG4gICAgfVxuXG4gICAgaWYgKHBsYWNlbWVudCA9PT0gbGVmdCB8fCAocGxhY2VtZW50ID09PSB0b3AgfHwgcGxhY2VtZW50ID09PSBib3R0b20pICYmIHZhcmlhdGlvbiA9PT0gZW5kKSB7XG4gICAgICBzaWRlWCA9IHJpZ2h0O1xuICAgICAgdmFyIG9mZnNldFggPSBpc0ZpeGVkICYmIG9mZnNldFBhcmVudCA9PT0gd2luICYmIHdpbi52aXN1YWxWaWV3cG9ydCA/IHdpbi52aXN1YWxWaWV3cG9ydC53aWR0aCA6IC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICAgICAgb2Zmc2V0UGFyZW50W3dpZHRoUHJvcF07XG4gICAgICB4IC09IG9mZnNldFggLSBwb3BwZXJSZWN0LndpZHRoO1xuICAgICAgeCAqPSBncHVBY2NlbGVyYXRpb24gPyAxIDogLTE7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNvbW1vblN0eWxlcyA9IE9iamVjdC5hc3NpZ24oe1xuICAgIHBvc2l0aW9uOiBwb3NpdGlvblxuICB9LCBhZGFwdGl2ZSAmJiB1bnNldFNpZGVzKTtcblxuICB2YXIgX3JlZjQgPSByb3VuZE9mZnNldHMgPT09IHRydWUgPyByb3VuZE9mZnNldHNCeURQUih7XG4gICAgeDogeCxcbiAgICB5OiB5XG4gIH0pIDoge1xuICAgIHg6IHgsXG4gICAgeTogeVxuICB9O1xuXG4gIHggPSBfcmVmNC54O1xuICB5ID0gX3JlZjQueTtcblxuICBpZiAoZ3B1QWNjZWxlcmF0aW9uKSB7XG4gICAgdmFyIF9PYmplY3QkYXNzaWduO1xuXG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGNvbW1vblN0eWxlcywgKF9PYmplY3QkYXNzaWduID0ge30sIF9PYmplY3QkYXNzaWduW3NpZGVZXSA9IGhhc1kgPyAnMCcgOiAnJywgX09iamVjdCRhc3NpZ25bc2lkZVhdID0gaGFzWCA/ICcwJyA6ICcnLCBfT2JqZWN0JGFzc2lnbi50cmFuc2Zvcm0gPSAod2luLmRldmljZVBpeGVsUmF0aW8gfHwgMSkgPD0gMSA/IFwidHJhbnNsYXRlKFwiICsgeCArIFwicHgsIFwiICsgeSArIFwicHgpXCIgOiBcInRyYW5zbGF0ZTNkKFwiICsgeCArIFwicHgsIFwiICsgeSArIFwicHgsIDApXCIsIF9PYmplY3QkYXNzaWduKSk7XG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY29tbW9uU3R5bGVzLCAoX09iamVjdCRhc3NpZ24yID0ge30sIF9PYmplY3QkYXNzaWduMltzaWRlWV0gPSBoYXNZID8geSArIFwicHhcIiA6ICcnLCBfT2JqZWN0JGFzc2lnbjJbc2lkZVhdID0gaGFzWCA/IHggKyBcInB4XCIgOiAnJywgX09iamVjdCRhc3NpZ24yLnRyYW5zZm9ybSA9ICcnLCBfT2JqZWN0JGFzc2lnbjIpKTtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZVN0eWxlcyhfcmVmNSkge1xuICB2YXIgc3RhdGUgPSBfcmVmNS5zdGF0ZSxcbiAgICAgIG9wdGlvbnMgPSBfcmVmNS5vcHRpb25zO1xuICB2YXIgX29wdGlvbnMkZ3B1QWNjZWxlcmF0ID0gb3B0aW9ucy5ncHVBY2NlbGVyYXRpb24sXG4gICAgICBncHVBY2NlbGVyYXRpb24gPSBfb3B0aW9ucyRncHVBY2NlbGVyYXQgPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRncHVBY2NlbGVyYXQsXG4gICAgICBfb3B0aW9ucyRhZGFwdGl2ZSA9IG9wdGlvbnMuYWRhcHRpdmUsXG4gICAgICBhZGFwdGl2ZSA9IF9vcHRpb25zJGFkYXB0aXZlID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkYWRhcHRpdmUsXG4gICAgICBfb3B0aW9ucyRyb3VuZE9mZnNldHMgPSBvcHRpb25zLnJvdW5kT2Zmc2V0cyxcbiAgICAgIHJvdW5kT2Zmc2V0cyA9IF9vcHRpb25zJHJvdW5kT2Zmc2V0cyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJHJvdW5kT2Zmc2V0cztcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgdmFyIHRyYW5zaXRpb25Qcm9wZXJ0eSA9IGdldENvbXB1dGVkU3R5bGUoc3RhdGUuZWxlbWVudHMucG9wcGVyKS50cmFuc2l0aW9uUHJvcGVydHkgfHwgJyc7XG5cbiAgICBpZiAoYWRhcHRpdmUgJiYgWyd0cmFuc2Zvcm0nLCAndG9wJywgJ3JpZ2h0JywgJ2JvdHRvbScsICdsZWZ0J10uc29tZShmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiB0cmFuc2l0aW9uUHJvcGVydHkuaW5kZXhPZihwcm9wZXJ0eSkgPj0gMDtcbiAgICB9KSkge1xuICAgICAgY29uc29sZS53YXJuKFsnUG9wcGVyOiBEZXRlY3RlZCBDU1MgdHJhbnNpdGlvbnMgb24gYXQgbGVhc3Qgb25lIG9mIHRoZSBmb2xsb3dpbmcnLCAnQ1NTIHByb3BlcnRpZXM6IFwidHJhbnNmb3JtXCIsIFwidG9wXCIsIFwicmlnaHRcIiwgXCJib3R0b21cIiwgXCJsZWZ0XCIuJywgJ1xcblxcbicsICdEaXNhYmxlIHRoZSBcImNvbXB1dGVTdHlsZXNcIiBtb2RpZmllclxcJ3MgYGFkYXB0aXZlYCBvcHRpb24gdG8gYWxsb3cnLCAnZm9yIHNtb290aCB0cmFuc2l0aW9ucywgb3IgcmVtb3ZlIHRoZXNlIHByb3BlcnRpZXMgZnJvbSB0aGUgQ1NTJywgJ3RyYW5zaXRpb24gZGVjbGFyYXRpb24gb24gdGhlIHBvcHBlciBlbGVtZW50IGlmIG9ubHkgdHJhbnNpdGlvbmluZycsICdvcGFjaXR5IG9yIGJhY2tncm91bmQtY29sb3IgZm9yIGV4YW1wbGUuJywgJ1xcblxcbicsICdXZSByZWNvbW1lbmQgdXNpbmcgdGhlIHBvcHBlciBlbGVtZW50IGFzIGEgd3JhcHBlciBhcm91bmQgYW4gaW5uZXInLCAnZWxlbWVudCB0aGF0IGNhbiBoYXZlIGFueSBDU1MgcHJvcGVydHkgdHJhbnNpdGlvbmVkIGZvciBhbmltYXRpb25zLiddLmpvaW4oJyAnKSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNvbW1vblN0eWxlcyA9IHtcbiAgICBwbGFjZW1lbnQ6IGdldEJhc2VQbGFjZW1lbnQoc3RhdGUucGxhY2VtZW50KSxcbiAgICB2YXJpYXRpb246IGdldFZhcmlhdGlvbihzdGF0ZS5wbGFjZW1lbnQpLFxuICAgIHBvcHBlcjogc3RhdGUuZWxlbWVudHMucG9wcGVyLFxuICAgIHBvcHBlclJlY3Q6IHN0YXRlLnJlY3RzLnBvcHBlcixcbiAgICBncHVBY2NlbGVyYXRpb246IGdwdUFjY2VsZXJhdGlvbixcbiAgICBpc0ZpeGVkOiBzdGF0ZS5vcHRpb25zLnN0cmF0ZWd5ID09PSAnZml4ZWQnXG4gIH07XG5cbiAgaWYgKHN0YXRlLm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cyAhPSBudWxsKSB7XG4gICAgc3RhdGUuc3R5bGVzLnBvcHBlciA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnN0eWxlcy5wb3BwZXIsIG1hcFRvU3R5bGVzKE9iamVjdC5hc3NpZ24oe30sIGNvbW1vblN0eWxlcywge1xuICAgICAgb2Zmc2V0czogc3RhdGUubW9kaWZpZXJzRGF0YS5wb3BwZXJPZmZzZXRzLFxuICAgICAgcG9zaXRpb246IHN0YXRlLm9wdGlvbnMuc3RyYXRlZ3ksXG4gICAgICBhZGFwdGl2ZTogYWRhcHRpdmUsXG4gICAgICByb3VuZE9mZnNldHM6IHJvdW5kT2Zmc2V0c1xuICAgIH0pKSk7XG4gIH1cblxuICBpZiAoc3RhdGUubW9kaWZpZXJzRGF0YS5hcnJvdyAhPSBudWxsKSB7XG4gICAgc3RhdGUuc3R5bGVzLmFycm93ID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUuc3R5bGVzLmFycm93LCBtYXBUb1N0eWxlcyhPYmplY3QuYXNzaWduKHt9LCBjb21tb25TdHlsZXMsIHtcbiAgICAgIG9mZnNldHM6IHN0YXRlLm1vZGlmaWVyc0RhdGEuYXJyb3csXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIGFkYXB0aXZlOiBmYWxzZSxcbiAgICAgIHJvdW5kT2Zmc2V0czogcm91bmRPZmZzZXRzXG4gICAgfSkpKTtcbiAgfVxuXG4gIHN0YXRlLmF0dHJpYnV0ZXMucG9wcGVyID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUuYXR0cmlidXRlcy5wb3BwZXIsIHtcbiAgICAnZGF0YS1wb3BwZXItcGxhY2VtZW50Jzogc3RhdGUucGxhY2VtZW50XG4gIH0pO1xufSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnY29tcHV0ZVN0eWxlcycsXG4gIGVuYWJsZWQ6IHRydWUsXG4gIHBoYXNlOiAnYmVmb3JlV3JpdGUnLFxuICBmbjogY29tcHV0ZVN0eWxlcyxcbiAgZGF0YToge31cbn07IiwiaW1wb3J0IGdldFdpbmRvdyBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldFdpbmRvdy5qc1wiOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cbnZhciBwYXNzaXZlID0ge1xuICBwYXNzaXZlOiB0cnVlXG59O1xuXG5mdW5jdGlvbiBlZmZlY3QoX3JlZikge1xuICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlLFxuICAgICAgaW5zdGFuY2UgPSBfcmVmLmluc3RhbmNlLFxuICAgICAgb3B0aW9ucyA9IF9yZWYub3B0aW9ucztcbiAgdmFyIF9vcHRpb25zJHNjcm9sbCA9IG9wdGlvbnMuc2Nyb2xsLFxuICAgICAgc2Nyb2xsID0gX29wdGlvbnMkc2Nyb2xsID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkc2Nyb2xsLFxuICAgICAgX29wdGlvbnMkcmVzaXplID0gb3B0aW9ucy5yZXNpemUsXG4gICAgICByZXNpemUgPSBfb3B0aW9ucyRyZXNpemUgPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRyZXNpemU7XG4gIHZhciB3aW5kb3cgPSBnZXRXaW5kb3coc3RhdGUuZWxlbWVudHMucG9wcGVyKTtcbiAgdmFyIHNjcm9sbFBhcmVudHMgPSBbXS5jb25jYXQoc3RhdGUuc2Nyb2xsUGFyZW50cy5yZWZlcmVuY2UsIHN0YXRlLnNjcm9sbFBhcmVudHMucG9wcGVyKTtcblxuICBpZiAoc2Nyb2xsKSB7XG4gICAgc2Nyb2xsUGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChzY3JvbGxQYXJlbnQpIHtcbiAgICAgIHNjcm9sbFBhcmVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBpbnN0YW5jZS51cGRhdGUsIHBhc3NpdmUpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKHJlc2l6ZSkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBpbnN0YW5jZS51cGRhdGUsIHBhc3NpdmUpO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoc2Nyb2xsKSB7XG4gICAgICBzY3JvbGxQYXJlbnRzLmZvckVhY2goZnVuY3Rpb24gKHNjcm9sbFBhcmVudCkge1xuICAgICAgICBzY3JvbGxQYXJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaW5zdGFuY2UudXBkYXRlLCBwYXNzaXZlKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChyZXNpemUpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBpbnN0YW5jZS51cGRhdGUsIHBhc3NpdmUpO1xuICAgIH1cbiAgfTtcbn0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ2V2ZW50TGlzdGVuZXJzJyxcbiAgZW5hYmxlZDogdHJ1ZSxcbiAgcGhhc2U6ICd3cml0ZScsXG4gIGZuOiBmdW5jdGlvbiBmbigpIHt9LFxuICBlZmZlY3Q6IGVmZmVjdCxcbiAgZGF0YToge31cbn07IiwiaW1wb3J0IGdldE9wcG9zaXRlUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9nZXRPcHBvc2l0ZVBsYWNlbWVudC5qc1wiO1xuaW1wb3J0IGdldEJhc2VQbGFjZW1lbnQgZnJvbSBcIi4uL3V0aWxzL2dldEJhc2VQbGFjZW1lbnQuanNcIjtcbmltcG9ydCBnZXRPcHBvc2l0ZVZhcmlhdGlvblBsYWNlbWVudCBmcm9tIFwiLi4vdXRpbHMvZ2V0T3Bwb3NpdGVWYXJpYXRpb25QbGFjZW1lbnQuanNcIjtcbmltcG9ydCBkZXRlY3RPdmVyZmxvdyBmcm9tIFwiLi4vdXRpbHMvZGV0ZWN0T3ZlcmZsb3cuanNcIjtcbmltcG9ydCBjb21wdXRlQXV0b1BsYWNlbWVudCBmcm9tIFwiLi4vdXRpbHMvY29tcHV0ZUF1dG9QbGFjZW1lbnQuanNcIjtcbmltcG9ydCB7IGJvdHRvbSwgdG9wLCBzdGFydCwgcmlnaHQsIGxlZnQsIGF1dG8gfSBmcm9tIFwiLi4vZW51bXMuanNcIjtcbmltcG9ydCBnZXRWYXJpYXRpb24gZnJvbSBcIi4uL3V0aWxzL2dldFZhcmlhdGlvbi5qc1wiOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cbmZ1bmN0aW9uIGdldEV4cGFuZGVkRmFsbGJhY2tQbGFjZW1lbnRzKHBsYWNlbWVudCkge1xuICBpZiAoZ2V0QmFzZVBsYWNlbWVudChwbGFjZW1lbnQpID09PSBhdXRvKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgdmFyIG9wcG9zaXRlUGxhY2VtZW50ID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KTtcbiAgcmV0dXJuIFtnZXRPcHBvc2l0ZVZhcmlhdGlvblBsYWNlbWVudChwbGFjZW1lbnQpLCBvcHBvc2l0ZVBsYWNlbWVudCwgZ2V0T3Bwb3NpdGVWYXJpYXRpb25QbGFjZW1lbnQob3Bwb3NpdGVQbGFjZW1lbnQpXTtcbn1cblxuZnVuY3Rpb24gZmxpcChfcmVmKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGUsXG4gICAgICBvcHRpb25zID0gX3JlZi5vcHRpb25zLFxuICAgICAgbmFtZSA9IF9yZWYubmFtZTtcblxuICBpZiAoc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXS5fc2tpcCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBfb3B0aW9ucyRtYWluQXhpcyA9IG9wdGlvbnMubWFpbkF4aXMsXG4gICAgICBjaGVja01haW5BeGlzID0gX29wdGlvbnMkbWFpbkF4aXMgPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRtYWluQXhpcyxcbiAgICAgIF9vcHRpb25zJGFsdEF4aXMgPSBvcHRpb25zLmFsdEF4aXMsXG4gICAgICBjaGVja0FsdEF4aXMgPSBfb3B0aW9ucyRhbHRBeGlzID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkYWx0QXhpcyxcbiAgICAgIHNwZWNpZmllZEZhbGxiYWNrUGxhY2VtZW50cyA9IG9wdGlvbnMuZmFsbGJhY2tQbGFjZW1lbnRzLFxuICAgICAgcGFkZGluZyA9IG9wdGlvbnMucGFkZGluZyxcbiAgICAgIGJvdW5kYXJ5ID0gb3B0aW9ucy5ib3VuZGFyeSxcbiAgICAgIHJvb3RCb3VuZGFyeSA9IG9wdGlvbnMucm9vdEJvdW5kYXJ5LFxuICAgICAgYWx0Qm91bmRhcnkgPSBvcHRpb25zLmFsdEJvdW5kYXJ5LFxuICAgICAgX29wdGlvbnMkZmxpcFZhcmlhdGlvID0gb3B0aW9ucy5mbGlwVmFyaWF0aW9ucyxcbiAgICAgIGZsaXBWYXJpYXRpb25zID0gX29wdGlvbnMkZmxpcFZhcmlhdGlvID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkZmxpcFZhcmlhdGlvLFxuICAgICAgYWxsb3dlZEF1dG9QbGFjZW1lbnRzID0gb3B0aW9ucy5hbGxvd2VkQXV0b1BsYWNlbWVudHM7XG4gIHZhciBwcmVmZXJyZWRQbGFjZW1lbnQgPSBzdGF0ZS5vcHRpb25zLnBsYWNlbWVudDtcbiAgdmFyIGJhc2VQbGFjZW1lbnQgPSBnZXRCYXNlUGxhY2VtZW50KHByZWZlcnJlZFBsYWNlbWVudCk7XG4gIHZhciBpc0Jhc2VQbGFjZW1lbnQgPSBiYXNlUGxhY2VtZW50ID09PSBwcmVmZXJyZWRQbGFjZW1lbnQ7XG4gIHZhciBmYWxsYmFja1BsYWNlbWVudHMgPSBzcGVjaWZpZWRGYWxsYmFja1BsYWNlbWVudHMgfHwgKGlzQmFzZVBsYWNlbWVudCB8fCAhZmxpcFZhcmlhdGlvbnMgPyBbZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocHJlZmVycmVkUGxhY2VtZW50KV0gOiBnZXRFeHBhbmRlZEZhbGxiYWNrUGxhY2VtZW50cyhwcmVmZXJyZWRQbGFjZW1lbnQpKTtcbiAgdmFyIHBsYWNlbWVudHMgPSBbcHJlZmVycmVkUGxhY2VtZW50XS5jb25jYXQoZmFsbGJhY2tQbGFjZW1lbnRzKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGxhY2VtZW50KSB7XG4gICAgcmV0dXJuIGFjYy5jb25jYXQoZ2V0QmFzZVBsYWNlbWVudChwbGFjZW1lbnQpID09PSBhdXRvID8gY29tcHV0ZUF1dG9QbGFjZW1lbnQoc3RhdGUsIHtcbiAgICAgIHBsYWNlbWVudDogcGxhY2VtZW50LFxuICAgICAgYm91bmRhcnk6IGJvdW5kYXJ5LFxuICAgICAgcm9vdEJvdW5kYXJ5OiByb290Qm91bmRhcnksXG4gICAgICBwYWRkaW5nOiBwYWRkaW5nLFxuICAgICAgZmxpcFZhcmlhdGlvbnM6IGZsaXBWYXJpYXRpb25zLFxuICAgICAgYWxsb3dlZEF1dG9QbGFjZW1lbnRzOiBhbGxvd2VkQXV0b1BsYWNlbWVudHNcbiAgICB9KSA6IHBsYWNlbWVudCk7XG4gIH0sIFtdKTtcbiAgdmFyIHJlZmVyZW5jZVJlY3QgPSBzdGF0ZS5yZWN0cy5yZWZlcmVuY2U7XG4gIHZhciBwb3BwZXJSZWN0ID0gc3RhdGUucmVjdHMucG9wcGVyO1xuICB2YXIgY2hlY2tzTWFwID0gbmV3IE1hcCgpO1xuICB2YXIgbWFrZUZhbGxiYWNrQ2hlY2tzID0gdHJ1ZTtcbiAgdmFyIGZpcnN0Rml0dGluZ1BsYWNlbWVudCA9IHBsYWNlbWVudHNbMF07XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwbGFjZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHBsYWNlbWVudCA9IHBsYWNlbWVudHNbaV07XG5cbiAgICB2YXIgX2Jhc2VQbGFjZW1lbnQgPSBnZXRCYXNlUGxhY2VtZW50KHBsYWNlbWVudCk7XG5cbiAgICB2YXIgaXNTdGFydFZhcmlhdGlvbiA9IGdldFZhcmlhdGlvbihwbGFjZW1lbnQpID09PSBzdGFydDtcbiAgICB2YXIgaXNWZXJ0aWNhbCA9IFt0b3AsIGJvdHRvbV0uaW5kZXhPZihfYmFzZVBsYWNlbWVudCkgPj0gMDtcbiAgICB2YXIgbGVuID0gaXNWZXJ0aWNhbCA/ICd3aWR0aCcgOiAnaGVpZ2h0JztcbiAgICB2YXIgb3ZlcmZsb3cgPSBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwge1xuICAgICAgcGxhY2VtZW50OiBwbGFjZW1lbnQsXG4gICAgICBib3VuZGFyeTogYm91bmRhcnksXG4gICAgICByb290Qm91bmRhcnk6IHJvb3RCb3VuZGFyeSxcbiAgICAgIGFsdEJvdW5kYXJ5OiBhbHRCb3VuZGFyeSxcbiAgICAgIHBhZGRpbmc6IHBhZGRpbmdcbiAgICB9KTtcbiAgICB2YXIgbWFpblZhcmlhdGlvblNpZGUgPSBpc1ZlcnRpY2FsID8gaXNTdGFydFZhcmlhdGlvbiA/IHJpZ2h0IDogbGVmdCA6IGlzU3RhcnRWYXJpYXRpb24gPyBib3R0b20gOiB0b3A7XG5cbiAgICBpZiAocmVmZXJlbmNlUmVjdFtsZW5dID4gcG9wcGVyUmVjdFtsZW5dKSB7XG4gICAgICBtYWluVmFyaWF0aW9uU2lkZSA9IGdldE9wcG9zaXRlUGxhY2VtZW50KG1haW5WYXJpYXRpb25TaWRlKTtcbiAgICB9XG5cbiAgICB2YXIgYWx0VmFyaWF0aW9uU2lkZSA9IGdldE9wcG9zaXRlUGxhY2VtZW50KG1haW5WYXJpYXRpb25TaWRlKTtcbiAgICB2YXIgY2hlY2tzID0gW107XG5cbiAgICBpZiAoY2hlY2tNYWluQXhpcykge1xuICAgICAgY2hlY2tzLnB1c2gob3ZlcmZsb3dbX2Jhc2VQbGFjZW1lbnRdIDw9IDApO1xuICAgIH1cblxuICAgIGlmIChjaGVja0FsdEF4aXMpIHtcbiAgICAgIGNoZWNrcy5wdXNoKG92ZXJmbG93W21haW5WYXJpYXRpb25TaWRlXSA8PSAwLCBvdmVyZmxvd1thbHRWYXJpYXRpb25TaWRlXSA8PSAwKTtcbiAgICB9XG5cbiAgICBpZiAoY2hlY2tzLmV2ZXJ5KGZ1bmN0aW9uIChjaGVjaykge1xuICAgICAgcmV0dXJuIGNoZWNrO1xuICAgIH0pKSB7XG4gICAgICBmaXJzdEZpdHRpbmdQbGFjZW1lbnQgPSBwbGFjZW1lbnQ7XG4gICAgICBtYWtlRmFsbGJhY2tDaGVja3MgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGNoZWNrc01hcC5zZXQocGxhY2VtZW50LCBjaGVja3MpO1xuICB9XG5cbiAgaWYgKG1ha2VGYWxsYmFja0NoZWNrcykge1xuICAgIC8vIGAyYCBtYXkgYmUgZGVzaXJlZCBpbiBzb21lIGNhc2VzIOKAkyByZXNlYXJjaCBsYXRlclxuICAgIHZhciBudW1iZXJPZkNoZWNrcyA9IGZsaXBWYXJpYXRpb25zID8gMyA6IDE7XG5cbiAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChfaSkge1xuICAgICAgdmFyIGZpdHRpbmdQbGFjZW1lbnQgPSBwbGFjZW1lbnRzLmZpbmQoZnVuY3Rpb24gKHBsYWNlbWVudCkge1xuICAgICAgICB2YXIgY2hlY2tzID0gY2hlY2tzTWFwLmdldChwbGFjZW1lbnQpO1xuXG4gICAgICAgIGlmIChjaGVja3MpIHtcbiAgICAgICAgICByZXR1cm4gY2hlY2tzLnNsaWNlKDAsIF9pKS5ldmVyeShmdW5jdGlvbiAoY2hlY2spIHtcbiAgICAgICAgICAgIHJldHVybiBjaGVjaztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChmaXR0aW5nUGxhY2VtZW50KSB7XG4gICAgICAgIGZpcnN0Rml0dGluZ1BsYWNlbWVudCA9IGZpdHRpbmdQbGFjZW1lbnQ7XG4gICAgICAgIHJldHVybiBcImJyZWFrXCI7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZvciAodmFyIF9pID0gbnVtYmVyT2ZDaGVja3M7IF9pID4gMDsgX2ktLSkge1xuICAgICAgdmFyIF9yZXQgPSBfbG9vcChfaSk7XG5cbiAgICAgIGlmIChfcmV0ID09PSBcImJyZWFrXCIpIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGlmIChzdGF0ZS5wbGFjZW1lbnQgIT09IGZpcnN0Rml0dGluZ1BsYWNlbWVudCkge1xuICAgIHN0YXRlLm1vZGlmaWVyc0RhdGFbbmFtZV0uX3NraXAgPSB0cnVlO1xuICAgIHN0YXRlLnBsYWNlbWVudCA9IGZpcnN0Rml0dGluZ1BsYWNlbWVudDtcbiAgICBzdGF0ZS5yZXNldCA9IHRydWU7XG4gIH1cbn0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ2ZsaXAnLFxuICBlbmFibGVkOiB0cnVlLFxuICBwaGFzZTogJ21haW4nLFxuICBmbjogZmxpcCxcbiAgcmVxdWlyZXNJZkV4aXN0czogWydvZmZzZXQnXSxcbiAgZGF0YToge1xuICAgIF9za2lwOiBmYWxzZVxuICB9XG59OyIsImltcG9ydCB7IHRvcCwgYm90dG9tLCBsZWZ0LCByaWdodCB9IGZyb20gXCIuLi9lbnVtcy5qc1wiO1xuaW1wb3J0IGRldGVjdE92ZXJmbG93IGZyb20gXCIuLi91dGlscy9kZXRlY3RPdmVyZmxvdy5qc1wiO1xuXG5mdW5jdGlvbiBnZXRTaWRlT2Zmc2V0cyhvdmVyZmxvdywgcmVjdCwgcHJldmVudGVkT2Zmc2V0cykge1xuICBpZiAocHJldmVudGVkT2Zmc2V0cyA9PT0gdm9pZCAwKSB7XG4gICAgcHJldmVudGVkT2Zmc2V0cyA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdG9wOiBvdmVyZmxvdy50b3AgLSByZWN0LmhlaWdodCAtIHByZXZlbnRlZE9mZnNldHMueSxcbiAgICByaWdodDogb3ZlcmZsb3cucmlnaHQgLSByZWN0LndpZHRoICsgcHJldmVudGVkT2Zmc2V0cy54LFxuICAgIGJvdHRvbTogb3ZlcmZsb3cuYm90dG9tIC0gcmVjdC5oZWlnaHQgKyBwcmV2ZW50ZWRPZmZzZXRzLnksXG4gICAgbGVmdDogb3ZlcmZsb3cubGVmdCAtIHJlY3Qud2lkdGggLSBwcmV2ZW50ZWRPZmZzZXRzLnhcbiAgfTtcbn1cblxuZnVuY3Rpb24gaXNBbnlTaWRlRnVsbHlDbGlwcGVkKG92ZXJmbG93KSB7XG4gIHJldHVybiBbdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0XS5zb21lKGZ1bmN0aW9uIChzaWRlKSB7XG4gICAgcmV0dXJuIG92ZXJmbG93W3NpZGVdID49IDA7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoaWRlKF9yZWYpIHtcbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIG5hbWUgPSBfcmVmLm5hbWU7XG4gIHZhciByZWZlcmVuY2VSZWN0ID0gc3RhdGUucmVjdHMucmVmZXJlbmNlO1xuICB2YXIgcG9wcGVyUmVjdCA9IHN0YXRlLnJlY3RzLnBvcHBlcjtcbiAgdmFyIHByZXZlbnRlZE9mZnNldHMgPSBzdGF0ZS5tb2RpZmllcnNEYXRhLnByZXZlbnRPdmVyZmxvdztcbiAgdmFyIHJlZmVyZW5jZU92ZXJmbG93ID0gZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIHtcbiAgICBlbGVtZW50Q29udGV4dDogJ3JlZmVyZW5jZSdcbiAgfSk7XG4gIHZhciBwb3BwZXJBbHRPdmVyZmxvdyA9IGRldGVjdE92ZXJmbG93KHN0YXRlLCB7XG4gICAgYWx0Qm91bmRhcnk6IHRydWVcbiAgfSk7XG4gIHZhciByZWZlcmVuY2VDbGlwcGluZ09mZnNldHMgPSBnZXRTaWRlT2Zmc2V0cyhyZWZlcmVuY2VPdmVyZmxvdywgcmVmZXJlbmNlUmVjdCk7XG4gIHZhciBwb3BwZXJFc2NhcGVPZmZzZXRzID0gZ2V0U2lkZU9mZnNldHMocG9wcGVyQWx0T3ZlcmZsb3csIHBvcHBlclJlY3QsIHByZXZlbnRlZE9mZnNldHMpO1xuICB2YXIgaXNSZWZlcmVuY2VIaWRkZW4gPSBpc0FueVNpZGVGdWxseUNsaXBwZWQocmVmZXJlbmNlQ2xpcHBpbmdPZmZzZXRzKTtcbiAgdmFyIGhhc1BvcHBlckVzY2FwZWQgPSBpc0FueVNpZGVGdWxseUNsaXBwZWQocG9wcGVyRXNjYXBlT2Zmc2V0cyk7XG4gIHN0YXRlLm1vZGlmaWVyc0RhdGFbbmFtZV0gPSB7XG4gICAgcmVmZXJlbmNlQ2xpcHBpbmdPZmZzZXRzOiByZWZlcmVuY2VDbGlwcGluZ09mZnNldHMsXG4gICAgcG9wcGVyRXNjYXBlT2Zmc2V0czogcG9wcGVyRXNjYXBlT2Zmc2V0cyxcbiAgICBpc1JlZmVyZW5jZUhpZGRlbjogaXNSZWZlcmVuY2VIaWRkZW4sXG4gICAgaGFzUG9wcGVyRXNjYXBlZDogaGFzUG9wcGVyRXNjYXBlZFxuICB9O1xuICBzdGF0ZS5hdHRyaWJ1dGVzLnBvcHBlciA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLmF0dHJpYnV0ZXMucG9wcGVyLCB7XG4gICAgJ2RhdGEtcG9wcGVyLXJlZmVyZW5jZS1oaWRkZW4nOiBpc1JlZmVyZW5jZUhpZGRlbixcbiAgICAnZGF0YS1wb3BwZXItZXNjYXBlZCc6IGhhc1BvcHBlckVzY2FwZWRcbiAgfSk7XG59IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdoaWRlJyxcbiAgZW5hYmxlZDogdHJ1ZSxcbiAgcGhhc2U6ICdtYWluJyxcbiAgcmVxdWlyZXNJZkV4aXN0czogWydwcmV2ZW50T3ZlcmZsb3cnXSxcbiAgZm46IGhpZGVcbn07IiwiZXhwb3J0IHsgZGVmYXVsdCBhcyBhcHBseVN0eWxlcyB9IGZyb20gXCIuL2FwcGx5U3R5bGVzLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGFycm93IH0gZnJvbSBcIi4vYXJyb3cuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgY29tcHV0ZVN0eWxlcyB9IGZyb20gXCIuL2NvbXB1dGVTdHlsZXMuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZXZlbnRMaXN0ZW5lcnMgfSBmcm9tIFwiLi9ldmVudExpc3RlbmVycy5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBmbGlwIH0gZnJvbSBcIi4vZmxpcC5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBoaWRlIH0gZnJvbSBcIi4vaGlkZS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBvZmZzZXQgfSBmcm9tIFwiLi9vZmZzZXQuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgcG9wcGVyT2Zmc2V0cyB9IGZyb20gXCIuL3BvcHBlck9mZnNldHMuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgcHJldmVudE92ZXJmbG93IH0gZnJvbSBcIi4vcHJldmVudE92ZXJmbG93LmpzXCI7IiwiaW1wb3J0IGdldEJhc2VQbGFjZW1lbnQgZnJvbSBcIi4uL3V0aWxzL2dldEJhc2VQbGFjZW1lbnQuanNcIjtcbmltcG9ydCB7IHRvcCwgbGVmdCwgcmlnaHQsIHBsYWNlbWVudHMgfSBmcm9tIFwiLi4vZW51bXMuanNcIjsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2VBbmRTa2lkZGluZ1RvWFkocGxhY2VtZW50LCByZWN0cywgb2Zmc2V0KSB7XG4gIHZhciBiYXNlUGxhY2VtZW50ID0gZ2V0QmFzZVBsYWNlbWVudChwbGFjZW1lbnQpO1xuICB2YXIgaW52ZXJ0RGlzdGFuY2UgPSBbbGVmdCwgdG9wXS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpID49IDAgPyAtMSA6IDE7XG5cbiAgdmFyIF9yZWYgPSB0eXBlb2Ygb2Zmc2V0ID09PSAnZnVuY3Rpb24nID8gb2Zmc2V0KE9iamVjdC5hc3NpZ24oe30sIHJlY3RzLCB7XG4gICAgcGxhY2VtZW50OiBwbGFjZW1lbnRcbiAgfSkpIDogb2Zmc2V0LFxuICAgICAgc2tpZGRpbmcgPSBfcmVmWzBdLFxuICAgICAgZGlzdGFuY2UgPSBfcmVmWzFdO1xuXG4gIHNraWRkaW5nID0gc2tpZGRpbmcgfHwgMDtcbiAgZGlzdGFuY2UgPSAoZGlzdGFuY2UgfHwgMCkgKiBpbnZlcnREaXN0YW5jZTtcbiAgcmV0dXJuIFtsZWZ0LCByaWdodF0uaW5kZXhPZihiYXNlUGxhY2VtZW50KSA+PSAwID8ge1xuICAgIHg6IGRpc3RhbmNlLFxuICAgIHk6IHNraWRkaW5nXG4gIH0gOiB7XG4gICAgeDogc2tpZGRpbmcsXG4gICAgeTogZGlzdGFuY2VcbiAgfTtcbn1cblxuZnVuY3Rpb24gb2Zmc2V0KF9yZWYyKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYyLnN0YXRlLFxuICAgICAgb3B0aW9ucyA9IF9yZWYyLm9wdGlvbnMsXG4gICAgICBuYW1lID0gX3JlZjIubmFtZTtcbiAgdmFyIF9vcHRpb25zJG9mZnNldCA9IG9wdGlvbnMub2Zmc2V0LFxuICAgICAgb2Zmc2V0ID0gX29wdGlvbnMkb2Zmc2V0ID09PSB2b2lkIDAgPyBbMCwgMF0gOiBfb3B0aW9ucyRvZmZzZXQ7XG4gIHZhciBkYXRhID0gcGxhY2VtZW50cy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGxhY2VtZW50KSB7XG4gICAgYWNjW3BsYWNlbWVudF0gPSBkaXN0YW5jZUFuZFNraWRkaW5nVG9YWShwbGFjZW1lbnQsIHN0YXRlLnJlY3RzLCBvZmZzZXQpO1xuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbiAgdmFyIF9kYXRhJHN0YXRlJHBsYWNlbWVudCA9IGRhdGFbc3RhdGUucGxhY2VtZW50XSxcbiAgICAgIHggPSBfZGF0YSRzdGF0ZSRwbGFjZW1lbnQueCxcbiAgICAgIHkgPSBfZGF0YSRzdGF0ZSRwbGFjZW1lbnQueTtcblxuICBpZiAoc3RhdGUubW9kaWZpZXJzRGF0YS5wb3BwZXJPZmZzZXRzICE9IG51bGwpIHtcbiAgICBzdGF0ZS5tb2RpZmllcnNEYXRhLnBvcHBlck9mZnNldHMueCArPSB4O1xuICAgIHN0YXRlLm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cy55ICs9IHk7XG4gIH1cblxuICBzdGF0ZS5tb2RpZmllcnNEYXRhW25hbWVdID0gZGF0YTtcbn0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ29mZnNldCcsXG4gIGVuYWJsZWQ6IHRydWUsXG4gIHBoYXNlOiAnbWFpbicsXG4gIHJlcXVpcmVzOiBbJ3BvcHBlck9mZnNldHMnXSxcbiAgZm46IG9mZnNldFxufTsiLCJpbXBvcnQgY29tcHV0ZU9mZnNldHMgZnJvbSBcIi4uL3V0aWxzL2NvbXB1dGVPZmZzZXRzLmpzXCI7XG5cbmZ1bmN0aW9uIHBvcHBlck9mZnNldHMoX3JlZikge1xuICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlLFxuICAgICAgbmFtZSA9IF9yZWYubmFtZTtcbiAgLy8gT2Zmc2V0cyBhcmUgdGhlIGFjdHVhbCBwb3NpdGlvbiB0aGUgcG9wcGVyIG5lZWRzIHRvIGhhdmUgdG8gYmVcbiAgLy8gcHJvcGVybHkgcG9zaXRpb25lZCBuZWFyIGl0cyByZWZlcmVuY2UgZWxlbWVudFxuICAvLyBUaGlzIGlzIHRoZSBtb3N0IGJhc2ljIHBsYWNlbWVudCwgYW5kIHdpbGwgYmUgYWRqdXN0ZWQgYnlcbiAgLy8gdGhlIG1vZGlmaWVycyBpbiB0aGUgbmV4dCBzdGVwXG4gIHN0YXRlLm1vZGlmaWVyc0RhdGFbbmFtZV0gPSBjb21wdXRlT2Zmc2V0cyh7XG4gICAgcmVmZXJlbmNlOiBzdGF0ZS5yZWN0cy5yZWZlcmVuY2UsXG4gICAgZWxlbWVudDogc3RhdGUucmVjdHMucG9wcGVyLFxuICAgIHN0cmF0ZWd5OiAnYWJzb2x1dGUnLFxuICAgIHBsYWNlbWVudDogc3RhdGUucGxhY2VtZW50XG4gIH0pO1xufSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAncG9wcGVyT2Zmc2V0cycsXG4gIGVuYWJsZWQ6IHRydWUsXG4gIHBoYXNlOiAncmVhZCcsXG4gIGZuOiBwb3BwZXJPZmZzZXRzLFxuICBkYXRhOiB7fVxufTsiLCJpbXBvcnQgeyB0b3AsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHN0YXJ0IH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7XG5pbXBvcnQgZ2V0QmFzZVBsYWNlbWVudCBmcm9tIFwiLi4vdXRpbHMvZ2V0QmFzZVBsYWNlbWVudC5qc1wiO1xuaW1wb3J0IGdldE1haW5BeGlzRnJvbVBsYWNlbWVudCBmcm9tIFwiLi4vdXRpbHMvZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgZ2V0QWx0QXhpcyBmcm9tIFwiLi4vdXRpbHMvZ2V0QWx0QXhpcy5qc1wiO1xuaW1wb3J0IHsgd2l0aGluLCB3aXRoaW5NYXhDbGFtcCB9IGZyb20gXCIuLi91dGlscy93aXRoaW4uanNcIjtcbmltcG9ydCBnZXRMYXlvdXRSZWN0IGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0TGF5b3V0UmVjdC5qc1wiO1xuaW1wb3J0IGdldE9mZnNldFBhcmVudCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldE9mZnNldFBhcmVudC5qc1wiO1xuaW1wb3J0IGRldGVjdE92ZXJmbG93IGZyb20gXCIuLi91dGlscy9kZXRlY3RPdmVyZmxvdy5qc1wiO1xuaW1wb3J0IGdldFZhcmlhdGlvbiBmcm9tIFwiLi4vdXRpbHMvZ2V0VmFyaWF0aW9uLmpzXCI7XG5pbXBvcnQgZ2V0RnJlc2hTaWRlT2JqZWN0IGZyb20gXCIuLi91dGlscy9nZXRGcmVzaFNpZGVPYmplY3QuanNcIjtcbmltcG9ydCB7IG1pbiBhcyBtYXRoTWluLCBtYXggYXMgbWF0aE1heCB9IGZyb20gXCIuLi91dGlscy9tYXRoLmpzXCI7XG5cbmZ1bmN0aW9uIHByZXZlbnRPdmVyZmxvdyhfcmVmKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGUsXG4gICAgICBvcHRpb25zID0gX3JlZi5vcHRpb25zLFxuICAgICAgbmFtZSA9IF9yZWYubmFtZTtcbiAgdmFyIF9vcHRpb25zJG1haW5BeGlzID0gb3B0aW9ucy5tYWluQXhpcyxcbiAgICAgIGNoZWNrTWFpbkF4aXMgPSBfb3B0aW9ucyRtYWluQXhpcyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJG1haW5BeGlzLFxuICAgICAgX29wdGlvbnMkYWx0QXhpcyA9IG9wdGlvbnMuYWx0QXhpcyxcbiAgICAgIGNoZWNrQWx0QXhpcyA9IF9vcHRpb25zJGFsdEF4aXMgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkYWx0QXhpcyxcbiAgICAgIGJvdW5kYXJ5ID0gb3B0aW9ucy5ib3VuZGFyeSxcbiAgICAgIHJvb3RCb3VuZGFyeSA9IG9wdGlvbnMucm9vdEJvdW5kYXJ5LFxuICAgICAgYWx0Qm91bmRhcnkgPSBvcHRpb25zLmFsdEJvdW5kYXJ5LFxuICAgICAgcGFkZGluZyA9IG9wdGlvbnMucGFkZGluZyxcbiAgICAgIF9vcHRpb25zJHRldGhlciA9IG9wdGlvbnMudGV0aGVyLFxuICAgICAgdGV0aGVyID0gX29wdGlvbnMkdGV0aGVyID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkdGV0aGVyLFxuICAgICAgX29wdGlvbnMkdGV0aGVyT2Zmc2V0ID0gb3B0aW9ucy50ZXRoZXJPZmZzZXQsXG4gICAgICB0ZXRoZXJPZmZzZXQgPSBfb3B0aW9ucyR0ZXRoZXJPZmZzZXQgPT09IHZvaWQgMCA/IDAgOiBfb3B0aW9ucyR0ZXRoZXJPZmZzZXQ7XG4gIHZhciBvdmVyZmxvdyA9IGRldGVjdE92ZXJmbG93KHN0YXRlLCB7XG4gICAgYm91bmRhcnk6IGJvdW5kYXJ5LFxuICAgIHJvb3RCb3VuZGFyeTogcm9vdEJvdW5kYXJ5LFxuICAgIHBhZGRpbmc6IHBhZGRpbmcsXG4gICAgYWx0Qm91bmRhcnk6IGFsdEJvdW5kYXJ5XG4gIH0pO1xuICB2YXIgYmFzZVBsYWNlbWVudCA9IGdldEJhc2VQbGFjZW1lbnQoc3RhdGUucGxhY2VtZW50KTtcbiAgdmFyIHZhcmlhdGlvbiA9IGdldFZhcmlhdGlvbihzdGF0ZS5wbGFjZW1lbnQpO1xuICB2YXIgaXNCYXNlUGxhY2VtZW50ID0gIXZhcmlhdGlvbjtcbiAgdmFyIG1haW5BeGlzID0gZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50KGJhc2VQbGFjZW1lbnQpO1xuICB2YXIgYWx0QXhpcyA9IGdldEFsdEF4aXMobWFpbkF4aXMpO1xuICB2YXIgcG9wcGVyT2Zmc2V0cyA9IHN0YXRlLm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cztcbiAgdmFyIHJlZmVyZW5jZVJlY3QgPSBzdGF0ZS5yZWN0cy5yZWZlcmVuY2U7XG4gIHZhciBwb3BwZXJSZWN0ID0gc3RhdGUucmVjdHMucG9wcGVyO1xuICB2YXIgdGV0aGVyT2Zmc2V0VmFsdWUgPSB0eXBlb2YgdGV0aGVyT2Zmc2V0ID09PSAnZnVuY3Rpb24nID8gdGV0aGVyT2Zmc2V0KE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnJlY3RzLCB7XG4gICAgcGxhY2VtZW50OiBzdGF0ZS5wbGFjZW1lbnRcbiAgfSkpIDogdGV0aGVyT2Zmc2V0O1xuICB2YXIgbm9ybWFsaXplZFRldGhlck9mZnNldFZhbHVlID0gdHlwZW9mIHRldGhlck9mZnNldFZhbHVlID09PSAnbnVtYmVyJyA/IHtcbiAgICBtYWluQXhpczogdGV0aGVyT2Zmc2V0VmFsdWUsXG4gICAgYWx0QXhpczogdGV0aGVyT2Zmc2V0VmFsdWVcbiAgfSA6IE9iamVjdC5hc3NpZ24oe1xuICAgIG1haW5BeGlzOiAwLFxuICAgIGFsdEF4aXM6IDBcbiAgfSwgdGV0aGVyT2Zmc2V0VmFsdWUpO1xuICB2YXIgb2Zmc2V0TW9kaWZpZXJTdGF0ZSA9IHN0YXRlLm1vZGlmaWVyc0RhdGEub2Zmc2V0ID8gc3RhdGUubW9kaWZpZXJzRGF0YS5vZmZzZXRbc3RhdGUucGxhY2VtZW50XSA6IG51bGw7XG4gIHZhciBkYXRhID0ge1xuICAgIHg6IDAsXG4gICAgeTogMFxuICB9O1xuXG4gIGlmICghcG9wcGVyT2Zmc2V0cykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChjaGVja01haW5BeGlzKSB7XG4gICAgdmFyIF9vZmZzZXRNb2RpZmllclN0YXRlJDtcblxuICAgIHZhciBtYWluU2lkZSA9IG1haW5BeGlzID09PSAneScgPyB0b3AgOiBsZWZ0O1xuICAgIHZhciBhbHRTaWRlID0gbWFpbkF4aXMgPT09ICd5JyA/IGJvdHRvbSA6IHJpZ2h0O1xuICAgIHZhciBsZW4gPSBtYWluQXhpcyA9PT0gJ3knID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuICAgIHZhciBvZmZzZXQgPSBwb3BwZXJPZmZzZXRzW21haW5BeGlzXTtcbiAgICB2YXIgbWluID0gb2Zmc2V0ICsgb3ZlcmZsb3dbbWFpblNpZGVdO1xuICAgIHZhciBtYXggPSBvZmZzZXQgLSBvdmVyZmxvd1thbHRTaWRlXTtcbiAgICB2YXIgYWRkaXRpdmUgPSB0ZXRoZXIgPyAtcG9wcGVyUmVjdFtsZW5dIC8gMiA6IDA7XG4gICAgdmFyIG1pbkxlbiA9IHZhcmlhdGlvbiA9PT0gc3RhcnQgPyByZWZlcmVuY2VSZWN0W2xlbl0gOiBwb3BwZXJSZWN0W2xlbl07XG4gICAgdmFyIG1heExlbiA9IHZhcmlhdGlvbiA9PT0gc3RhcnQgPyAtcG9wcGVyUmVjdFtsZW5dIDogLXJlZmVyZW5jZVJlY3RbbGVuXTsgLy8gV2UgbmVlZCB0byBpbmNsdWRlIHRoZSBhcnJvdyBpbiB0aGUgY2FsY3VsYXRpb24gc28gdGhlIGFycm93IGRvZXNuJ3QgZ29cbiAgICAvLyBvdXRzaWRlIHRoZSByZWZlcmVuY2UgYm91bmRzXG5cbiAgICB2YXIgYXJyb3dFbGVtZW50ID0gc3RhdGUuZWxlbWVudHMuYXJyb3c7XG4gICAgdmFyIGFycm93UmVjdCA9IHRldGhlciAmJiBhcnJvd0VsZW1lbnQgPyBnZXRMYXlvdXRSZWN0KGFycm93RWxlbWVudCkgOiB7XG4gICAgICB3aWR0aDogMCxcbiAgICAgIGhlaWdodDogMFxuICAgIH07XG4gICAgdmFyIGFycm93UGFkZGluZ09iamVjdCA9IHN0YXRlLm1vZGlmaWVyc0RhdGFbJ2Fycm93I3BlcnNpc3RlbnQnXSA/IHN0YXRlLm1vZGlmaWVyc0RhdGFbJ2Fycm93I3BlcnNpc3RlbnQnXS5wYWRkaW5nIDogZ2V0RnJlc2hTaWRlT2JqZWN0KCk7XG4gICAgdmFyIGFycm93UGFkZGluZ01pbiA9IGFycm93UGFkZGluZ09iamVjdFttYWluU2lkZV07XG4gICAgdmFyIGFycm93UGFkZGluZ01heCA9IGFycm93UGFkZGluZ09iamVjdFthbHRTaWRlXTsgLy8gSWYgdGhlIHJlZmVyZW5jZSBsZW5ndGggaXMgc21hbGxlciB0aGFuIHRoZSBhcnJvdyBsZW5ndGgsIHdlIGRvbid0IHdhbnRcbiAgICAvLyB0byBpbmNsdWRlIGl0cyBmdWxsIHNpemUgaW4gdGhlIGNhbGN1bGF0aW9uLiBJZiB0aGUgcmVmZXJlbmNlIGlzIHNtYWxsXG4gICAgLy8gYW5kIG5lYXIgdGhlIGVkZ2Ugb2YgYSBib3VuZGFyeSwgdGhlIHBvcHBlciBjYW4gb3ZlcmZsb3cgZXZlbiBpZiB0aGVcbiAgICAvLyByZWZlcmVuY2UgaXMgbm90IG92ZXJmbG93aW5nIGFzIHdlbGwgKGUuZy4gdmlydHVhbCBlbGVtZW50cyB3aXRoIG5vXG4gICAgLy8gd2lkdGggb3IgaGVpZ2h0KVxuXG4gICAgdmFyIGFycm93TGVuID0gd2l0aGluKDAsIHJlZmVyZW5jZVJlY3RbbGVuXSwgYXJyb3dSZWN0W2xlbl0pO1xuICAgIHZhciBtaW5PZmZzZXQgPSBpc0Jhc2VQbGFjZW1lbnQgPyByZWZlcmVuY2VSZWN0W2xlbl0gLyAyIC0gYWRkaXRpdmUgLSBhcnJvd0xlbiAtIGFycm93UGFkZGluZ01pbiAtIG5vcm1hbGl6ZWRUZXRoZXJPZmZzZXRWYWx1ZS5tYWluQXhpcyA6IG1pbkxlbiAtIGFycm93TGVuIC0gYXJyb3dQYWRkaW5nTWluIC0gbm9ybWFsaXplZFRldGhlck9mZnNldFZhbHVlLm1haW5BeGlzO1xuICAgIHZhciBtYXhPZmZzZXQgPSBpc0Jhc2VQbGFjZW1lbnQgPyAtcmVmZXJlbmNlUmVjdFtsZW5dIC8gMiArIGFkZGl0aXZlICsgYXJyb3dMZW4gKyBhcnJvd1BhZGRpbmdNYXggKyBub3JtYWxpemVkVGV0aGVyT2Zmc2V0VmFsdWUubWFpbkF4aXMgOiBtYXhMZW4gKyBhcnJvd0xlbiArIGFycm93UGFkZGluZ01heCArIG5vcm1hbGl6ZWRUZXRoZXJPZmZzZXRWYWx1ZS5tYWluQXhpcztcbiAgICB2YXIgYXJyb3dPZmZzZXRQYXJlbnQgPSBzdGF0ZS5lbGVtZW50cy5hcnJvdyAmJiBnZXRPZmZzZXRQYXJlbnQoc3RhdGUuZWxlbWVudHMuYXJyb3cpO1xuICAgIHZhciBjbGllbnRPZmZzZXQgPSBhcnJvd09mZnNldFBhcmVudCA/IG1haW5BeGlzID09PSAneScgPyBhcnJvd09mZnNldFBhcmVudC5jbGllbnRUb3AgfHwgMCA6IGFycm93T2Zmc2V0UGFyZW50LmNsaWVudExlZnQgfHwgMCA6IDA7XG4gICAgdmFyIG9mZnNldE1vZGlmaWVyVmFsdWUgPSAoX29mZnNldE1vZGlmaWVyU3RhdGUkID0gb2Zmc2V0TW9kaWZpZXJTdGF0ZSA9PSBudWxsID8gdm9pZCAwIDogb2Zmc2V0TW9kaWZpZXJTdGF0ZVttYWluQXhpc10pICE9IG51bGwgPyBfb2Zmc2V0TW9kaWZpZXJTdGF0ZSQgOiAwO1xuICAgIHZhciB0ZXRoZXJNaW4gPSBvZmZzZXQgKyBtaW5PZmZzZXQgLSBvZmZzZXRNb2RpZmllclZhbHVlIC0gY2xpZW50T2Zmc2V0O1xuICAgIHZhciB0ZXRoZXJNYXggPSBvZmZzZXQgKyBtYXhPZmZzZXQgLSBvZmZzZXRNb2RpZmllclZhbHVlO1xuICAgIHZhciBwcmV2ZW50ZWRPZmZzZXQgPSB3aXRoaW4odGV0aGVyID8gbWF0aE1pbihtaW4sIHRldGhlck1pbikgOiBtaW4sIG9mZnNldCwgdGV0aGVyID8gbWF0aE1heChtYXgsIHRldGhlck1heCkgOiBtYXgpO1xuICAgIHBvcHBlck9mZnNldHNbbWFpbkF4aXNdID0gcHJldmVudGVkT2Zmc2V0O1xuICAgIGRhdGFbbWFpbkF4aXNdID0gcHJldmVudGVkT2Zmc2V0IC0gb2Zmc2V0O1xuICB9XG5cbiAgaWYgKGNoZWNrQWx0QXhpcykge1xuICAgIHZhciBfb2Zmc2V0TW9kaWZpZXJTdGF0ZSQyO1xuXG4gICAgdmFyIF9tYWluU2lkZSA9IG1haW5BeGlzID09PSAneCcgPyB0b3AgOiBsZWZ0O1xuXG4gICAgdmFyIF9hbHRTaWRlID0gbWFpbkF4aXMgPT09ICd4JyA/IGJvdHRvbSA6IHJpZ2h0O1xuXG4gICAgdmFyIF9vZmZzZXQgPSBwb3BwZXJPZmZzZXRzW2FsdEF4aXNdO1xuXG4gICAgdmFyIF9sZW4gPSBhbHRBeGlzID09PSAneScgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG5cbiAgICB2YXIgX21pbiA9IF9vZmZzZXQgKyBvdmVyZmxvd1tfbWFpblNpZGVdO1xuXG4gICAgdmFyIF9tYXggPSBfb2Zmc2V0IC0gb3ZlcmZsb3dbX2FsdFNpZGVdO1xuXG4gICAgdmFyIGlzT3JpZ2luU2lkZSA9IFt0b3AsIGxlZnRdLmluZGV4T2YoYmFzZVBsYWNlbWVudCkgIT09IC0xO1xuXG4gICAgdmFyIF9vZmZzZXRNb2RpZmllclZhbHVlID0gKF9vZmZzZXRNb2RpZmllclN0YXRlJDIgPSBvZmZzZXRNb2RpZmllclN0YXRlID09IG51bGwgPyB2b2lkIDAgOiBvZmZzZXRNb2RpZmllclN0YXRlW2FsdEF4aXNdKSAhPSBudWxsID8gX29mZnNldE1vZGlmaWVyU3RhdGUkMiA6IDA7XG5cbiAgICB2YXIgX3RldGhlck1pbiA9IGlzT3JpZ2luU2lkZSA/IF9taW4gOiBfb2Zmc2V0IC0gcmVmZXJlbmNlUmVjdFtfbGVuXSAtIHBvcHBlclJlY3RbX2xlbl0gLSBfb2Zmc2V0TW9kaWZpZXJWYWx1ZSArIG5vcm1hbGl6ZWRUZXRoZXJPZmZzZXRWYWx1ZS5hbHRBeGlzO1xuXG4gICAgdmFyIF90ZXRoZXJNYXggPSBpc09yaWdpblNpZGUgPyBfb2Zmc2V0ICsgcmVmZXJlbmNlUmVjdFtfbGVuXSArIHBvcHBlclJlY3RbX2xlbl0gLSBfb2Zmc2V0TW9kaWZpZXJWYWx1ZSAtIG5vcm1hbGl6ZWRUZXRoZXJPZmZzZXRWYWx1ZS5hbHRBeGlzIDogX21heDtcblxuICAgIHZhciBfcHJldmVudGVkT2Zmc2V0ID0gdGV0aGVyICYmIGlzT3JpZ2luU2lkZSA/IHdpdGhpbk1heENsYW1wKF90ZXRoZXJNaW4sIF9vZmZzZXQsIF90ZXRoZXJNYXgpIDogd2l0aGluKHRldGhlciA/IF90ZXRoZXJNaW4gOiBfbWluLCBfb2Zmc2V0LCB0ZXRoZXIgPyBfdGV0aGVyTWF4IDogX21heCk7XG5cbiAgICBwb3BwZXJPZmZzZXRzW2FsdEF4aXNdID0gX3ByZXZlbnRlZE9mZnNldDtcbiAgICBkYXRhW2FsdEF4aXNdID0gX3ByZXZlbnRlZE9mZnNldCAtIF9vZmZzZXQ7XG4gIH1cblxuICBzdGF0ZS5tb2RpZmllcnNEYXRhW25hbWVdID0gZGF0YTtcbn0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ3ByZXZlbnRPdmVyZmxvdycsXG4gIGVuYWJsZWQ6IHRydWUsXG4gIHBoYXNlOiAnbWFpbicsXG4gIGZuOiBwcmV2ZW50T3ZlcmZsb3csXG4gIHJlcXVpcmVzSWZFeGlzdHM6IFsnb2Zmc2V0J11cbn07IiwiaW1wb3J0IHsgcG9wcGVyR2VuZXJhdG9yLCBkZXRlY3RPdmVyZmxvdyB9IGZyb20gXCIuL2NyZWF0ZVBvcHBlci5qc1wiO1xuaW1wb3J0IGV2ZW50TGlzdGVuZXJzIGZyb20gXCIuL21vZGlmaWVycy9ldmVudExpc3RlbmVycy5qc1wiO1xuaW1wb3J0IHBvcHBlck9mZnNldHMgZnJvbSBcIi4vbW9kaWZpZXJzL3BvcHBlck9mZnNldHMuanNcIjtcbmltcG9ydCBjb21wdXRlU3R5bGVzIGZyb20gXCIuL21vZGlmaWVycy9jb21wdXRlU3R5bGVzLmpzXCI7XG5pbXBvcnQgYXBwbHlTdHlsZXMgZnJvbSBcIi4vbW9kaWZpZXJzL2FwcGx5U3R5bGVzLmpzXCI7XG52YXIgZGVmYXVsdE1vZGlmaWVycyA9IFtldmVudExpc3RlbmVycywgcG9wcGVyT2Zmc2V0cywgY29tcHV0ZVN0eWxlcywgYXBwbHlTdHlsZXNdO1xudmFyIGNyZWF0ZVBvcHBlciA9IC8qI19fUFVSRV9fKi9wb3BwZXJHZW5lcmF0b3Ioe1xuICBkZWZhdWx0TW9kaWZpZXJzOiBkZWZhdWx0TW9kaWZpZXJzXG59KTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5leHBvcnQgeyBjcmVhdGVQb3BwZXIsIHBvcHBlckdlbmVyYXRvciwgZGVmYXVsdE1vZGlmaWVycywgZGV0ZWN0T3ZlcmZsb3cgfTsiLCJpbXBvcnQgeyBwb3BwZXJHZW5lcmF0b3IsIGRldGVjdE92ZXJmbG93IH0gZnJvbSBcIi4vY3JlYXRlUG9wcGVyLmpzXCI7XG5pbXBvcnQgZXZlbnRMaXN0ZW5lcnMgZnJvbSBcIi4vbW9kaWZpZXJzL2V2ZW50TGlzdGVuZXJzLmpzXCI7XG5pbXBvcnQgcG9wcGVyT2Zmc2V0cyBmcm9tIFwiLi9tb2RpZmllcnMvcG9wcGVyT2Zmc2V0cy5qc1wiO1xuaW1wb3J0IGNvbXB1dGVTdHlsZXMgZnJvbSBcIi4vbW9kaWZpZXJzL2NvbXB1dGVTdHlsZXMuanNcIjtcbmltcG9ydCBhcHBseVN0eWxlcyBmcm9tIFwiLi9tb2RpZmllcnMvYXBwbHlTdHlsZXMuanNcIjtcbmltcG9ydCBvZmZzZXQgZnJvbSBcIi4vbW9kaWZpZXJzL29mZnNldC5qc1wiO1xuaW1wb3J0IGZsaXAgZnJvbSBcIi4vbW9kaWZpZXJzL2ZsaXAuanNcIjtcbmltcG9ydCBwcmV2ZW50T3ZlcmZsb3cgZnJvbSBcIi4vbW9kaWZpZXJzL3ByZXZlbnRPdmVyZmxvdy5qc1wiO1xuaW1wb3J0IGFycm93IGZyb20gXCIuL21vZGlmaWVycy9hcnJvdy5qc1wiO1xuaW1wb3J0IGhpZGUgZnJvbSBcIi4vbW9kaWZpZXJzL2hpZGUuanNcIjtcbnZhciBkZWZhdWx0TW9kaWZpZXJzID0gW2V2ZW50TGlzdGVuZXJzLCBwb3BwZXJPZmZzZXRzLCBjb21wdXRlU3R5bGVzLCBhcHBseVN0eWxlcywgb2Zmc2V0LCBmbGlwLCBwcmV2ZW50T3ZlcmZsb3csIGFycm93LCBoaWRlXTtcbnZhciBjcmVhdGVQb3BwZXIgPSAvKiNfX1BVUkVfXyovcG9wcGVyR2VuZXJhdG9yKHtcbiAgZGVmYXVsdE1vZGlmaWVyczogZGVmYXVsdE1vZGlmaWVyc1xufSk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuZXhwb3J0IHsgY3JlYXRlUG9wcGVyLCBwb3BwZXJHZW5lcmF0b3IsIGRlZmF1bHRNb2RpZmllcnMsIGRldGVjdE92ZXJmbG93IH07IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuZXhwb3J0IHsgY3JlYXRlUG9wcGVyIGFzIGNyZWF0ZVBvcHBlckxpdGUgfSBmcm9tIFwiLi9wb3BwZXItbGl0ZS5qc1wiOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cbmV4cG9ydCAqIGZyb20gXCIuL21vZGlmaWVycy9pbmRleC5qc1wiOyIsImltcG9ydCBnZXRWYXJpYXRpb24gZnJvbSBcIi4vZ2V0VmFyaWF0aW9uLmpzXCI7XG5pbXBvcnQgeyB2YXJpYXRpb25QbGFjZW1lbnRzLCBiYXNlUGxhY2VtZW50cywgcGxhY2VtZW50cyBhcyBhbGxQbGFjZW1lbnRzIH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7XG5pbXBvcnQgZGV0ZWN0T3ZlcmZsb3cgZnJvbSBcIi4vZGV0ZWN0T3ZlcmZsb3cuanNcIjtcbmltcG9ydCBnZXRCYXNlUGxhY2VtZW50IGZyb20gXCIuL2dldEJhc2VQbGFjZW1lbnQuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbXB1dGVBdXRvUGxhY2VtZW50KHN0YXRlLCBvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICB2YXIgX29wdGlvbnMgPSBvcHRpb25zLFxuICAgICAgcGxhY2VtZW50ID0gX29wdGlvbnMucGxhY2VtZW50LFxuICAgICAgYm91bmRhcnkgPSBfb3B0aW9ucy5ib3VuZGFyeSxcbiAgICAgIHJvb3RCb3VuZGFyeSA9IF9vcHRpb25zLnJvb3RCb3VuZGFyeSxcbiAgICAgIHBhZGRpbmcgPSBfb3B0aW9ucy5wYWRkaW5nLFxuICAgICAgZmxpcFZhcmlhdGlvbnMgPSBfb3B0aW9ucy5mbGlwVmFyaWF0aW9ucyxcbiAgICAgIF9vcHRpb25zJGFsbG93ZWRBdXRvUCA9IF9vcHRpb25zLmFsbG93ZWRBdXRvUGxhY2VtZW50cyxcbiAgICAgIGFsbG93ZWRBdXRvUGxhY2VtZW50cyA9IF9vcHRpb25zJGFsbG93ZWRBdXRvUCA9PT0gdm9pZCAwID8gYWxsUGxhY2VtZW50cyA6IF9vcHRpb25zJGFsbG93ZWRBdXRvUDtcbiAgdmFyIHZhcmlhdGlvbiA9IGdldFZhcmlhdGlvbihwbGFjZW1lbnQpO1xuICB2YXIgcGxhY2VtZW50cyA9IHZhcmlhdGlvbiA/IGZsaXBWYXJpYXRpb25zID8gdmFyaWF0aW9uUGxhY2VtZW50cyA6IHZhcmlhdGlvblBsYWNlbWVudHMuZmlsdGVyKGZ1bmN0aW9uIChwbGFjZW1lbnQpIHtcbiAgICByZXR1cm4gZ2V0VmFyaWF0aW9uKHBsYWNlbWVudCkgPT09IHZhcmlhdGlvbjtcbiAgfSkgOiBiYXNlUGxhY2VtZW50cztcbiAgdmFyIGFsbG93ZWRQbGFjZW1lbnRzID0gcGxhY2VtZW50cy5maWx0ZXIoZnVuY3Rpb24gKHBsYWNlbWVudCkge1xuICAgIHJldHVybiBhbGxvd2VkQXV0b1BsYWNlbWVudHMuaW5kZXhPZihwbGFjZW1lbnQpID49IDA7XG4gIH0pO1xuXG4gIGlmIChhbGxvd2VkUGxhY2VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBhbGxvd2VkUGxhY2VtZW50cyA9IHBsYWNlbWVudHM7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFsnUG9wcGVyOiBUaGUgYGFsbG93ZWRBdXRvUGxhY2VtZW50c2Agb3B0aW9uIGRpZCBub3QgYWxsb3cgYW55JywgJ3BsYWNlbWVudHMuIEVuc3VyZSB0aGUgYHBsYWNlbWVudGAgb3B0aW9uIG1hdGNoZXMgdGhlIHZhcmlhdGlvbicsICdvZiB0aGUgYWxsb3dlZCBwbGFjZW1lbnRzLicsICdGb3IgZXhhbXBsZSwgXCJhdXRvXCIgY2Fubm90IGJlIHVzZWQgdG8gYWxsb3cgXCJib3R0b20tc3RhcnRcIi4nLCAnVXNlIFwiYXV0by1zdGFydFwiIGluc3RlYWQuJ10uam9pbignICcpKTtcbiAgICB9XG4gIH0gLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZV06IEZsb3cgc2VlbXMgdG8gaGF2ZSBwcm9ibGVtcyB3aXRoIHR3byBhcnJheSB1bmlvbnMuLi5cblxuXG4gIHZhciBvdmVyZmxvd3MgPSBhbGxvd2VkUGxhY2VtZW50cy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGxhY2VtZW50KSB7XG4gICAgYWNjW3BsYWNlbWVudF0gPSBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwge1xuICAgICAgcGxhY2VtZW50OiBwbGFjZW1lbnQsXG4gICAgICBib3VuZGFyeTogYm91bmRhcnksXG4gICAgICByb290Qm91bmRhcnk6IHJvb3RCb3VuZGFyeSxcbiAgICAgIHBhZGRpbmc6IHBhZGRpbmdcbiAgICB9KVtnZXRCYXNlUGxhY2VtZW50KHBsYWNlbWVudCldO1xuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG92ZXJmbG93cykuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBvdmVyZmxvd3NbYV0gLSBvdmVyZmxvd3NbYl07XG4gIH0pO1xufSIsImltcG9ydCBnZXRCYXNlUGxhY2VtZW50IGZyb20gXCIuL2dldEJhc2VQbGFjZW1lbnQuanNcIjtcbmltcG9ydCBnZXRWYXJpYXRpb24gZnJvbSBcIi4vZ2V0VmFyaWF0aW9uLmpzXCI7XG5pbXBvcnQgZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50IGZyb20gXCIuL2dldE1haW5BeGlzRnJvbVBsYWNlbWVudC5qc1wiO1xuaW1wb3J0IHsgdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0LCBzdGFydCwgZW5kIH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21wdXRlT2Zmc2V0cyhfcmVmKSB7XG4gIHZhciByZWZlcmVuY2UgPSBfcmVmLnJlZmVyZW5jZSxcbiAgICAgIGVsZW1lbnQgPSBfcmVmLmVsZW1lbnQsXG4gICAgICBwbGFjZW1lbnQgPSBfcmVmLnBsYWNlbWVudDtcbiAgdmFyIGJhc2VQbGFjZW1lbnQgPSBwbGFjZW1lbnQgPyBnZXRCYXNlUGxhY2VtZW50KHBsYWNlbWVudCkgOiBudWxsO1xuICB2YXIgdmFyaWF0aW9uID0gcGxhY2VtZW50ID8gZ2V0VmFyaWF0aW9uKHBsYWNlbWVudCkgOiBudWxsO1xuICB2YXIgY29tbW9uWCA9IHJlZmVyZW5jZS54ICsgcmVmZXJlbmNlLndpZHRoIC8gMiAtIGVsZW1lbnQud2lkdGggLyAyO1xuICB2YXIgY29tbW9uWSA9IHJlZmVyZW5jZS55ICsgcmVmZXJlbmNlLmhlaWdodCAvIDIgLSBlbGVtZW50LmhlaWdodCAvIDI7XG4gIHZhciBvZmZzZXRzO1xuXG4gIHN3aXRjaCAoYmFzZVBsYWNlbWVudCkge1xuICAgIGNhc2UgdG9wOlxuICAgICAgb2Zmc2V0cyA9IHtcbiAgICAgICAgeDogY29tbW9uWCxcbiAgICAgICAgeTogcmVmZXJlbmNlLnkgLSBlbGVtZW50LmhlaWdodFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBib3R0b206XG4gICAgICBvZmZzZXRzID0ge1xuICAgICAgICB4OiBjb21tb25YLFxuICAgICAgICB5OiByZWZlcmVuY2UueSArIHJlZmVyZW5jZS5oZWlnaHRcbiAgICAgIH07XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgcmlnaHQ6XG4gICAgICBvZmZzZXRzID0ge1xuICAgICAgICB4OiByZWZlcmVuY2UueCArIHJlZmVyZW5jZS53aWR0aCxcbiAgICAgICAgeTogY29tbW9uWVxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBsZWZ0OlxuICAgICAgb2Zmc2V0cyA9IHtcbiAgICAgICAgeDogcmVmZXJlbmNlLnggLSBlbGVtZW50LndpZHRoLFxuICAgICAgICB5OiBjb21tb25ZXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgb2Zmc2V0cyA9IHtcbiAgICAgICAgeDogcmVmZXJlbmNlLngsXG4gICAgICAgIHk6IHJlZmVyZW5jZS55XG4gICAgICB9O1xuICB9XG5cbiAgdmFyIG1haW5BeGlzID0gYmFzZVBsYWNlbWVudCA/IGdldE1haW5BeGlzRnJvbVBsYWNlbWVudChiYXNlUGxhY2VtZW50KSA6IG51bGw7XG5cbiAgaWYgKG1haW5BeGlzICE9IG51bGwpIHtcbiAgICB2YXIgbGVuID0gbWFpbkF4aXMgPT09ICd5JyA/ICdoZWlnaHQnIDogJ3dpZHRoJztcblxuICAgIHN3aXRjaCAodmFyaWF0aW9uKSB7XG4gICAgICBjYXNlIHN0YXJ0OlxuICAgICAgICBvZmZzZXRzW21haW5BeGlzXSA9IG9mZnNldHNbbWFpbkF4aXNdIC0gKHJlZmVyZW5jZVtsZW5dIC8gMiAtIGVsZW1lbnRbbGVuXSAvIDIpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBlbmQ6XG4gICAgICAgIG9mZnNldHNbbWFpbkF4aXNdID0gb2Zmc2V0c1ttYWluQXhpc10gKyAocmVmZXJlbmNlW2xlbl0gLyAyIC0gZWxlbWVudFtsZW5dIC8gMik7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvZmZzZXRzO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlYm91bmNlKGZuKSB7XG4gIHZhciBwZW5kaW5nO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmICghcGVuZGluZykge1xuICAgICAgcGVuZGluZyA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHBlbmRpbmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgcmVzb2x2ZShmbigpKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGVuZGluZztcbiAgfTtcbn0iLCJpbXBvcnQgZ2V0Q2xpcHBpbmdSZWN0IGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0Q2xpcHBpbmdSZWN0LmpzXCI7XG5pbXBvcnQgZ2V0RG9jdW1lbnRFbGVtZW50IGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0RG9jdW1lbnRFbGVtZW50LmpzXCI7XG5pbXBvcnQgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0Qm91bmRpbmdDbGllbnRSZWN0LmpzXCI7XG5pbXBvcnQgY29tcHV0ZU9mZnNldHMgZnJvbSBcIi4vY29tcHV0ZU9mZnNldHMuanNcIjtcbmltcG9ydCByZWN0VG9DbGllbnRSZWN0IGZyb20gXCIuL3JlY3RUb0NsaWVudFJlY3QuanNcIjtcbmltcG9ydCB7IGNsaXBwaW5nUGFyZW50cywgcmVmZXJlbmNlLCBwb3BwZXIsIGJvdHRvbSwgdG9wLCByaWdodCwgYmFzZVBsYWNlbWVudHMsIHZpZXdwb3J0IH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7XG5pbXBvcnQgeyBpc0VsZW1lbnQgfSBmcm9tIFwiLi4vZG9tLXV0aWxzL2luc3RhbmNlT2YuanNcIjtcbmltcG9ydCBtZXJnZVBhZGRpbmdPYmplY3QgZnJvbSBcIi4vbWVyZ2VQYWRkaW5nT2JqZWN0LmpzXCI7XG5pbXBvcnQgZXhwYW5kVG9IYXNoTWFwIGZyb20gXCIuL2V4cGFuZFRvSGFzaE1hcC5qc1wiOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRldGVjdE92ZXJmbG93KHN0YXRlLCBvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICB2YXIgX29wdGlvbnMgPSBvcHRpb25zLFxuICAgICAgX29wdGlvbnMkcGxhY2VtZW50ID0gX29wdGlvbnMucGxhY2VtZW50LFxuICAgICAgcGxhY2VtZW50ID0gX29wdGlvbnMkcGxhY2VtZW50ID09PSB2b2lkIDAgPyBzdGF0ZS5wbGFjZW1lbnQgOiBfb3B0aW9ucyRwbGFjZW1lbnQsXG4gICAgICBfb3B0aW9ucyRzdHJhdGVneSA9IF9vcHRpb25zLnN0cmF0ZWd5LFxuICAgICAgc3RyYXRlZ3kgPSBfb3B0aW9ucyRzdHJhdGVneSA9PT0gdm9pZCAwID8gc3RhdGUuc3RyYXRlZ3kgOiBfb3B0aW9ucyRzdHJhdGVneSxcbiAgICAgIF9vcHRpb25zJGJvdW5kYXJ5ID0gX29wdGlvbnMuYm91bmRhcnksXG4gICAgICBib3VuZGFyeSA9IF9vcHRpb25zJGJvdW5kYXJ5ID09PSB2b2lkIDAgPyBjbGlwcGluZ1BhcmVudHMgOiBfb3B0aW9ucyRib3VuZGFyeSxcbiAgICAgIF9vcHRpb25zJHJvb3RCb3VuZGFyeSA9IF9vcHRpb25zLnJvb3RCb3VuZGFyeSxcbiAgICAgIHJvb3RCb3VuZGFyeSA9IF9vcHRpb25zJHJvb3RCb3VuZGFyeSA9PT0gdm9pZCAwID8gdmlld3BvcnQgOiBfb3B0aW9ucyRyb290Qm91bmRhcnksXG4gICAgICBfb3B0aW9ucyRlbGVtZW50Q29udGUgPSBfb3B0aW9ucy5lbGVtZW50Q29udGV4dCxcbiAgICAgIGVsZW1lbnRDb250ZXh0ID0gX29wdGlvbnMkZWxlbWVudENvbnRlID09PSB2b2lkIDAgPyBwb3BwZXIgOiBfb3B0aW9ucyRlbGVtZW50Q29udGUsXG4gICAgICBfb3B0aW9ucyRhbHRCb3VuZGFyeSA9IF9vcHRpb25zLmFsdEJvdW5kYXJ5LFxuICAgICAgYWx0Qm91bmRhcnkgPSBfb3B0aW9ucyRhbHRCb3VuZGFyeSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfb3B0aW9ucyRhbHRCb3VuZGFyeSxcbiAgICAgIF9vcHRpb25zJHBhZGRpbmcgPSBfb3B0aW9ucy5wYWRkaW5nLFxuICAgICAgcGFkZGluZyA9IF9vcHRpb25zJHBhZGRpbmcgPT09IHZvaWQgMCA/IDAgOiBfb3B0aW9ucyRwYWRkaW5nO1xuICB2YXIgcGFkZGluZ09iamVjdCA9IG1lcmdlUGFkZGluZ09iamVjdCh0eXBlb2YgcGFkZGluZyAhPT0gJ251bWJlcicgPyBwYWRkaW5nIDogZXhwYW5kVG9IYXNoTWFwKHBhZGRpbmcsIGJhc2VQbGFjZW1lbnRzKSk7XG4gIHZhciBhbHRDb250ZXh0ID0gZWxlbWVudENvbnRleHQgPT09IHBvcHBlciA/IHJlZmVyZW5jZSA6IHBvcHBlcjtcbiAgdmFyIHBvcHBlclJlY3QgPSBzdGF0ZS5yZWN0cy5wb3BwZXI7XG4gIHZhciBlbGVtZW50ID0gc3RhdGUuZWxlbWVudHNbYWx0Qm91bmRhcnkgPyBhbHRDb250ZXh0IDogZWxlbWVudENvbnRleHRdO1xuICB2YXIgY2xpcHBpbmdDbGllbnRSZWN0ID0gZ2V0Q2xpcHBpbmdSZWN0KGlzRWxlbWVudChlbGVtZW50KSA/IGVsZW1lbnQgOiBlbGVtZW50LmNvbnRleHRFbGVtZW50IHx8IGdldERvY3VtZW50RWxlbWVudChzdGF0ZS5lbGVtZW50cy5wb3BwZXIpLCBib3VuZGFyeSwgcm9vdEJvdW5kYXJ5LCBzdHJhdGVneSk7XG4gIHZhciByZWZlcmVuY2VDbGllbnRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHN0YXRlLmVsZW1lbnRzLnJlZmVyZW5jZSk7XG4gIHZhciBwb3BwZXJPZmZzZXRzID0gY29tcHV0ZU9mZnNldHMoe1xuICAgIHJlZmVyZW5jZTogcmVmZXJlbmNlQ2xpZW50UmVjdCxcbiAgICBlbGVtZW50OiBwb3BwZXJSZWN0LFxuICAgIHN0cmF0ZWd5OiAnYWJzb2x1dGUnLFxuICAgIHBsYWNlbWVudDogcGxhY2VtZW50XG4gIH0pO1xuICB2YXIgcG9wcGVyQ2xpZW50UmVjdCA9IHJlY3RUb0NsaWVudFJlY3QoT2JqZWN0LmFzc2lnbih7fSwgcG9wcGVyUmVjdCwgcG9wcGVyT2Zmc2V0cykpO1xuICB2YXIgZWxlbWVudENsaWVudFJlY3QgPSBlbGVtZW50Q29udGV4dCA9PT0gcG9wcGVyID8gcG9wcGVyQ2xpZW50UmVjdCA6IHJlZmVyZW5jZUNsaWVudFJlY3Q7IC8vIHBvc2l0aXZlID0gb3ZlcmZsb3dpbmcgdGhlIGNsaXBwaW5nIHJlY3RcbiAgLy8gMCBvciBuZWdhdGl2ZSA9IHdpdGhpbiB0aGUgY2xpcHBpbmcgcmVjdFxuXG4gIHZhciBvdmVyZmxvd09mZnNldHMgPSB7XG4gICAgdG9wOiBjbGlwcGluZ0NsaWVudFJlY3QudG9wIC0gZWxlbWVudENsaWVudFJlY3QudG9wICsgcGFkZGluZ09iamVjdC50b3AsXG4gICAgYm90dG9tOiBlbGVtZW50Q2xpZW50UmVjdC5ib3R0b20gLSBjbGlwcGluZ0NsaWVudFJlY3QuYm90dG9tICsgcGFkZGluZ09iamVjdC5ib3R0b20sXG4gICAgbGVmdDogY2xpcHBpbmdDbGllbnRSZWN0LmxlZnQgLSBlbGVtZW50Q2xpZW50UmVjdC5sZWZ0ICsgcGFkZGluZ09iamVjdC5sZWZ0LFxuICAgIHJpZ2h0OiBlbGVtZW50Q2xpZW50UmVjdC5yaWdodCAtIGNsaXBwaW5nQ2xpZW50UmVjdC5yaWdodCArIHBhZGRpbmdPYmplY3QucmlnaHRcbiAgfTtcbiAgdmFyIG9mZnNldERhdGEgPSBzdGF0ZS5tb2RpZmllcnNEYXRhLm9mZnNldDsgLy8gT2Zmc2V0cyBjYW4gYmUgYXBwbGllZCBvbmx5IHRvIHRoZSBwb3BwZXIgZWxlbWVudFxuXG4gIGlmIChlbGVtZW50Q29udGV4dCA9PT0gcG9wcGVyICYmIG9mZnNldERhdGEpIHtcbiAgICB2YXIgb2Zmc2V0ID0gb2Zmc2V0RGF0YVtwbGFjZW1lbnRdO1xuICAgIE9iamVjdC5rZXlzKG92ZXJmbG93T2Zmc2V0cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgbXVsdGlwbHkgPSBbcmlnaHQsIGJvdHRvbV0uaW5kZXhPZihrZXkpID49IDAgPyAxIDogLTE7XG4gICAgICB2YXIgYXhpcyA9IFt0b3AsIGJvdHRvbV0uaW5kZXhPZihrZXkpID49IDAgPyAneScgOiAneCc7XG4gICAgICBvdmVyZmxvd09mZnNldHNba2V5XSArPSBvZmZzZXRbYXhpc10gKiBtdWx0aXBseTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBvdmVyZmxvd09mZnNldHM7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZXhwYW5kVG9IYXNoTWFwKHZhbHVlLCBrZXlzKSB7XG4gIHJldHVybiBrZXlzLnJlZHVjZShmdW5jdGlvbiAoaGFzaE1hcCwga2V5KSB7XG4gICAgaGFzaE1hcFtrZXldID0gdmFsdWU7XG4gICAgcmV0dXJuIGhhc2hNYXA7XG4gIH0sIHt9KTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmb3JtYXQoc3RyKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBbXS5jb25jYXQoYXJncykucmVkdWNlKGZ1bmN0aW9uIChwLCBjKSB7XG4gICAgcmV0dXJuIHAucmVwbGFjZSgvJXMvLCBjKTtcbiAgfSwgc3RyKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRBbHRBeGlzKGF4aXMpIHtcbiAgcmV0dXJuIGF4aXMgPT09ICd4JyA/ICd5JyA6ICd4Jztcbn0iLCJpbXBvcnQgeyBhdXRvIH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRCYXNlUGxhY2VtZW50KHBsYWNlbWVudCkge1xuICByZXR1cm4gcGxhY2VtZW50LnNwbGl0KCctJylbMF07XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0RnJlc2hTaWRlT2JqZWN0KCkge1xuICByZXR1cm4ge1xuICAgIHRvcDogMCxcbiAgICByaWdodDogMCxcbiAgICBib3R0b206IDAsXG4gICAgbGVmdDogMFxuICB9O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldE1haW5BeGlzRnJvbVBsYWNlbWVudChwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIFsndG9wJywgJ2JvdHRvbSddLmluZGV4T2YocGxhY2VtZW50KSA+PSAwID8gJ3gnIDogJ3knO1xufSIsInZhciBoYXNoID0ge1xuICBsZWZ0OiAncmlnaHQnLFxuICByaWdodDogJ2xlZnQnLFxuICBib3R0b206ICd0b3AnLFxuICB0b3A6ICdib3R0b20nXG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gIHJldHVybiBwbGFjZW1lbnQucmVwbGFjZSgvbGVmdHxyaWdodHxib3R0b218dG9wL2csIGZ1bmN0aW9uIChtYXRjaGVkKSB7XG4gICAgcmV0dXJuIGhhc2hbbWF0Y2hlZF07XG4gIH0pO1xufSIsInZhciBoYXNoID0ge1xuICBzdGFydDogJ2VuZCcsXG4gIGVuZDogJ3N0YXJ0J1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldE9wcG9zaXRlVmFyaWF0aW9uUGxhY2VtZW50KHBsYWNlbWVudCkge1xuICByZXR1cm4gcGxhY2VtZW50LnJlcGxhY2UoL3N0YXJ0fGVuZC9nLCBmdW5jdGlvbiAobWF0Y2hlZCkge1xuICAgIHJldHVybiBoYXNoW21hdGNoZWRdO1xuICB9KTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRWYXJpYXRpb24ocGxhY2VtZW50KSB7XG4gIHJldHVybiBwbGFjZW1lbnQuc3BsaXQoJy0nKVsxXTtcbn0iLCJleHBvcnQgdmFyIG1heCA9IE1hdGgubWF4O1xuZXhwb3J0IHZhciBtaW4gPSBNYXRoLm1pbjtcbmV4cG9ydCB2YXIgcm91bmQgPSBNYXRoLnJvdW5kOyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1lcmdlQnlOYW1lKG1vZGlmaWVycykge1xuICB2YXIgbWVyZ2VkID0gbW9kaWZpZXJzLnJlZHVjZShmdW5jdGlvbiAobWVyZ2VkLCBjdXJyZW50KSB7XG4gICAgdmFyIGV4aXN0aW5nID0gbWVyZ2VkW2N1cnJlbnQubmFtZV07XG4gICAgbWVyZ2VkW2N1cnJlbnQubmFtZV0gPSBleGlzdGluZyA/IE9iamVjdC5hc3NpZ24oe30sIGV4aXN0aW5nLCBjdXJyZW50LCB7XG4gICAgICBvcHRpb25zOiBPYmplY3QuYXNzaWduKHt9LCBleGlzdGluZy5vcHRpb25zLCBjdXJyZW50Lm9wdGlvbnMpLFxuICAgICAgZGF0YTogT2JqZWN0LmFzc2lnbih7fSwgZXhpc3RpbmcuZGF0YSwgY3VycmVudC5kYXRhKVxuICAgIH0pIDogY3VycmVudDtcbiAgICByZXR1cm4gbWVyZ2VkO1xuICB9LCB7fSk7IC8vIElFMTEgZG9lcyBub3Qgc3VwcG9ydCBPYmplY3QudmFsdWVzXG5cbiAgcmV0dXJuIE9iamVjdC5rZXlzKG1lcmdlZCkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gbWVyZ2VkW2tleV07XG4gIH0pO1xufSIsImltcG9ydCBnZXRGcmVzaFNpZGVPYmplY3QgZnJvbSBcIi4vZ2V0RnJlc2hTaWRlT2JqZWN0LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtZXJnZVBhZGRpbmdPYmplY3QocGFkZGluZ09iamVjdCkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZ2V0RnJlc2hTaWRlT2JqZWN0KCksIHBhZGRpbmdPYmplY3QpO1xufSIsImltcG9ydCB7IG1vZGlmaWVyUGhhc2VzIH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7IC8vIHNvdXJjZTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDk4NzUyNTVcblxuZnVuY3Rpb24gb3JkZXIobW9kaWZpZXJzKSB7XG4gIHZhciBtYXAgPSBuZXcgTWFwKCk7XG4gIHZhciB2aXNpdGVkID0gbmV3IFNldCgpO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIG1vZGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uIChtb2RpZmllcikge1xuICAgIG1hcC5zZXQobW9kaWZpZXIubmFtZSwgbW9kaWZpZXIpO1xuICB9KTsgLy8gT24gdmlzaXRpbmcgb2JqZWN0LCBjaGVjayBmb3IgaXRzIGRlcGVuZGVuY2llcyBhbmQgdmlzaXQgdGhlbSByZWN1cnNpdmVseVxuXG4gIGZ1bmN0aW9uIHNvcnQobW9kaWZpZXIpIHtcbiAgICB2aXNpdGVkLmFkZChtb2RpZmllci5uYW1lKTtcbiAgICB2YXIgcmVxdWlyZXMgPSBbXS5jb25jYXQobW9kaWZpZXIucmVxdWlyZXMgfHwgW10sIG1vZGlmaWVyLnJlcXVpcmVzSWZFeGlzdHMgfHwgW10pO1xuICAgIHJlcXVpcmVzLmZvckVhY2goZnVuY3Rpb24gKGRlcCkge1xuICAgICAgaWYgKCF2aXNpdGVkLmhhcyhkZXApKSB7XG4gICAgICAgIHZhciBkZXBNb2RpZmllciA9IG1hcC5nZXQoZGVwKTtcblxuICAgICAgICBpZiAoZGVwTW9kaWZpZXIpIHtcbiAgICAgICAgICBzb3J0KGRlcE1vZGlmaWVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJlc3VsdC5wdXNoKG1vZGlmaWVyKTtcbiAgfVxuXG4gIG1vZGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uIChtb2RpZmllcikge1xuICAgIGlmICghdmlzaXRlZC5oYXMobW9kaWZpZXIubmFtZSkpIHtcbiAgICAgIC8vIGNoZWNrIGZvciB2aXNpdGVkIG9iamVjdFxuICAgICAgc29ydChtb2RpZmllcik7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gb3JkZXJNb2RpZmllcnMobW9kaWZpZXJzKSB7XG4gIC8vIG9yZGVyIGJhc2VkIG9uIGRlcGVuZGVuY2llc1xuICB2YXIgb3JkZXJlZE1vZGlmaWVycyA9IG9yZGVyKG1vZGlmaWVycyk7IC8vIG9yZGVyIGJhc2VkIG9uIHBoYXNlXG5cbiAgcmV0dXJuIG1vZGlmaWVyUGhhc2VzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwaGFzZSkge1xuICAgIHJldHVybiBhY2MuY29uY2F0KG9yZGVyZWRNb2RpZmllcnMuZmlsdGVyKGZ1bmN0aW9uIChtb2RpZmllcikge1xuICAgICAgcmV0dXJuIG1vZGlmaWVyLnBoYXNlID09PSBwaGFzZTtcbiAgICB9KSk7XG4gIH0sIFtdKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZWN0VG9DbGllbnRSZWN0KHJlY3QpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHJlY3QsIHtcbiAgICBsZWZ0OiByZWN0LngsXG4gICAgdG9wOiByZWN0LnksXG4gICAgcmlnaHQ6IHJlY3QueCArIHJlY3Qud2lkdGgsXG4gICAgYm90dG9tOiByZWN0LnkgKyByZWN0LmhlaWdodFxuICB9KTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1bmlxdWVCeShhcnIsIGZuKSB7XG4gIHZhciBpZGVudGlmaWVycyA9IG5ldyBTZXQoKTtcbiAgcmV0dXJuIGFyci5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICB2YXIgaWRlbnRpZmllciA9IGZuKGl0ZW0pO1xuXG4gICAgaWYgKCFpZGVudGlmaWVycy5oYXMoaWRlbnRpZmllcikpIHtcbiAgICAgIGlkZW50aWZpZXJzLmFkZChpZGVudGlmaWVyKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0VUFTdHJpbmcoKSB7XG4gIHZhciB1YURhdGEgPSBuYXZpZ2F0b3IudXNlckFnZW50RGF0YTtcblxuICBpZiAodWFEYXRhICE9IG51bGwgJiYgdWFEYXRhLmJyYW5kcykge1xuICAgIHJldHVybiB1YURhdGEuYnJhbmRzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0uYnJhbmQgKyBcIi9cIiArIGl0ZW0udmVyc2lvbjtcbiAgICB9KS5qb2luKCcgJyk7XG4gIH1cblxuICByZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudDtcbn0iLCJpbXBvcnQgZm9ybWF0IGZyb20gXCIuL2Zvcm1hdC5qc1wiO1xuaW1wb3J0IHsgbW9kaWZpZXJQaGFzZXMgfSBmcm9tIFwiLi4vZW51bXMuanNcIjtcbnZhciBJTlZBTElEX01PRElGSUVSX0VSUk9SID0gJ1BvcHBlcjogbW9kaWZpZXIgXCIlc1wiIHByb3ZpZGVkIGFuIGludmFsaWQgJXMgcHJvcGVydHksIGV4cGVjdGVkICVzIGJ1dCBnb3QgJXMnO1xudmFyIE1JU1NJTkdfREVQRU5ERU5DWV9FUlJPUiA9ICdQb3BwZXI6IG1vZGlmaWVyIFwiJXNcIiByZXF1aXJlcyBcIiVzXCIsIGJ1dCBcIiVzXCIgbW9kaWZpZXIgaXMgbm90IGF2YWlsYWJsZSc7XG52YXIgVkFMSURfUFJPUEVSVElFUyA9IFsnbmFtZScsICdlbmFibGVkJywgJ3BoYXNlJywgJ2ZuJywgJ2VmZmVjdCcsICdyZXF1aXJlcycsICdvcHRpb25zJ107XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB2YWxpZGF0ZU1vZGlmaWVycyhtb2RpZmllcnMpIHtcbiAgbW9kaWZpZXJzLmZvckVhY2goZnVuY3Rpb24gKG1vZGlmaWVyKSB7XG4gICAgW10uY29uY2F0KE9iamVjdC5rZXlzKG1vZGlmaWVyKSwgVkFMSURfUFJPUEVSVElFUykgLy8gSUUxMS1jb21wYXRpYmxlIHJlcGxhY2VtZW50IGZvciBgbmV3IFNldChpdGVyYWJsZSlgXG4gICAgLmZpbHRlcihmdW5jdGlvbiAodmFsdWUsIGluZGV4LCBzZWxmKSB7XG4gICAgICByZXR1cm4gc2VsZi5pbmRleE9mKHZhbHVlKSA9PT0gaW5kZXg7XG4gICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICBjYXNlICduYW1lJzpcbiAgICAgICAgICBpZiAodHlwZW9mIG1vZGlmaWVyLm5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGZvcm1hdChJTlZBTElEX01PRElGSUVSX0VSUk9SLCBTdHJpbmcobW9kaWZpZXIubmFtZSksICdcIm5hbWVcIicsICdcInN0cmluZ1wiJywgXCJcXFwiXCIgKyBTdHJpbmcobW9kaWZpZXIubmFtZSkgKyBcIlxcXCJcIikpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2VuYWJsZWQnOlxuICAgICAgICAgIGlmICh0eXBlb2YgbW9kaWZpZXIuZW5hYmxlZCAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGZvcm1hdChJTlZBTElEX01PRElGSUVSX0VSUk9SLCBtb2RpZmllci5uYW1lLCAnXCJlbmFibGVkXCInLCAnXCJib29sZWFuXCInLCBcIlxcXCJcIiArIFN0cmluZyhtb2RpZmllci5lbmFibGVkKSArIFwiXFxcIlwiKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAncGhhc2UnOlxuICAgICAgICAgIGlmIChtb2RpZmllclBoYXNlcy5pbmRleE9mKG1vZGlmaWVyLnBoYXNlKSA8IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZm9ybWF0KElOVkFMSURfTU9ESUZJRVJfRVJST1IsIG1vZGlmaWVyLm5hbWUsICdcInBoYXNlXCInLCBcImVpdGhlciBcIiArIG1vZGlmaWVyUGhhc2VzLmpvaW4oJywgJyksIFwiXFxcIlwiICsgU3RyaW5nKG1vZGlmaWVyLnBoYXNlKSArIFwiXFxcIlwiKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnZm4nOlxuICAgICAgICAgIGlmICh0eXBlb2YgbW9kaWZpZXIuZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZm9ybWF0KElOVkFMSURfTU9ESUZJRVJfRVJST1IsIG1vZGlmaWVyLm5hbWUsICdcImZuXCInLCAnXCJmdW5jdGlvblwiJywgXCJcXFwiXCIgKyBTdHJpbmcobW9kaWZpZXIuZm4pICsgXCJcXFwiXCIpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdlZmZlY3QnOlxuICAgICAgICAgIGlmIChtb2RpZmllci5lZmZlY3QgIT0gbnVsbCAmJiB0eXBlb2YgbW9kaWZpZXIuZWZmZWN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGZvcm1hdChJTlZBTElEX01PRElGSUVSX0VSUk9SLCBtb2RpZmllci5uYW1lLCAnXCJlZmZlY3RcIicsICdcImZ1bmN0aW9uXCInLCBcIlxcXCJcIiArIFN0cmluZyhtb2RpZmllci5mbikgKyBcIlxcXCJcIikpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3JlcXVpcmVzJzpcbiAgICAgICAgICBpZiAobW9kaWZpZXIucmVxdWlyZXMgIT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheShtb2RpZmllci5yZXF1aXJlcykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZm9ybWF0KElOVkFMSURfTU9ESUZJRVJfRVJST1IsIG1vZGlmaWVyLm5hbWUsICdcInJlcXVpcmVzXCInLCAnXCJhcnJheVwiJywgXCJcXFwiXCIgKyBTdHJpbmcobW9kaWZpZXIucmVxdWlyZXMpICsgXCJcXFwiXCIpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdyZXF1aXJlc0lmRXhpc3RzJzpcbiAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobW9kaWZpZXIucmVxdWlyZXNJZkV4aXN0cykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZm9ybWF0KElOVkFMSURfTU9ESUZJRVJfRVJST1IsIG1vZGlmaWVyLm5hbWUsICdcInJlcXVpcmVzSWZFeGlzdHNcIicsICdcImFycmF5XCInLCBcIlxcXCJcIiArIFN0cmluZyhtb2RpZmllci5yZXF1aXJlc0lmRXhpc3RzKSArIFwiXFxcIlwiKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnb3B0aW9ucyc6XG4gICAgICAgIGNhc2UgJ2RhdGEnOlxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIlBvcHBlckpTOiBhbiBpbnZhbGlkIHByb3BlcnR5IGhhcyBiZWVuIHByb3ZpZGVkIHRvIHRoZSBcXFwiXCIgKyBtb2RpZmllci5uYW1lICsgXCJcXFwiIG1vZGlmaWVyLCB2YWxpZCBwcm9wZXJ0aWVzIGFyZSBcIiArIFZBTElEX1BST1BFUlRJRVMubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcXFwiXCIgKyBzICsgXCJcXFwiXCI7XG4gICAgICAgICAgfSkuam9pbignLCAnKSArIFwiOyBidXQgXFxcIlwiICsga2V5ICsgXCJcXFwiIHdhcyBwcm92aWRlZC5cIik7XG4gICAgICB9XG5cbiAgICAgIG1vZGlmaWVyLnJlcXVpcmVzICYmIG1vZGlmaWVyLnJlcXVpcmVzLmZvckVhY2goZnVuY3Rpb24gKHJlcXVpcmVtZW50KSB7XG4gICAgICAgIGlmIChtb2RpZmllcnMuZmluZChmdW5jdGlvbiAobW9kKSB7XG4gICAgICAgICAgcmV0dXJuIG1vZC5uYW1lID09PSByZXF1aXJlbWVudDtcbiAgICAgICAgfSkgPT0gbnVsbCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZm9ybWF0KE1JU1NJTkdfREVQRU5ERU5DWV9FUlJPUiwgU3RyaW5nKG1vZGlmaWVyLm5hbWUpLCByZXF1aXJlbWVudCwgcmVxdWlyZW1lbnQpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufSIsImltcG9ydCB7IG1heCBhcyBtYXRoTWF4LCBtaW4gYXMgbWF0aE1pbiB9IGZyb20gXCIuL21hdGguanNcIjtcbmV4cG9ydCBmdW5jdGlvbiB3aXRoaW4obWluLCB2YWx1ZSwgbWF4KSB7XG4gIHJldHVybiBtYXRoTWF4KG1pbiwgbWF0aE1pbih2YWx1ZSwgbWF4KSk7XG59XG5leHBvcnQgZnVuY3Rpb24gd2l0aGluTWF4Q2xhbXAobWluLCB2YWx1ZSwgbWF4KSB7XG4gIHZhciB2ID0gd2l0aGluKG1pbiwgdmFsdWUsIG1heCk7XG4gIHJldHVybiB2ID4gbWF4ID8gbWF4IDogdjtcbn0iLCIhZnVuY3Rpb24odCl7dmFyIGU9e307ZnVuY3Rpb24gcyhpKXtpZihlW2ldKXJldHVybiBlW2ldLmV4cG9ydHM7dmFyIG89ZVtpXT17aTppLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIHRbaV0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMscyksby5sPSEwLG8uZXhwb3J0c31zLm09dCxzLmM9ZSxzLmQ9ZnVuY3Rpb24odCxlLGkpe3Mubyh0LGUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHtlbnVtZXJhYmxlOiEwLGdldDppfSl9LHMucj1mdW5jdGlvbih0KXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxzLnQ9ZnVuY3Rpb24odCxlKXtpZigxJmUmJih0PXModCkpLDgmZSlyZXR1cm4gdDtpZig0JmUmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGk9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihzLnIoaSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImZSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQpZm9yKHZhciBvIGluIHQpcy5kKGksbyxmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0uYmluZChudWxsLG8pKTtyZXR1cm4gaX0scy5uPWZ1bmN0aW9uKHQpe3ZhciBlPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiBzLmQoZSxcImFcIixlKSxlfSxzLm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LHMucD1cIlwiLHMocy5zPTApfShbZnVuY3Rpb24odCxlLHMpe1widXNlIHN0cmljdFwiO3MucihlKSxzLmQoZSxcIkF1dG9Db21wbGV0ZVwiLChmdW5jdGlvbigpe3JldHVybiBhfSkpO3ZhciBpLG89KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIHMgaW4gZSllLmhhc093blByb3BlcnR5KHMpJiYodFtzXT1lW3NdKX0pKHQsZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gcygpe3RoaXMuY29uc3RydWN0b3I9dH1pKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToocy5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IHMpfSksbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbyhlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRzPWZ1bmN0aW9uKCl7cmV0dXJue3VybDpcIlwiLG1ldGhvZDpcImdldFwiLHF1ZXJ5S2V5OlwicVwiLGV4dHJhRGF0YTp7fSx0aW1lb3V0OnZvaWQgMCxyZXF1ZXN0VGhyb3R0bGluZzo1MDB9fSxlLnByb3RvdHlwZS5zZWFyY2g9ZnVuY3Rpb24odCxlKXt2YXIgcz10aGlzO251bGwhPXRoaXMuanFYSFImJnRoaXMuanFYSFIuYWJvcnQoKTt2YXIgaT17fTtpW3RoaXMuX3NldHRpbmdzLnF1ZXJ5S2V5XT10LCQuZXh0ZW5kKGksdGhpcy5fc2V0dGluZ3MuZXh0cmFEYXRhKSx0aGlzLnJlcXVlc3RUSUQmJndpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5yZXF1ZXN0VElEKSx0aGlzLnJlcXVlc3RUSUQ9d2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cy5qcVhIUj0kLmFqYXgocy5fc2V0dGluZ3MudXJsLHttZXRob2Q6cy5fc2V0dGluZ3MubWV0aG9kLGRhdGE6aSx0aW1lb3V0OnMuX3NldHRpbmdzLnRpbWVvdXR9KSxzLmpxWEhSLmRvbmUoKGZ1bmN0aW9uKHQpe2UodCl9KSkscy5qcVhIUi5mYWlsKChmdW5jdGlvbih0KXt2YXIgZTtudWxsPT09KGU9cy5fc2V0dGluZ3MpfHx2b2lkIDA9PT1lfHxlLmZhaWwodCl9KSkscy5qcVhIUi5hbHdheXMoKGZ1bmN0aW9uKCl7cy5qcVhIUj1udWxsfSkpfSksdGhpcy5fc2V0dGluZ3MucmVxdWVzdFRocm90dGxpbmcpfSxlfShmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fc2V0dGluZ3M9JC5leHRlbmQoITAse30sdGhpcy5nZXREZWZhdWx0cygpLHQpfXJldHVybiB0LnByb3RvdHlwZS5nZXREZWZhdWx0cz1mdW5jdGlvbigpe3JldHVybnt9fSx0LnByb3RvdHlwZS5nZXRSZXN1bHRzPWZ1bmN0aW9uKHQsZSxzKXtyZXR1cm4gdGhpcy5yZXN1bHRzfSx0LnByb3RvdHlwZS5zZWFyY2g9ZnVuY3Rpb24odCxlKXtlKHRoaXMuZ2V0UmVzdWx0cygpKX0sdH0oKSkscj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLHMsaSl7dGhpcy5pbml0aWFsaXplZD0hMSx0aGlzLnNob3duPSExLHRoaXMuaXRlbXM9W10sdGhpcy5kZE1vdXNlb3Zlcj0hMSx0aGlzLl8kZWw9dCx0aGlzLmZvcm1hdEl0ZW09ZSx0aGlzLmF1dG9TZWxlY3Q9cyx0aGlzLm5vUmVzdWx0c1RleHQ9aX1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT0kLmV4dGVuZCh7fSx0aGlzLl8kZWwucG9zaXRpb24oKSx7aGVpZ2h0OnRoaXMuXyRlbFswXS5vZmZzZXRIZWlnaHR9KTt0aGlzLl9kZD0kKFwiPHVsIC8+XCIpLHRoaXMuX2RkLmFkZENsYXNzKFwiYm9vdHN0cmFwLWF1dG9jb21wbGV0ZSBkcm9wZG93bi1tZW51XCIpLHRoaXMuX2RkLmluc2VydEFmdGVyKHRoaXMuXyRlbCksdGhpcy5fZGQuY3NzKHt0b3A6ZS50b3ArdGhpcy5fJGVsLm91dGVySGVpZ2h0KCksbGVmdDplLmxlZnQsd2lkdGg6dGhpcy5fJGVsLm91dGVyV2lkdGgoKX0pLHRoaXMuX2RkLm9uKFwiY2xpY2tcIixcImxpXCIsKGZ1bmN0aW9uKGUpe3ZhciBzPSQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKFwiaXRlbVwiKTt0Lml0ZW1TZWxlY3RlZExhdW5jaEV2ZW50KHMpfSkpLHRoaXMuX2RkLm9uKFwia2V5dXBcIiwoZnVuY3Rpb24oZSl7aWYodC5zaG93bil7c3dpdGNoKGUud2hpY2gpe2Nhc2UgMjc6dC5oaWRlKCksdC5fJGVsLmZvY3VzKCl9cmV0dXJuITF9fSkpLHRoaXMuX2RkLm9uKFwibW91c2VlbnRlclwiLChmdW5jdGlvbihlKXt0LmRkTW91c2VvdmVyPSEwfSkpLHRoaXMuX2RkLm9uKFwibW91c2VsZWF2ZVwiLChmdW5jdGlvbihlKXt0LmRkTW91c2VvdmVyPSExfSkpLHRoaXMuX2RkLm9uKFwibW91c2VlbnRlclwiLFwibGlcIiwoZnVuY3Rpb24oZSl7dC5oYXZlUmVzdWx0cyYmKCQoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KFwidWxcIikuZmluZChcImxpLmFjdGl2ZVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKSwkKGUuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoXCJhY3RpdmVcIiksdC5tb3VzZW92ZXI9ITApfSkpLHRoaXMuX2RkLm9uKFwibW91c2VsZWF2ZVwiLFwibGlcIiwoZnVuY3Rpb24oZSl7dC5tb3VzZW92ZXI9ITF9KSksdGhpcy5pbml0aWFsaXplZD0hMH0sdC5wcm90b3R5cGUuY2hlY2tJbml0aWFsaXplZD1mdW5jdGlvbigpe3RoaXMuaW5pdGlhbGl6ZWR8fHRoaXMuaW5pdCgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpc01vdXNlT3ZlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb3VzZW92ZXJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaXNEZE1vdXNlT3ZlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZE1vdXNlb3Zlcn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJoYXZlUmVzdWx0c1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVtcy5sZW5ndGg+MH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5mb2N1c05leHRJdGVtPWZ1bmN0aW9uKHQpe2lmKHRoaXMuaGF2ZVJlc3VsdHMpe3ZhciBlPXRoaXMuX2RkLmZpbmQoXCJsaS5hY3RpdmVcIikscz10P2UucHJldigpOmUubmV4dCgpOzA9PT1zLmxlbmd0aCYmKHM9dD90aGlzLl9kZC5maW5kKFwibGlcIikubGFzdCgpOnRoaXMuX2RkLmZpbmQoXCJsaVwiKS5maXJzdCgpKSxlLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLHMuYWRkQ2xhc3MoXCJhY3RpdmVcIil9fSx0LnByb3RvdHlwZS5mb2N1c1ByZXZpb3VzSXRlbT1mdW5jdGlvbigpe3RoaXMuZm9jdXNOZXh0SXRlbSghMCl9LHQucHJvdG90eXBlLnNlbGVjdEZvY3VzSXRlbT1mdW5jdGlvbigpe3RoaXMuX2RkLmZpbmQoXCJsaS5hY3RpdmVcIikudHJpZ2dlcihcImNsaWNrXCIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpc0l0ZW1Gb2N1c2VkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiEhKHRoaXMuaXNTaG93bigpJiZ0aGlzLl9kZC5maW5kKFwibGkuYWN0aXZlXCIpLmxlbmd0aD4wKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dGhpcy5zaG93bnx8KHRoaXMuX2RkLmRyb3Bkb3duKCkuc2hvdygpLHRoaXMuc2hvd249ITApfSx0LnByb3RvdHlwZS5pc1Nob3duPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2hvd259LHQucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLnNob3duJiYodGhpcy5fZGQuZHJvcGRvd24oKS5oaWRlKCksdGhpcy5zaG93bj0hMSl9LHQucHJvdG90eXBlLnVwZGF0ZUl0ZW1zPWZ1bmN0aW9uKHQsZSl7dGhpcy5pdGVtcz10LHRoaXMuc2VhcmNoVGV4dD1lLHRoaXMucmVmcmVzaEl0ZW1MaXN0KCl9LHQucHJvdG90eXBlLnNob3dNYXRjaGVkVGV4dD1mdW5jdGlvbih0LGUpe3ZhciBzPXQudG9Mb3dlckNhc2UoKS5pbmRleE9mKGUudG9Mb3dlckNhc2UoKSk7aWYocz4tMSl7dmFyIGk9cytlLmxlbmd0aDtyZXR1cm4gdC5zbGljZSgwLHMpK1wiPGI+XCIrdC5zbGljZShzLGkpK1wiPC9iPlwiK3Quc2xpY2UoaSl9cmV0dXJuIHR9LHQucHJvdG90eXBlLnJlZnJlc2hJdGVtTGlzdD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5jaGVja0luaXRpYWxpemVkKCksdGhpcy5fZGQuZW1wdHkoKTt2YXIgZT1bXTtpZih0aGlzLml0ZW1zLmxlbmd0aD4wKXRoaXMuaXRlbXMuZm9yRWFjaCgoZnVuY3Rpb24ocyl7dmFyIGksbyxuPXQuZm9ybWF0SXRlbShzKTtcInN0cmluZ1wiPT10eXBlb2YgbiYmKG49e3RleHQ6bn0pLGk9dC5zaG93TWF0Y2hlZFRleHQobi50ZXh0LHQuc2VhcmNoVGV4dCksbz12b2lkIDAhPT1uLmh0bWw/bi5odG1sOmk7dmFyIHI9bi5kaXNhYmxlZCxsPSQoXCI8bGkgPlwiKTtsLmFwcGVuZCgkKFwiPGE+XCIpLmF0dHIoXCJocmVmXCIsXCIjIVwiKS5odG1sKG8pKS5kYXRhKFwiaXRlbVwiLHMpLHImJmwuYWRkQ2xhc3MoXCJkaXNhYmxlZFwiKSxlLnB1c2gobCl9KSk7ZWxzZXt2YXIgcz0kKFwiPGxpID5cIik7cy5hcHBlbmQoJChcIjxhPlwiKS5hdHRyKFwiaHJlZlwiLFwiIyFcIikuaHRtbCh0aGlzLm5vUmVzdWx0c1RleHQpKS5hZGRDbGFzcyhcImRpc2FibGVkXCIpLGUucHVzaChzKX10aGlzLl9kZC5hcHBlbmQoZSl9LHQucHJvdG90eXBlLml0ZW1TZWxlY3RlZExhdW5jaEV2ZW50PWZ1bmN0aW9uKHQpe3RoaXMuXyRlbC50cmlnZ2VyKFwiYXV0b2NvbXBsZXRlLnNlbGVjdFwiLHQpfSx0fSgpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxzLGkpe3RoaXMuaW5pdGlhbGl6ZWQ9ITEsdGhpcy5zaG93bj0hMSx0aGlzLml0ZW1zPVtdLHRoaXMuZGRNb3VzZW92ZXI9ITEsdGhpcy5fJGVsPXQsdGhpcy5mb3JtYXRJdGVtPWUsdGhpcy5hdXRvU2VsZWN0PXMsdGhpcy5ub1Jlc3VsdHNUZXh0PWl9cmV0dXJuIHQucHJvdG90eXBlLmdldEVsUG9zPWZ1bmN0aW9uKCl7cmV0dXJuICQuZXh0ZW5kKHt9LHRoaXMuXyRlbC5wb3NpdGlvbigpLHtoZWlnaHQ6dGhpcy5fJGVsWzBdLm9mZnNldEhlaWdodH0pfSx0LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMuZ2V0RWxQb3MoKTt0aGlzLl9kZD0kKFwiPGRpdiAvPlwiKSx0aGlzLl9kZC5hZGRDbGFzcyhcImJvb3RzdHJhcC1hdXRvY29tcGxldGUgZHJvcGRvd24tbWVudVwiKSx0aGlzLl9kZC5pbnNlcnRBZnRlcih0aGlzLl8kZWwpLHRoaXMuX2RkLmNzcyh7dG9wOmUudG9wK3RoaXMuXyRlbC5vdXRlckhlaWdodCgpLGxlZnQ6ZS5sZWZ0LHdpZHRoOnRoaXMuXyRlbC5vdXRlcldpZHRoKCl9KSx0aGlzLl9kZC5vbihcImNsaWNrXCIsXCIuZHJvcGRvd24taXRlbVwiLChmdW5jdGlvbihlKXt2YXIgcz0kKGUuY3VycmVudFRhcmdldCkuZGF0YShcIml0ZW1cIik7dC5pdGVtU2VsZWN0ZWRMYXVuY2hFdmVudChzKSxlLnByZXZlbnREZWZhdWx0KCl9KSksdGhpcy5fZGQub24oXCJrZXl1cFwiLChmdW5jdGlvbihlKXtpZih0LnNob3duKXtzd2l0Y2goZS53aGljaCl7Y2FzZSAyNzp0LmhpZGUoKSx0Ll8kZWwuZm9jdXMoKX1yZXR1cm4hMX19KSksdGhpcy5fZGQub24oXCJtb3VzZWVudGVyXCIsKGZ1bmN0aW9uKGUpe3QuZGRNb3VzZW92ZXI9ITB9KSksdGhpcy5fZGQub24oXCJtb3VzZWxlYXZlXCIsKGZ1bmN0aW9uKGUpe3QuZGRNb3VzZW92ZXI9ITF9KSksdGhpcy5fZGQub24oXCJtb3VzZWVudGVyXCIsXCIuZHJvcGRvd24taXRlbVwiLChmdW5jdGlvbihlKXt0LmhhdmVSZXN1bHRzJiYoJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoXCJkaXZcIikuZmluZChcIi5kcm9wZG93bi1pdGVtLmFjdGl2ZVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKSwkKGUuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoXCJhY3RpdmVcIiksdC5tb3VzZW92ZXI9ITApfSkpLHRoaXMuX2RkLm9uKFwibW91c2VsZWF2ZVwiLFwiLmRyb3Bkb3duLWl0ZW1cIiwoZnVuY3Rpb24oZSl7dC5tb3VzZW92ZXI9ITF9KSksdGhpcy5pbml0aWFsaXplZD0hMH0sdC5wcm90b3R5cGUuY2hlY2tJbml0aWFsaXplZD1mdW5jdGlvbigpe3RoaXMuaW5pdGlhbGl6ZWR8fHRoaXMuaW5pdCgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpc01vdXNlT3ZlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb3VzZW92ZXJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaXNEZE1vdXNlT3ZlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZE1vdXNlb3Zlcn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJoYXZlUmVzdWx0c1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVtcy5sZW5ndGg+MH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5mb2N1c05leHRJdGVtPWZ1bmN0aW9uKHQpe2lmKHRoaXMuaGF2ZVJlc3VsdHMpe3ZhciBlPXRoaXMuX2RkLmZpbmQoXCIuZHJvcGRvd24taXRlbS5hY3RpdmVcIikscz10P2UucHJldigpOmUubmV4dCgpOzA9PT1zLmxlbmd0aCYmKHM9dD90aGlzLl9kZC5maW5kKFwiLmRyb3Bkb3duLWl0ZW1cIikubGFzdCgpOnRoaXMuX2RkLmZpbmQoXCIuZHJvcGRvd24taXRlbVwiKS5maXJzdCgpKSxlLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLHMuYWRkQ2xhc3MoXCJhY3RpdmVcIil9fSx0LnByb3RvdHlwZS5mb2N1c1ByZXZpb3VzSXRlbT1mdW5jdGlvbigpe3RoaXMuZm9jdXNOZXh0SXRlbSghMCl9LHQucHJvdG90eXBlLnNlbGVjdEZvY3VzSXRlbT1mdW5jdGlvbigpe3RoaXMuX2RkLmZpbmQoXCIuZHJvcGRvd24taXRlbS5hY3RpdmVcIikudHJpZ2dlcihcImNsaWNrXCIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpc0l0ZW1Gb2N1c2VkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiEhKHRoaXMuX2RkJiZ0aGlzLmlzU2hvd24oKSYmdGhpcy5fZGQuZmluZChcIi5kcm9wZG93bi1pdGVtLmFjdGl2ZVwiKS5sZW5ndGg+MCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe2lmKCF0aGlzLnNob3duKXt0aGlzLmdldEVsUG9zKCk7dGhpcy5fZGQuYWRkQ2xhc3MoXCJzaG93XCIpLHRoaXMuc2hvd249ITAsdGhpcy5fJGVsLnRyaWdnZXIoXCJhdXRvY29tcGxldGUuZGQuc2hvd25cIil9fSx0LnByb3RvdHlwZS5pc1Nob3duPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2hvd259LHQucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLnNob3duJiYodGhpcy5fZGQucmVtb3ZlQ2xhc3MoXCJzaG93XCIpLHRoaXMuc2hvd249ITEsdGhpcy5fJGVsLnRyaWdnZXIoXCJhdXRvY29tcGxldGUuZGQuaGlkZGVuXCIpKX0sdC5wcm90b3R5cGUudXBkYXRlSXRlbXM9ZnVuY3Rpb24odCxlKXt0aGlzLml0ZW1zPXQsdGhpcy5zZWFyY2hUZXh0PWUsdGhpcy5yZWZyZXNoSXRlbUxpc3QoKX0sdC5wcm90b3R5cGUuc2hvd01hdGNoZWRUZXh0PWZ1bmN0aW9uKHQsZSl7dmFyIHM9dC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoZS50b0xvd2VyQ2FzZSgpKTtpZihzPi0xKXt2YXIgaT1zK2UubGVuZ3RoO3JldHVybiB0LnNsaWNlKDAscykrXCI8Yj5cIit0LnNsaWNlKHMsaSkrXCI8L2I+XCIrdC5zbGljZShpKX1yZXR1cm4gdH0sdC5wcm90b3R5cGUucmVmcmVzaEl0ZW1MaXN0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmNoZWNrSW5pdGlhbGl6ZWQoKSx0aGlzLl9kZC5lbXB0eSgpO3ZhciBlPVtdO2lmKHRoaXMuaXRlbXMubGVuZ3RoPjApdGhpcy5pdGVtcy5mb3JFYWNoKChmdW5jdGlvbihzKXt2YXIgaSxvLG49dC5mb3JtYXRJdGVtKHMpO1wic3RyaW5nXCI9PXR5cGVvZiBuJiYobj17dGV4dDpufSksaT10LnNob3dNYXRjaGVkVGV4dChuLnRleHQsdC5zZWFyY2hUZXh0KSxvPXZvaWQgMCE9PW4uaHRtbD9uLmh0bWw6aTt2YXIgcj1uLmRpc2FibGVkLGw9JChcIjxhID5cIik7bC5hZGRDbGFzcyhcImRyb3Bkb3duLWl0ZW1cIikuY3NzKHtvdmVyZmxvdzpcImhpZGRlblwiLFwidGV4dC1vdmVyZmxvd1wiOlwiZWxsaXBzaXNcIn0pLmh0bWwobykuZGF0YShcIml0ZW1cIixzKSxyJiZsLmFkZENsYXNzKFwiZGlzYWJsZWRcIiksZS5wdXNoKGwpfSkpLHRoaXMuX2RkLmFwcGVuZChlKSx0aGlzLnNob3coKTtlbHNlIGlmKFwiXCI9PT10aGlzLm5vUmVzdWx0c1RleHQpdGhpcy5oaWRlKCk7ZWxzZXt2YXIgcz0kKFwiPGEgPlwiKTtzLmFkZENsYXNzKFwiZHJvcGRvd24taXRlbSBkaXNhYmxlZFwiKS5odG1sKHRoaXMubm9SZXN1bHRzVGV4dCksZS5wdXNoKHMpLHRoaXMuX2RkLmFwcGVuZChlKSx0aGlzLnNob3coKX19LHQucHJvdG90eXBlLml0ZW1TZWxlY3RlZExhdW5jaEV2ZW50PWZ1bmN0aW9uKHQpe3RoaXMuXyRlbC50cmlnZ2VyKFwiYXV0b2NvbXBsZXRlLnNlbGVjdFwiLHQpfSx0fSgpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fc2VsZWN0ZWRJdGVtPW51bGwsdGhpcy5fZGVmYXVsdFZhbHVlPW51bGwsdGhpcy5fZGVmYXVsdFRleHQ9bnVsbCx0aGlzLl9pc1NlbGVjdEVsZW1lbnQ9ITEsdGhpcy5fc2V0dGluZ3M9e3Jlc29sdmVyOlwiYWpheFwiLHJlc29sdmVyU2V0dGluZ3M6e30sbWluTGVuZ3RoOjMsdmFsdWVLZXk6XCJ2YWx1ZVwiLGZvcm1hdFJlc3VsdDp0aGlzLmRlZmF1bHRGb3JtYXRSZXN1bHQsYXV0b1NlbGVjdDohMCxub1Jlc3VsdHNUZXh0OlwiTm8gcmVzdWx0c1wiLGJvb3RzdHJhcFZlcnNpb246XCJhdXRvXCIscHJldmVudEVudGVyOiExLGV2ZW50czp7dHlwZWQ6bnVsbCxzZWFyY2hQcmU6bnVsbCxzZWFyY2g6bnVsbCxzZWFyY2hQb3N0Om51bGwsc2VsZWN0Om51bGwsZm9jdXM6bnVsbH19LHRoaXMuX2VsPXQsdGhpcy5fJGVsPSQodGhpcy5fZWwpLHRoaXMuXyRlbC5pcyhcInNlbGVjdFwiKSYmKHRoaXMuX2lzU2VsZWN0RWxlbWVudD0hMCksdGhpcy5tYW5hZ2VJbmxpbmVEYXRhQXR0cmlidXRlcygpLFwib2JqZWN0XCI9PXR5cGVvZiBlJiYodGhpcy5fc2V0dGluZ3M9JC5leHRlbmQoITAse30sdGhpcy5nZXRTZXR0aW5ncygpLGUpKSx0aGlzLl9pc1NlbGVjdEVsZW1lbnQmJnRoaXMuY29udmVydFNlbGVjdFRvVGV4dCgpLHRoaXMuaW5pdCgpfXJldHVybiB0LnByb3RvdHlwZS5tYW5hZ2VJbmxpbmVEYXRhQXR0cmlidXRlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0U2V0dGluZ3MoKTt0aGlzLl8kZWwuZGF0YShcInVybFwiKSYmKHQucmVzb2x2ZXJTZXR0aW5ncy51cmw9dGhpcy5fJGVsLmRhdGEoXCJ1cmxcIikpLHRoaXMuXyRlbC5kYXRhKFwiZGVmYXVsdC12YWx1ZVwiKSYmKHRoaXMuX2RlZmF1bHRWYWx1ZT10aGlzLl8kZWwuZGF0YShcImRlZmF1bHQtdmFsdWVcIikpLHRoaXMuXyRlbC5kYXRhKFwiZGVmYXVsdC10ZXh0XCIpJiYodGhpcy5fZGVmYXVsdFRleHQ9dGhpcy5fJGVsLmRhdGEoXCJkZWZhdWx0LXRleHRcIikpLHZvaWQgMCE9PXRoaXMuXyRlbC5kYXRhKFwibm9yZXN1bHRzLXRleHRcIikmJih0Lm5vUmVzdWx0c1RleHQ9dGhpcy5fJGVsLmRhdGEoXCJub3Jlc3VsdHMtdGV4dFwiKSl9LHQucHJvdG90eXBlLmdldFNldHRpbmdzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldHRpbmdzfSx0LnByb3RvdHlwZS5nZXRCb290c3RyYXBWZXJzaW9uPWZ1bmN0aW9uKCl7dmFyIHQ7XCJhdXRvXCI9PT10aGlzLl9zZXR0aW5ncy5ib290c3RyYXBWZXJzaW9uP3Q9JC5mbi5idXR0b24uQ29uc3RydWN0b3IuVkVSU0lPTi5zcGxpdChcIi5cIikubWFwKHBhcnNlSW50KTpcIjRcIj09PXRoaXMuX3NldHRpbmdzLmJvb3RzdHJhcFZlcnNpb24/dD1bNF06XCIzXCI9PT10aGlzLl9zZXR0aW5ncy5ib290c3RyYXBWZXJzaW9uP3Q9WzNdOihjb25zb2xlLmVycm9yKFwiSU5WQUxJRCB2YWx1ZSBmb3IgJ2Jvb3RzdHJhcFZlcnNpb24nIHNldHRpbmdzIHByb3BlcnR5OiBcIit0aGlzLl9zZXR0aW5ncy5ib290c3RyYXBWZXJzaW9uK1wiIGRlZmF1bHRpbmcgdG8gNFwiKSx0PVs0XSk7cmV0dXJuIHR9LHQucHJvdG90eXBlLmNvbnZlcnRTZWxlY3RUb1RleHQ9ZnVuY3Rpb24oKXt2YXIgZT0kKFwiPGlucHV0PlwiKTtlLmF0dHIoXCJ0eXBlXCIsXCJoaWRkZW5cIiksZS5hdHRyKFwibmFtZVwiLHRoaXMuXyRlbC5hdHRyKFwibmFtZVwiKSksdGhpcy5fZGVmYXVsdFZhbHVlJiZlLnZhbCh0aGlzLl9kZWZhdWx0VmFsdWUpLHRoaXMuX3NlbGVjdEhpZGRlbkZpZWxkPWUsZS5pbnNlcnRBZnRlcih0aGlzLl8kZWwpO3ZhciBzPSQoXCI8aW5wdXQ+XCIpO3MuYXR0cihcInR5cGVcIixcInNlYXJjaFwiKSxzLmF0dHIoXCJuYW1lXCIsdGhpcy5fJGVsLmF0dHIoXCJuYW1lXCIpK1wiX3RleHRcIikscy5hdHRyKFwiaWRcIix0aGlzLl8kZWwuYXR0cihcImlkXCIpKSxzLmF0dHIoXCJkaXNhYmxlZFwiLHRoaXMuXyRlbC5hdHRyKFwiZGlzYWJsZWRcIikpLHMuYXR0cihcInBsYWNlaG9sZGVyXCIsdGhpcy5fJGVsLmF0dHIoXCJwbGFjZWhvbGRlclwiKSkscy5hdHRyKFwiYXV0b2NvbXBsZXRlXCIsXCJvZmZcIikscy5hZGRDbGFzcyh0aGlzLl8kZWwuYXR0cihcImNsYXNzXCIpKSx0aGlzLl9kZWZhdWx0VGV4dCYmcy52YWwodGhpcy5fZGVmYXVsdFRleHQpO3ZhciBpPXRoaXMuXyRlbC5hdHRyKFwicmVxdWlyZWRcIik7aSYmcy5hdHRyKFwicmVxdWlyZWRcIixpKSxzLmRhdGEodC5OQU1FLHRoaXMpLHRoaXMuXyRlbC5yZXBsYWNlV2l0aChzKSx0aGlzLl8kZWw9cyx0aGlzLl9lbD1zLmdldCgwKX0sdC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMuYmluZERlZmF1bHRFdmVudExpc3RlbmVycygpLFwiYWpheFwiPT09dGhpcy5fc2V0dGluZ3MucmVzb2x2ZXImJih0aGlzLnJlc29sdmVyPW5ldyBuKHRoaXMuX3NldHRpbmdzLnJlc29sdmVyU2V0dGluZ3MpKSw0PT09dGhpcy5nZXRCb290c3RyYXBWZXJzaW9uKClbMF0/dGhpcy5fZGQ9bmV3IGwodGhpcy5fJGVsLHRoaXMuX3NldHRpbmdzLmZvcm1hdFJlc3VsdCx0aGlzLl9zZXR0aW5ncy5hdXRvU2VsZWN0LHRoaXMuX3NldHRpbmdzLm5vUmVzdWx0c1RleHQpOnRoaXMuX2RkPW5ldyByKHRoaXMuXyRlbCx0aGlzLl9zZXR0aW5ncy5mb3JtYXRSZXN1bHQsdGhpcy5fc2V0dGluZ3MuYXV0b1NlbGVjdCx0aGlzLl9zZXR0aW5ncy5ub1Jlc3VsdHNUZXh0KX0sdC5wcm90b3R5cGUuYmluZERlZmF1bHRFdmVudExpc3RlbmVycz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fJGVsLm9uKFwia2V5ZG93blwiLChmdW5jdGlvbihlKXtzd2l0Y2goZS53aGljaCl7Y2FzZSA5OnQuX2RkLmlzSXRlbUZvY3VzZWQ/dC5fZGQuc2VsZWN0Rm9jdXNJdGVtKCk6dC5fc2VsZWN0ZWRJdGVtfHxcIlwiIT09dC5fJGVsLnZhbCgpJiZ0Ll8kZWwudHJpZ2dlcihcImF1dG9jb21wbGV0ZS5mcmVldmFsdWVcIix0Ll8kZWwudmFsKCkpLHQuX2RkLmhpZGUoKTticmVhaztjYXNlIDEzOnQuX2RkLmlzSXRlbUZvY3VzZWQ/dC5fZGQuc2VsZWN0Rm9jdXNJdGVtKCk6dC5fc2VsZWN0ZWRJdGVtfHxcIlwiIT09dC5fJGVsLnZhbCgpJiZ0Ll8kZWwudHJpZ2dlcihcImF1dG9jb21wbGV0ZS5mcmVldmFsdWVcIix0Ll8kZWwudmFsKCkpLHQuX2RkLmhpZGUoKSx0Ll9zZXR0aW5ncy5wcmV2ZW50RW50ZXImJmUucHJldmVudERlZmF1bHQoKTticmVhaztjYXNlIDQwOnQuX2RkLmZvY3VzTmV4dEl0ZW0oKTticmVhaztjYXNlIDM4OnQuX2RkLmZvY3VzUHJldmlvdXNJdGVtKCl9fSkpLHRoaXMuXyRlbC5vbihcImtleXVwXCIsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLndoaWNoKXtjYXNlIDE2OmNhc2UgMTc6Y2FzZSAxODpjYXNlIDM5OmNhc2UgMzc6Y2FzZSAzNjpjYXNlIDM1OmJyZWFrO2Nhc2UgMTM6Y2FzZSAyNzp0Ll9kZC5oaWRlKCk7YnJlYWs7Y2FzZSA0MDpjYXNlIDM4OmJyZWFrO2RlZmF1bHQ6dC5fc2VsZWN0ZWRJdGVtPW51bGw7dmFyIHM9dC5fJGVsLnZhbCgpO3QuaGFuZGxlclR5cGVkKHMpfX0pKSx0aGlzLl8kZWwub24oXCJibHVyXCIsKGZ1bmN0aW9uKGUpeyF0Ll9kZC5pc01vdXNlT3ZlciYmdC5fZGQuaXNEZE1vdXNlT3ZlciYmdC5fZGQuaXNTaG93bigpPyhzZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuXyRlbC5mb2N1cygpfSkpLHQuXyRlbC5mb2N1cygpKTp0Ll9kZC5pc01vdXNlT3Zlcnx8KHQuX2lzU2VsZWN0RWxlbWVudD90Ll9kZC5pc0l0ZW1Gb2N1c2VkP3QuX2RkLnNlbGVjdEZvY3VzSXRlbSgpOm51bGwhPT10Ll9zZWxlY3RlZEl0ZW0mJlwiXCIhPT10Ll8kZWwudmFsKCk/dC5fJGVsLnRyaWdnZXIoXCJhdXRvY29tcGxldGUuc2VsZWN0XCIsdC5fc2VsZWN0ZWRJdGVtKTpcIlwiIT09dC5fJGVsLnZhbCgpJiZudWxsIT09dC5fZGVmYXVsdFZhbHVlPyh0Ll8kZWwudmFsKHQuX2RlZmF1bHRUZXh0KSx0Ll9zZWxlY3RIaWRkZW5GaWVsZC52YWwodC5fZGVmYXVsdFZhbHVlKSx0Ll9zZWxlY3RlZEl0ZW09bnVsbCx0Ll8kZWwudHJpZ2dlcihcImF1dG9jb21wbGV0ZS5zZWxlY3RcIix0Ll9zZWxlY3RlZEl0ZW0pKToodC5fJGVsLnZhbChcIlwiKSx0Ll9zZWxlY3RIaWRkZW5GaWVsZC52YWwoXCJcIiksdC5fc2VsZWN0ZWRJdGVtPW51bGwsdC5fJGVsLnRyaWdnZXIoXCJhdXRvY29tcGxldGUuc2VsZWN0XCIsdC5fc2VsZWN0ZWRJdGVtKSk6bnVsbD09PXQuX3NlbGVjdGVkSXRlbSYmdC5fJGVsLnRyaWdnZXIoXCJhdXRvY29tcGxldGUuZnJlZXZhbHVlXCIsdC5fJGVsLnZhbCgpKSx0Ll9kZC5oaWRlKCkpfSkpLHRoaXMuXyRlbC5vbihcImF1dG9jb21wbGV0ZS5zZWxlY3RcIiwoZnVuY3Rpb24oZSxzKXt0Ll9zZWxlY3RlZEl0ZW09cyx0Lml0ZW1TZWxlY3RlZERlZmF1bHRIYW5kbGVyKHMpfSkpLHRoaXMuXyRlbC5vbihcInBhc3RlXCIsKGZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5fJGVsLnRyaWdnZXIoXCJrZXl1cFwiLGUpfSksMCl9KSl9LHQucHJvdG90eXBlLmhhbmRsZXJUeXBlZD1mdW5jdGlvbih0KXsobnVsbD09PXRoaXMuX3NldHRpbmdzLmV2ZW50cy50eXBlZHx8KHQ9dGhpcy5fc2V0dGluZ3MuZXZlbnRzLnR5cGVkKHQsdGhpcy5fJGVsKSkpJiYodC5sZW5ndGg+PXRoaXMuX3NldHRpbmdzLm1pbkxlbmd0aD8odGhpcy5fc2VhcmNoVGV4dD10LHRoaXMuaGFuZGxlclByZVNlYXJjaCgpKTp0aGlzLl9kZC5oaWRlKCkpfSx0LnByb3RvdHlwZS5oYW5kbGVyUHJlU2VhcmNoPWZ1bmN0aW9uKCl7aWYobnVsbCE9PXRoaXMuX3NldHRpbmdzLmV2ZW50cy5zZWFyY2hQcmUpe3ZhciB0PXRoaXMuX3NldHRpbmdzLmV2ZW50cy5zZWFyY2hQcmUodGhpcy5fc2VhcmNoVGV4dCx0aGlzLl8kZWwpO2lmKCF0KXJldHVybjt0aGlzLl9zZWFyY2hUZXh0PXR9dGhpcy5oYW5kbGVyRG9TZWFyY2goKX0sdC5wcm90b3R5cGUuaGFuZGxlckRvU2VhcmNoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztudWxsIT09dGhpcy5fc2V0dGluZ3MuZXZlbnRzLnNlYXJjaD90aGlzLl9zZXR0aW5ncy5ldmVudHMuc2VhcmNoKHRoaXMuX3NlYXJjaFRleHQsKGZ1bmN0aW9uKGUpe3QucG9zdFNlYXJjaENhbGxiYWNrKGUpfSksdGhpcy5fJGVsKTp0aGlzLnJlc29sdmVyJiZ0aGlzLnJlc29sdmVyLnNlYXJjaCh0aGlzLl9zZWFyY2hUZXh0LChmdW5jdGlvbihlKXt0LnBvc3RTZWFyY2hDYWxsYmFjayhlKX0pKX0sdC5wcm90b3R5cGUucG9zdFNlYXJjaENhbGxiYWNrPWZ1bmN0aW9uKHQpe3RoaXMuX3NldHRpbmdzLmV2ZW50cy5zZWFyY2hQb3N0JiZcImJvb2xlYW5cIj09dHlwZW9mKHQ9dGhpcy5fc2V0dGluZ3MuZXZlbnRzLnNlYXJjaFBvc3QodCx0aGlzLl8kZWwpKSYmIXR8fHRoaXMuaGFuZGxlclN0YXJ0U2hvdyh0KX0sdC5wcm90b3R5cGUuaGFuZGxlclN0YXJ0U2hvdz1mdW5jdGlvbih0KXt0aGlzLl9kZC51cGRhdGVJdGVtcyh0LHRoaXMuX3NlYXJjaFRleHQpfSx0LnByb3RvdHlwZS5pdGVtU2VsZWN0ZWREZWZhdWx0SGFuZGxlcj1mdW5jdGlvbih0KXtpZihudWxsIT10KXt2YXIgZT10aGlzLl9zZXR0aW5ncy5mb3JtYXRSZXN1bHQodCk7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXt0ZXh0OmV9KSx0aGlzLl8kZWwudmFsKGUudGV4dCksdGhpcy5faXNTZWxlY3RFbGVtZW50JiZ0aGlzLl9zZWxlY3RIaWRkZW5GaWVsZC52YWwoZS52YWx1ZSl9ZWxzZSB0aGlzLl8kZWwudmFsKFwiXCIpLHRoaXMuX2lzU2VsZWN0RWxlbWVudCYmdGhpcy5fc2VsZWN0SGlkZGVuRmllbGQudmFsKFwiXCIpO3RoaXMuX3NlbGVjdGVkSXRlbT10LHRoaXMuX2RkLmhpZGUoKX0sdC5wcm90b3R5cGUuZGVmYXVsdEZvcm1hdFJlc3VsdD1mdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD97dGV4dDp0fTp0LnRleHQ/dDp7dGV4dDp0LnRvU3RyaW5nKCl9fSx0LnByb3RvdHlwZS5tYW5hZ2VBUEk9ZnVuY3Rpb24odCxlKXtcInNldFwiPT09dD90aGlzLml0ZW1TZWxlY3RlZERlZmF1bHRIYW5kbGVyKGUpOlwiY2xlYXJcIj09PXQ/dGhpcy5pdGVtU2VsZWN0ZWREZWZhdWx0SGFuZGxlcihudWxsKTpcInNob3dcIj09PXQ/dGhpcy5fJGVsLnRyaWdnZXIoXCJrZXl1cFwiKTpcInVwZGF0ZVJlc29sdmVyXCI9PT10JiYodGhpcy5yZXNvbHZlcj1uZXcgbihlKSl9LHQuTkFNRT1cImF1dG9Db21wbGV0ZVwiLHR9KCk7IWZ1bmN0aW9uKHQsZSxzKXt0LmZuW2EuTkFNRV09ZnVuY3Rpb24oZSxzKXtyZXR1cm4gdGhpcy5lYWNoKChmdW5jdGlvbigpe3ZhciBpOyhpPXQodGhpcykuZGF0YShhLk5BTUUpKXx8KGk9bmV3IGEodGhpcyxlKSx0KHRoaXMpLmRhdGEoYS5OQU1FLGkpKSxpLm1hbmFnZUFQSShlLHMpfSkpfX0oalF1ZXJ5LHdpbmRvdyxkb2N1bWVudCl9XSk7IiwiLyoqXG4gICogYm9vdHN0cmFwLXRhYmxlIC0gQW4gZXh0ZW5kZWQgdGFibGUgdG8gaW50ZWdyYXRpb24gd2l0aCBzb21lIG9mIHRoZSBtb3N0IHdpZGVseSB1c2VkIENTUyBmcmFtZXdvcmtzLiAoU3VwcG9ydHMgQm9vdHN0cmFwLCBTZW1hbnRpYyBVSSwgQnVsbWEsIE1hdGVyaWFsIERlc2lnbiwgRm91bmRhdGlvbilcbiAgKlxuICAqIEB2ZXJzaW9uIHYxLjIxLjJcbiAgKiBAaG9tZXBhZ2UgaHR0cHM6Ly9ib290c3RyYXAtdGFibGUuY29tXG4gICogQGF1dGhvciB3ZW56aGl4aW4gPHdlbnpoaXhpbjIwMTBAZ21haWwuY29tPiAoaHR0cDovL3dlbnpoaXhpbi5uZXQuY24vKVxuICAqIEBsaWNlbnNlIE1JVFxuICAqL1xuXG4hZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKHJlcXVpcmUoXCJqcXVlcnlcIikpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wianF1ZXJ5XCJdLGUpOih0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikuQm9vdHN0cmFwVGFibGU9ZSh0LmpRdWVyeSl9KHRoaXMsKGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUodCl7cmV0dXJuIHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZcImRlZmF1bHRcImluIHQ/dDp7ZGVmYXVsdDp0fX12YXIgaT1lKHQpO2Z1bmN0aW9uIG4odCl7cmV0dXJuIG49XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sbih0KX1mdW5jdGlvbiBvKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBhKHQsZSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBuPWVbaV07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1mdW5jdGlvbiByKHQsZSxpKXtyZXR1cm4gZSYmYSh0LnByb3RvdHlwZSxlKSxpJiZhKHQsaSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fWZ1bmN0aW9uIHModCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdH0odCl8fGZ1bmN0aW9uKHQsZSl7dmFyIGk9bnVsbD09dD9udWxsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXXx8dFtcIkBAaXRlcmF0b3JcIl07aWYobnVsbD09aSlyZXR1cm47dmFyIG4sbyxhPVtdLHI9ITAscz0hMTt0cnl7Zm9yKGk9aS5jYWxsKHQpOyEocj0obj1pLm5leHQoKSkuZG9uZSkmJihhLnB1c2gobi52YWx1ZSksIWV8fGEubGVuZ3RoIT09ZSk7cj0hMCk7fWNhdGNoKHQpe3M9ITAsbz10fWZpbmFsbHl7dHJ5e3J8fG51bGw9PWkucmV0dXJufHxpLnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBvfX1yZXR1cm4gYX0odCxlKXx8Yyh0LGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gbCh0KXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gaCh0KX0odCl8fGZ1bmN0aW9uKHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPXRbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9dFtcIkBAaXRlcmF0b3JcIl0pcmV0dXJuIEFycmF5LmZyb20odCl9KHQpfHxjKHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIGModCxlKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gaCh0LGUpO3ZhciBpPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09aSYmdC5jb25zdHJ1Y3RvciYmKGk9dC5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09aXx8XCJTZXRcIj09PWk/QXJyYXkuZnJvbSh0KTpcIkFyZ3VtZW50c1wiPT09aXx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QoaSk/aCh0LGUpOnZvaWQgMH19ZnVuY3Rpb24gaCh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgaT0wLG49bmV3IEFycmF5KGUpO2k8ZTtpKyspbltpXT10W2ldO3JldHVybiBufWZ1bmN0aW9uIHUodCxlKXt2YXIgaT1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZ0W1N5bWJvbC5pdGVyYXRvcl18fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKCFpKXtpZihBcnJheS5pc0FycmF5KHQpfHwoaT1jKHQpKXx8ZSYmdCYmXCJudW1iZXJcIj09dHlwZW9mIHQubGVuZ3RoKXtpJiYodD1pKTt2YXIgbj0wLG89ZnVuY3Rpb24oKXt9O3JldHVybntzOm8sbjpmdW5jdGlvbigpe3JldHVybiBuPj10Lmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6dFtuKytdfX0sZTpmdW5jdGlvbih0KXt0aHJvdyB0fSxmOm99fXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX12YXIgYSxyPSEwLHM9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtpPWkuY2FsbCh0KX0sbjpmdW5jdGlvbigpe3ZhciB0PWkubmV4dCgpO3JldHVybiByPXQuZG9uZSx0fSxlOmZ1bmN0aW9uKHQpe3M9ITAsYT10fSxmOmZ1bmN0aW9uKCl7dHJ5e3J8fG51bGw9PWkucmV0dXJufHxpLnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBhfX19fXZhciBkPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp7fSxmPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lk1hdGg9PU1hdGgmJnR9LHA9ZihcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcyl8fGYoXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmd2luZG93KXx8ZihcIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZil8fGYoXCJvYmplY3RcIj09dHlwZW9mIGQmJmQpfHxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCksZz17fSx2PWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4hIXQoKX1jYXRjaCh0KXtyZXR1cm4hMH19LGI9IXYoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwxLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KVsxXX0pKSxtPSF2KChmdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKCl7fS5iaW5kKCk7cmV0dXJuXCJmdW5jdGlvblwiIT10eXBlb2YgdHx8dC5oYXNPd25Qcm9wZXJ0eShcInByb3RvdHlwZVwiKX0pKSx5PW0sdz1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxTPXk/dy5iaW5kKHcpOmZ1bmN0aW9uKCl7cmV0dXJuIHcuYXBwbHkodyxhcmd1bWVudHMpfSx4PXt9LGs9e30ucHJvcGVydHlJc0VudW1lcmFibGUsTz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLEM9TyYmIWsuY2FsbCh7MToyfSwxKTt4LmY9Qz9mdW5jdGlvbih0KXt2YXIgZT1PKHRoaXMsdCk7cmV0dXJuISFlJiZlLmVudW1lcmFibGV9Oms7dmFyIFQsSSxQPWZ1bmN0aW9uKHQsZSl7cmV0dXJue2VudW1lcmFibGU6ISgxJnQpLGNvbmZpZ3VyYWJsZTohKDImdCksd3JpdGFibGU6ISg0JnQpLHZhbHVlOmV9fSxBPW0sJD1GdW5jdGlvbi5wcm90b3R5cGUsUj0kLmNhbGwsRT1BJiYkLmJpbmQuYmluZChSLFIpLGo9ZnVuY3Rpb24odCl7cmV0dXJuIEE/RSh0KTpmdW5jdGlvbigpe3JldHVybiBSLmFwcGx5KHQsYXJndW1lbnRzKX19LEY9aixfPUYoe30udG9TdHJpbmcpLEQ9RihcIlwiLnNsaWNlKSxOPWZ1bmN0aW9uKHQpe3JldHVybiBEKF8odCksOCwtMSl9LFY9TixCPWosTD1mdW5jdGlvbih0KXtpZihcIkZ1bmN0aW9uXCI9PT1WKHQpKXJldHVybiBCKHQpfSxIPXYsTT1OLFU9T2JqZWN0LHo9TChcIlwiLnNwbGl0KSxxPUgoKGZ1bmN0aW9uKCl7cmV0dXJuIVUoXCJ6XCIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApfSkpP2Z1bmN0aW9uKHQpe3JldHVyblwiU3RyaW5nXCI9PU0odCk/eih0LFwiXCIpOlUodCl9OlUsVz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dH0sRz1XLEs9VHlwZUVycm9yLFk9ZnVuY3Rpb24odCl7aWYoRyh0KSl0aHJvdyBLKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gXCIrdCk7cmV0dXJuIHR9LEo9cSxYPVksUT1mdW5jdGlvbih0KXtyZXR1cm4gSihYKHQpKX0sWj1cIm9iamVjdFwiPT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50LmFsbCx0dD17YWxsOlosSVNfSFRNTEREQTp2b2lkIDA9PT1aJiZ2b2lkIDAhPT1afSxldD10dC5hbGwsaXQ9dHQuSVNfSFRNTEREQT9mdW5jdGlvbih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0fHx0PT09ZXR9OmZ1bmN0aW9uKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHR9LG50PWl0LG90PXR0LmFsbCxhdD10dC5JU19IVE1MRERBP2Z1bmN0aW9uKHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0P251bGwhPT10Om50KHQpfHx0PT09b3R9OmZ1bmN0aW9uKHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0P251bGwhPT10Om50KHQpfSxydD1wLHN0PWl0LGx0PWZ1bmN0aW9uKHQpe3JldHVybiBzdCh0KT90OnZvaWQgMH0sY3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyP2x0KHJ0W3RdKTpydFt0XSYmcnRbdF1bZV19LGh0PUwoe30uaXNQcm90b3R5cGVPZiksdXQ9Y3QoXCJuYXZpZ2F0b3JcIixcInVzZXJBZ2VudFwiKXx8XCJcIixkdD1wLGZ0PXV0LHB0PWR0LnByb2Nlc3MsZ3Q9ZHQuRGVubyx2dD1wdCYmcHQudmVyc2lvbnN8fGd0JiZndC52ZXJzaW9uLGJ0PXZ0JiZ2dC52ODtidCYmKEk9KFQ9YnQuc3BsaXQoXCIuXCIpKVswXT4wJiZUWzBdPDQ/MTorKFRbMF0rVFsxXSkpLCFJJiZmdCYmKCEoVD1mdC5tYXRjaCgvRWRnZVxcLyhcXGQrKS8pKXx8VFsxXT49NzQpJiYoVD1mdC5tYXRjaCgvQ2hyb21lXFwvKFxcZCspLykpJiYoST0rVFsxXSk7dmFyIG10PUkseXQ9bXQsd3Q9dixTdD0hIU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMmJiF3dCgoZnVuY3Rpb24oKXt2YXIgdD1TeW1ib2woKTtyZXR1cm4hU3RyaW5nKHQpfHwhKE9iamVjdCh0KWluc3RhbmNlb2YgU3ltYm9sKXx8IVN5bWJvbC5zaGFtJiZ5dCYmeXQ8NDF9KSkseHQ9U3QmJiFTeW1ib2wuc2hhbSYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcixrdD1jdCxPdD1pdCxDdD1odCxUdD1PYmplY3QsSXQ9eHQ/ZnVuY3Rpb24odCl7cmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3ZhciBlPWt0KFwiU3ltYm9sXCIpO3JldHVybiBPdChlKSYmQ3QoZS5wcm90b3R5cGUsVHQodCkpfSxQdD1TdHJpbmcsQXQ9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBQdCh0KX1jYXRjaCh0KXtyZXR1cm5cIk9iamVjdFwifX0sJHQ9aXQsUnQ9QXQsRXQ9VHlwZUVycm9yLGp0PWZ1bmN0aW9uKHQpe2lmKCR0KHQpKXJldHVybiB0O3Rocm93IEV0KFJ0KHQpK1wiIGlzIG5vdCBhIGZ1bmN0aW9uXCIpfSxGdD1qdCxfdD1XLER0PWZ1bmN0aW9uKHQsZSl7dmFyIGk9dFtlXTtyZXR1cm4gX3QoaSk/dm9pZCAwOkZ0KGkpfSxOdD1TLFZ0PWl0LEJ0PWF0LEx0PVR5cGVFcnJvcixIdD17ZXhwb3J0czp7fX0sTXQ9cCxVdD1PYmplY3QuZGVmaW5lUHJvcGVydHksenQ9ZnVuY3Rpb24odCxlKXt0cnl7VXQoTXQsdCx7dmFsdWU6ZSxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KX1jYXRjaChpKXtNdFt0XT1lfXJldHVybiBlfSxxdD16dCxXdD1cIl9fY29yZS1qc19zaGFyZWRfX1wiLEd0PXBbV3RdfHxxdChXdCx7fSksS3Q9R3Q7KEh0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gS3RbdF18fChLdFt0XT12b2lkIDAhPT1lP2U6e30pfSkoXCJ2ZXJzaW9uc1wiLFtdKS5wdXNoKHt2ZXJzaW9uOlwiMy4yNS41XCIsbW9kZTpcImdsb2JhbFwiLGNvcHlyaWdodDpcIsKpIDIwMTQtMjAyMiBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KVwiLGxpY2Vuc2U6XCJodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9ibG9iL3YzLjI1LjUvTElDRU5TRVwiLHNvdXJjZTpcImh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzXCJ9KTt2YXIgWXQ9WSxKdD1PYmplY3QsWHQ9ZnVuY3Rpb24odCl7cmV0dXJuIEp0KFl0KHQpKX0sUXQ9WHQsWnQ9TCh7fS5oYXNPd25Qcm9wZXJ0eSksdGU9T2JqZWN0Lmhhc093bnx8ZnVuY3Rpb24odCxlKXtyZXR1cm4gWnQoUXQodCksZSl9LGVlPUwsaWU9MCxuZT1NYXRoLnJhbmRvbSgpLG9lPWVlKDEuLnRvU3RyaW5nKSxhZT1mdW5jdGlvbih0KXtyZXR1cm5cIlN5bWJvbChcIisodm9pZCAwPT09dD9cIlwiOnQpK1wiKV9cIitvZSgrK2llK25lLDM2KX0scmU9cCxzZT1IdC5leHBvcnRzLGxlPXRlLGNlPWFlLGhlPVN0LHVlPXh0LGRlPXNlKFwid2tzXCIpLGZlPXJlLlN5bWJvbCxwZT1mZSYmZmUuZm9yLGdlPXVlP2ZlOmZlJiZmZS53aXRob3V0U2V0dGVyfHxjZSx2ZT1mdW5jdGlvbih0KXtpZighbGUoZGUsdCl8fCFoZSYmXCJzdHJpbmdcIiE9dHlwZW9mIGRlW3RdKXt2YXIgZT1cIlN5bWJvbC5cIit0O2hlJiZsZShmZSx0KT9kZVt0XT1mZVt0XTpkZVt0XT11ZSYmcGU/cGUoZSk6Z2UoZSl9cmV0dXJuIGRlW3RdfSxiZT1TLG1lPWF0LHllPUl0LHdlPUR0LFNlPWZ1bmN0aW9uKHQsZSl7dmFyIGksbjtpZihcInN0cmluZ1wiPT09ZSYmVnQoaT10LnRvU3RyaW5nKSYmIUJ0KG49TnQoaSx0KSkpcmV0dXJuIG47aWYoVnQoaT10LnZhbHVlT2YpJiYhQnQobj1OdChpLHQpKSlyZXR1cm4gbjtpZihcInN0cmluZ1wiIT09ZSYmVnQoaT10LnRvU3RyaW5nKSYmIUJ0KG49TnQoaSx0KSkpcmV0dXJuIG47dGhyb3cgTHQoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIil9LHhlPVR5cGVFcnJvcixrZT12ZShcInRvUHJpbWl0aXZlXCIpLE9lPWZ1bmN0aW9uKHQsZSl7aWYoIW1lKHQpfHx5ZSh0KSlyZXR1cm4gdDt2YXIgaSxuPXdlKHQsa2UpO2lmKG4pe2lmKHZvaWQgMD09PWUmJihlPVwiZGVmYXVsdFwiKSxpPWJlKG4sdCxlKSwhbWUoaSl8fHllKGkpKXJldHVybiBpO3Rocm93IHhlKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfXJldHVybiB2b2lkIDA9PT1lJiYoZT1cIm51bWJlclwiKSxTZSh0LGUpfSxDZT1PZSxUZT1JdCxJZT1mdW5jdGlvbih0KXt2YXIgZT1DZSh0LFwic3RyaW5nXCIpO3JldHVybiBUZShlKT9lOmUrXCJcIn0sUGU9YXQsQWU9cC5kb2N1bWVudCwkZT1QZShBZSkmJlBlKEFlLmNyZWF0ZUVsZW1lbnQpLFJlPWZ1bmN0aW9uKHQpe3JldHVybiAkZT9BZS5jcmVhdGVFbGVtZW50KHQpOnt9fSxFZT1SZSxqZT0hYiYmIXYoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFZShcImRpdlwiKSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pKSxGZT1iLF9lPVMsRGU9eCxOZT1QLFZlPVEsQmU9SWUsTGU9dGUsSGU9amUsTWU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtnLmY9RmU/TWU6ZnVuY3Rpb24odCxlKXtpZih0PVZlKHQpLGU9QmUoZSksSGUpdHJ5e3JldHVybiBNZSh0LGUpfWNhdGNoKHQpe31pZihMZSh0LGUpKXJldHVybiBOZSghX2UoRGUuZix0LGUpLHRbZV0pfTt2YXIgVWU9e30semU9YiYmdigoZnVuY3Rpb24oKXtyZXR1cm4gNDIhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSgoZnVuY3Rpb24oKXt9KSxcInByb3RvdHlwZVwiLHt2YWx1ZTo0Mix3cml0YWJsZTohMX0pLnByb3RvdHlwZX0pKSxxZT1hdCxXZT1TdHJpbmcsR2U9VHlwZUVycm9yLEtlPWZ1bmN0aW9uKHQpe2lmKHFlKHQpKXJldHVybiB0O3Rocm93IEdlKFdlKHQpK1wiIGlzIG5vdCBhbiBvYmplY3RcIil9LFllPWIsSmU9amUsWGU9emUsUWU9S2UsWmU9SWUsdGk9VHlwZUVycm9yLGVpPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxpaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLG5pPVwiZW51bWVyYWJsZVwiLG9pPVwiY29uZmlndXJhYmxlXCIsYWk9XCJ3cml0YWJsZVwiO1VlLmY9WWU/WGU/ZnVuY3Rpb24odCxlLGkpe2lmKFFlKHQpLGU9WmUoZSksUWUoaSksXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmXCJwcm90b3R5cGVcIj09PWUmJlwidmFsdWVcImluIGkmJmFpIGluIGkmJiFpLndyaXRhYmxlKXt2YXIgbj1paSh0LGUpO24mJm4ud3JpdGFibGUmJih0W2VdPWkudmFsdWUsaT17Y29uZmlndXJhYmxlOm9pIGluIGk/aS5jb25maWd1cmFibGU6bi5jb25maWd1cmFibGUsZW51bWVyYWJsZTpuaSBpbiBpP2kuZW51bWVyYWJsZTpuLmVudW1lcmFibGUsd3JpdGFibGU6ITF9KX1yZXR1cm4gZWkodCxlLGkpfTplaTpmdW5jdGlvbih0LGUsaSl7aWYoUWUodCksZT1aZShlKSxRZShpKSxKZSl0cnl7cmV0dXJuIGVpKHQsZSxpKX1jYXRjaCh0KXt9aWYoXCJnZXRcImluIGl8fFwic2V0XCJpbiBpKXRocm93IHRpKFwiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWRcIik7cmV0dXJuXCJ2YWx1ZVwiaW4gaSYmKHRbZV09aS52YWx1ZSksdH07dmFyIHJpPVVlLHNpPVAsbGk9Yj9mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHJpLmYodCxlLHNpKDEsaSkpfTpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRbZV09aSx0fSxjaT17ZXhwb3J0czp7fX0saGk9Yix1aT10ZSxkaT1GdW5jdGlvbi5wcm90b3R5cGUsZmk9aGkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IscGk9dWkoZGksXCJuYW1lXCIpLGdpPXtFWElTVFM6cGksUFJPUEVSOnBpJiZcInNvbWV0aGluZ1wiPT09ZnVuY3Rpb24oKXt9Lm5hbWUsQ09ORklHVVJBQkxFOnBpJiYoIWhpfHxoaSYmZmkoZGksXCJuYW1lXCIpLmNvbmZpZ3VyYWJsZSl9LHZpPWl0LGJpPUd0LG1pPUwoRnVuY3Rpb24udG9TdHJpbmcpO3ZpKGJpLmluc3BlY3RTb3VyY2UpfHwoYmkuaW5zcGVjdFNvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm4gbWkodCl9KTt2YXIgeWksd2ksU2kseGk9YmkuaW5zcGVjdFNvdXJjZSxraT1pdCxPaT1wLldlYWtNYXAsQ2k9a2koT2kpJiYvbmF0aXZlIGNvZGUvLnRlc3QoU3RyaW5nKE9pKSksVGk9SHQuZXhwb3J0cyxJaT1hZSxQaT1UaShcImtleXNcIiksQWk9ZnVuY3Rpb24odCl7cmV0dXJuIFBpW3RdfHwoUGlbdF09SWkodCkpfSwkaT17fSxSaT1DaSxFaT1wLGppPWF0LEZpPWxpLF9pPXRlLERpPUd0LE5pPUFpLFZpPSRpLEJpPVwiT2JqZWN0IGFscmVhZHkgaW5pdGlhbGl6ZWRcIixMaT1FaS5UeXBlRXJyb3IsSGk9RWkuV2Vha01hcDtpZihSaXx8RGkuc3RhdGUpe3ZhciBNaT1EaS5zdGF0ZXx8KERpLnN0YXRlPW5ldyBIaSk7TWkuZ2V0PU1pLmdldCxNaS5oYXM9TWkuaGFzLE1pLnNldD1NaS5zZXQseWk9ZnVuY3Rpb24odCxlKXtpZihNaS5oYXModCkpdGhyb3cgTGkoQmkpO3JldHVybiBlLmZhY2FkZT10LE1pLnNldCh0LGUpLGV9LHdpPWZ1bmN0aW9uKHQpe3JldHVybiBNaS5nZXQodCl8fHt9fSxTaT1mdW5jdGlvbih0KXtyZXR1cm4gTWkuaGFzKHQpfX1lbHNle3ZhciBVaT1OaShcInN0YXRlXCIpO1ZpW1VpXT0hMCx5aT1mdW5jdGlvbih0LGUpe2lmKF9pKHQsVWkpKXRocm93IExpKEJpKTtyZXR1cm4gZS5mYWNhZGU9dCxGaSh0LFVpLGUpLGV9LHdpPWZ1bmN0aW9uKHQpe3JldHVybiBfaSh0LFVpKT90W1VpXTp7fX0sU2k9ZnVuY3Rpb24odCl7cmV0dXJuIF9pKHQsVWkpfX12YXIgemk9e3NldDp5aSxnZXQ6d2ksaGFzOlNpLGVuZm9yY2U6ZnVuY3Rpb24odCl7cmV0dXJuIFNpKHQpP3dpKHQpOnlpKHQse30pfSxnZXR0ZXJGb3I6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBpO2lmKCFqaShlKXx8KGk9d2koZSkpLnR5cGUhPT10KXRocm93IExpKFwiSW5jb21wYXRpYmxlIHJlY2VpdmVyLCBcIit0K1wiIHJlcXVpcmVkXCIpO3JldHVybiBpfX19LHFpPXYsV2k9aXQsR2k9dGUsS2k9YixZaT1naS5DT05GSUdVUkFCTEUsSmk9eGksWGk9emkuZW5mb3JjZSxRaT16aS5nZXQsWmk9T2JqZWN0LmRlZmluZVByb3BlcnR5LHRuPUtpJiYhcWkoKGZ1bmN0aW9uKCl7cmV0dXJuIDghPT1aaSgoZnVuY3Rpb24oKXt9KSxcImxlbmd0aFwiLHt2YWx1ZTo4fSkubGVuZ3RofSkpLGVuPVN0cmluZyhTdHJpbmcpLnNwbGl0KFwiU3RyaW5nXCIpLG5uPWNpLmV4cG9ydHM9ZnVuY3Rpb24odCxlLGkpe1wiU3ltYm9sKFwiPT09U3RyaW5nKGUpLnNsaWNlKDAsNykmJihlPVwiW1wiK1N0cmluZyhlKS5yZXBsYWNlKC9eU3ltYm9sXFwoKFteKV0qKVxcKS8sXCIkMVwiKStcIl1cIiksaSYmaS5nZXR0ZXImJihlPVwiZ2V0IFwiK2UpLGkmJmkuc2V0dGVyJiYoZT1cInNldCBcIitlKSwoIUdpKHQsXCJuYW1lXCIpfHxZaSYmdC5uYW1lIT09ZSkmJihLaT9aaSh0LFwibmFtZVwiLHt2YWx1ZTplLGNvbmZpZ3VyYWJsZTohMH0pOnQubmFtZT1lKSx0biYmaSYmR2koaSxcImFyaXR5XCIpJiZ0Lmxlbmd0aCE9PWkuYXJpdHkmJlppKHQsXCJsZW5ndGhcIix7dmFsdWU6aS5hcml0eX0pO3RyeXtpJiZHaShpLFwiY29uc3RydWN0b3JcIikmJmkuY29uc3RydWN0b3I/S2kmJlppKHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KTp0LnByb3RvdHlwZSYmKHQucHJvdG90eXBlPXZvaWQgMCl9Y2F0Y2godCl7fXZhciBuPVhpKHQpO3JldHVybiBHaShuLFwic291cmNlXCIpfHwobi5zb3VyY2U9ZW4uam9pbihcInN0cmluZ1wiPT10eXBlb2YgZT9lOlwiXCIpKSx0fTtGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc9bm4oKGZ1bmN0aW9uKCl7cmV0dXJuIFdpKHRoaXMpJiZRaSh0aGlzKS5zb3VyY2V8fEppKHRoaXMpfSksXCJ0b1N0cmluZ1wiKTt2YXIgb249aXQsYW49VWUscm49Y2kuZXhwb3J0cyxzbj16dCxsbj1mdW5jdGlvbih0LGUsaSxuKXtufHwobj17fSk7dmFyIG89bi5lbnVtZXJhYmxlLGE9dm9pZCAwIT09bi5uYW1lP24ubmFtZTplO2lmKG9uKGkpJiZybihpLGEsbiksbi5nbG9iYWwpbz90W2VdPWk6c24oZSxpKTtlbHNle3RyeXtuLnVuc2FmZT90W2VdJiYobz0hMCk6ZGVsZXRlIHRbZV19Y2F0Y2godCl7fW8/dFtlXT1pOmFuLmYodCxlLHt2YWx1ZTppLGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiFuLm5vbkNvbmZpZ3VyYWJsZSx3cml0YWJsZTohbi5ub25Xcml0YWJsZX0pfXJldHVybiB0fSxjbj17fSxobj1NYXRoLmNlaWwsdW49TWF0aC5mbG9vcixkbj1NYXRoLnRydW5jfHxmdW5jdGlvbih0KXt2YXIgZT0rdDtyZXR1cm4oZT4wP3VuOmhuKShlKX0sZm49ZnVuY3Rpb24odCl7dmFyIGU9K3Q7cmV0dXJuIGUhPWV8fDA9PT1lPzA6ZG4oZSl9LHBuPWZuLGduPU1hdGgubWF4LHZuPU1hdGgubWluLGJuPWZ1bmN0aW9uKHQsZSl7dmFyIGk9cG4odCk7cmV0dXJuIGk8MD9nbihpK2UsMCk6dm4oaSxlKX0sbW49Zm4seW49TWF0aC5taW4sd249ZnVuY3Rpb24odCl7cmV0dXJuIHQ+MD95bihtbih0KSw5MDA3MTk5MjU0NzQwOTkxKTowfSxTbj13bix4bj1mdW5jdGlvbih0KXtyZXR1cm4gU24odC5sZW5ndGgpfSxrbj1RLE9uPWJuLENuPXhuLFRuPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLGksbil7dmFyIG8sYT1rbihlKSxyPUNuKGEpLHM9T24obixyKTtpZih0JiZpIT1pKXtmb3IoO3I+czspaWYoKG89YVtzKytdKSE9bylyZXR1cm4hMH1lbHNlIGZvcig7cj5zO3MrKylpZigodHx8cyBpbiBhKSYmYVtzXT09PWkpcmV0dXJuIHR8fHN8fDA7cmV0dXJuIXQmJi0xfX0sSW49e2luY2x1ZGVzOlRuKCEwKSxpbmRleE9mOlRuKCExKX0sUG49dGUsQW49USwkbj1Jbi5pbmRleE9mLFJuPSRpLEVuPUwoW10ucHVzaCksam49ZnVuY3Rpb24odCxlKXt2YXIgaSxuPUFuKHQpLG89MCxhPVtdO2ZvcihpIGluIG4pIVBuKFJuLGkpJiZQbihuLGkpJiZFbihhLGkpO2Zvcig7ZS5sZW5ndGg+bzspUG4obixpPWVbbysrXSkmJih+JG4oYSxpKXx8RW4oYSxpKSk7cmV0dXJuIGF9LEZuPVtcImNvbnN0cnVjdG9yXCIsXCJoYXNPd25Qcm9wZXJ0eVwiLFwiaXNQcm90b3R5cGVPZlwiLFwicHJvcGVydHlJc0VudW1lcmFibGVcIixcInRvTG9jYWxlU3RyaW5nXCIsXCJ0b1N0cmluZ1wiLFwidmFsdWVPZlwiXSxfbj1qbixEbj1Gbi5jb25jYXQoXCJsZW5ndGhcIixcInByb3RvdHlwZVwiKTtjbi5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbih0KXtyZXR1cm4gX24odCxEbil9O3ZhciBObj17fTtObi5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7dmFyIFZuPWN0LEJuPWNuLExuPU5uLEhuPUtlLE1uPUwoW10uY29uY2F0KSxVbj1WbihcIlJlZmxlY3RcIixcIm93bktleXNcIil8fGZ1bmN0aW9uKHQpe3ZhciBlPUJuLmYoSG4odCkpLGk9TG4uZjtyZXR1cm4gaT9NbihlLGkodCkpOmV9LHpuPXRlLHFuPVVuLFduPWcsR249VWUsS249dixZbj1pdCxKbj0vI3xcXC5wcm90b3R5cGVcXC4vLFhuPWZ1bmN0aW9uKHQsZSl7dmFyIGk9Wm5bUW4odCldO3JldHVybiBpPT1lb3x8aSE9dG8mJihZbihlKT9LbihlKTohIWUpfSxRbj1Ybi5ub3JtYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIFN0cmluZyh0KS5yZXBsYWNlKEpuLFwiLlwiKS50b0xvd2VyQ2FzZSgpfSxabj1Ybi5kYXRhPXt9LHRvPVhuLk5BVElWRT1cIk5cIixlbz1Ybi5QT0xZRklMTD1cIlBcIixpbz1Ybixubz1wLG9vPWcuZixhbz1saSxybz1sbixzbz16dCxsbz1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuPXFuKGUpLG89R24uZixhPVduLmYscj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgcz1uW3JdO3puKHQscyl8fGkmJnpuKGkscyl8fG8odCxzLGEoZSxzKSl9fSxjbz1pbyxobz1mdW5jdGlvbih0LGUpe3ZhciBpLG4sbyxhLHIscz10LnRhcmdldCxsPXQuZ2xvYmFsLGM9dC5zdGF0O2lmKGk9bD9ubzpjP25vW3NdfHxzbyhzLHt9KToobm9bc118fHt9KS5wcm90b3R5cGUpZm9yKG4gaW4gZSl7aWYoYT1lW25dLG89dC5kb250Q2FsbEdldFNldD8ocj1vbyhpLG4pKSYmci52YWx1ZTppW25dLCFjbyhsP246cysoYz9cIi5cIjpcIiNcIikrbix0LmZvcmNlZCkmJnZvaWQgMCE9PW8pe2lmKHR5cGVvZiBhPT10eXBlb2Ygbyljb250aW51ZTtsbyhhLG8pfSh0LnNoYW18fG8mJm8uc2hhbSkmJmFvKGEsXCJzaGFtXCIsITApLHJvKGksbixhLHQpfX0sdW89am4sZm89Rm4scG89T2JqZWN0LmtleXN8fGZ1bmN0aW9uKHQpe3JldHVybiB1byh0LGZvKX0sZ289Yix2bz1MLGJvPVMsbW89dix5bz1wbyx3bz1ObixTbz14LHhvPVh0LGtvPXEsT289T2JqZWN0LmFzc2lnbixDbz1PYmplY3QuZGVmaW5lUHJvcGVydHksVG89dm8oW10uY29uY2F0KSxJbz0hT298fG1vKChmdW5jdGlvbigpe2lmKGdvJiYxIT09T28oe2I6MX0sT28oQ28oe30sXCJhXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7Q28odGhpcyxcImJcIix7dmFsdWU6MyxlbnVtZXJhYmxlOiExfSl9fSkse2I6Mn0pKS5iKXJldHVybiEwO3ZhciB0PXt9LGU9e30saT1TeW1ib2woKSxuPVwiYWJjZGVmZ2hpamtsbW5vcHFyc3RcIjtyZXR1cm4gdFtpXT03LG4uc3BsaXQoXCJcIikuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZVt0XT10fSkpLDchPU9vKHt9LHQpW2ldfHx5byhPbyh7fSxlKSkuam9pbihcIlwiKSE9bn0pKT9mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT14byh0KSxuPWFyZ3VtZW50cy5sZW5ndGgsbz0xLGE9d28uZixyPVNvLmY7bj5vOylmb3IodmFyIHMsbD1rbyhhcmd1bWVudHNbbysrXSksYz1hP1RvKHlvKGwpLGEobCkpOnlvKGwpLGg9Yy5sZW5ndGgsdT0wO2g+dTspcz1jW3UrK10sZ28mJiFibyhyLGwscyl8fChpW3NdPWxbc10pO3JldHVybiBpfTpPbyxQbz1Jbztobyh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxhcml0eToyLGZvcmNlZDpPYmplY3QuYXNzaWduIT09UG99LHthc3NpZ246UG99KTt2YXIgQW89e307QW9bdmUoXCJ0b1N0cmluZ1RhZ1wiKV09XCJ6XCI7dmFyICRvPVwiW29iamVjdCB6XVwiPT09U3RyaW5nKEFvKSxSbz0kbyxFbz1pdCxqbz1OLEZvPXZlKFwidG9TdHJpbmdUYWdcIiksX289T2JqZWN0LERvPVwiQXJndW1lbnRzXCI9PWpvKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSksTm89Um8/am86ZnVuY3Rpb24odCl7dmFyIGUsaSxuO3JldHVybiB2b2lkIDA9PT10P1wiVW5kZWZpbmVkXCI6bnVsbD09PXQ/XCJOdWxsXCI6XCJzdHJpbmdcIj09dHlwZW9mKGk9ZnVuY3Rpb24odCxlKXt0cnl7cmV0dXJuIHRbZV19Y2F0Y2godCl7fX0oZT1fbyh0KSxGbykpP2k6RG8/am8oZSk6XCJPYmplY3RcIj09KG49am8oZSkpJiZFbyhlLmNhbGxlZSk/XCJBcmd1bWVudHNcIjpufSxWbz1ObyxCbz1TdHJpbmcsTG89ZnVuY3Rpb24odCl7aWYoXCJTeW1ib2xcIj09PVZvKHQpKXRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBjb252ZXJ0IGEgU3ltYm9sIHZhbHVlIHRvIGEgc3RyaW5nXCIpO3JldHVybiBCbyh0KX0sSG89XCJcXHRcXG5cXHZcXGZcXHIgwqDhmoDigIDigIHigILigIPigITigIXigIbigIfigIjigInigIrigK/igZ/jgIBcXHUyMDI4XFx1MjAyOVxcdWZlZmZcIixNbz1ZLFVvPUxvLHpvPUwoXCJcIi5yZXBsYWNlKSxxbz1cIltcXHRcXG5cXHZcXGZcXHIgwqDhmoDigIDigIHigILigIPigITigIXigIbigIfigIjigInigIrigK/igZ/jgIBcXHUyMDI4XFx1MjAyOVxcdWZlZmZdXCIsV289UmVnRXhwKFwiXlwiK3FvK3FvK1wiKlwiKSxHbz1SZWdFeHAocW8rcW8rXCIqJFwiKSxLbz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIGk9VW8oTW8oZSkpO3JldHVybiAxJnQmJihpPXpvKGksV28sXCJcIikpLDImdCYmKGk9em8oaSxHbyxcIlwiKSksaX19LFlvPXtzdGFydDpLbygxKSxlbmQ6S28oMiksdHJpbTpLbygzKX0sSm89Z2kuUFJPUEVSLFhvPXYsUW89SG8sWm89WW8udHJpbTtobyh7dGFyZ2V0OlwiU3RyaW5nXCIscHJvdG86ITAsZm9yY2VkOmZ1bmN0aW9uKHQpe3JldHVybiBYbygoZnVuY3Rpb24oKXtyZXR1cm4hIVFvW3RdKCl8fFwi4oCLwoXhoI5cIiE9PVwi4oCLwoXhoI5cIlt0XSgpfHxKbyYmUW9bdF0ubmFtZSE9PXR9KSl9KFwidHJpbVwiKX0se3RyaW06ZnVuY3Rpb24oKXtyZXR1cm4gWm8odGhpcyl9fSk7dmFyIHRhPXYsZWE9ZnVuY3Rpb24odCxlKXt2YXIgaT1bXVt0XTtyZXR1cm4hIWkmJnRhKChmdW5jdGlvbigpe2kuY2FsbChudWxsLGV8fGZ1bmN0aW9uKCl7cmV0dXJuIDF9LDEpfSkpfSxpYT1obyxuYT1xLG9hPVEsYWE9ZWEscmE9TChbXS5qb2luKSxzYT1uYSE9T2JqZWN0LGxhPWFhKFwiam9pblwiLFwiLFwiKTtpYSh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6c2F8fCFsYX0se2pvaW46ZnVuY3Rpb24odCl7cmV0dXJuIHJhKG9hKHRoaXMpLHZvaWQgMD09PXQ/XCIsXCI6dCl9fSk7dmFyIGNhPUtlLGhhPWZ1bmN0aW9uKCl7dmFyIHQ9Y2EodGhpcyksZT1cIlwiO3JldHVybiB0Lmhhc0luZGljZXMmJihlKz1cImRcIiksdC5nbG9iYWwmJihlKz1cImdcIiksdC5pZ25vcmVDYXNlJiYoZSs9XCJpXCIpLHQubXVsdGlsaW5lJiYoZSs9XCJtXCIpLHQuZG90QWxsJiYoZSs9XCJzXCIpLHQudW5pY29kZSYmKGUrPVwidVwiKSx0LnVuaWNvZGVTZXRzJiYoZSs9XCJ2XCIpLHQuc3RpY2t5JiYoZSs9XCJ5XCIpLGV9LHVhPXYsZGE9cC5SZWdFeHAsZmE9dWEoKGZ1bmN0aW9uKCl7dmFyIHQ9ZGEoXCJhXCIsXCJ5XCIpO3JldHVybiB0Lmxhc3RJbmRleD0yLG51bGwhPXQuZXhlYyhcImFiY2RcIil9KSkscGE9ZmF8fHVhKChmdW5jdGlvbigpe3JldHVybiFkYShcImFcIixcInlcIikuc3RpY2t5fSkpLGdhPXtCUk9LRU5fQ0FSRVQ6ZmF8fHVhKChmdW5jdGlvbigpe3ZhciB0PWRhKFwiXnJcIixcImd5XCIpO3JldHVybiB0Lmxhc3RJbmRleD0yLG51bGwhPXQuZXhlYyhcInN0clwiKX0pKSxNSVNTRURfU1RJQ0tZOnBhLFVOU1VQUE9SVEVEX1k6ZmF9LHZhPXt9LGJhPWIsbWE9emUseWE9VWUsd2E9S2UsU2E9USx4YT1wbzt2YS5mPWJhJiYhbWE/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24odCxlKXt3YSh0KTtmb3IodmFyIGksbj1TYShlKSxvPXhhKGUpLGE9by5sZW5ndGgscj0wO2E+cjspeWEuZih0LGk9b1tyKytdLG5baV0pO3JldHVybiB0fTt2YXIga2EsT2E9Y3QoXCJkb2N1bWVudFwiLFwiZG9jdW1lbnRFbGVtZW50XCIpLENhPUtlLFRhPXZhLElhPUZuLFBhPSRpLEFhPU9hLCRhPVJlLFJhPUFpKFwiSUVfUFJPVE9cIiksRWE9ZnVuY3Rpb24oKXt9LGphPWZ1bmN0aW9uKHQpe3JldHVyblwiPHNjcmlwdD5cIit0K1wiPC9cIitcInNjcmlwdD5cIn0sRmE9ZnVuY3Rpb24odCl7dC53cml0ZShqYShcIlwiKSksdC5jbG9zZSgpO3ZhciBlPXQucGFyZW50V2luZG93Lk9iamVjdDtyZXR1cm4gdD1udWxsLGV9LF9hPWZ1bmN0aW9uKCl7dHJ5e2thPW5ldyBBY3RpdmVYT2JqZWN0KFwiaHRtbGZpbGVcIil9Y2F0Y2godCl7fXZhciB0LGU7X2E9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50P2RvY3VtZW50LmRvbWFpbiYma2E/RmEoa2EpOigoZT0kYShcImlmcmFtZVwiKSkuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixBYS5hcHBlbmRDaGlsZChlKSxlLnNyYz1TdHJpbmcoXCJqYXZhc2NyaXB0OlwiKSwodD1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpLm9wZW4oKSx0LndyaXRlKGphKFwiZG9jdW1lbnQuRj1PYmplY3RcIikpLHQuY2xvc2UoKSx0LkYpOkZhKGthKTtmb3IodmFyIGk9SWEubGVuZ3RoO2ktLTspZGVsZXRlIF9hLnByb3RvdHlwZVtJYVtpXV07cmV0dXJuIF9hKCl9O1BhW1JhXT0hMDt2YXIgRGE9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24odCxlKXt2YXIgaTtyZXR1cm4gbnVsbCE9PXQ/KEVhLnByb3RvdHlwZT1DYSh0KSxpPW5ldyBFYSxFYS5wcm90b3R5cGU9bnVsbCxpW1JhXT10KTppPV9hKCksdm9pZCAwPT09ZT9pOlRhLmYoaSxlKX0sTmE9dixWYT1wLlJlZ0V4cCxCYT1OYSgoZnVuY3Rpb24oKXt2YXIgdD1WYShcIi5cIixcInNcIik7cmV0dXJuISh0LmRvdEFsbCYmdC5leGVjKFwiXFxuXCIpJiZcInNcIj09PXQuZmxhZ3MpfSkpLExhPXYsSGE9cC5SZWdFeHAsTWE9TGEoKGZ1bmN0aW9uKCl7dmFyIHQ9SGEoXCIoPzxhPmIpXCIsXCJnXCIpO3JldHVyblwiYlwiIT09dC5leGVjKFwiYlwiKS5ncm91cHMuYXx8XCJiY1wiIT09XCJiXCIucmVwbGFjZSh0LFwiJDxhPmNcIil9KSksVWE9Uyx6YT1MLHFhPUxvLFdhPWhhLEdhPWdhLEthPUh0LmV4cG9ydHMsWWE9RGEsSmE9emkuZ2V0LFhhPUJhLFFhPU1hLFphPUthKFwibmF0aXZlLXN0cmluZy1yZXBsYWNlXCIsU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlKSx0cj1SZWdFeHAucHJvdG90eXBlLmV4ZWMsZXI9dHIsaXI9emEoXCJcIi5jaGFyQXQpLG5yPXphKFwiXCIuaW5kZXhPZiksb3I9emEoXCJcIi5yZXBsYWNlKSxhcj16YShcIlwiLnNsaWNlKSxycj1mdW5jdGlvbigpe3ZhciB0PS9hLyxlPS9iKi9nO3JldHVybiBVYSh0cix0LFwiYVwiKSxVYSh0cixlLFwiYVwiKSwwIT09dC5sYXN0SW5kZXh8fDAhPT1lLmxhc3RJbmRleH0oKSxzcj1HYS5CUk9LRU5fQ0FSRVQsbHI9dm9pZCAwIT09LygpPz8vLmV4ZWMoXCJcIilbMV07KHJyfHxscnx8c3J8fFhhfHxRYSkmJihlcj1mdW5jdGlvbih0KXt2YXIgZSxpLG4sbyxhLHIscyxsPXRoaXMsYz1KYShsKSxoPXFhKHQpLHU9Yy5yYXc7aWYodSlyZXR1cm4gdS5sYXN0SW5kZXg9bC5sYXN0SW5kZXgsZT1VYShlcix1LGgpLGwubGFzdEluZGV4PXUubGFzdEluZGV4LGU7dmFyIGQ9Yy5ncm91cHMsZj1zciYmbC5zdGlja3kscD1VYShXYSxsKSxnPWwuc291cmNlLHY9MCxiPWg7aWYoZiYmKHA9b3IocCxcInlcIixcIlwiKSwtMT09PW5yKHAsXCJnXCIpJiYocCs9XCJnXCIpLGI9YXIoaCxsLmxhc3RJbmRleCksbC5sYXN0SW5kZXg+MCYmKCFsLm11bHRpbGluZXx8bC5tdWx0aWxpbmUmJlwiXFxuXCIhPT1pcihoLGwubGFzdEluZGV4LTEpKSYmKGc9XCIoPzogXCIrZytcIilcIixiPVwiIFwiK2IsdisrKSxpPW5ldyBSZWdFeHAoXCJeKD86XCIrZytcIilcIixwKSksbHImJihpPW5ldyBSZWdFeHAoXCJeXCIrZytcIiQoPyFcXFxccylcIixwKSkscnImJihuPWwubGFzdEluZGV4KSxvPVVhKHRyLGY/aTpsLGIpLGY/bz8oby5pbnB1dD1hcihvLmlucHV0LHYpLG9bMF09YXIob1swXSx2KSxvLmluZGV4PWwubGFzdEluZGV4LGwubGFzdEluZGV4Kz1vWzBdLmxlbmd0aCk6bC5sYXN0SW5kZXg9MDpyciYmbyYmKGwubGFzdEluZGV4PWwuZ2xvYmFsP28uaW5kZXgrb1swXS5sZW5ndGg6biksbHImJm8mJm8ubGVuZ3RoPjEmJlVhKFphLG9bMF0saSwoZnVuY3Rpb24oKXtmb3IoYT0xO2E8YXJndW1lbnRzLmxlbmd0aC0yO2ErKyl2b2lkIDA9PT1hcmd1bWVudHNbYV0mJihvW2FdPXZvaWQgMCl9KSksbyYmZClmb3Ioby5ncm91cHM9cj1ZYShudWxsKSxhPTA7YTxkLmxlbmd0aDthKyspclsocz1kW2FdKVswXV09b1tzWzFdXTtyZXR1cm4gb30pO3ZhciBjcj1lcjtobyh7dGFyZ2V0OlwiUmVnRXhwXCIscHJvdG86ITAsZm9yY2VkOi8uLy5leGVjIT09Y3J9LHtleGVjOmNyfSk7dmFyIGhyPW0sdXI9RnVuY3Rpb24ucHJvdG90eXBlLGRyPXVyLmFwcGx5LGZyPXVyLmNhbGwscHI9XCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuYXBwbHl8fChocj9mci5iaW5kKGRyKTpmdW5jdGlvbigpe3JldHVybiBmci5hcHBseShkcixhcmd1bWVudHMpfSksZ3I9TCx2cj1sbixicj1jcixtcj12LHlyPXZlLHdyPWxpLFNyPXlyKFwic3BlY2llc1wiKSx4cj1SZWdFeHAucHJvdG90eXBlLGtyPWZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXlyKHQpLGE9IW1yKChmdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBlW29dPWZ1bmN0aW9uKCl7cmV0dXJuIDd9LDchPVwiXCJbdF0oZSl9KSkscj1hJiYhbXIoKGZ1bmN0aW9uKCl7dmFyIGU9ITEsaT0vYS87cmV0dXJuXCJzcGxpdFwiPT09dCYmKChpPXt9KS5jb25zdHJ1Y3Rvcj17fSxpLmNvbnN0cnVjdG9yW1NyXT1mdW5jdGlvbigpe3JldHVybiBpfSxpLmZsYWdzPVwiXCIsaVtvXT0vLi9bb10pLGkuZXhlYz1mdW5jdGlvbigpe3JldHVybiBlPSEwLG51bGx9LGlbb10oXCJcIiksIWV9KSk7aWYoIWF8fCFyfHxpKXt2YXIgcz1ncigvLi9bb10pLGw9ZShvLFwiXCJbdF0sKGZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIHI9Z3IodCksbD1lLmV4ZWM7cmV0dXJuIGw9PT1icnx8bD09PXhyLmV4ZWM/YSYmIW8/e2RvbmU6ITAsdmFsdWU6cyhlLGksbil9Ontkb25lOiEwLHZhbHVlOnIoaSxlLG4pfTp7ZG9uZTohMX19KSk7dnIoU3RyaW5nLnByb3RvdHlwZSx0LGxbMF0pLHZyKHhyLG8sbFsxXSl9biYmd3IoeHJbb10sXCJzaGFtXCIsITApfSxPcj1hdCxDcj1OLFRyPXZlKFwibWF0Y2hcIiksSXI9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIE9yKHQpJiYodm9pZCAwIT09KGU9dFtUcl0pPyEhZTpcIlJlZ0V4cFwiPT1Dcih0KSl9LFByPUwsQXI9diwkcj1pdCxScj1ObyxFcj14aSxqcj1mdW5jdGlvbigpe30sRnI9W10sX3I9Y3QoXCJSZWZsZWN0XCIsXCJjb25zdHJ1Y3RcIiksRHI9L15cXHMqKD86Y2xhc3N8ZnVuY3Rpb24pXFxiLyxOcj1QcihEci5leGVjKSxWcj0hRHIuZXhlYyhqciksQnI9ZnVuY3Rpb24odCl7aWYoISRyKHQpKXJldHVybiExO3RyeXtyZXR1cm4gX3IoanIsRnIsdCksITB9Y2F0Y2godCl7cmV0dXJuITF9fSxMcj1mdW5jdGlvbih0KXtpZighJHIodCkpcmV0dXJuITE7c3dpdGNoKFJyKHQpKXtjYXNlXCJBc3luY0Z1bmN0aW9uXCI6Y2FzZVwiR2VuZXJhdG9yRnVuY3Rpb25cIjpjYXNlXCJBc3luY0dlbmVyYXRvckZ1bmN0aW9uXCI6cmV0dXJuITF9dHJ5e3JldHVybiBWcnx8ISFOcihEcixFcih0KSl9Y2F0Y2godCl7cmV0dXJuITB9fTtMci5zaGFtPSEwO3ZhciBIcj0hX3J8fEFyKChmdW5jdGlvbigpe3ZhciB0O3JldHVybiBCcihCci5jYWxsKXx8IUJyKE9iamVjdCl8fCFCcigoZnVuY3Rpb24oKXt0PSEwfSkpfHx0fSkpP0xyOkJyLE1yPUhyLFVyPUF0LHpyPVR5cGVFcnJvcixxcj1LZSxXcj1mdW5jdGlvbih0KXtpZihNcih0KSlyZXR1cm4gdDt0aHJvdyB6cihVcih0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvclwiKX0sR3I9VyxLcj12ZShcInNwZWNpZXNcIiksWXI9TCxKcj1mbixYcj1MbyxRcj1ZLFpyPVlyKFwiXCIuY2hhckF0KSx0cz1ZcihcIlwiLmNoYXJDb2RlQXQpLGVzPVlyKFwiXCIuc2xpY2UpLGlzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLGkpe3ZhciBuLG8sYT1YcihRcihlKSkscj1KcihpKSxzPWEubGVuZ3RoO3JldHVybiByPDB8fHI+PXM/dD9cIlwiOnZvaWQgMDoobj10cyhhLHIpKTw1NTI5Nnx8bj41NjMxOXx8cisxPT09c3x8KG89dHMoYSxyKzEpKTw1NjMyMHx8bz41NzM0Mz90P1pyKGEscik6bjp0P2VzKGEscixyKzIpOm8tNTYzMjArKG4tNTUyOTY8PDEwKSs2NTUzNn19LG5zPXtjb2RlQXQ6aXMoITEpLGNoYXJBdDppcyghMCl9LmNoYXJBdCxvcz1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIGUrKGk/bnModCxlKS5sZW5ndGg6MSl9LGFzPUllLHJzPVVlLHNzPVAsbHM9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWFzKGUpO24gaW4gdD9ycy5mKHQsbixzcygwLGkpKTp0W25dPWl9LGNzPWJuLGhzPXhuLHVzPWxzLGRzPUFycmF5LGZzPU1hdGgubWF4LHBzPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG49aHModCksbz1jcyhlLG4pLGE9Y3Modm9pZCAwPT09aT9uOmksbikscj1kcyhmcyhhLW8sMCkpLHM9MDtvPGE7bysrLHMrKyl1cyhyLHMsdFtvXSk7cmV0dXJuIHIubGVuZ3RoPXMscn0sZ3M9Uyx2cz1LZSxicz1pdCxtcz1OLHlzPWNyLHdzPVR5cGVFcnJvcixTcz1mdW5jdGlvbih0LGUpe3ZhciBpPXQuZXhlYztpZihicyhpKSl7dmFyIG49Z3MoaSx0LGUpO3JldHVybiBudWxsIT09biYmdnMobiksbn1pZihcIlJlZ0V4cFwiPT09bXModCkpcmV0dXJuIGdzKHlzLHQsZSk7dGhyb3cgd3MoXCJSZWdFeHAjZXhlYyBjYWxsZWQgb24gaW5jb21wYXRpYmxlIHJlY2VpdmVyXCIpfSx4cz1wcixrcz1TLE9zPUwsQ3M9a3IsVHM9S2UsSXM9VyxQcz1JcixBcz1ZLCRzPWZ1bmN0aW9uKHQsZSl7dmFyIGksbj1xcih0KS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09bnx8R3IoaT1xcihuKVtLcl0pP2U6V3IoaSl9LFJzPW9zLEVzPXduLGpzPUxvLEZzPUR0LF9zPXBzLERzPVNzLE5zPWNyLFZzPXYsQnM9Z2EuVU5TVVBQT1JURURfWSxMcz00Mjk0OTY3Mjk1LEhzPU1hdGgubWluLE1zPVtdLnB1c2gsVXM9T3MoLy4vLmV4ZWMpLHpzPU9zKE1zKSxxcz1PcyhcIlwiLnNsaWNlKSxXcz0hVnMoKGZ1bmN0aW9uKCl7dmFyIHQ9Lyg/OikvLGU9dC5leGVjO3QuZXhlYz1mdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIGk9XCJhYlwiLnNwbGl0KHQpO3JldHVybiAyIT09aS5sZW5ndGh8fFwiYVwiIT09aVswXXx8XCJiXCIhPT1pWzFdfSkpO0NzKFwic3BsaXRcIiwoZnVuY3Rpb24odCxlLGkpe3ZhciBuO3JldHVybiBuPVwiY1wiPT1cImFiYmNcIi5zcGxpdCgvKGIpKi8pWzFdfHw0IT1cInRlc3RcIi5zcGxpdCgvKD86KS8sLTEpLmxlbmd0aHx8MiE9XCJhYlwiLnNwbGl0KC8oPzphYikqLykubGVuZ3RofHw0IT1cIi5cIi5zcGxpdCgvKC4/KSguPykvKS5sZW5ndGh8fFwiLlwiLnNwbGl0KC8oKSgpLykubGVuZ3RoPjF8fFwiXCIuc3BsaXQoLy4/LykubGVuZ3RoP2Z1bmN0aW9uKHQsaSl7dmFyIG49anMoQXModGhpcykpLG89dm9pZCAwPT09aT9MczppPj4+MDtpZigwPT09bylyZXR1cm5bXTtpZih2b2lkIDA9PT10KXJldHVybltuXTtpZighUHModCkpcmV0dXJuIGtzKGUsbix0LG8pO2Zvcih2YXIgYSxyLHMsbD1bXSxjPSh0Lmlnbm9yZUNhc2U/XCJpXCI6XCJcIikrKHQubXVsdGlsaW5lP1wibVwiOlwiXCIpKyh0LnVuaWNvZGU/XCJ1XCI6XCJcIikrKHQuc3RpY2t5P1wieVwiOlwiXCIpLGg9MCx1PW5ldyBSZWdFeHAodC5zb3VyY2UsYytcImdcIik7KGE9a3MoTnMsdSxuKSkmJiEoKHI9dS5sYXN0SW5kZXgpPmgmJih6cyhsLHFzKG4saCxhLmluZGV4KSksYS5sZW5ndGg+MSYmYS5pbmRleDxuLmxlbmd0aCYmeHMoTXMsbCxfcyhhLDEpKSxzPWFbMF0ubGVuZ3RoLGg9cixsLmxlbmd0aD49bykpOyl1Lmxhc3RJbmRleD09PWEuaW5kZXgmJnUubGFzdEluZGV4Kys7cmV0dXJuIGg9PT1uLmxlbmd0aD8hcyYmVXModSxcIlwiKXx8enMobCxcIlwiKTp6cyhsLHFzKG4saCkpLGwubGVuZ3RoPm8/X3MobCwwLG8pOmx9OlwiMFwiLnNwbGl0KHZvaWQgMCwwKS5sZW5ndGg/ZnVuY3Rpb24odCxpKXtyZXR1cm4gdm9pZCAwPT09dCYmMD09PWk/W106a3MoZSx0aGlzLHQsaSl9OmUsW2Z1bmN0aW9uKGUsaSl7dmFyIG89QXModGhpcyksYT1JcyhlKT92b2lkIDA6RnMoZSx0KTtyZXR1cm4gYT9rcyhhLGUsbyxpKTprcyhuLGpzKG8pLGUsaSl9LGZ1bmN0aW9uKHQsbyl7dmFyIGE9VHModGhpcykscj1qcyh0KSxzPWkobixhLHIsbyxuIT09ZSk7aWYocy5kb25lKXJldHVybiBzLnZhbHVlO3ZhciBsPSRzKGEsUmVnRXhwKSxjPWEudW5pY29kZSxoPShhLmlnbm9yZUNhc2U/XCJpXCI6XCJcIikrKGEubXVsdGlsaW5lP1wibVwiOlwiXCIpKyhhLnVuaWNvZGU/XCJ1XCI6XCJcIikrKEJzP1wiZ1wiOlwieVwiKSx1PW5ldyBsKEJzP1wiXig/OlwiK2Euc291cmNlK1wiKVwiOmEsaCksZD12b2lkIDA9PT1vP0xzOm8+Pj4wO2lmKDA9PT1kKXJldHVybltdO2lmKDA9PT1yLmxlbmd0aClyZXR1cm4gbnVsbD09PURzKHUscik/W3JdOltdO2Zvcih2YXIgZj0wLHA9MCxnPVtdO3A8ci5sZW5ndGg7KXt1Lmxhc3RJbmRleD1Ccz8wOnA7dmFyIHYsYj1Ecyh1LEJzP3FzKHIscCk6cik7aWYobnVsbD09PWJ8fCh2PUhzKEVzKHUubGFzdEluZGV4KyhCcz9wOjApKSxyLmxlbmd0aCkpPT09ZilwPVJzKHIscCxjKTtlbHNle2lmKHpzKGcscXMocixmLHApKSxnLmxlbmd0aD09PWQpcmV0dXJuIGc7Zm9yKHZhciBtPTE7bTw9Yi5sZW5ndGgtMTttKyspaWYoenMoZyxiW21dKSxnLmxlbmd0aD09PWQpcmV0dXJuIGc7cD1mPXZ9fXJldHVybiB6cyhnLHFzKHIsZikpLGd9XX0pLCFXcyxCcyk7dmFyIEdzPWIsS3M9TCxZcz1wbyxKcz1RLFhzPUtzKHguZiksUXM9S3MoW10ucHVzaCksWnM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Zvcih2YXIgaSxuPUpzKGUpLG89WXMobiksYT1vLmxlbmd0aCxyPTAscz1bXTthPnI7KWk9b1tyKytdLEdzJiYhWHMobixpKXx8UXMocyx0P1tpLG5baV1dOm5baV0pO3JldHVybiBzfX0sdGw9e2VudHJpZXM6WnMoITApLHZhbHVlczpacyghMSl9LmVudHJpZXM7aG8oe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITB9LHtlbnRyaWVzOmZ1bmN0aW9uKHQpe3JldHVybiB0bCh0KX19KTt2YXIgZWw9dmUsaWw9RGEsbmw9VWUuZixvbD1lbChcInVuc2NvcGFibGVzXCIpLGFsPUFycmF5LnByb3RvdHlwZTtudWxsPT1hbFtvbF0mJm5sKGFsLG9sLHtjb25maWd1cmFibGU6ITAsdmFsdWU6aWwobnVsbCl9KTt2YXIgcmw9ZnVuY3Rpb24odCl7YWxbb2xdW3RdPSEwfSxzbD1Jbi5pbmNsdWRlcyxsbD1ybDtobyh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6digoZnVuY3Rpb24oKXtyZXR1cm4hQXJyYXkoMSkuaW5jbHVkZXMoKX0pKX0se2luY2x1ZGVzOmZ1bmN0aW9uKHQpe3JldHVybiBzbCh0aGlzLHQsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pLGxsKFwiaW5jbHVkZXNcIik7dmFyIGNsPU4saGw9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24odCl7cmV0dXJuXCJBcnJheVwiPT1jbCh0KX0sdWw9VHlwZUVycm9yLGRsPWZ1bmN0aW9uKHQpe2lmKHQ+OTAwNzE5OTI1NDc0MDk5MSl0aHJvdyB1bChcIk1heGltdW0gYWxsb3dlZCBpbmRleCBleGNlZWRlZFwiKTtyZXR1cm4gdH0sZmw9aGwscGw9SHIsZ2w9YXQsdmw9dmUoXCJzcGVjaWVzXCIpLGJsPUFycmF5LG1sPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBmbCh0KSYmKGU9dC5jb25zdHJ1Y3RvciwocGwoZSkmJihlPT09Ymx8fGZsKGUucHJvdG90eXBlKSl8fGdsKGUpJiZudWxsPT09KGU9ZVt2bF0pKSYmKGU9dm9pZCAwKSksdm9pZCAwPT09ZT9ibDplfSx5bD1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcobWwodCkpKDA9PT1lPzA6ZSl9LHdsPXYsU2w9bXQseGw9dmUoXCJzcGVjaWVzXCIpLGtsPWZ1bmN0aW9uKHQpe3JldHVybiBTbD49NTF8fCF3bCgoZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4oZS5jb25zdHJ1Y3Rvcj17fSlbeGxdPWZ1bmN0aW9uKCl7cmV0dXJue2ZvbzoxfX0sMSE9PWVbdF0oQm9vbGVhbikuZm9vfSkpfSxPbD1obyxDbD12LFRsPWhsLElsPWF0LFBsPVh0LEFsPXhuLCRsPWRsLFJsPWxzLEVsPXlsLGpsPWtsLEZsPW10LF9sPXZlKFwiaXNDb25jYXRTcHJlYWRhYmxlXCIpLERsPUZsPj01MXx8IUNsKChmdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0W19sXT0hMSx0LmNvbmNhdCgpWzBdIT09dH0pKSxObD1qbChcImNvbmNhdFwiKSxWbD1mdW5jdGlvbih0KXtpZighSWwodCkpcmV0dXJuITE7dmFyIGU9dFtfbF07cmV0dXJuIHZvaWQgMCE9PWU/ISFlOlRsKHQpfTtPbCh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxhcml0eToxLGZvcmNlZDohRGx8fCFObH0se2NvbmNhdDpmdW5jdGlvbih0KXt2YXIgZSxpLG4sbyxhLHI9UGwodGhpcykscz1FbChyLDApLGw9MDtmb3IoZT0tMSxuPWFyZ3VtZW50cy5sZW5ndGg7ZTxuO2UrKylpZihWbChhPS0xPT09ZT9yOmFyZ3VtZW50c1tlXSkpZm9yKG89QWwoYSksJGwobCtvKSxpPTA7aTxvO2krKyxsKyspaSBpbiBhJiZSbChzLGwsYVtpXSk7ZWxzZSAkbChsKzEpLFJsKHMsbCsrLGEpO3JldHVybiBzLmxlbmd0aD1sLHN9fSk7dmFyIEJsPWp0LExsPW0sSGw9TChMLmJpbmQpLE1sPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEJsKHQpLHZvaWQgMD09PWU/dDpMbD9IbCh0LGUpOmZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX0sVWw9cSx6bD1YdCxxbD14bixXbD15bCxHbD1MKFtdLnB1c2gpLEtsPWZ1bmN0aW9uKHQpe3ZhciBlPTE9PXQsaT0yPT10LG49Mz09dCxvPTQ9PXQsYT02PT10LHI9Nz09dCxzPTU9PXR8fGE7cmV0dXJuIGZ1bmN0aW9uKGwsYyxoLHUpe2Zvcih2YXIgZCxmLHA9emwobCksZz1VbChwKSx2PU1sKGMsaCksYj1xbChnKSxtPTAseT11fHxXbCx3PWU/eShsLGIpOml8fHI/eShsLDApOnZvaWQgMDtiPm07bSsrKWlmKChzfHxtIGluIGcpJiYoZj12KGQ9Z1ttXSxtLHApLHQpKWlmKGUpd1ttXT1mO2Vsc2UgaWYoZilzd2l0Y2godCl7Y2FzZSAzOnJldHVybiEwO2Nhc2UgNTpyZXR1cm4gZDtjYXNlIDY6cmV0dXJuIG07Y2FzZSAyOkdsKHcsZCl9ZWxzZSBzd2l0Y2godCl7Y2FzZSA0OnJldHVybiExO2Nhc2UgNzpHbCh3LGQpfXJldHVybiBhPy0xOm58fG8/bzp3fX0sWWw9e2ZvckVhY2g6S2woMCksbWFwOktsKDEpLGZpbHRlcjpLbCgyKSxzb21lOktsKDMpLGV2ZXJ5OktsKDQpLGZpbmQ6S2woNSksZmluZEluZGV4OktsKDYpLGZpbHRlclJlamVjdDpLbCg3KX0sSmw9aG8sWGw9WWwuZmluZCxRbD1ybCxabD1cImZpbmRcIix0Yz0hMDtabCBpbltdJiZBcnJheSgxKS5maW5kKChmdW5jdGlvbigpe3RjPSExfSkpLEpsKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDp0Y30se2ZpbmQ6ZnVuY3Rpb24odCl7cmV0dXJuIFhsKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSksUWwoWmwpO3ZhciBlYz1ObyxpYz0kbz97fS50b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBcIitlYyh0aGlzKStcIl1cIn07JG98fGxuKE9iamVjdC5wcm90b3R5cGUsXCJ0b1N0cmluZ1wiLGljLHt1bnNhZmU6ITB9KTt2YXIgbmM9SXIsb2M9VHlwZUVycm9yLGFjPWZ1bmN0aW9uKHQpe2lmKG5jKHQpKXRocm93IG9jKFwiVGhlIG1ldGhvZCBkb2Vzbid0IGFjY2VwdCByZWd1bGFyIGV4cHJlc3Npb25zXCIpO3JldHVybiB0fSxyYz12ZShcIm1hdGNoXCIpLHNjPWZ1bmN0aW9uKHQpe3ZhciBlPS8uLzt0cnl7XCIvLi9cIlt0XShlKX1jYXRjaChpKXt0cnl7cmV0dXJuIGVbcmNdPSExLFwiLy4vXCJbdF0oZSl9Y2F0Y2godCl7fX1yZXR1cm4hMX0sbGM9aG8sY2M9YWMsaGM9WSx1Yz1MbyxkYz1zYyxmYz1MKFwiXCIuaW5kZXhPZik7bGMoe3RhcmdldDpcIlN0cmluZ1wiLHByb3RvOiEwLGZvcmNlZDohZGMoXCJpbmNsdWRlc1wiKX0se2luY2x1ZGVzOmZ1bmN0aW9uKHQpe3JldHVybiEhfmZjKHVjKGhjKHRoaXMpKSx1YyhjYyh0KSksYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pO3ZhciBwYz17Q1NTUnVsZUxpc3Q6MCxDU1NTdHlsZURlY2xhcmF0aW9uOjAsQ1NTVmFsdWVMaXN0OjAsQ2xpZW50UmVjdExpc3Q6MCxET01SZWN0TGlzdDowLERPTVN0cmluZ0xpc3Q6MCxET01Ub2tlbkxpc3Q6MSxEYXRhVHJhbnNmZXJJdGVtTGlzdDowLEZpbGVMaXN0OjAsSFRNTEFsbENvbGxlY3Rpb246MCxIVE1MQ29sbGVjdGlvbjowLEhUTUxGb3JtRWxlbWVudDowLEhUTUxTZWxlY3RFbGVtZW50OjAsTWVkaWFMaXN0OjAsTWltZVR5cGVBcnJheTowLE5hbWVkTm9kZU1hcDowLE5vZGVMaXN0OjEsUGFpbnRSZXF1ZXN0TGlzdDowLFBsdWdpbjowLFBsdWdpbkFycmF5OjAsU1ZHTGVuZ3RoTGlzdDowLFNWR051bWJlckxpc3Q6MCxTVkdQYXRoU2VnTGlzdDowLFNWR1BvaW50TGlzdDowLFNWR1N0cmluZ0xpc3Q6MCxTVkdUcmFuc2Zvcm1MaXN0OjAsU291cmNlQnVmZmVyTGlzdDowLFN0eWxlU2hlZXRMaXN0OjAsVGV4dFRyYWNrQ3VlTGlzdDowLFRleHRUcmFja0xpc3Q6MCxUb3VjaExpc3Q6MH0sZ2M9UmUoXCJzcGFuXCIpLmNsYXNzTGlzdCx2Yz1nYyYmZ2MuY29uc3RydWN0b3ImJmdjLmNvbnN0cnVjdG9yLnByb3RvdHlwZSxiYz12Yz09PU9iamVjdC5wcm90b3R5cGU/dm9pZCAwOnZjLG1jPVlsLmZvckVhY2gseWM9ZWEoXCJmb3JFYWNoXCIpP1tdLmZvckVhY2g6ZnVuY3Rpb24odCl7cmV0dXJuIG1jKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9LHdjPXAsU2M9cGMseGM9YmMsa2M9eWMsT2M9bGksQ2M9ZnVuY3Rpb24odCl7aWYodCYmdC5mb3JFYWNoIT09a2MpdHJ5e09jKHQsXCJmb3JFYWNoXCIsa2MpfWNhdGNoKGUpe3QuZm9yRWFjaD1rY319O2Zvcih2YXIgVGMgaW4gU2MpU2NbVGNdJiZDYyh3Y1tUY10mJndjW1RjXS5wcm90b3R5cGUpO0NjKHhjKTt2YXIgSWM9cCxQYz12LEFjPUxvLCRjPVlvLnRyaW0sUmM9TChcIlwiLmNoYXJBdCksRWM9SWMucGFyc2VGbG9hdCxqYz1JYy5TeW1ib2wsRmM9amMmJmpjLml0ZXJhdG9yLF9jPTEvRWMoXCJcXHRcXG5cXHZcXGZcXHIgwqDhmoDigIDigIHigILigIPigITigIXigIbigIfigIjigInigIrigK/igZ/jgIBcXHUyMDI4XFx1MjAyOVxcdWZlZmYtMFwiKSE9LTEvMHx8RmMmJiFQYygoZnVuY3Rpb24oKXtFYyhPYmplY3QoRmMpKX0pKT9mdW5jdGlvbih0KXt2YXIgZT0kYyhBYyh0KSksaT1FYyhlKTtyZXR1cm4gMD09PWkmJlwiLVwiPT1SYyhlLDApPy0wOml9OkVjO2hvKHtnbG9iYWw6ITAsZm9yY2VkOnBhcnNlRmxvYXQhPV9jfSx7cGFyc2VGbG9hdDpfY30pO3ZhciBEYz1obyxOYz1Jbi5pbmRleE9mLFZjPWVhLEJjPUwoW10uaW5kZXhPZiksTGM9ISFCYyYmMS9CYyhbMV0sMSwtMCk8MCxIYz1WYyhcImluZGV4T2ZcIik7RGMoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOkxjfHwhSGN9LHtpbmRleE9mOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO3JldHVybiBMYz9CYyh0aGlzLHQsZSl8fDA6TmModGhpcyx0LGUpfX0pO3ZhciBNYz1BdCxVYz1UeXBlRXJyb3IsemM9ZnVuY3Rpb24odCxlKXtpZighZGVsZXRlIHRbZV0pdGhyb3cgVWMoXCJDYW5ub3QgZGVsZXRlIHByb3BlcnR5IFwiK01jKGUpK1wiIG9mIFwiK01jKHQpKX0scWM9cHMsV2M9TWF0aC5mbG9vcixHYz1mdW5jdGlvbih0LGUpe3ZhciBpPXQubGVuZ3RoLG49V2MoaS8yKTtyZXR1cm4gaTw4P0tjKHQsZSk6WWModCxHYyhxYyh0LDAsbiksZSksR2MocWModCxuKSxlKSxlKX0sS2M9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGksbixvPXQubGVuZ3RoLGE9MTthPG87KXtmb3Iobj1hLGk9dFthXTtuJiZlKHRbbi0xXSxpKT4wOyl0W25dPXRbLS1uXTtuIT09YSsrJiYodFtuXT1pKX1yZXR1cm4gdH0sWWM9ZnVuY3Rpb24odCxlLGksbil7Zm9yKHZhciBvPWUubGVuZ3RoLGE9aS5sZW5ndGgscj0wLHM9MDtyPG98fHM8YTspdFtyK3NdPXI8byYmczxhP24oZVtyXSxpW3NdKTw9MD9lW3IrK106aVtzKytdOnI8bz9lW3IrK106aVtzKytdO3JldHVybiB0fSxKYz1HYyxYYz11dC5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS9pKSxRYz0hIVhjJiYrWGNbMV0sWmM9L01TSUV8VHJpZGVudC8udGVzdCh1dCksdGg9dXQubWF0Y2goL0FwcGxlV2ViS2l0XFwvKFxcZCspXFwuLyksZWg9ISF0aCYmK3RoWzFdLGloPWhvLG5oPUwsb2g9anQsYWg9WHQscmg9eG4sc2g9emMsbGg9TG8sY2g9dixoaD1KYyx1aD1lYSxkaD1RYyxmaD1aYyxwaD1tdCxnaD1laCx2aD1bXSxiaD1uaCh2aC5zb3J0KSxtaD1uaCh2aC5wdXNoKSx5aD1jaCgoZnVuY3Rpb24oKXt2aC5zb3J0KHZvaWQgMCl9KSksd2g9Y2goKGZ1bmN0aW9uKCl7dmguc29ydChudWxsKX0pKSxTaD11aChcInNvcnRcIikseGg9IWNoKChmdW5jdGlvbigpe2lmKHBoKXJldHVybiBwaDw3MDtpZighKGRoJiZkaD4zKSl7aWYoZmgpcmV0dXJuITA7aWYoZ2gpcmV0dXJuIGdoPDYwMzt2YXIgdCxlLGksbixvPVwiXCI7Zm9yKHQ9NjU7dDw3Njt0Kyspe3N3aXRjaChlPVN0cmluZy5mcm9tQ2hhckNvZGUodCksdCl7Y2FzZSA2NjpjYXNlIDY5OmNhc2UgNzA6Y2FzZSA3MjppPTM7YnJlYWs7Y2FzZSA2ODpjYXNlIDcxOmk9NDticmVhaztkZWZhdWx0Omk9Mn1mb3Iobj0wO248NDc7bisrKXZoLnB1c2goe2s6ZStuLHY6aX0pfWZvcih2aC5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBlLnYtdC52fSkpLG49MDtuPHZoLmxlbmd0aDtuKyspZT12aFtuXS5rLmNoYXJBdCgwKSxvLmNoYXJBdChvLmxlbmd0aC0xKSE9PWUmJihvKz1lKTtyZXR1cm5cIkRHQkVGSEFDSUpLXCIhPT1vfX0pKTtpaCh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6eWh8fCF3aHx8IVNofHwheGh9LHtzb3J0OmZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXQmJm9oKHQpO3ZhciBlPWFoKHRoaXMpO2lmKHhoKXJldHVybiB2b2lkIDA9PT10P2JoKGUpOmJoKGUsdCk7dmFyIGksbixvPVtdLGE9cmgoZSk7Zm9yKG49MDtuPGE7bisrKW4gaW4gZSYmbWgobyxlW25dKTtmb3IoaGgobyxmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxpKXtyZXR1cm4gdm9pZCAwPT09aT8tMTp2b2lkIDA9PT1lPzE6dm9pZCAwIT09dD8rdChlLGkpfHwwOmxoKGUpPmxoKGkpPzE6LTF9fSh0KSksaT1yaChvKSxuPTA7bjxpOyllW25dPW9bbisrXTtmb3IoO248YTspc2goZSxuKyspO3JldHVybiBlfX0pO3ZhciBraD1MLE9oPVh0LENoPU1hdGguZmxvb3IsVGg9a2goXCJcIi5jaGFyQXQpLEloPWtoKFwiXCIucmVwbGFjZSksUGg9a2goXCJcIi5zbGljZSksQWg9L1xcJChbJCYnYF18XFxkezEsMn18PFtePl0qPikvZywkaD0vXFwkKFskJidgXXxcXGR7MSwyfSkvZyxSaD1wcixFaD1TLGpoPUwsRmg9a3IsX2g9dixEaD1LZSxOaD1pdCxWaD1XLEJoPWZuLExoPXduLEhoPUxvLE1oPVksVWg9b3Msemg9RHQscWg9ZnVuY3Rpb24odCxlLGksbixvLGEpe3ZhciByPWkrdC5sZW5ndGgscz1uLmxlbmd0aCxsPSRoO3JldHVybiB2b2lkIDAhPT1vJiYobz1PaChvKSxsPUFoKSxJaChhLGwsKGZ1bmN0aW9uKGEsbCl7dmFyIGM7c3dpdGNoKFRoKGwsMCkpe2Nhc2VcIiRcIjpyZXR1cm5cIiRcIjtjYXNlXCImXCI6cmV0dXJuIHQ7Y2FzZVwiYFwiOnJldHVybiBQaChlLDAsaSk7Y2FzZVwiJ1wiOnJldHVybiBQaChlLHIpO2Nhc2VcIjxcIjpjPW9bUGgobCwxLC0xKV07YnJlYWs7ZGVmYXVsdDp2YXIgaD0rbDtpZigwPT09aClyZXR1cm4gYTtpZihoPnMpe3ZhciB1PUNoKGgvMTApO3JldHVybiAwPT09dT9hOnU8PXM/dm9pZCAwPT09blt1LTFdP1RoKGwsMSk6blt1LTFdK1RoKGwsMSk6YX1jPW5baC0xXX1yZXR1cm4gdm9pZCAwPT09Yz9cIlwiOmN9KSl9LFdoPVNzLEdoPXZlKFwicmVwbGFjZVwiKSxLaD1NYXRoLm1heCxZaD1NYXRoLm1pbixKaD1qaChbXS5jb25jYXQpLFhoPWpoKFtdLnB1c2gpLFFoPWpoKFwiXCIuaW5kZXhPZiksWmg9amgoXCJcIi5zbGljZSksdHU9XCIkMFwiPT09XCJhXCIucmVwbGFjZSgvLi8sXCIkMFwiKSxldT0hIS8uL1tHaF0mJlwiXCI9PT0vLi9bR2hdKFwiYVwiLFwiJDBcIik7RmgoXCJyZXBsYWNlXCIsKGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1ldT9cIiRcIjpcIiQwXCI7cmV0dXJuW2Z1bmN0aW9uKHQsaSl7dmFyIG49TWgodGhpcyksbz1WaCh0KT92b2lkIDA6emgodCxHaCk7cmV0dXJuIG8/RWgobyx0LG4saSk6RWgoZSxIaChuKSx0LGkpfSxmdW5jdGlvbih0LG8pe3ZhciBhPURoKHRoaXMpLHI9SGgodCk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIG8mJi0xPT09UWgobyxuKSYmLTE9PT1RaChvLFwiJDxcIikpe3ZhciBzPWkoZSxhLHIsbyk7aWYocy5kb25lKXJldHVybiBzLnZhbHVlfXZhciBsPU5oKG8pO2x8fChvPUhoKG8pKTt2YXIgYz1hLmdsb2JhbDtpZihjKXt2YXIgaD1hLnVuaWNvZGU7YS5sYXN0SW5kZXg9MH1mb3IodmFyIHU9W107Oyl7dmFyIGQ9V2goYSxyKTtpZihudWxsPT09ZClicmVhaztpZihYaCh1LGQpLCFjKWJyZWFrO1wiXCI9PT1IaChkWzBdKSYmKGEubGFzdEluZGV4PVVoKHIsTGgoYS5sYXN0SW5kZXgpLGgpKX1mb3IodmFyIGYscD1cIlwiLGc9MCx2PTA7djx1Lmxlbmd0aDt2Kyspe2Zvcih2YXIgYj1IaCgoZD11W3ZdKVswXSksbT1LaChZaChCaChkLmluZGV4KSxyLmxlbmd0aCksMCkseT1bXSx3PTE7dzxkLmxlbmd0aDt3KyspWGgoeSx2b2lkIDA9PT0oZj1kW3ddKT9mOlN0cmluZyhmKSk7dmFyIFM9ZC5ncm91cHM7aWYobCl7dmFyIHg9SmgoW2JdLHksbSxyKTt2b2lkIDAhPT1TJiZYaCh4LFMpO3ZhciBrPUhoKFJoKG8sdm9pZCAwLHgpKX1lbHNlIGs9cWgoYixyLG0seSxTLG8pO20+PWcmJihwKz1aaChyLGcsbSkrayxnPW0rYi5sZW5ndGgpfXJldHVybiBwK1poKHIsZyl9XX0pLCEhX2goKGZ1bmN0aW9uKCl7dmFyIHQ9Ly4vO3JldHVybiB0LmV4ZWM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdC5ncm91cHM9e2E6XCI3XCJ9LHR9LFwiN1wiIT09XCJcIi5yZXBsYWNlKHQsXCIkPGE+XCIpfSkpfHwhdHV8fGV1KTt2YXIgaXU9WWwuZmlsdGVyO2hvKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDoha2woXCJmaWx0ZXJcIil9LHtmaWx0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIGl1KHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSk7dmFyIG51PU9iamVjdC5pc3x8ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWU/MCE9PXR8fDEvdD09MS9lOnQhPXQmJmUhPWV9LG91PVMsYXU9S2UscnU9VyxzdT1ZLGx1PW51LGN1PUxvLGh1PUR0LHV1PVNzO2tyKFwic2VhcmNoXCIsKGZ1bmN0aW9uKHQsZSxpKXtyZXR1cm5bZnVuY3Rpb24oZSl7dmFyIGk9c3UodGhpcyksbj1ydShlKT92b2lkIDA6aHUoZSx0KTtyZXR1cm4gbj9vdShuLGUsaSk6bmV3IFJlZ0V4cChlKVt0XShjdShpKSl9LGZ1bmN0aW9uKHQpe3ZhciBuPWF1KHRoaXMpLG89Y3UodCksYT1pKGUsbixvKTtpZihhLmRvbmUpcmV0dXJuIGEudmFsdWU7dmFyIHI9bi5sYXN0SW5kZXg7bHUociwwKXx8KG4ubGFzdEluZGV4PTApO3ZhciBzPXV1KG4sbyk7cmV0dXJuIGx1KG4ubGFzdEluZGV4LHIpfHwobi5sYXN0SW5kZXg9ciksbnVsbD09PXM/LTE6cy5pbmRleH1dfSkpO3ZhciBkdT1wLGZ1PXYscHU9TCxndT1Mbyx2dT1Zby50cmltLGJ1PUhvLG11PWR1LnBhcnNlSW50LHl1PWR1LlN5bWJvbCx3dT15dSYmeXUuaXRlcmF0b3IsU3U9L15bKy1dPzB4L2kseHU9cHUoU3UuZXhlYyksa3U9OCE9PW11KGJ1K1wiMDhcIil8fDIyIT09bXUoYnUrXCIweDE2XCIpfHx3dSYmIWZ1KChmdW5jdGlvbigpe211KE9iamVjdCh3dSkpfSkpP2Z1bmN0aW9uKHQsZSl7dmFyIGk9dnUoZ3UodCkpO3JldHVybiBtdShpLGU+Pj4wfHwoeHUoU3UsaSk/MTY6MTApKX06bXU7aG8oe2dsb2JhbDohMCxmb3JjZWQ6cGFyc2VJbnQhPWt1fSx7cGFyc2VJbnQ6a3V9KTt2YXIgT3U9WWwubWFwO2hvKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDoha2woXCJtYXBcIil9LHttYXA6ZnVuY3Rpb24odCl7cmV0dXJuIE91KHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSk7dmFyIEN1PWhvLFR1PVlsLmZpbmRJbmRleCxJdT1ybCxQdT1cImZpbmRJbmRleFwiLEF1PSEwO1B1IGluW10mJkFycmF5KDEpLmZpbmRJbmRleCgoZnVuY3Rpb24oKXtBdT0hMX0pKSxDdSh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6QXV9LHtmaW5kSW5kZXg6ZnVuY3Rpb24odCl7cmV0dXJuIFR1KHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSksSXUoUHUpO3ZhciAkdT1pdCxSdT1TdHJpbmcsRXU9VHlwZUVycm9yLGp1PUwsRnU9S2UsX3U9ZnVuY3Rpb24odCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHR8fCR1KHQpKXJldHVybiB0O3Rocm93IEV1KFwiQ2FuJ3Qgc2V0IFwiK1J1KHQpK1wiIGFzIGEgcHJvdG90eXBlXCIpfSxEdT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fChcIl9fcHJvdG9fX1wiaW57fT9mdW5jdGlvbigpe3ZhciB0LGU9ITEsaT17fTt0cnl7KHQ9anUoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QucHJvdG90eXBlLFwiX19wcm90b19fXCIpLnNldCkpKGksW10pLGU9aSBpbnN0YW5jZW9mIEFycmF5fWNhdGNoKHQpe31yZXR1cm4gZnVuY3Rpb24oaSxuKXtyZXR1cm4gRnUoaSksX3UobiksZT90KGksbik6aS5fX3Byb3RvX189bixpfX0oKTp2b2lkIDApLE51PWl0LFZ1PWF0LEJ1PUR1LEx1PWZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO3JldHVybiBCdSYmTnUobj1lLmNvbnN0cnVjdG9yKSYmbiE9PWkmJlZ1KG89bi5wcm90b3R5cGUpJiZvIT09aS5wcm90b3R5cGUmJkJ1KHQsbyksdH0sSHU9UyxNdT10ZSxVdT1odCx6dT1oYSxxdT1SZWdFeHAucHJvdG90eXBlLFd1PWZ1bmN0aW9uKHQpe3ZhciBlPXQuZmxhZ3M7cmV0dXJuIHZvaWQgMCE9PWV8fFwiZmxhZ3NcImluIHF1fHxNdSh0LFwiZmxhZ3NcIil8fCFVdShxdSx0KT9lOkh1KHp1LHQpfSxHdT1VZS5mLEt1PWN0LFl1PVVlLEp1PWIsWHU9dmUoXCJzcGVjaWVzXCIpLFF1PWIsWnU9cCx0ZD1MLGVkPWlvLGlkPUx1LG5kPWxpLG9kPWNuLmYsYWQ9aHQscmQ9SXIsc2Q9TG8sbGQ9V3UsY2Q9Z2EsaGQ9ZnVuY3Rpb24odCxlLGkpe2kgaW4gdHx8R3UodCxpLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGVbaV19LHNldDpmdW5jdGlvbih0KXtlW2ldPXR9fSl9LHVkPWxuLGRkPXYsZmQ9dGUscGQ9emkuZW5mb3JjZSxnZD1mdW5jdGlvbih0KXt2YXIgZT1LdSh0KSxpPVl1LmY7SnUmJmUmJiFlW1h1XSYmaShlLFh1LHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9LHZkPUJhLGJkPU1hLG1kPXZlKFwibWF0Y2hcIikseWQ9WnUuUmVnRXhwLHdkPXlkLnByb3RvdHlwZSxTZD1adS5TeW50YXhFcnJvcix4ZD10ZCh3ZC5leGVjKSxrZD10ZChcIlwiLmNoYXJBdCksT2Q9dGQoXCJcIi5yZXBsYWNlKSxDZD10ZChcIlwiLmluZGV4T2YpLFRkPXRkKFwiXCIuc2xpY2UpLElkPS9eXFw/PFteXFxzXFxkISMlJiorPD0+QF5dW15cXHMhIyUmKis8PT5AXl0qPi8sUGQ9L2EvZyxBZD0vYS9nLCRkPW5ldyB5ZChQZCkhPT1QZCxSZD1jZC5NSVNTRURfU1RJQ0tZLEVkPWNkLlVOU1VQUE9SVEVEX1ksamQ9UXUmJighJGR8fFJkfHx2ZHx8YmR8fGRkKChmdW5jdGlvbigpe3JldHVybiBBZFttZF09ITEseWQoUGQpIT1QZHx8eWQoQWQpPT1BZHx8XCIvYS9pXCIhPXlkKFBkLFwiaVwiKX0pKSk7aWYoZWQoXCJSZWdFeHBcIixqZCkpe2Zvcih2YXIgRmQ9ZnVuY3Rpb24odCxlKXt2YXIgaSxuLG8sYSxyLHMsbD1hZCh3ZCx0aGlzKSxjPXJkKHQpLGg9dm9pZCAwPT09ZSx1PVtdLGQ9dDtpZighbCYmYyYmaCYmdC5jb25zdHJ1Y3Rvcj09PUZkKXJldHVybiB0O2lmKChjfHxhZCh3ZCx0KSkmJih0PXQuc291cmNlLGgmJihlPWxkKGQpKSksdD12b2lkIDA9PT10P1wiXCI6c2QodCksZT12b2lkIDA9PT1lP1wiXCI6c2QoZSksZD10LHZkJiZcImRvdEFsbFwiaW4gUGQmJihuPSEhZSYmQ2QoZSxcInNcIik+LTEpJiYoZT1PZChlLC9zL2csXCJcIikpLGk9ZSxSZCYmXCJzdGlja3lcImluIFBkJiYobz0hIWUmJkNkKGUsXCJ5XCIpPi0xKSYmRWQmJihlPU9kKGUsL3kvZyxcIlwiKSksYmQmJihhPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpPXQubGVuZ3RoLG49MCxvPVwiXCIsYT1bXSxyPXt9LHM9ITEsbD0hMSxjPTAsaD1cIlwiO248PWk7bisrKXtpZihcIlxcXFxcIj09PShlPWtkKHQsbikpKWUrPWtkKHQsKytuKTtlbHNlIGlmKFwiXVwiPT09ZSlzPSExO2Vsc2UgaWYoIXMpc3dpdGNoKCEwKXtjYXNlXCJbXCI9PT1lOnM9ITA7YnJlYWs7Y2FzZVwiKFwiPT09ZTp4ZChJZCxUZCh0LG4rMSkpJiYobis9MixsPSEwKSxvKz1lLGMrKztjb250aW51ZTtjYXNlXCI+XCI9PT1lJiZsOmlmKFwiXCI9PT1ofHxmZChyLGgpKXRocm93IG5ldyBTZChcIkludmFsaWQgY2FwdHVyZSBncm91cCBuYW1lXCIpO3JbaF09ITAsYVthLmxlbmd0aF09W2gsY10sbD0hMSxoPVwiXCI7Y29udGludWV9bD9oKz1lOm8rPWV9cmV0dXJuW28sYV19KHQpLHQ9YVswXSx1PWFbMV0pLHI9aWQoeWQodCxlKSxsP3RoaXM6d2QsRmQpLChufHxvfHx1Lmxlbmd0aCkmJihzPXBkKHIpLG4mJihzLmRvdEFsbD0hMCxzLnJhdz1GZChmdW5jdGlvbih0KXtmb3IodmFyIGUsaT10Lmxlbmd0aCxuPTAsbz1cIlwiLGE9ITE7bjw9aTtuKyspXCJcXFxcXCIhPT0oZT1rZCh0LG4pKT9hfHxcIi5cIiE9PWU/KFwiW1wiPT09ZT9hPSEwOlwiXVwiPT09ZSYmKGE9ITEpLG8rPWUpOm8rPVwiW1xcXFxzXFxcXFNdXCI6bys9ZStrZCh0LCsrbik7cmV0dXJuIG99KHQpLGkpKSxvJiYocy5zdGlja3k9ITApLHUubGVuZ3RoJiYocy5ncm91cHM9dSkpLHQhPT1kKXRyeXtuZChyLFwic291cmNlXCIsXCJcIj09PWQ/XCIoPzopXCI6ZCl9Y2F0Y2godCl7fXJldHVybiByfSxfZD1vZCh5ZCksRGQ9MDtfZC5sZW5ndGg+RGQ7KWhkKEZkLHlkLF9kW0RkKytdKTt3ZC5jb25zdHJ1Y3Rvcj1GZCxGZC5wcm90b3R5cGU9d2QsdWQoWnUsXCJSZWdFeHBcIixGZCx7Y29uc3RydWN0b3I6ITB9KX1nZChcIlJlZ0V4cFwiKTt2YXIgTmQ9Z2kuUFJPUEVSLFZkPWxuLEJkPUtlLExkPUxvLEhkPXYsTWQ9V3UsVWQ9XCJ0b1N0cmluZ1wiLHpkPVJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcscWQ9SGQoKGZ1bmN0aW9uKCl7cmV0dXJuXCIvYS9iXCIhPXpkLmNhbGwoe3NvdXJjZTpcImFcIixmbGFnczpcImJcIn0pfSkpLFdkPU5kJiZ6ZC5uYW1lIT1VZDsocWR8fFdkKSYmVmQoUmVnRXhwLnByb3RvdHlwZSxVZCwoZnVuY3Rpb24oKXt2YXIgdD1CZCh0aGlzKTtyZXR1cm5cIi9cIitMZCh0LnNvdXJjZSkrXCIvXCIrTGQoTWQodCkpfSkse3Vuc2FmZTohMH0pO3ZhciBHZD1MKFtdLnNsaWNlKSxLZD1obyxZZD1obCxKZD1IcixYZD1hdCxRZD1ibixaZD14bix0Zj1RLGVmPWxzLG5mPXZlLG9mPUdkLGFmPWtsKFwic2xpY2VcIikscmY9bmYoXCJzcGVjaWVzXCIpLHNmPUFycmF5LGxmPU1hdGgubWF4O0tkKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohYWZ9LHtzbGljZTpmdW5jdGlvbih0LGUpe3ZhciBpLG4sbyxhPXRmKHRoaXMpLHI9WmQoYSkscz1RZCh0LHIpLGw9UWQodm9pZCAwPT09ZT9yOmUscik7aWYoWWQoYSkmJihpPWEuY29uc3RydWN0b3IsKEpkKGkpJiYoaT09PXNmfHxZZChpLnByb3RvdHlwZSkpfHxYZChpKSYmbnVsbD09PShpPWlbcmZdKSkmJihpPXZvaWQgMCksaT09PXNmfHx2b2lkIDA9PT1pKSlyZXR1cm4gb2YoYSxzLGwpO2ZvcihuPW5ldyh2b2lkIDA9PT1pP3NmOmkpKGxmKGwtcywwKSksbz0wO3M8bDtzKyssbysrKXMgaW4gYSYmZWYobixvLGFbc10pO3JldHVybiBuLmxlbmd0aD1vLG59fSk7dmFyIGNmLGhmLHVmLGRmPXt9LGZmPSF2KChmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPW51bGwsT2JqZWN0LmdldFByb3RvdHlwZU9mKG5ldyB0KSE9PXQucHJvdG90eXBlfSkpLHBmPXRlLGdmPWl0LHZmPVh0LGJmPWZmLG1mPUFpKFwiSUVfUFJPVE9cIikseWY9T2JqZWN0LHdmPXlmLnByb3RvdHlwZSxTZj1iZj95Zi5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbih0KXt2YXIgZT12Zih0KTtpZihwZihlLG1mKSlyZXR1cm4gZVttZl07dmFyIGk9ZS5jb25zdHJ1Y3RvcjtyZXR1cm4gZ2YoaSkmJmUgaW5zdGFuY2VvZiBpP2kucHJvdG90eXBlOmUgaW5zdGFuY2VvZiB5Zj93ZjpudWxsfSx4Zj12LGtmPWl0LE9mPWF0LENmPVNmLFRmPWxuLElmPXZlKFwiaXRlcmF0b3JcIiksUGY9ITE7W10ua2V5cyYmKFwibmV4dFwiaW4odWY9W10ua2V5cygpKT8oaGY9Q2YoQ2YodWYpKSkhPT1PYmplY3QucHJvdG90eXBlJiYoY2Y9aGYpOlBmPSEwKTt2YXIgQWY9IU9mKGNmKXx8eGYoKGZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIGNmW0lmXS5jYWxsKHQpIT09dH0pKTtBZiYmKGNmPXt9KSxrZihjZltJZl0pfHxUZihjZixJZiwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKTt2YXIgJGY9e0l0ZXJhdG9yUHJvdG90eXBlOmNmLEJVR0dZX1NBRkFSSV9JVEVSQVRPUlM6UGZ9LFJmPVVlLmYsRWY9dGUsamY9dmUoXCJ0b1N0cmluZ1RhZ1wiKSxGZj1mdW5jdGlvbih0LGUsaSl7dCYmIWkmJih0PXQucHJvdG90eXBlKSx0JiYhRWYodCxqZikmJlJmKHQsamYse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTplfSl9LF9mPSRmLkl0ZXJhdG9yUHJvdG90eXBlLERmPURhLE5mPVAsVmY9RmYsQmY9ZGYsTGY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sSGY9aG8sTWY9UyxVZj1pdCx6Zj1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1lK1wiIEl0ZXJhdG9yXCI7cmV0dXJuIHQucHJvdG90eXBlPURmKF9mLHtuZXh0Ok5mKCshbixpKX0pLFZmKHQsbywhMSksQmZbb109TGYsdH0scWY9U2YsV2Y9RHUsR2Y9RmYsS2Y9bGksWWY9bG4sSmY9ZGYsWGY9Z2kuUFJPUEVSLFFmPWdpLkNPTkZJR1VSQUJMRSxaZj0kZi5JdGVyYXRvclByb3RvdHlwZSx0cD0kZi5CVUdHWV9TQUZBUklfSVRFUkFUT1JTLGVwPXZlKFwiaXRlcmF0b3JcIiksaXA9XCJrZXlzXCIsbnA9XCJ2YWx1ZXNcIixvcD1cImVudHJpZXNcIixhcD1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxycD1RLHNwPXJsLGxwPWRmLGNwPXppLGhwPVVlLmYsdXA9ZnVuY3Rpb24odCxlLGksbixvLGEscil7emYoaSxlLG4pO3ZhciBzLGwsYyxoPWZ1bmN0aW9uKHQpe2lmKHQ9PT1vJiZnKXJldHVybiBnO2lmKCF0cCYmdCBpbiBmKXJldHVybiBmW3RdO3N3aXRjaCh0KXtjYXNlIGlwOmNhc2UgbnA6Y2FzZSBvcDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkodGhpcyx0KX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMpfX0sdT1lK1wiIEl0ZXJhdG9yXCIsZD0hMSxmPXQucHJvdG90eXBlLHA9ZltlcF18fGZbXCJAQGl0ZXJhdG9yXCJdfHxvJiZmW29dLGc9IXRwJiZwfHxoKG8pLHY9XCJBcnJheVwiPT1lJiZmLmVudHJpZXN8fHA7aWYodiYmKHM9cWYodi5jYWxsKG5ldyB0KSkpIT09T2JqZWN0LnByb3RvdHlwZSYmcy5uZXh0JiYocWYocykhPT1aZiYmKFdmP1dmKHMsWmYpOlVmKHNbZXBdKXx8WWYocyxlcCxhcCkpLEdmKHMsdSwhMCkpLFhmJiZvPT1ucCYmcCYmcC5uYW1lIT09bnAmJihRZj9LZihmLFwibmFtZVwiLG5wKTooZD0hMCxnPWZ1bmN0aW9uKCl7cmV0dXJuIE1mKHAsdGhpcyl9KSksbylpZihsPXt2YWx1ZXM6aChucCksa2V5czphP2c6aChpcCksZW50cmllczpoKG9wKX0scilmb3IoYyBpbiBsKSh0cHx8ZHx8IShjIGluIGYpKSYmWWYoZixjLGxbY10pO2Vsc2UgSGYoe3RhcmdldDplLHByb3RvOiEwLGZvcmNlZDp0cHx8ZH0sbCk7cmV0dXJuIGZbZXBdIT09ZyYmWWYoZixlcCxnLHtuYW1lOm99KSxKZltlXT1nLGx9LGRwPWZ1bmN0aW9uKHQsZSl7cmV0dXJue3ZhbHVlOnQsZG9uZTplfX0sZnA9YixwcD1cIkFycmF5IEl0ZXJhdG9yXCIsZ3A9Y3Auc2V0LHZwPWNwLmdldHRlckZvcihwcCksYnA9dXAoQXJyYXksXCJBcnJheVwiLChmdW5jdGlvbih0LGUpe2dwKHRoaXMse3R5cGU6cHAsdGFyZ2V0OnJwKHQpLGluZGV4OjAsa2luZDplfSl9KSwoZnVuY3Rpb24oKXt2YXIgdD12cCh0aGlzKSxlPXQudGFyZ2V0LGk9dC5raW5kLG49dC5pbmRleCsrO3JldHVybiFlfHxuPj1lLmxlbmd0aD8odC50YXJnZXQ9dm9pZCAwLGRwKHZvaWQgMCwhMCkpOmRwKFwia2V5c1wiPT1pP246XCJ2YWx1ZXNcIj09aT9lW25dOltuLGVbbl1dLCExKX0pLFwidmFsdWVzXCIpLG1wPWxwLkFyZ3VtZW50cz1scC5BcnJheTtpZihzcChcImtleXNcIiksc3AoXCJ2YWx1ZXNcIiksc3AoXCJlbnRyaWVzXCIpLGZwJiZcInZhbHVlc1wiIT09bXAubmFtZSl0cnl7aHAobXAsXCJuYW1lXCIse3ZhbHVlOlwidmFsdWVzXCJ9KX1jYXRjaCh0KXt9dmFyIHlwPXAsd3A9cGMsU3A9YmMseHA9YnAsa3A9bGksT3A9dmUsQ3A9T3AoXCJpdGVyYXRvclwiKSxUcD1PcChcInRvU3RyaW5nVGFnXCIpLElwPXhwLnZhbHVlcyxQcD1mdW5jdGlvbih0LGUpe2lmKHQpe2lmKHRbQ3BdIT09SXApdHJ5e2twKHQsQ3AsSXApfWNhdGNoKGUpe3RbQ3BdPUlwfWlmKHRbVHBdfHxrcCh0LFRwLGUpLHdwW2VdKWZvcih2YXIgaSBpbiB4cClpZih0W2ldIT09eHBbaV0pdHJ5e2twKHQsaSx4cFtpXSl9Y2F0Y2goZSl7dFtpXT14cFtpXX19fTtmb3IodmFyIEFwIGluIHdwKVBwKHlwW0FwXSYmeXBbQXBdLnByb3RvdHlwZSxBcCk7UHAoU3AsXCJET01Ub2tlbkxpc3RcIik7dmFyICRwPWIsUnA9aGwsRXA9VHlwZUVycm9yLGpwPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsRnA9JHAmJiFmdW5jdGlvbigpe2lmKHZvaWQgMCE9PXRoaXMpcmV0dXJuITA7dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0eShbXSxcImxlbmd0aFwiLHt3cml0YWJsZTohMX0pLmxlbmd0aD0xfWNhdGNoKHQpe3JldHVybiB0IGluc3RhbmNlb2YgVHlwZUVycm9yfX0oKSxfcD1obyxEcD1YdCxOcD1ibixWcD1mbixCcD14bixMcD1GcD9mdW5jdGlvbih0LGUpe2lmKFJwKHQpJiYhanAodCxcImxlbmd0aFwiKS53cml0YWJsZSl0aHJvdyBFcChcIkNhbm5vdCBzZXQgcmVhZCBvbmx5IC5sZW5ndGhcIik7cmV0dXJuIHQubGVuZ3RoPWV9OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubGVuZ3RoPWV9LEhwPWRsLE1wPXlsLFVwPWxzLHpwPXpjLHFwPWtsKFwic3BsaWNlXCIpLFdwPU1hdGgubWF4LEdwPU1hdGgubWluO19wKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohcXB9LHtzcGxpY2U6ZnVuY3Rpb24odCxlKXt2YXIgaSxuLG8sYSxyLHMsbD1EcCh0aGlzKSxjPUJwKGwpLGg9TnAodCxjKSx1PWFyZ3VtZW50cy5sZW5ndGg7Zm9yKDA9PT11P2k9bj0wOjE9PT11PyhpPTAsbj1jLWgpOihpPXUtMixuPUdwKFdwKFZwKGUpLDApLGMtaCkpLEhwKGMraS1uKSxvPU1wKGwsbiksYT0wO2E8bjthKyspKHI9aCthKWluIGwmJlVwKG8sYSxsW3JdKTtpZihvLmxlbmd0aD1uLGk8bil7Zm9yKGE9aDthPGMtbjthKyspcz1hK2ksKHI9YStuKWluIGw/bFtzXT1sW3JdOnpwKGwscyk7Zm9yKGE9YzthPmMtbitpO2EtLSl6cChsLGEtMSl9ZWxzZSBpZihpPm4pZm9yKGE9Yy1uO2E+aDthLS0pcz1hK2ktMSwocj1hK24tMSlpbiBsP2xbc109bFtyXTp6cChsLHMpO2ZvcihhPTA7YTxpO2ErKylsW2EraF09YXJndW1lbnRzW2ErMl07cmV0dXJuIExwKGwsYy1uK2kpLG99fSk7dmFyIEtwPUwoMS4udmFsdWVPZiksWXA9YixKcD1wLFhwPUwsUXA9aW8sWnA9bG4sdGc9dGUsZWc9THUsaWc9aHQsbmc9SXQsb2c9T2UsYWc9dixyZz1jbi5mLHNnPWcuZixsZz1VZS5mLGNnPUtwLGhnPVlvLnRyaW0sdWc9XCJOdW1iZXJcIixkZz1KcC5OdW1iZXIsZmc9ZGcucHJvdG90eXBlLHBnPUpwLlR5cGVFcnJvcixnZz1YcChcIlwiLnNsaWNlKSx2Zz1YcChcIlwiLmNoYXJDb2RlQXQpLGJnPWZ1bmN0aW9uKHQpe3ZhciBlPW9nKHQsXCJudW1iZXJcIik7cmV0dXJuXCJiaWdpbnRcIj09dHlwZW9mIGU/ZTptZyhlKX0sbWc9ZnVuY3Rpb24odCl7dmFyIGUsaSxuLG8sYSxyLHMsbCxjPW9nKHQsXCJudW1iZXJcIik7aWYobmcoYykpdGhyb3cgcGcoXCJDYW5ub3QgY29udmVydCBhIFN5bWJvbCB2YWx1ZSB0byBhIG51bWJlclwiKTtpZihcInN0cmluZ1wiPT10eXBlb2YgYyYmYy5sZW5ndGg+MilpZihjPWhnKGMpLDQzPT09KGU9dmcoYywwKSl8fDQ1PT09ZSl7aWYoODg9PT0oaT12ZyhjLDIpKXx8MTIwPT09aSlyZXR1cm4gTmFOfWVsc2UgaWYoNDg9PT1lKXtzd2l0Y2godmcoYywxKSl7Y2FzZSA2NjpjYXNlIDk4Om49MixvPTQ5O2JyZWFrO2Nhc2UgNzk6Y2FzZSAxMTE6bj04LG89NTU7YnJlYWs7ZGVmYXVsdDpyZXR1cm4rY31mb3Iocj0oYT1nZyhjLDIpKS5sZW5ndGgscz0wO3M8cjtzKyspaWYoKGw9dmcoYSxzKSk8NDh8fGw+bylyZXR1cm4gTmFOO3JldHVybiBwYXJzZUludChhLG4pfXJldHVybitjfTtpZihRcCh1ZywhZGcoXCIgMG8xXCIpfHwhZGcoXCIwYjFcIil8fGRnKFwiKzB4MVwiKSkpe2Zvcih2YXIgeWcsd2c9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDwxPzA6ZGcoYmcodCkpLGk9dGhpcztyZXR1cm4gaWcoZmcsaSkmJmFnKChmdW5jdGlvbigpe2NnKGkpfSkpP2VnKE9iamVjdChlKSxpLHdnKTplfSxTZz1ZcD9yZyhkZyk6XCJNQVhfVkFMVUUsTUlOX1ZBTFVFLE5hTixORUdBVElWRV9JTkZJTklUWSxQT1NJVElWRV9JTkZJTklUWSxFUFNJTE9OLE1BWF9TQUZFX0lOVEVHRVIsTUlOX1NBRkVfSU5URUdFUixpc0Zpbml0ZSxpc0ludGVnZXIsaXNOYU4saXNTYWZlSW50ZWdlcixwYXJzZUZsb2F0LHBhcnNlSW50LGZyb21TdHJpbmcscmFuZ2VcIi5zcGxpdChcIixcIikseGc9MDtTZy5sZW5ndGg+eGc7eGcrKyl0ZyhkZyx5Zz1TZ1t4Z10pJiYhdGcod2cseWcpJiZsZyh3Zyx5ZyxzZyhkZyx5ZykpO3dnLnByb3RvdHlwZT1mZyxmZy5jb25zdHJ1Y3Rvcj13ZyxacChKcCx1Zyx3Zyx7Y29uc3RydWN0b3I6ITB9KX12YXIga2c9aG8sT2c9aGwsQ2c9TChbXS5yZXZlcnNlKSxUZz1bMSwyXTtrZyh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6U3RyaW5nKFRnKT09PVN0cmluZyhUZy5yZXZlcnNlKCkpfSx7cmV2ZXJzZTpmdW5jdGlvbigpe3JldHVybiBPZyh0aGlzKSYmKHRoaXMubGVuZ3RoPXRoaXMubGVuZ3RoKSxDZyh0aGlzKX19KTt2YXIgSWc9WHQsUGc9cG87aG8oe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsZm9yY2VkOnYoKGZ1bmN0aW9uKCl7UGcoMSl9KSl9LHtrZXlzOmZ1bmN0aW9uKHQpe3JldHVybiBQZyhJZyh0KSl9fSk7dmFyIEFnPVMsJGc9S2UsUmc9VyxFZz13bixqZz1MbyxGZz1ZLF9nPUR0LERnPW9zLE5nPVNzO2tyKFwibWF0Y2hcIiwoZnVuY3Rpb24odCxlLGkpe3JldHVybltmdW5jdGlvbihlKXt2YXIgaT1GZyh0aGlzKSxuPVJnKGUpP3ZvaWQgMDpfZyhlLHQpO3JldHVybiBuP0FnKG4sZSxpKTpuZXcgUmVnRXhwKGUpW3RdKGpnKGkpKX0sZnVuY3Rpb24odCl7dmFyIG49JGcodGhpcyksbz1qZyh0KSxhPWkoZSxuLG8pO2lmKGEuZG9uZSlyZXR1cm4gYS52YWx1ZTtpZighbi5nbG9iYWwpcmV0dXJuIE5nKG4sbyk7dmFyIHI9bi51bmljb2RlO24ubGFzdEluZGV4PTA7Zm9yKHZhciBzLGw9W10sYz0wO251bGwhPT0ocz1OZyhuLG8pKTspe3ZhciBoPWpnKHNbMF0pO2xbY109aCxcIlwiPT09aCYmKG4ubGFzdEluZGV4PURnKG8sRWcobi5sYXN0SW5kZXgpLHIpKSxjKyt9cmV0dXJuIDA9PT1jP251bGw6bH1dfSkpO3ZhciBWZyxCZz1obyxMZz1MLEhnPWcuZixNZz13bixVZz1Mbyx6Zz1hYyxxZz1ZLFdnPXNjLEdnPUxnKFwiXCIuc3RhcnRzV2l0aCksS2c9TGcoXCJcIi5zbGljZSksWWc9TWF0aC5taW4sSmc9V2coXCJzdGFydHNXaXRoXCIpO0JnKHt0YXJnZXQ6XCJTdHJpbmdcIixwcm90bzohMCxmb3JjZWQ6ISEoSmd8fChWZz1IZyhTdHJpbmcucHJvdG90eXBlLFwic3RhcnRzV2l0aFwiKSwhVmd8fFZnLndyaXRhYmxlKSkmJiFKZ30se3N0YXJ0c1dpdGg6ZnVuY3Rpb24odCl7dmFyIGU9VWcocWcodGhpcykpO3pnKHQpO3ZhciBpPU1nKFlnKGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLGUubGVuZ3RoKSksbj1VZyh0KTtyZXR1cm4gR2c/R2coZSxuLGkpOktnKGUsaSxpK24ubGVuZ3RoKT09PW59fSk7dmFyIFhnPWhvLFFnPUwsWmc9Zy5mLHR2PXduLGV2PUxvLGl2PWFjLG52PVksb3Y9c2MsYXY9UWcoXCJcIi5lbmRzV2l0aCkscnY9UWcoXCJcIi5zbGljZSksc3Y9TWF0aC5taW4sbHY9b3YoXCJlbmRzV2l0aFwiKSxjdj0hbHYmJiEhZnVuY3Rpb24oKXt2YXIgdD1aZyhTdHJpbmcucHJvdG90eXBlLFwiZW5kc1dpdGhcIik7cmV0dXJuIHQmJiF0LndyaXRhYmxlfSgpO1hnKHt0YXJnZXQ6XCJTdHJpbmdcIixwcm90bzohMCxmb3JjZWQ6IWN2JiYhbHZ9LHtlbmRzV2l0aDpmdW5jdGlvbih0KXt2YXIgZT1ldihudih0aGlzKSk7aXYodCk7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsbj1lLmxlbmd0aCxvPXZvaWQgMD09PWk/bjpzdih0dihpKSxuKSxhPWV2KHQpO3JldHVybiBhdj9hdihlLGEsbyk6cnYoZSxvLWEubGVuZ3RoLG8pPT09YX19KTt2YXIgaHY9e2dldEJvb3RzdHJhcFZlcnNpb246ZnVuY3Rpb24oKXt2YXIgdD01O3RyeXt2YXIgZT1pLmRlZmF1bHQuZm4uZHJvcGRvd24uQ29uc3RydWN0b3IuVkVSU0lPTjt2b2lkIDAhPT1lJiYodD1wYXJzZUludChlLDEwKSl9Y2F0Y2godCl7fXRyeXt2YXIgbj1ib290c3RyYXAuVG9vbHRpcC5WRVJTSU9OO3ZvaWQgMCE9PW4mJih0PXBhcnNlSW50KG4sMTApKX1jYXRjaCh0KXt9cmV0dXJuIHR9LGdldEljb25zUHJlZml4OmZ1bmN0aW9uKHQpe3JldHVybntib290c3RyYXAzOlwiZ2x5cGhpY29uXCIsYm9vdHN0cmFwNDpcImZhXCIsYm9vdHN0cmFwNTpcImJpXCIsXCJib290c3RyYXAtdGFibGVcIjpcImljb25cIixidWxtYTpcImZhXCIsZm91bmRhdGlvbjpcImZhXCIsbWF0ZXJpYWxpemU6XCJtYXRlcmlhbC1pY29uc1wiLHNlbWFudGljOlwiZmFcIn1bdF18fFwiZmFcIn0sZ2V0SWNvbnM6ZnVuY3Rpb24odCl7cmV0dXJue2dseXBoaWNvbjp7cGFnaW5hdGlvblN3aXRjaERvd246XCJnbHlwaGljb24tY29sbGFwc2UtZG93biBpY29uLWNoZXZyb24tZG93blwiLHBhZ2luYXRpb25Td2l0Y2hVcDpcImdseXBoaWNvbi1jb2xsYXBzZS11cCBpY29uLWNoZXZyb24tdXBcIixyZWZyZXNoOlwiZ2x5cGhpY29uLXJlZnJlc2ggaWNvbi1yZWZyZXNoXCIsdG9nZ2xlT2ZmOlwiZ2x5cGhpY29uLWxpc3QtYWx0IGljb24tbGlzdC1hbHRcIix0b2dnbGVPbjpcImdseXBoaWNvbi1saXN0LWFsdCBpY29uLWxpc3QtYWx0XCIsY29sdW1uczpcImdseXBoaWNvbi10aCBpY29uLXRoXCIsZGV0YWlsT3BlbjpcImdseXBoaWNvbi1wbHVzIGljb24tcGx1c1wiLGRldGFpbENsb3NlOlwiZ2x5cGhpY29uLW1pbnVzIGljb24tbWludXNcIixmdWxsc2NyZWVuOlwiZ2x5cGhpY29uLWZ1bGxzY3JlZW5cIixzZWFyY2g6XCJnbHlwaGljb24tc2VhcmNoXCIsY2xlYXJTZWFyY2g6XCJnbHlwaGljb24tdHJhc2hcIn0sZmE6e3BhZ2luYXRpb25Td2l0Y2hEb3duOlwiZmEtY2FyZXQtc3F1YXJlLWRvd25cIixwYWdpbmF0aW9uU3dpdGNoVXA6XCJmYS1jYXJldC1zcXVhcmUtdXBcIixyZWZyZXNoOlwiZmEtc3luY1wiLHRvZ2dsZU9mZjpcImZhLXRvZ2dsZS1vZmZcIix0b2dnbGVPbjpcImZhLXRvZ2dsZS1vblwiLGNvbHVtbnM6XCJmYS10aC1saXN0XCIsZGV0YWlsT3BlbjpcImZhLXBsdXNcIixkZXRhaWxDbG9zZTpcImZhLW1pbnVzXCIsZnVsbHNjcmVlbjpcImZhLWFycm93cy1hbHRcIixzZWFyY2g6XCJmYS1zZWFyY2hcIixjbGVhclNlYXJjaDpcImZhLXRyYXNoXCJ9LGJpOntwYWdpbmF0aW9uU3dpdGNoRG93bjpcImJpLWNhcmV0LWRvd24tc3F1YXJlXCIscGFnaW5hdGlvblN3aXRjaFVwOlwiYmktY2FyZXQtdXAtc3F1YXJlXCIscmVmcmVzaDpcImJpLWFycm93LWNsb2Nrd2lzZVwiLHRvZ2dsZU9mZjpcImJpLXRvZ2dsZS1vZmZcIix0b2dnbGVPbjpcImJpLXRvZ2dsZS1vblwiLGNvbHVtbnM6XCJiaS1saXN0LXVsXCIsZGV0YWlsT3BlbjpcImJpLXBsdXNcIixkZXRhaWxDbG9zZTpcImJpLWRhc2hcIixmdWxsc2NyZWVuOlwiYmktYXJyb3dzLW1vdmVcIixzZWFyY2g6XCJiaS1zZWFyY2hcIixjbGVhclNlYXJjaDpcImJpLXRyYXNoXCJ9LGljb246e3BhZ2luYXRpb25Td2l0Y2hEb3duOlwiaWNvbi1hcnJvdy11cC1jaXJjbGVcIixwYWdpbmF0aW9uU3dpdGNoVXA6XCJpY29uLWFycm93LWRvd24tY2lyY2xlXCIscmVmcmVzaDpcImljb24tcmVmcmVzaC1jd1wiLHRvZ2dsZU9mZjpcImljb24tdG9nZ2xlLXJpZ2h0XCIsdG9nZ2xlT246XCJpY29uLXRvZ2dsZS1yaWdodFwiLGNvbHVtbnM6XCJpY29uLWxpc3RcIixkZXRhaWxPcGVuOlwiaWNvbi1wbHVzXCIsZGV0YWlsQ2xvc2U6XCJpY29uLW1pbnVzXCIsZnVsbHNjcmVlbjpcImljb24tbWF4aW1pemVcIixzZWFyY2g6XCJpY29uLXNlYXJjaFwiLGNsZWFyU2VhcmNoOlwiaWNvbi10cmFzaC0yXCJ9LFwibWF0ZXJpYWwtaWNvbnNcIjp7cGFnaW5hdGlvblN3aXRjaERvd246XCJncmlkX29uXCIscGFnaW5hdGlvblN3aXRjaFVwOlwiZ3JpZF9vZmZcIixyZWZyZXNoOlwicmVmcmVzaFwiLHRvZ2dsZU9mZjpcInRhYmxldFwiLHRvZ2dsZU9uOlwidGFibGV0X2FuZHJvaWRcIixjb2x1bW5zOlwidmlld19saXN0XCIsZGV0YWlsT3BlbjpcImFkZFwiLGRldGFpbENsb3NlOlwicmVtb3ZlXCIsZnVsbHNjcmVlbjpcImZ1bGxzY3JlZW5cIixzb3J0Olwic29ydFwiLHNlYXJjaDpcInNlYXJjaFwiLGNsZWFyU2VhcmNoOlwiZGVsZXRlXCJ9fVt0XX0sZ2V0U2VhcmNoSW5wdXQ6ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQub3B0aW9ucy5zZWFyY2hTZWxlY3Rvcj9pLmRlZmF1bHQodC5vcHRpb25zLnNlYXJjaFNlbGVjdG9yKTp0LiR0b29sYmFyLmZpbmQoXCIuc2VhcmNoIGlucHV0XCIpfSxzcHJpbnRmOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KGU+MT9lLTE6MCksbj0xO248ZTtuKyspaVtuLTFdPWFyZ3VtZW50c1tuXTt2YXIgbz0hMCxhPTAscj10LnJlcGxhY2UoLyVzL2csKGZ1bmN0aW9uKCl7dmFyIHQ9aVthKytdO3JldHVybiB2b2lkIDA9PT10PyhvPSExLFwiXCIpOnR9KSk7cmV0dXJuIG8/cjpcIlwifSxpc09iamVjdDpmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIE9iamVjdCYmIUFycmF5LmlzQXJyYXkodCl9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIDA9PT1PYmplY3QuZW50cmllcyh0KS5sZW5ndGgmJnQuY29uc3RydWN0b3I9PT1PYmplY3R9LGlzTnVtZXJpYzpmdW5jdGlvbih0KXtyZXR1cm4haXNOYU4ocGFyc2VGbG9hdCh0KSkmJmlzRmluaXRlKHQpfSxnZXRGaWVsZFRpdGxlOmZ1bmN0aW9uKHQsZSl7dmFyIGksbj11KHQpO3RyeXtmb3Iobi5zKCk7IShpPW4ubigpKS5kb25lOyl7dmFyIG89aS52YWx1ZTtpZihvLmZpZWxkPT09ZSlyZXR1cm4gby50aXRsZX19Y2F0Y2godCl7bi5lKHQpfWZpbmFsbHl7bi5mKCl9cmV0dXJuXCJcIn0sc2V0RmllbGRJbmRleDpmdW5jdGlvbih0KXt2YXIgZSxpPTAsbj1bXSxvPXUodFswXSk7dHJ5e2ZvcihvLnMoKTshKGU9by5uKCkpLmRvbmU7KXtpKz1lLnZhbHVlLmNvbHNwYW58fDF9fWNhdGNoKHQpe28uZSh0KX1maW5hbGx5e28uZigpfWZvcih2YXIgYT0wO2E8dC5sZW5ndGg7YSsrKXtuW2FdPVtdO2Zvcih2YXIgcj0wO3I8aTtyKyspblthXVtyXT0hMX1mb3IodmFyIHM9MDtzPHQubGVuZ3RoO3MrKyl7dmFyIGwsYz11KHRbc10pO3RyeXtmb3IoYy5zKCk7IShsPWMubigpKS5kb25lOyl7dmFyIGg9bC52YWx1ZSxkPWgucm93c3Bhbnx8MSxmPWguY29sc3Bhbnx8MSxwPW5bc10uaW5kZXhPZighMSk7aC5jb2xzcGFuSW5kZXg9cCwxPT09Zj8oaC5maWVsZEluZGV4PXAsdm9pZCAwPT09aC5maWVsZCYmKGguZmllbGQ9cCkpOmguY29sc3Bhbkdyb3VwPWguY29sc3Bhbjtmb3IodmFyIGc9MDtnPGQ7ZysrKWZvcih2YXIgdj0wO3Y8Zjt2KyspbltzK2ddW3Ardl09ITB9fWNhdGNoKHQpe2MuZSh0KX1maW5hbGx5e2MuZigpfX19LG5vcm1hbGl6ZUFjY2VudDpmdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgdD90OnQubm9ybWFsaXplKFwiTkZEXCIpLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csXCJcIil9LHVwZGF0ZUZpZWxkR3JvdXA6ZnVuY3Rpb24odCxlKXt2YXIgaSxuLG89KGk9W10pLmNvbmNhdC5hcHBseShpLGwodCkpLGE9dSh0KTt0cnl7Zm9yKGEucygpOyEobj1hLm4oKSkuZG9uZTspe3ZhciByLHM9dShuLnZhbHVlKTt0cnl7Zm9yKHMucygpOyEocj1zLm4oKSkuZG9uZTspe3ZhciBjPXIudmFsdWU7aWYoYy5jb2xzcGFuR3JvdXA+MSl7Zm9yKHZhciBoPTAsZD1mdW5jdGlvbih0KXtvLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmZpZWxkSW5kZXg9PT10fSkpLnZpc2libGUmJmgrK30sZj1jLmNvbHNwYW5JbmRleDtmPGMuY29sc3BhbkluZGV4K2MuY29sc3Bhbkdyb3VwO2YrKylkKGYpO2MuY29sc3Bhbj1oLGMudmlzaWJsZT1oPjB9fX1jYXRjaCh0KXtzLmUodCl9ZmluYWxseXtzLmYoKX19fWNhdGNoKHQpe2EuZSh0KX1maW5hbGx5e2EuZigpfWlmKCEodC5sZW5ndGg8Mikpe3ZhciBwLGc9dShlKTt0cnl7dmFyIHY9ZnVuY3Rpb24oKXt2YXIgdD1wLnZhbHVlLGU9by5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmZpZWxkSW5kZXg9PT10LmZpZWxkSW5kZXh9KSk7aWYoZS5sZW5ndGg+MSl7dmFyIGksbj11KGUpO3RyeXtmb3Iobi5zKCk7IShpPW4ubigpKS5kb25lOyl7aS52YWx1ZS52aXNpYmxlPXQudmlzaWJsZX19Y2F0Y2godCl7bi5lKHQpfWZpbmFsbHl7bi5mKCl9fX07Zm9yKGcucygpOyEocD1nLm4oKSkuZG9uZTspdigpfWNhdGNoKHQpe2cuZSh0KX1maW5hbGx5e2cuZigpfX19LGdldFNjcm9sbEJhcldpZHRoOmZ1bmN0aW9uKCl7aWYodm9pZCAwPT09dGhpcy5jYWNoZWRXaWR0aCl7dmFyIHQ9aS5kZWZhdWx0KFwiPGRpdi8+XCIpLmFkZENsYXNzKFwiZml4ZWQtdGFibGUtc2Nyb2xsLWlubmVyXCIpLGU9aS5kZWZhdWx0KFwiPGRpdi8+XCIpLmFkZENsYXNzKFwiZml4ZWQtdGFibGUtc2Nyb2xsLW91dGVyXCIpO2UuYXBwZW5kKHQpLGkuZGVmYXVsdChcImJvZHlcIikuYXBwZW5kKGUpO3ZhciBuPXRbMF0ub2Zmc2V0V2lkdGg7ZS5jc3MoXCJvdmVyZmxvd1wiLFwic2Nyb2xsXCIpO3ZhciBvPXRbMF0ub2Zmc2V0V2lkdGg7bj09PW8mJihvPWVbMF0uY2xpZW50V2lkdGgpLGUucmVtb3ZlKCksdGhpcy5jYWNoZWRXaWR0aD1uLW99cmV0dXJuIHRoaXMuY2FjaGVkV2lkdGh9LGNhbGN1bGF0ZU9iamVjdFZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8pe3ZhciBhPWU7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe3ZhciByPWUuc3BsaXQoXCIuXCIpO2lmKHIubGVuZ3RoPjEpe2E9d2luZG93O3ZhciBzLGM9dShyKTt0cnl7Zm9yKGMucygpOyEocz1jLm4oKSkuZG9uZTspe2E9YVtzLnZhbHVlXX19Y2F0Y2godCl7Yy5lKHQpfWZpbmFsbHl7Yy5mKCl9fWVsc2UgYT13aW5kb3dbZV19cmV0dXJuIG51bGwhPT1hJiZcIm9iamVjdFwiPT09bihhKT9hOlwiZnVuY3Rpb25cIj09dHlwZW9mIGE/YS5hcHBseSh0LGl8fFtdKTohYSYmXCJzdHJpbmdcIj09dHlwZW9mIGUmJmkmJnRoaXMuc3ByaW50Zi5hcHBseSh0aGlzLFtlXS5jb25jYXQobChpKSkpP3RoaXMuc3ByaW50Zi5hcHBseSh0aGlzLFtlXS5jb25jYXQobChpKSkpOm99LGNvbXBhcmVPYmplY3RzOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1PYmplY3Qua2V5cyh0KSxvPU9iamVjdC5rZXlzKGUpO2lmKGkmJm4ubGVuZ3RoIT09by5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBhPTAscj1uO2E8ci5sZW5ndGg7YSsrKXt2YXIgcz1yW2FdO2lmKG8uaW5jbHVkZXMocykmJnRbc10hPT1lW3NdKXJldHVybiExfXJldHVybiEwfSxyZWdleENvbXBhcmU6ZnVuY3Rpb24odCxlKXt0cnl7dmFyIGk9ZS5tYXRjaCgvXlxcLyguKj8pXFwvKFtnaW1dKikkLyk7aWYoLTEhPT10LnRvU3RyaW5nKCkuc2VhcmNoKGk/bmV3IFJlZ0V4cChpWzFdLGlbMl0pOm5ldyBSZWdFeHAoZSxcImdpbVwiKSkpcmV0dXJuITB9Y2F0Y2godCl7cmV0dXJuITF9cmV0dXJuITF9LGVzY2FwZUhUTUw6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dC50b1N0cmluZygpLnJlcGxhY2UoLyYvZyxcIiZhbXA7XCIpLnJlcGxhY2UoLzwvZyxcIiZsdDtcIikucmVwbGFjZSgvPi9nLFwiJmd0O1wiKS5yZXBsYWNlKC9cIi9nLFwiJnF1b3Q7XCIpLnJlcGxhY2UoLycvZyxcIiYjMzk7XCIpOnR9LHVuZXNjYXBlSFRNTDpmdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdCYmdD90LnRvU3RyaW5nKCkucmVwbGFjZSgvJmFtcDsvZyxcIiZcIikucmVwbGFjZSgvJmx0Oy9nLFwiPFwiKS5yZXBsYWNlKC8mZ3Q7L2csXCI+XCIpLnJlcGxhY2UoLyZxdW90Oy9nLCdcIicpLnJlcGxhY2UoLyYjMzk7L2csXCInXCIpOnR9LHJlbW92ZUhUTUw6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dC50b1N0cmluZygpLnJlcGxhY2UoLyg8KFtePl0rKT4pL2dpLFwiXCIpLnJlcGxhY2UoLyZbI0EtWmEtejAtOV0rOy9naSxcIlwiKS50cmltKCk6dH0sZ2V0UmVhbERhdGFBdHRyOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLGk9T2JqZWN0LmVudHJpZXModCk7ZTxpLmxlbmd0aDtlKyspe3ZhciBuPXMoaVtlXSwyKSxvPW5bMF0sYT1uWzFdLHI9by5zcGxpdCgvKD89W0EtWl0pLykuam9pbihcIi1cIikudG9Mb3dlckNhc2UoKTtyIT09byYmKHRbcl09YSxkZWxldGUgdFtvXSl9cmV0dXJuIHR9LGdldEl0ZW1GaWVsZDpmdW5jdGlvbih0LGUsaSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnZvaWQgMCxvPXQ7aWYodm9pZCAwIT09biYmKGk9biksXCJzdHJpbmdcIiE9dHlwZW9mIGV8fHQuaGFzT3duUHJvcGVydHkoZSkpcmV0dXJuIGk/dGhpcy5lc2NhcGVIVE1MKHRbZV0pOnRbZV07dmFyIGEscj1lLnNwbGl0KFwiLlwiKSxzPXUocik7dHJ5e2ZvcihzLnMoKTshKGE9cy5uKCkpLmRvbmU7KXt2YXIgbD1hLnZhbHVlO289byYmb1tsXX19Y2F0Y2godCl7cy5lKHQpfWZpbmFsbHl7cy5mKCl9cmV0dXJuIGk/dGhpcy5lc2NhcGVIVE1MKG8pOm99LGlzSUVCcm93c2VyOmZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoXCJNU0lFIFwiKXx8L1RyaWRlbnQuKnJ2OjExXFwuLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSxmaW5kSW5kZXg6ZnVuY3Rpb24odCxlKXt2YXIgaSxuPXUodCk7dHJ5e2ZvcihuLnMoKTshKGk9bi5uKCkpLmRvbmU7KXt2YXIgbz1pLnZhbHVlO2lmKEpTT04uc3RyaW5naWZ5KG8pPT09SlNPTi5zdHJpbmdpZnkoZSkpcmV0dXJuIHQuaW5kZXhPZihvKX19Y2F0Y2godCl7bi5lKHQpfWZpbmFsbHl7bi5mKCl9cmV0dXJuLTF9LHRyVG9EYXRhOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxvPVtdLGE9W107cmV0dXJuIGUuZWFjaCgoZnVuY3Rpb24oZSxyKXt2YXIgcz1pLmRlZmF1bHQociksbD17fTtsLl9pZD1zLmF0dHIoXCJpZFwiKSxsLl9jbGFzcz1zLmF0dHIoXCJjbGFzc1wiKSxsLl9kYXRhPW4uZ2V0UmVhbERhdGFBdHRyKHMuZGF0YSgpKSxsLl9zdHlsZT1zLmF0dHIoXCJzdHlsZVwiKSxzLmZpbmQoXCI+dGQsPnRoXCIpLmVhY2goKGZ1bmN0aW9uKG8scil7Zm9yKHZhciBzPWkuZGVmYXVsdChyKSxjPStzLmF0dHIoXCJjb2xzcGFuXCIpfHwxLGg9K3MuYXR0cihcInJvd3NwYW5cIil8fDEsdT1vO2FbZV0mJmFbZV1bdV07dSsrKTtmb3IodmFyIGQ9dTtkPHUrYztkKyspZm9yKHZhciBmPWU7ZjxlK2g7ZisrKWFbZl18fChhW2ZdPVtdKSxhW2ZdW2RdPSEwO3ZhciBwPXRbdV0uZmllbGQ7bFtwXT1zLmh0bWwoKS50cmltKCksbFtcIl9cIi5jb25jYXQocCxcIl9pZFwiKV09cy5hdHRyKFwiaWRcIiksbFtcIl9cIi5jb25jYXQocCxcIl9jbGFzc1wiKV09cy5hdHRyKFwiY2xhc3NcIiksbFtcIl9cIi5jb25jYXQocCxcIl9yb3dzcGFuXCIpXT1zLmF0dHIoXCJyb3dzcGFuXCIpLGxbXCJfXCIuY29uY2F0KHAsXCJfY29sc3BhblwiKV09cy5hdHRyKFwiY29sc3BhblwiKSxsW1wiX1wiLmNvbmNhdChwLFwiX3RpdGxlXCIpXT1zLmF0dHIoXCJ0aXRsZVwiKSxsW1wiX1wiLmNvbmNhdChwLFwiX2RhdGFcIildPW4uZ2V0UmVhbERhdGFBdHRyKHMuZGF0YSgpKSxsW1wiX1wiLmNvbmNhdChwLFwiX3N0eWxlXCIpXT1zLmF0dHIoXCJzdHlsZVwiKX0pKSxvLnB1c2gobCl9KSksb30sc29ydDpmdW5jdGlvbih0LGUsaSxuLG8sYSl7aWYobnVsbD09dCYmKHQ9XCJcIiksbnVsbD09ZSYmKGU9XCJcIiksbi5zb3J0U3RhYmxlJiZ0PT09ZSYmKHQ9byxlPWEpLHRoaXMuaXNOdW1lcmljKHQpJiZ0aGlzLmlzTnVtZXJpYyhlKSlyZXR1cm4odD1wYXJzZUZsb2F0KHQpKTwoZT1wYXJzZUZsb2F0KGUpKT8tMSppOnQ+ZT9pOjA7aWYobi5zb3J0RW1wdHlMYXN0KXtpZihcIlwiPT09dClyZXR1cm4gMTtpZihcIlwiPT09ZSlyZXR1cm4tMX1yZXR1cm4gdD09PWU/MDooXCJzdHJpbmdcIiE9dHlwZW9mIHQmJih0PXQudG9TdHJpbmcoKSksLTE9PT10LmxvY2FsZUNvbXBhcmUoZSk/LTEqaTppKX0sZ2V0RXZlbnROYW1lOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcIlwiO3JldHVybiBlPWV8fFwiXCIuY29uY2F0KCtuZXcgRGF0ZSkuY29uY2F0KH5+KDFlNipNYXRoLnJhbmRvbSgpKSksXCJcIi5jb25jYXQodCxcIi1cIikuY29uY2F0KGUpfSxoYXNEZXRhaWxWaWV3SWNvbjpmdW5jdGlvbih0KXtyZXR1cm4gdC5kZXRhaWxWaWV3JiZ0LmRldGFpbFZpZXdJY29uJiYhdC5jYXJkVmlld30sZ2V0RGV0YWlsVmlld0luZGV4T2Zmc2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhhc0RldGFpbFZpZXdJY29uKHQpJiZcInJpZ2h0XCIhPT10LmRldGFpbFZpZXdBbGlnbj8xOjB9LGNoZWNrQXV0b01lcmdlQ2VsbHM6ZnVuY3Rpb24odCl7dmFyIGUsaT11KHQpO3RyeXtmb3IoaS5zKCk7IShlPWkubigpKS5kb25lOylmb3IodmFyIG49ZS52YWx1ZSxvPTAsYT1PYmplY3Qua2V5cyhuKTtvPGEubGVuZ3RoO28rKyl7dmFyIHI9YVtvXTtpZihyLnN0YXJ0c1dpdGgoXCJfXCIpJiYoci5lbmRzV2l0aChcIl9yb3dzcGFuXCIpfHxyLmVuZHNXaXRoKFwiX2NvbHNwYW5cIikpKXJldHVybiEwfX1jYXRjaCh0KXtpLmUodCl9ZmluYWxseXtpLmYoKX1yZXR1cm4hMX0sZGVlcENvcHk6ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQ/dDppLmRlZmF1bHQuZXh0ZW5kKCEwLEFycmF5LmlzQXJyYXkodCk/W106e30sdCl9LGRlYm91bmNlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbjtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbz10aGlzLGE9YXJndW1lbnRzLHI9ZnVuY3Rpb24oKXtuPW51bGwsaXx8dC5hcHBseShvLGEpfSxzPWkmJiFuO2NsZWFyVGltZW91dChuKSxuPXNldFRpbWVvdXQocixlKSxzJiZ0LmFwcGx5KG8sYSl9fX0sdXY9aHYuZ2V0Qm9vdHN0cmFwVmVyc2lvbigpLGR2PXszOntjbGFzc2VzOntidXR0b25zUHJlZml4OlwiYnRuXCIsYnV0dG9uczpcImRlZmF1bHRcIixidXR0b25zR3JvdXA6XCJidG4tZ3JvdXBcIixidXR0b25zRHJvcGRvd246XCJidG4tZ3JvdXBcIixwdWxsOlwicHVsbFwiLGlucHV0R3JvdXA6XCJpbnB1dC1ncm91cFwiLGlucHV0UHJlZml4OlwiaW5wdXQtXCIsaW5wdXQ6XCJmb3JtLWNvbnRyb2xcIixzZWxlY3Q6XCJmb3JtLWNvbnRyb2xcIixwYWdpbmF0aW9uRHJvcGRvd246XCJidG4tZ3JvdXAgZHJvcGRvd25cIixkcm9wdXA6XCJkcm9wdXBcIixkcm9wZG93bkFjdGl2ZTpcImFjdGl2ZVwiLHBhZ2luYXRpb25BY3RpdmU6XCJhY3RpdmVcIixidXR0b25BY3RpdmU6XCJhY3RpdmVcIn0saHRtbDp7dG9vbGJhckRyb3Bkb3duOlsnPHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+JyxcIjwvdWw+XCJdLHRvb2xiYXJEcm9wZG93bkl0ZW06JzxsaSBjbGFzcz1cImRyb3Bkb3duLWl0ZW0tbWFya2VyXCIgcm9sZT1cIm1lbnVpdGVtXCI+PGxhYmVsPiVzPC9sYWJlbD48L2xpPicsdG9vbGJhckRyb3Bkb3duU2VwYXJhdG9yOic8bGkgY2xhc3M9XCJkaXZpZGVyXCI+PC9saT4nLHBhZ2VEcm9wZG93bjpbJzx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPicsXCI8L3VsPlwiXSxwYWdlRHJvcGRvd25JdGVtOic8bGkgcm9sZT1cIm1lbnVpdGVtXCIgY2xhc3M9XCIlc1wiPjxhIGhyZWY9XCIjXCI+JXM8L2E+PC9saT4nLGRyb3Bkb3duQ2FyZXQ6JzxzcGFuIGNsYXNzPVwiY2FyZXRcIj48L3NwYW4+JyxwYWdpbmF0aW9uOlsnPHVsIGNsYXNzPVwicGFnaW5hdGlvbiVzXCI+JyxcIjwvdWw+XCJdLHBhZ2luYXRpb25JdGVtOic8bGkgY2xhc3M9XCJwYWdlLWl0ZW0lc1wiPjxhIGNsYXNzPVwicGFnZS1saW5rXCIgYXJpYS1sYWJlbD1cIiVzXCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiPiVzPC9hPjwvbGk+JyxpY29uOic8aSBjbGFzcz1cIiVzICVzXCI+PC9pPicsaW5wdXRHcm91cDonPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwXCI+JXM8c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLWJ0blwiPiVzPC9zcGFuPjwvZGl2Picsc2VhcmNoSW5wdXQ6JzxpbnB1dCBjbGFzcz1cIiVzJXNcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiJXNcIj4nLHNlYXJjaEJ1dHRvbjonPGJ1dHRvbiBjbGFzcz1cIiVzXCIgdHlwZT1cImJ1dHRvblwiIG5hbWU9XCJzZWFyY2hcIiB0aXRsZT1cIiVzXCI+JXMgJXM8L2J1dHRvbj4nLHNlYXJjaENsZWFyQnV0dG9uOic8YnV0dG9uIGNsYXNzPVwiJXNcIiB0eXBlPVwiYnV0dG9uXCIgbmFtZT1cImNsZWFyU2VhcmNoXCIgdGl0bGU9XCIlc1wiPiVzICVzPC9idXR0b24+J319LDQ6e2NsYXNzZXM6e2J1dHRvbnNQcmVmaXg6XCJidG5cIixidXR0b25zOlwic2Vjb25kYXJ5XCIsYnV0dG9uc0dyb3VwOlwiYnRuLWdyb3VwXCIsYnV0dG9uc0Ryb3Bkb3duOlwiYnRuLWdyb3VwXCIscHVsbDpcImZsb2F0XCIsaW5wdXRHcm91cDpcImJ0bi1ncm91cFwiLGlucHV0UHJlZml4OlwiZm9ybS1jb250cm9sLVwiLGlucHV0OlwiZm9ybS1jb250cm9sXCIsc2VsZWN0OlwiZm9ybS1jb250cm9sXCIscGFnaW5hdGlvbkRyb3Bkb3duOlwiYnRuLWdyb3VwIGRyb3Bkb3duXCIsZHJvcHVwOlwiZHJvcHVwXCIsZHJvcGRvd25BY3RpdmU6XCJhY3RpdmVcIixwYWdpbmF0aW9uQWN0aXZlOlwiYWN0aXZlXCIsYnV0dG9uQWN0aXZlOlwiYWN0aXZlXCJ9LGh0bWw6e3Rvb2xiYXJEcm9wZG93bjpbJzxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHRcIj4nLFwiPC9kaXY+XCJdLHRvb2xiYXJEcm9wZG93bkl0ZW06JzxsYWJlbCBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZHJvcGRvd24taXRlbS1tYXJrZXJcIj4lczwvbGFiZWw+JyxwYWdlRHJvcGRvd246Wyc8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPicsXCI8L2Rpdj5cIl0scGFnZURyb3Bkb3duSXRlbTonPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtICVzXCIgaHJlZj1cIiNcIj4lczwvYT4nLHRvb2xiYXJEcm9wZG93blNlcGFyYXRvcjonPGRpdiBjbGFzcz1cImRyb3Bkb3duLWRpdmlkZXJcIj48L2Rpdj4nLGRyb3Bkb3duQ2FyZXQ6JzxzcGFuIGNsYXNzPVwiY2FyZXRcIj48L3NwYW4+JyxwYWdpbmF0aW9uOlsnPHVsIGNsYXNzPVwicGFnaW5hdGlvbiVzXCI+JyxcIjwvdWw+XCJdLHBhZ2luYXRpb25JdGVtOic8bGkgY2xhc3M9XCJwYWdlLWl0ZW0lc1wiPjxhIGNsYXNzPVwicGFnZS1saW5rXCIgYXJpYS1sYWJlbD1cIiVzXCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiPiVzPC9hPjwvbGk+JyxpY29uOic8aSBjbGFzcz1cIiVzICVzXCI+PC9pPicsaW5wdXRHcm91cDonPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwXCI+JXM8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAtYXBwZW5kXCI+JXM8L2Rpdj48L2Rpdj4nLHNlYXJjaElucHV0Oic8aW5wdXQgY2xhc3M9XCIlcyVzXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIiVzXCI+JyxzZWFyY2hCdXR0b246JzxidXR0b24gY2xhc3M9XCIlc1wiIHR5cGU9XCJidXR0b25cIiBuYW1lPVwic2VhcmNoXCIgdGl0bGU9XCIlc1wiPiVzICVzPC9idXR0b24+JyxzZWFyY2hDbGVhckJ1dHRvbjonPGJ1dHRvbiBjbGFzcz1cIiVzXCIgdHlwZT1cImJ1dHRvblwiIG5hbWU9XCJjbGVhclNlYXJjaFwiIHRpdGxlPVwiJXNcIj4lcyAlczwvYnV0dG9uPid9fSw1OntjbGFzc2VzOntidXR0b25zUHJlZml4OlwiYnRuXCIsYnV0dG9uczpcInNlY29uZGFyeVwiLGJ1dHRvbnNHcm91cDpcImJ0bi1ncm91cFwiLGJ1dHRvbnNEcm9wZG93bjpcImJ0bi1ncm91cFwiLHB1bGw6XCJmbG9hdFwiLGlucHV0R3JvdXA6XCJidG4tZ3JvdXBcIixpbnB1dFByZWZpeDpcImZvcm0tY29udHJvbC1cIixpbnB1dDpcImZvcm0tY29udHJvbFwiLHNlbGVjdDpcImZvcm0tc2VsZWN0XCIscGFnaW5hdGlvbkRyb3Bkb3duOlwiYnRuLWdyb3VwIGRyb3Bkb3duXCIsZHJvcHVwOlwiZHJvcHVwXCIsZHJvcGRvd25BY3RpdmU6XCJhY3RpdmVcIixwYWdpbmF0aW9uQWN0aXZlOlwiYWN0aXZlXCIsYnV0dG9uQWN0aXZlOlwiYWN0aXZlXCJ9LGh0bWw6e2RhdGFUb2dnbGU6XCJkYXRhLWJzLXRvZ2dsZVwiLHRvb2xiYXJEcm9wZG93bjpbJzxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHRcIj4nLFwiPC9kaXY+XCJdLHRvb2xiYXJEcm9wZG93bkl0ZW06JzxsYWJlbCBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZHJvcGRvd24taXRlbS1tYXJrZXJcIj4lczwvbGFiZWw+JyxwYWdlRHJvcGRvd246Wyc8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPicsXCI8L2Rpdj5cIl0scGFnZURyb3Bkb3duSXRlbTonPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtICVzXCIgaHJlZj1cIiNcIj4lczwvYT4nLHRvb2xiYXJEcm9wZG93blNlcGFyYXRvcjonPGRpdiBjbGFzcz1cImRyb3Bkb3duLWRpdmlkZXJcIj48L2Rpdj4nLGRyb3Bkb3duQ2FyZXQ6JzxzcGFuIGNsYXNzPVwiY2FyZXRcIj48L3NwYW4+JyxwYWdpbmF0aW9uOlsnPHVsIGNsYXNzPVwicGFnaW5hdGlvbiVzXCI+JyxcIjwvdWw+XCJdLHBhZ2luYXRpb25JdGVtOic8bGkgY2xhc3M9XCJwYWdlLWl0ZW0lc1wiPjxhIGNsYXNzPVwicGFnZS1saW5rXCIgYXJpYS1sYWJlbD1cIiVzXCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiPiVzPC9hPjwvbGk+JyxpY29uOic8aSBjbGFzcz1cIiVzICVzXCI+PC9pPicsaW5wdXRHcm91cDonPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwXCI+JXMlczwvZGl2Picsc2VhcmNoSW5wdXQ6JzxpbnB1dCBjbGFzcz1cIiVzJXNcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiJXNcIj4nLHNlYXJjaEJ1dHRvbjonPGJ1dHRvbiBjbGFzcz1cIiVzXCIgdHlwZT1cImJ1dHRvblwiIG5hbWU9XCJzZWFyY2hcIiB0aXRsZT1cIiVzXCI+JXMgJXM8L2J1dHRvbj4nLHNlYXJjaENsZWFyQnV0dG9uOic8YnV0dG9uIGNsYXNzPVwiJXNcIiB0eXBlPVwiYnV0dG9uXCIgbmFtZT1cImNsZWFyU2VhcmNoXCIgdGl0bGU9XCIlc1wiPiVzICVzPC9idXR0b24+J319fVt1dl0sZnY9e2hlaWdodDp2b2lkIDAsY2xhc3NlczpcInRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLWhvdmVyXCIsYnV0dG9uczp7fSx0aGVhZENsYXNzZXM6XCJcIixoZWFkZXJTdHlsZTpmdW5jdGlvbih0KXtyZXR1cm57fX0scm93U3R5bGU6ZnVuY3Rpb24odCxlKXtyZXR1cm57fX0scm93QXR0cmlidXRlczpmdW5jdGlvbih0LGUpe3JldHVybnt9fSx1bmRlZmluZWRUZXh0OlwiLVwiLGxvY2FsZTp2b2lkIDAsdmlydHVhbFNjcm9sbDohMSx2aXJ0dWFsU2Nyb2xsSXRlbUhlaWdodDp2b2lkIDAsc29ydGFibGU6ITAsc29ydENsYXNzOnZvaWQgMCxzaWxlbnRTb3J0OiEwLHNvcnRFbXB0eUxhc3Q6ITEsc29ydE5hbWU6dm9pZCAwLHNvcnRPcmRlcjp2b2lkIDAsc29ydFJlc2V0OiExLHNvcnRTdGFibGU6ITEsc29ydFJlc2V0UGFnZTohMSxyZW1lbWJlck9yZGVyOiExLHNlcnZlclNvcnQ6ITAsY3VzdG9tU29ydDp2b2lkIDAsY29sdW1uczpbW11dLGRhdGE6W10sdXJsOnZvaWQgMCxtZXRob2Q6XCJnZXRcIixjYWNoZTohMCxjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL2pzb25cIixkYXRhVHlwZTpcImpzb25cIixhamF4OnZvaWQgMCxhamF4T3B0aW9uczp7fSxxdWVyeVBhcmFtczpmdW5jdGlvbih0KXtyZXR1cm4gdH0scXVlcnlQYXJhbXNUeXBlOlwibGltaXRcIixyZXNwb25zZUhhbmRsZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LHRvdGFsRmllbGQ6XCJ0b3RhbFwiLHRvdGFsTm90RmlsdGVyZWRGaWVsZDpcInRvdGFsTm90RmlsdGVyZWRcIixkYXRhRmllbGQ6XCJyb3dzXCIsZm9vdGVyRmllbGQ6XCJmb290ZXJcIixwYWdpbmF0aW9uOiExLHBhZ2luYXRpb25QYXJ0czpbXCJwYWdlSW5mb1wiLFwicGFnZVNpemVcIixcInBhZ2VMaXN0XCJdLHNob3dFeHRlbmRlZFBhZ2luYXRpb246ITEscGFnaW5hdGlvbkxvb3A6ITAsc2lkZVBhZ2luYXRpb246XCJjbGllbnRcIix0b3RhbFJvd3M6MCx0b3RhbE5vdEZpbHRlcmVkOjAscGFnZU51bWJlcjoxLHBhZ2VTaXplOjEwLHBhZ2VMaXN0OlsxMCwyNSw1MCwxMDBdLHBhZ2luYXRpb25IQWxpZ246XCJyaWdodFwiLHBhZ2luYXRpb25WQWxpZ246XCJib3R0b21cIixwYWdpbmF0aW9uRGV0YWlsSEFsaWduOlwibGVmdFwiLHBhZ2luYXRpb25QcmVUZXh0OlwiJmxzYXF1bztcIixwYWdpbmF0aW9uTmV4dFRleHQ6XCImcnNhcXVvO1wiLHBhZ2luYXRpb25TdWNjZXNzaXZlbHlTaXplOjUscGFnaW5hdGlvblBhZ2VzQnlTaWRlOjEscGFnaW5hdGlvblVzZUludGVybWVkaWF0ZTohMSxzZWFyY2g6ITEsc2VhcmNoSGlnaGxpZ2h0OiExLHNlYXJjaE9uRW50ZXJLZXk6ITEsc3RyaWN0U2VhcmNoOiExLHJlZ2V4U2VhcmNoOiExLHNlYXJjaFNlbGVjdG9yOiExLHZpc2libGVTZWFyY2g6ITEsc2hvd0J1dHRvbkljb25zOiEwLHNob3dCdXR0b25UZXh0OiExLHNob3dTZWFyY2hCdXR0b246ITEsc2hvd1NlYXJjaENsZWFyQnV0dG9uOiExLHRyaW1PblNlYXJjaDohMCxzZWFyY2hBbGlnbjpcInJpZ2h0XCIsc2VhcmNoVGltZU91dDo1MDAsc2VhcmNoVGV4dDpcIlwiLGN1c3RvbVNlYXJjaDp2b2lkIDAsc2hvd0hlYWRlcjohMCxzaG93Rm9vdGVyOiExLGZvb3RlclN0eWxlOmZ1bmN0aW9uKHQpe3JldHVybnt9fSxzZWFyY2hBY2NlbnROZXV0cmFsaXNlOiExLHNob3dDb2x1bW5zOiExLHNob3dDb2x1bW5zVG9nZ2xlQWxsOiExLHNob3dDb2x1bW5zU2VhcmNoOiExLG1pbmltdW1Db3VudENvbHVtbnM6MSxzaG93UGFnaW5hdGlvblN3aXRjaDohMSxzaG93UmVmcmVzaDohMSxzaG93VG9nZ2xlOiExLHNob3dGdWxsc2NyZWVuOiExLHNtYXJ0RGlzcGxheTohMCxlc2NhcGU6ITEsZmlsdGVyT3B0aW9uczp7ZmlsdGVyQWxnb3JpdGhtOlwiYW5kXCJ9LGlkRmllbGQ6dm9pZCAwLHNlbGVjdEl0ZW1OYW1lOlwiYnRTZWxlY3RJdGVtXCIsY2xpY2tUb1NlbGVjdDohMSxpZ25vcmVDbGlja1RvU2VsZWN0T246ZnVuY3Rpb24odCl7dmFyIGU9dC50YWdOYW1lO3JldHVybltcIkFcIixcIkJVVFRPTlwiXS5pbmNsdWRlcyhlKX0sc2luZ2xlU2VsZWN0OiExLGNoZWNrYm94SGVhZGVyOiEwLG1haW50YWluTWV0YURhdGE6ITEsbXVsdGlwbGVTZWxlY3RSb3c6ITEsdW5pcXVlSWQ6dm9pZCAwLGNhcmRWaWV3OiExLGRldGFpbFZpZXc6ITEsZGV0YWlsVmlld0ljb246ITAsZGV0YWlsVmlld0J5Q2xpY2s6ITEsZGV0YWlsVmlld0FsaWduOlwibGVmdFwiLGRldGFpbEZvcm1hdHRlcjpmdW5jdGlvbih0LGUpe3JldHVyblwiXCJ9LGRldGFpbEZpbHRlcjpmdW5jdGlvbih0LGUpe3JldHVybiEwfSx0b29sYmFyOnZvaWQgMCx0b29sYmFyQWxpZ246XCJsZWZ0XCIsYnV0dG9uc1Rvb2xiYXI6dm9pZCAwLGJ1dHRvbnNBbGlnbjpcInJpZ2h0XCIsYnV0dG9uc09yZGVyOltcInBhZ2luYXRpb25Td2l0Y2hcIixcInJlZnJlc2hcIixcInRvZ2dsZVwiLFwiZnVsbHNjcmVlblwiLFwiY29sdW1uc1wiXSxidXR0b25zUHJlZml4OmR2LmNsYXNzZXMuYnV0dG9uc1ByZWZpeCxidXR0b25zQ2xhc3M6ZHYuY2xhc3Nlcy5idXR0b25zLGljb25zUHJlZml4OnZvaWQgMCxpY29uczp7fSxpY29uU2l6ZTp2b2lkIDAsbG9hZGluZ0ZvbnRTaXplOlwiYXV0b1wiLGxvYWRpbmdUZW1wbGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4nPHNwYW4gY2xhc3M9XCJsb2FkaW5nLXdyYXBcIj5cXG4gICAgICA8c3BhbiBjbGFzcz1cImxvYWRpbmctdGV4dFwiPicuY29uY2F0KHQsJzwvc3Bhbj5cXG4gICAgICA8c3BhbiBjbGFzcz1cImFuaW1hdGlvbi13cmFwXCI+PHNwYW4gY2xhc3M9XCJhbmltYXRpb24tZG90XCI+PC9zcGFuPjwvc3Bhbj5cXG4gICAgICA8L3NwYW4+XFxuICAgICcpfSxvbkFsbDpmdW5jdGlvbih0LGUpe3JldHVybiExfSxvbkNsaWNrQ2VsbDpmdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4hMX0sb25EYmxDbGlja0NlbGw6ZnVuY3Rpb24odCxlLGksbil7cmV0dXJuITF9LG9uQ2xpY2tSb3c6ZnVuY3Rpb24odCxlKXtyZXR1cm4hMX0sb25EYmxDbGlja1JvdzpmdW5jdGlvbih0LGUpe3JldHVybiExfSxvblNvcnQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4hMX0sb25DaGVjazpmdW5jdGlvbih0KXtyZXR1cm4hMX0sb25VbmNoZWNrOmZ1bmN0aW9uKHQpe3JldHVybiExfSxvbkNoZWNrQWxsOmZ1bmN0aW9uKHQpe3JldHVybiExfSxvblVuY2hlY2tBbGw6ZnVuY3Rpb24odCl7cmV0dXJuITF9LG9uQ2hlY2tTb21lOmZ1bmN0aW9uKHQpe3JldHVybiExfSxvblVuY2hlY2tTb21lOmZ1bmN0aW9uKHQpe3JldHVybiExfSxvbkxvYWRTdWNjZXNzOmZ1bmN0aW9uKHQpe3JldHVybiExfSxvbkxvYWRFcnJvcjpmdW5jdGlvbih0KXtyZXR1cm4hMX0sb25Db2x1bW5Td2l0Y2g6ZnVuY3Rpb24odCxlKXtyZXR1cm4hMX0sb25Db2x1bW5Td2l0Y2hBbGw6ZnVuY3Rpb24odCl7cmV0dXJuITF9LG9uUGFnZUNoYW5nZTpmdW5jdGlvbih0LGUpe3JldHVybiExfSxvblNlYXJjaDpmdW5jdGlvbih0KXtyZXR1cm4hMX0sb25Ub2dnbGU6ZnVuY3Rpb24odCl7cmV0dXJuITF9LG9uUHJlQm9keTpmdW5jdGlvbih0KXtyZXR1cm4hMX0sb25Qb3N0Qm9keTpmdW5jdGlvbigpe3JldHVybiExfSxvblBvc3RIZWFkZXI6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sb25Qb3N0Rm9vdGVyOmZ1bmN0aW9uKCl7cmV0dXJuITF9LG9uRXhwYW5kUm93OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4hMX0sb25Db2xsYXBzZVJvdzpmdW5jdGlvbih0LGUpe3JldHVybiExfSxvblJlZnJlc2hPcHRpb25zOmZ1bmN0aW9uKHQpe3JldHVybiExfSxvblJlZnJlc2g6ZnVuY3Rpb24odCl7cmV0dXJuITF9LG9uUmVzZXRWaWV3OmZ1bmN0aW9uKCl7cmV0dXJuITF9LG9uU2Nyb2xsQm9keTpmdW5jdGlvbigpe3JldHVybiExfSxvblRvZ2dsZVBhZ2luYXRpb246ZnVuY3Rpb24odCl7cmV0dXJuITF9LG9uVmlydHVhbFNjcm9sbDpmdW5jdGlvbih0LGUpe3JldHVybiExfX0scHY9e2Zvcm1hdExvYWRpbmdNZXNzYWdlOmZ1bmN0aW9uKCl7cmV0dXJuXCJMb2FkaW5nLCBwbGVhc2Ugd2FpdFwifSxmb3JtYXRSZWNvcmRzUGVyUGFnZTpmdW5jdGlvbih0KXtyZXR1cm5cIlwiLmNvbmNhdCh0LFwiIHJvd3MgcGVyIHBhZ2VcIil9LGZvcm1hdFNob3dpbmdSb3dzOmZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybiB2b2lkIDAhPT1uJiZuPjAmJm4+aT9cIlNob3dpbmcgXCIuY29uY2F0KHQsXCIgdG8gXCIpLmNvbmNhdChlLFwiIG9mIFwiKS5jb25jYXQoaSxcIiByb3dzIChmaWx0ZXJlZCBmcm9tIFwiKS5jb25jYXQobixcIiB0b3RhbCByb3dzKVwiKTpcIlNob3dpbmcgXCIuY29uY2F0KHQsXCIgdG8gXCIpLmNvbmNhdChlLFwiIG9mIFwiKS5jb25jYXQoaSxcIiByb3dzXCIpfSxmb3JtYXRTUlBhZ2luYXRpb25QcmVUZXh0OmZ1bmN0aW9uKCl7cmV0dXJuXCJwcmV2aW91cyBwYWdlXCJ9LGZvcm1hdFNSUGFnaW5hdGlvblBhZ2VUZXh0OmZ1bmN0aW9uKHQpe3JldHVyblwidG8gcGFnZSBcIi5jb25jYXQodCl9LGZvcm1hdFNSUGFnaW5hdGlvbk5leHRUZXh0OmZ1bmN0aW9uKCl7cmV0dXJuXCJuZXh0IHBhZ2VcIn0sZm9ybWF0RGV0YWlsUGFnaW5hdGlvbjpmdW5jdGlvbih0KXtyZXR1cm5cIlNob3dpbmcgXCIuY29uY2F0KHQsXCIgcm93c1wiKX0sZm9ybWF0U2VhcmNoOmZ1bmN0aW9uKCl7cmV0dXJuXCJTZWFyY2hcIn0sZm9ybWF0Q2xlYXJTZWFyY2g6ZnVuY3Rpb24oKXtyZXR1cm5cIkNsZWFyIFNlYXJjaFwifSxmb3JtYXROb01hdGNoZXM6ZnVuY3Rpb24oKXtyZXR1cm5cIk5vIG1hdGNoaW5nIHJlY29yZHMgZm91bmRcIn0sZm9ybWF0UGFnaW5hdGlvblN3aXRjaDpmdW5jdGlvbigpe3JldHVyblwiSGlkZS9TaG93IHBhZ2luYXRpb25cIn0sZm9ybWF0UGFnaW5hdGlvblN3aXRjaERvd246ZnVuY3Rpb24oKXtyZXR1cm5cIlNob3cgcGFnaW5hdGlvblwifSxmb3JtYXRQYWdpbmF0aW9uU3dpdGNoVXA6ZnVuY3Rpb24oKXtyZXR1cm5cIkhpZGUgcGFnaW5hdGlvblwifSxmb3JtYXRSZWZyZXNoOmZ1bmN0aW9uKCl7cmV0dXJuXCJSZWZyZXNoXCJ9LGZvcm1hdFRvZ2dsZU9uOmZ1bmN0aW9uKCl7cmV0dXJuXCJTaG93IGNhcmQgdmlld1wifSxmb3JtYXRUb2dnbGVPZmY6ZnVuY3Rpb24oKXtyZXR1cm5cIkhpZGUgY2FyZCB2aWV3XCJ9LGZvcm1hdENvbHVtbnM6ZnVuY3Rpb24oKXtyZXR1cm5cIkNvbHVtbnNcIn0sZm9ybWF0Q29sdW1uc1RvZ2dsZUFsbDpmdW5jdGlvbigpe3JldHVyblwiVG9nZ2xlIGFsbFwifSxmb3JtYXRGdWxsc2NyZWVuOmZ1bmN0aW9uKCl7cmV0dXJuXCJGdWxsc2NyZWVuXCJ9LGZvcm1hdEFsbFJvd3M6ZnVuY3Rpb24oKXtyZXR1cm5cIkFsbFwifX0sZ3Y9e2ZpZWxkOnZvaWQgMCx0aXRsZTp2b2lkIDAsdGl0bGVUb29sdGlwOnZvaWQgMCxjbGFzczp2b2lkIDAsd2lkdGg6dm9pZCAwLHdpZHRoVW5pdDpcInB4XCIscm93c3Bhbjp2b2lkIDAsY29sc3Bhbjp2b2lkIDAsYWxpZ246dm9pZCAwLGhhbGlnbjp2b2lkIDAsZmFsaWduOnZvaWQgMCx2YWxpZ246dm9pZCAwLGNlbGxTdHlsZTp2b2lkIDAscmFkaW86ITEsY2hlY2tib3g6ITEsY2hlY2tib3hFbmFibGVkOiEwLGNsaWNrVG9TZWxlY3Q6ITAsc2hvd1NlbGVjdFRpdGxlOiExLHNvcnRhYmxlOiExLHNvcnROYW1lOnZvaWQgMCxvcmRlcjpcImFzY1wiLHNvcnRlcjp2b2lkIDAsdmlzaWJsZTohMCxzd2l0Y2hhYmxlOiEwLGNhcmRWaXNpYmxlOiEwLHNlYXJjaGFibGU6ITAsZm9ybWF0dGVyOnZvaWQgMCxmb290ZXJGb3JtYXR0ZXI6dm9pZCAwLGRldGFpbEZvcm1hdHRlcjp2b2lkIDAsc2VhcmNoRm9ybWF0dGVyOiEwLHNlYXJjaEhpZ2hsaWdodEZvcm1hdHRlcjohMSxlc2NhcGU6dm9pZCAwLGV2ZW50czp2b2lkIDB9O09iamVjdC5hc3NpZ24oZnYscHYpO3ZhciB2dj17VkVSU0lPTjpcIjEuMjEuMlwiLFRIRU1FOlwiYm9vdHN0cmFwXCIuY29uY2F0KHV2KSxDT05TVEFOVFM6ZHYsREVGQVVMVFM6ZnYsQ09MVU1OX0RFRkFVTFRTOmd2LE1FVEhPRFM6W1wiZ2V0T3B0aW9uc1wiLFwicmVmcmVzaE9wdGlvbnNcIixcImdldERhdGFcIixcImdldFNlbGVjdGlvbnNcIixcImxvYWRcIixcImFwcGVuZFwiLFwicHJlcGVuZFwiLFwicmVtb3ZlXCIsXCJyZW1vdmVBbGxcIixcImluc2VydFJvd1wiLFwidXBkYXRlUm93XCIsXCJnZXRSb3dCeVVuaXF1ZUlkXCIsXCJ1cGRhdGVCeVVuaXF1ZUlkXCIsXCJyZW1vdmVCeVVuaXF1ZUlkXCIsXCJ1cGRhdGVDZWxsXCIsXCJ1cGRhdGVDZWxsQnlVbmlxdWVJZFwiLFwic2hvd1Jvd1wiLFwiaGlkZVJvd1wiLFwiZ2V0SGlkZGVuUm93c1wiLFwic2hvd0NvbHVtblwiLFwiaGlkZUNvbHVtblwiLFwiZ2V0VmlzaWJsZUNvbHVtbnNcIixcImdldEhpZGRlbkNvbHVtbnNcIixcInNob3dBbGxDb2x1bW5zXCIsXCJoaWRlQWxsQ29sdW1uc1wiLFwibWVyZ2VDZWxsc1wiLFwiY2hlY2tBbGxcIixcInVuY2hlY2tBbGxcIixcImNoZWNrSW52ZXJ0XCIsXCJjaGVja1wiLFwidW5jaGVja1wiLFwiY2hlY2tCeVwiLFwidW5jaGVja0J5XCIsXCJyZWZyZXNoXCIsXCJkZXN0cm95XCIsXCJyZXNldFZpZXdcIixcInNob3dMb2FkaW5nXCIsXCJoaWRlTG9hZGluZ1wiLFwidG9nZ2xlUGFnaW5hdGlvblwiLFwidG9nZ2xlRnVsbHNjcmVlblwiLFwidG9nZ2xlVmlld1wiLFwicmVzZXRTZWFyY2hcIixcImZpbHRlckJ5XCIsXCJzY3JvbGxUb1wiLFwiZ2V0U2Nyb2xsUG9zaXRpb25cIixcInNlbGVjdFBhZ2VcIixcInByZXZQYWdlXCIsXCJuZXh0UGFnZVwiLFwidG9nZ2xlRGV0YWlsVmlld1wiLFwiZXhwYW5kUm93XCIsXCJjb2xsYXBzZVJvd1wiLFwiZXhwYW5kUm93QnlVbmlxdWVJZFwiLFwiY29sbGFwc2VSb3dCeVVuaXF1ZUlkXCIsXCJleHBhbmRBbGxSb3dzXCIsXCJjb2xsYXBzZUFsbFJvd3NcIixcInVwZGF0ZUNvbHVtblRpdGxlXCIsXCJ1cGRhdGVGb3JtYXRUZXh0XCJdLEVWRU5UUzp7XCJhbGwuYnMudGFibGVcIjpcIm9uQWxsXCIsXCJjbGljay1yb3cuYnMudGFibGVcIjpcIm9uQ2xpY2tSb3dcIixcImRibC1jbGljay1yb3cuYnMudGFibGVcIjpcIm9uRGJsQ2xpY2tSb3dcIixcImNsaWNrLWNlbGwuYnMudGFibGVcIjpcIm9uQ2xpY2tDZWxsXCIsXCJkYmwtY2xpY2stY2VsbC5icy50YWJsZVwiOlwib25EYmxDbGlja0NlbGxcIixcInNvcnQuYnMudGFibGVcIjpcIm9uU29ydFwiLFwiY2hlY2suYnMudGFibGVcIjpcIm9uQ2hlY2tcIixcInVuY2hlY2suYnMudGFibGVcIjpcIm9uVW5jaGVja1wiLFwiY2hlY2stYWxsLmJzLnRhYmxlXCI6XCJvbkNoZWNrQWxsXCIsXCJ1bmNoZWNrLWFsbC5icy50YWJsZVwiOlwib25VbmNoZWNrQWxsXCIsXCJjaGVjay1zb21lLmJzLnRhYmxlXCI6XCJvbkNoZWNrU29tZVwiLFwidW5jaGVjay1zb21lLmJzLnRhYmxlXCI6XCJvblVuY2hlY2tTb21lXCIsXCJsb2FkLXN1Y2Nlc3MuYnMudGFibGVcIjpcIm9uTG9hZFN1Y2Nlc3NcIixcImxvYWQtZXJyb3IuYnMudGFibGVcIjpcIm9uTG9hZEVycm9yXCIsXCJjb2x1bW4tc3dpdGNoLmJzLnRhYmxlXCI6XCJvbkNvbHVtblN3aXRjaFwiLFwiY29sdW1uLXN3aXRjaC1hbGwuYnMudGFibGVcIjpcIm9uQ29sdW1uU3dpdGNoQWxsXCIsXCJwYWdlLWNoYW5nZS5icy50YWJsZVwiOlwib25QYWdlQ2hhbmdlXCIsXCJzZWFyY2guYnMudGFibGVcIjpcIm9uU2VhcmNoXCIsXCJ0b2dnbGUuYnMudGFibGVcIjpcIm9uVG9nZ2xlXCIsXCJwcmUtYm9keS5icy50YWJsZVwiOlwib25QcmVCb2R5XCIsXCJwb3N0LWJvZHkuYnMudGFibGVcIjpcIm9uUG9zdEJvZHlcIixcInBvc3QtaGVhZGVyLmJzLnRhYmxlXCI6XCJvblBvc3RIZWFkZXJcIixcInBvc3QtZm9vdGVyLmJzLnRhYmxlXCI6XCJvblBvc3RGb290ZXJcIixcImV4cGFuZC1yb3cuYnMudGFibGVcIjpcIm9uRXhwYW5kUm93XCIsXCJjb2xsYXBzZS1yb3cuYnMudGFibGVcIjpcIm9uQ29sbGFwc2VSb3dcIixcInJlZnJlc2gtb3B0aW9ucy5icy50YWJsZVwiOlwib25SZWZyZXNoT3B0aW9uc1wiLFwicmVzZXQtdmlldy5icy50YWJsZVwiOlwib25SZXNldFZpZXdcIixcInJlZnJlc2guYnMudGFibGVcIjpcIm9uUmVmcmVzaFwiLFwic2Nyb2xsLWJvZHkuYnMudGFibGVcIjpcIm9uU2Nyb2xsQm9keVwiLFwidG9nZ2xlLXBhZ2luYXRpb24uYnMudGFibGVcIjpcIm9uVG9nZ2xlUGFnaW5hdGlvblwiLFwidmlydHVhbC1zY3JvbGwuYnMudGFibGVcIjpcIm9uVmlydHVhbFNjcm9sbFwifSxMT0NBTEVTOntlbjpwdixcImVuLVVTXCI6cHZ9fSxidj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIGk9dGhpcztvKHRoaXMsdCksdGhpcy5yb3dzPWUucm93cyx0aGlzLnNjcm9sbEVsPWUuc2Nyb2xsRWwsdGhpcy5jb250ZW50RWw9ZS5jb250ZW50RWwsdGhpcy5jYWxsYmFjaz1lLmNhbGxiYWNrLHRoaXMuaXRlbUhlaWdodD1lLml0ZW1IZWlnaHQsdGhpcy5jYWNoZT17fSx0aGlzLnNjcm9sbFRvcD10aGlzLnNjcm9sbEVsLnNjcm9sbFRvcCx0aGlzLmluaXRET00odGhpcy5yb3dzLGUuZml4ZWRTY3JvbGwpLHRoaXMuc2Nyb2xsRWwuc2Nyb2xsVG9wPXRoaXMuc2Nyb2xsVG9wLHRoaXMubGFzdENsdXN0ZXI9MDt2YXIgbj1mdW5jdGlvbigpe2kubGFzdENsdXN0ZXIhPT0oaS5sYXN0Q2x1c3Rlcj1pLmdldE51bSgpKSYmKGkuaW5pdERPTShpLnJvd3MpLGkuY2FsbGJhY2soaS5zdGFydEluZGV4LGkuZW5kSW5kZXgpKX07dGhpcy5zY3JvbGxFbC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsbiwhMSksdGhpcy5kZXN0cm95PWZ1bmN0aW9uKCl7aS5jb250ZW50RWwuaW5uZXJIdG1sPVwiXCIsaS5zY3JvbGxFbC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsbiwhMSl9fXJldHVybiByKHQsW3trZXk6XCJpbml0RE9NXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT10aGlzLmNsdXN0ZXJIZWlnaHQmJih0aGlzLmNhY2hlLnNjcm9sbFRvcD10aGlzLnNjcm9sbEVsLnNjcm9sbFRvcCx0aGlzLmNhY2hlLmRhdGE9dGhpcy5jb250ZW50RWwuaW5uZXJIVE1MPXRbMF0rdFswXSt0WzBdLHRoaXMuZ2V0Um93c0hlaWdodCh0KSk7dmFyIGk9dGhpcy5pbml0RGF0YSh0LHRoaXMuZ2V0TnVtKGUpKSxuPWkucm93cy5qb2luKFwiXCIpLG89dGhpcy5jaGVja0NoYW5nZXMoXCJkYXRhXCIsbiksYT10aGlzLmNoZWNrQ2hhbmdlcyhcInRvcFwiLGkudG9wT2Zmc2V0KSxyPXRoaXMuY2hlY2tDaGFuZ2VzKFwiYm90dG9tXCIsaS5ib3R0b21PZmZzZXQpLHM9W107byYmYT8oaS50b3BPZmZzZXQmJnMucHVzaCh0aGlzLmdldEV4dHJhKFwidG9wXCIsaS50b3BPZmZzZXQpKSxzLnB1c2gobiksaS5ib3R0b21PZmZzZXQmJnMucHVzaCh0aGlzLmdldEV4dHJhKFwiYm90dG9tXCIsaS5ib3R0b21PZmZzZXQpKSx0aGlzLnN0YXJ0SW5kZXg9aS5zdGFydCx0aGlzLmVuZEluZGV4PWkuZW5kLHRoaXMuY29udGVudEVsLmlubmVySFRNTD1zLmpvaW4oXCJcIiksZSYmKHRoaXMuY29udGVudEVsLnNjcm9sbFRvcD10aGlzLmNhY2hlLnNjcm9sbFRvcCkpOnImJih0aGlzLmNvbnRlbnRFbC5sYXN0Q2hpbGQuc3R5bGUuaGVpZ2h0PVwiXCIuY29uY2F0KGkuYm90dG9tT2Zmc2V0LFwicHhcIikpfX0se2tleTpcImdldFJvd3NIZWlnaHRcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHZvaWQgMD09PXRoaXMuaXRlbUhlaWdodCl7dmFyIHQ9dGhpcy5jb250ZW50RWwuY2hpbGRyZW4sZT10W01hdGguZmxvb3IodC5sZW5ndGgvMildO3RoaXMuaXRlbUhlaWdodD1lLm9mZnNldEhlaWdodH10aGlzLmJsb2NrSGVpZ2h0PTUwKnRoaXMuaXRlbUhlaWdodCx0aGlzLmNsdXN0ZXJSb3dzPTIwMCx0aGlzLmNsdXN0ZXJIZWlnaHQ9NCp0aGlzLmJsb2NrSGVpZ2h0fX0se2tleTpcImdldE51bVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNjcm9sbFRvcD10P3RoaXMuY2FjaGUuc2Nyb2xsVG9wOnRoaXMuc2Nyb2xsRWwuc2Nyb2xsVG9wLE1hdGguZmxvb3IodGhpcy5zY3JvbGxUb3AvKHRoaXMuY2x1c3RlckhlaWdodC10aGlzLmJsb2NrSGVpZ2h0KSl8fDB9fSx7a2V5OlwiaW5pdERhdGFcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHQubGVuZ3RoPDUwKXJldHVybnt0b3BPZmZzZXQ6MCxib3R0b21PZmZzZXQ6MCxyb3dzQWJvdmU6MCxyb3dzOnR9O3ZhciBpPU1hdGgubWF4KCh0aGlzLmNsdXN0ZXJSb3dzLTUwKSplLDApLG49aSt0aGlzLmNsdXN0ZXJSb3dzLG89TWF0aC5tYXgoaSp0aGlzLml0ZW1IZWlnaHQsMCksYT1NYXRoLm1heCgodC5sZW5ndGgtbikqdGhpcy5pdGVtSGVpZ2h0LDApLHI9W10scz1pO288MSYmcysrO2Zvcih2YXIgbD1pO2w8bjtsKyspdFtsXSYmci5wdXNoKHRbbF0pO3JldHVybntzdGFydDppLGVuZDpuLHRvcE9mZnNldDpvLGJvdHRvbU9mZnNldDphLHJvd3NBYm92ZTpzLHJvd3M6cn19fSx7a2V5OlwiY2hlY2tDaGFuZ2VzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1lIT09dGhpcy5jYWNoZVt0XTtyZXR1cm4gdGhpcy5jYWNoZVt0XT1lLGl9fSx7a2V5OlwiZ2V0RXh0cmFcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtyZXR1cm4gaS5jbGFzc05hbWU9XCJ2aXJ0dWFsLXNjcm9sbC1cIi5jb25jYXQodCksZSYmKGkuc3R5bGUuaGVpZ2h0PVwiXCIuY29uY2F0KGUsXCJweFwiKSksaS5vdXRlckhUTUx9fV0pLHR9KCksbXY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7byh0aGlzLHQpLHRoaXMub3B0aW9ucz1uLHRoaXMuJGVsPWkuZGVmYXVsdChlKSx0aGlzLiRlbF89dGhpcy4kZWwuY2xvbmUoKSx0aGlzLnRpbWVvdXRJZF89MCx0aGlzLnRpbWVvdXRGb290ZXJfPTB9cmV0dXJuIHIodCxbe2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaW5pdENvbnN0YW50cygpLHRoaXMuaW5pdExvY2FsZSgpLHRoaXMuaW5pdENvbnRhaW5lcigpLHRoaXMuaW5pdFRhYmxlKCksdGhpcy5pbml0SGVhZGVyKCksdGhpcy5pbml0RGF0YSgpLHRoaXMuaW5pdEhpZGRlblJvd3MoKSx0aGlzLmluaXRUb29sYmFyKCksdGhpcy5pbml0UGFnaW5hdGlvbigpLHRoaXMuaW5pdEJvZHkoKSx0aGlzLmluaXRTZWFyY2hUZXh0KCksdGhpcy5pbml0U2VydmVyKCl9fSx7a2V5OlwiaW5pdENvbnN0YW50c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zO3RoaXMuY29uc3RhbnRzPXZ2LkNPTlNUQU5UUyx0aGlzLmNvbnN0YW50cy50aGVtZT1pLmRlZmF1bHQuZm4uYm9vdHN0cmFwVGFibGUudGhlbWUsdGhpcy5jb25zdGFudHMuZGF0YVRvZ2dsZT10aGlzLmNvbnN0YW50cy5odG1sLmRhdGFUb2dnbGV8fFwiZGF0YS10b2dnbGVcIjt2YXIgZT1odi5nZXRJY29uc1ByZWZpeChpLmRlZmF1bHQuZm4uYm9vdHN0cmFwVGFibGUudGhlbWUpLG89aHYuZ2V0SWNvbnMoZSk7XCJzdHJpbmdcIj09dHlwZW9mIHQuaWNvbnMmJih0Lmljb25zPWh2LmNhbGN1bGF0ZU9iamVjdFZhbHVlKG51bGwsdC5pY29ucykpLHQuaWNvbnNQcmVmaXg9dC5pY29uc1ByZWZpeHx8aS5kZWZhdWx0LmZuLmJvb3RzdHJhcFRhYmxlLmRlZmF1bHRzLmljb25zUHJlZml4fHxlLHQuaWNvbnM9T2JqZWN0LmFzc2lnbihvLGkuZGVmYXVsdC5mbi5ib290c3RyYXBUYWJsZS5kZWZhdWx0cy5pY29ucyx0Lmljb25zKTt2YXIgYT10LmJ1dHRvbnNQcmVmaXg/XCJcIi5jb25jYXQodC5idXR0b25zUHJlZml4LFwiLVwiKTpcIlwiO3RoaXMuY29uc3RhbnRzLmJ1dHRvbnNDbGFzcz1bdC5idXR0b25zUHJlZml4LGErdC5idXR0b25zQ2xhc3MsaHYuc3ByaW50ZihcIlwiLmNvbmNhdChhLFwiJXNcIiksdC5pY29uU2l6ZSldLmpvaW4oXCIgXCIpLnRyaW0oKSx0aGlzLmJ1dHRvbnM9aHYuY2FsY3VsYXRlT2JqZWN0VmFsdWUodGhpcyx0LmJ1dHRvbnMsW10se30pLFwib2JqZWN0XCIhPT1uKHRoaXMuYnV0dG9ucykmJih0aGlzLmJ1dHRvbnM9e30pfX0se2tleTpcImluaXRMb2NhbGVcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5sb2NhbGUpe3ZhciBlPWkuZGVmYXVsdC5mbi5ib290c3RyYXBUYWJsZS5sb2NhbGVzLG49dGhpcy5vcHRpb25zLmxvY2FsZS5zcGxpdCgvLXxfLyk7blswXT1uWzBdLnRvTG93ZXJDYXNlKCksblsxXSYmKG5bMV09blsxXS50b1VwcGVyQ2FzZSgpKTt2YXIgbz17fTtlW3RoaXMub3B0aW9ucy5sb2NhbGVdP289ZVt0aGlzLm9wdGlvbnMubG9jYWxlXTplW24uam9pbihcIi1cIildP289ZVtuLmpvaW4oXCItXCIpXTplW25bMF1dJiYobz1lW25bMF1dKTtmb3IodmFyIGE9MCxyPU9iamVjdC5lbnRyaWVzKG8pO2E8ci5sZW5ndGg7YSsrKXt2YXIgbD1zKHJbYV0sMiksYz1sWzBdLGg9bFsxXTt0aGlzLm9wdGlvbnNbY109PT10LkRFRkFVTFRTW2NdJiYodGhpcy5vcHRpb25zW2NdPWgpfX19fSx7a2V5OlwiaW5pdENvbnRhaW5lclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9W1widG9wXCIsXCJib3RoXCJdLmluY2x1ZGVzKHRoaXMub3B0aW9ucy5wYWdpbmF0aW9uVkFsaWduKT8nPGRpdiBjbGFzcz1cImZpeGVkLXRhYmxlLXBhZ2luYXRpb24gY2xlYXJmaXhcIj48L2Rpdj4nOlwiXCIsZT1bXCJib3R0b21cIixcImJvdGhcIl0uaW5jbHVkZXModGhpcy5vcHRpb25zLnBhZ2luYXRpb25WQWxpZ24pPyc8ZGl2IGNsYXNzPVwiZml4ZWQtdGFibGUtcGFnaW5hdGlvblwiPjwvZGl2Pic6XCJcIixuPWh2LmNhbGN1bGF0ZU9iamVjdFZhbHVlKHRoaXMub3B0aW9ucyx0aGlzLm9wdGlvbnMubG9hZGluZ1RlbXBsYXRlLFt0aGlzLm9wdGlvbnMuZm9ybWF0TG9hZGluZ01lc3NhZ2UoKV0pO3RoaXMuJGNvbnRhaW5lcj1pLmRlZmF1bHQoJ1xcbiAgICAgIDxkaXYgY2xhc3M9XCJib290c3RyYXAtdGFibGUgJy5jb25jYXQodGhpcy5jb25zdGFudHMudGhlbWUsJ1wiPlxcbiAgICAgIDxkaXYgY2xhc3M9XCJmaXhlZC10YWJsZS10b29sYmFyXCI+PC9kaXY+XFxuICAgICAgJykuY29uY2F0KHQsJ1xcbiAgICAgIDxkaXYgY2xhc3M9XCJmaXhlZC10YWJsZS1jb250YWluZXJcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVwiZml4ZWQtdGFibGUtaGVhZGVyXCI+PHRhYmxlPjwvdGFibGU+PC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cImZpeGVkLXRhYmxlLWJvZHlcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVwiZml4ZWQtdGFibGUtbG9hZGluZ1wiPlxcbiAgICAgICcpLmNvbmNhdChuLCdcXG4gICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVwiZml4ZWQtdGFibGUtZm9vdGVyXCI+PC9kaXY+XFxuICAgICAgPC9kaXY+XFxuICAgICAgJykuY29uY2F0KGUsXCJcXG4gICAgICA8L2Rpdj5cXG4gICAgXCIpKSx0aGlzLiRjb250YWluZXIuaW5zZXJ0QWZ0ZXIodGhpcy4kZWwpLHRoaXMuJHRhYmxlQ29udGFpbmVyPXRoaXMuJGNvbnRhaW5lci5maW5kKFwiLmZpeGVkLXRhYmxlLWNvbnRhaW5lclwiKSx0aGlzLiR0YWJsZUhlYWRlcj10aGlzLiRjb250YWluZXIuZmluZChcIi5maXhlZC10YWJsZS1oZWFkZXJcIiksdGhpcy4kdGFibGVCb2R5PXRoaXMuJGNvbnRhaW5lci5maW5kKFwiLmZpeGVkLXRhYmxlLWJvZHlcIiksdGhpcy4kdGFibGVMb2FkaW5nPXRoaXMuJGNvbnRhaW5lci5maW5kKFwiLmZpeGVkLXRhYmxlLWxvYWRpbmdcIiksdGhpcy4kdGFibGVGb290ZXI9dGhpcy4kZWwuZmluZChcInRmb290XCIpLHRoaXMub3B0aW9ucy5idXR0b25zVG9vbGJhcj90aGlzLiR0b29sYmFyPWkuZGVmYXVsdChcImJvZHlcIikuZmluZCh0aGlzLm9wdGlvbnMuYnV0dG9uc1Rvb2xiYXIpOnRoaXMuJHRvb2xiYXI9dGhpcy4kY29udGFpbmVyLmZpbmQoXCIuZml4ZWQtdGFibGUtdG9vbGJhclwiKSx0aGlzLiRwYWdpbmF0aW9uPXRoaXMuJGNvbnRhaW5lci5maW5kKFwiLmZpeGVkLXRhYmxlLXBhZ2luYXRpb25cIiksdGhpcy4kdGFibGVCb2R5LmFwcGVuZCh0aGlzLiRlbCksdGhpcy4kY29udGFpbmVyLmFmdGVyKCc8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj4nKSx0aGlzLiRlbC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3NlcyksdGhpcy4kdGFibGVMb2FkaW5nLmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzKSx0aGlzLm9wdGlvbnMuaGVpZ2h0JiYodGhpcy4kdGFibGVDb250YWluZXIuYWRkQ2xhc3MoXCJmaXhlZC1oZWlnaHRcIiksdGhpcy5vcHRpb25zLnNob3dGb290ZXImJnRoaXMuJHRhYmxlQ29udGFpbmVyLmFkZENsYXNzKFwiaGFzLWZvb3RlclwiKSx0aGlzLm9wdGlvbnMuY2xhc3Nlcy5zcGxpdChcIiBcIikuaW5jbHVkZXMoXCJ0YWJsZS1ib3JkZXJlZFwiKSYmKHRoaXMuJHRhYmxlQm9keS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJmaXhlZC10YWJsZS1ib3JkZXJcIj48L2Rpdj4nKSx0aGlzLiR0YWJsZUJvcmRlcj10aGlzLiR0YWJsZUJvZHkuZmluZChcIi5maXhlZC10YWJsZS1ib3JkZXJcIiksdGhpcy4kdGFibGVMb2FkaW5nLmFkZENsYXNzKFwiZml4ZWQtdGFibGUtYm9yZGVyXCIpKSx0aGlzLiR0YWJsZUZvb3Rlcj10aGlzLiRjb250YWluZXIuZmluZChcIi5maXhlZC10YWJsZS1mb290ZXJcIikpfX0se2tleTpcImluaXRUYWJsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxuPVtdO2lmKHRoaXMuJGhlYWRlcj10aGlzLiRlbC5maW5kKFwiPnRoZWFkXCIpLHRoaXMuJGhlYWRlci5sZW5ndGg/dGhpcy5vcHRpb25zLnRoZWFkQ2xhc3NlcyYmdGhpcy4kaGVhZGVyLmFkZENsYXNzKHRoaXMub3B0aW9ucy50aGVhZENsYXNzZXMpOnRoaXMuJGhlYWRlcj1pLmRlZmF1bHQoJzx0aGVhZCBjbGFzcz1cIicuY29uY2F0KHRoaXMub3B0aW9ucy50aGVhZENsYXNzZXMsJ1wiPjwvdGhlYWQ+JykpLmFwcGVuZFRvKHRoaXMuJGVsKSx0aGlzLl9oZWFkZXJUckNsYXNzZXM9W10sdGhpcy5faGVhZGVyVHJTdHlsZXM9W10sdGhpcy4kaGVhZGVyLmZpbmQoXCJ0clwiKS5lYWNoKChmdW5jdGlvbih0LG8pe3ZhciBhPWkuZGVmYXVsdChvKSxyPVtdO2EuZmluZChcInRoXCIpLmVhY2goKGZ1bmN0aW9uKHQsZSl7dmFyIG49aS5kZWZhdWx0KGUpO3ZvaWQgMCE9PW4uZGF0YShcImZpZWxkXCIpJiZuLmRhdGEoXCJmaWVsZFwiLFwiXCIuY29uY2F0KG4uZGF0YShcImZpZWxkXCIpKSksci5wdXNoKGkuZGVmYXVsdC5leHRlbmQoe30se3RpdGxlOm4uaHRtbCgpLGNsYXNzOm4uYXR0cihcImNsYXNzXCIpLHRpdGxlVG9vbHRpcDpuLmF0dHIoXCJ0aXRsZVwiKSxyb3dzcGFuOm4uYXR0cihcInJvd3NwYW5cIik/K24uYXR0cihcInJvd3NwYW5cIik6dm9pZCAwLGNvbHNwYW46bi5hdHRyKFwiY29sc3BhblwiKT8rbi5hdHRyKFwiY29sc3BhblwiKTp2b2lkIDB9LG4uZGF0YSgpKSl9KSksbi5wdXNoKHIpLGEuYXR0cihcImNsYXNzXCIpJiZlLl9oZWFkZXJUckNsYXNzZXMucHVzaChhLmF0dHIoXCJjbGFzc1wiKSksYS5hdHRyKFwic3R5bGVcIikmJmUuX2hlYWRlclRyU3R5bGVzLnB1c2goYS5hdHRyKFwic3R5bGVcIikpfSkpLEFycmF5LmlzQXJyYXkodGhpcy5vcHRpb25zLmNvbHVtbnNbMF0pfHwodGhpcy5vcHRpb25zLmNvbHVtbnM9W3RoaXMub3B0aW9ucy5jb2x1bW5zXSksdGhpcy5vcHRpb25zLmNvbHVtbnM9aS5kZWZhdWx0LmV4dGVuZCghMCxbXSxuLHRoaXMub3B0aW9ucy5jb2x1bW5zKSx0aGlzLmNvbHVtbnM9W10sdGhpcy5maWVsZHNDb2x1bW5zSW5kZXg9W10saHYuc2V0RmllbGRJbmRleCh0aGlzLm9wdGlvbnMuY29sdW1ucyksdGhpcy5vcHRpb25zLmNvbHVtbnMuZm9yRWFjaCgoZnVuY3Rpb24obixvKXtuLmZvckVhY2goKGZ1bmN0aW9uKG4sYSl7dmFyIHI9aS5kZWZhdWx0LmV4dGVuZCh7fSx0LkNPTFVNTl9ERUZBVUxUUyxuLHtwYXNzZWQ6bn0pO3ZvaWQgMCE9PXIuZmllbGRJbmRleCYmKGUuY29sdW1uc1tyLmZpZWxkSW5kZXhdPXIsZS5maWVsZHNDb2x1bW5zSW5kZXhbci5maWVsZF09ci5maWVsZEluZGV4KSxlLm9wdGlvbnMuY29sdW1uc1tvXVthXT1yfSkpfSkpLCF0aGlzLm9wdGlvbnMuZGF0YS5sZW5ndGgpe3ZhciBvPWh2LnRyVG9EYXRhKHRoaXMuY29sdW1ucyx0aGlzLiRlbC5maW5kKFwiPnRib2R5PnRyXCIpKTtvLmxlbmd0aCYmKHRoaXMub3B0aW9ucy5kYXRhPW8sdGhpcy5mcm9tSHRtbD0hMCl9dGhpcy5vcHRpb25zLnBhZ2luYXRpb24mJlwic2VydmVyXCIhPT10aGlzLm9wdGlvbnMuc2lkZVBhZ2luYXRpb258fCh0aGlzLmZvb3RlckRhdGE9aHYudHJUb0RhdGEodGhpcy5jb2x1bW5zLHRoaXMuJGVsLmZpbmQoXCI+dGZvb3Q+dHJcIikpKSx0aGlzLmZvb3RlckRhdGEmJnRoaXMuJGVsLmZpbmQoXCJ0Zm9vdFwiKS5odG1sKFwiPHRyPjwvdHI+XCIpLCF0aGlzLm9wdGlvbnMuc2hvd0Zvb3Rlcnx8dGhpcy5vcHRpb25zLmNhcmRWaWV3P3RoaXMuJHRhYmxlRm9vdGVyLmhpZGUoKTp0aGlzLiR0YWJsZUZvb3Rlci5zaG93KCl9fSx7a2V5OlwiaW5pdEhlYWRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXt9LG49W107dGhpcy5oZWFkZXI9e2ZpZWxkczpbXSxzdHlsZXM6W10sY2xhc3NlczpbXSxmb3JtYXR0ZXJzOltdLGRldGFpbEZvcm1hdHRlcnM6W10sZXZlbnRzOltdLHNvcnRlcnM6W10sc29ydE5hbWVzOltdLGNlbGxTdHlsZXM6W10sc2VhcmNoYWJsZXM6W119LGh2LnVwZGF0ZUZpZWxkR3JvdXAodGhpcy5vcHRpb25zLmNvbHVtbnMsdGhpcy5jb2x1bW5zKSx0aGlzLm9wdGlvbnMuY29sdW1ucy5mb3JFYWNoKChmdW5jdGlvbihpLG8pe3ZhciBhPVtdO2EucHVzaChcIjx0clwiLmNvbmNhdChodi5zcHJpbnRmKCcgY2xhc3M9XCIlc1wiJyx0Ll9oZWFkZXJUckNsYXNzZXNbb10pLFwiIFwiKS5jb25jYXQoaHYuc3ByaW50ZignIHN0eWxlPVwiJXNcIicsdC5faGVhZGVyVHJTdHlsZXNbb10pLFwiPlwiKSk7dmFyIHI9XCJcIjtpZigwPT09byYmaHYuaGFzRGV0YWlsVmlld0ljb24odC5vcHRpb25zKSl7dmFyIGw9dC5vcHRpb25zLmNvbHVtbnMubGVuZ3RoPjE/JyByb3dzcGFuPVwiJy5jb25jYXQodC5vcHRpb25zLmNvbHVtbnMubGVuZ3RoLCdcIicpOlwiXCI7cj0nPHRoIGNsYXNzPVwiZGV0YWlsXCInLmNvbmNhdChsLCc+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaHQtY2VsbFwiPjwvZGl2PlxcbiAgICAgICAgICA8L3RoPicpfXImJlwicmlnaHRcIiE9PXQub3B0aW9ucy5kZXRhaWxWaWV3QWxpZ24mJmEucHVzaChyKSxpLmZvckVhY2goKGZ1bmN0aW9uKGksbil7dmFyIHI9aHYuc3ByaW50ZignIGNsYXNzPVwiJXNcIicsaS5jbGFzcyksbD1pLndpZHRoVW5pdCxjPXBhcnNlRmxvYXQoaS53aWR0aCksaD1pLmhhbGlnbj9pLmhhbGlnbjppLmFsaWduLHU9aHYuc3ByaW50ZihcInRleHQtYWxpZ246ICVzOyBcIixoKSxkPWh2LnNwcmludGYoXCJ0ZXh0LWFsaWduOiAlczsgXCIsaS5hbGlnbiksZj1odi5zcHJpbnRmKFwidmVydGljYWwtYWxpZ246ICVzOyBcIixpLnZhbGlnbik7aWYoZis9aHYuc3ByaW50ZihcIndpZHRoOiAlczsgXCIsIWkuY2hlY2tib3gmJiFpLnJhZGlvfHxjP2M/YytsOnZvaWQgMDppLnNob3dTZWxlY3RUaXRsZT92b2lkIDA6XCIzNnB4XCIpLHZvaWQgMCE9PWkuZmllbGRJbmRleHx8aS52aXNpYmxlKXt2YXIgcD1odi5jYWxjdWxhdGVPYmplY3RWYWx1ZShudWxsLHQub3B0aW9ucy5oZWFkZXJTdHlsZSxbaV0pLGc9W10sdj1cIlwiO2lmKHAmJnAuY3NzKWZvcih2YXIgYj0wLG09T2JqZWN0LmVudHJpZXMocC5jc3MpO2I8bS5sZW5ndGg7YisrKXt2YXIgeT1zKG1bYl0sMiksdz15WzBdLFM9eVsxXTtnLnB1c2goXCJcIi5jb25jYXQodyxcIjogXCIpLmNvbmNhdChTKSl9aWYocCYmcC5jbGFzc2VzJiYodj1odi5zcHJpbnRmKCcgY2xhc3M9XCIlc1wiJyxpLmNsYXNzP1tpLmNsYXNzLHAuY2xhc3Nlc10uam9pbihcIiBcIik6cC5jbGFzc2VzKSksdm9pZCAwIT09aS5maWVsZEluZGV4KXtpZih0LmhlYWRlci5maWVsZHNbaS5maWVsZEluZGV4XT1pLmZpZWxkLHQuaGVhZGVyLnN0eWxlc1tpLmZpZWxkSW5kZXhdPWQrZix0LmhlYWRlci5jbGFzc2VzW2kuZmllbGRJbmRleF09cix0LmhlYWRlci5mb3JtYXR0ZXJzW2kuZmllbGRJbmRleF09aS5mb3JtYXR0ZXIsdC5oZWFkZXIuZGV0YWlsRm9ybWF0dGVyc1tpLmZpZWxkSW5kZXhdPWkuZGV0YWlsRm9ybWF0dGVyLHQuaGVhZGVyLmV2ZW50c1tpLmZpZWxkSW5kZXhdPWkuZXZlbnRzLHQuaGVhZGVyLnNvcnRlcnNbaS5maWVsZEluZGV4XT1pLnNvcnRlcix0LmhlYWRlci5zb3J0TmFtZXNbaS5maWVsZEluZGV4XT1pLnNvcnROYW1lLHQuaGVhZGVyLmNlbGxTdHlsZXNbaS5maWVsZEluZGV4XT1pLmNlbGxTdHlsZSx0LmhlYWRlci5zZWFyY2hhYmxlc1tpLmZpZWxkSW5kZXhdPWkuc2VhcmNoYWJsZSwhaS52aXNpYmxlKXJldHVybjtpZih0Lm9wdGlvbnMuY2FyZFZpZXcmJiFpLmNhcmRWaXNpYmxlKXJldHVybjtlW2kuZmllbGRdPWl9YS5wdXNoKFwiPHRoXCIuY29uY2F0KGh2LnNwcmludGYoJyB0aXRsZT1cIiVzXCInLGkudGl0bGVUb29sdGlwKSksaS5jaGVja2JveHx8aS5yYWRpbz9odi5zcHJpbnRmKCcgY2xhc3M9XCJicy1jaGVja2JveCAlc1wiJyxpLmNsYXNzfHxcIlwiKTp2fHxyLGh2LnNwcmludGYoJyBzdHlsZT1cIiVzXCInLHUrZitnLmpvaW4oXCI7IFwiKSksaHYuc3ByaW50ZignIHJvd3NwYW49XCIlc1wiJyxpLnJvd3NwYW4pLGh2LnNwcmludGYoJyBjb2xzcGFuPVwiJXNcIicsaS5jb2xzcGFuKSxodi5zcHJpbnRmKCcgZGF0YS1maWVsZD1cIiVzXCInLGkuZmllbGQpLDA9PT1uJiZvPjA/XCIgZGF0YS1ub3QtZmlyc3QtdGhcIjpcIlwiLFwiPlwiKSxhLnB1c2goaHYuc3ByaW50ZignPGRpdiBjbGFzcz1cInRoLWlubmVyICVzXCI+Jyx0Lm9wdGlvbnMuc29ydGFibGUmJmkuc29ydGFibGU/XCJzb3J0YWJsZVwiLmNvbmNhdChcImNlbnRlclwiPT09aD9cIiBzb3J0YWJsZS1jZW50ZXJcIjpcIlwiLFwiIGJvdGhcIik6XCJcIikpO3ZhciB4PXQub3B0aW9ucy5lc2NhcGU/aHYuZXNjYXBlSFRNTChpLnRpdGxlKTppLnRpdGxlLGs9eDtpLmNoZWNrYm94JiYoeD1cIlwiLCF0Lm9wdGlvbnMuc2luZ2xlU2VsZWN0JiZ0Lm9wdGlvbnMuY2hlY2tib3hIZWFkZXImJih4PSc8bGFiZWw+PGlucHV0IG5hbWU9XCJidFNlbGVjdEFsbFwiIHR5cGU9XCJjaGVja2JveFwiIC8+PHNwYW4+PC9zcGFuPjwvbGFiZWw+JyksdC5oZWFkZXIuc3RhdGVGaWVsZD1pLmZpZWxkKSxpLnJhZGlvJiYoeD1cIlwiLHQuaGVhZGVyLnN0YXRlRmllbGQ9aS5maWVsZCksIXgmJmkuc2hvd1NlbGVjdFRpdGxlJiYoeCs9ayksYS5wdXNoKHgpLGEucHVzaChcIjwvZGl2PlwiKSxhLnB1c2goJzxkaXYgY2xhc3M9XCJmaHQtY2VsbFwiPjwvZGl2PicpLGEucHVzaChcIjwvZGl2PlwiKSxhLnB1c2goXCI8L3RoPlwiKX19KSksciYmXCJyaWdodFwiPT09dC5vcHRpb25zLmRldGFpbFZpZXdBbGlnbiYmYS5wdXNoKHIpLGEucHVzaChcIjwvdHI+XCIpLGEubGVuZ3RoPjMmJm4ucHVzaChhLmpvaW4oXCJcIikpfSkpLHRoaXMuJGhlYWRlci5odG1sKG4uam9pbihcIlwiKSksdGhpcy4kaGVhZGVyLmZpbmQoXCJ0aFtkYXRhLWZpZWxkXVwiKS5lYWNoKChmdW5jdGlvbih0LG4pe2kuZGVmYXVsdChuKS5kYXRhKGVbaS5kZWZhdWx0KG4pLmRhdGEoXCJmaWVsZFwiKV0pfSkpLHRoaXMuJGNvbnRhaW5lci5vZmYoXCJjbGlja1wiLFwiLnRoLWlubmVyXCIpLm9uKFwiY2xpY2tcIixcIi50aC1pbm5lclwiLChmdW5jdGlvbihlKXt2YXIgbj1pLmRlZmF1bHQoZS5jdXJyZW50VGFyZ2V0KTtpZih0Lm9wdGlvbnMuZGV0YWlsVmlldyYmIW4ucGFyZW50KCkuaGFzQ2xhc3MoXCJicy1jaGVja2JveFwiKSYmbi5jbG9zZXN0KFwiLmJvb3RzdHJhcC10YWJsZVwiKVswXSE9PXQuJGNvbnRhaW5lclswXSlyZXR1cm4hMTt0Lm9wdGlvbnMuc29ydGFibGUmJm4ucGFyZW50KCkuZGF0YSgpLnNvcnRhYmxlJiZ0Lm9uU29ydChlKX0pKTt2YXIgbz1odi5nZXRFdmVudE5hbWUoXCJyZXNpemUuYm9vdHN0cmFwLXRhYmxlXCIsdGhpcy4kZWwuYXR0cihcImlkXCIpKTtpLmRlZmF1bHQod2luZG93KS5vZmYobyksIXRoaXMub3B0aW9ucy5zaG93SGVhZGVyfHx0aGlzLm9wdGlvbnMuY2FyZFZpZXc/KHRoaXMuJGhlYWRlci5oaWRlKCksdGhpcy4kdGFibGVIZWFkZXIuaGlkZSgpLHRoaXMuJHRhYmxlTG9hZGluZy5jc3MoXCJ0b3BcIiwwKSk6KHRoaXMuJGhlYWRlci5zaG93KCksdGhpcy4kdGFibGVIZWFkZXIuc2hvdygpLHRoaXMuJHRhYmxlTG9hZGluZy5jc3MoXCJ0b3BcIix0aGlzLiRoZWFkZXIub3V0ZXJIZWlnaHQoKSsxKSx0aGlzLmdldENhcmV0KCksaS5kZWZhdWx0KHdpbmRvdykub24obywoZnVuY3Rpb24oKXtyZXR1cm4gdC5yZXNldFZpZXcoKX0pKSksdGhpcy4kc2VsZWN0QWxsPXRoaXMuJGhlYWRlci5maW5kKCdbbmFtZT1cImJ0U2VsZWN0QWxsXCJdJyksdGhpcy4kc2VsZWN0QWxsLm9mZihcImNsaWNrXCIpLm9uKFwiY2xpY2tcIiwoZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKTt2YXIgbj1pLmRlZmF1bHQoZS5jdXJyZW50VGFyZ2V0KS5wcm9wKFwiY2hlY2tlZFwiKTt0W24/XCJjaGVja0FsbFwiOlwidW5jaGVja0FsbFwiXSgpLHQudXBkYXRlU2VsZWN0ZWQoKX0pKX19LHtrZXk6XCJpbml0RGF0YVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7XCJhcHBlbmRcIj09PWU/dGhpcy5vcHRpb25zLmRhdGE9dGhpcy5vcHRpb25zLmRhdGEuY29uY2F0KHQpOlwicHJlcGVuZFwiPT09ZT90aGlzLm9wdGlvbnMuZGF0YT1bXS5jb25jYXQodCkuY29uY2F0KHRoaXMub3B0aW9ucy5kYXRhKToodD10fHxodi5kZWVwQ29weSh0aGlzLm9wdGlvbnMuZGF0YSksdGhpcy5vcHRpb25zLmRhdGE9QXJyYXkuaXNBcnJheSh0KT90OnRbdGhpcy5vcHRpb25zLmRhdGFGaWVsZF0pLHRoaXMuZGF0YT1sKHRoaXMub3B0aW9ucy5kYXRhKSx0aGlzLm9wdGlvbnMuc29ydFJlc2V0JiYodGhpcy51bnNvcnRlZERhdGE9bCh0aGlzLmRhdGEpKSxcInNlcnZlclwiIT09dGhpcy5vcHRpb25zLnNpZGVQYWdpbmF0aW9uJiZ0aGlzLmluaXRTb3J0KCl9fSx7a2V5OlwiaW5pdFNvcnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLm9wdGlvbnMuc29ydE5hbWUsaT1cImRlc2NcIj09PXRoaXMub3B0aW9ucy5zb3J0T3JkZXI/LTE6MSxuPXRoaXMuaGVhZGVyLmZpZWxkcy5pbmRleE9mKHRoaXMub3B0aW9ucy5zb3J0TmFtZSksbz0wOy0xIT09bj8odGhpcy5vcHRpb25zLnNvcnRTdGFibGUmJnRoaXMuZGF0YS5mb3JFYWNoKChmdW5jdGlvbih0LGUpe3QuaGFzT3duUHJvcGVydHkoXCJfcG9zaXRpb25cIil8fCh0Ll9wb3NpdGlvbj1lKX0pKSx0aGlzLm9wdGlvbnMuY3VzdG9tU29ydD9odi5jYWxjdWxhdGVPYmplY3RWYWx1ZSh0aGlzLm9wdGlvbnMsdGhpcy5vcHRpb25zLmN1c3RvbVNvcnQsW3RoaXMub3B0aW9ucy5zb3J0TmFtZSx0aGlzLm9wdGlvbnMuc29ydE9yZGVyLHRoaXMuZGF0YV0pOnRoaXMuZGF0YS5zb3J0KChmdW5jdGlvbihvLGEpe3QuaGVhZGVyLnNvcnROYW1lc1tuXSYmKGU9dC5oZWFkZXIuc29ydE5hbWVzW25dKTt2YXIgcj1odi5nZXRJdGVtRmllbGQobyxlLHQub3B0aW9ucy5lc2NhcGUpLHM9aHYuZ2V0SXRlbUZpZWxkKGEsZSx0Lm9wdGlvbnMuZXNjYXBlKSxsPWh2LmNhbGN1bGF0ZU9iamVjdFZhbHVlKHQuaGVhZGVyLHQuaGVhZGVyLnNvcnRlcnNbbl0sW3IscyxvLGFdKTtyZXR1cm4gdm9pZCAwIT09bD90Lm9wdGlvbnMuc29ydFN0YWJsZSYmMD09PWw/aSooby5fcG9zaXRpb24tYS5fcG9zaXRpb24pOmkqbDpodi5zb3J0KHIscyxpLHQub3B0aW9ucyxvLl9wb3NpdGlvbixhLl9wb3NpdGlvbil9KSksdm9pZCAwIT09dGhpcy5vcHRpb25zLnNvcnRDbGFzcyYmKGNsZWFyVGltZW91dChvKSxvPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC4kZWwucmVtb3ZlQ2xhc3ModC5vcHRpb25zLnNvcnRDbGFzcyk7dmFyIGU9dC4kaGVhZGVyLmZpbmQoJ1tkYXRhLWZpZWxkPVwiJy5jb25jYXQodC5vcHRpb25zLnNvcnROYW1lLCdcIl0nKSkuaW5kZXgoKTt0LiRlbC5maW5kKFwidHIgdGQ6bnRoLWNoaWxkKFwiLmNvbmNhdChlKzEsXCIpXCIpKS5hZGRDbGFzcyh0Lm9wdGlvbnMuc29ydENsYXNzKX0pLDI1MCkpKTp0aGlzLm9wdGlvbnMuc29ydFJlc2V0JiYodGhpcy5kYXRhPWwodGhpcy51bnNvcnRlZERhdGEpKX19LHtrZXk6XCJvblNvcnRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnR5cGUsbj10LmN1cnJlbnRUYXJnZXQsbz1cImtleXByZXNzXCI9PT1lP2kuZGVmYXVsdChuKTppLmRlZmF1bHQobikucGFyZW50KCksYT10aGlzLiRoZWFkZXIuZmluZChcInRoXCIpLmVxKG8uaW5kZXgoKSk7aWYodGhpcy4kaGVhZGVyLmFkZCh0aGlzLiRoZWFkZXJfKS5maW5kKFwic3Bhbi5vcmRlclwiKS5yZW1vdmUoKSx0aGlzLm9wdGlvbnMuc29ydE5hbWU9PT1vLmRhdGEoXCJmaWVsZFwiKSl7dmFyIHI9dGhpcy5vcHRpb25zLnNvcnRPcmRlcixzPXRoaXMuY29sdW1uc1t0aGlzLmZpZWxkc0NvbHVtbnNJbmRleFtvLmRhdGEoXCJmaWVsZFwiKV1dLnNvcnRPcmRlcnx8dGhpcy5jb2x1bW5zW3RoaXMuZmllbGRzQ29sdW1uc0luZGV4W28uZGF0YShcImZpZWxkXCIpXV0ub3JkZXI7dm9pZCAwPT09cj90aGlzLm9wdGlvbnMuc29ydE9yZGVyPVwiYXNjXCI6XCJhc2NcIj09PXI/dGhpcy5vcHRpb25zLnNvcnRPcmRlcj10aGlzLm9wdGlvbnMuc29ydFJlc2V0P1wiYXNjXCI9PT1zP1wiZGVzY1wiOnZvaWQgMDpcImRlc2NcIjpcImRlc2NcIj09PXRoaXMub3B0aW9ucy5zb3J0T3JkZXImJih0aGlzLm9wdGlvbnMuc29ydE9yZGVyPXRoaXMub3B0aW9ucy5zb3J0UmVzZXQ/XCJkZXNjXCI9PT1zP1wiYXNjXCI6dm9pZCAwOlwiYXNjXCIpLHZvaWQgMD09PXRoaXMub3B0aW9ucy5zb3J0T3JkZXImJih0aGlzLm9wdGlvbnMuc29ydE5hbWU9dm9pZCAwKX1lbHNlIHRoaXMub3B0aW9ucy5zb3J0TmFtZT1vLmRhdGEoXCJmaWVsZFwiKSx0aGlzLm9wdGlvbnMucmVtZW1iZXJPcmRlcj90aGlzLm9wdGlvbnMuc29ydE9yZGVyPVwiYXNjXCI9PT1vLmRhdGEoXCJvcmRlclwiKT9cImRlc2NcIjpcImFzY1wiOnRoaXMub3B0aW9ucy5zb3J0T3JkZXI9dGhpcy5jb2x1bW5zW3RoaXMuZmllbGRzQ29sdW1uc0luZGV4W28uZGF0YShcImZpZWxkXCIpXV0uc29ydE9yZGVyfHx0aGlzLmNvbHVtbnNbdGhpcy5maWVsZHNDb2x1bW5zSW5kZXhbby5kYXRhKFwiZmllbGRcIildXS5vcmRlcjtpZih0aGlzLnRyaWdnZXIoXCJzb3J0XCIsdGhpcy5vcHRpb25zLnNvcnROYW1lLHRoaXMub3B0aW9ucy5zb3J0T3JkZXIpLG8uYWRkKGEpLmRhdGEoXCJvcmRlclwiLHRoaXMub3B0aW9ucy5zb3J0T3JkZXIpLHRoaXMuZ2V0Q2FyZXQoKSxcInNlcnZlclwiPT09dGhpcy5vcHRpb25zLnNpZGVQYWdpbmF0aW9uJiZ0aGlzLm9wdGlvbnMuc2VydmVyU29ydClyZXR1cm4gdGhpcy5vcHRpb25zLnBhZ2VOdW1iZXI9MSx2b2lkIHRoaXMuaW5pdFNlcnZlcih0aGlzLm9wdGlvbnMuc2lsZW50U29ydCk7dGhpcy5vcHRpb25zLnBhZ2luYXRpb24mJnRoaXMub3B0aW9ucy5zb3J0UmVzZXRQYWdlJiYodGhpcy5vcHRpb25zLnBhZ2VOdW1iZXI9MSx0aGlzLmluaXRQYWdpbmF0aW9uKCkpLHRoaXMuaW5pdFNvcnQoKSx0aGlzLmluaXRCb2R5KCl9fSx7a2V5OlwiaW5pdFRvb2xiYXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcyxvPXRoaXMub3B0aW9ucyxhPVtdLHI9MCxsPTA7dGhpcy4kdG9vbGJhci5maW5kKFwiLmJzLWJhcnNcIikuY2hpbGRyZW4oKS5sZW5ndGgmJmkuZGVmYXVsdChcImJvZHlcIikuYXBwZW5kKGkuZGVmYXVsdChvLnRvb2xiYXIpKSx0aGlzLiR0b29sYmFyLmh0bWwoXCJcIiksXCJzdHJpbmdcIiE9dHlwZW9mIG8udG9vbGJhciYmXCJvYmplY3RcIiE9PW4oby50b29sYmFyKXx8aS5kZWZhdWx0KGh2LnNwcmludGYoJzxkaXYgY2xhc3M9XCJicy1iYXJzICVzLSVzXCI+PC9kaXY+Jyx0aGlzLmNvbnN0YW50cy5jbGFzc2VzLnB1bGwsby50b29sYmFyQWxpZ24pKS5hcHBlbmRUbyh0aGlzLiR0b29sYmFyKS5hcHBlbmQoaS5kZWZhdWx0KG8udG9vbGJhcikpLGE9Wyc8ZGl2IGNsYXNzPVwiJy5jb25jYXQoW1wiY29sdW1uc1wiLFwiY29sdW1ucy1cIi5jb25jYXQoby5idXR0b25zQWxpZ24pLHRoaXMuY29uc3RhbnRzLmNsYXNzZXMuYnV0dG9uc0dyb3VwLFwiXCIuY29uY2F0KHRoaXMuY29uc3RhbnRzLmNsYXNzZXMucHVsbCxcIi1cIikuY29uY2F0KG8uYnV0dG9uc0FsaWduKV0uam9pbihcIiBcIiksJ1wiPicpXSxcInN0cmluZ1wiPT10eXBlb2Ygby5idXR0b25zT3JkZXImJihvLmJ1dHRvbnNPcmRlcj1vLmJ1dHRvbnNPcmRlci5yZXBsYWNlKC9cXFt8XFxdfCB8Jy9nLFwiXCIpLnNwbGl0KFwiLFwiKSksdGhpcy5idXR0b25zPU9iamVjdC5hc3NpZ24odGhpcy5idXR0b25zLHtwYWdpbmF0aW9uU3dpdGNoOnt0ZXh0Om8ucGFnaW5hdGlvbj9vLmZvcm1hdFBhZ2luYXRpb25Td2l0Y2hVcCgpOm8uZm9ybWF0UGFnaW5hdGlvblN3aXRjaERvd24oKSxpY29uOm8ucGFnaW5hdGlvbj9vLmljb25zLnBhZ2luYXRpb25Td2l0Y2hEb3duOm8uaWNvbnMucGFnaW5hdGlvblN3aXRjaFVwLHJlbmRlcjohMSxldmVudDp0aGlzLnRvZ2dsZVBhZ2luYXRpb24sYXR0cmlidXRlczp7XCJhcmlhLWxhYmVsXCI6by5mb3JtYXRQYWdpbmF0aW9uU3dpdGNoKCksdGl0bGU6by5mb3JtYXRQYWdpbmF0aW9uU3dpdGNoKCl9fSxyZWZyZXNoOnt0ZXh0Om8uZm9ybWF0UmVmcmVzaCgpLGljb246by5pY29ucy5yZWZyZXNoLHJlbmRlcjohMSxldmVudDp0aGlzLnJlZnJlc2gsYXR0cmlidXRlczp7XCJhcmlhLWxhYmVsXCI6by5mb3JtYXRSZWZyZXNoKCksdGl0bGU6by5mb3JtYXRSZWZyZXNoKCl9fSx0b2dnbGU6e3RleHQ6by5mb3JtYXRUb2dnbGVPbigpLGljb246by5pY29ucy50b2dnbGVPZmYscmVuZGVyOiExLGV2ZW50OnRoaXMudG9nZ2xlVmlldyxhdHRyaWJ1dGVzOntcImFyaWEtbGFiZWxcIjpvLmZvcm1hdFRvZ2dsZU9uKCksdGl0bGU6by5mb3JtYXRUb2dnbGVPbigpfX0sZnVsbHNjcmVlbjp7dGV4dDpvLmZvcm1hdEZ1bGxzY3JlZW4oKSxpY29uOm8uaWNvbnMuZnVsbHNjcmVlbixyZW5kZXI6ITEsZXZlbnQ6dGhpcy50b2dnbGVGdWxsc2NyZWVuLGF0dHJpYnV0ZXM6e1wiYXJpYS1sYWJlbFwiOm8uZm9ybWF0RnVsbHNjcmVlbigpLHRpdGxlOm8uZm9ybWF0RnVsbHNjcmVlbigpfX0sY29sdW1uczp7cmVuZGVyOiExLGh0bWw6ZnVuY3Rpb24oKXt2YXIgdD1bXTtpZih0LnB1c2goJzxkaXYgY2xhc3M9XCJrZWVwLW9wZW4gJy5jb25jYXQoZS5jb25zdGFudHMuY2xhc3Nlcy5idXR0b25zRHJvcGRvd24sJ1wiIHRpdGxlPVwiJykuY29uY2F0KG8uZm9ybWF0Q29sdW1ucygpLCdcIj5cXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiJykuY29uY2F0KGUuY29uc3RhbnRzLmJ1dHRvbnNDbGFzcywnIGRyb3Bkb3duLXRvZ2dsZVwiIHR5cGU9XCJidXR0b25cIiAnKS5jb25jYXQoZS5jb25zdGFudHMuZGF0YVRvZ2dsZSwnPVwiZHJvcGRvd25cIlxcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCInKS5jb25jYXQoby5mb3JtYXRDb2x1bW5zKCksJ1wiIHRpdGxlPVwiJykuY29uY2F0KG8uZm9ybWF0Q29sdW1ucygpLCdcIj5cXG4gICAgICAgICAgICAnKS5jb25jYXQoby5zaG93QnV0dG9uSWNvbnM/aHYuc3ByaW50ZihlLmNvbnN0YW50cy5odG1sLmljb24sby5pY29uc1ByZWZpeCxvLmljb25zLmNvbHVtbnMpOlwiXCIsXCJcXG4gICAgICAgICAgICBcIikuY29uY2F0KG8uc2hvd0J1dHRvblRleHQ/by5mb3JtYXRDb2x1bW5zKCk6XCJcIixcIlxcbiAgICAgICAgICAgIFwiKS5jb25jYXQoZS5jb25zdGFudHMuaHRtbC5kcm9wZG93bkNhcmV0LFwiXFxuICAgICAgICAgICAgPC9idXR0b24+XFxuICAgICAgICAgICAgXCIpLmNvbmNhdChlLmNvbnN0YW50cy5odG1sLnRvb2xiYXJEcm9wZG93blswXSkpLG8uc2hvd0NvbHVtbnNTZWFyY2gmJih0LnB1c2goaHYuc3ByaW50ZihlLmNvbnN0YW50cy5odG1sLnRvb2xiYXJEcm9wZG93bkl0ZW0saHYuc3ByaW50ZignPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCIlc1wiIG5hbWU9XCJjb2x1bW5zU2VhcmNoXCIgcGxhY2Vob2xkZXI9XCIlc1wiIGF1dG9jb21wbGV0ZT1cIm9mZlwiPicsZS5jb25zdGFudHMuY2xhc3Nlcy5pbnB1dCxvLmZvcm1hdFNlYXJjaCgpKSkpLHQucHVzaChlLmNvbnN0YW50cy5odG1sLnRvb2xiYXJEcm9wZG93blNlcGFyYXRvcikpLG8uc2hvd0NvbHVtbnNUb2dnbGVBbGwpe3ZhciBpPWUuZ2V0VmlzaWJsZUNvbHVtbnMoKS5sZW5ndGg9PT1lLmNvbHVtbnMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hZS5pc1NlbGVjdGlvbkNvbHVtbih0KX0pKS5sZW5ndGg7dC5wdXNoKGh2LnNwcmludGYoZS5jb25zdGFudHMuaHRtbC50b29sYmFyRHJvcGRvd25JdGVtLGh2LnNwcmludGYoJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cInRvZ2dsZS1hbGxcIiAlcz4gPHNwYW4+JXM8L3NwYW4+JyxpPydjaGVja2VkPVwiY2hlY2tlZFwiJzpcIlwiLG8uZm9ybWF0Q29sdW1uc1RvZ2dsZUFsbCgpKSkpLHQucHVzaChlLmNvbnN0YW50cy5odG1sLnRvb2xiYXJEcm9wZG93blNlcGFyYXRvcil9dmFyIG49MDtyZXR1cm4gZS5jb2x1bW5zLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QudmlzaWJsZSYmbisrfSkpLGUuY29sdW1ucy5mb3JFYWNoKChmdW5jdGlvbihpLGEpe2lmKCFlLmlzU2VsZWN0aW9uQ29sdW1uKGkpJiYoIW8uY2FyZFZpZXd8fGkuY2FyZFZpc2libGUpKXt2YXIgcj1pLnZpc2libGU/JyBjaGVja2VkPVwiY2hlY2tlZFwiJzpcIlwiLHM9bjw9by5taW5pbXVtQ291bnRDb2x1bW5zJiZyPycgZGlzYWJsZWQ9XCJkaXNhYmxlZFwiJzpcIlwiO2kuc3dpdGNoYWJsZSYmKHQucHVzaChodi5zcHJpbnRmKGUuY29uc3RhbnRzLmh0bWwudG9vbGJhckRyb3Bkb3duSXRlbSxodi5zcHJpbnRmKCc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgZGF0YS1maWVsZD1cIiVzXCIgdmFsdWU9XCIlc1wiJXMlcz4gPHNwYW4+JXM8L3NwYW4+JyxpLmZpZWxkLGEscixzLGkudGl0bGUpKSksbCsrKX19KSksdC5wdXNoKGUuY29uc3RhbnRzLmh0bWwudG9vbGJhckRyb3Bkb3duWzFdLFwiPC9kaXY+XCIpLHQuam9pbihcIlwiKX19fSk7Zm9yKHZhciBjPXt9LGg9MCxkPU9iamVjdC5lbnRyaWVzKHRoaXMuYnV0dG9ucyk7aDxkLmxlbmd0aDtoKyspe3ZhciBmPXMoZFtoXSwyKSxwPWZbMF0sZz1mWzFdLHY9dm9pZCAwO2lmKGcuaGFzT3duUHJvcGVydHkoXCJodG1sXCIpKVwiZnVuY3Rpb25cIj09dHlwZW9mIGcuaHRtbD92PWcuaHRtbCgpOlwic3RyaW5nXCI9PXR5cGVvZiBnLmh0bWwmJih2PWcuaHRtbCk7ZWxzZXtpZih2PSc8YnV0dG9uIGNsYXNzPVwiJy5jb25jYXQodGhpcy5jb25zdGFudHMuYnV0dG9uc0NsYXNzLCdcIiB0eXBlPVwiYnV0dG9uXCIgbmFtZT1cIicpLmNvbmNhdChwLCdcIicpLGcuaGFzT3duUHJvcGVydHkoXCJhdHRyaWJ1dGVzXCIpKWZvcih2YXIgYj0wLG09T2JqZWN0LmVudHJpZXMoZy5hdHRyaWJ1dGVzKTtiPG0ubGVuZ3RoO2IrKyl7dmFyIHk9cyhtW2JdLDIpLHc9eVswXSxTPXlbMV07dis9XCIgXCIuY29uY2F0KHcsJz1cIicpLmNvbmNhdChTLCdcIicpfXYrPVwiPlwiLG8uc2hvd0J1dHRvbkljb25zJiZnLmhhc093blByb3BlcnR5KFwiaWNvblwiKSYmKHYrPVwiXCIuY29uY2F0KGh2LnNwcmludGYodGhpcy5jb25zdGFudHMuaHRtbC5pY29uLG8uaWNvbnNQcmVmaXgsZy5pY29uKSxcIiBcIikpLG8uc2hvd0J1dHRvblRleHQmJmcuaGFzT3duUHJvcGVydHkoXCJ0ZXh0XCIpJiYodis9Zy50ZXh0KSx2Kz1cIjwvYnV0dG9uPlwifWNbcF09djt2YXIgeD1cInNob3dcIi5jb25jYXQocC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSkuY29uY2F0KHAuc3Vic3RyaW5nKDEpKSxrPW9beF07ISghZy5oYXNPd25Qcm9wZXJ0eShcInJlbmRlclwiKXx8Zy5oYXNPd25Qcm9wZXJ0eShcInJlbmRlclwiKSYmZy5yZW5kZXIpfHx2b2lkIDAhPT1rJiYhMCE9PWt8fChvW3hdPSEwKSxvLmJ1dHRvbnNPcmRlci5pbmNsdWRlcyhwKXx8by5idXR0b25zT3JkZXIucHVzaChwKX12YXIgTyxDPXUoby5idXR0b25zT3JkZXIpO3RyeXtmb3IoQy5zKCk7IShPPUMubigpKS5kb25lOyl7dmFyIFQ9Ty52YWx1ZTtvW1wic2hvd1wiLmNvbmNhdChULmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpKS5jb25jYXQoVC5zdWJzdHJpbmcoMSkpXSYmYS5wdXNoKGNbVF0pfX1jYXRjaCh0KXtDLmUodCl9ZmluYWxseXtDLmYoKX1hLnB1c2goXCI8L2Rpdj5cIiksKHRoaXMuc2hvd1Rvb2xiYXJ8fGEubGVuZ3RoPjIpJiZ0aGlzLiR0b29sYmFyLmFwcGVuZChhLmpvaW4oXCJcIikpO2Zvcih2YXIgST0wLFA9T2JqZWN0LmVudHJpZXModGhpcy5idXR0b25zKTtJPFAubGVuZ3RoO0krKyl7dmFyIEE9cyhQW0ldLDIpLCQ9QVswXSxSPUFbMV07aWYoUi5oYXNPd25Qcm9wZXJ0eShcImV2ZW50XCIpKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBSLmV2ZW50fHxcInN0cmluZ1wiPT10eXBlb2YgUi5ldmVudClpZihcImNvbnRpbnVlXCI9PT1mdW5jdGlvbigpe3ZhciB0PVwic3RyaW5nXCI9PXR5cGVvZiBSLmV2ZW50P3dpbmRvd1tSLmV2ZW50XTpSLmV2ZW50O3JldHVybiBlLiR0b29sYmFyLmZpbmQoJ2J1dHRvbltuYW1lPVwiJy5jb25jYXQoJCwnXCJdJykpLm9mZihcImNsaWNrXCIpLm9uKFwiY2xpY2tcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdC5jYWxsKGUpfSkpLFwiY29udGludWVcIn0oKSljb250aW51ZTtmb3IodmFyIEU9ZnVuY3Rpb24oKXt2YXIgdD1zKEZbal0sMiksaT10WzBdLG49dFsxXSxvPVwic3RyaW5nXCI9PXR5cGVvZiBuP3dpbmRvd1tuXTpuO2UuJHRvb2xiYXIuZmluZCgnYnV0dG9uW25hbWU9XCInLmNvbmNhdCgkLCdcIl0nKSkub2ZmKGkpLm9uKGksKGZ1bmN0aW9uKCl7cmV0dXJuIG8uY2FsbChlKX0pKX0saj0wLEY9T2JqZWN0LmVudHJpZXMoUi5ldmVudCk7ajxGLmxlbmd0aDtqKyspRSgpfX1pZihvLnNob3dDb2x1bW5zKXt2YXIgXz0odD10aGlzLiR0b29sYmFyLmZpbmQoXCIua2VlcC1vcGVuXCIpKS5maW5kKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl06bm90KFwiLnRvZ2dsZS1hbGxcIiknKSxEPXQuZmluZCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdLnRvZ2dsZS1hbGwnKTtpZihsPD1vLm1pbmltdW1Db3VudENvbHVtbnMmJnQuZmluZChcImlucHV0XCIpLnByb3AoXCJkaXNhYmxlZFwiLCEwKSx0LmZpbmQoXCJsaSwgbGFiZWxcIikub2ZmKFwiY2xpY2tcIikub24oXCJjbGlja1wiLChmdW5jdGlvbih0KXt0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpfSkpLF8ub2ZmKFwiY2xpY2tcIikub24oXCJjbGlja1wiLChmdW5jdGlvbih0KXt2YXIgbj10LmN1cnJlbnRUYXJnZXQsbz1pLmRlZmF1bHQobik7ZS5fdG9nZ2xlQ29sdW1uKG8udmFsKCksby5wcm9wKFwiY2hlY2tlZFwiKSwhMSksZS50cmlnZ2VyKFwiY29sdW1uLXN3aXRjaFwiLG8uZGF0YShcImZpZWxkXCIpLG8ucHJvcChcImNoZWNrZWRcIikpLEQucHJvcChcImNoZWNrZWRcIixfLmZpbHRlcihcIjpjaGVja2VkXCIpLmxlbmd0aD09PWUuY29sdW1ucy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiFlLmlzU2VsZWN0aW9uQ29sdW1uKHQpfSkpLmxlbmd0aCl9KSksRC5vZmYoXCJjbGlja1wiKS5vbihcImNsaWNrXCIsKGZ1bmN0aW9uKHQpe3ZhciBuPXQuY3VycmVudFRhcmdldDtlLl90b2dnbGVBbGxDb2x1bW5zKGkuZGVmYXVsdChuKS5wcm9wKFwiY2hlY2tlZFwiKSksZS50cmlnZ2VyKFwiY29sdW1uLXN3aXRjaC1hbGxcIixpLmRlZmF1bHQobikucHJvcChcImNoZWNrZWRcIikpfSkpLG8uc2hvd0NvbHVtbnNTZWFyY2gpe3ZhciBOPXQuZmluZCgnW25hbWU9XCJjb2x1bW5zU2VhcmNoXCJdJyksVj10LmZpbmQoXCIuZHJvcGRvd24taXRlbS1tYXJrZXJcIik7Ti5vbihcImtleXVwIHBhc3RlIGNoYW5nZVwiLChmdW5jdGlvbih0KXt2YXIgZT10LmN1cnJlbnRUYXJnZXQsbj1pLmRlZmF1bHQoZSkudmFsKCkudG9Mb3dlckNhc2UoKTtWLnNob3coKSxfLmVhY2goKGZ1bmN0aW9uKHQsZSl7dmFyIG89aS5kZWZhdWx0KGUpLnBhcmVudHMoXCIuZHJvcGRvd24taXRlbS1tYXJrZXJcIik7by50ZXh0KCkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhuKXx8by5oaWRlKCl9KSl9KSl9fXZhciBCPWZ1bmN0aW9uKHQpe3ZhciBpPVwia2V5dXAgZHJvcCBibHVyIG1vdXNldXBcIjt0Lm9mZihpKS5vbihpLChmdW5jdGlvbih0KXtvLnNlYXJjaE9uRW50ZXJLZXkmJjEzIT09dC5rZXlDb2RlfHxbMzcsMzgsMzksNDBdLmluY2x1ZGVzKHQua2V5Q29kZSl8fChjbGVhclRpbWVvdXQocikscj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2Uub25TZWFyY2goe2N1cnJlbnRUYXJnZXQ6dC5jdXJyZW50VGFyZ2V0fSl9KSxvLnNlYXJjaFRpbWVPdXQpKX0pKX07aWYoKG8uc2VhcmNofHx0aGlzLnNob3dTZWFyY2hDbGVhckJ1dHRvbikmJlwic3RyaW5nXCIhPXR5cGVvZiBvLnNlYXJjaFNlbGVjdG9yKXthPVtdO3ZhciBMPWh2LnNwcmludGYodGhpcy5jb25zdGFudHMuaHRtbC5zZWFyY2hCdXR0b24sdGhpcy5jb25zdGFudHMuYnV0dG9uc0NsYXNzLG8uZm9ybWF0U2VhcmNoKCksby5zaG93QnV0dG9uSWNvbnM/aHYuc3ByaW50Zih0aGlzLmNvbnN0YW50cy5odG1sLmljb24sby5pY29uc1ByZWZpeCxvLmljb25zLnNlYXJjaCk6XCJcIixvLnNob3dCdXR0b25UZXh0P28uZm9ybWF0U2VhcmNoKCk6XCJcIiksSD1odi5zcHJpbnRmKHRoaXMuY29uc3RhbnRzLmh0bWwuc2VhcmNoQ2xlYXJCdXR0b24sdGhpcy5jb25zdGFudHMuYnV0dG9uc0NsYXNzLG8uZm9ybWF0Q2xlYXJTZWFyY2goKSxvLnNob3dCdXR0b25JY29ucz9odi5zcHJpbnRmKHRoaXMuY29uc3RhbnRzLmh0bWwuaWNvbixvLmljb25zUHJlZml4LG8uaWNvbnMuY2xlYXJTZWFyY2gpOlwiXCIsby5zaG93QnV0dG9uVGV4dD9vLmZvcm1hdENsZWFyU2VhcmNoKCk6XCJcIiksTT0nPGlucHV0IGNsYXNzPVwiJy5jb25jYXQodGhpcy5jb25zdGFudHMuY2xhc3Nlcy5pbnB1dCxcIlxcbiAgICAgICAgXCIpLmNvbmNhdChodi5zcHJpbnRmKFwiICVzJXNcIix0aGlzLmNvbnN0YW50cy5jbGFzc2VzLmlucHV0UHJlZml4LG8uaWNvblNpemUpLCdcXG4gICAgICAgIHNlYXJjaC1pbnB1dFwiIHR5cGU9XCJzZWFyY2hcIiBwbGFjZWhvbGRlcj1cIicpLmNvbmNhdChvLmZvcm1hdFNlYXJjaCgpLCdcIiBhdXRvY29tcGxldGU9XCJvZmZcIj4nKSxVPU07aWYoby5zaG93U2VhcmNoQnV0dG9ufHxvLnNob3dTZWFyY2hDbGVhckJ1dHRvbil7dmFyIHo9KG8uc2hvd1NlYXJjaEJ1dHRvbj9MOlwiXCIpKyhvLnNob3dTZWFyY2hDbGVhckJ1dHRvbj9IOlwiXCIpO1U9by5zZWFyY2g/aHYuc3ByaW50Zih0aGlzLmNvbnN0YW50cy5odG1sLmlucHV0R3JvdXAsTSx6KTp6fWEucHVzaChodi5zcHJpbnRmKCdcXG4gICAgICAgIDxkaXYgY2xhc3M9XCInLmNvbmNhdCh0aGlzLmNvbnN0YW50cy5jbGFzc2VzLnB1bGwsXCItXCIpLmNvbmNhdChvLnNlYXJjaEFsaWduLFwiIHNlYXJjaCBcIikuY29uY2F0KHRoaXMuY29uc3RhbnRzLmNsYXNzZXMuaW5wdXRHcm91cCwnXCI+XFxuICAgICAgICAgICVzXFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAnKSxVKSksdGhpcy4kdG9vbGJhci5hcHBlbmQoYS5qb2luKFwiXCIpKTt2YXIgcT1odi5nZXRTZWFyY2hJbnB1dCh0aGlzKTtvLnNob3dTZWFyY2hCdXR0b24/KHRoaXMuJHRvb2xiYXIuZmluZChcIi5zZWFyY2ggYnV0dG9uW25hbWU9c2VhcmNoXVwiKS5vZmYoXCJjbGlja1wiKS5vbihcImNsaWNrXCIsKGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHIpLHI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtlLm9uU2VhcmNoKHtjdXJyZW50VGFyZ2V0OnF9KX0pLG8uc2VhcmNoVGltZU91dCl9KSksby5zZWFyY2hPbkVudGVyS2V5JiZCKHEpKTpCKHEpLG8uc2hvd1NlYXJjaENsZWFyQnV0dG9uJiZ0aGlzLiR0b29sYmFyLmZpbmQoXCIuc2VhcmNoIGJ1dHRvbltuYW1lPWNsZWFyU2VhcmNoXVwiKS5jbGljaygoZnVuY3Rpb24oKXtlLnJlc2V0U2VhcmNoKCl9KSl9ZWxzZSBpZihcInN0cmluZ1wiPT10eXBlb2Ygby5zZWFyY2hTZWxlY3Rvcil7Qihodi5nZXRTZWFyY2hJbnB1dCh0aGlzKSl9fX0se2tleTpcIm9uU2VhcmNoXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LmN1cnJlbnRUYXJnZXQsbj10LmZpcmVkQnlJbml0U2VhcmNoVGV4dCxvPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07aWYodm9pZCAwIT09ZSYmaS5kZWZhdWx0KGUpLmxlbmd0aCYmbyl7dmFyIGE9aS5kZWZhdWx0KGUpLnZhbCgpLnRyaW0oKTtpZih0aGlzLm9wdGlvbnMudHJpbU9uU2VhcmNoJiZpLmRlZmF1bHQoZSkudmFsKCkhPT1hJiZpLmRlZmF1bHQoZSkudmFsKGEpLHRoaXMuc2VhcmNoVGV4dD09PWEpcmV0dXJuO3ZhciByPWh2LmdldFNlYXJjaElucHV0KHRoaXMpLHM9ZSBpbnN0YW5jZW9mIGpRdWVyeT9lOmkuZGVmYXVsdChlKTsocy5pcyhyKXx8cy5oYXNDbGFzcyhcInNlYXJjaC1pbnB1dFwiKSkmJih0aGlzLnNlYXJjaFRleHQ9YSx0aGlzLm9wdGlvbnMuc2VhcmNoVGV4dD1hKX1ufHx0aGlzLm9wdGlvbnMuY29va2llfHwodGhpcy5vcHRpb25zLnBhZ2VOdW1iZXI9MSksdGhpcy5pbml0U2VhcmNoKCksbj9cImNsaWVudFwiPT09dGhpcy5vcHRpb25zLnNpZGVQYWdpbmF0aW9uJiZ0aGlzLnVwZGF0ZVBhZ2luYXRpb24oKTp0aGlzLnVwZGF0ZVBhZ2luYXRpb24oKSx0aGlzLnRyaWdnZXIoXCJzZWFyY2hcIix0aGlzLnNlYXJjaFRleHQpfX0se2tleTpcImluaXRTZWFyY2hcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodGhpcy5maWx0ZXJPcHRpb25zPXRoaXMuZmlsdGVyT3B0aW9uc3x8dGhpcy5vcHRpb25zLmZpbHRlck9wdGlvbnMsXCJzZXJ2ZXJcIiE9PXRoaXMub3B0aW9ucy5zaWRlUGFnaW5hdGlvbil7aWYodGhpcy5vcHRpb25zLmN1c3RvbVNlYXJjaClyZXR1cm4gdGhpcy5kYXRhPWh2LmNhbGN1bGF0ZU9iamVjdFZhbHVlKHRoaXMub3B0aW9ucyx0aGlzLm9wdGlvbnMuY3VzdG9tU2VhcmNoLFt0aGlzLm9wdGlvbnMuZGF0YSx0aGlzLnNlYXJjaFRleHQsdGhpcy5maWx0ZXJDb2x1bW5zXSksdGhpcy5vcHRpb25zLnNvcnRSZXNldCYmKHRoaXMudW5zb3J0ZWREYXRhPWwodGhpcy5kYXRhKSksdm9pZCB0aGlzLmluaXRTb3J0KCk7dmFyIGU9dGhpcy5zZWFyY2hUZXh0JiYodGhpcy5mcm9tSHRtbD9odi5lc2NhcGVIVE1MKHRoaXMuc2VhcmNoVGV4dCk6dGhpcy5zZWFyY2hUZXh0KSxpPWU/ZS50b0xvd2VyQ2FzZSgpOlwiXCIsbj1odi5pc0VtcHR5T2JqZWN0KHRoaXMuZmlsdGVyQ29sdW1ucyk/bnVsbDp0aGlzLmZpbHRlckNvbHVtbnM7dGhpcy5vcHRpb25zLnNlYXJjaEFjY2VudE5ldXRyYWxpc2UmJihpPWh2Lm5vcm1hbGl6ZUFjY2VudChpKSksXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5maWx0ZXJPcHRpb25zLmZpbHRlckFsZ29yaXRobT90aGlzLmRhdGE9dGhpcy5vcHRpb25zLmRhdGEuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdC5maWx0ZXJPcHRpb25zLmZpbHRlckFsZ29yaXRobS5hcHBseShudWxsLFtlLG5dKX0pKTpcInN0cmluZ1wiPT10eXBlb2YgdGhpcy5maWx0ZXJPcHRpb25zLmZpbHRlckFsZ29yaXRobSYmKHRoaXMuZGF0YT1uP3RoaXMub3B0aW9ucy5kYXRhLmZpbHRlcigoZnVuY3Rpb24oZSl7dmFyIGk9dC5maWx0ZXJPcHRpb25zLmZpbHRlckFsZ29yaXRobTtpZihcImFuZFwiPT09aSl7Zm9yKHZhciBvIGluIG4paWYoQXJyYXkuaXNBcnJheShuW29dKSYmIW5bb10uaW5jbHVkZXMoZVtvXSl8fCFBcnJheS5pc0FycmF5KG5bb10pJiZlW29dIT09bltvXSlyZXR1cm4hMX1lbHNlIGlmKFwib3JcIj09PWkpe3ZhciBhPSExO2Zvcih2YXIgciBpbiBuKShBcnJheS5pc0FycmF5KG5bcl0pJiZuW3JdLmluY2x1ZGVzKGVbcl0pfHwhQXJyYXkuaXNBcnJheShuW3JdKSYmZVtyXT09PW5bcl0pJiYoYT0hMCk7cmV0dXJuIGF9cmV0dXJuITB9KSk6bCh0aGlzLm9wdGlvbnMuZGF0YSkpO3ZhciBvPXRoaXMuZ2V0VmlzaWJsZUZpZWxkcygpO3RoaXMuZGF0YT1pP3RoaXMuZGF0YS5maWx0ZXIoKGZ1bmN0aW9uKG4sYSl7Zm9yKHZhciByPTA7cjx0LmhlYWRlci5maWVsZHMubGVuZ3RoO3IrKylpZih0LmhlYWRlci5zZWFyY2hhYmxlc1tyXSYmKCF0Lm9wdGlvbnMudmlzaWJsZVNlYXJjaHx8LTEhPT1vLmluZGV4T2YodC5oZWFkZXIuZmllbGRzW3JdKSkpe3ZhciBzPWh2LmlzTnVtZXJpYyh0LmhlYWRlci5maWVsZHNbcl0pP3BhcnNlSW50KHQuaGVhZGVyLmZpZWxkc1tyXSwxMCk6dC5oZWFkZXIuZmllbGRzW3JdLGw9dC5jb2x1bW5zW3QuZmllbGRzQ29sdW1uc0luZGV4W3NdXSxjPXZvaWQgMDtpZihcInN0cmluZ1wiPT10eXBlb2Ygcyl7Yz1uO2Zvcih2YXIgaD1zLnNwbGl0KFwiLlwiKSx1PTA7dTxoLmxlbmd0aDt1Kyspe2lmKG51bGw9PT1jW2hbdV1dKXtjPW51bGw7YnJlYWt9Yz1jW2hbdV1dfX1lbHNlIGM9bltzXTtpZih0Lm9wdGlvbnMuc2VhcmNoQWNjZW50TmV1dHJhbGlzZSYmKGM9aHYubm9ybWFsaXplQWNjZW50KGMpKSxsJiZsLnNlYXJjaEZvcm1hdHRlciYmKGM9aHYuY2FsY3VsYXRlT2JqZWN0VmFsdWUobCx0LmhlYWRlci5mb3JtYXR0ZXJzW3JdLFtjLG4sYSxsLmZpZWxkXSxjKSksXCJzdHJpbmdcIj09dHlwZW9mIGN8fFwibnVtYmVyXCI9PXR5cGVvZiBjKXtpZih0Lm9wdGlvbnMuc3RyaWN0U2VhcmNoJiZcIlwiLmNvbmNhdChjKS50b0xvd2VyQ2FzZSgpPT09aXx8dC5vcHRpb25zLnJlZ2V4U2VhcmNoJiZodi5yZWdleENvbXBhcmUoYyxlKSlyZXR1cm4hMDt2YXIgZD0vKD86KDw9fD0+fD08fD49fD58PCkoPzpcXHMrKT8oLT9cXGQrKT98KC0/XFxkKyk/KFxccyspPyg8PXw9Pnw9PHw+PXw+fDwpKS9nbS5leGVjKHQuc2VhcmNoVGV4dCksZj0hMTtpZihkKXt2YXIgcD1kWzFdfHxcIlwiLmNvbmNhdChkWzVdLFwibFwiKSxnPWRbMl18fGRbM10sdj1wYXJzZUludChjLDEwKSxiPXBhcnNlSW50KGcsMTApO3N3aXRjaChwKXtjYXNlXCI+XCI6Y2FzZVwiPGxcIjpmPXY+YjticmVhaztjYXNlXCI8XCI6Y2FzZVwiPmxcIjpmPXY8YjticmVhaztjYXNlXCI8PVwiOmNhc2VcIj08XCI6Y2FzZVwiPj1sXCI6Y2FzZVwiPT5sXCI6Zj12PD1iO2JyZWFrO2Nhc2VcIj49XCI6Y2FzZVwiPT5cIjpjYXNlXCI8PWxcIjpjYXNlXCI9PGxcIjpmPXY+PWJ9fWlmKGZ8fFwiXCIuY29uY2F0KGMpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoaSkpcmV0dXJuITB9fXJldHVybiExfSkpOnRoaXMuZGF0YSx0aGlzLm9wdGlvbnMuc29ydFJlc2V0JiYodGhpcy51bnNvcnRlZERhdGE9bCh0aGlzLmRhdGEpKSx0aGlzLmluaXRTb3J0KCl9fX0se2tleTpcImluaXRQYWdpbmF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5vcHRpb25zO2lmKGUucGFnaW5hdGlvbil7dGhpcy4kcGFnaW5hdGlvbi5zaG93KCk7dmFyIGksbixvLGEscixzLGwsYz1bXSxoPSExLHU9dGhpcy5nZXREYXRhKHtpbmNsdWRlSGlkZGVuUm93czohMX0pLGQ9ZS5wYWdlTGlzdDtpZihcInN0cmluZ1wiPT10eXBlb2YgZCYmKGQ9ZC5yZXBsYWNlKC9cXFt8XFxdfCAvZyxcIlwiKS50b0xvd2VyQ2FzZSgpLnNwbGl0KFwiLFwiKSksZD1kLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/dC50b0xvd2VyQ2FzZSgpPT09ZS5mb3JtYXRBbGxSb3dzKCkudG9Mb3dlckNhc2UoKXx8W1wiYWxsXCIsXCJ1bmxpbWl0ZWRcIl0uaW5jbHVkZXModC50b0xvd2VyQ2FzZSgpKT9lLmZvcm1hdEFsbFJvd3MoKTordDp0fSkpLHRoaXMucGFnaW5hdGlvblBhcnRzPWUucGFnaW5hdGlvblBhcnRzLFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLnBhZ2luYXRpb25QYXJ0cyYmKHRoaXMucGFnaW5hdGlvblBhcnRzPXRoaXMucGFnaW5hdGlvblBhcnRzLnJlcGxhY2UoL1xcW3xcXF18IHwnL2csXCJcIikuc3BsaXQoXCIsXCIpKSxcInNlcnZlclwiIT09ZS5zaWRlUGFnaW5hdGlvbiYmKGUudG90YWxSb3dzPXUubGVuZ3RoKSx0aGlzLnRvdGFsUGFnZXM9MCxlLnRvdGFsUm93cyYmKGUucGFnZVNpemU9PT1lLmZvcm1hdEFsbFJvd3MoKSYmKGUucGFnZVNpemU9ZS50b3RhbFJvd3MsaD0hMCksdGhpcy50b3RhbFBhZ2VzPTErfn4oKGUudG90YWxSb3dzLTEpL2UucGFnZVNpemUpLGUudG90YWxQYWdlcz10aGlzLnRvdGFsUGFnZXMpLHRoaXMudG90YWxQYWdlcz4wJiZlLnBhZ2VOdW1iZXI+dGhpcy50b3RhbFBhZ2VzJiYoZS5wYWdlTnVtYmVyPXRoaXMudG90YWxQYWdlcyksdGhpcy5wYWdlRnJvbT0oZS5wYWdlTnVtYmVyLTEpKmUucGFnZVNpemUrMSx0aGlzLnBhZ2VUbz1lLnBhZ2VOdW1iZXIqZS5wYWdlU2l6ZSx0aGlzLnBhZ2VUbz5lLnRvdGFsUm93cyYmKHRoaXMucGFnZVRvPWUudG90YWxSb3dzKSx0aGlzLm9wdGlvbnMucGFnaW5hdGlvbiYmXCJzZXJ2ZXJcIiE9PXRoaXMub3B0aW9ucy5zaWRlUGFnaW5hdGlvbiYmKHRoaXMub3B0aW9ucy50b3RhbE5vdEZpbHRlcmVkPXRoaXMub3B0aW9ucy5kYXRhLmxlbmd0aCksdGhpcy5vcHRpb25zLnNob3dFeHRlbmRlZFBhZ2luYXRpb258fCh0aGlzLm9wdGlvbnMudG90YWxOb3RGaWx0ZXJlZD12b2lkIDApLCh0aGlzLnBhZ2luYXRpb25QYXJ0cy5pbmNsdWRlcyhcInBhZ2VJbmZvXCIpfHx0aGlzLnBhZ2luYXRpb25QYXJ0cy5pbmNsdWRlcyhcInBhZ2VJbmZvU2hvcnRcIil8fHRoaXMucGFnaW5hdGlvblBhcnRzLmluY2x1ZGVzKFwicGFnZVNpemVcIikpJiZjLnB1c2goJzxkaXYgY2xhc3M9XCInLmNvbmNhdCh0aGlzLmNvbnN0YW50cy5jbGFzc2VzLnB1bGwsXCItXCIpLmNvbmNhdChlLnBhZ2luYXRpb25EZXRhaWxIQWxpZ24sJyBwYWdpbmF0aW9uLWRldGFpbFwiPicpKSx0aGlzLnBhZ2luYXRpb25QYXJ0cy5pbmNsdWRlcyhcInBhZ2VJbmZvXCIpfHx0aGlzLnBhZ2luYXRpb25QYXJ0cy5pbmNsdWRlcyhcInBhZ2VJbmZvU2hvcnRcIikpe3ZhciBmPXRoaXMucGFnaW5hdGlvblBhcnRzLmluY2x1ZGVzKFwicGFnZUluZm9TaG9ydFwiKT9lLmZvcm1hdERldGFpbFBhZ2luYXRpb24oZS50b3RhbFJvd3MpOmUuZm9ybWF0U2hvd2luZ1Jvd3ModGhpcy5wYWdlRnJvbSx0aGlzLnBhZ2VUbyxlLnRvdGFsUm93cyxlLnRvdGFsTm90RmlsdGVyZWQpO2MucHVzaCgnPHNwYW4gY2xhc3M9XCJwYWdpbmF0aW9uLWluZm9cIj5cXG4gICAgICAnLmNvbmNhdChmLFwiXFxuICAgICAgPC9zcGFuPlwiKSl9aWYodGhpcy5wYWdpbmF0aW9uUGFydHMuaW5jbHVkZXMoXCJwYWdlU2l6ZVwiKSl7Yy5wdXNoKCc8ZGl2IGNsYXNzPVwicGFnZS1saXN0XCI+Jyk7dmFyIHA9Wyc8ZGl2IGNsYXNzPVwiJy5jb25jYXQodGhpcy5jb25zdGFudHMuY2xhc3Nlcy5wYWdpbmF0aW9uRHJvcGRvd24sJ1wiPlxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIicpLmNvbmNhdCh0aGlzLmNvbnN0YW50cy5idXR0b25zQ2xhc3MsJyBkcm9wZG93bi10b2dnbGVcIiB0eXBlPVwiYnV0dG9uXCIgJykuY29uY2F0KHRoaXMuY29uc3RhbnRzLmRhdGFUb2dnbGUsJz1cImRyb3Bkb3duXCI+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cInBhZ2Utc2l6ZVwiPlxcbiAgICAgICAgJykuY29uY2F0KGg/ZS5mb3JtYXRBbGxSb3dzKCk6ZS5wYWdlU2l6ZSxcIlxcbiAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgXCIpLmNvbmNhdCh0aGlzLmNvbnN0YW50cy5odG1sLmRyb3Bkb3duQ2FyZXQsXCJcXG4gICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgXCIpLmNvbmNhdCh0aGlzLmNvbnN0YW50cy5odG1sLnBhZ2VEcm9wZG93blswXSldO2QuZm9yRWFjaCgoZnVuY3Rpb24oaSxuKXt2YXIgbzsoIWUuc21hcnREaXNwbGF5fHwwPT09bnx8ZFtuLTFdPGUudG90YWxSb3dzfHxpPT09ZS5mb3JtYXRBbGxSb3dzKCkpJiYobz1oP2k9PT1lLmZvcm1hdEFsbFJvd3MoKT90LmNvbnN0YW50cy5jbGFzc2VzLmRyb3Bkb3duQWN0aXZlOlwiXCI6aT09PWUucGFnZVNpemU/dC5jb25zdGFudHMuY2xhc3Nlcy5kcm9wZG93bkFjdGl2ZTpcIlwiLHAucHVzaChodi5zcHJpbnRmKHQuY29uc3RhbnRzLmh0bWwucGFnZURyb3Bkb3duSXRlbSxvLGkpKSl9KSkscC5wdXNoKFwiXCIuY29uY2F0KHRoaXMuY29uc3RhbnRzLmh0bWwucGFnZURyb3Bkb3duWzFdLFwiPC9kaXY+XCIpKSxjLnB1c2goZS5mb3JtYXRSZWNvcmRzUGVyUGFnZShwLmpvaW4oXCJcIikpKX1pZigodGhpcy5wYWdpbmF0aW9uUGFydHMuaW5jbHVkZXMoXCJwYWdlSW5mb1wiKXx8dGhpcy5wYWdpbmF0aW9uUGFydHMuaW5jbHVkZXMoXCJwYWdlSW5mb1Nob3J0XCIpfHx0aGlzLnBhZ2luYXRpb25QYXJ0cy5pbmNsdWRlcyhcInBhZ2VTaXplXCIpKSYmYy5wdXNoKFwiPC9kaXY+PC9kaXY+XCIpLHRoaXMucGFnaW5hdGlvblBhcnRzLmluY2x1ZGVzKFwicGFnZUxpc3RcIikpe2MucHVzaCgnPGRpdiBjbGFzcz1cIicuY29uY2F0KHRoaXMuY29uc3RhbnRzLmNsYXNzZXMucHVsbCxcIi1cIikuY29uY2F0KGUucGFnaW5hdGlvbkhBbGlnbiwnIHBhZ2luYXRpb25cIj4nKSxodi5zcHJpbnRmKHRoaXMuY29uc3RhbnRzLmh0bWwucGFnaW5hdGlvblswXSxodi5zcHJpbnRmKFwiIHBhZ2luYXRpb24tJXNcIixlLmljb25TaXplKSksaHYuc3ByaW50Zih0aGlzLmNvbnN0YW50cy5odG1sLnBhZ2luYXRpb25JdGVtLFwiIHBhZ2UtcHJlXCIsZS5mb3JtYXRTUlBhZ2luYXRpb25QcmVUZXh0KCksZS5wYWdpbmF0aW9uUHJlVGV4dCkpLHRoaXMudG90YWxQYWdlczxlLnBhZ2luYXRpb25TdWNjZXNzaXZlbHlTaXplPyhuPTEsbz10aGlzLnRvdGFsUGFnZXMpOm89KG49ZS5wYWdlTnVtYmVyLWUucGFnaW5hdGlvblBhZ2VzQnlTaWRlKSsyKmUucGFnaW5hdGlvblBhZ2VzQnlTaWRlLGUucGFnZU51bWJlcjxlLnBhZ2luYXRpb25TdWNjZXNzaXZlbHlTaXplLTEmJihvPWUucGFnaW5hdGlvblN1Y2Nlc3NpdmVseVNpemUpLGUucGFnaW5hdGlvblN1Y2Nlc3NpdmVseVNpemU+dGhpcy50b3RhbFBhZ2VzLW4mJihuPW4tKGUucGFnaW5hdGlvblN1Y2Nlc3NpdmVseVNpemUtKHRoaXMudG90YWxQYWdlcy1uKSkrMSksbjwxJiYobj0xKSxvPnRoaXMudG90YWxQYWdlcyYmKG89dGhpcy50b3RhbFBhZ2VzKTt2YXIgZz1NYXRoLnJvdW5kKGUucGFnaW5hdGlvblBhZ2VzQnlTaWRlLzIpLHY9ZnVuY3Rpb24oaSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiXCI7cmV0dXJuIGh2LnNwcmludGYodC5jb25zdGFudHMuaHRtbC5wYWdpbmF0aW9uSXRlbSxuKyhpPT09ZS5wYWdlTnVtYmVyP1wiIFwiLmNvbmNhdCh0LmNvbnN0YW50cy5jbGFzc2VzLnBhZ2luYXRpb25BY3RpdmUpOlwiXCIpLGUuZm9ybWF0U1JQYWdpbmF0aW9uUGFnZVRleHQoaSksaSl9O2lmKG4+MSl7dmFyIGI9ZS5wYWdpbmF0aW9uUGFnZXNCeVNpZGU7Zm9yKGI+PW4mJihiPW4tMSksaT0xO2k8PWI7aSsrKWMucHVzaCh2KGkpKTtuLTE9PT1iKzE/KGk9bi0xLGMucHVzaCh2KGkpKSk6bi0xPmImJihuLTIqZS5wYWdpbmF0aW9uUGFnZXNCeVNpZGU+ZS5wYWdpbmF0aW9uUGFnZXNCeVNpZGUmJmUucGFnaW5hdGlvblVzZUludGVybWVkaWF0ZT8oaT1NYXRoLnJvdW5kKChuLWcpLzIrZyksYy5wdXNoKHYoaSxcIiBwYWdlLWludGVybWVkaWF0ZVwiKSkpOmMucHVzaChodi5zcHJpbnRmKHRoaXMuY29uc3RhbnRzLmh0bWwucGFnaW5hdGlvbkl0ZW0sXCIgcGFnZS1maXJzdC1zZXBhcmF0b3IgZGlzYWJsZWRcIixcIlwiLFwiLi4uXCIpKSl9Zm9yKGk9bjtpPD1vO2krKyljLnB1c2godihpKSk7aWYodGhpcy50b3RhbFBhZ2VzPm8pe3ZhciBtPXRoaXMudG90YWxQYWdlcy0oZS5wYWdpbmF0aW9uUGFnZXNCeVNpZGUtMSk7Zm9yKG8+PW0mJihtPW8rMSksbysxPT09bS0xPyhpPW8rMSxjLnB1c2godihpKSkpOm0+bysxJiYodGhpcy50b3RhbFBhZ2VzLW8+MiplLnBhZ2luYXRpb25QYWdlc0J5U2lkZSYmZS5wYWdpbmF0aW9uVXNlSW50ZXJtZWRpYXRlPyhpPU1hdGgucm91bmQoKHRoaXMudG90YWxQYWdlcy1nLW8pLzIrbyksYy5wdXNoKHYoaSxcIiBwYWdlLWludGVybWVkaWF0ZVwiKSkpOmMucHVzaChodi5zcHJpbnRmKHRoaXMuY29uc3RhbnRzLmh0bWwucGFnaW5hdGlvbkl0ZW0sXCIgcGFnZS1sYXN0LXNlcGFyYXRvciBkaXNhYmxlZFwiLFwiXCIsXCIuLi5cIikpKSxpPW07aTw9dGhpcy50b3RhbFBhZ2VzO2krKyljLnB1c2godihpKSl9Yy5wdXNoKGh2LnNwcmludGYodGhpcy5jb25zdGFudHMuaHRtbC5wYWdpbmF0aW9uSXRlbSxcIiBwYWdlLW5leHRcIixlLmZvcm1hdFNSUGFnaW5hdGlvbk5leHRUZXh0KCksZS5wYWdpbmF0aW9uTmV4dFRleHQpKSxjLnB1c2godGhpcy5jb25zdGFudHMuaHRtbC5wYWdpbmF0aW9uWzFdLFwiPC9kaXY+XCIpfXRoaXMuJHBhZ2luYXRpb24uaHRtbChjLmpvaW4oXCJcIikpO3ZhciB5PVtcImJvdHRvbVwiLFwiYm90aFwiXS5pbmNsdWRlcyhlLnBhZ2luYXRpb25WQWxpZ24pP1wiIFwiLmNvbmNhdCh0aGlzLmNvbnN0YW50cy5jbGFzc2VzLmRyb3B1cCk6XCJcIjt0aGlzLiRwYWdpbmF0aW9uLmxhc3QoKS5maW5kKFwiLnBhZ2UtbGlzdCA+IGRpdlwiKS5hZGRDbGFzcyh5KSxlLm9ubHlJbmZvUGFnaW5hdGlvbnx8KGE9dGhpcy4kcGFnaW5hdGlvbi5maW5kKFwiLnBhZ2UtbGlzdCBhXCIpLHI9dGhpcy4kcGFnaW5hdGlvbi5maW5kKFwiLnBhZ2UtcHJlXCIpLHM9dGhpcy4kcGFnaW5hdGlvbi5maW5kKFwiLnBhZ2UtbmV4dFwiKSxsPXRoaXMuJHBhZ2luYXRpb24uZmluZChcIi5wYWdlLWl0ZW1cIikubm90KFwiLnBhZ2UtbmV4dCwgLnBhZ2UtcHJlLCAucGFnZS1sYXN0LXNlcGFyYXRvciwgLnBhZ2UtZmlyc3Qtc2VwYXJhdG9yXCIpLHRoaXMudG90YWxQYWdlczw9MSYmdGhpcy4kcGFnaW5hdGlvbi5maW5kKFwiZGl2LnBhZ2luYXRpb25cIikuaGlkZSgpLGUuc21hcnREaXNwbGF5JiYoZC5sZW5ndGg8Mnx8ZS50b3RhbFJvd3M8PWRbMF0pJiZ0aGlzLiRwYWdpbmF0aW9uLmZpbmQoXCJkaXYucGFnZS1saXN0XCIpLmhpZGUoKSx0aGlzLiRwYWdpbmF0aW9uW3RoaXMuZ2V0RGF0YSgpLmxlbmd0aD9cInNob3dcIjpcImhpZGVcIl0oKSxlLnBhZ2luYXRpb25Mb29wfHwoMT09PWUucGFnZU51bWJlciYmci5hZGRDbGFzcyhcImRpc2FibGVkXCIpLGUucGFnZU51bWJlcj09PXRoaXMudG90YWxQYWdlcyYmcy5hZGRDbGFzcyhcImRpc2FibGVkXCIpKSxoJiYoZS5wYWdlU2l6ZT1lLmZvcm1hdEFsbFJvd3MoKSksYS5vZmYoXCJjbGlja1wiKS5vbihcImNsaWNrXCIsKGZ1bmN0aW9uKGUpe3JldHVybiB0Lm9uUGFnZUxpc3RDaGFuZ2UoZSl9KSksci5vZmYoXCJjbGlja1wiKS5vbihcImNsaWNrXCIsKGZ1bmN0aW9uKGUpe3JldHVybiB0Lm9uUGFnZVByZShlKX0pKSxzLm9mZihcImNsaWNrXCIpLm9uKFwiY2xpY2tcIiwoZnVuY3Rpb24oZSl7cmV0dXJuIHQub25QYWdlTmV4dChlKX0pKSxsLm9mZihcImNsaWNrXCIpLm9uKFwiY2xpY2tcIiwoZnVuY3Rpb24oZSl7cmV0dXJuIHQub25QYWdlTnVtYmVyKGUpfSkpKX1lbHNlIHRoaXMuJHBhZ2luYXRpb24uaGlkZSgpfX0se2tleTpcInVwZGF0ZVBhZ2luYXRpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt0JiZpLmRlZmF1bHQodC5jdXJyZW50VGFyZ2V0KS5oYXNDbGFzcyhcImRpc2FibGVkXCIpfHwodGhpcy5vcHRpb25zLm1haW50YWluTWV0YURhdGF8fHRoaXMucmVzZXRSb3dzKCksdGhpcy5pbml0UGFnaW5hdGlvbigpLHRoaXMudHJpZ2dlcihcInBhZ2UtY2hhbmdlXCIsdGhpcy5vcHRpb25zLnBhZ2VOdW1iZXIsdGhpcy5vcHRpb25zLnBhZ2VTaXplKSxcInNlcnZlclwiPT09dGhpcy5vcHRpb25zLnNpZGVQYWdpbmF0aW9uP3RoaXMuaW5pdFNlcnZlcigpOnRoaXMuaW5pdEJvZHkoKSl9fSx7a2V5Olwib25QYWdlTGlzdENoYW5nZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt2YXIgZT1pLmRlZmF1bHQodC5jdXJyZW50VGFyZ2V0KTtyZXR1cm4gZS5wYXJlbnQoKS5hZGRDbGFzcyh0aGlzLmNvbnN0YW50cy5jbGFzc2VzLmRyb3Bkb3duQWN0aXZlKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKHRoaXMuY29uc3RhbnRzLmNsYXNzZXMuZHJvcGRvd25BY3RpdmUpLHRoaXMub3B0aW9ucy5wYWdlU2l6ZT1lLnRleHQoKS50b1VwcGVyQ2FzZSgpPT09dGhpcy5vcHRpb25zLmZvcm1hdEFsbFJvd3MoKS50b1VwcGVyQ2FzZSgpP3RoaXMub3B0aW9ucy5mb3JtYXRBbGxSb3dzKCk6K2UudGV4dCgpLHRoaXMuJHRvb2xiYXIuZmluZChcIi5wYWdlLXNpemVcIikudGV4dCh0aGlzLm9wdGlvbnMucGFnZVNpemUpLHRoaXMudXBkYXRlUGFnaW5hdGlvbih0KSwhMX19LHtrZXk6XCJvblBhZ2VQcmVcIix2YWx1ZTpmdW5jdGlvbih0KXtpZighaS5kZWZhdWx0KHQudGFyZ2V0KS5oYXNDbGFzcyhcImRpc2FibGVkXCIpKXJldHVybiB0LnByZXZlbnREZWZhdWx0KCksdGhpcy5vcHRpb25zLnBhZ2VOdW1iZXItMT09MD90aGlzLm9wdGlvbnMucGFnZU51bWJlcj10aGlzLm9wdGlvbnMudG90YWxQYWdlczp0aGlzLm9wdGlvbnMucGFnZU51bWJlci0tLHRoaXMudXBkYXRlUGFnaW5hdGlvbih0KSwhMX19LHtrZXk6XCJvblBhZ2VOZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIWkuZGVmYXVsdCh0LnRhcmdldCkuaGFzQ2xhc3MoXCJkaXNhYmxlZFwiKSlyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMub3B0aW9ucy5wYWdlTnVtYmVyKzE+dGhpcy5vcHRpb25zLnRvdGFsUGFnZXM/dGhpcy5vcHRpb25zLnBhZ2VOdW1iZXI9MTp0aGlzLm9wdGlvbnMucGFnZU51bWJlcisrLHRoaXMudXBkYXRlUGFnaW5hdGlvbih0KSwhMX19LHtrZXk6XCJvblBhZ2VOdW1iZXJcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0LnByZXZlbnREZWZhdWx0KCksdGhpcy5vcHRpb25zLnBhZ2VOdW1iZXIhPT0raS5kZWZhdWx0KHQuY3VycmVudFRhcmdldCkudGV4dCgpKXJldHVybiB0aGlzLm9wdGlvbnMucGFnZU51bWJlcj0raS5kZWZhdWx0KHQuY3VycmVudFRhcmdldCkudGV4dCgpLHRoaXMudXBkYXRlUGFnaW5hdGlvbih0KSwhMX19LHtrZXk6XCJpbml0Um93XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyl7dmFyIGE9dGhpcyxyPVtdLGw9e30sYz1bXSxoPVwiXCIsdT17fSxkPVtdO2lmKCEoaHYuZmluZEluZGV4KHRoaXMuaGlkZGVuUm93cyx0KT4tMSkpe2lmKChsPWh2LmNhbGN1bGF0ZU9iamVjdFZhbHVlKHRoaXMub3B0aW9ucyx0aGlzLm9wdGlvbnMucm93U3R5bGUsW3QsZV0sbCkpJiZsLmNzcylmb3IodmFyIGY9MCxwPU9iamVjdC5lbnRyaWVzKGwuY3NzKTtmPHAubGVuZ3RoO2YrKyl7dmFyIGc9cyhwW2ZdLDIpLHY9Z1swXSxiPWdbMV07Yy5wdXNoKFwiXCIuY29uY2F0KHYsXCI6IFwiKS5jb25jYXQoYikpfWlmKHU9aHYuY2FsY3VsYXRlT2JqZWN0VmFsdWUodGhpcy5vcHRpb25zLHRoaXMub3B0aW9ucy5yb3dBdHRyaWJ1dGVzLFt0LGVdLHUpKWZvcih2YXIgbT0wLHk9T2JqZWN0LmVudHJpZXModSk7bTx5Lmxlbmd0aDttKyspe3ZhciB3PXMoeVttXSwyKSxTPXdbMF0seD13WzFdO2QucHVzaChcIlwiLmNvbmNhdChTLCc9XCInKS5jb25jYXQoaHYuZXNjYXBlSFRNTCh4KSwnXCInKSl9aWYodC5fZGF0YSYmIWh2LmlzRW1wdHlPYmplY3QodC5fZGF0YSkpZm9yKHZhciBrPTAsTz1PYmplY3QuZW50cmllcyh0Ll9kYXRhKTtrPE8ubGVuZ3RoO2srKyl7dmFyIEM9cyhPW2tdLDIpLFQ9Q1swXSxJPUNbMV07aWYoXCJpbmRleFwiPT09VClyZXR1cm47aCs9XCIgZGF0YS1cIi5jb25jYXQoVCxcIj0nXCIpLmNvbmNhdChcIm9iamVjdFwiPT09bihJKT9KU09OLnN0cmluZ2lmeShJKTpJLFwiJ1wiKX1yLnB1c2goXCI8dHJcIixodi5zcHJpbnRmKFwiICVzXCIsZC5sZW5ndGg/ZC5qb2luKFwiIFwiKTp2b2lkIDApLGh2LnNwcmludGYoJyBpZD1cIiVzXCInLEFycmF5LmlzQXJyYXkodCk/dm9pZCAwOnQuX2lkKSxodi5zcHJpbnRmKCcgY2xhc3M9XCIlc1wiJyxsLmNsYXNzZXN8fChBcnJheS5pc0FycmF5KHQpP3ZvaWQgMDp0Ll9jbGFzcykpLGh2LnNwcmludGYoJyBzdHlsZT1cIiVzXCInLEFycmF5LmlzQXJyYXkodCk/dm9pZCAwOnQuX3N0eWxlKSwnIGRhdGEtaW5kZXg9XCInLmNvbmNhdChlLCdcIicpLGh2LnNwcmludGYoJyBkYXRhLXVuaXF1ZWlkPVwiJXNcIicsaHYuZ2V0SXRlbUZpZWxkKHQsdGhpcy5vcHRpb25zLnVuaXF1ZUlkLCExKSksaHYuc3ByaW50ZignIGRhdGEtaGFzLWRldGFpbC12aWV3PVwiJXNcIicsdGhpcy5vcHRpb25zLmRldGFpbFZpZXcmJmh2LmNhbGN1bGF0ZU9iamVjdFZhbHVlKG51bGwsdGhpcy5vcHRpb25zLmRldGFpbEZpbHRlcixbZSx0XSk/XCJ0cnVlXCI6dm9pZCAwKSxodi5zcHJpbnRmKFwiJXNcIixoKSxcIj5cIiksdGhpcy5vcHRpb25zLmNhcmRWaWV3JiZyLnB1c2goJzx0ZCBjb2xzcGFuPVwiJy5jb25jYXQodGhpcy5oZWFkZXIuZmllbGRzLmxlbmd0aCwnXCI+PGRpdiBjbGFzcz1cImNhcmQtdmlld3NcIj4nKSk7dmFyIFA9XCJcIjtyZXR1cm4gaHYuaGFzRGV0YWlsVmlld0ljb24odGhpcy5vcHRpb25zKSYmKFA9XCI8dGQ+XCIsaHYuY2FsY3VsYXRlT2JqZWN0VmFsdWUobnVsbCx0aGlzLm9wdGlvbnMuZGV0YWlsRmlsdGVyLFtlLHRdKSYmKFArPSdcXG4gICAgICAgICAgPGEgY2xhc3M9XCJkZXRhaWwtaWNvblwiIGhyZWY9XCIjXCI+XFxuICAgICAgICAgICcuY29uY2F0KGh2LnNwcmludGYodGhpcy5jb25zdGFudHMuaHRtbC5pY29uLHRoaXMub3B0aW9ucy5pY29uc1ByZWZpeCx0aGlzLm9wdGlvbnMuaWNvbnMuZGV0YWlsT3BlbiksXCJcXG4gICAgICAgICAgPC9hPlxcbiAgICAgICAgXCIpKSxQKz1cIjwvdGQ+XCIpLFAmJlwicmlnaHRcIiE9PXRoaXMub3B0aW9ucy5kZXRhaWxWaWV3QWxpZ24mJnIucHVzaChQKSx0aGlzLmhlYWRlci5maWVsZHMuZm9yRWFjaCgoZnVuY3Rpb24oaSxuKXt2YXIgbz1hLmNvbHVtbnNbbl0sbD1cIlwiLGg9aHYuZ2V0SXRlbUZpZWxkKHQsaSxhLm9wdGlvbnMuZXNjYXBlLG8uZXNjYXBlKSx1PVwiXCIsZD1cIlwiLGY9e30scD1cIlwiLGc9YS5oZWFkZXIuY2xhc3Nlc1tuXSx2PVwiXCIsYj1cIlwiLG09XCJcIix5PVwiXCIsdz1cIlwiLFM9XCJcIjtpZigoIWEuZnJvbUh0bWwmJiFhLmF1dG9NZXJnZUNlbGxzfHx2b2lkIDAhPT1ofHxvLmNoZWNrYm94fHxvLnJhZGlvKSYmby52aXNpYmxlJiYoIWEub3B0aW9ucy5jYXJkVmlld3x8by5jYXJkVmlzaWJsZSkpe2lmKGMuY29uY2F0KFthLmhlYWRlci5zdHlsZXNbbl1dKS5sZW5ndGgmJihiKz1cIlwiLmNvbmNhdChjLmNvbmNhdChbYS5oZWFkZXIuc3R5bGVzW25dXSkuam9pbihcIjsgXCIpKSksdFtcIl9cIi5jb25jYXQoaSxcIl9zdHlsZVwiKV0mJihiKz1cIlwiLmNvbmNhdCh0W1wiX1wiLmNvbmNhdChpLFwiX3N0eWxlXCIpXSkpLGImJih2PScgc3R5bGU9XCInLmNvbmNhdChiLCdcIicpKSx0W1wiX1wiLmNvbmNhdChpLFwiX2lkXCIpXSYmKHA9aHYuc3ByaW50ZignIGlkPVwiJXNcIicsdFtcIl9cIi5jb25jYXQoaSxcIl9pZFwiKV0pKSx0W1wiX1wiLmNvbmNhdChpLFwiX2NsYXNzXCIpXSYmKGc9aHYuc3ByaW50ZignIGNsYXNzPVwiJXNcIicsdFtcIl9cIi5jb25jYXQoaSxcIl9jbGFzc1wiKV0pKSx0W1wiX1wiLmNvbmNhdChpLFwiX3Jvd3NwYW5cIildJiYoeT1odi5zcHJpbnRmKCcgcm93c3Bhbj1cIiVzXCInLHRbXCJfXCIuY29uY2F0KGksXCJfcm93c3BhblwiKV0pKSx0W1wiX1wiLmNvbmNhdChpLFwiX2NvbHNwYW5cIildJiYodz1odi5zcHJpbnRmKCcgY29sc3Bhbj1cIiVzXCInLHRbXCJfXCIuY29uY2F0KGksXCJfY29sc3BhblwiKV0pKSx0W1wiX1wiLmNvbmNhdChpLFwiX3RpdGxlXCIpXSYmKFM9aHYuc3ByaW50ZignIHRpdGxlPVwiJXNcIicsdFtcIl9cIi5jb25jYXQoaSxcIl90aXRsZVwiKV0pKSwoZj1odi5jYWxjdWxhdGVPYmplY3RWYWx1ZShhLmhlYWRlcixhLmhlYWRlci5jZWxsU3R5bGVzW25dLFtoLHQsZSxpXSxmKSkuY2xhc3NlcyYmKGc9JyBjbGFzcz1cIicuY29uY2F0KGYuY2xhc3NlcywnXCInKSksZi5jc3Mpe2Zvcih2YXIgeD1bXSxrPTAsTz1PYmplY3QuZW50cmllcyhmLmNzcyk7azxPLmxlbmd0aDtrKyspe3ZhciBDPXMoT1trXSwyKSxUPUNbMF0sST1DWzFdO3gucHVzaChcIlwiLmNvbmNhdChULFwiOiBcIikuY29uY2F0KEkpKX12PScgc3R5bGU9XCInLmNvbmNhdCh4LmNvbmNhdChhLmhlYWRlci5zdHlsZXNbbl0pLmpvaW4oXCI7IFwiKSwnXCInKX1pZih1PWh2LmNhbGN1bGF0ZU9iamVjdFZhbHVlKG8sYS5oZWFkZXIuZm9ybWF0dGVyc1tuXSxbaCx0LGUsaV0saCksby5jaGVja2JveHx8by5yYWRpb3x8KHU9bnVsbD09dT9hLm9wdGlvbnMudW5kZWZpbmVkVGV4dDp1KSxvLnNlYXJjaGFibGUmJmEuc2VhcmNoVGV4dCYmYS5vcHRpb25zLnNlYXJjaEhpZ2hsaWdodCYmIW8uY2hlY2tib3gmJiFvLnJhZGlvKXt2YXIgUD1cIlwiLEE9YS5zZWFyY2hUZXh0LnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLFwiXFxcXCQmXCIpO2lmKGEub3B0aW9ucy5zZWFyY2hBY2NlbnROZXV0cmFsaXNlKXt2YXIgJD1uZXcgUmVnRXhwKFwiXCIuY29uY2F0KGh2Lm5vcm1hbGl6ZUFjY2VudChBKSksXCJnbWlcIikuZXhlYyhodi5ub3JtYWxpemVBY2NlbnQodSkpOyQmJihBPXUuc3Vic3RyaW5nKCQuaW5kZXgsJC5pbmRleCtBLmxlbmd0aCkpfXZhciBSPW5ldyBSZWdFeHAoXCIoXCIuY29uY2F0KEEsXCIpXCIpLFwiZ2ltXCIpLEU9XCI8bWFyaz4kMTwvbWFyaz5cIjtpZih1JiYvPCg/PS4qPyAuKj9cXC8gPz58YnJ8aHJ8aW5wdXR8IS0tfHdicilbYS16XSsuKj8+fDwoW2Etel0rKS4qPzxcXC9cXDE+L2kudGVzdCh1KSl7dmFyIGo9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyh1LnRvU3RyaW5nKCksXCJ0ZXh0L2h0bWxcIikuZG9jdW1lbnRFbGVtZW50LnRleHRDb250ZW50LEY9ai5yZXBsYWNlKFIsRSk7aj1qLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLFwiXFxcXCQmXCIpLFA9dS5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoPlxcXFxzKikoXCIuY29uY2F0KGosXCIpKFxcXFxzKilcIiksXCJnbVwiKSxcIiQxXCIuY29uY2F0KEYsXCIkM1wiKSl9ZWxzZSBQPXUudG9TdHJpbmcoKS5yZXBsYWNlKFIsRSk7dT1odi5jYWxjdWxhdGVPYmplY3RWYWx1ZShvLG8uc2VhcmNoSGlnaGxpZ2h0Rm9ybWF0dGVyLFt1LGEuc2VhcmNoVGV4dF0sUCl9aWYodFtcIl9cIi5jb25jYXQoaSxcIl9kYXRhXCIpXSYmIWh2LmlzRW1wdHlPYmplY3QodFtcIl9cIi5jb25jYXQoaSxcIl9kYXRhXCIpXSkpZm9yKHZhciBfPTAsRD1PYmplY3QuZW50cmllcyh0W1wiX1wiLmNvbmNhdChpLFwiX2RhdGFcIildKTtfPEQubGVuZ3RoO18rKyl7dmFyIE49cyhEW19dLDIpLFY9TlswXSxCPU5bMV07aWYoXCJpbmRleFwiPT09VilyZXR1cm47bSs9XCIgZGF0YS1cIi5jb25jYXQoViwnPVwiJykuY29uY2F0KEIsJ1wiJyl9aWYoby5jaGVja2JveHx8by5yYWRpbyl7ZD1vLmNoZWNrYm94P1wiY2hlY2tib3hcIjpkLGQ9by5yYWRpbz9cInJhZGlvXCI6ZDt2YXIgTD1vLmNsYXNzfHxcIlwiLEg9aHYuaXNPYmplY3QodSkmJnUuaGFzT3duUHJvcGVydHkoXCJjaGVja2VkXCIpP3UuY2hlY2tlZDooITA9PT11fHxoKSYmITEhPT11LE09IW8uY2hlY2tib3hFbmFibGVkfHx1JiZ1LmRpc2FibGVkO2w9W2Eub3B0aW9ucy5jYXJkVmlldz8nPGRpdiBjbGFzcz1cImNhcmQtdmlldyAnLmNvbmNhdChMLCdcIj4nKTonPHRkIGNsYXNzPVwiYnMtY2hlY2tib3ggJy5jb25jYXQoTCwnXCInKS5jb25jYXQoZykuY29uY2F0KHYsXCI+XCIpLCc8bGFiZWw+XFxuICAgICAgICAgICAgPGlucHV0XFxuICAgICAgICAgICAgZGF0YS1pbmRleD1cIicuY29uY2F0KGUsJ1wiXFxuICAgICAgICAgICAgbmFtZT1cIicpLmNvbmNhdChhLm9wdGlvbnMuc2VsZWN0SXRlbU5hbWUsJ1wiXFxuICAgICAgICAgICAgdHlwZT1cIicpLmNvbmNhdChkLCdcIlxcbiAgICAgICAgICAgICcpLmNvbmNhdChodi5zcHJpbnRmKCd2YWx1ZT1cIiVzXCInLHRbYS5vcHRpb25zLmlkRmllbGRdKSxcIlxcbiAgICAgICAgICAgIFwiKS5jb25jYXQoaHYuc3ByaW50ZignY2hlY2tlZD1cIiVzXCInLEg/XCJjaGVja2VkXCI6dm9pZCAwKSxcIlxcbiAgICAgICAgICAgIFwiKS5jb25jYXQoaHYuc3ByaW50ZignZGlzYWJsZWQ9XCIlc1wiJyxNP1wiZGlzYWJsZWRcIjp2b2lkIDApLFwiIC8+XFxuICAgICAgICAgICAgPHNwYW4+PC9zcGFuPlxcbiAgICAgICAgICAgIDwvbGFiZWw+XCIpLGEuaGVhZGVyLmZvcm1hdHRlcnNbbl0mJlwic3RyaW5nXCI9PXR5cGVvZiB1P3U6XCJcIixhLm9wdGlvbnMuY2FyZFZpZXc/XCI8L2Rpdj5cIjpcIjwvdGQ+XCJdLmpvaW4oXCJcIiksdFthLmhlYWRlci5zdGF0ZUZpZWxkXT0hMD09PXV8fCEhaHx8dSYmdS5jaGVja2VkfWVsc2UgaWYoYS5vcHRpb25zLmNhcmRWaWV3KXt2YXIgVT1hLm9wdGlvbnMuc2hvd0hlYWRlcj8nPHNwYW4gY2xhc3M9XCJjYXJkLXZpZXctdGl0bGUgJy5jb25jYXQoZi5jbGFzc2VzfHxcIlwiLCdcIicpLmNvbmNhdCh2LFwiPlwiKS5jb25jYXQoaHYuZ2V0RmllbGRUaXRsZShhLmNvbHVtbnMsaSksXCI8L3NwYW4+XCIpOlwiXCI7bD0nPGRpdiBjbGFzcz1cImNhcmQtdmlld1wiPicuY29uY2F0KFUsJzxzcGFuIGNsYXNzPVwiY2FyZC12aWV3LXZhbHVlICcpLmNvbmNhdChmLmNsYXNzZXN8fFwiXCIsJ1wiJykuY29uY2F0KHYsXCI+XCIpLmNvbmNhdCh1LFwiPC9zcGFuPjwvZGl2PlwiKSxhLm9wdGlvbnMuc21hcnREaXNwbGF5JiZcIlwiPT09dSYmKGw9JzxkaXYgY2xhc3M9XCJjYXJkLXZpZXdcIj48L2Rpdj4nKX1lbHNlIGw9XCI8dGRcIi5jb25jYXQocCkuY29uY2F0KGcpLmNvbmNhdCh2KS5jb25jYXQobSkuY29uY2F0KHkpLmNvbmNhdCh3KS5jb25jYXQoUyxcIj5cIikuY29uY2F0KHUsXCI8L3RkPlwiKTtyLnB1c2gobCl9fSkpLFAmJlwicmlnaHRcIj09PXRoaXMub3B0aW9ucy5kZXRhaWxWaWV3QWxpZ24mJnIucHVzaChQKSx0aGlzLm9wdGlvbnMuY2FyZFZpZXcmJnIucHVzaChcIjwvZGl2PjwvdGQ+XCIpLHIucHVzaChcIjwvdHI+XCIpLHIuam9pbihcIlwiKX19fSx7a2V5OlwiaW5pdEJvZHlcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMsbz10aGlzLmdldERhdGEoKTt0aGlzLnRyaWdnZXIoXCJwcmUtYm9keVwiLG8pLHRoaXMuJGJvZHk9dGhpcy4kZWwuZmluZChcIj50Ym9keVwiKSx0aGlzLiRib2R5Lmxlbmd0aHx8KHRoaXMuJGJvZHk9aS5kZWZhdWx0KFwiPHRib2R5PjwvdGJvZHk+XCIpLmFwcGVuZFRvKHRoaXMuJGVsKSksdGhpcy5vcHRpb25zLnBhZ2luYXRpb24mJlwic2VydmVyXCIhPT10aGlzLm9wdGlvbnMuc2lkZVBhZ2luYXRpb258fCh0aGlzLnBhZ2VGcm9tPTEsdGhpcy5wYWdlVG89by5sZW5ndGgpO3ZhciBhPVtdLHI9aS5kZWZhdWx0KGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSkscz0hMSxsPVtdO3RoaXMuYXV0b01lcmdlQ2VsbHM9aHYuY2hlY2tBdXRvTWVyZ2VDZWxscyhvLnNsaWNlKHRoaXMucGFnZUZyb20tMSx0aGlzLnBhZ2VUbykpO2Zvcih2YXIgYz10aGlzLnBhZ2VGcm9tLTE7Yzx0aGlzLnBhZ2VUbztjKyspe3ZhciBoPW9bY10sdT10aGlzLmluaXRSb3coaCxjLG8scik7aWYocz1zfHwhIXUsdSYmXCJzdHJpbmdcIj09dHlwZW9mIHUpe3ZhciBkPXRoaXMub3B0aW9ucy51bmlxdWVJZDtpZihkJiZoLmhhc093blByb3BlcnR5KGQpKXt2YXIgZj1oW2RdLHA9dGhpcy4kYm9keS5maW5kKGh2LnNwcmludGYoJz4gdHJbZGF0YS11bmlxdWVpZD1cIiVzXCJdW2RhdGEtaGFzLWRldGFpbC12aWV3XScsZikpLm5leHQoKTtwLmlzKFwidHIuZGV0YWlsLXZpZXdcIikmJihsLnB1c2goYyksZSYmZj09PWV8fCh1Kz1wWzBdLm91dGVySFRNTCkpfXRoaXMub3B0aW9ucy52aXJ0dWFsU2Nyb2xsP2EucHVzaCh1KTpyLmFwcGVuZCh1KX19cz90aGlzLm9wdGlvbnMudmlydHVhbFNjcm9sbD8odGhpcy52aXJ0dWFsU2Nyb2xsJiZ0aGlzLnZpcnR1YWxTY3JvbGwuZGVzdHJveSgpLHRoaXMudmlydHVhbFNjcm9sbD1uZXcgYnYoe3Jvd3M6YSxmaXhlZFNjcm9sbDp0LHNjcm9sbEVsOnRoaXMuJHRhYmxlQm9keVswXSxjb250ZW50RWw6dGhpcy4kYm9keVswXSxpdGVtSGVpZ2h0OnRoaXMub3B0aW9ucy52aXJ0dWFsU2Nyb2xsSXRlbUhlaWdodCxjYWxsYmFjazpmdW5jdGlvbih0LGUpe24uZml0SGVhZGVyKCksbi5pbml0Qm9keUV2ZW50KCksbi50cmlnZ2VyKFwidmlydHVhbC1zY3JvbGxcIix0LGUpfX0pKTp0aGlzLiRib2R5Lmh0bWwocik6dGhpcy4kYm9keS5odG1sKCc8dHIgY2xhc3M9XCJuby1yZWNvcmRzLWZvdW5kXCI+Jy5jb25jYXQoaHYuc3ByaW50ZignPHRkIGNvbHNwYW49XCIlc1wiPiVzPC90ZD4nLHRoaXMuZ2V0VmlzaWJsZUZpZWxkcygpLmxlbmd0aCtodi5nZXREZXRhaWxWaWV3SW5kZXhPZmZzZXQodGhpcy5vcHRpb25zKSx0aGlzLm9wdGlvbnMuZm9ybWF0Tm9NYXRjaGVzKCkpLFwiPC90cj5cIikpLGwuZm9yRWFjaCgoZnVuY3Rpb24odCl7bi5leHBhbmRSb3codCl9KSksdHx8dGhpcy5zY3JvbGxUbygwKSx0aGlzLmluaXRCb2R5RXZlbnQoKSx0aGlzLmluaXRGb290ZXIoKSx0aGlzLnJlc2V0VmlldygpLHRoaXMudXBkYXRlU2VsZWN0ZWQoKSxcInNlcnZlclwiIT09dGhpcy5vcHRpb25zLnNpZGVQYWdpbmF0aW9uJiYodGhpcy5vcHRpb25zLnRvdGFsUm93cz1vLmxlbmd0aCksdGhpcy50cmlnZ2VyKFwicG9zdC1ib2R5XCIsbyl9fSx7a2V5OlwiaW5pdEJvZHlFdmVudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLiRib2R5LmZpbmQoXCI+IHRyW2RhdGEtaW5kZXhdID4gdGRcIikub2ZmKFwiY2xpY2sgZGJsY2xpY2tcIikub24oXCJjbGljayBkYmxjbGlja1wiLChmdW5jdGlvbihlKXt2YXIgbj1pLmRlZmF1bHQoZS5jdXJyZW50VGFyZ2V0KTtpZighKG4uZmluZChcIi5kZXRhaWwtaWNvblwiKS5sZW5ndGh8fG4uaW5kZXgoKS1odi5nZXREZXRhaWxWaWV3SW5kZXhPZmZzZXQodC5vcHRpb25zKTwwKSl7dmFyIG89bi5wYXJlbnQoKSxhPWkuZGVmYXVsdChlLnRhcmdldCkucGFyZW50cyhcIi5jYXJkLXZpZXdzXCIpLmNoaWxkcmVuKCkscj1pLmRlZmF1bHQoZS50YXJnZXQpLnBhcmVudHMoXCIuY2FyZC12aWV3XCIpLHM9by5kYXRhKFwiaW5kZXhcIiksbD10LmRhdGFbc10sYz10Lm9wdGlvbnMuY2FyZFZpZXc/YS5pbmRleChyKTpuWzBdLmNlbGxJbmRleCxoPXQuZ2V0VmlzaWJsZUZpZWxkcygpW2MtaHYuZ2V0RGV0YWlsVmlld0luZGV4T2Zmc2V0KHQub3B0aW9ucyldLHU9dC5jb2x1bW5zW3QuZmllbGRzQ29sdW1uc0luZGV4W2hdXSxkPWh2LmdldEl0ZW1GaWVsZChsLGgsdC5vcHRpb25zLmVzY2FwZSx1LmVzY2FwZSk7aWYodC50cmlnZ2VyKFwiY2xpY2tcIj09PWUudHlwZT9cImNsaWNrLWNlbGxcIjpcImRibC1jbGljay1jZWxsXCIsaCxkLGwsbiksdC50cmlnZ2VyKFwiY2xpY2tcIj09PWUudHlwZT9cImNsaWNrLXJvd1wiOlwiZGJsLWNsaWNrLXJvd1wiLGwsbyxoKSxcImNsaWNrXCI9PT1lLnR5cGUmJnQub3B0aW9ucy5jbGlja1RvU2VsZWN0JiZ1LmNsaWNrVG9TZWxlY3QmJiFodi5jYWxjdWxhdGVPYmplY3RWYWx1ZSh0Lm9wdGlvbnMsdC5vcHRpb25zLmlnbm9yZUNsaWNrVG9TZWxlY3RPbixbZS50YXJnZXRdKSl7dmFyIGY9by5maW5kKGh2LnNwcmludGYoJ1tuYW1lPVwiJXNcIl0nLHQub3B0aW9ucy5zZWxlY3RJdGVtTmFtZSkpO2YubGVuZ3RoJiZmWzBdLmNsaWNrKCl9XCJjbGlja1wiPT09ZS50eXBlJiZ0Lm9wdGlvbnMuZGV0YWlsVmlld0J5Q2xpY2smJnQudG9nZ2xlRGV0YWlsVmlldyhzLHQuaGVhZGVyLmRldGFpbEZvcm1hdHRlcnNbdC5maWVsZHNDb2x1bW5zSW5kZXhbaF1dKX19KSkub2ZmKFwibW91c2Vkb3duXCIpLm9uKFwibW91c2Vkb3duXCIsKGZ1bmN0aW9uKGUpe3QubXVsdGlwbGVTZWxlY3RSb3dDdHJsS2V5PWUuY3RybEtleXx8ZS5tZXRhS2V5LHQubXVsdGlwbGVTZWxlY3RSb3dTaGlmdEtleT1lLnNoaWZ0S2V5fSkpLHRoaXMuJGJvZHkuZmluZChcIj4gdHJbZGF0YS1pbmRleF0gPiB0ZCA+IC5kZXRhaWwtaWNvblwiKS5vZmYoXCJjbGlja1wiKS5vbihcImNsaWNrXCIsKGZ1bmN0aW9uKGUpe3JldHVybiBlLnByZXZlbnREZWZhdWx0KCksdC50b2dnbGVEZXRhaWxWaWV3KGkuZGVmYXVsdChlLmN1cnJlbnRUYXJnZXQpLnBhcmVudCgpLnBhcmVudCgpLmRhdGEoXCJpbmRleFwiKSksITF9KSksdGhpcy4kc2VsZWN0SXRlbT10aGlzLiRib2R5LmZpbmQoaHYuc3ByaW50ZignW25hbWU9XCIlc1wiXScsdGhpcy5vcHRpb25zLnNlbGVjdEl0ZW1OYW1lKSksdGhpcy4kc2VsZWN0SXRlbS5vZmYoXCJjbGlja1wiKS5vbihcImNsaWNrXCIsKGZ1bmN0aW9uKGUpe2Uuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7dmFyIG49aS5kZWZhdWx0KGUuY3VycmVudFRhcmdldCk7dC5fdG9nZ2xlQ2hlY2sobi5wcm9wKFwiY2hlY2tlZFwiKSxuLmRhdGEoXCJpbmRleFwiKSl9KSksdGhpcy5oZWFkZXIuZXZlbnRzLmZvckVhY2goKGZ1bmN0aW9uKGUsbil7dmFyIG89ZTtpZihvKXtpZihcInN0cmluZ1wiPT10eXBlb2YgbyYmKG89aHYuY2FsY3VsYXRlT2JqZWN0VmFsdWUobnVsbCxvKSksIW8pdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBldmVudCBpbiB0aGUgc2NvcGU6IFwiLmNvbmNhdChlKSk7dmFyIGE9dC5oZWFkZXIuZmllbGRzW25dLHI9dC5nZXRWaXNpYmxlRmllbGRzKCkuaW5kZXhPZihhKTtpZigtMSE9PXIpe3IrPWh2LmdldERldGFpbFZpZXdJbmRleE9mZnNldCh0Lm9wdGlvbnMpO3ZhciBzPWZ1bmN0aW9uKGUpe2lmKCFvLmhhc093blByb3BlcnR5KGUpKXJldHVyblwiY29udGludWVcIjt2YXIgbj1vW2VdO3QuJGJvZHkuZmluZChcIj50cjpub3QoLm5vLXJlY29yZHMtZm91bmQpXCIpLmVhY2goKGZ1bmN0aW9uKG8scyl7dmFyIGw9aS5kZWZhdWx0KHMpLGM9bC5maW5kKHQub3B0aW9ucy5jYXJkVmlldz9cIi5jYXJkLXZpZXdzPi5jYXJkLXZpZXdcIjpcIj50ZFwiKS5lcShyKSxoPWUuaW5kZXhPZihcIiBcIiksdT1lLnN1YnN0cmluZygwLGgpLGQ9ZS5zdWJzdHJpbmcoaCsxKTtjLmZpbmQoZCkub2ZmKHUpLm9uKHUsKGZ1bmN0aW9uKGUpe3ZhciBpPWwuZGF0YShcImluZGV4XCIpLG89dC5kYXRhW2ldLHI9b1thXTtuLmFwcGx5KHQsW2UscixvLGldKX0pKX0pKX07Zm9yKHZhciBsIGluIG8pcyhsKX19fSkpfX0se2tleTpcImluaXRTZXJ2ZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyxhPXt9LHI9dGhpcy5oZWFkZXIuZmllbGRzLmluZGV4T2YodGhpcy5vcHRpb25zLnNvcnROYW1lKSxzPXtzZWFyY2hUZXh0OnRoaXMuc2VhcmNoVGV4dCxzb3J0TmFtZTp0aGlzLm9wdGlvbnMuc29ydE5hbWUsc29ydE9yZGVyOnRoaXMub3B0aW9ucy5zb3J0T3JkZXJ9O2lmKHRoaXMuaGVhZGVyLnNvcnROYW1lc1tyXSYmKHMuc29ydE5hbWU9dGhpcy5oZWFkZXIuc29ydE5hbWVzW3JdKSx0aGlzLm9wdGlvbnMucGFnaW5hdGlvbiYmXCJzZXJ2ZXJcIj09PXRoaXMub3B0aW9ucy5zaWRlUGFnaW5hdGlvbiYmKHMucGFnZVNpemU9dGhpcy5vcHRpb25zLnBhZ2VTaXplPT09dGhpcy5vcHRpb25zLmZvcm1hdEFsbFJvd3MoKT90aGlzLm9wdGlvbnMudG90YWxSb3dzOnRoaXMub3B0aW9ucy5wYWdlU2l6ZSxzLnBhZ2VOdW1iZXI9dGhpcy5vcHRpb25zLnBhZ2VOdW1iZXIpLG58fHRoaXMub3B0aW9ucy51cmx8fHRoaXMub3B0aW9ucy5hamF4KXtpZihcImxpbWl0XCI9PT10aGlzLm9wdGlvbnMucXVlcnlQYXJhbXNUeXBlJiYocz17c2VhcmNoOnMuc2VhcmNoVGV4dCxzb3J0OnMuc29ydE5hbWUsb3JkZXI6cy5zb3J0T3JkZXJ9LHRoaXMub3B0aW9ucy5wYWdpbmF0aW9uJiZcInNlcnZlclwiPT09dGhpcy5vcHRpb25zLnNpZGVQYWdpbmF0aW9uJiYocy5vZmZzZXQ9dGhpcy5vcHRpb25zLnBhZ2VTaXplPT09dGhpcy5vcHRpb25zLmZvcm1hdEFsbFJvd3MoKT8wOnRoaXMub3B0aW9ucy5wYWdlU2l6ZSoodGhpcy5vcHRpb25zLnBhZ2VOdW1iZXItMSkscy5saW1pdD10aGlzLm9wdGlvbnMucGFnZVNpemUsMCE9PXMubGltaXQmJnRoaXMub3B0aW9ucy5wYWdlU2l6ZSE9PXRoaXMub3B0aW9ucy5mb3JtYXRBbGxSb3dzKCl8fGRlbGV0ZSBzLmxpbWl0KSksdGhpcy5vcHRpb25zLnNlYXJjaCYmXCJzZXJ2ZXJcIj09PXRoaXMub3B0aW9ucy5zaWRlUGFnaW5hdGlvbiYmdGhpcy5jb2x1bW5zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIXQuc2VhcmNoYWJsZX0pKS5sZW5ndGgpe3Muc2VhcmNoYWJsZT1bXTt2YXIgbCxjPXUodGhpcy5jb2x1bW5zKTt0cnl7Zm9yKGMucygpOyEobD1jLm4oKSkuZG9uZTspe3ZhciBoPWwudmFsdWU7IWguY2hlY2tib3gmJmguc2VhcmNoYWJsZSYmKHRoaXMub3B0aW9ucy52aXNpYmxlU2VhcmNoJiZoLnZpc2libGV8fCF0aGlzLm9wdGlvbnMudmlzaWJsZVNlYXJjaCkmJnMuc2VhcmNoYWJsZS5wdXNoKGguZmllbGQpfX1jYXRjaCh0KXtjLmUodCl9ZmluYWxseXtjLmYoKX19aWYoaHYuaXNFbXB0eU9iamVjdCh0aGlzLmZpbHRlckNvbHVtbnNQYXJ0aWFsKXx8KHMuZmlsdGVyPUpTT04uc3RyaW5naWZ5KHRoaXMuZmlsdGVyQ29sdW1uc1BhcnRpYWwsbnVsbCkpLGkuZGVmYXVsdC5leHRlbmQocyxlfHx7fSksITEhPT0oYT1odi5jYWxjdWxhdGVPYmplY3RWYWx1ZSh0aGlzLm9wdGlvbnMsdGhpcy5vcHRpb25zLnF1ZXJ5UGFyYW1zLFtzXSxhKSkpe3R8fHRoaXMuc2hvd0xvYWRpbmcoKTt2YXIgZD1pLmRlZmF1bHQuZXh0ZW5kKHt9LGh2LmNhbGN1bGF0ZU9iamVjdFZhbHVlKG51bGwsdGhpcy5vcHRpb25zLmFqYXhPcHRpb25zKSx7dHlwZTp0aGlzLm9wdGlvbnMubWV0aG9kLHVybDpufHx0aGlzLm9wdGlvbnMudXJsLGRhdGE6XCJhcHBsaWNhdGlvbi9qc29uXCI9PT10aGlzLm9wdGlvbnMuY29udGVudFR5cGUmJlwicG9zdFwiPT09dGhpcy5vcHRpb25zLm1ldGhvZD9KU09OLnN0cmluZ2lmeShhKTphLGNhY2hlOnRoaXMub3B0aW9ucy5jYWNoZSxjb250ZW50VHlwZTp0aGlzLm9wdGlvbnMuY29udGVudFR5cGUsZGF0YVR5cGU6dGhpcy5vcHRpb25zLmRhdGFUeXBlLHN1Y2Nlc3M6ZnVuY3Rpb24oZSxpLG4pe3ZhciBhPWh2LmNhbGN1bGF0ZU9iamVjdFZhbHVlKG8ub3B0aW9ucyxvLm9wdGlvbnMucmVzcG9uc2VIYW5kbGVyLFtlLG5dLGUpO28ubG9hZChhKSxvLnRyaWdnZXIoXCJsb2FkLXN1Y2Nlc3NcIixhLG4mJm4uc3RhdHVzLG4pLHR8fG8uaGlkZUxvYWRpbmcoKSxcInNlcnZlclwiPT09by5vcHRpb25zLnNpZGVQYWdpbmF0aW9uJiZvLm9wdGlvbnMucGFnZU51bWJlcj4xJiZhW28ub3B0aW9ucy50b3RhbEZpZWxkXT4wJiYhYVtvLm9wdGlvbnMuZGF0YUZpZWxkXS5sZW5ndGgmJm8udXBkYXRlUGFnaW5hdGlvbigpfSxlcnJvcjpmdW5jdGlvbihlKXtpZihlJiYwPT09ZS5zdGF0dXMmJm8uX3hockFib3J0KW8uX3hockFib3J0PSExO2Vsc2V7dmFyIGk9W107XCJzZXJ2ZXJcIj09PW8ub3B0aW9ucy5zaWRlUGFnaW5hdGlvbiYmKChpPXt9KVtvLm9wdGlvbnMudG90YWxGaWVsZF09MCxpW28ub3B0aW9ucy5kYXRhRmllbGRdPVtdKSxvLmxvYWQoaSksby50cmlnZ2VyKFwibG9hZC1lcnJvclwiLGUmJmUuc3RhdHVzLGUpLHR8fG8uaGlkZUxvYWRpbmcoKX19fSk7cmV0dXJuIHRoaXMub3B0aW9ucy5hamF4P2h2LmNhbGN1bGF0ZU9iamVjdFZhbHVlKHRoaXMsdGhpcy5vcHRpb25zLmFqYXgsW2RdLG51bGwpOih0aGlzLl94aHImJjQhPT10aGlzLl94aHIucmVhZHlTdGF0ZSYmKHRoaXMuX3hockFib3J0PSEwLHRoaXMuX3hoci5hYm9ydCgpKSx0aGlzLl94aHI9aS5kZWZhdWx0LmFqYXgoZCkpLGF9fX19LHtrZXk6XCJpbml0U2VhcmNoVGV4dFwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLnNlYXJjaCYmKHRoaXMuc2VhcmNoVGV4dD1cIlwiLFwiXCIhPT10aGlzLm9wdGlvbnMuc2VhcmNoVGV4dCkpe3ZhciB0PWh2LmdldFNlYXJjaElucHV0KHRoaXMpO3QudmFsKHRoaXMub3B0aW9ucy5zZWFyY2hUZXh0KSx0aGlzLm9uU2VhcmNoKHtjdXJyZW50VGFyZ2V0OnQsZmlyZWRCeUluaXRTZWFyY2hUZXh0OiEwfSl9fX0se2tleTpcImdldENhcmV0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuJGhlYWRlci5maW5kKFwidGhcIikuZWFjaCgoZnVuY3Rpb24oZSxuKXtpLmRlZmF1bHQobikuZmluZChcIi5zb3J0YWJsZVwiKS5yZW1vdmVDbGFzcyhcImRlc2MgYXNjXCIpLmFkZENsYXNzKGkuZGVmYXVsdChuKS5kYXRhKFwiZmllbGRcIik9PT10Lm9wdGlvbnMuc29ydE5hbWU/dC5vcHRpb25zLnNvcnRPcmRlcjpcImJvdGhcIil9KSl9fSx7a2V5OlwidXBkYXRlU2VsZWN0ZWRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuJHNlbGVjdEl0ZW0uZmlsdGVyKFwiOmVuYWJsZWRcIikubGVuZ3RoJiZ0aGlzLiRzZWxlY3RJdGVtLmZpbHRlcihcIjplbmFibGVkXCIpLmxlbmd0aD09PXRoaXMuJHNlbGVjdEl0ZW0uZmlsdGVyKFwiOmVuYWJsZWRcIikuZmlsdGVyKFwiOmNoZWNrZWRcIikubGVuZ3RoO3RoaXMuJHNlbGVjdEFsbC5hZGQodGhpcy4kc2VsZWN0QWxsXykucHJvcChcImNoZWNrZWRcIix0KSx0aGlzLiRzZWxlY3RJdGVtLmVhY2goKGZ1bmN0aW9uKHQsZSl7aS5kZWZhdWx0KGUpLmNsb3Nlc3QoXCJ0clwiKVtpLmRlZmF1bHQoZSkucHJvcChcImNoZWNrZWRcIik/XCJhZGRDbGFzc1wiOlwicmVtb3ZlQ2xhc3NcIl0oXCJzZWxlY3RlZFwiKX0pKX19LHtrZXk6XCJ1cGRhdGVSb3dzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuJHNlbGVjdEl0ZW0uZWFjaCgoZnVuY3Rpb24oZSxuKXt0LmRhdGFbaS5kZWZhdWx0KG4pLmRhdGEoXCJpbmRleFwiKV1bdC5oZWFkZXIuc3RhdGVGaWVsZF09aS5kZWZhdWx0KG4pLnByb3AoXCJjaGVja2VkXCIpfSkpfX0se2tleTpcInJlc2V0Um93c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZT11KHRoaXMuZGF0YSk7dHJ5e2ZvcihlLnMoKTshKHQ9ZS5uKCkpLmRvbmU7KXt2YXIgaT10LnZhbHVlO3RoaXMuJHNlbGVjdEFsbC5wcm9wKFwiY2hlY2tlZFwiLCExKSx0aGlzLiRzZWxlY3RJdGVtLnByb3AoXCJjaGVja2VkXCIsITEpLHRoaXMuaGVhZGVyLnN0YXRlRmllbGQmJihpW3RoaXMuaGVhZGVyLnN0YXRlRmllbGRdPSExKX19Y2F0Y2godCl7ZS5lKHQpfWZpbmFsbHl7ZS5mKCl9dGhpcy5pbml0SGlkZGVuUm93cygpfX0se2tleTpcInRyaWdnZXJcIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIG4sbyxhPVwiXCIuY29uY2F0KGUsXCIuYnMudGFibGVcIikscj1hcmd1bWVudHMubGVuZ3RoLHM9bmV3IEFycmF5KHI+MT9yLTE6MCksbD0xO2w8cjtsKyspc1tsLTFdPWFyZ3VtZW50c1tsXTsobj10aGlzLm9wdGlvbnMpW3QuRVZFTlRTW2FdXS5hcHBseShuLFtdLmNvbmNhdChzLFt0aGlzXSkpLHRoaXMuJGVsLnRyaWdnZXIoaS5kZWZhdWx0LkV2ZW50KGEse3NlbmRlcjp0aGlzfSkscyksKG89dGhpcy5vcHRpb25zKS5vbkFsbC5hcHBseShvLFthXS5jb25jYXQoW10uY29uY2F0KHMsW3RoaXNdKSkpLHRoaXMuJGVsLnRyaWdnZXIoaS5kZWZhdWx0LkV2ZW50KFwiYWxsLmJzLnRhYmxlXCIse3NlbmRlcjp0aGlzfSksW2Esc10pfX0se2tleTpcInJlc2V0SGVhZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2NsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJZF8pLHRoaXMudGltZW91dElkXz1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0LmZpdEhlYWRlcigpfSksdGhpcy4kZWwuaXMoXCI6aGlkZGVuXCIpPzEwMDowKX19LHtrZXk6XCJmaXRIZWFkZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodGhpcy4kZWwuaXMoXCI6aGlkZGVuXCIpKXRoaXMudGltZW91dElkXz1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0LmZpdEhlYWRlcigpfSksMTAwKTtlbHNle3ZhciBlPXRoaXMuJHRhYmxlQm9keS5nZXQoMCksbj10aGlzLmhhc1Njcm9sbEJhciYmZS5zY3JvbGxIZWlnaHQ+ZS5jbGllbnRIZWlnaHQrdGhpcy4kaGVhZGVyLm91dGVySGVpZ2h0KCk/aHYuZ2V0U2Nyb2xsQmFyV2lkdGgoKTowO3RoaXMuJGVsLmNzcyhcIm1hcmdpbi10b3BcIiwtdGhpcy4kaGVhZGVyLm91dGVySGVpZ2h0KCkpO3ZhciBvPWkuZGVmYXVsdChcIjpmb2N1c1wiKTtpZihvLmxlbmd0aD4wKXt2YXIgYT1vLnBhcmVudHMoXCJ0aFwiKTtpZihhLmxlbmd0aD4wKXt2YXIgcj1hLmF0dHIoXCJkYXRhLWZpZWxkXCIpO2lmKHZvaWQgMCE9PXIpe3ZhciBzPXRoaXMuJGhlYWRlci5maW5kKFwiW2RhdGEtZmllbGQ9J1wiLmNvbmNhdChyLFwiJ11cIikpO3MubGVuZ3RoPjAmJnMuZmluZChcIjppbnB1dFwiKS5hZGRDbGFzcyhcImZvY3VzLXRlbXBcIil9fX10aGlzLiRoZWFkZXJfPXRoaXMuJGhlYWRlci5jbG9uZSghMCwhMCksdGhpcy4kc2VsZWN0QWxsXz10aGlzLiRoZWFkZXJfLmZpbmQoJ1tuYW1lPVwiYnRTZWxlY3RBbGxcIl0nKSx0aGlzLiR0YWJsZUhlYWRlci5jc3MoXCJtYXJnaW4tcmlnaHRcIixuKS5maW5kKFwidGFibGVcIikuY3NzKFwid2lkdGhcIix0aGlzLiRlbC5vdXRlcldpZHRoKCkpLmh0bWwoXCJcIikuYXR0cihcImNsYXNzXCIsdGhpcy4kZWwuYXR0cihcImNsYXNzXCIpKS5hcHBlbmQodGhpcy4kaGVhZGVyXyksdGhpcy4kdGFibGVMb2FkaW5nLmNzcyhcIndpZHRoXCIsdGhpcy4kZWwub3V0ZXJXaWR0aCgpKTt2YXIgbD1pLmRlZmF1bHQoXCIuZm9jdXMtdGVtcDp2aXNpYmxlOmVxKDApXCIpO2wubGVuZ3RoPjAmJihsLmZvY3VzKCksdGhpcy4kaGVhZGVyLmZpbmQoXCIuZm9jdXMtdGVtcFwiKS5yZW1vdmVDbGFzcyhcImZvY3VzLXRlbXBcIikpLHRoaXMuJGhlYWRlci5maW5kKFwidGhbZGF0YS1maWVsZF1cIikuZWFjaCgoZnVuY3Rpb24oZSxuKXt0LiRoZWFkZXJfLmZpbmQoaHYuc3ByaW50ZigndGhbZGF0YS1maWVsZD1cIiVzXCJdJyxpLmRlZmF1bHQobikuZGF0YShcImZpZWxkXCIpKSkuZGF0YShpLmRlZmF1bHQobikuZGF0YSgpKX0pKTtmb3IodmFyIGM9dGhpcy5nZXRWaXNpYmxlRmllbGRzKCksaD10aGlzLiRoZWFkZXJfLmZpbmQoXCJ0aFwiKSx1PXRoaXMuJGJvZHkuZmluZChcIj50cjpub3QoLm5vLXJlY29yZHMtZm91bmQsLnZpcnR1YWwtc2Nyb2xsLXRvcClcIikuZXEoMCk7dS5sZW5ndGgmJnUuZmluZCgnPnRkW2NvbHNwYW5dOm5vdChbY29sc3Bhbj1cIjFcIl0pJykubGVuZ3RoOyl1PXUubmV4dCgpO3ZhciBkPXUuZmluZChcIj4gKlwiKS5sZW5ndGg7dS5maW5kKFwiPiAqXCIpLmVhY2goKGZ1bmN0aW9uKGUsbil7dmFyIG89aS5kZWZhdWx0KG4pO2lmKGh2Lmhhc0RldGFpbFZpZXdJY29uKHQub3B0aW9ucykmJigwPT09ZSYmXCJyaWdodFwiIT09dC5vcHRpb25zLmRldGFpbFZpZXdBbGlnbnx8ZT09PWQtMSYmXCJyaWdodFwiPT09dC5vcHRpb25zLmRldGFpbFZpZXdBbGlnbikpe3ZhciBhPWguZmlsdGVyKFwiLmRldGFpbFwiKSxyPWEuaW5uZXJXaWR0aCgpLWEuZmluZChcIi5maHQtY2VsbFwiKS53aWR0aCgpO2EuZmluZChcIi5maHQtY2VsbFwiKS53aWR0aChvLmlubmVyV2lkdGgoKS1yKX1lbHNle3ZhciBzPWUtaHYuZ2V0RGV0YWlsVmlld0luZGV4T2Zmc2V0KHQub3B0aW9ucyksbD10LiRoZWFkZXJfLmZpbmQoaHYuc3ByaW50ZigndGhbZGF0YS1maWVsZD1cIiVzXCJdJyxjW3NdKSk7bC5sZW5ndGg+MSYmKGw9aS5kZWZhdWx0KGhbb1swXS5jZWxsSW5kZXhdKSk7dmFyIHU9bC5pbm5lcldpZHRoKCktbC5maW5kKFwiLmZodC1jZWxsXCIpLndpZHRoKCk7bC5maW5kKFwiLmZodC1jZWxsXCIpLndpZHRoKG8uaW5uZXJXaWR0aCgpLXUpfX0pKSx0aGlzLmhvcml6b250YWxTY3JvbGwoKSx0aGlzLnRyaWdnZXIoXCJwb3N0LWhlYWRlclwiKX19fSx7a2V5OlwiaW5pdEZvb3RlclwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLnNob3dGb290ZXImJiF0aGlzLm9wdGlvbnMuY2FyZFZpZXcpe3ZhciB0PXRoaXMuZ2V0RGF0YSgpLGU9W10saT1cIlwiO2h2Lmhhc0RldGFpbFZpZXdJY29uKHRoaXMub3B0aW9ucykmJihpPSc8dGggY2xhc3M9XCJkZXRhaWxcIj48ZGl2IGNsYXNzPVwidGgtaW5uZXJcIj48L2Rpdj48ZGl2IGNsYXNzPVwiZmh0LWNlbGxcIj48L2Rpdj48L3RoPicpLGkmJlwicmlnaHRcIiE9PXRoaXMub3B0aW9ucy5kZXRhaWxWaWV3QWxpZ24mJmUucHVzaChpKTt2YXIgbixvPXUodGhpcy5jb2x1bW5zKTt0cnl7Zm9yKG8ucygpOyEobj1vLm4oKSkuZG9uZTspe3ZhciBhLHIsbD1uLnZhbHVlLGM9W10saD17fSxkPWh2LnNwcmludGYoJyBjbGFzcz1cIiVzXCInLGwuY2xhc3MpO2lmKCEoIWwudmlzaWJsZXx8dGhpcy5mb290ZXJEYXRhJiZ0aGlzLmZvb3RlckRhdGEubGVuZ3RoPjAmJiEobC5maWVsZCBpbiB0aGlzLmZvb3RlckRhdGFbMF0pKSl7aWYodGhpcy5vcHRpb25zLmNhcmRWaWV3JiYhbC5jYXJkVmlzaWJsZSlyZXR1cm47aWYoYT1odi5zcHJpbnRmKFwidGV4dC1hbGlnbjogJXM7IFwiLGwuZmFsaWduP2wuZmFsaWduOmwuYWxpZ24pLHI9aHYuc3ByaW50ZihcInZlcnRpY2FsLWFsaWduOiAlczsgXCIsbC52YWxpZ24pLChoPWh2LmNhbGN1bGF0ZU9iamVjdFZhbHVlKG51bGwsdGhpcy5vcHRpb25zLmZvb3RlclN0eWxlLFtsXSkpJiZoLmNzcylmb3IodmFyIGY9MCxwPU9iamVjdC5lbnRyaWVzKGguY3NzKTtmPHAubGVuZ3RoO2YrKyl7dmFyIGc9cyhwW2ZdLDIpLHY9Z1swXSxiPWdbMV07Yy5wdXNoKFwiXCIuY29uY2F0KHYsXCI6IFwiKS5jb25jYXQoYikpfWgmJmguY2xhc3NlcyYmKGQ9aHYuc3ByaW50ZignIGNsYXNzPVwiJXNcIicsbC5jbGFzcz9bbC5jbGFzcyxoLmNsYXNzZXNdLmpvaW4oXCIgXCIpOmguY2xhc3NlcykpLGUucHVzaChcIjx0aFwiLGQsaHYuc3ByaW50ZignIHN0eWxlPVwiJXNcIicsYStyK2MuY29uY2F0KCkuam9pbihcIjsgXCIpKSk7dmFyIG09MDt0aGlzLmZvb3RlckRhdGEmJnRoaXMuZm9vdGVyRGF0YS5sZW5ndGg+MCYmKG09dGhpcy5mb290ZXJEYXRhWzBdW1wiX1wiLmNvbmNhdChsLmZpZWxkLFwiX2NvbHNwYW5cIildfHwwKSxtJiZlLnB1c2goJyBjb2xzcGFuPVwiJy5jb25jYXQobSwnXCIgJykpLGUucHVzaChcIj5cIiksZS5wdXNoKCc8ZGl2IGNsYXNzPVwidGgtaW5uZXJcIj4nKTt2YXIgeT1cIlwiO3RoaXMuZm9vdGVyRGF0YSYmdGhpcy5mb290ZXJEYXRhLmxlbmd0aD4wJiYoeT10aGlzLmZvb3RlckRhdGFbMF1bbC5maWVsZF18fFwiXCIpLGUucHVzaChodi5jYWxjdWxhdGVPYmplY3RWYWx1ZShsLGwuZm9vdGVyRm9ybWF0dGVyLFt0LHldLHkpKSxlLnB1c2goXCI8L2Rpdj5cIiksZS5wdXNoKCc8ZGl2IGNsYXNzPVwiZmh0LWNlbGxcIj48L2Rpdj4nKSxlLnB1c2goXCI8L2Rpdj5cIiksZS5wdXNoKFwiPC90aD5cIil9fX1jYXRjaCh0KXtvLmUodCl9ZmluYWxseXtvLmYoKX1pJiZcInJpZ2h0XCI9PT10aGlzLm9wdGlvbnMuZGV0YWlsVmlld0FsaWduJiZlLnB1c2goaSksdGhpcy5vcHRpb25zLmhlaWdodHx8dGhpcy4kdGFibGVGb290ZXIubGVuZ3RofHwodGhpcy4kZWwuYXBwZW5kKFwiPHRmb290Pjx0cj48L3RyPjwvdGZvb3Q+XCIpLHRoaXMuJHRhYmxlRm9vdGVyPXRoaXMuJGVsLmZpbmQoXCJ0Zm9vdFwiKSksdGhpcy4kdGFibGVGb290ZXIuZmluZChcInRyXCIpLmxlbmd0aHx8dGhpcy4kdGFibGVGb290ZXIuaHRtbChcIjx0YWJsZT48dGhlYWQ+PHRyPjwvdHI+PC90aGVhZD48L3RhYmxlPlwiKSx0aGlzLiR0YWJsZUZvb3Rlci5maW5kKFwidHJcIikuaHRtbChlLmpvaW4oXCJcIikpLHRoaXMudHJpZ2dlcihcInBvc3QtZm9vdGVyXCIsdGhpcy4kdGFibGVGb290ZXIpfX19LHtrZXk6XCJmaXRGb290ZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodGhpcy4kZWwuaXMoXCI6aGlkZGVuXCIpKXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuZml0Rm9vdGVyKCl9KSwxMDApO2Vsc2V7dmFyIGU9dGhpcy4kdGFibGVCb2R5LmdldCgwKSxuPXRoaXMuaGFzU2Nyb2xsQmFyJiZlLnNjcm9sbEhlaWdodD5lLmNsaWVudEhlaWdodCt0aGlzLiRoZWFkZXIub3V0ZXJIZWlnaHQoKT9odi5nZXRTY3JvbGxCYXJXaWR0aCgpOjA7dGhpcy4kdGFibGVGb290ZXIuY3NzKFwibWFyZ2luLXJpZ2h0XCIsbikuZmluZChcInRhYmxlXCIpLmNzcyhcIndpZHRoXCIsdGhpcy4kZWwub3V0ZXJXaWR0aCgpKS5hdHRyKFwiY2xhc3NcIix0aGlzLiRlbC5hdHRyKFwiY2xhc3NcIikpO3ZhciBvPXRoaXMuJHRhYmxlRm9vdGVyLmZpbmQoXCJ0aFwiKSxhPXRoaXMuJGJvZHkuZmluZChcIj50cjpmaXJzdC1jaGlsZDpub3QoLm5vLXJlY29yZHMtZm91bmQpXCIpO2ZvcihvLmZpbmQoXCIuZmh0LWNlbGxcIikud2lkdGgoXCJhdXRvXCIpO2EubGVuZ3RoJiZhLmZpbmQoJz50ZFtjb2xzcGFuXTpub3QoW2NvbHNwYW49XCIxXCJdKScpLmxlbmd0aDspYT1hLm5leHQoKTt2YXIgcj1hLmZpbmQoXCI+ICpcIikubGVuZ3RoO2EuZmluZChcIj4gKlwiKS5lYWNoKChmdW5jdGlvbihlLG4pe3ZhciBhPWkuZGVmYXVsdChuKTtpZihodi5oYXNEZXRhaWxWaWV3SWNvbih0Lm9wdGlvbnMpJiYoMD09PWUmJlwibGVmdFwiPT09dC5vcHRpb25zLmRldGFpbFZpZXdBbGlnbnx8ZT09PXItMSYmXCJyaWdodFwiPT09dC5vcHRpb25zLmRldGFpbFZpZXdBbGlnbikpe3ZhciBzPW8uZmlsdGVyKFwiLmRldGFpbFwiKSxsPXMuaW5uZXJXaWR0aCgpLXMuZmluZChcIi5maHQtY2VsbFwiKS53aWR0aCgpO3MuZmluZChcIi5maHQtY2VsbFwiKS53aWR0aChhLmlubmVyV2lkdGgoKS1sKX1lbHNle3ZhciBjPW8uZXEoZSksaD1jLmlubmVyV2lkdGgoKS1jLmZpbmQoXCIuZmh0LWNlbGxcIikud2lkdGgoKTtjLmZpbmQoXCIuZmh0LWNlbGxcIikud2lkdGgoYS5pbm5lcldpZHRoKCktaCl9fSkpLHRoaXMuaG9yaXpvbnRhbFNjcm9sbCgpfX19LHtrZXk6XCJob3Jpem9udGFsU2Nyb2xsXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuJHRhYmxlQm9keS5vZmYoXCJzY3JvbGxcIikub24oXCJzY3JvbGxcIiwoZnVuY3Rpb24oKXt2YXIgZT10LiR0YWJsZUJvZHkuc2Nyb2xsTGVmdCgpO3Qub3B0aW9ucy5zaG93SGVhZGVyJiZ0Lm9wdGlvbnMuaGVpZ2h0JiZ0LiR0YWJsZUhlYWRlci5zY3JvbGxMZWZ0KGUpLHQub3B0aW9ucy5zaG93Rm9vdGVyJiYhdC5vcHRpb25zLmNhcmRWaWV3JiZ0LiR0YWJsZUZvb3Rlci5zY3JvbGxMZWZ0KGUpLHQudHJpZ2dlcihcInNjcm9sbC1ib2R5XCIsdC4kdGFibGVCb2R5KX0pKX19LHtrZXk6XCJnZXRWaXNpYmxlRmllbGRzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlPVtdLGk9dSh0aGlzLmhlYWRlci5maWVsZHMpO3RyeXtmb3IoaS5zKCk7ISh0PWkubigpKS5kb25lOyl7dmFyIG49dC52YWx1ZSxvPXRoaXMuY29sdW1uc1t0aGlzLmZpZWxkc0NvbHVtbnNJbmRleFtuXV07byYmby52aXNpYmxlJiYoIXRoaXMub3B0aW9ucy5jYXJkVmlld3x8by5jYXJkVmlzaWJsZSkmJmUucHVzaChuKX19Y2F0Y2godCl7aS5lKHQpfWZpbmFsbHl7aS5mKCl9cmV0dXJuIGV9fSx7a2V5OlwiaW5pdEhpZGRlblJvd3NcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaGlkZGVuUm93cz1bXX19LHtrZXk6XCJnZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1pLmRlZmF1bHQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyk7cmV0dXJuIGRlbGV0ZSB0LmRhdGEsaS5kZWZhdWx0LmV4dGVuZCghMCx7fSx0KX19LHtrZXk6XCJyZWZyZXNoT3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2h2LmNvbXBhcmVPYmplY3RzKHRoaXMub3B0aW9ucyx0LCEwKXx8KHRoaXMub3B0aW9ucz1pLmRlZmF1bHQuZXh0ZW5kKHRoaXMub3B0aW9ucyx0KSx0aGlzLnRyaWdnZXIoXCJyZWZyZXNoLW9wdGlvbnNcIix0aGlzLm9wdGlvbnMpLHRoaXMuZGVzdHJveSgpLHRoaXMuaW5pdCgpKX19LHtrZXk6XCJnZXREYXRhXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPXRoaXMub3B0aW9ucy5kYXRhO2lmKCEodGhpcy5zZWFyY2hUZXh0fHx0aGlzLm9wdGlvbnMuY3VzdG9tU2VhcmNofHx2b2lkIDAhPT10aGlzLm9wdGlvbnMuc29ydE5hbWV8fHRoaXMuZW5hYmxlQ3VzdG9tU29ydCkmJmh2LmlzRW1wdHlPYmplY3QodGhpcy5maWx0ZXJDb2x1bW5zKSYmXCJmdW5jdGlvblwiIT10eXBlb2YgdGhpcy5vcHRpb25zLmZpbHRlck9wdGlvbnMuZmlsdGVyQWxnb3JpdGhtJiZodi5pc0VtcHR5T2JqZWN0KHRoaXMuZmlsdGVyQ29sdW1uc1BhcnRpYWwpfHx0JiZ0LnVuZmlsdGVyZWR8fChpPXRoaXMuZGF0YSksdCYmdC51c2VDdXJyZW50UGFnZSYmKGk9aS5zbGljZSh0aGlzLnBhZ2VGcm9tLTEsdGhpcy5wYWdlVG8pKSx0JiYhdC5pbmNsdWRlSGlkZGVuUm93cyl7dmFyIG49dGhpcy5nZXRIaWRkZW5Sb3dzKCk7aT1pLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuLTE9PT1odi5maW5kSW5kZXgobix0KX0pKX1yZXR1cm4gdCYmdC5mb3JtYXR0ZWQmJmkuZm9yRWFjaCgoZnVuY3Rpb24odCl7Zm9yKHZhciBpPTAsbj1PYmplY3QuZW50cmllcyh0KTtpPG4ubGVuZ3RoO2krKyl7dmFyIG89cyhuW2ldLDIpLGE9b1swXSxyPW9bMV0sbD1lLmNvbHVtbnNbZS5maWVsZHNDb2x1bW5zSW5kZXhbYV1dO2lmKCFsKXJldHVybjt0W2FdPWh2LmNhbGN1bGF0ZU9iamVjdFZhbHVlKGwsZS5oZWFkZXIuZm9ybWF0dGVyc1tsLmZpZWxkSW5kZXhdLFtyLHQsdC5pbmRleCxsLmZpZWxkXSxyKX19KSksaX19LHtrZXk6XCJnZXRTZWxlY3Rpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybih0aGlzLm9wdGlvbnMubWFpbnRhaW5NZXRhRGF0YT90aGlzLm9wdGlvbnMuZGF0YTp0aGlzLmRhdGEpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lW3QuaGVhZGVyLnN0YXRlRmllbGRdfSkpfX0se2tleTpcImxvYWRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpPXQ7dGhpcy5vcHRpb25zLnBhZ2luYXRpb24mJlwic2VydmVyXCI9PT10aGlzLm9wdGlvbnMuc2lkZVBhZ2luYXRpb24mJih0aGlzLm9wdGlvbnMudG90YWxSb3dzPWlbdGhpcy5vcHRpb25zLnRvdGFsRmllbGRdLHRoaXMub3B0aW9ucy50b3RhbE5vdEZpbHRlcmVkPWlbdGhpcy5vcHRpb25zLnRvdGFsTm90RmlsdGVyZWRGaWVsZF0sdGhpcy5mb290ZXJEYXRhPWlbdGhpcy5vcHRpb25zLmZvb3RlckZpZWxkXT9baVt0aGlzLm9wdGlvbnMuZm9vdGVyRmllbGRdXTp2b2lkIDApLGU9aS5maXhlZFNjcm9sbCxpPUFycmF5LmlzQXJyYXkoaSk/aTppW3RoaXMub3B0aW9ucy5kYXRhRmllbGRdLHRoaXMuaW5pdERhdGEoaSksdGhpcy5pbml0U2VhcmNoKCksdGhpcy5pbml0UGFnaW5hdGlvbigpLHRoaXMuaW5pdEJvZHkoZSl9fSx7a2V5OlwiYXBwZW5kXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5pbml0RGF0YSh0LFwiYXBwZW5kXCIpLHRoaXMuaW5pdFNlYXJjaCgpLHRoaXMuaW5pdFBhZ2luYXRpb24oKSx0aGlzLmluaXRTb3J0KCksdGhpcy5pbml0Qm9keSghMCl9fSx7a2V5OlwicHJlcGVuZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuaW5pdERhdGEodCxcInByZXBlbmRcIiksdGhpcy5pbml0U2VhcmNoKCksdGhpcy5pbml0UGFnaW5hdGlvbigpLHRoaXMuaW5pdFNvcnQoKSx0aGlzLmluaXRCb2R5KCEwKX19LHtrZXk6XCJyZW1vdmVcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxpPXRoaXMub3B0aW9ucy5kYXRhLmxlbmd0aC0xO2k+PTA7aS0tKXt2YXIgbj10aGlzLm9wdGlvbnMuZGF0YVtpXSxvPWh2LmdldEl0ZW1GaWVsZChuLHQuZmllbGQsdGhpcy5vcHRpb25zLmVzY2FwZSxuLmVzY2FwZSk7dm9pZCAwPT09byYmXCIkaW5kZXhcIiE9PXQuZmllbGR8fCghbi5oYXNPd25Qcm9wZXJ0eSh0LmZpZWxkKSYmXCIkaW5kZXhcIj09PXQuZmllbGQmJnQudmFsdWVzLmluY2x1ZGVzKGkpfHx0LnZhbHVlcy5pbmNsdWRlcyhvKSkmJihlKyssdGhpcy5vcHRpb25zLmRhdGEuc3BsaWNlKGksMSkpfWUmJihcInNlcnZlclwiPT09dGhpcy5vcHRpb25zLnNpZGVQYWdpbmF0aW9uJiYodGhpcy5vcHRpb25zLnRvdGFsUm93cy09ZSx0aGlzLmRhdGE9bCh0aGlzLm9wdGlvbnMuZGF0YSkpLHRoaXMuaW5pdFNlYXJjaCgpLHRoaXMuaW5pdFBhZ2luYXRpb24oKSx0aGlzLmluaXRTb3J0KCksdGhpcy5pbml0Qm9keSghMCkpfX0se2tleTpcInJlbW92ZUFsbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmRhdGEubGVuZ3RoPjAmJih0aGlzLm9wdGlvbnMuZGF0YS5zcGxpY2UoMCx0aGlzLm9wdGlvbnMuZGF0YS5sZW5ndGgpLHRoaXMuaW5pdFNlYXJjaCgpLHRoaXMuaW5pdFBhZ2luYXRpb24oKSx0aGlzLmluaXRCb2R5KCEwKSl9fSx7a2V5OlwiaW5zZXJ0Um93XCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5oYXNPd25Qcm9wZXJ0eShcImluZGV4XCIpJiZ0Lmhhc093blByb3BlcnR5KFwicm93XCIpJiYodGhpcy5vcHRpb25zLmRhdGEuc3BsaWNlKHQuaW5kZXgsMCx0LnJvdyksdGhpcy5pbml0U2VhcmNoKCksdGhpcy5pbml0UGFnaW5hdGlvbigpLHRoaXMuaW5pdFNvcnQoKSx0aGlzLmluaXRCb2R5KCEwKSl9fSx7a2V5OlwidXBkYXRlUm93XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsbj11KEFycmF5LmlzQXJyYXkodCk/dDpbdF0pO3RyeXtmb3Iobi5zKCk7IShlPW4ubigpKS5kb25lOyl7dmFyIG89ZS52YWx1ZTtvLmhhc093blByb3BlcnR5KFwiaW5kZXhcIikmJm8uaGFzT3duUHJvcGVydHkoXCJyb3dcIikmJihvLmhhc093blByb3BlcnR5KFwicmVwbGFjZVwiKSYmby5yZXBsYWNlP3RoaXMub3B0aW9ucy5kYXRhW28uaW5kZXhdPW8ucm93OmkuZGVmYXVsdC5leHRlbmQodGhpcy5vcHRpb25zLmRhdGFbby5pbmRleF0sby5yb3cpKX19Y2F0Y2godCl7bi5lKHQpfWZpbmFsbHl7bi5mKCl9dGhpcy5pbml0U2VhcmNoKCksdGhpcy5pbml0UGFnaW5hdGlvbigpLHRoaXMuaW5pdFNvcnQoKSx0aGlzLmluaXRCb2R5KCEwKX19LHtrZXk6XCJnZXRSb3dCeVVuaXF1ZUlkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsaSxuPXRoaXMub3B0aW9ucy51bmlxdWVJZCxvPXQsYT1udWxsO2ZvcihlPXRoaXMub3B0aW9ucy5kYXRhLmxlbmd0aC0xO2U+PTA7ZS0tKXtpPXRoaXMub3B0aW9ucy5kYXRhW2VdO3ZhciByPWh2LmdldEl0ZW1GaWVsZChpLG4sdGhpcy5vcHRpb25zLmVzY2FwZSxpLmVzY2FwZSk7aWYodm9pZCAwIT09ciYmKFwic3RyaW5nXCI9PXR5cGVvZiByP289by50b1N0cmluZygpOlwibnVtYmVyXCI9PXR5cGVvZiByJiYoTnVtYmVyKHIpPT09ciYmciUxPT0wP289cGFyc2VJbnQobywxMCk6cj09PU51bWJlcihyKSYmMCE9PXImJihvPXBhcnNlRmxvYXQobykpKSxyPT09bykpe2E9aTticmVha319cmV0dXJuIGF9fSx7a2V5OlwidXBkYXRlQnlVbmlxdWVJZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLG49bnVsbCxvPXUoQXJyYXkuaXNBcnJheSh0KT90Olt0XSk7dHJ5e2ZvcihvLnMoKTshKGU9by5uKCkpLmRvbmU7KXt2YXIgYT1lLnZhbHVlO2lmKGEuaGFzT3duUHJvcGVydHkoXCJpZFwiKSYmYS5oYXNPd25Qcm9wZXJ0eShcInJvd1wiKSl7dmFyIHI9dGhpcy5vcHRpb25zLmRhdGEuaW5kZXhPZih0aGlzLmdldFJvd0J5VW5pcXVlSWQoYS5pZCkpOy0xIT09ciYmKGEuaGFzT3duUHJvcGVydHkoXCJyZXBsYWNlXCIpJiZhLnJlcGxhY2U/dGhpcy5vcHRpb25zLmRhdGFbcl09YS5yb3c6aS5kZWZhdWx0LmV4dGVuZCh0aGlzLm9wdGlvbnMuZGF0YVtyXSxhLnJvdyksbj1hLmlkKX19fWNhdGNoKHQpe28uZSh0KX1maW5hbGx5e28uZigpfXRoaXMuaW5pdFNlYXJjaCgpLHRoaXMuaW5pdFBhZ2luYXRpb24oKSx0aGlzLmluaXRTb3J0KCksdGhpcy5pbml0Qm9keSghMCxuKX19LHtrZXk6XCJyZW1vdmVCeVVuaXF1ZUlkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLmRhdGEubGVuZ3RoLGk9dGhpcy5nZXRSb3dCeVVuaXF1ZUlkKHQpO2kmJnRoaXMub3B0aW9ucy5kYXRhLnNwbGljZSh0aGlzLm9wdGlvbnMuZGF0YS5pbmRleE9mKGkpLDEpLGUhPT10aGlzLm9wdGlvbnMuZGF0YS5sZW5ndGgmJihcInNlcnZlclwiPT09dGhpcy5vcHRpb25zLnNpZGVQYWdpbmF0aW9uJiYodGhpcy5vcHRpb25zLnRvdGFsUm93cy09MSx0aGlzLmRhdGE9bCh0aGlzLm9wdGlvbnMuZGF0YSkpLHRoaXMuaW5pdFNlYXJjaCgpLHRoaXMuaW5pdFBhZ2luYXRpb24oKSx0aGlzLmluaXRCb2R5KCEwKSl9fSx7a2V5OlwiX3VwZGF0ZUNlbGxPbmx5XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmluaXRSb3codGhpcy5vcHRpb25zLmRhdGFbZV0sZSksbz10aGlzLmdldFZpc2libGVGaWVsZHMoKS5pbmRleE9mKHQpOy0xIT09byYmKG8rPWh2LmdldERldGFpbFZpZXdJbmRleE9mZnNldCh0aGlzLm9wdGlvbnMpLHRoaXMuJGJvZHkuZmluZChcIj50cltkYXRhLWluZGV4PVwiLmNvbmNhdChlLFwiXVwiKSkuZmluZChcIj50ZDplcShcIi5jb25jYXQobyxcIilcIikpLnJlcGxhY2VXaXRoKGkuZGVmYXVsdChuKS5maW5kKFwiPnRkOmVxKFwiLmNvbmNhdChvLFwiKVwiKSkpLHRoaXMuaW5pdEJvZHlFdmVudCgpLHRoaXMuaW5pdEZvb3RlcigpLHRoaXMucmVzZXRWaWV3KCksdGhpcy51cGRhdGVTZWxlY3RlZCgpKX19LHtrZXk6XCJ1cGRhdGVDZWxsXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5oYXNPd25Qcm9wZXJ0eShcImluZGV4XCIpJiZ0Lmhhc093blByb3BlcnR5KFwiZmllbGRcIikmJnQuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKSYmKHRoaXMub3B0aW9ucy5kYXRhW3QuaW5kZXhdW3QuZmllbGRdPXQudmFsdWUsITEhPT10LnJlaW5pdD8odGhpcy5pbml0U29ydCgpLHRoaXMuaW5pdEJvZHkoITApKTp0aGlzLl91cGRhdGVDZWxsT25seSh0LmZpZWxkLHQuaW5kZXgpKX19LHtrZXk6XCJ1cGRhdGVDZWxsQnlVbmlxdWVJZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7KEFycmF5LmlzQXJyYXkodCk/dDpbdF0pLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBpPXQuaWQsbj10LmZpZWxkLG89dC52YWx1ZSxhPWUub3B0aW9ucy5kYXRhLmluZGV4T2YoZS5nZXRSb3dCeVVuaXF1ZUlkKGkpKTstMSE9PWEmJihlLm9wdGlvbnMuZGF0YVthXVtuXT1vKX0pKSwhMSE9PXQucmVpbml0Pyh0aGlzLmluaXRTb3J0KCksdGhpcy5pbml0Qm9keSghMCkpOnRoaXMuX3VwZGF0ZUNlbGxPbmx5KHQuZmllbGQsdGhpcy5vcHRpb25zLmRhdGEuaW5kZXhPZih0aGlzLmdldFJvd0J5VW5pcXVlSWQodC5pZCkpKX19LHtrZXk6XCJzaG93Um93XCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fdG9nZ2xlUm93KHQsITApfX0se2tleTpcImhpZGVSb3dcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl90b2dnbGVSb3codCwhMSl9fSx7a2V5OlwiX3RvZ2dsZVJvd1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk7aWYodC5oYXNPd25Qcm9wZXJ0eShcImluZGV4XCIpP2k9dGhpcy5nZXREYXRhKClbdC5pbmRleF06dC5oYXNPd25Qcm9wZXJ0eShcInVuaXF1ZUlkXCIpJiYoaT10aGlzLmdldFJvd0J5VW5pcXVlSWQodC51bmlxdWVJZCkpLGkpe3ZhciBuPWh2LmZpbmRJbmRleCh0aGlzLmhpZGRlblJvd3MsaSk7ZXx8LTEhPT1uP2UmJm4+LTEmJnRoaXMuaGlkZGVuUm93cy5zcGxpY2UobiwxKTp0aGlzLmhpZGRlblJvd3MucHVzaChpKSx0aGlzLmluaXRCb2R5KCEwKSx0aGlzLmluaXRQYWdpbmF0aW9uKCl9fX0se2tleTpcImdldEhpZGRlblJvd3NcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0KXJldHVybiB0aGlzLmluaXRIaWRkZW5Sb3dzKCksdGhpcy5pbml0Qm9keSghMCksdm9pZCB0aGlzLmluaXRQYWdpbmF0aW9uKCk7dmFyIGUsaT1bXSxuPXUodGhpcy5nZXREYXRhKCkpO3RyeXtmb3Iobi5zKCk7IShlPW4ubigpKS5kb25lOyl7dmFyIG89ZS52YWx1ZTt0aGlzLmhpZGRlblJvd3MuaW5jbHVkZXMobykmJmkucHVzaChvKX19Y2F0Y2godCl7bi5lKHQpfWZpbmFsbHl7bi5mKCl9cmV0dXJuIHRoaXMuaGlkZGVuUm93cz1pLGl9fSx7a2V5Olwic2hvd0NvbHVtblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7KEFycmF5LmlzQXJyYXkodCk/dDpbdF0pLmZvckVhY2goKGZ1bmN0aW9uKHQpe2UuX3RvZ2dsZUNvbHVtbihlLmZpZWxkc0NvbHVtbnNJbmRleFt0XSwhMCwhMCl9KSl9fSx7a2V5OlwiaGlkZUNvbHVtblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7KEFycmF5LmlzQXJyYXkodCk/dDpbdF0pLmZvckVhY2goKGZ1bmN0aW9uKHQpe2UuX3RvZ2dsZUNvbHVtbihlLmZpZWxkc0NvbHVtbnNJbmRleFt0XSwhMSwhMCl9KSl9fSx7a2V5OlwiX3RvZ2dsZUNvbHVtblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXtpZigtMSE9PXQmJnRoaXMuY29sdW1uc1t0XS52aXNpYmxlIT09ZSYmKHRoaXMuY29sdW1uc1t0XS52aXNpYmxlPWUsdGhpcy5pbml0SGVhZGVyKCksdGhpcy5pbml0U2VhcmNoKCksdGhpcy5pbml0UGFnaW5hdGlvbigpLHRoaXMuaW5pdEJvZHkoKSx0aGlzLm9wdGlvbnMuc2hvd0NvbHVtbnMpKXt2YXIgbj10aGlzLiR0b29sYmFyLmZpbmQoJy5rZWVwLW9wZW4gaW5wdXQ6bm90KFwiLnRvZ2dsZS1hbGxcIiknKS5wcm9wKFwiZGlzYWJsZWRcIiwhMSk7aSYmbi5maWx0ZXIoaHYuc3ByaW50ZignW3ZhbHVlPVwiJXNcIl0nLHQpKS5wcm9wKFwiY2hlY2tlZFwiLGUpLG4uZmlsdGVyKFwiOmNoZWNrZWRcIikubGVuZ3RoPD10aGlzLm9wdGlvbnMubWluaW11bUNvdW50Q29sdW1ucyYmbi5maWx0ZXIoXCI6Y2hlY2tlZFwiKS5wcm9wKFwiZGlzYWJsZWRcIiwhMCl9fX0se2tleTpcImdldFZpc2libGVDb2x1bW5zXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLmNvbHVtbnMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS52aXNpYmxlJiYhdC5pc1NlbGVjdGlvbkNvbHVtbihlKX0pKX19LHtrZXk6XCJnZXRIaWRkZW5Db2x1bW5zXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb2x1bW5zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIXQudmlzaWJsZX0pKX19LHtrZXk6XCJpc1NlbGVjdGlvbkNvbHVtblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnJhZGlvfHx0LmNoZWNrYm94fX0se2tleTpcInNob3dBbGxDb2x1bW5zXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl90b2dnbGVBbGxDb2x1bW5zKCEwKX19LHtrZXk6XCJoaWRlQWxsQ29sdW1uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdG9nZ2xlQWxsQ29sdW1ucyghMSl9fSx7a2V5OlwiX3RvZ2dsZUFsbENvbHVtbnNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxuPXRoaXMsbz11KHRoaXMuY29sdW1ucy5zbGljZSgpLnJldmVyc2UoKSk7dHJ5e2ZvcihvLnMoKTshKGU9by5uKCkpLmRvbmU7KXt2YXIgYT1lLnZhbHVlO2lmKGEuc3dpdGNoYWJsZSl7aWYoIXQmJnRoaXMub3B0aW9ucy5zaG93Q29sdW1ucyYmdGhpcy5nZXRWaXNpYmxlQ29sdW1ucygpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3dpdGNoYWJsZX0pKS5sZW5ndGg9PT10aGlzLm9wdGlvbnMubWluaW11bUNvdW50Q29sdW1ucyljb250aW51ZTthLnZpc2libGU9dH19fWNhdGNoKHQpe28uZSh0KX1maW5hbGx5e28uZigpfWlmKHRoaXMuaW5pdEhlYWRlcigpLHRoaXMuaW5pdFNlYXJjaCgpLHRoaXMuaW5pdFBhZ2luYXRpb24oKSx0aGlzLmluaXRCb2R5KCksdGhpcy5vcHRpb25zLnNob3dDb2x1bW5zKXt2YXIgcj10aGlzLiR0b29sYmFyLmZpbmQoJy5rZWVwLW9wZW4gaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdOm5vdChcIi50b2dnbGUtYWxsXCIpJykucHJvcChcImRpc2FibGVkXCIsITEpO3Q/ci5wcm9wKFwiY2hlY2tlZFwiLHQpOnIuZ2V0KCkucmV2ZXJzZSgpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3IuZmlsdGVyKFwiOmNoZWNrZWRcIikubGVuZ3RoPm4ub3B0aW9ucy5taW5pbXVtQ291bnRDb2x1bW5zJiZpLmRlZmF1bHQoZSkucHJvcChcImNoZWNrZWRcIix0KX0pKSxyLmZpbHRlcihcIjpjaGVja2VkXCIpLmxlbmd0aDw9dGhpcy5vcHRpb25zLm1pbmltdW1Db3VudENvbHVtbnMmJnIuZmlsdGVyKFwiOmNoZWNrZWRcIikucHJvcChcImRpc2FibGVkXCIsITApfX19LHtrZXk6XCJtZXJnZUNlbGxzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsaSxuPXQuaW5kZXgsbz10aGlzLmdldFZpc2libGVGaWVsZHMoKS5pbmRleE9mKHQuZmllbGQpLGE9dC5yb3dzcGFufHwxLHI9dC5jb2xzcGFufHwxLHM9dGhpcy4kYm9keS5maW5kKFwiPnRyW2RhdGEtaW5kZXhdXCIpO28rPWh2LmdldERldGFpbFZpZXdJbmRleE9mZnNldCh0aGlzLm9wdGlvbnMpO3ZhciBsPXMuZXEobikuZmluZChcIj50ZFwiKS5lcShvKTtpZighKG48MHx8bzwwfHxuPj10aGlzLmRhdGEubGVuZ3RoKSl7Zm9yKGU9bjtlPG4rYTtlKyspZm9yKGk9bztpPG8rcjtpKyspcy5lcShlKS5maW5kKFwiPnRkXCIpLmVxKGkpLmhpZGUoKTtsLmF0dHIoXCJyb3dzcGFuXCIsYSkuYXR0cihcImNvbHNwYW5cIixyKS5zaG93KCl9fX0se2tleTpcImNoZWNrQWxsXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl90b2dnbGVDaGVja0FsbCghMCl9fSx7a2V5OlwidW5jaGVja0FsbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdG9nZ2xlQ2hlY2tBbGwoITEpfX0se2tleTpcIl90b2dnbGVDaGVja0FsbFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0U2VsZWN0aW9ucygpO3RoaXMuJHNlbGVjdEFsbC5hZGQodGhpcy4kc2VsZWN0QWxsXykucHJvcChcImNoZWNrZWRcIix0KSx0aGlzLiRzZWxlY3RJdGVtLmZpbHRlcihcIjplbmFibGVkXCIpLnByb3AoXCJjaGVja2VkXCIsdCksdGhpcy51cGRhdGVSb3dzKCksdGhpcy51cGRhdGVTZWxlY3RlZCgpO3ZhciBpPXRoaXMuZ2V0U2VsZWN0aW9ucygpO3Q/dGhpcy50cmlnZ2VyKFwiY2hlY2stYWxsXCIsaSxlKTp0aGlzLnRyaWdnZXIoXCJ1bmNoZWNrLWFsbFwiLGksZSl9fSx7a2V5OlwiY2hlY2tJbnZlcnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuJHNlbGVjdEl0ZW0uZmlsdGVyKFwiOmVuYWJsZWRcIiksZT10LmZpbHRlcihcIjpjaGVja2VkXCIpO3QuZWFjaCgoZnVuY3Rpb24odCxlKXtpLmRlZmF1bHQoZSkucHJvcChcImNoZWNrZWRcIiwhaS5kZWZhdWx0KGUpLnByb3AoXCJjaGVja2VkXCIpKX0pKSx0aGlzLnVwZGF0ZVJvd3MoKSx0aGlzLnVwZGF0ZVNlbGVjdGVkKCksdGhpcy50cmlnZ2VyKFwidW5jaGVjay1zb21lXCIsZSksZT10aGlzLmdldFNlbGVjdGlvbnMoKSx0aGlzLnRyaWdnZXIoXCJjaGVjay1zb21lXCIsZSl9fSx7a2V5OlwiY2hlY2tcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl90b2dnbGVDaGVjayghMCx0KX19LHtrZXk6XCJ1bmNoZWNrXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fdG9nZ2xlQ2hlY2soITEsdCl9fSx7a2V5OlwiX3RvZ2dsZUNoZWNrXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLiRzZWxlY3RJdGVtLmZpbHRlcignW2RhdGEtaW5kZXg9XCInLmNvbmNhdChlLCdcIl0nKSksbj10aGlzLmRhdGFbZV07aWYoaS5pcyhcIjpyYWRpb1wiKXx8dGhpcy5vcHRpb25zLnNpbmdsZVNlbGVjdHx8dGhpcy5vcHRpb25zLm11bHRpcGxlU2VsZWN0Um93JiYhdGhpcy5tdWx0aXBsZVNlbGVjdFJvd0N0cmxLZXkmJiF0aGlzLm11bHRpcGxlU2VsZWN0Um93U2hpZnRLZXkpe3ZhciBvLGE9dSh0aGlzLm9wdGlvbnMuZGF0YSk7dHJ5e2ZvcihhLnMoKTshKG89YS5uKCkpLmRvbmU7KXtvLnZhbHVlW3RoaXMuaGVhZGVyLnN0YXRlRmllbGRdPSExfX1jYXRjaCh0KXthLmUodCl9ZmluYWxseXthLmYoKX10aGlzLiRzZWxlY3RJdGVtLmZpbHRlcihcIjpjaGVja2VkXCIpLm5vdChpKS5wcm9wKFwiY2hlY2tlZFwiLCExKX1pZihuW3RoaXMuaGVhZGVyLnN0YXRlRmllbGRdPXQsdGhpcy5vcHRpb25zLm11bHRpcGxlU2VsZWN0Um93KXtpZih0aGlzLm11bHRpcGxlU2VsZWN0Um93U2hpZnRLZXkmJnRoaXMubXVsdGlwbGVTZWxlY3RSb3dMYXN0U2VsZWN0ZWRJbmRleD49MClmb3IodmFyIHI9cyh0aGlzLm11bHRpcGxlU2VsZWN0Um93TGFzdFNlbGVjdGVkSW5kZXg8ZT9bdGhpcy5tdWx0aXBsZVNlbGVjdFJvd0xhc3RTZWxlY3RlZEluZGV4LGVdOltlLHRoaXMubXVsdGlwbGVTZWxlY3RSb3dMYXN0U2VsZWN0ZWRJbmRleF0sMiksbD1yWzBdLGM9clsxXSxoPWwrMTtoPGM7aCsrKXRoaXMuZGF0YVtoXVt0aGlzLmhlYWRlci5zdGF0ZUZpZWxkXT0hMCx0aGlzLiRzZWxlY3RJdGVtLmZpbHRlcignW2RhdGEtaW5kZXg9XCInLmNvbmNhdChoLCdcIl0nKSkucHJvcChcImNoZWNrZWRcIiwhMCk7dGhpcy5tdWx0aXBsZVNlbGVjdFJvd0N0cmxLZXk9ITEsdGhpcy5tdWx0aXBsZVNlbGVjdFJvd1NoaWZ0S2V5PSExLHRoaXMubXVsdGlwbGVTZWxlY3RSb3dMYXN0U2VsZWN0ZWRJbmRleD10P2U6LTF9aS5wcm9wKFwiY2hlY2tlZFwiLHQpLHRoaXMudXBkYXRlU2VsZWN0ZWQoKSx0aGlzLnRyaWdnZXIodD9cImNoZWNrXCI6XCJ1bmNoZWNrXCIsdGhpcy5kYXRhW2VdLGkpfX0se2tleTpcImNoZWNrQnlcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl90b2dnbGVDaGVja0J5KCEwLHQpfX0se2tleTpcInVuY2hlY2tCeVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX3RvZ2dsZUNoZWNrQnkoITEsdCl9fSx7a2V5OlwiX3RvZ2dsZUNoZWNrQnlcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXM7aWYoZS5oYXNPd25Qcm9wZXJ0eShcImZpZWxkXCIpJiZlLmhhc093blByb3BlcnR5KFwidmFsdWVzXCIpKXt2YXIgbj1bXTt0aGlzLmRhdGEuZm9yRWFjaCgoZnVuY3Rpb24obyxhKXtpZighby5oYXNPd25Qcm9wZXJ0eShlLmZpZWxkKSlyZXR1cm4hMTtpZihlLnZhbHVlcy5pbmNsdWRlcyhvW2UuZmllbGRdKSl7dmFyIHI9aS4kc2VsZWN0SXRlbS5maWx0ZXIoXCI6ZW5hYmxlZFwiKS5maWx0ZXIoaHYuc3ByaW50ZignW2RhdGEtaW5kZXg9XCIlc1wiXScsYSkpLHM9ISFlLmhhc093blByb3BlcnR5KFwib25seUN1cnJlbnRQYWdlXCIpJiZlLm9ubHlDdXJyZW50UGFnZTtpZighKHI9dD9yLm5vdChcIjpjaGVja2VkXCIpOnIuZmlsdGVyKFwiOmNoZWNrZWRcIikpLmxlbmd0aCYmcylyZXR1cm47ci5wcm9wKFwiY2hlY2tlZFwiLHQpLG9baS5oZWFkZXIuc3RhdGVGaWVsZF09dCxuLnB1c2gobyksaS50cmlnZ2VyKHQ/XCJjaGVja1wiOlwidW5jaGVja1wiLG8scil9fSkpLHRoaXMudXBkYXRlU2VsZWN0ZWQoKSx0aGlzLnRyaWdnZXIodD9cImNoZWNrLXNvbWVcIjpcInVuY2hlY2stc29tZVwiLG4pfX19LHtrZXk6XCJyZWZyZXNoXCIsdmFsdWU6ZnVuY3Rpb24odCl7dCYmdC51cmwmJih0aGlzLm9wdGlvbnMudXJsPXQudXJsKSx0JiZ0LnBhZ2VOdW1iZXImJih0aGlzLm9wdGlvbnMucGFnZU51bWJlcj10LnBhZ2VOdW1iZXIpLHQmJnQucGFnZVNpemUmJih0aGlzLm9wdGlvbnMucGFnZVNpemU9dC5wYWdlU2l6ZSksdGhpcy50cmlnZ2VyKFwicmVmcmVzaFwiLHRoaXMuaW5pdFNlcnZlcih0JiZ0LnNpbGVudCx0JiZ0LnF1ZXJ5LHQmJnQudXJsKSl9fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy4kZWwuaW5zZXJ0QmVmb3JlKHRoaXMuJGNvbnRhaW5lciksaS5kZWZhdWx0KHRoaXMub3B0aW9ucy50b29sYmFyKS5pbnNlcnRCZWZvcmUodGhpcy4kZWwpLHRoaXMuJGNvbnRhaW5lci5uZXh0KCkucmVtb3ZlKCksdGhpcy4kY29udGFpbmVyLnJlbW92ZSgpLHRoaXMuJGVsLmh0bWwodGhpcy4kZWxfLmh0bWwoKSkuY3NzKFwibWFyZ2luLXRvcFwiLFwiMFwiKS5hdHRyKFwiY2xhc3NcIix0aGlzLiRlbF8uYXR0cihcImNsYXNzXCIpfHxcIlwiKTt2YXIgdD1odi5nZXRFdmVudE5hbWUoXCJyZXNpemUuYm9vdHN0cmFwLXRhYmxlXCIsdGhpcy4kZWwuYXR0cihcImlkXCIpKTtpLmRlZmF1bHQod2luZG93KS5vZmYodCl9fSx7a2V5OlwicmVzZXRWaWV3XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9MDtpZih0JiZ0LmhlaWdodCYmKHRoaXMub3B0aW9ucy5oZWlnaHQ9dC5oZWlnaHQpLHRoaXMuJHRhYmxlQ29udGFpbmVyLnRvZ2dsZUNsYXNzKFwiaGFzLWNhcmQtdmlld1wiLHRoaXMub3B0aW9ucy5jYXJkVmlldyksdGhpcy5vcHRpb25zLmhlaWdodCl7dmFyIGk9dGhpcy4kdGFibGVCb2R5LmdldCgwKTt0aGlzLmhhc1Njcm9sbEJhcj1pLnNjcm9sbFdpZHRoPmkuY2xpZW50V2lkdGh9aWYoIXRoaXMub3B0aW9ucy5jYXJkVmlldyYmdGhpcy5vcHRpb25zLnNob3dIZWFkZXImJnRoaXMub3B0aW9ucy5oZWlnaHQ/KHRoaXMuJHRhYmxlSGVhZGVyLnNob3coKSx0aGlzLnJlc2V0SGVhZGVyKCksZSs9dGhpcy4kaGVhZGVyLm91dGVySGVpZ2h0KCEwKSsxKToodGhpcy4kdGFibGVIZWFkZXIuaGlkZSgpLHRoaXMudHJpZ2dlcihcInBvc3QtaGVhZGVyXCIpKSwhdGhpcy5vcHRpb25zLmNhcmRWaWV3JiZ0aGlzLm9wdGlvbnMuc2hvd0Zvb3RlciYmKHRoaXMuJHRhYmxlRm9vdGVyLnNob3coKSx0aGlzLmZpdEZvb3RlcigpLHRoaXMub3B0aW9ucy5oZWlnaHQmJihlKz10aGlzLiR0YWJsZUZvb3Rlci5vdXRlckhlaWdodCghMCkpKSx0aGlzLiRjb250YWluZXIuaGFzQ2xhc3MoXCJmdWxsc2NyZWVuXCIpKXRoaXMuJHRhYmxlQ29udGFpbmVyLmNzcyhcImhlaWdodFwiLFwiXCIpLHRoaXMuJHRhYmxlQ29udGFpbmVyLmNzcyhcIndpZHRoXCIsXCJcIik7ZWxzZSBpZih0aGlzLm9wdGlvbnMuaGVpZ2h0KXt0aGlzLiR0YWJsZUJvcmRlciYmKHRoaXMuJHRhYmxlQm9yZGVyLmNzcyhcIndpZHRoXCIsXCJcIiksdGhpcy4kdGFibGVCb3JkZXIuY3NzKFwiaGVpZ2h0XCIsXCJcIikpO3ZhciBuPXRoaXMuJHRvb2xiYXIub3V0ZXJIZWlnaHQoITApLG89dGhpcy4kcGFnaW5hdGlvbi5vdXRlckhlaWdodCghMCksYT10aGlzLm9wdGlvbnMuaGVpZ2h0LW4tbyxyPXRoaXMuJHRhYmxlQm9keS5maW5kKFwiPnRhYmxlXCIpLHM9ci5vdXRlckhlaWdodCgpO2lmKHRoaXMuJHRhYmxlQ29udGFpbmVyLmNzcyhcImhlaWdodFwiLFwiXCIuY29uY2F0KGEsXCJweFwiKSksdGhpcy4kdGFibGVCb3JkZXImJnIuaXMoXCI6dmlzaWJsZVwiKSl7dmFyIGw9YS1zLTI7dGhpcy5oYXNTY3JvbGxCYXImJihsLT1odi5nZXRTY3JvbGxCYXJXaWR0aCgpKSx0aGlzLiR0YWJsZUJvcmRlci5jc3MoXCJ3aWR0aFwiLFwiXCIuY29uY2F0KHIub3V0ZXJXaWR0aCgpLFwicHhcIikpLHRoaXMuJHRhYmxlQm9yZGVyLmNzcyhcImhlaWdodFwiLFwiXCIuY29uY2F0KGwsXCJweFwiKSl9fXRoaXMub3B0aW9ucy5jYXJkVmlldz8odGhpcy4kZWwuY3NzKFwibWFyZ2luLXRvcFwiLFwiMFwiKSx0aGlzLiR0YWJsZUNvbnRhaW5lci5jc3MoXCJwYWRkaW5nLWJvdHRvbVwiLFwiMFwiKSx0aGlzLiR0YWJsZUZvb3Rlci5oaWRlKCkpOih0aGlzLmdldENhcmV0KCksdGhpcy4kdGFibGVDb250YWluZXIuY3NzKFwicGFkZGluZy1ib3R0b21cIixcIlwiLmNvbmNhdChlLFwicHhcIikpKSx0aGlzLnRyaWdnZXIoXCJyZXNldC12aWV3XCIpfX0se2tleTpcInNob3dMb2FkaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLiR0YWJsZUxvYWRpbmcudG9nZ2xlQ2xhc3MoXCJvcGVuXCIsITApO3ZhciB0PXRoaXMub3B0aW9ucy5sb2FkaW5nRm9udFNpemU7XCJhdXRvXCI9PT10aGlzLm9wdGlvbnMubG9hZGluZ0ZvbnRTaXplJiYodD0uMDQqdGhpcy4kdGFibGVMb2FkaW5nLndpZHRoKCksdD1NYXRoLm1heCgxMix0KSx0PU1hdGgubWluKDMyLHQpLHQ9XCJcIi5jb25jYXQodCxcInB4XCIpKSx0aGlzLiR0YWJsZUxvYWRpbmcuZmluZChcIi5sb2FkaW5nLXRleHRcIikuY3NzKFwiZm9udC1zaXplXCIsdCl9fSx7a2V5OlwiaGlkZUxvYWRpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuJHRhYmxlTG9hZGluZy50b2dnbGVDbGFzcyhcIm9wZW5cIiwhMSl9fSx7a2V5OlwidG9nZ2xlUGFnaW5hdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnBhZ2luYXRpb249IXRoaXMub3B0aW9ucy5wYWdpbmF0aW9uO3ZhciB0PXRoaXMub3B0aW9ucy5zaG93QnV0dG9uSWNvbnM/dGhpcy5vcHRpb25zLnBhZ2luYXRpb24/dGhpcy5vcHRpb25zLmljb25zLnBhZ2luYXRpb25Td2l0Y2hEb3duOnRoaXMub3B0aW9ucy5pY29ucy5wYWdpbmF0aW9uU3dpdGNoVXA6XCJcIixlPXRoaXMub3B0aW9ucy5zaG93QnV0dG9uVGV4dD90aGlzLm9wdGlvbnMucGFnaW5hdGlvbj90aGlzLm9wdGlvbnMuZm9ybWF0UGFnaW5hdGlvblN3aXRjaFVwKCk6dGhpcy5vcHRpb25zLmZvcm1hdFBhZ2luYXRpb25Td2l0Y2hEb3duKCk6XCJcIjt0aGlzLiR0b29sYmFyLmZpbmQoJ2J1dHRvbltuYW1lPVwicGFnaW5hdGlvblN3aXRjaFwiXScpLmh0bWwoXCJcIi5jb25jYXQoaHYuc3ByaW50Zih0aGlzLmNvbnN0YW50cy5odG1sLmljb24sdGhpcy5vcHRpb25zLmljb25zUHJlZml4LHQpLFwiIFwiKS5jb25jYXQoZSkpLHRoaXMudXBkYXRlUGFnaW5hdGlvbigpLHRoaXMudHJpZ2dlcihcInRvZ2dsZS1wYWdpbmF0aW9uXCIsdGhpcy5vcHRpb25zLnBhZ2luYXRpb24pfX0se2tleTpcInRvZ2dsZUZ1bGxzY3JlZW5cIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuJGVsLmNsb3Nlc3QoXCIuYm9vdHN0cmFwLXRhYmxlXCIpLnRvZ2dsZUNsYXNzKFwiZnVsbHNjcmVlblwiKSx0aGlzLnJlc2V0VmlldygpfX0se2tleTpcInRvZ2dsZVZpZXdcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5jYXJkVmlldz0hdGhpcy5vcHRpb25zLmNhcmRWaWV3LHRoaXMuaW5pdEhlYWRlcigpO3ZhciB0PXRoaXMub3B0aW9ucy5zaG93QnV0dG9uSWNvbnM/dGhpcy5vcHRpb25zLmNhcmRWaWV3P3RoaXMub3B0aW9ucy5pY29ucy50b2dnbGVPbjp0aGlzLm9wdGlvbnMuaWNvbnMudG9nZ2xlT2ZmOlwiXCIsZT10aGlzLm9wdGlvbnMuc2hvd0J1dHRvblRleHQ/dGhpcy5vcHRpb25zLmNhcmRWaWV3P3RoaXMub3B0aW9ucy5mb3JtYXRUb2dnbGVPZmYoKTp0aGlzLm9wdGlvbnMuZm9ybWF0VG9nZ2xlT24oKTpcIlwiO3RoaXMuJHRvb2xiYXIuZmluZCgnYnV0dG9uW25hbWU9XCJ0b2dnbGVcIl0nKS5odG1sKFwiXCIuY29uY2F0KGh2LnNwcmludGYodGhpcy5jb25zdGFudHMuaHRtbC5pY29uLHRoaXMub3B0aW9ucy5pY29uc1ByZWZpeCx0KSxcIiBcIikuY29uY2F0KGUpKS5hdHRyKFwiYXJpYS1sYWJlbFwiLGUpLmF0dHIoXCJ0aXRsZVwiLGUpLHRoaXMuaW5pdEJvZHkoKSx0aGlzLnRyaWdnZXIoXCJ0b2dnbGVcIix0aGlzLm9wdGlvbnMuY2FyZFZpZXcpfX0se2tleTpcInJlc2V0U2VhcmNoXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9aHYuZ2V0U2VhcmNoSW5wdXQodGhpcyksaT10fHxcIlwiO2UudmFsKGkpLHRoaXMuc2VhcmNoVGV4dD1pLHRoaXMub25TZWFyY2goe2N1cnJlbnRUYXJnZXQ6ZX0sITEpfX0se2tleTpcImZpbHRlckJ5XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmZpbHRlck9wdGlvbnM9aHYuaXNFbXB0eU9iamVjdChlKT90aGlzLm9wdGlvbnMuZmlsdGVyT3B0aW9uczppLmRlZmF1bHQuZXh0ZW5kKHRoaXMub3B0aW9ucy5maWx0ZXJPcHRpb25zLGUpLHRoaXMuZmlsdGVyQ29sdW1ucz1odi5pc0VtcHR5T2JqZWN0KHQpP3t9OnQsdGhpcy5vcHRpb25zLnBhZ2VOdW1iZXI9MSx0aGlzLmluaXRTZWFyY2goKSx0aGlzLnVwZGF0ZVBhZ2luYXRpb24oKX19LHtrZXk6XCJzY3JvbGxUb1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXt1bml0OlwicHhcIix2YWx1ZTowfTtcIm9iamVjdFwiPT09bih0KT9lPU9iamVjdC5hc3NpZ24oZSx0KTpcInN0cmluZ1wiPT10eXBlb2YgdCYmXCJib3R0b21cIj09PXQ/ZS52YWx1ZT10aGlzLiR0YWJsZUJvZHlbMF0uc2Nyb2xsSGVpZ2h0Olwic3RyaW5nXCIhPXR5cGVvZiB0JiZcIm51bWJlclwiIT10eXBlb2YgdHx8KGUudmFsdWU9dCk7dmFyIG89ZS52YWx1ZTtcInJvd3NcIj09PWUudW5pdCYmKG89MCx0aGlzLiRib2R5LmZpbmQoXCI+IHRyOmx0KFwiLmNvbmNhdChlLnZhbHVlLFwiKVwiKSkuZWFjaCgoZnVuY3Rpb24odCxlKXtvKz1pLmRlZmF1bHQoZSkub3V0ZXJIZWlnaHQoITApfSkpKSx0aGlzLiR0YWJsZUJvZHkuc2Nyb2xsVG9wKG8pfX0se2tleTpcImdldFNjcm9sbFBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kdGFibGVCb2R5LnNjcm9sbFRvcCgpfX0se2tleTpcInNlbGVjdFBhZ2VcIix2YWx1ZTpmdW5jdGlvbih0KXt0PjAmJnQ8PXRoaXMub3B0aW9ucy50b3RhbFBhZ2VzJiYodGhpcy5vcHRpb25zLnBhZ2VOdW1iZXI9dCx0aGlzLnVwZGF0ZVBhZ2luYXRpb24oKSl9fSx7a2V5OlwicHJldlBhZ2VcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5wYWdlTnVtYmVyPjEmJih0aGlzLm9wdGlvbnMucGFnZU51bWJlci0tLHRoaXMudXBkYXRlUGFnaW5hdGlvbigpKX19LHtrZXk6XCJuZXh0UGFnZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnBhZ2VOdW1iZXI8dGhpcy5vcHRpb25zLnRvdGFsUGFnZXMmJih0aGlzLm9wdGlvbnMucGFnZU51bWJlcisrLHRoaXMudXBkYXRlUGFnaW5hdGlvbigpKX19LHtrZXk6XCJ0b2dnbGVEZXRhaWxWaWV3XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLiRib2R5LmZpbmQoaHYuc3ByaW50ZignPiB0cltkYXRhLWluZGV4PVwiJXNcIl0nLHQpKS5uZXh0KCkuaXMoXCJ0ci5kZXRhaWwtdmlld1wiKT90aGlzLmNvbGxhcHNlUm93KHQpOnRoaXMuZXhwYW5kUm93KHQsZSksdGhpcy5yZXNldFZpZXcoKX19LHtrZXk6XCJleHBhbmRSb3dcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZGF0YVt0XSxuPXRoaXMuJGJvZHkuZmluZChodi5zcHJpbnRmKCc+IHRyW2RhdGEtaW5kZXg9XCIlc1wiXVtkYXRhLWhhcy1kZXRhaWwtdmlld10nLHQpKTtpZih0aGlzLm9wdGlvbnMuZGV0YWlsVmlld0ljb24mJm4uZmluZChcImEuZGV0YWlsLWljb25cIikuaHRtbChodi5zcHJpbnRmKHRoaXMuY29uc3RhbnRzLmh0bWwuaWNvbix0aGlzLm9wdGlvbnMuaWNvbnNQcmVmaXgsdGhpcy5vcHRpb25zLmljb25zLmRldGFpbENsb3NlKSksIW4ubmV4dCgpLmlzKFwidHIuZGV0YWlsLXZpZXdcIikpe24uYWZ0ZXIoaHYuc3ByaW50ZignPHRyIGNsYXNzPVwiZGV0YWlsLXZpZXdcIj48dGQgY29sc3Bhbj1cIiVzXCI+PC90ZD48L3RyPicsbi5jaGlsZHJlbihcInRkXCIpLmxlbmd0aCkpO3ZhciBvPW4ubmV4dCgpLmZpbmQoXCJ0ZFwiKSxhPWV8fHRoaXMub3B0aW9ucy5kZXRhaWxGb3JtYXR0ZXIscj1odi5jYWxjdWxhdGVPYmplY3RWYWx1ZSh0aGlzLm9wdGlvbnMsYSxbdCxpLG9dLFwiXCIpOzE9PT1vLmxlbmd0aCYmby5hcHBlbmQociksdGhpcy50cmlnZ2VyKFwiZXhwYW5kLXJvd1wiLHQsaSxvKX19fSx7a2V5OlwiZXhwYW5kUm93QnlVbmlxdWVJZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0Um93QnlVbmlxdWVJZCh0KTtlJiZ0aGlzLmV4cGFuZFJvdyh0aGlzLmRhdGEuaW5kZXhPZihlKSl9fSx7a2V5OlwiY29sbGFwc2VSb3dcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmRhdGFbdF0saT10aGlzLiRib2R5LmZpbmQoaHYuc3ByaW50ZignPiB0cltkYXRhLWluZGV4PVwiJXNcIl1bZGF0YS1oYXMtZGV0YWlsLXZpZXddJyx0KSk7aS5uZXh0KCkuaXMoXCJ0ci5kZXRhaWwtdmlld1wiKSYmKHRoaXMub3B0aW9ucy5kZXRhaWxWaWV3SWNvbiYmaS5maW5kKFwiYS5kZXRhaWwtaWNvblwiKS5odG1sKGh2LnNwcmludGYodGhpcy5jb25zdGFudHMuaHRtbC5pY29uLHRoaXMub3B0aW9ucy5pY29uc1ByZWZpeCx0aGlzLm9wdGlvbnMuaWNvbnMuZGV0YWlsT3BlbikpLHRoaXMudHJpZ2dlcihcImNvbGxhcHNlLXJvd1wiLHQsZSxpLm5leHQoKSksaS5uZXh0KCkucmVtb3ZlKCkpfX0se2tleTpcImNvbGxhcHNlUm93QnlVbmlxdWVJZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0Um93QnlVbmlxdWVJZCh0KTtlJiZ0aGlzLmNvbGxhcHNlUm93KHRoaXMuZGF0YS5pbmRleE9mKGUpKX19LHtrZXk6XCJleHBhbmRBbGxSb3dzXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy4kYm9keS5maW5kKFwiPiB0cltkYXRhLWluZGV4XVtkYXRhLWhhcy1kZXRhaWwtdmlld11cIiksZT0wO2U8dC5sZW5ndGg7ZSsrKXRoaXMuZXhwYW5kUm93KGkuZGVmYXVsdCh0W2VdKS5kYXRhKFwiaW5kZXhcIikpfX0se2tleTpcImNvbGxhcHNlQWxsUm93c1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuJGJvZHkuZmluZChcIj4gdHJbZGF0YS1pbmRleF1bZGF0YS1oYXMtZGV0YWlsLXZpZXddXCIpLGU9MDtlPHQubGVuZ3RoO2UrKyl0aGlzLmNvbGxhcHNlUm93KGkuZGVmYXVsdCh0W2VdKS5kYXRhKFwiaW5kZXhcIikpfX0se2tleTpcInVwZGF0ZUNvbHVtblRpdGxlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5oYXNPd25Qcm9wZXJ0eShcImZpZWxkXCIpJiZ0Lmhhc093blByb3BlcnR5KFwidGl0bGVcIikmJih0aGlzLmNvbHVtbnNbdGhpcy5maWVsZHNDb2x1bW5zSW5kZXhbdC5maWVsZF1dLnRpdGxlPXRoaXMub3B0aW9ucy5lc2NhcGU/aHYuZXNjYXBlSFRNTCh0LnRpdGxlKTp0LnRpdGxlLHRoaXMuY29sdW1uc1t0aGlzLmZpZWxkc0NvbHVtbnNJbmRleFt0LmZpZWxkXV0udmlzaWJsZSYmKHRoaXMuJGhlYWRlci5maW5kKFwidGhbZGF0YS1maWVsZF1cIikuZWFjaCgoZnVuY3Rpb24oZSxuKXtpZihpLmRlZmF1bHQobikuZGF0YShcImZpZWxkXCIpPT09dC5maWVsZClyZXR1cm4gaS5kZWZhdWx0KGkuZGVmYXVsdChuKS5maW5kKFwiLnRoLWlubmVyXCIpWzBdKS50ZXh0KHQudGl0bGUpLCExfSkpLHRoaXMucmVzZXRWaWV3KCkpKX19LHtrZXk6XCJ1cGRhdGVGb3JtYXRUZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXsvXmZvcm1hdC8udGVzdCh0KSYmdGhpcy5vcHRpb25zW3RdJiYoXCJzdHJpbmdcIj09dHlwZW9mIGU/dGhpcy5vcHRpb25zW3RdPWZ1bmN0aW9uKCl7cmV0dXJuIGV9OlwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJih0aGlzLm9wdGlvbnNbdF09ZSksdGhpcy5pbml0VG9vbGJhcigpLHRoaXMuaW5pdFBhZ2luYXRpb24oKSx0aGlzLmluaXRCb2R5KCkpfX1dKSx0fSgpO3JldHVybiBtdi5WRVJTSU9OPXZ2LlZFUlNJT04sbXYuREVGQVVMVFM9dnYuREVGQVVMVFMsbXYuTE9DQUxFUz12di5MT0NBTEVTLG12LkNPTFVNTl9ERUZBVUxUUz12di5DT0xVTU5fREVGQVVMVFMsbXYuTUVUSE9EUz12di5NRVRIT0RTLG12LkVWRU5UUz12di5FVkVOVFMsaS5kZWZhdWx0LkJvb3RzdHJhcFRhYmxlPW12LGkuZGVmYXVsdC5mbi5ib290c3RyYXBUYWJsZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxvPW5ldyBBcnJheShlPjE/ZS0xOjApLGE9MTthPGU7YSsrKW9bYS0xXT1hcmd1bWVudHNbYV07dmFyIHI7cmV0dXJuIHRoaXMuZWFjaCgoZnVuY3Rpb24oZSxhKXt2YXIgcz1pLmRlZmF1bHQoYSkuZGF0YShcImJvb3RzdHJhcC50YWJsZVwiKSxsPWkuZGVmYXVsdC5leHRlbmQoITAse30sbXYuREVGQVVMVFMsaS5kZWZhdWx0KGEpLmRhdGEoKSxcIm9iamVjdFwiPT09bih0KSYmdCk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe3ZhciBjO2lmKCF2di5NRVRIT0RTLmluY2x1ZGVzKHQpKXRocm93IG5ldyBFcnJvcihcIlVua25vd24gbWV0aG9kOiBcIi5jb25jYXQodCkpO2lmKCFzKXJldHVybjtyPShjPXMpW3RdLmFwcGx5KGMsbyksXCJkZXN0cm95XCI9PT10JiZpLmRlZmF1bHQoYSkucmVtb3ZlRGF0YShcImJvb3RzdHJhcC50YWJsZVwiKX1zfHwocz1uZXcgaS5kZWZhdWx0LkJvb3RzdHJhcFRhYmxlKGEsbCksaS5kZWZhdWx0KGEpLmRhdGEoXCJib290c3RyYXAudGFibGVcIixzKSxzLmluaXQoKSl9KSksdm9pZCAwPT09cj90aGlzOnJ9LGkuZGVmYXVsdC5mbi5ib290c3RyYXBUYWJsZS5Db25zdHJ1Y3Rvcj1tdixpLmRlZmF1bHQuZm4uYm9vdHN0cmFwVGFibGUudGhlbWU9dnYuVEhFTUUsaS5kZWZhdWx0LmZuLmJvb3RzdHJhcFRhYmxlLlZFUlNJT049dnYuVkVSU0lPTixpLmRlZmF1bHQuZm4uYm9vdHN0cmFwVGFibGUuZGVmYXVsdHM9bXYuREVGQVVMVFMsaS5kZWZhdWx0LmZuLmJvb3RzdHJhcFRhYmxlLmNvbHVtbkRlZmF1bHRzPW12LkNPTFVNTl9ERUZBVUxUUyxpLmRlZmF1bHQuZm4uYm9vdHN0cmFwVGFibGUuZXZlbnRzPW12LkVWRU5UUyxpLmRlZmF1bHQuZm4uYm9vdHN0cmFwVGFibGUubG9jYWxlcz1tdi5MT0NBTEVTLGkuZGVmYXVsdC5mbi5ib290c3RyYXBUYWJsZS5tZXRob2RzPW12Lk1FVEhPRFMsaS5kZWZhdWx0LmZuLmJvb3RzdHJhcFRhYmxlLnV0aWxzPWh2LGkuZGVmYXVsdCgoZnVuY3Rpb24oKXtpLmRlZmF1bHQoJ1tkYXRhLXRvZ2dsZT1cInRhYmxlXCJdJykuYm9vdHN0cmFwVGFibGUoKX0pKSxtdn0pKTtcbiIsIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IGZhY3RvcnkocmVxdWlyZSgnanF1ZXJ5JykpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnanF1ZXJ5J10sIGZhY3RvcnkpIDpcbiAgKGdsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiBnbG9iYWwgfHwgc2VsZiwgZmFjdG9yeShnbG9iYWwualF1ZXJ5KSk7XG59KSh0aGlzLCAoZnVuY3Rpb24gKCQkNykgeyAndXNlIHN0cmljdCc7XG5cbiAgZnVuY3Rpb24gX2ludGVyb3BEZWZhdWx0TGVnYWN5IChlKSB7IHJldHVybiBlICYmIHR5cGVvZiBlID09PSAnb2JqZWN0JyAmJiAnZGVmYXVsdCcgaW4gZSA/IGUgOiB7ICdkZWZhdWx0JzogZSB9OyB9XG5cbiAgdmFyICRfX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BEZWZhdWx0TGVnYWN5KCQkNyk7XG5cbiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7XG4gICAgICB3cml0YWJsZTogZmFsc2VcbiAgICB9KTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH1cbiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICAgIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuICBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7XG4gICAgfVxuICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLCBcInByb3RvdHlwZVwiLCB7XG4gICAgICB3cml0YWJsZTogZmFsc2VcbiAgICB9KTtcbiAgICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbiAgfVxuICBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgICAgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTtcbiAgICB9O1xuICAgIHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7XG4gIH1cbiAgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICAgIG8uX19wcm90b19fID0gcDtcbiAgICAgIHJldHVybiBvO1xuICAgIH07XG4gICAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbiAgfVxuICBmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkge1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gICAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICAgIH1cbiAgICByZXR1cm4gc2VsZjtcbiAgfVxuICBmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gICAgaWYgKGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7XG4gICAgICByZXR1cm4gY2FsbDtcbiAgICB9IGVsc2UgaWYgKGNhbGwgIT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO1xuICAgIH1cbiAgICByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTtcbiAgfVxuICBmdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkge1xuICAgIHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpO1xuICAgIHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHtcbiAgICAgIHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSxcbiAgICAgICAgcmVzdWx0O1xuICAgICAgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHtcbiAgICAgICAgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjtcbiAgICAgICAgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIF9zdXBlclByb3BCYXNlKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgICB3aGlsZSAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkge1xuICAgICAgb2JqZWN0ID0gX2dldFByb3RvdHlwZU9mKG9iamVjdCk7XG4gICAgICBpZiAob2JqZWN0ID09PSBudWxsKSBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuICBmdW5jdGlvbiBfZ2V0KCkge1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBSZWZsZWN0LmdldCkge1xuICAgICAgX2dldCA9IFJlZmxlY3QuZ2V0LmJpbmQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX2dldCA9IGZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgdmFyIGJhc2UgPSBfc3VwZXJQcm9wQmFzZSh0YXJnZXQsIHByb3BlcnR5KTtcbiAgICAgICAgaWYgKCFiYXNlKSByZXR1cm47XG4gICAgICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlLCBwcm9wZXJ0eSk7XG4gICAgICAgIGlmIChkZXNjLmdldCkge1xuICAgICAgICAgIHJldHVybiBkZXNjLmdldC5jYWxsKGFyZ3VtZW50cy5sZW5ndGggPCAzID8gdGFyZ2V0IDogcmVjZWl2ZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZXNjLnZhbHVlO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIF9nZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuICBmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gICAgaWYgKCFvKSByZXR1cm47XG4gICAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gICAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIH1cbiAgZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG4gICAgcmV0dXJuIGFycjI7XG4gIH1cbiAgZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHtcbiAgICB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvW1wiQEBpdGVyYXRvclwiXTtcbiAgICBpZiAoIWl0KSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIGlmIChpdCkgbyA9IGl0O1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBGID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgczogRixcbiAgICAgICAgICBuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHtcbiAgICAgICAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgICAgICAgICB2YWx1ZTogb1tpKytdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmOiBGXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG4gICAgfVxuICAgIHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSxcbiAgICAgIGRpZEVyciA9IGZhbHNlLFxuICAgICAgZXJyO1xuICAgIHJldHVybiB7XG4gICAgICBzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGl0ID0gaXQuY2FsbChvKTtcbiAgICAgIH0sXG4gICAgICBuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGVwID0gaXQubmV4dCgpO1xuICAgICAgICBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lO1xuICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgIH0sXG4gICAgICBlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBkaWRFcnIgPSB0cnVlO1xuICAgICAgICBlcnIgPSBlO1xuICAgICAgfSxcbiAgICAgIGY6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXQucmV0dXJuICE9IG51bGwpIGl0LnJldHVybigpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmIChkaWRFcnIpIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICB2YXIgY29tbW9uanNHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB7fTtcblxuICB2YXIgY2hlY2sgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gaXQgJiYgaXQuTWF0aCA9PSBNYXRoICYmIGl0O1xuICB9O1xuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG4gIHZhciBnbG9iYWwkZSA9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLWdsb2JhbC10aGlzIC0tIHNhZmVcbiAgICBjaGVjayh0eXBlb2YgZ2xvYmFsVGhpcyA9PSAnb2JqZWN0JyAmJiBnbG9iYWxUaGlzKSB8fFxuICAgIGNoZWNrKHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93KSB8fFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgLS0gc2FmZVxuICAgIGNoZWNrKHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYpIHx8XG4gICAgY2hlY2sodHlwZW9mIGNvbW1vbmpzR2xvYmFsID09ICdvYmplY3QnICYmIGNvbW1vbmpzR2xvYmFsKSB8fFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuYyAtLSBmYWxsYmFja1xuICAgIChmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSgpIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbiAgdmFyIG9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IHt9O1xuXG4gIHZhciBmYWlscyRpID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuICEhZXhlYygpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGZhaWxzJGggPSBmYWlscyRpO1xuXG4gIC8vIERldGVjdCBJRTgncyBpbmNvbXBsZXRlIGRlZmluZVByb3BlcnR5IGltcGxlbWVudGF0aW9uXG4gIHZhciBkZXNjcmlwdG9ycyA9ICFmYWlscyRoKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gICAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgMSwgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH0gfSlbMV0gIT0gNztcbiAgfSk7XG5cbiAgdmFyIGZhaWxzJGcgPSBmYWlscyRpO1xuXG4gIHZhciBmdW5jdGlvbkJpbmROYXRpdmUgPSAhZmFpbHMkZyhmdW5jdGlvbiAoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLWZ1bmN0aW9uLXByb3RvdHlwZS1iaW5kIC0tIHNhZmVcbiAgICB2YXIgdGVzdCA9IChmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0pLmJpbmQoKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zIC0tIHNhZmVcbiAgICByZXR1cm4gdHlwZW9mIHRlc3QgIT0gJ2Z1bmN0aW9uJyB8fCB0ZXN0Lmhhc093blByb3BlcnR5KCdwcm90b3R5cGUnKTtcbiAgfSk7XG5cbiAgdmFyIE5BVElWRV9CSU5EJDMgPSBmdW5jdGlvbkJpbmROYXRpdmU7XG5cbiAgdmFyIGNhbGwkOSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsO1xuXG4gIHZhciBmdW5jdGlvbkNhbGwgPSBOQVRJVkVfQklORCQzID8gY2FsbCQ5LmJpbmQoY2FsbCQ5KSA6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY2FsbCQ5LmFwcGx5KGNhbGwkOSwgYXJndW1lbnRzKTtcbiAgfTtcblxuICB2YXIgb2JqZWN0UHJvcGVydHlJc0VudW1lcmFibGUgPSB7fTtcblxuICB2YXIgJHByb3BlcnR5SXNFbnVtZXJhYmxlID0ge30ucHJvcGVydHlJc0VudW1lcmFibGU7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yIC0tIHNhZmVcbiAgdmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciQxID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxuICAvLyBOYXNob3JuIH4gSkRLOCBidWdcbiAgdmFyIE5BU0hPUk5fQlVHID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJDEgJiYgISRwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHsgMTogMiB9LCAxKTtcblxuICAvLyBgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZWAgbWV0aG9kIGltcGxlbWVudGF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eWlzZW51bWVyYWJsZVxuICBvYmplY3RQcm9wZXJ0eUlzRW51bWVyYWJsZS5mID0gTkFTSE9STl9CVUcgPyBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShWKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IkMSh0aGlzLCBWKTtcbiAgICByZXR1cm4gISFkZXNjcmlwdG9yICYmIGRlc2NyaXB0b3IuZW51bWVyYWJsZTtcbiAgfSA6ICRwcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuICB2YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yJDMgPSBmdW5jdGlvbiAoYml0bWFwLCB2YWx1ZSkge1xuICAgIHJldHVybiB7XG4gICAgICBlbnVtZXJhYmxlOiAhKGJpdG1hcCAmIDEpLFxuICAgICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgICAgd3JpdGFibGU6ICEoYml0bWFwICYgNCksXG4gICAgICB2YWx1ZTogdmFsdWVcbiAgICB9O1xuICB9O1xuXG4gIHZhciBOQVRJVkVfQklORCQyID0gZnVuY3Rpb25CaW5kTmF0aXZlO1xuXG4gIHZhciBGdW5jdGlvblByb3RvdHlwZSQyID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuICB2YXIgY2FsbCQ4ID0gRnVuY3Rpb25Qcm90b3R5cGUkMi5jYWxsO1xuICB2YXIgdW5jdXJyeVRoaXNXaXRoQmluZCA9IE5BVElWRV9CSU5EJDIgJiYgRnVuY3Rpb25Qcm90b3R5cGUkMi5iaW5kLmJpbmQoY2FsbCQ4LCBjYWxsJDgpO1xuXG4gIHZhciBmdW5jdGlvblVuY3VycnlUaGlzUmF3ID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgcmV0dXJuIE5BVElWRV9CSU5EJDIgPyB1bmN1cnJ5VGhpc1dpdGhCaW5kKGZuKSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBjYWxsJDguYXBwbHkoZm4sIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgdW5jdXJyeVRoaXNSYXckMSA9IGZ1bmN0aW9uVW5jdXJyeVRoaXNSYXc7XG5cbiAgdmFyIHRvU3RyaW5nJDYgPSB1bmN1cnJ5VGhpc1JhdyQxKHt9LnRvU3RyaW5nKTtcbiAgdmFyIHN0cmluZ1NsaWNlJDQgPSB1bmN1cnJ5VGhpc1JhdyQxKCcnLnNsaWNlKTtcblxuICB2YXIgY2xhc3NvZlJhdyQyID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIHN0cmluZ1NsaWNlJDQodG9TdHJpbmckNihpdCksIDgsIC0xKTtcbiAgfTtcblxuICB2YXIgY2xhc3NvZlJhdyQxID0gY2xhc3NvZlJhdyQyO1xuICB2YXIgdW5jdXJyeVRoaXNSYXcgPSBmdW5jdGlvblVuY3VycnlUaGlzUmF3O1xuXG4gIHZhciBmdW5jdGlvblVuY3VycnlUaGlzID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgLy8gTmFzaG9ybiBidWc6XG4gICAgLy8gICBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMTEyOFxuICAgIC8vICAgaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzExMzBcbiAgICBpZiAoY2xhc3NvZlJhdyQxKGZuKSA9PT0gJ0Z1bmN0aW9uJykgcmV0dXJuIHVuY3VycnlUaGlzUmF3KGZuKTtcbiAgfTtcblxuICB2YXIgdW5jdXJyeVRoaXMkaCA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciBmYWlscyRmID0gZmFpbHMkaTtcbiAgdmFyIGNsYXNzb2YkNiA9IGNsYXNzb2ZSYXckMjtcblxuICB2YXIgJE9iamVjdCQzID0gT2JqZWN0O1xuICB2YXIgc3BsaXQgPSB1bmN1cnJ5VGhpcyRoKCcnLnNwbGl0KTtcblxuICAvLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xuICB2YXIgaW5kZXhlZE9iamVjdCA9IGZhaWxzJGYoZnVuY3Rpb24gKCkge1xuICAgIC8vIHRocm93cyBhbiBlcnJvciBpbiByaGlubywgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3JoaW5vL2lzc3Vlcy8zNDZcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zIC0tIHNhZmVcbiAgICByZXR1cm4gISRPYmplY3QkMygneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApO1xuICB9KSA/IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBjbGFzc29mJDYoaXQpID09ICdTdHJpbmcnID8gc3BsaXQoaXQsICcnKSA6ICRPYmplY3QkMyhpdCk7XG4gIH0gOiAkT2JqZWN0JDM7XG5cbiAgLy8gd2UgY2FuJ3QgdXNlIGp1c3QgYGl0ID09IG51bGxgIHNpbmNlIG9mIGBkb2N1bWVudC5hbGxgIHNwZWNpYWwgY2FzZVxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLUlzSFRNTEREQS1pbnRlcm5hbC1zbG90LWFlY1xuICB2YXIgaXNOdWxsT3JVbmRlZmluZWQkMyA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBpdCA9PT0gbnVsbCB8fCBpdCA9PT0gdW5kZWZpbmVkO1xuICB9O1xuXG4gIHZhciBpc051bGxPclVuZGVmaW5lZCQyID0gaXNOdWxsT3JVbmRlZmluZWQkMztcblxuICB2YXIgJFR5cGVFcnJvciQ3ID0gVHlwZUVycm9yO1xuXG4gIC8vIGBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlYCBhYnN0cmFjdCBvcGVyYXRpb25cbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1yZXF1aXJlb2JqZWN0Y29lcmNpYmxlXG4gIHZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlJDQgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICBpZiAoaXNOdWxsT3JVbmRlZmluZWQkMihpdCkpIHRocm93ICRUeXBlRXJyb3IkNyhcIkNhbid0IGNhbGwgbWV0aG9kIG9uIFwiICsgaXQpO1xuICAgIHJldHVybiBpdDtcbiAgfTtcblxuICAvLyB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xuICB2YXIgSW5kZXhlZE9iamVjdCQzID0gaW5kZXhlZE9iamVjdDtcbiAgdmFyIHJlcXVpcmVPYmplY3RDb2VyY2libGUkMyA9IHJlcXVpcmVPYmplY3RDb2VyY2libGUkNDtcblxuICB2YXIgdG9JbmRleGVkT2JqZWN0JDYgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gSW5kZXhlZE9iamVjdCQzKHJlcXVpcmVPYmplY3RDb2VyY2libGUkMyhpdCkpO1xuICB9O1xuXG4gIHZhciBkb2N1bWVudEFsbCQyID0gdHlwZW9mIGRvY3VtZW50ID09ICdvYmplY3QnICYmIGRvY3VtZW50LmFsbDtcblxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLUlzSFRNTEREQS1pbnRlcm5hbC1zbG90XG4gIHZhciBJU19IVE1MRERBID0gdHlwZW9mIGRvY3VtZW50QWxsJDIgPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnRBbGwkMiAhPT0gdW5kZWZpbmVkO1xuXG4gIHZhciBkb2N1bWVudEFsbF8xID0ge1xuICAgIGFsbDogZG9jdW1lbnRBbGwkMixcbiAgICBJU19IVE1MRERBOiBJU19IVE1MRERBXG4gIH07XG5cbiAgdmFyICRkb2N1bWVudEFsbCQxID0gZG9jdW1lbnRBbGxfMTtcblxuICB2YXIgZG9jdW1lbnRBbGwkMSA9ICRkb2N1bWVudEFsbCQxLmFsbDtcblxuICAvLyBgSXNDYWxsYWJsZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtaXNjYWxsYWJsZVxuICB2YXIgaXNDYWxsYWJsZSRlID0gJGRvY3VtZW50QWxsJDEuSVNfSFRNTEREQSA/IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHJldHVybiB0eXBlb2YgYXJndW1lbnQgPT0gJ2Z1bmN0aW9uJyB8fCBhcmd1bWVudCA9PT0gZG9jdW1lbnRBbGwkMTtcbiAgfSA6IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHJldHVybiB0eXBlb2YgYXJndW1lbnQgPT0gJ2Z1bmN0aW9uJztcbiAgfTtcblxuICB2YXIgaXNDYWxsYWJsZSRkID0gaXNDYWxsYWJsZSRlO1xuICB2YXIgJGRvY3VtZW50QWxsID0gZG9jdW1lbnRBbGxfMTtcblxuICB2YXIgZG9jdW1lbnRBbGwgPSAkZG9jdW1lbnRBbGwuYWxsO1xuXG4gIHZhciBpc09iamVjdCQ4ID0gJGRvY3VtZW50QWxsLklTX0hUTUxEREEgPyBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gdHlwZW9mIGl0ID09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiBpc0NhbGxhYmxlJGQoaXQpIHx8IGl0ID09PSBkb2N1bWVudEFsbDtcbiAgfSA6IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiB0eXBlb2YgaXQgPT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IGlzQ2FsbGFibGUkZChpdCk7XG4gIH07XG5cbiAgdmFyIGdsb2JhbCRkID0gZ2xvYmFsJGU7XG4gIHZhciBpc0NhbGxhYmxlJGMgPSBpc0NhbGxhYmxlJGU7XG5cbiAgdmFyIGFGdW5jdGlvbiA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHJldHVybiBpc0NhbGxhYmxlJGMoYXJndW1lbnQpID8gYXJndW1lbnQgOiB1bmRlZmluZWQ7XG4gIH07XG5cbiAgdmFyIGdldEJ1aWx0SW4kNSA9IGZ1bmN0aW9uIChuYW1lc3BhY2UsIG1ldGhvZCkge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoIDwgMiA/IGFGdW5jdGlvbihnbG9iYWwkZFtuYW1lc3BhY2VdKSA6IGdsb2JhbCRkW25hbWVzcGFjZV0gJiYgZ2xvYmFsJGRbbmFtZXNwYWNlXVttZXRob2RdO1xuICB9O1xuXG4gIHZhciB1bmN1cnJ5VGhpcyRnID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcblxuICB2YXIgb2JqZWN0SXNQcm90b3R5cGVPZiA9IHVuY3VycnlUaGlzJGcoe30uaXNQcm90b3R5cGVPZik7XG5cbiAgdmFyIGdldEJ1aWx0SW4kNCA9IGdldEJ1aWx0SW4kNTtcblxuICB2YXIgZW5naW5lVXNlckFnZW50ID0gZ2V0QnVpbHRJbiQ0KCduYXZpZ2F0b3InLCAndXNlckFnZW50JykgfHwgJyc7XG5cbiAgdmFyIGdsb2JhbCRjID0gZ2xvYmFsJGU7XG4gIHZhciB1c2VyQWdlbnQgPSBlbmdpbmVVc2VyQWdlbnQ7XG5cbiAgdmFyIHByb2Nlc3MgPSBnbG9iYWwkYy5wcm9jZXNzO1xuICB2YXIgRGVubyA9IGdsb2JhbCRjLkRlbm87XG4gIHZhciB2ZXJzaW9ucyA9IHByb2Nlc3MgJiYgcHJvY2Vzcy52ZXJzaW9ucyB8fCBEZW5vICYmIERlbm8udmVyc2lvbjtcbiAgdmFyIHY4ID0gdmVyc2lvbnMgJiYgdmVyc2lvbnMudjg7XG4gIHZhciBtYXRjaCwgdmVyc2lvbjtcblxuICBpZiAodjgpIHtcbiAgICBtYXRjaCA9IHY4LnNwbGl0KCcuJyk7XG4gICAgLy8gaW4gb2xkIENocm9tZSwgdmVyc2lvbnMgb2YgVjggaXNuJ3QgVjggPSBDaHJvbWUgLyAxMFxuICAgIC8vIGJ1dCB0aGVpciBjb3JyZWN0IHZlcnNpb25zIGFyZSBub3QgaW50ZXJlc3RpbmcgZm9yIHVzXG4gICAgdmVyc2lvbiA9IG1hdGNoWzBdID4gMCAmJiBtYXRjaFswXSA8IDQgPyAxIDogKyhtYXRjaFswXSArIG1hdGNoWzFdKTtcbiAgfVxuXG4gIC8vIEJyb3dzZXJGUyBOb2RlSlMgYHByb2Nlc3NgIHBvbHlmaWxsIGluY29ycmVjdGx5IHNldCBgLnY4YCB0byBgMC4wYFxuICAvLyBzbyBjaGVjayBgdXNlckFnZW50YCBldmVuIGlmIGAudjhgIGV4aXN0cywgYnV0IDBcbiAgaWYgKCF2ZXJzaW9uICYmIHVzZXJBZ2VudCkge1xuICAgIG1hdGNoID0gdXNlckFnZW50Lm1hdGNoKC9FZGdlXFwvKFxcZCspLyk7XG4gICAgaWYgKCFtYXRjaCB8fCBtYXRjaFsxXSA+PSA3NCkge1xuICAgICAgbWF0Y2ggPSB1c2VyQWdlbnQubWF0Y2goL0Nocm9tZVxcLyhcXGQrKS8pO1xuICAgICAgaWYgKG1hdGNoKSB2ZXJzaW9uID0gK21hdGNoWzFdO1xuICAgIH1cbiAgfVxuXG4gIHZhciBlbmdpbmVWOFZlcnNpb24gPSB2ZXJzaW9uO1xuXG4gIC8qIGVzbGludC1kaXNhYmxlIGVzL25vLXN5bWJvbCAtLSByZXF1aXJlZCBmb3IgdGVzdGluZyAqL1xuXG4gIHZhciBWOF9WRVJTSU9OJDIgPSBlbmdpbmVWOFZlcnNpb247XG4gIHZhciBmYWlscyRlID0gZmFpbHMkaTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5c3ltYm9scyAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICB2YXIgc3ltYm9sQ29uc3RydWN0b3JEZXRlY3Rpb24gPSAhIU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgJiYgIWZhaWxzJGUoZnVuY3Rpb24gKCkge1xuICAgIHZhciBzeW1ib2wgPSBTeW1ib2woKTtcbiAgICAvLyBDaHJvbWUgMzggU3ltYm9sIGhhcyBpbmNvcnJlY3QgdG9TdHJpbmcgY29udmVyc2lvblxuICAgIC8vIGBnZXQtb3duLXByb3BlcnR5LXN5bWJvbHNgIHBvbHlmaWxsIHN5bWJvbHMgY29udmVydGVkIHRvIG9iamVjdCBhcmUgbm90IFN5bWJvbCBpbnN0YW5jZXNcbiAgICByZXR1cm4gIVN0cmluZyhzeW1ib2wpIHx8ICEoT2JqZWN0KHN5bWJvbCkgaW5zdGFuY2VvZiBTeW1ib2wpIHx8XG4gICAgICAvLyBDaHJvbWUgMzgtNDAgc3ltYm9scyBhcmUgbm90IGluaGVyaXRlZCBmcm9tIERPTSBjb2xsZWN0aW9ucyBwcm90b3R5cGVzIHRvIGluc3RhbmNlc1xuICAgICAgIVN5bWJvbC5zaGFtICYmIFY4X1ZFUlNJT04kMiAmJiBWOF9WRVJTSU9OJDIgPCA0MTtcbiAgfSk7XG5cbiAgLyogZXNsaW50LWRpc2FibGUgZXMvbm8tc3ltYm9sIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nICovXG5cbiAgdmFyIE5BVElWRV9TWU1CT0wkMSA9IHN5bWJvbENvbnN0cnVjdG9yRGV0ZWN0aW9uO1xuXG4gIHZhciB1c2VTeW1ib2xBc1VpZCA9IE5BVElWRV9TWU1CT0wkMVxuICAgICYmICFTeW1ib2wuc2hhbVxuICAgICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT0gJ3N5bWJvbCc7XG5cbiAgdmFyIGdldEJ1aWx0SW4kMyA9IGdldEJ1aWx0SW4kNTtcbiAgdmFyIGlzQ2FsbGFibGUkYiA9IGlzQ2FsbGFibGUkZTtcbiAgdmFyIGlzUHJvdG90eXBlT2YgPSBvYmplY3RJc1Byb3RvdHlwZU9mO1xuICB2YXIgVVNFX1NZTUJPTF9BU19VSUQkMSA9IHVzZVN5bWJvbEFzVWlkO1xuXG4gIHZhciAkT2JqZWN0JDIgPSBPYmplY3Q7XG5cbiAgdmFyIGlzU3ltYm9sJDIgPSBVU0VfU1lNQk9MX0FTX1VJRCQxID8gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJztcbiAgfSA6IGZ1bmN0aW9uIChpdCkge1xuICAgIHZhciAkU3ltYm9sID0gZ2V0QnVpbHRJbiQzKCdTeW1ib2wnKTtcbiAgICByZXR1cm4gaXNDYWxsYWJsZSRiKCRTeW1ib2wpICYmIGlzUHJvdG90eXBlT2YoJFN5bWJvbC5wcm90b3R5cGUsICRPYmplY3QkMihpdCkpO1xuICB9O1xuXG4gIHZhciAkU3RyaW5nJDIgPSBTdHJpbmc7XG5cbiAgdmFyIHRyeVRvU3RyaW5nJDEgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuICRTdHJpbmckMihhcmd1bWVudCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiAnT2JqZWN0JztcbiAgICB9XG4gIH07XG5cbiAgdmFyIGlzQ2FsbGFibGUkYSA9IGlzQ2FsbGFibGUkZTtcbiAgdmFyIHRyeVRvU3RyaW5nID0gdHJ5VG9TdHJpbmckMTtcblxuICB2YXIgJFR5cGVFcnJvciQ2ID0gVHlwZUVycm9yO1xuXG4gIC8vIGBBc3NlcnQ6IElzQ2FsbGFibGUoYXJndW1lbnQpIGlzIHRydWVgXG4gIHZhciBhQ2FsbGFibGUkMiA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIGlmIChpc0NhbGxhYmxlJGEoYXJndW1lbnQpKSByZXR1cm4gYXJndW1lbnQ7XG4gICAgdGhyb3cgJFR5cGVFcnJvciQ2KHRyeVRvU3RyaW5nKGFyZ3VtZW50KSArICcgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgfTtcblxuICB2YXIgYUNhbGxhYmxlJDEgPSBhQ2FsbGFibGUkMjtcbiAgdmFyIGlzTnVsbE9yVW5kZWZpbmVkJDEgPSBpc051bGxPclVuZGVmaW5lZCQzO1xuXG4gIC8vIGBHZXRNZXRob2RgIGFic3RyYWN0IG9wZXJhdGlvblxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWdldG1ldGhvZFxuICB2YXIgZ2V0TWV0aG9kJDIgPSBmdW5jdGlvbiAoViwgUCkge1xuICAgIHZhciBmdW5jID0gVltQXTtcbiAgICByZXR1cm4gaXNOdWxsT3JVbmRlZmluZWQkMShmdW5jKSA/IHVuZGVmaW5lZCA6IGFDYWxsYWJsZSQxKGZ1bmMpO1xuICB9O1xuXG4gIHZhciBjYWxsJDcgPSBmdW5jdGlvbkNhbGw7XG4gIHZhciBpc0NhbGxhYmxlJDkgPSBpc0NhbGxhYmxlJGU7XG4gIHZhciBpc09iamVjdCQ3ID0gaXNPYmplY3QkODtcblxuICB2YXIgJFR5cGVFcnJvciQ1ID0gVHlwZUVycm9yO1xuXG4gIC8vIGBPcmRpbmFyeVRvUHJpbWl0aXZlYCBhYnN0cmFjdCBvcGVyYXRpb25cbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vcmRpbmFyeXRvcHJpbWl0aXZlXG4gIHZhciBvcmRpbmFyeVRvUHJpbWl0aXZlJDEgPSBmdW5jdGlvbiAoaW5wdXQsIHByZWYpIHtcbiAgICB2YXIgZm4sIHZhbDtcbiAgICBpZiAocHJlZiA9PT0gJ3N0cmluZycgJiYgaXNDYWxsYWJsZSQ5KGZuID0gaW5wdXQudG9TdHJpbmcpICYmICFpc09iamVjdCQ3KHZhbCA9IGNhbGwkNyhmbiwgaW5wdXQpKSkgcmV0dXJuIHZhbDtcbiAgICBpZiAoaXNDYWxsYWJsZSQ5KGZuID0gaW5wdXQudmFsdWVPZikgJiYgIWlzT2JqZWN0JDcodmFsID0gY2FsbCQ3KGZuLCBpbnB1dCkpKSByZXR1cm4gdmFsO1xuICAgIGlmIChwcmVmICE9PSAnc3RyaW5nJyAmJiBpc0NhbGxhYmxlJDkoZm4gPSBpbnB1dC50b1N0cmluZykgJiYgIWlzT2JqZWN0JDcodmFsID0gY2FsbCQ3KGZuLCBpbnB1dCkpKSByZXR1cm4gdmFsO1xuICAgIHRocm93ICRUeXBlRXJyb3IkNShcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbiAgfTtcblxuICB2YXIgc2hhcmVkJDQgPSB7ZXhwb3J0czoge319O1xuXG4gIHZhciBnbG9iYWwkYiA9IGdsb2JhbCRlO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gc2FmZVxuICB2YXIgZGVmaW5lUHJvcGVydHkkMyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuICB2YXIgZGVmaW5lR2xvYmFsUHJvcGVydHkkMyA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGRlZmluZVByb3BlcnR5JDMoZ2xvYmFsJGIsIGtleSwgeyB2YWx1ZTogdmFsdWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGdsb2JhbCRiW2tleV0gPSB2YWx1ZTtcbiAgICB9IHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICB2YXIgZ2xvYmFsJGEgPSBnbG9iYWwkZTtcbiAgdmFyIGRlZmluZUdsb2JhbFByb3BlcnR5JDIgPSBkZWZpbmVHbG9iYWxQcm9wZXJ0eSQzO1xuXG4gIHZhciBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJztcbiAgdmFyIHN0b3JlJDMgPSBnbG9iYWwkYVtTSEFSRURdIHx8IGRlZmluZUdsb2JhbFByb3BlcnR5JDIoU0hBUkVELCB7fSk7XG5cbiAgdmFyIHNoYXJlZFN0b3JlID0gc3RvcmUkMztcblxuICB2YXIgc3RvcmUkMiA9IHNoYXJlZFN0b3JlO1xuXG4gIChzaGFyZWQkNC5leHBvcnRzID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gc3RvcmUkMltrZXldIHx8IChzdG9yZSQyW2tleV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiB7fSk7XG4gIH0pKCd2ZXJzaW9ucycsIFtdKS5wdXNoKHtcbiAgICB2ZXJzaW9uOiAnMy4yNS41JyxcbiAgICBtb2RlOiAnZ2xvYmFsJyxcbiAgICBjb3B5cmlnaHQ6ICfCqSAyMDE0LTIwMjIgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSknLFxuICAgIGxpY2Vuc2U6ICdodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9ibG9iL3YzLjI1LjUvTElDRU5TRScsXG4gICAgc291cmNlOiAnaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMnXG4gIH0pO1xuXG4gIHZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlJDIgPSByZXF1aXJlT2JqZWN0Q29lcmNpYmxlJDQ7XG5cbiAgdmFyICRPYmplY3QkMSA9IE9iamVjdDtcblxuICAvLyBgVG9PYmplY3RgIGFic3RyYWN0IG9wZXJhdGlvblxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvb2JqZWN0XG4gIHZhciB0b09iamVjdCQ1ID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuICRPYmplY3QkMShyZXF1aXJlT2JqZWN0Q29lcmNpYmxlJDIoYXJndW1lbnQpKTtcbiAgfTtcblxuICB2YXIgdW5jdXJyeVRoaXMkZiA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciB0b09iamVjdCQ0ID0gdG9PYmplY3QkNTtcblxuICB2YXIgaGFzT3duUHJvcGVydHkgPSB1bmN1cnJ5VGhpcyRmKHt9Lmhhc093blByb3BlcnR5KTtcblxuICAvLyBgSGFzT3duUHJvcGVydHlgIGFic3RyYWN0IG9wZXJhdGlvblxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWhhc293bnByb3BlcnR5XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtaGFzb3duIC0tIHNhZmVcbiAgdmFyIGhhc093blByb3BlcnR5XzEgPSBPYmplY3QuaGFzT3duIHx8IGZ1bmN0aW9uIGhhc093bihpdCwga2V5KSB7XG4gICAgcmV0dXJuIGhhc093blByb3BlcnR5KHRvT2JqZWN0JDQoaXQpLCBrZXkpO1xuICB9O1xuXG4gIHZhciB1bmN1cnJ5VGhpcyRlID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcblxuICB2YXIgaWQgPSAwO1xuICB2YXIgcG9zdGZpeCA9IE1hdGgucmFuZG9tKCk7XG4gIHZhciB0b1N0cmluZyQ1ID0gdW5jdXJyeVRoaXMkZSgxLjAudG9TdHJpbmcpO1xuXG4gIHZhciB1aWQkMiA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gJ1N5bWJvbCgnICsgKGtleSA9PT0gdW5kZWZpbmVkID8gJycgOiBrZXkpICsgJylfJyArIHRvU3RyaW5nJDUoKytpZCArIHBvc3RmaXgsIDM2KTtcbiAgfTtcblxuICB2YXIgZ2xvYmFsJDkgPSBnbG9iYWwkZTtcbiAgdmFyIHNoYXJlZCQzID0gc2hhcmVkJDQuZXhwb3J0cztcbiAgdmFyIGhhc093biQ2ID0gaGFzT3duUHJvcGVydHlfMTtcbiAgdmFyIHVpZCQxID0gdWlkJDI7XG4gIHZhciBOQVRJVkVfU1lNQk9MID0gc3ltYm9sQ29uc3RydWN0b3JEZXRlY3Rpb247XG4gIHZhciBVU0VfU1lNQk9MX0FTX1VJRCA9IHVzZVN5bWJvbEFzVWlkO1xuXG4gIHZhciBXZWxsS25vd25TeW1ib2xzU3RvcmUgPSBzaGFyZWQkMygnd2tzJyk7XG4gIHZhciBTeW1ib2wkMSA9IGdsb2JhbCQ5LlN5bWJvbDtcbiAgdmFyIHN5bWJvbEZvciA9IFN5bWJvbCQxICYmIFN5bWJvbCQxWydmb3InXTtcbiAgdmFyIGNyZWF0ZVdlbGxLbm93blN5bWJvbCA9IFVTRV9TWU1CT0xfQVNfVUlEID8gU3ltYm9sJDEgOiBTeW1ib2wkMSAmJiBTeW1ib2wkMS53aXRob3V0U2V0dGVyIHx8IHVpZCQxO1xuXG4gIHZhciB3ZWxsS25vd25TeW1ib2wkYSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKCFoYXNPd24kNihXZWxsS25vd25TeW1ib2xzU3RvcmUsIG5hbWUpIHx8ICEoTkFUSVZFX1NZTUJPTCB8fCB0eXBlb2YgV2VsbEtub3duU3ltYm9sc1N0b3JlW25hbWVdID09ICdzdHJpbmcnKSkge1xuICAgICAgdmFyIGRlc2NyaXB0aW9uID0gJ1N5bWJvbC4nICsgbmFtZTtcbiAgICAgIGlmIChOQVRJVkVfU1lNQk9MICYmIGhhc093biQ2KFN5bWJvbCQxLCBuYW1lKSkge1xuICAgICAgICBXZWxsS25vd25TeW1ib2xzU3RvcmVbbmFtZV0gPSBTeW1ib2wkMVtuYW1lXTtcbiAgICAgIH0gZWxzZSBpZiAoVVNFX1NZTUJPTF9BU19VSUQgJiYgc3ltYm9sRm9yKSB7XG4gICAgICAgIFdlbGxLbm93blN5bWJvbHNTdG9yZVtuYW1lXSA9IHN5bWJvbEZvcihkZXNjcmlwdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBXZWxsS25vd25TeW1ib2xzU3RvcmVbbmFtZV0gPSBjcmVhdGVXZWxsS25vd25TeW1ib2woZGVzY3JpcHRpb24pO1xuICAgICAgfVxuICAgIH0gcmV0dXJuIFdlbGxLbm93blN5bWJvbHNTdG9yZVtuYW1lXTtcbiAgfTtcblxuICB2YXIgY2FsbCQ2ID0gZnVuY3Rpb25DYWxsO1xuICB2YXIgaXNPYmplY3QkNiA9IGlzT2JqZWN0JDg7XG4gIHZhciBpc1N5bWJvbCQxID0gaXNTeW1ib2wkMjtcbiAgdmFyIGdldE1ldGhvZCQxID0gZ2V0TWV0aG9kJDI7XG4gIHZhciBvcmRpbmFyeVRvUHJpbWl0aXZlID0gb3JkaW5hcnlUb1ByaW1pdGl2ZSQxO1xuICB2YXIgd2VsbEtub3duU3ltYm9sJDkgPSB3ZWxsS25vd25TeW1ib2wkYTtcblxuICB2YXIgJFR5cGVFcnJvciQ0ID0gVHlwZUVycm9yO1xuICB2YXIgVE9fUFJJTUlUSVZFID0gd2VsbEtub3duU3ltYm9sJDkoJ3RvUHJpbWl0aXZlJyk7XG5cbiAgLy8gYFRvUHJpbWl0aXZlYCBhYnN0cmFjdCBvcGVyYXRpb25cbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy10b3ByaW1pdGl2ZVxuICB2YXIgdG9QcmltaXRpdmUkMSA9IGZ1bmN0aW9uIChpbnB1dCwgcHJlZikge1xuICAgIGlmICghaXNPYmplY3QkNihpbnB1dCkgfHwgaXNTeW1ib2wkMShpbnB1dCkpIHJldHVybiBpbnB1dDtcbiAgICB2YXIgZXhvdGljVG9QcmltID0gZ2V0TWV0aG9kJDEoaW5wdXQsIFRPX1BSSU1JVElWRSk7XG4gICAgdmFyIHJlc3VsdDtcbiAgICBpZiAoZXhvdGljVG9QcmltKSB7XG4gICAgICBpZiAocHJlZiA9PT0gdW5kZWZpbmVkKSBwcmVmID0gJ2RlZmF1bHQnO1xuICAgICAgcmVzdWx0ID0gY2FsbCQ2KGV4b3RpY1RvUHJpbSwgaW5wdXQsIHByZWYpO1xuICAgICAgaWYgKCFpc09iamVjdCQ2KHJlc3VsdCkgfHwgaXNTeW1ib2wkMShyZXN1bHQpKSByZXR1cm4gcmVzdWx0O1xuICAgICAgdGhyb3cgJFR5cGVFcnJvciQ0KFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpO1xuICAgIH1cbiAgICBpZiAocHJlZiA9PT0gdW5kZWZpbmVkKSBwcmVmID0gJ251bWJlcic7XG4gICAgcmV0dXJuIG9yZGluYXJ5VG9QcmltaXRpdmUoaW5wdXQsIHByZWYpO1xuICB9O1xuXG4gIHZhciB0b1ByaW1pdGl2ZSA9IHRvUHJpbWl0aXZlJDE7XG4gIHZhciBpc1N5bWJvbCA9IGlzU3ltYm9sJDI7XG5cbiAgLy8gYFRvUHJvcGVydHlLZXlgIGFic3RyYWN0IG9wZXJhdGlvblxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvcHJvcGVydHlrZXlcbiAgdmFyIHRvUHJvcGVydHlLZXkkMyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHZhciBrZXkgPSB0b1ByaW1pdGl2ZShhcmd1bWVudCwgJ3N0cmluZycpO1xuICAgIHJldHVybiBpc1N5bWJvbChrZXkpID8ga2V5IDoga2V5ICsgJyc7XG4gIH07XG5cbiAgdmFyIGdsb2JhbCQ4ID0gZ2xvYmFsJGU7XG4gIHZhciBpc09iamVjdCQ1ID0gaXNPYmplY3QkODtcblxuICB2YXIgZG9jdW1lbnQkMSA9IGdsb2JhbCQ4LmRvY3VtZW50O1xuICAvLyB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0JyBpbiBvbGQgSUVcbiAgdmFyIEVYSVNUUyQxID0gaXNPYmplY3QkNShkb2N1bWVudCQxKSAmJiBpc09iamVjdCQ1KGRvY3VtZW50JDEuY3JlYXRlRWxlbWVudCk7XG5cbiAgdmFyIGRvY3VtZW50Q3JlYXRlRWxlbWVudCQyID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIEVYSVNUUyQxID8gZG9jdW1lbnQkMS5jcmVhdGVFbGVtZW50KGl0KSA6IHt9O1xuICB9O1xuXG4gIHZhciBERVNDUklQVE9SUyQ4ID0gZGVzY3JpcHRvcnM7XG4gIHZhciBmYWlscyRkID0gZmFpbHMkaTtcbiAgdmFyIGNyZWF0ZUVsZW1lbnQgPSBkb2N1bWVudENyZWF0ZUVsZW1lbnQkMjtcblxuICAvLyBUaGFua3MgdG8gSUU4IGZvciBpdHMgZnVubnkgZGVmaW5lUHJvcGVydHlcbiAgdmFyIGllOERvbURlZmluZSA9ICFERVNDUklQVE9SUyQ4ICYmICFmYWlscyRkKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gICAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjcmVhdGVFbGVtZW50KCdkaXYnKSwgJ2EnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH1cbiAgICB9KS5hICE9IDc7XG4gIH0pO1xuXG4gIHZhciBERVNDUklQVE9SUyQ3ID0gZGVzY3JpcHRvcnM7XG4gIHZhciBjYWxsJDUgPSBmdW5jdGlvbkNhbGw7XG4gIHZhciBwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZSQxID0gb2JqZWN0UHJvcGVydHlJc0VudW1lcmFibGU7XG4gIHZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IkMiA9IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciQzO1xuICB2YXIgdG9JbmRleGVkT2JqZWN0JDUgPSB0b0luZGV4ZWRPYmplY3QkNjtcbiAgdmFyIHRvUHJvcGVydHlLZXkkMiA9IHRvUHJvcGVydHlLZXkkMztcbiAgdmFyIGhhc093biQ1ID0gaGFzT3duUHJvcGVydHlfMTtcbiAgdmFyIElFOF9ET01fREVGSU5FJDEgPSBpZThEb21EZWZpbmU7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3IgLS0gc2FmZVxuICB2YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciQxID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxuICAvLyBgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcmAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldG93bnByb3BlcnR5ZGVzY3JpcHRvclxuICBvYmplY3RHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IuZiA9IERFU0NSSVBUT1JTJDcgPyAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJDEgOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCkge1xuICAgIE8gPSB0b0luZGV4ZWRPYmplY3QkNShPKTtcbiAgICBQID0gdG9Qcm9wZXJ0eUtleSQyKFApO1xuICAgIGlmIChJRThfRE9NX0RFRklORSQxKSB0cnkge1xuICAgICAgcmV0dXJuICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IkMShPLCBQKTtcbiAgICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG4gICAgaWYgKGhhc093biQ1KE8sIFApKSByZXR1cm4gY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yJDIoIWNhbGwkNShwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZSQxLmYsIE8sIFApLCBPW1BdKTtcbiAgfTtcblxuICB2YXIgb2JqZWN0RGVmaW5lUHJvcGVydHkgPSB7fTtcblxuICB2YXIgREVTQ1JJUFRPUlMkNiA9IGRlc2NyaXB0b3JzO1xuICB2YXIgZmFpbHMkYyA9IGZhaWxzJGk7XG5cbiAgLy8gVjggfiBDaHJvbWUgMzYtXG4gIC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMzMzRcbiAgdmFyIHY4UHJvdG90eXBlRGVmaW5lQnVnID0gREVTQ1JJUFRPUlMkNiAmJiBmYWlscyRjKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gICAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0sICdwcm90b3R5cGUnLCB7XG4gICAgICB2YWx1ZTogNDIsXG4gICAgICB3cml0YWJsZTogZmFsc2VcbiAgICB9KS5wcm90b3R5cGUgIT0gNDI7XG4gIH0pO1xuXG4gIHZhciBpc09iamVjdCQ0ID0gaXNPYmplY3QkODtcblxuICB2YXIgJFN0cmluZyQxID0gU3RyaW5nO1xuICB2YXIgJFR5cGVFcnJvciQzID0gVHlwZUVycm9yO1xuXG4gIC8vIGBBc3NlcnQ6IFR5cGUoYXJndW1lbnQpIGlzIE9iamVjdGBcbiAgdmFyIGFuT2JqZWN0JDcgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICBpZiAoaXNPYmplY3QkNChhcmd1bWVudCkpIHJldHVybiBhcmd1bWVudDtcbiAgICB0aHJvdyAkVHlwZUVycm9yJDMoJFN0cmluZyQxKGFyZ3VtZW50KSArICcgaXMgbm90IGFuIG9iamVjdCcpO1xuICB9O1xuXG4gIHZhciBERVNDUklQVE9SUyQ1ID0gZGVzY3JpcHRvcnM7XG4gIHZhciBJRThfRE9NX0RFRklORSA9IGllOERvbURlZmluZTtcbiAgdmFyIFY4X1BST1RPVFlQRV9ERUZJTkVfQlVHJDEgPSB2OFByb3RvdHlwZURlZmluZUJ1ZztcbiAgdmFyIGFuT2JqZWN0JDYgPSBhbk9iamVjdCQ3O1xuICB2YXIgdG9Qcm9wZXJ0eUtleSQxID0gdG9Qcm9wZXJ0eUtleSQzO1xuXG4gIHZhciAkVHlwZUVycm9yJDIgPSBUeXBlRXJyb3I7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gc2FmZVxuICB2YXIgJGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5ZGVzY3JpcHRvciAtLSBzYWZlXG4gIHZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbiAgdmFyIEVOVU1FUkFCTEUgPSAnZW51bWVyYWJsZSc7XG4gIHZhciBDT05GSUdVUkFCTEUkMSA9ICdjb25maWd1cmFibGUnO1xuICB2YXIgV1JJVEFCTEUgPSAnd3JpdGFibGUnO1xuXG4gIC8vIGBPYmplY3QuZGVmaW5lUHJvcGVydHlgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5kZWZpbmVwcm9wZXJ0eVxuICBvYmplY3REZWZpbmVQcm9wZXJ0eS5mID0gREVTQ1JJUFRPUlMkNSA/IFY4X1BST1RPVFlQRV9ERUZJTkVfQlVHJDEgPyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKSB7XG4gICAgYW5PYmplY3QkNihPKTtcbiAgICBQID0gdG9Qcm9wZXJ0eUtleSQxKFApO1xuICAgIGFuT2JqZWN0JDYoQXR0cmlidXRlcyk7XG4gICAgaWYgKHR5cGVvZiBPID09PSAnZnVuY3Rpb24nICYmIFAgPT09ICdwcm90b3R5cGUnICYmICd2YWx1ZScgaW4gQXR0cmlidXRlcyAmJiBXUklUQUJMRSBpbiBBdHRyaWJ1dGVzICYmICFBdHRyaWJ1dGVzW1dSSVRBQkxFXSkge1xuICAgICAgdmFyIGN1cnJlbnQgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApO1xuICAgICAgaWYgKGN1cnJlbnQgJiYgY3VycmVudFtXUklUQUJMRV0pIHtcbiAgICAgICAgT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gICAgICAgIEF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgY29uZmlndXJhYmxlOiBDT05GSUdVUkFCTEUkMSBpbiBBdHRyaWJ1dGVzID8gQXR0cmlidXRlc1tDT05GSUdVUkFCTEUkMV0gOiBjdXJyZW50W0NPTkZJR1VSQUJMRSQxXSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiBFTlVNRVJBQkxFIGluIEF0dHJpYnV0ZXMgPyBBdHRyaWJ1dGVzW0VOVU1FUkFCTEVdIDogY3VycmVudFtFTlVNRVJBQkxFXSxcbiAgICAgICAgICB3cml0YWJsZTogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IHJldHVybiAkZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyk7XG4gIH0gOiAkZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKSB7XG4gICAgYW5PYmplY3QkNihPKTtcbiAgICBQID0gdG9Qcm9wZXJ0eUtleSQxKFApO1xuICAgIGFuT2JqZWN0JDYoQXR0cmlidXRlcyk7XG4gICAgaWYgKElFOF9ET01fREVGSU5FKSB0cnkge1xuICAgICAgcmV0dXJuICRkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKTtcbiAgICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG4gICAgaWYgKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcykgdGhyb3cgJFR5cGVFcnJvciQyKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCcpO1xuICAgIGlmICgndmFsdWUnIGluIEF0dHJpYnV0ZXMpIE9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuICAgIHJldHVybiBPO1xuICB9O1xuXG4gIHZhciBERVNDUklQVE9SUyQ0ID0gZGVzY3JpcHRvcnM7XG4gIHZhciBkZWZpbmVQcm9wZXJ0eU1vZHVsZSQ0ID0gb2JqZWN0RGVmaW5lUHJvcGVydHk7XG4gIHZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IkMSA9IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciQzO1xuXG4gIHZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkNCA9IERFU0NSSVBUT1JTJDQgPyBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgcmV0dXJuIGRlZmluZVByb3BlcnR5TW9kdWxlJDQuZihvYmplY3QsIGtleSwgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yJDEoMSwgdmFsdWUpKTtcbiAgfSA6IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH07XG5cbiAgdmFyIG1ha2VCdWlsdEluJDIgPSB7ZXhwb3J0czoge319O1xuXG4gIHZhciBERVNDUklQVE9SUyQzID0gZGVzY3JpcHRvcnM7XG4gIHZhciBoYXNPd24kNCA9IGhhc093blByb3BlcnR5XzE7XG5cbiAgdmFyIEZ1bmN0aW9uUHJvdG90eXBlJDEgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yIC0tIHNhZmVcbiAgdmFyIGdldERlc2NyaXB0b3IgPSBERVNDUklQVE9SUyQzICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cbiAgdmFyIEVYSVNUUyA9IGhhc093biQ0KEZ1bmN0aW9uUHJvdG90eXBlJDEsICduYW1lJyk7XG4gIC8vIGFkZGl0aW9uYWwgcHJvdGVjdGlvbiBmcm9tIG1pbmlmaWVkIC8gbWFuZ2xlZCAvIGRyb3BwZWQgZnVuY3Rpb24gbmFtZXNcbiAgdmFyIFBST1BFUiA9IEVYSVNUUyAmJiAoZnVuY3Rpb24gc29tZXRoaW5nKCkgeyAvKiBlbXB0eSAqLyB9KS5uYW1lID09PSAnc29tZXRoaW5nJztcbiAgdmFyIENPTkZJR1VSQUJMRSA9IEVYSVNUUyAmJiAoIURFU0NSSVBUT1JTJDMgfHwgKERFU0NSSVBUT1JTJDMgJiYgZ2V0RGVzY3JpcHRvcihGdW5jdGlvblByb3RvdHlwZSQxLCAnbmFtZScpLmNvbmZpZ3VyYWJsZSkpO1xuXG4gIHZhciBmdW5jdGlvbk5hbWUgPSB7XG4gICAgRVhJU1RTOiBFWElTVFMsXG4gICAgUFJPUEVSOiBQUk9QRVIsXG4gICAgQ09ORklHVVJBQkxFOiBDT05GSUdVUkFCTEVcbiAgfTtcblxuICB2YXIgdW5jdXJyeVRoaXMkZCA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciBpc0NhbGxhYmxlJDggPSBpc0NhbGxhYmxlJGU7XG4gIHZhciBzdG9yZSQxID0gc2hhcmVkU3RvcmU7XG5cbiAgdmFyIGZ1bmN0aW9uVG9TdHJpbmcgPSB1bmN1cnJ5VGhpcyRkKEZ1bmN0aW9uLnRvU3RyaW5nKTtcblxuICAvLyB0aGlzIGhlbHBlciBicm9rZW4gaW4gYGNvcmUtanNAMy40LjEtMy40LjRgLCBzbyB3ZSBjYW4ndCB1c2UgYHNoYXJlZGAgaGVscGVyXG4gIGlmICghaXNDYWxsYWJsZSQ4KHN0b3JlJDEuaW5zcGVjdFNvdXJjZSkpIHtcbiAgICBzdG9yZSQxLmluc3BlY3RTb3VyY2UgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvblRvU3RyaW5nKGl0KTtcbiAgICB9O1xuICB9XG5cbiAgdmFyIGluc3BlY3RTb3VyY2UkMiA9IHN0b3JlJDEuaW5zcGVjdFNvdXJjZTtcblxuICB2YXIgZ2xvYmFsJDcgPSBnbG9iYWwkZTtcbiAgdmFyIGlzQ2FsbGFibGUkNyA9IGlzQ2FsbGFibGUkZTtcblxuICB2YXIgV2Vha01hcCQxID0gZ2xvYmFsJDcuV2Vha01hcDtcblxuICB2YXIgd2Vha01hcEJhc2ljRGV0ZWN0aW9uID0gaXNDYWxsYWJsZSQ3KFdlYWtNYXAkMSkgJiYgL25hdGl2ZSBjb2RlLy50ZXN0KFN0cmluZyhXZWFrTWFwJDEpKTtcblxuICB2YXIgc2hhcmVkJDIgPSBzaGFyZWQkNC5leHBvcnRzO1xuICB2YXIgdWlkID0gdWlkJDI7XG5cbiAgdmFyIGtleXMgPSBzaGFyZWQkMigna2V5cycpO1xuXG4gIHZhciBzaGFyZWRLZXkkMiA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4ga2V5c1trZXldIHx8IChrZXlzW2tleV0gPSB1aWQoa2V5KSk7XG4gIH07XG5cbiAgdmFyIGhpZGRlbktleXMkNCA9IHt9O1xuXG4gIHZhciBOQVRJVkVfV0VBS19NQVAgPSB3ZWFrTWFwQmFzaWNEZXRlY3Rpb247XG4gIHZhciBnbG9iYWwkNiA9IGdsb2JhbCRlO1xuICB2YXIgaXNPYmplY3QkMyA9IGlzT2JqZWN0JDg7XG4gIHZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkMyA9IGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSQ0O1xuICB2YXIgaGFzT3duJDMgPSBoYXNPd25Qcm9wZXJ0eV8xO1xuICB2YXIgc2hhcmVkJDEgPSBzaGFyZWRTdG9yZTtcbiAgdmFyIHNoYXJlZEtleSQxID0gc2hhcmVkS2V5JDI7XG4gIHZhciBoaWRkZW5LZXlzJDMgPSBoaWRkZW5LZXlzJDQ7XG5cbiAgdmFyIE9CSkVDVF9BTFJFQURZX0lOSVRJQUxJWkVEID0gJ09iamVjdCBhbHJlYWR5IGluaXRpYWxpemVkJztcbiAgdmFyIFR5cGVFcnJvciQxID0gZ2xvYmFsJDYuVHlwZUVycm9yO1xuICB2YXIgV2Vha01hcCA9IGdsb2JhbCQ2LldlYWtNYXA7XG4gIHZhciBzZXQsIGdldCwgaGFzO1xuXG4gIHZhciBlbmZvcmNlID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIGhhcyhpdCkgPyBnZXQoaXQpIDogc2V0KGl0LCB7fSk7XG4gIH07XG5cbiAgdmFyIGdldHRlckZvciA9IGZ1bmN0aW9uIChUWVBFKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpdCkge1xuICAgICAgdmFyIHN0YXRlO1xuICAgICAgaWYgKCFpc09iamVjdCQzKGl0KSB8fCAoc3RhdGUgPSBnZXQoaXQpKS50eXBlICE9PSBUWVBFKSB7XG4gICAgICAgIHRocm93IFR5cGVFcnJvciQxKCdJbmNvbXBhdGlibGUgcmVjZWl2ZXIsICcgKyBUWVBFICsgJyByZXF1aXJlZCcpO1xuICAgICAgfSByZXR1cm4gc3RhdGU7XG4gICAgfTtcbiAgfTtcblxuICBpZiAoTkFUSVZFX1dFQUtfTUFQIHx8IHNoYXJlZCQxLnN0YXRlKSB7XG4gICAgdmFyIHN0b3JlID0gc2hhcmVkJDEuc3RhdGUgfHwgKHNoYXJlZCQxLnN0YXRlID0gbmV3IFdlYWtNYXAoKSk7XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tc2VsZi1hc3NpZ24gLS0gcHJvdG90eXBlIG1ldGhvZHMgcHJvdGVjdGlvbiAqL1xuICAgIHN0b3JlLmdldCA9IHN0b3JlLmdldDtcbiAgICBzdG9yZS5oYXMgPSBzdG9yZS5oYXM7XG4gICAgc3RvcmUuc2V0ID0gc3RvcmUuc2V0O1xuICAgIC8qIGVzbGludC1lbmFibGUgbm8tc2VsZi1hc3NpZ24gLS0gcHJvdG90eXBlIG1ldGhvZHMgcHJvdGVjdGlvbiAqL1xuICAgIHNldCA9IGZ1bmN0aW9uIChpdCwgbWV0YWRhdGEpIHtcbiAgICAgIGlmIChzdG9yZS5oYXMoaXQpKSB0aHJvdyBUeXBlRXJyb3IkMShPQkpFQ1RfQUxSRUFEWV9JTklUSUFMSVpFRCk7XG4gICAgICBtZXRhZGF0YS5mYWNhZGUgPSBpdDtcbiAgICAgIHN0b3JlLnNldChpdCwgbWV0YWRhdGEpO1xuICAgICAgcmV0dXJuIG1ldGFkYXRhO1xuICAgIH07XG4gICAgZ2V0ID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgICByZXR1cm4gc3RvcmUuZ2V0KGl0KSB8fCB7fTtcbiAgICB9O1xuICAgIGhhcyA9IGZ1bmN0aW9uIChpdCkge1xuICAgICAgcmV0dXJuIHN0b3JlLmhhcyhpdCk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgU1RBVEUgPSBzaGFyZWRLZXkkMSgnc3RhdGUnKTtcbiAgICBoaWRkZW5LZXlzJDNbU1RBVEVdID0gdHJ1ZTtcbiAgICBzZXQgPSBmdW5jdGlvbiAoaXQsIG1ldGFkYXRhKSB7XG4gICAgICBpZiAoaGFzT3duJDMoaXQsIFNUQVRFKSkgdGhyb3cgVHlwZUVycm9yJDEoT0JKRUNUX0FMUkVBRFlfSU5JVElBTElaRUQpO1xuICAgICAgbWV0YWRhdGEuZmFjYWRlID0gaXQ7XG4gICAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkMyhpdCwgU1RBVEUsIG1ldGFkYXRhKTtcbiAgICAgIHJldHVybiBtZXRhZGF0YTtcbiAgICB9O1xuICAgIGdldCA9IGZ1bmN0aW9uIChpdCkge1xuICAgICAgcmV0dXJuIGhhc093biQzKGl0LCBTVEFURSkgPyBpdFtTVEFURV0gOiB7fTtcbiAgICB9O1xuICAgIGhhcyA9IGZ1bmN0aW9uIChpdCkge1xuICAgICAgcmV0dXJuIGhhc093biQzKGl0LCBTVEFURSk7XG4gICAgfTtcbiAgfVxuXG4gIHZhciBpbnRlcm5hbFN0YXRlID0ge1xuICAgIHNldDogc2V0LFxuICAgIGdldDogZ2V0LFxuICAgIGhhczogaGFzLFxuICAgIGVuZm9yY2U6IGVuZm9yY2UsXG4gICAgZ2V0dGVyRm9yOiBnZXR0ZXJGb3JcbiAgfTtcblxuICB2YXIgZmFpbHMkYiA9IGZhaWxzJGk7XG4gIHZhciBpc0NhbGxhYmxlJDYgPSBpc0NhbGxhYmxlJGU7XG4gIHZhciBoYXNPd24kMiA9IGhhc093blByb3BlcnR5XzE7XG4gIHZhciBERVNDUklQVE9SUyQyID0gZGVzY3JpcHRvcnM7XG4gIHZhciBDT05GSUdVUkFCTEVfRlVOQ1RJT05fTkFNRSA9IGZ1bmN0aW9uTmFtZS5DT05GSUdVUkFCTEU7XG4gIHZhciBpbnNwZWN0U291cmNlJDEgPSBpbnNwZWN0U291cmNlJDI7XG4gIHZhciBJbnRlcm5hbFN0YXRlTW9kdWxlID0gaW50ZXJuYWxTdGF0ZTtcblxuICB2YXIgZW5mb3JjZUludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLmVuZm9yY2U7XG4gIHZhciBnZXRJbnRlcm5hbFN0YXRlJDEgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLmdldDtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSBzYWZlXG4gIHZhciBkZWZpbmVQcm9wZXJ0eSQyID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG4gIHZhciBDT05GSUdVUkFCTEVfTEVOR1RIID0gREVTQ1JJUFRPUlMkMiAmJiAhZmFpbHMkYihmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGRlZmluZVByb3BlcnR5JDIoZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9LCAnbGVuZ3RoJywgeyB2YWx1ZTogOCB9KS5sZW5ndGggIT09IDg7XG4gIH0pO1xuXG4gIHZhciBURU1QTEFURSA9IFN0cmluZyhTdHJpbmcpLnNwbGl0KCdTdHJpbmcnKTtcblxuICB2YXIgbWFrZUJ1aWx0SW4kMSA9IG1ha2VCdWlsdEluJDIuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWx1ZSwgbmFtZSwgb3B0aW9ucykge1xuICAgIGlmIChTdHJpbmcobmFtZSkuc2xpY2UoMCwgNykgPT09ICdTeW1ib2woJykge1xuICAgICAgbmFtZSA9ICdbJyArIFN0cmluZyhuYW1lKS5yZXBsYWNlKC9eU3ltYm9sXFwoKFteKV0qKVxcKS8sICckMScpICsgJ10nO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmdldHRlcikgbmFtZSA9ICdnZXQgJyArIG5hbWU7XG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5zZXR0ZXIpIG5hbWUgPSAnc2V0ICcgKyBuYW1lO1xuICAgIGlmICghaGFzT3duJDIodmFsdWUsICduYW1lJykgfHwgKENPTkZJR1VSQUJMRV9GVU5DVElPTl9OQU1FICYmIHZhbHVlLm5hbWUgIT09IG5hbWUpKSB7XG4gICAgICBpZiAoREVTQ1JJUFRPUlMkMikgZGVmaW5lUHJvcGVydHkkMih2YWx1ZSwgJ25hbWUnLCB7IHZhbHVlOiBuYW1lLCBjb25maWd1cmFibGU6IHRydWUgfSk7XG4gICAgICBlbHNlIHZhbHVlLm5hbWUgPSBuYW1lO1xuICAgIH1cbiAgICBpZiAoQ09ORklHVVJBQkxFX0xFTkdUSCAmJiBvcHRpb25zICYmIGhhc093biQyKG9wdGlvbnMsICdhcml0eScpICYmIHZhbHVlLmxlbmd0aCAhPT0gb3B0aW9ucy5hcml0eSkge1xuICAgICAgZGVmaW5lUHJvcGVydHkkMih2YWx1ZSwgJ2xlbmd0aCcsIHsgdmFsdWU6IG9wdGlvbnMuYXJpdHkgfSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBpZiAob3B0aW9ucyAmJiBoYXNPd24kMihvcHRpb25zLCAnY29uc3RydWN0b3InKSAmJiBvcHRpb25zLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgIGlmIChERVNDUklQVE9SUyQyKSBkZWZpbmVQcm9wZXJ0eSQyKHZhbHVlLCAncHJvdG90eXBlJywgeyB3cml0YWJsZTogZmFsc2UgfSk7XG4gICAgICAvLyBpbiBWOCB+IENocm9tZSA1MywgcHJvdG90eXBlcyBvZiBzb21lIG1ldGhvZHMsIGxpa2UgYEFycmF5LnByb3RvdHlwZS52YWx1ZXNgLCBhcmUgbm9uLXdyaXRhYmxlXG4gICAgICB9IGVsc2UgaWYgKHZhbHVlLnByb3RvdHlwZSkgdmFsdWUucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cbiAgICB2YXIgc3RhdGUgPSBlbmZvcmNlSW50ZXJuYWxTdGF0ZSh2YWx1ZSk7XG4gICAgaWYgKCFoYXNPd24kMihzdGF0ZSwgJ3NvdXJjZScpKSB7XG4gICAgICBzdGF0ZS5zb3VyY2UgPSBURU1QTEFURS5qb2luKHR5cGVvZiBuYW1lID09ICdzdHJpbmcnID8gbmFtZSA6ICcnKTtcbiAgICB9IHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICAvLyBhZGQgZmFrZSBGdW5jdGlvbiN0b1N0cmluZyBmb3IgY29ycmVjdCB3b3JrIHdyYXBwZWQgbWV0aG9kcyAvIGNvbnN0cnVjdG9ycyB3aXRoIG1ldGhvZHMgbGlrZSBMb0Rhc2ggaXNOYXRpdmVcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWV4dGVuZC1uYXRpdmUgLS0gcmVxdWlyZWRcbiAgRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gbWFrZUJ1aWx0SW4kMShmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gaXNDYWxsYWJsZSQ2KHRoaXMpICYmIGdldEludGVybmFsU3RhdGUkMSh0aGlzKS5zb3VyY2UgfHwgaW5zcGVjdFNvdXJjZSQxKHRoaXMpO1xuICB9LCAndG9TdHJpbmcnKTtcblxuICB2YXIgaXNDYWxsYWJsZSQ1ID0gaXNDYWxsYWJsZSRlO1xuICB2YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUkMyA9IG9iamVjdERlZmluZVByb3BlcnR5O1xuICB2YXIgbWFrZUJ1aWx0SW4gPSBtYWtlQnVpbHRJbiQyLmV4cG9ydHM7XG4gIHZhciBkZWZpbmVHbG9iYWxQcm9wZXJ0eSQxID0gZGVmaW5lR2xvYmFsUHJvcGVydHkkMztcblxuICB2YXIgZGVmaW5lQnVpbHRJbiQzID0gZnVuY3Rpb24gKE8sIGtleSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcbiAgICB2YXIgc2ltcGxlID0gb3B0aW9ucy5lbnVtZXJhYmxlO1xuICAgIHZhciBuYW1lID0gb3B0aW9ucy5uYW1lICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5hbWUgOiBrZXk7XG4gICAgaWYgKGlzQ2FsbGFibGUkNSh2YWx1ZSkpIG1ha2VCdWlsdEluKHZhbHVlLCBuYW1lLCBvcHRpb25zKTtcbiAgICBpZiAob3B0aW9ucy5nbG9iYWwpIHtcbiAgICAgIGlmIChzaW1wbGUpIE9ba2V5XSA9IHZhbHVlO1xuICAgICAgZWxzZSBkZWZpbmVHbG9iYWxQcm9wZXJ0eSQxKGtleSwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIW9wdGlvbnMudW5zYWZlKSBkZWxldGUgT1trZXldO1xuICAgICAgICBlbHNlIGlmIChPW2tleV0pIHNpbXBsZSA9IHRydWU7XG4gICAgICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG4gICAgICBpZiAoc2ltcGxlKSBPW2tleV0gPSB2YWx1ZTtcbiAgICAgIGVsc2UgZGVmaW5lUHJvcGVydHlNb2R1bGUkMy5mKE8sIGtleSwge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6ICFvcHRpb25zLm5vbkNvbmZpZ3VyYWJsZSxcbiAgICAgICAgd3JpdGFibGU6ICFvcHRpb25zLm5vbldyaXRhYmxlXG4gICAgICB9KTtcbiAgICB9IHJldHVybiBPO1xuICB9O1xuXG4gIHZhciBvYmplY3RHZXRPd25Qcm9wZXJ0eU5hbWVzID0ge307XG5cbiAgdmFyIGNlaWwgPSBNYXRoLmNlaWw7XG4gIHZhciBmbG9vciQxID0gTWF0aC5mbG9vcjtcblxuICAvLyBgTWF0aC50cnVuY2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtbWF0aC50cnVuY1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tbWF0aC10cnVuYyAtLSBzYWZlXG4gIHZhciBtYXRoVHJ1bmMgPSBNYXRoLnRydW5jIHx8IGZ1bmN0aW9uIHRydW5jKHgpIHtcbiAgICB2YXIgbiA9ICt4O1xuICAgIHJldHVybiAobiA+IDAgPyBmbG9vciQxIDogY2VpbCkobik7XG4gIH07XG5cbiAgdmFyIHRydW5jID0gbWF0aFRydW5jO1xuXG4gIC8vIGBUb0ludGVnZXJPckluZmluaXR5YCBhYnN0cmFjdCBvcGVyYXRpb25cbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy10b2ludGVnZXJvcmluZmluaXR5XG4gIHZhciB0b0ludGVnZXJPckluZmluaXR5JDQgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICB2YXIgbnVtYmVyID0gK2FyZ3VtZW50O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUgLS0gTmFOIGNoZWNrXG4gICAgcmV0dXJuIG51bWJlciAhPT0gbnVtYmVyIHx8IG51bWJlciA9PT0gMCA/IDAgOiB0cnVuYyhudW1iZXIpO1xuICB9O1xuXG4gIHZhciB0b0ludGVnZXJPckluZmluaXR5JDMgPSB0b0ludGVnZXJPckluZmluaXR5JDQ7XG5cbiAgdmFyIG1heCQyID0gTWF0aC5tYXg7XG4gIHZhciBtaW4kMiA9IE1hdGgubWluO1xuXG4gIC8vIEhlbHBlciBmb3IgYSBwb3B1bGFyIHJlcGVhdGluZyBjYXNlIG9mIHRoZSBzcGVjOlxuICAvLyBMZXQgaW50ZWdlciBiZSA/IFRvSW50ZWdlcihpbmRleCkuXG4gIC8vIElmIGludGVnZXIgPCAwLCBsZXQgcmVzdWx0IGJlIG1heCgobGVuZ3RoICsgaW50ZWdlciksIDApOyBlbHNlIGxldCByZXN1bHQgYmUgbWluKGludGVnZXIsIGxlbmd0aCkuXG4gIHZhciB0b0Fic29sdXRlSW5kZXgkMiA9IGZ1bmN0aW9uIChpbmRleCwgbGVuZ3RoKSB7XG4gICAgdmFyIGludGVnZXIgPSB0b0ludGVnZXJPckluZmluaXR5JDMoaW5kZXgpO1xuICAgIHJldHVybiBpbnRlZ2VyIDwgMCA/IG1heCQyKGludGVnZXIgKyBsZW5ndGgsIDApIDogbWluJDIoaW50ZWdlciwgbGVuZ3RoKTtcbiAgfTtcblxuICB2YXIgdG9JbnRlZ2VyT3JJbmZpbml0eSQyID0gdG9JbnRlZ2VyT3JJbmZpbml0eSQ0O1xuXG4gIHZhciBtaW4kMSA9IE1hdGgubWluO1xuXG4gIC8vIGBUb0xlbmd0aGAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtdG9sZW5ndGhcbiAgdmFyIHRvTGVuZ3RoJDIgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICByZXR1cm4gYXJndW1lbnQgPiAwID8gbWluJDEodG9JbnRlZ2VyT3JJbmZpbml0eSQyKGFyZ3VtZW50KSwgMHgxRkZGRkZGRkZGRkZGRikgOiAwOyAvLyAyICoqIDUzIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG4gIH07XG5cbiAgdmFyIHRvTGVuZ3RoJDEgPSB0b0xlbmd0aCQyO1xuXG4gIC8vIGBMZW5ndGhPZkFycmF5TGlrZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtbGVuZ3Rob2ZhcnJheWxpa2VcbiAgdmFyIGxlbmd0aE9mQXJyYXlMaWtlJDQgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIHRvTGVuZ3RoJDEob2JqLmxlbmd0aCk7XG4gIH07XG5cbiAgdmFyIHRvSW5kZXhlZE9iamVjdCQ0ID0gdG9JbmRleGVkT2JqZWN0JDY7XG4gIHZhciB0b0Fic29sdXRlSW5kZXgkMSA9IHRvQWJzb2x1dGVJbmRleCQyO1xuICB2YXIgbGVuZ3RoT2ZBcnJheUxpa2UkMyA9IGxlbmd0aE9mQXJyYXlMaWtlJDQ7XG5cbiAgLy8gYEFycmF5LnByb3RvdHlwZS57IGluZGV4T2YsIGluY2x1ZGVzIH1gIG1ldGhvZHMgaW1wbGVtZW50YXRpb25cbiAgdmFyIGNyZWF0ZU1ldGhvZCQyID0gZnVuY3Rpb24gKElTX0lOQ0xVREVTKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcywgZWwsIGZyb21JbmRleCkge1xuICAgICAgdmFyIE8gPSB0b0luZGV4ZWRPYmplY3QkNCgkdGhpcyk7XG4gICAgICB2YXIgbGVuZ3RoID0gbGVuZ3RoT2ZBcnJheUxpa2UkMyhPKTtcbiAgICAgIHZhciBpbmRleCA9IHRvQWJzb2x1dGVJbmRleCQxKGZyb21JbmRleCwgbGVuZ3RoKTtcbiAgICAgIHZhciB2YWx1ZTtcbiAgICAgIC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUgLS0gTmFOIGNoZWNrXG4gICAgICBpZiAoSVNfSU5DTFVERVMgJiYgZWwgIT0gZWwpIHdoaWxlIChsZW5ndGggPiBpbmRleCkge1xuICAgICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUgLS0gTmFOIGNoZWNrXG4gICAgICAgIGlmICh2YWx1ZSAhPSB2YWx1ZSkgcmV0dXJuIHRydWU7XG4gICAgICAvLyBBcnJheSNpbmRleE9mIGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG4gICAgICB9IGVsc2UgZm9yICg7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIHtcbiAgICAgICAgaWYgKChJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKSAmJiBPW2luZGV4XSA9PT0gZWwpIHJldHVybiBJU19JTkNMVURFUyB8fCBpbmRleCB8fCAwO1xuICAgICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGFycmF5SW5jbHVkZXMgPSB7XG4gICAgLy8gYEFycmF5LnByb3RvdHlwZS5pbmNsdWRlc2AgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuaW5jbHVkZXNcbiAgICBpbmNsdWRlczogY3JlYXRlTWV0aG9kJDIodHJ1ZSksXG4gICAgLy8gYEFycmF5LnByb3RvdHlwZS5pbmRleE9mYCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5pbmRleG9mXG4gICAgaW5kZXhPZjogY3JlYXRlTWV0aG9kJDIoZmFsc2UpXG4gIH07XG5cbiAgdmFyIHVuY3VycnlUaGlzJGMgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuICB2YXIgaGFzT3duJDEgPSBoYXNPd25Qcm9wZXJ0eV8xO1xuICB2YXIgdG9JbmRleGVkT2JqZWN0JDMgPSB0b0luZGV4ZWRPYmplY3QkNjtcbiAgdmFyIGluZGV4T2YkMSA9IGFycmF5SW5jbHVkZXMuaW5kZXhPZjtcbiAgdmFyIGhpZGRlbktleXMkMiA9IGhpZGRlbktleXMkNDtcblxuICB2YXIgcHVzaCQyID0gdW5jdXJyeVRoaXMkYyhbXS5wdXNoKTtcblxuICB2YXIgb2JqZWN0S2V5c0ludGVybmFsID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZXMpIHtcbiAgICB2YXIgTyA9IHRvSW5kZXhlZE9iamVjdCQzKG9iamVjdCk7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIga2V5O1xuICAgIGZvciAoa2V5IGluIE8pICFoYXNPd24kMShoaWRkZW5LZXlzJDIsIGtleSkgJiYgaGFzT3duJDEoTywga2V5KSAmJiBwdXNoJDIocmVzdWx0LCBrZXkpO1xuICAgIC8vIERvbid0IGVudW0gYnVnICYgaGlkZGVuIGtleXNcbiAgICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkgaWYgKGhhc093biQxKE8sIGtleSA9IG5hbWVzW2krK10pKSB7XG4gICAgICB+aW5kZXhPZiQxKHJlc3VsdCwga2V5KSB8fCBwdXNoJDIocmVzdWx0LCBrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIElFOC0gZG9uJ3QgZW51bSBidWcga2V5c1xuICB2YXIgZW51bUJ1Z0tleXMkMyA9IFtcbiAgICAnY29uc3RydWN0b3InLFxuICAgICdoYXNPd25Qcm9wZXJ0eScsXG4gICAgJ2lzUHJvdG90eXBlT2YnLFxuICAgICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsXG4gICAgJ3RvTG9jYWxlU3RyaW5nJyxcbiAgICAndG9TdHJpbmcnLFxuICAgICd2YWx1ZU9mJ1xuICBdO1xuXG4gIHZhciBpbnRlcm5hbE9iamVjdEtleXMkMSA9IG9iamVjdEtleXNJbnRlcm5hbDtcbiAgdmFyIGVudW1CdWdLZXlzJDIgPSBlbnVtQnVnS2V5cyQzO1xuXG4gIHZhciBoaWRkZW5LZXlzJDEgPSBlbnVtQnVnS2V5cyQyLmNvbmNhdCgnbGVuZ3RoJywgJ3Byb3RvdHlwZScpO1xuXG4gIC8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldG93bnByb3BlcnR5bmFtZXNcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eW5hbWVzIC0tIHNhZmVcbiAgb2JqZWN0R2V0T3duUHJvcGVydHlOYW1lcy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKSB7XG4gICAgcmV0dXJuIGludGVybmFsT2JqZWN0S2V5cyQxKE8sIGhpZGRlbktleXMkMSk7XG4gIH07XG5cbiAgdmFyIG9iamVjdEdldE93blByb3BlcnR5U3ltYm9scyA9IHt9O1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlzeW1ib2xzIC0tIHNhZmVcbiAgb2JqZWN0R2V0T3duUHJvcGVydHlTeW1ib2xzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG4gIHZhciBnZXRCdWlsdEluJDIgPSBnZXRCdWlsdEluJDU7XG4gIHZhciB1bmN1cnJ5VGhpcyRiID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcbiAgdmFyIGdldE93blByb3BlcnR5TmFtZXNNb2R1bGUgPSBvYmplY3RHZXRPd25Qcm9wZXJ0eU5hbWVzO1xuICB2YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzTW9kdWxlJDEgPSBvYmplY3RHZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG4gIHZhciBhbk9iamVjdCQ1ID0gYW5PYmplY3QkNztcblxuICB2YXIgY29uY2F0JDIgPSB1bmN1cnJ5VGhpcyRiKFtdLmNvbmNhdCk7XG5cbiAgLy8gYWxsIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBub24tZW51bWVyYWJsZSBhbmQgc3ltYm9sc1xuICB2YXIgb3duS2V5cyQxID0gZ2V0QnVpbHRJbiQyKCdSZWZsZWN0JywgJ293bktleXMnKSB8fCBmdW5jdGlvbiBvd25LZXlzKGl0KSB7XG4gICAgdmFyIGtleXMgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzTW9kdWxlLmYoYW5PYmplY3QkNShpdCkpO1xuICAgIHZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUkMS5mO1xuICAgIHJldHVybiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPyBjb25jYXQkMihrZXlzLCBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpKSA6IGtleXM7XG4gIH07XG5cbiAgdmFyIGhhc093biA9IGhhc093blByb3BlcnR5XzE7XG4gIHZhciBvd25LZXlzID0gb3duS2V5cyQxO1xuICB2YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yTW9kdWxlID0gb2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICB2YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUkMiA9IG9iamVjdERlZmluZVByb3BlcnR5O1xuXG4gIHZhciBjb3B5Q29uc3RydWN0b3JQcm9wZXJ0aWVzJDEgPSBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UsIGV4Y2VwdGlvbnMpIHtcbiAgICB2YXIga2V5cyA9IG93bktleXMoc291cmNlKTtcbiAgICB2YXIgZGVmaW5lUHJvcGVydHkgPSBkZWZpbmVQcm9wZXJ0eU1vZHVsZSQyLmY7XG4gICAgdmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvck1vZHVsZS5mO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICBpZiAoIWhhc093bih0YXJnZXQsIGtleSkgJiYgIShleGNlcHRpb25zICYmIGhhc093bihleGNlcHRpb25zLCBrZXkpKSkge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBmYWlscyRhID0gZmFpbHMkaTtcbiAgdmFyIGlzQ2FsbGFibGUkNCA9IGlzQ2FsbGFibGUkZTtcblxuICB2YXIgcmVwbGFjZW1lbnQgPSAvI3xcXC5wcm90b3R5cGVcXC4vO1xuXG4gIHZhciBpc0ZvcmNlZCQxID0gZnVuY3Rpb24gKGZlYXR1cmUsIGRldGVjdGlvbikge1xuICAgIHZhciB2YWx1ZSA9IGRhdGFbbm9ybWFsaXplKGZlYXR1cmUpXTtcbiAgICByZXR1cm4gdmFsdWUgPT0gUE9MWUZJTEwgPyB0cnVlXG4gICAgICA6IHZhbHVlID09IE5BVElWRSA/IGZhbHNlXG4gICAgICA6IGlzQ2FsbGFibGUkNChkZXRlY3Rpb24pID8gZmFpbHMkYShkZXRlY3Rpb24pXG4gICAgICA6ICEhZGV0ZWN0aW9uO1xuICB9O1xuXG4gIHZhciBub3JtYWxpemUgPSBpc0ZvcmNlZCQxLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcbiAgICByZXR1cm4gU3RyaW5nKHN0cmluZykucmVwbGFjZShyZXBsYWNlbWVudCwgJy4nKS50b0xvd2VyQ2FzZSgpO1xuICB9O1xuXG4gIHZhciBkYXRhID0gaXNGb3JjZWQkMS5kYXRhID0ge307XG4gIHZhciBOQVRJVkUgPSBpc0ZvcmNlZCQxLk5BVElWRSA9ICdOJztcbiAgdmFyIFBPTFlGSUxMID0gaXNGb3JjZWQkMS5QT0xZRklMTCA9ICdQJztcblxuICB2YXIgaXNGb3JjZWRfMSA9IGlzRm9yY2VkJDE7XG5cbiAgdmFyIGdsb2JhbCQ1ID0gZ2xvYmFsJGU7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBvYmplY3RHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IuZjtcbiAgdmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSQyID0gY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDQ7XG4gIHZhciBkZWZpbmVCdWlsdEluJDIgPSBkZWZpbmVCdWlsdEluJDM7XG4gIHZhciBkZWZpbmVHbG9iYWxQcm9wZXJ0eSA9IGRlZmluZUdsb2JhbFByb3BlcnR5JDM7XG4gIHZhciBjb3B5Q29uc3RydWN0b3JQcm9wZXJ0aWVzID0gY29weUNvbnN0cnVjdG9yUHJvcGVydGllcyQxO1xuICB2YXIgaXNGb3JjZWQgPSBpc0ZvcmNlZF8xO1xuXG4gIC8qXG4gICAgb3B0aW9ucy50YXJnZXQgICAgICAgICAtIG5hbWUgb2YgdGhlIHRhcmdldCBvYmplY3RcbiAgICBvcHRpb25zLmdsb2JhbCAgICAgICAgIC0gdGFyZ2V0IGlzIHRoZSBnbG9iYWwgb2JqZWN0XG4gICAgb3B0aW9ucy5zdGF0ICAgICAgICAgICAtIGV4cG9ydCBhcyBzdGF0aWMgbWV0aG9kcyBvZiB0YXJnZXRcbiAgICBvcHRpb25zLnByb3RvICAgICAgICAgIC0gZXhwb3J0IGFzIHByb3RvdHlwZSBtZXRob2RzIG9mIHRhcmdldFxuICAgIG9wdGlvbnMucmVhbCAgICAgICAgICAgLSByZWFsIHByb3RvdHlwZSBtZXRob2QgZm9yIHRoZSBgcHVyZWAgdmVyc2lvblxuICAgIG9wdGlvbnMuZm9yY2VkICAgICAgICAgLSBleHBvcnQgZXZlbiBpZiB0aGUgbmF0aXZlIGZlYXR1cmUgaXMgYXZhaWxhYmxlXG4gICAgb3B0aW9ucy5iaW5kICAgICAgICAgICAtIGJpbmQgbWV0aG9kcyB0byB0aGUgdGFyZ2V0LCByZXF1aXJlZCBmb3IgdGhlIGBwdXJlYCB2ZXJzaW9uXG4gICAgb3B0aW9ucy53cmFwICAgICAgICAgICAtIHdyYXAgY29uc3RydWN0b3JzIHRvIHByZXZlbnRpbmcgZ2xvYmFsIHBvbGx1dGlvbiwgcmVxdWlyZWQgZm9yIHRoZSBgcHVyZWAgdmVyc2lvblxuICAgIG9wdGlvbnMudW5zYWZlICAgICAgICAgLSB1c2UgdGhlIHNpbXBsZSBhc3NpZ25tZW50IG9mIHByb3BlcnR5IGluc3RlYWQgb2YgZGVsZXRlICsgZGVmaW5lUHJvcGVydHlcbiAgICBvcHRpb25zLnNoYW0gICAgICAgICAgIC0gYWRkIGEgZmxhZyB0byBub3QgY29tcGxldGVseSBmdWxsIHBvbHlmaWxsc1xuICAgIG9wdGlvbnMuZW51bWVyYWJsZSAgICAgLSBleHBvcnQgYXMgZW51bWVyYWJsZSBwcm9wZXJ0eVxuICAgIG9wdGlvbnMuZG9udENhbGxHZXRTZXQgLSBwcmV2ZW50IGNhbGxpbmcgYSBnZXR0ZXIgb24gdGFyZ2V0XG4gICAgb3B0aW9ucy5uYW1lICAgICAgICAgICAtIHRoZSAubmFtZSBvZiB0aGUgZnVuY3Rpb24gaWYgaXQgZG9lcyBub3QgbWF0Y2ggdGhlIGtleVxuICAqL1xuICB2YXIgX2V4cG9ydCA9IGZ1bmN0aW9uIChvcHRpb25zLCBzb3VyY2UpIHtcbiAgICB2YXIgVEFSR0VUID0gb3B0aW9ucy50YXJnZXQ7XG4gICAgdmFyIEdMT0JBTCA9IG9wdGlvbnMuZ2xvYmFsO1xuICAgIHZhciBTVEFUSUMgPSBvcHRpb25zLnN0YXQ7XG4gICAgdmFyIEZPUkNFRCwgdGFyZ2V0LCBrZXksIHRhcmdldFByb3BlcnR5LCBzb3VyY2VQcm9wZXJ0eSwgZGVzY3JpcHRvcjtcbiAgICBpZiAoR0xPQkFMKSB7XG4gICAgICB0YXJnZXQgPSBnbG9iYWwkNTtcbiAgICB9IGVsc2UgaWYgKFNUQVRJQykge1xuICAgICAgdGFyZ2V0ID0gZ2xvYmFsJDVbVEFSR0VUXSB8fCBkZWZpbmVHbG9iYWxQcm9wZXJ0eShUQVJHRVQsIHt9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0ID0gKGdsb2JhbCQ1W1RBUkdFVF0gfHwge30pLnByb3RvdHlwZTtcbiAgICB9XG4gICAgaWYgKHRhcmdldCkgZm9yIChrZXkgaW4gc291cmNlKSB7XG4gICAgICBzb3VyY2VQcm9wZXJ0eSA9IHNvdXJjZVtrZXldO1xuICAgICAgaWYgKG9wdGlvbnMuZG9udENhbGxHZXRTZXQpIHtcbiAgICAgICAgZGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSk7XG4gICAgICAgIHRhcmdldFByb3BlcnR5ID0gZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLnZhbHVlO1xuICAgICAgfSBlbHNlIHRhcmdldFByb3BlcnR5ID0gdGFyZ2V0W2tleV07XG4gICAgICBGT1JDRUQgPSBpc0ZvcmNlZChHTE9CQUwgPyBrZXkgOiBUQVJHRVQgKyAoU1RBVElDID8gJy4nIDogJyMnKSArIGtleSwgb3B0aW9ucy5mb3JjZWQpO1xuICAgICAgLy8gY29udGFpbmVkIGluIHRhcmdldFxuICAgICAgaWYgKCFGT1JDRUQgJiYgdGFyZ2V0UHJvcGVydHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZVByb3BlcnR5ID09IHR5cGVvZiB0YXJnZXRQcm9wZXJ0eSkgY29udGludWU7XG4gICAgICAgIGNvcHlDb25zdHJ1Y3RvclByb3BlcnRpZXMoc291cmNlUHJvcGVydHksIHRhcmdldFByb3BlcnR5KTtcbiAgICAgIH1cbiAgICAgIC8vIGFkZCBhIGZsYWcgdG8gbm90IGNvbXBsZXRlbHkgZnVsbCBwb2x5ZmlsbHNcbiAgICAgIGlmIChvcHRpb25zLnNoYW0gfHwgKHRhcmdldFByb3BlcnR5ICYmIHRhcmdldFByb3BlcnR5LnNoYW0pKSB7XG4gICAgICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSQyKHNvdXJjZVByb3BlcnR5LCAnc2hhbScsIHRydWUpO1xuICAgICAgfVxuICAgICAgZGVmaW5lQnVpbHRJbiQyKHRhcmdldCwga2V5LCBzb3VyY2VQcm9wZXJ0eSwgb3B0aW9ucyk7XG4gICAgfVxuICB9O1xuXG4gIHZhciB3ZWxsS25vd25TeW1ib2wkOCA9IHdlbGxLbm93blN5bWJvbCRhO1xuXG4gIHZhciBUT19TVFJJTkdfVEFHJDEgPSB3ZWxsS25vd25TeW1ib2wkOCgndG9TdHJpbmdUYWcnKTtcbiAgdmFyIHRlc3QgPSB7fTtcblxuICB0ZXN0W1RPX1NUUklOR19UQUckMV0gPSAneic7XG5cbiAgdmFyIHRvU3RyaW5nVGFnU3VwcG9ydCA9IFN0cmluZyh0ZXN0KSA9PT0gJ1tvYmplY3Qgel0nO1xuXG4gIHZhciBUT19TVFJJTkdfVEFHX1NVUFBPUlQkMiA9IHRvU3RyaW5nVGFnU3VwcG9ydDtcbiAgdmFyIGlzQ2FsbGFibGUkMyA9IGlzQ2FsbGFibGUkZTtcbiAgdmFyIGNsYXNzb2ZSYXcgPSBjbGFzc29mUmF3JDI7XG4gIHZhciB3ZWxsS25vd25TeW1ib2wkNyA9IHdlbGxLbm93blN5bWJvbCRhO1xuXG4gIHZhciBUT19TVFJJTkdfVEFHID0gd2VsbEtub3duU3ltYm9sJDcoJ3RvU3RyaW5nVGFnJyk7XG4gIHZhciAkT2JqZWN0ID0gT2JqZWN0O1xuXG4gIC8vIEVTMyB3cm9uZyBoZXJlXG4gIHZhciBDT1JSRUNUX0FSR1VNRU5UUyA9IGNsYXNzb2ZSYXcoZnVuY3Rpb24gKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID09ICdBcmd1bWVudHMnO1xuXG4gIC8vIGZhbGxiYWNrIGZvciBJRTExIFNjcmlwdCBBY2Nlc3MgRGVuaWVkIGVycm9yXG4gIHZhciB0cnlHZXQgPSBmdW5jdGlvbiAoaXQsIGtleSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gaXRba2V5XTtcbiAgICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG4gIH07XG5cbiAgLy8gZ2V0dGluZyB0YWcgZnJvbSBFUzYrIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYFxuICB2YXIgY2xhc3NvZiQ1ID0gVE9fU1RSSU5HX1RBR19TVVBQT1JUJDIgPyBjbGFzc29mUmF3IDogZnVuY3Rpb24gKGl0KSB7XG4gICAgdmFyIE8sIHRhZywgcmVzdWx0O1xuICAgIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiBpdCA9PT0gbnVsbCA/ICdOdWxsJ1xuICAgICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlXG4gICAgICA6IHR5cGVvZiAodGFnID0gdHJ5R2V0KE8gPSAkT2JqZWN0KGl0KSwgVE9fU1RSSU5HX1RBRykpID09ICdzdHJpbmcnID8gdGFnXG4gICAgICAvLyBidWlsdGluVGFnIGNhc2VcbiAgICAgIDogQ09SUkVDVF9BUkdVTUVOVFMgPyBjbGFzc29mUmF3KE8pXG4gICAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG4gICAgICA6IChyZXN1bHQgPSBjbGFzc29mUmF3KE8pKSA9PSAnT2JqZWN0JyAmJiBpc0NhbGxhYmxlJDMoTy5jYWxsZWUpID8gJ0FyZ3VtZW50cycgOiByZXN1bHQ7XG4gIH07XG5cbiAgdmFyIGNsYXNzb2YkNCA9IGNsYXNzb2YkNTtcblxuICB2YXIgJFN0cmluZyA9IFN0cmluZztcblxuICB2YXIgdG9TdHJpbmckNCA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIGlmIChjbGFzc29mJDQoYXJndW1lbnQpID09PSAnU3ltYm9sJykgdGhyb3cgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCBhIFN5bWJvbCB2YWx1ZSB0byBhIHN0cmluZycpO1xuICAgIHJldHVybiAkU3RyaW5nKGFyZ3VtZW50KTtcbiAgfTtcblxuICB2YXIgYW5PYmplY3QkNCA9IGFuT2JqZWN0JDc7XG5cbiAgLy8gYFJlZ0V4cC5wcm90b3R5cGUuZmxhZ3NgIGdldHRlciBpbXBsZW1lbnRhdGlvblxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWdldC1yZWdleHAucHJvdG90eXBlLmZsYWdzXG4gIHZhciByZWdleHBGbGFncyQxID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gYW5PYmplY3QkNCh0aGlzKTtcbiAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgaWYgKHRoYXQuaGFzSW5kaWNlcykgcmVzdWx0ICs9ICdkJztcbiAgICBpZiAodGhhdC5nbG9iYWwpIHJlc3VsdCArPSAnZyc7XG4gICAgaWYgKHRoYXQuaWdub3JlQ2FzZSkgcmVzdWx0ICs9ICdpJztcbiAgICBpZiAodGhhdC5tdWx0aWxpbmUpIHJlc3VsdCArPSAnbSc7XG4gICAgaWYgKHRoYXQuZG90QWxsKSByZXN1bHQgKz0gJ3MnO1xuICAgIGlmICh0aGF0LnVuaWNvZGUpIHJlc3VsdCArPSAndSc7XG4gICAgaWYgKHRoYXQudW5pY29kZVNldHMpIHJlc3VsdCArPSAndic7XG4gICAgaWYgKHRoYXQuc3RpY2t5KSByZXN1bHQgKz0gJ3knO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgdmFyIGZhaWxzJDkgPSBmYWlscyRpO1xuICB2YXIgZ2xvYmFsJDQgPSBnbG9iYWwkZTtcblxuICAvLyBiYWJlbC1taW5pZnkgYW5kIENsb3N1cmUgQ29tcGlsZXIgdHJhbnNwaWxlcyBSZWdFeHAoJ2EnLCAneScpIC0+IC9hL3kgYW5kIGl0IGNhdXNlcyBTeW50YXhFcnJvclxuICB2YXIgJFJlZ0V4cCQyID0gZ2xvYmFsJDQuUmVnRXhwO1xuXG4gIHZhciBVTlNVUFBPUlRFRF9ZJDEgPSBmYWlscyQ5KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmUgPSAkUmVnRXhwJDIoJ2EnLCAneScpO1xuICAgIHJlLmxhc3RJbmRleCA9IDI7XG4gICAgcmV0dXJuIHJlLmV4ZWMoJ2FiY2QnKSAhPSBudWxsO1xuICB9KTtcblxuICAvLyBVQyBCcm93c2VyIGJ1Z1xuICAvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMTAwOFxuICB2YXIgTUlTU0VEX1NUSUNLWSA9IFVOU1VQUE9SVEVEX1kkMSB8fCBmYWlscyQ5KGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gISRSZWdFeHAkMignYScsICd5Jykuc3RpY2t5O1xuICB9KTtcblxuICB2YXIgQlJPS0VOX0NBUkVUID0gVU5TVVBQT1JURURfWSQxIHx8IGZhaWxzJDkoZnVuY3Rpb24gKCkge1xuICAgIC8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTc3MzY4N1xuICAgIHZhciByZSA9ICRSZWdFeHAkMignXnInLCAnZ3knKTtcbiAgICByZS5sYXN0SW5kZXggPSAyO1xuICAgIHJldHVybiByZS5leGVjKCdzdHInKSAhPSBudWxsO1xuICB9KTtcblxuICB2YXIgcmVnZXhwU3RpY2t5SGVscGVycyA9IHtcbiAgICBCUk9LRU5fQ0FSRVQ6IEJST0tFTl9DQVJFVCxcbiAgICBNSVNTRURfU1RJQ0tZOiBNSVNTRURfU1RJQ0tZLFxuICAgIFVOU1VQUE9SVEVEX1k6IFVOU1VQUE9SVEVEX1kkMVxuICB9O1xuXG4gIHZhciBvYmplY3REZWZpbmVQcm9wZXJ0aWVzID0ge307XG5cbiAgdmFyIGludGVybmFsT2JqZWN0S2V5cyA9IG9iamVjdEtleXNJbnRlcm5hbDtcbiAgdmFyIGVudW1CdWdLZXlzJDEgPSBlbnVtQnVnS2V5cyQzO1xuXG4gIC8vIGBPYmplY3Qua2V5c2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmtleXNcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1rZXlzIC0tIHNhZmVcbiAgdmFyIG9iamVjdEtleXMkMiA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMoTykge1xuICAgIHJldHVybiBpbnRlcm5hbE9iamVjdEtleXMoTywgZW51bUJ1Z0tleXMkMSk7XG4gIH07XG5cbiAgdmFyIERFU0NSSVBUT1JTJDEgPSBkZXNjcmlwdG9ycztcbiAgdmFyIFY4X1BST1RPVFlQRV9ERUZJTkVfQlVHID0gdjhQcm90b3R5cGVEZWZpbmVCdWc7XG4gIHZhciBkZWZpbmVQcm9wZXJ0eU1vZHVsZSQxID0gb2JqZWN0RGVmaW5lUHJvcGVydHk7XG4gIHZhciBhbk9iamVjdCQzID0gYW5PYmplY3QkNztcbiAgdmFyIHRvSW5kZXhlZE9iamVjdCQyID0gdG9JbmRleGVkT2JqZWN0JDY7XG4gIHZhciBvYmplY3RLZXlzJDEgPSBvYmplY3RLZXlzJDI7XG5cbiAgLy8gYE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZGVmaW5lcHJvcGVydGllc1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnRpZXMgLS0gc2FmZVxuICBvYmplY3REZWZpbmVQcm9wZXJ0aWVzLmYgPSBERVNDUklQVE9SUyQxICYmICFWOF9QUk9UT1RZUEVfREVGSU5FX0JVRyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKSB7XG4gICAgYW5PYmplY3QkMyhPKTtcbiAgICB2YXIgcHJvcHMgPSB0b0luZGV4ZWRPYmplY3QkMihQcm9wZXJ0aWVzKTtcbiAgICB2YXIga2V5cyA9IG9iamVjdEtleXMkMShQcm9wZXJ0aWVzKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIga2V5O1xuICAgIHdoaWxlIChsZW5ndGggPiBpbmRleCkgZGVmaW5lUHJvcGVydHlNb2R1bGUkMS5mKE8sIGtleSA9IGtleXNbaW5kZXgrK10sIHByb3BzW2tleV0pO1xuICAgIHJldHVybiBPO1xuICB9O1xuXG4gIHZhciBnZXRCdWlsdEluJDEgPSBnZXRCdWlsdEluJDU7XG5cbiAgdmFyIGh0bWwkMSA9IGdldEJ1aWx0SW4kMSgnZG9jdW1lbnQnLCAnZG9jdW1lbnRFbGVtZW50Jyk7XG5cbiAgLyogZ2xvYmFsIEFjdGl2ZVhPYmplY3QgLS0gb2xkIElFLCBXU0ggKi9cblxuICB2YXIgYW5PYmplY3QkMiA9IGFuT2JqZWN0JDc7XG4gIHZhciBkZWZpbmVQcm9wZXJ0aWVzTW9kdWxlID0gb2JqZWN0RGVmaW5lUHJvcGVydGllcztcbiAgdmFyIGVudW1CdWdLZXlzID0gZW51bUJ1Z0tleXMkMztcbiAgdmFyIGhpZGRlbktleXMgPSBoaWRkZW5LZXlzJDQ7XG4gIHZhciBodG1sID0gaHRtbCQxO1xuICB2YXIgZG9jdW1lbnRDcmVhdGVFbGVtZW50JDEgPSBkb2N1bWVudENyZWF0ZUVsZW1lbnQkMjtcbiAgdmFyIHNoYXJlZEtleSA9IHNoYXJlZEtleSQyO1xuXG4gIHZhciBHVCA9ICc+JztcbiAgdmFyIExUID0gJzwnO1xuICB2YXIgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG4gIHZhciBTQ1JJUFQgPSAnc2NyaXB0JztcbiAgdmFyIElFX1BST1RPID0gc2hhcmVkS2V5KCdJRV9QUk9UTycpO1xuXG4gIHZhciBFbXB0eUNvbnN0cnVjdG9yID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xuXG4gIHZhciBzY3JpcHRUYWcgPSBmdW5jdGlvbiAoY29udGVudCkge1xuICAgIHJldHVybiBMVCArIFNDUklQVCArIEdUICsgY29udGVudCArIExUICsgJy8nICsgU0NSSVBUICsgR1Q7XG4gIH07XG5cbiAgLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIEFjdGl2ZVggT2JqZWN0IHdpdGggY2xlYXJlZCBwcm90b3R5cGVcbiAgdmFyIE51bGxQcm90b09iamVjdFZpYUFjdGl2ZVggPSBmdW5jdGlvbiAoYWN0aXZlWERvY3VtZW50KSB7XG4gICAgYWN0aXZlWERvY3VtZW50LndyaXRlKHNjcmlwdFRhZygnJykpO1xuICAgIGFjdGl2ZVhEb2N1bWVudC5jbG9zZSgpO1xuICAgIHZhciB0ZW1wID0gYWN0aXZlWERvY3VtZW50LnBhcmVudFdpbmRvdy5PYmplY3Q7XG4gICAgYWN0aXZlWERvY3VtZW50ID0gbnVsbDsgLy8gYXZvaWQgbWVtb3J5IGxlYWtcbiAgICByZXR1cm4gdGVtcDtcbiAgfTtcblxuICAvLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgaWZyYW1lIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG4gIHZhciBOdWxsUHJvdG9PYmplY3RWaWFJRnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcbiAgICB2YXIgaWZyYW1lID0gZG9jdW1lbnRDcmVhdGVFbGVtZW50JDEoJ2lmcmFtZScpO1xuICAgIHZhciBKUyA9ICdqYXZhJyArIFNDUklQVCArICc6JztcbiAgICB2YXIgaWZyYW1lRG9jdW1lbnQ7XG4gICAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgaHRtbC5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy80NzVcbiAgICBpZnJhbWUuc3JjID0gU3RyaW5nKEpTKTtcbiAgICBpZnJhbWVEb2N1bWVudCA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICAgIGlmcmFtZURvY3VtZW50Lm9wZW4oKTtcbiAgICBpZnJhbWVEb2N1bWVudC53cml0ZShzY3JpcHRUYWcoJ2RvY3VtZW50LkY9T2JqZWN0JykpO1xuICAgIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG4gICAgcmV0dXJuIGlmcmFtZURvY3VtZW50LkY7XG4gIH07XG5cbiAgLy8gQ2hlY2sgZm9yIGRvY3VtZW50LmRvbWFpbiBhbmQgYWN0aXZlIHggc3VwcG9ydFxuICAvLyBObyBuZWVkIHRvIHVzZSBhY3RpdmUgeCBhcHByb2FjaCB3aGVuIGRvY3VtZW50LmRvbWFpbiBpcyBub3Qgc2V0XG4gIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXMtc2hpbXMvZXM1LXNoaW0vaXNzdWVzLzE1MFxuICAvLyB2YXJpYXRpb24gb2YgaHR0cHM6Ly9naXRodWIuY29tL2tpdGNhbWJyaWRnZS9lczUtc2hpbS9jb21taXQvNGY3MzhhYzA2NjM0NlxuICAvLyBhdm9pZCBJRSBHQyBidWdcbiAgdmFyIGFjdGl2ZVhEb2N1bWVudDtcbiAgdmFyIE51bGxQcm90b09iamVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgYWN0aXZlWERvY3VtZW50ID0gbmV3IEFjdGl2ZVhPYmplY3QoJ2h0bWxmaWxlJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHsgLyogaWdub3JlICovIH1cbiAgICBOdWxsUHJvdG9PYmplY3QgPSB0eXBlb2YgZG9jdW1lbnQgIT0gJ3VuZGVmaW5lZCdcbiAgICAgID8gZG9jdW1lbnQuZG9tYWluICYmIGFjdGl2ZVhEb2N1bWVudFxuICAgICAgICA/IE51bGxQcm90b09iamVjdFZpYUFjdGl2ZVgoYWN0aXZlWERvY3VtZW50KSAvLyBvbGQgSUVcbiAgICAgICAgOiBOdWxsUHJvdG9PYmplY3RWaWFJRnJhbWUoKVxuICAgICAgOiBOdWxsUHJvdG9PYmplY3RWaWFBY3RpdmVYKGFjdGl2ZVhEb2N1bWVudCk7IC8vIFdTSFxuICAgIHZhciBsZW5ndGggPSBlbnVtQnVnS2V5cy5sZW5ndGg7XG4gICAgd2hpbGUgKGxlbmd0aC0tKSBkZWxldGUgTnVsbFByb3RvT2JqZWN0W1BST1RPVFlQRV1bZW51bUJ1Z0tleXNbbGVuZ3RoXV07XG4gICAgcmV0dXJuIE51bGxQcm90b09iamVjdCgpO1xuICB9O1xuXG4gIGhpZGRlbktleXNbSUVfUFJPVE9dID0gdHJ1ZTtcblxuICAvLyBgT2JqZWN0LmNyZWF0ZWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmNyZWF0ZVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWNyZWF0ZSAtLSBzYWZlXG4gIHZhciBvYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICBpZiAoTyAhPT0gbnVsbCkge1xuICAgICAgRW1wdHlDb25zdHJ1Y3RvcltQUk9UT1RZUEVdID0gYW5PYmplY3QkMihPKTtcbiAgICAgIHJlc3VsdCA9IG5ldyBFbXB0eUNvbnN0cnVjdG9yKCk7XG4gICAgICBFbXB0eUNvbnN0cnVjdG9yW1BST1RPVFlQRV0gPSBudWxsO1xuICAgICAgLy8gYWRkIFwiX19wcm90b19fXCIgZm9yIE9iamVjdC5nZXRQcm90b3R5cGVPZiBwb2x5ZmlsbFxuICAgICAgcmVzdWx0W0lFX1BST1RPXSA9IE87XG4gICAgfSBlbHNlIHJlc3VsdCA9IE51bGxQcm90b09iamVjdCgpO1xuICAgIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkZWZpbmVQcm9wZXJ0aWVzTW9kdWxlLmYocmVzdWx0LCBQcm9wZXJ0aWVzKTtcbiAgfTtcblxuICB2YXIgZmFpbHMkOCA9IGZhaWxzJGk7XG4gIHZhciBnbG9iYWwkMyA9IGdsb2JhbCRlO1xuXG4gIC8vIGJhYmVsLW1pbmlmeSBhbmQgQ2xvc3VyZSBDb21waWxlciB0cmFuc3BpbGVzIFJlZ0V4cCgnLicsICdzJykgLT4gLy4vcyBhbmQgaXQgY2F1c2VzIFN5bnRheEVycm9yXG4gIHZhciAkUmVnRXhwJDEgPSBnbG9iYWwkMy5SZWdFeHA7XG5cbiAgdmFyIHJlZ2V4cFVuc3VwcG9ydGVkRG90QWxsID0gZmFpbHMkOChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlID0gJFJlZ0V4cCQxKCcuJywgJ3MnKTtcbiAgICByZXR1cm4gIShyZS5kb3RBbGwgJiYgcmUuZXhlYygnXFxuJykgJiYgcmUuZmxhZ3MgPT09ICdzJyk7XG4gIH0pO1xuXG4gIHZhciBmYWlscyQ3ID0gZmFpbHMkaTtcbiAgdmFyIGdsb2JhbCQyID0gZ2xvYmFsJGU7XG5cbiAgLy8gYmFiZWwtbWluaWZ5IGFuZCBDbG9zdXJlIENvbXBpbGVyIHRyYW5zcGlsZXMgUmVnRXhwKCcoPzxhPmIpJywgJ2cnKSAtPiAvKD88YT5iKS9nIGFuZCBpdCBjYXVzZXMgU3ludGF4RXJyb3JcbiAgdmFyICRSZWdFeHAgPSBnbG9iYWwkMi5SZWdFeHA7XG5cbiAgdmFyIHJlZ2V4cFVuc3VwcG9ydGVkTmNnID0gZmFpbHMkNyhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlID0gJFJlZ0V4cCgnKD88YT5iKScsICdnJyk7XG4gICAgcmV0dXJuIHJlLmV4ZWMoJ2InKS5ncm91cHMuYSAhPT0gJ2InIHx8XG4gICAgICAnYicucmVwbGFjZShyZSwgJyQ8YT5jJykgIT09ICdiYyc7XG4gIH0pO1xuXG4gIC8qIGVzbGludC1kaXNhYmxlIHJlZ2V4cC9uby1lbXB0eS1jYXB0dXJpbmctZ3JvdXAsIHJlZ2V4cC9uby1lbXB0eS1ncm91cCwgcmVnZXhwL25vLWxhenktZW5kcyAtLSB0ZXN0aW5nICovXG4gIC8qIGVzbGludC1kaXNhYmxlIHJlZ2V4cC9uby11c2VsZXNzLXF1YW50aWZpZXIgLS0gdGVzdGluZyAqL1xuICB2YXIgY2FsbCQ0ID0gZnVuY3Rpb25DYWxsO1xuICB2YXIgdW5jdXJyeVRoaXMkYSA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciB0b1N0cmluZyQzID0gdG9TdHJpbmckNDtcbiAgdmFyIHJlZ2V4cEZsYWdzID0gcmVnZXhwRmxhZ3MkMTtcbiAgdmFyIHN0aWNreUhlbHBlcnMgPSByZWdleHBTdGlja3lIZWxwZXJzO1xuICB2YXIgc2hhcmVkID0gc2hhcmVkJDQuZXhwb3J0cztcbiAgdmFyIGNyZWF0ZSQxID0gb2JqZWN0Q3JlYXRlO1xuICB2YXIgZ2V0SW50ZXJuYWxTdGF0ZSA9IGludGVybmFsU3RhdGUuZ2V0O1xuICB2YXIgVU5TVVBQT1JURURfRE9UX0FMTCA9IHJlZ2V4cFVuc3VwcG9ydGVkRG90QWxsO1xuICB2YXIgVU5TVVBQT1JURURfTkNHID0gcmVnZXhwVW5zdXBwb3J0ZWROY2c7XG5cbiAgdmFyIG5hdGl2ZVJlcGxhY2UgPSBzaGFyZWQoJ25hdGl2ZS1zdHJpbmctcmVwbGFjZScsIFN0cmluZy5wcm90b3R5cGUucmVwbGFjZSk7XG4gIHZhciBuYXRpdmVFeGVjID0gUmVnRXhwLnByb3RvdHlwZS5leGVjO1xuICB2YXIgcGF0Y2hlZEV4ZWMgPSBuYXRpdmVFeGVjO1xuICB2YXIgY2hhckF0JDMgPSB1bmN1cnJ5VGhpcyRhKCcnLmNoYXJBdCk7XG4gIHZhciBpbmRleE9mID0gdW5jdXJyeVRoaXMkYSgnJy5pbmRleE9mKTtcbiAgdmFyIHJlcGxhY2UkMSA9IHVuY3VycnlUaGlzJGEoJycucmVwbGFjZSk7XG4gIHZhciBzdHJpbmdTbGljZSQzID0gdW5jdXJyeVRoaXMkYSgnJy5zbGljZSk7XG5cbiAgdmFyIFVQREFURVNfTEFTVF9JTkRFWF9XUk9ORyA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlMSA9IC9hLztcbiAgICB2YXIgcmUyID0gL2IqL2c7XG4gICAgY2FsbCQ0KG5hdGl2ZUV4ZWMsIHJlMSwgJ2EnKTtcbiAgICBjYWxsJDQobmF0aXZlRXhlYywgcmUyLCAnYScpO1xuICAgIHJldHVybiByZTEubGFzdEluZGV4ICE9PSAwIHx8IHJlMi5sYXN0SW5kZXggIT09IDA7XG4gIH0pKCk7XG5cbiAgdmFyIFVOU1VQUE9SVEVEX1kgPSBzdGlja3lIZWxwZXJzLkJST0tFTl9DQVJFVDtcblxuICAvLyBub25wYXJ0aWNpcGF0aW5nIGNhcHR1cmluZyBncm91cCwgY29waWVkIGZyb20gZXM1LXNoaW0ncyBTdHJpbmcjc3BsaXQgcGF0Y2guXG4gIHZhciBOUENHX0lOQ0xVREVEID0gLygpPz8vLmV4ZWMoJycpWzFdICE9PSB1bmRlZmluZWQ7XG5cbiAgdmFyIFBBVENIID0gVVBEQVRFU19MQVNUX0lOREVYX1dST05HIHx8IE5QQ0dfSU5DTFVERUQgfHwgVU5TVVBQT1JURURfWSB8fCBVTlNVUFBPUlRFRF9ET1RfQUxMIHx8IFVOU1VQUE9SVEVEX05DRztcblxuICBpZiAoUEFUQ0gpIHtcbiAgICBwYXRjaGVkRXhlYyA9IGZ1bmN0aW9uIGV4ZWMoc3RyaW5nKSB7XG4gICAgICB2YXIgcmUgPSB0aGlzO1xuICAgICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxTdGF0ZShyZSk7XG4gICAgICB2YXIgc3RyID0gdG9TdHJpbmckMyhzdHJpbmcpO1xuICAgICAgdmFyIHJhdyA9IHN0YXRlLnJhdztcbiAgICAgIHZhciByZXN1bHQsIHJlQ29weSwgbGFzdEluZGV4LCBtYXRjaCwgaSwgb2JqZWN0LCBncm91cDtcblxuICAgICAgaWYgKHJhdykge1xuICAgICAgICByYXcubGFzdEluZGV4ID0gcmUubGFzdEluZGV4O1xuICAgICAgICByZXN1bHQgPSBjYWxsJDQocGF0Y2hlZEV4ZWMsIHJhdywgc3RyKTtcbiAgICAgICAgcmUubGFzdEluZGV4ID0gcmF3Lmxhc3RJbmRleDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgdmFyIGdyb3VwcyA9IHN0YXRlLmdyb3VwcztcbiAgICAgIHZhciBzdGlja3kgPSBVTlNVUFBPUlRFRF9ZICYmIHJlLnN0aWNreTtcbiAgICAgIHZhciBmbGFncyA9IGNhbGwkNChyZWdleHBGbGFncywgcmUpO1xuICAgICAgdmFyIHNvdXJjZSA9IHJlLnNvdXJjZTtcbiAgICAgIHZhciBjaGFyc0FkZGVkID0gMDtcbiAgICAgIHZhciBzdHJDb3B5ID0gc3RyO1xuXG4gICAgICBpZiAoc3RpY2t5KSB7XG4gICAgICAgIGZsYWdzID0gcmVwbGFjZSQxKGZsYWdzLCAneScsICcnKTtcbiAgICAgICAgaWYgKGluZGV4T2YoZmxhZ3MsICdnJykgPT09IC0xKSB7XG4gICAgICAgICAgZmxhZ3MgKz0gJ2cnO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RyQ29weSA9IHN0cmluZ1NsaWNlJDMoc3RyLCByZS5sYXN0SW5kZXgpO1xuICAgICAgICAvLyBTdXBwb3J0IGFuY2hvcmVkIHN0aWNreSBiZWhhdmlvci5cbiAgICAgICAgaWYgKHJlLmxhc3RJbmRleCA+IDAgJiYgKCFyZS5tdWx0aWxpbmUgfHwgcmUubXVsdGlsaW5lICYmIGNoYXJBdCQzKHN0ciwgcmUubGFzdEluZGV4IC0gMSkgIT09ICdcXG4nKSkge1xuICAgICAgICAgIHNvdXJjZSA9ICcoPzogJyArIHNvdXJjZSArICcpJztcbiAgICAgICAgICBzdHJDb3B5ID0gJyAnICsgc3RyQ29weTtcbiAgICAgICAgICBjaGFyc0FkZGVkKys7XG4gICAgICAgIH1cbiAgICAgICAgLy8gXig/ICsgcnggKyApIGlzIG5lZWRlZCwgaW4gY29tYmluYXRpb24gd2l0aCBzb21lIHN0ciBzbGljaW5nLCB0b1xuICAgICAgICAvLyBzaW11bGF0ZSB0aGUgJ3knIGZsYWcuXG4gICAgICAgIHJlQ29weSA9IG5ldyBSZWdFeHAoJ14oPzonICsgc291cmNlICsgJyknLCBmbGFncyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChOUENHX0lOQ0xVREVEKSB7XG4gICAgICAgIHJlQ29weSA9IG5ldyBSZWdFeHAoJ14nICsgc291cmNlICsgJyQoPyFcXFxccyknLCBmbGFncyk7XG4gICAgICB9XG4gICAgICBpZiAoVVBEQVRFU19MQVNUX0lOREVYX1dST05HKSBsYXN0SW5kZXggPSByZS5sYXN0SW5kZXg7XG5cbiAgICAgIG1hdGNoID0gY2FsbCQ0KG5hdGl2ZUV4ZWMsIHN0aWNreSA/IHJlQ29weSA6IHJlLCBzdHJDb3B5KTtcblxuICAgICAgaWYgKHN0aWNreSkge1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICBtYXRjaC5pbnB1dCA9IHN0cmluZ1NsaWNlJDMobWF0Y2guaW5wdXQsIGNoYXJzQWRkZWQpO1xuICAgICAgICAgIG1hdGNoWzBdID0gc3RyaW5nU2xpY2UkMyhtYXRjaFswXSwgY2hhcnNBZGRlZCk7XG4gICAgICAgICAgbWF0Y2guaW5kZXggPSByZS5sYXN0SW5kZXg7XG4gICAgICAgICAgcmUubGFzdEluZGV4ICs9IG1hdGNoWzBdLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHJlLmxhc3RJbmRleCA9IDA7XG4gICAgICB9IGVsc2UgaWYgKFVQREFURVNfTEFTVF9JTkRFWF9XUk9ORyAmJiBtYXRjaCkge1xuICAgICAgICByZS5sYXN0SW5kZXggPSByZS5nbG9iYWwgPyBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCA6IGxhc3RJbmRleDtcbiAgICAgIH1cbiAgICAgIGlmIChOUENHX0lOQ0xVREVEICYmIG1hdGNoICYmIG1hdGNoLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgLy8gRml4IGJyb3dzZXJzIHdob3NlIGBleGVjYCBtZXRob2RzIGRvbid0IGNvbnNpc3RlbnRseSByZXR1cm4gYHVuZGVmaW5lZGBcbiAgICAgICAgLy8gZm9yIE5QQ0csIGxpa2UgSUU4LiBOT1RFOiBUaGlzIGRvZXNuJ3Qgd29yayBmb3IgLyguPyk/L1xuICAgICAgICBjYWxsJDQobmF0aXZlUmVwbGFjZSwgbWF0Y2hbMF0sIHJlQ29weSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGZvciAoaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoIC0gMjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzW2ldID09PSB1bmRlZmluZWQpIG1hdGNoW2ldID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChtYXRjaCAmJiBncm91cHMpIHtcbiAgICAgICAgbWF0Y2guZ3JvdXBzID0gb2JqZWN0ID0gY3JlYXRlJDEobnVsbCk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBncm91cHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBncm91cCA9IGdyb3Vwc1tpXTtcbiAgICAgICAgICBvYmplY3RbZ3JvdXBbMF1dID0gbWF0Y2hbZ3JvdXBbMV1dO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9O1xuICB9XG5cbiAgdmFyIHJlZ2V4cEV4ZWMkMiA9IHBhdGNoZWRFeGVjO1xuXG4gIHZhciAkJDYgPSBfZXhwb3J0O1xuICB2YXIgZXhlYyQxID0gcmVnZXhwRXhlYyQyO1xuXG4gIC8vIGBSZWdFeHAucHJvdG90eXBlLmV4ZWNgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXJlZ2V4cC5wcm90b3R5cGUuZXhlY1xuICAkJDYoeyB0YXJnZXQ6ICdSZWdFeHAnLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiAvLi8uZXhlYyAhPT0gZXhlYyQxIH0sIHtcbiAgICBleGVjOiBleGVjJDFcbiAgfSk7XG5cbiAgdmFyIE5BVElWRV9CSU5EJDEgPSBmdW5jdGlvbkJpbmROYXRpdmU7XG5cbiAgdmFyIEZ1bmN0aW9uUHJvdG90eXBlID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuICB2YXIgYXBwbHkkMSA9IEZ1bmN0aW9uUHJvdG90eXBlLmFwcGx5O1xuICB2YXIgY2FsbCQzID0gRnVuY3Rpb25Qcm90b3R5cGUuY2FsbDtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tcmVmbGVjdCAtLSBzYWZlXG4gIHZhciBmdW5jdGlvbkFwcGx5ID0gdHlwZW9mIFJlZmxlY3QgPT0gJ29iamVjdCcgJiYgUmVmbGVjdC5hcHBseSB8fCAoTkFUSVZFX0JJTkQkMSA/IGNhbGwkMy5iaW5kKGFwcGx5JDEpIDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjYWxsJDMuYXBwbHkoYXBwbHkkMSwgYXJndW1lbnRzKTtcbiAgfSk7XG5cbiAgLy8gVE9ETzogUmVtb3ZlIGZyb20gYGNvcmUtanNANGAgc2luY2UgaXQncyBtb3ZlZCB0byBlbnRyeSBwb2ludHNcblxuICB2YXIgdW5jdXJyeVRoaXMkOSA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciBkZWZpbmVCdWlsdEluJDEgPSBkZWZpbmVCdWlsdEluJDM7XG4gIHZhciByZWdleHBFeGVjJDEgPSByZWdleHBFeGVjJDI7XG4gIHZhciBmYWlscyQ2ID0gZmFpbHMkaTtcbiAgdmFyIHdlbGxLbm93blN5bWJvbCQ2ID0gd2VsbEtub3duU3ltYm9sJGE7XG4gIHZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkMSA9IGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSQ0O1xuXG4gIHZhciBTUEVDSUVTJDMgPSB3ZWxsS25vd25TeW1ib2wkNignc3BlY2llcycpO1xuICB2YXIgUmVnRXhwUHJvdG90eXBlID0gUmVnRXhwLnByb3RvdHlwZTtcblxuICB2YXIgZml4UmVnZXhwV2VsbEtub3duU3ltYm9sTG9naWMgPSBmdW5jdGlvbiAoS0VZLCBleGVjLCBGT1JDRUQsIFNIQU0pIHtcbiAgICB2YXIgU1lNQk9MID0gd2VsbEtub3duU3ltYm9sJDYoS0VZKTtcblxuICAgIHZhciBERUxFR0FURVNfVE9fU1lNQk9MID0gIWZhaWxzJDYoZnVuY3Rpb24gKCkge1xuICAgICAgLy8gU3RyaW5nIG1ldGhvZHMgY2FsbCBzeW1ib2wtbmFtZWQgUmVnRXAgbWV0aG9kc1xuICAgICAgdmFyIE8gPSB7fTtcbiAgICAgIE9bU1lNQk9MXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH07XG4gICAgICByZXR1cm4gJydbS0VZXShPKSAhPSA3O1xuICAgIH0pO1xuXG4gICAgdmFyIERFTEVHQVRFU19UT19FWEVDID0gREVMRUdBVEVTX1RPX1NZTUJPTCAmJiAhZmFpbHMkNihmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBTeW1ib2wtbmFtZWQgUmVnRXhwIG1ldGhvZHMgY2FsbCAuZXhlY1xuICAgICAgdmFyIGV4ZWNDYWxsZWQgPSBmYWxzZTtcbiAgICAgIHZhciByZSA9IC9hLztcblxuICAgICAgaWYgKEtFWSA9PT0gJ3NwbGl0Jykge1xuICAgICAgICAvLyBXZSBjYW4ndCB1c2UgcmVhbCByZWdleCBoZXJlIHNpbmNlIGl0IGNhdXNlcyBkZW9wdGltaXphdGlvblxuICAgICAgICAvLyBhbmQgc2VyaW91cyBwZXJmb3JtYW5jZSBkZWdyYWRhdGlvbiBpbiBWOFxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMzA2XG4gICAgICAgIHJlID0ge307XG4gICAgICAgIC8vIFJlZ0V4cFtAQHNwbGl0XSBkb2Vzbid0IGNhbGwgdGhlIHJlZ2V4J3MgZXhlYyBtZXRob2QsIGJ1dCBmaXJzdCBjcmVhdGVzXG4gICAgICAgIC8vIGEgbmV3IG9uZS4gV2UgbmVlZCB0byByZXR1cm4gdGhlIHBhdGNoZWQgcmVnZXggd2hlbiBjcmVhdGluZyB0aGUgbmV3IG9uZS5cbiAgICAgICAgcmUuY29uc3RydWN0b3IgPSB7fTtcbiAgICAgICAgcmUuY29uc3RydWN0b3JbU1BFQ0lFUyQzXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlOyB9O1xuICAgICAgICByZS5mbGFncyA9ICcnO1xuICAgICAgICByZVtTWU1CT0xdID0gLy4vW1NZTUJPTF07XG4gICAgICB9XG5cbiAgICAgIHJlLmV4ZWMgPSBmdW5jdGlvbiAoKSB7IGV4ZWNDYWxsZWQgPSB0cnVlOyByZXR1cm4gbnVsbDsgfTtcblxuICAgICAgcmVbU1lNQk9MXSgnJyk7XG4gICAgICByZXR1cm4gIWV4ZWNDYWxsZWQ7XG4gICAgfSk7XG5cbiAgICBpZiAoXG4gICAgICAhREVMRUdBVEVTX1RPX1NZTUJPTCB8fFxuICAgICAgIURFTEVHQVRFU19UT19FWEVDIHx8XG4gICAgICBGT1JDRURcbiAgICApIHtcbiAgICAgIHZhciB1bmN1cnJpZWROYXRpdmVSZWdFeHBNZXRob2QgPSB1bmN1cnJ5VGhpcyQ5KC8uL1tTWU1CT0xdKTtcbiAgICAgIHZhciBtZXRob2RzID0gZXhlYyhTWU1CT0wsICcnW0tFWV0sIGZ1bmN0aW9uIChuYXRpdmVNZXRob2QsIHJlZ2V4cCwgc3RyLCBhcmcyLCBmb3JjZVN0cmluZ01ldGhvZCkge1xuICAgICAgICB2YXIgdW5jdXJyaWVkTmF0aXZlTWV0aG9kID0gdW5jdXJyeVRoaXMkOShuYXRpdmVNZXRob2QpO1xuICAgICAgICB2YXIgJGV4ZWMgPSByZWdleHAuZXhlYztcbiAgICAgICAgaWYgKCRleGVjID09PSByZWdleHBFeGVjJDEgfHwgJGV4ZWMgPT09IFJlZ0V4cFByb3RvdHlwZS5leGVjKSB7XG4gICAgICAgICAgaWYgKERFTEVHQVRFU19UT19TWU1CT0wgJiYgIWZvcmNlU3RyaW5nTWV0aG9kKSB7XG4gICAgICAgICAgICAvLyBUaGUgbmF0aXZlIFN0cmluZyBtZXRob2QgYWxyZWFkeSBkZWxlZ2F0ZXMgdG8gQEBtZXRob2QgKHRoaXNcbiAgICAgICAgICAgIC8vIHBvbHlmaWxsZWQgZnVuY3Rpb24pLCBsZWFzaW5nIHRvIGluZmluaXRlIHJlY3Vyc2lvbi5cbiAgICAgICAgICAgIC8vIFdlIGF2b2lkIGl0IGJ5IGRpcmVjdGx5IGNhbGxpbmcgdGhlIG5hdGl2ZSBAQG1ldGhvZCBtZXRob2QuXG4gICAgICAgICAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogdW5jdXJyaWVkTmF0aXZlUmVnRXhwTWV0aG9kKHJlZ2V4cCwgc3RyLCBhcmcyKSB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogdW5jdXJyaWVkTmF0aXZlTWV0aG9kKHN0ciwgcmVnZXhwLCBhcmcyKSB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGRvbmU6IGZhbHNlIH07XG4gICAgICB9KTtcblxuICAgICAgZGVmaW5lQnVpbHRJbiQxKFN0cmluZy5wcm90b3R5cGUsIEtFWSwgbWV0aG9kc1swXSk7XG4gICAgICBkZWZpbmVCdWlsdEluJDEoUmVnRXhwUHJvdG90eXBlLCBTWU1CT0wsIG1ldGhvZHNbMV0pO1xuICAgIH1cblxuICAgIGlmIChTSEFNKSBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkMShSZWdFeHBQcm90b3R5cGVbU1lNQk9MXSwgJ3NoYW0nLCB0cnVlKTtcbiAgfTtcblxuICB2YXIgdW5jdXJyeVRoaXMkOCA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciB0b0ludGVnZXJPckluZmluaXR5JDEgPSB0b0ludGVnZXJPckluZmluaXR5JDQ7XG4gIHZhciB0b1N0cmluZyQyID0gdG9TdHJpbmckNDtcbiAgdmFyIHJlcXVpcmVPYmplY3RDb2VyY2libGUkMSA9IHJlcXVpcmVPYmplY3RDb2VyY2libGUkNDtcblxuICB2YXIgY2hhckF0JDIgPSB1bmN1cnJ5VGhpcyQ4KCcnLmNoYXJBdCk7XG4gIHZhciBjaGFyQ29kZUF0ID0gdW5jdXJyeVRoaXMkOCgnJy5jaGFyQ29kZUF0KTtcbiAgdmFyIHN0cmluZ1NsaWNlJDIgPSB1bmN1cnJ5VGhpcyQ4KCcnLnNsaWNlKTtcblxuICB2YXIgY3JlYXRlTWV0aG9kJDEgPSBmdW5jdGlvbiAoQ09OVkVSVF9UT19TVFJJTkcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzLCBwb3MpIHtcbiAgICAgIHZhciBTID0gdG9TdHJpbmckMihyZXF1aXJlT2JqZWN0Q29lcmNpYmxlJDEoJHRoaXMpKTtcbiAgICAgIHZhciBwb3NpdGlvbiA9IHRvSW50ZWdlck9ySW5maW5pdHkkMShwb3MpO1xuICAgICAgdmFyIHNpemUgPSBTLmxlbmd0aDtcbiAgICAgIHZhciBmaXJzdCwgc2Vjb25kO1xuICAgICAgaWYgKHBvc2l0aW9uIDwgMCB8fCBwb3NpdGlvbiA+PSBzaXplKSByZXR1cm4gQ09OVkVSVF9UT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICAgIGZpcnN0ID0gY2hhckNvZGVBdChTLCBwb3NpdGlvbik7XG4gICAgICByZXR1cm4gZmlyc3QgPCAweEQ4MDAgfHwgZmlyc3QgPiAweERCRkYgfHwgcG9zaXRpb24gKyAxID09PSBzaXplXG4gICAgICAgIHx8IChzZWNvbmQgPSBjaGFyQ29kZUF0KFMsIHBvc2l0aW9uICsgMSkpIDwgMHhEQzAwIHx8IHNlY29uZCA+IDB4REZGRlxuICAgICAgICAgID8gQ09OVkVSVF9UT19TVFJJTkdcbiAgICAgICAgICAgID8gY2hhckF0JDIoUywgcG9zaXRpb24pXG4gICAgICAgICAgICA6IGZpcnN0XG4gICAgICAgICAgOiBDT05WRVJUX1RPX1NUUklOR1xuICAgICAgICAgICAgPyBzdHJpbmdTbGljZSQyKFMsIHBvc2l0aW9uLCBwb3NpdGlvbiArIDIpXG4gICAgICAgICAgICA6IChmaXJzdCAtIDB4RDgwMCA8PCAxMCkgKyAoc2Vjb25kIC0gMHhEQzAwKSArIDB4MTAwMDA7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgc3RyaW5nTXVsdGlieXRlID0ge1xuICAgIC8vIGBTdHJpbmcucHJvdG90eXBlLmNvZGVQb2ludEF0YCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUuY29kZXBvaW50YXRcbiAgICBjb2RlQXQ6IGNyZWF0ZU1ldGhvZCQxKGZhbHNlKSxcbiAgICAvLyBgU3RyaW5nLnByb3RvdHlwZS5hdGAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21hdGhpYXNieW5lbnMvU3RyaW5nLnByb3RvdHlwZS5hdFxuICAgIGNoYXJBdDogY3JlYXRlTWV0aG9kJDEodHJ1ZSlcbiAgfTtcblxuICB2YXIgY2hhckF0JDEgPSBzdHJpbmdNdWx0aWJ5dGUuY2hhckF0O1xuXG4gIC8vIGBBZHZhbmNlU3RyaW5nSW5kZXhgIGFic3RyYWN0IG9wZXJhdGlvblxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFkdmFuY2VzdHJpbmdpbmRleFxuICB2YXIgYWR2YW5jZVN0cmluZ0luZGV4JDEgPSBmdW5jdGlvbiAoUywgaW5kZXgsIHVuaWNvZGUpIHtcbiAgICByZXR1cm4gaW5kZXggKyAodW5pY29kZSA/IGNoYXJBdCQxKFMsIGluZGV4KS5sZW5ndGggOiAxKTtcbiAgfTtcblxuICB2YXIgdW5jdXJyeVRoaXMkNyA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciB0b09iamVjdCQzID0gdG9PYmplY3QkNTtcblxuICB2YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xuICB2YXIgY2hhckF0ID0gdW5jdXJyeVRoaXMkNygnJy5jaGFyQXQpO1xuICB2YXIgcmVwbGFjZSA9IHVuY3VycnlUaGlzJDcoJycucmVwbGFjZSk7XG4gIHZhciBzdHJpbmdTbGljZSQxID0gdW5jdXJyeVRoaXMkNygnJy5zbGljZSk7XG4gIHZhciBTVUJTVElUVVRJT05fU1lNQk9MUyA9IC9cXCQoWyQmJ2BdfFxcZHsxLDJ9fDxbXj5dKj4pL2c7XG4gIHZhciBTVUJTVElUVVRJT05fU1lNQk9MU19OT19OQU1FRCA9IC9cXCQoWyQmJ2BdfFxcZHsxLDJ9KS9nO1xuXG4gIC8vIGBHZXRTdWJzdGl0dXRpb25gIGFic3RyYWN0IG9wZXJhdGlvblxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWdldHN1YnN0aXR1dGlvblxuICB2YXIgZ2V0U3Vic3RpdHV0aW9uJDEgPSBmdW5jdGlvbiAobWF0Y2hlZCwgc3RyLCBwb3NpdGlvbiwgY2FwdHVyZXMsIG5hbWVkQ2FwdHVyZXMsIHJlcGxhY2VtZW50KSB7XG4gICAgdmFyIHRhaWxQb3MgPSBwb3NpdGlvbiArIG1hdGNoZWQubGVuZ3RoO1xuICAgIHZhciBtID0gY2FwdHVyZXMubGVuZ3RoO1xuICAgIHZhciBzeW1ib2xzID0gU1VCU1RJVFVUSU9OX1NZTUJPTFNfTk9fTkFNRUQ7XG4gICAgaWYgKG5hbWVkQ2FwdHVyZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbmFtZWRDYXB0dXJlcyA9IHRvT2JqZWN0JDMobmFtZWRDYXB0dXJlcyk7XG4gICAgICBzeW1ib2xzID0gU1VCU1RJVFVUSU9OX1NZTUJPTFM7XG4gICAgfVxuICAgIHJldHVybiByZXBsYWNlKHJlcGxhY2VtZW50LCBzeW1ib2xzLCBmdW5jdGlvbiAobWF0Y2gsIGNoKSB7XG4gICAgICB2YXIgY2FwdHVyZTtcbiAgICAgIHN3aXRjaCAoY2hhckF0KGNoLCAwKSkge1xuICAgICAgICBjYXNlICckJzogcmV0dXJuICckJztcbiAgICAgICAgY2FzZSAnJic6IHJldHVybiBtYXRjaGVkO1xuICAgICAgICBjYXNlICdgJzogcmV0dXJuIHN0cmluZ1NsaWNlJDEoc3RyLCAwLCBwb3NpdGlvbik7XG4gICAgICAgIGNhc2UgXCInXCI6IHJldHVybiBzdHJpbmdTbGljZSQxKHN0ciwgdGFpbFBvcyk7XG4gICAgICAgIGNhc2UgJzwnOlxuICAgICAgICAgIGNhcHR1cmUgPSBuYW1lZENhcHR1cmVzW3N0cmluZ1NsaWNlJDEoY2gsIDEsIC0xKV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6IC8vIFxcZFxcZD9cbiAgICAgICAgICB2YXIgbiA9ICtjaDtcbiAgICAgICAgICBpZiAobiA9PT0gMCkgcmV0dXJuIG1hdGNoO1xuICAgICAgICAgIGlmIChuID4gbSkge1xuICAgICAgICAgICAgdmFyIGYgPSBmbG9vcihuIC8gMTApO1xuICAgICAgICAgICAgaWYgKGYgPT09IDApIHJldHVybiBtYXRjaDtcbiAgICAgICAgICAgIGlmIChmIDw9IG0pIHJldHVybiBjYXB0dXJlc1tmIC0gMV0gPT09IHVuZGVmaW5lZCA/IGNoYXJBdChjaCwgMSkgOiBjYXB0dXJlc1tmIC0gMV0gKyBjaGFyQXQoY2gsIDEpO1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXB0dXJlID0gY2FwdHVyZXNbbiAtIDFdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhcHR1cmUgPT09IHVuZGVmaW5lZCA/ICcnIDogY2FwdHVyZTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgY2FsbCQyID0gZnVuY3Rpb25DYWxsO1xuICB2YXIgYW5PYmplY3QkMSA9IGFuT2JqZWN0JDc7XG4gIHZhciBpc0NhbGxhYmxlJDIgPSBpc0NhbGxhYmxlJGU7XG4gIHZhciBjbGFzc29mJDMgPSBjbGFzc29mUmF3JDI7XG4gIHZhciByZWdleHBFeGVjID0gcmVnZXhwRXhlYyQyO1xuXG4gIHZhciAkVHlwZUVycm9yJDEgPSBUeXBlRXJyb3I7XG5cbiAgLy8gYFJlZ0V4cEV4ZWNgIGFic3RyYWN0IG9wZXJhdGlvblxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXJlZ2V4cGV4ZWNcbiAgdmFyIHJlZ2V4cEV4ZWNBYnN0cmFjdCA9IGZ1bmN0aW9uIChSLCBTKSB7XG4gICAgdmFyIGV4ZWMgPSBSLmV4ZWM7XG4gICAgaWYgKGlzQ2FsbGFibGUkMihleGVjKSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGNhbGwkMihleGVjLCBSLCBTKTtcbiAgICAgIGlmIChyZXN1bHQgIT09IG51bGwpIGFuT2JqZWN0JDEocmVzdWx0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGlmIChjbGFzc29mJDMoUikgPT09ICdSZWdFeHAnKSByZXR1cm4gY2FsbCQyKHJlZ2V4cEV4ZWMsIFIsIFMpO1xuICAgIHRocm93ICRUeXBlRXJyb3IkMSgnUmVnRXhwI2V4ZWMgY2FsbGVkIG9uIGluY29tcGF0aWJsZSByZWNlaXZlcicpO1xuICB9O1xuXG4gIHZhciBhcHBseSA9IGZ1bmN0aW9uQXBwbHk7XG4gIHZhciBjYWxsJDEgPSBmdW5jdGlvbkNhbGw7XG4gIHZhciB1bmN1cnJ5VGhpcyQ2ID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcbiAgdmFyIGZpeFJlZ0V4cFdlbGxLbm93blN5bWJvbExvZ2ljID0gZml4UmVnZXhwV2VsbEtub3duU3ltYm9sTG9naWM7XG4gIHZhciBmYWlscyQ1ID0gZmFpbHMkaTtcbiAgdmFyIGFuT2JqZWN0ID0gYW5PYmplY3QkNztcbiAgdmFyIGlzQ2FsbGFibGUkMSA9IGlzQ2FsbGFibGUkZTtcbiAgdmFyIGlzTnVsbE9yVW5kZWZpbmVkID0gaXNOdWxsT3JVbmRlZmluZWQkMztcbiAgdmFyIHRvSW50ZWdlck9ySW5maW5pdHkgPSB0b0ludGVnZXJPckluZmluaXR5JDQ7XG4gIHZhciB0b0xlbmd0aCA9IHRvTGVuZ3RoJDI7XG4gIHZhciB0b1N0cmluZyQxID0gdG9TdHJpbmckNDtcbiAgdmFyIHJlcXVpcmVPYmplY3RDb2VyY2libGUgPSByZXF1aXJlT2JqZWN0Q29lcmNpYmxlJDQ7XG4gIHZhciBhZHZhbmNlU3RyaW5nSW5kZXggPSBhZHZhbmNlU3RyaW5nSW5kZXgkMTtcbiAgdmFyIGdldE1ldGhvZCA9IGdldE1ldGhvZCQyO1xuICB2YXIgZ2V0U3Vic3RpdHV0aW9uID0gZ2V0U3Vic3RpdHV0aW9uJDE7XG4gIHZhciByZWdFeHBFeGVjID0gcmVnZXhwRXhlY0Fic3RyYWN0O1xuICB2YXIgd2VsbEtub3duU3ltYm9sJDUgPSB3ZWxsS25vd25TeW1ib2wkYTtcblxuICB2YXIgUkVQTEFDRSA9IHdlbGxLbm93blN5bWJvbCQ1KCdyZXBsYWNlJyk7XG4gIHZhciBtYXgkMSA9IE1hdGgubWF4O1xuICB2YXIgbWluID0gTWF0aC5taW47XG4gIHZhciBjb25jYXQkMSA9IHVuY3VycnlUaGlzJDYoW10uY29uY2F0KTtcbiAgdmFyIHB1c2gkMSA9IHVuY3VycnlUaGlzJDYoW10ucHVzaCk7XG4gIHZhciBzdHJpbmdJbmRleE9mID0gdW5jdXJyeVRoaXMkNignJy5pbmRleE9mKTtcbiAgdmFyIHN0cmluZ1NsaWNlID0gdW5jdXJyeVRoaXMkNignJy5zbGljZSk7XG5cbiAgdmFyIG1heWJlVG9TdHJpbmcgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/IGl0IDogU3RyaW5nKGl0KTtcbiAgfTtcblxuICAvLyBJRSA8PSAxMSByZXBsYWNlcyAkMCB3aXRoIHRoZSB3aG9sZSBtYXRjaCwgYXMgaWYgaXQgd2FzICQmXG4gIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzYwMjQ2NjYvZ2V0dGluZy1pZS10by1yZXBsYWNlLWEtcmVnZXgtd2l0aC10aGUtbGl0ZXJhbC1zdHJpbmctMFxuICB2YXIgUkVQTEFDRV9LRUVQU18kMCA9IChmdW5jdGlvbiAoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlZ2V4cC9wcmVmZXItZXNjYXBlLXJlcGxhY2VtZW50LWRvbGxhci1jaGFyIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gICAgcmV0dXJuICdhJy5yZXBsYWNlKC8uLywgJyQwJykgPT09ICckMCc7XG4gIH0pKCk7XG5cbiAgLy8gU2FmYXJpIDw9IDEzLjAuMyg/KSBzdWJzdGl0dXRlcyBudGggY2FwdHVyZSB3aGVyZSBuPm0gd2l0aCBhbiBlbXB0eSBzdHJpbmdcbiAgdmFyIFJFR0VYUF9SRVBMQUNFX1NVQlNUSVRVVEVTX1VOREVGSU5FRF9DQVBUVVJFID0gKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoLy4vW1JFUExBQ0VdKSB7XG4gICAgICByZXR1cm4gLy4vW1JFUExBQ0VdKCdhJywgJyQwJykgPT09ICcnO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pKCk7XG5cbiAgdmFyIFJFUExBQ0VfU1VQUE9SVFNfTkFNRURfR1JPVVBTID0gIWZhaWxzJDUoZnVuY3Rpb24gKCkge1xuICAgIHZhciByZSA9IC8uLztcbiAgICByZS5leGVjID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgcmVzdWx0Lmdyb3VwcyA9IHsgYTogJzcnIH07XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlZ2V4cC9uby11c2VsZXNzLWRvbGxhci1yZXBsYWNlbWVudHMgLS0gZmFsc2UgcG9zaXRpdmVcbiAgICByZXR1cm4gJycucmVwbGFjZShyZSwgJyQ8YT4nKSAhPT0gJzcnO1xuICB9KTtcblxuICAvLyBAQHJlcGxhY2UgbG9naWNcbiAgZml4UmVnRXhwV2VsbEtub3duU3ltYm9sTG9naWMoJ3JlcGxhY2UnLCBmdW5jdGlvbiAoXywgbmF0aXZlUmVwbGFjZSwgbWF5YmVDYWxsTmF0aXZlKSB7XG4gICAgdmFyIFVOU0FGRV9TVUJTVElUVVRFID0gUkVHRVhQX1JFUExBQ0VfU1VCU1RJVFVURVNfVU5ERUZJTkVEX0NBUFRVUkUgPyAnJCcgOiAnJDAnO1xuXG4gICAgcmV0dXJuIFtcbiAgICAgIC8vIGBTdHJpbmcucHJvdG90eXBlLnJlcGxhY2VgIG1ldGhvZFxuICAgICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLnJlcGxhY2VcbiAgICAgIGZ1bmN0aW9uIHJlcGxhY2Uoc2VhcmNoVmFsdWUsIHJlcGxhY2VWYWx1ZSkge1xuICAgICAgICB2YXIgTyA9IHJlcXVpcmVPYmplY3RDb2VyY2libGUodGhpcyk7XG4gICAgICAgIHZhciByZXBsYWNlciA9IGlzTnVsbE9yVW5kZWZpbmVkKHNlYXJjaFZhbHVlKSA/IHVuZGVmaW5lZCA6IGdldE1ldGhvZChzZWFyY2hWYWx1ZSwgUkVQTEFDRSk7XG4gICAgICAgIHJldHVybiByZXBsYWNlclxuICAgICAgICAgID8gY2FsbCQxKHJlcGxhY2VyLCBzZWFyY2hWYWx1ZSwgTywgcmVwbGFjZVZhbHVlKVxuICAgICAgICAgIDogY2FsbCQxKG5hdGl2ZVJlcGxhY2UsIHRvU3RyaW5nJDEoTyksIHNlYXJjaFZhbHVlLCByZXBsYWNlVmFsdWUpO1xuICAgICAgfSxcbiAgICAgIC8vIGBSZWdFeHAucHJvdG90eXBlW0BAcmVwbGFjZV1gIG1ldGhvZFxuICAgICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1yZWdleHAucHJvdG90eXBlLUBAcmVwbGFjZVxuICAgICAgZnVuY3Rpb24gKHN0cmluZywgcmVwbGFjZVZhbHVlKSB7XG4gICAgICAgIHZhciByeCA9IGFuT2JqZWN0KHRoaXMpO1xuICAgICAgICB2YXIgUyA9IHRvU3RyaW5nJDEoc3RyaW5nKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIHJlcGxhY2VWYWx1ZSA9PSAnc3RyaW5nJyAmJlxuICAgICAgICAgIHN0cmluZ0luZGV4T2YocmVwbGFjZVZhbHVlLCBVTlNBRkVfU1VCU1RJVFVURSkgPT09IC0xICYmXG4gICAgICAgICAgc3RyaW5nSW5kZXhPZihyZXBsYWNlVmFsdWUsICckPCcpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIgcmVzID0gbWF5YmVDYWxsTmF0aXZlKG5hdGl2ZVJlcGxhY2UsIHJ4LCBTLCByZXBsYWNlVmFsdWUpO1xuICAgICAgICAgIGlmIChyZXMuZG9uZSkgcmV0dXJuIHJlcy52YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmdW5jdGlvbmFsUmVwbGFjZSA9IGlzQ2FsbGFibGUkMShyZXBsYWNlVmFsdWUpO1xuICAgICAgICBpZiAoIWZ1bmN0aW9uYWxSZXBsYWNlKSByZXBsYWNlVmFsdWUgPSB0b1N0cmluZyQxKHJlcGxhY2VWYWx1ZSk7XG5cbiAgICAgICAgdmFyIGdsb2JhbCA9IHJ4Lmdsb2JhbDtcbiAgICAgICAgaWYgKGdsb2JhbCkge1xuICAgICAgICAgIHZhciBmdWxsVW5pY29kZSA9IHJ4LnVuaWNvZGU7XG4gICAgICAgICAgcngubGFzdEluZGV4ID0gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSByZWdFeHBFeGVjKHJ4LCBTKTtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSBudWxsKSBicmVhaztcblxuICAgICAgICAgIHB1c2gkMShyZXN1bHRzLCByZXN1bHQpO1xuICAgICAgICAgIGlmICghZ2xvYmFsKSBicmVhaztcblxuICAgICAgICAgIHZhciBtYXRjaFN0ciA9IHRvU3RyaW5nJDEocmVzdWx0WzBdKTtcbiAgICAgICAgICBpZiAobWF0Y2hTdHIgPT09ICcnKSByeC5sYXN0SW5kZXggPSBhZHZhbmNlU3RyaW5nSW5kZXgoUywgdG9MZW5ndGgocngubGFzdEluZGV4KSwgZnVsbFVuaWNvZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFjY3VtdWxhdGVkUmVzdWx0ID0gJyc7XG4gICAgICAgIHZhciBuZXh0U291cmNlUG9zaXRpb24gPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICByZXN1bHQgPSByZXN1bHRzW2ldO1xuXG4gICAgICAgICAgdmFyIG1hdGNoZWQgPSB0b1N0cmluZyQxKHJlc3VsdFswXSk7XG4gICAgICAgICAgdmFyIHBvc2l0aW9uID0gbWF4JDEobWluKHRvSW50ZWdlck9ySW5maW5pdHkocmVzdWx0LmluZGV4KSwgUy5sZW5ndGgpLCAwKTtcbiAgICAgICAgICB2YXIgY2FwdHVyZXMgPSBbXTtcbiAgICAgICAgICAvLyBOT1RFOiBUaGlzIGlzIGVxdWl2YWxlbnQgdG9cbiAgICAgICAgICAvLyAgIGNhcHR1cmVzID0gcmVzdWx0LnNsaWNlKDEpLm1hcChtYXliZVRvU3RyaW5nKVxuICAgICAgICAgIC8vIGJ1dCBmb3Igc29tZSByZWFzb24gYG5hdGl2ZVNsaWNlLmNhbGwocmVzdWx0LCAxLCByZXN1bHQubGVuZ3RoKWAgKGNhbGxlZCBpblxuICAgICAgICAgIC8vIHRoZSBzbGljZSBwb2x5ZmlsbCB3aGVuIHNsaWNpbmcgbmF0aXZlIGFycmF5cykgXCJkb2Vzbid0IHdvcmtcIiBpbiBzYWZhcmkgOSBhbmRcbiAgICAgICAgICAvLyBjYXVzZXMgYSBjcmFzaCAoaHR0cHM6Ly9wYXN0ZWJpbi5jb20vTjIxUXplUUEpIHdoZW4gdHJ5aW5nIHRvIGRlYnVnIGl0LlxuICAgICAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgcmVzdWx0Lmxlbmd0aDsgaisrKSBwdXNoJDEoY2FwdHVyZXMsIG1heWJlVG9TdHJpbmcocmVzdWx0W2pdKSk7XG4gICAgICAgICAgdmFyIG5hbWVkQ2FwdHVyZXMgPSByZXN1bHQuZ3JvdXBzO1xuICAgICAgICAgIGlmIChmdW5jdGlvbmFsUmVwbGFjZSkge1xuICAgICAgICAgICAgdmFyIHJlcGxhY2VyQXJncyA9IGNvbmNhdCQxKFttYXRjaGVkXSwgY2FwdHVyZXMsIHBvc2l0aW9uLCBTKTtcbiAgICAgICAgICAgIGlmIChuYW1lZENhcHR1cmVzICE9PSB1bmRlZmluZWQpIHB1c2gkMShyZXBsYWNlckFyZ3MsIG5hbWVkQ2FwdHVyZXMpO1xuICAgICAgICAgICAgdmFyIHJlcGxhY2VtZW50ID0gdG9TdHJpbmckMShhcHBseShyZXBsYWNlVmFsdWUsIHVuZGVmaW5lZCwgcmVwbGFjZXJBcmdzKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcGxhY2VtZW50ID0gZ2V0U3Vic3RpdHV0aW9uKG1hdGNoZWQsIFMsIHBvc2l0aW9uLCBjYXB0dXJlcywgbmFtZWRDYXB0dXJlcywgcmVwbGFjZVZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBvc2l0aW9uID49IG5leHRTb3VyY2VQb3NpdGlvbikge1xuICAgICAgICAgICAgYWNjdW11bGF0ZWRSZXN1bHQgKz0gc3RyaW5nU2xpY2UoUywgbmV4dFNvdXJjZVBvc2l0aW9uLCBwb3NpdGlvbikgKyByZXBsYWNlbWVudDtcbiAgICAgICAgICAgIG5leHRTb3VyY2VQb3NpdGlvbiA9IHBvc2l0aW9uICsgbWF0Y2hlZC5sZW5ndGg7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2N1bXVsYXRlZFJlc3VsdCArIHN0cmluZ1NsaWNlKFMsIG5leHRTb3VyY2VQb3NpdGlvbik7XG4gICAgICB9XG4gICAgXTtcbiAgfSwgIVJFUExBQ0VfU1VQUE9SVFNfTkFNRURfR1JPVVBTIHx8ICFSRVBMQUNFX0tFRVBTXyQwIHx8IFJFR0VYUF9SRVBMQUNFX1NVQlNUSVRVVEVTX1VOREVGSU5FRF9DQVBUVVJFKTtcblxuICB2YXIgY2xhc3NvZiQyID0gY2xhc3NvZlJhdyQyO1xuXG4gIC8vIGBJc0FycmF5YCBhYnN0cmFjdCBvcGVyYXRpb25cbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1pc2FycmF5XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1hcnJheS1pc2FycmF5IC0tIHNhZmVcbiAgdmFyIGlzQXJyYXkkMyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gaXNBcnJheShhcmd1bWVudCkge1xuICAgIHJldHVybiBjbGFzc29mJDIoYXJndW1lbnQpID09ICdBcnJheSc7XG4gIH07XG5cbiAgdmFyIHVuY3VycnlUaGlzJDUgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuICB2YXIgZmFpbHMkNCA9IGZhaWxzJGk7XG4gIHZhciBpc0NhbGxhYmxlID0gaXNDYWxsYWJsZSRlO1xuICB2YXIgY2xhc3NvZiQxID0gY2xhc3NvZiQ1O1xuICB2YXIgZ2V0QnVpbHRJbiA9IGdldEJ1aWx0SW4kNTtcbiAgdmFyIGluc3BlY3RTb3VyY2UgPSBpbnNwZWN0U291cmNlJDI7XG5cbiAgdmFyIG5vb3AgPSBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH07XG4gIHZhciBlbXB0eSA9IFtdO1xuICB2YXIgY29uc3RydWN0ID0gZ2V0QnVpbHRJbignUmVmbGVjdCcsICdjb25zdHJ1Y3QnKTtcbiAgdmFyIGNvbnN0cnVjdG9yUmVnRXhwID0gL15cXHMqKD86Y2xhc3N8ZnVuY3Rpb24pXFxiLztcbiAgdmFyIGV4ZWMgPSB1bmN1cnJ5VGhpcyQ1KGNvbnN0cnVjdG9yUmVnRXhwLmV4ZWMpO1xuICB2YXIgSU5DT1JSRUNUX1RPX1NUUklORyA9ICFjb25zdHJ1Y3RvclJlZ0V4cC5leGVjKG5vb3ApO1xuXG4gIHZhciBpc0NvbnN0cnVjdG9yTW9kZXJuID0gZnVuY3Rpb24gaXNDb25zdHJ1Y3Rvcihhcmd1bWVudCkge1xuICAgIGlmICghaXNDYWxsYWJsZShhcmd1bWVudCkpIHJldHVybiBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgY29uc3RydWN0KG5vb3AsIGVtcHR5LCBhcmd1bWVudCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaXNDb25zdHJ1Y3RvckxlZ2FjeSA9IGZ1bmN0aW9uIGlzQ29uc3RydWN0b3IoYXJndW1lbnQpIHtcbiAgICBpZiAoIWlzQ2FsbGFibGUoYXJndW1lbnQpKSByZXR1cm4gZmFsc2U7XG4gICAgc3dpdGNoIChjbGFzc29mJDEoYXJndW1lbnQpKSB7XG4gICAgICBjYXNlICdBc3luY0Z1bmN0aW9uJzpcbiAgICAgIGNhc2UgJ0dlbmVyYXRvckZ1bmN0aW9uJzpcbiAgICAgIGNhc2UgJ0FzeW5jR2VuZXJhdG9yRnVuY3Rpb24nOiByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAvLyB3ZSBjYW4ndCBjaGVjayAucHJvdG90eXBlIHNpbmNlIGNvbnN0cnVjdG9ycyBwcm9kdWNlZCBieSAuYmluZCBoYXZlbid0IGl0XG4gICAgICAvLyBgRnVuY3Rpb24jdG9TdHJpbmdgIHRocm93cyBvbiBzb21lIGJ1aWx0LWl0IGZ1bmN0aW9uIGluIHNvbWUgbGVnYWN5IGVuZ2luZXNcbiAgICAgIC8vIChmb3IgZXhhbXBsZSwgYERPTVF1YWRgIGFuZCBzaW1pbGFyIGluIEZGNDEtKVxuICAgICAgcmV0dXJuIElOQ09SUkVDVF9UT19TVFJJTkcgfHwgISFleGVjKGNvbnN0cnVjdG9yUmVnRXhwLCBpbnNwZWN0U291cmNlKGFyZ3VtZW50KSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfTtcblxuICBpc0NvbnN0cnVjdG9yTGVnYWN5LnNoYW0gPSB0cnVlO1xuXG4gIC8vIGBJc0NvbnN0cnVjdG9yYCBhYnN0cmFjdCBvcGVyYXRpb25cbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1pc2NvbnN0cnVjdG9yXG4gIHZhciBpc0NvbnN0cnVjdG9yJDIgPSAhY29uc3RydWN0IHx8IGZhaWxzJDQoZnVuY3Rpb24gKCkge1xuICAgIHZhciBjYWxsZWQ7XG4gICAgcmV0dXJuIGlzQ29uc3RydWN0b3JNb2Rlcm4oaXNDb25zdHJ1Y3Rvck1vZGVybi5jYWxsKVxuICAgICAgfHwgIWlzQ29uc3RydWN0b3JNb2Rlcm4oT2JqZWN0KVxuICAgICAgfHwgIWlzQ29uc3RydWN0b3JNb2Rlcm4oZnVuY3Rpb24gKCkgeyBjYWxsZWQgPSB0cnVlOyB9KVxuICAgICAgfHwgY2FsbGVkO1xuICB9KSA/IGlzQ29uc3RydWN0b3JMZWdhY3kgOiBpc0NvbnN0cnVjdG9yTW9kZXJuO1xuXG4gIHZhciB0b1Byb3BlcnR5S2V5ID0gdG9Qcm9wZXJ0eUtleSQzO1xuICB2YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUgPSBvYmplY3REZWZpbmVQcm9wZXJ0eTtcbiAgdmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciA9IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciQzO1xuXG4gIHZhciBjcmVhdGVQcm9wZXJ0eSQyID0gZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgIHZhciBwcm9wZXJ0eUtleSA9IHRvUHJvcGVydHlLZXkoa2V5KTtcbiAgICBpZiAocHJvcGVydHlLZXkgaW4gb2JqZWN0KSBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mKG9iamVjdCwgcHJvcGVydHlLZXksIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigwLCB2YWx1ZSkpO1xuICAgIGVsc2Ugb2JqZWN0W3Byb3BlcnR5S2V5XSA9IHZhbHVlO1xuICB9O1xuXG4gIHZhciBmYWlscyQzID0gZmFpbHMkaTtcbiAgdmFyIHdlbGxLbm93blN5bWJvbCQ0ID0gd2VsbEtub3duU3ltYm9sJGE7XG4gIHZhciBWOF9WRVJTSU9OJDEgPSBlbmdpbmVWOFZlcnNpb247XG5cbiAgdmFyIFNQRUNJRVMkMiA9IHdlbGxLbm93blN5bWJvbCQ0KCdzcGVjaWVzJyk7XG5cbiAgdmFyIGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQkMyA9IGZ1bmN0aW9uIChNRVRIT0RfTkFNRSkge1xuICAgIC8vIFdlIGNhbid0IHVzZSB0aGlzIGZlYXR1cmUgZGV0ZWN0aW9uIGluIFY4IHNpbmNlIGl0IGNhdXNlc1xuICAgIC8vIGRlb3B0aW1pemF0aW9uIGFuZCBzZXJpb3VzIHBlcmZvcm1hbmNlIGRlZ3JhZGF0aW9uXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzY3N1xuICAgIHJldHVybiBWOF9WRVJTSU9OJDEgPj0gNTEgfHwgIWZhaWxzJDMoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGFycmF5ID0gW107XG4gICAgICB2YXIgY29uc3RydWN0b3IgPSBhcnJheS5jb25zdHJ1Y3RvciA9IHt9O1xuICAgICAgY29uc3RydWN0b3JbU1BFQ0lFUyQyXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHsgZm9vOiAxIH07XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGFycmF5W01FVEhPRF9OQU1FXShCb29sZWFuKS5mb28gIT09IDE7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHVuY3VycnlUaGlzJDQgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuXG4gIHZhciBhcnJheVNsaWNlID0gdW5jdXJyeVRoaXMkNChbXS5zbGljZSk7XG5cbiAgdmFyICQkNSA9IF9leHBvcnQ7XG4gIHZhciBpc0FycmF5JDIgPSBpc0FycmF5JDM7XG4gIHZhciBpc0NvbnN0cnVjdG9yJDEgPSBpc0NvbnN0cnVjdG9yJDI7XG4gIHZhciBpc09iamVjdCQyID0gaXNPYmplY3QkODtcbiAgdmFyIHRvQWJzb2x1dGVJbmRleCA9IHRvQWJzb2x1dGVJbmRleCQyO1xuICB2YXIgbGVuZ3RoT2ZBcnJheUxpa2UkMiA9IGxlbmd0aE9mQXJyYXlMaWtlJDQ7XG4gIHZhciB0b0luZGV4ZWRPYmplY3QkMSA9IHRvSW5kZXhlZE9iamVjdCQ2O1xuICB2YXIgY3JlYXRlUHJvcGVydHkkMSA9IGNyZWF0ZVByb3BlcnR5JDI7XG4gIHZhciB3ZWxsS25vd25TeW1ib2wkMyA9IHdlbGxLbm93blN5bWJvbCRhO1xuICB2YXIgYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCQyID0gYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCQzO1xuICB2YXIgbmF0aXZlU2xpY2UgPSBhcnJheVNsaWNlO1xuXG4gIHZhciBIQVNfU1BFQ0lFU19TVVBQT1JUJDEgPSBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0JDIoJ3NsaWNlJyk7XG5cbiAgdmFyIFNQRUNJRVMkMSA9IHdlbGxLbm93blN5bWJvbCQzKCdzcGVjaWVzJyk7XG4gIHZhciAkQXJyYXkkMSA9IEFycmF5O1xuICB2YXIgbWF4ID0gTWF0aC5tYXg7XG5cbiAgLy8gYEFycmF5LnByb3RvdHlwZS5zbGljZWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnNsaWNlXG4gIC8vIGZhbGxiYWNrIGZvciBub3QgYXJyYXktbGlrZSBFUzMgc3RyaW5ncyBhbmQgRE9NIG9iamVjdHNcbiAgJCQ1KHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiAhSEFTX1NQRUNJRVNfU1VQUE9SVCQxIH0sIHtcbiAgICBzbGljZTogZnVuY3Rpb24gc2xpY2Uoc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIE8gPSB0b0luZGV4ZWRPYmplY3QkMSh0aGlzKTtcbiAgICAgIHZhciBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZSQyKE8pO1xuICAgICAgdmFyIGsgPSB0b0Fic29sdXRlSW5kZXgoc3RhcnQsIGxlbmd0aCk7XG4gICAgICB2YXIgZmluID0gdG9BYnNvbHV0ZUluZGV4KGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogZW5kLCBsZW5ndGgpO1xuICAgICAgLy8gaW5saW5lIGBBcnJheVNwZWNpZXNDcmVhdGVgIGZvciB1c2FnZSBuYXRpdmUgYEFycmF5I3NsaWNlYCB3aGVyZSBpdCdzIHBvc3NpYmxlXG4gICAgICB2YXIgQ29uc3RydWN0b3IsIHJlc3VsdCwgbjtcbiAgICAgIGlmIChpc0FycmF5JDIoTykpIHtcbiAgICAgICAgQ29uc3RydWN0b3IgPSBPLmNvbnN0cnVjdG9yO1xuICAgICAgICAvLyBjcm9zcy1yZWFsbSBmYWxsYmFja1xuICAgICAgICBpZiAoaXNDb25zdHJ1Y3RvciQxKENvbnN0cnVjdG9yKSAmJiAoQ29uc3RydWN0b3IgPT09ICRBcnJheSQxIHx8IGlzQXJyYXkkMihDb25zdHJ1Y3Rvci5wcm90b3R5cGUpKSkge1xuICAgICAgICAgIENvbnN0cnVjdG9yID0gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0JDIoQ29uc3RydWN0b3IpKSB7XG4gICAgICAgICAgQ29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcltTUEVDSUVTJDFdO1xuICAgICAgICAgIGlmIChDb25zdHJ1Y3RvciA9PT0gbnVsbCkgQ29uc3RydWN0b3IgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENvbnN0cnVjdG9yID09PSAkQXJyYXkkMSB8fCBDb25zdHJ1Y3RvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIG5hdGl2ZVNsaWNlKE8sIGssIGZpbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlc3VsdCA9IG5ldyAoQ29uc3RydWN0b3IgPT09IHVuZGVmaW5lZCA/ICRBcnJheSQxIDogQ29uc3RydWN0b3IpKG1heChmaW4gLSBrLCAwKSk7XG4gICAgICBmb3IgKG4gPSAwOyBrIDwgZmluOyBrKyssIG4rKykgaWYgKGsgaW4gTykgY3JlYXRlUHJvcGVydHkkMShyZXN1bHQsIG4sIE9ba10pO1xuICAgICAgcmVzdWx0Lmxlbmd0aCA9IG47XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIHVuY3VycnlUaGlzJDMgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuICB2YXIgYUNhbGxhYmxlID0gYUNhbGxhYmxlJDI7XG4gIHZhciBOQVRJVkVfQklORCA9IGZ1bmN0aW9uQmluZE5hdGl2ZTtcblxuICB2YXIgYmluZCQxID0gdW5jdXJyeVRoaXMkMyh1bmN1cnJ5VGhpcyQzLmJpbmQpO1xuXG4gIC8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xuICB2YXIgZnVuY3Rpb25CaW5kQ29udGV4dCA9IGZ1bmN0aW9uIChmbiwgdGhhdCkge1xuICAgIGFDYWxsYWJsZShmbik7XG4gICAgcmV0dXJuIHRoYXQgPT09IHVuZGVmaW5lZCA/IGZuIDogTkFUSVZFX0JJTkQgPyBiaW5kJDEoZm4sIHRoYXQpIDogZnVuY3Rpb24gKC8qIC4uLmFyZ3MgKi8pIHtcbiAgICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGlzQXJyYXkkMSA9IGlzQXJyYXkkMztcbiAgdmFyIGlzQ29uc3RydWN0b3IgPSBpc0NvbnN0cnVjdG9yJDI7XG4gIHZhciBpc09iamVjdCQxID0gaXNPYmplY3QkODtcbiAgdmFyIHdlbGxLbm93blN5bWJvbCQyID0gd2VsbEtub3duU3ltYm9sJGE7XG5cbiAgdmFyIFNQRUNJRVMgPSB3ZWxsS25vd25TeW1ib2wkMignc3BlY2llcycpO1xuICB2YXIgJEFycmF5ID0gQXJyYXk7XG5cbiAgLy8gYSBwYXJ0IG9mIGBBcnJheVNwZWNpZXNDcmVhdGVgIGFic3RyYWN0IG9wZXJhdGlvblxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5c3BlY2llc2NyZWF0ZVxuICB2YXIgYXJyYXlTcGVjaWVzQ29uc3RydWN0b3IkMSA9IGZ1bmN0aW9uIChvcmlnaW5hbEFycmF5KSB7XG4gICAgdmFyIEM7XG4gICAgaWYgKGlzQXJyYXkkMShvcmlnaW5hbEFycmF5KSkge1xuICAgICAgQyA9IG9yaWdpbmFsQXJyYXkuY29uc3RydWN0b3I7XG4gICAgICAvLyBjcm9zcy1yZWFsbSBmYWxsYmFja1xuICAgICAgaWYgKGlzQ29uc3RydWN0b3IoQykgJiYgKEMgPT09ICRBcnJheSB8fCBpc0FycmF5JDEoQy5wcm90b3R5cGUpKSkgQyA9IHVuZGVmaW5lZDtcbiAgICAgIGVsc2UgaWYgKGlzT2JqZWN0JDEoQykpIHtcbiAgICAgICAgQyA9IENbU1BFQ0lFU107XG4gICAgICAgIGlmIChDID09PSBudWxsKSBDID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0gcmV0dXJuIEMgPT09IHVuZGVmaW5lZCA/ICRBcnJheSA6IEM7XG4gIH07XG5cbiAgdmFyIGFycmF5U3BlY2llc0NvbnN0cnVjdG9yID0gYXJyYXlTcGVjaWVzQ29uc3RydWN0b3IkMTtcblxuICAvLyBgQXJyYXlTcGVjaWVzQ3JlYXRlYCBhYnN0cmFjdCBvcGVyYXRpb25cbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheXNwZWNpZXNjcmVhdGVcbiAgdmFyIGFycmF5U3BlY2llc0NyZWF0ZSQyID0gZnVuY3Rpb24gKG9yaWdpbmFsQXJyYXksIGxlbmd0aCkge1xuICAgIHJldHVybiBuZXcgKGFycmF5U3BlY2llc0NvbnN0cnVjdG9yKG9yaWdpbmFsQXJyYXkpKShsZW5ndGggPT09IDAgPyAwIDogbGVuZ3RoKTtcbiAgfTtcblxuICB2YXIgYmluZCA9IGZ1bmN0aW9uQmluZENvbnRleHQ7XG4gIHZhciB1bmN1cnJ5VGhpcyQyID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcbiAgdmFyIEluZGV4ZWRPYmplY3QkMiA9IGluZGV4ZWRPYmplY3Q7XG4gIHZhciB0b09iamVjdCQyID0gdG9PYmplY3QkNTtcbiAgdmFyIGxlbmd0aE9mQXJyYXlMaWtlJDEgPSBsZW5ndGhPZkFycmF5TGlrZSQ0O1xuICB2YXIgYXJyYXlTcGVjaWVzQ3JlYXRlJDEgPSBhcnJheVNwZWNpZXNDcmVhdGUkMjtcblxuICB2YXIgcHVzaCA9IHVuY3VycnlUaGlzJDIoW10ucHVzaCk7XG5cbiAgLy8gYEFycmF5LnByb3RvdHlwZS57IGZvckVhY2gsIG1hcCwgZmlsdGVyLCBzb21lLCBldmVyeSwgZmluZCwgZmluZEluZGV4LCBmaWx0ZXJSZWplY3QgfWAgbWV0aG9kcyBpbXBsZW1lbnRhdGlvblxuICB2YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24gKFRZUEUpIHtcbiAgICB2YXIgSVNfTUFQID0gVFlQRSA9PSAxO1xuICAgIHZhciBJU19GSUxURVIgPSBUWVBFID09IDI7XG4gICAgdmFyIElTX1NPTUUgPSBUWVBFID09IDM7XG4gICAgdmFyIElTX0VWRVJZID0gVFlQRSA9PSA0O1xuICAgIHZhciBJU19GSU5EX0lOREVYID0gVFlQRSA9PSA2O1xuICAgIHZhciBJU19GSUxURVJfUkVKRUNUID0gVFlQRSA9PSA3O1xuICAgIHZhciBOT19IT0xFUyA9IFRZUEUgPT0gNSB8fCBJU19GSU5EX0lOREVYO1xuICAgIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIGNhbGxiYWNrZm4sIHRoYXQsIHNwZWNpZmljQ3JlYXRlKSB7XG4gICAgICB2YXIgTyA9IHRvT2JqZWN0JDIoJHRoaXMpO1xuICAgICAgdmFyIHNlbGYgPSBJbmRleGVkT2JqZWN0JDIoTyk7XG4gICAgICB2YXIgYm91bmRGdW5jdGlvbiA9IGJpbmQoY2FsbGJhY2tmbiwgdGhhdCk7XG4gICAgICB2YXIgbGVuZ3RoID0gbGVuZ3RoT2ZBcnJheUxpa2UkMShzZWxmKTtcbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICB2YXIgY3JlYXRlID0gc3BlY2lmaWNDcmVhdGUgfHwgYXJyYXlTcGVjaWVzQ3JlYXRlJDE7XG4gICAgICB2YXIgdGFyZ2V0ID0gSVNfTUFQID8gY3JlYXRlKCR0aGlzLCBsZW5ndGgpIDogSVNfRklMVEVSIHx8IElTX0ZJTFRFUl9SRUpFQ1QgPyBjcmVhdGUoJHRoaXMsIDApIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIHZhbHVlLCByZXN1bHQ7XG4gICAgICBmb3IgKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKykgaWYgKE5PX0hPTEVTIHx8IGluZGV4IGluIHNlbGYpIHtcbiAgICAgICAgdmFsdWUgPSBzZWxmW2luZGV4XTtcbiAgICAgICAgcmVzdWx0ID0gYm91bmRGdW5jdGlvbih2YWx1ZSwgaW5kZXgsIE8pO1xuICAgICAgICBpZiAoVFlQRSkge1xuICAgICAgICAgIGlmIChJU19NQVApIHRhcmdldFtpbmRleF0gPSByZXN1bHQ7IC8vIG1hcFxuICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdCkgc3dpdGNoIChUWVBFKSB7XG4gICAgICAgICAgICBjYXNlIDM6IHJldHVybiB0cnVlOyAgICAgICAgICAgICAgLy8gc29tZVxuICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gdmFsdWU7ICAgICAgICAgICAgIC8vIGZpbmRcbiAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIGluZGV4OyAgICAgICAgICAgICAvLyBmaW5kSW5kZXhcbiAgICAgICAgICAgIGNhc2UgMjogcHVzaCh0YXJnZXQsIHZhbHVlKTsgICAgICAvLyBmaWx0ZXJcbiAgICAgICAgICB9IGVsc2Ugc3dpdGNoIChUWVBFKSB7XG4gICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBmYWxzZTsgICAgICAgICAgICAgLy8gZXZlcnlcbiAgICAgICAgICAgIGNhc2UgNzogcHVzaCh0YXJnZXQsIHZhbHVlKTsgICAgICAvLyBmaWx0ZXJSZWplY3RcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBJU19GSU5EX0lOREVYID8gLTEgOiBJU19TT01FIHx8IElTX0VWRVJZID8gSVNfRVZFUlkgOiB0YXJnZXQ7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgYXJyYXlJdGVyYXRpb24gPSB7XG4gICAgLy8gYEFycmF5LnByb3RvdHlwZS5mb3JFYWNoYCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5mb3JlYWNoXG4gICAgZm9yRWFjaDogY3JlYXRlTWV0aG9kKDApLFxuICAgIC8vIGBBcnJheS5wcm90b3R5cGUubWFwYCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5tYXBcbiAgICBtYXA6IGNyZWF0ZU1ldGhvZCgxKSxcbiAgICAvLyBgQXJyYXkucHJvdG90eXBlLmZpbHRlcmAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZmlsdGVyXG4gICAgZmlsdGVyOiBjcmVhdGVNZXRob2QoMiksXG4gICAgLy8gYEFycmF5LnByb3RvdHlwZS5zb21lYCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5zb21lXG4gICAgc29tZTogY3JlYXRlTWV0aG9kKDMpLFxuICAgIC8vIGBBcnJheS5wcm90b3R5cGUuZXZlcnlgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmV2ZXJ5XG4gICAgZXZlcnk6IGNyZWF0ZU1ldGhvZCg0KSxcbiAgICAvLyBgQXJyYXkucHJvdG90eXBlLmZpbmRgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZpbmRcbiAgICBmaW5kOiBjcmVhdGVNZXRob2QoNSksXG4gICAgLy8gYEFycmF5LnByb3RvdHlwZS5maW5kSW5kZXhgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZpbmRJbmRleFxuICAgIGZpbmRJbmRleDogY3JlYXRlTWV0aG9kKDYpLFxuICAgIC8vIGBBcnJheS5wcm90b3R5cGUuZmlsdGVyUmVqZWN0YCBtZXRob2RcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1hcnJheS1maWx0ZXJpbmdcbiAgICBmaWx0ZXJSZWplY3Q6IGNyZWF0ZU1ldGhvZCg3KVxuICB9O1xuXG4gIHZhciAkJDQgPSBfZXhwb3J0O1xuICB2YXIgJG1hcCA9IGFycmF5SXRlcmF0aW9uLm1hcDtcbiAgdmFyIGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQkMSA9IGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQkMztcblxuICB2YXIgSEFTX1NQRUNJRVNfU1VQUE9SVCA9IGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQkMSgnbWFwJyk7XG5cbiAgLy8gYEFycmF5LnByb3RvdHlwZS5tYXBgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5tYXBcbiAgLy8gd2l0aCBhZGRpbmcgc3VwcG9ydCBvZiBAQHNwZWNpZXNcbiAgJCQ0KHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiAhSEFTX1NQRUNJRVNfU1VQUE9SVCB9LCB7XG4gICAgbWFwOiBmdW5jdGlvbiBtYXAoY2FsbGJhY2tmbiAvKiAsIHRoaXNBcmcgKi8pIHtcbiAgICAgIHJldHVybiAkbWFwKHRoaXMsIGNhbGxiYWNrZm4sIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciB3ZWxsS25vd25TeW1ib2wkMSA9IHdlbGxLbm93blN5bWJvbCRhO1xuICB2YXIgY3JlYXRlID0gb2JqZWN0Q3JlYXRlO1xuICB2YXIgZGVmaW5lUHJvcGVydHkkMSA9IG9iamVjdERlZmluZVByb3BlcnR5LmY7XG5cbiAgdmFyIFVOU0NPUEFCTEVTID0gd2VsbEtub3duU3ltYm9sJDEoJ3Vuc2NvcGFibGVzJyk7XG4gIHZhciBBcnJheVByb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZTtcblxuICAvLyBBcnJheS5wcm90b3R5cGVbQEB1bnNjb3BhYmxlc11cbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUtQEB1bnNjb3BhYmxlc1xuICBpZiAoQXJyYXlQcm90b3R5cGVbVU5TQ09QQUJMRVNdID09IHVuZGVmaW5lZCkge1xuICAgIGRlZmluZVByb3BlcnR5JDEoQXJyYXlQcm90b3R5cGUsIFVOU0NPUEFCTEVTLCB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogY3JlYXRlKG51bGwpXG4gICAgfSk7XG4gIH1cblxuICAvLyBhZGQgYSBrZXkgdG8gQXJyYXkucHJvdG90eXBlW0BAdW5zY29wYWJsZXNdXG4gIHZhciBhZGRUb1Vuc2NvcGFibGVzJDEgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgQXJyYXlQcm90b3R5cGVbVU5TQ09QQUJMRVNdW2tleV0gPSB0cnVlO1xuICB9O1xuXG4gIHZhciAkJDMgPSBfZXhwb3J0O1xuICB2YXIgJGZpbmQgPSBhcnJheUl0ZXJhdGlvbi5maW5kO1xuICB2YXIgYWRkVG9VbnNjb3BhYmxlcyA9IGFkZFRvVW5zY29wYWJsZXMkMTtcblxuICB2YXIgRklORCA9ICdmaW5kJztcbiAgdmFyIFNLSVBTX0hPTEVTID0gdHJ1ZTtcblxuICAvLyBTaG91bGRuJ3Qgc2tpcCBob2xlc1xuICBpZiAoRklORCBpbiBbXSkgQXJyYXkoMSlbRklORF0oZnVuY3Rpb24gKCkgeyBTS0lQU19IT0xFUyA9IGZhbHNlOyB9KTtcblxuICAvLyBgQXJyYXkucHJvdG90eXBlLmZpbmRgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5maW5kXG4gICQkMyh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGZvcmNlZDogU0tJUFNfSE9MRVMgfSwge1xuICAgIGZpbmQ6IGZ1bmN0aW9uIGZpbmQoY2FsbGJhY2tmbiAvKiAsIHRoYXQgPSB1bmRlZmluZWQgKi8pIHtcbiAgICAgIHJldHVybiAkZmluZCh0aGlzLCBjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS1AQHVuc2NvcGFibGVzXG4gIGFkZFRvVW5zY29wYWJsZXMoRklORCk7XG5cbiAgdmFyIFRPX1NUUklOR19UQUdfU1VQUE9SVCQxID0gdG9TdHJpbmdUYWdTdXBwb3J0O1xuICB2YXIgY2xhc3NvZiA9IGNsYXNzb2YkNTtcblxuICAvLyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AgbWV0aG9kIGltcGxlbWVudGF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZ1xuICB2YXIgb2JqZWN0VG9TdHJpbmcgPSBUT19TVFJJTkdfVEFHX1NVUFBPUlQkMSA/IHt9LnRvU3RyaW5nIDogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuICdbb2JqZWN0ICcgKyBjbGFzc29mKHRoaXMpICsgJ10nO1xuICB9O1xuXG4gIHZhciBUT19TVFJJTkdfVEFHX1NVUFBPUlQgPSB0b1N0cmluZ1RhZ1N1cHBvcnQ7XG4gIHZhciBkZWZpbmVCdWlsdEluID0gZGVmaW5lQnVpbHRJbiQzO1xuICB2YXIgdG9TdHJpbmcgPSBvYmplY3RUb1N0cmluZztcblxuICAvLyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZ1xuICBpZiAoIVRPX1NUUklOR19UQUdfU1VQUE9SVCkge1xuICAgIGRlZmluZUJ1aWx0SW4oT2JqZWN0LnByb3RvdHlwZSwgJ3RvU3RyaW5nJywgdG9TdHJpbmcsIHsgdW5zYWZlOiB0cnVlIH0pO1xuICB9XG5cbiAgdmFyIERFU0NSSVBUT1JTID0gZGVzY3JpcHRvcnM7XG4gIHZhciB1bmN1cnJ5VGhpcyQxID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcbiAgdmFyIGNhbGwgPSBmdW5jdGlvbkNhbGw7XG4gIHZhciBmYWlscyQyID0gZmFpbHMkaTtcbiAgdmFyIG9iamVjdEtleXMgPSBvYmplY3RLZXlzJDI7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUgPSBvYmplY3RHZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG4gIHZhciBwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZSA9IG9iamVjdFByb3BlcnR5SXNFbnVtZXJhYmxlO1xuICB2YXIgdG9PYmplY3QkMSA9IHRvT2JqZWN0JDU7XG4gIHZhciBJbmRleGVkT2JqZWN0JDEgPSBpbmRleGVkT2JqZWN0O1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtYXNzaWduIC0tIHNhZmVcbiAgdmFyICRhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIHZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbiAgdmFyIGNvbmNhdCA9IHVuY3VycnlUaGlzJDEoW10uY29uY2F0KTtcblxuICAvLyBgT2JqZWN0LmFzc2lnbmAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmFzc2lnblxuICB2YXIgb2JqZWN0QXNzaWduID0gISRhc3NpZ24gfHwgZmFpbHMkMihmdW5jdGlvbiAoKSB7XG4gICAgLy8gc2hvdWxkIGhhdmUgY29ycmVjdCBvcmRlciBvZiBvcGVyYXRpb25zIChFZGdlIGJ1ZylcbiAgICBpZiAoREVTQ1JJUFRPUlMgJiYgJGFzc2lnbih7IGI6IDEgfSwgJGFzc2lnbihkZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlZmluZVByb3BlcnR5KHRoaXMsICdiJywge1xuICAgICAgICAgIHZhbHVlOiAzLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pLCB7IGI6IDIgfSkpLmIgIT09IDEpIHJldHVybiB0cnVlO1xuICAgIC8vIHNob3VsZCB3b3JrIHdpdGggc3ltYm9scyBhbmQgc2hvdWxkIGhhdmUgZGV0ZXJtaW5pc3RpYyBwcm9wZXJ0eSBvcmRlciAoVjggYnVnKVxuICAgIHZhciBBID0ge307XG4gICAgdmFyIEIgPSB7fTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tc3ltYm9sIC0tIHNhZmVcbiAgICB2YXIgc3ltYm9sID0gU3ltYm9sKCk7XG4gICAgdmFyIGFscGhhYmV0ID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0JztcbiAgICBBW3N5bWJvbF0gPSA3O1xuICAgIGFscGhhYmV0LnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChjaHIpIHsgQltjaHJdID0gY2hyOyB9KTtcbiAgICByZXR1cm4gJGFzc2lnbih7fSwgQSlbc3ltYm9sXSAhPSA3IHx8IG9iamVjdEtleXMoJGFzc2lnbih7fSwgQikpLmpvaW4oJycpICE9IGFscGhhYmV0O1xuICB9KSA/IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIHNvdXJjZSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzIC0tIHJlcXVpcmVkIGZvciBgLmxlbmd0aGBcbiAgICB2YXIgVCA9IHRvT2JqZWN0JDEodGFyZ2V0KTtcbiAgICB2YXIgYXJndW1lbnRzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB2YXIgaW5kZXggPSAxO1xuICAgIHZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUuZjtcbiAgICB2YXIgcHJvcGVydHlJc0VudW1lcmFibGUgPSBwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZS5mO1xuICAgIHdoaWxlIChhcmd1bWVudHNMZW5ndGggPiBpbmRleCkge1xuICAgICAgdmFyIFMgPSBJbmRleGVkT2JqZWN0JDEoYXJndW1lbnRzW2luZGV4KytdKTtcbiAgICAgIHZhciBrZXlzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzID8gY29uY2F0KG9iamVjdEtleXMoUyksIGdldE93blByb3BlcnR5U3ltYm9scyhTKSkgOiBvYmplY3RLZXlzKFMpO1xuICAgICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgICAgdmFyIGogPSAwO1xuICAgICAgdmFyIGtleTtcbiAgICAgIHdoaWxlIChsZW5ndGggPiBqKSB7XG4gICAgICAgIGtleSA9IGtleXNbaisrXTtcbiAgICAgICAgaWYgKCFERVNDUklQVE9SUyB8fCBjYWxsKHByb3BlcnR5SXNFbnVtZXJhYmxlLCBTLCBrZXkpKSBUW2tleV0gPSBTW2tleV07XG4gICAgICB9XG4gICAgfSByZXR1cm4gVDtcbiAgfSA6ICRhc3NpZ247XG5cbiAgdmFyICQkMiA9IF9leHBvcnQ7XG4gIHZhciBhc3NpZ24gPSBvYmplY3RBc3NpZ247XG5cbiAgLy8gYE9iamVjdC5hc3NpZ25gIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5hc3NpZ25cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1hc3NpZ24gLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbiAgJCQyKHsgdGFyZ2V0OiAnT2JqZWN0Jywgc3RhdDogdHJ1ZSwgYXJpdHk6IDIsIGZvcmNlZDogT2JqZWN0LmFzc2lnbiAhPT0gYXNzaWduIH0sIHtcbiAgICBhc3NpZ246IGFzc2lnblxuICB9KTtcblxuICB2YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcbiAgdmFyIE1BWF9TQUZFX0lOVEVHRVIgPSAweDFGRkZGRkZGRkZGRkZGOyAvLyAyICoqIDUzIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG5cbiAgdmFyIGRvZXNOb3RFeGNlZWRTYWZlSW50ZWdlciQxID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgaWYgKGl0ID4gTUFYX1NBRkVfSU5URUdFUikgdGhyb3cgJFR5cGVFcnJvcignTWF4aW11bSBhbGxvd2VkIGluZGV4IGV4Y2VlZGVkJyk7XG4gICAgcmV0dXJuIGl0O1xuICB9O1xuXG4gIHZhciAkJDEgPSBfZXhwb3J0O1xuICB2YXIgZmFpbHMkMSA9IGZhaWxzJGk7XG4gIHZhciBpc0FycmF5ID0gaXNBcnJheSQzO1xuICB2YXIgaXNPYmplY3QgPSBpc09iamVjdCQ4O1xuICB2YXIgdG9PYmplY3QgPSB0b09iamVjdCQ1O1xuICB2YXIgbGVuZ3RoT2ZBcnJheUxpa2UgPSBsZW5ndGhPZkFycmF5TGlrZSQ0O1xuICB2YXIgZG9lc05vdEV4Y2VlZFNhZmVJbnRlZ2VyID0gZG9lc05vdEV4Y2VlZFNhZmVJbnRlZ2VyJDE7XG4gIHZhciBjcmVhdGVQcm9wZXJ0eSA9IGNyZWF0ZVByb3BlcnR5JDI7XG4gIHZhciBhcnJheVNwZWNpZXNDcmVhdGUgPSBhcnJheVNwZWNpZXNDcmVhdGUkMjtcbiAgdmFyIGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQgPSBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0JDM7XG4gIHZhciB3ZWxsS25vd25TeW1ib2wgPSB3ZWxsS25vd25TeW1ib2wkYTtcbiAgdmFyIFY4X1ZFUlNJT04gPSBlbmdpbmVWOFZlcnNpb247XG5cbiAgdmFyIElTX0NPTkNBVF9TUFJFQURBQkxFID0gd2VsbEtub3duU3ltYm9sKCdpc0NvbmNhdFNwcmVhZGFibGUnKTtcblxuICAvLyBXZSBjYW4ndCB1c2UgdGhpcyBmZWF0dXJlIGRldGVjdGlvbiBpbiBWOCBzaW5jZSBpdCBjYXVzZXNcbiAgLy8gZGVvcHRpbWl6YXRpb24gYW5kIHNlcmlvdXMgcGVyZm9ybWFuY2UgZGVncmFkYXRpb25cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzY3OVxuICB2YXIgSVNfQ09OQ0FUX1NQUkVBREFCTEVfU1VQUE9SVCA9IFY4X1ZFUlNJT04gPj0gNTEgfHwgIWZhaWxzJDEoZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIGFycmF5W0lTX0NPTkNBVF9TUFJFQURBQkxFXSA9IGZhbHNlO1xuICAgIHJldHVybiBhcnJheS5jb25jYXQoKVswXSAhPT0gYXJyYXk7XG4gIH0pO1xuXG4gIHZhciBTUEVDSUVTX1NVUFBPUlQgPSBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0KCdjb25jYXQnKTtcblxuICB2YXIgaXNDb25jYXRTcHJlYWRhYmxlID0gZnVuY3Rpb24gKE8pIHtcbiAgICBpZiAoIWlzT2JqZWN0KE8pKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIHNwcmVhZGFibGUgPSBPW0lTX0NPTkNBVF9TUFJFQURBQkxFXTtcbiAgICByZXR1cm4gc3ByZWFkYWJsZSAhPT0gdW5kZWZpbmVkID8gISFzcHJlYWRhYmxlIDogaXNBcnJheShPKTtcbiAgfTtcblxuICB2YXIgRk9SQ0VEID0gIUlTX0NPTkNBVF9TUFJFQURBQkxFX1NVUFBPUlQgfHwgIVNQRUNJRVNfU1VQUE9SVDtcblxuICAvLyBgQXJyYXkucHJvdG90eXBlLmNvbmNhdGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmNvbmNhdFxuICAvLyB3aXRoIGFkZGluZyBzdXBwb3J0IG9mIEBAaXNDb25jYXRTcHJlYWRhYmxlIGFuZCBAQHNwZWNpZXNcbiAgJCQxKHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgYXJpdHk6IDEsIGZvcmNlZDogRk9SQ0VEIH0sIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMgLS0gcmVxdWlyZWQgZm9yIGAubGVuZ3RoYFxuICAgIGNvbmNhdDogZnVuY3Rpb24gY29uY2F0KGFyZykge1xuICAgICAgdmFyIE8gPSB0b09iamVjdCh0aGlzKTtcbiAgICAgIHZhciBBID0gYXJyYXlTcGVjaWVzQ3JlYXRlKE8sIDApO1xuICAgICAgdmFyIG4gPSAwO1xuICAgICAgdmFyIGksIGssIGxlbmd0aCwgbGVuLCBFO1xuICAgICAgZm9yIChpID0gLTEsIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBFID0gaSA9PT0gLTEgPyBPIDogYXJndW1lbnRzW2ldO1xuICAgICAgICBpZiAoaXNDb25jYXRTcHJlYWRhYmxlKEUpKSB7XG4gICAgICAgICAgbGVuID0gbGVuZ3RoT2ZBcnJheUxpa2UoRSk7XG4gICAgICAgICAgZG9lc05vdEV4Y2VlZFNhZmVJbnRlZ2VyKG4gKyBsZW4pO1xuICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBsZW47IGsrKywgbisrKSBpZiAoayBpbiBFKSBjcmVhdGVQcm9wZXJ0eShBLCBuLCBFW2tdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkb2VzTm90RXhjZWVkU2FmZUludGVnZXIobiArIDEpO1xuICAgICAgICAgIGNyZWF0ZVByb3BlcnR5KEEsIG4rKywgRSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIEEubGVuZ3RoID0gbjtcbiAgICAgIHJldHVybiBBO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGZhaWxzID0gZmFpbHMkaTtcblxuICB2YXIgYXJyYXlNZXRob2RJc1N0cmljdCQyID0gZnVuY3Rpb24gKE1FVEhPRF9OQU1FLCBhcmd1bWVudCkge1xuICAgIHZhciBtZXRob2QgPSBbXVtNRVRIT0RfTkFNRV07XG4gICAgcmV0dXJuICEhbWV0aG9kICYmIGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWNhbGwgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbiAgICAgIG1ldGhvZC5jYWxsKG51bGwsIGFyZ3VtZW50IHx8IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDE7IH0sIDEpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciAkID0gX2V4cG9ydDtcbiAgdmFyIHVuY3VycnlUaGlzID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcbiAgdmFyIEluZGV4ZWRPYmplY3QgPSBpbmRleGVkT2JqZWN0O1xuICB2YXIgdG9JbmRleGVkT2JqZWN0ID0gdG9JbmRleGVkT2JqZWN0JDY7XG4gIHZhciBhcnJheU1ldGhvZElzU3RyaWN0JDEgPSBhcnJheU1ldGhvZElzU3RyaWN0JDI7XG5cbiAgdmFyIG5hdGl2ZUpvaW4gPSB1bmN1cnJ5VGhpcyhbXS5qb2luKTtcblxuICB2YXIgRVMzX1NUUklOR1MgPSBJbmRleGVkT2JqZWN0ICE9IE9iamVjdDtcbiAgdmFyIFNUUklDVF9NRVRIT0QkMSA9IGFycmF5TWV0aG9kSXNTdHJpY3QkMSgnam9pbicsICcsJyk7XG5cbiAgLy8gYEFycmF5LnByb3RvdHlwZS5qb2luYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuam9pblxuICAkKHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiBFUzNfU1RSSU5HUyB8fCAhU1RSSUNUX01FVEhPRCQxIH0sIHtcbiAgICBqb2luOiBmdW5jdGlvbiBqb2luKHNlcGFyYXRvcikge1xuICAgICAgcmV0dXJuIG5hdGl2ZUpvaW4odG9JbmRleGVkT2JqZWN0KHRoaXMpLCBzZXBhcmF0b3IgPT09IHVuZGVmaW5lZCA/ICcsJyA6IHNlcGFyYXRvcik7XG4gICAgfVxuICB9KTtcblxuICAvLyBpdGVyYWJsZSBET00gY29sbGVjdGlvbnNcbiAgLy8gZmxhZyAtIGBpdGVyYWJsZWAgaW50ZXJmYWNlIC0gJ2VudHJpZXMnLCAna2V5cycsICd2YWx1ZXMnLCAnZm9yRWFjaCcgbWV0aG9kc1xuICB2YXIgZG9tSXRlcmFibGVzID0ge1xuICAgIENTU1J1bGVMaXN0OiAwLFxuICAgIENTU1N0eWxlRGVjbGFyYXRpb246IDAsXG4gICAgQ1NTVmFsdWVMaXN0OiAwLFxuICAgIENsaWVudFJlY3RMaXN0OiAwLFxuICAgIERPTVJlY3RMaXN0OiAwLFxuICAgIERPTVN0cmluZ0xpc3Q6IDAsXG4gICAgRE9NVG9rZW5MaXN0OiAxLFxuICAgIERhdGFUcmFuc2Zlckl0ZW1MaXN0OiAwLFxuICAgIEZpbGVMaXN0OiAwLFxuICAgIEhUTUxBbGxDb2xsZWN0aW9uOiAwLFxuICAgIEhUTUxDb2xsZWN0aW9uOiAwLFxuICAgIEhUTUxGb3JtRWxlbWVudDogMCxcbiAgICBIVE1MU2VsZWN0RWxlbWVudDogMCxcbiAgICBNZWRpYUxpc3Q6IDAsXG4gICAgTWltZVR5cGVBcnJheTogMCxcbiAgICBOYW1lZE5vZGVNYXA6IDAsXG4gICAgTm9kZUxpc3Q6IDEsXG4gICAgUGFpbnRSZXF1ZXN0TGlzdDogMCxcbiAgICBQbHVnaW46IDAsXG4gICAgUGx1Z2luQXJyYXk6IDAsXG4gICAgU1ZHTGVuZ3RoTGlzdDogMCxcbiAgICBTVkdOdW1iZXJMaXN0OiAwLFxuICAgIFNWR1BhdGhTZWdMaXN0OiAwLFxuICAgIFNWR1BvaW50TGlzdDogMCxcbiAgICBTVkdTdHJpbmdMaXN0OiAwLFxuICAgIFNWR1RyYW5zZm9ybUxpc3Q6IDAsXG4gICAgU291cmNlQnVmZmVyTGlzdDogMCxcbiAgICBTdHlsZVNoZWV0TGlzdDogMCxcbiAgICBUZXh0VHJhY2tDdWVMaXN0OiAwLFxuICAgIFRleHRUcmFja0xpc3Q6IDAsXG4gICAgVG91Y2hMaXN0OiAwXG4gIH07XG5cbiAgLy8gaW4gb2xkIFdlYktpdCB2ZXJzaW9ucywgYGVsZW1lbnQuY2xhc3NMaXN0YCBpcyBub3QgYW4gaW5zdGFuY2Ugb2YgZ2xvYmFsIGBET01Ub2tlbkxpc3RgXG4gIHZhciBkb2N1bWVudENyZWF0ZUVsZW1lbnQgPSBkb2N1bWVudENyZWF0ZUVsZW1lbnQkMjtcblxuICB2YXIgY2xhc3NMaXN0ID0gZG9jdW1lbnRDcmVhdGVFbGVtZW50KCdzcGFuJykuY2xhc3NMaXN0O1xuICB2YXIgRE9NVG9rZW5MaXN0UHJvdG90eXBlJDEgPSBjbGFzc0xpc3QgJiYgY2xhc3NMaXN0LmNvbnN0cnVjdG9yICYmIGNsYXNzTGlzdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cbiAgdmFyIGRvbVRva2VuTGlzdFByb3RvdHlwZSA9IERPTVRva2VuTGlzdFByb3RvdHlwZSQxID09PSBPYmplY3QucHJvdG90eXBlID8gdW5kZWZpbmVkIDogRE9NVG9rZW5MaXN0UHJvdG90eXBlJDE7XG5cbiAgdmFyICRmb3JFYWNoID0gYXJyYXlJdGVyYXRpb24uZm9yRWFjaDtcbiAgdmFyIGFycmF5TWV0aG9kSXNTdHJpY3QgPSBhcnJheU1ldGhvZElzU3RyaWN0JDI7XG5cbiAgdmFyIFNUUklDVF9NRVRIT0QgPSBhcnJheU1ldGhvZElzU3RyaWN0KCdmb3JFYWNoJyk7XG5cbiAgLy8gYEFycmF5LnByb3RvdHlwZS5mb3JFYWNoYCBtZXRob2QgaW1wbGVtZW50YXRpb25cbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZm9yZWFjaFxuICB2YXIgYXJyYXlGb3JFYWNoID0gIVNUUklDVF9NRVRIT0QgPyBmdW5jdGlvbiBmb3JFYWNoKGNhbGxiYWNrZm4gLyogLCB0aGlzQXJnICovKSB7XG4gICAgcmV0dXJuICRmb3JFYWNoKHRoaXMsIGNhbGxiYWNrZm4sIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLWFycmF5LXByb3RvdHlwZS1mb3JlYWNoIC0tIHNhZmVcbiAgfSA6IFtdLmZvckVhY2g7XG5cbiAgdmFyIGdsb2JhbCQxID0gZ2xvYmFsJGU7XG4gIHZhciBET01JdGVyYWJsZXMgPSBkb21JdGVyYWJsZXM7XG4gIHZhciBET01Ub2tlbkxpc3RQcm90b3R5cGUgPSBkb21Ub2tlbkxpc3RQcm90b3R5cGU7XG4gIHZhciBmb3JFYWNoID0gYXJyYXlGb3JFYWNoO1xuICB2YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5ID0gY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDQ7XG5cbiAgdmFyIGhhbmRsZVByb3RvdHlwZSA9IGZ1bmN0aW9uIChDb2xsZWN0aW9uUHJvdG90eXBlKSB7XG4gICAgLy8gc29tZSBDaHJvbWUgdmVyc2lvbnMgaGF2ZSBub24tY29uZmlndXJhYmxlIG1ldGhvZHMgb24gRE9NVG9rZW5MaXN0XG4gICAgaWYgKENvbGxlY3Rpb25Qcm90b3R5cGUgJiYgQ29sbGVjdGlvblByb3RvdHlwZS5mb3JFYWNoICE9PSBmb3JFYWNoKSB0cnkge1xuICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KENvbGxlY3Rpb25Qcm90b3R5cGUsICdmb3JFYWNoJywgZm9yRWFjaCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIENvbGxlY3Rpb25Qcm90b3R5cGUuZm9yRWFjaCA9IGZvckVhY2g7XG4gICAgfVxuICB9O1xuXG4gIGZvciAodmFyIENPTExFQ1RJT05fTkFNRSBpbiBET01JdGVyYWJsZXMpIHtcbiAgICBpZiAoRE9NSXRlcmFibGVzW0NPTExFQ1RJT05fTkFNRV0pIHtcbiAgICAgIGhhbmRsZVByb3RvdHlwZShnbG9iYWwkMVtDT0xMRUNUSU9OX05BTUVdICYmIGdsb2JhbCQxW0NPTExFQ1RJT05fTkFNRV0ucHJvdG90eXBlKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVQcm90b3R5cGUoRE9NVG9rZW5MaXN0UHJvdG90eXBlKTtcblxuICAvKipcbiAgICogQGF1dGhvciB6aGl4aW4gd2VuIDx3ZW56aGl4aW4yMDEwQGdtYWlsLmNvbT5cbiAgICogZXh0ZW5zaW9uczogaHR0cHM6Ly9naXRodWIuY29tL2hodXJ6L3RhYmxlRXhwb3J0LmpxdWVyeS5wbHVnaW5cbiAgICovXG5cbiAgdmFyIFV0aWxzID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZm4uYm9vdHN0cmFwVGFibGUudXRpbHM7XG4gIHZhciBUWVBFX05BTUUgPSB7XG4gICAganNvbjogJ0pTT04nLFxuICAgIHhtbDogJ1hNTCcsXG4gICAgcG5nOiAnUE5HJyxcbiAgICBjc3Y6ICdDU1YnLFxuICAgIHR4dDogJ1RYVCcsXG4gICAgc3FsOiAnU1FMJyxcbiAgICBkb2M6ICdNUy1Xb3JkJyxcbiAgICBleGNlbDogJ01TLUV4Y2VsJyxcbiAgICB4bHN4OiAnTVMtRXhjZWwgKE9wZW5YTUwpJyxcbiAgICBwb3dlcnBvaW50OiAnTVMtUG93ZXJwb2ludCcsXG4gICAgcGRmOiAnUERGJ1xuICB9O1xuICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5leHRlbmQoJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZm4uYm9vdHN0cmFwVGFibGUuZGVmYXVsdHMsIHtcbiAgICBzaG93RXhwb3J0OiBmYWxzZSxcbiAgICBleHBvcnREYXRhVHlwZTogJ2Jhc2ljJyxcbiAgICAvLyBiYXNpYywgYWxsLCBzZWxlY3RlZFxuICAgIGV4cG9ydFR5cGVzOiBbJ2pzb24nLCAneG1sJywgJ2NzdicsICd0eHQnLCAnc3FsJywgJ2V4Y2VsJ10sXG4gICAgZXhwb3J0T3B0aW9uczoge30sXG4gICAgZXhwb3J0Rm9vdGVyOiBmYWxzZVxuICB9KTtcbiAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZXh0ZW5kKCRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuLmJvb3RzdHJhcFRhYmxlLmNvbHVtbkRlZmF1bHRzLCB7XG4gICAgZm9yY2VFeHBvcnQ6IGZhbHNlLFxuICAgIGZvcmNlSGlkZTogZmFsc2VcbiAgfSk7XG4gICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmV4dGVuZCgkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5mbi5ib290c3RyYXBUYWJsZS5kZWZhdWx0cy5pY29ucywge1xuICAgIGV4cG9ydDoge1xuICAgICAgYm9vdHN0cmFwMzogJ2dseXBoaWNvbi1leHBvcnQgaWNvbi1zaGFyZScsXG4gICAgICBib290c3RyYXA1OiAnYmktZG93bmxvYWQnLFxuICAgICAgbWF0ZXJpYWxpemU6ICdmaWxlX2Rvd25sb2FkJyxcbiAgICAgICdib290c3RyYXAtdGFibGUnOiAnaWNvbi1kb3dubG9hZCdcbiAgICB9WyRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuLmJvb3RzdHJhcFRhYmxlLnRoZW1lXSB8fCAnZmEtZG93bmxvYWQnXG4gIH0pO1xuICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5leHRlbmQoJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZm4uYm9vdHN0cmFwVGFibGUubG9jYWxlcywge1xuICAgIGZvcm1hdEV4cG9ydDogZnVuY3Rpb24gZm9ybWF0RXhwb3J0KCkge1xuICAgICAgcmV0dXJuICdFeHBvcnQgZGF0YSc7XG4gICAgfVxuICB9KTtcbiAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZXh0ZW5kKCRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuLmJvb3RzdHJhcFRhYmxlLmRlZmF1bHRzLCAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5mbi5ib290c3RyYXBUYWJsZS5sb2NhbGVzKTtcbiAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZm4uYm9vdHN0cmFwVGFibGUubWV0aG9kcy5wdXNoKCdleHBvcnRUYWJsZScpO1xuICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5leHRlbmQoJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZm4uYm9vdHN0cmFwVGFibGUuZGVmYXVsdHMsIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICBvbkV4cG9ydFNhdmVkOiBmdW5jdGlvbiBvbkV4cG9ydFNhdmVkKGV4cG9ydGVkUm93cykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgb25FeHBvcnRTdGFydGVkOiBmdW5jdGlvbiBvbkV4cG9ydFN0YXJ0ZWQoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcbiAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZXh0ZW5kKCRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuLmJvb3RzdHJhcFRhYmxlLkNvbnN0cnVjdG9yLkVWRU5UUywge1xuICAgICdleHBvcnQtc2F2ZWQuYnMudGFibGUnOiAnb25FeHBvcnRTYXZlZCcsXG4gICAgJ2V4cG9ydC1zdGFydGVkLmJzLnRhYmxlJzogJ29uRXhwb3J0U3RhcnRlZCdcbiAgfSk7XG4gICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLkJvb3RzdHJhcFRhYmxlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfJCRCb290c3RyYXBUYWJsZSkge1xuICAgIF9pbmhlcml0cyhfY2xhc3MsIF8kJEJvb3RzdHJhcFRhYmxlKTtcbiAgICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKF9jbGFzcyk7XG4gICAgZnVuY3Rpb24gX2NsYXNzKCkge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIF9jbGFzcyk7XG4gICAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIF9jcmVhdGVDbGFzcyhfY2xhc3MsIFt7XG4gICAgICBrZXk6IFwiaW5pdFRvb2xiYXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0VG9vbGJhcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgICBfZ2V0MjtcbiAgICAgICAgdmFyIG8gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHZhciBleHBvcnRUeXBlcyA9IG8uZXhwb3J0VHlwZXM7XG4gICAgICAgIHRoaXMuc2hvd1Rvb2xiYXIgPSB0aGlzLnNob3dUb29sYmFyIHx8IG8uc2hvd0V4cG9ydDtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93RXhwb3J0KSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBleHBvcnRUeXBlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciB0eXBlcyA9IGV4cG9ydFR5cGVzLnNsaWNlKDEsIC0xKS5yZXBsYWNlKC8gL2csICcnKS5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgZXhwb3J0VHlwZXMgPSB0eXBlcy5tYXAoZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHQuc2xpY2UoMSwgLTEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2Ygby5leHBvcnRPcHRpb25zID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgby5leHBvcnRPcHRpb25zID0gVXRpbHMuY2FsY3VsYXRlT2JqZWN0VmFsdWUobnVsbCwgby5leHBvcnRPcHRpb25zKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy4kZXhwb3J0ID0gdGhpcy4kdG9vbGJhci5maW5kKCc+LmNvbHVtbnMgZGl2LmV4cG9ydCcpO1xuICAgICAgICAgIGlmICh0aGlzLiRleHBvcnQubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUV4cG9ydEJ1dHRvbigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmJ1dHRvbnMgPSBPYmplY3QuYXNzaWduKHRoaXMuYnV0dG9ucywge1xuICAgICAgICAgICAgZXhwb3J0OiB7XG4gICAgICAgICAgICAgIGh0bWw6IGZ1bmN0aW9uIGh0bWwoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4cG9ydFR5cGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZXhwb3J0IFwiLmNvbmNhdChfdGhpcy5jb25zdGFudHMuY2xhc3Nlcy5idXR0b25zRHJvcGRvd24sIFwiXFxcIlxcbiAgICAgICAgICAgICAgICAgIGRhdGEtdHlwZT1cXFwiXCIpLmNvbmNhdChleHBvcnRUeXBlc1swXSwgXCJcXFwiPlxcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcIlwiKS5jb25jYXQoX3RoaXMuY29uc3RhbnRzLmJ1dHRvbnNDbGFzcywgXCJcXFwiXFxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cXFwiXCIpLmNvbmNhdChvLmZvcm1hdEV4cG9ydCgpLCBcIlxcXCJcXG4gICAgICAgICAgICAgICAgICB0eXBlPVxcXCJidXR0b25cXFwiXFxuICAgICAgICAgICAgICAgICAgdGl0bGU9XFxcIlwiKS5jb25jYXQoby5mb3JtYXRFeHBvcnQoKSwgXCJcXFwiPlxcbiAgICAgICAgICAgICAgICAgIFwiKS5jb25jYXQoby5zaG93QnV0dG9uSWNvbnMgPyBVdGlscy5zcHJpbnRmKF90aGlzLmNvbnN0YW50cy5odG1sLmljb24sIG8uaWNvbnNQcmVmaXgsIG8uaWNvbnMuZXhwb3J0KSA6ICcnLCBcIlxcbiAgICAgICAgICAgICAgICAgIFwiKS5jb25jYXQoby5zaG93QnV0dG9uVGV4dCA/IG8uZm9ybWF0RXhwb3J0KCkgOiAnJywgXCJcXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IFtdO1xuICAgICAgICAgICAgICAgIGh0bWwucHVzaChcIlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJleHBvcnQgXCIuY29uY2F0KF90aGlzLmNvbnN0YW50cy5jbGFzc2VzLmJ1dHRvbnNEcm9wZG93biwgXCJcXFwiPlxcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJcIikuY29uY2F0KF90aGlzLmNvbnN0YW50cy5idXR0b25zQ2xhc3MsIFwiIGRyb3Bkb3duLXRvZ2dsZVxcXCJcXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cXFwiXCIpLmNvbmNhdChvLmZvcm1hdEV4cG9ydCgpLCBcIlxcXCJcXG4gICAgICAgICAgICAgICAgXCIpLmNvbmNhdChfdGhpcy5jb25zdGFudHMuZGF0YVRvZ2dsZSwgXCI9XFxcImRyb3Bkb3duXFxcIlxcbiAgICAgICAgICAgICAgICB0eXBlPVxcXCJidXR0b25cXFwiXFxuICAgICAgICAgICAgICAgIHRpdGxlPVxcXCJcIikuY29uY2F0KG8uZm9ybWF0RXhwb3J0KCksIFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgXCIpLmNvbmNhdChvLnNob3dCdXR0b25JY29ucyA/IFV0aWxzLnNwcmludGYoX3RoaXMuY29uc3RhbnRzLmh0bWwuaWNvbiwgby5pY29uc1ByZWZpeCwgby5pY29ucy5leHBvcnQpIDogJycsIFwiXFxuICAgICAgICAgICAgICAgIFwiKS5jb25jYXQoby5zaG93QnV0dG9uVGV4dCA/IG8uZm9ybWF0RXhwb3J0KCkgOiAnJywgXCJcXG4gICAgICAgICAgICAgICAgXCIpLmNvbmNhdChfdGhpcy5jb25zdGFudHMuaHRtbC5kcm9wZG93bkNhcmV0LCBcIlxcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgICAgXCIpLmNvbmNhdChfdGhpcy5jb25zdGFudHMuaHRtbC50b29sYmFyRHJvcGRvd25bMF0sIFwiXFxuICAgICAgICAgICAgICBcIikpO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihleHBvcnRUeXBlcyksXG4gICAgICAgICAgICAgICAgICBfc3RlcDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBfc3RlcC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFRZUEVfTkFNRS5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkge1xuICAgICAgICAgICAgICAgICAgICAgIHZhciAkaXRlbSA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKFV0aWxzLnNwcmludGYoX3RoaXMuY29uc3RhbnRzLmh0bWwucGFnZURyb3Bkb3duSXRlbSwgJycsIFRZUEVfTkFNRVt0eXBlXSkpO1xuICAgICAgICAgICAgICAgICAgICAgICRpdGVtLmF0dHIoJ2RhdGEtdHlwZScsIHR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgIGh0bWwucHVzaCgkaXRlbS5wcm9wKCdvdXRlckhUTUwnKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGh0bWwucHVzaChfdGhpcy5jb25zdGFudHMuaHRtbC50b29sYmFyRHJvcGRvd25bMV0sICc8L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaHRtbC5qb2luKCcnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cbiAgICAgICAgKF9nZXQyID0gX2dldChfZ2V0UHJvdG90eXBlT2YoX2NsYXNzLnByb3RvdHlwZSksIFwiaW5pdFRvb2xiYXJcIiwgdGhpcykpLmNhbGwuYXBwbHkoX2dldDIsIFt0aGlzXS5jb25jYXQoYXJncykpO1xuICAgICAgICB0aGlzLiRleHBvcnQgPSB0aGlzLiR0b29sYmFyLmZpbmQoJz4uY29sdW1ucyBkaXYuZXhwb3J0Jyk7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLnNob3dFeHBvcnQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVFeHBvcnRCdXR0b24oKTtcbiAgICAgICAgdmFyICRleHBvcnRCdXR0b25zID0gdGhpcy4kZXhwb3J0LmZpbmQoJ1tkYXRhLXR5cGVdJyk7XG4gICAgICAgIGlmIChleHBvcnRUeXBlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAkZXhwb3J0QnV0dG9ucyA9IHRoaXMuJGV4cG9ydDtcbiAgICAgICAgfVxuICAgICAgICAkZXhwb3J0QnV0dG9ucy5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBfdGhpcy5leHBvcnRUYWJsZSh7XG4gICAgICAgICAgICB0eXBlOiAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShlLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ3R5cGUnKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5oYW5kbGVUb29sYmFyKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImhhbmRsZVRvb2xiYXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVUb29sYmFyKCkge1xuICAgICAgICBpZiAoIXRoaXMuJGV4cG9ydCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2dldChfZ2V0UHJvdG90eXBlT2YoX2NsYXNzLnByb3RvdHlwZSksIFwiaGFuZGxlVG9vbGJhclwiLCB0aGlzKSkge1xuICAgICAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKF9jbGFzcy5wcm90b3R5cGUpLCBcImhhbmRsZVRvb2xiYXJcIiwgdGhpcykuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJleHBvcnRUYWJsZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGV4cG9ydFRhYmxlKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG4gICAgICAgIHZhciBvID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB2YXIgc3RhdGVGaWVsZCA9IHRoaXMuaGVhZGVyLnN0YXRlRmllbGQ7XG4gICAgICAgIHZhciBpc0NhcmRWaWV3ID0gby5jYXJkVmlldztcbiAgICAgICAgdmFyIGRvRXhwb3J0ID0gZnVuY3Rpb24gZG9FeHBvcnQoY2FsbGJhY2spIHtcbiAgICAgICAgICBfdGhpczIudHJpZ2dlcignZXhwb3J0LXN0YXJ0ZWQnKTtcbiAgICAgICAgICBpZiAoc3RhdGVGaWVsZCkge1xuICAgICAgICAgICAgX3RoaXMyLmhpZGVDb2x1bW4oc3RhdGVGaWVsZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0NhcmRWaWV3KSB7XG4gICAgICAgICAgICBfdGhpczIudG9nZ2xlVmlldygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBfdGhpczIuY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICAgIGlmIChyb3cuZm9yY2VIaWRlKSB7XG4gICAgICAgICAgICAgIF90aGlzMi5oaWRlQ29sdW1uKHJvdy5maWVsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGRhdGEgPSBfdGhpczIuZ2V0RGF0YSgpO1xuICAgICAgICAgIGlmIChvLmRldGFpbFZpZXcgJiYgby5kZXRhaWxWaWV3SWNvbikge1xuICAgICAgICAgICAgdmFyIGRldGFpbFZpZXdJbmRleCA9IG8uZGV0YWlsVmlld0FsaWduID09PSAnbGVmdCcgPyAwIDogX3RoaXMyLmdldFZpc2libGVGaWVsZHMoKS5sZW5ndGggKyBVdGlscy5nZXREZXRhaWxWaWV3SW5kZXhPZmZzZXQoX3RoaXMyLm9wdGlvbnMpO1xuICAgICAgICAgICAgby5leHBvcnRPcHRpb25zLmlnbm9yZUNvbHVtbiA9IFtkZXRhaWxWaWV3SW5kZXhdLmNvbmNhdChvLmV4cG9ydE9wdGlvbnMuaWdub3JlQ29sdW1uIHx8IFtdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG8uZXhwb3J0Rm9vdGVyICYmIG8uaGVpZ2h0KSB7XG4gICAgICAgICAgICB2YXIgJGZvb3RlclJvdyA9IF90aGlzMi4kdGFibGVGb290ZXIuZmluZCgndHInKS5maXJzdCgpO1xuICAgICAgICAgICAgdmFyIGZvb3RlckRhdGEgPSB7fTtcbiAgICAgICAgICAgIHZhciBmb290ZXJIdG1sID0gW107XG4gICAgICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5lYWNoKCRmb290ZXJSb3cuY2hpbGRyZW4oKSwgZnVuY3Rpb24gKGluZGV4LCBmb290ZXJDZWxsKSB7XG4gICAgICAgICAgICAgIHZhciBmb290ZXJDZWxsSHRtbCA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGZvb3RlckNlbGwpLmNoaWxkcmVuKCcudGgtaW5uZXInKS5maXJzdCgpLmh0bWwoKTtcbiAgICAgICAgICAgICAgZm9vdGVyRGF0YVtfdGhpczIuY29sdW1uc1tpbmRleF0uZmllbGRdID0gZm9vdGVyQ2VsbEh0bWwgPT09ICcmbmJzcDsnID8gbnVsbCA6IGZvb3RlckNlbGxIdG1sO1xuXG4gICAgICAgICAgICAgIC8vIGdyYWIgZm9vdGVyIGNlbGwgdGV4dCBpbnRvIGNlbGwgaW5kZXgtYmFzZWQgYXJyYXlcbiAgICAgICAgICAgICAgZm9vdGVySHRtbC5wdXNoKGZvb3RlckNlbGxIdG1sKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMyLiRib2R5LmFwcGVuZChfdGhpczIuJGJvZHkuY2hpbGRyZW4oKS5sYXN0KClbMF0ub3V0ZXJIVE1MKTtcbiAgICAgICAgICAgIHZhciAkbGFzdFRhYmxlUm93ID0gX3RoaXMyLiRib2R5LmNoaWxkcmVuKCkubGFzdCgpO1xuICAgICAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZWFjaCgkbGFzdFRhYmxlUm93LmNoaWxkcmVuKCksIGZ1bmN0aW9uIChpbmRleCwgbGFzdFRhYmxlUm93Q2VsbCkge1xuICAgICAgICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShsYXN0VGFibGVSb3dDZWxsKS5odG1sKGZvb3Rlckh0bWxbaW5kZXhdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgaGlkZGVuQ29sdW1ucyA9IF90aGlzMi5nZXRIaWRkZW5Db2x1bW5zKCk7XG4gICAgICAgICAgaGlkZGVuQ29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICAgIGlmIChyb3cuZm9yY2VFeHBvcnQpIHtcbiAgICAgICAgICAgICAgX3RoaXMyLnNob3dDb2x1bW4ocm93LmZpZWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAodHlwZW9mIG8uZXhwb3J0T3B0aW9ucy5maWxlTmFtZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgb3B0aW9ucy5maWxlTmFtZSA9IG8uZXhwb3J0T3B0aW9ucy5maWxlTmFtZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBfdGhpczIuJGVsLnRhYmxlRXhwb3J0KCRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmV4dGVuZCh7XG4gICAgICAgICAgICBvbkFmdGVyU2F2ZVRvRmlsZTogZnVuY3Rpb24gb25BZnRlclNhdmVUb0ZpbGUoKSB7XG4gICAgICAgICAgICAgIGlmIChvLmV4cG9ydEZvb3Rlcikge1xuICAgICAgICAgICAgICAgIF90aGlzMi5sb2FkKGRhdGEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzdGF0ZUZpZWxkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMyLnNob3dDb2x1bW4oc3RhdGVGaWVsZCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGlzQ2FyZFZpZXcpIHtcbiAgICAgICAgICAgICAgICBfdGhpczIudG9nZ2xlVmlldygpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGhpZGRlbkNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgICAgICAgaWYgKHJvdy5mb3JjZUV4cG9ydCkge1xuICAgICAgICAgICAgICAgICAgX3RoaXMyLmhpZGVDb2x1bW4ocm93LmZpZWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBfdGhpczIuY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICAgICAgICBpZiAocm93LmZvcmNlSGlkZSkge1xuICAgICAgICAgICAgICAgICAgX3RoaXMyLnNob3dDb2x1bW4ocm93LmZpZWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgby5leHBvcnRPcHRpb25zLCBvcHRpb25zKSk7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChvLmV4cG9ydERhdGFUeXBlID09PSAnYWxsJyAmJiBvLnBhZ2luYXRpb24pIHtcbiAgICAgICAgICB2YXIgZXZlbnROYW1lID0gby5zaWRlUGFnaW5hdGlvbiA9PT0gJ3NlcnZlcicgPyAncG9zdC1ib2R5LmJzLnRhYmxlJyA6ICdwYWdlLWNoYW5nZS5icy50YWJsZSc7XG4gICAgICAgICAgdmFyIHZpcnR1YWxTY3JvbGwgPSB0aGlzLm9wdGlvbnMudmlydHVhbFNjcm9sbDtcbiAgICAgICAgICB0aGlzLiRlbC5vbmUoZXZlbnROYW1lLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgZG9FeHBvcnQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzMi5vcHRpb25zLnZpcnR1YWxTY3JvbGwgPSB2aXJ0dWFsU2Nyb2xsO1xuICAgICAgICAgICAgICAgIF90aGlzMi50b2dnbGVQYWdpbmF0aW9uKCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLnZpcnR1YWxTY3JvbGwgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLnRvZ2dsZVBhZ2luYXRpb24oKTtcbiAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2V4cG9ydC1zYXZlZCcsIHRoaXMuZ2V0RGF0YSgpKTtcbiAgICAgICAgfSBlbHNlIGlmIChvLmV4cG9ydERhdGFUeXBlID09PSAnc2VsZWN0ZWQnKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdldERhdGEoKTtcbiAgICAgICAgICB2YXIgc2VsZWN0ZWREYXRhID0gdGhpcy5nZXRTZWxlY3Rpb25zKCk7XG4gICAgICAgICAgdmFyIHBhZ2luYXRpb24gPSBvLnBhZ2luYXRpb247XG4gICAgICAgICAgaWYgKCFzZWxlY3RlZERhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChvLnNpZGVQYWdpbmF0aW9uID09PSAnc2VydmVyJykge1xuICAgICAgICAgICAgZGF0YSA9IF9kZWZpbmVQcm9wZXJ0eSh7XG4gICAgICAgICAgICAgIHRvdGFsOiBvLnRvdGFsUm93c1xuICAgICAgICAgICAgfSwgdGhpcy5vcHRpb25zLmRhdGFGaWVsZCwgZGF0YSk7XG4gICAgICAgICAgICBzZWxlY3RlZERhdGEgPSBfZGVmaW5lUHJvcGVydHkoe1xuICAgICAgICAgICAgICB0b3RhbDogc2VsZWN0ZWREYXRhLmxlbmd0aFxuICAgICAgICAgICAgfSwgdGhpcy5vcHRpb25zLmRhdGFGaWVsZCwgc2VsZWN0ZWREYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5sb2FkKHNlbGVjdGVkRGF0YSk7XG4gICAgICAgICAgaWYgKHBhZ2luYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlUGFnaW5hdGlvbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkb0V4cG9ydChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAocGFnaW5hdGlvbikge1xuICAgICAgICAgICAgICBfdGhpczIudG9nZ2xlUGFnaW5hdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMyLmxvYWQoZGF0YSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy50cmlnZ2VyKCdleHBvcnQtc2F2ZWQnLCBzZWxlY3RlZERhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvRXhwb3J0KCk7XG4gICAgICAgICAgdGhpcy50cmlnZ2VyKCdleHBvcnQtc2F2ZWQnLCB0aGlzLmdldERhdGEodHJ1ZSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInVwZGF0ZVNlbGVjdGVkXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlU2VsZWN0ZWQoKSB7XG4gICAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKF9jbGFzcy5wcm90b3R5cGUpLCBcInVwZGF0ZVNlbGVjdGVkXCIsIHRoaXMpLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMudXBkYXRlRXhwb3J0QnV0dG9uKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInVwZGF0ZUV4cG9ydEJ1dHRvblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUV4cG9ydEJ1dHRvbigpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5leHBvcnREYXRhVHlwZSA9PT0gJ3NlbGVjdGVkJykge1xuICAgICAgICAgIHRoaXMuJGV4cG9ydC5maW5kKCc+IGJ1dHRvbicpLnByb3AoJ2Rpc2FibGVkJywgIXRoaXMuZ2V0U2VsZWN0aW9ucygpLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XSk7XG4gICAgcmV0dXJuIF9jbGFzcztcbiAgfSgkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5Cb290c3RyYXBUYWJsZSk7XG5cbn0pKTtcbiIsIi8qIVxuICAqIEJvb3RzdHJhcCB2NS4yLjMgKGh0dHBzOi8vZ2V0Ym9vdHN0cmFwLmNvbS8pXG4gICogQ29weXJpZ2h0IDIwMTEtMjAyMiBUaGUgQm9vdHN0cmFwIEF1dGhvcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ncmFwaHMvY29udHJpYnV0b3JzKVxuICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKVxuICAqL1xuaW1wb3J0ICogYXMgUG9wcGVyIGZyb20gJ0Bwb3BwZXJqcy9jb3JlJztcblxuLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQm9vdHN0cmFwICh2NS4yLjMpOiB1dGlsL2luZGV4LmpzXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNvbnN0IE1BWF9VSUQgPSAxMDAwMDAwO1xuY29uc3QgTUlMTElTRUNPTkRTX01VTFRJUExJRVIgPSAxMDAwO1xuY29uc3QgVFJBTlNJVElPTl9FTkQgPSAndHJhbnNpdGlvbmVuZCc7IC8vIFNob3V0LW91dCBBbmd1cyBDcm9sbCAoaHR0cHM6Ly9nb28uZ2wvcHh3UUdwKVxuXG5jb25zdCB0b1R5cGUgPSBvYmplY3QgPT4ge1xuICBpZiAob2JqZWN0ID09PSBudWxsIHx8IG9iamVjdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGAke29iamVjdH1gO1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpLm1hdGNoKC9cXHMoW2Etel0rKS9pKVsxXS50b0xvd2VyQ2FzZSgpO1xufTtcbi8qKlxuICogUHVibGljIFV0aWwgQVBJXG4gKi9cblxuXG5jb25zdCBnZXRVSUQgPSBwcmVmaXggPT4ge1xuICBkbyB7XG4gICAgcHJlZml4ICs9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1BWF9VSUQpO1xuICB9IHdoaWxlIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmVmaXgpKTtcblxuICByZXR1cm4gcHJlZml4O1xufTtcblxuY29uc3QgZ2V0U2VsZWN0b3IgPSBlbGVtZW50ID0+IHtcbiAgbGV0IHNlbGVjdG9yID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYnMtdGFyZ2V0Jyk7XG5cbiAgaWYgKCFzZWxlY3RvciB8fCBzZWxlY3RvciA9PT0gJyMnKSB7XG4gICAgbGV0IGhyZWZBdHRyaWJ1dGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnaHJlZicpOyAvLyBUaGUgb25seSB2YWxpZCBjb250ZW50IHRoYXQgY291bGQgZG91YmxlIGFzIGEgc2VsZWN0b3IgYXJlIElEcyBvciBjbGFzc2VzLFxuICAgIC8vIHNvIGV2ZXJ5dGhpbmcgc3RhcnRpbmcgd2l0aCBgI2Agb3IgYC5gLiBJZiBhIFwicmVhbFwiIFVSTCBpcyB1c2VkIGFzIHRoZSBzZWxlY3RvcixcbiAgICAvLyBgZG9jdW1lbnQucXVlcnlTZWxlY3RvcmAgd2lsbCByaWdodGZ1bGx5IGNvbXBsYWluIGl0IGlzIGludmFsaWQuXG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9pc3N1ZXMvMzIyNzNcblxuICAgIGlmICghaHJlZkF0dHJpYnV0ZSB8fCAhaHJlZkF0dHJpYnV0ZS5pbmNsdWRlcygnIycpICYmICFocmVmQXR0cmlidXRlLnN0YXJ0c1dpdGgoJy4nKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSAvLyBKdXN0IGluIGNhc2Ugc29tZSBDTVMgcHV0cyBvdXQgYSBmdWxsIFVSTCB3aXRoIHRoZSBhbmNob3IgYXBwZW5kZWRcblxuXG4gICAgaWYgKGhyZWZBdHRyaWJ1dGUuaW5jbHVkZXMoJyMnKSAmJiAhaHJlZkF0dHJpYnV0ZS5zdGFydHNXaXRoKCcjJykpIHtcbiAgICAgIGhyZWZBdHRyaWJ1dGUgPSBgIyR7aHJlZkF0dHJpYnV0ZS5zcGxpdCgnIycpWzFdfWA7XG4gICAgfVxuXG4gICAgc2VsZWN0b3IgPSBocmVmQXR0cmlidXRlICYmIGhyZWZBdHRyaWJ1dGUgIT09ICcjJyA/IGhyZWZBdHRyaWJ1dGUudHJpbSgpIDogbnVsbDtcbiAgfVxuXG4gIHJldHVybiBzZWxlY3Rvcjtcbn07XG5cbmNvbnN0IGdldFNlbGVjdG9yRnJvbUVsZW1lbnQgPSBlbGVtZW50ID0+IHtcbiAgY29uc3Qgc2VsZWN0b3IgPSBnZXRTZWxlY3RvcihlbGVtZW50KTtcblxuICBpZiAoc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgPyBzZWxlY3RvciA6IG51bGw7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5cbmNvbnN0IGdldEVsZW1lbnRGcm9tU2VsZWN0b3IgPSBlbGVtZW50ID0+IHtcbiAgY29uc3Qgc2VsZWN0b3IgPSBnZXRTZWxlY3RvcihlbGVtZW50KTtcbiAgcmV0dXJuIHNlbGVjdG9yID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgOiBudWxsO1xufTtcblxuY29uc3QgZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQgPSBlbGVtZW50ID0+IHtcbiAgaWYgKCFlbGVtZW50KSB7XG4gICAgcmV0dXJuIDA7XG4gIH0gLy8gR2V0IHRyYW5zaXRpb24tZHVyYXRpb24gb2YgdGhlIGVsZW1lbnRcblxuXG4gIGxldCB7XG4gICAgdHJhbnNpdGlvbkR1cmF0aW9uLFxuICAgIHRyYW5zaXRpb25EZWxheVxuICB9ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gIGNvbnN0IGZsb2F0VHJhbnNpdGlvbkR1cmF0aW9uID0gTnVtYmVyLnBhcnNlRmxvYXQodHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgY29uc3QgZmxvYXRUcmFuc2l0aW9uRGVsYXkgPSBOdW1iZXIucGFyc2VGbG9hdCh0cmFuc2l0aW9uRGVsYXkpOyAvLyBSZXR1cm4gMCBpZiBlbGVtZW50IG9yIHRyYW5zaXRpb24gZHVyYXRpb24gaXMgbm90IGZvdW5kXG5cbiAgaWYgKCFmbG9hdFRyYW5zaXRpb25EdXJhdGlvbiAmJiAhZmxvYXRUcmFuc2l0aW9uRGVsYXkpIHtcbiAgICByZXR1cm4gMDtcbiAgfSAvLyBJZiBtdWx0aXBsZSBkdXJhdGlvbnMgYXJlIGRlZmluZWQsIHRha2UgdGhlIGZpcnN0XG5cblxuICB0cmFuc2l0aW9uRHVyYXRpb24gPSB0cmFuc2l0aW9uRHVyYXRpb24uc3BsaXQoJywnKVswXTtcbiAgdHJhbnNpdGlvbkRlbGF5ID0gdHJhbnNpdGlvbkRlbGF5LnNwbGl0KCcsJylbMF07XG4gIHJldHVybiAoTnVtYmVyLnBhcnNlRmxvYXQodHJhbnNpdGlvbkR1cmF0aW9uKSArIE51bWJlci5wYXJzZUZsb2F0KHRyYW5zaXRpb25EZWxheSkpICogTUlMTElTRUNPTkRTX01VTFRJUExJRVI7XG59O1xuXG5jb25zdCB0cmlnZ2VyVHJhbnNpdGlvbkVuZCA9IGVsZW1lbnQgPT4ge1xuICBlbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFRSQU5TSVRJT05fRU5EKSk7XG59O1xuXG5jb25zdCBpc0VsZW1lbnQgPSBvYmplY3QgPT4ge1xuICBpZiAoIW9iamVjdCB8fCB0eXBlb2Ygb2JqZWN0ICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqZWN0LmpxdWVyeSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBvYmplY3QgPSBvYmplY3RbMF07XG4gIH1cblxuICByZXR1cm4gdHlwZW9mIG9iamVjdC5ub2RlVHlwZSAhPT0gJ3VuZGVmaW5lZCc7XG59O1xuXG5jb25zdCBnZXRFbGVtZW50ID0gb2JqZWN0ID0+IHtcbiAgLy8gaXQncyBhIGpRdWVyeSBvYmplY3Qgb3IgYSBub2RlIGVsZW1lbnRcbiAgaWYgKGlzRWxlbWVudChvYmplY3QpKSB7XG4gICAgcmV0dXJuIG9iamVjdC5qcXVlcnkgPyBvYmplY3RbMF0gOiBvYmplY3Q7XG4gIH1cblxuICBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ3N0cmluZycgJiYgb2JqZWN0Lmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvYmplY3QpO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5jb25zdCBpc1Zpc2libGUgPSBlbGVtZW50ID0+IHtcbiAgaWYgKCFpc0VsZW1lbnQoZWxlbWVudCkgfHwgZWxlbWVudC5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IGVsZW1lbnRJc1Zpc2libGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoJ3Zpc2liaWxpdHknKSA9PT0gJ3Zpc2libGUnOyAvLyBIYW5kbGUgYGRldGFpbHNgIGVsZW1lbnQgYXMgaXRzIGNvbnRlbnQgbWF5IGZhbHNpZSBhcHBlYXIgdmlzaWJsZSB3aGVuIGl0IGlzIGNsb3NlZFxuXG4gIGNvbnN0IGNsb3NlZERldGFpbHMgPSBlbGVtZW50LmNsb3Nlc3QoJ2RldGFpbHM6bm90KFtvcGVuXSknKTtcblxuICBpZiAoIWNsb3NlZERldGFpbHMpIHtcbiAgICByZXR1cm4gZWxlbWVudElzVmlzaWJsZTtcbiAgfVxuXG4gIGlmIChjbG9zZWREZXRhaWxzICE9PSBlbGVtZW50KSB7XG4gICAgY29uc3Qgc3VtbWFyeSA9IGVsZW1lbnQuY2xvc2VzdCgnc3VtbWFyeScpO1xuXG4gICAgaWYgKHN1bW1hcnkgJiYgc3VtbWFyeS5wYXJlbnROb2RlICE9PSBjbG9zZWREZXRhaWxzKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHN1bW1hcnkgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZWxlbWVudElzVmlzaWJsZTtcbn07XG5cbmNvbnN0IGlzRGlzYWJsZWQgPSBlbGVtZW50ID0+IHtcbiAgaWYgKCFlbGVtZW50IHx8IGVsZW1lbnQubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Rpc2FibGVkJykpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZWxlbWVudC5kaXNhYmxlZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZWxlbWVudC5kaXNhYmxlZDtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSAmJiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGlzYWJsZWQnKSAhPT0gJ2ZhbHNlJztcbn07XG5cbmNvbnN0IGZpbmRTaGFkb3dSb290ID0gZWxlbWVudCA9PiB7XG4gIGlmICghZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmF0dGFjaFNoYWRvdykge1xuICAgIHJldHVybiBudWxsO1xuICB9IC8vIENhbiBmaW5kIHRoZSBzaGFkb3cgcm9vdCBvdGhlcndpc2UgaXQnbGwgcmV0dXJuIHRoZSBkb2N1bWVudFxuXG5cbiAgaWYgKHR5cGVvZiBlbGVtZW50LmdldFJvb3ROb2RlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc3Qgcm9vdCA9IGVsZW1lbnQuZ2V0Um9vdE5vZGUoKTtcbiAgICByZXR1cm4gcm9vdCBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QgPyByb290IDogbnVsbDtcbiAgfVxuXG4gIGlmIChlbGVtZW50IGluc3RhbmNlb2YgU2hhZG93Um9vdCkge1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9IC8vIHdoZW4gd2UgZG9uJ3QgZmluZCBhIHNoYWRvdyByb290XG5cblxuICBpZiAoIWVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGZpbmRTaGFkb3dSb290KGVsZW1lbnQucGFyZW50Tm9kZSk7XG59O1xuXG5jb25zdCBub29wID0gKCkgPT4ge307XG4vKipcbiAqIFRyaWNrIHRvIHJlc3RhcnQgYW4gZWxlbWVudCdzIGFuaW1hdGlvblxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4gdm9pZFxuICpcbiAqIEBzZWUgaHR0cHM6Ly93d3cuY2hhcmlzdGhlby5pby9ibG9nLzIwMjEvMDIvcmVzdGFydC1hLWNzcy1hbmltYXRpb24td2l0aC1qYXZhc2NyaXB0LyNyZXN0YXJ0aW5nLWEtY3NzLWFuaW1hdGlvblxuICovXG5cblxuY29uc3QgcmVmbG93ID0gZWxlbWVudCA9PiB7XG4gIGVsZW1lbnQub2Zmc2V0SGVpZ2h0OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC1leHByZXNzaW9uc1xufTtcblxuY29uc3QgZ2V0alF1ZXJ5ID0gKCkgPT4ge1xuICBpZiAod2luZG93LmpRdWVyeSAmJiAhZG9jdW1lbnQuYm9keS5oYXNBdHRyaWJ1dGUoJ2RhdGEtYnMtbm8tanF1ZXJ5JykpIHtcbiAgICByZXR1cm4gd2luZG93LmpRdWVyeTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxuY29uc3QgRE9NQ29udGVudExvYWRlZENhbGxiYWNrcyA9IFtdO1xuXG5jb25zdCBvbkRPTUNvbnRlbnRMb2FkZWQgPSBjYWxsYmFjayA9PiB7XG4gIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIHtcbiAgICAvLyBhZGQgbGlzdGVuZXIgb24gdGhlIGZpcnN0IGNhbGwgd2hlbiB0aGUgZG9jdW1lbnQgaXMgaW4gbG9hZGluZyBzdGF0ZVxuICAgIGlmICghRE9NQ29udGVudExvYWRlZENhbGxiYWNrcy5sZW5ndGgpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgY2FsbGJhY2sgb2YgRE9NQ29udGVudExvYWRlZENhbGxiYWNrcykge1xuICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIERPTUNvbnRlbnRMb2FkZWRDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gIH0gZWxzZSB7XG4gICAgY2FsbGJhY2soKTtcbiAgfVxufTtcblxuY29uc3QgaXNSVEwgPSAoKSA9PiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZGlyID09PSAncnRsJztcblxuY29uc3QgZGVmaW5lSlF1ZXJ5UGx1Z2luID0gcGx1Z2luID0+IHtcbiAgb25ET01Db250ZW50TG9hZGVkKCgpID0+IHtcbiAgICBjb25zdCAkID0gZ2V0alF1ZXJ5KCk7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cbiAgICBpZiAoJCkge1xuICAgICAgY29uc3QgbmFtZSA9IHBsdWdpbi5OQU1FO1xuICAgICAgY29uc3QgSlFVRVJZX05PX0NPTkZMSUNUID0gJC5mbltuYW1lXTtcbiAgICAgICQuZm5bbmFtZV0gPSBwbHVnaW4ualF1ZXJ5SW50ZXJmYWNlO1xuICAgICAgJC5mbltuYW1lXS5Db25zdHJ1Y3RvciA9IHBsdWdpbjtcblxuICAgICAgJC5mbltuYW1lXS5ub0NvbmZsaWN0ID0gKCkgPT4ge1xuICAgICAgICAkLmZuW25hbWVdID0gSlFVRVJZX05PX0NPTkZMSUNUO1xuICAgICAgICByZXR1cm4gcGx1Z2luLmpRdWVyeUludGVyZmFjZTtcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbn07XG5cbmNvbnN0IGV4ZWN1dGUgPSBjYWxsYmFjayA9PiB7XG4gIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjaygpO1xuICB9XG59O1xuXG5jb25zdCBleGVjdXRlQWZ0ZXJUcmFuc2l0aW9uID0gKGNhbGxiYWNrLCB0cmFuc2l0aW9uRWxlbWVudCwgd2FpdEZvclRyYW5zaXRpb24gPSB0cnVlKSA9PiB7XG4gIGlmICghd2FpdEZvclRyYW5zaXRpb24pIHtcbiAgICBleGVjdXRlKGNhbGxiYWNrKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBkdXJhdGlvblBhZGRpbmcgPSA1O1xuICBjb25zdCBlbXVsYXRlZER1cmF0aW9uID0gZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodHJhbnNpdGlvbkVsZW1lbnQpICsgZHVyYXRpb25QYWRkaW5nO1xuICBsZXQgY2FsbGVkID0gZmFsc2U7XG5cbiAgY29uc3QgaGFuZGxlciA9ICh7XG4gICAgdGFyZ2V0XG4gIH0pID0+IHtcbiAgICBpZiAodGFyZ2V0ICE9PSB0cmFuc2l0aW9uRWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNhbGxlZCA9IHRydWU7XG4gICAgdHJhbnNpdGlvbkVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihUUkFOU0lUSU9OX0VORCwgaGFuZGxlcik7XG4gICAgZXhlY3V0ZShjYWxsYmFjayk7XG4gIH07XG5cbiAgdHJhbnNpdGlvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihUUkFOU0lUSU9OX0VORCwgaGFuZGxlcik7XG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGlmICghY2FsbGVkKSB7XG4gICAgICB0cmlnZ2VyVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRWxlbWVudCk7XG4gICAgfVxuICB9LCBlbXVsYXRlZER1cmF0aW9uKTtcbn07XG4vKipcbiAqIFJldHVybiB0aGUgcHJldmlvdXMvbmV4dCBlbGVtZW50IG9mIGEgbGlzdC5cbiAqXG4gKiBAcGFyYW0ge2FycmF5fSBsaXN0ICAgIFRoZSBsaXN0IG9mIGVsZW1lbnRzXG4gKiBAcGFyYW0gYWN0aXZlRWxlbWVudCAgIFRoZSBhY3RpdmUgZWxlbWVudFxuICogQHBhcmFtIHNob3VsZEdldE5leHQgICBDaG9vc2UgdG8gZ2V0IG5leHQgb3IgcHJldmlvdXMgZWxlbWVudFxuICogQHBhcmFtIGlzQ3ljbGVBbGxvd2VkXG4gKiBAcmV0dXJuIHtFbGVtZW50fGVsZW19IFRoZSBwcm9wZXIgZWxlbWVudFxuICovXG5cblxuY29uc3QgZ2V0TmV4dEFjdGl2ZUVsZW1lbnQgPSAobGlzdCwgYWN0aXZlRWxlbWVudCwgc2hvdWxkR2V0TmV4dCwgaXNDeWNsZUFsbG93ZWQpID0+IHtcbiAgY29uc3QgbGlzdExlbmd0aCA9IGxpc3QubGVuZ3RoO1xuICBsZXQgaW5kZXggPSBsaXN0LmluZGV4T2YoYWN0aXZlRWxlbWVudCk7IC8vIGlmIHRoZSBlbGVtZW50IGRvZXMgbm90IGV4aXN0IGluIHRoZSBsaXN0IHJldHVybiBhbiBlbGVtZW50XG4gIC8vIGRlcGVuZGluZyBvbiB0aGUgZGlyZWN0aW9uIGFuZCBpZiBjeWNsZSBpcyBhbGxvd2VkXG5cbiAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgIHJldHVybiAhc2hvdWxkR2V0TmV4dCAmJiBpc0N5Y2xlQWxsb3dlZCA/IGxpc3RbbGlzdExlbmd0aCAtIDFdIDogbGlzdFswXTtcbiAgfVxuXG4gIGluZGV4ICs9IHNob3VsZEdldE5leHQgPyAxIDogLTE7XG5cbiAgaWYgKGlzQ3ljbGVBbGxvd2VkKSB7XG4gICAgaW5kZXggPSAoaW5kZXggKyBsaXN0TGVuZ3RoKSAlIGxpc3RMZW5ndGg7XG4gIH1cblxuICByZXR1cm4gbGlzdFtNYXRoLm1heCgwLCBNYXRoLm1pbihpbmRleCwgbGlzdExlbmd0aCAtIDEpKV07XG59O1xuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBCb290c3RyYXAgKHY1LjIuMyk6IGRvbS9ldmVudC1oYW5kbGVyLmpzXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbi8qKlxuICogQ29uc3RhbnRzXG4gKi9cblxuY29uc3QgbmFtZXNwYWNlUmVnZXggPSAvW14uXSooPz1cXC4uKilcXC58LiovO1xuY29uc3Qgc3RyaXBOYW1lUmVnZXggPSAvXFwuLiovO1xuY29uc3Qgc3RyaXBVaWRSZWdleCA9IC86OlxcZCskLztcbmNvbnN0IGV2ZW50UmVnaXN0cnkgPSB7fTsgLy8gRXZlbnRzIHN0b3JhZ2VcblxubGV0IHVpZEV2ZW50ID0gMTtcbmNvbnN0IGN1c3RvbUV2ZW50cyA9IHtcbiAgbW91c2VlbnRlcjogJ21vdXNlb3ZlcicsXG4gIG1vdXNlbGVhdmU6ICdtb3VzZW91dCdcbn07XG5jb25zdCBuYXRpdmVFdmVudHMgPSBuZXcgU2V0KFsnY2xpY2snLCAnZGJsY2xpY2snLCAnbW91c2V1cCcsICdtb3VzZWRvd24nLCAnY29udGV4dG1lbnUnLCAnbW91c2V3aGVlbCcsICdET01Nb3VzZVNjcm9sbCcsICdtb3VzZW92ZXInLCAnbW91c2VvdXQnLCAnbW91c2Vtb3ZlJywgJ3NlbGVjdHN0YXJ0JywgJ3NlbGVjdGVuZCcsICdrZXlkb3duJywgJ2tleXByZXNzJywgJ2tleXVwJywgJ29yaWVudGF0aW9uY2hhbmdlJywgJ3RvdWNoc3RhcnQnLCAndG91Y2htb3ZlJywgJ3RvdWNoZW5kJywgJ3RvdWNoY2FuY2VsJywgJ3BvaW50ZXJkb3duJywgJ3BvaW50ZXJtb3ZlJywgJ3BvaW50ZXJ1cCcsICdwb2ludGVybGVhdmUnLCAncG9pbnRlcmNhbmNlbCcsICdnZXN0dXJlc3RhcnQnLCAnZ2VzdHVyZWNoYW5nZScsICdnZXN0dXJlZW5kJywgJ2ZvY3VzJywgJ2JsdXInLCAnY2hhbmdlJywgJ3Jlc2V0JywgJ3NlbGVjdCcsICdzdWJtaXQnLCAnZm9jdXNpbicsICdmb2N1c291dCcsICdsb2FkJywgJ3VubG9hZCcsICdiZWZvcmV1bmxvYWQnLCAncmVzaXplJywgJ21vdmUnLCAnRE9NQ29udGVudExvYWRlZCcsICdyZWFkeXN0YXRlY2hhbmdlJywgJ2Vycm9yJywgJ2Fib3J0JywgJ3Njcm9sbCddKTtcbi8qKlxuICogUHJpdmF0ZSBtZXRob2RzXG4gKi9cblxuZnVuY3Rpb24gbWFrZUV2ZW50VWlkKGVsZW1lbnQsIHVpZCkge1xuICByZXR1cm4gdWlkICYmIGAke3VpZH06OiR7dWlkRXZlbnQrK31gIHx8IGVsZW1lbnQudWlkRXZlbnQgfHwgdWlkRXZlbnQrKztcbn1cblxuZnVuY3Rpb24gZ2V0RWxlbWVudEV2ZW50cyhlbGVtZW50KSB7XG4gIGNvbnN0IHVpZCA9IG1ha2VFdmVudFVpZChlbGVtZW50KTtcbiAgZWxlbWVudC51aWRFdmVudCA9IHVpZDtcbiAgZXZlbnRSZWdpc3RyeVt1aWRdID0gZXZlbnRSZWdpc3RyeVt1aWRdIHx8IHt9O1xuICByZXR1cm4gZXZlbnRSZWdpc3RyeVt1aWRdO1xufVxuXG5mdW5jdGlvbiBib290c3RyYXBIYW5kbGVyKGVsZW1lbnQsIGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiBoYW5kbGVyKGV2ZW50KSB7XG4gICAgaHlkcmF0ZU9iaihldmVudCwge1xuICAgICAgZGVsZWdhdGVUYXJnZXQ6IGVsZW1lbnRcbiAgICB9KTtcblxuICAgIGlmIChoYW5kbGVyLm9uZU9mZikge1xuICAgICAgRXZlbnRIYW5kbGVyLm9mZihlbGVtZW50LCBldmVudC50eXBlLCBmbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZuLmFwcGx5KGVsZW1lbnQsIFtldmVudF0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBib290c3RyYXBEZWxlZ2F0aW9uSGFuZGxlcihlbGVtZW50LCBzZWxlY3RvciwgZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZXIoZXZlbnQpIHtcbiAgICBjb25zdCBkb21FbGVtZW50cyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG5cbiAgICBmb3IgKGxldCB7XG4gICAgICB0YXJnZXRcbiAgICB9ID0gZXZlbnQ7IHRhcmdldCAmJiB0YXJnZXQgIT09IHRoaXM7IHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlKSB7XG4gICAgICBmb3IgKGNvbnN0IGRvbUVsZW1lbnQgb2YgZG9tRWxlbWVudHMpIHtcbiAgICAgICAgaWYgKGRvbUVsZW1lbnQgIT09IHRhcmdldCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaHlkcmF0ZU9iaihldmVudCwge1xuICAgICAgICAgIGRlbGVnYXRlVGFyZ2V0OiB0YXJnZXRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGhhbmRsZXIub25lT2ZmKSB7XG4gICAgICAgICAgRXZlbnRIYW5kbGVyLm9mZihlbGVtZW50LCBldmVudC50eXBlLCBzZWxlY3RvciwgZm4pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRhcmdldCwgW2V2ZW50XSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBmaW5kSGFuZGxlcihldmVudHMsIGNhbGxhYmxlLCBkZWxlZ2F0aW9uU2VsZWN0b3IgPSBudWxsKSB7XG4gIHJldHVybiBPYmplY3QudmFsdWVzKGV2ZW50cykuZmluZChldmVudCA9PiBldmVudC5jYWxsYWJsZSA9PT0gY2FsbGFibGUgJiYgZXZlbnQuZGVsZWdhdGlvblNlbGVjdG9yID09PSBkZWxlZ2F0aW9uU2VsZWN0b3IpO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVQYXJhbWV0ZXJzKG9yaWdpbmFsVHlwZUV2ZW50LCBoYW5kbGVyLCBkZWxlZ2F0aW9uRnVuY3Rpb24pIHtcbiAgY29uc3QgaXNEZWxlZ2F0ZWQgPSB0eXBlb2YgaGFuZGxlciA9PT0gJ3N0cmluZyc7IC8vIHRvZG86IHRvb2x0aXAgcGFzc2VzIGBmYWxzZWAgaW5zdGVhZCBvZiBzZWxlY3Rvciwgc28gd2UgbmVlZCB0byBjaGVja1xuXG4gIGNvbnN0IGNhbGxhYmxlID0gaXNEZWxlZ2F0ZWQgPyBkZWxlZ2F0aW9uRnVuY3Rpb24gOiBoYW5kbGVyIHx8IGRlbGVnYXRpb25GdW5jdGlvbjtcbiAgbGV0IHR5cGVFdmVudCA9IGdldFR5cGVFdmVudChvcmlnaW5hbFR5cGVFdmVudCk7XG5cbiAgaWYgKCFuYXRpdmVFdmVudHMuaGFzKHR5cGVFdmVudCkpIHtcbiAgICB0eXBlRXZlbnQgPSBvcmlnaW5hbFR5cGVFdmVudDtcbiAgfVxuXG4gIHJldHVybiBbaXNEZWxlZ2F0ZWQsIGNhbGxhYmxlLCB0eXBlRXZlbnRdO1xufVxuXG5mdW5jdGlvbiBhZGRIYW5kbGVyKGVsZW1lbnQsIG9yaWdpbmFsVHlwZUV2ZW50LCBoYW5kbGVyLCBkZWxlZ2F0aW9uRnVuY3Rpb24sIG9uZU9mZikge1xuICBpZiAodHlwZW9mIG9yaWdpbmFsVHlwZUV2ZW50ICE9PSAnc3RyaW5nJyB8fCAhZWxlbWVudCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBbaXNEZWxlZ2F0ZWQsIGNhbGxhYmxlLCB0eXBlRXZlbnRdID0gbm9ybWFsaXplUGFyYW1ldGVycyhvcmlnaW5hbFR5cGVFdmVudCwgaGFuZGxlciwgZGVsZWdhdGlvbkZ1bmN0aW9uKTsgLy8gaW4gY2FzZSBvZiBtb3VzZWVudGVyIG9yIG1vdXNlbGVhdmUgd3JhcCB0aGUgaGFuZGxlciB3aXRoaW4gYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBmb3IgaXRzIERPTSBwb3NpdGlvblxuICAvLyB0aGlzIHByZXZlbnRzIHRoZSBoYW5kbGVyIGZyb20gYmVpbmcgZGlzcGF0Y2hlZCB0aGUgc2FtZSB3YXkgYXMgbW91c2VvdmVyIG9yIG1vdXNlb3V0IGRvZXNcblxuICBpZiAob3JpZ2luYWxUeXBlRXZlbnQgaW4gY3VzdG9tRXZlbnRzKSB7XG4gICAgY29uc3Qgd3JhcEZ1bmN0aW9uID0gZm4gPT4ge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoIWV2ZW50LnJlbGF0ZWRUYXJnZXQgfHwgZXZlbnQucmVsYXRlZFRhcmdldCAhPT0gZXZlbnQuZGVsZWdhdGVUYXJnZXQgJiYgIWV2ZW50LmRlbGVnYXRlVGFyZ2V0LmNvbnRhaW5zKGV2ZW50LnJlbGF0ZWRUYXJnZXQpKSB7XG4gICAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBjYWxsYWJsZSA9IHdyYXBGdW5jdGlvbihjYWxsYWJsZSk7XG4gIH1cblxuICBjb25zdCBldmVudHMgPSBnZXRFbGVtZW50RXZlbnRzKGVsZW1lbnQpO1xuICBjb25zdCBoYW5kbGVycyA9IGV2ZW50c1t0eXBlRXZlbnRdIHx8IChldmVudHNbdHlwZUV2ZW50XSA9IHt9KTtcbiAgY29uc3QgcHJldmlvdXNGdW5jdGlvbiA9IGZpbmRIYW5kbGVyKGhhbmRsZXJzLCBjYWxsYWJsZSwgaXNEZWxlZ2F0ZWQgPyBoYW5kbGVyIDogbnVsbCk7XG5cbiAgaWYgKHByZXZpb3VzRnVuY3Rpb24pIHtcbiAgICBwcmV2aW91c0Z1bmN0aW9uLm9uZU9mZiA9IHByZXZpb3VzRnVuY3Rpb24ub25lT2ZmICYmIG9uZU9mZjtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCB1aWQgPSBtYWtlRXZlbnRVaWQoY2FsbGFibGUsIG9yaWdpbmFsVHlwZUV2ZW50LnJlcGxhY2UobmFtZXNwYWNlUmVnZXgsICcnKSk7XG4gIGNvbnN0IGZuID0gaXNEZWxlZ2F0ZWQgPyBib290c3RyYXBEZWxlZ2F0aW9uSGFuZGxlcihlbGVtZW50LCBoYW5kbGVyLCBjYWxsYWJsZSkgOiBib290c3RyYXBIYW5kbGVyKGVsZW1lbnQsIGNhbGxhYmxlKTtcbiAgZm4uZGVsZWdhdGlvblNlbGVjdG9yID0gaXNEZWxlZ2F0ZWQgPyBoYW5kbGVyIDogbnVsbDtcbiAgZm4uY2FsbGFibGUgPSBjYWxsYWJsZTtcbiAgZm4ub25lT2ZmID0gb25lT2ZmO1xuICBmbi51aWRFdmVudCA9IHVpZDtcbiAgaGFuZGxlcnNbdWlkXSA9IGZuO1xuICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZUV2ZW50LCBmbiwgaXNEZWxlZ2F0ZWQpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVIYW5kbGVyKGVsZW1lbnQsIGV2ZW50cywgdHlwZUV2ZW50LCBoYW5kbGVyLCBkZWxlZ2F0aW9uU2VsZWN0b3IpIHtcbiAgY29uc3QgZm4gPSBmaW5kSGFuZGxlcihldmVudHNbdHlwZUV2ZW50XSwgaGFuZGxlciwgZGVsZWdhdGlvblNlbGVjdG9yKTtcblxuICBpZiAoIWZuKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGVFdmVudCwgZm4sIEJvb2xlYW4oZGVsZWdhdGlvblNlbGVjdG9yKSk7XG4gIGRlbGV0ZSBldmVudHNbdHlwZUV2ZW50XVtmbi51aWRFdmVudF07XG59XG5cbmZ1bmN0aW9uIHJlbW92ZU5hbWVzcGFjZWRIYW5kbGVycyhlbGVtZW50LCBldmVudHMsIHR5cGVFdmVudCwgbmFtZXNwYWNlKSB7XG4gIGNvbnN0IHN0b3JlRWxlbWVudEV2ZW50ID0gZXZlbnRzW3R5cGVFdmVudF0gfHwge307XG5cbiAgZm9yIChjb25zdCBoYW5kbGVyS2V5IG9mIE9iamVjdC5rZXlzKHN0b3JlRWxlbWVudEV2ZW50KSkge1xuICAgIGlmIChoYW5kbGVyS2V5LmluY2x1ZGVzKG5hbWVzcGFjZSkpIHtcbiAgICAgIGNvbnN0IGV2ZW50ID0gc3RvcmVFbGVtZW50RXZlbnRbaGFuZGxlcktleV07XG4gICAgICByZW1vdmVIYW5kbGVyKGVsZW1lbnQsIGV2ZW50cywgdHlwZUV2ZW50LCBldmVudC5jYWxsYWJsZSwgZXZlbnQuZGVsZWdhdGlvblNlbGVjdG9yKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0VHlwZUV2ZW50KGV2ZW50KSB7XG4gIC8vIGFsbG93IHRvIGdldCB0aGUgbmF0aXZlIGV2ZW50cyBmcm9tIG5hbWVzcGFjZWQgZXZlbnRzICgnY2xpY2suYnMuYnV0dG9uJyAtLT4gJ2NsaWNrJylcbiAgZXZlbnQgPSBldmVudC5yZXBsYWNlKHN0cmlwTmFtZVJlZ2V4LCAnJyk7XG4gIHJldHVybiBjdXN0b21FdmVudHNbZXZlbnRdIHx8IGV2ZW50O1xufVxuXG5jb25zdCBFdmVudEhhbmRsZXIgPSB7XG4gIG9uKGVsZW1lbnQsIGV2ZW50LCBoYW5kbGVyLCBkZWxlZ2F0aW9uRnVuY3Rpb24pIHtcbiAgICBhZGRIYW5kbGVyKGVsZW1lbnQsIGV2ZW50LCBoYW5kbGVyLCBkZWxlZ2F0aW9uRnVuY3Rpb24sIGZhbHNlKTtcbiAgfSxcblxuICBvbmUoZWxlbWVudCwgZXZlbnQsIGhhbmRsZXIsIGRlbGVnYXRpb25GdW5jdGlvbikge1xuICAgIGFkZEhhbmRsZXIoZWxlbWVudCwgZXZlbnQsIGhhbmRsZXIsIGRlbGVnYXRpb25GdW5jdGlvbiwgdHJ1ZSk7XG4gIH0sXG5cbiAgb2ZmKGVsZW1lbnQsIG9yaWdpbmFsVHlwZUV2ZW50LCBoYW5kbGVyLCBkZWxlZ2F0aW9uRnVuY3Rpb24pIHtcbiAgICBpZiAodHlwZW9mIG9yaWdpbmFsVHlwZUV2ZW50ICE9PSAnc3RyaW5nJyB8fCAhZWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IFtpc0RlbGVnYXRlZCwgY2FsbGFibGUsIHR5cGVFdmVudF0gPSBub3JtYWxpemVQYXJhbWV0ZXJzKG9yaWdpbmFsVHlwZUV2ZW50LCBoYW5kbGVyLCBkZWxlZ2F0aW9uRnVuY3Rpb24pO1xuICAgIGNvbnN0IGluTmFtZXNwYWNlID0gdHlwZUV2ZW50ICE9PSBvcmlnaW5hbFR5cGVFdmVudDtcbiAgICBjb25zdCBldmVudHMgPSBnZXRFbGVtZW50RXZlbnRzKGVsZW1lbnQpO1xuICAgIGNvbnN0IHN0b3JlRWxlbWVudEV2ZW50ID0gZXZlbnRzW3R5cGVFdmVudF0gfHwge307XG4gICAgY29uc3QgaXNOYW1lc3BhY2UgPSBvcmlnaW5hbFR5cGVFdmVudC5zdGFydHNXaXRoKCcuJyk7XG5cbiAgICBpZiAodHlwZW9mIGNhbGxhYmxlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gU2ltcGxlc3QgY2FzZTogaGFuZGxlciBpcyBwYXNzZWQsIHJlbW92ZSB0aGF0IGxpc3RlbmVyIE9OTFkuXG4gICAgICBpZiAoIU9iamVjdC5rZXlzKHN0b3JlRWxlbWVudEV2ZW50KS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZW1vdmVIYW5kbGVyKGVsZW1lbnQsIGV2ZW50cywgdHlwZUV2ZW50LCBjYWxsYWJsZSwgaXNEZWxlZ2F0ZWQgPyBoYW5kbGVyIDogbnVsbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzTmFtZXNwYWNlKSB7XG4gICAgICBmb3IgKGNvbnN0IGVsZW1lbnRFdmVudCBvZiBPYmplY3Qua2V5cyhldmVudHMpKSB7XG4gICAgICAgIHJlbW92ZU5hbWVzcGFjZWRIYW5kbGVycyhlbGVtZW50LCBldmVudHMsIGVsZW1lbnRFdmVudCwgb3JpZ2luYWxUeXBlRXZlbnQuc2xpY2UoMSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3Qga2V5SGFuZGxlcnMgb2YgT2JqZWN0LmtleXMoc3RvcmVFbGVtZW50RXZlbnQpKSB7XG4gICAgICBjb25zdCBoYW5kbGVyS2V5ID0ga2V5SGFuZGxlcnMucmVwbGFjZShzdHJpcFVpZFJlZ2V4LCAnJyk7XG5cbiAgICAgIGlmICghaW5OYW1lc3BhY2UgfHwgb3JpZ2luYWxUeXBlRXZlbnQuaW5jbHVkZXMoaGFuZGxlcktleSkpIHtcbiAgICAgICAgY29uc3QgZXZlbnQgPSBzdG9yZUVsZW1lbnRFdmVudFtrZXlIYW5kbGVyc107XG4gICAgICAgIHJlbW92ZUhhbmRsZXIoZWxlbWVudCwgZXZlbnRzLCB0eXBlRXZlbnQsIGV2ZW50LmNhbGxhYmxlLCBldmVudC5kZWxlZ2F0aW9uU2VsZWN0b3IpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICB0cmlnZ2VyKGVsZW1lbnQsIGV2ZW50LCBhcmdzKSB7XG4gICAgaWYgKHR5cGVvZiBldmVudCAhPT0gJ3N0cmluZycgfHwgIWVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0ICQgPSBnZXRqUXVlcnkoKTtcbiAgICBjb25zdCB0eXBlRXZlbnQgPSBnZXRUeXBlRXZlbnQoZXZlbnQpO1xuICAgIGNvbnN0IGluTmFtZXNwYWNlID0gZXZlbnQgIT09IHR5cGVFdmVudDtcbiAgICBsZXQgalF1ZXJ5RXZlbnQgPSBudWxsO1xuICAgIGxldCBidWJibGVzID0gdHJ1ZTtcbiAgICBsZXQgbmF0aXZlRGlzcGF0Y2ggPSB0cnVlO1xuICAgIGxldCBkZWZhdWx0UHJldmVudGVkID0gZmFsc2U7XG5cbiAgICBpZiAoaW5OYW1lc3BhY2UgJiYgJCkge1xuICAgICAgalF1ZXJ5RXZlbnQgPSAkLkV2ZW50KGV2ZW50LCBhcmdzKTtcbiAgICAgICQoZWxlbWVudCkudHJpZ2dlcihqUXVlcnlFdmVudCk7XG4gICAgICBidWJibGVzID0gIWpRdWVyeUV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7XG4gICAgICBuYXRpdmVEaXNwYXRjaCA9ICFqUXVlcnlFdmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpO1xuICAgICAgZGVmYXVsdFByZXZlbnRlZCA9IGpRdWVyeUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpO1xuICAgIH1cblxuICAgIGxldCBldnQgPSBuZXcgRXZlbnQoZXZlbnQsIHtcbiAgICAgIGJ1YmJsZXMsXG4gICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgZXZ0ID0gaHlkcmF0ZU9iaihldnQsIGFyZ3MpO1xuXG4gICAgaWYgKGRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIGlmIChuYXRpdmVEaXNwYXRjaCkge1xuICAgICAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gICAgfVxuXG4gICAgaWYgKGV2dC5kZWZhdWx0UHJldmVudGVkICYmIGpRdWVyeUV2ZW50KSB7XG4gICAgICBqUXVlcnlFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIHJldHVybiBldnQ7XG4gIH1cblxufTtcblxuZnVuY3Rpb24gaHlkcmF0ZU9iaihvYmosIG1ldGEpIHtcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMobWV0YSB8fCB7fSkpIHtcbiAgICB0cnkge1xuICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9IGNhdGNoIChfdW51c2VkKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuXG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQm9vdHN0cmFwICh2NS4yLjMpOiBkb20vZGF0YS5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cbi8qKlxuICogQ29uc3RhbnRzXG4gKi9cbmNvbnN0IGVsZW1lbnRNYXAgPSBuZXcgTWFwKCk7XG5jb25zdCBEYXRhID0ge1xuICBzZXQoZWxlbWVudCwga2V5LCBpbnN0YW5jZSkge1xuICAgIGlmICghZWxlbWVudE1hcC5oYXMoZWxlbWVudCkpIHtcbiAgICAgIGVsZW1lbnRNYXAuc2V0KGVsZW1lbnQsIG5ldyBNYXAoKSk7XG4gICAgfVxuXG4gICAgY29uc3QgaW5zdGFuY2VNYXAgPSBlbGVtZW50TWFwLmdldChlbGVtZW50KTsgLy8gbWFrZSBpdCBjbGVhciB3ZSBvbmx5IHdhbnQgb25lIGluc3RhbmNlIHBlciBlbGVtZW50XG4gICAgLy8gY2FuIGJlIHJlbW92ZWQgbGF0ZXIgd2hlbiBtdWx0aXBsZSBrZXkvaW5zdGFuY2VzIGFyZSBmaW5lIHRvIGJlIHVzZWRcblxuICAgIGlmICghaW5zdGFuY2VNYXAuaGFzKGtleSkgJiYgaW5zdGFuY2VNYXAuc2l6ZSAhPT0gMCkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEJvb3RzdHJhcCBkb2Vzbid0IGFsbG93IG1vcmUgdGhhbiBvbmUgaW5zdGFuY2UgcGVyIGVsZW1lbnQuIEJvdW5kIGluc3RhbmNlOiAke0FycmF5LmZyb20oaW5zdGFuY2VNYXAua2V5cygpKVswXX0uYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaW5zdGFuY2VNYXAuc2V0KGtleSwgaW5zdGFuY2UpO1xuICB9LFxuXG4gIGdldChlbGVtZW50LCBrZXkpIHtcbiAgICBpZiAoZWxlbWVudE1hcC5oYXMoZWxlbWVudCkpIHtcbiAgICAgIHJldHVybiBlbGVtZW50TWFwLmdldChlbGVtZW50KS5nZXQoa2V5KSB8fCBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9LFxuXG4gIHJlbW92ZShlbGVtZW50LCBrZXkpIHtcbiAgICBpZiAoIWVsZW1lbnRNYXAuaGFzKGVsZW1lbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaW5zdGFuY2VNYXAgPSBlbGVtZW50TWFwLmdldChlbGVtZW50KTtcbiAgICBpbnN0YW5jZU1hcC5kZWxldGUoa2V5KTsgLy8gZnJlZSB1cCBlbGVtZW50IHJlZmVyZW5jZXMgaWYgdGhlcmUgYXJlIG5vIGluc3RhbmNlcyBsZWZ0IGZvciBhbiBlbGVtZW50XG5cbiAgICBpZiAoaW5zdGFuY2VNYXAuc2l6ZSA9PT0gMCkge1xuICAgICAgZWxlbWVudE1hcC5kZWxldGUoZWxlbWVudCk7XG4gICAgfVxuICB9XG5cbn07XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjUuMi4zKTogZG9tL21hbmlwdWxhdG9yLmpzXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZURhdGEodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSAndHJ1ZScpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmICh2YWx1ZSA9PT0gJ2ZhbHNlJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICh2YWx1ZSA9PT0gTnVtYmVyKHZhbHVlKS50b1N0cmluZygpKSB7XG4gICAgcmV0dXJuIE51bWJlcih2YWx1ZSk7XG4gIH1cblxuICBpZiAodmFsdWUgPT09ICcnIHx8IHZhbHVlID09PSAnbnVsbCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQodmFsdWUpKTtcbiAgfSBjYXRjaCAoX3VudXNlZCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVEYXRhS2V5KGtleSkge1xuICByZXR1cm4ga2V5LnJlcGxhY2UoL1tBLVpdL2csIGNociA9PiBgLSR7Y2hyLnRvTG93ZXJDYXNlKCl9YCk7XG59XG5cbmNvbnN0IE1hbmlwdWxhdG9yID0ge1xuICBzZXREYXRhQXR0cmlidXRlKGVsZW1lbnQsIGtleSwgdmFsdWUpIHtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShgZGF0YS1icy0ke25vcm1hbGl6ZURhdGFLZXkoa2V5KX1gLCB2YWx1ZSk7XG4gIH0sXG5cbiAgcmVtb3ZlRGF0YUF0dHJpYnV0ZShlbGVtZW50LCBrZXkpIHtcbiAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShgZGF0YS1icy0ke25vcm1hbGl6ZURhdGFLZXkoa2V5KX1gKTtcbiAgfSxcblxuICBnZXREYXRhQXR0cmlidXRlcyhlbGVtZW50KSB7XG4gICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgY29uc3QgYXR0cmlidXRlcyA9IHt9O1xuICAgIGNvbnN0IGJzS2V5cyA9IE9iamVjdC5rZXlzKGVsZW1lbnQuZGF0YXNldCkuZmlsdGVyKGtleSA9PiBrZXkuc3RhcnRzV2l0aCgnYnMnKSAmJiAha2V5LnN0YXJ0c1dpdGgoJ2JzQ29uZmlnJykpO1xuXG4gICAgZm9yIChjb25zdCBrZXkgb2YgYnNLZXlzKSB7XG4gICAgICBsZXQgcHVyZUtleSA9IGtleS5yZXBsYWNlKC9eYnMvLCAnJyk7XG4gICAgICBwdXJlS2V5ID0gcHVyZUtleS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIHB1cmVLZXkuc2xpY2UoMSwgcHVyZUtleS5sZW5ndGgpO1xuICAgICAgYXR0cmlidXRlc1twdXJlS2V5XSA9IG5vcm1hbGl6ZURhdGEoZWxlbWVudC5kYXRhc2V0W2tleV0pO1xuICAgIH1cblxuICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICB9LFxuXG4gIGdldERhdGFBdHRyaWJ1dGUoZWxlbWVudCwga2V5KSB7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZURhdGEoZWxlbWVudC5nZXRBdHRyaWJ1dGUoYGRhdGEtYnMtJHtub3JtYWxpemVEYXRhS2V5KGtleSl9YCkpO1xuICB9XG5cbn07XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjUuMi4zKTogdXRpbC9jb25maWcuanNcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuLyoqXG4gKiBDbGFzcyBkZWZpbml0aW9uXG4gKi9cblxuY2xhc3MgQ29uZmlnIHtcbiAgLy8gR2V0dGVyc1xuICBzdGF0aWMgZ2V0IERlZmF1bHQoKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgc3RhdGljIGdldCBEZWZhdWx0VHlwZSgpIHtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICBzdGF0aWMgZ2V0IE5BTUUoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgaGF2ZSB0byBpbXBsZW1lbnQgdGhlIHN0YXRpYyBtZXRob2QgXCJOQU1FXCIsIGZvciBlYWNoIGNvbXBvbmVudCEnKTtcbiAgfVxuXG4gIF9nZXRDb25maWcoY29uZmlnKSB7XG4gICAgY29uZmlnID0gdGhpcy5fbWVyZ2VDb25maWdPYmooY29uZmlnKTtcbiAgICBjb25maWcgPSB0aGlzLl9jb25maWdBZnRlck1lcmdlKGNvbmZpZyk7XG5cbiAgICB0aGlzLl90eXBlQ2hlY2tDb25maWcoY29uZmlnKTtcblxuICAgIHJldHVybiBjb25maWc7XG4gIH1cblxuICBfY29uZmlnQWZ0ZXJNZXJnZShjb25maWcpIHtcbiAgICByZXR1cm4gY29uZmlnO1xuICB9XG5cbiAgX21lcmdlQ29uZmlnT2JqKGNvbmZpZywgZWxlbWVudCkge1xuICAgIGNvbnN0IGpzb25Db25maWcgPSBpc0VsZW1lbnQoZWxlbWVudCkgPyBNYW5pcHVsYXRvci5nZXREYXRhQXR0cmlidXRlKGVsZW1lbnQsICdjb25maWcnKSA6IHt9OyAvLyB0cnkgdG8gcGFyc2VcblxuICAgIHJldHVybiB7IC4uLnRoaXMuY29uc3RydWN0b3IuRGVmYXVsdCxcbiAgICAgIC4uLih0eXBlb2YganNvbkNvbmZpZyA9PT0gJ29iamVjdCcgPyBqc29uQ29uZmlnIDoge30pLFxuICAgICAgLi4uKGlzRWxlbWVudChlbGVtZW50KSA/IE1hbmlwdWxhdG9yLmdldERhdGFBdHRyaWJ1dGVzKGVsZW1lbnQpIDoge30pLFxuICAgICAgLi4uKHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnID8gY29uZmlnIDoge30pXG4gICAgfTtcbiAgfVxuXG4gIF90eXBlQ2hlY2tDb25maWcoY29uZmlnLCBjb25maWdUeXBlcyA9IHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdFR5cGUpIHtcbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5IG9mIE9iamVjdC5rZXlzKGNvbmZpZ1R5cGVzKSkge1xuICAgICAgY29uc3QgZXhwZWN0ZWRUeXBlcyA9IGNvbmZpZ1R5cGVzW3Byb3BlcnR5XTtcbiAgICAgIGNvbnN0IHZhbHVlID0gY29uZmlnW3Byb3BlcnR5XTtcbiAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IGlzRWxlbWVudCh2YWx1ZSkgPyAnZWxlbWVudCcgOiB0b1R5cGUodmFsdWUpO1xuXG4gICAgICBpZiAoIW5ldyBSZWdFeHAoZXhwZWN0ZWRUeXBlcykudGVzdCh2YWx1ZVR5cGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7dGhpcy5jb25zdHJ1Y3Rvci5OQU1FLnRvVXBwZXJDYXNlKCl9OiBPcHRpb24gXCIke3Byb3BlcnR5fVwiIHByb3ZpZGVkIHR5cGUgXCIke3ZhbHVlVHlwZX1cIiBidXQgZXhwZWN0ZWQgdHlwZSBcIiR7ZXhwZWN0ZWRUeXBlc31cIi5gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufVxuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBCb290c3RyYXAgKHY1LjIuMyk6IGJhc2UtY29tcG9uZW50LmpzXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbi8qKlxuICogQ29uc3RhbnRzXG4gKi9cblxuY29uc3QgVkVSU0lPTiA9ICc1LjIuMyc7XG4vKipcbiAqIENsYXNzIGRlZmluaXRpb25cbiAqL1xuXG5jbGFzcyBCYXNlQ29tcG9uZW50IGV4dGVuZHMgQ29uZmlnIHtcbiAgY29uc3RydWN0b3IoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgc3VwZXIoKTtcbiAgICBlbGVtZW50ID0gZ2V0RWxlbWVudChlbGVtZW50KTtcblxuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuX2NvbmZpZyA9IHRoaXMuX2dldENvbmZpZyhjb25maWcpO1xuICAgIERhdGEuc2V0KHRoaXMuX2VsZW1lbnQsIHRoaXMuY29uc3RydWN0b3IuREFUQV9LRVksIHRoaXMpO1xuICB9IC8vIFB1YmxpY1xuXG5cbiAgZGlzcG9zZSgpIHtcbiAgICBEYXRhLnJlbW92ZSh0aGlzLl9lbGVtZW50LCB0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZKTtcbiAgICBFdmVudEhhbmRsZXIub2ZmKHRoaXMuX2VsZW1lbnQsIHRoaXMuY29uc3RydWN0b3IuRVZFTlRfS0VZKTtcblxuICAgIGZvciAoY29uc3QgcHJvcGVydHlOYW1lIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKSB7XG4gICAgICB0aGlzW3Byb3BlcnR5TmFtZV0gPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIF9xdWV1ZUNhbGxiYWNrKGNhbGxiYWNrLCBlbGVtZW50LCBpc0FuaW1hdGVkID0gdHJ1ZSkge1xuICAgIGV4ZWN1dGVBZnRlclRyYW5zaXRpb24oY2FsbGJhY2ssIGVsZW1lbnQsIGlzQW5pbWF0ZWQpO1xuICB9XG5cbiAgX2dldENvbmZpZyhjb25maWcpIHtcbiAgICBjb25maWcgPSB0aGlzLl9tZXJnZUNvbmZpZ09iaihjb25maWcsIHRoaXMuX2VsZW1lbnQpO1xuICAgIGNvbmZpZyA9IHRoaXMuX2NvbmZpZ0FmdGVyTWVyZ2UoY29uZmlnKTtcblxuICAgIHRoaXMuX3R5cGVDaGVja0NvbmZpZyhjb25maWcpO1xuXG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfSAvLyBTdGF0aWNcblxuXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbGVtZW50KSB7XG4gICAgcmV0dXJuIERhdGEuZ2V0KGdldEVsZW1lbnQoZWxlbWVudCksIHRoaXMuREFUQV9LRVkpO1xuICB9XG5cbiAgc3RhdGljIGdldE9yQ3JlYXRlSW5zdGFuY2UoZWxlbWVudCwgY29uZmlnID0ge30pIHtcbiAgICByZXR1cm4gdGhpcy5nZXRJbnN0YW5jZShlbGVtZW50KSB8fCBuZXcgdGhpcyhlbGVtZW50LCB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyA/IGNvbmZpZyA6IG51bGwpO1xuICB9XG5cbiAgc3RhdGljIGdldCBWRVJTSU9OKCkge1xuICAgIHJldHVybiBWRVJTSU9OO1xuICB9XG5cbiAgc3RhdGljIGdldCBEQVRBX0tFWSgpIHtcbiAgICByZXR1cm4gYGJzLiR7dGhpcy5OQU1FfWA7XG4gIH1cblxuICBzdGF0aWMgZ2V0IEVWRU5UX0tFWSgpIHtcbiAgICByZXR1cm4gYC4ke3RoaXMuREFUQV9LRVl9YDtcbiAgfVxuXG4gIHN0YXRpYyBldmVudE5hbWUobmFtZSkge1xuICAgIHJldHVybiBgJHtuYW1lfSR7dGhpcy5FVkVOVF9LRVl9YDtcbiAgfVxuXG59XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjUuMi4zKTogdXRpbC9jb21wb25lbnQtZnVuY3Rpb25zLmpzXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxuY29uc3QgZW5hYmxlRGlzbWlzc1RyaWdnZXIgPSAoY29tcG9uZW50LCBtZXRob2QgPSAnaGlkZScpID0+IHtcbiAgY29uc3QgY2xpY2tFdmVudCA9IGBjbGljay5kaXNtaXNzJHtjb21wb25lbnQuRVZFTlRfS0VZfWA7XG4gIGNvbnN0IG5hbWUgPSBjb21wb25lbnQuTkFNRTtcbiAgRXZlbnRIYW5kbGVyLm9uKGRvY3VtZW50LCBjbGlja0V2ZW50LCBgW2RhdGEtYnMtZGlzbWlzcz1cIiR7bmFtZX1cIl1gLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoWydBJywgJ0FSRUEnXS5pbmNsdWRlcyh0aGlzLnRhZ05hbWUpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIGlmIChpc0Rpc2FibGVkKHRoaXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdGFyZ2V0ID0gZ2V0RWxlbWVudEZyb21TZWxlY3Rvcih0aGlzKSB8fCB0aGlzLmNsb3Nlc3QoYC4ke25hbWV9YCk7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBjb21wb25lbnQuZ2V0T3JDcmVhdGVJbnN0YW5jZSh0YXJnZXQpOyAvLyBNZXRob2QgYXJndW1lbnQgaXMgbGVmdCwgZm9yIEFsZXJ0IGFuZCBvbmx5LCBhcyBpdCBkb2Vzbid0IGltcGxlbWVudCB0aGUgJ2hpZGUnIG1ldGhvZFxuXG4gICAgaW5zdGFuY2VbbWV0aG9kXSgpO1xuICB9KTtcbn07XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjUuMi4zKTogYWxlcnQuanNcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuLyoqXG4gKiBDb25zdGFudHNcbiAqL1xuXG5jb25zdCBOQU1FJGYgPSAnYWxlcnQnO1xuY29uc3QgREFUQV9LRVkkYSA9ICdicy5hbGVydCc7XG5jb25zdCBFVkVOVF9LRVkkYiA9IGAuJHtEQVRBX0tFWSRhfWA7XG5jb25zdCBFVkVOVF9DTE9TRSA9IGBjbG9zZSR7RVZFTlRfS0VZJGJ9YDtcbmNvbnN0IEVWRU5UX0NMT1NFRCA9IGBjbG9zZWQke0VWRU5UX0tFWSRifWA7XG5jb25zdCBDTEFTU19OQU1FX0ZBREUkNSA9ICdmYWRlJztcbmNvbnN0IENMQVNTX05BTUVfU0hPVyQ4ID0gJ3Nob3cnO1xuLyoqXG4gKiBDbGFzcyBkZWZpbml0aW9uXG4gKi9cblxuY2xhc3MgQWxlcnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IHtcbiAgLy8gR2V0dGVyc1xuICBzdGF0aWMgZ2V0IE5BTUUoKSB7XG4gICAgcmV0dXJuIE5BTUUkZjtcbiAgfSAvLyBQdWJsaWNcblxuXG4gIGNsb3NlKCkge1xuICAgIGNvbnN0IGNsb3NlRXZlbnQgPSBFdmVudEhhbmRsZXIudHJpZ2dlcih0aGlzLl9lbGVtZW50LCBFVkVOVF9DTE9TRSk7XG5cbiAgICBpZiAoY2xvc2VFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfU0hPVyQ4KTtcblxuICAgIGNvbnN0IGlzQW5pbWF0ZWQgPSB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhDTEFTU19OQU1FX0ZBREUkNSk7XG5cbiAgICB0aGlzLl9xdWV1ZUNhbGxiYWNrKCgpID0+IHRoaXMuX2Rlc3Ryb3lFbGVtZW50KCksIHRoaXMuX2VsZW1lbnQsIGlzQW5pbWF0ZWQpO1xuICB9IC8vIFByaXZhdGVcblxuXG4gIF9kZXN0cm95RWxlbWVudCgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuXG4gICAgRXZlbnRIYW5kbGVyLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgRVZFTlRfQ0xPU0VEKTtcbiAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgfSAvLyBTdGF0aWNcblxuXG4gIHN0YXRpYyBqUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBkYXRhID0gQWxlcnQuZ2V0T3JDcmVhdGVJbnN0YW5jZSh0aGlzKTtcblxuICAgICAgaWYgKHR5cGVvZiBjb25maWcgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGRhdGFbY29uZmlnXSA9PT0gdW5kZWZpbmVkIHx8IGNvbmZpZy5zdGFydHNXaXRoKCdfJykgfHwgY29uZmlnID09PSAnY29uc3RydWN0b3InKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYE5vIG1ldGhvZCBuYW1lZCBcIiR7Y29uZmlnfVwiYCk7XG4gICAgICB9XG5cbiAgICAgIGRhdGFbY29uZmlnXSh0aGlzKTtcbiAgICB9KTtcbiAgfVxuXG59XG4vKipcbiAqIERhdGEgQVBJIGltcGxlbWVudGF0aW9uXG4gKi9cblxuXG5lbmFibGVEaXNtaXNzVHJpZ2dlcihBbGVydCwgJ2Nsb3NlJyk7XG4vKipcbiAqIGpRdWVyeVxuICovXG5cbmRlZmluZUpRdWVyeVBsdWdpbihBbGVydCk7XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjUuMi4zKTogYnV0dG9uLmpzXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbi8qKlxuICogQ29uc3RhbnRzXG4gKi9cblxuY29uc3QgTkFNRSRlID0gJ2J1dHRvbic7XG5jb25zdCBEQVRBX0tFWSQ5ID0gJ2JzLmJ1dHRvbic7XG5jb25zdCBFVkVOVF9LRVkkYSA9IGAuJHtEQVRBX0tFWSQ5fWA7XG5jb25zdCBEQVRBX0FQSV9LRVkkNiA9ICcuZGF0YS1hcGknO1xuY29uc3QgQ0xBU1NfTkFNRV9BQ1RJVkUkMyA9ICdhY3RpdmUnO1xuY29uc3QgU0VMRUNUT1JfREFUQV9UT0dHTEUkNSA9ICdbZGF0YS1icy10b2dnbGU9XCJidXR0b25cIl0nO1xuY29uc3QgRVZFTlRfQ0xJQ0tfREFUQV9BUEkkNiA9IGBjbGljayR7RVZFTlRfS0VZJGF9JHtEQVRBX0FQSV9LRVkkNn1gO1xuLyoqXG4gKiBDbGFzcyBkZWZpbml0aW9uXG4gKi9cblxuY2xhc3MgQnV0dG9uIGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gIC8vIEdldHRlcnNcbiAgc3RhdGljIGdldCBOQU1FKCkge1xuICAgIHJldHVybiBOQU1FJGU7XG4gIH0gLy8gUHVibGljXG5cblxuICB0b2dnbGUoKSB7XG4gICAgLy8gVG9nZ2xlIGNsYXNzIGFuZCBzeW5jIHRoZSBgYXJpYS1wcmVzc2VkYCBhdHRyaWJ1dGUgd2l0aCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBgLnRvZ2dsZSgpYCBtZXRob2RcbiAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1wcmVzc2VkJywgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKENMQVNTX05BTUVfQUNUSVZFJDMpKTtcbiAgfSAvLyBTdGF0aWNcblxuXG4gIHN0YXRpYyBqUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBkYXRhID0gQnV0dG9uLmdldE9yQ3JlYXRlSW5zdGFuY2UodGhpcyk7XG5cbiAgICAgIGlmIChjb25maWcgPT09ICd0b2dnbGUnKSB7XG4gICAgICAgIGRhdGFbY29uZmlnXSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbn1cbi8qKlxuICogRGF0YSBBUEkgaW1wbGVtZW50YXRpb25cbiAqL1xuXG5cbkV2ZW50SGFuZGxlci5vbihkb2N1bWVudCwgRVZFTlRfQ0xJQ0tfREFUQV9BUEkkNiwgU0VMRUNUT1JfREFUQV9UT0dHTEUkNSwgZXZlbnQgPT4ge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCBidXR0b24gPSBldmVudC50YXJnZXQuY2xvc2VzdChTRUxFQ1RPUl9EQVRBX1RPR0dMRSQ1KTtcbiAgY29uc3QgZGF0YSA9IEJ1dHRvbi5nZXRPckNyZWF0ZUluc3RhbmNlKGJ1dHRvbik7XG4gIGRhdGEudG9nZ2xlKCk7XG59KTtcbi8qKlxuICogalF1ZXJ5XG4gKi9cblxuZGVmaW5lSlF1ZXJ5UGx1Z2luKEJ1dHRvbik7XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjUuMi4zKTogZG9tL3NlbGVjdG9yLWVuZ2luZS5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG4vKipcbiAqIENvbnN0YW50c1xuICovXG5cbmNvbnN0IFNlbGVjdG9yRW5naW5lID0ge1xuICBmaW5kKHNlbGVjdG9yLCBlbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgcmV0dXJuIFtdLmNvbmNhdCguLi5FbGVtZW50LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yQWxsLmNhbGwoZWxlbWVudCwgc2VsZWN0b3IpKTtcbiAgfSxcblxuICBmaW5kT25lKHNlbGVjdG9yLCBlbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgcmV0dXJuIEVsZW1lbnQucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3IuY2FsbChlbGVtZW50LCBzZWxlY3Rvcik7XG4gIH0sXG5cbiAgY2hpbGRyZW4oZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gW10uY29uY2F0KC4uLmVsZW1lbnQuY2hpbGRyZW4pLmZpbHRlcihjaGlsZCA9PiBjaGlsZC5tYXRjaGVzKHNlbGVjdG9yKSk7XG4gIH0sXG5cbiAgcGFyZW50cyhlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIGNvbnN0IHBhcmVudHMgPSBbXTtcbiAgICBsZXQgYW5jZXN0b3IgPSBlbGVtZW50LnBhcmVudE5vZGUuY2xvc2VzdChzZWxlY3Rvcik7XG5cbiAgICB3aGlsZSAoYW5jZXN0b3IpIHtcbiAgICAgIHBhcmVudHMucHVzaChhbmNlc3Rvcik7XG4gICAgICBhbmNlc3RvciA9IGFuY2VzdG9yLnBhcmVudE5vZGUuY2xvc2VzdChzZWxlY3Rvcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmVudHM7XG4gIH0sXG5cbiAgcHJldihlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIGxldCBwcmV2aW91cyA9IGVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZztcblxuICAgIHdoaWxlIChwcmV2aW91cykge1xuICAgICAgaWYgKHByZXZpb3VzLm1hdGNoZXMoc2VsZWN0b3IpKSB7XG4gICAgICAgIHJldHVybiBbcHJldmlvdXNdO1xuICAgICAgfVxuXG4gICAgICBwcmV2aW91cyA9IHByZXZpb3VzLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgfVxuXG4gICAgcmV0dXJuIFtdO1xuICB9LFxuXG4gIC8vIFRPRE86IHRoaXMgaXMgbm93IHVudXNlZDsgcmVtb3ZlIGxhdGVyIGFsb25nIHdpdGggcHJldigpXG4gIG5leHQoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICBsZXQgbmV4dCA9IGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nO1xuXG4gICAgd2hpbGUgKG5leHQpIHtcbiAgICAgIGlmIChuZXh0Lm1hdGNoZXMoc2VsZWN0b3IpKSB7XG4gICAgICAgIHJldHVybiBbbmV4dF07XG4gICAgICB9XG5cbiAgICAgIG5leHQgPSBuZXh0Lm5leHRFbGVtZW50U2libGluZztcbiAgICB9XG5cbiAgICByZXR1cm4gW107XG4gIH0sXG5cbiAgZm9jdXNhYmxlQ2hpbGRyZW4oZWxlbWVudCkge1xuICAgIGNvbnN0IGZvY3VzYWJsZXMgPSBbJ2EnLCAnYnV0dG9uJywgJ2lucHV0JywgJ3RleHRhcmVhJywgJ3NlbGVjdCcsICdkZXRhaWxzJywgJ1t0YWJpbmRleF0nLCAnW2NvbnRlbnRlZGl0YWJsZT1cInRydWVcIl0nXS5tYXAoc2VsZWN0b3IgPT4gYCR7c2VsZWN0b3J9Om5vdChbdGFiaW5kZXhePVwiLVwiXSlgKS5qb2luKCcsJyk7XG4gICAgcmV0dXJuIHRoaXMuZmluZChmb2N1c2FibGVzLCBlbGVtZW50KS5maWx0ZXIoZWwgPT4gIWlzRGlzYWJsZWQoZWwpICYmIGlzVmlzaWJsZShlbCkpO1xuICB9XG5cbn07XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjUuMi4zKTogdXRpbC9zd2lwZS5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG4vKipcbiAqIENvbnN0YW50c1xuICovXG5cbmNvbnN0IE5BTUUkZCA9ICdzd2lwZSc7XG5jb25zdCBFVkVOVF9LRVkkOSA9ICcuYnMuc3dpcGUnO1xuY29uc3QgRVZFTlRfVE9VQ0hTVEFSVCA9IGB0b3VjaHN0YXJ0JHtFVkVOVF9LRVkkOX1gO1xuY29uc3QgRVZFTlRfVE9VQ0hNT1ZFID0gYHRvdWNobW92ZSR7RVZFTlRfS0VZJDl9YDtcbmNvbnN0IEVWRU5UX1RPVUNIRU5EID0gYHRvdWNoZW5kJHtFVkVOVF9LRVkkOX1gO1xuY29uc3QgRVZFTlRfUE9JTlRFUkRPV04gPSBgcG9pbnRlcmRvd24ke0VWRU5UX0tFWSQ5fWA7XG5jb25zdCBFVkVOVF9QT0lOVEVSVVAgPSBgcG9pbnRlcnVwJHtFVkVOVF9LRVkkOX1gO1xuY29uc3QgUE9JTlRFUl9UWVBFX1RPVUNIID0gJ3RvdWNoJztcbmNvbnN0IFBPSU5URVJfVFlQRV9QRU4gPSAncGVuJztcbmNvbnN0IENMQVNTX05BTUVfUE9JTlRFUl9FVkVOVCA9ICdwb2ludGVyLWV2ZW50JztcbmNvbnN0IFNXSVBFX1RIUkVTSE9MRCA9IDQwO1xuY29uc3QgRGVmYXVsdCRjID0ge1xuICBlbmRDYWxsYmFjazogbnVsbCxcbiAgbGVmdENhbGxiYWNrOiBudWxsLFxuICByaWdodENhbGxiYWNrOiBudWxsXG59O1xuY29uc3QgRGVmYXVsdFR5cGUkYyA9IHtcbiAgZW5kQ2FsbGJhY2s6ICcoZnVuY3Rpb258bnVsbCknLFxuICBsZWZ0Q2FsbGJhY2s6ICcoZnVuY3Rpb258bnVsbCknLFxuICByaWdodENhbGxiYWNrOiAnKGZ1bmN0aW9ufG51bGwpJ1xufTtcbi8qKlxuICogQ2xhc3MgZGVmaW5pdGlvblxuICovXG5cbmNsYXNzIFN3aXBlIGV4dGVuZHMgQ29uZmlnIHtcbiAgY29uc3RydWN0b3IoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcblxuICAgIGlmICghZWxlbWVudCB8fCAhU3dpcGUuaXNTdXBwb3J0ZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2NvbmZpZyA9IHRoaXMuX2dldENvbmZpZyhjb25maWcpO1xuICAgIHRoaXMuX2RlbHRhWCA9IDA7XG4gICAgdGhpcy5fc3VwcG9ydFBvaW50ZXJFdmVudHMgPSBCb29sZWFuKHdpbmRvdy5Qb2ludGVyRXZlbnQpO1xuXG4gICAgdGhpcy5faW5pdEV2ZW50cygpO1xuICB9IC8vIEdldHRlcnNcblxuXG4gIHN0YXRpYyBnZXQgRGVmYXVsdCgpIHtcbiAgICByZXR1cm4gRGVmYXVsdCRjO1xuICB9XG5cbiAgc3RhdGljIGdldCBEZWZhdWx0VHlwZSgpIHtcbiAgICByZXR1cm4gRGVmYXVsdFR5cGUkYztcbiAgfVxuXG4gIHN0YXRpYyBnZXQgTkFNRSgpIHtcbiAgICByZXR1cm4gTkFNRSRkO1xuICB9IC8vIFB1YmxpY1xuXG5cbiAgZGlzcG9zZSgpIHtcbiAgICBFdmVudEhhbmRsZXIub2ZmKHRoaXMuX2VsZW1lbnQsIEVWRU5UX0tFWSQ5KTtcbiAgfSAvLyBQcml2YXRlXG5cblxuICBfc3RhcnQoZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuX3N1cHBvcnRQb2ludGVyRXZlbnRzKSB7XG4gICAgICB0aGlzLl9kZWx0YVggPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2V2ZW50SXNQb2ludGVyUGVuVG91Y2goZXZlbnQpKSB7XG4gICAgICB0aGlzLl9kZWx0YVggPSBldmVudC5jbGllbnRYO1xuICAgIH1cbiAgfVxuXG4gIF9lbmQoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5fZXZlbnRJc1BvaW50ZXJQZW5Ub3VjaChldmVudCkpIHtcbiAgICAgIHRoaXMuX2RlbHRhWCA9IGV2ZW50LmNsaWVudFggLSB0aGlzLl9kZWx0YVg7XG4gICAgfVxuXG4gICAgdGhpcy5faGFuZGxlU3dpcGUoKTtcblxuICAgIGV4ZWN1dGUodGhpcy5fY29uZmlnLmVuZENhbGxiYWNrKTtcbiAgfVxuXG4gIF9tb3ZlKGV2ZW50KSB7XG4gICAgdGhpcy5fZGVsdGFYID0gZXZlbnQudG91Y2hlcyAmJiBldmVudC50b3VjaGVzLmxlbmd0aCA+IDEgPyAwIDogZXZlbnQudG91Y2hlc1swXS5jbGllbnRYIC0gdGhpcy5fZGVsdGFYO1xuICB9XG5cbiAgX2hhbmRsZVN3aXBlKCkge1xuICAgIGNvbnN0IGFic0RlbHRhWCA9IE1hdGguYWJzKHRoaXMuX2RlbHRhWCk7XG5cbiAgICBpZiAoYWJzRGVsdGFYIDw9IFNXSVBFX1RIUkVTSE9MRCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGRpcmVjdGlvbiA9IGFic0RlbHRhWCAvIHRoaXMuX2RlbHRhWDtcbiAgICB0aGlzLl9kZWx0YVggPSAwO1xuXG4gICAgaWYgKCFkaXJlY3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBleGVjdXRlKGRpcmVjdGlvbiA+IDAgPyB0aGlzLl9jb25maWcucmlnaHRDYWxsYmFjayA6IHRoaXMuX2NvbmZpZy5sZWZ0Q2FsbGJhY2spO1xuICB9XG5cbiAgX2luaXRFdmVudHMoKSB7XG4gICAgaWYgKHRoaXMuX3N1cHBvcnRQb2ludGVyRXZlbnRzKSB7XG4gICAgICBFdmVudEhhbmRsZXIub24odGhpcy5fZWxlbWVudCwgRVZFTlRfUE9JTlRFUkRPV04sIGV2ZW50ID0+IHRoaXMuX3N0YXJ0KGV2ZW50KSk7XG4gICAgICBFdmVudEhhbmRsZXIub24odGhpcy5fZWxlbWVudCwgRVZFTlRfUE9JTlRFUlVQLCBldmVudCA9PiB0aGlzLl9lbmQoZXZlbnQpKTtcblxuICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfUE9JTlRFUl9FVkVOVCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIEV2ZW50SGFuZGxlci5vbih0aGlzLl9lbGVtZW50LCBFVkVOVF9UT1VDSFNUQVJULCBldmVudCA9PiB0aGlzLl9zdGFydChldmVudCkpO1xuICAgICAgRXZlbnRIYW5kbGVyLm9uKHRoaXMuX2VsZW1lbnQsIEVWRU5UX1RPVUNITU9WRSwgZXZlbnQgPT4gdGhpcy5fbW92ZShldmVudCkpO1xuICAgICAgRXZlbnRIYW5kbGVyLm9uKHRoaXMuX2VsZW1lbnQsIEVWRU5UX1RPVUNIRU5ELCBldmVudCA9PiB0aGlzLl9lbmQoZXZlbnQpKTtcbiAgICB9XG4gIH1cblxuICBfZXZlbnRJc1BvaW50ZXJQZW5Ub3VjaChldmVudCkge1xuICAgIHJldHVybiB0aGlzLl9zdXBwb3J0UG9pbnRlckV2ZW50cyAmJiAoZXZlbnQucG9pbnRlclR5cGUgPT09IFBPSU5URVJfVFlQRV9QRU4gfHwgZXZlbnQucG9pbnRlclR5cGUgPT09IFBPSU5URVJfVFlQRV9UT1VDSCk7XG4gIH0gLy8gU3RhdGljXG5cblxuICBzdGF0aWMgaXNTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuICdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAwO1xuICB9XG5cbn1cblxuLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQm9vdHN0cmFwICh2NS4yLjMpOiBjYXJvdXNlbC5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG4vKipcbiAqIENvbnN0YW50c1xuICovXG5cbmNvbnN0IE5BTUUkYyA9ICdjYXJvdXNlbCc7XG5jb25zdCBEQVRBX0tFWSQ4ID0gJ2JzLmNhcm91c2VsJztcbmNvbnN0IEVWRU5UX0tFWSQ4ID0gYC4ke0RBVEFfS0VZJDh9YDtcbmNvbnN0IERBVEFfQVBJX0tFWSQ1ID0gJy5kYXRhLWFwaSc7XG5jb25zdCBBUlJPV19MRUZUX0tFWSQxID0gJ0Fycm93TGVmdCc7XG5jb25zdCBBUlJPV19SSUdIVF9LRVkkMSA9ICdBcnJvd1JpZ2h0JztcbmNvbnN0IFRPVUNIRVZFTlRfQ09NUEFUX1dBSVQgPSA1MDA7IC8vIFRpbWUgZm9yIG1vdXNlIGNvbXBhdCBldmVudHMgdG8gZmlyZSBhZnRlciB0b3VjaFxuXG5jb25zdCBPUkRFUl9ORVhUID0gJ25leHQnO1xuY29uc3QgT1JERVJfUFJFViA9ICdwcmV2JztcbmNvbnN0IERJUkVDVElPTl9MRUZUID0gJ2xlZnQnO1xuY29uc3QgRElSRUNUSU9OX1JJR0hUID0gJ3JpZ2h0JztcbmNvbnN0IEVWRU5UX1NMSURFID0gYHNsaWRlJHtFVkVOVF9LRVkkOH1gO1xuY29uc3QgRVZFTlRfU0xJRCA9IGBzbGlkJHtFVkVOVF9LRVkkOH1gO1xuY29uc3QgRVZFTlRfS0VZRE9XTiQxID0gYGtleWRvd24ke0VWRU5UX0tFWSQ4fWA7XG5jb25zdCBFVkVOVF9NT1VTRUVOVEVSJDEgPSBgbW91c2VlbnRlciR7RVZFTlRfS0VZJDh9YDtcbmNvbnN0IEVWRU5UX01PVVNFTEVBVkUkMSA9IGBtb3VzZWxlYXZlJHtFVkVOVF9LRVkkOH1gO1xuY29uc3QgRVZFTlRfRFJBR19TVEFSVCA9IGBkcmFnc3RhcnQke0VWRU5UX0tFWSQ4fWA7XG5jb25zdCBFVkVOVF9MT0FEX0RBVEFfQVBJJDMgPSBgbG9hZCR7RVZFTlRfS0VZJDh9JHtEQVRBX0FQSV9LRVkkNX1gO1xuY29uc3QgRVZFTlRfQ0xJQ0tfREFUQV9BUEkkNSA9IGBjbGljayR7RVZFTlRfS0VZJDh9JHtEQVRBX0FQSV9LRVkkNX1gO1xuY29uc3QgQ0xBU1NfTkFNRV9DQVJPVVNFTCA9ICdjYXJvdXNlbCc7XG5jb25zdCBDTEFTU19OQU1FX0FDVElWRSQyID0gJ2FjdGl2ZSc7XG5jb25zdCBDTEFTU19OQU1FX1NMSURFID0gJ3NsaWRlJztcbmNvbnN0IENMQVNTX05BTUVfRU5EID0gJ2Nhcm91c2VsLWl0ZW0tZW5kJztcbmNvbnN0IENMQVNTX05BTUVfU1RBUlQgPSAnY2Fyb3VzZWwtaXRlbS1zdGFydCc7XG5jb25zdCBDTEFTU19OQU1FX05FWFQgPSAnY2Fyb3VzZWwtaXRlbS1uZXh0JztcbmNvbnN0IENMQVNTX05BTUVfUFJFViA9ICdjYXJvdXNlbC1pdGVtLXByZXYnO1xuY29uc3QgU0VMRUNUT1JfQUNUSVZFID0gJy5hY3RpdmUnO1xuY29uc3QgU0VMRUNUT1JfSVRFTSA9ICcuY2Fyb3VzZWwtaXRlbSc7XG5jb25zdCBTRUxFQ1RPUl9BQ1RJVkVfSVRFTSA9IFNFTEVDVE9SX0FDVElWRSArIFNFTEVDVE9SX0lURU07XG5jb25zdCBTRUxFQ1RPUl9JVEVNX0lNRyA9ICcuY2Fyb3VzZWwtaXRlbSBpbWcnO1xuY29uc3QgU0VMRUNUT1JfSU5ESUNBVE9SUyA9ICcuY2Fyb3VzZWwtaW5kaWNhdG9ycyc7XG5jb25zdCBTRUxFQ1RPUl9EQVRBX1NMSURFID0gJ1tkYXRhLWJzLXNsaWRlXSwgW2RhdGEtYnMtc2xpZGUtdG9dJztcbmNvbnN0IFNFTEVDVE9SX0RBVEFfUklERSA9ICdbZGF0YS1icy1yaWRlPVwiY2Fyb3VzZWxcIl0nO1xuY29uc3QgS0VZX1RPX0RJUkVDVElPTiA9IHtcbiAgW0FSUk9XX0xFRlRfS0VZJDFdOiBESVJFQ1RJT05fUklHSFQsXG4gIFtBUlJPV19SSUdIVF9LRVkkMV06IERJUkVDVElPTl9MRUZUXG59O1xuY29uc3QgRGVmYXVsdCRiID0ge1xuICBpbnRlcnZhbDogNTAwMCxcbiAga2V5Ym9hcmQ6IHRydWUsXG4gIHBhdXNlOiAnaG92ZXInLFxuICByaWRlOiBmYWxzZSxcbiAgdG91Y2g6IHRydWUsXG4gIHdyYXA6IHRydWVcbn07XG5jb25zdCBEZWZhdWx0VHlwZSRiID0ge1xuICBpbnRlcnZhbDogJyhudW1iZXJ8Ym9vbGVhbiknLFxuICAvLyBUT0RPOnY2IHJlbW92ZSBib29sZWFuIHN1cHBvcnRcbiAga2V5Ym9hcmQ6ICdib29sZWFuJyxcbiAgcGF1c2U6ICcoc3RyaW5nfGJvb2xlYW4pJyxcbiAgcmlkZTogJyhib29sZWFufHN0cmluZyknLFxuICB0b3VjaDogJ2Jvb2xlYW4nLFxuICB3cmFwOiAnYm9vbGVhbidcbn07XG4vKipcbiAqIENsYXNzIGRlZmluaXRpb25cbiAqL1xuXG5jbGFzcyBDYXJvdXNlbCBleHRlbmRzIEJhc2VDb21wb25lbnQge1xuICBjb25zdHJ1Y3RvcihlbGVtZW50LCBjb25maWcpIHtcbiAgICBzdXBlcihlbGVtZW50LCBjb25maWcpO1xuICAgIHRoaXMuX2ludGVydmFsID0gbnVsbDtcbiAgICB0aGlzLl9hY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgICB0aGlzLl9pc1NsaWRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnRvdWNoVGltZW91dCA9IG51bGw7XG4gICAgdGhpcy5fc3dpcGVIZWxwZXIgPSBudWxsO1xuICAgIHRoaXMuX2luZGljYXRvcnNFbGVtZW50ID0gU2VsZWN0b3JFbmdpbmUuZmluZE9uZShTRUxFQ1RPUl9JTkRJQ0FUT1JTLCB0aGlzLl9lbGVtZW50KTtcblxuICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICBpZiAodGhpcy5fY29uZmlnLnJpZGUgPT09IENMQVNTX05BTUVfQ0FST1VTRUwpIHtcbiAgICAgIHRoaXMuY3ljbGUoKTtcbiAgICB9XG4gIH0gLy8gR2V0dGVyc1xuXG5cbiAgc3RhdGljIGdldCBEZWZhdWx0KCkge1xuICAgIHJldHVybiBEZWZhdWx0JGI7XG4gIH1cblxuICBzdGF0aWMgZ2V0IERlZmF1bHRUeXBlKCkge1xuICAgIHJldHVybiBEZWZhdWx0VHlwZSRiO1xuICB9XG5cbiAgc3RhdGljIGdldCBOQU1FKCkge1xuICAgIHJldHVybiBOQU1FJGM7XG4gIH0gLy8gUHVibGljXG5cblxuICBuZXh0KCkge1xuICAgIHRoaXMuX3NsaWRlKE9SREVSX05FWFQpO1xuICB9XG5cbiAgbmV4dFdoZW5WaXNpYmxlKCkge1xuICAgIC8vIEZJWE1FIFRPRE8gdXNlIGBkb2N1bWVudC52aXNpYmlsaXR5U3RhdGVgXG4gICAgLy8gRG9uJ3QgY2FsbCBuZXh0IHdoZW4gdGhlIHBhZ2UgaXNuJ3QgdmlzaWJsZVxuICAgIC8vIG9yIHRoZSBjYXJvdXNlbCBvciBpdHMgcGFyZW50IGlzbid0IHZpc2libGVcbiAgICBpZiAoIWRvY3VtZW50LmhpZGRlbiAmJiBpc1Zpc2libGUodGhpcy5fZWxlbWVudCkpIHtcbiAgICAgIHRoaXMubmV4dCgpO1xuICAgIH1cbiAgfVxuXG4gIHByZXYoKSB7XG4gICAgdGhpcy5fc2xpZGUoT1JERVJfUFJFVik7XG4gIH1cblxuICBwYXVzZSgpIHtcbiAgICBpZiAodGhpcy5faXNTbGlkaW5nKSB7XG4gICAgICB0cmlnZ2VyVHJhbnNpdGlvbkVuZCh0aGlzLl9lbGVtZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLl9jbGVhckludGVydmFsKCk7XG4gIH1cblxuICBjeWNsZSgpIHtcbiAgICB0aGlzLl9jbGVhckludGVydmFsKCk7XG5cbiAgICB0aGlzLl91cGRhdGVJbnRlcnZhbCgpO1xuXG4gICAgdGhpcy5faW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLm5leHRXaGVuVmlzaWJsZSgpLCB0aGlzLl9jb25maWcuaW50ZXJ2YWwpO1xuICB9XG5cbiAgX21heWJlRW5hYmxlQ3ljbGUoKSB7XG4gICAgaWYgKCF0aGlzLl9jb25maWcucmlkZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9pc1NsaWRpbmcpIHtcbiAgICAgIEV2ZW50SGFuZGxlci5vbmUodGhpcy5fZWxlbWVudCwgRVZFTlRfU0xJRCwgKCkgPT4gdGhpcy5jeWNsZSgpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmN5Y2xlKCk7XG4gIH1cblxuICB0byhpbmRleCkge1xuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5fZ2V0SXRlbXMoKTtcblxuICAgIGlmIChpbmRleCA+IGl0ZW1zLmxlbmd0aCAtIDEgfHwgaW5kZXggPCAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2lzU2xpZGluZykge1xuICAgICAgRXZlbnRIYW5kbGVyLm9uZSh0aGlzLl9lbGVtZW50LCBFVkVOVF9TTElELCAoKSA9PiB0aGlzLnRvKGluZGV4KSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYWN0aXZlSW5kZXggPSB0aGlzLl9nZXRJdGVtSW5kZXgodGhpcy5fZ2V0QWN0aXZlKCkpO1xuXG4gICAgaWYgKGFjdGl2ZUluZGV4ID09PSBpbmRleCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG9yZGVyID0gaW5kZXggPiBhY3RpdmVJbmRleCA/IE9SREVSX05FWFQgOiBPUkRFUl9QUkVWO1xuXG4gICAgdGhpcy5fc2xpZGUob3JkZXIsIGl0ZW1zW2luZGV4XSk7XG4gIH1cblxuICBkaXNwb3NlKCkge1xuICAgIGlmICh0aGlzLl9zd2lwZUhlbHBlcikge1xuICAgICAgdGhpcy5fc3dpcGVIZWxwZXIuZGlzcG9zZSgpO1xuICAgIH1cblxuICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgfSAvLyBQcml2YXRlXG5cblxuICBfY29uZmlnQWZ0ZXJNZXJnZShjb25maWcpIHtcbiAgICBjb25maWcuZGVmYXVsdEludGVydmFsID0gY29uZmlnLmludGVydmFsO1xuICAgIHJldHVybiBjb25maWc7XG4gIH1cblxuICBfYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgaWYgKHRoaXMuX2NvbmZpZy5rZXlib2FyZCkge1xuICAgICAgRXZlbnRIYW5kbGVyLm9uKHRoaXMuX2VsZW1lbnQsIEVWRU5UX0tFWURPV04kMSwgZXZlbnQgPT4gdGhpcy5fa2V5ZG93bihldmVudCkpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9jb25maWcucGF1c2UgPT09ICdob3ZlcicpIHtcbiAgICAgIEV2ZW50SGFuZGxlci5vbih0aGlzLl9lbGVtZW50LCBFVkVOVF9NT1VTRUVOVEVSJDEsICgpID0+IHRoaXMucGF1c2UoKSk7XG4gICAgICBFdmVudEhhbmRsZXIub24odGhpcy5fZWxlbWVudCwgRVZFTlRfTU9VU0VMRUFWRSQxLCAoKSA9PiB0aGlzLl9tYXliZUVuYWJsZUN5Y2xlKCkpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9jb25maWcudG91Y2ggJiYgU3dpcGUuaXNTdXBwb3J0ZWQoKSkge1xuICAgICAgdGhpcy5fYWRkVG91Y2hFdmVudExpc3RlbmVycygpO1xuICAgIH1cbiAgfVxuXG4gIF9hZGRUb3VjaEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGZvciAoY29uc3QgaW1nIG9mIFNlbGVjdG9yRW5naW5lLmZpbmQoU0VMRUNUT1JfSVRFTV9JTUcsIHRoaXMuX2VsZW1lbnQpKSB7XG4gICAgICBFdmVudEhhbmRsZXIub24oaW1nLCBFVkVOVF9EUkFHX1NUQVJULCBldmVudCA9PiBldmVudC5wcmV2ZW50RGVmYXVsdCgpKTtcbiAgICB9XG5cbiAgICBjb25zdCBlbmRDYWxsQmFjayA9ICgpID0+IHtcbiAgICAgIGlmICh0aGlzLl9jb25maWcucGF1c2UgIT09ICdob3ZlcicpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBJZiBpdCdzIGEgdG91Y2gtZW5hYmxlZCBkZXZpY2UsIG1vdXNlZW50ZXIvbGVhdmUgYXJlIGZpcmVkIGFzXG4gICAgICAvLyBwYXJ0IG9mIHRoZSBtb3VzZSBjb21wYXRpYmlsaXR5IGV2ZW50cyBvbiBmaXJzdCB0YXAgLSB0aGUgY2Fyb3VzZWxcbiAgICAgIC8vIHdvdWxkIHN0b3AgY3ljbGluZyB1bnRpbCB1c2VyIHRhcHBlZCBvdXQgb2YgaXQ7XG4gICAgICAvLyBoZXJlLCB3ZSBsaXN0ZW4gZm9yIHRvdWNoZW5kLCBleHBsaWNpdGx5IHBhdXNlIHRoZSBjYXJvdXNlbFxuICAgICAgLy8gKGFzIGlmIGl0J3MgdGhlIHNlY29uZCB0aW1lIHdlIHRhcCBvbiBpdCwgbW91c2VlbnRlciBjb21wYXQgZXZlbnRcbiAgICAgIC8vIGlzIE5PVCBmaXJlZCkgYW5kIGFmdGVyIGEgdGltZW91dCAodG8gYWxsb3cgZm9yIG1vdXNlIGNvbXBhdGliaWxpdHlcbiAgICAgIC8vIGV2ZW50cyB0byBmaXJlKSB3ZSBleHBsaWNpdGx5IHJlc3RhcnQgY3ljbGluZ1xuXG5cbiAgICAgIHRoaXMucGF1c2UoKTtcblxuICAgICAgaWYgKHRoaXMudG91Y2hUaW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRvdWNoVGltZW91dCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudG91Y2hUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLl9tYXliZUVuYWJsZUN5Y2xlKCksIFRPVUNIRVZFTlRfQ09NUEFUX1dBSVQgKyB0aGlzLl9jb25maWcuaW50ZXJ2YWwpO1xuICAgIH07XG5cbiAgICBjb25zdCBzd2lwZUNvbmZpZyA9IHtcbiAgICAgIGxlZnRDYWxsYmFjazogKCkgPT4gdGhpcy5fc2xpZGUodGhpcy5fZGlyZWN0aW9uVG9PcmRlcihESVJFQ1RJT05fTEVGVCkpLFxuICAgICAgcmlnaHRDYWxsYmFjazogKCkgPT4gdGhpcy5fc2xpZGUodGhpcy5fZGlyZWN0aW9uVG9PcmRlcihESVJFQ1RJT05fUklHSFQpKSxcbiAgICAgIGVuZENhbGxiYWNrOiBlbmRDYWxsQmFja1xuICAgIH07XG4gICAgdGhpcy5fc3dpcGVIZWxwZXIgPSBuZXcgU3dpcGUodGhpcy5fZWxlbWVudCwgc3dpcGVDb25maWcpO1xuICB9XG5cbiAgX2tleWRvd24oZXZlbnQpIHtcbiAgICBpZiAoL2lucHV0fHRleHRhcmVhL2kudGVzdChldmVudC50YXJnZXQudGFnTmFtZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBkaXJlY3Rpb24gPSBLRVlfVE9fRElSRUNUSU9OW2V2ZW50LmtleV07XG5cbiAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICB0aGlzLl9zbGlkZSh0aGlzLl9kaXJlY3Rpb25Ub09yZGVyKGRpcmVjdGlvbikpO1xuICAgIH1cbiAgfVxuXG4gIF9nZXRJdGVtSW5kZXgoZWxlbWVudCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRJdGVtcygpLmluZGV4T2YoZWxlbWVudCk7XG4gIH1cblxuICBfc2V0QWN0aXZlSW5kaWNhdG9yRWxlbWVudChpbmRleCkge1xuICAgIGlmICghdGhpcy5faW5kaWNhdG9yc0VsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBhY3RpdmVJbmRpY2F0b3IgPSBTZWxlY3RvckVuZ2luZS5maW5kT25lKFNFTEVDVE9SX0FDVElWRSwgdGhpcy5faW5kaWNhdG9yc0VsZW1lbnQpO1xuICAgIGFjdGl2ZUluZGljYXRvci5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfQUNUSVZFJDIpO1xuICAgIGFjdGl2ZUluZGljYXRvci5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgIGNvbnN0IG5ld0FjdGl2ZUluZGljYXRvciA9IFNlbGVjdG9yRW5naW5lLmZpbmRPbmUoYFtkYXRhLWJzLXNsaWRlLXRvPVwiJHtpbmRleH1cIl1gLCB0aGlzLl9pbmRpY2F0b3JzRWxlbWVudCk7XG5cbiAgICBpZiAobmV3QWN0aXZlSW5kaWNhdG9yKSB7XG4gICAgICBuZXdBY3RpdmVJbmRpY2F0b3IuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX0FDVElWRSQyKTtcbiAgICAgIG5ld0FjdGl2ZUluZGljYXRvci5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICd0cnVlJyk7XG4gICAgfVxuICB9XG5cbiAgX3VwZGF0ZUludGVydmFsKCkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9hY3RpdmVFbGVtZW50IHx8IHRoaXMuX2dldEFjdGl2ZSgpO1xuXG4gICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZWxlbWVudEludGVydmFsID0gTnVtYmVyLnBhcnNlSW50KGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWJzLWludGVydmFsJyksIDEwKTtcbiAgICB0aGlzLl9jb25maWcuaW50ZXJ2YWwgPSBlbGVtZW50SW50ZXJ2YWwgfHwgdGhpcy5fY29uZmlnLmRlZmF1bHRJbnRlcnZhbDtcbiAgfVxuXG4gIF9zbGlkZShvcmRlciwgZWxlbWVudCA9IG51bGwpIHtcbiAgICBpZiAodGhpcy5faXNTbGlkaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYWN0aXZlRWxlbWVudCA9IHRoaXMuX2dldEFjdGl2ZSgpO1xuXG4gICAgY29uc3QgaXNOZXh0ID0gb3JkZXIgPT09IE9SREVSX05FWFQ7XG4gICAgY29uc3QgbmV4dEVsZW1lbnQgPSBlbGVtZW50IHx8IGdldE5leHRBY3RpdmVFbGVtZW50KHRoaXMuX2dldEl0ZW1zKCksIGFjdGl2ZUVsZW1lbnQsIGlzTmV4dCwgdGhpcy5fY29uZmlnLndyYXApO1xuXG4gICAgaWYgKG5leHRFbGVtZW50ID09PSBhY3RpdmVFbGVtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbmV4dEVsZW1lbnRJbmRleCA9IHRoaXMuX2dldEl0ZW1JbmRleChuZXh0RWxlbWVudCk7XG5cbiAgICBjb25zdCB0cmlnZ2VyRXZlbnQgPSBldmVudE5hbWUgPT4ge1xuICAgICAgcmV0dXJuIEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIGV2ZW50TmFtZSwge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiBuZXh0RWxlbWVudCxcbiAgICAgICAgZGlyZWN0aW9uOiB0aGlzLl9vcmRlclRvRGlyZWN0aW9uKG9yZGVyKSxcbiAgICAgICAgZnJvbTogdGhpcy5fZ2V0SXRlbUluZGV4KGFjdGl2ZUVsZW1lbnQpLFxuICAgICAgICB0bzogbmV4dEVsZW1lbnRJbmRleFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNsaWRlRXZlbnQgPSB0cmlnZ2VyRXZlbnQoRVZFTlRfU0xJREUpO1xuXG4gICAgaWYgKHNsaWRlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghYWN0aXZlRWxlbWVudCB8fCAhbmV4dEVsZW1lbnQpIHtcbiAgICAgIC8vIFNvbWUgd2VpcmRuZXNzIGlzIGhhcHBlbmluZywgc28gd2UgYmFpbFxuICAgICAgLy8gdG9kbzogY2hhbmdlIHRlc3RzIHRoYXQgdXNlIGVtcHR5IGRpdnMgdG8gYXZvaWQgdGhpcyBjaGVja1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGlzQ3ljbGluZyA9IEJvb2xlYW4odGhpcy5faW50ZXJ2YWwpO1xuICAgIHRoaXMucGF1c2UoKTtcbiAgICB0aGlzLl9pc1NsaWRpbmcgPSB0cnVlO1xuXG4gICAgdGhpcy5fc2V0QWN0aXZlSW5kaWNhdG9yRWxlbWVudChuZXh0RWxlbWVudEluZGV4KTtcblxuICAgIHRoaXMuX2FjdGl2ZUVsZW1lbnQgPSBuZXh0RWxlbWVudDtcbiAgICBjb25zdCBkaXJlY3Rpb25hbENsYXNzTmFtZSA9IGlzTmV4dCA/IENMQVNTX05BTUVfU1RBUlQgOiBDTEFTU19OQU1FX0VORDtcbiAgICBjb25zdCBvcmRlckNsYXNzTmFtZSA9IGlzTmV4dCA/IENMQVNTX05BTUVfTkVYVCA6IENMQVNTX05BTUVfUFJFVjtcbiAgICBuZXh0RWxlbWVudC5jbGFzc0xpc3QuYWRkKG9yZGVyQ2xhc3NOYW1lKTtcbiAgICByZWZsb3cobmV4dEVsZW1lbnQpO1xuICAgIGFjdGl2ZUVsZW1lbnQuY2xhc3NMaXN0LmFkZChkaXJlY3Rpb25hbENsYXNzTmFtZSk7XG4gICAgbmV4dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChkaXJlY3Rpb25hbENsYXNzTmFtZSk7XG5cbiAgICBjb25zdCBjb21wbGV0ZUNhbGxCYWNrID0gKCkgPT4ge1xuICAgICAgbmV4dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShkaXJlY3Rpb25hbENsYXNzTmFtZSwgb3JkZXJDbGFzc05hbWUpO1xuICAgICAgbmV4dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX0FDVElWRSQyKTtcbiAgICAgIGFjdGl2ZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX0FDVElWRSQyLCBvcmRlckNsYXNzTmFtZSwgZGlyZWN0aW9uYWxDbGFzc05hbWUpO1xuICAgICAgdGhpcy5faXNTbGlkaW5nID0gZmFsc2U7XG4gICAgICB0cmlnZ2VyRXZlbnQoRVZFTlRfU0xJRCk7XG4gICAgfTtcblxuICAgIHRoaXMuX3F1ZXVlQ2FsbGJhY2soY29tcGxldGVDYWxsQmFjaywgYWN0aXZlRWxlbWVudCwgdGhpcy5faXNBbmltYXRlZCgpKTtcblxuICAgIGlmIChpc0N5Y2xpbmcpIHtcbiAgICAgIHRoaXMuY3ljbGUoKTtcbiAgICB9XG4gIH1cblxuICBfaXNBbmltYXRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9TTElERSk7XG4gIH1cblxuICBfZ2V0QWN0aXZlKCkge1xuICAgIHJldHVybiBTZWxlY3RvckVuZ2luZS5maW5kT25lKFNFTEVDVE9SX0FDVElWRV9JVEVNLCB0aGlzLl9lbGVtZW50KTtcbiAgfVxuXG4gIF9nZXRJdGVtcygpIHtcbiAgICByZXR1cm4gU2VsZWN0b3JFbmdpbmUuZmluZChTRUxFQ1RPUl9JVEVNLCB0aGlzLl9lbGVtZW50KTtcbiAgfVxuXG4gIF9jbGVhckludGVydmFsKCkge1xuICAgIGlmICh0aGlzLl9pbnRlcnZhbCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbCk7XG4gICAgICB0aGlzLl9pbnRlcnZhbCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgX2RpcmVjdGlvblRvT3JkZXIoZGlyZWN0aW9uKSB7XG4gICAgaWYgKGlzUlRMKCkpIHtcbiAgICAgIHJldHVybiBkaXJlY3Rpb24gPT09IERJUkVDVElPTl9MRUZUID8gT1JERVJfUFJFViA6IE9SREVSX05FWFQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRpcmVjdGlvbiA9PT0gRElSRUNUSU9OX0xFRlQgPyBPUkRFUl9ORVhUIDogT1JERVJfUFJFVjtcbiAgfVxuXG4gIF9vcmRlclRvRGlyZWN0aW9uKG9yZGVyKSB7XG4gICAgaWYgKGlzUlRMKCkpIHtcbiAgICAgIHJldHVybiBvcmRlciA9PT0gT1JERVJfUFJFViA/IERJUkVDVElPTl9MRUZUIDogRElSRUNUSU9OX1JJR0hUO1xuICAgIH1cblxuICAgIHJldHVybiBvcmRlciA9PT0gT1JERVJfUFJFViA/IERJUkVDVElPTl9SSUdIVCA6IERJUkVDVElPTl9MRUZUO1xuICB9IC8vIFN0YXRpY1xuXG5cbiAgc3RhdGljIGpRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBDYXJvdXNlbC5nZXRPckNyZWF0ZUluc3RhbmNlKHRoaXMsIGNvbmZpZyk7XG5cbiAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnbnVtYmVyJykge1xuICAgICAgICBkYXRhLnRvKGNvbmZpZyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChkYXRhW2NvbmZpZ10gPT09IHVuZGVmaW5lZCB8fCBjb25maWcuc3RhcnRzV2l0aCgnXycpIHx8IGNvbmZpZyA9PT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYE5vIG1ldGhvZCBuYW1lZCBcIiR7Y29uZmlnfVwiYCk7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhW2NvbmZpZ10oKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG59XG4vKipcbiAqIERhdGEgQVBJIGltcGxlbWVudGF0aW9uXG4gKi9cblxuXG5FdmVudEhhbmRsZXIub24oZG9jdW1lbnQsIEVWRU5UX0NMSUNLX0RBVEFfQVBJJDUsIFNFTEVDVE9SX0RBVEFfU0xJREUsIGZ1bmN0aW9uIChldmVudCkge1xuICBjb25zdCB0YXJnZXQgPSBnZXRFbGVtZW50RnJvbVNlbGVjdG9yKHRoaXMpO1xuXG4gIGlmICghdGFyZ2V0IHx8ICF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfQ0FST1VTRUwpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgY2Fyb3VzZWwgPSBDYXJvdXNlbC5nZXRPckNyZWF0ZUluc3RhbmNlKHRhcmdldCk7XG4gIGNvbnN0IHNsaWRlSW5kZXggPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1icy1zbGlkZS10bycpO1xuXG4gIGlmIChzbGlkZUluZGV4KSB7XG4gICAgY2Fyb3VzZWwudG8oc2xpZGVJbmRleCk7XG5cbiAgICBjYXJvdXNlbC5fbWF5YmVFbmFibGVDeWNsZSgpO1xuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKE1hbmlwdWxhdG9yLmdldERhdGFBdHRyaWJ1dGUodGhpcywgJ3NsaWRlJykgPT09ICduZXh0Jykge1xuICAgIGNhcm91c2VsLm5leHQoKTtcblxuICAgIGNhcm91c2VsLl9tYXliZUVuYWJsZUN5Y2xlKCk7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBjYXJvdXNlbC5wcmV2KCk7XG5cbiAgY2Fyb3VzZWwuX21heWJlRW5hYmxlQ3ljbGUoKTtcbn0pO1xuRXZlbnRIYW5kbGVyLm9uKHdpbmRvdywgRVZFTlRfTE9BRF9EQVRBX0FQSSQzLCAoKSA9PiB7XG4gIGNvbnN0IGNhcm91c2VscyA9IFNlbGVjdG9yRW5naW5lLmZpbmQoU0VMRUNUT1JfREFUQV9SSURFKTtcblxuICBmb3IgKGNvbnN0IGNhcm91c2VsIG9mIGNhcm91c2Vscykge1xuICAgIENhcm91c2VsLmdldE9yQ3JlYXRlSW5zdGFuY2UoY2Fyb3VzZWwpO1xuICB9XG59KTtcbi8qKlxuICogalF1ZXJ5XG4gKi9cblxuZGVmaW5lSlF1ZXJ5UGx1Z2luKENhcm91c2VsKTtcblxuLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQm9vdHN0cmFwICh2NS4yLjMpOiBjb2xsYXBzZS5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG4vKipcbiAqIENvbnN0YW50c1xuICovXG5cbmNvbnN0IE5BTUUkYiA9ICdjb2xsYXBzZSc7XG5jb25zdCBEQVRBX0tFWSQ3ID0gJ2JzLmNvbGxhcHNlJztcbmNvbnN0IEVWRU5UX0tFWSQ3ID0gYC4ke0RBVEFfS0VZJDd9YDtcbmNvbnN0IERBVEFfQVBJX0tFWSQ0ID0gJy5kYXRhLWFwaSc7XG5jb25zdCBFVkVOVF9TSE9XJDYgPSBgc2hvdyR7RVZFTlRfS0VZJDd9YDtcbmNvbnN0IEVWRU5UX1NIT1dOJDYgPSBgc2hvd24ke0VWRU5UX0tFWSQ3fWA7XG5jb25zdCBFVkVOVF9ISURFJDYgPSBgaGlkZSR7RVZFTlRfS0VZJDd9YDtcbmNvbnN0IEVWRU5UX0hJRERFTiQ2ID0gYGhpZGRlbiR7RVZFTlRfS0VZJDd9YDtcbmNvbnN0IEVWRU5UX0NMSUNLX0RBVEFfQVBJJDQgPSBgY2xpY2ske0VWRU5UX0tFWSQ3fSR7REFUQV9BUElfS0VZJDR9YDtcbmNvbnN0IENMQVNTX05BTUVfU0hPVyQ3ID0gJ3Nob3cnO1xuY29uc3QgQ0xBU1NfTkFNRV9DT0xMQVBTRSA9ICdjb2xsYXBzZSc7XG5jb25zdCBDTEFTU19OQU1FX0NPTExBUFNJTkcgPSAnY29sbGFwc2luZyc7XG5jb25zdCBDTEFTU19OQU1FX0NPTExBUFNFRCA9ICdjb2xsYXBzZWQnO1xuY29uc3QgQ0xBU1NfTkFNRV9ERUVQRVJfQ0hJTERSRU4gPSBgOnNjb3BlIC4ke0NMQVNTX05BTUVfQ09MTEFQU0V9IC4ke0NMQVNTX05BTUVfQ09MTEFQU0V9YDtcbmNvbnN0IENMQVNTX05BTUVfSE9SSVpPTlRBTCA9ICdjb2xsYXBzZS1ob3Jpem9udGFsJztcbmNvbnN0IFdJRFRIID0gJ3dpZHRoJztcbmNvbnN0IEhFSUdIVCA9ICdoZWlnaHQnO1xuY29uc3QgU0VMRUNUT1JfQUNUSVZFUyA9ICcuY29sbGFwc2Uuc2hvdywgLmNvbGxhcHNlLmNvbGxhcHNpbmcnO1xuY29uc3QgU0VMRUNUT1JfREFUQV9UT0dHTEUkNCA9ICdbZGF0YS1icy10b2dnbGU9XCJjb2xsYXBzZVwiXSc7XG5jb25zdCBEZWZhdWx0JGEgPSB7XG4gIHBhcmVudDogbnVsbCxcbiAgdG9nZ2xlOiB0cnVlXG59O1xuY29uc3QgRGVmYXVsdFR5cGUkYSA9IHtcbiAgcGFyZW50OiAnKG51bGx8ZWxlbWVudCknLFxuICB0b2dnbGU6ICdib29sZWFuJ1xufTtcbi8qKlxuICogQ2xhc3MgZGVmaW5pdGlvblxuICovXG5cbmNsYXNzIENvbGxhcHNlIGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGNvbmZpZykge1xuICAgIHN1cGVyKGVsZW1lbnQsIGNvbmZpZyk7XG4gICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gZmFsc2U7XG4gICAgdGhpcy5fdHJpZ2dlckFycmF5ID0gW107XG4gICAgY29uc3QgdG9nZ2xlTGlzdCA9IFNlbGVjdG9yRW5naW5lLmZpbmQoU0VMRUNUT1JfREFUQV9UT0dHTEUkNCk7XG5cbiAgICBmb3IgKGNvbnN0IGVsZW0gb2YgdG9nZ2xlTGlzdCkge1xuICAgICAgY29uc3Qgc2VsZWN0b3IgPSBnZXRTZWxlY3RvckZyb21FbGVtZW50KGVsZW0pO1xuICAgICAgY29uc3QgZmlsdGVyRWxlbWVudCA9IFNlbGVjdG9yRW5naW5lLmZpbmQoc2VsZWN0b3IpLmZpbHRlcihmb3VuZEVsZW1lbnQgPT4gZm91bmRFbGVtZW50ID09PSB0aGlzLl9lbGVtZW50KTtcblxuICAgICAgaWYgKHNlbGVjdG9yICE9PSBudWxsICYmIGZpbHRlckVsZW1lbnQubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJBcnJheS5wdXNoKGVsZW0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX2luaXRpYWxpemVDaGlsZHJlbigpO1xuXG4gICAgaWYgKCF0aGlzLl9jb25maWcucGFyZW50KSB7XG4gICAgICB0aGlzLl9hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3ModGhpcy5fdHJpZ2dlckFycmF5LCB0aGlzLl9pc1Nob3duKCkpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9jb25maWcudG9nZ2xlKSB7XG4gICAgICB0aGlzLnRvZ2dsZSgpO1xuICAgIH1cbiAgfSAvLyBHZXR0ZXJzXG5cblxuICBzdGF0aWMgZ2V0IERlZmF1bHQoKSB7XG4gICAgcmV0dXJuIERlZmF1bHQkYTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgRGVmYXVsdFR5cGUoKSB7XG4gICAgcmV0dXJuIERlZmF1bHRUeXBlJGE7XG4gIH1cblxuICBzdGF0aWMgZ2V0IE5BTUUoKSB7XG4gICAgcmV0dXJuIE5BTUUkYjtcbiAgfSAvLyBQdWJsaWNcblxuXG4gIHRvZ2dsZSgpIHtcbiAgICBpZiAodGhpcy5faXNTaG93bigpKSB7XG4gICAgICB0aGlzLmhpZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zaG93KCk7XG4gICAgfVxuICB9XG5cbiAgc2hvdygpIHtcbiAgICBpZiAodGhpcy5faXNUcmFuc2l0aW9uaW5nIHx8IHRoaXMuX2lzU2hvd24oKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBhY3RpdmVDaGlsZHJlbiA9IFtdOyAvLyBmaW5kIGFjdGl2ZSBjaGlsZHJlblxuXG4gICAgaWYgKHRoaXMuX2NvbmZpZy5wYXJlbnQpIHtcbiAgICAgIGFjdGl2ZUNoaWxkcmVuID0gdGhpcy5fZ2V0Rmlyc3RMZXZlbENoaWxkcmVuKFNFTEVDVE9SX0FDVElWRVMpLmZpbHRlcihlbGVtZW50ID0+IGVsZW1lbnQgIT09IHRoaXMuX2VsZW1lbnQpLm1hcChlbGVtZW50ID0+IENvbGxhcHNlLmdldE9yQ3JlYXRlSW5zdGFuY2UoZWxlbWVudCwge1xuICAgICAgICB0b2dnbGU6IGZhbHNlXG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgaWYgKGFjdGl2ZUNoaWxkcmVuLmxlbmd0aCAmJiBhY3RpdmVDaGlsZHJlblswXS5faXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhcnRFdmVudCA9IEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIEVWRU5UX1NIT1ckNik7XG5cbiAgICBpZiAoc3RhcnRFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBhY3RpdmVJbnN0YW5jZSBvZiBhY3RpdmVDaGlsZHJlbikge1xuICAgICAgYWN0aXZlSW5zdGFuY2UuaGlkZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IGRpbWVuc2lvbiA9IHRoaXMuX2dldERpbWVuc2lvbigpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfQ09MTEFQU0UpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfQ09MTEFQU0lORyk7XG5cbiAgICB0aGlzLl9lbGVtZW50LnN0eWxlW2RpbWVuc2lvbl0gPSAwO1xuXG4gICAgdGhpcy5fYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKHRoaXMuX3RyaWdnZXJBcnJheSwgdHJ1ZSk7XG5cbiAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSB0cnVlO1xuXG4gICAgY29uc3QgY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcblxuICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfQ09MTEFQU0lORyk7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX0NPTExBUFNFLCBDTEFTU19OQU1FX1NIT1ckNyk7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGVbZGltZW5zaW9uXSA9ICcnO1xuICAgICAgRXZlbnRIYW5kbGVyLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgRVZFTlRfU0hPV04kNik7XG4gICAgfTtcblxuICAgIGNvbnN0IGNhcGl0YWxpemVkRGltZW5zaW9uID0gZGltZW5zaW9uWzBdLnRvVXBwZXJDYXNlKCkgKyBkaW1lbnNpb24uc2xpY2UoMSk7XG4gICAgY29uc3Qgc2Nyb2xsU2l6ZSA9IGBzY3JvbGwke2NhcGl0YWxpemVkRGltZW5zaW9ufWA7XG5cbiAgICB0aGlzLl9xdWV1ZUNhbGxiYWNrKGNvbXBsZXRlLCB0aGlzLl9lbGVtZW50LCB0cnVlKTtcblxuICAgIHRoaXMuX2VsZW1lbnQuc3R5bGVbZGltZW5zaW9uXSA9IGAke3RoaXMuX2VsZW1lbnRbc2Nyb2xsU2l6ZV19cHhgO1xuICB9XG5cbiAgaGlkZSgpIHtcbiAgICBpZiAodGhpcy5faXNUcmFuc2l0aW9uaW5nIHx8ICF0aGlzLl9pc1Nob3duKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzdGFydEV2ZW50ID0gRXZlbnRIYW5kbGVyLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgRVZFTlRfSElERSQ2KTtcblxuICAgIGlmIChzdGFydEV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBkaW1lbnNpb24gPSB0aGlzLl9nZXREaW1lbnNpb24oKTtcblxuICAgIHRoaXMuX2VsZW1lbnQuc3R5bGVbZGltZW5zaW9uXSA9IGAke3RoaXMuX2VsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbZGltZW5zaW9uXX1weGA7XG4gICAgcmVmbG93KHRoaXMuX2VsZW1lbnQpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfQ09MTEFQU0lORyk7XG5cbiAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NfTkFNRV9DT0xMQVBTRSwgQ0xBU1NfTkFNRV9TSE9XJDcpO1xuXG4gICAgZm9yIChjb25zdCB0cmlnZ2VyIG9mIHRoaXMuX3RyaWdnZXJBcnJheSkge1xuICAgICAgY29uc3QgZWxlbWVudCA9IGdldEVsZW1lbnRGcm9tU2VsZWN0b3IodHJpZ2dlcik7XG5cbiAgICAgIGlmIChlbGVtZW50ICYmICF0aGlzLl9pc1Nob3duKGVsZW1lbnQpKSB7XG4gICAgICAgIHRoaXMuX2FkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyhbdHJpZ2dlcl0sIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSB0cnVlO1xuXG4gICAgY29uc3QgY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcblxuICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfQ09MTEFQU0lORyk7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX0NPTExBUFNFKTtcblxuICAgICAgRXZlbnRIYW5kbGVyLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgRVZFTlRfSElEREVOJDYpO1xuICAgIH07XG5cbiAgICB0aGlzLl9lbGVtZW50LnN0eWxlW2RpbWVuc2lvbl0gPSAnJztcblxuICAgIHRoaXMuX3F1ZXVlQ2FsbGJhY2soY29tcGxldGUsIHRoaXMuX2VsZW1lbnQsIHRydWUpO1xuICB9XG5cbiAgX2lzU2hvd24oZWxlbWVudCA9IHRoaXMuX2VsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9TSE9XJDcpO1xuICB9IC8vIFByaXZhdGVcblxuXG4gIF9jb25maWdBZnRlck1lcmdlKGNvbmZpZykge1xuICAgIGNvbmZpZy50b2dnbGUgPSBCb29sZWFuKGNvbmZpZy50b2dnbGUpOyAvLyBDb2VyY2Ugc3RyaW5nIHZhbHVlc1xuXG4gICAgY29uZmlnLnBhcmVudCA9IGdldEVsZW1lbnQoY29uZmlnLnBhcmVudCk7XG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfVxuXG4gIF9nZXREaW1lbnNpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfSE9SSVpPTlRBTCkgPyBXSURUSCA6IEhFSUdIVDtcbiAgfVxuXG4gIF9pbml0aWFsaXplQ2hpbGRyZW4oKSB7XG4gICAgaWYgKCF0aGlzLl9jb25maWcucGFyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLl9nZXRGaXJzdExldmVsQ2hpbGRyZW4oU0VMRUNUT1JfREFUQV9UT0dHTEUkNCk7XG5cbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgY2hpbGRyZW4pIHtcbiAgICAgIGNvbnN0IHNlbGVjdGVkID0gZ2V0RWxlbWVudEZyb21TZWxlY3RvcihlbGVtZW50KTtcblxuICAgICAgaWYgKHNlbGVjdGVkKSB7XG4gICAgICAgIHRoaXMuX2FkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyhbZWxlbWVudF0sIHRoaXMuX2lzU2hvd24oc2VsZWN0ZWQpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfZ2V0Rmlyc3RMZXZlbENoaWxkcmVuKHNlbGVjdG9yKSB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBTZWxlY3RvckVuZ2luZS5maW5kKENMQVNTX05BTUVfREVFUEVSX0NISUxEUkVOLCB0aGlzLl9jb25maWcucGFyZW50KTsgLy8gcmVtb3ZlIGNoaWxkcmVuIGlmIGdyZWF0ZXIgZGVwdGhcblxuICAgIHJldHVybiBTZWxlY3RvckVuZ2luZS5maW5kKHNlbGVjdG9yLCB0aGlzLl9jb25maWcucGFyZW50KS5maWx0ZXIoZWxlbWVudCA9PiAhY2hpbGRyZW4uaW5jbHVkZXMoZWxlbWVudCkpO1xuICB9XG5cbiAgX2FkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyh0cmlnZ2VyQXJyYXksIGlzT3Blbikge1xuICAgIGlmICghdHJpZ2dlckFycmF5Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0cmlnZ2VyQXJyYXkpIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShDTEFTU19OQU1FX0NPTExBUFNFRCwgIWlzT3Blbik7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIGlzT3Blbik7XG4gICAgfVxuICB9IC8vIFN0YXRpY1xuXG5cbiAgc3RhdGljIGpRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICBjb25zdCBfY29uZmlnID0ge307XG5cbiAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycgJiYgL3Nob3d8aGlkZS8udGVzdChjb25maWcpKSB7XG4gICAgICBfY29uZmlnLnRvZ2dsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgZGF0YSA9IENvbGxhcHNlLmdldE9yQ3JlYXRlSW5zdGFuY2UodGhpcywgX2NvbmZpZyk7XG5cbiAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAodHlwZW9mIGRhdGFbY29uZmlnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBObyBtZXRob2QgbmFtZWQgXCIke2NvbmZpZ31cImApO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YVtjb25maWddKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxufVxuLyoqXG4gKiBEYXRhIEFQSSBpbXBsZW1lbnRhdGlvblxuICovXG5cblxuRXZlbnRIYW5kbGVyLm9uKGRvY3VtZW50LCBFVkVOVF9DTElDS19EQVRBX0FQSSQ0LCBTRUxFQ1RPUl9EQVRBX1RPR0dMRSQ0LCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgLy8gcHJldmVudERlZmF1bHQgb25seSBmb3IgPGE+IGVsZW1lbnRzICh3aGljaCBjaGFuZ2UgdGhlIFVSTCkgbm90IGluc2lkZSB0aGUgY29sbGFwc2libGUgZWxlbWVudFxuICBpZiAoZXZlbnQudGFyZ2V0LnRhZ05hbWUgPT09ICdBJyB8fCBldmVudC5kZWxlZ2F0ZVRhcmdldCAmJiBldmVudC5kZWxlZ2F0ZVRhcmdldC50YWdOYW1lID09PSAnQScpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSBnZXRTZWxlY3RvckZyb21FbGVtZW50KHRoaXMpO1xuICBjb25zdCBzZWxlY3RvckVsZW1lbnRzID0gU2VsZWN0b3JFbmdpbmUuZmluZChzZWxlY3Rvcik7XG5cbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIHNlbGVjdG9yRWxlbWVudHMpIHtcbiAgICBDb2xsYXBzZS5nZXRPckNyZWF0ZUluc3RhbmNlKGVsZW1lbnQsIHtcbiAgICAgIHRvZ2dsZTogZmFsc2VcbiAgICB9KS50b2dnbGUoKTtcbiAgfVxufSk7XG4vKipcbiAqIGpRdWVyeVxuICovXG5cbmRlZmluZUpRdWVyeVBsdWdpbihDb2xsYXBzZSk7XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjUuMi4zKTogZHJvcGRvd24uanNcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuLyoqXG4gKiBDb25zdGFudHNcbiAqL1xuXG5jb25zdCBOQU1FJGEgPSAnZHJvcGRvd24nO1xuY29uc3QgREFUQV9LRVkkNiA9ICdicy5kcm9wZG93bic7XG5jb25zdCBFVkVOVF9LRVkkNiA9IGAuJHtEQVRBX0tFWSQ2fWA7XG5jb25zdCBEQVRBX0FQSV9LRVkkMyA9ICcuZGF0YS1hcGknO1xuY29uc3QgRVNDQVBFX0tFWSQyID0gJ0VzY2FwZSc7XG5jb25zdCBUQUJfS0VZJDEgPSAnVGFiJztcbmNvbnN0IEFSUk9XX1VQX0tFWSQxID0gJ0Fycm93VXAnO1xuY29uc3QgQVJST1dfRE9XTl9LRVkkMSA9ICdBcnJvd0Rvd24nO1xuY29uc3QgUklHSFRfTU9VU0VfQlVUVE9OID0gMjsgLy8gTW91c2VFdmVudC5idXR0b24gdmFsdWUgZm9yIHRoZSBzZWNvbmRhcnkgYnV0dG9uLCB1c3VhbGx5IHRoZSByaWdodCBidXR0b25cblxuY29uc3QgRVZFTlRfSElERSQ1ID0gYGhpZGUke0VWRU5UX0tFWSQ2fWA7XG5jb25zdCBFVkVOVF9ISURERU4kNSA9IGBoaWRkZW4ke0VWRU5UX0tFWSQ2fWA7XG5jb25zdCBFVkVOVF9TSE9XJDUgPSBgc2hvdyR7RVZFTlRfS0VZJDZ9YDtcbmNvbnN0IEVWRU5UX1NIT1dOJDUgPSBgc2hvd24ke0VWRU5UX0tFWSQ2fWA7XG5jb25zdCBFVkVOVF9DTElDS19EQVRBX0FQSSQzID0gYGNsaWNrJHtFVkVOVF9LRVkkNn0ke0RBVEFfQVBJX0tFWSQzfWA7XG5jb25zdCBFVkVOVF9LRVlET1dOX0RBVEFfQVBJID0gYGtleWRvd24ke0VWRU5UX0tFWSQ2fSR7REFUQV9BUElfS0VZJDN9YDtcbmNvbnN0IEVWRU5UX0tFWVVQX0RBVEFfQVBJID0gYGtleXVwJHtFVkVOVF9LRVkkNn0ke0RBVEFfQVBJX0tFWSQzfWA7XG5jb25zdCBDTEFTU19OQU1FX1NIT1ckNiA9ICdzaG93JztcbmNvbnN0IENMQVNTX05BTUVfRFJPUFVQID0gJ2Ryb3B1cCc7XG5jb25zdCBDTEFTU19OQU1FX0RST1BFTkQgPSAnZHJvcGVuZCc7XG5jb25zdCBDTEFTU19OQU1FX0RST1BTVEFSVCA9ICdkcm9wc3RhcnQnO1xuY29uc3QgQ0xBU1NfTkFNRV9EUk9QVVBfQ0VOVEVSID0gJ2Ryb3B1cC1jZW50ZXInO1xuY29uc3QgQ0xBU1NfTkFNRV9EUk9QRE9XTl9DRU5URVIgPSAnZHJvcGRvd24tY2VudGVyJztcbmNvbnN0IFNFTEVDVE9SX0RBVEFfVE9HR0xFJDMgPSAnW2RhdGEtYnMtdG9nZ2xlPVwiZHJvcGRvd25cIl06bm90KC5kaXNhYmxlZCk6bm90KDpkaXNhYmxlZCknO1xuY29uc3QgU0VMRUNUT1JfREFUQV9UT0dHTEVfU0hPV04gPSBgJHtTRUxFQ1RPUl9EQVRBX1RPR0dMRSQzfS4ke0NMQVNTX05BTUVfU0hPVyQ2fWA7XG5jb25zdCBTRUxFQ1RPUl9NRU5VID0gJy5kcm9wZG93bi1tZW51JztcbmNvbnN0IFNFTEVDVE9SX05BVkJBUiA9ICcubmF2YmFyJztcbmNvbnN0IFNFTEVDVE9SX05BVkJBUl9OQVYgPSAnLm5hdmJhci1uYXYnO1xuY29uc3QgU0VMRUNUT1JfVklTSUJMRV9JVEVNUyA9ICcuZHJvcGRvd24tbWVudSAuZHJvcGRvd24taXRlbTpub3QoLmRpc2FibGVkKTpub3QoOmRpc2FibGVkKSc7XG5jb25zdCBQTEFDRU1FTlRfVE9QID0gaXNSVEwoKSA/ICd0b3AtZW5kJyA6ICd0b3Atc3RhcnQnO1xuY29uc3QgUExBQ0VNRU5UX1RPUEVORCA9IGlzUlRMKCkgPyAndG9wLXN0YXJ0JyA6ICd0b3AtZW5kJztcbmNvbnN0IFBMQUNFTUVOVF9CT1RUT00gPSBpc1JUTCgpID8gJ2JvdHRvbS1lbmQnIDogJ2JvdHRvbS1zdGFydCc7XG5jb25zdCBQTEFDRU1FTlRfQk9UVE9NRU5EID0gaXNSVEwoKSA/ICdib3R0b20tc3RhcnQnIDogJ2JvdHRvbS1lbmQnO1xuY29uc3QgUExBQ0VNRU5UX1JJR0hUID0gaXNSVEwoKSA/ICdsZWZ0LXN0YXJ0JyA6ICdyaWdodC1zdGFydCc7XG5jb25zdCBQTEFDRU1FTlRfTEVGVCA9IGlzUlRMKCkgPyAncmlnaHQtc3RhcnQnIDogJ2xlZnQtc3RhcnQnO1xuY29uc3QgUExBQ0VNRU5UX1RPUENFTlRFUiA9ICd0b3AnO1xuY29uc3QgUExBQ0VNRU5UX0JPVFRPTUNFTlRFUiA9ICdib3R0b20nO1xuY29uc3QgRGVmYXVsdCQ5ID0ge1xuICBhdXRvQ2xvc2U6IHRydWUsXG4gIGJvdW5kYXJ5OiAnY2xpcHBpbmdQYXJlbnRzJyxcbiAgZGlzcGxheTogJ2R5bmFtaWMnLFxuICBvZmZzZXQ6IFswLCAyXSxcbiAgcG9wcGVyQ29uZmlnOiBudWxsLFxuICByZWZlcmVuY2U6ICd0b2dnbGUnXG59O1xuY29uc3QgRGVmYXVsdFR5cGUkOSA9IHtcbiAgYXV0b0Nsb3NlOiAnKGJvb2xlYW58c3RyaW5nKScsXG4gIGJvdW5kYXJ5OiAnKHN0cmluZ3xlbGVtZW50KScsXG4gIGRpc3BsYXk6ICdzdHJpbmcnLFxuICBvZmZzZXQ6ICcoYXJyYXl8c3RyaW5nfGZ1bmN0aW9uKScsXG4gIHBvcHBlckNvbmZpZzogJyhudWxsfG9iamVjdHxmdW5jdGlvbiknLFxuICByZWZlcmVuY2U6ICcoc3RyaW5nfGVsZW1lbnR8b2JqZWN0KSdcbn07XG4vKipcbiAqIENsYXNzIGRlZmluaXRpb25cbiAqL1xuXG5jbGFzcyBEcm9wZG93biBleHRlbmRzIEJhc2VDb21wb25lbnQge1xuICBjb25zdHJ1Y3RvcihlbGVtZW50LCBjb25maWcpIHtcbiAgICBzdXBlcihlbGVtZW50LCBjb25maWcpO1xuICAgIHRoaXMuX3BvcHBlciA9IG51bGw7XG4gICAgdGhpcy5fcGFyZW50ID0gdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlOyAvLyBkcm9wZG93biB3cmFwcGVyXG4gICAgLy8gdG9kbzogdjYgcmV2ZXJ0ICMzNzAxMSAmIGNoYW5nZSBtYXJrdXAgaHR0cHM6Ly9nZXRib290c3RyYXAuY29tL2RvY3MvNS4yL2Zvcm1zL2lucHV0LWdyb3VwL1xuXG4gICAgdGhpcy5fbWVudSA9IFNlbGVjdG9yRW5naW5lLm5leHQodGhpcy5fZWxlbWVudCwgU0VMRUNUT1JfTUVOVSlbMF0gfHwgU2VsZWN0b3JFbmdpbmUucHJldih0aGlzLl9lbGVtZW50LCBTRUxFQ1RPUl9NRU5VKVswXSB8fCBTZWxlY3RvckVuZ2luZS5maW5kT25lKFNFTEVDVE9SX01FTlUsIHRoaXMuX3BhcmVudCk7XG4gICAgdGhpcy5faW5OYXZiYXIgPSB0aGlzLl9kZXRlY3ROYXZiYXIoKTtcbiAgfSAvLyBHZXR0ZXJzXG5cblxuICBzdGF0aWMgZ2V0IERlZmF1bHQoKSB7XG4gICAgcmV0dXJuIERlZmF1bHQkOTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgRGVmYXVsdFR5cGUoKSB7XG4gICAgcmV0dXJuIERlZmF1bHRUeXBlJDk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IE5BTUUoKSB7XG4gICAgcmV0dXJuIE5BTUUkYTtcbiAgfSAvLyBQdWJsaWNcblxuXG4gIHRvZ2dsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNTaG93bigpID8gdGhpcy5oaWRlKCkgOiB0aGlzLnNob3coKTtcbiAgfVxuXG4gIHNob3coKSB7XG4gICAgaWYgKGlzRGlzYWJsZWQodGhpcy5fZWxlbWVudCkgfHwgdGhpcy5faXNTaG93bigpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVsYXRlZFRhcmdldCA9IHtcbiAgICAgIHJlbGF0ZWRUYXJnZXQ6IHRoaXMuX2VsZW1lbnRcbiAgICB9O1xuICAgIGNvbnN0IHNob3dFdmVudCA9IEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIEVWRU5UX1NIT1ckNSwgcmVsYXRlZFRhcmdldCk7XG5cbiAgICBpZiAoc2hvd0V2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9jcmVhdGVQb3BwZXIoKTsgLy8gSWYgdGhpcyBpcyBhIHRvdWNoLWVuYWJsZWQgZGV2aWNlIHdlIGFkZCBleHRyYVxuICAgIC8vIGVtcHR5IG1vdXNlb3ZlciBsaXN0ZW5lcnMgdG8gdGhlIGJvZHkncyBpbW1lZGlhdGUgY2hpbGRyZW47XG4gICAgLy8gb25seSBuZWVkZWQgYmVjYXVzZSBvZiBicm9rZW4gZXZlbnQgZGVsZWdhdGlvbiBvbiBpT1NcbiAgICAvLyBodHRwczovL3d3dy5xdWlya3Ntb2RlLm9yZy9ibG9nL2FyY2hpdmVzLzIwMTQvMDIvbW91c2VfZXZlbnRfYnViLmh0bWxcblxuXG4gICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiAhdGhpcy5fcGFyZW50LmNsb3Nlc3QoU0VMRUNUT1JfTkFWQkFSX05BVikpIHtcbiAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBbXS5jb25jYXQoLi4uZG9jdW1lbnQuYm9keS5jaGlsZHJlbikpIHtcbiAgICAgICAgRXZlbnRIYW5kbGVyLm9uKGVsZW1lbnQsICdtb3VzZW92ZXInLCBub29wKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9lbGVtZW50LmZvY3VzKCk7XG5cbiAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIHRydWUpO1xuXG4gICAgdGhpcy5fbWVudS5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfU0hPVyQ2KTtcblxuICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX1NIT1ckNik7XG5cbiAgICBFdmVudEhhbmRsZXIudHJpZ2dlcih0aGlzLl9lbGVtZW50LCBFVkVOVF9TSE9XTiQ1LCByZWxhdGVkVGFyZ2V0KTtcbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgaWYgKGlzRGlzYWJsZWQodGhpcy5fZWxlbWVudCkgfHwgIXRoaXMuX2lzU2hvd24oKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHJlbGF0ZWRUYXJnZXQgPSB7XG4gICAgICByZWxhdGVkVGFyZ2V0OiB0aGlzLl9lbGVtZW50XG4gICAgfTtcblxuICAgIHRoaXMuX2NvbXBsZXRlSGlkZShyZWxhdGVkVGFyZ2V0KTtcbiAgfVxuXG4gIGRpc3Bvc2UoKSB7XG4gICAgaWYgKHRoaXMuX3BvcHBlcikge1xuICAgICAgdGhpcy5fcG9wcGVyLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICBzdXBlci5kaXNwb3NlKCk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgdGhpcy5faW5OYXZiYXIgPSB0aGlzLl9kZXRlY3ROYXZiYXIoKTtcblxuICAgIGlmICh0aGlzLl9wb3BwZXIpIHtcbiAgICAgIHRoaXMuX3BvcHBlci51cGRhdGUoKTtcbiAgICB9XG4gIH0gLy8gUHJpdmF0ZVxuXG5cbiAgX2NvbXBsZXRlSGlkZShyZWxhdGVkVGFyZ2V0KSB7XG4gICAgY29uc3QgaGlkZUV2ZW50ID0gRXZlbnRIYW5kbGVyLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgRVZFTlRfSElERSQ1LCByZWxhdGVkVGFyZ2V0KTtcblxuICAgIGlmIChoaWRlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gSWYgdGhpcyBpcyBhIHRvdWNoLWVuYWJsZWQgZGV2aWNlIHdlIHJlbW92ZSB0aGUgZXh0cmFcbiAgICAvLyBlbXB0eSBtb3VzZW92ZXIgbGlzdGVuZXJzIHdlIGFkZGVkIGZvciBpT1Mgc3VwcG9ydFxuXG5cbiAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgW10uY29uY2F0KC4uLmRvY3VtZW50LmJvZHkuY2hpbGRyZW4pKSB7XG4gICAgICAgIEV2ZW50SGFuZGxlci5vZmYoZWxlbWVudCwgJ21vdXNlb3ZlcicsIG5vb3ApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLl9wb3BwZXIpIHtcbiAgICAgIHRoaXMuX3BvcHBlci5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgdGhpcy5fbWVudS5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfU0hPVyQ2KTtcblxuICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX1NIT1ckNik7XG5cbiAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuXG4gICAgTWFuaXB1bGF0b3IucmVtb3ZlRGF0YUF0dHJpYnV0ZSh0aGlzLl9tZW51LCAncG9wcGVyJyk7XG4gICAgRXZlbnRIYW5kbGVyLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgRVZFTlRfSElEREVOJDUsIHJlbGF0ZWRUYXJnZXQpO1xuICB9XG5cbiAgX2dldENvbmZpZyhjb25maWcpIHtcbiAgICBjb25maWcgPSBzdXBlci5fZ2V0Q29uZmlnKGNvbmZpZyk7XG5cbiAgICBpZiAodHlwZW9mIGNvbmZpZy5yZWZlcmVuY2UgPT09ICdvYmplY3QnICYmICFpc0VsZW1lbnQoY29uZmlnLnJlZmVyZW5jZSkgJiYgdHlwZW9mIGNvbmZpZy5yZWZlcmVuY2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBQb3BwZXIgdmlydHVhbCBlbGVtZW50cyByZXF1aXJlIGEgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IG1ldGhvZFxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHtOQU1FJGEudG9VcHBlckNhc2UoKX06IE9wdGlvbiBcInJlZmVyZW5jZVwiIHByb3ZpZGVkIHR5cGUgXCJvYmplY3RcIiB3aXRob3V0IGEgcmVxdWlyZWQgXCJnZXRCb3VuZGluZ0NsaWVudFJlY3RcIiBtZXRob2QuYCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfVxuXG4gIF9jcmVhdGVQb3BwZXIoKSB7XG4gICAgaWYgKHR5cGVvZiBQb3BwZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb290c3RyYXBcXCdzIGRyb3Bkb3ducyByZXF1aXJlIFBvcHBlciAoaHR0cHM6Ly9wb3BwZXIuanMub3JnKScpO1xuICAgIH1cblxuICAgIGxldCByZWZlcmVuY2VFbGVtZW50ID0gdGhpcy5fZWxlbWVudDtcblxuICAgIGlmICh0aGlzLl9jb25maWcucmVmZXJlbmNlID09PSAncGFyZW50Jykge1xuICAgICAgcmVmZXJlbmNlRWxlbWVudCA9IHRoaXMuX3BhcmVudDtcbiAgICB9IGVsc2UgaWYgKGlzRWxlbWVudCh0aGlzLl9jb25maWcucmVmZXJlbmNlKSkge1xuICAgICAgcmVmZXJlbmNlRWxlbWVudCA9IGdldEVsZW1lbnQodGhpcy5fY29uZmlnLnJlZmVyZW5jZSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5fY29uZmlnLnJlZmVyZW5jZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlZmVyZW5jZUVsZW1lbnQgPSB0aGlzLl9jb25maWcucmVmZXJlbmNlO1xuICAgIH1cblxuICAgIGNvbnN0IHBvcHBlckNvbmZpZyA9IHRoaXMuX2dldFBvcHBlckNvbmZpZygpO1xuXG4gICAgdGhpcy5fcG9wcGVyID0gUG9wcGVyLmNyZWF0ZVBvcHBlcihyZWZlcmVuY2VFbGVtZW50LCB0aGlzLl9tZW51LCBwb3BwZXJDb25maWcpO1xuICB9XG5cbiAgX2lzU2hvd24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX21lbnUuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfU0hPVyQ2KTtcbiAgfVxuXG4gIF9nZXRQbGFjZW1lbnQoKSB7XG4gICAgY29uc3QgcGFyZW50RHJvcGRvd24gPSB0aGlzLl9wYXJlbnQ7XG5cbiAgICBpZiAocGFyZW50RHJvcGRvd24uY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfRFJPUEVORCkpIHtcbiAgICAgIHJldHVybiBQTEFDRU1FTlRfUklHSFQ7XG4gICAgfVxuXG4gICAgaWYgKHBhcmVudERyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucyhDTEFTU19OQU1FX0RST1BTVEFSVCkpIHtcbiAgICAgIHJldHVybiBQTEFDRU1FTlRfTEVGVDtcbiAgICB9XG5cbiAgICBpZiAocGFyZW50RHJvcGRvd24uY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfRFJPUFVQX0NFTlRFUikpIHtcbiAgICAgIHJldHVybiBQTEFDRU1FTlRfVE9QQ0VOVEVSO1xuICAgIH1cblxuICAgIGlmIChwYXJlbnREcm9wZG93bi5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9EUk9QRE9XTl9DRU5URVIpKSB7XG4gICAgICByZXR1cm4gUExBQ0VNRU5UX0JPVFRPTUNFTlRFUjtcbiAgICB9IC8vIFdlIG5lZWQgdG8gdHJpbSB0aGUgdmFsdWUgYmVjYXVzZSBjdXN0b20gcHJvcGVydGllcyBjYW4gYWxzbyBpbmNsdWRlIHNwYWNlc1xuXG5cbiAgICBjb25zdCBpc0VuZCA9IGdldENvbXB1dGVkU3R5bGUodGhpcy5fbWVudSkuZ2V0UHJvcGVydHlWYWx1ZSgnLS1icy1wb3NpdGlvbicpLnRyaW0oKSA9PT0gJ2VuZCc7XG5cbiAgICBpZiAocGFyZW50RHJvcGRvd24uY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfRFJPUFVQKSkge1xuICAgICAgcmV0dXJuIGlzRW5kID8gUExBQ0VNRU5UX1RPUEVORCA6IFBMQUNFTUVOVF9UT1A7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlzRW5kID8gUExBQ0VNRU5UX0JPVFRPTUVORCA6IFBMQUNFTUVOVF9CT1RUT007XG4gIH1cblxuICBfZGV0ZWN0TmF2YmFyKCkge1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50LmNsb3Nlc3QoU0VMRUNUT1JfTkFWQkFSKSAhPT0gbnVsbDtcbiAgfVxuXG4gIF9nZXRPZmZzZXQoKSB7XG4gICAgY29uc3Qge1xuICAgICAgb2Zmc2V0XG4gICAgfSA9IHRoaXMuX2NvbmZpZztcblxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIG9mZnNldC5zcGxpdCgnLCcpLm1hcCh2YWx1ZSA9PiBOdW1iZXIucGFyc2VJbnQodmFsdWUsIDEwKSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvZmZzZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBwb3BwZXJEYXRhID0+IG9mZnNldChwb3BwZXJEYXRhLCB0aGlzLl9lbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2Zmc2V0O1xuICB9XG5cbiAgX2dldFBvcHBlckNvbmZpZygpIHtcbiAgICBjb25zdCBkZWZhdWx0QnNQb3BwZXJDb25maWcgPSB7XG4gICAgICBwbGFjZW1lbnQ6IHRoaXMuX2dldFBsYWNlbWVudCgpLFxuICAgICAgbW9kaWZpZXJzOiBbe1xuICAgICAgICBuYW1lOiAncHJldmVudE92ZXJmbG93JyxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIGJvdW5kYXJ5OiB0aGlzLl9jb25maWcuYm91bmRhcnlcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBuYW1lOiAnb2Zmc2V0JyxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIG9mZnNldDogdGhpcy5fZ2V0T2Zmc2V0KClcbiAgICAgICAgfVxuICAgICAgfV1cbiAgICB9OyAvLyBEaXNhYmxlIFBvcHBlciBpZiB3ZSBoYXZlIGEgc3RhdGljIGRpc3BsYXkgb3IgRHJvcGRvd24gaXMgaW4gTmF2YmFyXG5cbiAgICBpZiAodGhpcy5faW5OYXZiYXIgfHwgdGhpcy5fY29uZmlnLmRpc3BsYXkgPT09ICdzdGF0aWMnKSB7XG4gICAgICBNYW5pcHVsYXRvci5zZXREYXRhQXR0cmlidXRlKHRoaXMuX21lbnUsICdwb3BwZXInLCAnc3RhdGljJyk7IC8vIHRvZG86djYgcmVtb3ZlXG5cbiAgICAgIGRlZmF1bHRCc1BvcHBlckNvbmZpZy5tb2RpZmllcnMgPSBbe1xuICAgICAgICBuYW1lOiAnYXBwbHlTdHlsZXMnLFxuICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgfV07XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgLi4uZGVmYXVsdEJzUG9wcGVyQ29uZmlnLFxuICAgICAgLi4uKHR5cGVvZiB0aGlzLl9jb25maWcucG9wcGVyQ29uZmlnID09PSAnZnVuY3Rpb24nID8gdGhpcy5fY29uZmlnLnBvcHBlckNvbmZpZyhkZWZhdWx0QnNQb3BwZXJDb25maWcpIDogdGhpcy5fY29uZmlnLnBvcHBlckNvbmZpZylcbiAgICB9O1xuICB9XG5cbiAgX3NlbGVjdE1lbnVJdGVtKHtcbiAgICBrZXksXG4gICAgdGFyZ2V0XG4gIH0pIHtcbiAgICBjb25zdCBpdGVtcyA9IFNlbGVjdG9yRW5naW5lLmZpbmQoU0VMRUNUT1JfVklTSUJMRV9JVEVNUywgdGhpcy5fbWVudSkuZmlsdGVyKGVsZW1lbnQgPT4gaXNWaXNpYmxlKGVsZW1lbnQpKTtcblxuICAgIGlmICghaXRlbXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBpZiB0YXJnZXQgaXNuJ3QgaW5jbHVkZWQgaW4gaXRlbXMgKGUuZy4gd2hlbiBleHBhbmRpbmcgdGhlIGRyb3Bkb3duKVxuICAgIC8vIGFsbG93IGN5Y2xpbmcgdG8gZ2V0IHRoZSBsYXN0IGl0ZW0gaW4gY2FzZSBrZXkgZXF1YWxzIEFSUk9XX1VQX0tFWVxuXG5cbiAgICBnZXROZXh0QWN0aXZlRWxlbWVudChpdGVtcywgdGFyZ2V0LCBrZXkgPT09IEFSUk9XX0RPV05fS0VZJDEsICFpdGVtcy5pbmNsdWRlcyh0YXJnZXQpKS5mb2N1cygpO1xuICB9IC8vIFN0YXRpY1xuXG5cbiAgc3RhdGljIGpRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBEcm9wZG93bi5nZXRPckNyZWF0ZUluc3RhbmNlKHRoaXMsIGNvbmZpZyk7XG5cbiAgICAgIGlmICh0eXBlb2YgY29uZmlnICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgZGF0YVtjb25maWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBObyBtZXRob2QgbmFtZWQgXCIke2NvbmZpZ31cImApO1xuICAgICAgfVxuXG4gICAgICBkYXRhW2NvbmZpZ10oKTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyBjbGVhck1lbnVzKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmJ1dHRvbiA9PT0gUklHSFRfTU9VU0VfQlVUVE9OIHx8IGV2ZW50LnR5cGUgPT09ICdrZXl1cCcgJiYgZXZlbnQua2V5ICE9PSBUQUJfS0VZJDEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBvcGVuVG9nZ2xlcyA9IFNlbGVjdG9yRW5naW5lLmZpbmQoU0VMRUNUT1JfREFUQV9UT0dHTEVfU0hPV04pO1xuXG4gICAgZm9yIChjb25zdCB0b2dnbGUgb2Ygb3BlblRvZ2dsZXMpIHtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSBEcm9wZG93bi5nZXRJbnN0YW5jZSh0b2dnbGUpO1xuXG4gICAgICBpZiAoIWNvbnRleHQgfHwgY29udGV4dC5fY29uZmlnLmF1dG9DbG9zZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNvbXBvc2VkUGF0aCA9IGV2ZW50LmNvbXBvc2VkUGF0aCgpO1xuICAgICAgY29uc3QgaXNNZW51VGFyZ2V0ID0gY29tcG9zZWRQYXRoLmluY2x1ZGVzKGNvbnRleHQuX21lbnUpO1xuXG4gICAgICBpZiAoY29tcG9zZWRQYXRoLmluY2x1ZGVzKGNvbnRleHQuX2VsZW1lbnQpIHx8IGNvbnRleHQuX2NvbmZpZy5hdXRvQ2xvc2UgPT09ICdpbnNpZGUnICYmICFpc01lbnVUYXJnZXQgfHwgY29udGV4dC5fY29uZmlnLmF1dG9DbG9zZSA9PT0gJ291dHNpZGUnICYmIGlzTWVudVRhcmdldCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gLy8gVGFiIG5hdmlnYXRpb24gdGhyb3VnaCB0aGUgZHJvcGRvd24gbWVudSBvciBldmVudHMgZnJvbSBjb250YWluZWQgaW5wdXRzIHNob3VsZG4ndCBjbG9zZSB0aGUgbWVudVxuXG5cbiAgICAgIGlmIChjb250ZXh0Ll9tZW51LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgJiYgKGV2ZW50LnR5cGUgPT09ICdrZXl1cCcgJiYgZXZlbnQua2V5ID09PSBUQUJfS0VZJDEgfHwgL2lucHV0fHNlbGVjdHxvcHRpb258dGV4dGFyZWF8Zm9ybS9pLnRlc3QoZXZlbnQudGFyZ2V0LnRhZ05hbWUpKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVsYXRlZFRhcmdldCA9IHtcbiAgICAgICAgcmVsYXRlZFRhcmdldDogY29udGV4dC5fZWxlbWVudFxuICAgICAgfTtcblxuICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdjbGljaycpIHtcbiAgICAgICAgcmVsYXRlZFRhcmdldC5jbGlja0V2ZW50ID0gZXZlbnQ7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQuX2NvbXBsZXRlSGlkZShyZWxhdGVkVGFyZ2V0KTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZGF0YUFwaUtleWRvd25IYW5kbGVyKGV2ZW50KSB7XG4gICAgLy8gSWYgbm90IGFuIFVQIHwgRE9XTiB8IEVTQ0FQRSBrZXkgPT4gbm90IGEgZHJvcGRvd24gY29tbWFuZFxuICAgIC8vIElmIGlucHV0L3RleHRhcmVhICYmIGlmIGtleSBpcyBvdGhlciB0aGFuIEVTQ0FQRSA9PiBub3QgYSBkcm9wZG93biBjb21tYW5kXG4gICAgY29uc3QgaXNJbnB1dCA9IC9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZXZlbnQudGFyZ2V0LnRhZ05hbWUpO1xuICAgIGNvbnN0IGlzRXNjYXBlRXZlbnQgPSBldmVudC5rZXkgPT09IEVTQ0FQRV9LRVkkMjtcbiAgICBjb25zdCBpc1VwT3JEb3duRXZlbnQgPSBbQVJST1dfVVBfS0VZJDEsIEFSUk9XX0RPV05fS0VZJDFdLmluY2x1ZGVzKGV2ZW50LmtleSk7XG5cbiAgICBpZiAoIWlzVXBPckRvd25FdmVudCAmJiAhaXNFc2NhcGVFdmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpc0lucHV0ICYmICFpc0VzY2FwZUV2ZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gdG9kbzogdjYgcmV2ZXJ0ICMzNzAxMSAmIGNoYW5nZSBtYXJrdXAgaHR0cHM6Ly9nZXRib290c3RyYXAuY29tL2RvY3MvNS4yL2Zvcm1zL2lucHV0LWdyb3VwL1xuXG4gICAgY29uc3QgZ2V0VG9nZ2xlQnV0dG9uID0gdGhpcy5tYXRjaGVzKFNFTEVDVE9SX0RBVEFfVE9HR0xFJDMpID8gdGhpcyA6IFNlbGVjdG9yRW5naW5lLnByZXYodGhpcywgU0VMRUNUT1JfREFUQV9UT0dHTEUkMylbMF0gfHwgU2VsZWN0b3JFbmdpbmUubmV4dCh0aGlzLCBTRUxFQ1RPUl9EQVRBX1RPR0dMRSQzKVswXSB8fCBTZWxlY3RvckVuZ2luZS5maW5kT25lKFNFTEVDVE9SX0RBVEFfVE9HR0xFJDMsIGV2ZW50LmRlbGVnYXRlVGFyZ2V0LnBhcmVudE5vZGUpO1xuICAgIGNvbnN0IGluc3RhbmNlID0gRHJvcGRvd24uZ2V0T3JDcmVhdGVJbnN0YW5jZShnZXRUb2dnbGVCdXR0b24pO1xuXG4gICAgaWYgKGlzVXBPckRvd25FdmVudCkge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBpbnN0YW5jZS5zaG93KCk7XG5cbiAgICAgIGluc3RhbmNlLl9zZWxlY3RNZW51SXRlbShldmVudCk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaW5zdGFuY2UuX2lzU2hvd24oKSkge1xuICAgICAgLy8gZWxzZSBpcyBlc2NhcGUgYW5kIHdlIGNoZWNrIGlmIGl0IGlzIHNob3duXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGluc3RhbmNlLmhpZGUoKTtcbiAgICAgIGdldFRvZ2dsZUJ1dHRvbi5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG59XG4vKipcbiAqIERhdGEgQVBJIGltcGxlbWVudGF0aW9uXG4gKi9cblxuXG5FdmVudEhhbmRsZXIub24oZG9jdW1lbnQsIEVWRU5UX0tFWURPV05fREFUQV9BUEksIFNFTEVDVE9SX0RBVEFfVE9HR0xFJDMsIERyb3Bkb3duLmRhdGFBcGlLZXlkb3duSGFuZGxlcik7XG5FdmVudEhhbmRsZXIub24oZG9jdW1lbnQsIEVWRU5UX0tFWURPV05fREFUQV9BUEksIFNFTEVDVE9SX01FTlUsIERyb3Bkb3duLmRhdGFBcGlLZXlkb3duSGFuZGxlcik7XG5FdmVudEhhbmRsZXIub24oZG9jdW1lbnQsIEVWRU5UX0NMSUNLX0RBVEFfQVBJJDMsIERyb3Bkb3duLmNsZWFyTWVudXMpO1xuRXZlbnRIYW5kbGVyLm9uKGRvY3VtZW50LCBFVkVOVF9LRVlVUF9EQVRBX0FQSSwgRHJvcGRvd24uY2xlYXJNZW51cyk7XG5FdmVudEhhbmRsZXIub24oZG9jdW1lbnQsIEVWRU5UX0NMSUNLX0RBVEFfQVBJJDMsIFNFTEVDVE9SX0RBVEFfVE9HR0xFJDMsIGZ1bmN0aW9uIChldmVudCkge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICBEcm9wZG93bi5nZXRPckNyZWF0ZUluc3RhbmNlKHRoaXMpLnRvZ2dsZSgpO1xufSk7XG4vKipcbiAqIGpRdWVyeVxuICovXG5cbmRlZmluZUpRdWVyeVBsdWdpbihEcm9wZG93bik7XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjUuMi4zKTogdXRpbC9zY3JvbGxCYXIuanNcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuLyoqXG4gKiBDb25zdGFudHNcbiAqL1xuXG5jb25zdCBTRUxFQ1RPUl9GSVhFRF9DT05URU5UID0gJy5maXhlZC10b3AsIC5maXhlZC1ib3R0b20sIC5pcy1maXhlZCwgLnN0aWNreS10b3AnO1xuY29uc3QgU0VMRUNUT1JfU1RJQ0tZX0NPTlRFTlQgPSAnLnN0aWNreS10b3AnO1xuY29uc3QgUFJPUEVSVFlfUEFERElORyA9ICdwYWRkaW5nLXJpZ2h0JztcbmNvbnN0IFBST1BFUlRZX01BUkdJTiA9ICdtYXJnaW4tcmlnaHQnO1xuLyoqXG4gKiBDbGFzcyBkZWZpbml0aW9uXG4gKi9cblxuY2xhc3MgU2Nyb2xsQmFySGVscGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LmJvZHk7XG4gIH0gLy8gUHVibGljXG5cblxuICBnZXRXaWR0aCgpIHtcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93L2lubmVyV2lkdGgjdXNhZ2Vfbm90ZXNcbiAgICBjb25zdCBkb2N1bWVudFdpZHRoID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xuICAgIHJldHVybiBNYXRoLmFicyh3aW5kb3cuaW5uZXJXaWR0aCAtIGRvY3VtZW50V2lkdGgpO1xuICB9XG5cbiAgaGlkZSgpIHtcbiAgICBjb25zdCB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTtcblxuICAgIHRoaXMuX2Rpc2FibGVPdmVyRmxvdygpOyAvLyBnaXZlIHBhZGRpbmcgdG8gZWxlbWVudCB0byBiYWxhbmNlIHRoZSBoaWRkZW4gc2Nyb2xsYmFyIHdpZHRoXG5cblxuICAgIHRoaXMuX3NldEVsZW1lbnRBdHRyaWJ1dGVzKHRoaXMuX2VsZW1lbnQsIFBST1BFUlRZX1BBRERJTkcsIGNhbGN1bGF0ZWRWYWx1ZSA9PiBjYWxjdWxhdGVkVmFsdWUgKyB3aWR0aCk7IC8vIHRyaWNrOiBXZSBhZGp1c3QgcG9zaXRpdmUgcGFkZGluZ1JpZ2h0IGFuZCBuZWdhdGl2ZSBtYXJnaW5SaWdodCB0byBzdGlja3ktdG9wIGVsZW1lbnRzIHRvIGtlZXAgc2hvd2luZyBmdWxsd2lkdGhcblxuXG4gICAgdGhpcy5fc2V0RWxlbWVudEF0dHJpYnV0ZXMoU0VMRUNUT1JfRklYRURfQ09OVEVOVCwgUFJPUEVSVFlfUEFERElORywgY2FsY3VsYXRlZFZhbHVlID0+IGNhbGN1bGF0ZWRWYWx1ZSArIHdpZHRoKTtcblxuICAgIHRoaXMuX3NldEVsZW1lbnRBdHRyaWJ1dGVzKFNFTEVDVE9SX1NUSUNLWV9DT05URU5ULCBQUk9QRVJUWV9NQVJHSU4sIGNhbGN1bGF0ZWRWYWx1ZSA9PiBjYWxjdWxhdGVkVmFsdWUgLSB3aWR0aCk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLl9yZXNldEVsZW1lbnRBdHRyaWJ1dGVzKHRoaXMuX2VsZW1lbnQsICdvdmVyZmxvdycpO1xuXG4gICAgdGhpcy5fcmVzZXRFbGVtZW50QXR0cmlidXRlcyh0aGlzLl9lbGVtZW50LCBQUk9QRVJUWV9QQURESU5HKTtcblxuICAgIHRoaXMuX3Jlc2V0RWxlbWVudEF0dHJpYnV0ZXMoU0VMRUNUT1JfRklYRURfQ09OVEVOVCwgUFJPUEVSVFlfUEFERElORyk7XG5cbiAgICB0aGlzLl9yZXNldEVsZW1lbnRBdHRyaWJ1dGVzKFNFTEVDVE9SX1NUSUNLWV9DT05URU5ULCBQUk9QRVJUWV9NQVJHSU4pO1xuICB9XG5cbiAgaXNPdmVyZmxvd2luZygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRXaWR0aCgpID4gMDtcbiAgfSAvLyBQcml2YXRlXG5cblxuICBfZGlzYWJsZU92ZXJGbG93KCkge1xuICAgIHRoaXMuX3NhdmVJbml0aWFsQXR0cmlidXRlKHRoaXMuX2VsZW1lbnQsICdvdmVyZmxvdycpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICB9XG5cbiAgX3NldEVsZW1lbnRBdHRyaWJ1dGVzKHNlbGVjdG9yLCBzdHlsZVByb3BlcnR5LCBjYWxsYmFjaykge1xuICAgIGNvbnN0IHNjcm9sbGJhcldpZHRoID0gdGhpcy5nZXRXaWR0aCgpO1xuXG4gICAgY29uc3QgbWFuaXB1bGF0aW9uQ2FsbEJhY2sgPSBlbGVtZW50ID0+IHtcbiAgICAgIGlmIChlbGVtZW50ICE9PSB0aGlzLl9lbGVtZW50ICYmIHdpbmRvdy5pbm5lcldpZHRoID4gZWxlbWVudC5jbGllbnRXaWR0aCArIHNjcm9sbGJhcldpZHRoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fc2F2ZUluaXRpYWxBdHRyaWJ1dGUoZWxlbWVudCwgc3R5bGVQcm9wZXJ0eSk7XG5cbiAgICAgIGNvbnN0IGNhbGN1bGF0ZWRWYWx1ZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoc3R5bGVQcm9wZXJ0eSk7XG4gICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KHN0eWxlUHJvcGVydHksIGAke2NhbGxiYWNrKE51bWJlci5wYXJzZUZsb2F0KGNhbGN1bGF0ZWRWYWx1ZSkpfXB4YCk7XG4gICAgfTtcblxuICAgIHRoaXMuX2FwcGx5TWFuaXB1bGF0aW9uQ2FsbGJhY2soc2VsZWN0b3IsIG1hbmlwdWxhdGlvbkNhbGxCYWNrKTtcbiAgfVxuXG4gIF9zYXZlSW5pdGlhbEF0dHJpYnV0ZShlbGVtZW50LCBzdHlsZVByb3BlcnR5KSB7XG4gICAgY29uc3QgYWN0dWFsVmFsdWUgPSBlbGVtZW50LnN0eWxlLmdldFByb3BlcnR5VmFsdWUoc3R5bGVQcm9wZXJ0eSk7XG5cbiAgICBpZiAoYWN0dWFsVmFsdWUpIHtcbiAgICAgIE1hbmlwdWxhdG9yLnNldERhdGFBdHRyaWJ1dGUoZWxlbWVudCwgc3R5bGVQcm9wZXJ0eSwgYWN0dWFsVmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIF9yZXNldEVsZW1lbnRBdHRyaWJ1dGVzKHNlbGVjdG9yLCBzdHlsZVByb3BlcnR5KSB7XG4gICAgY29uc3QgbWFuaXB1bGF0aW9uQ2FsbEJhY2sgPSBlbGVtZW50ID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gTWFuaXB1bGF0b3IuZ2V0RGF0YUF0dHJpYnV0ZShlbGVtZW50LCBzdHlsZVByb3BlcnR5KTsgLy8gV2Ugb25seSB3YW50IHRvIHJlbW92ZSB0aGUgcHJvcGVydHkgaWYgdGhlIHZhbHVlIGlzIGBudWxsYDsgdGhlIHZhbHVlIGNhbiBhbHNvIGJlIHplcm9cblxuICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkoc3R5bGVQcm9wZXJ0eSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgTWFuaXB1bGF0b3IucmVtb3ZlRGF0YUF0dHJpYnV0ZShlbGVtZW50LCBzdHlsZVByb3BlcnR5KTtcbiAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoc3R5bGVQcm9wZXJ0eSwgdmFsdWUpO1xuICAgIH07XG5cbiAgICB0aGlzLl9hcHBseU1hbmlwdWxhdGlvbkNhbGxiYWNrKHNlbGVjdG9yLCBtYW5pcHVsYXRpb25DYWxsQmFjayk7XG4gIH1cblxuICBfYXBwbHlNYW5pcHVsYXRpb25DYWxsYmFjayhzZWxlY3RvciwgY2FsbEJhY2spIHtcbiAgICBpZiAoaXNFbGVtZW50KHNlbGVjdG9yKSkge1xuICAgICAgY2FsbEJhY2soc2VsZWN0b3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAoY29uc3Qgc2VsIG9mIFNlbGVjdG9yRW5naW5lLmZpbmQoc2VsZWN0b3IsIHRoaXMuX2VsZW1lbnQpKSB7XG4gICAgICBjYWxsQmFjayhzZWwpO1xuICAgIH1cbiAgfVxuXG59XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjUuMi4zKTogdXRpbC9iYWNrZHJvcC5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG4vKipcbiAqIENvbnN0YW50c1xuICovXG5cbmNvbnN0IE5BTUUkOSA9ICdiYWNrZHJvcCc7XG5jb25zdCBDTEFTU19OQU1FX0ZBREUkNCA9ICdmYWRlJztcbmNvbnN0IENMQVNTX05BTUVfU0hPVyQ1ID0gJ3Nob3cnO1xuY29uc3QgRVZFTlRfTU9VU0VET1dOID0gYG1vdXNlZG93bi5icy4ke05BTUUkOX1gO1xuY29uc3QgRGVmYXVsdCQ4ID0ge1xuICBjbGFzc05hbWU6ICdtb2RhbC1iYWNrZHJvcCcsXG4gIGNsaWNrQ2FsbGJhY2s6IG51bGwsXG4gIGlzQW5pbWF0ZWQ6IGZhbHNlLFxuICBpc1Zpc2libGU6IHRydWUsXG4gIC8vIGlmIGZhbHNlLCB3ZSB1c2UgdGhlIGJhY2tkcm9wIGhlbHBlciB3aXRob3V0IGFkZGluZyBhbnkgZWxlbWVudCB0byB0aGUgZG9tXG4gIHJvb3RFbGVtZW50OiAnYm9keScgLy8gZ2l2ZSB0aGUgY2hvaWNlIHRvIHBsYWNlIGJhY2tkcm9wIHVuZGVyIGRpZmZlcmVudCBlbGVtZW50c1xuXG59O1xuY29uc3QgRGVmYXVsdFR5cGUkOCA9IHtcbiAgY2xhc3NOYW1lOiAnc3RyaW5nJyxcbiAgY2xpY2tDYWxsYmFjazogJyhmdW5jdGlvbnxudWxsKScsXG4gIGlzQW5pbWF0ZWQ6ICdib29sZWFuJyxcbiAgaXNWaXNpYmxlOiAnYm9vbGVhbicsXG4gIHJvb3RFbGVtZW50OiAnKGVsZW1lbnR8c3RyaW5nKSdcbn07XG4vKipcbiAqIENsYXNzIGRlZmluaXRpb25cbiAqL1xuXG5jbGFzcyBCYWNrZHJvcCBleHRlbmRzIENvbmZpZyB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fY29uZmlnID0gdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgdGhpcy5faXNBcHBlbmRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICB9IC8vIEdldHRlcnNcblxuXG4gIHN0YXRpYyBnZXQgRGVmYXVsdCgpIHtcbiAgICByZXR1cm4gRGVmYXVsdCQ4O1xuICB9XG5cbiAgc3RhdGljIGdldCBEZWZhdWx0VHlwZSgpIHtcbiAgICByZXR1cm4gRGVmYXVsdFR5cGUkODtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgTkFNRSgpIHtcbiAgICByZXR1cm4gTkFNRSQ5O1xuICB9IC8vIFB1YmxpY1xuXG5cbiAgc2hvdyhjYWxsYmFjaykge1xuICAgIGlmICghdGhpcy5fY29uZmlnLmlzVmlzaWJsZSkge1xuICAgICAgZXhlY3V0ZShjYWxsYmFjayk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fYXBwZW5kKCk7XG5cbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fZ2V0RWxlbWVudCgpO1xuXG4gICAgaWYgKHRoaXMuX2NvbmZpZy5pc0FuaW1hdGVkKSB7XG4gICAgICByZWZsb3coZWxlbWVudCk7XG4gICAgfVxuXG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfU0hPVyQ1KTtcblxuICAgIHRoaXMuX2VtdWxhdGVBbmltYXRpb24oKCkgPT4ge1xuICAgICAgZXhlY3V0ZShjYWxsYmFjayk7XG4gICAgfSk7XG4gIH1cblxuICBoaWRlKGNhbGxiYWNrKSB7XG4gICAgaWYgKCF0aGlzLl9jb25maWcuaXNWaXNpYmxlKSB7XG4gICAgICBleGVjdXRlKGNhbGxiYWNrKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9nZXRFbGVtZW50KCkuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX1NIT1ckNSk7XG5cbiAgICB0aGlzLl9lbXVsYXRlQW5pbWF0aW9uKCgpID0+IHtcbiAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgZXhlY3V0ZShjYWxsYmFjayk7XG4gICAgfSk7XG4gIH1cblxuICBkaXNwb3NlKCkge1xuICAgIGlmICghdGhpcy5faXNBcHBlbmRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIEV2ZW50SGFuZGxlci5vZmYodGhpcy5fZWxlbWVudCwgRVZFTlRfTU9VU0VET1dOKTtcblxuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG5cbiAgICB0aGlzLl9pc0FwcGVuZGVkID0gZmFsc2U7XG4gIH0gLy8gUHJpdmF0ZVxuXG5cbiAgX2dldEVsZW1lbnQoKSB7XG4gICAgaWYgKCF0aGlzLl9lbGVtZW50KSB7XG4gICAgICBjb25zdCBiYWNrZHJvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgYmFja2Ryb3AuY2xhc3NOYW1lID0gdGhpcy5fY29uZmlnLmNsYXNzTmFtZTtcblxuICAgICAgaWYgKHRoaXMuX2NvbmZpZy5pc0FuaW1hdGVkKSB7XG4gICAgICAgIGJhY2tkcm9wLmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9GQURFJDQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9lbGVtZW50ID0gYmFja2Ryb3A7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cblxuICBfY29uZmlnQWZ0ZXJNZXJnZShjb25maWcpIHtcbiAgICAvLyB1c2UgZ2V0RWxlbWVudCgpIHdpdGggdGhlIGRlZmF1bHQgXCJib2R5XCIgdG8gZ2V0IGEgZnJlc2ggRWxlbWVudCBvbiBlYWNoIGluc3RhbnRpYXRpb25cbiAgICBjb25maWcucm9vdEVsZW1lbnQgPSBnZXRFbGVtZW50KGNvbmZpZy5yb290RWxlbWVudCk7XG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfVxuXG4gIF9hcHBlbmQoKSB7XG4gICAgaWYgKHRoaXMuX2lzQXBwZW5kZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fZ2V0RWxlbWVudCgpO1xuXG4gICAgdGhpcy5fY29uZmlnLnJvb3RFbGVtZW50LmFwcGVuZChlbGVtZW50KTtcblxuICAgIEV2ZW50SGFuZGxlci5vbihlbGVtZW50LCBFVkVOVF9NT1VTRURPV04sICgpID0+IHtcbiAgICAgIGV4ZWN1dGUodGhpcy5fY29uZmlnLmNsaWNrQ2FsbGJhY2spO1xuICAgIH0pO1xuICAgIHRoaXMuX2lzQXBwZW5kZWQgPSB0cnVlO1xuICB9XG5cbiAgX2VtdWxhdGVBbmltYXRpb24oY2FsbGJhY2spIHtcbiAgICBleGVjdXRlQWZ0ZXJUcmFuc2l0aW9uKGNhbGxiYWNrLCB0aGlzLl9nZXRFbGVtZW50KCksIHRoaXMuX2NvbmZpZy5pc0FuaW1hdGVkKTtcbiAgfVxuXG59XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjUuMi4zKTogdXRpbC9mb2N1c3RyYXAuanNcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuLyoqXG4gKiBDb25zdGFudHNcbiAqL1xuXG5jb25zdCBOQU1FJDggPSAnZm9jdXN0cmFwJztcbmNvbnN0IERBVEFfS0VZJDUgPSAnYnMuZm9jdXN0cmFwJztcbmNvbnN0IEVWRU5UX0tFWSQ1ID0gYC4ke0RBVEFfS0VZJDV9YDtcbmNvbnN0IEVWRU5UX0ZPQ1VTSU4kMiA9IGBmb2N1c2luJHtFVkVOVF9LRVkkNX1gO1xuY29uc3QgRVZFTlRfS0VZRE9XTl9UQUIgPSBga2V5ZG93bi50YWIke0VWRU5UX0tFWSQ1fWA7XG5jb25zdCBUQUJfS0VZID0gJ1RhYic7XG5jb25zdCBUQUJfTkFWX0ZPUldBUkQgPSAnZm9yd2FyZCc7XG5jb25zdCBUQUJfTkFWX0JBQ0tXQVJEID0gJ2JhY2t3YXJkJztcbmNvbnN0IERlZmF1bHQkNyA9IHtcbiAgYXV0b2ZvY3VzOiB0cnVlLFxuICB0cmFwRWxlbWVudDogbnVsbCAvLyBUaGUgZWxlbWVudCB0byB0cmFwIGZvY3VzIGluc2lkZSBvZlxuXG59O1xuY29uc3QgRGVmYXVsdFR5cGUkNyA9IHtcbiAgYXV0b2ZvY3VzOiAnYm9vbGVhbicsXG4gIHRyYXBFbGVtZW50OiAnZWxlbWVudCdcbn07XG4vKipcbiAqIENsYXNzIGRlZmluaXRpb25cbiAqL1xuXG5jbGFzcyBGb2N1c1RyYXAgZXh0ZW5kcyBDb25maWcge1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX2NvbmZpZyA9IHRoaXMuX2dldENvbmZpZyhjb25maWcpO1xuICAgIHRoaXMuX2lzQWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5fbGFzdFRhYk5hdkRpcmVjdGlvbiA9IG51bGw7XG4gIH0gLy8gR2V0dGVyc1xuXG5cbiAgc3RhdGljIGdldCBEZWZhdWx0KCkge1xuICAgIHJldHVybiBEZWZhdWx0JDc7XG4gIH1cblxuICBzdGF0aWMgZ2V0IERlZmF1bHRUeXBlKCkge1xuICAgIHJldHVybiBEZWZhdWx0VHlwZSQ3O1xuICB9XG5cbiAgc3RhdGljIGdldCBOQU1FKCkge1xuICAgIHJldHVybiBOQU1FJDg7XG4gIH0gLy8gUHVibGljXG5cblxuICBhY3RpdmF0ZSgpIHtcbiAgICBpZiAodGhpcy5faXNBY3RpdmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fY29uZmlnLmF1dG9mb2N1cykge1xuICAgICAgdGhpcy5fY29uZmlnLnRyYXBFbGVtZW50LmZvY3VzKCk7XG4gICAgfVxuXG4gICAgRXZlbnRIYW5kbGVyLm9mZihkb2N1bWVudCwgRVZFTlRfS0VZJDUpOyAvLyBndWFyZCBhZ2FpbnN0IGluZmluaXRlIGZvY3VzIGxvb3BcblxuICAgIEV2ZW50SGFuZGxlci5vbihkb2N1bWVudCwgRVZFTlRfRk9DVVNJTiQyLCBldmVudCA9PiB0aGlzLl9oYW5kbGVGb2N1c2luKGV2ZW50KSk7XG4gICAgRXZlbnRIYW5kbGVyLm9uKGRvY3VtZW50LCBFVkVOVF9LRVlET1dOX1RBQiwgZXZlbnQgPT4gdGhpcy5faGFuZGxlS2V5ZG93bihldmVudCkpO1xuICAgIHRoaXMuX2lzQWN0aXZlID0gdHJ1ZTtcbiAgfVxuXG4gIGRlYWN0aXZhdGUoKSB7XG4gICAgaWYgKCF0aGlzLl9pc0FjdGl2ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2lzQWN0aXZlID0gZmFsc2U7XG4gICAgRXZlbnRIYW5kbGVyLm9mZihkb2N1bWVudCwgRVZFTlRfS0VZJDUpO1xuICB9IC8vIFByaXZhdGVcblxuXG4gIF9oYW5kbGVGb2N1c2luKGV2ZW50KSB7XG4gICAgY29uc3Qge1xuICAgICAgdHJhcEVsZW1lbnRcbiAgICB9ID0gdGhpcy5fY29uZmlnO1xuXG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gZG9jdW1lbnQgfHwgZXZlbnQudGFyZ2V0ID09PSB0cmFwRWxlbWVudCB8fCB0cmFwRWxlbWVudC5jb250YWlucyhldmVudC50YXJnZXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZWxlbWVudHMgPSBTZWxlY3RvckVuZ2luZS5mb2N1c2FibGVDaGlsZHJlbih0cmFwRWxlbWVudCk7XG5cbiAgICBpZiAoZWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0cmFwRWxlbWVudC5mb2N1cygpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fbGFzdFRhYk5hdkRpcmVjdGlvbiA9PT0gVEFCX05BVl9CQUNLV0FSRCkge1xuICAgICAgZWxlbWVudHNbZWxlbWVudHMubGVuZ3RoIC0gMV0uZm9jdXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudHNbMF0uZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlS2V5ZG93bihldmVudCkge1xuICAgIGlmIChldmVudC5rZXkgIT09IFRBQl9LRVkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9sYXN0VGFiTmF2RGlyZWN0aW9uID0gZXZlbnQuc2hpZnRLZXkgPyBUQUJfTkFWX0JBQ0tXQVJEIDogVEFCX05BVl9GT1JXQVJEO1xuICB9XG5cbn1cblxuLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQm9vdHN0cmFwICh2NS4yLjMpOiBtb2RhbC5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG4vKipcbiAqIENvbnN0YW50c1xuICovXG5cbmNvbnN0IE5BTUUkNyA9ICdtb2RhbCc7XG5jb25zdCBEQVRBX0tFWSQ0ID0gJ2JzLm1vZGFsJztcbmNvbnN0IEVWRU5UX0tFWSQ0ID0gYC4ke0RBVEFfS0VZJDR9YDtcbmNvbnN0IERBVEFfQVBJX0tFWSQyID0gJy5kYXRhLWFwaSc7XG5jb25zdCBFU0NBUEVfS0VZJDEgPSAnRXNjYXBlJztcbmNvbnN0IEVWRU5UX0hJREUkNCA9IGBoaWRlJHtFVkVOVF9LRVkkNH1gO1xuY29uc3QgRVZFTlRfSElERV9QUkVWRU5URUQkMSA9IGBoaWRlUHJldmVudGVkJHtFVkVOVF9LRVkkNH1gO1xuY29uc3QgRVZFTlRfSElEREVOJDQgPSBgaGlkZGVuJHtFVkVOVF9LRVkkNH1gO1xuY29uc3QgRVZFTlRfU0hPVyQ0ID0gYHNob3cke0VWRU5UX0tFWSQ0fWA7XG5jb25zdCBFVkVOVF9TSE9XTiQ0ID0gYHNob3duJHtFVkVOVF9LRVkkNH1gO1xuY29uc3QgRVZFTlRfUkVTSVpFJDEgPSBgcmVzaXplJHtFVkVOVF9LRVkkNH1gO1xuY29uc3QgRVZFTlRfQ0xJQ0tfRElTTUlTUyA9IGBjbGljay5kaXNtaXNzJHtFVkVOVF9LRVkkNH1gO1xuY29uc3QgRVZFTlRfTU9VU0VET1dOX0RJU01JU1MgPSBgbW91c2Vkb3duLmRpc21pc3Mke0VWRU5UX0tFWSQ0fWA7XG5jb25zdCBFVkVOVF9LRVlET1dOX0RJU01JU1MkMSA9IGBrZXlkb3duLmRpc21pc3Mke0VWRU5UX0tFWSQ0fWA7XG5jb25zdCBFVkVOVF9DTElDS19EQVRBX0FQSSQyID0gYGNsaWNrJHtFVkVOVF9LRVkkNH0ke0RBVEFfQVBJX0tFWSQyfWA7XG5jb25zdCBDTEFTU19OQU1FX09QRU4gPSAnbW9kYWwtb3Blbic7XG5jb25zdCBDTEFTU19OQU1FX0ZBREUkMyA9ICdmYWRlJztcbmNvbnN0IENMQVNTX05BTUVfU0hPVyQ0ID0gJ3Nob3cnO1xuY29uc3QgQ0xBU1NfTkFNRV9TVEFUSUMgPSAnbW9kYWwtc3RhdGljJztcbmNvbnN0IE9QRU5fU0VMRUNUT1IkMSA9ICcubW9kYWwuc2hvdyc7XG5jb25zdCBTRUxFQ1RPUl9ESUFMT0cgPSAnLm1vZGFsLWRpYWxvZyc7XG5jb25zdCBTRUxFQ1RPUl9NT0RBTF9CT0RZID0gJy5tb2RhbC1ib2R5JztcbmNvbnN0IFNFTEVDVE9SX0RBVEFfVE9HR0xFJDIgPSAnW2RhdGEtYnMtdG9nZ2xlPVwibW9kYWxcIl0nO1xuY29uc3QgRGVmYXVsdCQ2ID0ge1xuICBiYWNrZHJvcDogdHJ1ZSxcbiAgZm9jdXM6IHRydWUsXG4gIGtleWJvYXJkOiB0cnVlXG59O1xuY29uc3QgRGVmYXVsdFR5cGUkNiA9IHtcbiAgYmFja2Ryb3A6ICcoYm9vbGVhbnxzdHJpbmcpJyxcbiAgZm9jdXM6ICdib29sZWFuJyxcbiAga2V5Ym9hcmQ6ICdib29sZWFuJ1xufTtcbi8qKlxuICogQ2xhc3MgZGVmaW5pdGlvblxuICovXG5cbmNsYXNzIE1vZGFsIGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGNvbmZpZykge1xuICAgIHN1cGVyKGVsZW1lbnQsIGNvbmZpZyk7XG4gICAgdGhpcy5fZGlhbG9nID0gU2VsZWN0b3JFbmdpbmUuZmluZE9uZShTRUxFQ1RPUl9ESUFMT0csIHRoaXMuX2VsZW1lbnQpO1xuICAgIHRoaXMuX2JhY2tkcm9wID0gdGhpcy5faW5pdGlhbGl6ZUJhY2tEcm9wKCk7XG4gICAgdGhpcy5fZm9jdXN0cmFwID0gdGhpcy5faW5pdGlhbGl6ZUZvY3VzVHJhcCgpO1xuICAgIHRoaXMuX2lzU2hvd24gPSBmYWxzZTtcbiAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9zY3JvbGxCYXIgPSBuZXcgU2Nyb2xsQmFySGVscGVyKCk7XG5cbiAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xuICB9IC8vIEdldHRlcnNcblxuXG4gIHN0YXRpYyBnZXQgRGVmYXVsdCgpIHtcbiAgICByZXR1cm4gRGVmYXVsdCQ2O1xuICB9XG5cbiAgc3RhdGljIGdldCBEZWZhdWx0VHlwZSgpIHtcbiAgICByZXR1cm4gRGVmYXVsdFR5cGUkNjtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgTkFNRSgpIHtcbiAgICByZXR1cm4gTkFNRSQ3O1xuICB9IC8vIFB1YmxpY1xuXG5cbiAgdG9nZ2xlKHJlbGF0ZWRUYXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy5faXNTaG93biA/IHRoaXMuaGlkZSgpIDogdGhpcy5zaG93KHJlbGF0ZWRUYXJnZXQpO1xuICB9XG5cbiAgc2hvdyhyZWxhdGVkVGFyZ2V0KSB7XG4gICAgaWYgKHRoaXMuX2lzU2hvd24gfHwgdGhpcy5faXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc2hvd0V2ZW50ID0gRXZlbnRIYW5kbGVyLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgRVZFTlRfU0hPVyQ0LCB7XG4gICAgICByZWxhdGVkVGFyZ2V0XG4gICAgfSk7XG5cbiAgICBpZiAoc2hvd0V2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9pc1Nob3duID0gdHJ1ZTtcbiAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSB0cnVlO1xuXG4gICAgdGhpcy5fc2Nyb2xsQmFyLmhpZGUoKTtcblxuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX09QRU4pO1xuXG4gICAgdGhpcy5fYWRqdXN0RGlhbG9nKCk7XG5cbiAgICB0aGlzLl9iYWNrZHJvcC5zaG93KCgpID0+IHRoaXMuX3Nob3dFbGVtZW50KHJlbGF0ZWRUYXJnZXQpKTtcbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgaWYgKCF0aGlzLl9pc1Nob3duIHx8IHRoaXMuX2lzVHJhbnNpdGlvbmluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGhpZGVFdmVudCA9IEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIEVWRU5UX0hJREUkNCk7XG5cbiAgICBpZiAoaGlkZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9pc1Nob3duID0gZmFsc2U7XG4gICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gdHJ1ZTtcblxuICAgIHRoaXMuX2ZvY3VzdHJhcC5kZWFjdGl2YXRlKCk7XG5cbiAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NfTkFNRV9TSE9XJDQpO1xuXG4gICAgdGhpcy5fcXVldWVDYWxsYmFjaygoKSA9PiB0aGlzLl9oaWRlTW9kYWwoKSwgdGhpcy5fZWxlbWVudCwgdGhpcy5faXNBbmltYXRlZCgpKTtcbiAgfVxuXG4gIGRpc3Bvc2UoKSB7XG4gICAgZm9yIChjb25zdCBodG1sRWxlbWVudCBvZiBbd2luZG93LCB0aGlzLl9kaWFsb2ddKSB7XG4gICAgICBFdmVudEhhbmRsZXIub2ZmKGh0bWxFbGVtZW50LCBFVkVOVF9LRVkkNCk7XG4gICAgfVxuXG4gICAgdGhpcy5fYmFja2Ryb3AuZGlzcG9zZSgpO1xuXG4gICAgdGhpcy5fZm9jdXN0cmFwLmRlYWN0aXZhdGUoKTtcblxuICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgfVxuXG4gIGhhbmRsZVVwZGF0ZSgpIHtcbiAgICB0aGlzLl9hZGp1c3REaWFsb2coKTtcbiAgfSAvLyBQcml2YXRlXG5cblxuICBfaW5pdGlhbGl6ZUJhY2tEcm9wKCkge1xuICAgIHJldHVybiBuZXcgQmFja2Ryb3Aoe1xuICAgICAgaXNWaXNpYmxlOiBCb29sZWFuKHRoaXMuX2NvbmZpZy5iYWNrZHJvcCksXG4gICAgICAvLyAnc3RhdGljJyBvcHRpb24gd2lsbCBiZSB0cmFuc2xhdGVkIHRvIHRydWUsIGFuZCBib29sZWFucyB3aWxsIGtlZXAgdGhlaXIgdmFsdWUsXG4gICAgICBpc0FuaW1hdGVkOiB0aGlzLl9pc0FuaW1hdGVkKClcbiAgICB9KTtcbiAgfVxuXG4gIF9pbml0aWFsaXplRm9jdXNUcmFwKCkge1xuICAgIHJldHVybiBuZXcgRm9jdXNUcmFwKHtcbiAgICAgIHRyYXBFbGVtZW50OiB0aGlzLl9lbGVtZW50XG4gICAgfSk7XG4gIH1cblxuICBfc2hvd0VsZW1lbnQocmVsYXRlZFRhcmdldCkge1xuICAgIC8vIHRyeSB0byBhcHBlbmQgZHluYW1pYyBtb2RhbFxuICAgIGlmICghZG9jdW1lbnQuYm9keS5jb250YWlucyh0aGlzLl9lbGVtZW50KSkge1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmQodGhpcy5fZWxlbWVudCk7XG4gICAgfVxuXG4gICAgdGhpcy5fZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWhpZGRlbicpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbW9kYWwnLCB0cnVlKTtcblxuICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2RpYWxvZycpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5zY3JvbGxUb3AgPSAwO1xuICAgIGNvbnN0IG1vZGFsQm9keSA9IFNlbGVjdG9yRW5naW5lLmZpbmRPbmUoU0VMRUNUT1JfTU9EQUxfQk9EWSwgdGhpcy5fZGlhbG9nKTtcblxuICAgIGlmIChtb2RhbEJvZHkpIHtcbiAgICAgIG1vZGFsQm9keS5zY3JvbGxUb3AgPSAwO1xuICAgIH1cblxuICAgIHJlZmxvdyh0aGlzLl9lbGVtZW50KTtcblxuICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX1NIT1ckNCk7XG5cbiAgICBjb25zdCB0cmFuc2l0aW9uQ29tcGxldGUgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5fY29uZmlnLmZvY3VzKSB7XG4gICAgICAgIHRoaXMuX2ZvY3VzdHJhcC5hY3RpdmF0ZSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICAgIEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIEVWRU5UX1NIT1dOJDQsIHtcbiAgICAgICAgcmVsYXRlZFRhcmdldFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuX3F1ZXVlQ2FsbGJhY2sodHJhbnNpdGlvbkNvbXBsZXRlLCB0aGlzLl9kaWFsb2csIHRoaXMuX2lzQW5pbWF0ZWQoKSk7XG4gIH1cblxuICBfYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgRXZlbnRIYW5kbGVyLm9uKHRoaXMuX2VsZW1lbnQsIEVWRU5UX0tFWURPV05fRElTTUlTUyQxLCBldmVudCA9PiB7XG4gICAgICBpZiAoZXZlbnQua2V5ICE9PSBFU0NBUEVfS0VZJDEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fY29uZmlnLmtleWJvYXJkKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3RyaWdnZXJCYWNrZHJvcFRyYW5zaXRpb24oKTtcbiAgICB9KTtcbiAgICBFdmVudEhhbmRsZXIub24od2luZG93LCBFVkVOVF9SRVNJWkUkMSwgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX2lzU2hvd24gJiYgIXRoaXMuX2lzVHJhbnNpdGlvbmluZykge1xuICAgICAgICB0aGlzLl9hZGp1c3REaWFsb2coKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBFdmVudEhhbmRsZXIub24odGhpcy5fZWxlbWVudCwgRVZFTlRfTU9VU0VET1dOX0RJU01JU1MsIGV2ZW50ID0+IHtcbiAgICAgIC8vIGEgYmFkIHRyaWNrIHRvIHNlZ3JlZ2F0ZSBjbGlja3MgdGhhdCBtYXkgc3RhcnQgaW5zaWRlIGRpYWxvZyBidXQgZW5kIG91dHNpZGUsIGFuZCBhdm9pZCBsaXN0ZW4gdG8gc2Nyb2xsYmFyIGNsaWNrc1xuICAgICAgRXZlbnRIYW5kbGVyLm9uZSh0aGlzLl9lbGVtZW50LCBFVkVOVF9DTElDS19ESVNNSVNTLCBldmVudDIgPT4ge1xuICAgICAgICBpZiAodGhpcy5fZWxlbWVudCAhPT0gZXZlbnQudGFyZ2V0IHx8IHRoaXMuX2VsZW1lbnQgIT09IGV2ZW50Mi50YXJnZXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY29uZmlnLmJhY2tkcm9wID09PSAnc3RhdGljJykge1xuICAgICAgICAgIHRoaXMuX3RyaWdnZXJCYWNrZHJvcFRyYW5zaXRpb24oKTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jb25maWcuYmFja2Ryb3ApIHtcbiAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBfaGlkZU1vZGFsKCkge1xuICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIHRydWUpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtbW9kYWwnKTtcblxuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdyb2xlJyk7XG5cbiAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcblxuICAgIHRoaXMuX2JhY2tkcm9wLmhpZGUoKCkgPT4ge1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfT1BFTik7XG5cbiAgICAgIHRoaXMuX3Jlc2V0QWRqdXN0bWVudHMoKTtcblxuICAgICAgdGhpcy5fc2Nyb2xsQmFyLnJlc2V0KCk7XG5cbiAgICAgIEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIEVWRU5UX0hJRERFTiQ0KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9pc0FuaW1hdGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhDTEFTU19OQU1FX0ZBREUkMyk7XG4gIH1cblxuICBfdHJpZ2dlckJhY2tkcm9wVHJhbnNpdGlvbigpIHtcbiAgICBjb25zdCBoaWRlRXZlbnQgPSBFdmVudEhhbmRsZXIudHJpZ2dlcih0aGlzLl9lbGVtZW50LCBFVkVOVF9ISURFX1BSRVZFTlRFRCQxKTtcblxuICAgIGlmIChoaWRlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGlzTW9kYWxPdmVyZmxvd2luZyA9IHRoaXMuX2VsZW1lbnQuc2Nyb2xsSGVpZ2h0ID4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICBjb25zdCBpbml0aWFsT3ZlcmZsb3dZID0gdGhpcy5fZWxlbWVudC5zdHlsZS5vdmVyZmxvd1k7IC8vIHJldHVybiBpZiB0aGUgZm9sbG93aW5nIGJhY2tncm91bmQgdHJhbnNpdGlvbiBoYXNuJ3QgeWV0IGNvbXBsZXRlZFxuXG4gICAgaWYgKGluaXRpYWxPdmVyZmxvd1kgPT09ICdoaWRkZW4nIHx8IHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfU1RBVElDKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghaXNNb2RhbE92ZXJmbG93aW5nKSB7XG4gICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLm92ZXJmbG93WSA9ICdoaWRkZW4nO1xuICAgIH1cblxuICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX1NUQVRJQyk7XG5cbiAgICB0aGlzLl9xdWV1ZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX1NUQVRJQyk7XG5cbiAgICAgIHRoaXMuX3F1ZXVlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLm92ZXJmbG93WSA9IGluaXRpYWxPdmVyZmxvd1k7XG4gICAgICB9LCB0aGlzLl9kaWFsb2cpO1xuICAgIH0sIHRoaXMuX2RpYWxvZyk7XG5cbiAgICB0aGlzLl9lbGVtZW50LmZvY3VzKCk7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBmb2xsb3dpbmcgbWV0aG9kcyBhcmUgdXNlZCB0byBoYW5kbGUgb3ZlcmZsb3dpbmcgbW9kYWxzXG4gICAqL1xuXG5cbiAgX2FkanVzdERpYWxvZygpIHtcbiAgICBjb25zdCBpc01vZGFsT3ZlcmZsb3dpbmcgPSB0aGlzLl9lbGVtZW50LnNjcm9sbEhlaWdodCA+IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XG5cbiAgICBjb25zdCBzY3JvbGxiYXJXaWR0aCA9IHRoaXMuX3Njcm9sbEJhci5nZXRXaWR0aCgpO1xuXG4gICAgY29uc3QgaXNCb2R5T3ZlcmZsb3dpbmcgPSBzY3JvbGxiYXJXaWR0aCA+IDA7XG5cbiAgICBpZiAoaXNCb2R5T3ZlcmZsb3dpbmcgJiYgIWlzTW9kYWxPdmVyZmxvd2luZykge1xuICAgICAgY29uc3QgcHJvcGVydHkgPSBpc1JUTCgpID8gJ3BhZGRpbmdMZWZ0JyA6ICdwYWRkaW5nUmlnaHQnO1xuICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZVtwcm9wZXJ0eV0gPSBgJHtzY3JvbGxiYXJXaWR0aH1weGA7XG4gICAgfVxuXG4gICAgaWYgKCFpc0JvZHlPdmVyZmxvd2luZyAmJiBpc01vZGFsT3ZlcmZsb3dpbmcpIHtcbiAgICAgIGNvbnN0IHByb3BlcnR5ID0gaXNSVEwoKSA/ICdwYWRkaW5nUmlnaHQnIDogJ3BhZGRpbmdMZWZ0JztcbiAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGVbcHJvcGVydHldID0gYCR7c2Nyb2xsYmFyV2lkdGh9cHhgO1xuICAgIH1cbiAgfVxuXG4gIF9yZXNldEFkanVzdG1lbnRzKCkge1xuICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ0xlZnQgPSAnJztcbiAgICB0aGlzLl9lbGVtZW50LnN0eWxlLnBhZGRpbmdSaWdodCA9ICcnO1xuICB9IC8vIFN0YXRpY1xuXG5cbiAgc3RhdGljIGpRdWVyeUludGVyZmFjZShjb25maWcsIHJlbGF0ZWRUYXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBNb2RhbC5nZXRPckNyZWF0ZUluc3RhbmNlKHRoaXMsIGNvbmZpZyk7XG5cbiAgICAgIGlmICh0eXBlb2YgY29uZmlnICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgZGF0YVtjb25maWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBObyBtZXRob2QgbmFtZWQgXCIke2NvbmZpZ31cImApO1xuICAgICAgfVxuXG4gICAgICBkYXRhW2NvbmZpZ10ocmVsYXRlZFRhcmdldCk7XG4gICAgfSk7XG4gIH1cblxufVxuLyoqXG4gKiBEYXRhIEFQSSBpbXBsZW1lbnRhdGlvblxuICovXG5cblxuRXZlbnRIYW5kbGVyLm9uKGRvY3VtZW50LCBFVkVOVF9DTElDS19EQVRBX0FQSSQyLCBTRUxFQ1RPUl9EQVRBX1RPR0dMRSQyLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgY29uc3QgdGFyZ2V0ID0gZ2V0RWxlbWVudEZyb21TZWxlY3Rvcih0aGlzKTtcblxuICBpZiAoWydBJywgJ0FSRUEnXS5pbmNsdWRlcyh0aGlzLnRhZ05hbWUpKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG4gIEV2ZW50SGFuZGxlci5vbmUodGFyZ2V0LCBFVkVOVF9TSE9XJDQsIHNob3dFdmVudCA9PiB7XG4gICAgaWYgKHNob3dFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAvLyBvbmx5IHJlZ2lzdGVyIGZvY3VzIHJlc3RvcmVyIGlmIG1vZGFsIHdpbGwgYWN0dWFsbHkgZ2V0IHNob3duXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgRXZlbnRIYW5kbGVyLm9uZSh0YXJnZXQsIEVWRU5UX0hJRERFTiQ0LCAoKSA9PiB7XG4gICAgICBpZiAoaXNWaXNpYmxlKHRoaXMpKSB7XG4gICAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7IC8vIGF2b2lkIGNvbmZsaWN0IHdoZW4gY2xpY2tpbmcgbW9kYWwgdG9nZ2xlciB3aGlsZSBhbm90aGVyIG9uZSBpcyBvcGVuXG5cbiAgY29uc3QgYWxyZWFkeU9wZW4gPSBTZWxlY3RvckVuZ2luZS5maW5kT25lKE9QRU5fU0VMRUNUT1IkMSk7XG5cbiAgaWYgKGFscmVhZHlPcGVuKSB7XG4gICAgTW9kYWwuZ2V0SW5zdGFuY2UoYWxyZWFkeU9wZW4pLmhpZGUoKTtcbiAgfVxuXG4gIGNvbnN0IGRhdGEgPSBNb2RhbC5nZXRPckNyZWF0ZUluc3RhbmNlKHRhcmdldCk7XG4gIGRhdGEudG9nZ2xlKHRoaXMpO1xufSk7XG5lbmFibGVEaXNtaXNzVHJpZ2dlcihNb2RhbCk7XG4vKipcbiAqIGpRdWVyeVxuICovXG5cbmRlZmluZUpRdWVyeVBsdWdpbihNb2RhbCk7XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjUuMi4zKTogb2ZmY2FudmFzLmpzXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbi8qKlxuICogQ29uc3RhbnRzXG4gKi9cblxuY29uc3QgTkFNRSQ2ID0gJ29mZmNhbnZhcyc7XG5jb25zdCBEQVRBX0tFWSQzID0gJ2JzLm9mZmNhbnZhcyc7XG5jb25zdCBFVkVOVF9LRVkkMyA9IGAuJHtEQVRBX0tFWSQzfWA7XG5jb25zdCBEQVRBX0FQSV9LRVkkMSA9ICcuZGF0YS1hcGknO1xuY29uc3QgRVZFTlRfTE9BRF9EQVRBX0FQSSQyID0gYGxvYWQke0VWRU5UX0tFWSQzfSR7REFUQV9BUElfS0VZJDF9YDtcbmNvbnN0IEVTQ0FQRV9LRVkgPSAnRXNjYXBlJztcbmNvbnN0IENMQVNTX05BTUVfU0hPVyQzID0gJ3Nob3cnO1xuY29uc3QgQ0xBU1NfTkFNRV9TSE9XSU5HJDEgPSAnc2hvd2luZyc7XG5jb25zdCBDTEFTU19OQU1FX0hJRElORyA9ICdoaWRpbmcnO1xuY29uc3QgQ0xBU1NfTkFNRV9CQUNLRFJPUCA9ICdvZmZjYW52YXMtYmFja2Ryb3AnO1xuY29uc3QgT1BFTl9TRUxFQ1RPUiA9ICcub2ZmY2FudmFzLnNob3cnO1xuY29uc3QgRVZFTlRfU0hPVyQzID0gYHNob3cke0VWRU5UX0tFWSQzfWA7XG5jb25zdCBFVkVOVF9TSE9XTiQzID0gYHNob3duJHtFVkVOVF9LRVkkM31gO1xuY29uc3QgRVZFTlRfSElERSQzID0gYGhpZGUke0VWRU5UX0tFWSQzfWA7XG5jb25zdCBFVkVOVF9ISURFX1BSRVZFTlRFRCA9IGBoaWRlUHJldmVudGVkJHtFVkVOVF9LRVkkM31gO1xuY29uc3QgRVZFTlRfSElEREVOJDMgPSBgaGlkZGVuJHtFVkVOVF9LRVkkM31gO1xuY29uc3QgRVZFTlRfUkVTSVpFID0gYHJlc2l6ZSR7RVZFTlRfS0VZJDN9YDtcbmNvbnN0IEVWRU5UX0NMSUNLX0RBVEFfQVBJJDEgPSBgY2xpY2ske0VWRU5UX0tFWSQzfSR7REFUQV9BUElfS0VZJDF9YDtcbmNvbnN0IEVWRU5UX0tFWURPV05fRElTTUlTUyA9IGBrZXlkb3duLmRpc21pc3Mke0VWRU5UX0tFWSQzfWA7XG5jb25zdCBTRUxFQ1RPUl9EQVRBX1RPR0dMRSQxID0gJ1tkYXRhLWJzLXRvZ2dsZT1cIm9mZmNhbnZhc1wiXSc7XG5jb25zdCBEZWZhdWx0JDUgPSB7XG4gIGJhY2tkcm9wOiB0cnVlLFxuICBrZXlib2FyZDogdHJ1ZSxcbiAgc2Nyb2xsOiBmYWxzZVxufTtcbmNvbnN0IERlZmF1bHRUeXBlJDUgPSB7XG4gIGJhY2tkcm9wOiAnKGJvb2xlYW58c3RyaW5nKScsXG4gIGtleWJvYXJkOiAnYm9vbGVhbicsXG4gIHNjcm9sbDogJ2Jvb2xlYW4nXG59O1xuLyoqXG4gKiBDbGFzcyBkZWZpbml0aW9uXG4gKi9cblxuY2xhc3MgT2ZmY2FudmFzIGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGNvbmZpZykge1xuICAgIHN1cGVyKGVsZW1lbnQsIGNvbmZpZyk7XG4gICAgdGhpcy5faXNTaG93biA9IGZhbHNlO1xuICAgIHRoaXMuX2JhY2tkcm9wID0gdGhpcy5faW5pdGlhbGl6ZUJhY2tEcm9wKCk7XG4gICAgdGhpcy5fZm9jdXN0cmFwID0gdGhpcy5faW5pdGlhbGl6ZUZvY3VzVHJhcCgpO1xuXG4gICAgdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfSAvLyBHZXR0ZXJzXG5cblxuICBzdGF0aWMgZ2V0IERlZmF1bHQoKSB7XG4gICAgcmV0dXJuIERlZmF1bHQkNTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgRGVmYXVsdFR5cGUoKSB7XG4gICAgcmV0dXJuIERlZmF1bHRUeXBlJDU7XG4gIH1cblxuICBzdGF0aWMgZ2V0IE5BTUUoKSB7XG4gICAgcmV0dXJuIE5BTUUkNjtcbiAgfSAvLyBQdWJsaWNcblxuXG4gIHRvZ2dsZShyZWxhdGVkVGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzU2hvd24gPyB0aGlzLmhpZGUoKSA6IHRoaXMuc2hvdyhyZWxhdGVkVGFyZ2V0KTtcbiAgfVxuXG4gIHNob3cocmVsYXRlZFRhcmdldCkge1xuICAgIGlmICh0aGlzLl9pc1Nob3duKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc2hvd0V2ZW50ID0gRXZlbnRIYW5kbGVyLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgRVZFTlRfU0hPVyQzLCB7XG4gICAgICByZWxhdGVkVGFyZ2V0XG4gICAgfSk7XG5cbiAgICBpZiAoc2hvd0V2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9pc1Nob3duID0gdHJ1ZTtcblxuICAgIHRoaXMuX2JhY2tkcm9wLnNob3coKTtcblxuICAgIGlmICghdGhpcy5fY29uZmlnLnNjcm9sbCkge1xuICAgICAgbmV3IFNjcm9sbEJhckhlbHBlcigpLmhpZGUoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1tb2RhbCcsIHRydWUpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnZGlhbG9nJyk7XG5cbiAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9TSE9XSU5HJDEpO1xuXG4gICAgY29uc3QgY29tcGxldGVDYWxsQmFjayA9ICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5fY29uZmlnLnNjcm9sbCB8fCB0aGlzLl9jb25maWcuYmFja2Ryb3ApIHtcbiAgICAgICAgdGhpcy5fZm9jdXN0cmFwLmFjdGl2YXRlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX1NIT1ckMyk7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX1NIT1dJTkckMSk7XG5cbiAgICAgIEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIEVWRU5UX1NIT1dOJDMsIHtcbiAgICAgICAgcmVsYXRlZFRhcmdldFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuX3F1ZXVlQ2FsbGJhY2soY29tcGxldGVDYWxsQmFjaywgdGhpcy5fZWxlbWVudCwgdHJ1ZSk7XG4gIH1cblxuICBoaWRlKCkge1xuICAgIGlmICghdGhpcy5faXNTaG93bikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGhpZGVFdmVudCA9IEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIEVWRU5UX0hJREUkMyk7XG5cbiAgICBpZiAoaGlkZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9mb2N1c3RyYXAuZGVhY3RpdmF0ZSgpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5ibHVyKCk7XG5cbiAgICB0aGlzLl9pc1Nob3duID0gZmFsc2U7XG5cbiAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9ISURJTkcpO1xuXG4gICAgdGhpcy5fYmFja2Ryb3AuaGlkZSgpO1xuXG4gICAgY29uc3QgY29tcGxldGVDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX1NIT1ckMywgQ0xBU1NfTkFNRV9ISURJTkcpO1xuXG4gICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1tb2RhbCcpO1xuXG4gICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgncm9sZScpO1xuXG4gICAgICBpZiAoIXRoaXMuX2NvbmZpZy5zY3JvbGwpIHtcbiAgICAgICAgbmV3IFNjcm9sbEJhckhlbHBlcigpLnJlc2V0KCk7XG4gICAgICB9XG5cbiAgICAgIEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIEVWRU5UX0hJRERFTiQzKTtcbiAgICB9O1xuXG4gICAgdGhpcy5fcXVldWVDYWxsYmFjayhjb21wbGV0ZUNhbGxiYWNrLCB0aGlzLl9lbGVtZW50LCB0cnVlKTtcbiAgfVxuXG4gIGRpc3Bvc2UoKSB7XG4gICAgdGhpcy5fYmFja2Ryb3AuZGlzcG9zZSgpO1xuXG4gICAgdGhpcy5fZm9jdXN0cmFwLmRlYWN0aXZhdGUoKTtcblxuICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgfSAvLyBQcml2YXRlXG5cblxuICBfaW5pdGlhbGl6ZUJhY2tEcm9wKCkge1xuICAgIGNvbnN0IGNsaWNrQ2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5fY29uZmlnLmJhY2tkcm9wID09PSAnc3RhdGljJykge1xuICAgICAgICBFdmVudEhhbmRsZXIudHJpZ2dlcih0aGlzLl9lbGVtZW50LCBFVkVOVF9ISURFX1BSRVZFTlRFRCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfTsgLy8gJ3N0YXRpYycgb3B0aW9uIHdpbGwgYmUgdHJhbnNsYXRlZCB0byB0cnVlLCBhbmQgYm9vbGVhbnMgd2lsbCBrZWVwIHRoZWlyIHZhbHVlXG5cblxuICAgIGNvbnN0IGlzVmlzaWJsZSA9IEJvb2xlYW4odGhpcy5fY29uZmlnLmJhY2tkcm9wKTtcbiAgICByZXR1cm4gbmV3IEJhY2tkcm9wKHtcbiAgICAgIGNsYXNzTmFtZTogQ0xBU1NfTkFNRV9CQUNLRFJPUCxcbiAgICAgIGlzVmlzaWJsZSxcbiAgICAgIGlzQW5pbWF0ZWQ6IHRydWUsXG4gICAgICByb290RWxlbWVudDogdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlLFxuICAgICAgY2xpY2tDYWxsYmFjazogaXNWaXNpYmxlID8gY2xpY2tDYWxsYmFjayA6IG51bGxcbiAgICB9KTtcbiAgfVxuXG4gIF9pbml0aWFsaXplRm9jdXNUcmFwKCkge1xuICAgIHJldHVybiBuZXcgRm9jdXNUcmFwKHtcbiAgICAgIHRyYXBFbGVtZW50OiB0aGlzLl9lbGVtZW50XG4gICAgfSk7XG4gIH1cblxuICBfYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgRXZlbnRIYW5kbGVyLm9uKHRoaXMuX2VsZW1lbnQsIEVWRU5UX0tFWURPV05fRElTTUlTUywgZXZlbnQgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSAhPT0gRVNDQVBFX0tFWSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5fY29uZmlnLmtleWJvYXJkKSB7XG4gICAgICAgIEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIEVWRU5UX0hJREVfUFJFVkVOVEVEKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmhpZGUoKTtcbiAgICB9KTtcbiAgfSAvLyBTdGF0aWNcblxuXG4gIHN0YXRpYyBqUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBkYXRhID0gT2ZmY2FudmFzLmdldE9yQ3JlYXRlSW5zdGFuY2UodGhpcywgY29uZmlnKTtcblxuICAgICAgaWYgKHR5cGVvZiBjb25maWcgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGRhdGFbY29uZmlnXSA9PT0gdW5kZWZpbmVkIHx8IGNvbmZpZy5zdGFydHNXaXRoKCdfJykgfHwgY29uZmlnID09PSAnY29uc3RydWN0b3InKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYE5vIG1ldGhvZCBuYW1lZCBcIiR7Y29uZmlnfVwiYCk7XG4gICAgICB9XG5cbiAgICAgIGRhdGFbY29uZmlnXSh0aGlzKTtcbiAgICB9KTtcbiAgfVxuXG59XG4vKipcbiAqIERhdGEgQVBJIGltcGxlbWVudGF0aW9uXG4gKi9cblxuXG5FdmVudEhhbmRsZXIub24oZG9jdW1lbnQsIEVWRU5UX0NMSUNLX0RBVEFfQVBJJDEsIFNFTEVDVE9SX0RBVEFfVE9HR0xFJDEsIGZ1bmN0aW9uIChldmVudCkge1xuICBjb25zdCB0YXJnZXQgPSBnZXRFbGVtZW50RnJvbVNlbGVjdG9yKHRoaXMpO1xuXG4gIGlmIChbJ0EnLCAnQVJFQSddLmluY2x1ZGVzKHRoaXMudGFnTmFtZSkpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgaWYgKGlzRGlzYWJsZWQodGhpcykpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBFdmVudEhhbmRsZXIub25lKHRhcmdldCwgRVZFTlRfSElEREVOJDMsICgpID0+IHtcbiAgICAvLyBmb2N1cyBvbiB0cmlnZ2VyIHdoZW4gaXQgaXMgY2xvc2VkXG4gICAgaWYgKGlzVmlzaWJsZSh0aGlzKSkge1xuICAgICAgdGhpcy5mb2N1cygpO1xuICAgIH1cbiAgfSk7IC8vIGF2b2lkIGNvbmZsaWN0IHdoZW4gY2xpY2tpbmcgYSB0b2dnbGVyIG9mIGFuIG9mZmNhbnZhcywgd2hpbGUgYW5vdGhlciBpcyBvcGVuXG5cbiAgY29uc3QgYWxyZWFkeU9wZW4gPSBTZWxlY3RvckVuZ2luZS5maW5kT25lKE9QRU5fU0VMRUNUT1IpO1xuXG4gIGlmIChhbHJlYWR5T3BlbiAmJiBhbHJlYWR5T3BlbiAhPT0gdGFyZ2V0KSB7XG4gICAgT2ZmY2FudmFzLmdldEluc3RhbmNlKGFscmVhZHlPcGVuKS5oaWRlKCk7XG4gIH1cblxuICBjb25zdCBkYXRhID0gT2ZmY2FudmFzLmdldE9yQ3JlYXRlSW5zdGFuY2UodGFyZ2V0KTtcbiAgZGF0YS50b2dnbGUodGhpcyk7XG59KTtcbkV2ZW50SGFuZGxlci5vbih3aW5kb3csIEVWRU5UX0xPQURfREFUQV9BUEkkMiwgKCkgPT4ge1xuICBmb3IgKGNvbnN0IHNlbGVjdG9yIG9mIFNlbGVjdG9yRW5naW5lLmZpbmQoT1BFTl9TRUxFQ1RPUikpIHtcbiAgICBPZmZjYW52YXMuZ2V0T3JDcmVhdGVJbnN0YW5jZShzZWxlY3Rvcikuc2hvdygpO1xuICB9XG59KTtcbkV2ZW50SGFuZGxlci5vbih3aW5kb3csIEVWRU5UX1JFU0laRSwgKCkgPT4ge1xuICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgU2VsZWN0b3JFbmdpbmUuZmluZCgnW2FyaWEtbW9kYWxdW2NsYXNzKj1zaG93XVtjbGFzcyo9b2ZmY2FudmFzLV0nKSkge1xuICAgIGlmIChnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnBvc2l0aW9uICE9PSAnZml4ZWQnKSB7XG4gICAgICBPZmZjYW52YXMuZ2V0T3JDcmVhdGVJbnN0YW5jZShlbGVtZW50KS5oaWRlKCk7XG4gICAgfVxuICB9XG59KTtcbmVuYWJsZURpc21pc3NUcmlnZ2VyKE9mZmNhbnZhcyk7XG4vKipcbiAqIGpRdWVyeVxuICovXG5cbmRlZmluZUpRdWVyeVBsdWdpbihPZmZjYW52YXMpO1xuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBCb290c3RyYXAgKHY1LjIuMyk6IHV0aWwvc2FuaXRpemVyLmpzXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNvbnN0IHVyaUF0dHJpYnV0ZXMgPSBuZXcgU2V0KFsnYmFja2dyb3VuZCcsICdjaXRlJywgJ2hyZWYnLCAnaXRlbXR5cGUnLCAnbG9uZ2Rlc2MnLCAncG9zdGVyJywgJ3NyYycsICd4bGluazpocmVmJ10pO1xuY29uc3QgQVJJQV9BVFRSSUJVVEVfUEFUVEVSTiA9IC9eYXJpYS1bXFx3LV0qJC9pO1xuLyoqXG4gKiBBIHBhdHRlcm4gdGhhdCByZWNvZ25pemVzIGEgY29tbW9ubHkgdXNlZnVsIHN1YnNldCBvZiBVUkxzIHRoYXQgYXJlIHNhZmUuXG4gKlxuICogU2hvdXQtb3V0IHRvIEFuZ3VsYXIgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9ibG9iLzEyLjIueC9wYWNrYWdlcy9jb3JlL3NyYy9zYW5pdGl6YXRpb24vdXJsX3Nhbml0aXplci50c1xuICovXG5cbmNvbnN0IFNBRkVfVVJMX1BBVFRFUk4gPSAvXig/Oig/Omh0dHBzP3xtYWlsdG98ZnRwfHRlbHxmaWxlfHNtcyk6fFteIyYvOj9dKig/OlsjLz9dfCQpKS9pO1xuLyoqXG4gKiBBIHBhdHRlcm4gdGhhdCBtYXRjaGVzIHNhZmUgZGF0YSBVUkxzLiBPbmx5IG1hdGNoZXMgaW1hZ2UsIHZpZGVvIGFuZCBhdWRpbyB0eXBlcy5cbiAqXG4gKiBTaG91dC1vdXQgdG8gQW5ndWxhciBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2Jsb2IvMTIuMi54L3BhY2thZ2VzL2NvcmUvc3JjL3Nhbml0aXphdGlvbi91cmxfc2FuaXRpemVyLnRzXG4gKi9cblxuY29uc3QgREFUQV9VUkxfUEFUVEVSTiA9IC9eZGF0YTooPzppbWFnZVxcLyg/OmJtcHxnaWZ8anBlZ3xqcGd8cG5nfHRpZmZ8d2VicCl8dmlkZW9cXC8oPzptcGVnfG1wNHxvZ2d8d2VibSl8YXVkaW9cXC8oPzptcDN8b2dhfG9nZ3xvcHVzKSk7YmFzZTY0LFtcXGQrL2Etel0rPSokL2k7XG5cbmNvbnN0IGFsbG93ZWRBdHRyaWJ1dGUgPSAoYXR0cmlidXRlLCBhbGxvd2VkQXR0cmlidXRlTGlzdCkgPT4ge1xuICBjb25zdCBhdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgaWYgKGFsbG93ZWRBdHRyaWJ1dGVMaXN0LmluY2x1ZGVzKGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgaWYgKHVyaUF0dHJpYnV0ZXMuaGFzKGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbihTQUZFX1VSTF9QQVRURVJOLnRlc3QoYXR0cmlidXRlLm5vZGVWYWx1ZSkgfHwgREFUQV9VUkxfUEFUVEVSTi50ZXN0KGF0dHJpYnV0ZS5ub2RlVmFsdWUpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBDaGVjayBpZiBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB2YWxpZGF0ZXMgdGhlIGF0dHJpYnV0ZS5cblxuXG4gIHJldHVybiBhbGxvd2VkQXR0cmlidXRlTGlzdC5maWx0ZXIoYXR0cmlidXRlUmVnZXggPT4gYXR0cmlidXRlUmVnZXggaW5zdGFuY2VvZiBSZWdFeHApLnNvbWUocmVnZXggPT4gcmVnZXgudGVzdChhdHRyaWJ1dGVOYW1lKSk7XG59O1xuXG5jb25zdCBEZWZhdWx0QWxsb3dsaXN0ID0ge1xuICAvLyBHbG9iYWwgYXR0cmlidXRlcyBhbGxvd2VkIG9uIGFueSBzdXBwbGllZCBlbGVtZW50IGJlbG93LlxuICAnKic6IFsnY2xhc3MnLCAnZGlyJywgJ2lkJywgJ2xhbmcnLCAncm9sZScsIEFSSUFfQVRUUklCVVRFX1BBVFRFUk5dLFxuICBhOiBbJ3RhcmdldCcsICdocmVmJywgJ3RpdGxlJywgJ3JlbCddLFxuICBhcmVhOiBbXSxcbiAgYjogW10sXG4gIGJyOiBbXSxcbiAgY29sOiBbXSxcbiAgY29kZTogW10sXG4gIGRpdjogW10sXG4gIGVtOiBbXSxcbiAgaHI6IFtdLFxuICBoMTogW10sXG4gIGgyOiBbXSxcbiAgaDM6IFtdLFxuICBoNDogW10sXG4gIGg1OiBbXSxcbiAgaDY6IFtdLFxuICBpOiBbXSxcbiAgaW1nOiBbJ3NyYycsICdzcmNzZXQnLCAnYWx0JywgJ3RpdGxlJywgJ3dpZHRoJywgJ2hlaWdodCddLFxuICBsaTogW10sXG4gIG9sOiBbXSxcbiAgcDogW10sXG4gIHByZTogW10sXG4gIHM6IFtdLFxuICBzbWFsbDogW10sXG4gIHNwYW46IFtdLFxuICBzdWI6IFtdLFxuICBzdXA6IFtdLFxuICBzdHJvbmc6IFtdLFxuICB1OiBbXSxcbiAgdWw6IFtdXG59O1xuZnVuY3Rpb24gc2FuaXRpemVIdG1sKHVuc2FmZUh0bWwsIGFsbG93TGlzdCwgc2FuaXRpemVGdW5jdGlvbikge1xuICBpZiAoIXVuc2FmZUh0bWwubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHVuc2FmZUh0bWw7XG4gIH1cblxuICBpZiAoc2FuaXRpemVGdW5jdGlvbiAmJiB0eXBlb2Ygc2FuaXRpemVGdW5jdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBzYW5pdGl6ZUZ1bmN0aW9uKHVuc2FmZUh0bWwpO1xuICB9XG5cbiAgY29uc3QgZG9tUGFyc2VyID0gbmV3IHdpbmRvdy5ET01QYXJzZXIoKTtcbiAgY29uc3QgY3JlYXRlZERvY3VtZW50ID0gZG9tUGFyc2VyLnBhcnNlRnJvbVN0cmluZyh1bnNhZmVIdG1sLCAndGV4dC9odG1sJyk7XG4gIGNvbnN0IGVsZW1lbnRzID0gW10uY29uY2F0KC4uLmNyZWF0ZWREb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJyonKSk7XG5cbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgY29uc3QgZWxlbWVudE5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBpZiAoIU9iamVjdC5rZXlzKGFsbG93TGlzdCkuaW5jbHVkZXMoZWxlbWVudE5hbWUpKSB7XG4gICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgY29uc3QgYXR0cmlidXRlTGlzdCA9IFtdLmNvbmNhdCguLi5lbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgIGNvbnN0IGFsbG93ZWRBdHRyaWJ1dGVzID0gW10uY29uY2F0KGFsbG93TGlzdFsnKiddIHx8IFtdLCBhbGxvd0xpc3RbZWxlbWVudE5hbWVdIHx8IFtdKTtcblxuICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIGF0dHJpYnV0ZUxpc3QpIHtcbiAgICAgIGlmICghYWxsb3dlZEF0dHJpYnV0ZShhdHRyaWJ1dGUsIGFsbG93ZWRBdHRyaWJ1dGVzKSkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGUubm9kZU5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjcmVhdGVkRG9jdW1lbnQuYm9keS5pbm5lckhUTUw7XG59XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjUuMi4zKTogdXRpbC90ZW1wbGF0ZS1mYWN0b3J5LmpzXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbi8qKlxuICogQ29uc3RhbnRzXG4gKi9cblxuY29uc3QgTkFNRSQ1ID0gJ1RlbXBsYXRlRmFjdG9yeSc7XG5jb25zdCBEZWZhdWx0JDQgPSB7XG4gIGFsbG93TGlzdDogRGVmYXVsdEFsbG93bGlzdCxcbiAgY29udGVudDoge30sXG4gIC8vIHsgc2VsZWN0b3IgOiB0ZXh0ICwgIHNlbGVjdG9yMiA6IHRleHQyICwgfVxuICBleHRyYUNsYXNzOiAnJyxcbiAgaHRtbDogZmFsc2UsXG4gIHNhbml0aXplOiB0cnVlLFxuICBzYW5pdGl6ZUZuOiBudWxsLFxuICB0ZW1wbGF0ZTogJzxkaXY+PC9kaXY+J1xufTtcbmNvbnN0IERlZmF1bHRUeXBlJDQgPSB7XG4gIGFsbG93TGlzdDogJ29iamVjdCcsXG4gIGNvbnRlbnQ6ICdvYmplY3QnLFxuICBleHRyYUNsYXNzOiAnKHN0cmluZ3xmdW5jdGlvbiknLFxuICBodG1sOiAnYm9vbGVhbicsXG4gIHNhbml0aXplOiAnYm9vbGVhbicsXG4gIHNhbml0aXplRm46ICcobnVsbHxmdW5jdGlvbiknLFxuICB0ZW1wbGF0ZTogJ3N0cmluZydcbn07XG5jb25zdCBEZWZhdWx0Q29udGVudFR5cGUgPSB7XG4gIGVudHJ5OiAnKHN0cmluZ3xlbGVtZW50fGZ1bmN0aW9ufG51bGwpJyxcbiAgc2VsZWN0b3I6ICcoc3RyaW5nfGVsZW1lbnQpJ1xufTtcbi8qKlxuICogQ2xhc3MgZGVmaW5pdGlvblxuICovXG5cbmNsYXNzIFRlbXBsYXRlRmFjdG9yeSBleHRlbmRzIENvbmZpZyB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fY29uZmlnID0gdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZyk7XG4gIH0gLy8gR2V0dGVyc1xuXG5cbiAgc3RhdGljIGdldCBEZWZhdWx0KCkge1xuICAgIHJldHVybiBEZWZhdWx0JDQ7XG4gIH1cblxuICBzdGF0aWMgZ2V0IERlZmF1bHRUeXBlKCkge1xuICAgIHJldHVybiBEZWZhdWx0VHlwZSQ0O1xuICB9XG5cbiAgc3RhdGljIGdldCBOQU1FKCkge1xuICAgIHJldHVybiBOQU1FJDU7XG4gIH0gLy8gUHVibGljXG5cblxuICBnZXRDb250ZW50KCkge1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKHRoaXMuX2NvbmZpZy5jb250ZW50KS5tYXAoY29uZmlnID0+IHRoaXMuX3Jlc29sdmVQb3NzaWJsZUZ1bmN0aW9uKGNvbmZpZykpLmZpbHRlcihCb29sZWFuKTtcbiAgfVxuXG4gIGhhc0NvbnRlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q29udGVudCgpLmxlbmd0aCA+IDA7XG4gIH1cblxuICBjaGFuZ2VDb250ZW50KGNvbnRlbnQpIHtcbiAgICB0aGlzLl9jaGVja0NvbnRlbnQoY29udGVudCk7XG5cbiAgICB0aGlzLl9jb25maWcuY29udGVudCA9IHsgLi4udGhpcy5fY29uZmlnLmNvbnRlbnQsXG4gICAgICAuLi5jb250ZW50XG4gICAgfTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHRvSHRtbCgpIHtcbiAgICBjb25zdCB0ZW1wbGF0ZVdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0ZW1wbGF0ZVdyYXBwZXIuaW5uZXJIVE1MID0gdGhpcy5fbWF5YmVTYW5pdGl6ZSh0aGlzLl9jb25maWcudGVtcGxhdGUpO1xuXG4gICAgZm9yIChjb25zdCBbc2VsZWN0b3IsIHRleHRdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuX2NvbmZpZy5jb250ZW50KSkge1xuICAgICAgdGhpcy5fc2V0Q29udGVudCh0ZW1wbGF0ZVdyYXBwZXIsIHRleHQsIHNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHRlbXBsYXRlV3JhcHBlci5jaGlsZHJlblswXTtcblxuICAgIGNvbnN0IGV4dHJhQ2xhc3MgPSB0aGlzLl9yZXNvbHZlUG9zc2libGVGdW5jdGlvbih0aGlzLl9jb25maWcuZXh0cmFDbGFzcyk7XG5cbiAgICBpZiAoZXh0cmFDbGFzcykge1xuICAgICAgdGVtcGxhdGUuY2xhc3NMaXN0LmFkZCguLi5leHRyYUNsYXNzLnNwbGl0KCcgJykpO1xuICAgIH1cblxuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfSAvLyBQcml2YXRlXG5cblxuICBfdHlwZUNoZWNrQ29uZmlnKGNvbmZpZykge1xuICAgIHN1cGVyLl90eXBlQ2hlY2tDb25maWcoY29uZmlnKTtcblxuICAgIHRoaXMuX2NoZWNrQ29udGVudChjb25maWcuY29udGVudCk7XG4gIH1cblxuICBfY2hlY2tDb250ZW50KGFyZykge1xuICAgIGZvciAoY29uc3QgW3NlbGVjdG9yLCBjb250ZW50XSBvZiBPYmplY3QuZW50cmllcyhhcmcpKSB7XG4gICAgICBzdXBlci5fdHlwZUNoZWNrQ29uZmlnKHtcbiAgICAgICAgc2VsZWN0b3IsXG4gICAgICAgIGVudHJ5OiBjb250ZW50XG4gICAgICB9LCBEZWZhdWx0Q29udGVudFR5cGUpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRDb250ZW50KHRlbXBsYXRlLCBjb250ZW50LCBzZWxlY3Rvcikge1xuICAgIGNvbnN0IHRlbXBsYXRlRWxlbWVudCA9IFNlbGVjdG9yRW5naW5lLmZpbmRPbmUoc2VsZWN0b3IsIHRlbXBsYXRlKTtcblxuICAgIGlmICghdGVtcGxhdGVFbGVtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29udGVudCA9IHRoaXMuX3Jlc29sdmVQb3NzaWJsZUZ1bmN0aW9uKGNvbnRlbnQpO1xuXG4gICAgaWYgKCFjb250ZW50KSB7XG4gICAgICB0ZW1wbGF0ZUVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzRWxlbWVudChjb250ZW50KSkge1xuICAgICAgdGhpcy5fcHV0RWxlbWVudEluVGVtcGxhdGUoZ2V0RWxlbWVudChjb250ZW50KSwgdGVtcGxhdGVFbGVtZW50KTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9jb25maWcuaHRtbCkge1xuICAgICAgdGVtcGxhdGVFbGVtZW50LmlubmVySFRNTCA9IHRoaXMuX21heWJlU2FuaXRpemUoY29udGVudCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGVtcGxhdGVFbGVtZW50LnRleHRDb250ZW50ID0gY29udGVudDtcbiAgfVxuXG4gIF9tYXliZVNhbml0aXplKGFyZykge1xuICAgIHJldHVybiB0aGlzLl9jb25maWcuc2FuaXRpemUgPyBzYW5pdGl6ZUh0bWwoYXJnLCB0aGlzLl9jb25maWcuYWxsb3dMaXN0LCB0aGlzLl9jb25maWcuc2FuaXRpemVGbikgOiBhcmc7XG4gIH1cblxuICBfcmVzb2x2ZVBvc3NpYmxlRnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbicgPyBhcmcodGhpcykgOiBhcmc7XG4gIH1cblxuICBfcHV0RWxlbWVudEluVGVtcGxhdGUoZWxlbWVudCwgdGVtcGxhdGVFbGVtZW50KSB7XG4gICAgaWYgKHRoaXMuX2NvbmZpZy5odG1sKSB7XG4gICAgICB0ZW1wbGF0ZUVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICB0ZW1wbGF0ZUVsZW1lbnQuYXBwZW5kKGVsZW1lbnQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRlbXBsYXRlRWxlbWVudC50ZXh0Q29udGVudCA9IGVsZW1lbnQudGV4dENvbnRlbnQ7XG4gIH1cblxufVxuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBCb290c3RyYXAgKHY1LjIuMyk6IHRvb2x0aXAuanNcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuLyoqXG4gKiBDb25zdGFudHNcbiAqL1xuXG5jb25zdCBOQU1FJDQgPSAndG9vbHRpcCc7XG5jb25zdCBESVNBTExPV0VEX0FUVFJJQlVURVMgPSBuZXcgU2V0KFsnc2FuaXRpemUnLCAnYWxsb3dMaXN0JywgJ3Nhbml0aXplRm4nXSk7XG5jb25zdCBDTEFTU19OQU1FX0ZBREUkMiA9ICdmYWRlJztcbmNvbnN0IENMQVNTX05BTUVfTU9EQUwgPSAnbW9kYWwnO1xuY29uc3QgQ0xBU1NfTkFNRV9TSE9XJDIgPSAnc2hvdyc7XG5jb25zdCBTRUxFQ1RPUl9UT09MVElQX0lOTkVSID0gJy50b29sdGlwLWlubmVyJztcbmNvbnN0IFNFTEVDVE9SX01PREFMID0gYC4ke0NMQVNTX05BTUVfTU9EQUx9YDtcbmNvbnN0IEVWRU5UX01PREFMX0hJREUgPSAnaGlkZS5icy5tb2RhbCc7XG5jb25zdCBUUklHR0VSX0hPVkVSID0gJ2hvdmVyJztcbmNvbnN0IFRSSUdHRVJfRk9DVVMgPSAnZm9jdXMnO1xuY29uc3QgVFJJR0dFUl9DTElDSyA9ICdjbGljayc7XG5jb25zdCBUUklHR0VSX01BTlVBTCA9ICdtYW51YWwnO1xuY29uc3QgRVZFTlRfSElERSQyID0gJ2hpZGUnO1xuY29uc3QgRVZFTlRfSElEREVOJDIgPSAnaGlkZGVuJztcbmNvbnN0IEVWRU5UX1NIT1ckMiA9ICdzaG93JztcbmNvbnN0IEVWRU5UX1NIT1dOJDIgPSAnc2hvd24nO1xuY29uc3QgRVZFTlRfSU5TRVJURUQgPSAnaW5zZXJ0ZWQnO1xuY29uc3QgRVZFTlRfQ0xJQ0skMSA9ICdjbGljayc7XG5jb25zdCBFVkVOVF9GT0NVU0lOJDEgPSAnZm9jdXNpbic7XG5jb25zdCBFVkVOVF9GT0NVU09VVCQxID0gJ2ZvY3Vzb3V0JztcbmNvbnN0IEVWRU5UX01PVVNFRU5URVIgPSAnbW91c2VlbnRlcic7XG5jb25zdCBFVkVOVF9NT1VTRUxFQVZFID0gJ21vdXNlbGVhdmUnO1xuY29uc3QgQXR0YWNobWVudE1hcCA9IHtcbiAgQVVUTzogJ2F1dG8nLFxuICBUT1A6ICd0b3AnLFxuICBSSUdIVDogaXNSVEwoKSA/ICdsZWZ0JyA6ICdyaWdodCcsXG4gIEJPVFRPTTogJ2JvdHRvbScsXG4gIExFRlQ6IGlzUlRMKCkgPyAncmlnaHQnIDogJ2xlZnQnXG59O1xuY29uc3QgRGVmYXVsdCQzID0ge1xuICBhbGxvd0xpc3Q6IERlZmF1bHRBbGxvd2xpc3QsXG4gIGFuaW1hdGlvbjogdHJ1ZSxcbiAgYm91bmRhcnk6ICdjbGlwcGluZ1BhcmVudHMnLFxuICBjb250YWluZXI6IGZhbHNlLFxuICBjdXN0b21DbGFzczogJycsXG4gIGRlbGF5OiAwLFxuICBmYWxsYmFja1BsYWNlbWVudHM6IFsndG9wJywgJ3JpZ2h0JywgJ2JvdHRvbScsICdsZWZ0J10sXG4gIGh0bWw6IGZhbHNlLFxuICBvZmZzZXQ6IFswLCAwXSxcbiAgcGxhY2VtZW50OiAndG9wJyxcbiAgcG9wcGVyQ29uZmlnOiBudWxsLFxuICBzYW5pdGl6ZTogdHJ1ZSxcbiAgc2FuaXRpemVGbjogbnVsbCxcbiAgc2VsZWN0b3I6IGZhbHNlLFxuICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJ0b29sdGlwXCIgcm9sZT1cInRvb2x0aXBcIj4nICsgJzxkaXYgY2xhc3M9XCJ0b29sdGlwLWFycm93XCI+PC9kaXY+JyArICc8ZGl2IGNsYXNzPVwidG9vbHRpcC1pbm5lclwiPjwvZGl2PicgKyAnPC9kaXY+JyxcbiAgdGl0bGU6ICcnLFxuICB0cmlnZ2VyOiAnaG92ZXIgZm9jdXMnXG59O1xuY29uc3QgRGVmYXVsdFR5cGUkMyA9IHtcbiAgYWxsb3dMaXN0OiAnb2JqZWN0JyxcbiAgYW5pbWF0aW9uOiAnYm9vbGVhbicsXG4gIGJvdW5kYXJ5OiAnKHN0cmluZ3xlbGVtZW50KScsXG4gIGNvbnRhaW5lcjogJyhzdHJpbmd8ZWxlbWVudHxib29sZWFuKScsXG4gIGN1c3RvbUNsYXNzOiAnKHN0cmluZ3xmdW5jdGlvbiknLFxuICBkZWxheTogJyhudW1iZXJ8b2JqZWN0KScsXG4gIGZhbGxiYWNrUGxhY2VtZW50czogJ2FycmF5JyxcbiAgaHRtbDogJ2Jvb2xlYW4nLFxuICBvZmZzZXQ6ICcoYXJyYXl8c3RyaW5nfGZ1bmN0aW9uKScsXG4gIHBsYWNlbWVudDogJyhzdHJpbmd8ZnVuY3Rpb24pJyxcbiAgcG9wcGVyQ29uZmlnOiAnKG51bGx8b2JqZWN0fGZ1bmN0aW9uKScsXG4gIHNhbml0aXplOiAnYm9vbGVhbicsXG4gIHNhbml0aXplRm46ICcobnVsbHxmdW5jdGlvbiknLFxuICBzZWxlY3RvcjogJyhzdHJpbmd8Ym9vbGVhbiknLFxuICB0ZW1wbGF0ZTogJ3N0cmluZycsXG4gIHRpdGxlOiAnKHN0cmluZ3xlbGVtZW50fGZ1bmN0aW9uKScsXG4gIHRyaWdnZXI6ICdzdHJpbmcnXG59O1xuLyoqXG4gKiBDbGFzcyBkZWZpbml0aW9uXG4gKi9cblxuY2xhc3MgVG9vbHRpcCBleHRlbmRzIEJhc2VDb21wb25lbnQge1xuICBjb25zdHJ1Y3RvcihlbGVtZW50LCBjb25maWcpIHtcbiAgICBpZiAodHlwZW9mIFBvcHBlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Jvb3RzdHJhcFxcJ3MgdG9vbHRpcHMgcmVxdWlyZSBQb3BwZXIgKGh0dHBzOi8vcG9wcGVyLmpzLm9yZyknKTtcbiAgICB9XG5cbiAgICBzdXBlcihlbGVtZW50LCBjb25maWcpOyAvLyBQcml2YXRlXG5cbiAgICB0aGlzLl9pc0VuYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMuX3RpbWVvdXQgPSAwO1xuICAgIHRoaXMuX2lzSG92ZXJlZCA9IG51bGw7XG4gICAgdGhpcy5fYWN0aXZlVHJpZ2dlciA9IHt9O1xuICAgIHRoaXMuX3BvcHBlciA9IG51bGw7XG4gICAgdGhpcy5fdGVtcGxhdGVGYWN0b3J5ID0gbnVsbDtcbiAgICB0aGlzLl9uZXdDb250ZW50ID0gbnVsbDsgLy8gUHJvdGVjdGVkXG5cbiAgICB0aGlzLnRpcCA9IG51bGw7XG5cbiAgICB0aGlzLl9zZXRMaXN0ZW5lcnMoKTtcblxuICAgIGlmICghdGhpcy5fY29uZmlnLnNlbGVjdG9yKSB7XG4gICAgICB0aGlzLl9maXhUaXRsZSgpO1xuICAgIH1cbiAgfSAvLyBHZXR0ZXJzXG5cblxuICBzdGF0aWMgZ2V0IERlZmF1bHQoKSB7XG4gICAgcmV0dXJuIERlZmF1bHQkMztcbiAgfVxuXG4gIHN0YXRpYyBnZXQgRGVmYXVsdFR5cGUoKSB7XG4gICAgcmV0dXJuIERlZmF1bHRUeXBlJDM7XG4gIH1cblxuICBzdGF0aWMgZ2V0IE5BTUUoKSB7XG4gICAgcmV0dXJuIE5BTUUkNDtcbiAgfSAvLyBQdWJsaWNcblxuXG4gIGVuYWJsZSgpIHtcbiAgICB0aGlzLl9pc0VuYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgZGlzYWJsZSgpIHtcbiAgICB0aGlzLl9pc0VuYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHRvZ2dsZUVuYWJsZWQoKSB7XG4gICAgdGhpcy5faXNFbmFibGVkID0gIXRoaXMuX2lzRW5hYmxlZDtcbiAgfVxuXG4gIHRvZ2dsZSgpIHtcbiAgICBpZiAoIXRoaXMuX2lzRW5hYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2FjdGl2ZVRyaWdnZXIuY2xpY2sgPSAhdGhpcy5fYWN0aXZlVHJpZ2dlci5jbGljaztcblxuICAgIGlmICh0aGlzLl9pc1Nob3duKCkpIHtcbiAgICAgIHRoaXMuX2xlYXZlKCk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9lbnRlcigpO1xuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XG4gICAgRXZlbnRIYW5kbGVyLm9mZih0aGlzLl9lbGVtZW50LmNsb3Nlc3QoU0VMRUNUT1JfTU9EQUwpLCBFVkVOVF9NT0RBTF9ISURFLCB0aGlzLl9oaWRlTW9kYWxIYW5kbGVyKTtcblxuICAgIGlmICh0aGlzLl9lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1icy1vcmlnaW5hbC10aXRsZScpKSB7XG4gICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgndGl0bGUnLCB0aGlzLl9lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1icy1vcmlnaW5hbC10aXRsZScpKTtcbiAgICB9XG5cbiAgICB0aGlzLl9kaXNwb3NlUG9wcGVyKCk7XG5cbiAgICBzdXBlci5kaXNwb3NlKCk7XG4gIH1cblxuICBzaG93KCkge1xuICAgIGlmICh0aGlzLl9lbGVtZW50LnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgdXNlIHNob3cgb24gdmlzaWJsZSBlbGVtZW50cycpO1xuICAgIH1cblxuICAgIGlmICghKHRoaXMuX2lzV2l0aENvbnRlbnQoKSAmJiB0aGlzLl9pc0VuYWJsZWQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc2hvd0V2ZW50ID0gRXZlbnRIYW5kbGVyLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgdGhpcy5jb25zdHJ1Y3Rvci5ldmVudE5hbWUoRVZFTlRfU0hPVyQyKSk7XG4gICAgY29uc3Qgc2hhZG93Um9vdCA9IGZpbmRTaGFkb3dSb290KHRoaXMuX2VsZW1lbnQpO1xuXG4gICAgY29uc3QgaXNJblRoZURvbSA9IChzaGFkb3dSb290IHx8IHRoaXMuX2VsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmNvbnRhaW5zKHRoaXMuX2VsZW1lbnQpO1xuXG4gICAgaWYgKHNob3dFdmVudC5kZWZhdWx0UHJldmVudGVkIHx8ICFpc0luVGhlRG9tKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyB0b2RvIHY2IHJlbW92ZSB0aGlzIE9SIG1ha2UgaXQgb3B0aW9uYWxcblxuXG4gICAgdGhpcy5fZGlzcG9zZVBvcHBlcigpO1xuXG4gICAgY29uc3QgdGlwID0gdGhpcy5fZ2V0VGlwRWxlbWVudCgpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknLCB0aXAuZ2V0QXR0cmlidXRlKCdpZCcpKTtcblxuICAgIGNvbnN0IHtcbiAgICAgIGNvbnRhaW5lclxuICAgIH0gPSB0aGlzLl9jb25maWc7XG5cbiAgICBpZiAoIXRoaXMuX2VsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY29udGFpbnModGhpcy50aXApKSB7XG4gICAgICBjb250YWluZXIuYXBwZW5kKHRpcCk7XG4gICAgICBFdmVudEhhbmRsZXIudHJpZ2dlcih0aGlzLl9lbGVtZW50LCB0aGlzLmNvbnN0cnVjdG9yLmV2ZW50TmFtZShFVkVOVF9JTlNFUlRFRCkpO1xuICAgIH1cblxuICAgIHRoaXMuX3BvcHBlciA9IHRoaXMuX2NyZWF0ZVBvcHBlcih0aXApO1xuICAgIHRpcC5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfU0hPVyQyKTsgLy8gSWYgdGhpcyBpcyBhIHRvdWNoLWVuYWJsZWQgZGV2aWNlIHdlIGFkZCBleHRyYVxuICAgIC8vIGVtcHR5IG1vdXNlb3ZlciBsaXN0ZW5lcnMgdG8gdGhlIGJvZHkncyBpbW1lZGlhdGUgY2hpbGRyZW47XG4gICAgLy8gb25seSBuZWVkZWQgYmVjYXVzZSBvZiBicm9rZW4gZXZlbnQgZGVsZWdhdGlvbiBvbiBpT1NcbiAgICAvLyBodHRwczovL3d3dy5xdWlya3Ntb2RlLm9yZy9ibG9nL2FyY2hpdmVzLzIwMTQvMDIvbW91c2VfZXZlbnRfYnViLmh0bWxcblxuICAgIGlmICgnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBbXS5jb25jYXQoLi4uZG9jdW1lbnQuYm9keS5jaGlsZHJlbikpIHtcbiAgICAgICAgRXZlbnRIYW5kbGVyLm9uKGVsZW1lbnQsICdtb3VzZW92ZXInLCBub29wKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgIEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIHRoaXMuY29uc3RydWN0b3IuZXZlbnROYW1lKEVWRU5UX1NIT1dOJDIpKTtcblxuICAgICAgaWYgKHRoaXMuX2lzSG92ZXJlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5fbGVhdmUoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5faXNIb3ZlcmVkID0gZmFsc2U7XG4gICAgfTtcblxuICAgIHRoaXMuX3F1ZXVlQ2FsbGJhY2soY29tcGxldGUsIHRoaXMudGlwLCB0aGlzLl9pc0FuaW1hdGVkKCkpO1xuICB9XG5cbiAgaGlkZSgpIHtcbiAgICBpZiAoIXRoaXMuX2lzU2hvd24oKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGhpZGVFdmVudCA9IEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIHRoaXMuY29uc3RydWN0b3IuZXZlbnROYW1lKEVWRU5UX0hJREUkMikpO1xuXG4gICAgaWYgKGhpZGVFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdGlwID0gdGhpcy5fZ2V0VGlwRWxlbWVudCgpO1xuXG4gICAgdGlwLmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NfTkFNRV9TSE9XJDIpOyAvLyBJZiB0aGlzIGlzIGEgdG91Y2gtZW5hYmxlZCBkZXZpY2Ugd2UgcmVtb3ZlIHRoZSBleHRyYVxuICAgIC8vIGVtcHR5IG1vdXNlb3ZlciBsaXN0ZW5lcnMgd2UgYWRkZWQgZm9yIGlPUyBzdXBwb3J0XG5cbiAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgW10uY29uY2F0KC4uLmRvY3VtZW50LmJvZHkuY2hpbGRyZW4pKSB7XG4gICAgICAgIEV2ZW50SGFuZGxlci5vZmYoZWxlbWVudCwgJ21vdXNlb3ZlcicsIG5vb3ApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX2FjdGl2ZVRyaWdnZXJbVFJJR0dFUl9DTElDS10gPSBmYWxzZTtcbiAgICB0aGlzLl9hY3RpdmVUcmlnZ2VyW1RSSUdHRVJfRk9DVVNdID0gZmFsc2U7XG4gICAgdGhpcy5fYWN0aXZlVHJpZ2dlcltUUklHR0VSX0hPVkVSXSA9IGZhbHNlO1xuICAgIHRoaXMuX2lzSG92ZXJlZCA9IG51bGw7IC8vIGl0IGlzIGEgdHJpY2sgdG8gc3VwcG9ydCBtYW51YWwgdHJpZ2dlcmluZ1xuXG4gICAgY29uc3QgY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5faXNXaXRoQWN0aXZlVHJpZ2dlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLl9pc0hvdmVyZWQpIHtcbiAgICAgICAgdGhpcy5fZGlzcG9zZVBvcHBlcigpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScpO1xuXG4gICAgICBFdmVudEhhbmRsZXIudHJpZ2dlcih0aGlzLl9lbGVtZW50LCB0aGlzLmNvbnN0cnVjdG9yLmV2ZW50TmFtZShFVkVOVF9ISURERU4kMikpO1xuICAgIH07XG5cbiAgICB0aGlzLl9xdWV1ZUNhbGxiYWNrKGNvbXBsZXRlLCB0aGlzLnRpcCwgdGhpcy5faXNBbmltYXRlZCgpKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBpZiAodGhpcy5fcG9wcGVyKSB7XG4gICAgICB0aGlzLl9wb3BwZXIudXBkYXRlKCk7XG4gICAgfVxuICB9IC8vIFByb3RlY3RlZFxuXG5cbiAgX2lzV2l0aENvbnRlbnQoKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4odGhpcy5fZ2V0VGl0bGUoKSk7XG4gIH1cblxuICBfZ2V0VGlwRWxlbWVudCgpIHtcbiAgICBpZiAoIXRoaXMudGlwKSB7XG4gICAgICB0aGlzLnRpcCA9IHRoaXMuX2NyZWF0ZVRpcEVsZW1lbnQodGhpcy5fbmV3Q29udGVudCB8fCB0aGlzLl9nZXRDb250ZW50Rm9yVGVtcGxhdGUoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMudGlwO1xuICB9XG5cbiAgX2NyZWF0ZVRpcEVsZW1lbnQoY29udGVudCkge1xuICAgIGNvbnN0IHRpcCA9IHRoaXMuX2dldFRlbXBsYXRlRmFjdG9yeShjb250ZW50KS50b0h0bWwoKTsgLy8gdG9kbzogcmVtb3ZlIHRoaXMgY2hlY2sgb24gdjZcblxuXG4gICAgaWYgKCF0aXApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHRpcC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfRkFERSQyLCBDTEFTU19OQU1FX1NIT1ckMik7IC8vIHRvZG86IG9uIHY2IHRoZSBmb2xsb3dpbmcgY2FuIGJlIGFjaGlldmVkIHdpdGggQ1NTIG9ubHlcblxuICAgIHRpcC5jbGFzc0xpc3QuYWRkKGBicy0ke3RoaXMuY29uc3RydWN0b3IuTkFNRX0tYXV0b2ApO1xuICAgIGNvbnN0IHRpcElkID0gZ2V0VUlEKHRoaXMuY29uc3RydWN0b3IuTkFNRSkudG9TdHJpbmcoKTtcbiAgICB0aXAuc2V0QXR0cmlidXRlKCdpZCcsIHRpcElkKTtcblxuICAgIGlmICh0aGlzLl9pc0FuaW1hdGVkKCkpIHtcbiAgICAgIHRpcC5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfRkFERSQyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGlwO1xuICB9XG5cbiAgc2V0Q29udGVudChjb250ZW50KSB7XG4gICAgdGhpcy5fbmV3Q29udGVudCA9IGNvbnRlbnQ7XG5cbiAgICBpZiAodGhpcy5faXNTaG93bigpKSB7XG4gICAgICB0aGlzLl9kaXNwb3NlUG9wcGVyKCk7XG5cbiAgICAgIHRoaXMuc2hvdygpO1xuICAgIH1cbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZUZhY3RvcnkoY29udGVudCkge1xuICAgIGlmICh0aGlzLl90ZW1wbGF0ZUZhY3RvcnkpIHtcbiAgICAgIHRoaXMuX3RlbXBsYXRlRmFjdG9yeS5jaGFuZ2VDb250ZW50KGNvbnRlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl90ZW1wbGF0ZUZhY3RvcnkgPSBuZXcgVGVtcGxhdGVGYWN0b3J5KHsgLi4udGhpcy5fY29uZmlnLFxuICAgICAgICAvLyB0aGUgYGNvbnRlbnRgIHZhciBoYXMgdG8gYmUgYWZ0ZXIgYHRoaXMuX2NvbmZpZ2BcbiAgICAgICAgLy8gdG8gb3ZlcnJpZGUgY29uZmlnLmNvbnRlbnQgaW4gY2FzZSBvZiBwb3BvdmVyXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICAgIGV4dHJhQ2xhc3M6IHRoaXMuX3Jlc29sdmVQb3NzaWJsZUZ1bmN0aW9uKHRoaXMuX2NvbmZpZy5jdXN0b21DbGFzcylcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl90ZW1wbGF0ZUZhY3Rvcnk7XG4gIH1cblxuICBfZ2V0Q29udGVudEZvclRlbXBsYXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBbU0VMRUNUT1JfVE9PTFRJUF9JTk5FUl06IHRoaXMuX2dldFRpdGxlKClcbiAgICB9O1xuICB9XG5cbiAgX2dldFRpdGxlKCkge1xuICAgIHJldHVybiB0aGlzLl9yZXNvbHZlUG9zc2libGVGdW5jdGlvbih0aGlzLl9jb25maWcudGl0bGUpIHx8IHRoaXMuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWJzLW9yaWdpbmFsLXRpdGxlJyk7XG4gIH0gLy8gUHJpdmF0ZVxuXG5cbiAgX2luaXRpYWxpemVPbkRlbGVnYXRlZFRhcmdldChldmVudCkge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLmdldE9yQ3JlYXRlSW5zdGFuY2UoZXZlbnQuZGVsZWdhdGVUYXJnZXQsIHRoaXMuX2dldERlbGVnYXRlQ29uZmlnKCkpO1xuICB9XG5cbiAgX2lzQW5pbWF0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5hbmltYXRpb24gfHwgdGhpcy50aXAgJiYgdGhpcy50aXAuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfRkFERSQyKTtcbiAgfVxuXG4gIF9pc1Nob3duKCkge1xuICAgIHJldHVybiB0aGlzLnRpcCAmJiB0aGlzLnRpcC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9TSE9XJDIpO1xuICB9XG5cbiAgX2NyZWF0ZVBvcHBlcih0aXApIHtcbiAgICBjb25zdCBwbGFjZW1lbnQgPSB0eXBlb2YgdGhpcy5fY29uZmlnLnBsYWNlbWVudCA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMuX2NvbmZpZy5wbGFjZW1lbnQuY2FsbCh0aGlzLCB0aXAsIHRoaXMuX2VsZW1lbnQpIDogdGhpcy5fY29uZmlnLnBsYWNlbWVudDtcbiAgICBjb25zdCBhdHRhY2htZW50ID0gQXR0YWNobWVudE1hcFtwbGFjZW1lbnQudG9VcHBlckNhc2UoKV07XG4gICAgcmV0dXJuIFBvcHBlci5jcmVhdGVQb3BwZXIodGhpcy5fZWxlbWVudCwgdGlwLCB0aGlzLl9nZXRQb3BwZXJDb25maWcoYXR0YWNobWVudCkpO1xuICB9XG5cbiAgX2dldE9mZnNldCgpIHtcbiAgICBjb25zdCB7XG4gICAgICBvZmZzZXRcbiAgICB9ID0gdGhpcy5fY29uZmlnO1xuXG4gICAgaWYgKHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gb2Zmc2V0LnNwbGl0KCcsJykubWFwKHZhbHVlID0+IE51bWJlci5wYXJzZUludCh2YWx1ZSwgMTApKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9mZnNldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIHBvcHBlckRhdGEgPT4gb2Zmc2V0KHBvcHBlckRhdGEsIHRoaXMuX2VsZW1lbnQpO1xuICAgIH1cblxuICAgIHJldHVybiBvZmZzZXQ7XG4gIH1cblxuICBfcmVzb2x2ZVBvc3NpYmxlRnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbicgPyBhcmcuY2FsbCh0aGlzLl9lbGVtZW50KSA6IGFyZztcbiAgfVxuXG4gIF9nZXRQb3BwZXJDb25maWcoYXR0YWNobWVudCkge1xuICAgIGNvbnN0IGRlZmF1bHRCc1BvcHBlckNvbmZpZyA9IHtcbiAgICAgIHBsYWNlbWVudDogYXR0YWNobWVudCxcbiAgICAgIG1vZGlmaWVyczogW3tcbiAgICAgICAgbmFtZTogJ2ZsaXAnLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgZmFsbGJhY2tQbGFjZW1lbnRzOiB0aGlzLl9jb25maWcuZmFsbGJhY2tQbGFjZW1lbnRzXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ29mZnNldCcsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBvZmZzZXQ6IHRoaXMuX2dldE9mZnNldCgpXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ3ByZXZlbnRPdmVyZmxvdycsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBib3VuZGFyeTogdGhpcy5fY29uZmlnLmJvdW5kYXJ5XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ2Fycm93JyxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIGVsZW1lbnQ6IGAuJHt0aGlzLmNvbnN0cnVjdG9yLk5BTUV9LWFycm93YFxuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIG5hbWU6ICdwcmVTZXRQbGFjZW1lbnQnLFxuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICBwaGFzZTogJ2JlZm9yZU1haW4nLFxuICAgICAgICBmbjogZGF0YSA9PiB7XG4gICAgICAgICAgLy8gUHJlLXNldCBQb3BwZXIncyBwbGFjZW1lbnQgYXR0cmlidXRlIGluIG9yZGVyIHRvIHJlYWQgdGhlIGFycm93IHNpemVzIHByb3Blcmx5LlxuICAgICAgICAgIC8vIE90aGVyd2lzZSwgUG9wcGVyIG1peGVzIHVwIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IGRpbWVuc2lvbnMgc2luY2UgdGhlIGluaXRpYWwgYXJyb3cgc3R5bGUgaXMgZm9yIHRvcCBwbGFjZW1lbnRcbiAgICAgICAgICB0aGlzLl9nZXRUaXBFbGVtZW50KCkuc2V0QXR0cmlidXRlKCdkYXRhLXBvcHBlci1wbGFjZW1lbnQnLCBkYXRhLnN0YXRlLnBsYWNlbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH1dXG4gICAgfTtcbiAgICByZXR1cm4geyAuLi5kZWZhdWx0QnNQb3BwZXJDb25maWcsXG4gICAgICAuLi4odHlwZW9mIHRoaXMuX2NvbmZpZy5wb3BwZXJDb25maWcgPT09ICdmdW5jdGlvbicgPyB0aGlzLl9jb25maWcucG9wcGVyQ29uZmlnKGRlZmF1bHRCc1BvcHBlckNvbmZpZykgOiB0aGlzLl9jb25maWcucG9wcGVyQ29uZmlnKVxuICAgIH07XG4gIH1cblxuICBfc2V0TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IHRyaWdnZXJzID0gdGhpcy5fY29uZmlnLnRyaWdnZXIuc3BsaXQoJyAnKTtcblxuICAgIGZvciAoY29uc3QgdHJpZ2dlciBvZiB0cmlnZ2Vycykge1xuICAgICAgaWYgKHRyaWdnZXIgPT09ICdjbGljaycpIHtcbiAgICAgICAgRXZlbnRIYW5kbGVyLm9uKHRoaXMuX2VsZW1lbnQsIHRoaXMuY29uc3RydWN0b3IuZXZlbnROYW1lKEVWRU5UX0NMSUNLJDEpLCB0aGlzLl9jb25maWcuc2VsZWN0b3IsIGV2ZW50ID0+IHtcbiAgICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5faW5pdGlhbGl6ZU9uRGVsZWdhdGVkVGFyZ2V0KGV2ZW50KTtcblxuICAgICAgICAgIGNvbnRleHQudG9nZ2xlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICh0cmlnZ2VyICE9PSBUUklHR0VSX01BTlVBTCkge1xuICAgICAgICBjb25zdCBldmVudEluID0gdHJpZ2dlciA9PT0gVFJJR0dFUl9IT1ZFUiA/IHRoaXMuY29uc3RydWN0b3IuZXZlbnROYW1lKEVWRU5UX01PVVNFRU5URVIpIDogdGhpcy5jb25zdHJ1Y3Rvci5ldmVudE5hbWUoRVZFTlRfRk9DVVNJTiQxKTtcbiAgICAgICAgY29uc3QgZXZlbnRPdXQgPSB0cmlnZ2VyID09PSBUUklHR0VSX0hPVkVSID8gdGhpcy5jb25zdHJ1Y3Rvci5ldmVudE5hbWUoRVZFTlRfTU9VU0VMRUFWRSkgOiB0aGlzLmNvbnN0cnVjdG9yLmV2ZW50TmFtZShFVkVOVF9GT0NVU09VVCQxKTtcbiAgICAgICAgRXZlbnRIYW5kbGVyLm9uKHRoaXMuX2VsZW1lbnQsIGV2ZW50SW4sIHRoaXMuX2NvbmZpZy5zZWxlY3RvciwgZXZlbnQgPT4ge1xuICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLl9pbml0aWFsaXplT25EZWxlZ2F0ZWRUYXJnZXQoZXZlbnQpO1xuXG4gICAgICAgICAgY29udGV4dC5fYWN0aXZlVHJpZ2dlcltldmVudC50eXBlID09PSAnZm9jdXNpbicgPyBUUklHR0VSX0ZPQ1VTIDogVFJJR0dFUl9IT1ZFUl0gPSB0cnVlO1xuXG4gICAgICAgICAgY29udGV4dC5fZW50ZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIEV2ZW50SGFuZGxlci5vbih0aGlzLl9lbGVtZW50LCBldmVudE91dCwgdGhpcy5fY29uZmlnLnNlbGVjdG9yLCBldmVudCA9PiB7XG4gICAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuX2luaXRpYWxpemVPbkRlbGVnYXRlZFRhcmdldChldmVudCk7XG5cbiAgICAgICAgICBjb250ZXh0Ll9hY3RpdmVUcmlnZ2VyW2V2ZW50LnR5cGUgPT09ICdmb2N1c291dCcgPyBUUklHR0VSX0ZPQ1VTIDogVFJJR0dFUl9IT1ZFUl0gPSBjb250ZXh0Ll9lbGVtZW50LmNvbnRhaW5zKGV2ZW50LnJlbGF0ZWRUYXJnZXQpO1xuXG4gICAgICAgICAgY29udGV4dC5fbGVhdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5faGlkZU1vZGFsSGFuZGxlciA9ICgpID0+IHtcbiAgICAgIGlmICh0aGlzLl9lbGVtZW50KSB7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBFdmVudEhhbmRsZXIub24odGhpcy5fZWxlbWVudC5jbG9zZXN0KFNFTEVDVE9SX01PREFMKSwgRVZFTlRfTU9EQUxfSElERSwgdGhpcy5faGlkZU1vZGFsSGFuZGxlcik7XG4gIH1cblxuICBfZml4VGl0bGUoKSB7XG4gICAgY29uc3QgdGl0bGUgPSB0aGlzLl9lbGVtZW50LmdldEF0dHJpYnV0ZSgndGl0bGUnKTtcblxuICAgIGlmICghdGl0bGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJykgJiYgIXRoaXMuX2VsZW1lbnQudGV4dENvbnRlbnQudHJpbSgpKSB7XG4gICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIHRpdGxlKTtcbiAgICB9XG5cbiAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1icy1vcmlnaW5hbC10aXRsZScsIHRpdGxlKTsgLy8gRE8gTk9UIFVTRSBJVC4gSXMgb25seSBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcblxuXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3RpdGxlJyk7XG4gIH1cblxuICBfZW50ZXIoKSB7XG4gICAgaWYgKHRoaXMuX2lzU2hvd24oKSB8fCB0aGlzLl9pc0hvdmVyZWQpIHtcbiAgICAgIHRoaXMuX2lzSG92ZXJlZCA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faXNIb3ZlcmVkID0gdHJ1ZTtcblxuICAgIHRoaXMuX3NldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX2lzSG92ZXJlZCkge1xuICAgICAgICB0aGlzLnNob3coKTtcbiAgICAgIH1cbiAgICB9LCB0aGlzLl9jb25maWcuZGVsYXkuc2hvdyk7XG4gIH1cblxuICBfbGVhdmUoKSB7XG4gICAgaWYgKHRoaXMuX2lzV2l0aEFjdGl2ZVRyaWdnZXIoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2lzSG92ZXJlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5fc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuX2lzSG92ZXJlZCkge1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9LCB0aGlzLl9jb25maWcuZGVsYXkuaGlkZSk7XG4gIH1cblxuICBfc2V0VGltZW91dChoYW5kbGVyLCB0aW1lb3V0KSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xuICAgIHRoaXMuX3RpbWVvdXQgPSBzZXRUaW1lb3V0KGhhbmRsZXIsIHRpbWVvdXQpO1xuICB9XG5cbiAgX2lzV2l0aEFjdGl2ZVRyaWdnZXIoKSB7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXModGhpcy5fYWN0aXZlVHJpZ2dlcikuaW5jbHVkZXModHJ1ZSk7XG4gIH1cblxuICBfZ2V0Q29uZmlnKGNvbmZpZykge1xuICAgIGNvbnN0IGRhdGFBdHRyaWJ1dGVzID0gTWFuaXB1bGF0b3IuZ2V0RGF0YUF0dHJpYnV0ZXModGhpcy5fZWxlbWVudCk7XG5cbiAgICBmb3IgKGNvbnN0IGRhdGFBdHRyaWJ1dGUgb2YgT2JqZWN0LmtleXMoZGF0YUF0dHJpYnV0ZXMpKSB7XG4gICAgICBpZiAoRElTQUxMT1dFRF9BVFRSSUJVVEVTLmhhcyhkYXRhQXR0cmlidXRlKSkge1xuICAgICAgICBkZWxldGUgZGF0YUF0dHJpYnV0ZXNbZGF0YUF0dHJpYnV0ZV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uZmlnID0geyAuLi5kYXRhQXR0cmlidXRlcyxcbiAgICAgIC4uLih0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyAmJiBjb25maWcgPyBjb25maWcgOiB7fSlcbiAgICB9O1xuICAgIGNvbmZpZyA9IHRoaXMuX21lcmdlQ29uZmlnT2JqKGNvbmZpZyk7XG4gICAgY29uZmlnID0gdGhpcy5fY29uZmlnQWZ0ZXJNZXJnZShjb25maWcpO1xuXG4gICAgdGhpcy5fdHlwZUNoZWNrQ29uZmlnKGNvbmZpZyk7XG5cbiAgICByZXR1cm4gY29uZmlnO1xuICB9XG5cbiAgX2NvbmZpZ0FmdGVyTWVyZ2UoY29uZmlnKSB7XG4gICAgY29uZmlnLmNvbnRhaW5lciA9IGNvbmZpZy5jb250YWluZXIgPT09IGZhbHNlID8gZG9jdW1lbnQuYm9keSA6IGdldEVsZW1lbnQoY29uZmlnLmNvbnRhaW5lcik7XG5cbiAgICBpZiAodHlwZW9mIGNvbmZpZy5kZWxheSA9PT0gJ251bWJlcicpIHtcbiAgICAgIGNvbmZpZy5kZWxheSA9IHtcbiAgICAgICAgc2hvdzogY29uZmlnLmRlbGF5LFxuICAgICAgICBoaWRlOiBjb25maWcuZGVsYXlcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBjb25maWcudGl0bGUgPT09ICdudW1iZXInKSB7XG4gICAgICBjb25maWcudGl0bGUgPSBjb25maWcudGl0bGUudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGNvbmZpZy5jb250ZW50ID09PSAnbnVtYmVyJykge1xuICAgICAgY29uZmlnLmNvbnRlbnQgPSBjb25maWcuY29udGVudC50b1N0cmluZygpO1xuICAgIH1cblxuICAgIHJldHVybiBjb25maWc7XG4gIH1cblxuICBfZ2V0RGVsZWdhdGVDb25maWcoKSB7XG4gICAgY29uc3QgY29uZmlnID0ge307XG5cbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLl9jb25maWcpIHtcbiAgICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHRba2V5XSAhPT0gdGhpcy5fY29uZmlnW2tleV0pIHtcbiAgICAgICAgY29uZmlnW2tleV0gPSB0aGlzLl9jb25maWdba2V5XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25maWcuc2VsZWN0b3IgPSBmYWxzZTtcbiAgICBjb25maWcudHJpZ2dlciA9ICdtYW51YWwnOyAvLyBJbiB0aGUgZnV0dXJlIGNhbiBiZSByZXBsYWNlZCB3aXRoOlxuICAgIC8vIGNvbnN0IGtleXNXaXRoRGlmZmVyZW50VmFsdWVzID0gT2JqZWN0LmVudHJpZXModGhpcy5fY29uZmlnKS5maWx0ZXIoZW50cnkgPT4gdGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0W2VudHJ5WzBdXSAhPT0gdGhpcy5fY29uZmlnW2VudHJ5WzBdXSlcbiAgICAvLyBgT2JqZWN0LmZyb21FbnRyaWVzKGtleXNXaXRoRGlmZmVyZW50VmFsdWVzKWBcblxuICAgIHJldHVybiBjb25maWc7XG4gIH1cblxuICBfZGlzcG9zZVBvcHBlcigpIHtcbiAgICBpZiAodGhpcy5fcG9wcGVyKSB7XG4gICAgICB0aGlzLl9wb3BwZXIuZGVzdHJveSgpO1xuXG4gICAgICB0aGlzLl9wb3BwZXIgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnRpcCkge1xuICAgICAgdGhpcy50aXAucmVtb3ZlKCk7XG4gICAgICB0aGlzLnRpcCA9IG51bGw7XG4gICAgfVxuICB9IC8vIFN0YXRpY1xuXG5cbiAgc3RhdGljIGpRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBUb29sdGlwLmdldE9yQ3JlYXRlSW5zdGFuY2UodGhpcywgY29uZmlnKTtcblxuICAgICAgaWYgKHR5cGVvZiBjb25maWcgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBkYXRhW2NvbmZpZ10gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYE5vIG1ldGhvZCBuYW1lZCBcIiR7Y29uZmlnfVwiYCk7XG4gICAgICB9XG5cbiAgICAgIGRhdGFbY29uZmlnXSgpO1xuICAgIH0pO1xuICB9XG5cbn1cbi8qKlxuICogalF1ZXJ5XG4gKi9cblxuXG5kZWZpbmVKUXVlcnlQbHVnaW4oVG9vbHRpcCk7XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjUuMi4zKTogcG9wb3Zlci5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG4vKipcbiAqIENvbnN0YW50c1xuICovXG5cbmNvbnN0IE5BTUUkMyA9ICdwb3BvdmVyJztcbmNvbnN0IFNFTEVDVE9SX1RJVExFID0gJy5wb3BvdmVyLWhlYWRlcic7XG5jb25zdCBTRUxFQ1RPUl9DT05URU5UID0gJy5wb3BvdmVyLWJvZHknO1xuY29uc3QgRGVmYXVsdCQyID0geyAuLi5Ub29sdGlwLkRlZmF1bHQsXG4gIGNvbnRlbnQ6ICcnLFxuICBvZmZzZXQ6IFswLCA4XSxcbiAgcGxhY2VtZW50OiAncmlnaHQnLFxuICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJwb3BvdmVyXCIgcm9sZT1cInRvb2x0aXBcIj4nICsgJzxkaXYgY2xhc3M9XCJwb3BvdmVyLWFycm93XCI+PC9kaXY+JyArICc8aDMgY2xhc3M9XCJwb3BvdmVyLWhlYWRlclwiPjwvaDM+JyArICc8ZGl2IGNsYXNzPVwicG9wb3Zlci1ib2R5XCI+PC9kaXY+JyArICc8L2Rpdj4nLFxuICB0cmlnZ2VyOiAnY2xpY2snXG59O1xuY29uc3QgRGVmYXVsdFR5cGUkMiA9IHsgLi4uVG9vbHRpcC5EZWZhdWx0VHlwZSxcbiAgY29udGVudDogJyhudWxsfHN0cmluZ3xlbGVtZW50fGZ1bmN0aW9uKSdcbn07XG4vKipcbiAqIENsYXNzIGRlZmluaXRpb25cbiAqL1xuXG5jbGFzcyBQb3BvdmVyIGV4dGVuZHMgVG9vbHRpcCB7XG4gIC8vIEdldHRlcnNcbiAgc3RhdGljIGdldCBEZWZhdWx0KCkge1xuICAgIHJldHVybiBEZWZhdWx0JDI7XG4gIH1cblxuICBzdGF0aWMgZ2V0IERlZmF1bHRUeXBlKCkge1xuICAgIHJldHVybiBEZWZhdWx0VHlwZSQyO1xuICB9XG5cbiAgc3RhdGljIGdldCBOQU1FKCkge1xuICAgIHJldHVybiBOQU1FJDM7XG4gIH0gLy8gT3ZlcnJpZGVzXG5cblxuICBfaXNXaXRoQ29udGVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0VGl0bGUoKSB8fCB0aGlzLl9nZXRDb250ZW50KCk7XG4gIH0gLy8gUHJpdmF0ZVxuXG5cbiAgX2dldENvbnRlbnRGb3JUZW1wbGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgW1NFTEVDVE9SX1RJVExFXTogdGhpcy5fZ2V0VGl0bGUoKSxcbiAgICAgIFtTRUxFQ1RPUl9DT05URU5UXTogdGhpcy5fZ2V0Q29udGVudCgpXG4gICAgfTtcbiAgfVxuXG4gIF9nZXRDb250ZW50KCkge1xuICAgIHJldHVybiB0aGlzLl9yZXNvbHZlUG9zc2libGVGdW5jdGlvbih0aGlzLl9jb25maWcuY29udGVudCk7XG4gIH0gLy8gU3RhdGljXG5cblxuICBzdGF0aWMgalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgZGF0YSA9IFBvcG92ZXIuZ2V0T3JDcmVhdGVJbnN0YW5jZSh0aGlzLCBjb25maWcpO1xuXG4gICAgICBpZiAodHlwZW9mIGNvbmZpZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGRhdGFbY29uZmlnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgTm8gbWV0aG9kIG5hbWVkIFwiJHtjb25maWd9XCJgKTtcbiAgICAgIH1cblxuICAgICAgZGF0YVtjb25maWddKCk7XG4gICAgfSk7XG4gIH1cblxufVxuLyoqXG4gKiBqUXVlcnlcbiAqL1xuXG5cbmRlZmluZUpRdWVyeVBsdWdpbihQb3BvdmVyKTtcblxuLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQm9vdHN0cmFwICh2NS4yLjMpOiBzY3JvbGxzcHkuanNcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuLyoqXG4gKiBDb25zdGFudHNcbiAqL1xuXG5jb25zdCBOQU1FJDIgPSAnc2Nyb2xsc3B5JztcbmNvbnN0IERBVEFfS0VZJDIgPSAnYnMuc2Nyb2xsc3B5JztcbmNvbnN0IEVWRU5UX0tFWSQyID0gYC4ke0RBVEFfS0VZJDJ9YDtcbmNvbnN0IERBVEFfQVBJX0tFWSA9ICcuZGF0YS1hcGknO1xuY29uc3QgRVZFTlRfQUNUSVZBVEUgPSBgYWN0aXZhdGUke0VWRU5UX0tFWSQyfWA7XG5jb25zdCBFVkVOVF9DTElDSyA9IGBjbGljayR7RVZFTlRfS0VZJDJ9YDtcbmNvbnN0IEVWRU5UX0xPQURfREFUQV9BUEkkMSA9IGBsb2FkJHtFVkVOVF9LRVkkMn0ke0RBVEFfQVBJX0tFWX1gO1xuY29uc3QgQ0xBU1NfTkFNRV9EUk9QRE9XTl9JVEVNID0gJ2Ryb3Bkb3duLWl0ZW0nO1xuY29uc3QgQ0xBU1NfTkFNRV9BQ1RJVkUkMSA9ICdhY3RpdmUnO1xuY29uc3QgU0VMRUNUT1JfREFUQV9TUFkgPSAnW2RhdGEtYnMtc3B5PVwic2Nyb2xsXCJdJztcbmNvbnN0IFNFTEVDVE9SX1RBUkdFVF9MSU5LUyA9ICdbaHJlZl0nO1xuY29uc3QgU0VMRUNUT1JfTkFWX0xJU1RfR1JPVVAgPSAnLm5hdiwgLmxpc3QtZ3JvdXAnO1xuY29uc3QgU0VMRUNUT1JfTkFWX0xJTktTID0gJy5uYXYtbGluayc7XG5jb25zdCBTRUxFQ1RPUl9OQVZfSVRFTVMgPSAnLm5hdi1pdGVtJztcbmNvbnN0IFNFTEVDVE9SX0xJU1RfSVRFTVMgPSAnLmxpc3QtZ3JvdXAtaXRlbSc7XG5jb25zdCBTRUxFQ1RPUl9MSU5LX0lURU1TID0gYCR7U0VMRUNUT1JfTkFWX0xJTktTfSwgJHtTRUxFQ1RPUl9OQVZfSVRFTVN9ID4gJHtTRUxFQ1RPUl9OQVZfTElOS1N9LCAke1NFTEVDVE9SX0xJU1RfSVRFTVN9YDtcbmNvbnN0IFNFTEVDVE9SX0RST1BET1dOID0gJy5kcm9wZG93bic7XG5jb25zdCBTRUxFQ1RPUl9EUk9QRE9XTl9UT0dHTEUkMSA9ICcuZHJvcGRvd24tdG9nZ2xlJztcbmNvbnN0IERlZmF1bHQkMSA9IHtcbiAgb2Zmc2V0OiBudWxsLFxuICAvLyBUT0RPOiB2NiBAZGVwcmVjYXRlZCwga2VlcCBpdCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgcmVhc29uc1xuICByb290TWFyZ2luOiAnMHB4IDBweCAtMjUlJyxcbiAgc21vb3RoU2Nyb2xsOiBmYWxzZSxcbiAgdGFyZ2V0OiBudWxsLFxuICB0aHJlc2hvbGQ6IFswLjEsIDAuNSwgMV1cbn07XG5jb25zdCBEZWZhdWx0VHlwZSQxID0ge1xuICBvZmZzZXQ6ICcobnVtYmVyfG51bGwpJyxcbiAgLy8gVE9ETyB2NiBAZGVwcmVjYXRlZCwga2VlcCBpdCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgcmVhc29uc1xuICByb290TWFyZ2luOiAnc3RyaW5nJyxcbiAgc21vb3RoU2Nyb2xsOiAnYm9vbGVhbicsXG4gIHRhcmdldDogJ2VsZW1lbnQnLFxuICB0aHJlc2hvbGQ6ICdhcnJheSdcbn07XG4vKipcbiAqIENsYXNzIGRlZmluaXRpb25cbiAqL1xuXG5jbGFzcyBTY3JvbGxTcHkgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgc3VwZXIoZWxlbWVudCwgY29uZmlnKTsgLy8gdGhpcy5fZWxlbWVudCBpcyB0aGUgb2JzZXJ2YWJsZXNDb250YWluZXIgYW5kIGNvbmZpZy50YXJnZXQgdGhlIG1lbnUgbGlua3Mgd3JhcHBlclxuXG4gICAgdGhpcy5fdGFyZ2V0TGlua3MgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5fb2JzZXJ2YWJsZVNlY3Rpb25zID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuX3Jvb3RFbGVtZW50ID0gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLl9lbGVtZW50KS5vdmVyZmxvd1kgPT09ICd2aXNpYmxlJyA/IG51bGwgOiB0aGlzLl9lbGVtZW50O1xuICAgIHRoaXMuX2FjdGl2ZVRhcmdldCA9IG51bGw7XG4gICAgdGhpcy5fb2JzZXJ2ZXIgPSBudWxsO1xuICAgIHRoaXMuX3ByZXZpb3VzU2Nyb2xsRGF0YSA9IHtcbiAgICAgIHZpc2libGVFbnRyeVRvcDogMCxcbiAgICAgIHBhcmVudFNjcm9sbFRvcDogMFxuICAgIH07XG4gICAgdGhpcy5yZWZyZXNoKCk7IC8vIGluaXRpYWxpemVcbiAgfSAvLyBHZXR0ZXJzXG5cblxuICBzdGF0aWMgZ2V0IERlZmF1bHQoKSB7XG4gICAgcmV0dXJuIERlZmF1bHQkMTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgRGVmYXVsdFR5cGUoKSB7XG4gICAgcmV0dXJuIERlZmF1bHRUeXBlJDE7XG4gIH1cblxuICBzdGF0aWMgZ2V0IE5BTUUoKSB7XG4gICAgcmV0dXJuIE5BTUUkMjtcbiAgfSAvLyBQdWJsaWNcblxuXG4gIHJlZnJlc2goKSB7XG4gICAgdGhpcy5faW5pdGlhbGl6ZVRhcmdldHNBbmRPYnNlcnZhYmxlcygpO1xuXG4gICAgdGhpcy5fbWF5YmVFbmFibGVTbW9vdGhTY3JvbGwoKTtcblxuICAgIGlmICh0aGlzLl9vYnNlcnZlcikge1xuICAgICAgdGhpcy5fb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9vYnNlcnZlciA9IHRoaXMuX2dldE5ld09ic2VydmVyKCk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBzZWN0aW9uIG9mIHRoaXMuX29ic2VydmFibGVTZWN0aW9ucy52YWx1ZXMoKSkge1xuICAgICAgdGhpcy5fb2JzZXJ2ZXIub2JzZXJ2ZShzZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBkaXNwb3NlKCkge1xuICAgIHRoaXMuX29ic2VydmVyLmRpc2Nvbm5lY3QoKTtcblxuICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgfSAvLyBQcml2YXRlXG5cblxuICBfY29uZmlnQWZ0ZXJNZXJnZShjb25maWcpIHtcbiAgICAvLyBUT0RPOiBvbiB2NiB0YXJnZXQgc2hvdWxkIGJlIGdpdmVuIGV4cGxpY2l0bHkgJiByZW1vdmUgdGhlIHt0YXJnZXQ6ICdzcy10YXJnZXQnfSBjYXNlXG4gICAgY29uZmlnLnRhcmdldCA9IGdldEVsZW1lbnQoY29uZmlnLnRhcmdldCkgfHwgZG9jdW1lbnQuYm9keTsgLy8gVE9ETzogdjYgT25seSBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgcmVhc29ucy4gVXNlIHJvb3RNYXJnaW4gb25seVxuXG4gICAgY29uZmlnLnJvb3RNYXJnaW4gPSBjb25maWcub2Zmc2V0ID8gYCR7Y29uZmlnLm9mZnNldH1weCAwcHggLTMwJWAgOiBjb25maWcucm9vdE1hcmdpbjtcblxuICAgIGlmICh0eXBlb2YgY29uZmlnLnRocmVzaG9sZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbmZpZy50aHJlc2hvbGQgPSBjb25maWcudGhyZXNob2xkLnNwbGl0KCcsJykubWFwKHZhbHVlID0+IE51bWJlci5wYXJzZUZsb2F0KHZhbHVlKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfVxuXG4gIF9tYXliZUVuYWJsZVNtb290aFNjcm9sbCgpIHtcbiAgICBpZiAoIXRoaXMuX2NvbmZpZy5zbW9vdGhTY3JvbGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIHVucmVnaXN0ZXIgYW55IHByZXZpb3VzIGxpc3RlbmVyc1xuXG5cbiAgICBFdmVudEhhbmRsZXIub2ZmKHRoaXMuX2NvbmZpZy50YXJnZXQsIEVWRU5UX0NMSUNLKTtcbiAgICBFdmVudEhhbmRsZXIub24odGhpcy5fY29uZmlnLnRhcmdldCwgRVZFTlRfQ0xJQ0ssIFNFTEVDVE9SX1RBUkdFVF9MSU5LUywgZXZlbnQgPT4ge1xuICAgICAgY29uc3Qgb2JzZXJ2YWJsZVNlY3Rpb24gPSB0aGlzLl9vYnNlcnZhYmxlU2VjdGlvbnMuZ2V0KGV2ZW50LnRhcmdldC5oYXNoKTtcblxuICAgICAgaWYgKG9ic2VydmFibGVTZWN0aW9uKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHJvb3QgPSB0aGlzLl9yb290RWxlbWVudCB8fCB3aW5kb3c7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IG9ic2VydmFibGVTZWN0aW9uLm9mZnNldFRvcCAtIHRoaXMuX2VsZW1lbnQub2Zmc2V0VG9wO1xuXG4gICAgICAgIGlmIChyb290LnNjcm9sbFRvKSB7XG4gICAgICAgICAgcm9vdC5zY3JvbGxUbyh7XG4gICAgICAgICAgICB0b3A6IGhlaWdodCxcbiAgICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBDaHJvbWUgNjAgZG9lc24ndCBzdXBwb3J0IGBzY3JvbGxUb2BcblxuXG4gICAgICAgIHJvb3Quc2Nyb2xsVG9wID0gaGVpZ2h0O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX2dldE5ld09ic2VydmVyKCkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICByb290OiB0aGlzLl9yb290RWxlbWVudCxcbiAgICAgIHRocmVzaG9sZDogdGhpcy5fY29uZmlnLnRocmVzaG9sZCxcbiAgICAgIHJvb3RNYXJnaW46IHRoaXMuX2NvbmZpZy5yb290TWFyZ2luXG4gICAgfTtcbiAgICByZXR1cm4gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGVudHJpZXMgPT4gdGhpcy5fb2JzZXJ2ZXJDYWxsYmFjayhlbnRyaWVzKSwgb3B0aW9ucyk7XG4gIH0gLy8gVGhlIGxvZ2ljIG9mIHNlbGVjdGlvblxuXG5cbiAgX29ic2VydmVyQ2FsbGJhY2soZW50cmllcykge1xuICAgIGNvbnN0IHRhcmdldEVsZW1lbnQgPSBlbnRyeSA9PiB0aGlzLl90YXJnZXRMaW5rcy5nZXQoYCMke2VudHJ5LnRhcmdldC5pZH1gKTtcblxuICAgIGNvbnN0IGFjdGl2YXRlID0gZW50cnkgPT4ge1xuICAgICAgdGhpcy5fcHJldmlvdXNTY3JvbGxEYXRhLnZpc2libGVFbnRyeVRvcCA9IGVudHJ5LnRhcmdldC5vZmZzZXRUb3A7XG5cbiAgICAgIHRoaXMuX3Byb2Nlc3ModGFyZ2V0RWxlbWVudChlbnRyeSkpO1xuICAgIH07XG5cbiAgICBjb25zdCBwYXJlbnRTY3JvbGxUb3AgPSAodGhpcy5fcm9vdEVsZW1lbnQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5zY3JvbGxUb3A7XG4gICAgY29uc3QgdXNlclNjcm9sbHNEb3duID0gcGFyZW50U2Nyb2xsVG9wID49IHRoaXMuX3ByZXZpb3VzU2Nyb2xsRGF0YS5wYXJlbnRTY3JvbGxUb3A7XG4gICAgdGhpcy5fcHJldmlvdXNTY3JvbGxEYXRhLnBhcmVudFNjcm9sbFRvcCA9IHBhcmVudFNjcm9sbFRvcDtcblxuICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgaWYgKCFlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICB0aGlzLl9hY3RpdmVUYXJnZXQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2NsZWFyQWN0aXZlQ2xhc3ModGFyZ2V0RWxlbWVudChlbnRyeSkpO1xuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBlbnRyeUlzTG93ZXJUaGFuUHJldmlvdXMgPSBlbnRyeS50YXJnZXQub2Zmc2V0VG9wID49IHRoaXMuX3ByZXZpb3VzU2Nyb2xsRGF0YS52aXNpYmxlRW50cnlUb3A7IC8vIGlmIHdlIGFyZSBzY3JvbGxpbmcgZG93biwgcGljayB0aGUgYmlnZ2VyIG9mZnNldFRvcFxuXG4gICAgICBpZiAodXNlclNjcm9sbHNEb3duICYmIGVudHJ5SXNMb3dlclRoYW5QcmV2aW91cykge1xuICAgICAgICBhY3RpdmF0ZShlbnRyeSk7IC8vIGlmIHBhcmVudCBpc24ndCBzY3JvbGxlZCwgbGV0J3Mga2VlcCB0aGUgZmlyc3QgdmlzaWJsZSBpdGVtLCBicmVha2luZyB0aGUgaXRlcmF0aW9uXG5cbiAgICAgICAgaWYgKCFwYXJlbnRTY3JvbGxUb3ApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gLy8gaWYgd2UgYXJlIHNjcm9sbGluZyB1cCwgcGljayB0aGUgc21hbGxlc3Qgb2Zmc2V0VG9wXG5cblxuICAgICAgaWYgKCF1c2VyU2Nyb2xsc0Rvd24gJiYgIWVudHJ5SXNMb3dlclRoYW5QcmV2aW91cykge1xuICAgICAgICBhY3RpdmF0ZShlbnRyeSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2luaXRpYWxpemVUYXJnZXRzQW5kT2JzZXJ2YWJsZXMoKSB7XG4gICAgdGhpcy5fdGFyZ2V0TGlua3MgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5fb2JzZXJ2YWJsZVNlY3Rpb25zID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHRhcmdldExpbmtzID0gU2VsZWN0b3JFbmdpbmUuZmluZChTRUxFQ1RPUl9UQVJHRVRfTElOS1MsIHRoaXMuX2NvbmZpZy50YXJnZXQpO1xuXG4gICAgZm9yIChjb25zdCBhbmNob3Igb2YgdGFyZ2V0TGlua3MpIHtcbiAgICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBhbmNob3IgaGFzIGFuIGlkIGFuZCBpcyBub3QgZGlzYWJsZWRcbiAgICAgIGlmICghYW5jaG9yLmhhc2ggfHwgaXNEaXNhYmxlZChhbmNob3IpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBvYnNlcnZhYmxlU2VjdGlvbiA9IFNlbGVjdG9yRW5naW5lLmZpbmRPbmUoYW5jaG9yLmhhc2gsIHRoaXMuX2VsZW1lbnQpOyAvLyBlbnN1cmUgdGhhdCB0aGUgb2JzZXJ2YWJsZVNlY3Rpb24gZXhpc3RzICYgaXMgdmlzaWJsZVxuXG4gICAgICBpZiAoaXNWaXNpYmxlKG9ic2VydmFibGVTZWN0aW9uKSkge1xuICAgICAgICB0aGlzLl90YXJnZXRMaW5rcy5zZXQoYW5jaG9yLmhhc2gsIGFuY2hvcik7XG5cbiAgICAgICAgdGhpcy5fb2JzZXJ2YWJsZVNlY3Rpb25zLnNldChhbmNob3IuaGFzaCwgb2JzZXJ2YWJsZVNlY3Rpb24pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9wcm9jZXNzKHRhcmdldCkge1xuICAgIGlmICh0aGlzLl9hY3RpdmVUYXJnZXQgPT09IHRhcmdldCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2NsZWFyQWN0aXZlQ2xhc3ModGhpcy5fY29uZmlnLnRhcmdldCk7XG5cbiAgICB0aGlzLl9hY3RpdmVUYXJnZXQgPSB0YXJnZXQ7XG4gICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9BQ1RJVkUkMSk7XG5cbiAgICB0aGlzLl9hY3RpdmF0ZVBhcmVudHModGFyZ2V0KTtcblxuICAgIEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIEVWRU5UX0FDVElWQVRFLCB7XG4gICAgICByZWxhdGVkVGFyZ2V0OiB0YXJnZXRcbiAgICB9KTtcbiAgfVxuXG4gIF9hY3RpdmF0ZVBhcmVudHModGFyZ2V0KSB7XG4gICAgLy8gQWN0aXZhdGUgZHJvcGRvd24gcGFyZW50c1xuICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfRFJPUERPV05fSVRFTSkpIHtcbiAgICAgIFNlbGVjdG9yRW5naW5lLmZpbmRPbmUoU0VMRUNUT1JfRFJPUERPV05fVE9HR0xFJDEsIHRhcmdldC5jbG9zZXN0KFNFTEVDVE9SX0RST1BET1dOKSkuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX0FDVElWRSQxKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGxpc3RHcm91cCBvZiBTZWxlY3RvckVuZ2luZS5wYXJlbnRzKHRhcmdldCwgU0VMRUNUT1JfTkFWX0xJU1RfR1JPVVApKSB7XG4gICAgICAvLyBTZXQgdHJpZ2dlcmVkIGxpbmtzIHBhcmVudHMgYXMgYWN0aXZlXG4gICAgICAvLyBXaXRoIGJvdGggPHVsPiBhbmQgPG5hdj4gbWFya3VwIGEgcGFyZW50IGlzIHRoZSBwcmV2aW91cyBzaWJsaW5nIG9mIGFueSBuYXYgYW5jZXN0b3JcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBTZWxlY3RvckVuZ2luZS5wcmV2KGxpc3RHcm91cCwgU0VMRUNUT1JfTElOS19JVEVNUykpIHtcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfQUNUSVZFJDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9jbGVhckFjdGl2ZUNsYXNzKHBhcmVudCkge1xuICAgIHBhcmVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfQUNUSVZFJDEpO1xuICAgIGNvbnN0IGFjdGl2ZU5vZGVzID0gU2VsZWN0b3JFbmdpbmUuZmluZChgJHtTRUxFQ1RPUl9UQVJHRVRfTElOS1N9LiR7Q0xBU1NfTkFNRV9BQ1RJVkUkMX1gLCBwYXJlbnQpO1xuXG4gICAgZm9yIChjb25zdCBub2RlIG9mIGFjdGl2ZU5vZGVzKSB7XG4gICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NfTkFNRV9BQ1RJVkUkMSk7XG4gICAgfVxuICB9IC8vIFN0YXRpY1xuXG5cbiAgc3RhdGljIGpRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBTY3JvbGxTcHkuZ2V0T3JDcmVhdGVJbnN0YW5jZSh0aGlzLCBjb25maWcpO1xuXG4gICAgICBpZiAodHlwZW9mIGNvbmZpZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGF0YVtjb25maWddID09PSB1bmRlZmluZWQgfHwgY29uZmlnLnN0YXJ0c1dpdGgoJ18nKSB8fCBjb25maWcgPT09ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgTm8gbWV0aG9kIG5hbWVkIFwiJHtjb25maWd9XCJgKTtcbiAgICAgIH1cblxuICAgICAgZGF0YVtjb25maWddKCk7XG4gICAgfSk7XG4gIH1cblxufVxuLyoqXG4gKiBEYXRhIEFQSSBpbXBsZW1lbnRhdGlvblxuICovXG5cblxuRXZlbnRIYW5kbGVyLm9uKHdpbmRvdywgRVZFTlRfTE9BRF9EQVRBX0FQSSQxLCAoKSA9PiB7XG4gIGZvciAoY29uc3Qgc3B5IG9mIFNlbGVjdG9yRW5naW5lLmZpbmQoU0VMRUNUT1JfREFUQV9TUFkpKSB7XG4gICAgU2Nyb2xsU3B5LmdldE9yQ3JlYXRlSW5zdGFuY2Uoc3B5KTtcbiAgfVxufSk7XG4vKipcbiAqIGpRdWVyeVxuICovXG5cbmRlZmluZUpRdWVyeVBsdWdpbihTY3JvbGxTcHkpO1xuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBCb290c3RyYXAgKHY1LjIuMyk6IHRhYi5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG4vKipcbiAqIENvbnN0YW50c1xuICovXG5cbmNvbnN0IE5BTUUkMSA9ICd0YWInO1xuY29uc3QgREFUQV9LRVkkMSA9ICdicy50YWInO1xuY29uc3QgRVZFTlRfS0VZJDEgPSBgLiR7REFUQV9LRVkkMX1gO1xuY29uc3QgRVZFTlRfSElERSQxID0gYGhpZGUke0VWRU5UX0tFWSQxfWA7XG5jb25zdCBFVkVOVF9ISURERU4kMSA9IGBoaWRkZW4ke0VWRU5UX0tFWSQxfWA7XG5jb25zdCBFVkVOVF9TSE9XJDEgPSBgc2hvdyR7RVZFTlRfS0VZJDF9YDtcbmNvbnN0IEVWRU5UX1NIT1dOJDEgPSBgc2hvd24ke0VWRU5UX0tFWSQxfWA7XG5jb25zdCBFVkVOVF9DTElDS19EQVRBX0FQSSA9IGBjbGljayR7RVZFTlRfS0VZJDF9YDtcbmNvbnN0IEVWRU5UX0tFWURPV04gPSBga2V5ZG93biR7RVZFTlRfS0VZJDF9YDtcbmNvbnN0IEVWRU5UX0xPQURfREFUQV9BUEkgPSBgbG9hZCR7RVZFTlRfS0VZJDF9YDtcbmNvbnN0IEFSUk9XX0xFRlRfS0VZID0gJ0Fycm93TGVmdCc7XG5jb25zdCBBUlJPV19SSUdIVF9LRVkgPSAnQXJyb3dSaWdodCc7XG5jb25zdCBBUlJPV19VUF9LRVkgPSAnQXJyb3dVcCc7XG5jb25zdCBBUlJPV19ET1dOX0tFWSA9ICdBcnJvd0Rvd24nO1xuY29uc3QgQ0xBU1NfTkFNRV9BQ1RJVkUgPSAnYWN0aXZlJztcbmNvbnN0IENMQVNTX05BTUVfRkFERSQxID0gJ2ZhZGUnO1xuY29uc3QgQ0xBU1NfTkFNRV9TSE9XJDEgPSAnc2hvdyc7XG5jb25zdCBDTEFTU19EUk9QRE9XTiA9ICdkcm9wZG93bic7XG5jb25zdCBTRUxFQ1RPUl9EUk9QRE9XTl9UT0dHTEUgPSAnLmRyb3Bkb3duLXRvZ2dsZSc7XG5jb25zdCBTRUxFQ1RPUl9EUk9QRE9XTl9NRU5VID0gJy5kcm9wZG93bi1tZW51JztcbmNvbnN0IE5PVF9TRUxFQ1RPUl9EUk9QRE9XTl9UT0dHTEUgPSAnOm5vdCguZHJvcGRvd24tdG9nZ2xlKSc7XG5jb25zdCBTRUxFQ1RPUl9UQUJfUEFORUwgPSAnLmxpc3QtZ3JvdXAsIC5uYXYsIFtyb2xlPVwidGFibGlzdFwiXSc7XG5jb25zdCBTRUxFQ1RPUl9PVVRFUiA9ICcubmF2LWl0ZW0sIC5saXN0LWdyb3VwLWl0ZW0nO1xuY29uc3QgU0VMRUNUT1JfSU5ORVIgPSBgLm5hdi1saW5rJHtOT1RfU0VMRUNUT1JfRFJPUERPV05fVE9HR0xFfSwgLmxpc3QtZ3JvdXAtaXRlbSR7Tk9UX1NFTEVDVE9SX0RST1BET1dOX1RPR0dMRX0sIFtyb2xlPVwidGFiXCJdJHtOT1RfU0VMRUNUT1JfRFJPUERPV05fVE9HR0xFfWA7XG5jb25zdCBTRUxFQ1RPUl9EQVRBX1RPR0dMRSA9ICdbZGF0YS1icy10b2dnbGU9XCJ0YWJcIl0sIFtkYXRhLWJzLXRvZ2dsZT1cInBpbGxcIl0sIFtkYXRhLWJzLXRvZ2dsZT1cImxpc3RcIl0nOyAvLyB0b2RvOnY2OiBjb3VsZCBiZSBvbmx5IGB0YWJgXG5cbmNvbnN0IFNFTEVDVE9SX0lOTkVSX0VMRU0gPSBgJHtTRUxFQ1RPUl9JTk5FUn0sICR7U0VMRUNUT1JfREFUQV9UT0dHTEV9YDtcbmNvbnN0IFNFTEVDVE9SX0RBVEFfVE9HR0xFX0FDVElWRSA9IGAuJHtDTEFTU19OQU1FX0FDVElWRX1bZGF0YS1icy10b2dnbGU9XCJ0YWJcIl0sIC4ke0NMQVNTX05BTUVfQUNUSVZFfVtkYXRhLWJzLXRvZ2dsZT1cInBpbGxcIl0sIC4ke0NMQVNTX05BTUVfQUNUSVZFfVtkYXRhLWJzLXRvZ2dsZT1cImxpc3RcIl1gO1xuLyoqXG4gKiBDbGFzcyBkZWZpbml0aW9uXG4gKi9cblxuY2xhc3MgVGFiIGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICBzdXBlcihlbGVtZW50KTtcbiAgICB0aGlzLl9wYXJlbnQgPSB0aGlzLl9lbGVtZW50LmNsb3Nlc3QoU0VMRUNUT1JfVEFCX1BBTkVMKTtcblxuICAgIGlmICghdGhpcy5fcGFyZW50KSB7XG4gICAgICByZXR1cm47IC8vIHRvZG86IHNob3VsZCBUaHJvdyBleGNlcHRpb24gb24gdjZcbiAgICAgIC8vIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7ZWxlbWVudC5vdXRlckhUTUx9IGhhcyBub3QgYSB2YWxpZCBwYXJlbnQgJHtTRUxFQ1RPUl9JTk5FUl9FTEVNfWApXG4gICAgfSAvLyBTZXQgdXAgaW5pdGlhbCBhcmlhIGF0dHJpYnV0ZXNcblxuXG4gICAgdGhpcy5fc2V0SW5pdGlhbEF0dHJpYnV0ZXModGhpcy5fcGFyZW50LCB0aGlzLl9nZXRDaGlsZHJlbigpKTtcblxuICAgIEV2ZW50SGFuZGxlci5vbih0aGlzLl9lbGVtZW50LCBFVkVOVF9LRVlET1dOLCBldmVudCA9PiB0aGlzLl9rZXlkb3duKGV2ZW50KSk7XG4gIH0gLy8gR2V0dGVyc1xuXG5cbiAgc3RhdGljIGdldCBOQU1FKCkge1xuICAgIHJldHVybiBOQU1FJDE7XG4gIH0gLy8gUHVibGljXG5cblxuICBzaG93KCkge1xuICAgIC8vIFNob3dzIHRoaXMgZWxlbSBhbmQgZGVhY3RpdmF0ZSB0aGUgYWN0aXZlIHNpYmxpbmcgaWYgZXhpc3RzXG4gICAgY29uc3QgaW5uZXJFbGVtID0gdGhpcy5fZWxlbWVudDtcblxuICAgIGlmICh0aGlzLl9lbGVtSXNBY3RpdmUoaW5uZXJFbGVtKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gU2VhcmNoIGZvciBhY3RpdmUgdGFiIG9uIHNhbWUgcGFyZW50IHRvIGRlYWN0aXZhdGUgaXRcblxuXG4gICAgY29uc3QgYWN0aXZlID0gdGhpcy5fZ2V0QWN0aXZlRWxlbSgpO1xuXG4gICAgY29uc3QgaGlkZUV2ZW50ID0gYWN0aXZlID8gRXZlbnRIYW5kbGVyLnRyaWdnZXIoYWN0aXZlLCBFVkVOVF9ISURFJDEsIHtcbiAgICAgIHJlbGF0ZWRUYXJnZXQ6IGlubmVyRWxlbVxuICAgIH0pIDogbnVsbDtcbiAgICBjb25zdCBzaG93RXZlbnQgPSBFdmVudEhhbmRsZXIudHJpZ2dlcihpbm5lckVsZW0sIEVWRU5UX1NIT1ckMSwge1xuICAgICAgcmVsYXRlZFRhcmdldDogYWN0aXZlXG4gICAgfSk7XG5cbiAgICBpZiAoc2hvd0V2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgfHwgaGlkZUV2ZW50ICYmIGhpZGVFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fZGVhY3RpdmF0ZShhY3RpdmUsIGlubmVyRWxlbSk7XG5cbiAgICB0aGlzLl9hY3RpdmF0ZShpbm5lckVsZW0sIGFjdGl2ZSk7XG4gIH0gLy8gUHJpdmF0ZVxuXG5cbiAgX2FjdGl2YXRlKGVsZW1lbnQsIHJlbGF0ZWRFbGVtKSB7XG4gICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfQUNUSVZFKTtcblxuICAgIHRoaXMuX2FjdGl2YXRlKGdldEVsZW1lbnRGcm9tU2VsZWN0b3IoZWxlbWVudCkpOyAvLyBTZWFyY2ggYW5kIGFjdGl2YXRlL3Nob3cgdGhlIHByb3BlciBzZWN0aW9uXG5cblxuICAgIGNvbnN0IGNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdyb2xlJykgIT09ICd0YWInKSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX1NIT1ckMSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIHRydWUpO1xuXG4gICAgICB0aGlzLl90b2dnbGVEcm9wRG93bihlbGVtZW50LCB0cnVlKTtcblxuICAgICAgRXZlbnRIYW5kbGVyLnRyaWdnZXIoZWxlbWVudCwgRVZFTlRfU0hPV04kMSwge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkRWxlbVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuX3F1ZXVlQ2FsbGJhY2soY29tcGxldGUsIGVsZW1lbnQsIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfRkFERSQxKSk7XG4gIH1cblxuICBfZGVhY3RpdmF0ZShlbGVtZW50LCByZWxhdGVkRWxlbSkge1xuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX0FDVElWRSk7XG4gICAgZWxlbWVudC5ibHVyKCk7XG5cbiAgICB0aGlzLl9kZWFjdGl2YXRlKGdldEVsZW1lbnRGcm9tU2VsZWN0b3IoZWxlbWVudCkpOyAvLyBTZWFyY2ggYW5kIGRlYWN0aXZhdGUgdGhlIHNob3duIHNlY3Rpb24gdG9vXG5cblxuICAgIGNvbnN0IGNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdyb2xlJykgIT09ICd0YWInKSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX1NIT1ckMSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBmYWxzZSk7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcblxuICAgICAgdGhpcy5fdG9nZ2xlRHJvcERvd24oZWxlbWVudCwgZmFsc2UpO1xuXG4gICAgICBFdmVudEhhbmRsZXIudHJpZ2dlcihlbGVtZW50LCBFVkVOVF9ISURERU4kMSwge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkRWxlbVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuX3F1ZXVlQ2FsbGJhY2soY29tcGxldGUsIGVsZW1lbnQsIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfRkFERSQxKSk7XG4gIH1cblxuICBfa2V5ZG93bihldmVudCkge1xuICAgIGlmICghW0FSUk9XX0xFRlRfS0VZLCBBUlJPV19SSUdIVF9LRVksIEFSUk9XX1VQX0tFWSwgQVJST1dfRE9XTl9LRVldLmluY2x1ZGVzKGV2ZW50LmtleSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgLy8gc3RvcFByb3BhZ2F0aW9uL3ByZXZlbnREZWZhdWx0IGJvdGggYWRkZWQgdG8gc3VwcG9ydCB1cC9kb3duIGtleXMgd2l0aG91dCBzY3JvbGxpbmcgdGhlIHBhZ2VcblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgaXNOZXh0ID0gW0FSUk9XX1JJR0hUX0tFWSwgQVJST1dfRE9XTl9LRVldLmluY2x1ZGVzKGV2ZW50LmtleSk7XG4gICAgY29uc3QgbmV4dEFjdGl2ZUVsZW1lbnQgPSBnZXROZXh0QWN0aXZlRWxlbWVudCh0aGlzLl9nZXRDaGlsZHJlbigpLmZpbHRlcihlbGVtZW50ID0+ICFpc0Rpc2FibGVkKGVsZW1lbnQpKSwgZXZlbnQudGFyZ2V0LCBpc05leHQsIHRydWUpO1xuXG4gICAgaWYgKG5leHRBY3RpdmVFbGVtZW50KSB7XG4gICAgICBuZXh0QWN0aXZlRWxlbWVudC5mb2N1cyh7XG4gICAgICAgIHByZXZlbnRTY3JvbGw6IHRydWVcbiAgICAgIH0pO1xuICAgICAgVGFiLmdldE9yQ3JlYXRlSW5zdGFuY2UobmV4dEFjdGl2ZUVsZW1lbnQpLnNob3coKTtcbiAgICB9XG4gIH1cblxuICBfZ2V0Q2hpbGRyZW4oKSB7XG4gICAgLy8gY29sbGVjdGlvbiBvZiBpbm5lciBlbGVtZW50c1xuICAgIHJldHVybiBTZWxlY3RvckVuZ2luZS5maW5kKFNFTEVDVE9SX0lOTkVSX0VMRU0sIHRoaXMuX3BhcmVudCk7XG4gIH1cblxuICBfZ2V0QWN0aXZlRWxlbSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0Q2hpbGRyZW4oKS5maW5kKGNoaWxkID0+IHRoaXMuX2VsZW1Jc0FjdGl2ZShjaGlsZCkpIHx8IG51bGw7XG4gIH1cblxuICBfc2V0SW5pdGlhbEF0dHJpYnV0ZXMocGFyZW50LCBjaGlsZHJlbikge1xuICAgIHRoaXMuX3NldEF0dHJpYnV0ZUlmTm90RXhpc3RzKHBhcmVudCwgJ3JvbGUnLCAndGFibGlzdCcpO1xuXG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiBjaGlsZHJlbikge1xuICAgICAgdGhpcy5fc2V0SW5pdGlhbEF0dHJpYnV0ZXNPbkNoaWxkKGNoaWxkKTtcbiAgICB9XG4gIH1cblxuICBfc2V0SW5pdGlhbEF0dHJpYnV0ZXNPbkNoaWxkKGNoaWxkKSB7XG4gICAgY2hpbGQgPSB0aGlzLl9nZXRJbm5lckVsZW1lbnQoY2hpbGQpO1xuXG4gICAgY29uc3QgaXNBY3RpdmUgPSB0aGlzLl9lbGVtSXNBY3RpdmUoY2hpbGQpO1xuXG4gICAgY29uc3Qgb3V0ZXJFbGVtID0gdGhpcy5fZ2V0T3V0ZXJFbGVtZW50KGNoaWxkKTtcblxuICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlKTtcblxuICAgIGlmIChvdXRlckVsZW0gIT09IGNoaWxkKSB7XG4gICAgICB0aGlzLl9zZXRBdHRyaWJ1dGVJZk5vdEV4aXN0cyhvdXRlckVsZW0sICdyb2xlJywgJ3ByZXNlbnRhdGlvbicpO1xuICAgIH1cblxuICAgIGlmICghaXNBY3RpdmUpIHtcbiAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRBdHRyaWJ1dGVJZk5vdEV4aXN0cyhjaGlsZCwgJ3JvbGUnLCAndGFiJyk7IC8vIHNldCBhdHRyaWJ1dGVzIHRvIHRoZSByZWxhdGVkIHBhbmVsIHRvb1xuXG5cbiAgICB0aGlzLl9zZXRJbml0aWFsQXR0cmlidXRlc09uVGFyZ2V0UGFuZWwoY2hpbGQpO1xuICB9XG5cbiAgX3NldEluaXRpYWxBdHRyaWJ1dGVzT25UYXJnZXRQYW5lbChjaGlsZCkge1xuICAgIGNvbnN0IHRhcmdldCA9IGdldEVsZW1lbnRGcm9tU2VsZWN0b3IoY2hpbGQpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRBdHRyaWJ1dGVJZk5vdEV4aXN0cyh0YXJnZXQsICdyb2xlJywgJ3RhYnBhbmVsJyk7XG5cbiAgICBpZiAoY2hpbGQuaWQpIHtcbiAgICAgIHRoaXMuX3NldEF0dHJpYnV0ZUlmTm90RXhpc3RzKHRhcmdldCwgJ2FyaWEtbGFiZWxsZWRieScsIGAjJHtjaGlsZC5pZH1gKTtcbiAgICB9XG4gIH1cblxuICBfdG9nZ2xlRHJvcERvd24oZWxlbWVudCwgb3Blbikge1xuICAgIGNvbnN0IG91dGVyRWxlbSA9IHRoaXMuX2dldE91dGVyRWxlbWVudChlbGVtZW50KTtcblxuICAgIGlmICghb3V0ZXJFbGVtLmNsYXNzTGlzdC5jb250YWlucyhDTEFTU19EUk9QRE9XTikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB0b2dnbGUgPSAoc2VsZWN0b3IsIGNsYXNzTmFtZSkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudCA9IFNlbGVjdG9yRW5naW5lLmZpbmRPbmUoc2VsZWN0b3IsIG91dGVyRWxlbSk7XG5cbiAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShjbGFzc05hbWUsIG9wZW4pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0b2dnbGUoU0VMRUNUT1JfRFJPUERPV05fVE9HR0xFLCBDTEFTU19OQU1FX0FDVElWRSk7XG4gICAgdG9nZ2xlKFNFTEVDVE9SX0RST1BET1dOX01FTlUsIENMQVNTX05BTUVfU0hPVyQxKTtcbiAgICBvdXRlckVsZW0uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgb3Blbik7XG4gIH1cblxuICBfc2V0QXR0cmlidXRlSWZOb3RFeGlzdHMoZWxlbWVudCwgYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgIGlmICghZWxlbWVudC5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlKSkge1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgX2VsZW1Jc0FjdGl2ZShlbGVtKSB7XG4gICAgcmV0dXJuIGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfQUNUSVZFKTtcbiAgfSAvLyBUcnkgdG8gZ2V0IHRoZSBpbm5lciBlbGVtZW50ICh1c3VhbGx5IHRoZSAubmF2LWxpbmspXG5cblxuICBfZ2V0SW5uZXJFbGVtZW50KGVsZW0pIHtcbiAgICByZXR1cm4gZWxlbS5tYXRjaGVzKFNFTEVDVE9SX0lOTkVSX0VMRU0pID8gZWxlbSA6IFNlbGVjdG9yRW5naW5lLmZpbmRPbmUoU0VMRUNUT1JfSU5ORVJfRUxFTSwgZWxlbSk7XG4gIH0gLy8gVHJ5IHRvIGdldCB0aGUgb3V0ZXIgZWxlbWVudCAodXN1YWxseSB0aGUgLm5hdi1pdGVtKVxuXG5cbiAgX2dldE91dGVyRWxlbWVudChlbGVtKSB7XG4gICAgcmV0dXJuIGVsZW0uY2xvc2VzdChTRUxFQ1RPUl9PVVRFUikgfHwgZWxlbTtcbiAgfSAvLyBTdGF0aWNcblxuXG4gIHN0YXRpYyBqUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBkYXRhID0gVGFiLmdldE9yQ3JlYXRlSW5zdGFuY2UodGhpcyk7XG5cbiAgICAgIGlmICh0eXBlb2YgY29uZmlnICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRhW2NvbmZpZ10gPT09IHVuZGVmaW5lZCB8fCBjb25maWcuc3RhcnRzV2l0aCgnXycpIHx8IGNvbmZpZyA9PT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBObyBtZXRob2QgbmFtZWQgXCIke2NvbmZpZ31cImApO1xuICAgICAgfVxuXG4gICAgICBkYXRhW2NvbmZpZ10oKTtcbiAgICB9KTtcbiAgfVxuXG59XG4vKipcbiAqIERhdGEgQVBJIGltcGxlbWVudGF0aW9uXG4gKi9cblxuXG5FdmVudEhhbmRsZXIub24oZG9jdW1lbnQsIEVWRU5UX0NMSUNLX0RBVEFfQVBJLCBTRUxFQ1RPUl9EQVRBX1RPR0dMRSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gIGlmIChbJ0EnLCAnQVJFQSddLmluY2x1ZGVzKHRoaXMudGFnTmFtZSkpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgaWYgKGlzRGlzYWJsZWQodGhpcykpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBUYWIuZ2V0T3JDcmVhdGVJbnN0YW5jZSh0aGlzKS5zaG93KCk7XG59KTtcbi8qKlxuICogSW5pdGlhbGl6ZSBvbiBmb2N1c1xuICovXG5cbkV2ZW50SGFuZGxlci5vbih3aW5kb3csIEVWRU5UX0xPQURfREFUQV9BUEksICgpID0+IHtcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIFNlbGVjdG9yRW5naW5lLmZpbmQoU0VMRUNUT1JfREFUQV9UT0dHTEVfQUNUSVZFKSkge1xuICAgIFRhYi5nZXRPckNyZWF0ZUluc3RhbmNlKGVsZW1lbnQpO1xuICB9XG59KTtcbi8qKlxuICogalF1ZXJ5XG4gKi9cblxuZGVmaW5lSlF1ZXJ5UGx1Z2luKFRhYik7XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjUuMi4zKTogdG9hc3QuanNcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuLyoqXG4gKiBDb25zdGFudHNcbiAqL1xuXG5jb25zdCBOQU1FID0gJ3RvYXN0JztcbmNvbnN0IERBVEFfS0VZID0gJ2JzLnRvYXN0JztcbmNvbnN0IEVWRU5UX0tFWSA9IGAuJHtEQVRBX0tFWX1gO1xuY29uc3QgRVZFTlRfTU9VU0VPVkVSID0gYG1vdXNlb3ZlciR7RVZFTlRfS0VZfWA7XG5jb25zdCBFVkVOVF9NT1VTRU9VVCA9IGBtb3VzZW91dCR7RVZFTlRfS0VZfWA7XG5jb25zdCBFVkVOVF9GT0NVU0lOID0gYGZvY3VzaW4ke0VWRU5UX0tFWX1gO1xuY29uc3QgRVZFTlRfRk9DVVNPVVQgPSBgZm9jdXNvdXQke0VWRU5UX0tFWX1gO1xuY29uc3QgRVZFTlRfSElERSA9IGBoaWRlJHtFVkVOVF9LRVl9YDtcbmNvbnN0IEVWRU5UX0hJRERFTiA9IGBoaWRkZW4ke0VWRU5UX0tFWX1gO1xuY29uc3QgRVZFTlRfU0hPVyA9IGBzaG93JHtFVkVOVF9LRVl9YDtcbmNvbnN0IEVWRU5UX1NIT1dOID0gYHNob3duJHtFVkVOVF9LRVl9YDtcbmNvbnN0IENMQVNTX05BTUVfRkFERSA9ICdmYWRlJztcbmNvbnN0IENMQVNTX05BTUVfSElERSA9ICdoaWRlJzsgLy8gQGRlcHJlY2F0ZWQgLSBrZXB0IGhlcmUgb25seSBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcblxuY29uc3QgQ0xBU1NfTkFNRV9TSE9XID0gJ3Nob3cnO1xuY29uc3QgQ0xBU1NfTkFNRV9TSE9XSU5HID0gJ3Nob3dpbmcnO1xuY29uc3QgRGVmYXVsdFR5cGUgPSB7XG4gIGFuaW1hdGlvbjogJ2Jvb2xlYW4nLFxuICBhdXRvaGlkZTogJ2Jvb2xlYW4nLFxuICBkZWxheTogJ251bWJlcidcbn07XG5jb25zdCBEZWZhdWx0ID0ge1xuICBhbmltYXRpb246IHRydWUsXG4gIGF1dG9oaWRlOiB0cnVlLFxuICBkZWxheTogNTAwMFxufTtcbi8qKlxuICogQ2xhc3MgZGVmaW5pdGlvblxuICovXG5cbmNsYXNzIFRvYXN0IGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGNvbmZpZykge1xuICAgIHN1cGVyKGVsZW1lbnQsIGNvbmZpZyk7XG4gICAgdGhpcy5fdGltZW91dCA9IG51bGw7XG4gICAgdGhpcy5faGFzTW91c2VJbnRlcmFjdGlvbiA9IGZhbHNlO1xuICAgIHRoaXMuX2hhc0tleWJvYXJkSW50ZXJhY3Rpb24gPSBmYWxzZTtcblxuICAgIHRoaXMuX3NldExpc3RlbmVycygpO1xuICB9IC8vIEdldHRlcnNcblxuXG4gIHN0YXRpYyBnZXQgRGVmYXVsdCgpIHtcbiAgICByZXR1cm4gRGVmYXVsdDtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgRGVmYXVsdFR5cGUoKSB7XG4gICAgcmV0dXJuIERlZmF1bHRUeXBlO1xuICB9XG5cbiAgc3RhdGljIGdldCBOQU1FKCkge1xuICAgIHJldHVybiBOQU1FO1xuICB9IC8vIFB1YmxpY1xuXG5cbiAgc2hvdygpIHtcbiAgICBjb25zdCBzaG93RXZlbnQgPSBFdmVudEhhbmRsZXIudHJpZ2dlcih0aGlzLl9lbGVtZW50LCBFVkVOVF9TSE9XKTtcblxuICAgIGlmIChzaG93RXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2NsZWFyVGltZW91dCgpO1xuXG4gICAgaWYgKHRoaXMuX2NvbmZpZy5hbmltYXRpb24pIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX0ZBREUpO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfU0hPV0lORyk7XG5cbiAgICAgIEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIEVWRU5UX1NIT1dOKTtcblxuICAgICAgdGhpcy5fbWF5YmVTY2hlZHVsZUhpZGUoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfSElERSk7IC8vIEBkZXByZWNhdGVkXG5cblxuICAgIHJlZmxvdyh0aGlzLl9lbGVtZW50KTtcblxuICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX1NIT1csIENMQVNTX05BTUVfU0hPV0lORyk7XG5cbiAgICB0aGlzLl9xdWV1ZUNhbGxiYWNrKGNvbXBsZXRlLCB0aGlzLl9lbGVtZW50LCB0aGlzLl9jb25maWcuYW5pbWF0aW9uKTtcbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgaWYgKCF0aGlzLmlzU2hvd24oKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGhpZGVFdmVudCA9IEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIEVWRU5UX0hJREUpO1xuXG4gICAgaWYgKGhpZGVFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9ISURFKTsgLy8gQGRlcHJlY2F0ZWRcblxuXG4gICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NfTkFNRV9TSE9XSU5HLCBDTEFTU19OQU1FX1NIT1cpO1xuXG4gICAgICBFdmVudEhhbmRsZXIudHJpZ2dlcih0aGlzLl9lbGVtZW50LCBFVkVOVF9ISURERU4pO1xuICAgIH07XG5cbiAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9TSE9XSU5HKTtcblxuICAgIHRoaXMuX3F1ZXVlQ2FsbGJhY2soY29tcGxldGUsIHRoaXMuX2VsZW1lbnQsIHRoaXMuX2NvbmZpZy5hbmltYXRpb24pO1xuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICB0aGlzLl9jbGVhclRpbWVvdXQoKTtcblxuICAgIGlmICh0aGlzLmlzU2hvd24oKSkge1xuICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfU0hPVyk7XG4gICAgfVxuXG4gICAgc3VwZXIuZGlzcG9zZSgpO1xuICB9XG5cbiAgaXNTaG93bigpIHtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9TSE9XKTtcbiAgfSAvLyBQcml2YXRlXG5cblxuICBfbWF5YmVTY2hlZHVsZUhpZGUoKSB7XG4gICAgaWYgKCF0aGlzLl9jb25maWcuYXV0b2hpZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5faGFzTW91c2VJbnRlcmFjdGlvbiB8fCB0aGlzLl9oYXNLZXlib2FyZEludGVyYWN0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfSwgdGhpcy5fY29uZmlnLmRlbGF5KTtcbiAgfVxuXG4gIF9vbkludGVyYWN0aW9uKGV2ZW50LCBpc0ludGVyYWN0aW5nKSB7XG4gICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICBjYXNlICdtb3VzZW92ZXInOlxuICAgICAgY2FzZSAnbW91c2VvdXQnOlxuICAgICAgICB7XG4gICAgICAgICAgdGhpcy5faGFzTW91c2VJbnRlcmFjdGlvbiA9IGlzSW50ZXJhY3Rpbmc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAnZm9jdXNpbic6XG4gICAgICBjYXNlICdmb2N1c291dCc6XG4gICAgICAgIHtcbiAgICAgICAgICB0aGlzLl9oYXNLZXlib2FyZEludGVyYWN0aW9uID0gaXNJbnRlcmFjdGluZztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc0ludGVyYWN0aW5nKSB7XG4gICAgICB0aGlzLl9jbGVhclRpbWVvdXQoKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5leHRFbGVtZW50ID0gZXZlbnQucmVsYXRlZFRhcmdldDtcblxuICAgIGlmICh0aGlzLl9lbGVtZW50ID09PSBuZXh0RWxlbWVudCB8fCB0aGlzLl9lbGVtZW50LmNvbnRhaW5zKG5leHRFbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX21heWJlU2NoZWR1bGVIaWRlKCk7XG4gIH1cblxuICBfc2V0TGlzdGVuZXJzKCkge1xuICAgIEV2ZW50SGFuZGxlci5vbih0aGlzLl9lbGVtZW50LCBFVkVOVF9NT1VTRU9WRVIsIGV2ZW50ID0+IHRoaXMuX29uSW50ZXJhY3Rpb24oZXZlbnQsIHRydWUpKTtcbiAgICBFdmVudEhhbmRsZXIub24odGhpcy5fZWxlbWVudCwgRVZFTlRfTU9VU0VPVVQsIGV2ZW50ID0+IHRoaXMuX29uSW50ZXJhY3Rpb24oZXZlbnQsIGZhbHNlKSk7XG4gICAgRXZlbnRIYW5kbGVyLm9uKHRoaXMuX2VsZW1lbnQsIEVWRU5UX0ZPQ1VTSU4sIGV2ZW50ID0+IHRoaXMuX29uSW50ZXJhY3Rpb24oZXZlbnQsIHRydWUpKTtcbiAgICBFdmVudEhhbmRsZXIub24odGhpcy5fZWxlbWVudCwgRVZFTlRfRk9DVVNPVVQsIGV2ZW50ID0+IHRoaXMuX29uSW50ZXJhY3Rpb24oZXZlbnQsIGZhbHNlKSk7XG4gIH1cblxuICBfY2xlYXJUaW1lb3V0KCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcbiAgICB0aGlzLl90aW1lb3V0ID0gbnVsbDtcbiAgfSAvLyBTdGF0aWNcblxuXG4gIHN0YXRpYyBqUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBkYXRhID0gVG9hc3QuZ2V0T3JDcmVhdGVJbnN0YW5jZSh0aGlzLCBjb25maWcpO1xuXG4gICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhW2NvbmZpZ10gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgTm8gbWV0aG9kIG5hbWVkIFwiJHtjb25maWd9XCJgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGFbY29uZmlnXSh0aGlzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG59XG4vKipcbiAqIERhdGEgQVBJIGltcGxlbWVudGF0aW9uXG4gKi9cblxuXG5lbmFibGVEaXNtaXNzVHJpZ2dlcihUb2FzdCk7XG4vKipcbiAqIGpRdWVyeVxuICovXG5cbmRlZmluZUpRdWVyeVBsdWdpbihUb2FzdCk7XG5cbmV4cG9ydCB7IEFsZXJ0LCBCdXR0b24sIENhcm91c2VsLCBDb2xsYXBzZSwgRHJvcGRvd24sIE1vZGFsLCBPZmZjYW52YXMsIFBvcG92ZXIsIFNjcm9sbFNweSwgVGFiLCBUb2FzdCwgVG9vbHRpcCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Ym9vdHN0cmFwLmVzbS5qcy5tYXBcbiIsIu+7vy8qXG5Db3B5cmlnaHQgKGMpIDIwMDMtMjAyMiwgQ0tTb3VyY2UgSG9sZGluZyBzcC4geiBvLm8uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5Gb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZS9cbiovXG4oZnVuY3Rpb24oKXt3aW5kb3cuQ0tFRElUT1ImJndpbmRvdy5DS0VESVRPUi5kb218fCh3aW5kb3cuQ0tFRElUT1J8fCh3aW5kb3cuQ0tFRElUT1I9ZnVuY3Rpb24oKXt2YXIgYT0vKF58LipbXFxcXFxcL10pY2tlZGl0b3JcXC5qcyg/OlxcPy4qfDsuKik/JC9pLGY9e3RpbWVzdGFtcDpcIk1BVUZcIix2ZXJzaW9uOlwiNC4yMC4xIChTdGFuZGFyZClcIixyZXZpc2lvbjpcImI1MjBhYTJiNDBcIixybmQ6TWF0aC5mbG9vcig5MDAqTWF0aC5yYW5kb20oKSkrMTAwLF86e3BlbmRpbmc6W10sYmFzZVBhdGhTcmNQYXR0ZXJuOmF9LHN0YXR1czpcInVubG9hZGVkXCIsYmFzZVBhdGg6ZnVuY3Rpb24oKXt2YXIgYz13aW5kb3cuQ0tFRElUT1JfQkFTRVBBVEh8fFwiXCI7aWYoIWMpZm9yKHZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpLGU9MDtlPGIubGVuZ3RoO2UrKyl7dmFyIG09YltlXS5zcmMubWF0Y2goYSk7aWYobSl7Yz1tWzFdO2JyZWFrfX0tMT09Yy5pbmRleE9mKFwiOi9cIikmJlxuXCIvL1wiIT1jLnNsaWNlKDAsMikmJihjPTA9PT1jLmluZGV4T2YoXCIvXCIpP2xvY2F0aW9uLmhyZWYubWF0Y2goL14uKj86XFwvXFwvW15cXC9dKi8pWzBdK2M6bG9jYXRpb24uaHJlZi5tYXRjaCgvXlteXFw/XSpcXC8oPzopLylbMF0rYyk7aWYoIWMpdGhyb3cnVGhlIENLRWRpdG9yIGluc3RhbGxhdGlvbiBwYXRoIGNvdWxkIG5vdCBiZSBhdXRvbWF0aWNhbGx5IGRldGVjdGVkLiBQbGVhc2Ugc2V0IHRoZSBnbG9iYWwgdmFyaWFibGUgXCJDS0VESVRPUl9CQVNFUEFUSFwiIGJlZm9yZSBjcmVhdGluZyBlZGl0b3IgaW5zdGFuY2VzLic7cmV0dXJuIGN9KCksZ2V0VXJsOmZ1bmN0aW9uKGEpey0xPT1hLmluZGV4T2YoXCI6L1wiKSYmMCE9PWEuaW5kZXhPZihcIi9cIikmJihhPXRoaXMuYmFzZVBhdGgrYSk7cmV0dXJuIGE9dGhpcy5hcHBlbmRUaW1lc3RhbXAoYSl9LGFwcGVuZFRpbWVzdGFtcDpmdW5jdGlvbihhKXtpZighdGhpcy50aW1lc3RhbXB8fFwiL1wiPT09YS5jaGFyQXQoYS5sZW5ndGgtMSl8fC9bJj9ddD0vLnRlc3QoYSkpcmV0dXJuIGE7XG52YXIgYj0wPD1hLmluZGV4T2YoXCI/XCIpP1wiXFx4MjZcIjpcIj9cIjtyZXR1cm4gYStiK1widFxceDNkXCIrdGhpcy50aW1lc3RhbXB9LGRvbVJlYWR5OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3RyeXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyPyhkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGEsITEpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLGEsITEpLGIoKSk6ZG9jdW1lbnQuYXR0YWNoRXZlbnQmJlwiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJihkb2N1bWVudC5kZXRhY2hFdmVudChcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLGEpLHdpbmRvdy5kZXRhY2hFdmVudChcIm9ubG9hZFwiLGEpLGIoKSl9Y2F0Y2goZSl7fX1mdW5jdGlvbiBiKCl7Zm9yKHZhciBhO2E9ZS5zaGlmdCgpOylhKCl9dmFyIGU9W107cmV0dXJuIGZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGQoKXt0cnl7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsKFwibGVmdFwiKX1jYXRjaChnKXtzZXRUaW1lb3V0KGQsXG4xKTtyZXR1cm59YSgpfWUucHVzaChiKTtcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiZzZXRUaW1lb3V0KGEsMSk7aWYoMT09ZS5sZW5ndGgpaWYoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcilkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGEsITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGEsITEpO2Vsc2UgaWYoZG9jdW1lbnQuYXR0YWNoRXZlbnQpe2RvY3VtZW50LmF0dGFjaEV2ZW50KFwib25yZWFkeXN0YXRlY2hhbmdlXCIsYSk7d2luZG93LmF0dGFjaEV2ZW50KFwib25sb2FkXCIsYSk7Yj0hMTt0cnl7Yj0hd2luZG93LmZyYW1lRWxlbWVudH1jYXRjaChoKXt9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsJiZiJiZkKCl9fX0oKX0sZT13aW5kb3cuQ0tFRElUT1JfR0VUVVJMO2lmKGUpe3ZhciBiPWYuZ2V0VXJsO2YuZ2V0VXJsPWZ1bmN0aW9uKGEpe3JldHVybiBlLmNhbGwoZixhKXx8Yi5jYWxsKGYsYSl9fXJldHVybiBmfSgpKSxcbmZ1bmN0aW9uKCl7dmFyIGE9e307Q0tFRElUT1IuZXZlbnR8fChDS0VESVRPUi5ldmVudD1mdW5jdGlvbigpe30sQ0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T249ZnVuY3Rpb24oYSl7dmFyIGU9Q0tFRElUT1IuZXZlbnQucHJvdG90eXBlLGI7Zm9yKGIgaW4gZSludWxsPT1hW2JdJiYoYVtiXT1lW2JdKX0sQ0tFRElUT1IuZXZlbnQucHJvdG90eXBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZihhKXt2YXIgaz1lKHRoaXMpO3JldHVybiBrW2FdfHwoa1thXT1uZXcgYihhKSl9dmFyIGU9ZnVuY3Rpb24oYSl7YT1hLmdldFByaXZhdGUmJmEuZ2V0UHJpdmF0ZSgpfHxhLl98fChhLl89e30pO3JldHVybiBhLmV2ZW50c3x8KGEuZXZlbnRzPXt9KX0sYj1mdW5jdGlvbihhKXt0aGlzLm5hbWU9YTt0aGlzLmxpc3RlbmVycz1bXX07Yi5wcm90b3R5cGU9e2dldExpc3RlbmVySW5kZXg6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsZT10aGlzLmxpc3RlbmVycztiPGUubGVuZ3RoO2IrKylpZihlW2JdLmZuPT1cbmEpcmV0dXJuIGI7cmV0dXJuLTF9fTtyZXR1cm57ZGVmaW5lOmZ1bmN0aW9uKGEsYil7dmFyIGU9Zi5jYWxsKHRoaXMsYSk7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGUsYiwhMCl9LG9uOmZ1bmN0aW9uKGMsYixlLG0sZCl7ZnVuY3Rpb24gaChuLGQsaCx3KXtuPXtuYW1lOmMsc2VuZGVyOnRoaXMsZWRpdG9yOm4sZGF0YTpkLGxpc3RlbmVyRGF0YTptLHN0b3A6aCxjYW5jZWw6dyxyZW1vdmVMaXN0ZW5lcjpnfTtyZXR1cm4hMT09PWIuY2FsbChlLG4pP2E6bi5kYXRhfWZ1bmN0aW9uIGcoKXtuLnJlbW92ZUxpc3RlbmVyKGMsYil9dmFyIG49dGhpcyx3PWYuY2FsbCh0aGlzLGMpO2lmKDA+dy5nZXRMaXN0ZW5lckluZGV4KGIpKXt3PXcubGlzdGVuZXJzO2V8fChlPXRoaXMpO2lzTmFOKGQpJiYoZD0xMCk7aC5mbj1iO2gucHJpb3JpdHk9ZDtmb3IodmFyIHg9dy5sZW5ndGgtMTswPD14O3gtLSlpZih3W3hdLnByaW9yaXR5PD1kKXJldHVybiB3LnNwbGljZSh4KzEsMCxoKSx7cmVtb3ZlTGlzdGVuZXI6Z307XG53LnVuc2hpZnQoaCl9cmV0dXJue3JlbW92ZUxpc3RlbmVyOmd9fSxvbmNlOmZ1bmN0aW9uKCl7dmFyIGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxiPWFbMV07YVsxXT1mdW5jdGlvbihhKXthLnJlbW92ZUxpc3RlbmVyKCk7cmV0dXJuIGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gdGhpcy5vbi5hcHBseSh0aGlzLGEpfSxjYXB0dXJlOmZ1bmN0aW9uKCl7Q0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZT0xO3ZhciBhPXRoaXMub24uYXBwbHkodGhpcyxhcmd1bWVudHMpO0NLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9MDtyZXR1cm4gYX0sZmlyZTpmdW5jdGlvbigpe3ZhciBjPTAsYj1mdW5jdGlvbigpe2M9MX0sbD0wLG09ZnVuY3Rpb24oKXtsPTF9O3JldHVybiBmdW5jdGlvbihkLGgsZyl7dmFyIG49ZSh0aGlzKVtkXTtkPWM7dmFyIHc9bDtjPWw9MDtpZihuKXt2YXIgZj1uLmxpc3RlbmVycztpZihmLmxlbmd0aClmb3IodmFyIGY9Zi5zbGljZSgwKSxcbnIscD0wO3A8Zi5sZW5ndGg7cCsrKXtpZihuLmVycm9yUHJvb2YpdHJ5e3I9ZltwXS5jYWxsKHRoaXMsZyxoLGIsbSl9Y2F0Y2godSl7fWVsc2Ugcj1mW3BdLmNhbGwodGhpcyxnLGgsYixtKTtyPT09YT9sPTE6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHImJihoPXIpO2lmKGN8fGwpYnJlYWt9fWg9bD8hMTpcInVuZGVmaW5lZFwiPT10eXBlb2YgaD8hMDpoO2M9ZDtsPXc7cmV0dXJuIGh9fSgpLGZpcmVPbmNlOmZ1bmN0aW9uKGEsYixsKXtiPXRoaXMuZmlyZShhLGIsbCk7ZGVsZXRlIGUodGhpcylbYV07cmV0dXJuIGJ9LHJlbW92ZUxpc3RlbmVyOmZ1bmN0aW9uKGEsYil7dmFyIGw9ZSh0aGlzKVthXTtpZihsKXt2YXIgbT1sLmdldExpc3RlbmVySW5kZXgoYik7MDw9bSYmbC5saXN0ZW5lcnMuc3BsaWNlKG0sMSl9fSxyZW1vdmVBbGxMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgYT1lKHRoaXMpLGI7Zm9yKGIgaW4gYSlkZWxldGUgYVtiXX0saGFzTGlzdGVuZXJzOmZ1bmN0aW9uKGEpe3JldHVybihhPVxuZSh0aGlzKVthXSkmJjA8YS5saXN0ZW5lcnMubGVuZ3RofX19KCkpfSgpLENLRURJVE9SLmVkaXRvcnx8KENLRURJVE9SLmVkaXRvcj1mdW5jdGlvbigpe0NLRURJVE9SLl8ucGVuZGluZy5wdXNoKFt0aGlzLGFyZ3VtZW50c10pO0NLRURJVE9SLmV2ZW50LmNhbGwodGhpcyl9LENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZmlyZT1mdW5jdGlvbihhLGYpe2EgaW57aW5zdGFuY2VSZWFkeToxLGxvYWRlZDoxfSYmKHRoaXNbYV09ITApO3JldHVybiBDS0VESVRPUi5ldmVudC5wcm90b3R5cGUuZmlyZS5jYWxsKHRoaXMsYSxmLHRoaXMpfSxDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmZpcmVPbmNlPWZ1bmN0aW9uKGEsZil7YSBpbntpbnN0YW5jZVJlYWR5OjEsbG9hZGVkOjF9JiYodGhpc1thXT0hMCk7cmV0dXJuIENLRURJVE9SLmV2ZW50LnByb3RvdHlwZS5maXJlT25jZS5jYWxsKHRoaXMsYSxmLHRoaXMpfSxDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlKSksXG5DS0VESVRPUi5lbnZ8fChDS0VESVRPUi5lbnY9ZnVuY3Rpb24oKXt2YXIgYT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCksZj1hLm1hdGNoKC9lZGdlWyBcXC9dKFxcZCsuP1xcZCopLyksZT0tMTxhLmluZGV4T2YoXCJ0cmlkZW50L1wiKSxlPSEoIWYmJiFlKSxlPXtpZTplLGVkZ2U6ISFmLHdlYmtpdDohZSYmLTE8YS5pbmRleE9mKFwiIGFwcGxld2Via2l0L1wiKSxhaXI6LTE8YS5pbmRleE9mKFwiIGFkb2JlYWlyL1wiKSxtYWM6LTE8YS5pbmRleE9mKFwibWFjaW50b3NoXCIpLHF1aXJrczpcIkJhY2tDb21wYXRcIj09ZG9jdW1lbnQuY29tcGF0TW9kZSYmKCFkb2N1bWVudC5kb2N1bWVudE1vZGV8fDEwPmRvY3VtZW50LmRvY3VtZW50TW9kZSksbW9iaWxlOi0xPGEuaW5kZXhPZihcIm1vYmlsZVwiKSxpT1M6LyhpcGFkfGlwaG9uZXxpcG9kKS8udGVzdChhKSxpc0N1c3RvbURvbWFpbjpmdW5jdGlvbigpe2lmKCF0aGlzLmllKXJldHVybiExO3ZhciBhPWRvY3VtZW50LmRvbWFpbixiPXdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtcbnJldHVybiBhIT1iJiZhIT1cIltcIitiK1wiXVwifSxzZWN1cmU6XCJodHRwczpcIj09bG9jYXRpb24ucHJvdG9jb2x9O2UuZ2Vja289XCJHZWNrb1wiPT1uYXZpZ2F0b3IucHJvZHVjdCYmIWUud2Via2l0JiYhZS5pZTtlLndlYmtpdCYmKC0xPGEuaW5kZXhPZihcImNocm9tZVwiKT9lLmNocm9tZT0hMDplLnNhZmFyaT0hMCk7dmFyIGI9MDtlLmllJiYoYj1mP3BhcnNlRmxvYXQoZlsxXSk6ZS5xdWlya3N8fCFkb2N1bWVudC5kb2N1bWVudE1vZGU/cGFyc2VGbG9hdChhLm1hdGNoKC9tc2llIChcXGQrKS8pWzFdKTpkb2N1bWVudC5kb2N1bWVudE1vZGUsZS5pZTlDb21wYXQ9OT09YixlLmllOENvbXBhdD04PT1iLGUuaWU3Q29tcGF0PTc9PWIsZS5pZTZDb21wYXQ9Nz5ifHxlLnF1aXJrcyk7ZS5nZWNrbyYmKGY9YS5tYXRjaCgvcnY6KFtcXGRcXC5dKykvKSkmJihmPWZbMV0uc3BsaXQoXCIuXCIpLGI9MUU0KmZbMF0rMTAwKihmWzFdfHwwKSsxKihmWzJdfHwwKSk7ZS5haXImJihiPXBhcnNlRmxvYXQoYS5tYXRjaCgvIGFkb2JlYWlyXFwvKFxcZCspLylbMV0pKTtcbmUud2Via2l0JiYoYj1wYXJzZUZsb2F0KGEubWF0Y2goLyBhcHBsZXdlYmtpdFxcLyhcXGQrKS8pWzFdKSk7ZS52ZXJzaW9uPWI7ZS5pc0NvbXBhdGlibGU9IShlLmllJiY3PmIpJiYhKGUuZ2Vja28mJjRFND5iKSYmIShlLndlYmtpdCYmNTM0PmIpO2UuaGlkcGk9Mjw9d2luZG93LmRldmljZVBpeGVsUmF0aW87ZS5uZWVkc0JyRmlsbGVyPWUuZ2Vja298fGUud2Via2l0fHxlLmllJiYxMDxiO2UubmVlZHNOYnNwRmlsbGVyPWUuaWUmJjExPmI7ZS5jc3NDbGFzcz1cImNrZV9icm93c2VyX1wiKyhlLmllP1wiaWVcIjplLmdlY2tvP1wiZ2Vja29cIjplLndlYmtpdD9cIndlYmtpdFwiOlwidW5rbm93blwiKTtlLnF1aXJrcyYmKGUuY3NzQ2xhc3MrPVwiIGNrZV9icm93c2VyX3F1aXJrc1wiKTtlLmllJiYoZS5jc3NDbGFzcys9XCIgY2tlX2Jyb3dzZXJfaWVcIisoZS5xdWlya3M/XCI2IGNrZV9icm93c2VyX2llcXVpcmtzXCI6ZS52ZXJzaW9uKSk7ZS5haXImJihlLmNzc0NsYXNzKz1cIiBja2VfYnJvd3Nlcl9haXJcIik7XG5lLmlPUyYmKGUuY3NzQ2xhc3MrPVwiIGNrZV9icm93c2VyX2lvc1wiKTtlLmhpZHBpJiYoZS5jc3NDbGFzcys9XCIgY2tlX2hpZHBpXCIpO3JldHVybiBlfSgpKSxcInVubG9hZGVkXCI9PUNLRURJVE9SLnN0YXR1cyYmZnVuY3Rpb24oKXtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUik7Q0tFRElUT1IubG9hZEZ1bGxDb3JlPWZ1bmN0aW9uKCl7aWYoXCJiYXNpY19yZWFkeVwiIT1DS0VESVRPUi5zdGF0dXMpQ0tFRElUT1IubG9hZEZ1bGxDb3JlLl9sb2FkPTE7ZWxzZXtkZWxldGUgQ0tFRElUT1IubG9hZEZ1bGxDb3JlO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7YS50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI7YS5zcmM9Q0tFRElUT1IuYmFzZVBhdGgrXCJja2VkaXRvci5qc1wiO2RvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXS5hcHBlbmRDaGlsZChhKX19O0NLRURJVE9SLmxvYWRGdWxsQ29yZVRpbWVvdXQ9MDtDS0VESVRPUi5hZGQ9XG5mdW5jdGlvbihhKXsodGhpcy5fLnBlbmRpbmd8fCh0aGlzLl8ucGVuZGluZz1bXSkpLnB1c2goYSl9OyhmdW5jdGlvbigpe0NLRURJVE9SLmRvbVJlYWR5KGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IubG9hZEZ1bGxDb3JlLGY9Q0tFRElUT1IubG9hZEZ1bGxDb3JlVGltZW91dDthJiYoQ0tFRElUT1Iuc3RhdHVzPVwiYmFzaWNfcmVhZHlcIixhJiZhLl9sb2FkP2EoKTpmJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Q0tFRElUT1IubG9hZEZ1bGxDb3JlJiZDS0VESVRPUi5sb2FkRnVsbENvcmUoKX0sMUUzKmYpKX0pfSkoKTtDS0VESVRPUi5zdGF0dXM9XCJiYXNpY19sb2FkZWRcIn0oKSxcInVzZSBzdHJpY3RcIixDS0VESVRPUi5WRVJCT1NJVFlfV0FSTj0xLENLRURJVE9SLlZFUkJPU0lUWV9FUlJPUj0yLENLRURJVE9SLnZlcmJvc2l0eT1DS0VESVRPUi5WRVJCT1NJVFlfV0FSTnxDS0VESVRPUi5WRVJCT1NJVFlfRVJST1IsQ0tFRElUT1Iud2Fybj1mdW5jdGlvbihhLGYpe0NLRURJVE9SLnZlcmJvc2l0eSZcbkNLRURJVE9SLlZFUkJPU0lUWV9XQVJOJiZDS0VESVRPUi5maXJlKFwibG9nXCIse3R5cGU6XCJ3YXJuXCIsZXJyb3JDb2RlOmEsYWRkaXRpb25hbERhdGE6Zn0pfSxDS0VESVRPUi5lcnJvcj1mdW5jdGlvbihhLGYpe0NLRURJVE9SLnZlcmJvc2l0eSZDS0VESVRPUi5WRVJCT1NJVFlfRVJST1ImJkNLRURJVE9SLmZpcmUoXCJsb2dcIix7dHlwZTpcImVycm9yXCIsZXJyb3JDb2RlOmEsYWRkaXRpb25hbERhdGE6Zn0pfSxDS0VESVRPUi5vbihcImxvZ1wiLGZ1bmN0aW9uKGEpe2lmKHdpbmRvdy5jb25zb2xlJiZ3aW5kb3cuY29uc29sZS5sb2cpe3ZhciBmPWNvbnNvbGVbYS5kYXRhLnR5cGVdP2EuZGF0YS50eXBlOlwibG9nXCIsZT1hLmRhdGEuZXJyb3JDb2RlO2lmKGE9YS5kYXRhLmFkZGl0aW9uYWxEYXRhKWNvbnNvbGVbZl0oXCJbQ0tFRElUT1JdIEVycm9yIGNvZGU6IFwiK2UrXCIuXCIsYSk7ZWxzZSBjb25zb2xlW2ZdKFwiW0NLRURJVE9SXSBFcnJvciBjb2RlOiBcIitlK1wiLlwiKTtjb25zb2xlW2ZdKFwiW0NLRURJVE9SXSBGb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGlzIGVycm9yIGdvIHRvIGh0dHBzOi8vY2tlZGl0b3IuY29tL2RvY3MvY2tlZGl0b3I0L2xhdGVzdC9ndWlkZS9kZXZfZXJyb3JzLmh0bWwjXCIrXG5lKX19LG51bGwsbnVsbCw5OTkpLENLRURJVE9SLmRvbT17fSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxnLGQpe3RoaXMuX21pbkludGVydmFsPWE7dGhpcy5fY29udGV4dD1kO3RoaXMuX2xhc3RPdXRwdXQ9dGhpcy5fc2NoZWR1bGVkVGltZXI9MDt0aGlzLl9vdXRwdXQ9Q0tFRElUT1IudG9vbHMuYmluZChnLGR8fHt9KTt2YXIgYj10aGlzO3RoaXMuaW5wdXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7Yi5fbGFzdE91dHB1dD0obmV3IERhdGUpLmdldFRpbWUoKTtiLl9zY2hlZHVsZWRUaW1lcj0wO2IuX2NhbGwoKX1pZighYi5fc2NoZWR1bGVkVGltZXJ8fCExIT09Yi5fcmVzY2hlZHVsZSgpKXt2YXIgbj0obmV3IERhdGUpLmdldFRpbWUoKS1iLl9sYXN0T3V0cHV0O248Yi5fbWluSW50ZXJ2YWw/Yi5fc2NoZWR1bGVkVGltZXI9c2V0VGltZW91dChhLGIuX21pbkludGVydmFsLW4pOmEoKX19fWZ1bmN0aW9uIGYobixnLGQpe2EuY2FsbCh0aGlzLG4sZyxkKTt0aGlzLl9hcmdzPVtdO1xudmFyIGI9dGhpczt0aGlzLmlucHV0PUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKHRoaXMuaW5wdXQsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7Yi5fYXJncz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO2EuY2FsbCh0aGlzKX19KX12YXIgZT1bXSxiPUNLRURJVE9SLmVudi5nZWNrbz9cIi1tb3otXCI6Q0tFRElUT1IuZW52LndlYmtpdD9cIi13ZWJraXQtXCI6Q0tFRElUT1IuZW52LmllP1wiLW1zLVwiOlwiXCIsYz0vJi9nLGs9Lz4vZyxsPS88L2csbT0vXCIvZyxkPS8mKGx0fGd0fGFtcHxxdW90fG5ic3B8c2h5fCNcXGR7MSw1fSk7L2csaD17bHQ6XCJcXHgzY1wiLGd0OlwiXFx4M2VcIixhbXA6XCJcXHgyNlwiLHF1b3Q6J1wiJyxuYnNwOlwiwqBcIixzaHk6XCLCrVwifSxnPWZ1bmN0aW9uKGEsZyl7cmV0dXJuXCIjXCI9PWdbMF0/U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChnLnNsaWNlKDEpLDEwKSk6aFtnXX07Q0tFRElUT1Iub24oXCJyZXNldFwiLGZ1bmN0aW9uKCl7ZT1bXX0pO0NLRURJVE9SLnRvb2xzPVxue2FycmF5Q29tcGFyZTpmdW5jdGlvbihhLGcpe2lmKCFhJiYhZylyZXR1cm4hMDtpZighYXx8IWd8fGEubGVuZ3RoIT1nLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKylpZihhW2RdIT1nW2RdKXJldHVybiExO3JldHVybiEwfSxnZXRJbmRleDpmdW5jdGlvbihhLGcpe2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGg7KytkKWlmKGcoYVtkXSkpcmV0dXJuIGQ7cmV0dXJuLTF9LGNsb25lOmZ1bmN0aW9uKGEpe3ZhciBnO2lmKGEmJmEgaW5zdGFuY2VvZiBBcnJheSl7Zz1bXTtmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKylnW2RdPUNLRURJVE9SLnRvb2xzLmNsb25lKGFbZF0pO3JldHVybiBnfWlmKG51bGw9PT1hfHxcIm9iamVjdFwiIT10eXBlb2YgYXx8YSBpbnN0YW5jZW9mIFN0cmluZ3x8YSBpbnN0YW5jZW9mIE51bWJlcnx8YSBpbnN0YW5jZW9mIEJvb2xlYW58fGEgaW5zdGFuY2VvZiBEYXRlfHxhIGluc3RhbmNlb2YgUmVnRXhwfHxhLm5vZGVUeXBlfHxhLndpbmRvdz09PVxuYSlyZXR1cm4gYTtnPW5ldyBhLmNvbnN0cnVjdG9yO2ZvcihkIGluIGEpZ1tkXT1DS0VESVRPUi50b29scy5jbG9uZShhW2RdKTtyZXR1cm4gZ30sY2FwaXRhbGl6ZTpmdW5jdGlvbihhLGcpe3JldHVybiBhLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpKyhnP2Euc2xpY2UoMSk6YS5zbGljZSgxKS50b0xvd2VyQ2FzZSgpKX0sZXh0ZW5kOmZ1bmN0aW9uKGEpe3ZhciBnPWFyZ3VtZW50cy5sZW5ndGgsZCxiO1wiYm9vbGVhblwiPT10eXBlb2YoZD1hcmd1bWVudHNbZy0xXSk/Zy0tOlwiYm9vbGVhblwiPT10eXBlb2YoZD1hcmd1bWVudHNbZy0yXSkmJihiPWFyZ3VtZW50c1tnLTFdLGctPTIpO2Zvcih2YXIgYz0xO2M8ZztjKyspe3ZhciBoPWFyZ3VtZW50c1tjXXx8e307Q0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaChDS0VESVRPUi50b29scy5vYmplY3Qua2V5cyhoKSxmdW5jdGlvbihnKXtpZighMD09PWR8fG51bGw9PWFbZ10paWYoIWJ8fGcgaW4gYilhW2ddPWhbZ119KX1yZXR1cm4gYX0sXG5wcm90b3R5cGVkQ29weTpmdW5jdGlvbihhKXt2YXIgZz1mdW5jdGlvbigpe307Zy5wcm90b3R5cGU9YTtyZXR1cm4gbmV3IGd9LGNvcHk6ZnVuY3Rpb24oYSl7dmFyIGc9e30sZDtmb3IoZCBpbiBhKWdbZF09YVtkXTtyZXR1cm4gZ30saXNBcnJheTpmdW5jdGlvbihhKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKX0saXNFbXB0eTpmdW5jdGlvbihhKXtmb3IodmFyIGcgaW4gYSlpZihhLmhhc093blByb3BlcnR5KGcpKXJldHVybiExO3JldHVybiEwfSxjc3NWZW5kb3JQcmVmaXg6ZnVuY3Rpb24oYSxnLGQpe2lmKGQpcmV0dXJuIGIrYStcIjpcIitnK1wiO1wiK2ErXCI6XCIrZztkPXt9O2RbYV09ZztkW2IrYV09ZztyZXR1cm4gZH0sY3NzU3R5bGVUb0RvbVN0eWxlOmZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZSxnPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmNzc0Zsb2F0P1wiY3NzRmxvYXRcIjpcblwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnN0eWxlRmxvYXQ/XCJzdHlsZUZsb2F0XCI6XCJmbG9hdFwiO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm5cImZsb2F0XCI9PWE/ZzphLnJlcGxhY2UoLy0uL2csZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3Vic3RyKDEpLnRvVXBwZXJDYXNlKCl9KX19KCksYnVpbGRTdHlsZUh0bWw6ZnVuY3Rpb24oYSl7YT1bXS5jb25jYXQoYSk7Zm9yKHZhciBnLGQ9W10sYj0wO2I8YS5sZW5ndGg7YisrKWlmKGc9YVtiXSkvQGltcG9ydHxbe31dLy50ZXN0KGcpP2QucHVzaChcIlxceDNjc3R5bGVcXHgzZVwiK2crXCJcXHgzYy9zdHlsZVxceDNlXCIpOihnPUNLRURJVE9SLmFwcGVuZFRpbWVzdGFtcChnKSxkLnB1c2goJ1xceDNjbGluayB0eXBlXFx4M2RcInRleHQvY3NzXCIgcmVsXFx4M2RzdHlsZXNoZWV0IGhyZWZcXHgzZFwiJytnKydcIlxceDNlJykpO3JldHVybiBkLmpvaW4oXCJcIil9LGh0bWxFbmNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMD09PWF8fG51bGw9PT1hP1wiXCI6U3RyaW5nKGEpLnJlcGxhY2UoYyxcblwiXFx4MjZhbXA7XCIpLnJlcGxhY2UoayxcIlxceDI2Z3Q7XCIpLnJlcGxhY2UobCxcIlxceDI2bHQ7XCIpfSxodG1sRGVjb2RlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoZCxnKX0saHRtbEVuY29kZUF0dHI6ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoYSkucmVwbGFjZShtLFwiXFx4MjZxdW90O1wiKX0saHRtbERlY29kZUF0dHI6ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmh0bWxEZWNvZGUoYSl9LHRyYW5zZm9ybVBsYWluVGV4dFRvSHRtbDpmdW5jdGlvbihhLGcpe3ZhciBkPWc9PUNLRURJVE9SLkVOVEVSX0JSLGI9dGhpcy5odG1sRW5jb2RlKGEucmVwbGFjZSgvXFxyXFxuL2csXCJcXG5cIikpLGI9Yi5yZXBsYWNlKC9cXHQvZyxcIlxceDI2bmJzcDtcXHgyNm5ic3A7IFxceDI2bmJzcDtcIiksYz1nPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCI7aWYoIWQpe3ZhciBoPS9cXG57Mn0vZztpZihoLnRlc3QoYikpdmFyIGU9XCJcXHgzY1wiK2MrXCJcXHgzZVwiLG09XG5cIlxceDNjL1wiK2MrXCJcXHgzZVwiLGI9ZStiLnJlcGxhY2UoaCxmdW5jdGlvbigpe3JldHVybiBtK2V9KSttfWI9Yi5yZXBsYWNlKC9cXG4vZyxcIlxceDNjYnJcXHgzZVwiKTtkfHwoYj1iLnJlcGxhY2UobmV3IFJlZ0V4cChcIlxceDNjYnJcXHgzZSg/XFx4M2RcXHgzYy9cIitjK1wiXFx4M2UpXCIpLGZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi50b29scy5yZXBlYXQoYSwyKX0pKTtiPWIucmVwbGFjZSgvXiB8ICQvZyxcIlxceDI2bmJzcDtcIik7cmV0dXJuIGI9Yi5yZXBsYWNlKC8oPnxcXHMpIC9nLGZ1bmN0aW9uKGEsZyl7cmV0dXJuIGcrXCJcXHgyNm5ic3A7XCJ9KS5yZXBsYWNlKC8gKD89PCkvZyxcIlxceDI2bmJzcDtcIil9LGdldE5leHROdW1iZXI6ZnVuY3Rpb24oKXt2YXIgYT0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybisrYX19KCksZ2V0TmV4dElkOmZ1bmN0aW9uKCl7cmV0dXJuXCJja2VfXCIrdGhpcy5nZXROZXh0TnVtYmVyKCl9LGdldFVuaXF1ZUlkOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPVwiZVwiLGc9MDs4Pmc7ZysrKWErPVxuTWF0aC5mbG9vcig2NTUzNiooMStNYXRoLnJhbmRvbSgpKSkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygxKTtyZXR1cm4gYX0sb3ZlcnJpZGU6ZnVuY3Rpb24oYSxnKXt2YXIgZD1nKGEpO2QucHJvdG90eXBlPWEucHJvdG90eXBlO3JldHVybiBkfSxzZXRUaW1lb3V0OmZ1bmN0aW9uKGEsZyxkLGIsYyl7Y3x8KGM9d2luZG93KTtkfHwoZD1jKTtyZXR1cm4gYy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yj9hLmFwcGx5KGQsW10uY29uY2F0KGIpKTphLmFwcGx5KGQpfSxnfHwwKX0sZGVib3VuY2U6ZnVuY3Rpb24oYSxnKXt2YXIgZDtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9YXJndW1lbnRzO2NsZWFyVGltZW91dChkKTtkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtkPW51bGw7YS5hcHBseShiLGMpfSxnKX19LHRocm90dGxlOmZ1bmN0aW9uKGEsZyxkKXtyZXR1cm4gbmV3IHRoaXMuYnVmZmVycy50aHJvdHRsZShhLGcsZCl9LHRyaW06ZnVuY3Rpb24oKXt2YXIgYT0vKD86XlsgXFx0XFxuXFxyXSspfCg/OlsgXFx0XFxuXFxyXSskKS9nO1xucmV0dXJuIGZ1bmN0aW9uKGcpe3JldHVybiBnLnJlcGxhY2UoYSxcIlwiKX19KCksbHRyaW06ZnVuY3Rpb24oKXt2YXIgYT0vXlsgXFx0XFxuXFxyXSsvZztyZXR1cm4gZnVuY3Rpb24oZyl7cmV0dXJuIGcucmVwbGFjZShhLFwiXCIpfX0oKSxydHJpbTpmdW5jdGlvbigpe3ZhciBhPS9bIFxcdFxcblxccl0rJC9nO3JldHVybiBmdW5jdGlvbihnKXtyZXR1cm4gZy5yZXBsYWNlKGEsXCJcIil9fSgpLGluZGV4T2Y6ZnVuY3Rpb24oYSxnKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBnKWZvcih2YXIgZD0wLGI9YS5sZW5ndGg7ZDxiO2QrKyl7aWYoZyhhW2RdKSlyZXR1cm4gZH1lbHNle2lmKGEuaW5kZXhPZilyZXR1cm4gYS5pbmRleE9mKGcpO2Q9MDtmb3IoYj1hLmxlbmd0aDtkPGI7ZCsrKWlmKGFbZF09PT1nKXJldHVybiBkfXJldHVybi0xfSxzZWFyY2g6ZnVuY3Rpb24oYSxnKXt2YXIgZD1DS0VESVRPUi50b29scy5pbmRleE9mKGEsZyk7cmV0dXJuIDA8PWQ/YVtkXTpudWxsfSxiaW5kOmZ1bmN0aW9uKGEsXG5nKXt2YXIgZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoZyxkLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSl9fSxjcmVhdGVDbGFzczpmdW5jdGlvbihhKXt2YXIgZz1hLiQsZD1hLmJhc2UsYj1hLnByaXZhdGVzfHxhLl8sYz1hLnByb3RvO2E9YS5zdGF0aWNzOyFnJiYoZz1mdW5jdGlvbigpe2QmJnRoaXMuYmFzZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KTtpZihiKXZhciBoPWcsZz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuX3x8KHRoaXMuXz17fSksZztmb3IoZyBpbiBiKXt2YXIgZD1iW2ddO2FbZ109XCJmdW5jdGlvblwiPT10eXBlb2YgZD9DS0VESVRPUi50b29scy5iaW5kKGQsdGhpcyk6ZH1oLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ZCYmKGcucHJvdG90eXBlPXRoaXMucHJvdG90eXBlZENvcHkoZC5wcm90b3R5cGUpLGcucHJvdG90eXBlLmNvbnN0cnVjdG9yPVxuZyxnLmJhc2U9ZCxnLmJhc2VQcm90bz1kLnByb3RvdHlwZSxnLnByb3RvdHlwZS5iYXNlPWZ1bmN0aW9uIHEoKXt0aGlzLmJhc2U9ZC5wcm90b3R5cGUuYmFzZTtkLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmJhc2U9cX0pO2MmJnRoaXMuZXh0ZW5kKGcucHJvdG90eXBlLGMsITApO2EmJnRoaXMuZXh0ZW5kKGcsYSwhMCk7cmV0dXJuIGd9LGFkZEZ1bmN0aW9uOmZ1bmN0aW9uKGEsZyl7cmV0dXJuIGUucHVzaChmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGd8fHRoaXMsYXJndW1lbnRzKX0pLTF9LHJlbW92ZUZ1bmN0aW9uOmZ1bmN0aW9uKGEpe2VbYV09bnVsbH0sY2FsbEZ1bmN0aW9uOmZ1bmN0aW9uKGEpe3ZhciBnPWVbYV07cmV0dXJuIGcmJmcuYXBwbHkod2luZG93LEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSl9LGNzc0xlbmd0aDpmdW5jdGlvbigpe3ZhciBhPS9eLT9cXGQrXFwuP1xcZCpweCQvLGc7cmV0dXJuIGZ1bmN0aW9uKGQpe2c9Q0tFRElUT1IudG9vbHMudHJpbShkK1xuXCJcIikrXCJweFwiO3JldHVybiBhLnRlc3QoZyk/ZzpkfHxcIlwifX0oKSxjb252ZXJ0VG9QeDpmdW5jdGlvbigpe3ZhciBhLGc7cmV0dXJuIGZ1bmN0aW9uKGQpe2lmKCFhfHxhLmlzRGV0YWNoZWQoKSlhPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2RpdiBzdHlsZVxceDNkXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi05OTk5cHg7dG9wOi05OTk5cHg7bWFyZ2luOjBweDtwYWRkaW5nOjBweDtib3JkZXI6MHB4O1wiXFx4M2VcXHgzYy9kaXZcXHgzZScsQ0tFRElUT1IuZG9jdW1lbnQpLENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKS5hcHBlbmQoYSk7aWYoIS8lJC8udGVzdChkKSl7dmFyIGI9MD5wYXJzZUZsb2F0KGQpO2ImJihkPWQucmVwbGFjZShcIi1cIixcIlwiKSk7YS5zZXRTdHlsZShcIndpZHRoXCIsZCk7Zz1hLmdldENsaWVudFJlY3QoKTtkPU1hdGgucm91bmQoZy53aWR0aCk7cmV0dXJuIGI/LWQ6ZH1yZXR1cm4gZH19KCkscmVwZWF0OmZ1bmN0aW9uKGEsZyl7cmV0dXJuIEFycmF5KGcrXG4xKS5qb2luKGEpfSx0cnlUaGVzZTpmdW5jdGlvbigpe2Zvcih2YXIgYSxnPTAsZD1hcmd1bWVudHMubGVuZ3RoO2c8ZDtnKyspe3ZhciBiPWFyZ3VtZW50c1tnXTt0cnl7YT1iKCk7YnJlYWt9Y2F0Y2goYyl7fX1yZXR1cm4gYX0sZ2VuS2V5OmZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykuam9pbihcIi1cIil9LGRlZmVyOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBnPWFyZ3VtZW50cyxkPXRoaXM7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmFwcGx5KGQsZyl9LDApfX0sbm9ybWFsaXplQ3NzVGV4dDpmdW5jdGlvbihhLGcpe3ZhciBkPVtdLGIsYz1DS0VESVRPUi50b29scy5wYXJzZUNzc1RleHQoYSwhMCxnKTtmb3IoYiBpbiBjKWQucHVzaChiK1wiOlwiK2NbYl0pO2Quc29ydCgpO3JldHVybiBkLmxlbmd0aD9kLmpvaW4oXCI7XCIpK1wiO1wiOlwiXCJ9LGNvbnZlcnRSZ2JUb0hleDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC8oPzpyZ2JcXChcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKlxcKSkvZ2ksXG5mdW5jdGlvbihhLGcsZCxuKXthPVtnLGQsbl07Zm9yKGc9MDszPmc7ZysrKWFbZ109KFwiMFwiK3BhcnNlSW50KGFbZ10sMTApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO3JldHVyblwiI1wiK2Euam9pbihcIlwiKX0pfSxub3JtYWxpemVIZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvIygoWzAtOWEtZl17M30pezEsMn0pKCR8O3xcXHMrKS9naSxmdW5jdGlvbihhLGcsZCxuKXthPWcudG9Mb3dlckNhc2UoKTszPT1hLmxlbmd0aCYmKGE9YS5zcGxpdChcIlwiKSxhPVthWzBdLGFbMF0sYVsxXSxhWzFdLGFbMl0sYVsyXV0uam9pbihcIlwiKSk7cmV0dXJuXCIjXCIrYStufSl9LF9pc1ZhbGlkQ29sb3JGb3JtYXQ6ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuITE7YT1hLnJlcGxhY2UoL1xccysvZyxcIlwiKTtyZXR1cm4vXlthLXowLTkoKSMlLC4vXSskL2kudGVzdChhKX0scGFyc2VDc3NUZXh0OmZ1bmN0aW9uKGEsZyxkKXt2YXIgYj17fTtkJiYoYT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic3BhblwiKSkuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcbmEpLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpfHxcIlwiKTthJiYoYT1DS0VESVRPUi50b29scy5ub3JtYWxpemVIZXgoQ0tFRElUT1IudG9vbHMuY29udmVydFJnYlRvSGV4KGEpKSk7aWYoIWF8fFwiO1wiPT1hKXJldHVybiBiO2EucmVwbGFjZSgvJnF1b3Q7L2csJ1wiJykucmVwbGFjZSgvXFxzKihbXjo7XFxzXSspXFxzKjpcXHMqKFteO10rKVxccyooPz07fCQpL2csZnVuY3Rpb24oYSxkLG4pe2cmJihkPWQudG9Mb3dlckNhc2UoKSxcImZvbnQtZmFtaWx5XCI9PWQmJihuPW4ucmVwbGFjZSgvXFxzKixcXHMqL2csXCIsXCIpKSxuPUNLRURJVE9SLnRvb2xzLnRyaW0obikpO2JbZF09bn0pO3JldHVybiBifSx3cml0ZUNzc1RleHQ6ZnVuY3Rpb24oYSxnKXt2YXIgZCxiPVtdO2ZvcihkIGluIGEpYi5wdXNoKGQrXCI6XCIrYVtkXSk7ZyYmYi5zb3J0KCk7cmV0dXJuIGIuam9pbihcIjsgXCIpfSxvYmplY3RDb21wYXJlOmZ1bmN0aW9uKGEsZyxkKXt2YXIgYjtpZighYSYmIWcpcmV0dXJuITA7aWYoIWF8fCFnKXJldHVybiExO1xuZm9yKGIgaW4gYSlpZihhW2JdIT1nW2JdKXJldHVybiExO2lmKCFkKWZvcihiIGluIGcpaWYoYVtiXSE9Z1tiXSlyZXR1cm4hMTtyZXR1cm4hMH0sb2JqZWN0S2V5czpmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMub2JqZWN0LmtleXMoYSl9LGNvbnZlcnRBcnJheVRvT2JqZWN0OmZ1bmN0aW9uKGEsZyl7dmFyIGQ9e307MT09YXJndW1lbnRzLmxlbmd0aCYmKGc9ITApO2Zvcih2YXIgYj0wLGM9YS5sZW5ndGg7YjxjOysrYilkW2FbYl1dPWc7cmV0dXJuIGR9LGdldFN0eWxlZFNwYW5zOmZ1bmN0aW9uKGEsZyl7dmFyIGQ9Q0tFRElUT1IuZW52LmllJiY4PT1DS0VESVRPUi5lbnYudmVyc2lvbj9hLnRvVXBwZXJDYXNlKCk6YSxkPWcuZmluZChcInNwYW5bc3R5bGUqXFx4M2RcIitkK1wiXVwiKS50b0FycmF5KCk7cmV0dXJuIENLRURJVE9SLnRvb2xzLmFycmF5LmZpbHRlcihkLGZ1bmN0aW9uKGcpe3JldHVybiEhZy5nZXRTdHlsZShhKX0pfSxmaXhEb21haW46ZnVuY3Rpb24oKXtmb3IodmFyIGE7Oyl0cnl7YT1cbndpbmRvdy5wYXJlbnQuZG9jdW1lbnQuZG9tYWluO2JyZWFrfWNhdGNoKGcpe2E9YT9hLnJlcGxhY2UoLy4rPyg/OlxcLnwkKS8sXCJcIik6ZG9jdW1lbnQuZG9tYWluO2lmKCFhKWJyZWFrO2RvY3VtZW50LmRvbWFpbj1hfXJldHVybiEhYX0sZXZlbnRzQnVmZmVyOmZ1bmN0aW9uKGEsZyxkKXtyZXR1cm4gbmV3IHRoaXMuYnVmZmVycy5ldmVudChhLGcsZCl9LGVuYWJsZUh0bWw1RWxlbWVudHM6ZnVuY3Rpb24oYSxnKXtmb3IodmFyIGQ9XCJhYmJyIGFydGljbGUgYXNpZGUgYXVkaW8gYmRpIGNhbnZhcyBkYXRhIGRhdGFsaXN0IGRldGFpbHMgZmlnY2FwdGlvbiBmaWd1cmUgZm9vdGVyIGhlYWRlciBoZ3JvdXAgbWFpbiBtYXJrIG1ldGVyIG5hdiBvdXRwdXQgcHJvZ3Jlc3Mgc2VjdGlvbiBzdW1tYXJ5IHRpbWUgdmlkZW9cIi5zcGxpdChcIiBcIiksYj1kLmxlbmd0aCxjO2ItLTspYz1hLmNyZWF0ZUVsZW1lbnQoZFtiXSksZyYmYS5hcHBlbmRDaGlsZChjKX0sY2hlY2tJZkFueUFycmF5SXRlbU1hdGNoZXM6ZnVuY3Rpb24oYSxcbmcpe2Zvcih2YXIgZD0wLGI9YS5sZW5ndGg7ZDxiOysrZClpZihhW2RdLm1hdGNoKGcpKXJldHVybiEwO3JldHVybiExfSxjaGVja0lmQW55T2JqZWN0UHJvcGVydHlNYXRjaGVzOmZ1bmN0aW9uKGEsZyl7Zm9yKHZhciBkIGluIGEpaWYoZC5tYXRjaChnKSlyZXR1cm4hMDtyZXR1cm4hMX0sa2V5c3Ryb2tlVG9TdHJpbmc6ZnVuY3Rpb24oYSxnKXt2YXIgZD10aGlzLmtleXN0cm9rZVRvQXJyYXkoYSxnKTtkLmRpc3BsYXk9ZC5kaXNwbGF5LmpvaW4oXCIrXCIpO2QuYXJpYT1kLmFyaWEuam9pbihcIitcIik7cmV0dXJuIGR9LGtleXN0cm9rZVRvQXJyYXk6ZnVuY3Rpb24oYSxnKXt2YXIgZD1nJjE2NzExNjgwLGI9ZyY2NTUzNSxjPUNLRURJVE9SLmVudi5tYWMsaD1bXSxlPVtdO2QmQ0tFRElUT1IuQ1RSTCYmKGgucHVzaChjP1wi4oyYXCI6YVsxN10pLGUucHVzaChjP2FbMjI0XTphWzE3XSkpO2QmQ0tFRElUT1IuQUxUJiYoaC5wdXNoKGM/XCLijKVcIjphWzE4XSksZS5wdXNoKGFbMThdKSk7ZCZDS0VESVRPUi5TSElGVCYmXG4oaC5wdXNoKGM/XCLih6dcIjphWzE2XSksZS5wdXNoKGFbMTZdKSk7YiYmKGFbYl0/KGgucHVzaChhW2JdKSxlLnB1c2goYVtiXSkpOihoLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShiKSksZS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYikpKSk7cmV0dXJue2Rpc3BsYXk6aCxhcmlhOmV9fSx0cmFuc3BhcmVudEltYWdlRGF0YTpcImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBUEFCQVAvLy93QUFBQ0g1QkFFS0FBQUFMQUFBQUFBQkFBRUFBQUlDUkFFQU93XFx4M2RcXHgzZFwiLGdldENvb2tpZTpmdW5jdGlvbihhKXthPWEudG9Mb3dlckNhc2UoKTtmb3IodmFyIGc9ZG9jdW1lbnQuY29va2llLnNwbGl0KFwiO1wiKSxkLGIsYz0wO2M8Zy5sZW5ndGg7YysrKWlmKGQ9Z1tjXS5zcGxpdChcIlxceDNkXCIpLGI9ZGVjb2RlVVJJQ29tcG9uZW50KENLRURJVE9SLnRvb2xzLnRyaW0oZFswXSkudG9Mb3dlckNhc2UoKSksYj09PWEpcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCgxPGQubGVuZ3RoP1xuZFsxXTpcIlwiKTtyZXR1cm4gbnVsbH0sc2V0Q29va2llOmZ1bmN0aW9uKGEsZyl7ZG9jdW1lbnQuY29va2llPWVuY29kZVVSSUNvbXBvbmVudChhKStcIlxceDNkXCIrZW5jb2RlVVJJQ29tcG9uZW50KGcpK1wiO3BhdGhcXHgzZC9cIn0sZ2V0Q3NyZlRva2VuOmZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuZ2V0Q29va2llKFwiY2tDc3JmVG9rZW5cIik7aWYoIWF8fDQwIT1hLmxlbmd0aCl7dmFyIGE9W10sZz1cIlwiO2lmKHdpbmRvdy5jcnlwdG8mJndpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKWE9bmV3IFVpbnQ4QXJyYXkoNDApLHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGEpO2Vsc2UgZm9yKHZhciBkPTA7NDA+ZDtkKyspYS5wdXNoKE1hdGguZmxvb3IoMjU2Kk1hdGgucmFuZG9tKCkpKTtmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKXZhciBiPVwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCIuY2hhckF0KGFbZF0lMzYpLGc9ZysoLjU8TWF0aC5yYW5kb20oKT9cbmIudG9VcHBlckNhc2UoKTpiKTthPWc7Q0tFRElUT1IudG9vbHMuc2V0Q29va2llKFwiY2tDc3JmVG9rZW5cIixhKX1yZXR1cm4gYX0sZXNjYXBlQ3NzOmZ1bmN0aW9uKGEpe2lmKGEpaWYod2luZG93LkNTUyYmQ1NTLmVzY2FwZSlhPUNTUy5lc2NhcGUoYSk7ZWxzZXthPVN0cmluZyhhKTtmb3IodmFyIGc9YS5sZW5ndGgsZD0tMSxiLGM9XCJcIixoPWEuY2hhckNvZGVBdCgwKTsrK2Q8ZzspYj1hLmNoYXJDb2RlQXQoZCksYz0wPT1iP2MrXCLvv71cIjoxMjc9PWJ8fDE8PWImJjMxPj1ifHwwPT1kJiY0ODw9YiYmNTc+PWJ8fDE9PWQmJjQ4PD1iJiY1Nz49YiYmNDU9PWg/YysoXCJcXFxcXCIrYi50b1N0cmluZygxNikrXCIgXCIpOjA9PWQmJjE9PWcmJjQ1PT1iP2MrKFwiXFxcXFwiK2EuY2hhckF0KGQpKToxMjg8PWJ8fDQ1PT1ifHw5NT09Ynx8NDg8PWImJjU3Pj1ifHw2NTw9YiYmOTA+PWJ8fDk3PD1iJiYxMjI+PWI/YythLmNoYXJBdChkKTpjKyhcIlxcXFxcIithLmNoYXJBdChkKSk7YT1jfWVsc2UgYT1cIlwiO3JldHVybiBhfSxcbmdldE1vdXNlQnV0dG9uOmZ1bmN0aW9uKGEpe3JldHVybihhPWEmJmEuZGF0YT9hLmRhdGEuJDphKT9DS0VESVRPUi50b29scy5ub3JtYWxpemVNb3VzZUJ1dHRvbihhLmJ1dHRvbik6ITF9LG5vcm1hbGl6ZU1vdXNlQnV0dG9uOmZ1bmN0aW9uKGEsZyl7aWYoIUNLRURJVE9SLmVudi5pZXx8OTw9Q0tFRElUT1IuZW52LnZlcnNpb24mJiFDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXJldHVybiBhO2Zvcih2YXIgZD1bW0NLRURJVE9SLk1PVVNFX0JVVFRPTl9MRUZULDFdLFtDS0VESVRPUi5NT1VTRV9CVVRUT05fTUlERExFLDRdLFtDS0VESVRPUi5NT1VTRV9CVVRUT05fUklHSFQsMl1dLGI9MDtiPGQubGVuZ3RoO2IrKyl7dmFyIGM9ZFtiXTtpZihjWzBdPT09YSYmZylyZXR1cm4gY1sxXTtpZighZyYmY1sxXT09PWEpcmV0dXJuIGNbMF19fSxjb252ZXJ0SGV4U3RyaW5nVG9CeXRlczpmdW5jdGlvbihhKXt2YXIgZz1bXSxkPWEubGVuZ3RoLzIsYjtmb3IoYj0wO2I8ZDtiKyspZy5wdXNoKHBhcnNlSW50KGEuc3Vic3RyKDIqXG5iLDIpLDE2KSk7cmV0dXJuIGd9LGNvbnZlcnRCeXRlc1RvQmFzZTY0OmZ1bmN0aW9uKGEpe3ZhciBnPVwiXCIsZD1hLmxlbmd0aCxiO2ZvcihiPTA7YjxkO2IrPTMpe3ZhciBjPWEuc2xpY2UoYixiKzMpLGg9Yy5sZW5ndGgsZT1bXSxtO2lmKDM+aClmb3IobT1oOzM+bTttKyspY1ttXT0wO2VbMF09KGNbMF0mMjUyKT4+MjtlWzFdPShjWzBdJjMpPDw0fGNbMV0+PjQ7ZVsyXT0oY1sxXSYxNSk8PDJ8KGNbMl0mMTkyKT4+NjtlWzNdPWNbMl0mNjM7Zm9yKG09MDs0Pm07bSsrKWc9bTw9aD9nK1wiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLmNoYXJBdChlW21dKTpnK1wiXFx4M2RcIn1yZXR1cm4gZ30sc3R5bGU6e3BhcnNlOntfYm9yZGVyU3R5bGU6XCJub25lIGhpZGRlbiBkb3R0ZWQgZGFzaGVkIHNvbGlkIGRvdWJsZSBncm9vdmUgcmlkZ2UgaW5zZXQgb3V0c2V0XCIuc3BsaXQoXCIgXCIpLF93aWR0aFJlZ0V4cDovXih0aGlufG1lZGl1bXx0aGlja3xbXFwrLV0/XFxkKyhcXC5cXGQrKT9bYS16JV0rfFtcXCstXT8wKyhcXC4wKyk/fFxcLlxcZCtbYS16JV0rKSQvLFxuX3JnYmFSZWdFeHA6L3JnYmE/XFwoXFxzKlxcZCslP1xccyosXFxzKlxcZCslP1xccyosXFxzKlxcZCslP1xccyooPzosXFxzKlswLTkuXStcXHMqKT9cXCkvZ2ksX2hzbGFSZWdFeHA6L2hzbGE/XFwoXFxzKlswLTkuXStcXHMqLFxccypcXGQrJVxccyosXFxzKlxcZCslXFxzKig/OixcXHMqWzAtOS5dK1xccyopP1xcKS9naSxiYWNrZ3JvdW5kOmZ1bmN0aW9uKGEpe3ZhciBnPXt9LGQ9dGhpcy5fZmluZENvbG9yKGEpO2QubGVuZ3RoJiYoZy5jb2xvcj1kWzBdLENLRURJVE9SLnRvb2xzLmFycmF5LmZvckVhY2goZCxmdW5jdGlvbihnKXthPWEucmVwbGFjZShnLFwiXCIpfSkpO2lmKGE9Q0tFRElUT1IudG9vbHMudHJpbShhKSlnLnVucHJvY2Vzc2VkPWE7cmV0dXJuIGd9LG1hcmdpbjpmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuc3R5bGUucGFyc2Uuc2lkZVNob3J0aGFuZChhLGZ1bmN0aW9uKGEpe3JldHVybiBhLm1hdGNoKC8oPzpcXC0/W1xcLlxcZF0rKD86JXxcXHcqKXxhdXRvfGluaGVyaXR8aW5pdGlhbHx1bnNldHxyZXZlcnQpL2cpfHxcbltcIjBweFwiXX0pfSxzaWRlU2hvcnRoYW5kOmZ1bmN0aW9uKGEsZyl7ZnVuY3Rpb24gZChhKXtiLnRvcD1jW2FbMF1dO2IucmlnaHQ9Y1thWzFdXTtiLmJvdHRvbT1jW2FbMl1dO2IubGVmdD1jW2FbM11dfXZhciBiPXt9LGM9Zz9nKGEpOmEuc3BsaXQoL1xccysvKTtzd2l0Y2goYy5sZW5ndGgpe2Nhc2UgMTpkKFswLDAsMCwwXSk7YnJlYWs7Y2FzZSAyOmQoWzAsMSwwLDFdKTticmVhaztjYXNlIDM6ZChbMCwxLDIsMV0pO2JyZWFrO2Nhc2UgNDpkKFswLDEsMiwzXSl9cmV0dXJuIGJ9LGJvcmRlcjpmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuc3R5bGUuYm9yZGVyLmZyb21Dc3NSdWxlKGEpfSxfZmluZENvbG9yOmZ1bmN0aW9uKGEpe3ZhciBnPVtdLGQ9Q0tFRElUT1IudG9vbHMuYXJyYXksZz1nLmNvbmNhdChhLm1hdGNoKHRoaXMuX3JnYmFSZWdFeHApfHxbXSksZz1nLmNvbmNhdChhLm1hdGNoKHRoaXMuX2hzbGFSZWdFeHApfHxbXSk7cmV0dXJuIGc9Zy5jb25jYXQoZC5maWx0ZXIoYS5zcGxpdCgvXFxzKy8pLFxuZnVuY3Rpb24oYSl7cmV0dXJuIGEubWF0Y2goL15cXCNbYS1mMC05XXszfSg/OlthLWYwLTldezN9KT8kL2dpKT8hMDphLnRvTG93ZXJDYXNlKClpbiBDS0VESVRPUi50b29scy5zdHlsZS5wYXJzZS5fY29sb3JzfSkpfX19LGFycmF5OntmaWx0ZXI6ZnVuY3Rpb24oYSxnLGQpe3ZhciBiPVtdO3RoaXMuZm9yRWFjaChhLGZ1bmN0aW9uKGMsaCl7Zy5jYWxsKGQsYyxoLGEpJiZiLnB1c2goYyl9KTtyZXR1cm4gYn0sZmluZDpmdW5jdGlvbihhLGcsZCl7Zm9yKHZhciBiPWEubGVuZ3RoLGM9MDtjPGI7KXtpZihnLmNhbGwoZCxhW2NdLGMsYSkpcmV0dXJuIGFbY107YysrfX0sZm9yRWFjaDpmdW5jdGlvbihhLGcsZCl7dmFyIGI9YS5sZW5ndGgsYztmb3IoYz0wO2M8YjtjKyspZy5jYWxsKGQsYVtjXSxjLGEpfSxtYXA6ZnVuY3Rpb24oYSxnLGQpe2Zvcih2YXIgYj1bXSxjPTA7YzxhLmxlbmd0aDtjKyspYi5wdXNoKGcuY2FsbChkLGFbY10sYyxhKSk7cmV0dXJuIGJ9LHJlZHVjZTpmdW5jdGlvbihhLFxuZyxkLGIpe2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKWQ9Zy5jYWxsKGIsZCxhW2NdLGMsYSk7cmV0dXJuIGR9LGV2ZXJ5OmZ1bmN0aW9uKGEsZyxkKXtpZighYS5sZW5ndGgpcmV0dXJuITA7Zz10aGlzLmZpbHRlcihhLGcsZCk7cmV0dXJuIGEubGVuZ3RoPT09Zy5sZW5ndGh9LHNvbWU6ZnVuY3Rpb24oYSxnLGQpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWlmKGcuY2FsbChkLGFbYl0sYixhKSlyZXR1cm4hMDtyZXR1cm4hMX0semlwOmZ1bmN0aW9uKGEsZyl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmFycmF5Lm1hcChhLGZ1bmN0aW9uKGEsZCl7cmV0dXJuW2EsZ1tkXV19KX0sdW5pcXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZpbHRlcihhLGZ1bmN0aW9uKGcsZCl7cmV0dXJuIGQ9PT1DS0VESVRPUi50b29scy5hcnJheS5pbmRleE9mKGEsZyl9KX19LG9iamVjdDp7RE9OVF9FTlVNUzpcInRvU3RyaW5nIHRvTG9jYWxlU3RyaW5nIHZhbHVlT2YgaGFzT3duUHJvcGVydHkgaXNQcm90b3R5cGVPZiBwcm9wZXJ0eUlzRW51bWVyYWJsZSBjb25zdHJ1Y3RvclwiLnNwbGl0KFwiIFwiKSxcbmVudHJpZXM6ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmFycmF5Lm1hcChDS0VESVRPUi50b29scy5vYmplY3Qua2V5cyhhKSxmdW5jdGlvbihnKXtyZXR1cm5bZyxhW2ddXX0pfSx2YWx1ZXM6ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmFycmF5Lm1hcChDS0VESVRPUi50b29scy5vYmplY3Qua2V5cyhhKSxmdW5jdGlvbihnKXtyZXR1cm4gYVtnXX0pfSxrZXlzOmZ1bmN0aW9uKGEpe3ZhciBnPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksZD1bXSxiPUNLRURJVE9SLnRvb2xzLm9iamVjdC5ET05UX0VOVU1TO2lmKENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbiYmKCFhfHxcIm9iamVjdFwiIT09dHlwZW9mIGEpKXtnPVtdO2lmKFwic3RyaW5nXCI9PT10eXBlb2YgYSlmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWcucHVzaChTdHJpbmcoZCkpO3JldHVybiBnfWZvcih2YXIgYyBpbiBhKWQucHVzaChjKTtpZihDS0VESVRPUi5lbnYuaWUmJlxuOT5DS0VESVRPUi5lbnYudmVyc2lvbilmb3IoYz0wO2M8Yi5sZW5ndGg7YysrKWcuY2FsbChhLGJbY10pJiZkLnB1c2goYltjXSk7cmV0dXJuIGR9LGZpbmRLZXk6ZnVuY3Rpb24oYSxnKXtpZihcIm9iamVjdFwiIT09dHlwZW9mIGEpcmV0dXJuIG51bGw7Zm9yKHZhciBkIGluIGEpaWYoYVtkXT09PWcpcmV0dXJuIGQ7cmV0dXJuIG51bGx9LG1lcmdlOmZ1bmN0aW9uKGEsZyl7dmFyIGQ9Q0tFRElUT1IudG9vbHMsYj1kLmNsb25lKGEpLGM9ZC5jbG9uZShnKTtkLmFycmF5LmZvckVhY2goZC5vYmplY3Qua2V5cyhjKSxmdW5jdGlvbihhKXtiW2FdPVwib2JqZWN0XCI9PT10eXBlb2YgY1thXSYmXCJvYmplY3RcIj09PXR5cGVvZiBiW2FdP2Qub2JqZWN0Lm1lcmdlKGJbYV0sY1thXSk6Y1thXX0pO3JldHVybiBifX0sZ2V0QWJzb2x1dGVSZWN0UG9zaXRpb246ZnVuY3Rpb24oYSxnKXtmdW5jdGlvbiBkKGEpe2lmKGEpe3ZhciBnPWEuZ2V0Q2xpZW50UmVjdCgpO2IudG9wKz1nLnRvcDtiLmxlZnQrPVxuZy5sZWZ0O1wieFwiaW4gYiYmXCJ5XCJpbiBiJiYoYi54Kz1nLngsYi55Kz1nLnkpO2QoYS5nZXRXaW5kb3coKS5nZXRGcmFtZSgpKX19dmFyIGI9Q0tFRElUT1IudG9vbHMuY29weShnKTtkKGEuZ2V0RnJhbWUoKSk7dmFyIGM9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0U2Nyb2xsUG9zaXRpb24oKTtiLnRvcCs9Yy55O2IubGVmdCs9Yy54O1wieFwiaW4gYiYmXCJ5XCJpbiBiJiYoYi55Kz1jLnksYi54Kz1jLngpO2IucmlnaHQ9Yi5sZWZ0K2Iud2lkdGg7Yi5ib3R0b209Yi50b3ArYi5oZWlnaHQ7cmV0dXJuIGJ9fTthLnByb3RvdHlwZT17cmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9sYXN0T3V0cHV0PTA7dGhpcy5fY2xlYXJUaW1lcigpfSxfcmVzY2hlZHVsZTpmdW5jdGlvbigpe3JldHVybiExfSxfY2FsbDpmdW5jdGlvbigpe3RoaXMuX291dHB1dCgpfSxfY2xlYXJUaW1lcjpmdW5jdGlvbigpe3RoaXMuX3NjaGVkdWxlZFRpbWVyJiZjbGVhclRpbWVvdXQodGhpcy5fc2NoZWR1bGVkVGltZXIpO1xudGhpcy5fc2NoZWR1bGVkVGltZXI9MH19O2YucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLnByb3RvdHlwZWRDb3B5KGEucHJvdG90eXBlKTtmLnByb3RvdHlwZS5fcmVzY2hlZHVsZT1mdW5jdGlvbigpe3RoaXMuX3NjaGVkdWxlZFRpbWVyJiZ0aGlzLl9jbGVhclRpbWVyKCl9O2YucHJvdG90eXBlLl9jYWxsPWZ1bmN0aW9uKCl7dGhpcy5fb3V0cHV0LmFwcGx5KHRoaXMuX2NvbnRleHQsdGhpcy5fYXJncyl9O0NLRURJVE9SLnRvb2xzLmJ1ZmZlcnM9e307Q0tFRElUT1IudG9vbHMuYnVmZmVycy5ldmVudD1hO0NLRURJVE9SLnRvb2xzLmJ1ZmZlcnMudGhyb3R0bGU9ZjtDS0VESVRPUi50b29scy5zdHlsZS5ib3JkZXI9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYSl7YT1hfHx7fTt0aGlzLndpZHRoPWEud2lkdGg7dGhpcy5zdHlsZT1hLnN0eWxlO3RoaXMuY29sb3I9YS5jb2xvcjt0aGlzLl8ubm9ybWFsaXplKCl9LF86e25vcm1hbGl6ZU1hcDp7Y29sb3I6W1svd2luZG93dGV4dC9nLFxuXCJibGFja1wiXV19LG5vcm1hbGl6ZTpmdW5jdGlvbigpe2Zvcih2YXIgYSBpbiB0aGlzLl8ubm9ybWFsaXplTWFwKXt2YXIgZz10aGlzW2FdO2cmJih0aGlzW2FdPUNLRURJVE9SLnRvb2xzLmFycmF5LnJlZHVjZSh0aGlzLl8ubm9ybWFsaXplTWFwW2FdLGZ1bmN0aW9uKGEsZyl7cmV0dXJuIGEucmVwbGFjZShnWzBdLGdbMV0pfSxnKSl9fX0scHJvdG86e3RvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmFycmF5LmZpbHRlcihbdGhpcy53aWR0aCx0aGlzLnN0eWxlLHRoaXMuY29sb3JdLGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pLmpvaW4oXCIgXCIpfX0sc3RhdGljczp7ZnJvbUNzc1J1bGU6ZnVuY3Rpb24oYSl7dmFyIGc9e30sZD1hLnNwbGl0KC9cXHMrL2cpO2E9Q0tFRElUT1IudG9vbHMuc3R5bGUucGFyc2UuX2ZpbmRDb2xvcihhKTthLmxlbmd0aCYmKGcuY29sb3I9YVswXSk7Q0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaChkLGZ1bmN0aW9uKGEpe2cuc3R5bGV8fFxuLTE9PT1DS0VESVRPUi50b29scy5pbmRleE9mKENLRURJVE9SLnRvb2xzLnN0eWxlLnBhcnNlLl9ib3JkZXJTdHlsZSxhKT8hZy53aWR0aCYmQ0tFRElUT1IudG9vbHMuc3R5bGUucGFyc2UuX3dpZHRoUmVnRXhwLnRlc3QoYSkmJihnLndpZHRoPWEpOmcuc3R5bGU9YX0pO3JldHVybiBuZXcgQ0tFRElUT1IudG9vbHMuc3R5bGUuYm9yZGVyKGcpfSxzcGxpdENzc1ZhbHVlczpmdW5jdGlvbihhLGcpe2c9Z3x8e307dmFyIGQ9Q0tFRElUT1IudG9vbHMuYXJyYXkucmVkdWNlKFtcIndpZHRoXCIsXCJzdHlsZVwiLFwiY29sb3JcIl0sZnVuY3Rpb24oZCxiKXt2YXIgYz1hW1wiYm9yZGVyLVwiK2JdfHxnW2JdO2RbYl09Yz9DS0VESVRPUi50b29scy5zdHlsZS5wYXJzZS5zaWRlU2hvcnRoYW5kKGMpOm51bGw7cmV0dXJuIGR9LHt9KTtyZXR1cm4gQ0tFRElUT1IudG9vbHMuYXJyYXkucmVkdWNlKFtcInRvcFwiLFwicmlnaHRcIixcImJvdHRvbVwiLFwibGVmdFwiXSxmdW5jdGlvbihnLGIpe3ZhciBjPXt9LGg7Zm9yKGggaW4gZCl7dmFyIGU9XG5hW1wiYm9yZGVyLVwiK2IrXCItXCIraF07Y1toXT1lP2U6ZFtoXSYmZFtoXVtiXX1nW1wiYm9yZGVyLVwiK2JdPW5ldyBDS0VESVRPUi50b29scy5zdHlsZS5ib3JkZXIoYyk7cmV0dXJuIGd9LHt9KX19fSk7Q0tFRElUT1IudG9vbHMuYXJyYXkuaW5kZXhPZj1DS0VESVRPUi50b29scy5pbmRleE9mO0NLRURJVE9SLnRvb2xzLmFycmF5LmlzQXJyYXk9Q0tFRElUT1IudG9vbHMuaXNBcnJheTtDS0VESVRPUi5NT1VTRV9CVVRUT05fTEVGVD0wO0NLRURJVE9SLk1PVVNFX0JVVFRPTl9NSURETEU9MTtDS0VESVRPUi5NT1VTRV9CVVRUT05fUklHSFQ9Mn0oKSxDS0VESVRPUi5kdGQ9ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi50b29scy5leHRlbmQsZj1mdW5jdGlvbihhLGcpe2Zvcih2YXIgZD1DS0VESVRPUi50b29scy5jbG9uZShhKSxiPTE7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKyl7Zz1hcmd1bWVudHNbYl07Zm9yKHZhciBjIGluIGcpZGVsZXRlIGRbY119cmV0dXJuIGR9LGU9e30sYj17fSxcbmM9e2FkZHJlc3M6MSxhcnRpY2xlOjEsYXNpZGU6MSxibG9ja3F1b3RlOjEsZGV0YWlsczoxLGRpdjoxLGRsOjEsZmllbGRzZXQ6MSxmaWd1cmU6MSxmb290ZXI6MSxmb3JtOjEsaDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLGg2OjEsaGVhZGVyOjEsaGdyb3VwOjEsaHI6MSxtYWluOjEsbWVudToxLG5hdjoxLG9sOjEscDoxLHByZToxLHNlY3Rpb246MSx0YWJsZToxLHVsOjF9LGs9e2NvbW1hbmQ6MSxsaW5rOjEsbWV0YToxLG5vc2NyaXB0OjEsc2NyaXB0OjEsc3R5bGU6MX0sbD17fSxtPXtcIiNcIjoxfSxkPXtjZW50ZXI6MSxkaXI6MSxub2ZyYW1lczoxfTthKGUse2E6MSxhYmJyOjEsYXJlYToxLGF1ZGlvOjEsYjoxLGJkaToxLGJkbzoxLGJyOjEsYnV0dG9uOjEsY2FudmFzOjEsY2l0ZToxLGNvZGU6MSxjb21tYW5kOjEsZGF0YWxpc3Q6MSxkZWw6MSxkZm46MSxlbToxLGVtYmVkOjEsaToxLGlmcmFtZToxLGltZzoxLGlucHV0OjEsaW5zOjEsa2JkOjEsa2V5Z2VuOjEsbGFiZWw6MSxtYXA6MSxcbm1hcms6MSxtZXRlcjoxLG5vc2NyaXB0OjEsb2JqZWN0OjEsb3V0cHV0OjEscHJvZ3Jlc3M6MSxxOjEscnVieToxLHM6MSxzYW1wOjEsc2NyaXB0OjEsc2VsZWN0OjEsc21hbGw6MSxzcGFuOjEsc3Ryb25nOjEsc3ViOjEsc3VwOjEsdGV4dGFyZWE6MSx0aW1lOjEsdToxLFwidmFyXCI6MSx2aWRlbzoxLHdicjoxfSxtLHthY3JvbnltOjEsYXBwbGV0OjEsYmFzZWZvbnQ6MSxiaWc6MSxmb250OjEsaXNpbmRleDoxLHN0cmlrZToxLHN0eWxlOjEsdHQ6MX0pO2EoYixjLGUsZCk7Zj17YTpmKGUse2E6MSxidXR0b246MX0pLGFiYnI6ZSxhZGRyZXNzOmIsYXJlYTpsLGFydGljbGU6Yixhc2lkZTpiLGF1ZGlvOmEoe3NvdXJjZToxLHRyYWNrOjF9LGIpLGI6ZSxiYXNlOmwsYmRpOmUsYmRvOmUsYmxvY2txdW90ZTpiLGJvZHk6YixicjpsLGJ1dHRvbjpmKGUse2E6MSxidXR0b246MX0pLGNhbnZhczplLGNhcHRpb246YixjaXRlOmUsY29kZTplLGNvbDpsLGNvbGdyb3VwOntjb2w6MX0sY29tbWFuZDpsLFxuZGF0YWxpc3Q6YSh7b3B0aW9uOjF9LGUpLGRkOmIsZGVsOmUsZGV0YWlsczphKHtzdW1tYXJ5OjF9LGIpLGRmbjplLGRpdjpiLGRsOntkdDoxLGRkOjF9LGR0OmIsZW06ZSxlbWJlZDpsLGZpZWxkc2V0OmEoe2xlZ2VuZDoxfSxiKSxmaWdjYXB0aW9uOmIsZmlndXJlOmEoe2ZpZ2NhcHRpb246MX0sYiksZm9vdGVyOmIsZm9ybTpiLGgxOmUsaDI6ZSxoMzplLGg0OmUsaDU6ZSxoNjplLGhlYWQ6YSh7dGl0bGU6MSxiYXNlOjF9LGspLGhlYWRlcjpiLGhncm91cDp7aDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLGg2OjF9LGhyOmwsaHRtbDphKHtoZWFkOjEsYm9keToxfSxiLGspLGk6ZSxpZnJhbWU6bSxpbWc6bCxpbnB1dDpsLGluczplLGtiZDplLGtleWdlbjpsLGxhYmVsOmUsbGVnZW5kOmUsbGk6YixsaW5rOmwsbWFpbjpiLG1hcDpiLG1hcms6ZSxtZW51OmEoe2xpOjF9LGIpLG1ldGE6bCxtZXRlcjpmKGUse21ldGVyOjF9KSxuYXY6Yixub3NjcmlwdDphKHtsaW5rOjEsbWV0YToxLHN0eWxlOjF9LFxuZSksb2JqZWN0OmEoe3BhcmFtOjF9LGUpLG9sOntsaToxfSxvcHRncm91cDp7b3B0aW9uOjF9LG9wdGlvbjptLG91dHB1dDplLHA6ZSxwYXJhbTpsLHByZTplLHByb2dyZXNzOmYoZSx7cHJvZ3Jlc3M6MX0pLHE6ZSxycDplLHJ0OmUscnVieTphKHtycDoxLHJ0OjF9LGUpLHM6ZSxzYW1wOmUsc2NyaXB0Om0sc2VjdGlvbjpiLHNlbGVjdDp7b3B0Z3JvdXA6MSxvcHRpb246MX0sc21hbGw6ZSxzb3VyY2U6bCxzcGFuOmUsc3Ryb25nOmUsc3R5bGU6bSxzdWI6ZSxzdW1tYXJ5OmEoe2gxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxfSxlKSxzdXA6ZSx0YWJsZTp7Y2FwdGlvbjoxLGNvbGdyb3VwOjEsdGhlYWQ6MSx0Zm9vdDoxLHRib2R5OjEsdHI6MX0sdGJvZHk6e3RyOjF9LHRkOmIsdGV4dGFyZWE6bSx0Zm9vdDp7dHI6MX0sdGg6Yix0aGVhZDp7dHI6MX0sdGltZTpmKGUse3RpbWU6MX0pLHRpdGxlOm0sdHI6e3RoOjEsdGQ6MX0sdHJhY2s6bCx1OmUsdWw6e2xpOjF9LFwidmFyXCI6ZSxcbnZpZGVvOmEoe3NvdXJjZToxLHRyYWNrOjF9LGIpLHdicjpsLGFjcm9ueW06ZSxhcHBsZXQ6YSh7cGFyYW06MX0sYiksYmFzZWZvbnQ6bCxiaWc6ZSxjZW50ZXI6YixkaWFsb2c6bCxkaXI6e2xpOjF9LGZvbnQ6ZSxpc2luZGV4Omwsbm9mcmFtZXM6YixzdHJpa2U6ZSx0dDplfTthKGYseyRibG9jazphKHthdWRpbzoxLGRkOjEsZHQ6MSxmaWdjYXB0aW9uOjEsbGk6MSx2aWRlbzoxfSxjLGQpLCRibG9ja0xpbWl0OnthcnRpY2xlOjEsYXNpZGU6MSxhdWRpbzoxLGJvZHk6MSxjYXB0aW9uOjEsZGV0YWlsczoxLGRpcjoxLGRpdjoxLGRsOjEsZmllbGRzZXQ6MSxmaWdjYXB0aW9uOjEsZmlndXJlOjEsZm9vdGVyOjEsZm9ybToxLGhlYWRlcjoxLGhncm91cDoxLG1haW46MSxtZW51OjEsbmF2OjEsb2w6MSxzZWN0aW9uOjEsdGFibGU6MSx0ZDoxLHRoOjEsdHI6MSx1bDoxLHZpZGVvOjF9LCRjZGF0YTp7c2NyaXB0OjEsc3R5bGU6MX0sJGVkaXRhYmxlOnthZGRyZXNzOjEsYXJ0aWNsZToxLFxuYXNpZGU6MSxibG9ja3F1b3RlOjEsYm9keToxLGRldGFpbHM6MSxkaXY6MSxmaWVsZHNldDoxLGZpZ2NhcHRpb246MSxmb290ZXI6MSxmb3JtOjEsaDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLGg2OjEsaGVhZGVyOjEsaGdyb3VwOjEsbWFpbjoxLG5hdjoxLHA6MSxwcmU6MSxzZWN0aW9uOjF9LCRlbXB0eTp7YXJlYToxLGJhc2U6MSxiYXNlZm9udDoxLGJyOjEsY29sOjEsY29tbWFuZDoxLGRpYWxvZzoxLGVtYmVkOjEsaHI6MSxpbWc6MSxpbnB1dDoxLGlzaW5kZXg6MSxrZXlnZW46MSxsaW5rOjEsbWV0YToxLHBhcmFtOjEsc291cmNlOjEsdHJhY2s6MSx3YnI6MX0sJGlubGluZTplLCRsaXN0OntkbDoxLG9sOjEsdWw6MX0sJGxpc3RJdGVtOntkZDoxLGR0OjEsbGk6MX0sJG5vbkJvZHlDb250ZW50OmEoe2JvZHk6MSxoZWFkOjEsaHRtbDoxfSxmLmhlYWQpLCRub25FZGl0YWJsZTp7YXBwbGV0OjEsYXVkaW86MSxidXR0b246MSxlbWJlZDoxLGlmcmFtZToxLG1hcDoxLG9iamVjdDoxLFxub3B0aW9uOjEscGFyYW06MSxzY3JpcHQ6MSx0ZXh0YXJlYToxLHZpZGVvOjF9LCRvYmplY3Q6e2FwcGxldDoxLGF1ZGlvOjEsYnV0dG9uOjEsaHI6MSxpZnJhbWU6MSxpbWc6MSxpbnB1dDoxLG9iamVjdDoxLHNlbGVjdDoxLHRhYmxlOjEsdGV4dGFyZWE6MSx2aWRlbzoxfSwkcmVtb3ZlRW1wdHk6e2FiYnI6MSxhY3JvbnltOjEsYjoxLGJkaToxLGJkbzoxLGJpZzoxLGNpdGU6MSxjb2RlOjEsZGVsOjEsZGZuOjEsZW06MSxmb250OjEsaToxLGluczoxLGxhYmVsOjEsa2JkOjEsbWFyazoxLG1ldGVyOjEsb3V0cHV0OjEscToxLHJ1Ynk6MSxzOjEsc2FtcDoxLHNtYWxsOjEsc3BhbjoxLHN0cmlrZToxLHN0cm9uZzoxLHN1YjoxLHN1cDoxLHRpbWU6MSx0dDoxLHU6MSxcInZhclwiOjF9LCR0YWJJbmRleDp7YToxLGFyZWE6MSxidXR0b246MSxpbnB1dDoxLG9iamVjdDoxLHNlbGVjdDoxLHRleHRhcmVhOjF9LCR0YWJsZUNvbnRlbnQ6e2NhcHRpb246MSxjb2w6MSxjb2xncm91cDoxLHRib2R5OjEsXG50ZDoxLHRmb290OjEsdGg6MSx0aGVhZDoxLHRyOjF9LCR0cmFuc3BhcmVudDp7YToxLGF1ZGlvOjEsY2FudmFzOjEsZGVsOjEsaW5zOjEsbWFwOjEsbm9zY3JpcHQ6MSxvYmplY3Q6MSx2aWRlbzoxfSwkaW50ZXJtZWRpYXRlOntjYXB0aW9uOjEsY29sZ3JvdXA6MSxkZDoxLGR0OjEsZmlnY2FwdGlvbjoxLGxlZ2VuZDoxLGxpOjEsb3B0Z3JvdXA6MSxvcHRpb246MSxycDoxLHJ0OjEsc3VtbWFyeToxLHRib2R5OjEsdGQ6MSx0Zm9vdDoxLHRoOjEsdGhlYWQ6MSx0cjoxfX0pO3JldHVybiBmfSgpLENLRURJVE9SLmRvbS5ldmVudD1mdW5jdGlvbihhKXt0aGlzLiQ9YX0sQ0tFRElUT1IuZG9tLmV2ZW50LnByb3RvdHlwZT17Z2V0S2V5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5rZXlDb2RlfHx0aGlzLiQud2hpY2h9LGdldEtleXN0cm9rZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0S2V5KCk7aWYodGhpcy4kLmN0cmxLZXl8fHRoaXMuJC5tZXRhS2V5KWErPUNLRURJVE9SLkNUUkw7XG50aGlzLiQuc2hpZnRLZXkmJihhKz1DS0VESVRPUi5TSElGVCk7dGhpcy4kLmFsdEtleSYmKGErPUNLRURJVE9SLkFMVCk7cmV0dXJuIGF9LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMuJDtmLnByZXZlbnREZWZhdWx0P2YucHJldmVudERlZmF1bHQoKTpmLnJldHVyblZhbHVlPSExO2EmJnRoaXMuc3RvcFByb3BhZ2F0aW9uKCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJDthLnN0b3BQcm9wYWdhdGlvbj9hLnN0b3BQcm9wYWdhdGlvbigpOmEuY2FuY2VsQnViYmxlPSEwfSxnZXRUYXJnZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQudGFyZ2V0fHx0aGlzLiQuc3JjRWxlbWVudDtyZXR1cm4gYT9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYSk6bnVsbH0sZ2V0UGhhc2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLmV2ZW50UGhhc2V8fDJ9LGdldFBhZ2VPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFRhcmdldCgpLmdldERvY3VtZW50KCkuJDtcbnJldHVybnt4OnRoaXMuJC5wYWdlWHx8dGhpcy4kLmNsaWVudFgrKGEuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnR8fGEuYm9keS5zY3JvbGxMZWZ0KSx5OnRoaXMuJC5wYWdlWXx8dGhpcy4kLmNsaWVudFkrKGEuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8YS5ib2R5LnNjcm9sbFRvcCl9fX0sQ0tFRElUT1IuQ1RSTD0xMTE0MTEyLENLRURJVE9SLlNISUZUPTIyMjgyMjQsQ0tFRElUT1IuQUxUPTQ0NTY0NDgsQ0tFRElUT1IuRVZFTlRfUEhBU0VfQ0FQVFVSSU5HPTEsQ0tFRElUT1IuRVZFTlRfUEhBU0VfQVRfVEFSR0VUPTIsQ0tFRElUT1IuRVZFTlRfUEhBU0VfQlVCQkxJTkc9MyxDS0VESVRPUi5ISVNUT1JZX05BVElWRT0xLENLRURJVE9SLkhJU1RPUllfSEFTSD0yLENLRURJVE9SLkhJU1RPUllfT0ZGPTAsQ0tFRElUT1IuZG9tLmRvbU9iamVjdD1mdW5jdGlvbihhKXthJiYodGhpcy4kPWEpfSxDS0VESVRPUi5kb20uZG9tT2JqZWN0LnByb3RvdHlwZT1mdW5jdGlvbigpe3ZhciBhPVxuZnVuY3Rpb24oYSxlKXtyZXR1cm4gZnVuY3Rpb24oYil7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIENLRURJVE9SJiZhLmZpcmUoZSxuZXcgQ0tFRElUT1IuZG9tLmV2ZW50KGIpKX19O3JldHVybntnZXRQcml2YXRlOmZ1bmN0aW9uKCl7dmFyIGE7KGE9dGhpcy5nZXRDdXN0b21EYXRhKFwiX1wiKSl8fHRoaXMuc2V0Q3VzdG9tRGF0YShcIl9cIixhPXt9KTtyZXR1cm4gYX0sb246ZnVuY3Rpb24oZil7dmFyIGU9dGhpcy5nZXRDdXN0b21EYXRhKFwiX2NrZV9uYXRpdmVMaXN0ZW5lcnNcIik7ZXx8KGU9e30sdGhpcy5zZXRDdXN0b21EYXRhKFwiX2NrZV9uYXRpdmVMaXN0ZW5lcnNcIixlKSk7ZVtmXXx8KGU9ZVtmXT1hKHRoaXMsZiksdGhpcy4kLmFkZEV2ZW50TGlzdGVuZXI/dGhpcy4kLmFkZEV2ZW50TGlzdGVuZXIoZixlLCEhQ0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZSk6dGhpcy4kLmF0dGFjaEV2ZW50JiZ0aGlzLiQuYXR0YWNoRXZlbnQoXCJvblwiK2YsZSkpO3JldHVybiBDS0VESVRPUi5ldmVudC5wcm90b3R5cGUub24uYXBwbHkodGhpcyxcbmFyZ3VtZW50cyl9LHJlbW92ZUxpc3RlbmVyOmZ1bmN0aW9uKGEpe0NLRURJVE9SLmV2ZW50LnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoIXRoaXMuaGFzTGlzdGVuZXJzKGEpKXt2YXIgZT10aGlzLmdldEN1c3RvbURhdGEoXCJfY2tlX25hdGl2ZUxpc3RlbmVyc1wiKSxiPWUmJmVbYV07YiYmKHRoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyP3RoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyKGEsYiwhMSk6dGhpcy4kLmRldGFjaEV2ZW50JiZ0aGlzLiQuZGV0YWNoRXZlbnQoXCJvblwiK2EsYiksZGVsZXRlIGVbYV0pfX0scmVtb3ZlQWxsTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dHJ5e3ZhciBhPXRoaXMuZ2V0Q3VzdG9tRGF0YShcIl9ja2VfbmF0aXZlTGlzdGVuZXJzXCIpLGU7Zm9yKGUgaW4gYSl7dmFyIGI9YVtlXTt0aGlzLiQuZGV0YWNoRXZlbnQ/dGhpcy4kLmRldGFjaEV2ZW50KFwib25cIitlLGIpOnRoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyJiZ0aGlzLiQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLFxuYiwhMSk7ZGVsZXRlIGFbZV19fWNhdGNoKGMpe2lmKCFDS0VESVRPUi5lbnYuZWRnZXx8LTIxNDY4MjgyMTghPT1jLm51bWJlcil0aHJvdyBjO31DS0VESVRPUi5ldmVudC5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzLmNhbGwodGhpcyl9fX0oKSxmdW5jdGlvbihhKXt2YXIgZj17fTtDS0VESVRPUi5vbihcInJlc2V0XCIsZnVuY3Rpb24oKXtmPXt9fSk7YS5lcXVhbHM9ZnVuY3Rpb24oYSl7dHJ5e3JldHVybiBhJiZhLiQ9PT10aGlzLiR9Y2F0Y2goYil7cmV0dXJuITF9fTthLnNldEN1c3RvbURhdGE9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldFVuaXF1ZUlkKCk7KGZbY118fChmW2NdPXt9KSlbYV09YjtyZXR1cm4gdGhpc307YS5nZXRDdXN0b21EYXRhPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl07cmV0dXJuKGI9YiYmZltiXSkmJmEgaW4gYj9iW2FdOm51bGx9O2EucmVtb3ZlQ3VzdG9tRGF0YT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdLFxuYj1iJiZmW2JdLGMsaztiJiYoYz1iW2FdLGs9YSBpbiBiLGRlbGV0ZSBiW2FdKTtyZXR1cm4gaz9jOm51bGx9O2EuY2xlYXJDdXN0b21EYXRhPWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTt2YXIgYT10aGlzLmdldFVuaXF1ZUlkKCk7YSYmZGVsZXRlIGZbYV19O2EuZ2V0VW5pcXVlSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kW1wiZGF0YS1ja2UtZXhwYW5kb1wiXXx8KHRoaXMuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl09Q0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpKX07Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oYSl9KENLRURJVE9SLmRvbS5kb21PYmplY3QucHJvdG90eXBlKSxDS0VESVRPUi5kb20ubm9kZT1mdW5jdGlvbihhKXtyZXR1cm4gYT9uZXcgQ0tFRElUT1IuZG9tW2Eubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlQ/XCJkb2N1bWVudFwiOmEubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9cImVsZW1lbnRcIjphLm5vZGVUeXBlPT1cbkNLRURJVE9SLk5PREVfVEVYVD9cInRleHRcIjphLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0NPTU1FTlQ/XCJjb21tZW50XCI6YS5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVD9cImRvY3VtZW50RnJhZ21lbnRcIjpcImRvbU9iamVjdFwiXShhKTp0aGlzfSxDS0VESVRPUi5kb20ubm9kZS5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5kb21PYmplY3QsQ0tFRElUT1IuTk9ERV9FTEVNRU5UPTEsQ0tFRElUT1IuTk9ERV9ET0NVTUVOVD05LENLRURJVE9SLk5PREVfVEVYVD0zLENLRURJVE9SLk5PREVfQ09NTUVOVD04LENLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQ9MTEsQ0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMPTAsQ0tFRElUT1IuUE9TSVRJT05fRElTQ09OTkVDVEVEPTEsQ0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HPTIsQ0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HPTQsQ0tFRElUT1IuUE9TSVRJT05fSVNfQ09OVEFJTkVEPTgsQ0tFRElUT1IuUE9TSVRJT05fQ09OVEFJTlM9XG4xNixDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLm5vZGUucHJvdG90eXBlLHthcHBlbmRUbzpmdW5jdGlvbihhLGYpe2EuYXBwZW5kKHRoaXMsZik7cmV0dXJuIGF9LGNsb25lOmZ1bmN0aW9uKGEsZil7ZnVuY3Rpb24gZShiKXtiW1wiZGF0YS1ja2UtZXhwYW5kb1wiXSYmKGJbXCJkYXRhLWNrZS1leHBhbmRvXCJdPSExKTtpZihiLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fGIubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpaWYoZnx8Yi5ub2RlVHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHxiLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIsITEpLGEpe2I9Yi5jaGlsZE5vZGVzO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKWUoYltjXSl9fWZ1bmN0aW9uIGIoYyl7aWYoYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fGMudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCl7aWYoYy50eXBlIT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UKXt2YXIgZT1cbmMuZ2V0TmFtZSgpO1wiOlwiPT1lWzBdJiZjLnJlbmFtZU5vZGUoZS5zdWJzdHJpbmcoMSkpfWlmKGEpZm9yKGU9MDtlPGMuZ2V0Q2hpbGRDb3VudCgpO2UrKyliKGMuZ2V0Q2hpbGQoZSkpfX12YXIgYz10aGlzLiQuY2xvbmVOb2RlKGEpO2UoYyk7Yz1uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYyk7Q0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uJiYodGhpcy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fHRoaXMudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCkmJmIoYyk7cmV0dXJuIGN9LGhhc1ByZXZpb3VzOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLiQucHJldmlvdXNTaWJsaW5nfSxoYXNOZXh0OmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLiQubmV4dFNpYmxpbmd9LGluc2VydEFmdGVyOmZ1bmN0aW9uKGEpe2EuJC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLiQsYS4kLm5leHRTaWJsaW5nKTtyZXR1cm4gYX0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKGEpe2EuJC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLiQsXG5hLiQpO3JldHVybiBhfSxpbnNlcnRCZWZvcmVNZTpmdW5jdGlvbihhKXt0aGlzLiQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYS4kLHRoaXMuJCk7cmV0dXJuIGF9LGdldEFkZHJlc3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBmPVtdLGU9dGhpcy5nZXREb2N1bWVudCgpLiQuZG9jdW1lbnRFbGVtZW50LGI9dGhpcztiJiZiIT1lOyl7dmFyIGM9Yi5nZXRQYXJlbnQoKTtjJiZmLnVuc2hpZnQodGhpcy5nZXRJbmRleC5jYWxsKGIsYSkpO2I9Y31yZXR1cm4gZn0sZ2V0RG9jdW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5kb2N1bWVudCh0aGlzLiQub3duZXJEb2N1bWVudHx8dGhpcy4kLnBhcmVudE5vZGUub3duZXJEb2N1bWVudCl9LGdldEluZGV4OmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGYoYSxiKXt2YXIgYz1iP2EuZ2V0TmV4dCgpOmEuZ2V0UHJldmlvdXMoKTtyZXR1cm4gYyYmYy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/Yy5pc0VtcHR5KCk/ZihjLGIpOmM6XG5udWxsfXZhciBlPXRoaXMsYj0tMSxjO2lmKCF0aGlzLmdldFBhcmVudCgpfHxhJiZlLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmZS5pc0VtcHR5KCkmJiFmKGUpJiYhZihlLCEwKSlyZXR1cm4tMTtkbyBpZighYXx8ZS5lcXVhbHModGhpcyl8fGUudHlwZSE9Q0tFRElUT1IuTk9ERV9URVhUfHwhYyYmIWUuaXNFbXB0eSgpKWIrKyxjPWUudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUO3doaWxlKGU9ZS5nZXRQcmV2aW91cygpKTtyZXR1cm4gYn0sZ2V0TmV4dFNvdXJjZU5vZGU6ZnVuY3Rpb24oYSxmLGUpe2lmKGUmJiFlLmNhbGwpe3ZhciBiPWU7ZT1mdW5jdGlvbihhKXtyZXR1cm4hYS5lcXVhbHMoYil9fWE9IWEmJnRoaXMuZ2V0Rmlyc3QmJnRoaXMuZ2V0Rmlyc3QoKTt2YXIgYztpZighYSl7aWYodGhpcy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmUmJiExPT09ZSh0aGlzLCEwKSlyZXR1cm4gbnVsbDthPXRoaXMuZ2V0TmV4dCgpfWZvcig7IWEmJihjPShjfHx0aGlzKS5nZXRQYXJlbnQoKSk7KXtpZihlJiZcbiExPT09ZShjLCEwKSlyZXR1cm4gbnVsbDthPWMuZ2V0TmV4dCgpfXJldHVybiFhfHxlJiYhMT09PWUoYSk/bnVsbDpmJiZmIT1hLnR5cGU/YS5nZXROZXh0U291cmNlTm9kZSghMSxmLGUpOmF9LGdldFByZXZpb3VzU291cmNlTm9kZTpmdW5jdGlvbihhLGYsZSl7aWYoZSYmIWUuY2FsbCl7dmFyIGI9ZTtlPWZ1bmN0aW9uKGEpe3JldHVybiFhLmVxdWFscyhiKX19YT0hYSYmdGhpcy5nZXRMYXN0JiZ0aGlzLmdldExhc3QoKTt2YXIgYztpZighYSl7aWYodGhpcy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmUmJiExPT09ZSh0aGlzLCEwKSlyZXR1cm4gbnVsbDthPXRoaXMuZ2V0UHJldmlvdXMoKX1mb3IoOyFhJiYoYz0oY3x8dGhpcykuZ2V0UGFyZW50KCkpOyl7aWYoZSYmITE9PT1lKGMsITApKXJldHVybiBudWxsO2E9Yy5nZXRQcmV2aW91cygpfXJldHVybiFhfHxlJiYhMT09PWUoYSk/bnVsbDpmJiZhLnR5cGUhPWY/YS5nZXRQcmV2aW91c1NvdXJjZU5vZGUoITEsZixlKTpcbmF9LGdldFByZXZpb3VzOmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMuJCxlO2RvIGU9KGY9Zi5wcmV2aW91c1NpYmxpbmcpJiYxMCE9Zi5ub2RlVHlwZSYmbmV3IENLRURJVE9SLmRvbS5ub2RlKGYpO3doaWxlKGUmJmEmJiFhKGUpKTtyZXR1cm4gZX0sZ2V0TmV4dDpmdW5jdGlvbihhKXt2YXIgZj10aGlzLiQsZTtkbyBlPShmPWYubmV4dFNpYmxpbmcpJiZuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZik7d2hpbGUoZSYmYSYmIWEoZSkpO3JldHVybiBlfSxnZXRQYXJlbnQ6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcy4kLnBhcmVudE5vZGU7cmV0dXJuIGYmJihmLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fGEmJmYubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpP25ldyBDS0VESVRPUi5kb20ubm9kZShmKTpudWxsfSxnZXRQYXJlbnRzOmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMsZT1bXTtkbyBlW2E/XCJwdXNoXCI6XCJ1bnNoaWZ0XCJdKGYpO3doaWxlKGY9Zi5nZXRQYXJlbnQoKSk7XG5yZXR1cm4gZX0sZ2V0Q29tbW9uQW5jZXN0b3I6ZnVuY3Rpb24oYSl7aWYoYS5lcXVhbHModGhpcykpcmV0dXJuIHRoaXM7aWYoYS5jb250YWlucyYmYS5jb250YWlucyh0aGlzKSlyZXR1cm4gYTt2YXIgZj10aGlzLmNvbnRhaW5zP3RoaXM6dGhpcy5nZXRQYXJlbnQoKTtkbyBpZihmLmNvbnRhaW5zKGEpKXJldHVybiBmO3doaWxlKGY9Zi5nZXRQYXJlbnQoKSk7cmV0dXJuIG51bGx9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMuJCxlPWEuJDtpZihmLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKXJldHVybiBmLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGUpO2lmKGY9PWUpcmV0dXJuIENLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTDtpZih0aGlzLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2lmKGYuY29udGFpbnMpe2lmKGYuY29udGFpbnMoZSkpcmV0dXJuIENLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TK1xuQ0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HO2lmKGUuY29udGFpbnMoZikpcmV0dXJuIENLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRCtDS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkd9aWYoXCJzb3VyY2VJbmRleFwiaW4gZilyZXR1cm4gMD5mLnNvdXJjZUluZGV4fHwwPmUuc291cmNlSW5kZXg/Q0tFRElUT1IuUE9TSVRJT05fRElTQ09OTkVDVEVEOmYuc291cmNlSW5kZXg8ZS5zb3VyY2VJbmRleD9DS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc6Q0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HfWY9dGhpcy5nZXRBZGRyZXNzKCk7YT1hLmdldEFkZHJlc3MoKTtmb3IodmFyIGU9TWF0aC5taW4oZi5sZW5ndGgsYS5sZW5ndGgpLGI9MDtiPGU7YisrKWlmKGZbYl0hPWFbYl0pcmV0dXJuIGZbYl08YVtiXT9DS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc6Q0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HO3JldHVybiBmLmxlbmd0aDxhLmxlbmd0aD9DS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUytcbkNLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORzpDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQrQ0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HfSxnZXRBc2NlbmRhbnQ6ZnVuY3Rpb24oYSxmKXt2YXIgZT10aGlzLiQsYixjO2Z8fChlPWUucGFyZW50Tm9kZSk7XCJmdW5jdGlvblwiPT10eXBlb2YgYT8oYz0hMCxiPWEpOihjPSExLGI9ZnVuY3Rpb24oYil7Yj1cInN0cmluZ1wiPT10eXBlb2YgYi5ub2RlTmFtZT9iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk6XCJcIjtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYT9iPT1hOmIgaW4gYX0pO2Zvcig7ZTspe2lmKGIoYz9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoZSk6ZSkpcmV0dXJuIG5ldyBDS0VESVRPUi5kb20ubm9kZShlKTt0cnl7ZT1lLnBhcmVudE5vZGV9Y2F0Y2goayl7ZT1udWxsfX1yZXR1cm4gbnVsbH0saGFzQXNjZW5kYW50OmZ1bmN0aW9uKGEsZil7dmFyIGU9dGhpcy4kO2Z8fChlPWUucGFyZW50Tm9kZSk7Zm9yKDtlOyl7aWYoZS5ub2RlTmFtZSYmXG5lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PWEpcmV0dXJuITA7ZT1lLnBhcmVudE5vZGV9cmV0dXJuITF9LG1vdmU6ZnVuY3Rpb24oYSxmKXthLmFwcGVuZCh0aGlzLnJlbW92ZSgpLGYpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcy4kLGU9Zi5wYXJlbnROb2RlO2lmKGUpe2lmKGEpZm9yKDthPWYuZmlyc3RDaGlsZDspZS5pbnNlcnRCZWZvcmUoZi5yZW1vdmVDaGlsZChhKSxmKTtlLnJlbW92ZUNoaWxkKGYpfXJldHVybiB0aGlzfSxyZXBsYWNlOmZ1bmN0aW9uKGEpe3RoaXMuaW5zZXJ0QmVmb3JlKGEpO2EucmVtb3ZlKCl9LHRyaW06ZnVuY3Rpb24oKXt0aGlzLmx0cmltKCk7dGhpcy5ydHJpbSgpfSxsdHJpbTpmdW5jdGlvbigpe2Zvcih2YXIgYTt0aGlzLmdldEZpcnN0JiYoYT10aGlzLmdldEZpcnN0KCkpOyl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe3ZhciBmPUNLRURJVE9SLnRvb2xzLmx0cmltKGEuZ2V0VGV4dCgpKSxlPWEuZ2V0TGVuZ3RoKCk7aWYoZilmLmxlbmd0aDxcbmUmJihhLnNwbGl0KGUtZi5sZW5ndGgpLHRoaXMuJC5yZW1vdmVDaGlsZCh0aGlzLiQuZmlyc3RDaGlsZCkpO2Vsc2V7YS5yZW1vdmUoKTtjb250aW51ZX19YnJlYWt9fSxydHJpbTpmdW5jdGlvbigpe2Zvcih2YXIgYTt0aGlzLmdldExhc3QmJihhPXRoaXMuZ2V0TGFzdCgpKTspe2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXt2YXIgZj1DS0VESVRPUi50b29scy5ydHJpbShhLmdldFRleHQoKSksZT1hLmdldExlbmd0aCgpO2lmKGYpZi5sZW5ndGg8ZSYmKGEuc3BsaXQoZi5sZW5ndGgpLHRoaXMuJC5sYXN0Q2hpbGQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLiQubGFzdENoaWxkKSk7ZWxzZXthLnJlbW92ZSgpO2NvbnRpbnVlfX1icmVha31DS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciYmKGE9dGhpcy4kLmxhc3RDaGlsZCkmJjE9PWEudHlwZSYmXCJiclwiPT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKX0saXNSZWFkT25seTpmdW5jdGlvbihhKXt2YXIgZj1cbnRoaXM7dGhpcy50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihmPXRoaXMuZ2V0UGFyZW50KCkpO0NLRURJVE9SLmVudi5lZGdlJiZmJiZmLmlzKFwidGV4dGFyZWFcIixcImlucHV0XCIpJiYoYT0hMCk7aWYoIWEmJmYmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBmLiQuaXNDb250ZW50RWRpdGFibGUpcmV0dXJuIShmLiQuaXNDb250ZW50RWRpdGFibGV8fGYuZGF0YShcImNrZS1lZGl0YWJsZVwiKSk7Zm9yKDtmOyl7aWYoZi5kYXRhKFwiY2tlLWVkaXRhYmxlXCIpKXJldHVybiExO2lmKGYuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXJldHVyblwiZmFsc2VcIj09Zi5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik7Zj1mLmdldFBhcmVudCgpfXJldHVybiEwfX0pLENLRURJVE9SLmRvbS53aW5kb3c9ZnVuY3Rpb24oYSl7Q0tFRElUT1IuZG9tLmRvbU9iamVjdC5jYWxsKHRoaXMsYSl9LENLRURJVE9SLmRvbS53aW5kb3cucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20uZG9tT2JqZWN0LFxuQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS53aW5kb3cucHJvdG90eXBlLHtmb2N1czpmdW5jdGlvbigpe3RoaXMuJC5mb2N1cygpfSxnZXRWaWV3UGFuZVNpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQuZG9jdW1lbnQsZj1cIkNTUzFDb21wYXRcIj09YS5jb21wYXRNb2RlO3JldHVybnt3aWR0aDooZj9hLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDphLmJvZHkuY2xpZW50V2lkdGgpfHwwLGhlaWdodDooZj9hLmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ6YS5ib2R5LmNsaWVudEhlaWdodCl8fDB9fSxnZXRTY3JvbGxQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJDtpZihcInBhZ2VYT2Zmc2V0XCJpbiBhKXJldHVybnt4OmEucGFnZVhPZmZzZXR8fDAseTphLnBhZ2VZT2Zmc2V0fHwwfTthPWEuZG9jdW1lbnQ7cmV0dXJue3g6YS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8YS5ib2R5LnNjcm9sbExlZnR8fDAseTphLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fFxuYS5ib2R5LnNjcm9sbFRvcHx8MH19LGdldEZyYW1lOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLmZyYW1lRWxlbWVudDtyZXR1cm4gYT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0KGEpOm51bGx9fSksQ0tFRElUT1IuZG9tLmRvY3VtZW50PWZ1bmN0aW9uKGEpe0NLRURJVE9SLmRvbS5kb21PYmplY3QuY2FsbCh0aGlzLGEpfSxDS0VESVRPUi5kb20uZG9jdW1lbnQucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20uZG9tT2JqZWN0LENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uZG9jdW1lbnQucHJvdG90eXBlLHt0eXBlOkNLRURJVE9SLk5PREVfRE9DVU1FTlQsYXBwZW5kU3R5bGVTaGVldDpmdW5jdGlvbihhKXthPUNLRURJVE9SLmFwcGVuZFRpbWVzdGFtcChhKTtpZih0aGlzLiQuY3JlYXRlU3R5bGVTaGVldCl0aGlzLiQuY3JlYXRlU3R5bGVTaGVldChhKTtlbHNle3ZhciBmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImxpbmtcIik7Zi5zZXRBdHRyaWJ1dGVzKHtyZWw6XCJzdHlsZXNoZWV0XCIsXG50eXBlOlwidGV4dC9jc3NcIixocmVmOmF9KTt0aGlzLmdldEhlYWQoKS5hcHBlbmQoZil9fSxhcHBlbmRTdHlsZVRleHQ6ZnVuY3Rpb24oYSl7aWYodGhpcy4kLmNyZWF0ZVN0eWxlU2hlZXQpe3ZhciBmPXRoaXMuJC5jcmVhdGVTdHlsZVNoZWV0KFwiXCIpO2YuY3NzVGV4dD1hfWVsc2V7dmFyIGU9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic3R5bGVcIix0aGlzKTtlLmFwcGVuZChuZXcgQ0tFRElUT1IuZG9tLnRleHQoYSx0aGlzKSk7dGhpcy5nZXRIZWFkKCkuYXBwZW5kKGUpfXJldHVybiBmfHxlLiQuc2hlZXR9LGNyZWF0ZUVsZW1lbnQ6ZnVuY3Rpb24oYSxmKXt2YXIgZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSx0aGlzKTtmJiYoZi5hdHRyaWJ1dGVzJiZlLnNldEF0dHJpYnV0ZXMoZi5hdHRyaWJ1dGVzKSxmLnN0eWxlcyYmZS5zZXRTdHlsZXMoZi5zdHlsZXMpKTtyZXR1cm4gZX0sY3JlYXRlVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS50ZXh0KGEsXG50aGlzKX0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLmdldFdpbmRvdygpLmZvY3VzKCl9LGdldEFjdGl2ZTpmdW5jdGlvbigpe3ZhciBhO3RyeXthPXRoaXMuJC5hY3RpdmVFbGVtZW50fWNhdGNoKGYpe3JldHVybiBudWxsfXJldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSl9LGdldEJ5SWQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy4kLmdldEVsZW1lbnRCeUlkKGEpKT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSk6bnVsbH0sZ2V0QnlBZGRyZXNzOmZ1bmN0aW9uKGEsZil7Zm9yKHZhciBlPXRoaXMuJC5kb2N1bWVudEVsZW1lbnQsYj0wO2UmJmI8YS5sZW5ndGg7YisrKXt2YXIgYz1hW2JdO2lmKGYpZm9yKHZhciBrPS0xLGw9MDtsPGUuY2hpbGROb2Rlcy5sZW5ndGg7bCsrKXt2YXIgbT1lLmNoaWxkTm9kZXNbbF07aWYoITAhPT1mfHwzIT1tLm5vZGVUeXBlfHwhbS5wcmV2aW91c1NpYmxpbmd8fDMhPW0ucHJldmlvdXNTaWJsaW5nLm5vZGVUeXBlKWlmKGsrKyxrPT1cbmMpe2U9bTticmVha319ZWxzZSBlPWUuY2hpbGROb2Rlc1tjXX1yZXR1cm4gZT9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoZSk6bnVsbH0sZ2V0RWxlbWVudHNCeVRhZzpmdW5jdGlvbihhLGYpe0NLRURJVE9SLmVudi5pZSYmOD49ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHwhZnx8KGE9ZitcIjpcIithKTtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdCh0aGlzLiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSkpfSxnZXRIZWFkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtyZXR1cm4gYT1hP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChhKTp0aGlzLmdldERvY3VtZW50RWxlbWVudCgpLmFwcGVuZChuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJoZWFkXCIpLCEwKX0sZ2V0Qm9keTpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQodGhpcy4kLmJvZHkpfSxnZXREb2N1bWVudEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHRoaXMuJC5kb2N1bWVudEVsZW1lbnQpfSxcbmdldFdpbmRvdzpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLndpbmRvdyh0aGlzLiQucGFyZW50V2luZG93fHx0aGlzLiQuZGVmYXVsdFZpZXcpfSx3cml0ZTpmdW5jdGlvbihhKXt0aGlzLiQub3BlbihcInRleHQvaHRtbFwiLFwicmVwbGFjZVwiKTtDS0VESVRPUi5lbnYuaWUmJihhPWEucmVwbGFjZSgvKD86Xlxccyo8IURPQ1RZUEVbXj5dKj8+KXxeL2ksJyRcXHgyNlxcblxceDNjc2NyaXB0IGRhdGEtY2tlLXRlbXBcXHgzZFwiMVwiXFx4M2UoJytDS0VESVRPUi50b29scy5maXhEb21haW4rXCIpKCk7XFx4M2Mvc2NyaXB0XFx4M2VcIikpO3RoaXMuJC53cml0ZShhKTt0aGlzLiQuY2xvc2UoKX0sZmluZDpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdCh0aGlzLiQucXVlcnlTZWxlY3RvckFsbChhKSl9LGZpbmRPbmU6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy4kLnF1ZXJ5U2VsZWN0b3IoYSkpP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChhKTpudWxsfSxcbl9nZXRIdG1sNVNoaXZGcmFnOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDdXN0b21EYXRhKFwiaHRtbDVTaGl2RnJhZ1wiKTthfHwoYT10aGlzLiQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLENLRURJVE9SLnRvb2xzLmVuYWJsZUh0bWw1RWxlbWVudHMoYSwhMCksdGhpcy5zZXRDdXN0b21EYXRhKFwiaHRtbDVTaGl2RnJhZ1wiLGEpKTtyZXR1cm4gYX19KSxDS0VESVRPUi5kb20ubm9kZUxpc3Q9ZnVuY3Rpb24oYSl7dGhpcy4kPWF9LENLRURJVE9SLmRvbS5ub2RlTGlzdC5wcm90b3R5cGU9e2NvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5sZW5ndGh9LGdldEl0ZW06ZnVuY3Rpb24oYSl7cmV0dXJuIDA+YXx8YT49dGhpcy4kLmxlbmd0aD9udWxsOihhPXRoaXMuJFthXSk/bmV3IENLRURJVE9SLmRvbS5ub2RlKGEpOm51bGx9LHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuYXJyYXkubWFwKHRoaXMuJCxmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5ub2RlKGEpfSl9fSxcbkNLRURJVE9SLmRvbS5lbGVtZW50PWZ1bmN0aW9uKGEsZil7XCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPShmP2YuJDpkb2N1bWVudCkuY3JlYXRlRWxlbWVudChhKSk7Q0tFRElUT1IuZG9tLmRvbU9iamVjdC5jYWxsKHRoaXMsYSl9LENLRURJVE9SLmRvbS5lbGVtZW50LmdldD1mdW5jdGlvbihhKXtyZXR1cm4oYT1cInN0cmluZ1wiPT10eXBlb2YgYT9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKXx8ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoYSlbMF06YSkmJihhLiQ/YTpuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSkpfSxDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5ub2RlLENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sPWZ1bmN0aW9uKGEsZil7dmFyIGU9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiZGl2XCIsZik7ZS5zZXRIdG1sKGEpO3JldHVybiBlLmdldEZpcnN0KCkucmVtb3ZlKCl9LENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcj1cbmZ1bmN0aW9uKGEsZixlLGIpe3ZhciBjPWYuZ2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX2lkXCIpfHxmLnNldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9pZFwiLENLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKSkuZ2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX2lkXCIpLGs9Zi5nZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfbmFtZXNcIil8fGYuc2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX25hbWVzXCIse30pLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9uYW1lc1wiKTthW2NdPWY7a1tlXT0xO3JldHVybiBmLnNldEN1c3RvbURhdGEoZSxiKX0sQ0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgZiBpbiBhKUNLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyTWFya2VycyhhLGFbZl0sMSl9LENLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyTWFya2Vycz1mdW5jdGlvbihhLGYsZSl7dmFyIGI9Zi5nZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfbmFtZXNcIiksXG5jPWYuZ2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX2lkXCIpLGs7Zm9yKGsgaW4gYilmLnJlbW92ZUN1c3RvbURhdGEoayk7Zi5yZW1vdmVDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfbmFtZXNcIik7ZSYmKGYucmVtb3ZlQ3VzdG9tRGF0YShcImxpc3RfbWFya2VyX2lkXCIpLGRlbGV0ZSBhW2NdKX0sZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsZCl7cmV0dXJuLTE8KFwiIFwiK2ErXCIgXCIpLnJlcGxhY2UoayxcIiBcIikuaW5kZXhPZihcIiBcIitkK1wiIFwiKX1mdW5jdGlvbiBmKGEpe3ZhciBkPSEwO2EuJC5pZHx8KGEuJC5pZD1cImNrZV90bXBfXCIrQ0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpLGQ9ITEpO3JldHVybiBmdW5jdGlvbigpe2R8fGEucmVtb3ZlQXR0cmlidXRlKFwiaWRcIil9fWZ1bmN0aW9uIGUoYSxkKXt2YXIgYj1DS0VESVRPUi50b29scy5lc2NhcGVDc3MoYS4kLmlkKTtyZXR1cm5cIiNcIitiK1wiIFwiK2Quc3BsaXQoLyxcXHMqLykuam9pbihcIiwgI1wiK2IrXCIgXCIpfWZ1bmN0aW9uIGIoYSl7Zm9yKHZhciBkPVxuMCxiPTAsZz1sW2FdLmxlbmd0aDtiPGc7YisrKWQrPXBhcnNlRmxvYXQodGhpcy5nZXRDb21wdXRlZFN0eWxlKGxbYV1bYl0pfHwwLDEwKXx8MDtyZXR1cm4gZH12YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiX1wiKS5jbGFzc0xpc3QsYz1cInVuZGVmaW5lZFwiIT09dHlwZW9mIGMmJm51bGwhPT1TdHJpbmcoYy5hZGQpLm1hdGNoKC9cXFtOYXRpdmUgY29kZVxcXS9naSksaz0vW1xcblxcdFxccl0vZztDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLHt0eXBlOkNLRURJVE9SLk5PREVfRUxFTUVOVCxhZGRDbGFzczpjP2Z1bmN0aW9uKGEpe3RoaXMuJC5jbGFzc0xpc3QuYWRkKGEpO3JldHVybiB0aGlzfTpmdW5jdGlvbihiKXt2YXIgZD10aGlzLiQuY2xhc3NOYW1lO2QmJihhKGQsYil8fChkKz1cIiBcIitiKSk7dGhpcy4kLmNsYXNzTmFtZT1kfHxiO3JldHVybiB0aGlzfSxyZW1vdmVDbGFzczpjP2Z1bmN0aW9uKGEpe3ZhciBkPXRoaXMuJDtkLmNsYXNzTGlzdC5yZW1vdmUoYSk7XG5kLmNsYXNzTmFtZXx8ZC5yZW1vdmVBdHRyaWJ1dGUoXCJjbGFzc1wiKTtyZXR1cm4gdGhpc306ZnVuY3Rpb24oYil7dmFyIGQ9dGhpcy5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtkJiZhKGQsYikmJigoZD1kLnJlcGxhY2UobmV3IFJlZ0V4cChcIig/Ol58XFxcXHMrKVwiK2IrXCIoP1xceDNkXFxcXHN8JClcIiksXCJcIikucmVwbGFjZSgvXlxccysvLFwiXCIpKT90aGlzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsZCk6dGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJjbGFzc1wiKSk7cmV0dXJuIHRoaXN9LGhhc0NsYXNzOmZ1bmN0aW9uKGIpe3JldHVybiBhKHRoaXMuJC5jbGFzc05hbWUsYil9LGFwcGVuZDpmdW5jdGlvbihhLGQpe1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT10aGlzLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudChhKSk7ZD90aGlzLiQuaW5zZXJ0QmVmb3JlKGEuJCx0aGlzLiQuZmlyc3RDaGlsZCk6dGhpcy4kLmFwcGVuZENoaWxkKGEuJCk7cmV0dXJuIGF9LGFwcGVuZEh0bWw6ZnVuY3Rpb24oYSl7aWYodGhpcy4kLmNoaWxkTm9kZXMubGVuZ3RoKXt2YXIgZD1cbm5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiLHRoaXMuZ2V0RG9jdW1lbnQoKSk7ZC5zZXRIdG1sKGEpO2QubW92ZUNoaWxkcmVuKHRoaXMpfWVsc2UgdGhpcy5zZXRIdG1sKGEpfSxhcHBlbmRUZXh0OmZ1bmN0aW9uKGEpe251bGwhPXRoaXMuJC50ZXh0JiZDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24/dGhpcy4kLnRleHQrPWE6dGhpcy5hcHBlbmQobmV3IENLRURJVE9SLmRvbS50ZXh0KGEpKX0sYXBwZW5kQm9ndXM6ZnVuY3Rpb24oYSl7aWYoYXx8Q0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXIpe2ZvcihhPXRoaXMuZ2V0TGFzdCgpO2EmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYhQ0tFRElUT1IudG9vbHMucnRyaW0oYS5nZXRUZXh0KCkpOylhPWEuZ2V0UHJldmlvdXMoKTthJiZhLmlzJiZhLmlzKFwiYnJcIil8fChhPXRoaXMuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KFwiYnJcIiksQ0tFRElUT1IuZW52LmdlY2tvJiZhLnNldEF0dHJpYnV0ZShcInR5cGVcIixcblwiX21velwiKSx0aGlzLmFwcGVuZChhKSl9fSxicmVha1BhcmVudDpmdW5jdGlvbihhLGQpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5nZXREb2N1bWVudCgpKTtiLnNldFN0YXJ0QWZ0ZXIodGhpcyk7Yi5zZXRFbmRBZnRlcihhKTt2YXIgZz1iLmV4dHJhY3RDb250ZW50cyghMSxkfHwhMSksYztiLmluc2VydE5vZGUodGhpcy5yZW1vdmUoKSk7aWYoQ0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmVkZ2Upe2ZvcihiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTtjPWcuZ2V0Rmlyc3QoKTspYy4kLnN0eWxlLmJhY2tncm91bmRDb2xvciYmKGMuJC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9Yy4kLnN0eWxlLmJhY2tncm91bmRDb2xvciksYi5hcHBlbmQoYyk7Yi5pbnNlcnRBZnRlcih0aGlzKTtiLnJlbW92ZSghMCl9ZWxzZSBnLmluc2VydEFmdGVyTm9kZSh0aGlzKX0sY29udGFpbnM6ZG9jdW1lbnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24/ZnVuY3Rpb24oYSl7cmV0dXJuISEodGhpcy4kLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGEuJCkmXG4xNil9OmZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMuJDtyZXR1cm4gYS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/ZC5jb250YWlucyhhLmdldFBhcmVudCgpLiQpOmQhPWEuJCYmZC5jb250YWlucyhhLiQpfSxmb2N1czpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt0cnl7dGhpcy4kLmZvY3VzKCl9Y2F0Y2goZCl7fX1yZXR1cm4gZnVuY3Rpb24oZCl7ZD9DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGEsMTAwLHRoaXMpOmEuY2FsbCh0aGlzKX19KCksZ2V0SHRtbDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJC5pbm5lckhUTUw7cmV0dXJuIENLRURJVE9SLmVudi5pZT9hLnJlcGxhY2UoLzxcXD9bXj5dKj4vZyxcIlwiKTphfSxnZXRPdXRlckh0bWw6ZnVuY3Rpb24oKXtpZih0aGlzLiQub3V0ZXJIVE1MKXJldHVybiB0aGlzLiQub3V0ZXJIVE1MLnJlcGxhY2UoLzxcXD9bXj5dKj4vLFwiXCIpO3ZhciBhPXRoaXMuJC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5hcHBlbmRDaGlsZCh0aGlzLiQuY2xvbmVOb2RlKCEwKSk7XG5yZXR1cm4gYS5pbm5lckhUTUx9LGdldENsaWVudFJlY3Q6ZnVuY3Rpb24oYSl7dmFyIGQ9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LHRoaXMuJC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7IWQud2lkdGgmJihkLndpZHRoPWQucmlnaHQtZC5sZWZ0KTshZC5oZWlnaHQmJihkLmhlaWdodD1kLmJvdHRvbS1kLnRvcCk7cmV0dXJuIGE/Q0tFRElUT1IudG9vbHMuZ2V0QWJzb2x1dGVSZWN0UG9zaXRpb24odGhpcy5nZXRXaW5kb3coKSxkKTpkfSxzZXRIdG1sOkNLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbj9mdW5jdGlvbihhKXt0cnl7dmFyIGQ9dGhpcy4kO2lmKHRoaXMuZ2V0UGFyZW50KCkpcmV0dXJuIGQuaW5uZXJIVE1MPWE7dmFyIGI9dGhpcy5nZXREb2N1bWVudCgpLl9nZXRIdG1sNVNoaXZGcmFnKCk7Yi5hcHBlbmRDaGlsZChkKTtkLmlubmVySFRNTD1hO2IucmVtb3ZlQ2hpbGQoZCk7cmV0dXJuIGF9Y2F0Y2goZyl7dGhpcy4kLmlubmVySFRNTD1cIlwiO1xuZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJib2R5XCIsdGhpcy5nZXREb2N1bWVudCgpKTtkLiQuaW5uZXJIVE1MPWE7Zm9yKGQ9ZC5nZXRDaGlsZHJlbigpO2QuY291bnQoKTspdGhpcy5hcHBlbmQoZC5nZXRJdGVtKDApKTtyZXR1cm4gYX19OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLiQuaW5uZXJIVE1MPWF9LHNldFRleHQ6ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTthLmlubmVySFRNTD1cInhcIjthPWEudGV4dENvbnRlbnQ7cmV0dXJuIGZ1bmN0aW9uKGQpe3RoaXMuJFthP1widGV4dENvbnRlbnRcIjpcImlubmVyVGV4dFwiXT1kfX0oKSxnZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy4kLmdldEF0dHJpYnV0ZShhLDIpfTtyZXR1cm4gQ0tFRElUT1IuZW52LmllJiYoQ0tFRElUT1IuZW52LmllN0NvbXBhdHx8Q0tFRElUT1IuZW52LnF1aXJrcyk/ZnVuY3Rpb24oYSl7c3dpdGNoKGEpe2Nhc2UgXCJjbGFzc1wiOmE9XG5cImNsYXNzTmFtZVwiO2JyZWFrO2Nhc2UgXCJodHRwLWVxdWl2XCI6YT1cImh0dHBFcXVpdlwiO2JyZWFrO2Nhc2UgXCJuYW1lXCI6cmV0dXJuIHRoaXMuJC5uYW1lO2Nhc2UgXCJ0YWJpbmRleFwiOnJldHVybiBhPXRoaXMuJC5nZXRBdHRyaWJ1dGUoYSwyKSwwIT09YSYmMD09PXRoaXMuJC50YWJJbmRleCYmKGE9bnVsbCksYTtjYXNlIFwiY2hlY2tlZFwiOnJldHVybiBhPXRoaXMuJC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShhKSwoYS5zcGVjaWZpZWQ/YS5ub2RlVmFsdWU6dGhpcy4kLmNoZWNrZWQpP1wiY2hlY2tlZFwiOm51bGw7Y2FzZSBcImhzcGFjZVwiOmNhc2UgXCJ2YWx1ZVwiOnJldHVybiB0aGlzLiRbYV07Y2FzZSBcInN0eWxlXCI6cmV0dXJuIHRoaXMuJC5zdHlsZS5jc3NUZXh0O2Nhc2UgXCJjb250ZW50ZWRpdGFibGVcIjpjYXNlIFwiY29udGVudEVkaXRhYmxlXCI6cmV0dXJuIHRoaXMuJC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcImNvbnRlbnRFZGl0YWJsZVwiKS5zcGVjaWZpZWQ/dGhpcy4kLmdldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKTpcbm51bGx9cmV0dXJuIHRoaXMuJC5nZXRBdHRyaWJ1dGUoYSwyKX06YX0oKSxnZXRBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEpe3ZhciBkPXt9LGI9dGhpcy4kLmF0dHJpYnV0ZXMsZzthPUNLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSk/YTpbXTtmb3IoZz0wO2c8Yi5sZW5ndGg7ZysrKS0xPT09Q0tFRElUT1IudG9vbHMuaW5kZXhPZihhLGJbZ10ubmFtZSkmJihkW2JbZ10ubmFtZV09YltnXS52YWx1ZSk7cmV0dXJuIGR9LGdldENoaWxkcmVuOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20ubm9kZUxpc3QodGhpcy4kLmNoaWxkTm9kZXMpfSxnZXRDbGllbnRTaXplOmZ1bmN0aW9uKCl7cmV0dXJue3dpZHRoOnRoaXMuJC5jbGllbnRXaWR0aCxoZWlnaHQ6dGhpcy4kLmNsaWVudEhlaWdodH19LGdldENvbXB1dGVkU3R5bGU6ZG9jdW1lbnQuZGVmYXVsdFZpZXcmJmRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGU/ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5nZXRXaW5kb3coKS4kLmdldENvbXB1dGVkU3R5bGUodGhpcy4kLFxubnVsbCk7cmV0dXJuIGQ/ZC5nZXRQcm9wZXJ0eVZhbHVlKGEpOlwiXCJ9OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLiQuY3VycmVudFN0eWxlW0NLRURJVE9SLnRvb2xzLmNzc1N0eWxlVG9Eb21TdHlsZShhKV19LGdldER0ZDpmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLmR0ZFt0aGlzLmdldE5hbWUoKV07dGhpcy5nZXREdGQ9ZnVuY3Rpb24oKXtyZXR1cm4gYX07cmV0dXJuIGF9LGdldEVsZW1lbnRzQnlUYWc6Q0tFRElUT1IuZG9tLmRvY3VtZW50LnByb3RvdHlwZS5nZXRFbGVtZW50c0J5VGFnLGdldFRhYkluZGV4OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLnRhYkluZGV4O3JldHVybiAwIT09YXx8Q0tFRElUT1IuZHRkLiR0YWJJbmRleFt0aGlzLmdldE5hbWUoKV18fDA9PT1wYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZShcInRhYmluZGV4XCIpLDEwKT9hOi0xfSxnZXRUZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC50ZXh0Q29udGVudHx8dGhpcy4kLmlubmVyVGV4dHx8XCJcIn0sXG5nZXRXaW5kb3c6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXREb2N1bWVudCgpLmdldFdpbmRvdygpfSxnZXRJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQuaWR8fG51bGx9LGdldE5hbWVBdHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLm5hbWV8fG51bGx9LGdldE5hbWU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihDS0VESVRPUi5lbnYuaWUmJjg+PWRvY3VtZW50LmRvY3VtZW50TW9kZSl7dmFyIGQ9dGhpcy4kLnNjb3BlTmFtZTtcIkhUTUxcIiE9ZCYmKGE9ZC50b0xvd2VyQ2FzZSgpK1wiOlwiK2EpfXRoaXMuZ2V0TmFtZT1mdW5jdGlvbigpe3JldHVybiBhfTtyZXR1cm4gdGhpcy5nZXROYW1lKCl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC52YWx1ZX0sZ2V0Rmlyc3Q6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy4kLmZpcnN0Q2hpbGQ7KGQ9ZCYmbmV3IENLRURJVE9SLmRvbS5ub2RlKGQpKSYmYSYmIWEoZCkmJihkPWQuZ2V0TmV4dChhKSk7XG5yZXR1cm4gZH0sZ2V0TGFzdDpmdW5jdGlvbihhKXt2YXIgZD10aGlzLiQubGFzdENoaWxkOyhkPWQmJm5ldyBDS0VESVRPUi5kb20ubm9kZShkKSkmJmEmJiFhKGQpJiYoZD1kLmdldFByZXZpb3VzKGEpKTtyZXR1cm4gZH0sZ2V0U3R5bGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuJC5zdHlsZVtDS0VESVRPUi50b29scy5jc3NTdHlsZVRvRG9tU3R5bGUoYSldfSxpczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0TmFtZSgpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBhcmd1bWVudHNbMF0pcmV0dXJuISFhcmd1bWVudHNbMF1bYV07Zm9yKHZhciBkPTA7ZDxhcmd1bWVudHMubGVuZ3RoO2QrKylpZihhcmd1bWVudHNbZF09PWEpcmV0dXJuITA7cmV0dXJuITF9LGlzRWRpdGFibGU6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5nZXROYW1lKCk7cmV0dXJuIHRoaXMuaXNSZWFkT25seSgpfHxcIm5vbmVcIj09dGhpcy5nZXRDb21wdXRlZFN0eWxlKFwiZGlzcGxheVwiKXx8XCJoaWRkZW5cIj09dGhpcy5nZXRDb21wdXRlZFN0eWxlKFwidmlzaWJpbGl0eVwiKXx8XG5DS0VESVRPUi5kdGQuJG5vbkVkaXRhYmxlW2RdfHxDS0VESVRPUi5kdGQuJGVtcHR5W2RdfHx0aGlzLmlzKFwiYVwiKSYmKHRoaXMuZGF0YShcImNrZS1zYXZlZC1uYW1lXCIpfHx0aGlzLmhhc0F0dHJpYnV0ZShcIm5hbWVcIikpJiYhdGhpcy5nZXRDaGlsZENvdW50KCk/ITE6ITEhPT1hPyhhPUNLRURJVE9SLmR0ZFtkXXx8Q0tFRElUT1IuZHRkLnNwYW4sISghYXx8IWFbXCIjXCJdKSk6ITB9LGlzSWRlbnRpY2FsOmZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMuY2xvbmUoMCwxKTthPWEuY2xvbmUoMCwxKTtkLnJlbW92ZUF0dHJpYnV0ZXMoW1wiX21vel9kaXJ0eVwiLFwiZGF0YS1ja2UtZXhwYW5kb1wiLFwiZGF0YS1ja2Utc2F2ZWQtaHJlZlwiLFwiZGF0YS1ja2Utc2F2ZWQtbmFtZVwiXSk7YS5yZW1vdmVBdHRyaWJ1dGVzKFtcIl9tb3pfZGlydHlcIixcImRhdGEtY2tlLWV4cGFuZG9cIixcImRhdGEtY2tlLXNhdmVkLWhyZWZcIixcImRhdGEtY2tlLXNhdmVkLW5hbWVcIl0pO2lmKGQuJC5pc0VxdWFsTm9kZSlyZXR1cm4gZC4kLnN0eWxlLmNzc1RleHQ9XG5DS0VESVRPUi50b29scy5ub3JtYWxpemVDc3NUZXh0KGQuJC5zdHlsZS5jc3NUZXh0KSxhLiQuc3R5bGUuY3NzVGV4dD1DS0VESVRPUi50b29scy5ub3JtYWxpemVDc3NUZXh0KGEuJC5zdHlsZS5jc3NUZXh0KSxkLiQuaXNFcXVhbE5vZGUoYS4kKTtkPWQuZ2V0T3V0ZXJIdG1sKCk7YT1hLmdldE91dGVySHRtbCgpO2lmKENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbiYmdGhpcy5pcyhcImFcIikpe3ZhciBiPXRoaXMuZ2V0UGFyZW50KCk7Yi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiPWIuY2xvbmUoKSxiLnNldEh0bWwoZCksZD1iLmdldEh0bWwoKSxiLnNldEh0bWwoYSksYT1iLmdldEh0bWwoKSl9cmV0dXJuIGQ9PWF9LGlzVmlzaWJsZTpmdW5jdGlvbigpe3ZhciBhPSh0aGlzLiQub2Zmc2V0SGVpZ2h0fHx0aGlzLiQub2Zmc2V0V2lkdGgpJiZcImhpZGRlblwiIT10aGlzLmdldENvbXB1dGVkU3R5bGUoXCJ2aXNpYmlsaXR5XCIpLGQsYjthJiZDS0VESVRPUi5lbnYud2Via2l0JiZcbihkPXRoaXMuZ2V0V2luZG93KCksIWQuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpKSYmKGI9ZC4kLmZyYW1lRWxlbWVudCkmJihhPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYikpLmlzVmlzaWJsZSgpKSk7cmV0dXJuISFhfSxpc0VtcHR5SW5saW5lUmVtb3ZlYWJsZTpmdW5jdGlvbigpe2lmKCFDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W3RoaXMuZ2V0TmFtZSgpXSlyZXR1cm4hMTtmb3IodmFyIGE9dGhpcy5nZXRDaGlsZHJlbigpLGQ9MCxiPWEuY291bnQoKTtkPGI7ZCsrKXt2YXIgZz1hLmdldEl0ZW0oZCk7aWYoZy50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fCFnLmRhdGEoXCJja2UtYm9va21hcmtcIikpaWYoZy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFnLmlzRW1wdHlJbmxpbmVSZW1vdmVhYmxlKCl8fGcudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZDS0VESVRPUi50b29scy50cmltKGcuZ2V0VGV4dCgpKSlyZXR1cm4hMX1yZXR1cm4hMH0sXG5oYXNBdHRyaWJ1dGVzOkNLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5xdWlya3MpP2Z1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuJC5hdHRyaWJ1dGVzLGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGI9YVtkXTtzd2l0Y2goYi5ub2RlTmFtZSl7Y2FzZSBcImNsYXNzXCI6aWYodGhpcy5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSlyZXR1cm4hMDtjYXNlIFwiZGF0YS1ja2UtZXhwYW5kb1wiOmNvbnRpbnVlO2RlZmF1bHQ6aWYoYi5zcGVjaWZpZWQpcmV0dXJuITB9fXJldHVybiExfTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJC5hdHRyaWJ1dGVzLGQ9YS5sZW5ndGgsYj17XCJkYXRhLWNrZS1leHBhbmRvXCI6MSxfbW96X2RpcnR5OjF9O3JldHVybiAwPGQmJigyPGR8fCFiW2FbMF0ubm9kZU5hbWVdfHwyPT1kJiYhYlthWzFdLm5vZGVOYW1lXSl9LGhhc0F0dHJpYnV0ZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoZCl7dmFyIGI9dGhpcy4kLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKGQpO1xuaWYoXCJpbnB1dFwiPT10aGlzLmdldE5hbWUoKSlzd2l0Y2goZCl7Y2FzZSBcImNsYXNzXCI6cmV0dXJuIDA8dGhpcy4kLmNsYXNzTmFtZS5sZW5ndGg7Y2FzZSBcImNoZWNrZWRcIjpyZXR1cm4hIXRoaXMuJC5jaGVja2VkO2Nhc2UgXCJ2YWx1ZVwiOnJldHVybiBkPXRoaXMuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSxcImNoZWNrYm94XCI9PWR8fFwicmFkaW9cIj09ZD9cIm9uXCIhPXRoaXMuJC52YWx1ZTohIXRoaXMuJC52YWx1ZX1yZXR1cm4gYj9iLnNwZWNpZmllZDohMX1yZXR1cm4gQ0tFRElUT1IuZW52LmllPzg+Q0tFRElUT1IuZW52LnZlcnNpb24/ZnVuY3Rpb24oZCl7cmV0dXJuXCJuYW1lXCI9PWQ/ISF0aGlzLiQubmFtZTphLmNhbGwodGhpcyxkKX06YTpmdW5jdGlvbihhKXtyZXR1cm4hIXRoaXMuJC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShhKX19KCksaGlkZTpmdW5jdGlvbigpe3RoaXMuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpfSxtb3ZlQ2hpbGRyZW46ZnVuY3Rpb24oYSxkKXt2YXIgYj10aGlzLiQ7XG5hPWEuJDtpZihiIT1hKXt2YXIgZztpZihkKWZvcig7Zz1iLmxhc3RDaGlsZDspYS5pbnNlcnRCZWZvcmUoYi5yZW1vdmVDaGlsZChnKSxhLmZpcnN0Q2hpbGQpO2Vsc2UgZm9yKDtnPWIuZmlyc3RDaGlsZDspYS5hcHBlbmRDaGlsZChiLnJlbW92ZUNoaWxkKGcpKX19LG1lcmdlU2libGluZ3M6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGQsYixnKXtpZihiJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7Zm9yKHZhciBjPVtdO2IuZGF0YShcImNrZS1ib29rbWFya1wiKXx8Yi5pc0VtcHR5SW5saW5lUmVtb3ZlYWJsZSgpOylpZihjLnB1c2goYiksYj1nP2IuZ2V0TmV4dCgpOmIuZ2V0UHJldmlvdXMoKSwhYnx8Yi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJuO2lmKGQuaXNJZGVudGljYWwoYikpe2Zvcih2YXIgZT1nP2QuZ2V0TGFzdCgpOmQuZ2V0Rmlyc3QoKTtjLmxlbmd0aDspYy5zaGlmdCgpLm1vdmUoZCwhZyk7Yi5tb3ZlQ2hpbGRyZW4oZCwhZyk7Yi5yZW1vdmUoKTtcbmUmJmUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZlLm1lcmdlU2libGluZ3MoKX19fXJldHVybiBmdW5jdGlvbihkKXtpZighMT09PWR8fENLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbdGhpcy5nZXROYW1lKCldfHx0aGlzLmlzKFwiYVwiKSlhKHRoaXMsdGhpcy5nZXROZXh0KCksITApLGEodGhpcyx0aGlzLmdldFByZXZpb3VzKCkpfX0oKSxzaG93OmZ1bmN0aW9uKCl7dGhpcy5zZXRTdHlsZXMoe2Rpc3BsYXk6XCJcIix2aXNpYmlsaXR5OlwiXCJ9KX0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSxiKXt0aGlzLiQuc2V0QXR0cmlidXRlKGEsYik7cmV0dXJuIHRoaXN9O3JldHVybiBDS0VESVRPUi5lbnYuaWUmJihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYucXVpcmtzKT9mdW5jdGlvbihkLGIpe1wiY2xhc3NcIj09ZD90aGlzLiQuY2xhc3NOYW1lPWI6XCJzdHlsZVwiPT1kP3RoaXMuJC5zdHlsZS5jc3NUZXh0PWI6XCJ0YWJpbmRleFwiPT1kP1xudGhpcy4kLnRhYkluZGV4PWI6XCJjaGVja2VkXCI9PWQ/dGhpcy4kLmNoZWNrZWQ9YjpcImNvbnRlbnRlZGl0YWJsZVwiPT1kP2EuY2FsbCh0aGlzLFwiY29udGVudEVkaXRhYmxlXCIsYik6YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXN9OkNLRURJVE9SLmVudi5pZThDb21wYXQmJkNLRURJVE9SLmVudi5zZWN1cmU/ZnVuY3Rpb24oZCxiKXtpZihcInNyY1wiPT1kJiZiLm1hdGNoKC9eaHR0cDpcXC9cXC8vKSl0cnl7YS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Y2F0Y2goZyl7fWVsc2UgYS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXN9OmF9KCksc2V0QXR0cmlidXRlczpmdW5jdGlvbihhKXtmb3IodmFyIGQgaW4gYSl0aGlzLnNldEF0dHJpYnV0ZShkLGFbZF0pO3JldHVybiB0aGlzfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXt0aGlzLiQudmFsdWU9YTtyZXR1cm4gdGhpc30scmVtb3ZlQXR0cmlidXRlOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSl7dGhpcy4kLnJlbW92ZUF0dHJpYnV0ZShhKX07XG5yZXR1cm4gQ0tFRElUT1IuZW52LmllJiYoQ0tFRElUT1IuZW52LmllN0NvbXBhdHx8Q0tFRElUT1IuZW52LnF1aXJrcyk/ZnVuY3Rpb24oYSl7XCJjbGFzc1wiPT1hP2E9XCJjbGFzc05hbWVcIjpcInRhYmluZGV4XCI9PWE/YT1cInRhYkluZGV4XCI6XCJjb250ZW50ZWRpdGFibGVcIj09YSYmKGE9XCJjb250ZW50RWRpdGFibGVcIik7dGhpcy4kLnJlbW92ZUF0dHJpYnV0ZShhKX06YX0oKSxyZW1vdmVBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEpe2lmKENLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSkpZm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYVtkXSk7ZWxzZSBmb3IoZCBpbiBhPWF8fHRoaXMuZ2V0QXR0cmlidXRlcygpLGEpYS5oYXNPd25Qcm9wZXJ0eShkKSYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUoZCl9LHJlbW92ZVN0eWxlOmZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMuJC5zdHlsZTtpZihkLnJlbW92ZVByb3BlcnR5fHxcImJvcmRlclwiIT1hJiZcIm1hcmdpblwiIT1hJiZcInBhZGRpbmdcIiE9XG5hKWQucmVtb3ZlUHJvcGVydHk/ZC5yZW1vdmVQcm9wZXJ0eShhKTpkLnJlbW92ZUF0dHJpYnV0ZShDS0VESVRPUi50b29scy5jc3NTdHlsZVRvRG9tU3R5bGUoYSkpLHRoaXMuJC5zdHlsZS5jc3NUZXh0fHx0aGlzLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO2Vsc2V7dmFyIGI9W1widG9wXCIsXCJsZWZ0XCIsXCJyaWdodFwiLFwiYm90dG9tXCJdLGc7XCJib3JkZXJcIj09YSYmKGc9W1wiY29sb3JcIixcInN0eWxlXCIsXCJ3aWR0aFwiXSk7Zm9yKHZhciBkPVtdLGM9MDtjPGIubGVuZ3RoO2MrKylpZihnKWZvcih2YXIgZT0wO2U8Zy5sZW5ndGg7ZSsrKWQucHVzaChbYSxiW2NdLGdbZV1dLmpvaW4oXCItXCIpKTtlbHNlIGQucHVzaChbYSxiW2NdXS5qb2luKFwiLVwiKSk7Zm9yKGE9MDthPGQubGVuZ3RoO2ErKyl0aGlzLnJlbW92ZVN0eWxlKGRbYV0pfX0sc2V0U3R5bGU6ZnVuY3Rpb24oYSxkKXt0aGlzLiQuc3R5bGVbQ0tFRElUT1IudG9vbHMuY3NzU3R5bGVUb0RvbVN0eWxlKGEpXT1kO3JldHVybiB0aGlzfSxzZXRTdHlsZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBkIGluIGEpdGhpcy5zZXRTdHlsZShkLFxuYVtkXSk7cmV0dXJuIHRoaXN9LHNldE9wYWNpdHk6ZnVuY3Rpb24oYSl7Q0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uPyhhPU1hdGgucm91bmQoMTAwKmEpLHRoaXMuc2V0U3R5bGUoXCJmaWx0ZXJcIiwxMDA8PWE/XCJcIjpcInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShvcGFjaXR5XFx4M2RcIithK1wiKVwiKSk6dGhpcy5zZXRTdHlsZShcIm9wYWNpdHlcIixhKX0sdW5zZWxlY3RhYmxlOmZ1bmN0aW9uKCl7dGhpcy5zZXRTdHlsZXMoQ0tFRElUT1IudG9vbHMuY3NzVmVuZG9yUHJlZml4KFwidXNlci1zZWxlY3RcIixcIm5vbmVcIikpO2lmKENLRURJVE9SLmVudi5pZSl7dGhpcy5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpO2Zvcih2YXIgYSxkPXRoaXMuZ2V0RWxlbWVudHNCeVRhZyhcIipcIiksYj0wLGc9ZC5jb3VudCgpO2I8ZztiKyspYT1kLmdldEl0ZW0oYiksYS5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpfX0sZ2V0UG9zaXRpb25lZEFuY2VzdG9yOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPVxudGhpcztcImh0bWxcIiE9YS5nZXROYW1lKCk7KXtpZihcInN0YXRpY1wiIT1hLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKSlyZXR1cm4gYTthPWEuZ2V0UGFyZW50KCl9cmV0dXJuIG51bGx9LGdldERvY3VtZW50UG9zaXRpb246ZnVuY3Rpb24oYSl7dmFyIGQ9MCxiPTAsZz10aGlzLmdldERvY3VtZW50KCksYz1nLmdldEJvZHkoKSxlPVwiQmFja0NvbXBhdFwiPT1nLiQuY29tcGF0TW9kZTtpZihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0JiYoQ0tFRElUT1IuZW52LmllPzghPT1DS0VESVRPUi5lbnYudmVyc2lvbjoxKSl7dmFyIGs9dGhpcy4kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGw9Zy4kLmRvY3VtZW50RWxlbWVudCxmPWwuY2xpZW50VG9wfHxjLiQuY2xpZW50VG9wfHwwLHU9bC5jbGllbnRMZWZ0fHxjLiQuY2xpZW50TGVmdHx8MCx6PSEwO0NLRURJVE9SLmVudi5pZSYmKHo9Zy5nZXREb2N1bWVudEVsZW1lbnQoKS5jb250YWlucyh0aGlzKSxcbmc9Zy5nZXRCb2R5KCkuY29udGFpbnModGhpcyksej1lJiZnfHwhZSYmeik7eiYmKENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5pZSYmMTI8PUNLRURJVE9SLmVudi52ZXJzaW9uPyhkPWMuJC5zY3JvbGxMZWZ0fHxsLnNjcm9sbExlZnQsYj1jLiQuc2Nyb2xsVG9wfHxsLnNjcm9sbFRvcCk6KGI9ZT9jLiQ6bCxkPWIuc2Nyb2xsTGVmdCxiPWIuc2Nyb2xsVG9wKSxkPWsubGVmdCtkLXUsYj1rLnRvcCtiLWYpfWVsc2UgZm9yKGY9dGhpcyx1PW51bGw7ZiYmXCJib2R5XCIhPWYuZ2V0TmFtZSgpJiZcImh0bWxcIiE9Zi5nZXROYW1lKCk7KXtkKz1mLiQub2Zmc2V0TGVmdC1mLiQuc2Nyb2xsTGVmdDtiKz1mLiQub2Zmc2V0VG9wLWYuJC5zY3JvbGxUb3A7Zi5lcXVhbHModGhpcyl8fChkKz1mLiQuY2xpZW50TGVmdHx8MCxiKz1mLiQuY2xpZW50VG9wfHwwKTtmb3IoO3UmJiF1LmVxdWFscyhmKTspZC09dS4kLnNjcm9sbExlZnQsYi09dS4kLnNjcm9sbFRvcCx1PXUuZ2V0UGFyZW50KCk7XG51PWY7Zj0oaz1mLiQub2Zmc2V0UGFyZW50KT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoayk6bnVsbH1hJiYoaz10aGlzLmdldFdpbmRvdygpLGY9YS5nZXRXaW5kb3coKSwhay5lcXVhbHMoZikmJmsuJC5mcmFtZUVsZW1lbnQmJihhPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoay4kLmZyYW1lRWxlbWVudCkpLmdldERvY3VtZW50UG9zaXRpb24oYSksZCs9YS54LGIrPWEueSkpO2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3R8fCFDS0VESVRPUi5lbnYuZ2Vja298fGV8fChkKz10aGlzLiQuY2xpZW50TGVmdD8xOjAsYis9dGhpcy4kLmNsaWVudFRvcD8xOjApO3JldHVybnt4OmQseTpifX0sc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRQYXJlbnQoKTtpZihiKXtkbyBpZigoYi4kLmNsaWVudFdpZHRoJiZiLiQuY2xpZW50V2lkdGg8Yi4kLnNjcm9sbFdpZHRofHxiLiQuY2xpZW50SGVpZ2h0JiZiLiQuY2xpZW50SGVpZ2h0PFxuYi4kLnNjcm9sbEhlaWdodCkmJiFiLmlzKFwiYm9keVwiKSYmdGhpcy5zY3JvbGxJbnRvUGFyZW50KGIsYSwxKSxiLmlzKFwiaHRtbFwiKSl7dmFyIGM9Yi5nZXRXaW5kb3coKTt0cnl7dmFyIGc9Yy4kLmZyYW1lRWxlbWVudDtnJiYoYj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZykpfWNhdGNoKGUpe319d2hpbGUoYj1iLmdldFBhcmVudCgpKX19LHNjcm9sbEludG9QYXJlbnQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBnLGUsayxmO2Z1bmN0aW9uIGwoZyxiKXsvYm9keXxodG1sLy50ZXN0KGEuZ2V0TmFtZSgpKT9hLmdldFdpbmRvdygpLiQuc2Nyb2xsQnkoZyxiKTooYS4kLnNjcm9sbExlZnQrPWcsYS4kLnNjcm9sbFRvcCs9Yil9ZnVuY3Rpb24gcChhLGcpe3ZhciBiPXt4OjAseTowfTtpZighYS5pcyh6P1wiYm9keVwiOlwiaHRtbFwiKSl7dmFyIGQ9YS4kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2IueD1kLmxlZnQ7Yi55PWQudG9wfWQ9YS5nZXRXaW5kb3coKTtkLmVxdWFscyhnKXx8KGQ9cChDS0VESVRPUi5kb20uZWxlbWVudC5nZXQoZC4kLmZyYW1lRWxlbWVudCksXG5nKSxiLngrPWQueCxiLnkrPWQueSk7cmV0dXJuIGJ9ZnVuY3Rpb24gdShhLGcpe3JldHVybiBwYXJzZUludChhLmdldENvbXB1dGVkU3R5bGUoXCJtYXJnaW4tXCIrZyl8fDAsMTApfHwwfSFhJiYoYT10aGlzLmdldFdpbmRvdygpKTtrPWEuZ2V0RG9jdW1lbnQoKTt2YXIgej1cIkJhY2tDb21wYXRcIj09ay4kLmNvbXBhdE1vZGU7YSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS53aW5kb3cmJihhPXo/ay5nZXRCb2R5KCk6ay5nZXREb2N1bWVudEVsZW1lbnQoKSk7Q0tFRElUT1IuZW52LndlYmtpdCYmKGs9dGhpcy5nZXRFZGl0b3IoITEpKSYmKGsuXy5wcmV2aW91c1Njcm9sbFRvcD1udWxsKTtrPWEuZ2V0V2luZG93KCk7ZT1wKHRoaXMsayk7dmFyIHE9cChhLGspLEE9dGhpcy4kLm9mZnNldEhlaWdodDtnPXRoaXMuJC5vZmZzZXRXaWR0aDt2YXIgeT1hLiQuY2xpZW50SGVpZ2h0LHQ9YS4kLmNsaWVudFdpZHRoO2s9ZS54LXUodGhpcyxcImxlZnRcIiktcS54fHwwO2Y9ZS55LXUodGhpcyxcInRvcFwiKS1cbnEueXx8MDtnPWUueCtnK3UodGhpcyxcInJpZ2h0XCIpLShxLngrdCl8fDA7ZT1lLnkrQSt1KHRoaXMsXCJib3R0b21cIiktKHEueSt5KXx8MDsoMD5mfHwwPGUpJiZsKDAsITA9PT1iP2Y6ITE9PT1iP2U6MD5mP2Y6ZSk7YyYmKDA+a3x8MDxnKSYmbCgwPms/azpnLDApfSxzZXRTdGF0ZTpmdW5jdGlvbihhLGIsYyl7Yj1ifHxcImNrZVwiO3N3aXRjaChhKXtjYXNlIENLRURJVE9SLlRSSVNUQVRFX09OOnRoaXMuYWRkQ2xhc3MoYitcIl9vblwiKTt0aGlzLnJlbW92ZUNsYXNzKGIrXCJfb2ZmXCIpO3RoaXMucmVtb3ZlQ2xhc3MoYitcIl9kaXNhYmxlZFwiKTtjJiZ0aGlzLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLCEwKTtjJiZ0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIik7YnJlYWs7Y2FzZSBDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDp0aGlzLmFkZENsYXNzKGIrXCJfZGlzYWJsZWRcIik7dGhpcy5yZW1vdmVDbGFzcyhiK1wiX29mZlwiKTt0aGlzLnJlbW92ZUNsYXNzKGIrXCJfb25cIik7XG5jJiZ0aGlzLnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIiwhMCk7YyYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIik7YnJlYWs7ZGVmYXVsdDp0aGlzLmFkZENsYXNzKGIrXCJfb2ZmXCIpLHRoaXMucmVtb3ZlQ2xhc3MoYitcIl9vblwiKSx0aGlzLnJlbW92ZUNsYXNzKGIrXCJfZGlzYWJsZWRcIiksYyYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIiksYyYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIpfX0sZ2V0RnJhbWVEb2N1bWVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJDt0cnl7YS5jb250ZW50V2luZG93LmRvY3VtZW50fWNhdGNoKGIpe2Euc3JjPWEuc3JjfXJldHVybiBhJiZuZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50KGEuY29udGVudFdpbmRvdy5kb2N1bWVudCl9LGNvcHlBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy4kLmF0dHJpYnV0ZXM7Yj1ifHx7fTtmb3IodmFyIGc9MDtnPGMubGVuZ3RoO2crKyl7dmFyIGU9XG5jW2ddLGs9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGY7aWYoIShrIGluIGIpKWlmKFwiY2hlY2tlZFwiPT1rJiYoZj10aGlzLmdldEF0dHJpYnV0ZShrKSkpYS5zZXRBdHRyaWJ1dGUoayxmKTtlbHNlIGlmKCFDS0VESVRPUi5lbnYuaWV8fHRoaXMuaGFzQXR0cmlidXRlKGspKWY9dGhpcy5nZXRBdHRyaWJ1dGUoayksbnVsbD09PWYmJihmPWUubm9kZVZhbHVlKSxhLnNldEF0dHJpYnV0ZShrLGYpfVwiXCIhPT10aGlzLiQuc3R5bGUuY3NzVGV4dCYmKGEuJC5zdHlsZS5jc3NUZXh0PXRoaXMuJC5zdHlsZS5jc3NUZXh0KX0scmVuYW1lTm9kZTpmdW5jdGlvbihhKXtpZih0aGlzLmdldE5hbWUoKSE9YSl7dmFyIGI9dGhpcy5nZXREb2N1bWVudCgpO2E9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEsYik7dGhpcy5jb3B5QXR0cmlidXRlcyhhKTt0aGlzLm1vdmVDaGlsZHJlbihhKTt0aGlzLmdldFBhcmVudCghMCkmJnRoaXMuJC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChhLiQsdGhpcy4kKTtcbmEuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl09dGhpcy4kW1wiZGF0YS1ja2UtZXhwYW5kb1wiXTt0aGlzLiQ9YS4kO2RlbGV0ZSB0aGlzLmdldE5hbWV9fSxnZXRDaGlsZDpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixjKXt2YXIgZz1iLmNoaWxkTm9kZXM7aWYoMDw9YyYmYzxnLmxlbmd0aClyZXR1cm4gZ1tjXX1yZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9dGhpcy4kO2lmKGIuc2xpY2UpZm9yKGI9Yi5zbGljZSgpOzA8Yi5sZW5ndGgmJmM7KWM9YShjLGIuc2hpZnQoKSk7ZWxzZSBjPWEoYyxiKTtyZXR1cm4gYz9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYyk6bnVsbH19KCksZ2V0Q2hpbGRDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQuY2hpbGROb2Rlcy5sZW5ndGh9LGRpc2FibGVDb250ZXh0TWVudTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7cmV0dXJuIGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmhhc0NsYXNzKFwiY2tlX2VuYWJsZV9jb250ZXh0X21lbnVcIil9dGhpcy5vbihcImNvbnRleHRtZW51XCIsXG5mdW5jdGlvbihiKXtiLmRhdGEuZ2V0VGFyZ2V0KCkuZ2V0QXNjZW5kYW50KGEsITApfHxiLmRhdGEucHJldmVudERlZmF1bHQoKX0pfSxnZXREaXJlY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy5nZXRDb21wdXRlZFN0eWxlKFwiZGlyZWN0aW9uXCIpfHx0aGlzLmdldERpcmVjdGlvbigpfHx0aGlzLmdldFBhcmVudCgpJiZ0aGlzLmdldFBhcmVudCgpLmdldERpcmVjdGlvbigxKXx8dGhpcy5nZXREb2N1bWVudCgpLiQuZGlyfHxcImx0clwiOnRoaXMuZ2V0U3R5bGUoXCJkaXJlY3Rpb25cIil8fHRoaXMuZ2V0QXR0cmlidXRlKFwiZGlyXCIpfSxkYXRhOmZ1bmN0aW9uKGEsYil7YT1cImRhdGEtXCIrYTtpZih2b2lkIDA9PT1iKXJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShhKTshMT09PWI/dGhpcy5yZW1vdmVBdHRyaWJ1dGUoYSk6dGhpcy5zZXRBdHRyaWJ1dGUoYSxiKTtyZXR1cm4gbnVsbH0sZ2V0RWRpdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPUNLRURJVE9SLmluc3RhbmNlcyxjLGcsZTthPVxuYXx8dm9pZCAwPT09YTtmb3IoYyBpbiBiKWlmKGc9YltjXSxnLmVsZW1lbnQuZXF1YWxzKHRoaXMpJiZnLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE98fCFhJiYoZT1nLmVkaXRhYmxlKCkpJiYoZS5lcXVhbHModGhpcyl8fGUuY29udGFpbnModGhpcykpKXJldHVybiBnO3JldHVybiBudWxsfSxmaW5kOmZ1bmN0aW9uKGEpe3ZhciBiPWYodGhpcyk7YT1uZXcgQ0tFRElUT1IuZG9tLm5vZGVMaXN0KHRoaXMuJC5xdWVyeVNlbGVjdG9yQWxsKGUodGhpcyxhKSkpO2IoKTtyZXR1cm4gYX0sZmluZE9uZTpmdW5jdGlvbihhKXt2YXIgYj1mKHRoaXMpO2E9dGhpcy4kLnF1ZXJ5U2VsZWN0b3IoZSh0aGlzLGEpKTtiKCk7cmV0dXJuIGE/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEpOm51bGx9LGZvckVhY2g6ZnVuY3Rpb24oYSxiLGMpe2lmKCEoY3x8YiYmdGhpcy50eXBlIT1iKSl2YXIgZz1hKHRoaXMpO2lmKCExIT09Zyl7Yz10aGlzLmdldENoaWxkcmVuKCk7XG5mb3IodmFyIGU9MDtlPGMuY291bnQoKTtlKyspZz1jLmdldEl0ZW0oZSksZy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/Zy5mb3JFYWNoKGEsYik6YiYmZy50eXBlIT1ifHxhKGcpfX0sZmlyZUV2ZW50SGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPVwib25cIithLGc9dGhpcy4kO2lmKENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbil7dmFyIGU9Zy5vd25lckRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KCksaztmb3IoayBpbiBiKWVba109YltrXTtnLmZpcmVFdmVudChjLGUpfWVsc2UgZ1tnW2FdP2E6Y10oYil9LGlzRGV0YWNoZWQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldERvY3VtZW50KCksYj1hLmdldERvY3VtZW50RWxlbWVudCgpO3JldHVybiBiLmVxdWFscyh0aGlzKXx8Yi5jb250YWlucyh0aGlzKT8hQ0tFRElUT1IuZW52LmllfHw4PENLRURJVE9SLmVudi52ZXJzaW9uJiYhQ0tFRElUT1IuZW52LnF1aXJrcz8hYS4kLmRlZmF1bHRWaWV3OlxuITE6ITB9fSk7dmFyIGw9e3dpZHRoOltcImJvcmRlci1sZWZ0LXdpZHRoXCIsXCJib3JkZXItcmlnaHQtd2lkdGhcIixcInBhZGRpbmctbGVmdFwiLFwicGFkZGluZy1yaWdodFwiXSxoZWlnaHQ6W1wiYm9yZGVyLXRvcC13aWR0aFwiLFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiLFwicGFkZGluZy10b3BcIixcInBhZGRpbmctYm90dG9tXCJdfTtDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUuc2V0U2l6ZT1mdW5jdGlvbihhLGQsYyl7XCJudW1iZXJcIj09dHlwZW9mIGQmJighY3x8Q0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYucXVpcmtzfHwoZC09Yi5jYWxsKHRoaXMsYSkpLHRoaXMuc2V0U3R5bGUoYSxkK1wicHhcIikpfTtDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbihhLGQpe3ZhciBjPU1hdGgubWF4KHRoaXMuJFtcIm9mZnNldFwiK0NLRURJVE9SLnRvb2xzLmNhcGl0YWxpemUoYSldLHRoaXMuJFtcImNsaWVudFwiK0NLRURJVE9SLnRvb2xzLmNhcGl0YWxpemUoYSldKXx8XG4wO2QmJihjLT1iLmNhbGwodGhpcyxhKSk7cmV0dXJuIGN9fSgpLENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50PWZ1bmN0aW9uKGEpe2E9YXx8Q0tFRElUT1IuZG9jdW1lbnQ7dGhpcy4kPWEudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVD9hLiQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOmF9LENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudC5wcm90b3R5cGUsQ0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLHt0eXBlOkNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQsaW5zZXJ0QWZ0ZXJOb2RlOmZ1bmN0aW9uKGEpe2E9YS4kO2EucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy4kLGEubmV4dFNpYmxpbmcpfSxnZXRIdG1sOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiZGl2XCIpO3RoaXMuY2xvbmUoMSwxKS5hcHBlbmRUbyhhKTtyZXR1cm4gYS5nZXRIdG1sKCkucmVwbGFjZSgvXFxzKmRhdGEtY2tlLWV4cGFuZG89XCIuKj9cIi9nLFxuXCJcIil9fSwhMCx7YXBwZW5kOjEsYXBwZW5kQm9ndXM6MSxjbG9uZToxLGdldEZpcnN0OjEsZ2V0SHRtbDoxLGdldExhc3Q6MSxnZXRQYXJlbnQ6MSxnZXROZXh0OjEsZ2V0UHJldmlvdXM6MSxhcHBlbmRUbzoxLG1vdmVDaGlsZHJlbjoxLGluc2VydEJlZm9yZToxLGluc2VydEFmdGVyTm9kZToxLHJlcGxhY2U6MSx0cmltOjEsdHlwZToxLGx0cmltOjEscnRyaW06MSxnZXREb2N1bWVudDoxLGdldENoaWxkQ291bnQ6MSxnZXRDaGlsZDoxLGdldENoaWxkcmVuOjF9KSxDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlLENLRURJVE9SLmRvbS5kb2N1bWVudC5wcm90b3R5cGUsITAse2ZpbmQ6MSxmaW5kT25lOjF9KSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXt2YXIgZz10aGlzLnJhbmdlO2lmKHRoaXMuXy5lbmQpcmV0dXJuIG51bGw7aWYoIXRoaXMuXy5zdGFydCl7dGhpcy5fLnN0YXJ0PTE7aWYoZy5jb2xsYXBzZWQpcmV0dXJuIHRoaXMuZW5kKCksXG5udWxsO2cub3B0aW1pemUoKX12YXIgZCxjPWcuc3RhcnRDb250YWluZXI7ZD1nLmVuZENvbnRhaW5lcjt2YXIgZT1nLnN0YXJ0T2Zmc2V0LGg9Zy5lbmRPZmZzZXQsbixrPXRoaXMuZ3VhcmQsZj10aGlzLnR5cGUsbD1hP1wiZ2V0UHJldmlvdXNTb3VyY2VOb2RlXCI6XCJnZXROZXh0U291cmNlTm9kZVwiO2lmKCFhJiYhdGhpcy5fLmd1YXJkTFRSKXt2YXIgbT1kLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9kOmQuZ2V0UGFyZW50KCksRD1kLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9kLmdldENoaWxkKGgpOmQuZ2V0TmV4dCgpO3RoaXMuXy5ndWFyZExUUj1mdW5jdGlvbihhLGIpe3JldHVybighYnx8IW0uZXF1YWxzKGEpKSYmKCFEfHwhYS5lcXVhbHMoRCkpJiYoYS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fCFifHwhYS5lcXVhbHMoZy5yb290KSl9fWlmKGEmJiF0aGlzLl8uZ3VhcmRSVEwpe3ZhciBDPWMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2M6Yy5nZXRQYXJlbnQoKSxcbkY9Yy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/ZT9jLmdldENoaWxkKGUtMSk6bnVsbDpjLmdldFByZXZpb3VzKCk7dGhpcy5fLmd1YXJkUlRMPWZ1bmN0aW9uKGEsYil7cmV0dXJuKCFifHwhQy5lcXVhbHMoYSkpJiYoIUZ8fCFhLmVxdWFscyhGKSkmJihhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8IWJ8fCFhLmVxdWFscyhnLnJvb3QpKX19dmFyIEo9YT90aGlzLl8uZ3VhcmRSVEw6dGhpcy5fLmd1YXJkTFRSO249az9mdW5jdGlvbihhLGIpe3JldHVybiExPT09SihhLGIpPyExOmsoYSxiKX06Sjt0aGlzLmN1cnJlbnQ/ZD10aGlzLmN1cnJlbnRbbF0oITEsZixuKTooYT9kLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGQ9MDxoP2QuZ2V0Q2hpbGQoaC0xKTohMT09PW4oZCwhMCk/bnVsbDpkLmdldFByZXZpb3VzU291cmNlTm9kZSghMCxmLG4pKTooZD1jLGQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoKGQ9ZC5nZXRDaGlsZChlKSl8fChkPSExPT09XG5uKGMsITApP251bGw6Yy5nZXROZXh0U291cmNlTm9kZSghMCxmLG4pKSkpLGQmJiExPT09bihkKSYmKGQ9bnVsbCkpO2Zvcig7ZCYmIXRoaXMuXy5lbmQ7KXt0aGlzLmN1cnJlbnQ9ZDtpZighdGhpcy5ldmFsdWF0b3J8fCExIT09dGhpcy5ldmFsdWF0b3IoZCkpe2lmKCFiKXJldHVybiBkfWVsc2UgaWYoYiYmdGhpcy5ldmFsdWF0b3IpcmV0dXJuITE7ZD1kW2xdKCExLGYsbil9dGhpcy5lbmQoKTtyZXR1cm4gdGhpcy5jdXJyZW50PW51bGx9ZnVuY3Rpb24gZihiKXtmb3IodmFyIGcsZD1udWxsO2c9YS5jYWxsKHRoaXMsYik7KWQ9ZztyZXR1cm4gZH1DS0VESVRPUi5kb20ud2Fsa2VyPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKGEpe3RoaXMucmFuZ2U9YTt0aGlzLl89e319LHByb3RvOntlbmQ6ZnVuY3Rpb24oKXt0aGlzLl8uZW5kPTF9LG5leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5jYWxsKHRoaXMpfSxwcmV2aW91czpmdW5jdGlvbigpe3JldHVybiBhLmNhbGwodGhpcyxcbjEpfSxjaGVja0ZvcndhcmQ6ZnVuY3Rpb24oKXtyZXR1cm4hMSE9PWEuY2FsbCh0aGlzLDAsMSl9LGNoZWNrQmFja3dhcmQ6ZnVuY3Rpb24oKXtyZXR1cm4hMSE9PWEuY2FsbCh0aGlzLDEsMSl9LGxhc3RGb3J3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuIGYuY2FsbCh0aGlzKX0sbGFzdEJhY2t3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuIGYuY2FsbCh0aGlzLDEpfSxyZXNldDpmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLmN1cnJlbnQ7dGhpcy5fPXt9fX19KTt2YXIgZT17YmxvY2s6MSxcImxpc3QtaXRlbVwiOjEsdGFibGU6MSxcInRhYmxlLXJvdy1ncm91cFwiOjEsXCJ0YWJsZS1oZWFkZXItZ3JvdXBcIjoxLFwidGFibGUtZm9vdGVyLWdyb3VwXCI6MSxcInRhYmxlLXJvd1wiOjEsXCJ0YWJsZS1jb2x1bW4tZ3JvdXBcIjoxLFwidGFibGUtY29sdW1uXCI6MSxcInRhYmxlLWNlbGxcIjoxLFwidGFibGUtY2FwdGlvblwiOjF9LGI9e2Fic29sdXRlOjEsZml4ZWQ6MX07Q0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLmlzQmxvY2tCb3VuZGFyeT1cbmZ1bmN0aW9uKGEpe3JldHVyblwibm9uZVwiIT10aGlzLmdldENvbXB1dGVkU3R5bGUoXCJmbG9hdFwiKXx8dGhpcy5nZXRDb21wdXRlZFN0eWxlKFwicG9zaXRpb25cIilpbiBifHwhZVt0aGlzLmdldENvbXB1dGVkU3R5bGUoXCJkaXNwbGF5XCIpXT8hISh0aGlzLmlzKENLRURJVE9SLmR0ZC4kYmxvY2spfHxhJiZ0aGlzLmlzKGEpKTohMH07Q0tFRElUT1IuZG9tLndhbGtlci5ibG9ja0JvdW5kYXJ5PWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4hKGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmlzQmxvY2tCb3VuZGFyeShhKSl9fTtDS0VESVRPUi5kb20ud2Fsa2VyLmxpc3RJdGVtQm91bmRhcnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ibG9ja0JvdW5kYXJ5KHticjoxfSl9O0NLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcms9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBnKGEpe3JldHVybiBhJiZhLmdldE5hbWUmJlwic3BhblwiPT1hLmdldE5hbWUoKSYmYS5kYXRhKFwiY2tlLWJvb2ttYXJrXCIpfVxucmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBjLGU7Yz1kJiZkLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGU9ZC5nZXRQYXJlbnQoKSkmJmcoZSk7Yz1hP2M6Y3x8ZyhkKTtyZXR1cm4hIShiXmMpfX07Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcz1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGc7YiYmYi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihnPSFDS0VESVRPUi50b29scy50cmltKGIuZ2V0VGV4dCgpKXx8Q0tFRElUT1IuZW52LndlYmtpdCYmYi5nZXRUZXh0KCk9PUNLRURJVE9SLmRvbS5zZWxlY3Rpb24uRklMTElOR19DSEFSX1NFUVVFTkNFKTtyZXR1cm4hIShhXmcpfX07Q0tFRElUT1IuZG9tLndhbGtlci5pbnZpc2libGU9ZnVuY3Rpb24oYSl7dmFyIGI9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLGc9Q0tFRElUT1IuZW52LndlYmtpdD8xOjA7cmV0dXJuIGZ1bmN0aW9uKGQpe2IoZCk/ZD0xOihkLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmXG4oZD1kLmdldFBhcmVudCgpKSxkPWQuJC5vZmZzZXRXaWR0aDw9Zyk7cmV0dXJuISEoYV5kKX19O0NLRURJVE9SLmRvbS53YWxrZXIubm9kZVR5cGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oZyl7cmV0dXJuISEoYl5nLnR5cGU9PWEpfX07Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiFrKGEpJiYhbChhKX1yZXR1cm4gZnVuY3Rpb24oZyl7dmFyIGQ9Q0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXI/Zy5pcyYmZy5pcyhcImJyXCIpOmcuZ2V0VGV4dCYmYy50ZXN0KGcuZ2V0VGV4dCgpKTtkJiYoZD1nLmdldFBhcmVudCgpLGc9Zy5nZXROZXh0KGIpLGQ9ZC5pc0Jsb2NrQm91bmRhcnkoKSYmKCFnfHxnLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZy5pc0Jsb2NrQm91bmRhcnkoKSkpO3JldHVybiEhKGFeZCl9fTtDS0VESVRPUi5kb20ud2Fsa2VyLnRlbXA9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe2IudHlwZSE9XG5DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiPWIuZ2V0UGFyZW50KCkpO2I9YiYmYi5oYXNBdHRyaWJ1dGUoXCJkYXRhLWNrZS10ZW1wXCIpO3JldHVybiEhKGFeYil9fTt2YXIgYz0vXltcXHRcXHJcXG4gXSooPzombmJzcDt8XFx4YTApJC8saz1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksbD1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCksbT1DS0VESVRPUi5kb20ud2Fsa2VyLnRlbXAoKSxkPWZ1bmN0aW9uKGEpe3JldHVybiBsKGEpfHxrKGEpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pcyhDS0VESVRPUi5kdGQuJGlubGluZSkmJiFhLmlzKENLRURJVE9SLmR0ZC4kZW1wdHkpfTtDS0VESVRPUi5kb20ud2Fsa2VyLmlnbm9yZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe2I9ayhiKXx8bChiKXx8bShiKTtyZXR1cm4hIShhXmIpfX07dmFyIGg9Q0tFRElUT1IuZG9tLndhbGtlci5pZ25vcmVkKCk7Q0tFRElUT1IuZG9tLndhbGtlci5lbXB0eT1cbmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtmb3IodmFyIGc9MCxkPWIuZ2V0Q2hpbGRDb3VudCgpO2c8ZDsrK2cpaWYoIWgoYi5nZXRDaGlsZChnKSkpcmV0dXJuISFhO3JldHVybiFhfX07dmFyIGc9Q0tFRElUT1IuZG9tLndhbGtlci5lbXB0eSgpLG49Q0tFRElUT1IuZG9tLndhbGtlci52YWxpZEVtcHR5QmxvY2tDb250YWluZXJzPUNLRURJVE9SLnRvb2xzLmV4dGVuZChmdW5jdGlvbihhKXt2YXIgYj17fSxnO2ZvcihnIGluIGEpQ0tFRElUT1IuZHRkW2ddW1wiI1wiXSYmKGJbZ109MSk7cmV0dXJuIGJ9KENLRURJVE9SLmR0ZC4kYmxvY2spLHtjYXB0aW9uOjEsdGQ6MSx0aDoxfSk7Q0tFRElUT1IuZG9tLndhbGtlci5lZGl0YWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7Yj1oKGIpPyExOmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfHxiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGIuaXMoQ0tFRElUT1IuZHRkLiRpbmxpbmUpfHxiLmlzKFwiaHJcIil8fFxuXCJmYWxzZVwiPT1iLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKXx8IUNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiZiLmlzKG4pJiZnKGIpKT8hMDohMTtyZXR1cm4hIShhXmIpfX07Q0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLmdldEJvZ3VzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztkbyBhPWEuZ2V0UHJldmlvdXNTb3VyY2VOb2RlKCk7d2hpbGUoZChhKSk7cmV0dXJuIGEmJihDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcj9hLmlzJiZhLmlzKFwiYnJcIik6YS5nZXRUZXh0JiZjLnRlc3QoYS5nZXRUZXh0KCkpKT9hOiExfX0oKSxcInVzZSBzdHJpY3RcIixDS0VESVRPUi5kb20ucmFuZ2U9ZnVuY3Rpb24oYSl7dGhpcy5lbmRPZmZzZXQ9dGhpcy5lbmRDb250YWluZXI9dGhpcy5zdGFydE9mZnNldD10aGlzLnN0YXJ0Q29udGFpbmVyPW51bGw7dGhpcy5jb2xsYXBzZWQ9ITA7dmFyIGY9YSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5kb2N1bWVudDt0aGlzLmRvY3VtZW50PVxuZj9hOmEuZ2V0RG9jdW1lbnQoKTt0aGlzLnJvb3Q9Zj9hLmdldEJvZHkoKTphfSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7YS5jb2xsYXBzZWQ9YS5zdGFydENvbnRhaW5lciYmYS5lbmRDb250YWluZXImJmEuc3RhcnRDb250YWluZXIuZXF1YWxzKGEuZW5kQ29udGFpbmVyKSYmYS5zdGFydE9mZnNldD09YS5lbmRPZmZzZXR9ZnVuY3Rpb24gZihhLGIsZCxjLGUpe2Z1bmN0aW9uIGgoYSxiLGcsZCl7dmFyIGM9Zz9hLmdldFByZXZpb3VzKCk6YS5nZXROZXh0KCk7aWYoZCYmbClyZXR1cm4gYzt5fHxkP2IuYXBwZW5kKGEuY2xvbmUoITAsZSksZyk6KGEucmVtb3ZlKCksbSYmYi5hcHBlbmQoYSxnKSk7cmV0dXJuIGN9ZnVuY3Rpb24gaygpe3ZhciBhLGIsZyxkPU1hdGgubWluKEgubGVuZ3RoLEUubGVuZ3RoKTtmb3IoYT0wO2E8ZDthKyspaWYoYj1IW2FdLGc9RVthXSwhYi5lcXVhbHMoZykpcmV0dXJuIGE7cmV0dXJuIGEtMX1mdW5jdGlvbiBmKCl7dmFyIGI9UC0xLGQ9SiYmSyYmXG4hdC5lcXVhbHModik7YjxMLTF8fGI8Ti0xfHxkPyhkP2EubW92ZVRvUG9zaXRpb24odixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpOk49PWIrMSYmRj9hLm1vdmVUb1Bvc2l0aW9uKEVbYl0sQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk6YS5tb3ZlVG9Qb3NpdGlvbihFW2IrMV0sQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxjJiYoYj1IW2IrMV0pJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGQ9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjc3BhbiBkYXRhLWNrZS1ib29rbWFya1xceDNkXCIxXCIgc3R5bGVcXHgzZFwiZGlzcGxheTpub25lXCJcXHgzZVxceDI2bmJzcDtcXHgzYy9zcGFuXFx4M2UnLGEuZG9jdW1lbnQpLGQuaW5zZXJ0QWZ0ZXIoYiksYi5tZXJnZVNpYmxpbmdzKCExKSxhLm1vdmVUb0Jvb2ttYXJrKHtzdGFydE5vZGU6ZH0pKSk6YS5jb2xsYXBzZSghMCl9YS5vcHRpbWl6ZUJvb2ttYXJrKCk7dmFyIGw9MD09PVxuYixtPTE9PWIseT0yPT1iO2I9eXx8bTt2YXIgdD1hLnN0YXJ0Q29udGFpbmVyLHY9YS5lbmRDb250YWluZXIsQj1hLnN0YXJ0T2Zmc2V0LEQ9YS5lbmRPZmZzZXQsQyxGLEosSyxHLE07aWYoeSYmdi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJih0LmVxdWFscyh2KXx8dC50eXBlPT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZ0LmdldEZpcnN0KCkuZXF1YWxzKHYpKSlkLmFwcGVuZChhLmRvY3VtZW50LmNyZWF0ZVRleHQodi5zdWJzdHJpbmcoQixEKSkpO2Vsc2V7di50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/eT9NPSEwOnY9di5zcGxpdChEKTowPHYuZ2V0Q2hpbGRDb3VudCgpP0Q+PXYuZ2V0Q2hpbGRDb3VudCgpPyh2PXYuZ2V0Q2hpbGQoRC0xKSxGPSEwKTp2PXYuZ2V0Q2hpbGQoRCk6Sz1GPSEwO3QudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUP3k/Rz0hMDp0LnNwbGl0KEIpOjA8dC5nZXRDaGlsZENvdW50KCk/MD09PUI/KHQ9dC5nZXRDaGlsZChCKSxDPSEwKTp0PXQuZ2V0Q2hpbGQoQi1cbjEpOko9Qz0hMDtmb3IodmFyIEg9dC5nZXRQYXJlbnRzKCksRT12LmdldFBhcmVudHMoKSxQPWsoKSxMPUgubGVuZ3RoLTEsTj1FLmxlbmd0aC0xLE89ZCxYLFMsWSxlYT0tMSxVPVA7VTw9TDtVKyspe1M9SFtVXTtZPVMuZ2V0TmV4dCgpO2ZvcihVIT1MfHxTLmVxdWFscyhFW1VdKSYmTDxOP2ImJihYPU8uYXBwZW5kKFMuY2xvbmUoMCxlKSkpOkM/aChTLE8sITEsSik6RyYmTy5hcHBlbmQoYS5kb2N1bWVudC5jcmVhdGVUZXh0KFMuc3Vic3RyaW5nKEIpKSk7WTspe2lmKFkuZXF1YWxzKEVbVV0pKXtlYT1VO2JyZWFrfVk9aChZLE8pfU89WH1PPWQ7Zm9yKFU9UDtVPD1OO1UrKylpZihkPUVbVV0sWT1kLmdldFByZXZpb3VzKCksZC5lcXVhbHMoSFtVXSkpYiYmKE89Ty5nZXRDaGlsZCgwKSk7ZWxzZXtVIT1OfHxkLmVxdWFscyhIW1VdKSYmTjxMP2ImJihYPU8uYXBwZW5kKGQuY2xvbmUoMCxlKSkpOkY/aChkLE8sITEsSyk6TSYmTy5hcHBlbmQoYS5kb2N1bWVudC5jcmVhdGVUZXh0KGQuc3Vic3RyaW5nKDAsXG5EKSkpO2lmKFU+ZWEpZm9yKDtZOylZPWgoWSxPLCEwKTtPPVh9eXx8ZigpfX1mdW5jdGlvbiBlKCl7dmFyIGE9ITEsYj1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksZD1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCEwKSxjPUNLRURJVE9SLmRvbS53YWxrZXIuYm9ndXMoKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGQoZSl8fGIoZSk/ITA6YyhlKSYmIWE/YT0hMDplLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGUuaGFzQXNjZW5kYW50KFwicHJlXCIpfHxDS0VESVRPUi50b29scy50cmltKGUuZ2V0VGV4dCgpKS5sZW5ndGgpfHxlLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIWUuaXMoayk/ITE6ITB9fWZ1bmN0aW9uIGIoYSl7dmFyIGI9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLGQ9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyaygxKTtyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuIGQoYyl8fGIoYyk/ITA6IWEmJmwoYyl8fFxuYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmMuaXMoQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eSl9fWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI7cmV0dXJuIHRoaXNbYT9cImdldFByZXZpb3VzTm9kZVwiOlwiZ2V0TmV4dE5vZGVcIl0oZnVuY3Rpb24oYSl7IWImJmgoYSkmJihiPWEpO3JldHVybiBkKGEpJiYhKGwoYSkmJmEuZXF1YWxzKGIpKX0pfX12YXIgaz17YWJicjoxLGFjcm9ueW06MSxiOjEsYmRvOjEsYmlnOjEsY2l0ZToxLGNvZGU6MSxkZWw6MSxkZm46MSxlbToxLGZvbnQ6MSxpOjEsaW5zOjEsbGFiZWw6MSxrYmQ6MSxxOjEsc2FtcDoxLHNtYWxsOjEsc3BhbjoxLHN0cmlrZToxLHN0cm9uZzoxLHN1YjoxLHN1cDoxLHR0OjEsdToxLFwidmFyXCI6MX0sbD1DS0VESVRPUi5kb20ud2Fsa2VyLmJvZ3VzKCksbT0vXltcXHRcXHJcXG4gXSooPzombmJzcDt8XFx4YTApJC8sZD1DS0VESVRPUi5kb20ud2Fsa2VyLmVkaXRhYmxlKCksaD1DS0VESVRPUi5kb20ud2Fsa2VyLmlnbm9yZWQoITApO1xuQ0tFRElUT1IuZG9tLnJhbmdlLnByb3RvdHlwZT17Y2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7YS5fc2V0U3RhcnRDb250YWluZXIodGhpcy5zdGFydENvbnRhaW5lcik7YS5zdGFydE9mZnNldD10aGlzLnN0YXJ0T2Zmc2V0O2EuX3NldEVuZENvbnRhaW5lcih0aGlzLmVuZENvbnRhaW5lcik7YS5lbmRPZmZzZXQ9dGhpcy5lbmRPZmZzZXQ7YS5jb2xsYXBzZWQ9dGhpcy5jb2xsYXBzZWQ7cmV0dXJuIGF9LGNvbGxhcHNlOmZ1bmN0aW9uKGEpe2E/KHRoaXMuX3NldEVuZENvbnRhaW5lcih0aGlzLnN0YXJ0Q29udGFpbmVyKSx0aGlzLmVuZE9mZnNldD10aGlzLnN0YXJ0T2Zmc2V0KToodGhpcy5fc2V0U3RhcnRDb250YWluZXIodGhpcy5lbmRDb250YWluZXIpLHRoaXMuc3RhcnRPZmZzZXQ9dGhpcy5lbmRPZmZzZXQpO3RoaXMuY29sbGFwc2VkPSEwfSxjbG9uZUNvbnRlbnRzOmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudCh0aGlzLmRvY3VtZW50KTtcbnRoaXMuY29sbGFwc2VkfHxmKHRoaXMsMixiLCExLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBhPyEwOmEpO3JldHVybiBifSxkZWxldGVDb250ZW50czpmdW5jdGlvbihhKXt0aGlzLmNvbGxhcHNlZHx8Zih0aGlzLDAsbnVsbCxhKX0sZXh0cmFjdENvbnRlbnRzOmZ1bmN0aW9uKGEsYil7dmFyIGQ9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KHRoaXMuZG9jdW1lbnQpO3RoaXMuY29sbGFwc2VkfHxmKHRoaXMsMSxkLGEsXCJ1bmRlZmluZWRcIj09dHlwZW9mIGI/ITA6Yik7cmV0dXJuIGR9LGVxdWFsczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zdGFydE9mZnNldD09PWEuc3RhcnRPZmZzZXQmJnRoaXMuZW5kT2Zmc2V0PT09YS5lbmRPZmZzZXQmJnRoaXMuc3RhcnRDb250YWluZXIuZXF1YWxzKGEuc3RhcnRDb250YWluZXIpJiZ0aGlzLmVuZENvbnRhaW5lci5lcXVhbHMoYS5lbmRDb250YWluZXIpfSxjcmVhdGVCb29rbWFyazpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBhLmdldEFzY2VuZGFudChmdW5jdGlvbihhKXt2YXIgYjtcbmlmKGI9YS5kYXRhJiZhLmRhdGEoXCJja2UtdGVtcFwiKSliPS0xPT09Q0tFRElUT1IudG9vbHMuYXJyYXkuaW5kZXhPZihbXCJja2VfY29weWJpblwiLFwiY2tlX3Bhc3RlYmluXCJdLGEuZ2V0QXR0cmlidXRlKFwiaWRcIikpO3JldHVybiBifSwhMCl9dmFyIGQ9dGhpcy5zdGFydENvbnRhaW5lcixjPXRoaXMuZW5kQ29udGFpbmVyLGU9dGhpcy5jb2xsYXBzZWQsaCxrLGYsbDtoPXRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7aC5kYXRhKFwiY2tlLWJvb2ttYXJrXCIsMSk7aC5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIik7aC5zZXRIdG1sKFwiXFx4MjZuYnNwO1wiKTthJiYoZj1cImNrZV9ibV9cIitDS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCksaC5zZXRBdHRyaWJ1dGUoXCJpZFwiLGYrKGU/XCJDXCI6XCJTXCIpKSk7ZXx8KGs9aC5jbG9uZSgpLGsuc2V0SHRtbChcIlxceDI2bmJzcDtcIiksYSYmay5zZXRBdHRyaWJ1dGUoXCJpZFwiLGYrXCJFXCIpLGw9dGhpcy5jbG9uZSgpLGIoYykmJihjPWIoYyksXG5sLm1vdmVUb1Bvc2l0aW9uKGMsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSksbC5jb2xsYXBzZSgpLGwuaW5zZXJ0Tm9kZShrKSk7bD10aGlzLmNsb25lKCk7YihkKSYmKGM9YihkKSxsLm1vdmVUb1Bvc2l0aW9uKGMsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSk7bC5jb2xsYXBzZSghMCk7bC5pbnNlcnROb2RlKGgpO2s/KHRoaXMuc2V0U3RhcnRBZnRlcihoKSx0aGlzLnNldEVuZEJlZm9yZShrKSk6dGhpcy5tb3ZlVG9Qb3NpdGlvbihoLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCk7cmV0dXJue3N0YXJ0Tm9kZTphP2YrKGU/XCJDXCI6XCJTXCIpOmgsZW5kTm9kZTphP2YrXCJFXCI6ayxzZXJpYWxpemFibGU6YSxjb2xsYXBzZWQ6ZX19LGNyZWF0ZUJvb2ttYXJrMjpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7dmFyIGc9Yi5jb250YWluZXIsYz1iLm9mZnNldCxlO2U9Zzt2YXIgaD1jO2U9ZS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fDA9PT1ofHxoPT1lLmdldENoaWxkQ291bnQoKT9cbjA6ZS5nZXRDaGlsZChoLTEpLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmZS5nZXRDaGlsZChoKS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ7ZSYmKGc9Zy5nZXRDaGlsZChjLTEpLGM9Zy5nZXRMZW5ndGgoKSk7aWYoZy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJjA8Yyl7YTp7Zm9yKGU9ZztjLS07KWlmKGg9ZS5nZXRDaGlsZChjKS5nZXRJbmRleCghMCksMDw9aCl7Yz1oO2JyZWFrIGF9Yz0tMX1jKz0xfWlmKGcudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXtlPWc7Zm9yKGg9MDsoZT1lLmdldFByZXZpb3VzKCkpJiZlLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVDspaCs9ZS5nZXRUZXh0KCkucmVwbGFjZShDS0VESVRPUi5kb20uc2VsZWN0aW9uLkZJTExJTkdfQ0hBUl9TRVFVRU5DRSxcIlwiKS5sZW5ndGg7ZT1oO2cuaXNFbXB0eSgpPyhoPWcuZ2V0UHJldmlvdXMoZCksZT8oYz1lLGc9aD9oLmdldE5leHQoKTpnLmdldFBhcmVudCgpLmdldEZpcnN0KCkpOihnPWcuZ2V0UGFyZW50KCksXG5jPWg/aC5nZXRJbmRleCghMCkrMTowKSk6Yys9ZX1iLmNvbnRhaW5lcj1nO2Iub2Zmc2V0PWN9ZnVuY3Rpb24gYihhLGcpe3ZhciBkPWcuZ2V0Q3VzdG9tRGF0YShcImNrZS1maWxsaW5nQ2hhclwiKTtpZihkKXt2YXIgYz1hLmNvbnRhaW5lcjtkLmVxdWFscyhjKSYmKGEub2Zmc2V0LT1DS0VESVRPUi5kb20uc2VsZWN0aW9uLkZJTExJTkdfQ0hBUl9TRVFVRU5DRS5sZW5ndGgsMD49YS5vZmZzZXQmJihhLm9mZnNldD1jLmdldEluZGV4KCksYS5jb250YWluZXI9Yy5nZXRQYXJlbnQoKSkpfX12YXIgZD1DS0VESVRPUi5kb20ud2Fsa2VyLm5vZGVUeXBlKENLRURJVE9SLk5PREVfVEVYVCwhMCk7cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBjPXRoaXMuY29sbGFwc2VkLGU9e2NvbnRhaW5lcjp0aGlzLnN0YXJ0Q29udGFpbmVyLG9mZnNldDp0aGlzLnN0YXJ0T2Zmc2V0fSxoPXtjb250YWluZXI6dGhpcy5lbmRDb250YWluZXIsb2Zmc2V0OnRoaXMuZW5kT2Zmc2V0fTtkJiYoYShlKSxiKGUsdGhpcy5yb290KSxcbmN8fChhKGgpLGIoaCx0aGlzLnJvb3QpKSk7cmV0dXJue3N0YXJ0OmUuY29udGFpbmVyLmdldEFkZHJlc3MoZCksZW5kOmM/bnVsbDpoLmNvbnRhaW5lci5nZXRBZGRyZXNzKGQpLHN0YXJ0T2Zmc2V0OmUub2Zmc2V0LGVuZE9mZnNldDpoLm9mZnNldCxub3JtYWxpemVkOmQsY29sbGFwc2VkOmMsaXMyOiEwfX19KCksbW92ZVRvQm9va21hcms6ZnVuY3Rpb24oYSl7aWYoYS5pczIpe3ZhciBiPXRoaXMuZG9jdW1lbnQuZ2V0QnlBZGRyZXNzKGEuc3RhcnQsYS5ub3JtYWxpemVkKSxkPWEuc3RhcnRPZmZzZXQsYz1hLmVuZCYmdGhpcy5kb2N1bWVudC5nZXRCeUFkZHJlc3MoYS5lbmQsYS5ub3JtYWxpemVkKTthPWEuZW5kT2Zmc2V0O3RoaXMuc2V0U3RhcnQoYixkKTtjP3RoaXMuc2V0RW5kKGMsYSk6dGhpcy5jb2xsYXBzZSghMCl9ZWxzZSBiPShkPWEuc2VyaWFsaXphYmxlKT90aGlzLmRvY3VtZW50LmdldEJ5SWQoYS5zdGFydE5vZGUpOmEuc3RhcnROb2RlLGE9ZD90aGlzLmRvY3VtZW50LmdldEJ5SWQoYS5lbmROb2RlKTpcbmEuZW5kTm9kZSx0aGlzLnNldFN0YXJ0QmVmb3JlKGIpLGIucmVtb3ZlKCksYT8odGhpcy5zZXRFbmRCZWZvcmUoYSksYS5yZW1vdmUoKSk6dGhpcy5jb2xsYXBzZSghMCl9LGdldEJvdW5kYXJ5Tm9kZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXJ0Q29udGFpbmVyLGI9dGhpcy5lbmRDb250YWluZXIsZD10aGlzLnN0YXJ0T2Zmc2V0LGM9dGhpcy5lbmRPZmZzZXQsZTtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVClpZihlPWEuZ2V0Q2hpbGRDb3VudCgpLGU+ZClhPWEuZ2V0Q2hpbGQoZCk7ZWxzZSBpZigxPmUpYT1hLmdldFByZXZpb3VzU291cmNlTm9kZSgpO2Vsc2V7Zm9yKGE9YS4kO2EubGFzdENoaWxkOylhPWEubGFzdENoaWxkO2E9bmV3IENLRURJVE9SLmRvbS5ub2RlKGEpO2E9YS5nZXROZXh0U291cmNlTm9kZSgpfHxhfWlmKGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKWlmKGU9Yi5nZXRDaGlsZENvdW50KCksZT5jKWI9Yi5nZXRDaGlsZChjKS5nZXRQcmV2aW91c1NvdXJjZU5vZGUoITApO1xuZWxzZSBpZigxPmUpYj1iLmdldFByZXZpb3VzU291cmNlTm9kZSgpO2Vsc2V7Zm9yKGI9Yi4kO2IubGFzdENoaWxkOyliPWIubGFzdENoaWxkO2I9bmV3IENLRURJVE9SLmRvbS5ub2RlKGIpfWEuZ2V0UG9zaXRpb24oYikmQ0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HJiYoYT1iKTtyZXR1cm57c3RhcnROb2RlOmEsZW5kTm9kZTpifX0sZ2V0Q29tbW9uQW5jZXN0b3I6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLnN0YXJ0Q29udGFpbmVyLGM9dGhpcy5lbmRDb250YWluZXIsZD1kLmVxdWFscyhjKT9hJiZkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmdGhpcy5zdGFydE9mZnNldD09dGhpcy5lbmRPZmZzZXQtMT9kLmdldENoaWxkKHRoaXMuc3RhcnRPZmZzZXQpOmQ6ZC5nZXRDb21tb25BbmNlc3RvcihjKTtyZXR1cm4gYiYmIWQuaXM/ZC5nZXRQYXJlbnQoKTpkfSxvcHRpbWl6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhcnRDb250YWluZXIsYj10aGlzLnN0YXJ0T2Zmc2V0O1xuYS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiP2I+PWEuZ2V0TGVuZ3RoKCkmJnRoaXMuc2V0U3RhcnRBZnRlcihhKTp0aGlzLnNldFN0YXJ0QmVmb3JlKGEpKTthPXRoaXMuZW5kQ29udGFpbmVyO2I9dGhpcy5lbmRPZmZzZXQ7YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiP2I+PWEuZ2V0TGVuZ3RoKCkmJnRoaXMuc2V0RW5kQWZ0ZXIoYSk6dGhpcy5zZXRFbmRCZWZvcmUoYSkpfSxvcHRpbWl6ZUJvb2ttYXJrOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGFydENvbnRhaW5lcixiPXRoaXMuZW5kQ29udGFpbmVyO2EuaXMmJmEuaXMoXCJzcGFuXCIpJiZhLmRhdGEoXCJja2UtYm9va21hcmtcIikmJnRoaXMuc2V0U3RhcnRBdChhLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7YiYmYi5pcyYmYi5pcyhcInNwYW5cIikmJmIuZGF0YShcImNrZS1ib29rbWFya1wiKSYmdGhpcy5zZXRFbmRBdChiLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCl9LHRyaW06ZnVuY3Rpb24oYSxcbmIpe3ZhciBkPXRoaXMuc3RhcnRDb250YWluZXIsYz10aGlzLnN0YXJ0T2Zmc2V0LGU9dGhpcy5jb2xsYXBzZWQ7aWYoKCFhfHxlKSYmZCYmZC50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe2lmKGMpaWYoYz49ZC5nZXRMZW5ndGgoKSljPWQuZ2V0SW5kZXgoKSsxLGQ9ZC5nZXRQYXJlbnQoKTtlbHNle3ZhciBoPWQuc3BsaXQoYyksYz1kLmdldEluZGV4KCkrMSxkPWQuZ2V0UGFyZW50KCk7dGhpcy5zdGFydENvbnRhaW5lci5lcXVhbHModGhpcy5lbmRDb250YWluZXIpP3RoaXMuc2V0RW5kKGgsdGhpcy5lbmRPZmZzZXQtdGhpcy5zdGFydE9mZnNldCk6ZC5lcXVhbHModGhpcy5lbmRDb250YWluZXIpJiYodGhpcy5lbmRPZmZzZXQrPTEpfWVsc2UgYz1kLmdldEluZGV4KCksZD1kLmdldFBhcmVudCgpO3RoaXMuc2V0U3RhcnQoZCxjKTtpZihlKXt0aGlzLmNvbGxhcHNlKCEwKTtyZXR1cm59fWQ9dGhpcy5lbmRDb250YWluZXI7Yz10aGlzLmVuZE9mZnNldDtifHxlfHwhZHx8ZC50eXBlIT1cbkNLRURJVE9SLk5PREVfVEVYVHx8KGM/KGM+PWQuZ2V0TGVuZ3RoKCl8fGQuc3BsaXQoYyksYz1kLmdldEluZGV4KCkrMSk6Yz1kLmdldEluZGV4KCksZD1kLmdldFBhcmVudCgpLHRoaXMuc2V0RW5kKGQsYykpfSxlbmxhcmdlOmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZChhKXtyZXR1cm4gYSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpP251bGw6YX1mdW5jdGlvbiBjKGEsYixkKXt2YXIgZz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGQpO2cuc2V0U3RhcnQoYSxiKTtnLnNldEVuZEF0KGQsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7ZD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihnKTtmb3IoZC5ndWFyZD1mdW5jdGlvbihhKXtyZXR1cm4hKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmlzQmxvY2tCb3VuZGFyeSgpKX07Zz1kLm5leHQoKTspe2lmKGcudHlwZSE9Q0tFRElUT1IuTk9ERV9URVhUKXJldHVybiExO1xuaD1nIT1hP2cuZ2V0VGV4dCgpOmcuc3Vic3RyaW5nKGIpO2lmKGUudGVzdChoKSlyZXR1cm4hMX1yZXR1cm4hMH12YXIgZT1uZXcgUmVnRXhwKC9bXlxcc1xcdWZlZmZdLyksaCxrO3N3aXRjaChhKXtjYXNlIENLRURJVE9SLkVOTEFSR0VfSU5MSU5FOnZhciBmPTE7Y2FzZSBDS0VESVRPUi5FTkxBUkdFX0VMRU1FTlQ6aWYodGhpcy5jb2xsYXBzZWQpYnJlYWs7dmFyIGw9dGhpcy5nZXRDb21tb25BbmNlc3RvcigpO2s9dGhpcy5yb290O3ZhciBtLHksdCx2LEIsRD0hMSxDO0M9dGhpcy5zdGFydENvbnRhaW5lcjt2YXIgRj10aGlzLnN0YXJ0T2Zmc2V0O0MudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUPyhGJiYoQz0hQ0tFRElUT1IudG9vbHMudHJpbShDLnN1YnN0cmluZygwLEYpKS5sZW5ndGgmJkMsRD0hIUMpLEMmJigodj1DLmdldFByZXZpb3VzKCkpfHwodD1DLmdldFBhcmVudCgpKSkpOihGJiYodj1DLmdldENoaWxkKEYtMSl8fEMuZ2V0TGFzdCgpKSx2fHwodD1DKSk7Zm9yKHQ9ZCh0KTt0fHxcbnY7KXtpZih0JiYhdil7IUImJnQuZXF1YWxzKGwpJiYoQj0hMCk7aWYoZj90LmlzQmxvY2tCb3VuZGFyeSgpOiFrLmNvbnRhaW5zKHQpKWJyZWFrO0QmJlwiaW5saW5lXCI9PXQuZ2V0Q29tcHV0ZWRTdHlsZShcImRpc3BsYXlcIil8fChEPSExLEI/bT10OnRoaXMuc2V0U3RhcnRCZWZvcmUodCkpO3Y9dC5nZXRQcmV2aW91cygpfWZvcig7djspaWYoQz0hMSx2LnR5cGU9PUNLRURJVE9SLk5PREVfQ09NTUVOVCl2PXYuZ2V0UHJldmlvdXMoKTtlbHNle2lmKHYudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKWg9di5nZXRUZXh0KCksZS50ZXN0KGgpJiYodj1udWxsKSxDPS9bXFxzXFx1ZmVmZl0kLy50ZXN0KGgpO2Vsc2UgaWYoKHYuJC5vZmZzZXRXaWR0aD4oQ0tFRElUT1IuZW52LndlYmtpdD8xOjApfHxiJiZ2LmlzKFwiYnJcIikpJiYhdi5kYXRhKFwiY2tlLWJvb2ttYXJrXCIpKWlmKEQmJkNLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbdi5nZXROYW1lKCldKXtoPXYuZ2V0VGV4dCgpO2lmKGUudGVzdChoKSl2PVxubnVsbDtlbHNlIGZvcih2YXIgRj12LiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLEo9MCxLO0s9RltKKytdOylpZighQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVtLLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKXt2PW51bGw7YnJlYWt9diYmKEM9ISFoLmxlbmd0aCl9ZWxzZSB2PW51bGw7QyYmKEQ/Qj9tPXQ6dCYmdGhpcy5zZXRTdGFydEJlZm9yZSh0KTpEPSEwKTtpZih2KXtDPXYuZ2V0UHJldmlvdXMoKTtpZighdCYmIUMpe3Q9djt2PW51bGw7YnJlYWt9dj1DfWVsc2UgdD1udWxsfXQmJih0PWQodC5nZXRQYXJlbnQoKSkpfUM9dGhpcy5lbmRDb250YWluZXI7Rj10aGlzLmVuZE9mZnNldDt0PXY9bnVsbDtCPUQ9ITE7Qy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/Q0tFRElUT1IudG9vbHMudHJpbShDLnN1YnN0cmluZyhGKSkubGVuZ3RoP0Q9ITA6KEQ9IUMuZ2V0TGVuZ3RoKCksRj09Qy5nZXRMZW5ndGgoKT8odj1DLmdldE5leHQoKSl8fCh0PUMuZ2V0UGFyZW50KCkpOmMoQyxcbkYsaykmJih0PUMuZ2V0UGFyZW50KCkpKToodj1DLmdldENoaWxkKEYpKXx8KHQ9Qyk7Zm9yKDt0fHx2Oyl7aWYodCYmIXYpeyFCJiZ0LmVxdWFscyhsKSYmKEI9ITApO2lmKGY/dC5pc0Jsb2NrQm91bmRhcnkoKTohay5jb250YWlucyh0KSlicmVhaztEJiZcImlubGluZVwiPT10LmdldENvbXB1dGVkU3R5bGUoXCJkaXNwbGF5XCIpfHwoRD0hMSxCP3k9dDp0JiZ0aGlzLnNldEVuZEFmdGVyKHQpKTt2PXQuZ2V0TmV4dCgpfWZvcig7djspe0M9ITE7aWYodi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpaD12LmdldFRleHQoKSxjKHYsMCxrKXx8KHY9bnVsbCksQz0vXltcXHNcXHVmZWZmXS8udGVzdChoKTtlbHNlIGlmKHYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXtpZigoMDx2LiQub2Zmc2V0V2lkdGh8fGImJnYuaXMoXCJiclwiKSkmJiF2LmRhdGEoXCJja2UtYm9va21hcmtcIikpaWYoRCYmQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVt2LmdldE5hbWUoKV0pe2g9di5nZXRUZXh0KCk7aWYoZS50ZXN0KGgpKXY9XG5udWxsO2Vsc2UgZm9yKEY9di4kLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKSxKPTA7Sz1GW0orK107KWlmKCFDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W0subm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pe3Y9bnVsbDticmVha312JiYoQz0hIWgubGVuZ3RoKX1lbHNlIHY9bnVsbH1lbHNlIEM9MTtDJiZEJiYoQj95PXQ6dGhpcy5zZXRFbmRBZnRlcih0KSk7aWYodil7Qz12LmdldE5leHQoKTtpZighdCYmIUMpe3Q9djt2PW51bGw7YnJlYWt9dj1DfWVsc2UgdD1udWxsfXQmJih0PWQodC5nZXRQYXJlbnQoKSkpfW0mJnkmJihsPW0uY29udGFpbnMoeSk/eTptLHRoaXMuc2V0U3RhcnRCZWZvcmUobCksdGhpcy5zZXRFbmRBZnRlcihsKSk7YnJlYWs7Y2FzZSBDS0VESVRPUi5FTkxBUkdFX0JMT0NLX0NPTlRFTlRTOmNhc2UgQ0tFRElUT1IuRU5MQVJHRV9MSVNUX0lURU1fQ09OVEVOVFM6dD1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7az10aGlzLnJvb3Q7dC5zZXRTdGFydEF0KGssXG5DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7dC5zZXRFbmQodGhpcy5zdGFydENvbnRhaW5lcix0aGlzLnN0YXJ0T2Zmc2V0KTt0PW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKHQpO3ZhciBHLE0sSD1DS0VESVRPUi5kb20ud2Fsa2VyLmJsb2NrQm91bmRhcnkoYT09Q0tFRElUT1IuRU5MQVJHRV9MSVNUX0lURU1fQ09OVEVOVFM/e2JyOjF9Om51bGwpLEU9bnVsbCxQPWZ1bmN0aW9uKGEpe2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcImZhbHNlXCI9PWEuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKWlmKEUpe2lmKEUuZXF1YWxzKGEpKXtFPW51bGw7cmV0dXJufX1lbHNlIEU9YTtlbHNlIGlmKEUpcmV0dXJuO3ZhciBiPUgoYSk7Ynx8KEc9YSk7cmV0dXJuIGJ9LGY9ZnVuY3Rpb24oYSl7dmFyIGI9UChhKTshYiYmYS5pcyYmYS5pcyhcImJyXCIpJiYoTT1hKTtyZXR1cm4gYn07dC5ndWFyZD1QO3Q9dC5sYXN0QmFja3dhcmQoKTtHPUd8fGs7dGhpcy5zZXRTdGFydEF0KEcsXG4hRy5pcyhcImJyXCIpJiYoIXQmJnRoaXMuY2hlY2tTdGFydE9mQmxvY2soKXx8dCYmRy5jb250YWlucyh0KSk/Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ6Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKTtpZihhPT1DS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUyl7dD10aGlzLmNsb25lKCk7dD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcih0KTt2YXIgTD1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksTj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCk7dC5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIUwoYSkmJiFOKGEpfTtpZigodD10LnByZXZpb3VzKCkpJiZ0LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmdC5pcyhcImJyXCIpKWJyZWFrfXQ9dGhpcy5jbG9uZSgpO3QuY29sbGFwc2UoKTt0LnNldEVuZEF0KGssQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7dD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcih0KTt0Lmd1YXJkPVxuYT09Q0tFRElUT1IuRU5MQVJHRV9MSVNUX0lURU1fQ09OVEVOVFM/ZjpQO0c9RT1NPW51bGw7dD10Lmxhc3RGb3J3YXJkKCk7Rz1HfHxrO3RoaXMuc2V0RW5kQXQoRywhdCYmdGhpcy5jaGVja0VuZE9mQmxvY2soKXx8dCYmRy5jb250YWlucyh0KT9DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7TSYmdGhpcy5zZXRFbmRBZnRlcihNKX19LHNocmluazpmdW5jdGlvbihhLGIsZCl7dmFyIGM9XCJib29sZWFuXCI9PT10eXBlb2YgZD9kOmQmJlwiYm9vbGVhblwiPT09dHlwZW9mIGQuc2hyaW5rT25CbG9ja0JvdW5kYXJ5P2Quc2hyaW5rT25CbG9ja0JvdW5kYXJ5OiEwLGU9ZCYmZC5za2lwQm9ndXM7aWYoIXRoaXMuY29sbGFwc2VkKXthPWF8fENLRURJVE9SLlNIUklOS19URVhUO3ZhciBoPXRoaXMuY2xvbmUoKSxrPXRoaXMuc3RhcnRDb250YWluZXIsZj10aGlzLmVuZENvbnRhaW5lcixsPXRoaXMuc3RhcnRPZmZzZXQsbT10aGlzLmVuZE9mZnNldCxcbnk9ZD0xO2smJmsudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYobD9sPj1rLmdldExlbmd0aCgpP2guc2V0U3RhcnRBZnRlcihrKTooaC5zZXRTdGFydEJlZm9yZShrKSxkPTApOmguc2V0U3RhcnRCZWZvcmUoaykpO2YmJmYudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYobT9tPj1mLmdldExlbmd0aCgpP2guc2V0RW5kQWZ0ZXIoZik6KGguc2V0RW5kQWZ0ZXIoZikseT0wKTpoLnNldEVuZEJlZm9yZShmKSk7dmFyIGg9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoaCksdD1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCksdj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvZ3VzKCk7aC5ldmFsdWF0b3I9ZnVuY3Rpb24oYil7cmV0dXJuIGIudHlwZT09KGE9PUNLRURJVE9SLlNIUklOS19FTEVNRU5UP0NLRURJVE9SLk5PREVfRUxFTUVOVDpDS0VESVRPUi5OT0RFX1RFWFQpfTt2YXIgQjtoLmd1YXJkPWZ1bmN0aW9uKGIsZCl7aWYoZSYmdihiKXx8dChiKSlyZXR1cm4hMDtpZihhPT1DS0VESVRPUi5TSFJJTktfRUxFTUVOVCYmXG5iLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVHx8ZCYmYi5lcXVhbHMoQil8fCExPT09YyYmYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuaXNCbG9ja0JvdW5kYXJ5KCl8fGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSlyZXR1cm4hMTtkfHxiLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8KEI9Yik7cmV0dXJuITB9O2QmJihrPWhbYT09Q0tFRElUT1IuU0hSSU5LX0VMRU1FTlQ/XCJsYXN0Rm9yd2FyZFwiOlwibmV4dFwiXSgpKSYmdGhpcy5zZXRTdGFydEF0KGssYj9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDpDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO3kmJihoLnJlc2V0KCksKGg9aFthPT1DS0VESVRPUi5TSFJJTktfRUxFTUVOVD9cImxhc3RCYWNrd2FyZFwiOlwicHJldmlvdXNcIl0oKSkmJnRoaXMuc2V0RW5kQXQoaCxiP0NLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQ6Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSk7XG5yZXR1cm4hKCFkJiYheSl9fSxpbnNlcnROb2RlOmZ1bmN0aW9uKGEpe3RoaXMub3B0aW1pemVCb29rbWFyaygpO3RoaXMudHJpbSghMSwhMCk7dmFyIGI9dGhpcy5zdGFydENvbnRhaW5lcixkPWIuZ2V0Q2hpbGQodGhpcy5zdGFydE9mZnNldCk7ZD9hLmluc2VydEJlZm9yZShkKTpiLmFwcGVuZChhKTthLmdldFBhcmVudCgpJiZhLmdldFBhcmVudCgpLmVxdWFscyh0aGlzLmVuZENvbnRhaW5lcikmJnRoaXMuZW5kT2Zmc2V0Kys7dGhpcy5zZXRTdGFydEJlZm9yZShhKX0sbW92ZVRvUG9zaXRpb246ZnVuY3Rpb24oYSxiKXt0aGlzLnNldFN0YXJ0QXQoYSxiKTt0aGlzLmNvbGxhcHNlKCEwKX0sbW92ZVRvUmFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5zZXRTdGFydChhLnN0YXJ0Q29udGFpbmVyLGEuc3RhcnRPZmZzZXQpO3RoaXMuc2V0RW5kKGEuZW5kQ29udGFpbmVyLGEuZW5kT2Zmc2V0KX0sc2VsZWN0Tm9kZUNvbnRlbnRzOmZ1bmN0aW9uKGEpe3RoaXMuc2V0U3RhcnQoYSwwKTt0aGlzLnNldEVuZChhLFxuYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/YS5nZXRMZW5ndGgoKTphLmdldENoaWxkQ291bnQoKSl9LHNldFN0YXJ0OmZ1bmN0aW9uKGIsZCl7Yi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkNLRURJVE9SLmR0ZC4kZW1wdHlbYi5nZXROYW1lKCldJiYoZD1iLmdldEluZGV4KCksYj1iLmdldFBhcmVudCgpKTt0aGlzLl9zZXRTdGFydENvbnRhaW5lcihiKTt0aGlzLnN0YXJ0T2Zmc2V0PWQ7dGhpcy5lbmRDb250YWluZXJ8fCh0aGlzLl9zZXRFbmRDb250YWluZXIoYiksdGhpcy5lbmRPZmZzZXQ9ZCk7YSh0aGlzKX0sc2V0RW5kOmZ1bmN0aW9uKGIsZCl7Yi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkNLRURJVE9SLmR0ZC4kZW1wdHlbYi5nZXROYW1lKCldJiYoZD1iLmdldEluZGV4KCkrMSxiPWIuZ2V0UGFyZW50KCkpO3RoaXMuX3NldEVuZENvbnRhaW5lcihiKTt0aGlzLmVuZE9mZnNldD1kO3RoaXMuc3RhcnRDb250YWluZXJ8fCh0aGlzLl9zZXRTdGFydENvbnRhaW5lcihiKSxcbnRoaXMuc3RhcnRPZmZzZXQ9ZCk7YSh0aGlzKX0sc2V0U3RhcnRBZnRlcjpmdW5jdGlvbihhKXt0aGlzLnNldFN0YXJ0KGEuZ2V0UGFyZW50KCksYS5nZXRJbmRleCgpKzEpfSxzZXRTdGFydEJlZm9yZTpmdW5jdGlvbihhKXt0aGlzLnNldFN0YXJ0KGEuZ2V0UGFyZW50KCksYS5nZXRJbmRleCgpKX0sc2V0RW5kQWZ0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5zZXRFbmQoYS5nZXRQYXJlbnQoKSxhLmdldEluZGV4KCkrMSl9LHNldEVuZEJlZm9yZTpmdW5jdGlvbihhKXt0aGlzLnNldEVuZChhLmdldFBhcmVudCgpLGEuZ2V0SW5kZXgoKSl9LHNldFN0YXJ0QXQ6ZnVuY3Rpb24oYixkKXtzd2l0Y2goZCl7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDp0aGlzLnNldFN0YXJ0KGIsMCk7YnJlYWs7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EOmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUP3RoaXMuc2V0U3RhcnQoYixiLmdldExlbmd0aCgpKTp0aGlzLnNldFN0YXJ0KGIsXG5iLmdldENoaWxkQ291bnQoKSk7YnJlYWs7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQ6dGhpcy5zZXRTdGFydEJlZm9yZShiKTticmVhaztjYXNlIENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORDp0aGlzLnNldFN0YXJ0QWZ0ZXIoYil9YSh0aGlzKX0sc2V0RW5kQXQ6ZnVuY3Rpb24oYixkKXtzd2l0Y2goZCl7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDp0aGlzLnNldEVuZChiLDApO2JyZWFrO2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORDpiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD90aGlzLnNldEVuZChiLGIuZ2V0TGVuZ3RoKCkpOnRoaXMuc2V0RW5kKGIsYi5nZXRDaGlsZENvdW50KCkpO2JyZWFrO2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUOnRoaXMuc2V0RW5kQmVmb3JlKGIpO2JyZWFrO2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EOnRoaXMuc2V0RW5kQWZ0ZXIoYil9YSh0aGlzKX0sZml4QmxvY2s6ZnVuY3Rpb24oYSxcbmIpe3ZhciBkPXRoaXMuY3JlYXRlQm9va21hcmsoKSxjPXRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiKTt0aGlzLmNvbGxhcHNlKGEpO3RoaXMuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0JMT0NLX0NPTlRFTlRTKTt0aGlzLmV4dHJhY3RDb250ZW50cygpLmFwcGVuZFRvKGMpO2MudHJpbSgpO3RoaXMuaW5zZXJ0Tm9kZShjKTt2YXIgZT1jLmdldEJvZ3VzKCk7ZSYmZS5yZW1vdmUoKTtjLmFwcGVuZEJvZ3VzKCk7dGhpcy5tb3ZlVG9Cb29rbWFyayhkKTtyZXR1cm4gY30sc3BsaXRCbG9jazpmdW5jdGlvbihhLGIpe3ZhciBkPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5zdGFydENvbnRhaW5lcix0aGlzLnJvb3QpLGM9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLmVuZENvbnRhaW5lcix0aGlzLnJvb3QpLGU9ZC5ibG9jayxoPWMuYmxvY2ssaz1udWxsO2lmKCFkLmJsb2NrTGltaXQuZXF1YWxzKGMuYmxvY2tMaW1pdCkpcmV0dXJuIG51bGw7XCJiclwiIT1cbmEmJihlfHwoZT10aGlzLmZpeEJsb2NrKCEwLGEpLGg9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5lbmRDb250YWluZXIsdGhpcy5yb290KSkuYmxvY2spLGh8fChoPXRoaXMuZml4QmxvY2soITEsYSkpKTtkPWUmJnRoaXMuY2hlY2tTdGFydE9mQmxvY2soKTtjPWgmJnRoaXMuY2hlY2tFbmRPZkJsb2NrKCk7dGhpcy5kZWxldGVDb250ZW50cygpO2UmJmUuZXF1YWxzKGgpJiYoYz8oaz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5yb290KSx0aGlzLm1vdmVUb1Bvc2l0aW9uKGgsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxoPW51bGwpOmQ/KGs9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMucm9vdCksdGhpcy5tb3ZlVG9Qb3NpdGlvbihlLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksZT1udWxsKTooaD10aGlzLnNwbGl0RWxlbWVudChlLGJ8fFxuITEpLGUuaXMoXCJ1bFwiLFwib2xcIil8fGUuYXBwZW5kQm9ndXMoKSkpO3JldHVybntwcmV2aW91c0Jsb2NrOmUsbmV4dEJsb2NrOmgsd2FzU3RhcnRPZkJsb2NrOmQsd2FzRW5kT2ZCbG9jazpjLGVsZW1lbnRQYXRoOmt9fSxzcGxpdEVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5jb2xsYXBzZWQpcmV0dXJuIG51bGw7dGhpcy5zZXRFbmRBdChhLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO3ZhciBkPXRoaXMuZXh0cmFjdENvbnRlbnRzKCExLGJ8fCExKSxjPWEuY2xvbmUoITEsYnx8ITEpO2QuYXBwZW5kVG8oYyk7Yy5pbnNlcnRBZnRlcihhKTt0aGlzLm1vdmVUb1Bvc2l0aW9uKGEsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKTtyZXR1cm4gY30scmVtb3ZlRW1wdHlCbG9ja3NBdEVuZDpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYyl7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBiKGEpfHxkKGEpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pc0VtcHR5SW5saW5lUmVtb3ZlYWJsZSgpfHxcbmMuaXMoXCJ0YWJsZVwiKSYmYS5pcyhcImNhcHRpb25cIik/ITE6ITB9fXZhciBiPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxkPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoITEpO3JldHVybiBmdW5jdGlvbihiKXtmb3IodmFyIGQ9dGhpcy5jcmVhdGVCb29rbWFyaygpLGM9dGhpc1tiP1wiZW5kUGF0aFwiOlwic3RhcnRQYXRoXCJdKCksZT1jLmJsb2NrfHxjLmJsb2NrTGltaXQsaDtlJiYhZS5lcXVhbHMoYy5yb290KSYmIWUuZ2V0Rmlyc3QoYShlKSk7KWg9ZS5nZXRQYXJlbnQoKSx0aGlzW2I/XCJzZXRFbmRBdFwiOlwic2V0U3RhcnRBdFwiXShlLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksZS5yZW1vdmUoMSksZT1oO3RoaXMubW92ZVRvQm9va21hcmsoZCl9fSgpLHN0YXJ0UGF0aDpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5yb290KX0sZW5kUGF0aDpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuZW5kQ29udGFpbmVyLFxudGhpcy5yb290KX0sY2hlY2tCb3VuZGFyeU9mRWxlbWVudDpmdW5jdGlvbihhLGQpe3ZhciBjPWQ9PUNLRURJVE9SLlNUQVJULGU9dGhpcy5jbG9uZSgpO2UuY29sbGFwc2UoYyk7ZVtjP1wic2V0U3RhcnRBdFwiOlwic2V0RW5kQXRcIl0oYSxjP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2U9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZSk7ZS5ldmFsdWF0b3I9YihjKTtyZXR1cm4gZVtjP1wiY2hlY2tCYWNrd2FyZFwiOlwiY2hlY2tGb3J3YXJkXCJdKCl9LGNoZWNrU3RhcnRPZkJsb2NrOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc3RhcnRDb250YWluZXIsZD10aGlzLnN0YXJ0T2Zmc2V0O0NLRURJVE9SLmVudi5pZSYmZCYmYi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihiPUNLRURJVE9SLnRvb2xzLmx0cmltKGIuc3Vic3RyaW5nKDAsZCkpLG0udGVzdChiKSYmdGhpcy50cmltKDAsMSkpO2F8fHRoaXMudHJpbSgpO2E9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLnN0YXJ0Q29udGFpbmVyLFxudGhpcy5yb290KTtiPXRoaXMuY2xvbmUoKTtiLmNvbGxhcHNlKCEwKTtiLnNldFN0YXJ0QXQoYS5ibG9ja3x8YS5ibG9ja0xpbWl0LENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTthPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGIpO2EuZXZhbHVhdG9yPWUoKTtyZXR1cm4gYS5jaGVja0JhY2t3YXJkKCl9LGNoZWNrRW5kT2ZCbG9jazpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVuZENvbnRhaW5lcixkPXRoaXMuZW5kT2Zmc2V0O0NLRURJVE9SLmVudi5pZSYmYi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihiPUNLRURJVE9SLnRvb2xzLnJ0cmltKGIuc3Vic3RyaW5nKGQpKSxtLnRlc3QoYikmJnRoaXMudHJpbSgxLDApKTthfHx0aGlzLnRyaW0oKTthPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5lbmRDb250YWluZXIsdGhpcy5yb290KTtiPXRoaXMuY2xvbmUoKTtiLmNvbGxhcHNlKCExKTtiLnNldEVuZEF0KGEuYmxvY2t8fGEuYmxvY2tMaW1pdCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtcbmE9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYik7YS5ldmFsdWF0b3I9ZSgpO3JldHVybiBhLmNoZWNrRm9yd2FyZCgpfSxnZXRQcmV2aW91c05vZGU6ZnVuY3Rpb24oYSxiLGQpe3ZhciBjPXRoaXMuY2xvbmUoKTtjLmNvbGxhcHNlKDEpO2Muc2V0U3RhcnRBdChkfHx0aGlzLnJvb3QsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO2Q9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYyk7ZC5ldmFsdWF0b3I9YTtkLmd1YXJkPWI7cmV0dXJuIGQucHJldmlvdXMoKX0sZ2V0TmV4dE5vZGU6ZnVuY3Rpb24oYSxiLGQpe3ZhciBjPXRoaXMuY2xvbmUoKTtjLmNvbGxhcHNlKCk7Yy5zZXRFbmRBdChkfHx0aGlzLnJvb3QsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7ZD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihjKTtkLmV2YWx1YXRvcj1hO2QuZ3VhcmQ9YjtyZXR1cm4gZC5uZXh0KCl9LGNoZWNrUmVhZE9ubHk6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsZCl7Zm9yKDtiOyl7aWYoYi50eXBlPT1cbkNLRURJVE9SLk5PREVfRUxFTUVOVCl7aWYoXCJmYWxzZVwiPT1iLmdldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKSYmIWIuZGF0YShcImNrZS1lZGl0YWJsZVwiKSlyZXR1cm4gMDtpZihiLmlzKFwiaHRtbFwiKXx8XCJ0cnVlXCI9PWIuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpJiYoYi5jb250YWlucyhkKXx8Yi5lcXVhbHMoZCkpKWJyZWFrfWI9Yi5nZXRQYXJlbnQoKX1yZXR1cm4gMX1yZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj10aGlzLnN0YXJ0Q29udGFpbmVyLGQ9dGhpcy5lbmRDb250YWluZXI7cmV0dXJuIShhKGIsZCkmJmEoZCxiKSl9fSgpLG1vdmVUb0VsZW1lbnRFZGl0YWJsZVBvc2l0aW9uOmZ1bmN0aW9uKGEsYil7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFhLmlzRWRpdGFibGUoITEpKXJldHVybiB0aGlzLm1vdmVUb1Bvc2l0aW9uKGEsYj9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQ6Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxcbiEwO2Zvcih2YXIgZD0wO2E7KXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7YiYmdGhpcy5lbmRDb250YWluZXImJnRoaXMuY2hlY2tFbmRPZkJsb2NrKCkmJm0udGVzdChhLmdldFRleHQoKSk/dGhpcy5tb3ZlVG9Qb3NpdGlvbihhLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk6dGhpcy5tb3ZlVG9Qb3NpdGlvbihhLGI/Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7ZD0xO2JyZWFrfWlmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKWlmKGEuaXNFZGl0YWJsZSgpKXRoaXMubW92ZVRvUG9zaXRpb24oYSxiP0NLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQ6Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLGQ9MTtlbHNlIGlmKGImJmEuaXMoXCJiclwiKSYmdGhpcy5lbmRDb250YWluZXImJnRoaXMuY2hlY2tFbmRPZkJsb2NrKCkpdGhpcy5tb3ZlVG9Qb3NpdGlvbihhLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7XG5lbHNlIGlmKFwiZmFsc2VcIj09YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikmJmEuaXMoQ0tFRElUT1IuZHRkLiRibG9jaykpcmV0dXJuIHRoaXMuc2V0U3RhcnRCZWZvcmUoYSksdGhpcy5zZXRFbmRBZnRlcihhKSwhMDt2YXIgYz1hLGU9ZCxrPXZvaWQgMDtjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYy5pc0VkaXRhYmxlKCExKSYmKGs9Y1tiP1wiZ2V0TGFzdFwiOlwiZ2V0Rmlyc3RcIl0oaCkpO2V8fGt8fChrPWNbYj9cImdldFByZXZpb3VzXCI6XCJnZXROZXh0XCJdKGgpKTthPWt9cmV0dXJuISFkfSxtb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBkLGM9MCxlLGgsaz1bQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5ELENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVF07YT8oZD1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCksZC5tb3ZlVG9Qb3NpdGlvbihhLGtbYj8wOjFdKSk6ZD10aGlzLmNsb25lKCk7aWYoYSYmXG4hYS5pcyhDS0VESVRPUi5kdGQuJGJsb2NrKSljPTE7ZWxzZSBpZihlPWRbYj9cImdldE5leHRFZGl0YWJsZU5vZGVcIjpcImdldFByZXZpb3VzRWRpdGFibGVOb2RlXCJdKCkpYz0xLChoPWUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKSYmZS5pcyhDS0VESVRPUi5kdGQuJGJsb2NrKSYmXCJmYWxzZVwiPT1lLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKT8oZC5zZXRTdGFydEF0KGUsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxkLnNldEVuZEF0KGUsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSk6IUNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiZoJiZlLmlzKENLRURJVE9SLmRvbS53YWxrZXIudmFsaWRFbXB0eUJsb2NrQ29udGFpbmVycyk/KGQuc2V0RW5kKGUsMCksZC5jb2xsYXBzZSgpKTpkLm1vdmVUb1Bvc2l0aW9uKGUsa1tiPzE6MF0pO2MmJnRoaXMubW92ZVRvUmFuZ2UoZCk7cmV0dXJuISFjfSxtb3ZlVG9FbGVtZW50RWRpdFN0YXJ0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1vdmVUb0VsZW1lbnRFZGl0YWJsZVBvc2l0aW9uKGEpfSxcbm1vdmVUb0VsZW1lbnRFZGl0RW5kOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1vdmVUb0VsZW1lbnRFZGl0YWJsZVBvc2l0aW9uKGEsITApfSxnZXRFbmNsb3NlZE5vZGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNsb25lKCk7YS5vcHRpbWl6ZSgpO2lmKGEuc3RhcnRDb250YWluZXIudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHxhLmVuZENvbnRhaW5lci50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJuIG51bGw7dmFyIGE9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYSksYj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCExLCEwKSxkPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoITApO2EuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiBkKGEpJiZiKGEpfTt2YXIgYz1hLm5leHQoKTthLnJlc2V0KCk7cmV0dXJuIGMmJmMuZXF1YWxzKGEucHJldmlvdXMoKSk/YzpudWxsfSxnZXRUb3VjaGVkU3RhcnROb2RlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGFydENvbnRhaW5lcjtcbnJldHVybiB0aGlzLmNvbGxhcHNlZHx8YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/YTphLmdldENoaWxkKHRoaXMuc3RhcnRPZmZzZXQpfHxhfSxnZXRUb3VjaGVkRW5kTm9kZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZW5kQ29udGFpbmVyO3JldHVybiB0aGlzLmNvbGxhcHNlZHx8YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/YTphLmdldENoaWxkKHRoaXMuZW5kT2Zmc2V0LTEpfHxhfSxnZXROZXh0RWRpdGFibGVOb2RlOmMoKSxnZXRQcmV2aW91c0VkaXRhYmxlTm9kZTpjKDEpLF9nZXRUYWJsZUVsZW1lbnQ6ZnVuY3Rpb24oYSl7YT1hfHx7dGQ6MSx0aDoxLHRyOjEsdGJvZHk6MSx0aGVhZDoxLHRmb290OjEsdGFibGU6MX07dmFyIGI9dGhpcy5nZXRUb3VjaGVkU3RhcnROb2RlKCksZD10aGlzLmdldFRvdWNoZWRFbmROb2RlKCksYz1iLmdldEFzY2VuZGFudChcInRhYmxlXCIsITApLGQ9ZC5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLCEwKTtyZXR1cm4gYyYmIXRoaXMucm9vdC5jb250YWlucyhjKT9cbm51bGw6dGhpcy5nZXRFbmNsb3NlZE5vZGUoKT90aGlzLmdldEVuY2xvc2VkTm9kZSgpLmdldEFzY2VuZGFudChhLCEwKTpjJiZkJiYoYy5lcXVhbHMoZCl8fGMuY29udGFpbnMoZCl8fGQuY29udGFpbnMoYykpP2IuZ2V0QXNjZW5kYW50KGEsITApOm51bGx9LHNjcm9sbEludG9WaWV3OmZ1bmN0aW9uKCl7dmFyIGE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKFwiXFx4M2NzcGFuXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlXCIsdGhpcy5kb2N1bWVudCksYixkLGMsZT10aGlzLmNsb25lKCk7ZS5vcHRpbWl6ZSgpOyhjPWUuc3RhcnRDb250YWluZXIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKT8oZD1lLnN0YXJ0Q29udGFpbmVyLmdldFRleHQoKSxiPWUuc3RhcnRDb250YWluZXIuc3BsaXQoZS5zdGFydE9mZnNldCksYS5pbnNlcnRBZnRlcihlLnN0YXJ0Q29udGFpbmVyKSk6ZS5pbnNlcnROb2RlKGEpO2Euc2Nyb2xsSW50b1ZpZXcoKTtjJiYoZS5zdGFydENvbnRhaW5lci5zZXRUZXh0KGQpLFxuYi5yZW1vdmUoKSk7YS5yZW1vdmUoKX0sZ2V0Q2xpZW50UmVjdHM6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsZCl7dmFyIGM9Q0tFRElUT1IudG9vbHMuYXJyYXkubWFwKGIsZnVuY3Rpb24oYSl7cmV0dXJuIGF9KSxnPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoZC5yb290KSxlLGgsaztkLnN0YXJ0Q29udGFpbmVyIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQmJihoPTA9PT1kLnN0YXJ0T2Zmc2V0JiZkLnN0YXJ0Q29udGFpbmVyLmhhc0F0dHJpYnV0ZShcImRhdGEtd2lkZ2V0XCIpKTtkLmVuZENvbnRhaW5lciBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50JiYoaz0oaz1kLmVuZE9mZnNldD09PShkLmVuZENvbnRhaW5lci5nZXRDaGlsZENvdW50P2QuZW5kQ29udGFpbmVyLmdldENoaWxkQ291bnQoKTpkLmVuZENvbnRhaW5lci5sZW5ndGgpKSYmZC5lbmRDb250YWluZXIuaGFzQXR0cmlidXRlKFwiZGF0YS13aWRnZXRcIikpO2gmJmcuc2V0U3RhcnQoZC5zdGFydENvbnRhaW5lci5nZXRQYXJlbnQoKSxcbmQuc3RhcnRDb250YWluZXIuZ2V0SW5kZXgoKSk7ayYmZy5zZXRFbmQoZC5lbmRDb250YWluZXIuZ2V0UGFyZW50KCksZC5lbmRDb250YWluZXIuZ2V0SW5kZXgoKSsxKTtpZihofHxrKWQ9ZztnPWQuY2xvbmVDb250ZW50cygpLmZpbmQoXCJbZGF0YS1ja2Utd2lkZ2V0LWlkXVwiKS50b0FycmF5KCk7aWYoZz1DS0VESVRPUi50b29scy5hcnJheS5tYXAoZyxmdW5jdGlvbihhKXt2YXIgYj1kLnJvb3QuZWRpdG9yO2E9YS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNrZS13aWRnZXQtaWRcIik7cmV0dXJuIGIud2lkZ2V0cy5pbnN0YW5jZXNbYV0uZWxlbWVudH0pKXJldHVybiBnPUNLRURJVE9SLnRvb2xzLmFycmF5Lm1hcChnLGZ1bmN0aW9uKGEpe3ZhciBiO2I9YS5nZXRQYXJlbnQoKS5oYXNDbGFzcyhcImNrZV93aWRnZXRfd3JhcHBlclwiKT9hLmdldFBhcmVudCgpOmE7ZT10aGlzLnJvb3QuZ2V0RG9jdW1lbnQoKS4kLmNyZWF0ZVJhbmdlKCk7ZS5zZXRTdGFydChiLmdldFBhcmVudCgpLiQsYi5nZXRJbmRleCgpKTtcbmUuc2V0RW5kKGIuZ2V0UGFyZW50KCkuJCxiLmdldEluZGV4KCkrMSk7Yj1lLmdldENsaWVudFJlY3RzKCk7Yi53aWRnZXRSZWN0PWEuZ2V0Q2xpZW50UmVjdCgpO3JldHVybiBifSxkKSxDS0VESVRPUi50b29scy5hcnJheS5mb3JFYWNoKGcsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihnKXtDS0VESVRPUi50b29scy5hcnJheS5mb3JFYWNoKGMsZnVuY3Rpb24oYixlKXt2YXIgaD1DS0VESVRPUi50b29scy5vYmplY3RDb21wYXJlKGFbZ10sYik7aHx8KGg9Q0tFRElUT1IudG9vbHMub2JqZWN0Q29tcGFyZShhLndpZGdldFJlY3QsYikpO2gmJihBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoYyxlLGEubGVuZ3RoLWcsYS53aWRnZXRSZWN0KSxkPSEwKX0pO2R8fChnPGMubGVuZ3RoLTE/YihnKzEpOmMucHVzaChhLndpZGdldFJlY3QpKX12YXIgZDtiKDApfSksY31mdW5jdGlvbiBiKGEsZCxnKXt2YXIgZTtkLmNvbGxhcHNlZD9nLnN0YXJ0Q29udGFpbmVyIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQ/XG4oYT1nLmNoZWNrU3RhcnRPZkJsb2NrKCksZT1uZXcgQ0tFRElUT1IuZG9tLnRleHQoXCLigItcIiksYT9nLnN0YXJ0Q29udGFpbmVyLmFwcGVuZChlLCEwKTowPT09Zy5zdGFydE9mZnNldD9lLmluc2VydEJlZm9yZShnLnN0YXJ0Q29udGFpbmVyLmdldEZpcnN0KCkpOihnPWcuc3RhcnRDb250YWluZXIuZ2V0Q2hpbGRyZW4oKS5nZXRJdGVtKGcuc3RhcnRPZmZzZXQtMSksZS5pbnNlcnRBZnRlcihnKSksZC5zZXRTdGFydChlLiQsMCksZC5zZXRFbmQoZS4kLDApLGE9ZC5nZXRDbGllbnRSZWN0cygpLGUucmVtb3ZlKCkpOmcuc3RhcnRDb250YWluZXIgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20udGV4dCYmKFwiXCI9PT1nLnN0YXJ0Q29udGFpbmVyLmdldFRleHQoKT8oZy5zdGFydENvbnRhaW5lci5zZXRUZXh0KFwi4oCLXCIpLGE9ZC5nZXRDbGllbnRSZWN0cygpLGcuc3RhcnRDb250YWluZXIuc2V0VGV4dChcIlwiKSk6YT1bYyhnLmNyZWF0ZUJvb2ttYXJrKCkpXSk6YT1bYyhnLmNyZWF0ZUJvb2ttYXJrKCkpXTtcbnJldHVybiBhfWZ1bmN0aW9uIGQoYSxiLGMpe2E9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGEpO2ImJihhPUNLRURJVE9SLnRvb2xzLmdldEFic29sdXRlUmVjdFBvc2l0aW9uKGMuZG9jdW1lbnQuZ2V0V2luZG93KCksYSkpOyFhLndpZHRoJiYoYS53aWR0aD1hLnJpZ2h0LWEubGVmdCk7IWEuaGVpZ2h0JiYoYS5oZWlnaHQ9YS5ib3R0b20tYS50b3ApO3JldHVybiBhfWZ1bmN0aW9uIGMoYSl7dmFyIGI9YS5zdGFydE5vZGU7YT1hLmVuZE5vZGU7dmFyIGQ7Yi5zZXRUZXh0KFwi4oCLXCIpO2IucmVtb3ZlU3R5bGUoXCJkaXNwbGF5XCIpO2E/KGEuc2V0VGV4dChcIuKAi1wiKSxhLnJlbW92ZVN0eWxlKFwiZGlzcGxheVwiKSxkPVtiLmdldENsaWVudFJlY3QoKSxhLmdldENsaWVudFJlY3QoKV0sYS5yZW1vdmUoKSk6ZD1bYi5nZXRDbGllbnRSZWN0KCksYi5nZXRDbGllbnRSZWN0KCldO2IucmVtb3ZlKCk7cmV0dXJue3JpZ2h0Ok1hdGgubWF4KGRbMF0ucmlnaHQsZFsxXS5yaWdodCksYm90dG9tOk1hdGgubWF4KGRbMF0uYm90dG9tLFxuZFsxXS5ib3R0b20pLGxlZnQ6TWF0aC5taW4oZFswXS5sZWZ0LGRbMV0ubGVmdCksdG9wOk1hdGgubWluKGRbMF0udG9wLGRbMV0udG9wKSx3aWR0aDpNYXRoLmFicyhkWzBdLmxlZnQtZFsxXS5sZWZ0KSxoZWlnaHQ6TWF0aC5tYXgoZFswXS5ib3R0b20sZFsxXS5ib3R0b20pLU1hdGgubWluKGRbMF0udG9wLGRbMV0udG9wKX19cmV0dXJuIHZvaWQgMCE9PWRvY3VtZW50LmdldFNlbGVjdGlvbj9mdW5jdGlvbihjKXt2YXIgZT10aGlzLnJvb3QuZ2V0RG9jdW1lbnQoKS4kLmNyZWF0ZVJhbmdlKCksaDtlLnNldFN0YXJ0KHRoaXMuc3RhcnRDb250YWluZXIuJCx0aGlzLnN0YXJ0T2Zmc2V0KTtlLnNldEVuZCh0aGlzLmVuZENvbnRhaW5lci4kLHRoaXMuZW5kT2Zmc2V0KTtoPWUuZ2V0Q2xpZW50UmVjdHMoKTtoPWEoaCx0aGlzKTtoLmxlbmd0aHx8KGg9YihoLGUsdGhpcykpO3JldHVybiBDS0VESVRPUi50b29scy5hcnJheS5tYXAoaCxmdW5jdGlvbihhKXtyZXR1cm4gZChhLGMsdGhpcyl9LFxudGhpcyl9OmZ1bmN0aW9uKGEpe3JldHVybltkKGModGhpcy5jcmVhdGVCb29rbWFyaygpKSxhLHRoaXMpXX19KCksX3NldFN0YXJ0Q29udGFpbmVyOmZ1bmN0aW9uKGEpe3RoaXMuc3RhcnRDb250YWluZXI9YX0sX3NldEVuZENvbnRhaW5lcjpmdW5jdGlvbihhKXt0aGlzLmVuZENvbnRhaW5lcj1hfSxfZmluZDpmdW5jdGlvbihhLGIpe3ZhciBkPXRoaXMuZ2V0Q29tbW9uQW5jZXN0b3IoKSxjPXRoaXMuZ2V0Qm91bmRhcnlOb2RlcygpLGU9W10saCxrLGYsbDtpZihkJiZkLmZpbmQpZm9yKGs9ZC5maW5kKGEpLGg9MDtoPGsuY291bnQoKTtoKyspaWYoZD1rLmdldEl0ZW0oaCksYnx8IWQuaXNSZWFkT25seSgpKWY9ZC5nZXRQb3NpdGlvbihjLnN0YXJ0Tm9kZSkmQ0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HfHxjLnN0YXJ0Tm9kZS5lcXVhbHMoZCksbD1kLmdldFBvc2l0aW9uKGMuZW5kTm9kZSkmQ0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HK0NLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRHx8XG5jLmVuZE5vZGUuZXF1YWxzKGQpLGYmJmwmJmUucHVzaChkKTtyZXR1cm4gZX19O0NLRURJVE9SLmRvbS5yYW5nZS5tZXJnZVJhbmdlcz1mdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuYXJyYXkucmVkdWNlKGEsZnVuY3Rpb24oYSxiKXt2YXIgZD1hW2EubGVuZ3RoLTFdLGM9ITE7Yj1iLmNsb25lKCk7Yi5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfRUxFTUVOVCk7aWYoZCl7dmFyIGc9bmV3IENLRURJVE9SLmRvbS5yYW5nZShiLnJvb3QpLGM9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZyksZT1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCk7Zy5zZXRTdGFydChkLmVuZENvbnRhaW5lcixkLmVuZE9mZnNldCk7Zy5zZXRFbmQoYi5zdGFydENvbnRhaW5lcixiLnN0YXJ0T2Zmc2V0KTtmb3IoZz1jLm5leHQoKTtlKGcpfHxiLmVuZENvbnRhaW5lci5lcXVhbHMoZyk7KWc9Yy5uZXh0KCk7Yz0hZ31jP2Quc2V0RW5kKGIuZW5kQ29udGFpbmVyLGIuZW5kT2Zmc2V0KTpcbmEucHVzaChiKTtyZXR1cm4gYX0sW10pfX0oKSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVD0xLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQ9MixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQ9MyxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQ9NCxDS0VESVRPUi5FTkxBUkdFX0VMRU1FTlQ9MSxDS0VESVRPUi5FTkxBUkdFX0JMT0NLX0NPTlRFTlRTPTIsQ0tFRElUT1IuRU5MQVJHRV9MSVNUX0lURU1fQ09OVEVOVFM9MyxDS0VESVRPUi5FTkxBUkdFX0lOTElORT00LENLRURJVE9SLlNUQVJUPTEsQ0tFRElUT1IuRU5EPTIsQ0tFRElUT1IuU0hSSU5LX0VMRU1FTlQ9MSxDS0VESVRPUi5TSFJJTktfVEVYVD0yLFwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXsxPmFyZ3VtZW50cy5sZW5ndGh8fCh0aGlzLnJhbmdlPWEsdGhpcy5mb3JjZUJyQnJlYWs9MCx0aGlzLmVubGFyZ2VCcj0xLHRoaXMuZW5mb3JjZVJlYWxCbG9ja3M9MCx0aGlzLl98fFxuKHRoaXMuXz17fSkpfWZ1bmN0aW9uIGYoYSl7dmFyIGI9W107YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKFwidHJ1ZVwiPT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSlyZXR1cm4gYi5wdXNoKGEpLCExfSxDS0VESVRPUi5OT0RFX0VMRU1FTlQsITApO3JldHVybiBifWZ1bmN0aW9uIGUoYSxiLGQsYyl7YTp7bnVsbD09YyYmKGM9ZihkKSk7Zm9yKHZhciBrO2s9Yy5zaGlmdCgpOylpZihrLmdldER0ZCgpLnApe2M9e2VsZW1lbnQ6ayxyZW1haW5pbmc6Y307YnJlYWsgYX1jPW51bGx9aWYoIWMpcmV0dXJuIDA7aWYoKGs9Q0tFRElUT1IuZmlsdGVyLmluc3RhbmNlc1tjLmVsZW1lbnQuZGF0YShcImNrZS1maWx0ZXJcIildKSYmIWsuY2hlY2soYikpcmV0dXJuIGUoYSxiLGQsYy5yZW1haW5pbmcpO2I9bmV3IENLRURJVE9SLmRvbS5yYW5nZShjLmVsZW1lbnQpO2Iuc2VsZWN0Tm9kZUNvbnRlbnRzKGMuZWxlbWVudCk7Yj1iLmNyZWF0ZUl0ZXJhdG9yKCk7Yi5lbmxhcmdlQnI9XG5hLmVubGFyZ2VCcjtiLmVuZm9yY2VSZWFsQmxvY2tzPWEuZW5mb3JjZVJlYWxCbG9ja3M7Yi5hY3RpdmVGaWx0ZXI9Yi5maWx0ZXI9azthLl8ubmVzdGVkRWRpdGFibGU9e2VsZW1lbnQ6Yy5lbGVtZW50LGNvbnRhaW5lcjpkLHJlbWFpbmluZzpjLnJlbWFpbmluZyxpdGVyYXRvcjpifTtyZXR1cm4gMX1mdW5jdGlvbiBiKGEsYixkKXtpZighYilyZXR1cm4hMTthPWEuY2xvbmUoKTthLmNvbGxhcHNlKCFkKTtyZXR1cm4gYS5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGIsZD9DS0VESVRPUi5TVEFSVDpDS0VESVRPUi5FTkQpfXZhciBjPS9eW1xcclxcblxcdCBdKyQvLGs9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyayghMSwhMCksbD1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCEwKSxtPWZ1bmN0aW9uKGEpe3JldHVybiBrKGEpJiZsKGEpfSxkPXtkZDoxLGR0OjEsbGk6MX07YS5wcm90b3R5cGU9e2dldE5leHRQYXJhZ3JhcGg6ZnVuY3Rpb24oYSl7dmFyIGcsZixsLHgscjtcbmE9YXx8XCJwXCI7aWYodGhpcy5fLm5lc3RlZEVkaXRhYmxlKXtpZihnPXRoaXMuXy5uZXN0ZWRFZGl0YWJsZS5pdGVyYXRvci5nZXROZXh0UGFyYWdyYXBoKGEpKXJldHVybiB0aGlzLmFjdGl2ZUZpbHRlcj10aGlzLl8ubmVzdGVkRWRpdGFibGUuaXRlcmF0b3IuYWN0aXZlRmlsdGVyLGc7dGhpcy5hY3RpdmVGaWx0ZXI9dGhpcy5maWx0ZXI7aWYoZSh0aGlzLGEsdGhpcy5fLm5lc3RlZEVkaXRhYmxlLmNvbnRhaW5lcix0aGlzLl8ubmVzdGVkRWRpdGFibGUucmVtYWluaW5nKSlyZXR1cm4gdGhpcy5hY3RpdmVGaWx0ZXI9dGhpcy5fLm5lc3RlZEVkaXRhYmxlLml0ZXJhdG9yLmFjdGl2ZUZpbHRlcix0aGlzLl8ubmVzdGVkRWRpdGFibGUuaXRlcmF0b3IuZ2V0TmV4dFBhcmFncmFwaChhKTt0aGlzLl8ubmVzdGVkRWRpdGFibGU9bnVsbH1pZighdGhpcy5yYW5nZS5yb290LmdldER0ZCgpW2FdKXJldHVybiBudWxsO2lmKCF0aGlzLl8uc3RhcnRlZCl7dmFyIHA9dGhpcy5yYW5nZS5jbG9uZSgpO1xuZj1wLnN0YXJ0UGF0aCgpO3ZhciB1PXAuZW5kUGF0aCgpLHo9IXAuY29sbGFwc2VkJiZiKHAsZi5ibG9jaykscT0hcC5jb2xsYXBzZWQmJmIocCx1LmJsb2NrLDEpO3Auc2hyaW5rKENLRURJVE9SLlNIUklOS19FTEVNRU5ULCEwKTt6JiZwLnNldFN0YXJ0QXQoZi5ibG9jayxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtxJiZwLnNldEVuZEF0KHUuYmxvY2ssQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO2Y9cC5lbmRDb250YWluZXIuaGFzQXNjZW5kYW50KFwicHJlXCIsITApfHxwLnN0YXJ0Q29udGFpbmVyLmhhc0FzY2VuZGFudChcInByZVwiLCEwKTtwLmVubGFyZ2UodGhpcy5mb3JjZUJyQnJlYWsmJiFmfHwhdGhpcy5lbmxhcmdlQnI/Q0tFRElUT1IuRU5MQVJHRV9MSVNUX0lURU1fQ09OVEVOVFM6Q0tFRElUT1IuRU5MQVJHRV9CTE9DS19DT05URU5UUyk7cC5jb2xsYXBzZWR8fChmPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKHAuY2xvbmUoKSksdT1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCEwLFxuITApLGYuZXZhbHVhdG9yPXUsdGhpcy5fLm5leHROb2RlPWYubmV4dCgpLGY9bmV3IENLRURJVE9SLmRvbS53YWxrZXIocC5jbG9uZSgpKSxmLmV2YWx1YXRvcj11LGY9Zi5wcmV2aW91cygpLHRoaXMuXy5sYXN0Tm9kZT1mLmdldE5leHRTb3VyY2VOb2RlKCEwLG51bGwscC5yb290KSx0aGlzLl8ubGFzdE5vZGUmJnRoaXMuXy5sYXN0Tm9kZS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJiFDS0VESVRPUi50b29scy50cmltKHRoaXMuXy5sYXN0Tm9kZS5nZXRUZXh0KCkpJiZ0aGlzLl8ubGFzdE5vZGUuZ2V0UGFyZW50KCkuaXNCbG9ja0JvdW5kYXJ5KCkmJih1PXRoaXMucmFuZ2UuY2xvbmUoKSx1Lm1vdmVUb1Bvc2l0aW9uKHRoaXMuXy5sYXN0Tm9kZSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpLHUuY2hlY2tFbmRPZkJsb2NrKCkmJih1PW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodS5lbmRDb250YWluZXIsdS5yb290KSx0aGlzLl8ubGFzdE5vZGU9KHUuYmxvY2t8fFxudS5ibG9ja0xpbWl0KS5nZXROZXh0U291cmNlTm9kZSghMCkpKSx0aGlzLl8ubGFzdE5vZGUmJnAucm9vdC5jb250YWlucyh0aGlzLl8ubGFzdE5vZGUpfHwodGhpcy5fLmxhc3ROb2RlPXRoaXMuXy5kb2NFbmRNYXJrZXI9cC5kb2N1bWVudC5jcmVhdGVUZXh0KFwiXCIpLHRoaXMuXy5sYXN0Tm9kZS5pbnNlcnRBZnRlcihmKSkscD1udWxsKTt0aGlzLl8uc3RhcnRlZD0xO2Y9cH11PXRoaXMuXy5uZXh0Tm9kZTtwPXRoaXMuXy5sYXN0Tm9kZTtmb3IodGhpcy5fLm5leHROb2RlPW51bGw7dTspe3ZhciB6PTAscT11Lmhhc0FzY2VuZGFudChcInByZVwiKSxBPXUudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5ULHk9MDtpZihBKXUudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZjLnRlc3QodS5nZXRUZXh0KCkpJiYoQT0wKTtlbHNle3ZhciB0PXUuZ2V0TmFtZSgpO2lmKENLRURJVE9SLmR0ZC4kYmxvY2tbdF0mJlwiZmFsc2VcIj09dS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpe2c9XG51O2UodGhpcyxhLGcpO2JyZWFrfWVsc2UgaWYodS5pc0Jsb2NrQm91bmRhcnkodGhpcy5mb3JjZUJyQnJlYWsmJiFxJiZ7YnI6MX0pKXtpZihcImJyXCI9PXQpQT0xO2Vsc2UgaWYoIWYmJiF1LmdldENoaWxkQ291bnQoKSYmXCJoclwiIT10KXtnPXU7bD11LmVxdWFscyhwKTticmVha31mJiYoZi5zZXRFbmRBdCh1LENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksXCJiclwiIT10JiYodGhpcy5fLm5leHROb2RlPXUpKTt6PTF9ZWxzZXtpZih1LmdldEZpcnN0KCkpe2Z8fChmPXRoaXMucmFuZ2UuY2xvbmUoKSxmLnNldFN0YXJ0QXQodSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpKTt1PXUuZ2V0Rmlyc3QoKTtjb250aW51ZX1BPTF9fUEmJiFmJiYoZj10aGlzLnJhbmdlLmNsb25lKCksZi5zZXRTdGFydEF0KHUsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSk7bD0oIXp8fEEpJiZ1LmVxdWFscyhwKTtpZihmJiYheilmb3IoOyF1LmdldE5leHQobSkmJiFsOyl7dD1cbnUuZ2V0UGFyZW50KCk7aWYodC5pc0Jsb2NrQm91bmRhcnkodGhpcy5mb3JjZUJyQnJlYWsmJiFxJiZ7YnI6MX0pKXt6PTE7QT0wO2x8fHQuZXF1YWxzKHApO2Yuc2V0RW5kQXQodCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTticmVha311PXQ7QT0xO2w9dS5lcXVhbHMocCk7eT0xfUEmJmYuc2V0RW5kQXQodSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpO3U9dGhpcy5fZ2V0TmV4dFNvdXJjZU5vZGUodSx5LHApO2lmKChsPSF1KXx8eiYmZilicmVha31pZighZyl7aWYoIWYpcmV0dXJuIHRoaXMuXy5kb2NFbmRNYXJrZXImJnRoaXMuXy5kb2NFbmRNYXJrZXIucmVtb3ZlKCksdGhpcy5fLm5leHROb2RlPW51bGw7Zz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGYuc3RhcnRDb250YWluZXIsZi5yb290KTt1PWcuYmxvY2tMaW1pdDt6PXtkaXY6MSx0aDoxLHRkOjF9O2c9Zy5ibG9jazshZyYmdSYmIXRoaXMuZW5mb3JjZVJlYWxCbG9ja3MmJnpbdS5nZXROYW1lKCldJiZcbmYuY2hlY2tTdGFydE9mQmxvY2soKSYmZi5jaGVja0VuZE9mQmxvY2soKSYmIXUuZXF1YWxzKGYucm9vdCk/Zz11OiFnfHx0aGlzLmVuZm9yY2VSZWFsQmxvY2tzJiZnLmlzKGQpPyhnPXRoaXMucmFuZ2UuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKSxmLmV4dHJhY3RDb250ZW50cygpLmFwcGVuZFRvKGcpLGcudHJpbSgpLGYuaW5zZXJ0Tm9kZShnKSx4PXI9ITApOlwibGlcIiE9Zy5nZXROYW1lKCk/Zi5jaGVja1N0YXJ0T2ZCbG9jaygpJiZmLmNoZWNrRW5kT2ZCbG9jaygpfHwoZz1nLmNsb25lKCExKSxmLmV4dHJhY3RDb250ZW50cygpLmFwcGVuZFRvKGcpLGcudHJpbSgpLHI9Zi5zcGxpdEJsb2NrKCkseD0hci53YXNTdGFydE9mQmxvY2sscj0hci53YXNFbmRPZkJsb2NrLGYuaW5zZXJ0Tm9kZShnKSk6bHx8KHRoaXMuXy5uZXh0Tm9kZT1nLmVxdWFscyhwKT9udWxsOnRoaXMuX2dldE5leHRTb3VyY2VOb2RlKGYuZ2V0Qm91bmRhcnlOb2RlcygpLmVuZE5vZGUsMSxwKSl9eCYmKHg9XG5nLmdldFByZXZpb3VzKCkpJiZ4LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKFwiYnJcIj09eC5nZXROYW1lKCk/eC5yZW1vdmUoKTp4LmdldExhc3QoKSYmXCJiclwiPT14LmdldExhc3QoKS4kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJnguZ2V0TGFzdCgpLnJlbW92ZSgpKTtyJiYoeD1nLmdldExhc3QoKSkmJngudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcImJyXCI9PXguZ2V0TmFtZSgpJiYoIUNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyfHx4LmdldFByZXZpb3VzKGspfHx4LmdldE5leHQoaykpJiZ4LnJlbW92ZSgpO3RoaXMuXy5uZXh0Tm9kZXx8KHRoaXMuXy5uZXh0Tm9kZT1sfHxnLmVxdWFscyhwKXx8IXA/bnVsbDp0aGlzLl9nZXROZXh0U291cmNlTm9kZShnLDEscCkpO3JldHVybiBnfSxfZ2V0TmV4dFNvdXJjZU5vZGU6ZnVuY3Rpb24oYSxiLGQpe2Z1bmN0aW9uIGMoYSl7cmV0dXJuIShhLmVxdWFscyhkKXx8YS5lcXVhbHMoZSkpfXZhciBlPXRoaXMucmFuZ2Uucm9vdDtcbmZvcihhPWEuZ2V0TmV4dFNvdXJjZU5vZGUoYixudWxsLGMpOyFrKGEpOylhPWEuZ2V0TmV4dFNvdXJjZU5vZGUoYixudWxsLGMpO3JldHVybiBhfX07Q0tFRElUT1IuZG9tLnJhbmdlLnByb3RvdHlwZS5jcmVhdGVJdGVyYXRvcj1mdW5jdGlvbigpe3JldHVybiBuZXcgYSh0aGlzKX19KCksQ0tFRElUT1IuY29tbWFuZD1mdW5jdGlvbihhLGYpe3RoaXMudWlJdGVtcz1bXTt0aGlzLmV4ZWM9ZnVuY3Rpb24oYil7aWYodGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUR8fCF0aGlzLmNoZWNrQWxsb3dlZCgpKXJldHVybiExO3RoaXMuZWRpdG9yRm9jdXMmJmEuZm9jdXMoKTtyZXR1cm4hMT09PXRoaXMuZmlyZShcImV4ZWNcIik/ITA6ITEhPT1mLmV4ZWMuY2FsbCh0aGlzLGEsYil9O3RoaXMucmVmcmVzaD1mdW5jdGlvbihhLGMpe2lmKCF0aGlzLnJlYWRPbmx5JiZhLnJlYWRPbmx5KXJldHVybiEwO2lmKHRoaXMuY29udGV4dCYmIWMuaXNDb250ZXh0Rm9yKHRoaXMuY29udGV4dCl8fFxuIXRoaXMuY2hlY2tBbGxvd2VkKCEwKSlyZXR1cm4gdGhpcy5kaXNhYmxlKCksITA7dGhpcy5zdGFydERpc2FibGVkfHx0aGlzLmVuYWJsZSgpO3RoaXMubW9kZXMmJiF0aGlzLm1vZGVzW2EubW9kZV0mJnRoaXMuZGlzYWJsZSgpO3JldHVybiExPT09dGhpcy5maXJlKFwicmVmcmVzaFwiLHtlZGl0b3I6YSxwYXRoOmN9KT8hMDpmLnJlZnJlc2gmJiExIT09Zi5yZWZyZXNoLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIGU7dGhpcy5jaGVja0FsbG93ZWQ9ZnVuY3Rpb24oYil7cmV0dXJuIGJ8fFwiYm9vbGVhblwiIT10eXBlb2YgZT9lPWEuYWN0aXZlRmlsdGVyLmNoZWNrRmVhdHVyZSh0aGlzKTplfTtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxmLHttb2Rlczp7d3lzaXd5ZzoxfSxlZGl0b3JGb2N1czoxLGNvbnRleHRTZW5zaXRpdmU6ISFmLmNvbnRleHQsc3RhdGU6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUR9KTtDS0VESVRPUi5ldmVudC5jYWxsKHRoaXMpfSxDS0VESVRPUi5jb21tYW5kLnByb3RvdHlwZT1cbntlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmdGhpcy5jaGVja0FsbG93ZWQoKSYmdGhpcy5zZXRTdGF0ZSh0aGlzLnByZXNlcnZlU3RhdGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLnByZXZpb3VzU3RhdGU/dGhpcy5wcmV2aW91c1N0YXRlOkNLRURJVE9SLlRSSVNUQVRFX09GRil9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX0sc2V0U3RhdGU6ZnVuY3Rpb24oYSl7aWYodGhpcy5zdGF0ZT09YXx8YSE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJiF0aGlzLmNoZWNrQWxsb3dlZCgpKXJldHVybiExO3RoaXMucHJldmlvdXNTdGF0ZT10aGlzLnN0YXRlO3RoaXMuc3RhdGU9YTt0aGlzLmZpcmUoXCJzdGF0ZVwiKTtyZXR1cm4hMH0sdG9nZ2xlU3RhdGU6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PRkY/dGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PTik6XG50aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PTiYmdGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PRkYpfX0sQ0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oQ0tFRElUT1IuY29tbWFuZC5wcm90b3R5cGUpLENLRURJVE9SLkVOVEVSX1A9MSxDS0VESVRPUi5FTlRFUl9CUj0yLENLRURJVE9SLkVOVEVSX0RJVj0zLENLRURJVE9SLmNvbmZpZz17Y3VzdG9tQ29uZmlnOlwiY29uZmlnLmpzXCIsYXV0b1VwZGF0ZUVsZW1lbnQ6ITAsbGFuZ3VhZ2U6XCJcIixkZWZhdWx0TGFuZ3VhZ2U6XCJlblwiLGNvbnRlbnRzTGFuZ0RpcmVjdGlvbjpcIlwiLGVudGVyTW9kZTpDS0VESVRPUi5FTlRFUl9QLGZvcmNlRW50ZXJNb2RlOiExLHNoaWZ0RW50ZXJNb2RlOkNLRURJVE9SLkVOVEVSX0JSLGRvY1R5cGU6XCJcXHgzYyFET0NUWVBFIGh0bWxcXHgzZVwiLGJvZHlJZDpcIlwiLGJvZHlDbGFzczpcIlwiLGZ1bGxQYWdlOiExLGhlaWdodDoyMDAsY29udGVudHNDc3M6Q0tFRElUT1IuZ2V0VXJsKFwiY29udGVudHMuY3NzXCIpLFxuZXh0cmFQbHVnaW5zOlwiXCIscmVtb3ZlUGx1Z2luczpcIlwiLHByb3RlY3RlZFNvdXJjZTpbXSx0YWJJbmRleDowLHVzZUNvbXB1dGVkU3RhdGU6ITAsd2lkdGg6XCJcIixiYXNlRmxvYXRaSW5kZXg6MUU0LGJsb2NrZWRLZXlzdHJva2VzOltDS0VESVRPUi5DVFJMKzY2LENLRURJVE9SLkNUUkwrNzMsQ0tFRElUT1IuQ1RSTCs4NV19LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIsZCxjLGcpe3ZhciBlLGg7YT1bXTtmb3IoZSBpbiBiKXtoPWJbZV07aD1cImJvb2xlYW5cIj09dHlwZW9mIGg/e306XCJmdW5jdGlvblwiPT10eXBlb2YgaD97bWF0Y2g6aH06SihoKTtcIiRcIiE9ZS5jaGFyQXQoMCkmJihoLmVsZW1lbnRzPWUpO2QmJihoLmZlYXR1cmVOYW1lPWQudG9Mb3dlckNhc2UoKSk7dmFyIGs9aDtrLmVsZW1lbnRzPWwoay5lbGVtZW50cywvXFxzKy8pfHxudWxsO2sucHJvcGVydGllc09ubHk9ay5wcm9wZXJ0aWVzT25seXx8ITA9PT1rLmVsZW1lbnRzO3ZhciBmPS9cXHMqLFxccyovLG49dm9pZCAwO2ZvcihuIGluIE0pe2tbbl09XG5sKGtbbl0sZil8fG51bGw7dmFyIG09ayxOPUhbbl0sdT1sKGtbSFtuXV0sZiksTD1rW25dLHY9W10sST0hMCxxPXZvaWQgMDt1P0k9ITE6dT17fTtmb3IocSBpbiBMKVwiIVwiPT1xLmNoYXJBdCgwKSYmKHE9cS5zbGljZSgxKSx2LnB1c2gocSksdVtxXT0hMCxJPSExKTtmb3IoO3E9di5wb3AoKTspTFtxXT1MW1wiIVwiK3FdLGRlbGV0ZSBMW1wiIVwiK3FdO21bTl09KEk/ITE6dSl8fG51bGx9ay5tYXRjaD1rLm1hdGNofHxudWxsO2MucHVzaChoKTthLnB1c2goaCl9Yj1nLmVsZW1lbnRzO2c9Zy5nZW5lcmljO3ZhciB3O2Q9MDtmb3IoYz1hLmxlbmd0aDtkPGM7KytkKXtlPUooYVtkXSk7aD0hMD09PWUuY2xhc3Nlc3x8ITA9PT1lLnN0eWxlc3x8ITA9PT1lLmF0dHJpYnV0ZXM7az1lO249Tj1mPXZvaWQgMDtmb3IoZiBpbiBNKWtbZl09eihrW2ZdKTttPSEwO2ZvcihuIGluIEgpe2Y9SFtuXTtOPWtbZl07dT1bXTtMPXZvaWQgMDtmb3IoTCBpbiBOKS0xPEwuaW5kZXhPZihcIipcIik/dS5wdXNoKG5ldyBSZWdFeHAoXCJeXCIrXG5MLnJlcGxhY2UoL1xcKi9nLFwiLipcIikrXCIkXCIpKTp1LnB1c2goTCk7Tj11O04ubGVuZ3RoJiYoa1tmXT1OLG09ITEpfWsubm90aGluZ1JlcXVpcmVkPW07ay5ub1Byb3BlcnRpZXM9IShrLmF0dHJpYnV0ZXN8fGsuY2xhc3Nlc3x8ay5zdHlsZXMpO2lmKCEwPT09ZS5lbGVtZW50c3x8bnVsbD09PWUuZWxlbWVudHMpZ1toP1widW5zaGlmdFwiOlwicHVzaFwiXShlKTtlbHNlIGZvcih3IGluIGs9ZS5lbGVtZW50cyxkZWxldGUgZS5lbGVtZW50cyxrKWlmKGJbd10pYlt3XVtoP1widW5zaGlmdFwiOlwicHVzaFwiXShlKTtlbHNlIGJbd109W2VdfX1mdW5jdGlvbiBmKGEsYixkLGMpe2lmKCFhLm1hdGNofHxhLm1hdGNoKGIpKWlmKGN8fG0oYSxiKSlpZihhLnByb3BlcnRpZXNPbmx5fHwoZC52YWxpZD0hMCksZC5hbGxBdHRyaWJ1dGVzfHwoZC5hbGxBdHRyaWJ1dGVzPWUoYS5hdHRyaWJ1dGVzLGIuYXR0cmlidXRlcyxkLnZhbGlkQXR0cmlidXRlcykpLGQuYWxsU3R5bGVzfHwoZC5hbGxTdHlsZXM9ZShhLnN0eWxlcyxcbmIuc3R5bGVzLGQudmFsaWRTdHlsZXMpKSwhZC5hbGxDbGFzc2VzKXthPWEuY2xhc3NlcztiPWIuY2xhc3NlcztjPWQudmFsaWRDbGFzc2VzO2lmKGEpaWYoITA9PT1hKWE9ITA7ZWxzZXtmb3IodmFyIGc9MCxoPWIubGVuZ3RoLGs7ZzxoOysrZylrPWJbZ10sY1trXXx8KGNba109YShrKSk7YT0hMX1lbHNlIGE9ITE7ZC5hbGxDbGFzc2VzPWF9fWZ1bmN0aW9uIGUoYSxiLGQpe2lmKCFhKXJldHVybiExO2lmKCEwPT09YSlyZXR1cm4hMDtmb3IodmFyIGMgaW4gYilkW2NdfHwoZFtjXT1hKGMpKTtyZXR1cm4hMX1mdW5jdGlvbiBiKGEsYixkKXtpZighYS5tYXRjaHx8YS5tYXRjaChiKSl7aWYoYS5ub1Byb3BlcnRpZXMpcmV0dXJuITE7ZC5oYWRJbnZhbGlkQXR0cmlidXRlPWMoYS5hdHRyaWJ1dGVzLGIuYXR0cmlidXRlcyl8fGQuaGFkSW52YWxpZEF0dHJpYnV0ZTtkLmhhZEludmFsaWRTdHlsZT1jKGEuc3R5bGVzLGIuc3R5bGVzKXx8ZC5oYWRJbnZhbGlkU3R5bGU7YT1hLmNsYXNzZXM7XG5iPWIuY2xhc3NlcztpZihhKXtmb3IodmFyIGc9ITEsZT0hMD09PWEsaD1iLmxlbmd0aDtoLS07KWlmKGV8fGEoYltoXSkpYi5zcGxpY2UoaCwxKSxnPSEwO2E9Z31lbHNlIGE9ITE7ZC5oYWRJbnZhbGlkQ2xhc3M9YXx8ZC5oYWRJbnZhbGlkQ2xhc3N9fWZ1bmN0aW9uIGMoYSxiKXtpZighYSlyZXR1cm4hMTt2YXIgZD0hMSxjPSEwPT09YSxnO2ZvcihnIGluIGIpaWYoY3x8YShnKSlkZWxldGUgYltnXSxkPSEwO3JldHVybiBkfWZ1bmN0aW9uIGsoYSxiLGQpe2lmKGEuZGlzYWJsZWR8fGEuY3VzdG9tQ29uZmlnJiYhZHx8IWIpcmV0dXJuITE7YS5fLmNhY2hlZENoZWNrcz17fTtyZXR1cm4hMH1mdW5jdGlvbiBsKGEsYil7aWYoIWEpcmV0dXJuITE7aWYoITA9PT1hKXJldHVybiBhO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhKXJldHVybiBhPUsoYSksXCIqXCI9PWE/ITA6Q0tFRElUT1IudG9vbHMuY29udmVydEFycmF5VG9PYmplY3QoYS5zcGxpdChiKSk7aWYoQ0tFRElUT1IudG9vbHMuaXNBcnJheShhKSlyZXR1cm4gYS5sZW5ndGg/XG5DS0VESVRPUi50b29scy5jb252ZXJ0QXJyYXlUb09iamVjdChhKTohMTt2YXIgZD17fSxjPTAsZztmb3IoZyBpbiBhKWRbZ109YVtnXSxjKys7cmV0dXJuIGM/ZDohMX1mdW5jdGlvbiBtKGEsYil7aWYoYS5ub3RoaW5nUmVxdWlyZWQpcmV0dXJuITA7dmFyIGMsZyxlLGg7aWYoZT1hLnJlcXVpcmVkQ2xhc3Nlcylmb3IoaD1iLmNsYXNzZXMsYz0wO2M8ZS5sZW5ndGg7KytjKWlmKGc9ZVtjXSxcInN0cmluZ1wiPT10eXBlb2YgZyl7aWYoLTE9PUNLRURJVE9SLnRvb2xzLmluZGV4T2YoaCxnKSlyZXR1cm4hMX1lbHNlIGlmKCFDS0VESVRPUi50b29scy5jaGVja0lmQW55QXJyYXlJdGVtTWF0Y2hlcyhoLGcpKXJldHVybiExO3JldHVybiBkKGIuc3R5bGVzLGEucmVxdWlyZWRTdHlsZXMpJiZkKGIuYXR0cmlidXRlcyxhLnJlcXVpcmVkQXR0cmlidXRlcyl9ZnVuY3Rpb24gZChhLGIpe2lmKCFiKXJldHVybiEwO2Zvcih2YXIgZD0wLGM7ZDxiLmxlbmd0aDsrK2QpaWYoYz1iW2RdLFwic3RyaW5nXCI9PVxudHlwZW9mIGMpe2lmKCEoYyBpbiBhKSlyZXR1cm4hMX1lbHNlIGlmKCFDS0VESVRPUi50b29scy5jaGVja0lmQW55T2JqZWN0UHJvcGVydHlNYXRjaGVzKGEsYykpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gaChhKXtpZighYSlyZXR1cm57fTthPWEuc3BsaXQoL1xccyosXFxzKi8pLnNvcnQoKTtmb3IodmFyIGI9e307YS5sZW5ndGg7KWJbYS5zaGlmdCgpXT1cImNrZS10ZXN0XCI7cmV0dXJuIGJ9ZnVuY3Rpb24gZyhhKXt2YXIgYixkLGMsZyxlPXt9LGg9MTtmb3IoYT1LKGEpO2I9YS5tYXRjaChFKTspKGQ9YlsyXSk/KGM9bihkLFwic3R5bGVzXCIpLGc9bihkLFwiYXR0cnNcIiksZD1uKGQsXCJjbGFzc2VzXCIpKTpjPWc9ZD1udWxsLGVbXCIkXCIraCsrXT17ZWxlbWVudHM6YlsxXSxjbGFzc2VzOmQsc3R5bGVzOmMsYXR0cmlidXRlczpnfSxhPWEuc2xpY2UoYlswXS5sZW5ndGgpO3JldHVybiBlfWZ1bmN0aW9uIG4oYSxiKXt2YXIgZD1hLm1hdGNoKFBbYl0pO3JldHVybiBkP0soZFsxXSk6bnVsbH1cbmZ1bmN0aW9uIHcoYSl7dmFyIGI9YS5zdHlsZUJhY2t1cD1hLmF0dHJpYnV0ZXMuc3R5bGUsZD1hLmNsYXNzQmFja3VwPWEuYXR0cmlidXRlc1tcImNsYXNzXCJdO2Euc3R5bGVzfHwoYS5zdHlsZXM9Q0tFRElUT1IudG9vbHMucGFyc2VDc3NUZXh0KGJ8fFwiXCIsMSkpO2EuY2xhc3Nlc3x8KGEuY2xhc3Nlcz1kP2Quc3BsaXQoL1xccysvKTpbXSl9ZnVuY3Rpb24geChhLGQsYyxnKXt2YXIgZT0wLGg7Zy50b0h0bWwmJihkLm5hbWU9ZC5uYW1lLnJlcGxhY2UoTCxcIiQxXCIpKTtpZihnLmRvQ2FsbGJhY2tzJiZhLmVsZW1lbnRDYWxsYmFja3Mpe2E6e2g9YS5lbGVtZW50Q2FsbGJhY2tzO2Zvcih2YXIgaz0wLGw9aC5sZW5ndGgsbjtrPGw7KytrKWlmKG49aFtrXShkKSl7aD1uO2JyZWFrIGF9aD12b2lkIDB9aWYoaClyZXR1cm4gaH1pZihnLmRvVHJhbnNmb3JtJiYoaD1hLl8udHJhbnNmb3JtYXRpb25zW2QubmFtZV0pKXt3KGQpO2ZvcihrPTA7azxoLmxlbmd0aDsrK2spdChhLGQsaFtrXSk7cChkKX1pZihnLmRvRmlsdGVyKXthOntrPVxuZC5uYW1lO2w9YS5fO2E9bC5hbGxvd2VkUnVsZXMuZWxlbWVudHNba107aD1sLmFsbG93ZWRSdWxlcy5nZW5lcmljO2s9bC5kaXNhbGxvd2VkUnVsZXMuZWxlbWVudHNba107bD1sLmRpc2FsbG93ZWRSdWxlcy5nZW5lcmljO249Zy5za2lwUmVxdWlyZWQ7dmFyIG09e3ZhbGlkOiExLHZhbGlkQXR0cmlidXRlczp7fSx2YWxpZENsYXNzZXM6e30sdmFsaWRTdHlsZXM6e30sYWxsQXR0cmlidXRlczohMSxhbGxDbGFzc2VzOiExLGFsbFN0eWxlczohMSxoYWRJbnZhbGlkQXR0cmlidXRlOiExLGhhZEludmFsaWRDbGFzczohMSxoYWRJbnZhbGlkU3R5bGU6ITF9LHYscTtpZihhfHxoKXt3KGQpO2lmKGspZm9yKHY9MCxxPWsubGVuZ3RoO3Y8cTsrK3YpaWYoITE9PT1iKGtbdl0sZCxtKSl7YT1udWxsO2JyZWFrIGF9aWYobClmb3Iodj0wLHE9bC5sZW5ndGg7djxxOysrdiliKGxbdl0sZCxtKTtpZihhKWZvcih2PTAscT1hLmxlbmd0aDt2PHE7Kyt2KWYoYVt2XSxkLG0sbik7aWYoaClmb3Iodj1cbjAscT1oLmxlbmd0aDt2PHE7Kyt2KWYoaFt2XSxkLG0sbik7YT1tfWVsc2UgYT1udWxsfWlmKCFhfHwhYS52YWxpZClyZXR1cm4gYy5wdXNoKGQpLDE7cT1hLnZhbGlkQXR0cmlidXRlczt2YXIgRj1hLnZhbGlkU3R5bGVzO2g9YS52YWxpZENsYXNzZXM7dmFyIGs9ZC5hdHRyaWJ1dGVzLHo9ZC5zdHlsZXMsbD1kLmNsYXNzZXM7bj1kLmNsYXNzQmFja3VwO3ZhciBEPWQuc3R5bGVCYWNrdXAsSSxKLEs9W10sbT1bXSxDPS9eZGF0YS1ja2UtLzt2PSExO2RlbGV0ZSBrLnN0eWxlO2RlbGV0ZSBrW1wiY2xhc3NcIl07ZGVsZXRlIGQuY2xhc3NCYWNrdXA7ZGVsZXRlIGQuc3R5bGVCYWNrdXA7aWYoIWEuYWxsQXR0cmlidXRlcylmb3IoSSBpbiBrKXFbSV18fChDLnRlc3QoSSk/ST09KEo9SS5yZXBsYWNlKC9eZGF0YS1ja2Utc2F2ZWQtLyxcIlwiKSl8fHFbSl18fChkZWxldGUga1tJXSx2PSEwKTooZGVsZXRlIGtbSV0sdj0hMCkpO2lmKCFhLmFsbFN0eWxlc3x8YS5oYWRJbnZhbGlkU3R5bGUpe2ZvcihJIGluIHopYS5hbGxTdHlsZXN8fFxuRltJXT9LLnB1c2goSStcIjpcIit6W0ldKTp2PSEwO0subGVuZ3RoJiYoay5zdHlsZT1LLnNvcnQoKS5qb2luKFwiOyBcIikpfWVsc2UgRCYmKGsuc3R5bGU9RCk7aWYoIWEuYWxsQ2xhc3Nlc3x8YS5oYWRJbnZhbGlkQ2xhc3Mpe2ZvcihJPTA7STxsLmxlbmd0aDsrK0kpKGEuYWxsQ2xhc3Nlc3x8aFtsW0ldXSkmJm0ucHVzaChsW0ldKTttLmxlbmd0aCYmKGtbXCJjbGFzc1wiXT1tLnNvcnQoKS5qb2luKFwiIFwiKSk7biYmbS5sZW5ndGg8bi5zcGxpdCgvXFxzKy8pLmxlbmd0aCYmKHY9ITApfWVsc2UgbiYmKGtbXCJjbGFzc1wiXT1uKTt2JiYoZT0xKTtpZighZy5za2lwRmluYWxWYWxpZGF0aW9uJiYhdShkKSlyZXR1cm4gYy5wdXNoKGQpLDF9Zy50b0h0bWwmJihkLm5hbWU9ZC5uYW1lLnJlcGxhY2UoTixcImNrZTokMVwiKSk7cmV0dXJuIGV9ZnVuY3Rpb24gcihhKXt2YXIgYj1bXSxkO2ZvcihkIGluIGEpLTE8ZC5pbmRleE9mKFwiKlwiKSYmYi5wdXNoKGQucmVwbGFjZSgvXFwqL2csXCIuKlwiKSk7cmV0dXJuIGIubGVuZ3RoP1xubmV3IFJlZ0V4cChcIl4oPzpcIitiLmpvaW4oXCJ8XCIpK1wiKSRcIik6bnVsbH1mdW5jdGlvbiBwKGEpe3ZhciBiPWEuYXR0cmlidXRlcyxkO2RlbGV0ZSBiLnN0eWxlO2RlbGV0ZSBiW1wiY2xhc3NcIl07aWYoZD1DS0VESVRPUi50b29scy53cml0ZUNzc1RleHQoYS5zdHlsZXMsITApKWIuc3R5bGU9ZDthLmNsYXNzZXMubGVuZ3RoJiYoYltcImNsYXNzXCJdPWEuY2xhc3Nlcy5zb3J0KCkuam9pbihcIiBcIikpfWZ1bmN0aW9uIHUoYSl7c3dpdGNoKGEubmFtZSl7Y2FzZSBcImFcIjppZighKGEuY2hpbGRyZW4ubGVuZ3RofHxhLmF0dHJpYnV0ZXMubmFtZXx8YS5hdHRyaWJ1dGVzLmlkKSlyZXR1cm4hMTticmVhaztjYXNlIFwiaW1nXCI6aWYoIWEuYXR0cmlidXRlcy5zcmMpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24geihhKXtpZighYSlyZXR1cm4hMTtpZighMD09PWEpcmV0dXJuITA7dmFyIGI9cihhKTtyZXR1cm4gZnVuY3Rpb24oZCl7cmV0dXJuIGQgaW4gYXx8YiYmZC5tYXRjaChiKX19ZnVuY3Rpb24gcSgpe3JldHVybiBuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KFwiYnJcIil9XG5mdW5jdGlvbiBBKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKFwiYnJcIj09YS5uYW1lfHxGLiRibG9ja1thLm5hbWVdKX1mdW5jdGlvbiB5KGEsYixkKXt2YXIgYz1hLm5hbWU7aWYoRi4kZW1wdHlbY118fCFhLmNoaWxkcmVuLmxlbmd0aClcImhyXCI9PWMmJlwiYnJcIj09Yj9hLnJlcGxhY2VXaXRoKHEoKSk6KGEucGFyZW50JiZkLnB1c2goe2NoZWNrOlwiaXRcIixlbDphLnBhcmVudH0pLGEucmVtb3ZlKCkpO2Vsc2UgaWYoRi4kYmxvY2tbY118fFwidHJcIj09YylpZihcImJyXCI9PWIpYS5wcmV2aW91cyYmIUEoYS5wcmV2aW91cykmJihiPXEoKSxiLmluc2VydEJlZm9yZShhKSksYS5uZXh0JiYhQShhLm5leHQpJiYoYj1xKCksYi5pbnNlcnRBZnRlcihhKSksYS5yZXBsYWNlV2l0aENoaWxkcmVuKCk7ZWxzZXt2YXIgYz1hLmNoaWxkcmVuLGc7Yjp7Zz1GW2JdO2Zvcih2YXIgZT0wLGg9Yy5sZW5ndGgsaztlPGg7KytlKWlmKGs9Y1tlXSxrLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXG4hZ1trLm5hbWVdKXtnPSExO2JyZWFrIGJ9Zz0hMH1pZihnKWEubmFtZT1iLGEuYXR0cmlidXRlcz17fSxkLnB1c2goe2NoZWNrOlwicGFyZW50LWRvd25cIixlbDphfSk7ZWxzZXtnPWEucGFyZW50O2Zvcih2YXIgZT1nLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlR8fFwiYm9keVwiPT1nLm5hbWUsZixsLGg9Yy5sZW5ndGg7MDxoOylrPWNbLS1oXSxlJiYoay50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFR8fGsudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZGLiRpbmxpbmVbay5uYW1lXSk/KGZ8fChmPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoYiksZi5pbnNlcnRBZnRlcihhKSxkLnB1c2goe2NoZWNrOlwicGFyZW50LWRvd25cIixlbDpmfSkpLGYuYWRkKGssMCkpOihmPW51bGwsbD1GW2cubmFtZV18fEYuc3BhbixrLmluc2VydEFmdGVyKGEpLGcudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVHx8ay50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fFxubFtrLm5hbWVdfHxkLnB1c2goe2NoZWNrOlwiZWwtdXBcIixlbDprfSkpO2EucmVtb3ZlKCl9fWVsc2UgYyBpbntzdHlsZToxLHNjcmlwdDoxfT9hLnJlbW92ZSgpOihhLnBhcmVudCYmZC5wdXNoKHtjaGVjazpcIml0XCIsZWw6YS5wYXJlbnR9KSxhLnJlcGxhY2VXaXRoQ2hpbGRyZW4oKSl9ZnVuY3Rpb24gdChhLGIsZCl7dmFyIGMsZztmb3IoYz0wO2M8ZC5sZW5ndGg7KytjKWlmKGc9ZFtjXSwhKGcuY2hlY2smJiFhLmNoZWNrKGcuY2hlY2ssITEpfHxnLmxlZnQmJiFnLmxlZnQoYikpKXtnLnJpZ2h0KGIsTyk7YnJlYWt9fWZ1bmN0aW9uIHYoYSxiKXt2YXIgZD1iLmdldERlZmluaXRpb24oKSxjPWQuYXR0cmlidXRlcyxnPWQuc3R5bGVzLGUsaCxrLGY7aWYoYS5uYW1lIT1kLmVsZW1lbnQpcmV0dXJuITE7Zm9yKGUgaW4gYylpZihcImNsYXNzXCI9PWUpZm9yKGQ9Y1tlXS5zcGxpdCgvXFxzKy8pLGs9YS5jbGFzc2VzLmpvaW4oXCJ8XCIpO2Y9ZC5wb3AoKTspe2lmKC0xPT1rLmluZGV4T2YoZikpcmV0dXJuITF9ZWxzZSBpZihhLmF0dHJpYnV0ZXNbZV0hPVxuY1tlXSlyZXR1cm4hMTtmb3IoaCBpbiBnKWlmKGEuc3R5bGVzW2hdIT1nW2hdKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIEIoYSxiKXt2YXIgZCxjO1wic3RyaW5nXCI9PXR5cGVvZiBhP2Q9YTphIGluc3RhbmNlb2YgQ0tFRElUT1Iuc3R5bGU/Yz1hOihkPWFbMF0sYz1hWzFdKTtyZXR1cm5be2VsZW1lbnQ6ZCxsZWZ0OmMscmlnaHQ6ZnVuY3Rpb24oYSxkKXtkLnRyYW5zZm9ybShhLGIpfX1dfWZ1bmN0aW9uIEQoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiB2KGIsYSl9fWZ1bmN0aW9uIEMoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsZCl7ZFthXShiKX19dmFyIEY9Q0tFRElUT1IuZHRkLEo9Q0tFRElUT1IudG9vbHMuY29weSxLPUNLRURJVE9SLnRvb2xzLnRyaW0sRz1bXCJcIixcInBcIixcImJyXCIsXCJkaXZcIl07Q0tFRElUT1IuRklMVEVSX1NLSVBfVFJFRT0yO0NLRURJVE9SLmZpbHRlcj1mdW5jdGlvbihhLGIpe3RoaXMuYWxsb3dlZENvbnRlbnQ9W107dGhpcy5kaXNhbGxvd2VkQ29udGVudD1cbltdO3RoaXMuZWxlbWVudENhbGxiYWNrcz1udWxsO3RoaXMuZGlzYWJsZWQ9ITE7dGhpcy5lZGl0b3I9bnVsbDt0aGlzLmlkPUNLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKTt0aGlzLl89e2FsbG93ZWRSdWxlczp7ZWxlbWVudHM6e30sZ2VuZXJpYzpbXX0sZGlzYWxsb3dlZFJ1bGVzOntlbGVtZW50czp7fSxnZW5lcmljOltdfSx0cmFuc2Zvcm1hdGlvbnM6e30sY2FjaGVkVGVzdHM6e30sY2FjaGVkQ2hlY2tzOnt9fTtDS0VESVRPUi5maWx0ZXIuaW5zdGFuY2VzW3RoaXMuaWRdPXRoaXM7dmFyIGQ9dGhpcy5lZGl0b3I9YSBpbnN0YW5jZW9mIENLRURJVE9SLmVkaXRvcj9hOm51bGw7aWYoZCYmIWIpe3RoaXMuY3VzdG9tQ29uZmlnPSEwO3ZhciBjPWQuY29uZmlnLmFsbG93ZWRDb250ZW50OyEwPT09Yz90aGlzLmRpc2FibGVkPSEwOihjfHwodGhpcy5jdXN0b21Db25maWc9ITEpLHRoaXMuYWxsb3coYyxcImNvbmZpZ1wiLDEpLHRoaXMuYWxsb3coZC5jb25maWcuZXh0cmFBbGxvd2VkQ29udGVudCxcblwiZXh0cmFcIiwxKSx0aGlzLmFsbG93KEdbZC5lbnRlck1vZGVdK1wiIFwiK0dbZC5zaGlmdEVudGVyTW9kZV0sXCJkZWZhdWx0XCIsMSksdGhpcy5kaXNhbGxvdyhkLmNvbmZpZy5kaXNhbGxvd2VkQ29udGVudCkpfWVsc2UgdGhpcy5jdXN0b21Db25maWc9ITEsdGhpcy5hbGxvdyhifHxhLFwiZGVmYXVsdFwiLDEpfTtDS0VESVRPUi5maWx0ZXIuaW5zdGFuY2VzPXt9O0NLRURJVE9SLmZpbHRlci5wcm90b3R5cGU9e2FsbG93OmZ1bmN0aW9uKGIsZCxjKXtpZighayh0aGlzLGIsYykpcmV0dXJuITE7dmFyIGUsaDtpZihcInN0cmluZ1wiPT10eXBlb2YgYiliPWcoYik7ZWxzZSBpZihiIGluc3RhbmNlb2YgQ0tFRElUT1Iuc3R5bGUpe2lmKGIudG9BbGxvd2VkQ29udGVudFJ1bGVzKXJldHVybiB0aGlzLmFsbG93KGIudG9BbGxvd2VkQ29udGVudFJ1bGVzKHRoaXMuZWRpdG9yKSxkLGMpO2U9Yi5nZXREZWZpbml0aW9uKCk7Yj17fTtjPWUuYXR0cmlidXRlcztiW2UuZWxlbWVudF09ZT17c3R5bGVzOmUuc3R5bGVzLFxucmVxdWlyZWRTdHlsZXM6ZS5zdHlsZXMmJkNLRURJVE9SLnRvb2xzLm9iamVjdC5rZXlzKGUuc3R5bGVzKX07YyYmKGM9SihjKSxlLmNsYXNzZXM9Y1tcImNsYXNzXCJdP2NbXCJjbGFzc1wiXS5zcGxpdCgvXFxzKy8pOm51bGwsZS5yZXF1aXJlZENsYXNzZXM9ZS5jbGFzc2VzLGRlbGV0ZSBjW1wiY2xhc3NcIl0sZS5hdHRyaWJ1dGVzPWMsZS5yZXF1aXJlZEF0dHJpYnV0ZXM9YyYmQ0tFRElUT1IudG9vbHMub2JqZWN0LmtleXMoYykpfWVsc2UgaWYoQ0tFRElUT1IudG9vbHMuaXNBcnJheShiKSl7Zm9yKGU9MDtlPGIubGVuZ3RoOysrZSloPXRoaXMuYWxsb3coYltlXSxkLGMpO3JldHVybiBofWEodGhpcyxiLGQsdGhpcy5hbGxvd2VkQ29udGVudCx0aGlzLl8uYWxsb3dlZFJ1bGVzKTtyZXR1cm4hMH0sYXBwbHlUbzpmdW5jdGlvbihhLGIsZCxjKXtpZih0aGlzLmRpc2FibGVkKXJldHVybiExO3ZhciBnPXRoaXMsZT1bXSxoPXRoaXMuZWRpdG9yJiZ0aGlzLmVkaXRvci5jb25maWcucHJvdGVjdGVkU291cmNlLFxuayxmPSExLGw9e2RvRmlsdGVyOiFkLGRvVHJhbnNmb3JtOiEwLGRvQ2FsbGJhY2tzOiEwLHRvSHRtbDpifTthLmZvckVhY2goZnVuY3Rpb24oYSl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2lmKFwib2ZmXCI9PWEuYXR0cmlidXRlc1tcImRhdGEtY2tlLWZpbHRlclwiXSlyZXR1cm4hMTtpZighYnx8XCJzcGFuXCIhPWEubmFtZXx8IX5DS0VESVRPUi50b29scy5vYmplY3Qua2V5cyhhLmF0dHJpYnV0ZXMpLmpvaW4oXCJ8XCIpLmluZGV4T2YoXCJkYXRhLWNrZS1cIikpaWYoaz14KGcsYSxlLGwpLGsmMSlmPSEwO2Vsc2UgaWYoayYyKXJldHVybiExfWVsc2UgaWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0NPTU1FTlQmJmEudmFsdWUubWF0Y2goL15cXHtja2VfcHJvdGVjdGVkXFx9KD8hXFx7Q1xcfSkvKSl7dmFyIGQ7YTp7dmFyIGM9ZGVjb2RlVVJJQ29tcG9uZW50KGEudmFsdWUucmVwbGFjZSgvXlxce2NrZV9wcm90ZWN0ZWRcXH0vLFwiXCIpKTtkPVtdO3ZhciBuLG0sTjtpZihoKWZvcihtPTA7bTxcbmgubGVuZ3RoOysrbSlpZigoTj1jLm1hdGNoKGhbbV0pKSYmTlswXS5sZW5ndGg9PWMubGVuZ3RoKXtkPSEwO2JyZWFrIGF9Yz1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGMpOzE9PWMuY2hpbGRyZW4ubGVuZ3RoJiYobj1jLmNoaWxkcmVuWzBdKS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJngoZyxuLGQsbCk7ZD0hZC5sZW5ndGh9ZHx8ZS5wdXNoKGEpfX0sbnVsbCwhMCk7ZS5sZW5ndGgmJihmPSEwKTt2YXIgbjthPVtdO2M9R1tjfHwodGhpcy5lZGl0b3I/dGhpcy5lZGl0b3IuZW50ZXJNb2RlOkNLRURJVE9SLkVOVEVSX1ApXTtmb3IodmFyIG07ZD1lLnBvcCgpOylkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD95KGQsYyxhKTpkLnJlbW92ZSgpO2Zvcig7bj1hLnBvcCgpOylpZihkPW4uZWwsZC5wYXJlbnQpc3dpdGNoKG09RltkLnBhcmVudC5uYW1lXXx8Ri5zcGFuLG4uY2hlY2spe2Nhc2UgXCJpdFwiOkYuJHJlbW92ZUVtcHR5W2QubmFtZV0mJlxuIWQuY2hpbGRyZW4ubGVuZ3RoP3koZCxjLGEpOnUoZCl8fHkoZCxjLGEpO2JyZWFrO2Nhc2UgXCJlbC11cFwiOmQucGFyZW50LnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlR8fG1bZC5uYW1lXXx8eShkLGMsYSk7YnJlYWs7Y2FzZSBcInBhcmVudC1kb3duXCI6ZC5wYXJlbnQudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVHx8bVtkLm5hbWVdfHx5KGQucGFyZW50LGMsYSl9cmV0dXJuIGZ9LGNoZWNrRmVhdHVyZTpmdW5jdGlvbihhKXtpZih0aGlzLmRpc2FibGVkfHwhYSlyZXR1cm4hMDthLnRvRmVhdHVyZSYmKGE9YS50b0ZlYXR1cmUodGhpcy5lZGl0b3IpKTtyZXR1cm4hYS5yZXF1aXJlZENvbnRlbnR8fHRoaXMuY2hlY2soYS5yZXF1aXJlZENvbnRlbnQpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD0hMH0sZGlzYWxsb3c6ZnVuY3Rpb24oYil7aWYoIWsodGhpcyxiLCEwKSlyZXR1cm4hMTtcInN0cmluZ1wiPT10eXBlb2YgYiYmKGI9XG5nKGIpKTthKHRoaXMsYixudWxsLHRoaXMuZGlzYWxsb3dlZENvbnRlbnQsdGhpcy5fLmRpc2FsbG93ZWRSdWxlcyk7cmV0dXJuITB9LGFkZENvbnRlbnRGb3JtczpmdW5jdGlvbihhKXtpZighdGhpcy5kaXNhYmxlZCYmYSl7dmFyIGIsZCxjPVtdLGc7Zm9yKGI9MDtiPGEubGVuZ3RoJiYhZzsrK2IpZD1hW2JdLChcInN0cmluZ1wiPT10eXBlb2YgZHx8ZCBpbnN0YW5jZW9mIENLRURJVE9SLnN0eWxlKSYmdGhpcy5jaGVjayhkKSYmKGc9ZCk7aWYoZyl7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYiljLnB1c2goQihhW2JdLGcpKTt0aGlzLmFkZFRyYW5zZm9ybWF0aW9ucyhjKX19fSxhZGRFbGVtZW50Q2FsbGJhY2s6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50Q2FsbGJhY2tzfHwodGhpcy5lbGVtZW50Q2FsbGJhY2tzPVtdKTt0aGlzLmVsZW1lbnRDYWxsYmFja3MucHVzaChhKX0sYWRkRmVhdHVyZTpmdW5jdGlvbihhKXtpZih0aGlzLmRpc2FibGVkfHwhYSlyZXR1cm4hMDthLnRvRmVhdHVyZSYmXG4oYT1hLnRvRmVhdHVyZSh0aGlzLmVkaXRvcikpO3RoaXMuYWxsb3coYS5hbGxvd2VkQ29udGVudCxhLm5hbWUpO3RoaXMuYWRkVHJhbnNmb3JtYXRpb25zKGEuY29udGVudFRyYW5zZm9ybWF0aW9ucyk7dGhpcy5hZGRDb250ZW50Rm9ybXMoYS5jb250ZW50Rm9ybXMpO3JldHVybiBhLnJlcXVpcmVkQ29udGVudCYmKHRoaXMuY3VzdG9tQ29uZmlnfHx0aGlzLmRpc2FsbG93ZWRDb250ZW50Lmxlbmd0aCk/dGhpcy5jaGVjayhhLnJlcXVpcmVkQ29udGVudCk6ITB9LGFkZFRyYW5zZm9ybWF0aW9uczpmdW5jdGlvbihhKXt2YXIgYixkO2lmKCF0aGlzLmRpc2FibGVkJiZhKXt2YXIgYz10aGlzLl8udHJhbnNmb3JtYXRpb25zLGc7Zm9yKGc9MDtnPGEubGVuZ3RoOysrZyl7Yj1hW2ddO3ZhciBlPXZvaWQgMCxoPXZvaWQgMCxrPXZvaWQgMCxmPXZvaWQgMCxsPXZvaWQgMCxuPXZvaWQgMDtkPVtdO2ZvcihoPTA7aDxiLmxlbmd0aDsrK2gpaz1iW2hdLFwic3RyaW5nXCI9PXR5cGVvZiBrPyhrPVxuay5zcGxpdCgvXFxzKjpcXHMqLyksZj1rWzBdLGw9bnVsbCxuPWtbMV0pOihmPWsuY2hlY2ssbD1rLmxlZnQsbj1rLnJpZ2h0KSxlfHwoZT1rLGU9ZS5lbGVtZW50P2UuZWxlbWVudDpmP2YubWF0Y2goL14oW2EtejAtOV0rKS9pKVswXTplLmxlZnQuZ2V0RGVmaW5pdGlvbigpLmVsZW1lbnQpLGwgaW5zdGFuY2VvZiBDS0VESVRPUi5zdHlsZSYmKGw9RChsKSksZC5wdXNoKHtjaGVjazpmPT1lP251bGw6ZixsZWZ0OmwscmlnaHQ6XCJzdHJpbmdcIj09dHlwZW9mIG4/QyhuKTpufSk7Yj1lO2NbYl18fChjW2JdPVtdKTtjW2JdLnB1c2goZCl9fX0sY2hlY2s6ZnVuY3Rpb24oYSxiLGQpe2lmKHRoaXMuZGlzYWJsZWQpcmV0dXJuITA7aWYoQ0tFRElUT1IudG9vbHMuaXNBcnJheShhKSl7Zm9yKHZhciBjPWEubGVuZ3RoO2MtLTspaWYodGhpcy5jaGVjayhhW2NdLGIsZCkpcmV0dXJuITA7cmV0dXJuITF9dmFyIGUsaztpZihcInN0cmluZ1wiPT10eXBlb2YgYSl7az1hK1wiXFx4M2NcIisoITE9PT1iP1wiMFwiOlxuXCIxXCIpKyhkP1wiMVwiOlwiMFwiKStcIlxceDNlXCI7aWYoayBpbiB0aGlzLl8uY2FjaGVkQ2hlY2tzKXJldHVybiB0aGlzLl8uY2FjaGVkQ2hlY2tzW2tdO2U9ZyhhKS4kMTt2YXIgZj1lLnN0eWxlcyxjPWUuY2xhc3NlcztlLm5hbWU9ZS5lbGVtZW50cztlLmNsYXNzZXM9Yz1jP2Muc3BsaXQoL1xccyosXFxzKi8pOltdO2Uuc3R5bGVzPWgoZik7ZS5hdHRyaWJ1dGVzPWgoZS5hdHRyaWJ1dGVzKTtlLmNoaWxkcmVuPVtdO2MubGVuZ3RoJiYoZS5hdHRyaWJ1dGVzW1wiY2xhc3NcIl09Yy5qb2luKFwiIFwiKSk7ZiYmKGUuYXR0cmlidXRlcy5zdHlsZT1DS0VESVRPUi50b29scy53cml0ZUNzc1RleHQoZS5zdHlsZXMpKX1lbHNlIGU9YS5nZXREZWZpbml0aW9uKCksZj1lLnN0eWxlcyxjPWUuYXR0cmlidXRlc3x8e30sZiYmIUNLRURJVE9SLnRvb2xzLmlzRW1wdHkoZik/KGY9SihmKSxjLnN0eWxlPUNLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChmLCEwKSk6Zj17fSxlPXtuYW1lOmUuZWxlbWVudCxhdHRyaWJ1dGVzOmMsXG5jbGFzc2VzOmNbXCJjbGFzc1wiXT9jW1wiY2xhc3NcIl0uc3BsaXQoL1xccysvKTpbXSxzdHlsZXM6ZixjaGlsZHJlbjpbXX07dmFyIGY9Q0tFRElUT1IudG9vbHMuY2xvbmUoZSksbD1bXSxuO2lmKCExIT09YiYmKG49dGhpcy5fLnRyYW5zZm9ybWF0aW9uc1tlLm5hbWVdKSl7Zm9yKGM9MDtjPG4ubGVuZ3RoOysrYyl0KHRoaXMsZSxuW2NdKTtwKGUpfXgodGhpcyxmLGwse2RvRmlsdGVyOiEwLGRvVHJhbnNmb3JtOiExIT09Yixza2lwUmVxdWlyZWQ6IWQsc2tpcEZpbmFsVmFsaWRhdGlvbjohZH0pOzA8bC5sZW5ndGg/ZD0hMTooKGI9ZS5hdHRyaWJ1dGVzW1wiY2xhc3NcIl0pJiYoZS5hdHRyaWJ1dGVzW1wiY2xhc3NcIl09ZS5hdHRyaWJ1dGVzW1wiY2xhc3NcIl0uc3BsaXQoXCIgXCIpLnNvcnQoKS5qb2luKFwiIFwiKSksZD1DS0VESVRPUi50b29scy5vYmplY3RDb21wYXJlKGUuYXR0cmlidXRlcyxmLmF0dHJpYnV0ZXMsITApLGImJihlLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXT1iKSk7XCJzdHJpbmdcIj09dHlwZW9mIGEmJlxuKHRoaXMuXy5jYWNoZWRDaGVja3Nba109ZCk7cmV0dXJuIGR9LGdldEFsbG93ZWRFbnRlck1vZGU6ZnVuY3Rpb24oKXt2YXIgYT1bXCJwXCIsXCJkaXZcIixcImJyXCJdLGI9e3A6Q0tFRElUT1IuRU5URVJfUCxkaXY6Q0tFRElUT1IuRU5URVJfRElWLGJyOkNLRURJVE9SLkVOVEVSX0JSfTtyZXR1cm4gZnVuY3Rpb24oZCxjKXt2YXIgZz1hLnNsaWNlKCksZTtpZih0aGlzLmNoZWNrKEdbZF0pKXJldHVybiBkO2ZvcihjfHwoZz1nLnJldmVyc2UoKSk7ZT1nLnBvcCgpOylpZih0aGlzLmNoZWNrKGUpKXJldHVybiBiW2VdO3JldHVybiBDS0VESVRPUi5FTlRFUl9CUn19KCksY2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ0tFRElUT1IuZmlsdGVyLGI9Q0tFRElUT1IudG9vbHMuY2xvbmU7YS5hbGxvd2VkQ29udGVudD1iKHRoaXMuYWxsb3dlZENvbnRlbnQpO2EuXy5hbGxvd2VkUnVsZXM9Yih0aGlzLl8uYWxsb3dlZFJ1bGVzKTthLmRpc2FsbG93ZWRDb250ZW50PWIodGhpcy5kaXNhbGxvd2VkQ29udGVudCk7XG5hLl8uZGlzYWxsb3dlZFJ1bGVzPWIodGhpcy5fLmRpc2FsbG93ZWRSdWxlcyk7YS5fLnRyYW5zZm9ybWF0aW9ucz1iKHRoaXMuXy50cmFuc2Zvcm1hdGlvbnMpO2EuZGlzYWJsZWQ9dGhpcy5kaXNhYmxlZDthLmVkaXRvcj10aGlzLmVkaXRvcjtyZXR1cm4gYX0sZGVzdHJveTpmdW5jdGlvbigpe2RlbGV0ZSBDS0VESVRPUi5maWx0ZXIuaW5zdGFuY2VzW3RoaXMuaWRdO2RlbGV0ZSB0aGlzLl87ZGVsZXRlIHRoaXMuYWxsb3dlZENvbnRlbnQ7ZGVsZXRlIHRoaXMuZGlzYWxsb3dlZENvbnRlbnR9fTt2YXIgTT17c3R5bGVzOjEsYXR0cmlidXRlczoxLGNsYXNzZXM6MX0sSD17c3R5bGVzOlwicmVxdWlyZWRTdHlsZXNcIixhdHRyaWJ1dGVzOlwicmVxdWlyZWRBdHRyaWJ1dGVzXCIsY2xhc3NlczpcInJlcXVpcmVkQ2xhc3Nlc1wifSxFPS9eKFthLXowLTlcXC0qXFxzXSspKCg/OlxccypcXHtbIVxcd1xcLSxcXHNcXCpdK1xcfVxccyp8XFxzKlxcW1shXFx3XFwtLFxcc1xcKl0rXFxdXFxzKnxcXHMqXFwoWyFcXHdcXC0sXFxzXFwqXStcXClcXHMqKXswLDN9KSg/OjtcXHMqfCQpL2ksXG5QPXtzdHlsZXM6L3soW159XSspfS8sYXR0cnM6L1xcWyhbXlxcXV0rKVxcXS8sY2xhc3NlczovXFwoKFteXFwpXSspXFwpL30sTD0vXmNrZToob2JqZWN0fGVtYmVkfHBhcmFtKSQvLE49L14ob2JqZWN0fGVtYmVkfHBhcmFtKSQvLE87Tz1DS0VESVRPUi5maWx0ZXIudHJhbnNmb3JtYXRpb25zVG9vbHM9e3NpemVUb1N0eWxlOmZ1bmN0aW9uKGEpe3RoaXMubGVuZ3RoVG9TdHlsZShhLFwid2lkdGhcIik7dGhpcy5sZW5ndGhUb1N0eWxlKGEsXCJoZWlnaHRcIil9LHNpemVUb0F0dHJpYnV0ZTpmdW5jdGlvbihhKXt0aGlzLmxlbmd0aFRvQXR0cmlidXRlKGEsXCJ3aWR0aFwiKTt0aGlzLmxlbmd0aFRvQXR0cmlidXRlKGEsXCJoZWlnaHRcIil9LGxlbmd0aFRvU3R5bGU6ZnVuY3Rpb24oYSxiLGQpe2Q9ZHx8YjtpZighKGQgaW4gYS5zdHlsZXMpKXt2YXIgYz1hLmF0dHJpYnV0ZXNbYl07YyYmKC9eXFxkKyQvLnRlc3QoYykmJihjKz1cInB4XCIpLGEuc3R5bGVzW2RdPWMpfWRlbGV0ZSBhLmF0dHJpYnV0ZXNbYl19LFxubGVuZ3RoVG9BdHRyaWJ1dGU6ZnVuY3Rpb24oYSxiLGQpe2Q9ZHx8YjtpZighKGQgaW4gYS5hdHRyaWJ1dGVzKSl7dmFyIGM9YS5zdHlsZXNbYl0sZz1jJiZjLm1hdGNoKC9eKFxcZCspKD86XFwuXFxkKik/cHgkLyk7Zz9hLmF0dHJpYnV0ZXNbZF09Z1sxXTpcImNrZS10ZXN0XCI9PWMmJihhLmF0dHJpYnV0ZXNbZF09XCJja2UtdGVzdFwiKX1kZWxldGUgYS5zdHlsZXNbYl19LGFsaWdubWVudFRvU3R5bGU6ZnVuY3Rpb24oYSl7aWYoIShcImZsb2F0XCJpbiBhLnN0eWxlcykpe3ZhciBiPWEuYXR0cmlidXRlcy5hbGlnbjtpZihcImxlZnRcIj09Ynx8XCJyaWdodFwiPT1iKWEuc3R5bGVzW1wiZmxvYXRcIl09Yn1kZWxldGUgYS5hdHRyaWJ1dGVzLmFsaWdufSxhbGlnbm1lbnRUb0F0dHJpYnV0ZTpmdW5jdGlvbihhKXtpZighKFwiYWxpZ25cImluIGEuYXR0cmlidXRlcykpe3ZhciBiPWEuc3R5bGVzW1wiZmxvYXRcIl07aWYoXCJsZWZ0XCI9PWJ8fFwicmlnaHRcIj09YilhLmF0dHJpYnV0ZXMuYWxpZ249Yn1kZWxldGUgYS5zdHlsZXNbXCJmbG9hdFwiXX0sXG5zcGxpdEJvcmRlclNob3J0aGFuZDpmdW5jdGlvbihhKXtpZihhLnN0eWxlcy5ib3JkZXIpe3ZhciBiPUNLRURJVE9SLnRvb2xzLnN0eWxlLnBhcnNlLmJvcmRlcihhLnN0eWxlcy5ib3JkZXIpO2IuY29sb3ImJihhLnN0eWxlc1tcImJvcmRlci1jb2xvclwiXT1iLmNvbG9yKTtiLnN0eWxlJiYoYS5zdHlsZXNbXCJib3JkZXItc3R5bGVcIl09Yi5zdHlsZSk7Yi53aWR0aCYmKGEuc3R5bGVzW1wiYm9yZGVyLXdpZHRoXCJdPWIud2lkdGgpO2RlbGV0ZSBhLnN0eWxlcy5ib3JkZXJ9fSxsaXN0VHlwZVRvU3R5bGU6ZnVuY3Rpb24oYSl7aWYoYS5hdHRyaWJ1dGVzLnR5cGUpc3dpdGNoKGEuYXR0cmlidXRlcy50eXBlKXtjYXNlIFwiYVwiOmEuc3R5bGVzW1wibGlzdC1zdHlsZS10eXBlXCJdPVwibG93ZXItYWxwaGFcIjticmVhaztjYXNlIFwiQVwiOmEuc3R5bGVzW1wibGlzdC1zdHlsZS10eXBlXCJdPVwidXBwZXItYWxwaGFcIjticmVhaztjYXNlIFwiaVwiOmEuc3R5bGVzW1wibGlzdC1zdHlsZS10eXBlXCJdPVwibG93ZXItcm9tYW5cIjtcbmJyZWFrO2Nhc2UgXCJJXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJ1cHBlci1yb21hblwiO2JyZWFrO2Nhc2UgXCIxXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJkZWNpbWFsXCI7YnJlYWs7ZGVmYXVsdDphLnN0eWxlc1tcImxpc3Qtc3R5bGUtdHlwZVwiXT1hLmF0dHJpYnV0ZXMudHlwZX19LHNwbGl0TWFyZ2luU2hvcnRoYW5kOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYyl7YS5zdHlsZXNbXCJtYXJnaW4tdG9wXCJdPWRbY1swXV07YS5zdHlsZXNbXCJtYXJnaW4tcmlnaHRcIl09ZFtjWzFdXTthLnN0eWxlc1tcIm1hcmdpbi1ib3R0b21cIl09ZFtjWzJdXTthLnN0eWxlc1tcIm1hcmdpbi1sZWZ0XCJdPWRbY1szXV19aWYoYS5zdHlsZXMubWFyZ2luKXt2YXIgZD1hLnN0eWxlcy5tYXJnaW4ubWF0Y2goLyhhdXRvfDB8KD86XFwtP1tcXC5cXGRdKyg/Olxcdyt8JSkpKS9nKXx8W1wiMHB4XCJdO3N3aXRjaChkLmxlbmd0aCl7Y2FzZSAxOmIoWzAsMCwwLDBdKTticmVhaztjYXNlIDI6YihbMCwxLDAsXG4xXSk7YnJlYWs7Y2FzZSAzOmIoWzAsMSwyLDFdKTticmVhaztjYXNlIDQ6YihbMCwxLDIsM10pfWRlbGV0ZSBhLnN0eWxlcy5tYXJnaW59fSxtYXRjaGVzU3R5bGU6dix0cmFuc2Zvcm06ZnVuY3Rpb24oYSxiKXtpZihcInN0cmluZ1wiPT10eXBlb2YgYilhLm5hbWU9YjtlbHNle3ZhciBkPWIuZ2V0RGVmaW5pdGlvbigpLGM9ZC5zdHlsZXMsZz1kLmF0dHJpYnV0ZXMsZSxoLGssZjthLm5hbWU9ZC5lbGVtZW50O2ZvcihlIGluIGcpaWYoXCJjbGFzc1wiPT1lKWZvcihkPWEuY2xhc3Nlcy5qb2luKFwifFwiKSxrPWdbZV0uc3BsaXQoL1xccysvKTtmPWsucG9wKCk7KS0xPT1kLmluZGV4T2YoZikmJmEuY2xhc3Nlcy5wdXNoKGYpO2Vsc2UgYS5hdHRyaWJ1dGVzW2VdPWdbZV07Zm9yKGggaW4gYylhLnN0eWxlc1toXT1jW2hdfX19fSgpLGZ1bmN0aW9uKCl7Q0tFRElUT1IuZm9jdXNNYW5hZ2VyPWZ1bmN0aW9uKGEpe2lmKGEuZm9jdXNNYW5hZ2VyKXJldHVybiBhLmZvY3VzTWFuYWdlcjt0aGlzLmhhc0ZvY3VzPVxuITE7dGhpcy5jdXJyZW50QWN0aXZlPW51bGw7dGhpcy5fPXtlZGl0b3I6YX07cmV0dXJuIHRoaXN9O0NLRURJVE9SLmZvY3VzTWFuYWdlci5fPXtibHVyRGVsYXk6MjAwfTtDS0VESVRPUi5mb2N1c01hbmFnZXIucHJvdG90eXBlPXtmb2N1czpmdW5jdGlvbihhKXt0aGlzLl8udGltZXImJmNsZWFyVGltZW91dCh0aGlzLl8udGltZXIpO2EmJih0aGlzLmN1cnJlbnRBY3RpdmU9YSk7dGhpcy5oYXNGb2N1c3x8dGhpcy5fLmxvY2tlZHx8KChhPUNLRURJVE9SLmN1cnJlbnRJbnN0YW5jZSkmJmEuZm9jdXNNYW5hZ2VyLmJsdXIoMSksdGhpcy5oYXNGb2N1cz0hMCwoYT10aGlzLl8uZWRpdG9yLmNvbnRhaW5lcikmJmEuYWRkQ2xhc3MoXCJja2VfZm9jdXNcIiksdGhpcy5fLmVkaXRvci5maXJlKFwiZm9jdXNcIikpfSxsb2NrOmZ1bmN0aW9uKCl7dGhpcy5fLmxvY2tlZD0xfSx1bmxvY2s6ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5fLmxvY2tlZH0sYmx1cjpmdW5jdGlvbihhKXtmdW5jdGlvbiBmKCl7aWYodGhpcy5oYXNGb2N1cyl7dGhpcy5oYXNGb2N1cz1cbiExO3ZhciBhPXRoaXMuXy5lZGl0b3IuY29udGFpbmVyO2EmJmEucmVtb3ZlQ2xhc3MoXCJja2VfZm9jdXNcIik7dGhpcy5fLmVkaXRvci5maXJlKFwiYmx1clwiKX19aWYoIXRoaXMuXy5sb2NrZWQpe3RoaXMuXy50aW1lciYmY2xlYXJUaW1lb3V0KHRoaXMuXy50aW1lcik7dmFyIGU9Q0tFRElUT1IuZm9jdXNNYW5hZ2VyLl8uYmx1ckRlbGF5O2F8fCFlP2YuY2FsbCh0aGlzKTp0aGlzLl8udGltZXI9Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl8udGltZXI7Zi5jYWxsKHRoaXMpfSxlLHRoaXMpfX0sYWRkOmZ1bmN0aW9uKGEsZil7dmFyIGU9YS5nZXRDdXN0b21EYXRhKFwiZm9jdXNtYW5hZ2VyXCIpO2lmKCFlfHxlIT10aGlzKXtlJiZlLnJlbW92ZShhKTt2YXIgZT1cImZvY3VzXCIsYj1cImJsdXJcIjtmJiYoQ0tFRElUT1IuZW52LmllPyhlPVwiZm9jdXNpblwiLGI9XCJmb2N1c291dFwiKTpDS0VESVRPUi5ldmVudC51c2VDYXB0dXJlPTEpO3ZhciBjPXtibHVyOmZ1bmN0aW9uKCl7YS5lcXVhbHModGhpcy5jdXJyZW50QWN0aXZlKSYmXG50aGlzLmJsdXIoKX0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLmZvY3VzKGEpfX07YS5vbihlLGMuZm9jdXMsdGhpcyk7YS5vbihiLGMuYmx1cix0aGlzKTtmJiYoQ0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZT0wKTthLnNldEN1c3RvbURhdGEoXCJmb2N1c21hbmFnZXJcIix0aGlzKTthLnNldEN1c3RvbURhdGEoXCJmb2N1c21hbmFnZXJfaGFuZGxlcnNcIixjKX19LHJlbW92ZTpmdW5jdGlvbihhKXthLnJlbW92ZUN1c3RvbURhdGEoXCJmb2N1c21hbmFnZXJcIik7dmFyIGY9YS5yZW1vdmVDdXN0b21EYXRhKFwiZm9jdXNtYW5hZ2VyX2hhbmRsZXJzXCIpO2EucmVtb3ZlTGlzdGVuZXIoXCJibHVyXCIsZi5ibHVyKTthLnJlbW92ZUxpc3RlbmVyKFwiZm9jdXNcIixmLmZvY3VzKX19fSgpLENLRURJVE9SLmtleXN0cm9rZUhhbmRsZXI9ZnVuY3Rpb24oYSl7aWYoYS5rZXlzdHJva2VIYW5kbGVyKXJldHVybiBhLmtleXN0cm9rZUhhbmRsZXI7dGhpcy5rZXlzdHJva2VzPXt9O3RoaXMuYmxvY2tlZEtleXN0cm9rZXM9XG57fTt0aGlzLl89e2VkaXRvcjphfTtyZXR1cm4gdGhpc30sZnVuY3Rpb24oKXt2YXIgYSxmPWZ1bmN0aW9uKGIpe2I9Yi5kYXRhO3ZhciBjPWIuZ2V0S2V5c3Ryb2tlKCksZT10aGlzLmtleXN0cm9rZXNbY10sZj10aGlzLl8uZWRpdG9yO2E9ITE9PT1mLmZpcmUoXCJrZXlcIix7a2V5Q29kZTpjLGRvbUV2ZW50OmJ9KTthfHwoZSYmKGE9ITEhPT1mLmV4ZWNDb21tYW5kKGUse2Zyb206XCJrZXlzdHJva2VIYW5kbGVyXCJ9KSksYXx8KGE9ISF0aGlzLmJsb2NrZWRLZXlzdHJva2VzW2NdKSk7YSYmYi5wcmV2ZW50RGVmYXVsdCghMCk7cmV0dXJuIWF9LGU9ZnVuY3Rpb24oYil7YSYmKGE9ITEsYi5kYXRhLnByZXZlbnREZWZhdWx0KCEwKSl9O0NLRURJVE9SLmtleXN0cm9rZUhhbmRsZXIucHJvdG90eXBlPXthdHRhY2g6ZnVuY3Rpb24oYSl7YS5vbihcImtleWRvd25cIixmLHRoaXMpO2lmKENLRURJVE9SLmVudi5nZWNrbyYmQ0tFRElUT1IuZW52Lm1hYylhLm9uKFwia2V5cHJlc3NcIixlLHRoaXMpfX19KCksXG5mdW5jdGlvbigpe0NLRURJVE9SLmxhbmc9e2xhbmd1YWdlczp7YWY6MSxhcjoxLGF6OjEsYmc6MSxibjoxLGJzOjEsY2E6MSxjczoxLGN5OjEsZGE6MSxkZToxLFwiZGUtY2hcIjoxLGVsOjEsXCJlbi1hdVwiOjEsXCJlbi1jYVwiOjEsXCJlbi1nYlwiOjEsZW46MSxlbzoxLGVzOjEsXCJlcy1teFwiOjEsZXQ6MSxldToxLGZhOjEsZmk6MSxmbzoxLFwiZnItY2FcIjoxLGZyOjEsZ2w6MSxndToxLGhlOjEsaGk6MSxocjoxLGh1OjEsaWQ6MSxpczoxLGl0OjEsamE6MSxrYToxLGttOjEsa286MSxrdToxLGx0OjEsbHY6MSxtazoxLG1uOjEsbXM6MSxuYjoxLG5sOjEsbm86MSxvYzoxLHBsOjEsXCJwdC1iclwiOjEscHQ6MSxybzoxLHJ1OjEsc2k6MSxzazoxLHNsOjEsc3E6MSxcInNyLWxhdG5cIjoxLHNyOjEsc3Y6MSx0aDoxLHRyOjEsdHQ6MSx1ZzoxLHVrOjEsdmk6MSxcInpoLWNuXCI6MSx6aDoxfSxydGw6e2FyOjEsZmE6MSxoZToxLGt1OjEsdWc6MX0sbG9hZDpmdW5jdGlvbihhLGYsZSl7YSYmQ0tFRElUT1IubGFuZy5sYW5ndWFnZXNbYV18fFxuKGE9dGhpcy5kZXRlY3QoZixhKSk7dmFyIGI9dGhpcztmPWZ1bmN0aW9uKCl7YlthXS5kaXI9Yi5ydGxbYV0/XCJydGxcIjpcImx0clwiO2UoYSxiW2FdKX07dGhpc1thXT9mKCk6Q0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoQ0tFRElUT1IuZ2V0VXJsKFwibGFuZy9cIithK1wiLmpzXCIpLGYsdGhpcyl9LGRldGVjdDpmdW5jdGlvbihhLGYpe3ZhciBlPXRoaXMubGFuZ3VhZ2VzO2Y9Znx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZXx8bmF2aWdhdG9yLmxhbmd1YWdlfHxhO3ZhciBiPWYudG9Mb3dlckNhc2UoKS5tYXRjaCgvKFthLXpdKykoPzotKFthLXpdKykpPy8pLGM9YlsxXSxiPWJbMl07ZVtjK1wiLVwiK2JdP2M9YytcIi1cIitiOmVbY118fChjPW51bGwpO0NLRURJVE9SLmxhbmcuZGV0ZWN0PWM/ZnVuY3Rpb24oKXtyZXR1cm4gY306ZnVuY3Rpb24oYSl7cmV0dXJuIGF9O3JldHVybiBjfHxhfX19KCksQ0tFRElUT1Iuc2NyaXB0TG9hZGVyPWZ1bmN0aW9uKCl7dmFyIGE9e30sZj17fTtyZXR1cm57bG9hZDpmdW5jdGlvbihlLFxuYixjLGspe3ZhciBsPVwic3RyaW5nXCI9PXR5cGVvZiBlO2wmJihlPVtlXSk7Y3x8KGM9Q0tFRElUT1IpO3ZhciBtPWUubGVuZ3RoLGQ9bSxoPVtdLGc9W10sbj1mdW5jdGlvbihhKXtiJiYobD9iLmNhbGwoYyxhKTpiLmNhbGwoYyxoLGcpKX07aWYoMD09PWQpbighMCk7ZWxzZXt2YXIgdz1mdW5jdGlvbihhLGIpeyhiP2g6ZykucHVzaChhKTswPj0tLWQmJihrJiZDS0VESVRPUi5kb2N1bWVudC5nZXREb2N1bWVudEVsZW1lbnQoKS5yZW1vdmVTdHlsZShcImN1cnNvclwiKSxuKGIpKX0seD1mdW5jdGlvbihiLGQpe2FbYl09MTt2YXIgYz1mW2JdO2RlbGV0ZSBmW2JdO2Zvcih2YXIgZz0wO2c8Yy5sZW5ndGg7ZysrKWNbZ10oYixkKX0scj1mdW5jdGlvbihkKXtpZihhW2RdKXcoZCwhMCk7ZWxzZXt2YXIgYz1mW2RdfHwoZltkXT1bXSk7Yy5wdXNoKHcpO2lmKCEoMTxjLmxlbmd0aCkpe3ZhciBnPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcInNjcmlwdFwiKTtnLnNldEF0dHJpYnV0ZXMoe3R5cGU6XCJ0ZXh0L2phdmFzY3JpcHRcIixcbnNyYzpkfSk7YiYmKENLRURJVE9SLmVudi5pZSYmKDg+PUNLRURJVE9SLmVudi52ZXJzaW9ufHxDS0VESVRPUi5lbnYuaWU5Q29tcGF0KT9nLiQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoXCJsb2FkZWRcIj09Zy4kLnJlYWR5U3RhdGV8fFwiY29tcGxldGVcIj09Zy4kLnJlYWR5U3RhdGUpZy4kLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLHgoZCwhMCl9OihnLiQub25sb2FkPWZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2cuJC5vbmxvYWQ9bnVsbDtnLiQub25lcnJvcj1udWxsO3goZCwhMCl9LDApfSxnLiQub25lcnJvcj1mdW5jdGlvbigpe2cuJC5vbmxvYWQ9bnVsbDtnLiQub25lcnJvcj1udWxsO3goZCwhMSl9KSk7Zy5hcHBlbmRUbyhDS0VESVRPUi5kb2N1bWVudC5nZXRIZWFkKCkpfX19O2smJkNLRURJVE9SLmRvY3VtZW50LmdldERvY3VtZW50RWxlbWVudCgpLnNldFN0eWxlKFwiY3Vyc29yXCIsXCJ3YWl0XCIpO2Zvcih2YXIgcD0wO3A8bTtwKyspcihlW3BdKX19LFxucXVldWU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dmFyIGM7KGM9YlswXSkmJnRoaXMubG9hZChjLnNjcmlwdFVybCxjLmNhbGxiYWNrLENLRURJVE9SLDApfXZhciBiPVtdO3JldHVybiBmdW5jdGlvbihjLGspe3ZhciBmPXRoaXM7Yi5wdXNoKHtzY3JpcHRVcmw6YyxjYWxsYmFjazpmdW5jdGlvbigpe2smJmsuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Iuc2hpZnQoKTthLmNhbGwoZil9fSk7MT09Yi5sZW5ndGgmJmEuY2FsbCh0aGlzKX19KCl9fSgpLENLRURJVE9SLnJlc291cmNlTWFuYWdlcj1mdW5jdGlvbihhLGYpe3RoaXMuYmFzZVBhdGg9YTt0aGlzLmZpbGVOYW1lPWY7dGhpcy5yZWdpc3RlcmVkPXt9O3RoaXMubG9hZGVkPXt9O3RoaXMuZXh0ZXJuYWxzPXt9O3RoaXMuXz17d2FpdGluZ0xpc3Q6e319fSxDS0VESVRPUi5yZXNvdXJjZU1hbmFnZXIucHJvdG90eXBlPXthZGQ6ZnVuY3Rpb24oYSxmKXtpZih0aGlzLnJlZ2lzdGVyZWRbYV0pdGhyb3cgRXJyb3IoJ1tDS0VESVRPUi5yZXNvdXJjZU1hbmFnZXIuYWRkXSBUaGUgcmVzb3VyY2UgbmFtZSBcIicrXG5hKydcIiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuJyk7dmFyIGU9dGhpcy5yZWdpc3RlcmVkW2FdPWZ8fHt9O2UubmFtZT1hO2UucGF0aD10aGlzLmdldFBhdGgoYSk7Q0tFRElUT1IuZmlyZShhK0NLRURJVE9SLnRvb2xzLmNhcGl0YWxpemUodGhpcy5maWxlTmFtZSkrXCJSZWFkeVwiLGUpO3JldHVybiB0aGlzLmdldChhKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJlZ2lzdGVyZWRbYV18fG51bGx9LGdldFBhdGg6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcy5leHRlcm5hbHNbYV07cmV0dXJuIENLRURJVE9SLmdldFVybChmJiZmLmRpcnx8dGhpcy5iYXNlUGF0aCthK1wiL1wiKX0sZ2V0RmlsZVBhdGg6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcy5leHRlcm5hbHNbYV07cmV0dXJuIENLRURJVE9SLmdldFVybCh0aGlzLmdldFBhdGgoYSkrKGY/Zi5maWxlOnRoaXMuZmlsZU5hbWUrXCIuanNcIikpfSxhZGRFeHRlcm5hbDpmdW5jdGlvbihhLGYsZSl7ZXx8KGY9Zi5yZXBsYWNlKC9bXlxcL10rJC8sXG5mdW5jdGlvbihhKXtlPWE7cmV0dXJuXCJcIn0pKTtlPWV8fHRoaXMuZmlsZU5hbWUrXCIuanNcIjthPWEuc3BsaXQoXCIsXCIpO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXRoaXMuZXh0ZXJuYWxzW2FbYl1dPXtkaXI6ZixmaWxlOmV9fSxsb2FkOmZ1bmN0aW9uKGEsZixlKXtDS0VESVRPUi50b29scy5pc0FycmF5KGEpfHwoYT1hP1thXTpbXSk7Zm9yKHZhciBiPXRoaXMubG9hZGVkLGM9dGhpcy5yZWdpc3RlcmVkLGs9W10sbD17fSxtPXt9LGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGg9YVtkXTtpZihoKWlmKGJbaF18fGNbaF0pbVtoXT10aGlzLmdldChoKTtlbHNle3ZhciBnPXRoaXMuZ2V0RmlsZVBhdGgoaCk7ay5wdXNoKGcpO2cgaW4gbHx8KGxbZ109W10pO2xbZ10ucHVzaChoKX19Q0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoayxmdW5jdGlvbihhLGQpe2lmKGQubGVuZ3RoKXRocm93IEVycm9yKCdbQ0tFRElUT1IucmVzb3VyY2VNYW5hZ2VyLmxvYWRdIFJlc291cmNlIG5hbWUgXCInK1xubFtkWzBdXS5qb2luKFwiLFwiKSsnXCIgd2FzIG5vdCBmb3VuZCBhdCBcIicrZFswXSsnXCIuJyk7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspZm9yKHZhciBnPWxbYVtjXV0saD0wO2g8Zy5sZW5ndGg7aCsrKXt2YXIgaz1nW2hdO21ba109dGhpcy5nZXQoayk7YltrXT0xfWYuY2FsbChlLG0pfSx0aGlzKX19LENLRURJVE9SLnBsdWdpbnM9bmV3IENLRURJVE9SLnJlc291cmNlTWFuYWdlcihcInBsdWdpbnMvXCIsXCJwbHVnaW5cIiksQ0tFRElUT1IucGx1Z2lucy5sb2FkPUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKENLRURJVE9SLnBsdWdpbnMubG9hZCxmdW5jdGlvbihhKXt2YXIgZj17fTtyZXR1cm4gZnVuY3Rpb24oZSxiLGMpe3ZhciBrPXt9LGw9ZnVuY3Rpb24oZSl7YS5jYWxsKHRoaXMsZSxmdW5jdGlvbihhKXtDS0VESVRPUi50b29scy5leHRlbmQoayxhKTt2YXIgZT1bXSxnO2ZvcihnIGluIGEpe3ZhciBuPWFbZ10sbT1uJiZuLnJlcXVpcmVzO2lmKCFmW2ddKXtpZihuLmljb25zKWZvcih2YXIgeD1cbm4uaWNvbnMuc3BsaXQoXCIsXCIpLHI9eC5sZW5ndGg7ci0tOylDS0VESVRPUi5za2luLmFkZEljb24oeFtyXSxuLnBhdGgrXCJpY29ucy9cIisoQ0tFRElUT1IuZW52LmhpZHBpJiZuLmhpZHBpP1wiaGlkcGkvXCI6XCJcIikreFtyXStcIi5wbmdcIik7bi5pc1N1cHBvcnRlZEVudmlyb25tZW50PW4uaXNTdXBwb3J0ZWRFbnZpcm9ubWVudHx8ZnVuY3Rpb24oKXtyZXR1cm4hMH07ZltnXT0xfWlmKG0pZm9yKG0uc3BsaXQmJihtPW0uc3BsaXQoXCIsXCIpKSxuPTA7bjxtLmxlbmd0aDtuKyspa1ttW25dXXx8ZS5wdXNoKG1bbl0pfWlmKGUubGVuZ3RoKWwuY2FsbCh0aGlzLGUpO2Vsc2V7Zm9yKGcgaW4gayluPWtbZ10sbi5vbkxvYWQmJiFuLm9uTG9hZC5fY2FsbGVkJiYoITE9PT1uLm9uTG9hZCgpJiZkZWxldGUga1tnXSxuLm9uTG9hZC5fY2FsbGVkPTEpO2ImJmIuY2FsbChjfHx3aW5kb3csayl9fSx0aGlzKX07bC5jYWxsKHRoaXMsZSl9fSksQ0tFRElUT1IucGx1Z2lucy5zZXRMYW5nPWZ1bmN0aW9uKGEsXG5mLGUpe3ZhciBiPXRoaXMuZ2V0KGEpO2E9Yi5sYW5nRW50cmllc3x8KGIubGFuZ0VudHJpZXM9e30pO2I9Yi5sYW5nfHwoYi5sYW5nPVtdKTtiLnNwbGl0JiYoYj1iLnNwbGl0KFwiLFwiKSk7LTE9PUNLRURJVE9SLnRvb2xzLmluZGV4T2YoYixmKSYmYi5wdXNoKGYpO2FbZl09ZX0sQ0tFRElUT1IudWk9ZnVuY3Rpb24oYSl7aWYoYS51aSlyZXR1cm4gYS51aTt0aGlzLml0ZW1zPXt9O3RoaXMuaW5zdGFuY2VzPXt9O3RoaXMuZWRpdG9yPWE7dGhpcy5fPXtoYW5kbGVyczp7fX07cmV0dXJuIHRoaXN9LENLRURJVE9SLnVpLnByb3RvdHlwZT17YWRkOmZ1bmN0aW9uKGEsZixlKXtlLm5hbWU9YS50b0xvd2VyQ2FzZSgpO3ZhciBiPXRoaXMuaXRlbXNbYV09e3R5cGU6Zixjb21tYW5kOmUuY29tbWFuZHx8bnVsbCxhcmdzOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKX07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGIsZSl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbnN0YW5jZXNbYV19LFxuY3JlYXRlOmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMuaXRlbXNbYV0sZT1mJiZ0aGlzLl8uaGFuZGxlcnNbZi50eXBlXSxiPWYmJmYuY29tbWFuZCYmdGhpcy5lZGl0b3IuZ2V0Q29tbWFuZChmLmNvbW1hbmQpLGU9ZSYmZS5jcmVhdGUuYXBwbHkodGhpcyxmLmFyZ3MpO3RoaXMuaW5zdGFuY2VzW2FdPWU7YiYmYi51aUl0ZW1zLnB1c2goZSk7ZSYmIWUudHlwZSYmKGUudHlwZT1mLnR5cGUpO3JldHVybiBlfSxhZGRIYW5kbGVyOmZ1bmN0aW9uKGEsZil7dGhpcy5fLmhhbmRsZXJzW2FdPWZ9LHNwYWNlOmZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuc3BhY2VJZChhKSl9LHNwYWNlSWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWRpdG9yLmlkK1wiX1wiK2F9fSxDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUi51aSksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsZCxjKXtDS0VESVRPUi5ldmVudC5jYWxsKHRoaXMpO2E9YSYmQ0tFRElUT1IudG9vbHMuY2xvbmUoYSk7XG5pZih2b2lkIDAhPT1kKXtpZighKGQgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudCkpdGhyb3cgRXJyb3IoXCJFeHBlY3QgZWxlbWVudCBvZiB0eXBlIENLRURJVE9SLmRvbS5lbGVtZW50LlwiKTtpZighYyl0aHJvdyBFcnJvcihcIk9uZSBvZiB0aGUgZWxlbWVudCBtb2RlcyBtdXN0IGJlIHNwZWNpZmllZC5cIik7aWYoQ0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYucXVpcmtzJiZjPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FKXRocm93IEVycm9yKFwiSW5saW5lIGVsZW1lbnQgbW9kZSBpcyBub3Qgc3VwcG9ydGVkIG9uIElFIHF1aXJrcy5cIik7aWYoIWUoZCxjKSl0aHJvdyBFcnJvcignVGhlIHNwZWNpZmllZCBlbGVtZW50IG1vZGUgaXMgbm90IHN1cHBvcnRlZCBvbiBlbGVtZW50OiBcIicrZC5nZXROYW1lKCkrJ1wiLicpO3RoaXMuZWxlbWVudD1kO3RoaXMuZWxlbWVudE1vZGU9Yzt0aGlzLm5hbWU9dGhpcy5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPJiZcbihkLmdldElkKCl8fGQuZ2V0TmFtZUF0dCgpKX1lbHNlIHRoaXMuZWxlbWVudE1vZGU9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX05PTkU7dGhpcy5fPXt9O3RoaXMuY29tbWFuZHM9e307dGhpcy50ZW1wbGF0ZXM9e307dGhpcy5uYW1lPXRoaXMubmFtZXx8ZigpO3RoaXMuaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCk7dGhpcy5zdGF0dXM9XCJ1bmxvYWRlZFwiO3RoaXMuY29uZmlnPUNLRURJVE9SLnRvb2xzLnByb3RvdHlwZWRDb3B5KENLRURJVE9SLmNvbmZpZyk7dGhpcy51aT1uZXcgQ0tFRElUT1IudWkodGhpcyk7dGhpcy5mb2N1c01hbmFnZXI9bmV3IENLRURJVE9SLmZvY3VzTWFuYWdlcih0aGlzKTt0aGlzLmtleXN0cm9rZUhhbmRsZXI9bmV3IENLRURJVE9SLmtleXN0cm9rZUhhbmRsZXIodGhpcyk7dGhpcy5vbihcInJlYWRPbmx5XCIsYik7dGhpcy5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGEpe2sodGhpcyxhLmRhdGEucGF0aCl9KTt0aGlzLm9uKFwiYWN0aXZlRmlsdGVyQ2hhbmdlXCIsXG5mdW5jdGlvbigpe2sodGhpcyx0aGlzLmVsZW1lbnRQYXRoKCksITApfSk7dGhpcy5vbihcIm1vZGVcIixiKTtDS0VESVRPUi5kb20uc2VsZWN0aW9uLnNldHVwRWRpdG9yT3B0aW1pemF0aW9uKHRoaXMpO3RoaXMub24oXCJpbnN0YW5jZVJlYWR5XCIsZnVuY3Rpb24oKXtpZih0aGlzLmNvbmZpZy5zdGFydHVwRm9jdXMpe2lmKFwiZW5kXCI9PT10aGlzLmNvbmZpZy5zdGFydHVwRm9jdXMpe3ZhciBhPXRoaXMuY3JlYXRlUmFuZ2UoKTthLnNlbGVjdE5vZGVDb250ZW50cyh0aGlzLmVkaXRhYmxlKCkpO2Euc2hyaW5rKENLRURJVE9SLlNIUklOS19FTEVNRU5ULCEwKTthLmNvbGxhcHNlKCk7dGhpcy5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2FdKX10aGlzLmZvY3VzKCl9fSk7Q0tFRElUT1IuZmlyZShcImluc3RhbmNlQ3JlYXRlZFwiLG51bGwsdGhpcyk7Q0tFRElUT1IuYWRkKHRoaXMpO0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmlzRGVzdHJveWVkKCl8fFxudGhpcy5pc0RldGFjaGVkKCl8fG0odGhpcyxhKX0sMCx0aGlzKX1mdW5jdGlvbiBmKCl7ZG8gdmFyIGE9XCJlZGl0b3JcIisgKytyO3doaWxlKENLRURJVE9SLmluc3RhbmNlc1thXSk7cmV0dXJuIGF9ZnVuY3Rpb24gZShhLGIpe3JldHVybiBiPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP2EuaXMoQ0tFRElUT1IuZHRkLiRlZGl0YWJsZSl8fGEuaXMoXCJ0ZXh0YXJlYVwiKTpiPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRT8hYS5pcyhDS0VESVRPUi5kdGQuJG5vbkJvZHlDb250ZW50KToxfWZ1bmN0aW9uIGIoKXt2YXIgYT10aGlzLmNvbW1hbmRzLGI7Zm9yKGIgaW4gYSljKHRoaXMsYVtiXSl9ZnVuY3Rpb24gYyhhLGIpe2JbYi5zdGFydERpc2FibGVkP1wiZGlzYWJsZVwiOmEucmVhZE9ubHkmJiFiLnJlYWRPbmx5P1wiZGlzYWJsZVwiOmIubW9kZXNbYS5tb2RlXT9cImVuYWJsZVwiOlwiZGlzYWJsZVwiXSgpfWZ1bmN0aW9uIGsoYSxiLGQpe2lmKGIpe3ZhciBjLGcsZT1hLmNvbW1hbmRzO1xuZm9yKGcgaW4gZSljPWVbZ10sKGR8fGMuY29udGV4dFNlbnNpdGl2ZSkmJmMucmVmcmVzaChhLGIpfX1mdW5jdGlvbiBsKGEpe3ZhciBiPWEuY29uZmlnLmN1c3RvbUNvbmZpZztpZighYilyZXR1cm4hMTt2YXIgYj1DS0VESVRPUi5nZXRVcmwoYiksZD1wW2JdfHwocFtiXT17fSk7ZC5mbj8oZC5mbi5jYWxsKGEsYS5jb25maWcpLENLRURJVE9SLmdldFVybChhLmNvbmZpZy5jdXN0b21Db25maWcpIT1iJiZsKGEpfHxhLmZpcmVPbmNlKFwiY3VzdG9tQ29uZmlnTG9hZGVkXCIpKTpDS0VESVRPUi5zY3JpcHRMb2FkZXIucXVldWUoYixmdW5jdGlvbigpe2QuZm49ZC5mbnx8Q0tFRElUT1IuZWRpdG9yQ29uZmlnfHxmdW5jdGlvbigpe307bChhKX0pO3JldHVybiEwfWZ1bmN0aW9uIG0oYSxiKXthLm9uKFwiY3VzdG9tQ29uZmlnTG9hZGVkXCIsZnVuY3Rpb24oKXtpZihiKXtpZihiLm9uKWZvcih2YXIgYyBpbiBiLm9uKWEub24oYyxiLm9uW2NdKTtDS0VESVRPUi50b29scy5leHRlbmQoYS5jb25maWcsXG5iLCEwKTtkZWxldGUgYS5jb25maWcub259Yz1hLmNvbmZpZzthLnJlYWRPbmx5PWMucmVhZE9ubHk/ITA6YS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT9hLmVsZW1lbnQuaXMoXCJ0ZXh0YXJlYVwiKT9hLmVsZW1lbnQuaGFzQXR0cmlidXRlKFwiZGlzYWJsZWRcIil8fGEuZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJyZWFkb25seVwiKTphLmVsZW1lbnQuaXNSZWFkT25seSgpOmEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFP2EuZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKXx8YS5lbGVtZW50Lmhhc0F0dHJpYnV0ZShcInJlYWRvbmx5XCIpOiExO2EuYmxvY2tsZXNzPWEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU/IShhLmVsZW1lbnQuaXMoXCJ0ZXh0YXJlYVwiKXx8Q0tFRElUT1IuZHRkW2EuZWxlbWVudC5nZXROYW1lKCldLnApOiExO2EudGFiSW5kZXg9Yy50YWJJbmRleHx8YS5lbGVtZW50JiZcbmEuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKXx8MDthLmFjdGl2ZUVudGVyTW9kZT1hLmVudGVyTW9kZT1hLmJsb2NrbGVzcz9DS0VESVRPUi5FTlRFUl9CUjpjLmVudGVyTW9kZTthLmFjdGl2ZVNoaWZ0RW50ZXJNb2RlPWEuc2hpZnRFbnRlck1vZGU9YS5ibG9ja2xlc3M/Q0tFRElUT1IuRU5URVJfQlI6Yy5zaGlmdEVudGVyTW9kZTtjLnNraW4mJihDS0VESVRPUi5za2luTmFtZT1jLnNraW4pO2EuZmlyZU9uY2UoXCJjb25maWdMb2FkZWRcIik7YS5kYXRhUHJvY2Vzc29yPW5ldyBDS0VESVRPUi5odG1sRGF0YVByb2Nlc3NvcihhKTthLmZpbHRlcj1hLmFjdGl2ZUZpbHRlcj1uZXcgQ0tFRElUT1IuZmlsdGVyKGEpO2QoYSl9KTtiJiZudWxsIT1iLmN1c3RvbUNvbmZpZyYmKGEuY29uZmlnLmN1c3RvbUNvbmZpZz1iLmN1c3RvbUNvbmZpZyk7bChhKXx8YS5maXJlT25jZShcImN1c3RvbUNvbmZpZ0xvYWRlZFwiKX1mdW5jdGlvbiBkKGEpe0NLRURJVE9SLnNraW4ubG9hZFBhcnQoXCJlZGl0b3JcIixcbmZ1bmN0aW9uKCl7aChhKX0pfWZ1bmN0aW9uIGgoYSl7Q0tFRElUT1IubGFuZy5sb2FkKGEuY29uZmlnLmxhbmd1YWdlLGEuY29uZmlnLmRlZmF1bHRMYW5ndWFnZSxmdW5jdGlvbihiLGQpe3ZhciBjPWEuY29uZmlnLnRpdGxlLGU9YS5jb25maWcuYXBwbGljYXRpb25UaXRsZTthLmxhbmdDb2RlPWI7YS5sYW5nPUNLRURJVE9SLnRvb2xzLnByb3RvdHlwZWRDb3B5KGQpO2EudGl0bGU9XCJzdHJpbmdcIj09dHlwZW9mIGN8fCExPT09Yz9jOlthLmxhbmcuZWRpdG9yLGEubmFtZV0uam9pbihcIiwgXCIpO2EuYXBwbGljYXRpb25UaXRsZT1cInN0cmluZ1wiPT10eXBlb2YgZXx8ITE9PT1lP2U6W2EubGFuZy5hcHBsaWNhdGlvbixhLm5hbWVdLmpvaW4oXCIsIFwiKTthLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb258fChhLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb249YS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT9hLmVsZW1lbnQuZ2V0RGlyZWN0aW9uKDEpOlxuYS5sYW5nLmRpcik7YS5maXJlKFwibGFuZ0xvYWRlZFwiKTtnKGEpfSl9ZnVuY3Rpb24gZyhhKXthLmdldFN0eWxlc1NldChmdW5jdGlvbihiKXthLm9uY2UoXCJsb2FkZWRcIixmdW5jdGlvbigpe2EuZmlyZShcInN0eWxlc1NldFwiLHtzdHlsZXM6Yn0pfSxudWxsLG51bGwsMSk7bihhKX0pfWZ1bmN0aW9uIG4oYSl7ZnVuY3Rpb24gYihhKXtpZighYSlyZXR1cm5cIlwiO0NLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSkmJihhPWEuam9pbihcIixcIikpO3JldHVybiBhLnJlcGxhY2UoL1xccy9nLFwiXCIpfXZhciBkPWEuY29uZmlnLGM9YihkLnBsdWdpbnMpLGc9YihkLmV4dHJhUGx1Z2lucyksZT1iKGQucmVtb3ZlUGx1Z2lucyk7aWYoZyl2YXIgaD1uZXcgUmVnRXhwKFwiKD86XnwsKSg/OlwiK2cucmVwbGFjZSgvLC9nLFwifFwiKStcIikoP1xceDNkLHwkKVwiLFwiZ1wiKSxjPWMucmVwbGFjZShoLFwiXCIpLGM9YysoXCIsXCIrZyk7aWYoZSl2YXIgaz1uZXcgUmVnRXhwKFwiKD86XnwsKSg/OlwiK2UucmVwbGFjZSgvLC9nLFwifFwiKStcblwiKSg/XFx4M2QsfCQpXCIsXCJnXCIpLGM9Yy5yZXBsYWNlKGssXCJcIik7Q0tFRElUT1IuZW52LmFpciYmKGMrPVwiLGFkb2JlYWlyXCIpO0NLRURJVE9SLnBsdWdpbnMubG9hZChjLnNwbGl0KFwiLFwiKSxmdW5jdGlvbihiKXt2YXIgYz1bXSxnPVtdLGU9W107YS5wbHVnaW5zPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxhLnBsdWdpbnMsYik7Zm9yKHZhciBoIGluIGIpe3ZhciBmPWJbaF0sbD1mLmxhbmcsbj1udWxsLG09Zi5yZXF1aXJlcyx2O0NLRURJVE9SLnRvb2xzLmlzQXJyYXkobSkmJihtPW0uam9pbihcIixcIikpO2lmKG0mJih2PW0ubWF0Y2goaykpKWZvcig7bT12LnBvcCgpOylDS0VESVRPUi5lcnJvcihcImVkaXRvci1wbHVnaW4tcmVxdWlyZWRcIix7cGx1Z2luOm0ucmVwbGFjZShcIixcIixcIlwiKSxyZXF1aXJlZEJ5Omh9KTtsJiYhYS5sYW5nW2hdJiYobC5zcGxpdCYmKGw9bC5zcGxpdChcIixcIikpLDA8PUNLRURJVE9SLnRvb2xzLmluZGV4T2YobCxhLmxhbmdDb2RlKT9uPWEubGFuZ0NvZGU6KG49XG5hLmxhbmdDb2RlLnJlcGxhY2UoLy0uKi8sXCJcIiksbj1uIT1hLmxhbmdDb2RlJiYwPD1DS0VESVRPUi50b29scy5pbmRleE9mKGwsbik/bjowPD1DS0VESVRPUi50b29scy5pbmRleE9mKGwsXCJlblwiKT9cImVuXCI6bFswXSksZi5sYW5nRW50cmllcyYmZi5sYW5nRW50cmllc1tuXT8oYS5sYW5nW2hdPWYubGFuZ0VudHJpZXNbbl0sbj1udWxsKTplLnB1c2goQ0tFRElUT1IuZ2V0VXJsKGYucGF0aCtcImxhbmcvXCIrbitcIi5qc1wiKSkpO2cucHVzaChuKTtjLnB1c2goZil9Q0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoZSxmdW5jdGlvbigpe2lmKCFhLmlzRGVzdHJveWVkKCkmJiFhLmlzRGV0YWNoZWQoKSl7Zm9yKHZhciBiPVtcImJlZm9yZUluaXRcIixcImluaXRcIixcImFmdGVySW5pdFwiXSxlPTA7ZTxiLmxlbmd0aDtlKyspZm9yKHZhciBoPTA7aDxjLmxlbmd0aDtoKyspe3ZhciBrPWNbaF07MD09PWUmJmdbaF0mJmsubGFuZyYmay5sYW5nRW50cmllcyYmKGEubGFuZ1trLm5hbWVdPWsubGFuZ0VudHJpZXNbZ1toXV0pO1xuaWYoa1tiW2VdXSlrW2JbZV1dKGEpfWEuZmlyZU9uY2UoXCJwbHVnaW5zTG9hZGVkXCIpO2Qua2V5c3Ryb2tlcyYmYS5zZXRLZXlzdHJva2UoYS5jb25maWcua2V5c3Ryb2tlcyk7Zm9yKGg9MDtoPGEuY29uZmlnLmJsb2NrZWRLZXlzdHJva2VzLmxlbmd0aDtoKyspYS5rZXlzdHJva2VIYW5kbGVyLmJsb2NrZWRLZXlzdHJva2VzW2EuY29uZmlnLmJsb2NrZWRLZXlzdHJva2VzW2hdXT0xO2Euc3RhdHVzPVwibG9hZGVkXCI7YS5maXJlT25jZShcImxvYWRlZFwiKTtDS0VESVRPUi5maXJlKFwiaW5zdGFuY2VMb2FkZWRcIixudWxsLGEpfX0pfSl9ZnVuY3Rpb24gdygpe3ZhciBhPXRoaXMuZWxlbWVudDtpZihhJiZ0aGlzLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE8pe3ZhciBiPXRoaXMuZ2V0RGF0YSgpO3RoaXMuY29uZmlnLmh0bWxFbmNvZGVPdXRwdXQmJihiPUNLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoYikpO2EuaXMoXCJ0ZXh0YXJlYVwiKT9hLnNldFZhbHVlKGIpOlxuYS5zZXRIdG1sKGIpO3JldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIHgoYSxiKXtmdW5jdGlvbiBkKGEpe3ZhciBiPWEuc3RhcnRDb250YWluZXIsYz1hLmVuZENvbnRhaW5lcixnPWIuaXMmJmIuaXMoXCJ0clwiKSxlPWIuaXMmJmIuaXMoXCJ0ZFwiKTthPWUmJmIuZXF1YWxzKGMpJiZhLmVuZE9mZnNldD09PWIuZ2V0Q2hpbGRDb3VudCgpO2I9ZSYmMT09PWIuZ2V0Q2hpbGRDb3VudCgpJiZcImltZ1wiPT09Yi5nZXRDaGlsZHJlbigpLmdldEl0ZW0oMCkuZ2V0TmFtZSgpO3JldHVybiBnfHxhJiYhYj8hMDohMX1mdW5jdGlvbiBjKGEpe3ZhciBiPWEuc3RhcnRDb250YWluZXI7cmV0dXJuIGIuaXMoXCJ0clwiKT9hLmNsb25lQ29udGVudHMoKTpiLmNsb25lKCEwKX1mb3IodmFyIGc9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50LGUsaCxrLGY9MDtmPGEubGVuZ3RoO2YrKyl7dmFyIGw9YVtmXSxuPWwuc3RhcnRDb250YWluZXIuZ2V0QXNjZW5kYW50KFwidHJcIiwhMCk7ZChsKT8oZXx8KGU9XG5uLmdldEFzY2VuZGFudChcInRhYmxlXCIpLmNsb25lKCksZS5hcHBlbmQobi5nZXRBc2NlbmRhbnQoe3RoZWFkOjEsdGJvZHk6MSx0Zm9vdDoxfSkuY2xvbmUoKSksZy5hcHBlbmQoZSksZT1lLmZpbmRPbmUoXCJ0aGVhZCwgdGJvZHksIHRmb290XCIpKSxoJiZoLmVxdWFscyhuKXx8KGg9bixrPW4uY2xvbmUoKSxlLmFwcGVuZChrKSksay5hcHBlbmQoYyhsKSkpOmcuYXBwZW5kKGwuY2xvbmVDb250ZW50cygpKX1yZXR1cm4gZT9nOmIuZ2V0SHRtbEZyb21SYW5nZShhWzBdKX1hLnByb3RvdHlwZT1DS0VESVRPUi5lZGl0b3IucHJvdG90eXBlO0NLRURJVE9SLmVkaXRvcj1hO3ZhciByPTAscD17fTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZSx7cGx1Z2luczp7ZGV0ZWN0Q29uZmxpY3Q6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGM9YltkXTtpZih0aGlzW2NdKXJldHVybiBDS0VESVRPUi53YXJuKFwiZWRpdG9yLXBsdWdpbi1jb25mbGljdFwiLFxue3BsdWdpbjphLHJlcGxhY2VkV2l0aDpjfSksITB9cmV0dXJuITF9fSxhZGRDb21tYW5kOmZ1bmN0aW9uKGEsYil7Yi5uYW1lPWEudG9Mb3dlckNhc2UoKTt2YXIgZD1iIGluc3RhbmNlb2YgQ0tFRElUT1IuY29tbWFuZD9iOm5ldyBDS0VESVRPUi5jb21tYW5kKHRoaXMsYik7dGhpcy5tb2RlJiZjKHRoaXMsZCk7cmV0dXJuIHRoaXMuY29tbWFuZHNbYV09ZH0sX2F0dGFjaFRvRm9ybTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7ZC51cGRhdGVFbGVtZW50KCk7ZC5fLnJlcXVpcmVkJiYhYy5nZXRWYWx1ZSgpJiYhMT09PWQuZmlyZShcInJlcXVpcmVkXCIpJiZiLmRhdGEucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBiKGEpe3JldHVybiEhKGEmJmEuY2FsbCYmYS5hcHBseSl9dmFyIGQ9dGhpcyxjPWQuZWxlbWVudCxnPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChjLiQuZm9ybSk7Yy5pcyhcInRleHRhcmVhXCIpJiZnJiYoZy5vbihcInN1Ym1pdFwiLGEpLGIoZy4kLnN1Ym1pdCkmJihnLiQuc3VibWl0PVxuQ0tFRElUT1IudG9vbHMub3ZlcnJpZGUoZy4kLnN1Ym1pdCxmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oKXthKCk7Yi5hcHBseT9iLmFwcGx5KHRoaXMpOmIoKX19KSksZC5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe2cucmVtb3ZlTGlzdGVuZXIoXCJzdWJtaXRcIixhKX0pKX0sZGVzdHJveTpmdW5jdGlvbihhKXt2YXIgYj1DS0VESVRPUi5maWx0ZXIuaW5zdGFuY2VzLGQ9dGhpczt0aGlzLmZpcmUoXCJiZWZvcmVEZXN0cm95XCIpOyFhJiZ3LmNhbGwodGhpcyk7dGhpcy5lZGl0YWJsZShudWxsKTt0aGlzLmZpbHRlciYmZGVsZXRlIHRoaXMuZmlsdGVyO0NLRURJVE9SLnRvb2xzLmFycmF5LmZvckVhY2goQ0tFRElUT1IudG9vbHMub2JqZWN0LmtleXMoYiksZnVuY3Rpb24oYSl7YT1iW2FdO2Q9PT1hLmVkaXRvciYmYS5kZXN0cm95KCl9KTtkZWxldGUgdGhpcy5hY3RpdmVGaWx0ZXI7dGhpcy5zdGF0dXM9XCJkZXN0cm95ZWRcIjt0aGlzLmZpcmUoXCJkZXN0cm95XCIpO3RoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG5DS0VESVRPUi5yZW1vdmUodGhpcyk7Q0tFRElUT1IuZmlyZShcImluc3RhbmNlRGVzdHJveWVkXCIsbnVsbCx0aGlzKX0sZWxlbWVudFBhdGg6ZnVuY3Rpb24oYSl7aWYoIWEpe2E9dGhpcy5nZXRTZWxlY3Rpb24oKTtpZighYSlyZXR1cm4gbnVsbDthPWEuZ2V0U3RhcnRFbGVtZW50KCl9cmV0dXJuIGE/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChhLHRoaXMuZWRpdGFibGUoKSk6bnVsbH0sY3JlYXRlUmFuZ2U6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVkaXRhYmxlKCk7cmV0dXJuIGE/bmV3IENLRURJVE9SLmRvbS5yYW5nZShhKTpudWxsfSxleGVjQ29tbWFuZDpmdW5jdGlvbihhLGIpe3ZhciBkPXRoaXMuZ2V0Q29tbWFuZChhKSxjPXtuYW1lOmEsY29tbWFuZERhdGE6Ynx8e30sY29tbWFuZDpkfTtyZXR1cm4gZCYmZC5zdGF0ZSE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJiExIT09dGhpcy5maXJlKFwiYmVmb3JlQ29tbWFuZEV4ZWNcIixjKSYmKGMucmV0dXJuVmFsdWU9XG5kLmV4ZWMoYy5jb21tYW5kRGF0YSksIWQuYXN5bmMmJiExIT09dGhpcy5maXJlKFwiYWZ0ZXJDb21tYW5kRXhlY1wiLGMpKT9jLnJldHVyblZhbHVlOiExfSxnZXRDb21tYW5kOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbW1hbmRzW2FdfSxnZXREYXRhOmZ1bmN0aW9uKGEpeyFhJiZ0aGlzLmZpcmUoXCJiZWZvcmVHZXREYXRhXCIpO3ZhciBiPXRoaXMuXy5kYXRhO1wic3RyaW5nXCIhPXR5cGVvZiBiJiYoYj0oYj10aGlzLmVsZW1lbnQpJiZ0aGlzLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRT9iLmlzKFwidGV4dGFyZWFcIik/Yi5nZXRWYWx1ZSgpOmIuZ2V0SHRtbCgpOlwiXCIpO2I9e2RhdGFWYWx1ZTpifTshYSYmdGhpcy5maXJlKFwiZ2V0RGF0YVwiLGIpO3JldHVybiBiLmRhdGFWYWx1ZX0sZ2V0U25hcHNob3Q6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmZpcmUoXCJnZXRTbmFwc2hvdFwiKTtcInN0cmluZ1wiIT10eXBlb2YgYSYmKGE9KGE9dGhpcy5lbGVtZW50KSYmdGhpcy5lbGVtZW50TW9kZT09XG5DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRT9hLmlzKFwidGV4dGFyZWFcIik/YS5nZXRWYWx1ZSgpOmEuZ2V0SHRtbCgpOlwiXCIpO3JldHVybiBhfSxsb2FkU25hcHNob3Q6ZnVuY3Rpb24oYSl7dGhpcy5maXJlKFwibG9hZFNuYXBzaG90XCIsYSl9LHNldERhdGE6ZnVuY3Rpb24oYSxiLGQpe3ZhciBjPSEwLGc9YjtiJiZcIm9iamVjdFwiPT10eXBlb2YgYiYmKGQ9Yi5pbnRlcm5hbCxnPWIuY2FsbGJhY2ssYz0hYi5ub1NuYXBzaG90KTshZCYmYyYmdGhpcy5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2lmKGd8fCFkKXRoaXMub25jZShcImRhdGFSZWFkeVwiLGZ1bmN0aW9uKGEpeyFkJiZjJiZ0aGlzLmZpcmUoXCJzYXZlU25hcHNob3RcIik7ZyYmZy5jYWxsKGEuZWRpdG9yKX0pO2E9e2RhdGFWYWx1ZTphfTshZCYmdGhpcy5maXJlKFwic2V0RGF0YVwiLGEpO3RoaXMuXy5kYXRhPWEuZGF0YVZhbHVlOyFkJiZ0aGlzLmZpcmUoXCJhZnRlclNldERhdGFcIixhKX0sc2V0UmVhZE9ubHk6ZnVuY3Rpb24oYSl7YT1cbm51bGw9PWF8fGE7dGhpcy5yZWFkT25seSE9YSYmKHRoaXMucmVhZE9ubHk9YSx0aGlzLmtleXN0cm9rZUhhbmRsZXIuYmxvY2tlZEtleXN0cm9rZXNbOF09K2EsdGhpcy5lZGl0YWJsZSgpLnNldFJlYWRPbmx5KGEpLHRoaXMuZmlyZShcInJlYWRPbmx5XCIpKX0saW5zZXJ0SHRtbDpmdW5jdGlvbihhLGIsZCl7dGhpcy5maXJlKFwiaW5zZXJ0SHRtbFwiLHtkYXRhVmFsdWU6YSxtb2RlOmIscmFuZ2U6ZH0pfSxpbnNlcnRUZXh0OmZ1bmN0aW9uKGEpe3RoaXMuZmlyZShcImluc2VydFRleHRcIixhKX0saW5zZXJ0RWxlbWVudDpmdW5jdGlvbihhKXt0aGlzLmZpcmUoXCJpbnNlcnRFbGVtZW50XCIsYSl9LGdldFNlbGVjdGVkSHRtbDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVkaXRhYmxlKCksZD10aGlzLmdldFNlbGVjdGlvbigpLGQ9ZCYmZC5nZXRSYW5nZXMoKTtpZighYnx8IWR8fDA9PT1kLmxlbmd0aClyZXR1cm4gbnVsbDtiPXgoZCxiKTtyZXR1cm4gYT9iLmdldEh0bWwoKTpifSxleHRyYWN0U2VsZWN0ZWRIdG1sOmZ1bmN0aW9uKGEsXG5iKXt2YXIgZD10aGlzLmVkaXRhYmxlKCksYz10aGlzLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpLGc9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50LGU7aWYoIWR8fDA9PT1jLmxlbmd0aClyZXR1cm4gbnVsbDtmb3IoZT0wO2U8Yy5sZW5ndGg7ZSsrKWcuYXBwZW5kKGQuZXh0cmFjdEh0bWxGcm9tUmFuZ2UoY1tlXSxiKSk7Ynx8dGhpcy5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2NbMF1dKTtyZXR1cm4gYT9nLmdldEh0bWwoKTpnfSxmb2N1czpmdW5jdGlvbigpe3RoaXMuZmlyZShcImJlZm9yZUZvY3VzXCIpfSxjaGVja0RpcnR5OmZ1bmN0aW9uKCl7cmV0dXJuXCJyZWFkeVwiPT10aGlzLnN0YXR1cyYmdGhpcy5fLnByZXZpb3VzVmFsdWUhPT10aGlzLmdldFNuYXBzaG90KCl9LHJlc2V0RGlydHk6ZnVuY3Rpb24oKXt0aGlzLl8ucHJldmlvdXNWYWx1ZT10aGlzLmdldFNuYXBzaG90KCl9LHVwZGF0ZUVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdy5jYWxsKHRoaXMpfSxcbnNldEtleXN0cm9rZTpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmtleXN0cm9rZUhhbmRsZXIua2V5c3Ryb2tlcyxiPUNLRURJVE9SLnRvb2xzLmlzQXJyYXkoYXJndW1lbnRzWzBdKT9hcmd1bWVudHNbMF06W1tdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApXSxkLGMsZz1iLmxlbmd0aDtnLS07KWQ9YltnXSxjPTAsQ0tFRElUT1IudG9vbHMuaXNBcnJheShkKSYmKGM9ZFsxXSxkPWRbMF0pLGM/YVtkXT1jOmRlbGV0ZSBhW2RdfSxnZXRDb21tYW5kS2V5c3Ryb2tlOmZ1bmN0aW9uKGEsYil7dmFyIGQ9XCJzdHJpbmdcIj09PXR5cGVvZiBhP3RoaXMuZ2V0Q29tbWFuZChhKTphLGM9W107aWYoZCl7dmFyIGc9Q0tFRElUT1IudG9vbHMub2JqZWN0LmZpbmRLZXkodGhpcy5jb21tYW5kcyxkKSxlPXRoaXMua2V5c3Ryb2tlSGFuZGxlci5rZXlzdHJva2VzO2lmKGQuZmFrZUtleXN0cm9rZSljLnB1c2goZC5mYWtlS2V5c3Ryb2tlKTtlbHNlIGZvcih2YXIgaCBpbiBlKWVbaF09PT1nJiZjLnB1c2goaCl9cmV0dXJuIGI/XG5jOmNbMF18fG51bGx9LGFkZEZlYXR1cmU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZmlsdGVyLmFkZEZlYXR1cmUoYSl9LHNldEFjdGl2ZUZpbHRlcjpmdW5jdGlvbihhKXthfHwoYT10aGlzLmZpbHRlcik7dGhpcy5hY3RpdmVGaWx0ZXIhPT1hJiYodGhpcy5hY3RpdmVGaWx0ZXI9YSx0aGlzLmZpcmUoXCJhY3RpdmVGaWx0ZXJDaGFuZ2VcIiksYT09PXRoaXMuZmlsdGVyP3RoaXMuc2V0QWN0aXZlRW50ZXJNb2RlKG51bGwsbnVsbCk6dGhpcy5zZXRBY3RpdmVFbnRlck1vZGUoYS5nZXRBbGxvd2VkRW50ZXJNb2RlKHRoaXMuZW50ZXJNb2RlKSxhLmdldEFsbG93ZWRFbnRlck1vZGUodGhpcy5zaGlmdEVudGVyTW9kZSwhMCkpKX0sc2V0QWN0aXZlRW50ZXJNb2RlOmZ1bmN0aW9uKGEsYil7YT1hP3RoaXMuYmxvY2tsZXNzP0NLRURJVE9SLkVOVEVSX0JSOmE6dGhpcy5lbnRlck1vZGU7Yj1iP3RoaXMuYmxvY2tsZXNzP0NLRURJVE9SLkVOVEVSX0JSOmI6dGhpcy5zaGlmdEVudGVyTW9kZTtcbmlmKHRoaXMuYWN0aXZlRW50ZXJNb2RlIT1hfHx0aGlzLmFjdGl2ZVNoaWZ0RW50ZXJNb2RlIT1iKXRoaXMuYWN0aXZlRW50ZXJNb2RlPWEsdGhpcy5hY3RpdmVTaGlmdEVudGVyTW9kZT1iLHRoaXMuZmlyZShcImFjdGl2ZUVudGVyTW9kZUNoYW5nZVwiKX0sc2hvd05vdGlmaWNhdGlvbjpmdW5jdGlvbihhKXthbGVydChhKX0saXNEZXRhY2hlZDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5jb250YWluZXImJnRoaXMuY29udGFpbmVyLmlzRGV0YWNoZWQoKX0saXNEZXN0cm95ZWQ6ZnVuY3Rpb24oKXtyZXR1cm5cImRlc3Ryb3llZFwiPT09dGhpcy5zdGF0dXN9fSk7Q0tFRElUT1IuZWRpdG9yLl9nZXRFZGl0b3JFbGVtZW50PWZ1bmN0aW9uKGEpe2lmKCFDS0VESVRPUi5lbnYuaXNDb21wYXRpYmxlKXJldHVybiBudWxsO3ZhciBiPUNLRURJVE9SLmRvbS5lbGVtZW50LmdldChhKTtyZXR1cm4gYj9iLmdldEVkaXRvcigpPyhDS0VESVRPUi5lcnJvcihcImVkaXRvci1lbGVtZW50LWNvbmZsaWN0XCIsXG57ZWRpdG9yTmFtZTpiLmdldEVkaXRvcigpLm5hbWV9KSxudWxsKTpiOihDS0VESVRPUi5lcnJvcihcImVkaXRvci1pbmNvcnJlY3QtZWxlbWVudFwiLHtlbGVtZW50OmF9KSxudWxsKX07Q0tFRElUT1IuZWRpdG9yLmluaXRpYWxpemVEZWxheWVkRWRpdG9yQ3JlYXRpb249ZnVuY3Rpb24oYSxiLGQpe2lmKGIuZGVsYXlJZkRldGFjaGVkX2NhbGxiYWNrKXJldHVybiBDS0VESVRPUi53YXJuKFwiZWRpdG9yLWRlbGF5ZWQtY3JlYXRpb25cIix7bWV0aG9kOlwiY2FsbGJhY2tcIn0pLGIuZGVsYXlJZkRldGFjaGVkX2NhbGxiYWNrKGZ1bmN0aW9uKCl7Q0tFRElUT1JbZF0oYSxiKTtDS0VESVRPUi53YXJuKFwiZWRpdG9yLWRlbGF5ZWQtY3JlYXRpb24tc3VjY2Vzc1wiLHttZXRob2Q6XCJjYWxsYmFja1wifSl9KSxudWxsO3ZhciBjPXZvaWQgMD09PWIuZGVsYXlJZkRldGFjaGVkX2ludGVydmFsP0NLRURJVE9SLmNvbmZpZy5kZWxheUlmRGV0YWNoZWRfaW50ZXJ2YWw6Yi5kZWxheUlmRGV0YWNoZWRfaW50ZXJ2YWw7XG5DS0VESVRPUi53YXJuKFwiZWRpdG9yLWRlbGF5ZWQtY3JlYXRpb25cIix7bWV0aG9kOlwiaW50ZXJ2YWwgLSBcIitjK1wiIG1zXCJ9KTt2YXIgZz1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2EuaXNEZXRhY2hlZCgpfHwoY2xlYXJJbnRlcnZhbChnKSxDS0VESVRPUltkXShhLGIpLENLRURJVE9SLndhcm4oXCJlZGl0b3ItZGVsYXllZC1jcmVhdGlvbi1zdWNjZXNzXCIse21ldGhvZDpcImludGVydmFsIC0gXCIrYytcIiBtc1wifSkpfSxjKTtyZXR1cm4gZnVuY3Rpb24oKXtjbGVhckludGVydmFsKGcpfX07Q0tFRElUT1IuZWRpdG9yLnNob3VsZERlbGF5RWRpdG9yQ3JlYXRpb249ZnVuY3Rpb24oYSxiKXtDS0VESVRPUi5lZGl0b3IubWVyZ2VEZWxheWVkQ3JlYXRpb25Db25maWdzKGIpO3JldHVybiBiJiZiLmRlbGF5SWZEZXRhY2hlZCYmYS5pc0RldGFjaGVkKCl9O0NLRURJVE9SLmVkaXRvci5tZXJnZURlbGF5ZWRDcmVhdGlvbkNvbmZpZ3M9ZnVuY3Rpb24oYSl7YSYmKGEuZGVsYXlJZkRldGFjaGVkPVwiYm9vbGVhblwiPT09XG50eXBlb2YgYS5kZWxheUlmRGV0YWNoZWQ/YS5kZWxheUlmRGV0YWNoZWQ6Q0tFRElUT1IuY29uZmlnLmRlbGF5SWZEZXRhY2hlZCxhLmRlbGF5SWZEZXRhY2hlZF9pbnRlcnZhbD1pc05hTihhLmRlbGF5SWZEZXRhY2hlZF9pbnRlcnZhbCk/Q0tFRElUT1IuY29uZmlnLmRlbGF5SWZEZXRhY2hlZF9pbnRlcnZhbDphLmRlbGF5SWZEZXRhY2hlZF9pbnRlcnZhbCxhLmRlbGF5SWZEZXRhY2hlZF9jYWxsYmFjaz1hLmRlbGF5SWZEZXRhY2hlZF9jYWxsYmFja3x8Q0tFRElUT1IuY29uZmlnLmRlbGF5SWZEZXRhY2hlZF9jYWxsYmFjayl9fSgpLENLRURJVE9SLkVMRU1FTlRfTU9ERV9OT05FPTAsQ0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0U9MSxDS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE89MixDS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FPTMsQ0tFRElUT1IuY29uZmlnLmRlbGF5SWZEZXRhY2hlZD0hMSxDS0VESVRPUi5jb25maWcuZGVsYXlJZkRldGFjaGVkX2NhbGxiYWNrPVxudm9pZCAwLENLRURJVE9SLmNvbmZpZy5kZWxheUlmRGV0YWNoZWRfaW50ZXJ2YWw9NTAsQ0tFRElUT1IuaHRtbFBhcnNlcj1mdW5jdGlvbigpe3RoaXMuXz17aHRtbFBhcnRzUmVnZXg6LzwoPzooPzpcXC8oW14+XSspPil8KD86IS0tKFtcXFN8XFxzXSo/KS0tIT8+KXwoPzooW15cXC9cXHM+XSspKCg/OlxccytbXFx3XFwtOi5dKyg/Olxccyo9XFxzKj8oPzooPzpcIlteXCJdKlwiKXwoPzonW14nXSonKXxbXlxcc1wiJ1xcLz5dKykpPykqKVtcXFNcXHNdKj8oXFwvPyk+KSkvZ319LGZ1bmN0aW9uKCl7dmFyIGE9LyhbXFx3XFwtOi5dKykoPzooPzpcXHMqPVxccyooPzooPzpcIihbXlwiXSopXCIpfCg/OicoW14nXSopJyl8KFteXFxzPl0rKSkpfCg/PVxcc3wkKSkvZyxmPXtjaGVja2VkOjEsY29tcGFjdDoxLGRlY2xhcmU6MSxkZWZlcjoxLGRpc2FibGVkOjEsaXNtYXA6MSxtdWx0aXBsZToxLG5vaHJlZjoxLG5vcmVzaXplOjEsbm9zaGFkZToxLG5vd3JhcDoxLHJlYWRvbmx5OjEsc2VsZWN0ZWQ6MX07Q0tFRElUT1IuaHRtbFBhcnNlci5wcm90b3R5cGU9XG57b25UYWdPcGVuOmZ1bmN0aW9uKCl7fSxvblRhZ0Nsb3NlOmZ1bmN0aW9uKCl7fSxvblRleHQ6ZnVuY3Rpb24oKXt9LG9uQ0RBVEE6ZnVuY3Rpb24oKXt9LG9uQ29tbWVudDpmdW5jdGlvbigpe30scGFyc2U6ZnVuY3Rpb24oZSl7Zm9yKHZhciBiLGMsaz0wLGw7Yj10aGlzLl8uaHRtbFBhcnRzUmVnZXguZXhlYyhlKTspe2M9Yi5pbmRleDtpZihjPmspaWYoaz1lLnN1YnN0cmluZyhrLGMpLGwpbC5wdXNoKGspO2Vsc2UgdGhpcy5vblRleHQoayk7az10aGlzLl8uaHRtbFBhcnRzUmVnZXgubGFzdEluZGV4O2lmKGM9YlsxXSlpZihjPWMudG9Mb3dlckNhc2UoKSxsJiZDS0VESVRPUi5kdGQuJGNkYXRhW2NdJiYodGhpcy5vbkNEQVRBKGwuam9pbihcIlwiKSksbD1udWxsKSwhbCl7dGhpcy5vblRhZ0Nsb3NlKGMpO2NvbnRpbnVlfWlmKGwpbC5wdXNoKGJbMF0pO2Vsc2UgaWYoYz1iWzNdKXtpZihjPWMudG9Mb3dlckNhc2UoKSwhLz1cIi8udGVzdChjKSl7dmFyIG09e30sZCxoPWJbNF07Yj1cbiEhYls1XTtpZihoKWZvcig7ZD1hLmV4ZWMoaCk7KXt2YXIgZz1kWzFdLnRvTG93ZXJDYXNlKCk7ZD1kWzJdfHxkWzNdfHxkWzRdfHxcIlwiO21bZ109IWQmJmZbZ10/ZzpDS0VESVRPUi50b29scy5odG1sRGVjb2RlQXR0cihkKX10aGlzLm9uVGFnT3BlbihjLG0sYik7IWwmJkNLRURJVE9SLmR0ZC4kY2RhdGFbY10mJihsPVtdKX19ZWxzZSBpZihjPWJbMl0pdGhpcy5vbkNvbW1lbnQoYyl9aWYoZS5sZW5ndGg+ayl0aGlzLm9uVGV4dChlLnN1YnN0cmluZyhrLGUubGVuZ3RoKSl9fX0oKSxDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKCl7dGhpcy5fPXtvdXRwdXQ6W119fSxwcm90bzp7b3BlblRhZzpmdW5jdGlvbihhKXt0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzY1wiLGEpfSxvcGVuVGFnQ2xvc2U6ZnVuY3Rpb24oYSxmKXtmP3RoaXMuXy5vdXRwdXQucHVzaChcIiAvXFx4M2VcIik6dGhpcy5fLm91dHB1dC5wdXNoKFwiXFx4M2VcIil9LFxuYXR0cmlidXRlOmZ1bmN0aW9uKGEsZil7XCJzdHJpbmdcIj09dHlwZW9mIGYmJihmPUNLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGVBdHRyKGYpKTt0aGlzLl8ub3V0cHV0LnB1c2goXCIgXCIsYSwnXFx4M2RcIicsZiwnXCInKX0sY2xvc2VUYWc6ZnVuY3Rpb24oYSl7dGhpcy5fLm91dHB1dC5wdXNoKFwiXFx4M2MvXCIsYSxcIlxceDNlXCIpfSx0ZXh0OmZ1bmN0aW9uKGEpe3RoaXMuXy5vdXRwdXQucHVzaChhKX0sY29tbWVudDpmdW5jdGlvbihhKXt0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzYyEtLVwiLGEsXCItLVxceDNlXCIpfSx3cml0ZTpmdW5jdGlvbihhKXt0aGlzLl8ub3V0cHV0LnB1c2goYSl9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fLm91dHB1dD1bXTt0aGlzLl8uaW5kZW50PSExfSxnZXRIdG1sOmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMuXy5vdXRwdXQuam9pbihcIlwiKTthJiZ0aGlzLnJlc2V0KCk7cmV0dXJuIGZ9fX0pLFwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IuaHRtbFBhcnNlci5ub2RlPVxuZnVuY3Rpb24oKXt9O0NLRURJVE9SLmh0bWxQYXJzZXIubm9kZS5wcm90b3R5cGU9e3JlbW92ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMucGFyZW50LmNoaWxkcmVuLGY9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihhLHRoaXMpLGU9dGhpcy5wcmV2aW91cyxiPXRoaXMubmV4dDtlJiYoZS5uZXh0PWIpO2ImJihiLnByZXZpb3VzPWUpO2Euc3BsaWNlKGYsMSk7dGhpcy5wYXJlbnQ9bnVsbH0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcy5wYXJlbnQuY2hpbGRyZW4sZT1DS0VESVRPUi50b29scy5pbmRleE9mKGYsdGhpcyksYj1hLnByZXZpb3VzPXRoaXMucHJldmlvdXMsYz1hLm5leHQ9dGhpcy5uZXh0O2ImJihiLm5leHQ9YSk7YyYmKGMucHJldmlvdXM9YSk7ZltlXT1hO2EucGFyZW50PXRoaXMucGFyZW50O3RoaXMucGFyZW50PW51bGx9LGluc2VydEFmdGVyOmZ1bmN0aW9uKGEpe3ZhciBmPWEucGFyZW50LmNoaWxkcmVuLGU9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihmLFxuYSksYj1hLm5leHQ7Zi5zcGxpY2UoZSsxLDAsdGhpcyk7dGhpcy5uZXh0PWEubmV4dDt0aGlzLnByZXZpb3VzPWE7YS5uZXh0PXRoaXM7YiYmKGIucHJldmlvdXM9dGhpcyk7dGhpcy5wYXJlbnQ9YS5wYXJlbnR9LGluc2VydEJlZm9yZTpmdW5jdGlvbihhKXt2YXIgZj1hLnBhcmVudC5jaGlsZHJlbixlPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZixhKTtmLnNwbGljZShlLDAsdGhpcyk7dGhpcy5uZXh0PWE7KHRoaXMucHJldmlvdXM9YS5wcmV2aW91cykmJihhLnByZXZpb3VzLm5leHQ9dGhpcyk7YS5wcmV2aW91cz10aGlzO3RoaXMucGFyZW50PWEucGFyZW50fSxnZXRBc2NlbmRhbnQ6ZnVuY3Rpb24oYSl7dmFyIGY9XCJmdW5jdGlvblwiPT10eXBlb2YgYT9hOlwic3RyaW5nXCI9PXR5cGVvZiBhP2Z1bmN0aW9uKGIpe3JldHVybiBiLm5hbWU9PWF9OmZ1bmN0aW9uKGIpe3JldHVybiBiLm5hbWUgaW4gYX0sZT10aGlzLnBhcmVudDtmb3IoO2UmJmUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UOyl7aWYoZihlKSlyZXR1cm4gZTtcbmU9ZS5wYXJlbnR9cmV0dXJuIG51bGx9LHdyYXBXaXRoOmZ1bmN0aW9uKGEpe3RoaXMucmVwbGFjZVdpdGgoYSk7YS5hZGQodGhpcyk7cmV0dXJuIGF9LGdldEluZGV4OmZ1bmN0aW9uKCl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmluZGV4T2YodGhpcy5wYXJlbnQuY2hpbGRyZW4sdGhpcyl9LGdldEZpbHRlckNvbnRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGF8fHt9fX19KCksXCJ1c2Ugc3RyaWN0XCIsQ0tFRElUT1IuaHRtbFBhcnNlci5jb21tZW50PWZ1bmN0aW9uKGEpe3RoaXMudmFsdWU9YTt0aGlzLl89e2lzQmxvY2tMaWtlOiExfX0sQ0tFRElUT1IuaHRtbFBhcnNlci5jb21tZW50LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIubm9kZSx7dHlwZTpDS0VESVRPUi5OT0RFX0NPTU1FTlQsZmlsdGVyOmZ1bmN0aW9uKGEsZil7dmFyIGU9dGhpcy52YWx1ZTtpZighKGU9YS5vbkNvbW1lbnQoZixlLHRoaXMpKSlyZXR1cm4gdGhpcy5yZW1vdmUoKSxcbiExO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiB0aGlzLnJlcGxhY2VXaXRoKGUpLCExO3RoaXMudmFsdWU9ZTtyZXR1cm4hMH0sd3JpdGVIdG1sOmZ1bmN0aW9uKGEsZil7ZiYmdGhpcy5maWx0ZXIoZik7YS5jb21tZW50KHRoaXMudmFsdWUpfX0pLFwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IuaHRtbFBhcnNlci50ZXh0PWZ1bmN0aW9uKGEpe3RoaXMudmFsdWU9YTt0aGlzLl89e2lzQmxvY2tMaWtlOiExfX07Q0tFRElUT1IuaHRtbFBhcnNlci50ZXh0LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIubm9kZSx7dHlwZTpDS0VESVRPUi5OT0RFX1RFWFQsZmlsdGVyOmZ1bmN0aW9uKGEsZil7aWYoISh0aGlzLnZhbHVlPWEub25UZXh0KGYsdGhpcy52YWx1ZSx0aGlzKSkpcmV0dXJuIHRoaXMucmVtb3ZlKCksITF9LHdyaXRlSHRtbDpmdW5jdGlvbihhLGYpe2YmJnRoaXMuZmlsdGVyKGYpO2EudGV4dCh0aGlzLnZhbHVlKX19KX0oKSxcblwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IuaHRtbFBhcnNlci5jZGF0YT1mdW5jdGlvbihhKXt0aGlzLnZhbHVlPWF9O0NLRURJVE9SLmh0bWxQYXJzZXIuY2RhdGEucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5ub2RlLHt0eXBlOkNLRURJVE9SLk5PREVfVEVYVCxmaWx0ZXI6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcy5nZXRBc2NlbmRhbnQoXCJzdHlsZVwiKTtpZihmJiZmLmdldEFzY2VuZGFudCh7bWF0aDoxLHN2ZzoxfSkpe3ZhciBmPUNLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwodGhpcy52YWx1ZSksZT1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcjthLmFwcGx5VG8oZik7Zi53cml0ZUh0bWwoZSk7dGhpcy52YWx1ZT1lLmdldEh0bWwoKX19LHdyaXRlSHRtbDpmdW5jdGlvbihhKXthLndyaXRlKHRoaXMudmFsdWUpfX0pfSgpLFwidXNlIHN0cmljdFwiLENLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQ9XG5mdW5jdGlvbigpe3RoaXMuY2hpbGRyZW49W107dGhpcy5wYXJlbnQ9bnVsbDt0aGlzLl89e2lzQmxvY2tMaWtlOiEwLGhhc0lubGluZVN0YXJ0ZWQ6ITF9fSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7cmV0dXJuIGEuYXR0cmlidXRlc1tcImRhdGEtY2tlLXN1cnZpdmVcIl0/ITE6XCJhXCI9PWEubmFtZSYmYS5hdHRyaWJ1dGVzLmhyZWZ8fENLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbYS5uYW1lXX12YXIgZj1DS0VESVRPUi50b29scy5leHRlbmQoe3RhYmxlOjEsdWw6MSxvbDoxLGRsOjF9LENLRURJVE9SLmR0ZC50YWJsZSxDS0VESVRPUi5kdGQudWwsQ0tFRElUT1IuZHRkLm9sLENLRURJVE9SLmR0ZC5kbCksZT17b2w6MSx1bDoxfSxiPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSx7aHRtbDoxfSxDS0VESVRPUi5kdGQuaHRtbCxDS0VESVRPUi5kdGQuYm9keSxDS0VESVRPUi5kdGQuaGVhZCx7c3R5bGU6MSxzY3JpcHQ6MX0pLGM9e3VsOlwibGlcIixvbDpcImxpXCIsZGw6XCJkZFwiLHRhYmxlOlwidGJvZHlcIixcbnRib2R5OlwidHJcIix0aGVhZDpcInRyXCIsdGZvb3Q6XCJ0clwiLHRyOlwidGRcIn07Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbD1mdW5jdGlvbihrLGwsbSl7ZnVuY3Rpb24gZChhKXt2YXIgYjtpZigwPHUubGVuZ3RoKWZvcih2YXIgZD0wO2Q8dS5sZW5ndGg7ZCsrKXt2YXIgYz11W2RdLGc9Yy5uYW1lLGU9Q0tFRElUT1IuZHRkW2ddLGs9cS5uYW1lJiZDS0VESVRPUi5kdGRbcS5uYW1lXTtrJiYha1tnXXx8YSYmZSYmIWVbYV0mJkNLRURJVE9SLmR0ZFthXT9nPT1xLm5hbWUmJihuKHEscS5wYXJlbnQsMSksZC0tKTooYnx8KGgoKSxiPTEpLGM9Yy5jbG9uZSgpLGMucGFyZW50PXEscT1jLHUuc3BsaWNlKGQsMSksZC0tKX19ZnVuY3Rpb24gaCgpe2Zvcig7ei5sZW5ndGg7KW4oei5zaGlmdCgpLHEpfWZ1bmN0aW9uIGcoYSl7aWYoYS5fLmlzQmxvY2tMaWtlJiZcInByZVwiIT1hLm5hbWUmJlwidGV4dGFyZWFcIiE9YS5uYW1lKXt2YXIgYj1hLmNoaWxkcmVuLmxlbmd0aCxkPWEuY2hpbGRyZW5bYi1cbjFdLGM7ZCYmZC50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJigoYz1DS0VESVRPUi50b29scy5ydHJpbShkLnZhbHVlKSk/ZC52YWx1ZT1jOmEuY2hpbGRyZW4ubGVuZ3RoPWItMSl9fWZ1bmN0aW9uIG4oYixkLGMpe2Q9ZHx8cXx8cDt2YXIgZT1xO3ZvaWQgMD09PWIucHJldmlvdXMmJih3KGQsYikmJihxPWQsci5vblRhZ09wZW4obSx7fSksYi5yZXR1cm5Qb2ludD1kPXEpLGcoYiksYShiKSYmIWIuY2hpbGRyZW4ubGVuZ3RofHxkLmFkZChiKSxcInByZVwiPT1iLm5hbWUmJih5PSExKSxcInRleHRhcmVhXCI9PWIubmFtZSYmKEE9ITEpKTtiLnJldHVyblBvaW50PyhxPWIucmV0dXJuUG9pbnQsZGVsZXRlIGIucmV0dXJuUG9pbnQpOnE9Yz9kOmV9ZnVuY3Rpb24gdyhhLGIpe2lmKChhPT1wfHxcImJvZHlcIj09YS5uYW1lKSYmbSYmKCFhLm5hbWV8fENLRURJVE9SLmR0ZFthLm5hbWVdW21dKSl7dmFyIGQsYztyZXR1cm4oZD1iLmF0dHJpYnV0ZXMmJihjPWIuYXR0cmlidXRlc1tcImRhdGEtY2tlLXJlYWwtZWxlbWVudC10eXBlXCJdKT9cbmM6Yi5uYW1lKSYmZCBpbiBDS0VESVRPUi5kdGQuJGlubGluZSYmIShkIGluIENLRURJVE9SLmR0ZC5oZWFkKSYmIWIuaXNPcnBoYW58fGIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfX1mdW5jdGlvbiB4KGEsYil7cmV0dXJuIGEgaW4gQ0tFRElUT1IuZHRkLiRsaXN0SXRlbXx8YSBpbiBDS0VESVRPUi5kdGQuJHRhYmxlQ29udGVudD9hPT1ifHxcImR0XCI9PWEmJlwiZGRcIj09Ynx8XCJkZFwiPT1hJiZcImR0XCI9PWI6ITF9dmFyIHI9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIscD1sIGluc3RhbmNlb2YgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50P2w6XCJzdHJpbmdcIj09dHlwZW9mIGw/bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChsKTpuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudCx1PVtdLHo9W10scT1wLEE9XCJ0ZXh0YXJlYVwiPT1wLm5hbWUseT1cInByZVwiPT1wLm5hbWU7ci5vblRhZ09wZW49ZnVuY3Rpb24oYyxnLGssbCl7Zz1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KGMsXG5nKTtnLmlzVW5rbm93biYmayYmKGcuaXNFbXB0eT0hMCk7Zy5pc09wdGlvbmFsQ2xvc2U9bDtpZihhKGcpKXUucHVzaChnKTtlbHNle2lmKFwicHJlXCI9PWMpeT0hMDtlbHNle2lmKFwiYnJcIj09YyYmeSl7cS5hZGQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dChcIlxcblwiKSk7cmV0dXJufVwidGV4dGFyZWFcIj09YyYmKEE9ITApfWlmKFwiYnJcIj09Yyl6LnB1c2goZyk7ZWxzZXtmb3IoOyEobD0oaz1xLm5hbWUpP0NLRURJVE9SLmR0ZFtrXXx8KHEuXy5pc0Jsb2NrTGlrZT9DS0VESVRPUi5kdGQuZGl2OkNLRURJVE9SLmR0ZC5zcGFuKTpiLGcuaXNVbmtub3dufHxxLmlzVW5rbm93bnx8bFtjXSk7KWlmKHEuaXNPcHRpb25hbENsb3NlKXIub25UYWdDbG9zZShrKTtlbHNlIGlmKGMgaW4gZSYmayBpbiBlKWs9cS5jaGlsZHJlbiwoaz1rW2subGVuZ3RoLTFdKSYmXCJsaVwiPT1rLm5hbWV8fG4oaz1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KFwibGlcIikscSksIWcucmV0dXJuUG9pbnQmJlxuKGcucmV0dXJuUG9pbnQ9cSkscT1rO2Vsc2UgaWYoYyBpbiBDS0VESVRPUi5kdGQuJGxpc3RJdGVtJiYheChjLGspKXIub25UYWdPcGVuKFwibGlcIj09Yz9cInVsXCI6XCJkbFwiLHt9LDAsMSk7ZWxzZSBpZihrIGluIGYmJiF4KGMsaykpIWcucmV0dXJuUG9pbnQmJihnLnJldHVyblBvaW50PXEpLHE9cS5wYXJlbnQ7ZWxzZSBpZihrIGluIENLRURJVE9SLmR0ZC4kaW5saW5lJiZ1LnVuc2hpZnQocSkscS5wYXJlbnQpbihxLHEucGFyZW50LDEpO2Vsc2V7Zy5pc09ycGhhbj0xO2JyZWFrfWQoYyk7aCgpO2cucGFyZW50PXE7Zy5pc0VtcHR5P24oZyk6cT1nfX19O3Iub25UYWdDbG9zZT1mdW5jdGlvbihhKXtmb3IodmFyIGI9dS5sZW5ndGgtMTswPD1iO2ItLSlpZihhPT11W2JdLm5hbWUpe3Uuc3BsaWNlKGIsMSk7cmV0dXJufWZvcih2YXIgZD1bXSxjPVtdLGc9cTtnIT1wJiZnLm5hbWUhPWE7KWcuXy5pc0Jsb2NrTGlrZXx8Yy51bnNoaWZ0KGcpLGQucHVzaChnKSxnPWcucmV0dXJuUG9pbnR8fFxuZy5wYXJlbnQ7aWYoZyE9cCl7Zm9yKGI9MDtiPGQubGVuZ3RoO2IrKyl7dmFyIGU9ZFtiXTtuKGUsZS5wYXJlbnQpfXE9ZztnLl8uaXNCbG9ja0xpa2U/aCgpOihiPUNLRURJVE9SLmNvbmZpZy5zaGlmdExpbmVCcmVha3MsITAhPT1iJiZ6Lmxlbmd0aCYmKFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBiP2goKTooYj1iKHpbei5sZW5ndGgtMV0pLCEwIT09YiYmKGgoKSxiIGluc3RhbmNlb2YgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0JiZxLmFkZChiKSxiIGluc3RhbmNlb2YgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50JiZuKGIscSkpKSkpO24oZyxnLnBhcmVudCk7Zz09cSYmKHE9cS5wYXJlbnQpO3U9dS5jb25jYXQoYyl9XCJib2R5XCI9PWEmJihtPSExKX07ci5vblRleHQ9ZnVuY3Rpb24oYSl7aWYoIShxLl8uaGFzSW5saW5lU3RhcnRlZCYmIXoubGVuZ3RofHx5fHxBKSYmKGE9Q0tFRElUT1IudG9vbHMubHRyaW0oYSksMD09PWEubGVuZ3RoKSlyZXR1cm47dmFyIGc9cS5uYW1lLGU9Zz9cbkNLRURJVE9SLmR0ZFtnXXx8KHEuXy5pc0Jsb2NrTGlrZT9DS0VESVRPUi5kdGQuZGl2OkNLRURJVE9SLmR0ZC5zcGFuKTpiO2lmKCFBJiYhZVtcIiNcIl0mJmcgaW4gZilyLm9uVGFnT3BlbihjW2ddfHxcIlwiKSxyLm9uVGV4dChhKTtlbHNle2goKTtkKCk7eXx8QXx8KGE9YS5yZXBsYWNlKC9bXFx0XFxyXFxuIF17Mix9fFtcXHRcXHJcXG5dL2csXCIgXCIpKTthPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLnRleHQoYSk7aWYodyhxLGEpKXRoaXMub25UYWdPcGVuKG0se30sMCwxKTtxLmFkZChhKX19O3Iub25DREFUQT1mdW5jdGlvbihhKXtxLmFkZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5jZGF0YShhKSl9O3Iub25Db21tZW50PWZ1bmN0aW9uKGEpe2goKTtkKCk7cS5hZGQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIuY29tbWVudChhKSl9O3IucGFyc2Uoayk7Zm9yKGgoKTtxIT1wOyluKHEscS5wYXJlbnQsMSk7ZyhwKTtyZXR1cm4gcH07Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5wcm90b3R5cGU9XG57dHlwZTpDS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5ULGFkZDpmdW5jdGlvbihhLGIpe2lzTmFOKGIpJiYoYj10aGlzLmNoaWxkcmVuLmxlbmd0aCk7dmFyIGM9MDxiP3RoaXMuY2hpbGRyZW5bYi0xXTpudWxsO2lmKGMpe2lmKGEuXy5pc0Jsb2NrTGlrZSYmYy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihjLnZhbHVlPUNLRURJVE9SLnRvb2xzLnJ0cmltKGMudmFsdWUpLDA9PT1jLnZhbHVlLmxlbmd0aCkpe3RoaXMuY2hpbGRyZW4ucG9wKCk7dGhpcy5hZGQoYSk7cmV0dXJufWMubmV4dD1hfWEucHJldmlvdXM9YzthLnBhcmVudD10aGlzO3RoaXMuY2hpbGRyZW4uc3BsaWNlKGIsMCxhKTt0aGlzLl8uaGFzSW5saW5lU3RhcnRlZHx8KHRoaXMuXy5oYXNJbmxpbmVTdGFydGVkPWEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIWEuXy5pc0Jsb2NrTGlrZSl9LGZpbHRlcjpmdW5jdGlvbihhLGIpe2I9dGhpcy5nZXRGaWx0ZXJDb250ZXh0KGIpO1xuYS5vblJvb3QoYix0aGlzKTt0aGlzLmZpbHRlckNoaWxkcmVuKGEsITEsYil9LGZpbHRlckNoaWxkcmVuOmZ1bmN0aW9uKGEsYixjKXtpZih0aGlzLmNoaWxkcmVuRmlsdGVyZWRCeSE9YS5pZCl7Yz10aGlzLmdldEZpbHRlckNvbnRleHQoYyk7aWYoYiYmIXRoaXMucGFyZW50KWEub25Sb290KGMsdGhpcyk7dGhpcy5jaGlsZHJlbkZpbHRlcmVkQnk9YS5pZDtmb3IoYj0wO2I8dGhpcy5jaGlsZHJlbi5sZW5ndGg7YisrKSExPT09dGhpcy5jaGlsZHJlbltiXS5maWx0ZXIoYSxjKSYmYi0tfX0sd3JpdGVIdG1sOmZ1bmN0aW9uKGEsYil7YiYmdGhpcy5maWx0ZXIoYik7dGhpcy53cml0ZUNoaWxkcmVuSHRtbChhKX0sd3JpdGVDaGlsZHJlbkh0bWw6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZ2V0RmlsdGVyQ29udGV4dCgpO2lmKGMmJiF0aGlzLnBhcmVudCYmYiliLm9uUm9vdChkLHRoaXMpO2ImJnRoaXMuZmlsdGVyQ2hpbGRyZW4oYiwhMSxkKTtiPTA7Yz10aGlzLmNoaWxkcmVuO1xuZm9yKGQ9Yy5sZW5ndGg7YjxkO2IrKyljW2JdLndyaXRlSHRtbChhKX0sZm9yRWFjaDpmdW5jdGlvbihhLGIsYyl7aWYoIShjfHxiJiZ0aGlzLnR5cGUhPWIpKXZhciBkPWEodGhpcyk7aWYoITEhPT1kKXtjPXRoaXMuY2hpbGRyZW47Zm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspZD1jW2VdLGQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2QuZm9yRWFjaChhLGIpOmImJmQudHlwZSE9Ynx8YShkKX19LGdldEZpbHRlckNvbnRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGF8fHt9fX07Q0tFRElUT1IuY29uZmlnLnNoaWZ0TGluZUJyZWFrcz0hMH0oKSxcInVzZSBzdHJpY3RcIixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt0aGlzLnJ1bGVzPVtdfWZ1bmN0aW9uIGYoZSxiLGMsayl7dmFyIGYsbTtmb3IoZiBpbiBiKShtPWVbZl0pfHwobT1lW2ZdPW5ldyBhKSxtLmFkZChiW2ZdLGMsayl9Q0tFRElUT1IuaHRtbFBhcnNlci5maWx0ZXI9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oZSl7dGhpcy5pZD1cbkNLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKTt0aGlzLmVsZW1lbnROYW1lUnVsZXM9bmV3IGE7dGhpcy5hdHRyaWJ1dGVOYW1lUnVsZXM9bmV3IGE7dGhpcy5lbGVtZW50c1J1bGVzPXt9O3RoaXMuYXR0cmlidXRlc1J1bGVzPXt9O3RoaXMudGV4dFJ1bGVzPW5ldyBhO3RoaXMuY29tbWVudFJ1bGVzPW5ldyBhO3RoaXMucm9vdFJ1bGVzPW5ldyBhO2UmJnRoaXMuYWRkUnVsZXMoZSwxMCl9LHByb3RvOnthZGRSdWxlczpmdW5jdGlvbihhLGIpe3ZhciBjO1wibnVtYmVyXCI9PXR5cGVvZiBiP2M9YjpiJiZcInByaW9yaXR5XCJpbiBiJiYoYz1iLnByaW9yaXR5KTtcIm51bWJlclwiIT10eXBlb2YgYyYmKGM9MTApO1wib2JqZWN0XCIhPXR5cGVvZiBiJiYoYj17fSk7YS5lbGVtZW50TmFtZXMmJnRoaXMuZWxlbWVudE5hbWVSdWxlcy5hZGRNYW55KGEuZWxlbWVudE5hbWVzLGMsYik7YS5hdHRyaWJ1dGVOYW1lcyYmdGhpcy5hdHRyaWJ1dGVOYW1lUnVsZXMuYWRkTWFueShhLmF0dHJpYnV0ZU5hbWVzLFxuYyxiKTthLmVsZW1lbnRzJiZmKHRoaXMuZWxlbWVudHNSdWxlcyxhLmVsZW1lbnRzLGMsYik7YS5hdHRyaWJ1dGVzJiZmKHRoaXMuYXR0cmlidXRlc1J1bGVzLGEuYXR0cmlidXRlcyxjLGIpO2EudGV4dCYmdGhpcy50ZXh0UnVsZXMuYWRkKGEudGV4dCxjLGIpO2EuY29tbWVudCYmdGhpcy5jb21tZW50UnVsZXMuYWRkKGEuY29tbWVudCxjLGIpO2Eucm9vdCYmdGhpcy5yb290UnVsZXMuYWRkKGEucm9vdCxjLGIpfSxhcHBseVRvOmZ1bmN0aW9uKGEpe2EuZmlsdGVyKHRoaXMpfSxvbkVsZW1lbnROYW1lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZWxlbWVudE5hbWVSdWxlcy5leGVjT25OYW1lKGEsYil9LG9uQXR0cmlidXRlTmFtZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmF0dHJpYnV0ZU5hbWVSdWxlcy5leGVjT25OYW1lKGEsYil9LG9uVGV4dDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMudGV4dFJ1bGVzLmV4ZWMoYSxiLGMpfSxvbkNvbW1lbnQ6ZnVuY3Rpb24oYSxcbmIsYyl7cmV0dXJuIHRoaXMuY29tbWVudFJ1bGVzLmV4ZWMoYSxiLGMpfSxvblJvb3Q6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5yb290UnVsZXMuZXhlYyhhLGIpfSxvbkVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9W3RoaXMuZWxlbWVudHNSdWxlc1tcIl5cIl0sdGhpcy5lbGVtZW50c1J1bGVzW2IubmFtZV0sdGhpcy5lbGVtZW50c1J1bGVzLiRdLGssZj0wOzM+ZjtmKyspaWYoaz1jW2ZdKXtrPWsuZXhlYyhhLGIsdGhpcyk7aWYoITE9PT1rKXJldHVybiBudWxsO2lmKGsmJmshPWIpcmV0dXJuIHRoaXMub25Ob2RlKGEsayk7aWYoYi5wYXJlbnQmJiFiLm5hbWUpYnJlYWt9cmV0dXJuIGJ9LG9uTm9kZTpmdW5jdGlvbihhLGIpe3ZhciBjPWIudHlwZTtyZXR1cm4gYz09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP3RoaXMub25FbGVtZW50KGEsYik6Yz09Q0tFRElUT1IuTk9ERV9URVhUP25ldyBDS0VESVRPUi5odG1sUGFyc2VyLnRleHQodGhpcy5vblRleHQoYSxiLnZhbHVlLFxuYikpOmM9PUNLRURJVE9SLk5PREVfQ09NTUVOVD9uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5jb21tZW50KHRoaXMub25Db21tZW50KGEsYi52YWx1ZSxiKSk6bnVsbH0sb25BdHRyaWJ1dGU6ZnVuY3Rpb24oYSxiLGMsayl7cmV0dXJuKGM9dGhpcy5hdHRyaWJ1dGVzUnVsZXNbY10pP2MuZXhlYyhhLGssYix0aGlzKTprfX19KTtDS0VESVRPUi5odG1sUGFyc2VyLmZpbHRlclJ1bGVzR3JvdXA9YTthLnByb3RvdHlwZT17YWRkOmZ1bmN0aW9uKGEsYixjKXt0aGlzLnJ1bGVzLnNwbGljZSh0aGlzLmZpbmRJbmRleChiKSwwLHt2YWx1ZTphLHByaW9yaXR5OmIsb3B0aW9uczpjfSl9LGFkZE1hbnk6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgaz1bdGhpcy5maW5kSW5kZXgoYiksMF0sZj0wLG09YS5sZW5ndGg7ZjxtO2YrKylrLnB1c2goe3ZhbHVlOmFbZl0scHJpb3JpdHk6YixvcHRpb25zOmN9KTt0aGlzLnJ1bGVzLnNwbGljZS5hcHBseSh0aGlzLnJ1bGVzLGspfSxmaW5kSW5kZXg6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVxudGhpcy5ydWxlcyxjPWIubGVuZ3RoLTE7MDw9YyYmYTxiW2NdLnByaW9yaXR5OyljLS07cmV0dXJuIGMrMX0sZXhlYzpmdW5jdGlvbihhLGIpe3ZhciBjPWIgaW5zdGFuY2VvZiBDS0VESVRPUi5odG1sUGFyc2VyLm5vZGV8fGIgaW5zdGFuY2VvZiBDS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LGs9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGY9dGhpcy5ydWxlcyxtPWYubGVuZ3RoLGQsaCxnLG47Zm9yKG49MDtuPG07bisrKWlmKGMmJihkPWIudHlwZSxoPWIubmFtZSksZz1mW25dLCEoYS5ub25FZGl0YWJsZSYmIWcub3B0aW9ucy5hcHBseVRvQWxsfHxhLm5lc3RlZEVkaXRhYmxlJiZnLm9wdGlvbnMuZXhjbHVkZU5lc3RlZEVkaXRhYmxlKSl7Zz1nLnZhbHVlLmFwcGx5KG51bGwsayk7aWYoITE9PT1nfHxjJiZnJiYoZy5uYW1lIT1ofHxnLnR5cGUhPWQpKXJldHVybiBnO251bGwhPWcmJihrWzBdPWI9Zyl9cmV0dXJuIGJ9LGV4ZWNPbk5hbWU6ZnVuY3Rpb24oYSxcbmIpe2Zvcih2YXIgYz0wLGs9dGhpcy5ydWxlcyxmPWsubGVuZ3RoLG07YiYmYzxmO2MrKyltPWtbY10sYS5ub25FZGl0YWJsZSYmIW0ub3B0aW9ucy5hcHBseVRvQWxsfHxhLm5lc3RlZEVkaXRhYmxlJiZtLm9wdGlvbnMuZXhjbHVkZU5lc3RlZEVkaXRhYmxlfHwoYj1iLnJlcGxhY2UobS52YWx1ZVswXSxtLnZhbHVlWzFdKSk7cmV0dXJuIGJ9fX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxkKXtmdW5jdGlvbiBnKGEpe3JldHVybiBhfHxDS0VESVRPUi5lbnYubmVlZHNOYnNwRmlsbGVyP25ldyBDS0VESVRPUi5odG1sUGFyc2VyLnRleHQoXCLCoFwiKTpuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KFwiYnJcIix7XCJkYXRhLWNrZS1ib2d1c1wiOjF9KX1mdW5jdGlvbiBoKGEsZCl7cmV0dXJuIGZ1bmN0aW9uKGMpe2lmKGMudHlwZSE9Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCl7dmFyIGg9W10sbD1lKGMpLG4sTjtpZihsKWZvcihmKGwsMSkmJmgucHVzaChsKTtsOylrKGwpJiZcbihuPWIobCkpJiZmKG4pJiYoKE49YihuKSkmJiFrKE4pP2gucHVzaChuKTooZyhtKS5pbnNlcnRBZnRlcihuKSxuLnJlbW92ZSgpKSksbD1sLnByZXZpb3VzO2ZvcihsPTA7bDxoLmxlbmd0aDtsKyspaFtsXS5yZW1vdmUoKTtpZihoPSFhfHwhMSE9PShcImZ1bmN0aW9uXCI9PXR5cGVvZiBkP2QoYyk6ZCkpbXx8Q0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXJ8fGMudHlwZSE9Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVD9tfHxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcnx8ISg3PGRvY3VtZW50LmRvY3VtZW50TW9kZXx8Yy5uYW1lIGluIENLRURJVE9SLmR0ZC50cnx8Yy5uYW1lIGluIENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pPyhoPWUoYyksaD0haHx8XCJmb3JtXCI9PWMubmFtZSYmXCJpbnB1dFwiPT1oLm5hbWUpOmg9ITE6aD0hMTtoJiZjLmFkZChnKGEpKX19fWZ1bmN0aW9uIGYoYSxiKXtpZigoIW18fENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyKSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlxuXCJiclwiPT1hLm5hbWUmJiFhLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1lb2xcIl0pcmV0dXJuITA7dmFyIGQ7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoZD1hLnZhbHVlLm1hdGNoKHopKSYmKGQuaW5kZXgmJigobmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dChhLnZhbHVlLnN1YnN0cmluZygwLGQuaW5kZXgpKSkuaW5zZXJ0QmVmb3JlKGEpLGEudmFsdWU9ZFswXSksIUNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiZtJiYoIWJ8fGEucGFyZW50Lm5hbWUgaW4gTCl8fCFtJiYoKGQ9YS5wcmV2aW91cykmJlwiYnJcIj09ZC5uYW1lfHwhZHx8ayhkKSkpPyEwOiExfXZhciBuPXtlbGVtZW50czp7fX0sbT1cImh0bWxcIj09ZCxMPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSx0KSx3O2Zvcih3IGluIEwpXCIjXCJpbiBBW3ddfHxkZWxldGUgTFt3XTtmb3IodyBpbiBMKW4uZWxlbWVudHNbd109aChtLGEuY29uZmlnLmZpbGxFbXB0eUJsb2Nrcyk7bi5yb290PWgobSwhMSk7bi5lbGVtZW50cy5icj1cbmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihkKXtpZihkLnBhcmVudC50eXBlIT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UKXt2YXIgZT1kLmF0dHJpYnV0ZXM7aWYoXCJkYXRhLWNrZS1ib2d1c1wiaW4gZXx8XCJkYXRhLWNrZS1lb2xcImluIGUpZGVsZXRlIGVbXCJkYXRhLWNrZS1ib2d1c1wiXTtlbHNle2ZvcihlPWQubmV4dDtlJiZjKGUpOyllPWUubmV4dDt2YXIgaD1iKGQpOyFlJiZrKGQucGFyZW50KT9sKGQucGFyZW50LGcoYSkpOmsoZSkmJmgmJiFrKGgpJiZnKGEpLmluc2VydEJlZm9yZShlKX19fX0obSk7cmV0dXJuIG59ZnVuY3Rpb24gZihhLGIpe3JldHVybiBhIT1DS0VESVRPUi5FTlRFUl9CUiYmITEhPT1iP2E9PUNLRURJVE9SLkVOVEVSX0RJVj9cImRpdlwiOlwicFwiOiExfWZ1bmN0aW9uIGUoYSl7Zm9yKGE9YS5jaGlsZHJlblthLmNoaWxkcmVuLmxlbmd0aC0xXTthJiZjKGEpOylhPWEucHJldmlvdXM7cmV0dXJuIGF9ZnVuY3Rpb24gYihhKXtmb3IoYT1hLnByZXZpb3VzO2EmJlxuYyhhKTspYT1hLnByZXZpb3VzO3JldHVybiBhfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYhQ0tFRElUT1IudG9vbHMudHJpbShhLnZhbHVlKXx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuYXR0cmlidXRlc1tcImRhdGEtY2tlLWJvb2ttYXJrXCJdfWZ1bmN0aW9uIGsoYSl7cmV0dXJuIGEmJihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5uYW1lIGluIHR8fGEudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCl9ZnVuY3Rpb24gbChhLGIpe3ZhciBkPWEuY2hpbGRyZW5bYS5jaGlsZHJlbi5sZW5ndGgtMV07YS5jaGlsZHJlbi5wdXNoKGIpO2IucGFyZW50PWE7ZCYmKGQubmV4dD1iLGIucHJldmlvdXM9ZCl9ZnVuY3Rpb24gbShhKXthPWEuYXR0cmlidXRlcztcImZhbHNlXCIhPWEuY29udGVudGVkaXRhYmxlJiYoYVtcImRhdGEtY2tlLWVkaXRhYmxlXCJdPWEuY29udGVudGVkaXRhYmxlP1widHJ1ZVwiOjEpO1xuYS5jb250ZW50ZWRpdGFibGU9XCJmYWxzZVwifWZ1bmN0aW9uIGQoYSl7YT1hLmF0dHJpYnV0ZXM7c3dpdGNoKGFbXCJkYXRhLWNrZS1lZGl0YWJsZVwiXSl7Y2FzZSBcInRydWVcIjphLmNvbnRlbnRlZGl0YWJsZT1cInRydWVcIjticmVhaztjYXNlIFwiMVwiOmRlbGV0ZSBhLmNvbnRlbnRlZGl0YWJsZX19ZnVuY3Rpb24gaChhLGIpe3JldHVybiBhLnJlcGxhY2UoRixmdW5jdGlvbihhLGQsYyl7cmV0dXJuXCJcXHgzY1wiK2QrYy5yZXBsYWNlKEosZnVuY3Rpb24oYSxkKXtyZXR1cm4gSy50ZXN0KGQpJiYtMT09Yy5pbmRleE9mKFwiZGF0YS1ja2Utc2F2ZWQtXCIrZCk/XCIgZGF0YS1ja2Utc2F2ZWQtXCIrYStcIiBkYXRhLWNrZS1cIitiK1wiLVwiK2E6YX0pK1wiXFx4M2VcIn0pfWZ1bmN0aW9uIGcoYSxiKXtyZXR1cm4gYS5yZXBsYWNlKGIsZnVuY3Rpb24oYSxiLGQpezA9PT1hLmluZGV4T2YoXCJcXHgzY3RleHRhcmVhXCIpJiYoYT1iK3goZCkucmVwbGFjZSgvPC9nLFwiXFx4MjZsdDtcIikucmVwbGFjZSgvPi9nLFwiXFx4MjZndDtcIikrXG5cIlxceDNjL3RleHRhcmVhXFx4M2VcIik7cmV0dXJuXCJcXHgzY2NrZTplbmNvZGVkXFx4M2VcIitlbmNvZGVVUklDb21wb25lbnQoYSkrXCJcXHgzYy9ja2U6ZW5jb2RlZFxceDNlXCJ9KX1mdW5jdGlvbiBuKGEpe3JldHVybiBhLnJlcGxhY2UoSCxmdW5jdGlvbihhLGIpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoYil9KX1mdW5jdGlvbiB3KGEpe3JldHVybiBhLnJlcGxhY2UoL1xceDNjIS0tKD8he2NrZV9wcm90ZWN0ZWR9KVtcXHNcXFNdKz8tLVxceDNlL2csZnVuY3Rpb24oYSl7cmV0dXJuXCJcXHgzYyEtLVwiK3ErXCJ7Q31cIitlbmNvZGVVUklDb21wb25lbnQoYSkucmVwbGFjZSgvLS0vZyxcIiUyRCUyRFwiKStcIi0tXFx4M2VcIn0pfWZ1bmN0aW9uIHgoYSl7cmV0dXJuIGEucmVwbGFjZSgvXFx4M2MhLS1cXHtja2VfcHJvdGVjdGVkXFx9XFx7Q1xcfShbXFxzXFxTXSs/KS0tXFx4M2UvZyxmdW5jdGlvbihhLGIpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoYil9KX1mdW5jdGlvbiByKGEsYil7dmFyIGQ9Yi5fLmRhdGFTdG9yZTtcbnJldHVybiBhLnJlcGxhY2UoL1xceDNjIS0tXFx7Y2tlX3Byb3RlY3RlZFxcfShbXFxzXFxTXSs/KS0tXFx4M2UvZyxmdW5jdGlvbihhLGIpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoYil9KS5yZXBsYWNlKC9cXHtja2VfcHJvdGVjdGVkXyhcXGQrKVxcfS9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGQmJmRbYl18fFwiXCJ9KX1mdW5jdGlvbiBwKGEsYixkKXt2YXIgYz1bXSxnPWIuY29uZmlnLnByb3RlY3RlZFNvdXJjZSxlPWIuXy5kYXRhU3RvcmV8fChiLl8uZGF0YVN0b3JlPXtpZDoxfSksaD1uZXcgUmVnRXhwKFwiXFx4M2NcXFxcIS0tXFxcXHtja2VfdGVtcF9cIitkK1wiKGNvbW1lbnQpP1xcXFx9KFxcXFxkKj8pLS1cXHgzZVwiLFwiZ1wiKSxnPVsvPHNjcmlwdFtcXHNcXFNdKj8oPFxcL3NjcmlwdD58JCkvZ2ksLzxub3NjcmlwdFtcXHNcXFNdKj88XFwvbm9zY3JpcHQ+L2dpLC88bWV0YVtcXHNcXFNdKj9cXC8/Pi9naV0uY29uY2F0KGcpO2E9YS5yZXBsYWNlKC9cXHgzYyEtLVtcXHNcXFNdKj8tLVxceDNlL2csZnVuY3Rpb24oYSl7cmV0dXJuXCJcXHgzYyEtLXtja2VfdGVtcF9cIitcbmQrXCJjb21tZW50fVwiKyhjLnB1c2goYSktMSkrXCItLVxceDNlXCJ9KTtmb3IodmFyIGs9MDtrPGcubGVuZ3RoO2srKylhPWEucmVwbGFjZShnW2tdLGZ1bmN0aW9uKGEpe2E9YS5yZXBsYWNlKGgsZnVuY3Rpb24oYSxiLGQpe3JldHVybiBjW2RdfSk7cmV0dXJuIGgudGVzdChhKT9hOlwiXFx4M2MhLS17Y2tlX3RlbXBfXCIrZCtcIn1cIisoYy5wdXNoKGEpLTEpK1wiLS1cXHgzZVwifSk7YT1hLnJlcGxhY2UoaCxmdW5jdGlvbihhLGIsZCl7cmV0dXJuXCJcXHgzYyEtLVwiK3ErKGI/XCJ7Q31cIjpcIlwiKStlbmNvZGVVUklDb21wb25lbnQoY1tkXSkucmVwbGFjZSgvLS0vZyxcIiUyRCUyRFwiKStcIi0tXFx4M2VcIn0pO2E9YS5yZXBsYWNlKC88XFx3Kyg/OlxccysoPzooPzpbXlxccz0+XStcXHMqPVxccyooPzpbXidcIlxccz5dK3wnW14nXSonfFwiW15cIl0qXCIpKXxbXlxccz1cXC8+XSspKStcXHMqXFwvPz4vZyxmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXHgzYyEtLVxce2NrZV9wcm90ZWN0ZWRcXH0oW14+XSopLS1cXHgzZS9nLGZ1bmN0aW9uKGEsXG5iKXtlW2UuaWRdPWRlY29kZVVSSUNvbXBvbmVudChiKTtyZXR1cm5cIntja2VfcHJvdGVjdGVkX1wiK2UuaWQrKyArXCJ9XCJ9KX0pO3JldHVybiBhPWEucmVwbGFjZSgvPCh0aXRsZXxpZnJhbWV8dGV4dGFyZWEpKFtePl0qKT4oW1xcc1xcU10qPyk8XFwvXFwxPi9nLGZ1bmN0aW9uKGEsZCxjLGcpe3JldHVyblwiXFx4M2NcIitkK2MrXCJcXHgzZVwiK3IoeChnKSxiKStcIlxceDNjL1wiK2QrXCJcXHgzZVwifSl9dmFyIHU7Q0tFRElUT1IuaHRtbERhdGFQcm9jZXNzb3I9ZnVuY3Rpb24oYil7dmFyIGQsYyxlPXRoaXM7dGhpcy5lZGl0b3I9Yjt0aGlzLmRhdGFGaWx0ZXI9ZD1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5maWx0ZXI7dGhpcy5odG1sRmlsdGVyPWM9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZmlsdGVyO3RoaXMud3JpdGVyPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO2QuYWRkUnVsZXModik7ZC5hZGRSdWxlcyhCLHthcHBseVRvQWxsOiEwfSk7ZC5hZGRSdWxlcyhhKGIsXCJkYXRhXCIpLFxue2FwcGx5VG9BbGw6ITB9KTtjLmFkZFJ1bGVzKEQpO2MuYWRkUnVsZXMoQyx7YXBwbHlUb0FsbDohMH0pO2MuYWRkUnVsZXMoYShiLFwiaHRtbFwiKSx7YXBwbHlUb0FsbDohMH0pO2Iub24oXCJ0b0h0bWxcIixmdW5jdGlvbihhKXt2YXIgZDt2YXIgYz13aW5kb3cuY3J5cHRvfHx3aW5kb3cubXNDcnlwdG87ZD1jP2MuZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50MzJBcnJheSgxKSlbMF06TWF0aC5mbG9vcig5RTkqTWF0aC5yYW5kb20oKSsxRTkpO2E9YS5kYXRhO3ZhciBjPWEuZGF0YVZhbHVlLGM9dShjKSxjPXAoYyxiLGQpLGM9ZyhjLE0pLGM9aChjLGQpLGM9ZyhjLEcpLGM9Yy5yZXBsYWNlKEUsXCIkMWNrZTokMlwiKSxjPWMucmVwbGFjZShMLFwiXFx4M2Nja2U6JDEkMlxceDNlXFx4M2MvY2tlOiQxXFx4M2VcIiksYz1jLnJlcGxhY2UoLyg8cHJlXFxiW14+XSo+KShcXHJcXG58XFxuKS9nLFwiJDEkMiQyXCIpLGM9Yy5yZXBsYWNlKC8oW15hLXowLTk8XFwtXSkob25cXHd7Myx9KSg/IT4pL2dpLFwiJDFkYXRhLWNrZS1cIitcbmQrXCItJDJcIiksZT1hLmNvbnRleHR8fGIuZWRpdGFibGUoKS5nZXROYW1lKCksaztDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24mJlwicHJlXCI9PWUmJihlPVwiZGl2XCIsYz1cIlxceDNjcHJlXFx4M2VcIitjK1wiXFx4M2MvcHJlXFx4M2VcIixrPTEpO2U9Yi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpO2Uuc2V0SHRtbChcImFcIitjKTtjPWUuZ2V0SHRtbCgpLnN1YnN0cigxKTtjPWMucmVwbGFjZShuZXcgUmVnRXhwKFwiZGF0YS1ja2UtXCIrZCtcIi1cIixcImlnXCIpLFwiXCIpO2smJihjPWMucmVwbGFjZSgvXjxwcmU+fDxcXC9wcmU+JC9naSxcIlwiKSk7Yz1jLnJlcGxhY2UoUCxcIiQxJDJcIik7Yz1uKGMpO2M9eChjKTtkPSExPT09YS5maXhGb3JCb2R5PyExOmYoYS5lbnRlck1vZGUsYi5jb25maWcuYXV0b1BhcmFncmFwaCk7Yz1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGMsYS5jb250ZXh0LGQpO2QmJihrPWMsIWsuY2hpbGRyZW4ubGVuZ3RoJiZDS0VESVRPUi5kdGRbay5uYW1lXVtkXSYmXG4oZD1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KGQpLGsuYWRkKGQpKSk7YS5kYXRhVmFsdWU9Y30sbnVsbCxudWxsLDUpO2Iub24oXCJ0b0h0bWxcIixmdW5jdGlvbihhKXthLmRhdGEuZmlsdGVyLmFwcGx5VG8oYS5kYXRhLmRhdGFWYWx1ZSwhMCxhLmRhdGEuZG9udEZpbHRlcixhLmRhdGEuZW50ZXJNb2RlKSYmYi5maXJlKFwiZGF0YUZpbHRlcmVkXCIpfSxudWxsLG51bGwsNik7Yi5vbihcInRvSHRtbFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5kYXRhVmFsdWUuZmlsdGVyQ2hpbGRyZW4oZS5kYXRhRmlsdGVyLCEwKX0sbnVsbCxudWxsLDEwKTtiLm9uKFwidG9IdG1sXCIsZnVuY3Rpb24oYSl7YT1hLmRhdGE7dmFyIGI9YS5kYXRhVmFsdWUsZD1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcjtiLndyaXRlQ2hpbGRyZW5IdG1sKGQpO2I9ZC5nZXRIdG1sKCEwKTthLmRhdGFWYWx1ZT13KGIpfSxudWxsLG51bGwsMTUpO2Iub24oXCJ0b0RhdGFGb3JtYXRcIixmdW5jdGlvbihhKXt2YXIgZD1cbmEuZGF0YS5kYXRhVmFsdWU7YS5kYXRhLmVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlImJihkPWQucmVwbGFjZSgvXjxiciAqXFwvPz4vaSxcIlwiKSk7YS5kYXRhLmRhdGFWYWx1ZT1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGQsYS5kYXRhLmNvbnRleHQsZihhLmRhdGEuZW50ZXJNb2RlLGIuY29uZmlnLmF1dG9QYXJhZ3JhcGgpKX0sbnVsbCxudWxsLDUpO2Iub24oXCJ0b0RhdGFGb3JtYXRcIixmdW5jdGlvbihhKXthLmRhdGEuZGF0YVZhbHVlLmZpbHRlckNoaWxkcmVuKGUuaHRtbEZpbHRlciwhMCl9LG51bGwsbnVsbCwxMCk7Yi5vbihcInRvRGF0YUZvcm1hdFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5maWx0ZXIuYXBwbHlUbyhhLmRhdGEuZGF0YVZhbHVlLCExLCEwKX0sbnVsbCxudWxsLDExKTtiLm9uKFwidG9EYXRhRm9ybWF0XCIsZnVuY3Rpb24oYSl7dmFyIGQ9YS5kYXRhLmRhdGFWYWx1ZSxjPWUud3JpdGVyO2MucmVzZXQoKTtkLndyaXRlQ2hpbGRyZW5IdG1sKGMpO1xuZD1jLmdldEh0bWwoITApO2Q9eChkKTtkPXIoZCxiKTthLmRhdGEuZGF0YVZhbHVlPWR9LG51bGwsbnVsbCwxNSl9O0NLRURJVE9SLmh0bWxEYXRhUHJvY2Vzc29yLnByb3RvdHlwZT17dG9IdG1sOmZ1bmN0aW9uKGEsYixkLGMpe3ZhciBnPXRoaXMuZWRpdG9yLGUsaCxrLGY7YiYmXCJvYmplY3RcIj09dHlwZW9mIGI/KGU9Yi5jb250ZXh0LGQ9Yi5maXhGb3JCb2R5LGM9Yi5kb250RmlsdGVyLGg9Yi5maWx0ZXIsaz1iLmVudGVyTW9kZSxmPWIucHJvdGVjdGVkV2hpdGVzcGFjZXMpOmU9YjtlfHxudWxsPT09ZXx8KGU9Zy5lZGl0YWJsZSgpLmdldE5hbWUoKSk7cmV0dXJuIGcuZmlyZShcInRvSHRtbFwiLHtkYXRhVmFsdWU6YSxjb250ZXh0OmUsZml4Rm9yQm9keTpkLGRvbnRGaWx0ZXI6YyxmaWx0ZXI6aHx8Zy5maWx0ZXIsZW50ZXJNb2RlOmt8fGcuZW50ZXJNb2RlLHByb3RlY3RlZFdoaXRlc3BhY2VzOmZ9KS5kYXRhVmFsdWV9LHRvRGF0YUZvcm1hdDpmdW5jdGlvbihhLGIpe3ZhciBkLFxuYyxnO2ImJihkPWIuY29udGV4dCxjPWIuZmlsdGVyLGc9Yi5lbnRlck1vZGUpO2R8fG51bGw9PT1kfHwoZD10aGlzLmVkaXRvci5lZGl0YWJsZSgpLmdldE5hbWUoKSk7cmV0dXJuIHRoaXMuZWRpdG9yLmZpcmUoXCJ0b0RhdGFGb3JtYXRcIix7ZGF0YVZhbHVlOmEsZmlsdGVyOmN8fHRoaXMuZWRpdG9yLmZpbHRlcixjb250ZXh0OmQsZW50ZXJNb2RlOmd8fHRoaXMuZWRpdG9yLmVudGVyTW9kZX0pLmRhdGFWYWx1ZX0scHJvdGVjdFNvdXJjZTpmdW5jdGlvbihhKXtyZXR1cm4gcChhLHRoaXMuZWRpdG9yKX0sdW5wcm90ZWN0U291cmNlOmZ1bmN0aW9uKGEpe3JldHVybiByKGEsdGhpcy5lZGl0b3IpfSx1bnByb3RlY3RSZWFsQ29tbWVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHgoYSl9fTt2YXIgej0vKD86Jm5ic3A7fFxceGEwKSQvLHE9XCJ7Y2tlX3Byb3RlY3RlZH1cIixBPUNLRURJVE9SLmR0ZCx5PVwiY2FwdGlvbiBjb2xncm91cCBjb2wgdGhlYWQgdGZvb3QgdGJvZHlcIi5zcGxpdChcIiBcIiksXG50PUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxBLiRibG9ja0xpbWl0LEEuJGJsb2NrKSx2PXtlbGVtZW50czp7aW5wdXQ6bSx0ZXh0YXJlYTptfX0sQj17YXR0cmlidXRlTmFtZXM6W1svXm9uLyxcImRhdGEtY2tlLXBhLW9uXCJdLFsvXnNyY2RvYy8sXCJkYXRhLWNrZS1wYS1zcmNkb2NcIl0sWy9eZGF0YS1ja2UtZXhwYW5kbyQvLFwiXCJdXSxlbGVtZW50czp7aWZyYW1lOmZ1bmN0aW9uKGEpe2lmKGEuYXR0cmlidXRlcyYmYS5hdHRyaWJ1dGVzLnNyYyl7dmFyIGI9YS5hdHRyaWJ1dGVzLnNyYy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1teYS16XS9naSxcIlwiKTtpZigwPT09Yi5pbmRleE9mKFwiamF2YXNjcmlwdFwiKXx8MD09PWIuaW5kZXhPZihcImRhdGFcIikpYS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtcGEtc3JjXCJdPWEuYXR0cmlidXRlcy5zcmMsZGVsZXRlIGEuYXR0cmlidXRlcy5zcmN9fX19LEQ9e2VsZW1lbnRzOntlbWJlZDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudDtpZihiJiZcIm9iamVjdFwiPT1cbmIubmFtZSl7dmFyIGQ9Yi5hdHRyaWJ1dGVzLndpZHRoLGI9Yi5hdHRyaWJ1dGVzLmhlaWdodDtkJiYoYS5hdHRyaWJ1dGVzLndpZHRoPWQpO2ImJihhLmF0dHJpYnV0ZXMuaGVpZ2h0PWIpfX0sYTpmdW5jdGlvbihhKXt2YXIgYj1hLmF0dHJpYnV0ZXM7aWYoIShhLmNoaWxkcmVuLmxlbmd0aHx8Yi5uYW1lfHxiLmlkfHxhLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1zYXZlZC1uYW1lXCJdKSlyZXR1cm4hMX19fSxDPXtlbGVtZW50TmFtZXM6W1svXmNrZTovLFwiXCJdLFsvXlxcP3htbDpuYW1lc3BhY2UkLyxcIlwiXV0sYXR0cmlidXRlTmFtZXM6W1svXmRhdGEtY2tlLShzYXZlZHxwYSktLyxcIlwiXSxbL15kYXRhLWNrZS0uKi8sXCJcIl0sW1wiaGlkZWZvY3VzXCIsXCJcIl1dLGVsZW1lbnRzOnskOmZ1bmN0aW9uKGEpe3ZhciBiPWEuYXR0cmlidXRlcztpZihiKXtpZihiW1wiZGF0YS1ja2UtdGVtcFwiXSlyZXR1cm4hMTtmb3IodmFyIGQ9W1wibmFtZVwiLFwiaHJlZlwiLFwic3JjXCJdLGMsZz0wO2c8ZC5sZW5ndGg7ZysrKWM9XG5cImRhdGEtY2tlLXNhdmVkLVwiK2RbZ10sYyBpbiBiJiZkZWxldGUgYltkW2ddXX1yZXR1cm4gYX0sdGFibGU6ZnVuY3Rpb24oYSl7YS5jaGlsZHJlbi5zbGljZSgwKS5zb3J0KGZ1bmN0aW9uKGEsYil7dmFyIGQsYzthLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi50eXBlPT1hLnR5cGUmJihkPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoeSxhLm5hbWUpLGM9Q0tFRElUT1IudG9vbHMuaW5kZXhPZih5LGIubmFtZSkpOy0xPGQmJi0xPGMmJmQhPWN8fChkPWEucGFyZW50P2EuZ2V0SW5kZXgoKTotMSxjPWIucGFyZW50P2IuZ2V0SW5kZXgoKTotMSk7cmV0dXJuIGQ+Yz8xOi0xfSl9LHBhcmFtOmZ1bmN0aW9uKGEpe2EuY2hpbGRyZW49W107YS5pc0VtcHR5PSEwO3JldHVybiBhfSxzcGFuOmZ1bmN0aW9uKGEpe1wiQXBwbGUtc3R5bGUtc3BhblwiPT1hLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXSYmZGVsZXRlIGEubmFtZX0saHRtbDpmdW5jdGlvbihhKXtkZWxldGUgYS5hdHRyaWJ1dGVzLmNvbnRlbnRlZGl0YWJsZTtcbmRlbGV0ZSBhLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXX0sYm9keTpmdW5jdGlvbihhKXtkZWxldGUgYS5hdHRyaWJ1dGVzLnNwZWxsY2hlY2s7ZGVsZXRlIGEuYXR0cmlidXRlcy5jb250ZW50ZWRpdGFibGV9LHN0eWxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuY2hpbGRyZW5bMF07YiYmYi52YWx1ZSYmKGIudmFsdWU9Q0tFRElUT1IudG9vbHMudHJpbShiLnZhbHVlKSk7YS5hdHRyaWJ1dGVzLnR5cGV8fChhLmF0dHJpYnV0ZXMudHlwZT1cInRleHQvY3NzXCIpfSx0aXRsZTpmdW5jdGlvbihhKXt2YXIgYj1hLmNoaWxkcmVuWzBdOyFiJiZsKGEsYj1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KTtiLnZhbHVlPWEuYXR0cmlidXRlc1tcImRhdGEtY2tlLXRpdGxlXCJdfHxcIlwifSxpbnB1dDpkLHRleHRhcmVhOmR9LGF0dHJpYnV0ZXM6e1wiY2xhc3NcIjpmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMubHRyaW0oYS5yZXBsYWNlKC8oPzpefFxccyspY2tlX1teXFxzXSovZyxcIlwiKSl8fCExfX19O1xuQ0tFRElUT1IuZW52LmllJiYoQy5hdHRyaWJ1dGVzLnN0eWxlPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoLyhefDspKFteXFw6XSspL2csZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9Mb3dlckNhc2UoKX0pfSk7dmFyIEY9LzwoYXxhcmVhfGltZ3xpbnB1dHxzb3VyY2UpXFxiKFtePl0qKT4vZ2ksSj0vKFtcXHctOl0rKVxccyo9XFxzKig/Oig/OlwiW15cIl0qXCIpfCg/OidbXiddKicpfCg/OlteIFwiJz5dKykpL2dpLEs9L14oaHJlZnxzcmN8bmFtZSkkL2ksRz0vKD86PHN0eWxlKD89WyA+XSlbXj5dKj5bXFxzXFxTXSo/PFxcL3N0eWxlPil8KD86PCg6P2xpbmt8bWV0YXxiYXNlKVtePl0qPikvZ2ksTT0vKDx0ZXh0YXJlYSg/PVsgPl0pW14+XSo+KShbXFxzXFxTXSo/KSg/OjxcXC90ZXh0YXJlYT4pL2dpLEg9Lzxja2U6ZW5jb2RlZD4oW148XSopPFxcL2NrZTplbmNvZGVkPi9naSxFPS8oPFxcLz8pKCg/Om9iamVjdHxlbWJlZHxwYXJhbXxodG1sfGJvZHl8aGVhZHx0aXRsZSkoW1xcc11bXj5dKik/PikvZ2ksXG5QPS8oPFxcLz8pY2tlOigoPzpodG1sfGJvZHl8aGVhZHx0aXRsZSlbXj5dKj4pL2dpLEw9Lzxja2U6KHBhcmFtfGVtYmVkKShbXj5dKj8pXFwvPz4oPyFcXHMqPFxcL2NrZTpcXDEpL2dpO3U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsZCl7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBnPWJbY107Zy5sYXN0SW5kZXg9MDtpZihnLnRlc3QoZCkpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gYihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuYXJyYXkucmVkdWNlKGEuc3BsaXQoXCJcIiksZnVuY3Rpb24oYSxiKXt2YXIgYz1iLnRvTG93ZXJDYXNlKCksZz1iLnRvVXBwZXJDYXNlKCksZT1kKGMpO2MhPT1nJiYoZSs9XCJ8XCIrZChnKSk7cmV0dXJuIGErKFwiKFwiK2UrXCIpXCIpfSxcIlwiKX1mdW5jdGlvbiBkKGEpe3ZhciBiO2I9YS5jaGFyQ29kZUF0KDApO3ZhciBjPWIudG9TdHJpbmcoMTYpO2I9e2h0bWxDb2RlOlwiXFx4MjYjXCIrYitcIjs/XCIsaGV4OlwiXFx4MjYjeDAqXCIrYytcIjs/XCIsZW50aXR5OntcIlxceDNjXCI6XCJcXHgyNmx0O1wiLFxuXCJcXHgzZVwiOlwiXFx4MjZndDtcIixcIjpcIjpcIlxceDI2Y29sb247XCJ9W2FdfTtmb3IodmFyIGcgaW4gYiliW2ddJiYoYSs9XCJ8XCIrYltnXSk7cmV0dXJuIGF9dmFyIGM9W25ldyBSZWdFeHAoXCIoXCIrYihcIlxceDNjY2tlOmVuY29kZWRcXHgzZVwiKStcIiguKj8pXCIrYihcIlxceDNjL2NrZTplbmNvZGVkXFx4M2VcIikrXCIpfChcIitiKFwiXFx4M2NcIikrYihcIi9cIikrXCI/XCIrYihcImNrZTplbmNvZGVkXFx4M2VcIikrXCIpXCIsXCJnaVwiKSxuZXcgUmVnRXhwKFwiKChcIitiKFwie2NrZV9wcm90ZWN0ZWRcIikrXCIpKF9bMC05XSopP1wiK2IoXCJ9XCIpK1wiKVwiLFwiZ2lcIiksLzwhKD86XFxzKi1cXHMqKXsyLDN9IT9cXHMqPi9nXTtyZXR1cm4gZnVuY3Rpb24oYil7Zm9yKDthKGMsYik7KWZvcih2YXIgZD1jLGc9MDtnPGQubGVuZ3RoO2crKyliPWIucmVwbGFjZShkW2ddLFwiXCIpO3JldHVybiBifX0oKX0oKSxcInVzZSBzdHJpY3RcIixDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQ9ZnVuY3Rpb24oYSxmKXt0aGlzLm5hbWU9YTt0aGlzLmF0dHJpYnV0ZXM9XG5mfHx7fTt0aGlzLmNoaWxkcmVuPVtdO3ZhciBlPWF8fFwiXCIsYj1lLm1hdGNoKC9eY2tlOiguKikvKTtiJiYoZT1iWzFdKTtlPSEhKENLRURJVE9SLmR0ZC4kbm9uQm9keUNvbnRlbnRbZV18fENLRURJVE9SLmR0ZC4kYmxvY2tbZV18fENLRURJVE9SLmR0ZC4kbGlzdEl0ZW1bZV18fENLRURJVE9SLmR0ZC4kdGFibGVDb250ZW50W2VdfHxDS0VESVRPUi5kdGQuJG5vbkVkaXRhYmxlW2VdfHxcImJyXCI9PWUpO3RoaXMuaXNFbXB0eT0hIUNLRURJVE9SLmR0ZC4kZW1wdHlbYV07dGhpcy5pc1Vua25vd249IUNLRURJVE9SLmR0ZFthXTt0aGlzLl89e2lzQmxvY2tMaWtlOmUsaGFzSW5saW5lU3RhcnRlZDp0aGlzLmlzRW1wdHl8fCFlfX0sQ0tFRElUT1IuaHRtbFBhcnNlci5jc3NTdHlsZT1mdW5jdGlvbihhKXt2YXIgZj17fTsoKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQ/YS5hdHRyaWJ1dGVzLnN0eWxlOmEpfHxcIlwiKS5yZXBsYWNlKC8mcXVvdDsvZywnXCInKS5yZXBsYWNlKC9cXHMqKFteIDo7XSspXFxzKjpcXHMqKFteO10rKVxccyooPz07fCQpL2csXG5mdW5jdGlvbihhLGIsYyl7XCJmb250LWZhbWlseVwiPT1iJiYoYz1jLnJlcGxhY2UoL1tcIiddL2csXCJcIikpO2ZbYi50b0xvd2VyQ2FzZSgpXT1jfSk7cmV0dXJue3J1bGVzOmYscG9wdWxhdGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy50b1N0cmluZygpO2ImJihhIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQ/YS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLGIpOmEgaW5zdGFuY2VvZiBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQ/YS5hdHRyaWJ1dGVzLnN0eWxlPWI6YS5zdHlsZT1iKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXt2YXIgYT1bXSxiO2ZvcihiIGluIGYpZltiXSYmYS5wdXNoKGIsXCI6XCIsZltiXSxcIjtcIik7cmV0dXJuIGEuam9pbihcIlwiKX19fSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybiBjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKFwic3RyaW5nXCI9PXR5cGVvZiBhP2MubmFtZT09YTpjLm5hbWUgaW4gYSl9fXZhciBmPVxuZnVuY3Rpb24oYSxjKXthPWFbMF07Yz1jWzBdO3JldHVybiBhPGM/LTE6YT5jPzE6MH0sZT1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LnByb3RvdHlwZTtDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5ub2RlLHt0eXBlOkNLRURJVE9SLk5PREVfRUxFTUVOVCxhZGQ6ZS5hZGQsY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudCh0aGlzLm5hbWUsdGhpcy5hdHRyaWJ1dGVzKX0sZmlsdGVyOmZ1bmN0aW9uKGEsYyl7dmFyIGU9dGhpcyxmLG07Yz1lLmdldEZpbHRlckNvbnRleHQoYyk7aWYoIWUucGFyZW50KWEub25Sb290KGMsZSk7Zm9yKDs7KXtmPWUubmFtZTtpZighKG09YS5vbkVsZW1lbnROYW1lKGMsZikpKXJldHVybiB0aGlzLnJlbW92ZSgpLCExO2UubmFtZT1tO2lmKCEoZT1hLm9uRWxlbWVudChjLGUpKSlyZXR1cm4gdGhpcy5yZW1vdmUoKSxcbiExO2lmKGUhPT10aGlzKXJldHVybiB0aGlzLnJlcGxhY2VXaXRoKGUpLCExO2lmKGUubmFtZT09ZilicmVhaztpZihlLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm4gdGhpcy5yZXBsYWNlV2l0aChlKSwhMTtpZighZS5uYW1lKXJldHVybiB0aGlzLnJlcGxhY2VXaXRoQ2hpbGRyZW4oKSwhMX1mPWUuYXR0cmlidXRlczt2YXIgZCxoO2ZvcihkIGluIGYpe2ZvcihtPWZbZF07OylpZihoPWEub25BdHRyaWJ1dGVOYW1lKGMsZCkpaWYoaCE9ZClkZWxldGUgZltkXSxkPWg7ZWxzZSBicmVhaztlbHNle2RlbGV0ZSBmW2RdO2JyZWFrfWgmJighMT09PShtPWEub25BdHRyaWJ1dGUoYyxlLGgsbSkpP2RlbGV0ZSBmW2hdOmZbaF09bSl9ZS5pc0VtcHR5fHx0aGlzLmZpbHRlckNoaWxkcmVuKGEsITEsYyk7cmV0dXJuITB9LGZpbHRlckNoaWxkcmVuOmUuZmlsdGVyQ2hpbGRyZW4sd3JpdGVIdG1sOmZ1bmN0aW9uKGEsYyl7YyYmdGhpcy5maWx0ZXIoYyk7dmFyIGU9dGhpcy5uYW1lLFxubD1bXSxtPXRoaXMuYXR0cmlidXRlcyxkLGg7YS5vcGVuVGFnKGUsbSk7Zm9yKGQgaW4gbSlsLnB1c2goW2QsbVtkXV0pO2Euc29ydEF0dHJpYnV0ZXMmJmwuc29ydChmKTtkPTA7Zm9yKGg9bC5sZW5ndGg7ZDxoO2QrKyltPWxbZF0sYS5hdHRyaWJ1dGUobVswXSxtWzFdKTthLm9wZW5UYWdDbG9zZShlLHRoaXMuaXNFbXB0eSk7dGhpcy53cml0ZUNoaWxkcmVuSHRtbChhKTt0aGlzLmlzRW1wdHl8fGEuY2xvc2VUYWcoZSl9LHdyaXRlQ2hpbGRyZW5IdG1sOmUud3JpdGVDaGlsZHJlbkh0bWwscmVwbGFjZVdpdGhDaGlsZHJlbjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmNoaWxkcmVuLGM9YS5sZW5ndGg7YzspYVstLWNdLmluc2VydEFmdGVyKHRoaXMpO3RoaXMucmVtb3ZlKCl9LGZvckVhY2g6ZS5mb3JFYWNoLGdldEZpcnN0OmZ1bmN0aW9uKGIpe2lmKCFiKXJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aD90aGlzLmNoaWxkcmVuWzBdOm51bGw7XCJmdW5jdGlvblwiIT10eXBlb2YgYiYmXG4oYj1hKGIpKTtmb3IodmFyIGM9MCxlPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO2M8ZTsrK2MpaWYoYih0aGlzLmNoaWxkcmVuW2NdKSlyZXR1cm4gdGhpcy5jaGlsZHJlbltjXTtyZXR1cm4gbnVsbH0sZ2V0SHRtbDpmdW5jdGlvbigpe3ZhciBhPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO3RoaXMud3JpdGVDaGlsZHJlbkh0bWwoYSk7cmV0dXJuIGEuZ2V0SHRtbCgpfSxzZXRIdG1sOmZ1bmN0aW9uKGEpe2E9dGhpcy5jaGlsZHJlbj1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGEpLmNoaWxkcmVuO2Zvcih2YXIgYz0wLGU9YS5sZW5ndGg7YzxlOysrYylhW2NdLnBhcmVudD10aGlzfSxnZXRPdXRlckh0bWw6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcjt0aGlzLndyaXRlSHRtbChhKTtyZXR1cm4gYS5nZXRIdG1sKCl9LHNwbGl0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYz10aGlzLmNoaWxkcmVuLnNwbGljZShhLFxudGhpcy5jaGlsZHJlbi5sZW5ndGgtYSksZT10aGlzLmNsb25lKCksZj0wO2Y8Yy5sZW5ndGg7KytmKWNbZl0ucGFyZW50PWU7ZS5jaGlsZHJlbj1jO2NbMF0mJihjWzBdLnByZXZpb3VzPW51bGwpOzA8YSYmKHRoaXMuY2hpbGRyZW5bYS0xXS5uZXh0PW51bGwpO3RoaXMucGFyZW50LmFkZChlLHRoaXMuZ2V0SW5kZXgoKSsxKTtyZXR1cm4gZX0sZmluZDpmdW5jdGlvbihhLGMpe3ZvaWQgMD09PWMmJihjPSExKTt2YXIgZT1bXSxmO2ZvcihmPTA7Zjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtmKyspe3ZhciBtPXRoaXMuY2hpbGRyZW5bZl07XCJmdW5jdGlvblwiPT10eXBlb2YgYSYmYShtKT9lLnB1c2gobSk6XCJzdHJpbmdcIj09dHlwZW9mIGEmJm0ubmFtZT09PWEmJmUucHVzaChtKTtjJiZtLmZpbmQmJihlPWUuY29uY2F0KG0uZmluZChhLGMpKSl9cmV0dXJuIGV9LGZpbmRPbmU6ZnVuY3Rpb24oYSxjKXt2YXIgZT1udWxsLGY9Q0tFRElUT1IudG9vbHMuYXJyYXkuZmluZCh0aGlzLmNoaWxkcmVuLFxuZnVuY3Rpb24oZil7dmFyIGQ9XCJmdW5jdGlvblwiPT09dHlwZW9mIGE/YShmKTpmLm5hbWU9PT1hO2lmKGR8fCFjKXJldHVybiBkO2YuY2hpbGRyZW4mJmYuZmluZE9uZSYmKGU9Zi5maW5kT25lKGEsITApKTtyZXR1cm4hIWV9KTtyZXR1cm4gZXx8Znx8bnVsbH0sYWRkQ2xhc3M6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaGFzQ2xhc3MoYSkpe3ZhciBjPXRoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdfHxcIlwiO3RoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdPWMrKGM/XCIgXCI6XCJcIikrYX19LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdO2MmJigoYz1DS0VESVRPUi50b29scy50cmltKGMucmVwbGFjZShuZXcgUmVnRXhwKFwiKD86XFxcXHMrfF4pXCIrYStcIig/OlxcXFxzK3wkKVwiKSxcIiBcIikpKT90aGlzLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXT1jOmRlbGV0ZSB0aGlzLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdO1xucmV0dXJuIGM/KG5ldyBSZWdFeHAoXCIoPzpefFxcXFxzKVwiK2ErXCIoP1xceDNkXFxcXHN8JClcIikpLnRlc3QoYyk6ITF9LGdldEZpbHRlckNvbnRleHQ6ZnVuY3Rpb24oYSl7dmFyIGM9W107YXx8KGE9e25vbkVkaXRhYmxlOiExLG5lc3RlZEVkaXRhYmxlOiExfSk7YS5ub25FZGl0YWJsZXx8XCJmYWxzZVwiIT10aGlzLmF0dHJpYnV0ZXMuY29udGVudGVkaXRhYmxlP2Eubm9uRWRpdGFibGUmJiFhLm5lc3RlZEVkaXRhYmxlJiZcInRydWVcIj09dGhpcy5hdHRyaWJ1dGVzLmNvbnRlbnRlZGl0YWJsZSYmYy5wdXNoKFwibmVzdGVkRWRpdGFibGVcIiwhMCk6Yy5wdXNoKFwibm9uRWRpdGFibGVcIiwhMCk7aWYoYy5sZW5ndGgpe2E9Q0tFRElUT1IudG9vbHMuY29weShhKTtmb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrPTIpYVtjW2VdXT1jW2UrMV19cmV0dXJuIGF9fSwhMCl9KCksZnVuY3Rpb24oKXt2YXIgYT0veyhbXn1dKyl9L2c7Q0tFRElUT1IudGVtcGxhdGU9ZnVuY3Rpb24oYSl7dGhpcy5zb3VyY2U9XCJmdW5jdGlvblwiPT09XG50eXBlb2YgYT9hOlN0cmluZyhhKX07Q0tFRElUT1IudGVtcGxhdGUucHJvdG90eXBlLm91dHB1dD1mdW5jdGlvbihmLGUpe3ZhciBiPShcImZ1bmN0aW9uXCI9PT10eXBlb2YgdGhpcy5zb3VyY2U/dGhpcy5zb3VyY2UoZik6dGhpcy5zb3VyY2UpLnJlcGxhY2UoYSxmdW5jdGlvbihhLGIpe3JldHVybiB2b2lkIDAhPT1mW2JdP2ZbYl06YX0pO3JldHVybiBlP2UucHVzaChiKTpifX0oKSxkZWxldGUgQ0tFRElUT1IubG9hZEZ1bGxDb3JlLENLRURJVE9SLmluc3RhbmNlcz17fSxDS0VESVRPUi5kb2N1bWVudD1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50KGRvY3VtZW50KSxDS0VESVRPUi5hZGQ9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZigpe0NLRURJVE9SLmN1cnJlbnRJbnN0YW5jZT09YSYmKENLRURJVE9SLmN1cnJlbnRJbnN0YW5jZT1udWxsLENLRURJVE9SLmZpcmUoXCJjdXJyZW50SW5zdGFuY2VcIikpfUNLRURJVE9SLmluc3RhbmNlc1thLm5hbWVdPWE7YS5vbihcImZvY3VzXCIsZnVuY3Rpb24oKXtDS0VESVRPUi5jdXJyZW50SW5zdGFuY2UhPVxuYSYmKENLRURJVE9SLmN1cnJlbnRJbnN0YW5jZT1hLENLRURJVE9SLmZpcmUoXCJjdXJyZW50SW5zdGFuY2VcIikpfSk7YS5vbihcImJsdXJcIixmKTthLm9uKFwiZGVzdHJveVwiLGYpO0NLRURJVE9SLmZpcmUoXCJpbnN0YW5jZVwiLG51bGwsYSl9LENLRURJVE9SLnJlbW92ZT1mdW5jdGlvbihhKXtkZWxldGUgQ0tFRElUT1IuaW5zdGFuY2VzW2EubmFtZV19LGZ1bmN0aW9uKCl7dmFyIGE9e307Q0tFRElUT1IuYWRkVGVtcGxhdGU9ZnVuY3Rpb24oZixlKXt2YXIgYj1hW2ZdO2lmKGIpcmV0dXJuIGI7Yj17bmFtZTpmLHNvdXJjZTplfTtDS0VESVRPUi5maXJlKFwidGVtcGxhdGVcIixiKTtyZXR1cm4gYVtmXT1uZXcgQ0tFRElUT1IudGVtcGxhdGUoYi5zb3VyY2UpfTtDS0VESVRPUi5nZXRUZW1wbGF0ZT1mdW5jdGlvbihmKXtyZXR1cm4gYVtmXX19KCksZnVuY3Rpb24oKXt2YXIgYT1bXTtDS0VESVRPUi5hZGRDc3M9ZnVuY3Rpb24oZil7YS5wdXNoKGYpfTtDS0VESVRPUi5nZXRDc3M9ZnVuY3Rpb24oKXtyZXR1cm4gYS5qb2luKFwiXFxuXCIpfX0oKSxcbkNLRURJVE9SLm9uKFwiaW5zdGFuY2VEZXN0cm95ZWRcIixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLmlzRW1wdHkodGhpcy5pbnN0YW5jZXMpJiZDS0VESVRPUi5maXJlKFwicmVzZXRcIil9KSxDS0VESVRPUi5UUklTVEFURV9PTj0xLENLRURJVE9SLlRSSVNUQVRFX09GRj0yLENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEPTAsZnVuY3Rpb24oKXtDS0VESVRPUi5pbmxpbmU9ZnVuY3Rpb24oYSxmKXthPUNLRURJVE9SLmVkaXRvci5fZ2V0RWRpdG9yRWxlbWVudChhKTtpZighYSlyZXR1cm4gbnVsbDtpZihDS0VESVRPUi5lZGl0b3Iuc2hvdWxkRGVsYXlFZGl0b3JDcmVhdGlvbihhLGYpKXJldHVybiBDS0VESVRPUi5lZGl0b3IuaW5pdGlhbGl6ZURlbGF5ZWRFZGl0b3JDcmVhdGlvbihhLGYsXCJpbmxpbmVcIik7dmFyIGU9YS5pcyhcInRleHRhcmVhXCIpP2E6bnVsbCxiPWU/ZS5nZXRWYWx1ZSgpOmEuZ2V0SHRtbCgpLGM9bmV3IENLRURJVE9SLmVkaXRvcihmLGEsQ0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSk7XG5lPyhjLnNldERhdGEoYixudWxsLCEwKSxhPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2RpdiBjb250ZW50ZWRpdGFibGVcXHgzZFwiJyshIWMucmVhZE9ubHkrJ1wiIGNsYXNzXFx4M2RcImNrZV90ZXh0YXJlYV9pbmxpbmVcIlxceDNlJytlLmdldFZhbHVlKCkrXCJcXHgzYy9kaXZcXHgzZVwiLENLRURJVE9SLmRvY3VtZW50KSxhLmluc2VydEFmdGVyKGUpLGUuaGlkZSgpLGUuJC5mb3JtJiZjLl9hdHRhY2hUb0Zvcm0oKSk6KGYmJlwidW5kZWZpbmVkXCIhPT10eXBlb2YgZi5yZWFkT25seSYmIWYucmVhZE9ubHkmJmEuc2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIsXCJ0cnVlXCIpLGMuc2V0RGF0YShiLG51bGwsITApKTtjLm9uKFwibG9hZGVkXCIsZnVuY3Rpb24oKXtjLmZpcmUoXCJ1aVJlYWR5XCIpO2MuZWRpdGFibGUoYSk7Yy5jb250YWluZXI9YTtjLnVpLmNvbnRlbnRzRWxlbWVudD1hO2Muc2V0RGF0YShjLmdldERhdGEoMSkpO2MucmVzZXREaXJ0eSgpO2MuZmlyZShcImNvbnRlbnREb21cIik7XG5jLm1vZGU9XCJ3eXNpd3lnXCI7Yy5maXJlKFwibW9kZVwiKTtjLnN0YXR1cz1cInJlYWR5XCI7Yy5maXJlT25jZShcImluc3RhbmNlUmVhZHlcIik7Q0tFRElUT1IuZmlyZShcImluc3RhbmNlUmVhZHlcIixudWxsLGMpfSxudWxsLG51bGwsMUU0KTtjLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7dmFyIGE9Yy5jb250YWluZXI7ZSYmYSYmKGEuY2xlYXJDdXN0b21EYXRhKCksYS5yZW1vdmUoKSk7ZSYmZS5zaG93KCk7Yy5lbGVtZW50LmNsZWFyQ3VzdG9tRGF0YSgpO2RlbGV0ZSBjLmVsZW1lbnR9KTtyZXR1cm4gY307Q0tFRElUT1IuaW5saW5lQWxsPWZ1bmN0aW9uKCl7dmFyIGEsZixlO2ZvcihlIGluIENLRURJVE9SLmR0ZC4kZWRpdGFibGUpZm9yKHZhciBiPUNLRURJVE9SLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWcoZSksYz0wLGs9Yi5jb3VudCgpO2M8aztjKyspYT1iLmdldEl0ZW0oYyksXCJ0cnVlXCIhPWEuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpfHxhLmdldEVkaXRvcigpfHwoZj1cbntlbGVtZW50OmEsY29uZmlnOnt9fSwhMSE9PUNLRURJVE9SLmZpcmUoXCJpbmxpbmVcIixmKSYmQ0tFRElUT1IuaW5saW5lKGEsZi5jb25maWcpKX07Q0tFRElUT1IuZG9tUmVhZHkoZnVuY3Rpb24oKXshQ0tFRElUT1IuZGlzYWJsZUF1dG9JbmxpbmUmJkNLRURJVE9SLmlubGluZUFsbCgpfSl9KCksQ0tFRElUT1IucmVwbGFjZUNsYXNzPVwiY2tlZGl0b3JcIixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxjLGssbCl7YT1DS0VESVRPUi5lZGl0b3IuX2dldEVkaXRvckVsZW1lbnQoYSk7aWYoIWEpcmV0dXJuIG51bGw7aWYoQ0tFRElUT1IuZWRpdG9yLnNob3VsZERlbGF5RWRpdG9yQ3JlYXRpb24oYSxjKSlyZXR1cm4gQ0tFRElUT1IuZWRpdG9yLmluaXRpYWxpemVEZWxheWVkRWRpdG9yQ3JlYXRpb24oYSxjLFwicmVwbGFjZVwiKTt2YXIgbT1uZXcgQ0tFRElUT1IuZWRpdG9yKGMsYSxsKTtsPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRSYmKGEuc2V0U3R5bGUoXCJ2aXNpYmlsaXR5XCIsXG5cImhpZGRlblwiKSxtLl8ucmVxdWlyZWQ9YS5oYXNBdHRyaWJ1dGUoXCJyZXF1aXJlZFwiKSxhLnJlbW92ZUF0dHJpYnV0ZShcInJlcXVpcmVkXCIpKTtrJiZtLnNldERhdGEoayxudWxsLCEwKTttLm9uKFwibG9hZGVkXCIsZnVuY3Rpb24oKXttLmlzRGVzdHJveWVkKCl8fG0uaXNEZXRhY2hlZCgpfHwoZShtKSxsPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRSYmbS5jb25maWcuYXV0b1VwZGF0ZUVsZW1lbnQmJmEuJC5mb3JtJiZtLl9hdHRhY2hUb0Zvcm0oKSxtLnNldE1vZGUobS5jb25maWcuc3RhcnR1cE1vZGUsZnVuY3Rpb24oKXttLnJlc2V0RGlydHkoKTttLnN0YXR1cz1cInJlYWR5XCI7bS5maXJlT25jZShcImluc3RhbmNlUmVhZHlcIik7Q0tFRElUT1IuZmlyZShcImluc3RhbmNlUmVhZHlcIixudWxsLG0pfSkpfSk7bS5vbihcImRlc3Ryb3lcIixmKTtyZXR1cm4gbX1mdW5jdGlvbiBmKCl7dmFyIGE9dGhpcy5jb250YWluZXIsYz10aGlzLmVsZW1lbnQ7YSYmKGEuY2xlYXJDdXN0b21EYXRhKCksXG5hLnJlbW92ZSgpKTtjJiYoYy5jbGVhckN1c3RvbURhdGEoKSx0aGlzLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRSYmKGMuc2hvdygpLHRoaXMuXy5yZXF1aXJlZCYmYy5zZXRBdHRyaWJ1dGUoXCJyZXF1aXJlZFwiLFwicmVxdWlyZWRcIikpLGRlbGV0ZSB0aGlzLmVsZW1lbnQpfWZ1bmN0aW9uIGUoYSl7dmFyIGM9YS5uYW1lLGU9YS5lbGVtZW50LGY9YS5lbGVtZW50TW9kZSxtPWEuZmlyZShcInVpU3BhY2VcIix7c3BhY2U6XCJ0b3BcIixodG1sOlwiXCJ9KS5odG1sLGQ9YS5maXJlKFwidWlTcGFjZVwiLHtzcGFjZTpcImJvdHRvbVwiLGh0bWw6XCJcIn0pLmh0bWwsaD1uZXcgQ0tFRElUT1IudGVtcGxhdGUoJ1xceDNje291dGVyRWx9IGlkXFx4M2RcImNrZV97bmFtZX1cIiBjbGFzc1xceDNkXCJ7aWR9IGNrZSBja2VfcmVzZXQgY2tlX2Nocm9tZSBja2VfZWRpdG9yX3tuYW1lfSBja2Vfe2xhbmdEaXJ9ICcrQ0tFRElUT1IuZW52LmNzc0NsYXNzKydcIiAgZGlyXFx4M2RcIntsYW5nRGlyfVwiIGxhbmdcXHgzZFwie2xhbmdDb2RlfVwiIHJvbGVcXHgzZFwiYXBwbGljYXRpb25cIicrXG4oYS5hcHBsaWNhdGlvblRpdGxlPycgYXJpYS1sYWJlbGxlZGJ5XFx4M2RcImNrZV97bmFtZX1fYXJpYWxibFwiJzpcIlwiKStcIlxceDNlXCIrKGEuYXBwbGljYXRpb25UaXRsZT8nXFx4M2NzcGFuIGlkXFx4M2RcImNrZV97bmFtZX1fYXJpYWxibFwiIGNsYXNzXFx4M2RcImNrZV92b2ljZV9sYWJlbFwiXFx4M2V7dm9pY2VMYWJlbH1cXHgzYy9zcGFuXFx4M2UnOlwiXCIpKydcXHgzY3tvdXRlckVsfSBjbGFzc1xceDNkXCJja2VfaW5uZXIgY2tlX3Jlc2V0XCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNle3RvcEh0bWx9XFx4M2N7b3V0ZXJFbH0gaWRcXHgzZFwie2NvbnRlbnRJZH1cIiBjbGFzc1xceDNkXCJja2VfY29udGVudHMgY2tlX3Jlc2V0XCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2Mve291dGVyRWx9XFx4M2V7Ym90dG9tSHRtbH1cXHgzYy97b3V0ZXJFbH1cXHgzZVxceDNjL3tvdXRlckVsfVxceDNlJyksYz1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChoLm91dHB1dCh7aWQ6YS5pZCxuYW1lOmMsbGFuZ0RpcjphLmxhbmcuZGlyLFxubGFuZ0NvZGU6YS5sYW5nQ29kZSx2b2ljZUxhYmVsOmEuYXBwbGljYXRpb25UaXRsZSx0b3BIdG1sOm0/J1xceDNjc3BhbiBpZFxceDNkXCInK2EudWkuc3BhY2VJZChcInRvcFwiKSsnXCIgY2xhc3NcXHgzZFwiY2tlX3RvcCBja2VfcmVzZXRfYWxsXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiBzdHlsZVxceDNkXCJoZWlnaHQ6YXV0b1wiXFx4M2UnK20rXCJcXHgzYy9zcGFuXFx4M2VcIjpcIlwiLGNvbnRlbnRJZDphLnVpLnNwYWNlSWQoXCJjb250ZW50c1wiKSxib3R0b21IdG1sOmQ/J1xceDNjc3BhbiBpZFxceDNkXCInK2EudWkuc3BhY2VJZChcImJvdHRvbVwiKSsnXCIgY2xhc3NcXHgzZFwiY2tlX2JvdHRvbSBja2VfcmVzZXRfYWxsXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlJytkK1wiXFx4M2Mvc3BhblxceDNlXCI6XCJcIixvdXRlckVsOkNLRURJVE9SLmVudi5pZT9cInNwYW5cIjpcImRpdlwifSkpO2Y9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFPyhlLmhpZGUoKSxjLmluc2VydEFmdGVyKGUpKTplLmFwcGVuZChjKTthLmNvbnRhaW5lcj1cbmM7YS51aS5jb250ZW50c0VsZW1lbnQ9YS51aS5zcGFjZShcImNvbnRlbnRzXCIpO20mJmEudWkuc3BhY2UoXCJ0b3BcIikudW5zZWxlY3RhYmxlKCk7ZCYmYS51aS5zcGFjZShcImJvdHRvbVwiKS51bnNlbGVjdGFibGUoKTtlPWEuY29uZmlnLndpZHRoO2Y9YS5jb25maWcuaGVpZ2h0O2UmJmMuc2V0U3R5bGUoXCJ3aWR0aFwiLENLRURJVE9SLnRvb2xzLmNzc0xlbmd0aChlKSk7ZiYmYS51aS5zcGFjZShcImNvbnRlbnRzXCIpLnNldFN0eWxlKFwiaGVpZ2h0XCIsQ0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoKGYpKTtjLmRpc2FibGVDb250ZXh0TWVudSgpO0NLRURJVE9SLmVudi53ZWJraXQmJmMub24oXCJmb2N1c1wiLGZ1bmN0aW9uKCl7YS5mb2N1cygpfSk7YS5maXJlT25jZShcInVpUmVhZHlcIil9Q0tFRElUT1IucmVwbGFjZT1mdW5jdGlvbihiLGMpe3JldHVybiBhKGIsYyxudWxsLENLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFKX07Q0tFRElUT1IuYXBwZW5kVG89ZnVuY3Rpb24oYixjLGUpe3JldHVybiBhKGIsXG5jLGUsQ0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPKX07Q0tFRElUT1IucmVwbGFjZUFsbD1mdW5jdGlvbigpe2Zvcih2YXIgYT1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRleHRhcmVhXCIpLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGU9bnVsbCxmPWFbY107aWYoZi5uYW1lfHxmLmlkKXtpZihcInN0cmluZ1wiPT10eXBlb2YgYXJndW1lbnRzWzBdKXtpZighKG5ldyBSZWdFeHAoXCIoPzpefFxcXFxzKVwiK2FyZ3VtZW50c1swXStcIig/OiR8XFxcXHMpXCIpKS50ZXN0KGYuY2xhc3NOYW1lKSljb250aW51ZX1lbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGFyZ3VtZW50c1swXSYmKGU9e30sITE9PT1hcmd1bWVudHNbMF0oZixlKSkpY29udGludWU7dGhpcy5yZXBsYWNlKGYsZSl9fX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5hZGRNb2RlPWZ1bmN0aW9uKGEsYyl7KHRoaXMuXy5tb2Rlc3x8KHRoaXMuXy5tb2Rlcz17fSkpW2FdPWN9O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuc2V0TW9kZT1cbmZ1bmN0aW9uKGEsYyl7dmFyIGU9dGhpcyxmPXRoaXMuXy5tb2RlcztpZihhIT1lLm1vZGUmJmYmJmZbYV0pe2UuZmlyZShcImJlZm9yZVNldE1vZGVcIixhKTtpZihlLm1vZGUpe3ZhciBtPWUuY2hlY2tEaXJ0eSgpLGY9ZS5fLnByZXZpb3VzTW9kZURhdGEsZCxoPTA7ZS5maXJlKFwiYmVmb3JlTW9kZVVubG9hZFwiKTtlLmVkaXRhYmxlKDApO2UuXy5wcmV2aW91c01vZGU9ZS5tb2RlO2UuXy5wcmV2aW91c01vZGVEYXRhPWQ9ZS5nZXREYXRhKDEpO1wic291cmNlXCI9PWUubW9kZSYmZj09ZCYmKGUuZmlyZShcImxvY2tTbmFwc2hvdFwiLHtmb3JjZVVwZGF0ZTohMH0pLGg9MSk7ZS51aS5zcGFjZShcImNvbnRlbnRzXCIpLnNldEh0bWwoXCJcIik7ZS5tb2RlPVwiXCJ9ZWxzZSBlLl8ucHJldmlvdXNNb2RlRGF0YT1lLmdldERhdGEoMSk7dGhpcy5fLm1vZGVzW2FdKGZ1bmN0aW9uKCl7ZS5tb2RlPWE7dm9pZCAwIT09bSYmIW0mJmUucmVzZXREaXJ0eSgpO2g/ZS5maXJlKFwidW5sb2NrU25hcHNob3RcIik6XCJ3eXNpd3lnXCI9PVxuYSYmZS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmlzRGVzdHJveWVkKCl8fGUuaXNEZXRhY2hlZCgpfHwoZS5maXJlKFwibW9kZVwiKSxjJiZjLmNhbGwoZSkpfSwwKX0pfX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oYSxjLGUsZil7dmFyIG09dGhpcy5jb250YWluZXIsZD10aGlzLnVpLnNwYWNlKFwiY29udGVudHNcIiksaD1DS0VESVRPUi5lbnYud2Via2l0JiZ0aGlzLmRvY3VtZW50JiZ0aGlzLmRvY3VtZW50LmdldFdpbmRvdygpLiQuZnJhbWVFbGVtZW50O2Y9Zj90aGlzLmNvbnRhaW5lci5nZXRGaXJzdChmdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaGFzQ2xhc3MoXCJja2VfaW5uZXJcIil9KTptO2lmKGF8fDA9PT1hKWE9Q0tFRElUT1IudG9vbHMuY29udmVydFRvUHgoQ0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoKGEpKTtmLnNldFNpemUoXCJ3aWR0aFwiLGEsITApO2gmJlxuKGguc3R5bGUud2lkdGg9XCIxJVwiKTtjPUNLRURJVE9SLnRvb2xzLmNvbnZlcnRUb1B4KENLRURJVE9SLnRvb2xzLmNzc0xlbmd0aChjKSk7dmFyIGc9KGYuJC5vZmZzZXRIZWlnaHR8fDApLShkLiQuY2xpZW50SGVpZ2h0fHwwKSxtPU1hdGgubWF4KGMtKGU/MDpnKSwwKTtjPWU/YytnOmM7ZC5zZXRTdHlsZShcImhlaWdodFwiLENLRURJVE9SLnRvb2xzLmNzc0xlbmd0aChtKSk7aCYmKGguc3R5bGUud2lkdGg9XCIxMDAlXCIpO3RoaXMuZmlyZShcInJlc2l6ZVwiLHtvdXRlckhlaWdodDpjLGNvbnRlbnRzSGVpZ2h0Om0sb3V0ZXJXaWR0aDphfHxmLmdldFNpemUoXCJ3aWR0aFwiKX0pfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmdldFJlc2l6YWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLnVpLnNwYWNlKFwiY29udGVudHNcIik6dGhpcy5jb250YWluZXJ9O0NLRURJVE9SLmRvbVJlYWR5KGZ1bmN0aW9uKCl7Q0tFRElUT1IucmVwbGFjZUNsYXNzJiZDS0VESVRPUi5yZXBsYWNlQWxsKENLRURJVE9SLnJlcGxhY2VDbGFzcyl9KX0oKSxcbkNLRURJVE9SLmNvbmZpZy5zdGFydHVwTW9kZT1cInd5c2l3eWdcIixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dmFyIGM9YS5lZGl0b3IsZz1hLmRhdGEucGF0aCxlPWcuYmxvY2tMaW1pdCxoPWEuZGF0YS5zZWxlY3Rpb24saz1oLmdldFJhbmdlcygpWzBdLGw7aWYoQ0tFRElUT1IuZW52LmdlY2tvfHxDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyKWlmKGg9ZihoLGcpKWguYXBwZW5kQm9ndXMoKSxsPUNLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5lZGdlfHxDS0VESVRPUi5lbnYuZWRnZSYmYy5fLnByZXZpb3VzQWN0aXZlO2QoYyxnLmJsb2NrLGUpJiZrLmNvbGxhcHNlZCYmIWsuZ2V0Q29tbW9uQW5jZXN0b3IoKS5pc1JlYWRPbmx5KCkmJihnPWsuY2xvbmUoKSxnLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9CTE9DS19DT05URU5UUyksZT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihnKSxlLmd1YXJkPWZ1bmN0aW9uKGEpe3JldHVybiFiKGEpfHxcbmEudHlwZT09Q0tFRElUT1IuTk9ERV9DT01NRU5UfHxhLmlzUmVhZE9ubHkoKX0sIWUuY2hlY2tGb3J3YXJkKCl8fGcuY2hlY2tTdGFydE9mQmxvY2soKSYmZy5jaGVja0VuZE9mQmxvY2soKSkmJihjPWsuZml4QmxvY2soITAsYy5hY3RpdmVFbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0RJVj9cImRpdlwiOlwicFwiKSxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcnx8KGM9Yy5nZXRGaXJzdChiKSkmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZDS0VESVRPUi50b29scy50cmltKGMuZ2V0VGV4dCgpKS5tYXRjaCgvXig/OiZuYnNwO3xcXHhhMCkkLykmJmMucmVtb3ZlKCksbD0xLGEuY2FuY2VsKCkpO2wmJmsuc2VsZWN0KCl9ZnVuY3Rpb24gZihhLGQpe2lmKGEuaXNGYWtlKXJldHVybiAwO3ZhciBjPWQuYmxvY2t8fGQuYmxvY2tMaW1pdCxnPWMmJmMuZ2V0TGFzdChiKTtpZighKCFjfHwhYy5pc0Jsb2NrQm91bmRhcnkoKXx8ZyYmZy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlxuZy5pc0Jsb2NrQm91bmRhcnkoKXx8Yy5pcyhcInByZVwiKXx8Yy5nZXRCb2d1cygpKSlyZXR1cm4gY31mdW5jdGlvbiBlKGEpe3ZhciBiPWEuZGF0YS5nZXRUYXJnZXQoKTtiLmlzKFwiaW5wdXRcIikmJihiPWIuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSxcInN1Ym1pdFwiIT1iJiZcInJlc2V0XCIhPWJ8fGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKX1mdW5jdGlvbiBiKGEpe3JldHVybiB4KGEpJiZyKGEpfWZ1bmN0aW9uIGMoYSxiKXtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGM9ZC5kYXRhLiQudG9FbGVtZW50fHxkLmRhdGEuJC5mcm9tRWxlbWVudHx8ZC5kYXRhLiQucmVsYXRlZFRhcmdldDsoYz1jJiZjLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGMpOm51bGwpJiYoYi5lcXVhbHMoYyl8fGIuY29udGFpbnMoYykpfHxhLmNhbGwodGhpcyxkKX19ZnVuY3Rpb24gayhhKXtyZXR1cm4hIWEuZ2V0UmFuZ2VzKClbMF0uc3RhcnRQYXRoKCkuY29udGFpbnMoe3RhYmxlOjEsXG51bDoxLG9sOjEsZGw6MX0pfWZ1bmN0aW9uIGwoYSl7ZnVuY3Rpb24gZChhKXt2YXIgZz17dGFibGU6MSx1bDoxLG9sOjEsZGw6MX07cmV0dXJuIGZ1bmN0aW9uKGQsZSl7ZSYmZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuaXMoZykmJihjPWQpO2lmKCEoZXx8IWIoZCl8fGEmJnUoZCkpKXJldHVybiExfX12YXIgYyxnPWEuZ2V0UmFuZ2VzKClbMF0sZT1hLnJvb3Q7cmV0dXJuIGsoYSkmJihhPWcuY2xvbmUoKSxhLmNvbGxhcHNlKDEpLGEuc2V0U3RhcnRBdChlLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSxlPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGEpLGUuZ3VhcmQ9ZCgpLGUuY2hlY2tCYWNrd2FyZCgpLGMpPyhhPWcuY2xvbmUoKSxhLmNvbGxhcHNlKCksYS5zZXRFbmRBdChjLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksZT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihhKSxlLmd1YXJkPWQoITApLGM9ITEsZS5jaGVja0ZvcndhcmQoKSxjKTpudWxsfVxuZnVuY3Rpb24gbShhKXtyZXR1cm4gYS5ibG9jay5nZXRQYXJlbnQoKS5nZXRDaGlsZENvdW50KCl9ZnVuY3Rpb24gZChhLGIsZCl7cmV0dXJuITEhPT1hLmNvbmZpZy5hdXRvUGFyYWdyYXBoJiZhLmFjdGl2ZUVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlImJihhLmVkaXRhYmxlKCkuZXF1YWxzKGQpJiYhYnx8YiYmXCJ0cnVlXCI9PWIuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKX1mdW5jdGlvbiBoKGEpe3JldHVybiBhLmFjdGl2ZUVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlImJiExIT09YS5jb25maWcuYXV0b1BhcmFncmFwaD9hLmFjdGl2ZUVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfRElWP1wiZGl2XCI6XCJwXCI6ITF9ZnVuY3Rpb24gZyhhKXthJiZhLmlzRW1wdHlJbmxpbmVSZW1vdmVhYmxlKCkmJmEucmVtb3ZlKCl9ZnVuY3Rpb24gbihhKXt2YXIgYj1hLmVkaXRvcjtiLmdldFNlbGVjdGlvbigpLnNjcm9sbEludG9WaWV3KCk7c2V0VGltZW91dChmdW5jdGlvbigpe2IuZmlyZShcInNhdmVTbmFwc2hvdFwiKX0sXG4wKX1mdW5jdGlvbiB3KGEsYixkKXt2YXIgYz1hLmdldENvbW1vbkFuY2VzdG9yKGIpO2ZvcihiPWE9ZD9iOmE7KGE9YS5nZXRQYXJlbnQoKSkmJiFjLmVxdWFscyhhKSYmMT09YS5nZXRDaGlsZENvdW50KCk7KWI9YTtiLnJlbW92ZSgpfXZhciB4LHIscCx1LHoscSxBLHksdCx2LEI9e3VsOjEsb2w6MSxkbDoxfTtDS0VESVRPUi5lZGl0YWJsZT1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7YmFzZTpDS0VESVRPUi5kb20uZWxlbWVudCwkOmZ1bmN0aW9uKGEsYil7dGhpcy5iYXNlKGIuJHx8Yik7dGhpcy5lZGl0b3I9YTt0aGlzLnN0YXR1cz1cInVubG9hZGVkXCI7dGhpcy5oYXNGb2N1cz0hMTt0aGlzLnNldHVwKCl9LHByb3RvOntmb2N1czpmdW5jdGlvbigpe3ZhciBhO2lmKENLRURJVE9SLmVudi53ZWJraXQmJiF0aGlzLmhhc0ZvY3VzJiYoYT10aGlzLmVkaXRvci5fLnByZXZpb3VzQWN0aXZlfHx0aGlzLmdldERvY3VtZW50KCkuZ2V0QWN0aXZlKCksdGhpcy5jb250YWlucyhhKSkpe2EuZm9jdXMoKTtcbnJldHVybn1DS0VESVRPUi5lbnYuZWRnZSYmMTQ8Q0tFRElUT1IuZW52LnZlcnNpb24mJiF0aGlzLmhhc0ZvY3VzJiZ0aGlzLmdldERvY3VtZW50KCkuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50KSYmKHRoaXMuZWRpdG9yLl8ucHJldmlvdXNTY3JvbGxUb3A9dGhpcy4kLnNjcm9sbFRvcCk7dHJ5e2lmKCFDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi5lZGdlJiYxNDxDS0VESVRPUi5lbnYudmVyc2lvbnx8IXRoaXMuZ2V0RG9jdW1lbnQoKS5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQpKWlmKENLRURJVE9SLmVudi5jaHJvbWUpe3ZhciBiPXRoaXMuJC5zY3JvbGxUb3A7dGhpcy4kLmZvY3VzKCk7dGhpcy4kLnNjcm9sbFRvcD1ifWVsc2UgdGhpcy4kLmZvY3VzKCk7ZWxzZSB0aGlzLiQuc2V0QWN0aXZlKCl9Y2F0Y2goZCl7aWYoIUNLRURJVE9SLmVudi5pZSl0aHJvdyBkO31DS0VESVRPUi5lbnYuc2FmYXJpJiYhdGhpcy5pc0lubGluZSgpJiYoYT1DS0VESVRPUi5kb2N1bWVudC5nZXRBY3RpdmUoKSxcbmEuZXF1YWxzKHRoaXMuZ2V0V2luZG93KCkuZ2V0RnJhbWUoKSl8fHRoaXMuZ2V0V2luZG93KCkuZm9jdXMoKSl9LG9uOmZ1bmN0aW9uKGEsYil7dmFyIGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO0NLRURJVE9SLmVudi5pZSYmL15mb2N1c3xibHVyJC8uZXhlYyhhKSYmKGE9XCJmb2N1c1wiPT1hP1wiZm9jdXNpblwiOlwiZm9jdXNvdXRcIixiPWMoYix0aGlzKSxkWzBdPWEsZFsxXT1iKTtyZXR1cm4gQ0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLm9uLmFwcGx5KHRoaXMsZCl9LGF0dGFjaExpc3RlbmVyOmZ1bmN0aW9uKGEpeyF0aGlzLl8ubGlzdGVuZXJzJiYodGhpcy5fLmxpc3RlbmVycz1bXSk7dmFyIGI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGI9YS5vbi5hcHBseShhLGIpO3RoaXMuXy5saXN0ZW5lcnMucHVzaChiKTtyZXR1cm4gYn0sY2xlYXJMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8ubGlzdGVuZXJzO1xudHJ5e2Zvcig7YS5sZW5ndGg7KWEucG9wKCkucmVtb3ZlTGlzdGVuZXIoKX1jYXRjaChiKXt9fSxyZXN0b3JlQXR0cnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uYXR0ckNoYW5nZXMsYixkO2ZvcihkIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShkKSYmKGI9YVtkXSxudWxsIT09Yj90aGlzLnNldEF0dHJpYnV0ZShkLGIpOnRoaXMucmVtb3ZlQXR0cmlidXRlKGQpKX0sYXR0YWNoQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRDdXN0b21EYXRhKFwiY2xhc3Nlc1wiKTt0aGlzLmhhc0NsYXNzKGEpfHwoIWImJihiPVtdKSxiLnB1c2goYSksdGhpcy5zZXRDdXN0b21EYXRhKFwiY2xhc3Nlc1wiLGIpLHRoaXMuYWRkQ2xhc3MoYSkpfSxjaGFuZ2VBdHRyOmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcy5nZXRBdHRyaWJ1dGUoYSk7YiE9PWQmJighdGhpcy5fLmF0dHJDaGFuZ2VzJiYodGhpcy5fLmF0dHJDaGFuZ2VzPXt9KSxhIGluIHRoaXMuXy5hdHRyQ2hhbmdlc3x8KHRoaXMuXy5hdHRyQ2hhbmdlc1thXT1cbmQpLHRoaXMuc2V0QXR0cmlidXRlKGEsYikpfSxpbnNlcnRUZXh0OmZ1bmN0aW9uKGEpe3RoaXMuZWRpdG9yLmZvY3VzKCk7dGhpcy5pbnNlcnRIdG1sKHRoaXMudHJhbnNmb3JtUGxhaW5UZXh0VG9IdG1sKGEpLFwidGV4dFwiKX0sdHJhbnNmb3JtUGxhaW5UZXh0VG9IdG1sOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWRpdG9yLmdldFNlbGVjdGlvbigpLmdldFN0YXJ0RWxlbWVudCgpLmhhc0FzY2VuZGFudChcInByZVwiLCEwKT9DS0VESVRPUi5FTlRFUl9CUjp0aGlzLmVkaXRvci5hY3RpdmVFbnRlck1vZGU7cmV0dXJuIENLRURJVE9SLnRvb2xzLnRyYW5zZm9ybVBsYWluVGV4dFRvSHRtbChhLGIpfSxpbnNlcnRIdG1sOmZ1bmN0aW9uKGEsYixkKXt2YXIgYz10aGlzLmVkaXRvcjtjLmZvY3VzKCk7Yy5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2R8fChkPWMuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF0pO3EodGhpcyxifHxcImh0bWxcIixhLGQpO2Quc2VsZWN0KCk7bih0aGlzKTt0aGlzLmVkaXRvci5maXJlKFwiYWZ0ZXJJbnNlcnRIdG1sXCIsXG57fSl9LGluc2VydEh0bWxJbnRvUmFuZ2U6ZnVuY3Rpb24oYSxiLGQpe3EodGhpcyxkfHxcImh0bWxcIixhLGIpO3RoaXMuZWRpdG9yLmZpcmUoXCJhZnRlckluc2VydEh0bWxcIix7aW50b1JhbmdlOmJ9KX0saW5zZXJ0RWxlbWVudDpmdW5jdGlvbihhLGQpe3ZhciBjPXRoaXMuZWRpdG9yO2MuZm9jdXMoKTtjLmZpcmUoXCJzYXZlU25hcHNob3RcIik7dmFyIGc9Yy5hY3RpdmVFbnRlck1vZGUsYz1jLmdldFNlbGVjdGlvbigpLGU9YS5nZXROYW1lKCksZT1DS0VESVRPUi5kdGQuJGJsb2NrW2VdO2R8fChkPWMuZ2V0UmFuZ2VzKClbMF0pO3RoaXMuaW5zZXJ0RWxlbWVudEludG9SYW5nZShhLGQpJiYoZC5tb3ZlVG9Qb3NpdGlvbihhLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksZSYmKChlPWEuZ2V0TmV4dChmdW5jdGlvbihhKXtyZXR1cm4gYihhKSYmIXUoYSl9KSkmJmUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZlLmlzKENLRURJVE9SLmR0ZC4kYmxvY2spP2UuZ2V0RHRkKClbXCIjXCJdP1xuZC5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGUpOmQubW92ZVRvRWxlbWVudEVkaXRFbmQoYSk6ZXx8Zz09Q0tFRElUT1IuRU5URVJfQlJ8fChlPWQuZml4QmxvY2soITAsZz09Q0tFRElUT1IuRU5URVJfRElWP1wiZGl2XCI6XCJwXCIpLGQubW92ZVRvRWxlbWVudEVkaXRTdGFydChlKSkpKTtjLnNlbGVjdFJhbmdlcyhbZF0pO24odGhpcyl9LGluc2VydEVsZW1lbnRJbnRvU2VsZWN0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuaW5zZXJ0RWxlbWVudChhKX0saW5zZXJ0RWxlbWVudEludG9SYW5nZTpmdW5jdGlvbihhLGIpe3ZhciBkPXRoaXMuZWRpdG9yLGM9ZC5jb25maWcuZW50ZXJNb2RlLGU9YS5nZXROYW1lKCksaD1DS0VESVRPUi5kdGQuJGJsb2NrW2VdO2lmKGIuY2hlY2tSZWFkT25seSgpKXJldHVybiExO2IuZGVsZXRlQ29udGVudHMoMSk7Yi5zdGFydENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiLnN0YXJ0Q29udGFpbmVyLmlzKHt0cjoxLHRhYmxlOjEsdGJvZHk6MSxcbnRoZWFkOjEsdGZvb3Q6MX0pP0EoYik6Yi5zdGFydENvbnRhaW5lci5pcyhDS0VESVRPUi5kdGQuJGxpc3QpJiZ5KGIpKTt2YXIgZixrO2lmKGgpZm9yKDsoZj1iLmdldENvbW1vbkFuY2VzdG9yKDAsMSkpJiYoaz1DS0VESVRPUi5kdGRbZi5nZXROYW1lKCldKSYmKCFrfHwha1tlXSk7KWlmKGYuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLnNwYW4pe3ZhciBoPWIuc3BsaXRFbGVtZW50KGYpLGw9Yi5jcmVhdGVCb29rbWFyaygpO2coZik7ZyhoKTtiLm1vdmVUb0Jvb2ttYXJrKGwpfWVsc2UgYi5jaGVja1N0YXJ0T2ZCbG9jaygpJiZiLmNoZWNrRW5kT2ZCbG9jaygpPyhiLnNldFN0YXJ0QmVmb3JlKGYpLGIuY29sbGFwc2UoITApLGYucmVtb3ZlKCkpOmIuc3BsaXRCbG9jayhjPT1DS0VESVRPUi5FTlRFUl9ESVY/XCJkaXZcIjpcInBcIixkLmVkaXRhYmxlKCkpO2IuaW5zZXJ0Tm9kZShhKTtyZXR1cm4hMH0sc2V0RGF0YTpmdW5jdGlvbihhLGIpe2J8fChhPXRoaXMuZWRpdG9yLmRhdGFQcm9jZXNzb3IudG9IdG1sKGEpKTtcbnRoaXMuc2V0SHRtbChhKTt0aGlzLmZpeEluaXRpYWxTZWxlY3Rpb24oKTtcInVubG9hZGVkXCI9PXRoaXMuc3RhdHVzJiYodGhpcy5zdGF0dXM9XCJyZWFkeVwiKTt0aGlzLmVkaXRvci5maXJlKFwiZGF0YVJlYWR5XCIpfSxnZXREYXRhOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0SHRtbCgpO2F8fChiPXRoaXMuZWRpdG9yLmRhdGFQcm9jZXNzb3IudG9EYXRhRm9ybWF0KGIpKTtyZXR1cm4gYn0sc2V0UmVhZE9ubHk6ZnVuY3Rpb24oYSl7dGhpcy5zZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIixTdHJpbmcoIWEpKTt0aGlzLnNldEF0dHJpYnV0ZShcImFyaWEtcmVhZG9ubHlcIixTdHJpbmcoYSkpfSxkZXRhY2g6ZnVuY3Rpb24oKXt0aGlzLnN0YXR1cz1cImRldGFjaGVkXCI7dGhpcy5lZGl0b3Iuc2V0RGF0YSh0aGlzLmVkaXRvci5nZXREYXRhKCkse2ludGVybmFsOiEwfSk7dGhpcy5jbGVhckxpc3RlbmVycygpO3RyeXt0aGlzLl8uY2xlYW5DdXN0b21EYXRhKCl9Y2F0Y2goYSl7aWYoIUNLRURJVE9SLmVudi5pZXx8XG4tMjE0NjgyODIxOCE9PWEubnVtYmVyKXRocm93IGE7fXRoaXMuZWRpdG9yLmZpcmUoXCJjb250ZW50RG9tVW5sb2FkXCIpO2RlbGV0ZSB0aGlzLmVkaXRvci5kb2N1bWVudDtkZWxldGUgdGhpcy5lZGl0b3Iud2luZG93O2RlbGV0ZSB0aGlzLmVkaXRvcn0saXNJbmxpbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXREb2N1bWVudCgpLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudCl9LGZpeEluaXRpYWxTZWxlY3Rpb246ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dmFyIGI9ZC5nZXREb2N1bWVudCgpLiQsYz1iLmdldFNlbGVjdGlvbigpLGc7YTppZihjLmFuY2hvck5vZGUmJmMuYW5jaG9yTm9kZT09ZC4kKWc9ITA7ZWxzZXtpZihDS0VESVRPUi5lbnYud2Via2l0JiYoZz1kLmdldERvY3VtZW50KCkuZ2V0QWN0aXZlKCkpJiZnLmVxdWFscyhkKSYmIWMuYW5jaG9yTm9kZSl7Zz0hMDticmVhayBhfWc9dm9pZCAwfWcmJihnPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoZCksZy5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGQpLFxuYj1iLmNyZWF0ZVJhbmdlKCksYi5zZXRTdGFydChnLnN0YXJ0Q29udGFpbmVyLiQsZy5zdGFydE9mZnNldCksYi5jb2xsYXBzZSghMCksYy5yZW1vdmVBbGxSYW5nZXMoKSxjLmFkZFJhbmdlKGIpKX1mdW5jdGlvbiBiKCl7dmFyIGE9ZC5nZXREb2N1bWVudCgpLiQsYz1hLnNlbGVjdGlvbixnPWQuZ2V0RG9jdW1lbnQoKS5nZXRBY3RpdmUoKTtcIk5vbmVcIj09Yy50eXBlJiZnLmVxdWFscyhkKSYmKGM9bmV3IENLRURJVE9SLmRvbS5yYW5nZShkKSxhPWEuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKSxjLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoZCksYz1jLnN0YXJ0Q29udGFpbmVyLGMudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYz1jLmdldFBhcmVudCgpKSxhLm1vdmVUb0VsZW1lbnRUZXh0KGMuJCksYS5jb2xsYXBzZSghMCksYS5zZWxlY3QoKSl9dmFyIGQ9dGhpcztpZihDS0VESVRPUi5lbnYuaWUmJig5PkNLRURJVE9SLmVudi52ZXJzaW9ufHxDS0VESVRPUi5lbnYucXVpcmtzKSl0aGlzLmhhc0ZvY3VzJiZcbih0aGlzLmZvY3VzKCksYigpKTtlbHNlIGlmKHRoaXMuaGFzRm9jdXMpdGhpcy5mb2N1cygpLGEoKTtlbHNlIHRoaXMub25jZShcImZvY3VzXCIsZnVuY3Rpb24oKXthKCl9LG51bGwsbnVsbCwtOTk5KX0sZ2V0SHRtbEZyb21SYW5nZTpmdW5jdGlvbihhKXtpZihhLmNvbGxhcHNlZClyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGEuZG9jdW1lbnQpO2E9e2RvYzp0aGlzLmdldERvY3VtZW50KCkscmFuZ2U6YS5jbG9uZSgpfTt0LmVvbC5kZXRlY3QoYSx0aGlzKTt0LmJvZ3VzLmV4Y2x1ZGUoYSk7dC5jZWxsLnNocmluayhhKTthLmZyYWdtZW50PWEucmFuZ2UuY2xvbmVDb250ZW50cygpO3QudHJlZS5yZWJ1aWxkKGEsdGhpcyk7dC5lb2wuZml4KGEsdGhpcyk7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChhLmZyYWdtZW50LiQpfSxleHRyYWN0SHRtbEZyb21SYW5nZTpmdW5jdGlvbihhLGIpe3ZhciBkPXYsYz17cmFuZ2U6YSxkb2M6YS5kb2N1bWVudH0sXG5nPXRoaXMuZ2V0SHRtbEZyb21SYW5nZShhKTtpZihhLmNvbGxhcHNlZClyZXR1cm4gYS5vcHRpbWl6ZSgpLGc7YS5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfSU5MSU5FLDEpO2QudGFibGUuZGV0ZWN0UHVyZ2UoYyk7Yy5ib29rbWFyaz1hLmNyZWF0ZUJvb2ttYXJrKCk7ZGVsZXRlIGMucmFuZ2U7dmFyIGU9dGhpcy5lZGl0b3IuY3JlYXRlUmFuZ2UoKTtlLm1vdmVUb1Bvc2l0aW9uKGMuYm9va21hcmsuc3RhcnROb2RlLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7Yy50YXJnZXRCb29rbWFyaz1lLmNyZWF0ZUJvb2ttYXJrKCk7ZC5saXN0LmRldGVjdE1lcmdlKGMsdGhpcyk7ZC50YWJsZS5kZXRlY3RSYW5nZXMoYyx0aGlzKTtkLmJsb2NrLmRldGVjdE1lcmdlKGMsdGhpcyk7Yy50YWJsZUNvbnRlbnRzUmFuZ2VzPyhkLnRhYmxlLmRlbGV0ZVJhbmdlcyhjKSxhLm1vdmVUb0Jvb2ttYXJrKGMuYm9va21hcmspLGMucmFuZ2U9YSk6KGEubW92ZVRvQm9va21hcmsoYy5ib29rbWFyayksXG5jLnJhbmdlPWEsYS5leHRyYWN0Q29udGVudHMoZC5kZXRlY3RFeHRyYWN0TWVyZ2UoYykpKTthLm1vdmVUb0Jvb2ttYXJrKGMudGFyZ2V0Qm9va21hcmspO2Eub3B0aW1pemUoKTtkLmZpeFVuZWRpdGFibGVSYW5nZVBvc2l0aW9uKGEpO2QubGlzdC5tZXJnZShjLHRoaXMpO2QudGFibGUucHVyZ2UoYyx0aGlzKTtkLmJsb2NrLm1lcmdlKGMsdGhpcyk7aWYoYil7ZD1hLnN0YXJ0UGF0aCgpO2lmKGM9YS5jaGVja1N0YXJ0T2ZCbG9jaygpJiZhLmNoZWNrRW5kT2ZCbG9jaygpJiZkLmJsb2NrJiYhYS5yb290LmVxdWFscyhkLmJsb2NrKSl7YTp7dmFyIGM9ZC5ibG9jay5nZXRFbGVtZW50c0J5VGFnKFwic3BhblwiKSxlPTAsaDtpZihjKWZvcig7aD1jLmdldEl0ZW0oZSsrKTspaWYoIXIoaCkpe2M9ITA7YnJlYWsgYX1jPSExfWM9IWN9YyYmKGEubW92ZVRvUG9zaXRpb24oZC5ibG9jayxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGQuYmxvY2sucmVtb3ZlKCkpfWVsc2UgZC5hdXRvUGFyYWdyYXBoKHRoaXMuZWRpdG9yLFxuYSkscChhLnN0YXJ0Q29udGFpbmVyKSYmYS5zdGFydENvbnRhaW5lci5hcHBlbmRCb2d1cygpO2Euc3RhcnRDb250YWluZXIubWVyZ2VTaWJsaW5ncygpO3JldHVybiBnfSxzZXR1cDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImJlZm9yZUdldERhdGFcIixmdW5jdGlvbigpe3ZhciBiPXRoaXMuZ2V0RGF0YSgpO3RoaXMuaXMoXCJ0ZXh0YXJlYVwiKXx8ITEhPT1hLmNvbmZpZy5pZ25vcmVFbXB0eVBhcmFncmFwaCYmKGI9Yi5yZXBsYWNlKHosZnVuY3Rpb24oYSxiKXtyZXR1cm4gYn0pKTthLnNldERhdGEoYixudWxsLDEpfSx0aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGEsXCJnZXRTbmFwc2hvdFwiLGZ1bmN0aW9uKGEpe2EuZGF0YT10aGlzLmdldERhdGEoMSl9LHRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImFmdGVyU2V0RGF0YVwiLGZ1bmN0aW9uKCl7dGhpcy5zZXREYXRhKGEuZ2V0RGF0YSgxKSl9LHRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcblwibG9hZFNuYXBzaG90XCIsZnVuY3Rpb24oYSl7dGhpcy5zZXREYXRhKGEuZGF0YSwxKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwiYmVmb3JlRm9jdXNcIixmdW5jdGlvbigpe3ZhciBiPWEuZ2V0U2VsZWN0aW9uKCk7KGI9YiYmYi5nZXROYXRpdmUoKSkmJlwiQ29udHJvbFwiPT1iLnR5cGV8fHRoaXMuZm9jdXMoKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwiaW5zZXJ0SHRtbFwiLGZ1bmN0aW9uKGEpe3RoaXMuaW5zZXJ0SHRtbChhLmRhdGEuZGF0YVZhbHVlLGEuZGF0YS5tb2RlLGEuZGF0YS5yYW5nZSl9LHRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImluc2VydEVsZW1lbnRcIixmdW5jdGlvbihhKXt0aGlzLmluc2VydEVsZW1lbnQoYS5kYXRhKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwiaW5zZXJ0VGV4dFwiLGZ1bmN0aW9uKGEpe3RoaXMuaW5zZXJ0VGV4dChhLmRhdGEpfSx0aGlzKTt0aGlzLnNldFJlYWRPbmx5KGEucmVhZE9ubHkpO3RoaXMuYXR0YWNoQ2xhc3MoXCJja2VfZWRpdGFibGVcIik7XG5hLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP3RoaXMuYXR0YWNoQ2xhc3MoXCJja2VfZWRpdGFibGVfaW5saW5lXCIpOmEuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFJiZhLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE98fHRoaXMuYXR0YWNoQ2xhc3MoXCJja2VfZWRpdGFibGVfdGhlbWVkXCIpO3RoaXMuYXR0YWNoQ2xhc3MoXCJja2VfY29udGVudHNfXCIrYS5jb25maWcuY29udGVudHNMYW5nRGlyZWN0aW9uKTthLmtleXN0cm9rZUhhbmRsZXIuYmxvY2tlZEtleXN0cm9rZXNbOF09K2EucmVhZE9ubHk7YS5rZXlzdHJva2VIYW5kbGVyLmF0dGFjaCh0aGlzKTt0aGlzLm9uKFwiYmx1clwiLGZ1bmN0aW9uKCl7dGhpcy5oYXNGb2N1cz0hMX0sbnVsbCxudWxsLC0xKTt0aGlzLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe3RoaXMuaGFzRm9jdXM9ITB9LG51bGwsbnVsbCwtMSk7aWYoQ0tFRElUT1IuZW52LndlYmtpdCl0aGlzLm9uKFwic2Nyb2xsXCIsXG5mdW5jdGlvbigpe2EuXy5wcmV2aW91c1Njcm9sbFRvcD1hLmVkaXRhYmxlKCkuJC5zY3JvbGxUb3B9LG51bGwsbnVsbCwtMSk7aWYoQ0tFRElUT1IuZW52LmVkZ2UmJjE0PENLRURJVE9SLmVudi52ZXJzaW9uKXt2YXIgZD1mdW5jdGlvbigpe3ZhciBiPWEuZWRpdGFibGUoKTtudWxsIT1hLl8ucHJldmlvdXNTY3JvbGxUb3AmJmIuZ2V0RG9jdW1lbnQoKS5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQpJiYoYi4kLnNjcm9sbFRvcD1hLl8ucHJldmlvdXNTY3JvbGxUb3AsYS5fLnByZXZpb3VzU2Nyb2xsVG9wPW51bGwsdGhpcy5yZW1vdmVMaXN0ZW5lcihcInNjcm9sbFwiLGQpKX07dGhpcy5vbihcInNjcm9sbFwiLGQpfWEuZm9jdXNNYW5hZ2VyLmFkZCh0aGlzKTt0aGlzLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudC5nZXRBY3RpdmUoKSkmJih0aGlzLmhhc0ZvY3VzPSEwLGEub25jZShcImNvbnRlbnREb21cIixmdW5jdGlvbigpe2EuZm9jdXNNYW5hZ2VyLmZvY3VzKHRoaXMpfSx0aGlzKSk7dGhpcy5pc0lubGluZSgpJiZcbnRoaXMuY2hhbmdlQXR0cihcInRhYmluZGV4XCIsYS50YWJJbmRleCk7aWYoIXRoaXMuaXMoXCJ0ZXh0YXJlYVwiKSl7YS5kb2N1bWVudD10aGlzLmdldERvY3VtZW50KCk7YS53aW5kb3c9dGhpcy5nZXRXaW5kb3coKTt2YXIgYz1hLmRvY3VtZW50O3RoaXMuY2hhbmdlQXR0cihcInNwZWxsY2hlY2tcIiwhYS5jb25maWcuZGlzYWJsZU5hdGl2ZVNwZWxsQ2hlY2tlcik7dmFyIGc9YS5jb25maWcuY29udGVudHNMYW5nRGlyZWN0aW9uO3RoaXMuZ2V0RGlyZWN0aW9uKDEpIT1nJiZ0aGlzLmNoYW5nZUF0dHIoXCJkaXJcIixnKTt2YXIgaD1DS0VESVRPUi5nZXRDc3MoKTtpZihoKXt2YXIgZz1jLmdldEhlYWQoKSxmPWcuZ2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRcIik7Zj9oIT1mLmdldFRleHQoKSYmKENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbj9mLiQuc3R5bGVTaGVldC5jc3NUZXh0PWg6Zi5zZXRUZXh0KGgpKTooaD1jLmFwcGVuZFN0eWxlVGV4dChoKSxoPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChoLm93bmVyTm9kZXx8XG5oLm93bmluZ0VsZW1lbnQpLGcuc2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRcIixoKSxoLmRhdGEoXCJja2UtdGVtcFwiLDEpKX1nPWMuZ2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRfcmVmXCIpfHwwO2Muc2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRfcmVmXCIsZysxKTt0aGlzLnNldEN1c3RvbURhdGEoXCJja2VfaW5jbHVkZVJlYWRvbmx5XCIsIWEuY29uZmlnLmRpc2FibGVSZWFkb25seVN0eWxpbmcpO3RoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcImNsaWNrXCIsZnVuY3Rpb24oYSl7YT1hLmRhdGE7dmFyIGI9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYS5nZXRUYXJnZXQoKSx0aGlzKSkuY29udGFpbnMoXCJhXCIpO2ImJjIhPWEuJC5idXR0b24mJmIuaXNSZWFkT25seSgpJiZhLnByZXZlbnREZWZhdWx0KCl9KTt2YXIgbj17ODoxLDQ2OjF9O3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImtleVwiLGZ1bmN0aW9uKGIpe2lmKGEucmVhZE9ubHkpcmV0dXJuITA7dmFyIGQ9Yi5kYXRhLmRvbUV2ZW50LmdldEtleSgpLFxuYyxnPWEuZ2V0U2VsZWN0aW9uKCk7aWYoMCE9PWcuZ2V0UmFuZ2VzKCkubGVuZ3RoKXtpZihkIGluIG4pe3ZhciBlO2I9Zy5nZXRSYW5nZXMoKVswXTt2YXIgaD1iLnN0YXJ0UGF0aCgpLGYsdyx2LGQ9OD09ZCxxPSExO2lmKENLRURJVE9SLmVudi5pZSYmMTE+Q0tFRElUT1IuZW52LnZlcnNpb24mJmcuZ2V0U2VsZWN0ZWRFbGVtZW50KCkpZT1nLmdldFNlbGVjdGVkRWxlbWVudCgpO2Vsc2UgaWYoayhnKSl7dmFyIHU9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYiksdD1iLmNvbGxhcHNlZD9iLnN0YXJ0Q29udGFpbmVyOnUubmV4dCgpLHE9ITEsRjtpZihiLmNoZWNrU3RhcnRPZkJsb2NrKCkpe0Y9Yi5zdGFydFBhdGgoKS5ibG9ja3x8Yi5zdGFydFBhdGgoKS5ibG9ja0xpbWl0O3ZhciB5PUYuZ2V0TmFtZSgpO0Y9LTEhPT1DS0VESVRPUi50b29scy5hcnJheS5pbmRleE9mKFtcImRkXCIsXCJkdFwiLFwibGlcIl0seSkmJm51bGw9PT1GLmdldFByZXZpb3VzKCl9ZWxzZSBGPSExO2lmKEYpe2Zvcig7dCYmXG4hcTspcT10LiQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxxPSEhQltxXSx0PXUubmV4dCgpO3U9bShiLnN0YXJ0UGF0aCgpKTt0PW0oYi5lbmRQYXRoKCkpO3E9cXx8dSE9PXR9ZWxzZSBxPXZvaWQgMDtxfHwoZT1sKGcpKX1lfHxxPyhhLmZpcmUoXCJzYXZlU25hcHNob3RcIikscT8oKGM9Yi5zdGFydENvbnRhaW5lci5nZXRBc2NlbmRhbnQoQiwhMCkpPyhiLnNldFN0YXJ0KGMsMCksYi5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfRUxFTUVOVCksZT1iKTplPW51bGwsZS5kZWxldGVDb250ZW50cygpKTooYi5tb3ZlVG9Qb3NpdGlvbihlLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksZS5yZW1vdmUoKSksYi5zZWxlY3QoKSxhLmZpcmUoXCJzYXZlU25hcHNob3RcIiksYz0xKTpiLmNvbGxhcHNlZCYmKChmPWguYmxvY2spJiYodj1mW2Q/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXSh4KSkmJnYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZ2LmlzKFwidGFibGVcIikmJmJbZD9cImNoZWNrU3RhcnRPZkJsb2NrXCI6XG5cImNoZWNrRW5kT2ZCbG9ja1wiXSgpPyhhLmZpcmUoXCJzYXZlU25hcHNob3RcIiksYltkP1wiY2hlY2tFbmRPZkJsb2NrXCI6XCJjaGVja1N0YXJ0T2ZCbG9ja1wiXSgpJiZmLnJlbW92ZSgpLGJbXCJtb3ZlVG9FbGVtZW50RWRpdFwiKyhkP1wiRW5kXCI6XCJTdGFydFwiKV0odiksYi5zZWxlY3QoKSxhLmZpcmUoXCJzYXZlU25hcHNob3RcIiksYz0xKTpoLmJsb2NrTGltaXQmJmguYmxvY2tMaW1pdC5pcyhcInRkXCIpJiYodz1oLmJsb2NrTGltaXQuZ2V0QXNjZW5kYW50KFwidGFibGVcIikpJiZiLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQodyxkP0NLRURJVE9SLlNUQVJUOkNLRURJVE9SLkVORCkmJih2PXdbZD9cImdldFByZXZpb3VzXCI6XCJnZXROZXh0XCJdKHgpKT8oYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpLGJbXCJtb3ZlVG9FbGVtZW50RWRpdFwiKyhkP1wiRW5kXCI6XCJTdGFydFwiKV0odiksYi5jaGVja1N0YXJ0T2ZCbG9jaygpJiZiLmNoZWNrRW5kT2ZCbG9jaygpP3YucmVtb3ZlKCk6Yi5zZWxlY3QoKSxhLmZpcmUoXCJzYXZlU25hcHNob3RcIiksXG5jPTEpOih3PWguY29udGFpbnMoW1widGRcIixcInRoXCIsXCJjYXB0aW9uXCJdKSkmJmIuY2hlY2tCb3VuZGFyeU9mRWxlbWVudCh3LGQ/Q0tFRElUT1IuU1RBUlQ6Q0tFRElUT1IuRU5EKSYmKGM9MSkpfXJldHVybiFjfX0pO2EuYmxvY2tsZXNzJiZDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiZ0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJrZXl1cFwiLGZ1bmN0aW9uKGQpe2QuZGF0YS5nZXRLZXlzdHJva2UoKWluIG4mJiF0aGlzLmdldEZpcnN0KGIpJiYodGhpcy5hcHBlbmRCb2d1cygpLGQ9YS5jcmVhdGVSYW5nZSgpLGQubW92ZVRvUG9zaXRpb24odGhpcyxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCksZC5zZWxlY3QoKSl9KTt0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJkYmxjbGlja1wiLGZ1bmN0aW9uKGIpe2lmKGEucmVhZE9ubHkpcmV0dXJuITE7Yj17ZWxlbWVudDpiLmRhdGEuZ2V0VGFyZ2V0KCl9O2EuZmlyZShcImRvdWJsZWNsaWNrXCIsYil9KTtcbkNLRURJVE9SLmVudi5pZSYmdGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwiY2xpY2tcIixlKTtDS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuZWRnZXx8dGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oYil7dmFyIGQ9Yi5kYXRhLmdldFRhcmdldCgpO2QuaXMoXCJpbWdcIixcImhyXCIsXCJpbnB1dFwiLFwidGV4dGFyZWFcIixcInNlbGVjdFwiKSYmIWQuaXNSZWFkT25seSgpJiYoYS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RFbGVtZW50KGQpLGQuaXMoXCJpbnB1dFwiLFwidGV4dGFyZWFcIixcInNlbGVjdFwiKSYmYi5kYXRhLnByZXZlbnREZWZhdWx0KCkpfSk7Q0tFRElUT1IuZW52LmVkZ2UmJnRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcIm1vdXNldXBcIixmdW5jdGlvbihiKXsoYj1iLmRhdGEuZ2V0VGFyZ2V0KCkpJiZiLmlzKFwiaW1nXCIpJiYhYi5pc1JlYWRPbmx5KCkmJmEuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0RWxlbWVudChiKX0pO0NLRURJVE9SLmVudi5nZWNrbyYmdGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFxuXCJtb3VzZXVwXCIsZnVuY3Rpb24oYil7aWYoMj09Yi5kYXRhLiQuYnV0dG9uJiYoYj1iLmRhdGEuZ2V0VGFyZ2V0KCksIWIuZ2V0QXNjZW5kYW50KFwidGFibGVcIikmJiFiLmdldE91dGVySHRtbCgpLnJlcGxhY2UoeixcIlwiKSkpe3ZhciBkPWEuY3JlYXRlUmFuZ2UoKTtkLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoYik7ZC5zZWxlY3QoITApfX0pO0NLRURJVE9SLmVudi53ZWJraXQmJih0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRUYXJnZXQoKS5pcyhcImlucHV0XCIsXCJzZWxlY3RcIikmJmEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSksdGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwibW91c2V1cFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRUYXJnZXQoKS5pcyhcImlucHV0XCIsXCJ0ZXh0YXJlYVwiKSYmYS5kYXRhLnByZXZlbnREZWZhdWx0KCl9KSk7Q0tFRElUT1IuZW52LndlYmtpdCYmdGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwia2V5XCIsZnVuY3Rpb24oYil7aWYoYS5yZWFkT25seSlyZXR1cm4hMDtcbnZhciBkPWIuZGF0YS5kb21FdmVudC5nZXRLZXkoKTtpZihkIGluIG4mJihiPWEuZ2V0U2VsZWN0aW9uKCksMCE9PWIuZ2V0UmFuZ2VzKCkubGVuZ3RoKSl7dmFyIGQ9OD09ZCxjPWIuZ2V0UmFuZ2VzKClbMF07Yj1jLnN0YXJ0UGF0aCgpO2lmKGMuY29sbGFwc2VkKWE6e3ZhciBnPWIuYmxvY2s7aWYoZyYmY1tkP1wiY2hlY2tTdGFydE9mQmxvY2tcIjpcImNoZWNrRW5kT2ZCbG9ja1wiXSghMCkmJmMubW92ZVRvQ2xvc2VzdEVkaXRhYmxlUG9zaXRpb24oZywhZCkmJmMuY29sbGFwc2VkKXtpZihjLnN0YXJ0Q29udGFpbmVyLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7dmFyIGU9Yy5zdGFydENvbnRhaW5lci5nZXRDaGlsZChjLnN0YXJ0T2Zmc2V0LShkPzE6MCkpO2lmKGUmJmUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZlLmlzKFwiaHJcIikpe2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtlLnJlbW92ZSgpO2I9ITA7YnJlYWsgYX19Yz1jLnN0YXJ0UGF0aCgpLmJsb2NrO2lmKCFjfHxcbmMmJmMuY29udGFpbnMoZykpYj12b2lkIDA7ZWxzZXthLmZpcmUoXCJzYXZlU25hcHNob3RcIik7dmFyIGg7KGg9KGQ/YzpnKS5nZXRCb2d1cygpKSYmaC5yZW1vdmUoKTtoPWEuZ2V0U2VsZWN0aW9uKCk7ZT1oLmNyZWF0ZUJvb2ttYXJrcygpOyhkP2c6YykubW92ZUNoaWxkcmVuKGQ/YzpnLCExKTtiLmxhc3RFbGVtZW50Lm1lcmdlU2libGluZ3MoKTt3KGcsYywhZCk7aC5zZWxlY3RCb29rbWFya3MoZSk7Yj0hMH19ZWxzZSBiPSExfWVsc2UgZD1jLGg9Yi5ibG9jayxjPWQuZW5kUGF0aCgpLmJsb2NrLGgmJmMmJiFoLmVxdWFscyhjKT8oYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpLChnPWguZ2V0Qm9ndXMoKSkmJmcucmVtb3ZlKCksZC5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfSU5MSU5FKSxkLmRlbGV0ZUNvbnRlbnRzKCksYy5nZXRQYXJlbnQoKSYmKGMubW92ZUNoaWxkcmVuKGgsITEpLGIubGFzdEVsZW1lbnQubWVyZ2VTaWJsaW5ncygpLHcoaCxjLCEwKSksZD1hLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdLFxuZC5jb2xsYXBzZSgxKSxkLm9wdGltaXplKCksXCJcIj09PWQuc3RhcnRDb250YWluZXIuZ2V0SHRtbCgpJiZkLnN0YXJ0Q29udGFpbmVyLmFwcGVuZEJvZ3VzKCksZC5zZWxlY3QoKSxiPSEwKTpiPSExO2lmKCFiKXJldHVybjthLmdldFNlbGVjdGlvbigpLnNjcm9sbEludG9WaWV3KCk7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO3JldHVybiExfX0sdGhpcyxudWxsLDEwMCl9fSxnZXRVbmlxdWVJZDpmdW5jdGlvbigpe3ZhciBhO3RyeXt0aGlzLl8uZXhwYW5kb051bWJlcj1hPUNLRURJVE9SLmRvbS5kb21PYmplY3QucHJvdG90eXBlLmdldFVuaXF1ZUlkLmNhbGwodGhpcyl9Y2F0Y2goYil7YT10aGlzLl8mJnRoaXMuXy5leHBhbmRvTnVtYmVyfXJldHVybiBhfX0sXzp7Y2xlYW5DdXN0b21EYXRhOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVDbGFzcyhcImNrZV9lZGl0YWJsZVwiKTt0aGlzLnJlc3RvcmVBdHRycygpO2Zvcih2YXIgYT10aGlzLnJlbW92ZUN1c3RvbURhdGEoXCJjbGFzc2VzXCIpO2EmJlxuYS5sZW5ndGg7KXRoaXMucmVtb3ZlQ2xhc3MoYS5wb3AoKSk7aWYoIXRoaXMuaXMoXCJ0ZXh0YXJlYVwiKSl7dmFyIGE9dGhpcy5nZXREb2N1bWVudCgpLGI9YS5nZXRIZWFkKCk7aWYoYi5nZXRDdXN0b21EYXRhKFwic3R5bGVzaGVldFwiKSl7dmFyIGQ9YS5nZXRDdXN0b21EYXRhKFwic3R5bGVzaGVldF9yZWZcIik7LS1kP2Euc2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRfcmVmXCIsZCk6KGEucmVtb3ZlQ3VzdG9tRGF0YShcInN0eWxlc2hlZXRfcmVmXCIpLGIucmVtb3ZlQ3VzdG9tRGF0YShcInN0eWxlc2hlZXRcIikucmVtb3ZlKCkpfX19fX0pO0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZWRpdGFibGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fLmVkaXRhYmxlO2lmKGImJmEpcmV0dXJuIDA7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGI7YT9iPWEgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0YWJsZT9hOm5ldyBDS0VESVRPUi5lZGl0YWJsZSh0aGlzLGEpOihiJiZiLmRldGFjaCgpLGI9XG5udWxsKTtyZXR1cm4gdGhpcy5fLmVkaXRhYmxlPWJ9O0NLRURJVE9SLm9uKFwiaW5zdGFuY2VMb2FkZWRcIixmdW5jdGlvbihiKXt2YXIgZD1iLmVkaXRvcjtkLm9uKFwiaW5zZXJ0RWxlbWVudFwiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhO2EudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYS5pcyhcImlucHV0XCIpfHxhLmlzKFwidGV4dGFyZWFcIikpJiYoXCJmYWxzZVwiIT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKSYmYS5kYXRhKFwiY2tlLWVkaXRhYmxlXCIsYS5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/XCJ0cnVlXCI6XCIxXCIpLGEuc2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIsITEpKX0pO2Qub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixmdW5jdGlvbihiKXtpZighZC5yZWFkT25seSl7dmFyIGM9ZC5nZXRTZWxlY3Rpb24oKTtjJiYhYy5pc0xvY2tlZCYmKGM9ZC5jaGVja0RpcnR5KCksZC5maXJlKFwibG9ja1NuYXBzaG90XCIpLGEoYiksZC5maXJlKFwidW5sb2NrU25hcHNob3RcIiksXG4hYyYmZC5yZXNldERpcnR5KCkpfX0pfSk7Q0tFRElUT1Iub24oXCJpbnN0YW5jZUNyZWF0ZWRcIixmdW5jdGlvbihhKXt2YXIgYj1hLmVkaXRvcjtiLm9uKFwibW9kZVwiLGZ1bmN0aW9uKCl7dmFyIGE9Yi5lZGl0YWJsZSgpO2lmKGEmJmEuaXNJbmxpbmUoKSl7dmFyIGQ9Yi50aXRsZTthLmNoYW5nZUF0dHIoXCJyb2xlXCIsXCJ0ZXh0Ym94XCIpO2EuY2hhbmdlQXR0cihcImFyaWEtbXVsdGlsaW5lXCIsXCJ0cnVlXCIpO2QmJmEuY2hhbmdlQXR0cihcImFyaWEtbGFiZWxcIixkKTtkJiZhLmNoYW5nZUF0dHIoXCJ0aXRsZVwiLGQpO3ZhciBjPWIuZmlyZShcImFyaWFFZGl0b3JIZWxwTGFiZWxcIix7fSkubGFiZWw7aWYoYyYmKGQ9dGhpcy51aS5zcGFjZSh0aGlzLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP1widG9wXCI6XCJjb250ZW50c1wiKSkpe3ZhciBnPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpLGM9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjc3BhbiBpZFxceDNkXCInK1xuZysnXCIgY2xhc3NcXHgzZFwiY2tlX3ZvaWNlX2xhYmVsXCJcXHgzZScrYytcIlxceDNjL3NwYW5cXHgzZVwiKTtkLmFwcGVuZChjKTthLmNoYW5nZUF0dHIoXCJhcmlhLWRlc2NyaWJlZGJ5XCIsZyl9fX0pfSk7Q0tFRElUT1IuYWRkQ3NzKFwiLmNrZV9lZGl0YWJsZXtjdXJzb3I6dGV4dH0uY2tlX2VkaXRhYmxlIGltZywuY2tlX2VkaXRhYmxlIGlucHV0LC5ja2VfZWRpdGFibGUgdGV4dGFyZWF7Y3Vyc29yOmRlZmF1bHR9XCIpO3g9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcyghMCk7cj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCExLCEwKTtwPUNLRURJVE9SLmRvbS53YWxrZXIuZW1wdHkoKTt1PUNLRURJVE9SLmRvbS53YWxrZXIuYm9ndXMoKTt6PS8oXnw8Ym9keVxcYltePl0qPilcXHMqPChwfGRpdnxhZGRyZXNzfGhcXGR8Y2VudGVyfHByZSlbXj5dKj5cXHMqKD86PGJyW14+XSo+fCZuYnNwO3xcXHUwMEEwfCYjMTYwOyk/XFxzKig6PzxcXC9cXDI+KT9cXHMqKD89JHw8XFwvYm9keT4pL2dpO3E9XG5mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7cmV0dXJuIGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfWZ1bmN0aW9uIGMoYixkKXt2YXIgZyxlLGgsZixrPVtdLGw9ZC5yYW5nZS5zdGFydENvbnRhaW5lcjtnPWQucmFuZ2Uuc3RhcnRQYXRoKCk7Zm9yKHZhciBsPW1bbC5nZXROYW1lKCldLG49MCxMPWIuZ2V0Q2hpbGRyZW4oKSx3PUwuY291bnQoKSx2PS0xLHE9LTEsdD0wLHU9Zy5jb250YWlucyhtLiRsaXN0KTtuPHc7KytuKWc9TC5nZXRJdGVtKG4pLGEoZyk/KGg9Zy5nZXROYW1lKCksdSYmaCBpbiBDS0VESVRPUi5kdGQuJGxpc3Q/az1rLmNvbmNhdChjKGcsZCkpOihmPSEhbFtoXSxcImJyXCIhPWh8fCFnLmRhdGEoXCJja2UtZW9sXCIpfHxuJiZuIT13LTF8fCh0PShlPW4/a1tuLTFdLm5vZGU6TC5nZXRJdGVtKG4rMSkpJiYoIWEoZSl8fCFlLmlzKFwiYnJcIikpLGU9ZSYmYShlKSYmbS4kYmxvY2tbZS5nZXROYW1lKCldKSwtMSE9dnx8Znx8KHY9biksZnx8KHE9biksay5wdXNoKHtpc0VsZW1lbnQ6MSxcbmlzTGluZUJyZWFrOnQsaXNCbG9jazpnLmlzQmxvY2tCb3VuZGFyeSgpLGhhc0Jsb2NrU2libGluZzplLG5vZGU6ZyxuYW1lOmgsYWxsb3dlZDpmfSksZT10PTApKTprLnB1c2goe2lzRWxlbWVudDowLG5vZGU6ZyxhbGxvd2VkOjF9KTstMTx2JiYoa1t2XS5maXJzdE5vdEFsbG93ZWQ9MSk7LTE8cSYmKGtbcV0ubGFzdE5vdEFsbG93ZWQ9MSk7cmV0dXJuIGt9ZnVuY3Rpb24gZShiLGQpe3ZhciBjPVtdLGc9Yi5nZXRDaGlsZHJlbigpLGg9Zy5jb3VudCgpLGYsaz0wLGw9bVtkXSxuPSFiLmlzKG0uJGlubGluZSl8fGIuaXMoXCJiclwiKTtmb3IobiYmYy5wdXNoKFwiIFwiKTtrPGg7aysrKWY9Zy5nZXRJdGVtKGspLGEoZikmJiFmLmlzKGwpP2M9Yy5jb25jYXQoZShmLGQpKTpjLnB1c2goZik7biYmYy5wdXNoKFwiIFwiKTtyZXR1cm4gY31mdW5jdGlvbiBmKGIpe3JldHVybiBhKGIuc3RhcnRDb250YWluZXIpJiZiLnN0YXJ0Q29udGFpbmVyLmdldENoaWxkKGIuc3RhcnRPZmZzZXQtMSl9ZnVuY3Rpb24gayhiKXtyZXR1cm4gYiYmXG5hKGIpJiYoYi5pcyhtLiRyZW1vdmVFbXB0eSl8fGIuaXMoXCJhXCIpJiYhYi5pc0Jsb2NrQm91bmRhcnkoKSl9ZnVuY3Rpb24gbChiLGQsYyxnKXt2YXIgZT1iLmNsb25lKCksaCxmO2Uuc2V0RW5kQXQoZCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTsoaD0obmV3IENLRURJVE9SLmRvbS53YWxrZXIoZSkpLm5leHQoKSkmJmEoaCkmJndbaC5nZXROYW1lKCldJiYoZj1oLmdldFByZXZpb3VzKCkpJiZhKGYpJiYhZi5nZXRQYXJlbnQoKS5lcXVhbHMoYi5zdGFydENvbnRhaW5lcikmJmMuY29udGFpbnMoZikmJmcuY29udGFpbnMoaCkmJmguaXNJZGVudGljYWwoZikmJihoLm1vdmVDaGlsZHJlbihmKSxoLnJlbW92ZSgpLGwoYixkLGMsZykpfWZ1bmN0aW9uIG4oYixkKXtmdW5jdGlvbiBjKGIsZCl7aWYoZC5pc0Jsb2NrJiZkLmlzRWxlbWVudCYmIWQubm9kZS5pcyhcImJyXCIpJiZhKGIpJiZiLmlzKFwiYnJcIikpcmV0dXJuIGIucmVtb3ZlKCksMX12YXIgZz1kLmVuZENvbnRhaW5lci5nZXRDaGlsZChkLmVuZE9mZnNldCksXG5lPWQuZW5kQ29udGFpbmVyLmdldENoaWxkKGQuZW5kT2Zmc2V0LTEpO2cmJmMoZyxiW2IubGVuZ3RoLTFdKTtlJiZjKGUsYlswXSkmJihkLnNldEVuZChkLmVuZENvbnRhaW5lcixkLmVuZE9mZnNldC0xKSxkLmNvbGxhcHNlKCkpfXZhciBtPUNLRURJVE9SLmR0ZCx3PXtwOjEsZGl2OjEsaDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLGg2OjEsdWw6MSxvbDoxLGxpOjEscHJlOjEsZGw6MSxibG9ja3F1b3RlOjF9LHY9e3A6MSxkaXY6MSxoMToxLGgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MX0sTD1DS0VESVRPUi50b29scy5leHRlbmQoe30sbS4kaW5saW5lKTtkZWxldGUgTC5icjtyZXR1cm4gZnVuY3Rpb24odyxxLHQsdSl7dmFyIHk9dy5lZGl0b3IscD0hMSxyO1widW5maWx0ZXJlZF9odG1sXCI9PXEmJihxPVwiaHRtbFwiLHA9ITApO2lmKCF1LmNoZWNrUmVhZE9ubHkoKSl7dmFyIHg9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodS5zdGFydENvbnRhaW5lcix1LnJvb3QpKS5ibG9ja0xpbWl0fHxcbnUucm9vdDtxPXt0eXBlOnEsZG9udEZpbHRlcjpwLGVkaXRhYmxlOncsZWRpdG9yOnkscmFuZ2U6dSxibG9ja0xpbWl0OngsbWVyZ2VDYW5kaWRhdGVzOltdLHpvbWJpZXM6W119O3ZhciBwPXEucmFuZ2UseD1xLm1lcmdlQ2FuZGlkYXRlcyxFPVwiaHRtbFwiPT09cS50eXBlLEEsQixULFosYWE7XCJ0ZXh0XCI9PXEudHlwZSYmcC5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX0VMRU1FTlQsITAsITEpJiYoQj1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChcIlxceDNjc3BhblxceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZVwiLHAuZG9jdW1lbnQpLHAuaW5zZXJ0Tm9kZShCKSxwLnNldFN0YXJ0QWZ0ZXIoQikpO1Q9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChwLnN0YXJ0Q29udGFpbmVyKTtxLmVuZFBhdGg9Wj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHAuZW5kQ29udGFpbmVyKTtpZighcC5jb2xsYXBzZWQpe0E9Wi5ibG9ja3x8Wi5ibG9ja0xpbWl0O3ZhciBjYT1wLmdldENvbW1vbkFuY2VzdG9yKCk7XG5BJiYhQS5lcXVhbHMoY2EpJiYhQS5jb250YWlucyhjYSkmJnAuY2hlY2tFbmRPZkJsb2NrKCkmJnEuem9tYmllcy5wdXNoKEEpO3AuZGVsZXRlQ29udGVudHMoKX1mb3IoOyhhYT1mKHApKSYmYShhYSkmJmFhLmlzQmxvY2tCb3VuZGFyeSgpJiZULmNvbnRhaW5zKGFhKTspcC5tb3ZlVG9Qb3NpdGlvbihhYSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtsKHAscS5ibG9ja0xpbWl0LFQsWik7QiYmKHAuc2V0RW5kQmVmb3JlKEIpLHAuY29sbGFwc2UoKSxCLnJlbW92ZSgpKTtCPXAuc3RhcnRQYXRoKCk7aWYoQT1CLmNvbnRhaW5zKGssITEsMSkpcj1wLnNwbGl0RWxlbWVudChBKSxxLmlubGluZVN0eWxlc1Jvb3Q9QSxxLmlubGluZVN0eWxlc1BlYWs9Qi5sYXN0RWxlbWVudDtCPXAuY3JlYXRlQm9va21hcmsoKTtFJiYoZyhBKSxnKHIpKTsoQT1CLnN0YXJ0Tm9kZS5nZXRQcmV2aW91cyhiKSkmJmEoQSkmJmsoQSkmJngucHVzaChBKTsoQT1CLnN0YXJ0Tm9kZS5nZXROZXh0KGIpKSYmXG5hKEEpJiZrKEEpJiZ4LnB1c2goQSk7Zm9yKEE9Qi5zdGFydE5vZGU7KEE9QS5nZXRQYXJlbnQoKSkmJmsoQSk7KXgucHVzaChBKTtwLm1vdmVUb0Jvb2ttYXJrKEIpO3I9dy5nZXRIdG1sKCk7cj1cIlwiPT09cnx8ci5tYXRjaCh6KTt5LmVudGVyTW9kZT09PUNLRURJVE9SLkVOVEVSX0RJViYmciYmKCh5PXcuZ2V0Rmlyc3QoKSkmJnkucmVtb3ZlKCksdS5zZXRTdGFydEF0KHcsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLHUuY29sbGFwc2UoITApKTtpZih3PXQpe3c9cS5yYW5nZTtpZihcInRleHRcIj09cS50eXBlJiZxLmlubGluZVN0eWxlc1Jvb3Qpe3U9cS5pbmxpbmVTdHlsZXNQZWFrO3k9dS5nZXREb2N1bWVudCgpLmNyZWF0ZVRleHQoXCJ7Y2tlLXBlYWt9XCIpO2ZvcihyPXEuaW5saW5lU3R5bGVzUm9vdC5nZXRQYXJlbnQoKTshdS5lcXVhbHMocik7KXk9eS5hcHBlbmRUbyh1LmNsb25lKCkpLHU9dS5nZXRQYXJlbnQoKTt0PXkuZ2V0T3V0ZXJIdG1sKCkuc3BsaXQoXCJ7Y2tlLXBlYWt9XCIpLmpvaW4odCl9dT1cbnEuYmxvY2tMaW1pdC5nZXROYW1lKCk7aWYoL15cXHMrfFxccyskLy50ZXN0KHQpJiZcInNwYW5cImluIENLRURJVE9SLmR0ZFt1XSl7dmFyIFY9J1xceDNjc3BhbiBkYXRhLWNrZS1tYXJrZXJcXHgzZFwiMVwiXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlJzt0PVYrdCtWfXQ9cS5lZGl0b3IuZGF0YVByb2Nlc3Nvci50b0h0bWwodCx7Y29udGV4dDpudWxsLGZpeEZvckJvZHk6ITEscHJvdGVjdGVkV2hpdGVzcGFjZXM6ISFWLGRvbnRGaWx0ZXI6cS5kb250RmlsdGVyLGZpbHRlcjpxLmVkaXRvci5hY3RpdmVGaWx0ZXIsZW50ZXJNb2RlOnEuZWRpdG9yLmFjdGl2ZUVudGVyTW9kZX0pO3U9dy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYm9keVwiKTt1LnNldEh0bWwodCk7ViYmKHUuZ2V0Rmlyc3QoKS5yZW1vdmUoKSx1LmdldExhc3QoKS5yZW1vdmUoKSk7aWYoKFY9dy5zdGFydFBhdGgoKS5ibG9jaykmJigxIT1WLmdldENoaWxkQ291bnQoKXx8IVYuZ2V0Qm9ndXMoKSkpYTp7dmFyIFE7aWYoMT09XG51LmdldENoaWxkQ291bnQoKSYmYShRPXUuZ2V0Rmlyc3QoKSkmJlEuaXModikmJiFRLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSl7Vj1RLmdldEVsZW1lbnRzQnlUYWcoXCIqXCIpO3c9MDtmb3Iocj1WLmNvdW50KCk7dzxyO3crKylpZih5PVYuZ2V0SXRlbSh3KSwheS5pcyhMKSlicmVhayBhO1EubW92ZUNoaWxkcmVuKFEuZ2V0UGFyZW50KDEpKTtRLnJlbW92ZSgpfX1xLmRhdGFXcmFwcGVyPXU7dz10fWlmKHcpe1E9cS5yYW5nZTt3PVEuZG9jdW1lbnQ7dT1xLmJsb2NrTGltaXQ7cj0wO3ZhciBJLFY9W10sZmEsUjt0PUI9MDt2YXIgYmEseT1RLnN0YXJ0Q29udGFpbmVyO2FhPXEuZW5kUGF0aC5lbGVtZW50c1swXTt2YXIgVyxwPWFhLmdldFBvc2l0aW9uKHkpLHg9ISFhYS5nZXRDb21tb25BbmNlc3Rvcih5KSYmcCE9Q0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMJiYhKHAmQ0tFRElUT1IuUE9TSVRJT05fQ09OVEFJTlMrQ0tFRElUT1IuUE9TSVRJT05fSVNfQ09OVEFJTkVEKSxcbnk9YyhxLmRhdGFXcmFwcGVyLHEpO2ZvcihxLmVkaXRvci5lbnRlck1vZGUhPT1DS0VESVRPUi5FTlRFUl9CUiYmbih5LFEpO3I8eS5sZW5ndGg7cisrKXtwPXlbcl07aWYoRT1wLmlzTGluZUJyZWFrKUU9USxBPXUsWj1UPXZvaWQgMCxwLmhhc0Jsb2NrU2libGluZz9FPTE6KFQ9RS5zdGFydENvbnRhaW5lci5nZXRBc2NlbmRhbnQobS4kYmxvY2ssMSkpJiZULmlzKHtkaXY6MSxwOjF9KT8oWj1ULmdldFBvc2l0aW9uKEEpLFo9PUNLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTHx8Wj09Q0tFRElUT1IuUE9TSVRJT05fQ09OVEFJTlM/RT0wOihBPUUuc3BsaXRFbGVtZW50KFQpLEUubW92ZVRvUG9zaXRpb24oQSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCksRT0xKSk6RT0wO2lmKEUpdD0wPHI7ZWxzZXtFPVEuc3RhcnRQYXRoKCk7IXAuaXNCbG9jayYmZChxLmVkaXRvcixFLmJsb2NrLEUuYmxvY2tMaW1pdCkmJihSPWgocS5lZGl0b3IpKSYmKFI9dy5jcmVhdGVFbGVtZW50KFIpLFxuUi5hcHBlbmRCb2d1cygpLFEuaW5zZXJ0Tm9kZShSKSxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciYmKEk9Ui5nZXRCb2d1cygpKSYmSS5yZW1vdmUoKSxRLm1vdmVUb1Bvc2l0aW9uKFIsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCkpO2lmKChFPVEuc3RhcnRQYXRoKCkuYmxvY2spJiYhRS5lcXVhbHMoZmEpKXtpZihJPUUuZ2V0Qm9ndXMoKSlJLnJlbW92ZSgpLFYucHVzaChFKTtmYT1FfXAuZmlyc3ROb3RBbGxvd2VkJiYoQj0xKTtpZihCJiZwLmlzRWxlbWVudCl7RT1RLnN0YXJ0Q29udGFpbmVyO2ZvcihBPW51bGw7RSYmIW1bRS5nZXROYW1lKCldW3AubmFtZV07KXtpZihFLmVxdWFscyh1KSl7RT1udWxsO2JyZWFrfUE9RTtFPUUuZ2V0UGFyZW50KCl9aWYoRSlBJiYoYmE9US5zcGxpdEVsZW1lbnQoQSkscS56b21iaWVzLnB1c2goYmEpLHEuem9tYmllcy5wdXNoKEEpKTtlbHNle0E9dS5nZXROYW1lKCk7Vz0hcjtFPXI9PXkubGVuZ3RoLTE7QT1lKHAubm9kZSxBKTtUPVxuW107Wj1BLmxlbmd0aDtmb3IodmFyIGNhPTAsZGE9dm9pZCAwLGxhPTAsbWE9LTE7Y2E8WjtjYSsrKWRhPUFbY2FdLFwiIFwiPT1kYT8obGF8fFcmJiFjYXx8KFQucHVzaChuZXcgQ0tFRElUT1IuZG9tLnRleHQoXCIgXCIpKSxtYT1ULmxlbmd0aCksbGE9MSk6KFQucHVzaChkYSksbGE9MCk7RSYmbWE9PVQubGVuZ3RoJiZULnBvcCgpO1c9VH19aWYoVyl7Zm9yKDtFPVcucG9wKCk7KVEuaW5zZXJ0Tm9kZShFKTtXPTB9ZWxzZSBRLmluc2VydE5vZGUocC5ub2RlKTtwLmxhc3ROb3RBbGxvd2VkJiZyPHkubGVuZ3RoLTEmJigoYmE9eD9hYTpiYSkmJlEuc2V0RW5kQXQoYmEsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLEI9MCk7US5jb2xsYXBzZSgpfX0xIT15Lmxlbmd0aD9JPSExOihJPXlbMF0sST1JLmlzRWxlbWVudCYmXCJmYWxzZVwiPT1JLm5vZGUuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKTtJJiYodD0hMCxFPXlbMF0ubm9kZSxRLnNldFN0YXJ0QXQoRSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLFxuUS5zZXRFbmRBdChFLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCkpO3EuZG9udE1vdmVDYXJldD10O3EuYm9ndXNOZWVkZWRCbG9ja3M9Vn1JPXEucmFuZ2U7dmFyIGhhO1c9cS5ib2d1c05lZWRlZEJsb2Nrcztmb3IoZmE9SS5jcmVhdGVCb29rbWFyaygpO1I9cS56b21iaWVzLnBvcCgpOylSLmdldFBhcmVudCgpJiYoYmE9SS5jbG9uZSgpLGJhLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoUiksYmEucmVtb3ZlRW1wdHlCbG9ja3NBdEVuZCgpKTtpZihXKWZvcig7Uj1XLnBvcCgpOylDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcj9SLmFwcGVuZEJvZ3VzKCk6Ui5hcHBlbmQoSS5kb2N1bWVudC5jcmVhdGVUZXh0KFwiwqBcIikpO2Zvcig7Uj1xLm1lcmdlQ2FuZGlkYXRlcy5wb3AoKTspUi5tZXJnZVNpYmxpbmdzKCk7Q0tFRElUT1IuZW52LndlYmtpdCYmSS5zdGFydFBhdGgoKSYmKFI9SS5zdGFydFBhdGgoKSxSLmJsb2NrP1IuYmxvY2suJC5ub3JtYWxpemUoKTpSLmJsb2NrTGltaXQmJlxuUi5ibG9ja0xpbWl0LiQubm9ybWFsaXplKCkpO0kubW92ZVRvQm9va21hcmsoZmEpO2lmKCFxLmRvbnRNb3ZlQ2FyZXQpe2ZvcihSPWYoSSk7UiYmYShSKSYmIVIuaXMobS4kZW1wdHkpOyl7aWYoUi5pc0Jsb2NrQm91bmRhcnkoKSlJLm1vdmVUb1Bvc2l0aW9uKFIsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7ZWxzZXtpZihrKFIpJiZSLmdldEh0bWwoKS5tYXRjaCgvKFxcc3wmbmJzcDspJC9nKSl7aGE9bnVsbDticmVha31oYT1JLmNsb25lKCk7aGEubW92ZVRvUG9zaXRpb24oUixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKX1SPVIuZ2V0TGFzdChiKX1oYSYmSS5tb3ZlVG9SYW5nZShoYSl9fX19KCk7QT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7Yj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihiKTtiLmd1YXJkPWZ1bmN0aW9uKGEsYil7aWYoYilyZXR1cm4hMTtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm4gYS5pcyhDS0VESVRPUi5kdGQuJHRhYmxlQ29udGVudCl9O1xuYi5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfTtyZXR1cm4gYn1mdW5jdGlvbiBiKGEsZCxjKXtkPWEuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KGQpO2EuYXBwZW5kKGQsYyk7cmV0dXJuIGR9ZnVuY3Rpb24gZChhKXt2YXIgYj1hLmNvdW50KCksYztmb3IoYjswPGItLTspYz1hLmdldEl0ZW0oYiksQ0tFRElUT1IudG9vbHMudHJpbShjLmdldEh0bWwoKSl8fChjLmFwcGVuZEJvZ3VzKCksQ0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uJiZjLmdldENoaWxkQ291bnQoKSYmYy5nZXRGaXJzdCgpLnJlbW92ZSgpKX1yZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGc9Yy5zdGFydENvbnRhaW5lcixlPWcuZ2V0QXNjZW5kYW50KFwidGFibGVcIiwxKSxoPSExO2QoZS5nZXRFbGVtZW50c0J5VGFnKFwidGRcIikpO2QoZS5nZXRFbGVtZW50c0J5VGFnKFwidGhcIikpO2U9Yy5jbG9uZSgpO2Uuc2V0U3RhcnQoZywwKTtlPVxuYShlKS5sYXN0QmFja3dhcmQoKTtlfHwoZT1jLmNsb25lKCksZS5zZXRFbmRBdChnLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLGU9YShlKS5sYXN0Rm9yd2FyZCgpLGg9ITApO2V8fChlPWcpO2UuaXMoXCJ0YWJsZVwiKT8oYy5zZXRTdGFydEF0KGUsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxjLmNvbGxhcHNlKCEwKSxlLnJlbW92ZSgpKTooZS5pcyh7dGJvZHk6MSx0aGVhZDoxLHRmb290OjF9KSYmKGU9YihlLFwidHJcIixoKSksZS5pcyhcInRyXCIpJiYoZT1iKGUsZS5nZXRQYXJlbnQoKS5pcyhcInRoZWFkXCIpP1widGhcIjpcInRkXCIsaCkpLChnPWUuZ2V0Qm9ndXMoKSkmJmcucmVtb3ZlKCksYy5tb3ZlVG9Qb3NpdGlvbihlLGg/Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ6Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCkpfX0oKTt5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtiPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGIpO2IuZ3VhcmQ9ZnVuY3Rpb24oYSxcbmIpe2lmKGIpcmV0dXJuITE7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJuIGEuaXMoQ0tFRElUT1IuZHRkLiRsaXN0KXx8YS5pcyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKX07Yi5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmlzKENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pfTtyZXR1cm4gYn1yZXR1cm4gZnVuY3Rpb24oYil7dmFyIGQ9Yi5zdGFydENvbnRhaW5lcixjPSExLGc7Zz1iLmNsb25lKCk7Zy5zZXRTdGFydChkLDApO2c9YShnKS5sYXN0QmFja3dhcmQoKTtnfHwoZz1iLmNsb25lKCksZy5zZXRFbmRBdChkLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLGc9YShnKS5sYXN0Rm9yd2FyZCgpLGM9ITApO2d8fChnPWQpO2cuaXMoQ0tFRElUT1IuZHRkLiRsaXN0KT8oYi5zZXRTdGFydEF0KGcsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxiLmNvbGxhcHNlKCEwKSxnLnJlbW92ZSgpKTpcbigoZD1nLmdldEJvZ3VzKCkpJiZkLnJlbW92ZSgpLGIubW92ZVRvUG9zaXRpb24oZyxjP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLGIuc2VsZWN0KCkpfX0oKTt0PXtlb2w6e2RldGVjdDpmdW5jdGlvbihhLGIpe3ZhciBkPWEucmFuZ2UsYz1kLmNsb25lKCksZz1kLmNsb25lKCksZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGQuc3RhcnRDb250YWluZXIsYiksaD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGQuZW5kQ29udGFpbmVyLGIpO2MuY29sbGFwc2UoMSk7Zy5jb2xsYXBzZSgpO2UuYmxvY2smJmMuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChlLmJsb2NrLENLRURJVE9SLkVORCkmJihkLnNldFN0YXJ0QWZ0ZXIoZS5ibG9jayksYS5wcmVwZW5kRW9sQnI9MSk7aC5ibG9jayYmZy5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGguYmxvY2ssQ0tFRElUT1IuU1RBUlQpJiYoZC5zZXRFbmRCZWZvcmUoaC5ibG9jayksXG5hLmFwcGVuZEVvbEJyPTEpfSxmaXg6ZnVuY3Rpb24oYSxiKXt2YXIgZD1iLmdldERvY3VtZW50KCksYzthLmFwcGVuZEVvbEJyJiYoYz10aGlzLmNyZWF0ZUVvbEJyKGQpLGEuZnJhZ21lbnQuYXBwZW5kKGMpKTshYS5wcmVwZW5kRW9sQnJ8fGMmJiFjLmdldFByZXZpb3VzKCl8fGEuZnJhZ21lbnQuYXBwZW5kKHRoaXMuY3JlYXRlRW9sQnIoZCksMSl9LGNyZWF0ZUVvbEJyOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNyZWF0ZUVsZW1lbnQoXCJiclwiLHthdHRyaWJ1dGVzOntcImRhdGEtY2tlLWVvbFwiOjF9fSl9fSxib2d1czp7ZXhjbHVkZTpmdW5jdGlvbihhKXt2YXIgYj1hLnJhbmdlLmdldEJvdW5kYXJ5Tm9kZXMoKSxkPWIuc3RhcnROb2RlLGI9Yi5lbmROb2RlOyFifHwhdShiKXx8ZCYmZC5lcXVhbHMoYil8fGEucmFuZ2Uuc2V0RW5kQmVmb3JlKGIpfX0sdHJlZTp7cmVidWlsZDpmdW5jdGlvbihhLGIpe3ZhciBkPWEucmFuZ2UsYz1kLmdldENvbW1vbkFuY2VzdG9yKCksZz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGMsXG5iKSxlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZC5zdGFydENvbnRhaW5lcixiKSxkPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZC5lbmRDb250YWluZXIsYiksaDtjLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGM9Yy5nZXRQYXJlbnQoKSk7aWYoZy5ibG9ja0xpbWl0LmlzKHt0cjoxLHRhYmxlOjF9KSl7dmFyIGY9Zy5jb250YWlucyhcInRhYmxlXCIpLmdldFBhcmVudCgpO2g9ZnVuY3Rpb24oYSl7cmV0dXJuIWEuZXF1YWxzKGYpfX1lbHNlIGlmKGcuYmxvY2smJmcuYmxvY2suaXMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSkmJihlPWUuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KSxkPWQuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KSwhZS5lcXVhbHMoZCkpKXt2YXIgaz1nLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCkuZ2V0UGFyZW50KCk7aD1mdW5jdGlvbihhKXtyZXR1cm4hYS5lcXVhbHMoayl9fWh8fChoPWZ1bmN0aW9uKGEpe3JldHVybiFhLmVxdWFscyhnLmJsb2NrKSYmXG4hYS5lcXVhbHMoZy5ibG9ja0xpbWl0KX0pO3RoaXMucmVidWlsZEZyYWdtZW50KGEsYixjLGgpfSxyZWJ1aWxkRnJhZ21lbnQ6ZnVuY3Rpb24oYSxiLGQsYyl7Zm9yKHZhciBnO2QmJiFkLmVxdWFscyhiKSYmYyhkKTspZz1kLmNsb25lKDAsMSksYS5mcmFnbWVudC5hcHBlbmRUbyhnKSxhLmZyYWdtZW50PWcsZD1kLmdldFBhcmVudCgpfX0sY2VsbDp7c2hyaW5rOmZ1bmN0aW9uKGEpe2E9YS5yYW5nZTt2YXIgYj1hLnN0YXJ0Q29udGFpbmVyLGQ9YS5lbmRDb250YWluZXIsYz1hLnN0YXJ0T2Zmc2V0LGc9YS5lbmRPZmZzZXQ7Yi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuZXF1YWxzKGQpJiZiLmlzKFwidHJcIikmJisrYz09ZyYmYS5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX1RFWFQpfX19O3Y9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsZCl7dmFyIGM9Yi5nZXRQYXJlbnQoKTtpZihjLmlzKENLRURJVE9SLmR0ZC4kaW5saW5lKSliW2Q/XCJpbnNlcnRCZWZvcmVcIjpcImluc2VydEFmdGVyXCJdKGMpfVxuZnVuY3Rpb24gYihkLGMsZyl7YShjKTthKGcsMSk7Zm9yKHZhciBlO2U9Zy5nZXROZXh0KCk7KWUuaW5zZXJ0QWZ0ZXIoYyksYz1lO3AoZCkmJmQucmVtb3ZlKCl9ZnVuY3Rpb24gYyhhLGIpe3ZhciBkPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoYSk7ZC5zZXRTdGFydEFmdGVyKGIuc3RhcnROb2RlKTtkLnNldEVuZEJlZm9yZShiLmVuZE5vZGUpO3JldHVybiBkfXJldHVybntsaXN0OntkZXRlY3RNZXJnZTpmdW5jdGlvbihhLGIpe3ZhciBkPWMoYixhLmJvb2ttYXJrKSxnPWQuc3RhcnRQYXRoKCksZT1kLmVuZFBhdGgoKSxoPWcuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KSxmPWUuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KTthLm1lcmdlTGlzdD1oJiZmJiZoLmdldFBhcmVudCgpLmVxdWFscyhmLmdldFBhcmVudCgpKSYmIWguZXF1YWxzKGYpO2EubWVyZ2VMaXN0SXRlbXM9Zy5ibG9jayYmZS5ibG9jayYmZy5ibG9jay5pcyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSYmXG5lLmJsb2NrLmlzKENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pO2lmKGEubWVyZ2VMaXN0fHxhLm1lcmdlTGlzdEl0ZW1zKWQ9ZC5jbG9uZSgpLGQuc2V0U3RhcnRCZWZvcmUoYS5ib29rbWFyay5zdGFydE5vZGUpLGQuc2V0RW5kQWZ0ZXIoYS5ib29rbWFyay5lbmROb2RlKSxhLm1lcmdlTGlzdEJvb2ttYXJrPWQuY3JlYXRlQm9va21hcmsoKX0sbWVyZ2U6ZnVuY3Rpb24oYSxkKXtpZihhLm1lcmdlTGlzdEJvb2ttYXJrKXt2YXIgYz1hLm1lcmdlTGlzdEJvb2ttYXJrLnN0YXJ0Tm9kZSxnPWEubWVyZ2VMaXN0Qm9va21hcmsuZW5kTm9kZSxlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYyxkKSxoPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZyxkKTtpZihhLm1lcmdlTGlzdCl7dmFyIGY9ZS5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3QpLGs9aC5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3QpO2YuZXF1YWxzKGspfHwoay5tb3ZlQ2hpbGRyZW4oZiksay5yZW1vdmUoKSl9YS5tZXJnZUxpc3RJdGVtcyYmXG4oZT1lLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pLGg9aC5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSxlLmVxdWFscyhoKXx8YihoLGMsZykpO2MucmVtb3ZlKCk7Zy5yZW1vdmUoKX19fSxibG9jazp7ZGV0ZWN0TWVyZ2U6ZnVuY3Rpb24oYSxiKXtpZighYS50YWJsZUNvbnRlbnRzUmFuZ2VzJiYhYS5tZXJnZUxpc3RCb29rbWFyayl7dmFyIGQ9bmV3IENLRURJVE9SLmRvbS5yYW5nZShiKTtkLnNldFN0YXJ0QmVmb3JlKGEuYm9va21hcmsuc3RhcnROb2RlKTtkLnNldEVuZEFmdGVyKGEuYm9va21hcmsuZW5kTm9kZSk7YS5tZXJnZUJsb2NrQm9va21hcms9ZC5jcmVhdGVCb29rbWFyaygpfX0sbWVyZ2U6ZnVuY3Rpb24oYSxkKXtpZihhLm1lcmdlQmxvY2tCb29rbWFyayYmIWEucHVyZ2VUYWJsZUJvb2ttYXJrKXt2YXIgYz1hLm1lcmdlQmxvY2tCb29rbWFyay5zdGFydE5vZGUsZz1hLm1lcmdlQmxvY2tCb29rbWFyay5lbmROb2RlLGU9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChjLFxuZCksaD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGcsZCksZT1lLmJsb2NrLGg9aC5ibG9jaztlJiZoJiYhZS5lcXVhbHMoaCkmJmIoaCxjLGcpO2MucmVtb3ZlKCk7Zy5yZW1vdmUoKX19fSx0YWJsZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYyl7dmFyIGc9W10sZSxoPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGMpLGY9Yy5zdGFydFBhdGgoKS5jb250YWlucyhkKSxrPWMuZW5kUGF0aCgpLmNvbnRhaW5zKGQpLGw9e307aC5ndWFyZD1mdW5jdGlvbihhLGgpe2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXt2YXIgbj1cInZpc2l0ZWRfXCIrKGg/XCJvdXRcIjpcImluXCIpO2lmKGEuZ2V0Q3VzdG9tRGF0YShuKSlyZXR1cm47Q0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGwsYSxuLDEpfWlmKGgmJmYmJmEuZXF1YWxzKGYpKWU9Yy5jbG9uZSgpLGUuc2V0RW5kQXQoZixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxnLnB1c2goZSk7ZWxzZSBpZighaCYmayYmXG5hLmVxdWFscyhrKSllPWMuY2xvbmUoKSxlLnNldFN0YXJ0QXQoayxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCksZy5wdXNoKGUpO2Vsc2V7aWYobj0haCluPWEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmlzKGQpJiYoIWZ8fGIoYSxmKSkmJigha3x8YihhLGspKTtpZighbiYmKG49aCkpaWYoYS5pcyhkKSl2YXIgbj1mJiZmLmdldEFzY2VuZGFudChcInRhYmxlXCIsITApLG09ayYmay5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLCEwKSx3PWEuZ2V0QXNjZW5kYW50KFwidGFibGVcIiwhMCksbj1uJiZuLmNvbnRhaW5zKHcpfHxtJiZtLmNvbnRhaW5zKHcpO2Vsc2Ugbj12b2lkIDA7biYmKGU9Yy5jbG9uZSgpLGUuc2VsZWN0Tm9kZUNvbnRlbnRzKGEpLGcucHVzaChlKSl9fTtoLmxhc3RGb3J3YXJkKCk7Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGwpO3JldHVybiBnfWZ1bmN0aW9uIGIoYSxkKXt2YXIgYz1DS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUytcbkNLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRCxnPWEuZ2V0UG9zaXRpb24oZCk7cmV0dXJuIGc9PT1DS0VESVRPUi5QT1NJVElPTl9JREVOVElDQUw/ITE6MD09PShnJmMpfXZhciBkPXt0ZDoxLHRoOjEsY2FwdGlvbjoxfTtyZXR1cm57ZGV0ZWN0UHVyZ2U6ZnVuY3Rpb24oYSl7dmFyIGI9YS5yYW5nZSxjPWIuY2xvbmUoKTtjLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9FTEVNRU5UKTt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihjKSxnPTA7Yy5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaXMoZCkmJisrZ307Yy5jaGVja0ZvcndhcmQoKTtpZigxPGcpe3ZhciBjPWIuc3RhcnRQYXRoKCkuY29udGFpbnMoXCJ0YWJsZVwiKSxlPWIuZW5kUGF0aCgpLmNvbnRhaW5zKFwidGFibGVcIik7YyYmZSYmYi5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGMsQ0tFRElUT1IuU1RBUlQpJiZiLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoZSxcbkNLRURJVE9SLkVORCkmJihiPWEucmFuZ2UuY2xvbmUoKSxiLnNldFN0YXJ0QmVmb3JlKGMpLGIuc2V0RW5kQWZ0ZXIoZSksYS5wdXJnZVRhYmxlQm9va21hcms9Yi5jcmVhdGVCb29rbWFyaygpKX19LGRldGVjdFJhbmdlczpmdW5jdGlvbihnLGUpe3ZhciBoPWMoZSxnLmJvb2ttYXJrKSxmPWguY2xvbmUoKSxrLGwsbj1oLmdldENvbW1vbkFuY2VzdG9yKCk7bi5pcyhDS0VESVRPUi5kdGQuJHRhYmxlQ29udGVudCkmJiFuLmlzKGQpJiYobj1uLmdldEFzY2VuZGFudChcInRhYmxlXCIsITApKTtsPW47bj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGguc3RhcnRDb250YWluZXIsbCk7bD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGguZW5kQ29udGFpbmVyLGwpO249bi5jb250YWlucyhcInRhYmxlXCIpO2w9bC5jb250YWlucyhcInRhYmxlXCIpO2lmKG58fGwpbiYmbCYmYihuLGwpPyhnLnRhYmxlU3Vycm91bmRpbmdSYW5nZT1mLGYuc2V0U3RhcnRBdChuLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksXG5mLnNldEVuZEF0KGwsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxmPWguY2xvbmUoKSxmLnNldEVuZEF0KG4sQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxrPWguY2xvbmUoKSxrLnNldFN0YXJ0QXQobCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGs9YShmKS5jb25jYXQoYShrKSkpOm4/bHx8KGcudGFibGVTdXJyb3VuZGluZ1JhbmdlPWYsZi5zZXRTdGFydEF0KG4sQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxoLnNldEVuZEF0KG4sQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSk6KGcudGFibGVTdXJyb3VuZGluZ1JhbmdlPWYsZi5zZXRFbmRBdChsLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksaC5zZXRTdGFydEF0KGwsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpKSxnLnRhYmxlQ29udGVudHNSYW5nZXM9az9rOmEoaCl9LGRlbGV0ZVJhbmdlczpmdW5jdGlvbihhKXtmb3IodmFyIGI7Yj1hLnRhYmxlQ29udGVudHNSYW5nZXMucG9wKCk7KWIuZXh0cmFjdENvbnRlbnRzKCksXG5wKGIuc3RhcnRDb250YWluZXIpJiZiLnN0YXJ0Q29udGFpbmVyLmFwcGVuZEJvZ3VzKCk7YS50YWJsZVN1cnJvdW5kaW5nUmFuZ2UmJmEudGFibGVTdXJyb3VuZGluZ1JhbmdlLmV4dHJhY3RDb250ZW50cygpfSxwdXJnZTpmdW5jdGlvbihhKXtpZihhLnB1cmdlVGFibGVCb29rbWFyayl7dmFyIGI9YS5kb2MsZD1hLnJhbmdlLmNsb25lKCksYj1iLmNyZWF0ZUVsZW1lbnQoXCJwXCIpO2IuaW5zZXJ0QmVmb3JlKGEucHVyZ2VUYWJsZUJvb2ttYXJrLnN0YXJ0Tm9kZSk7ZC5tb3ZlVG9Cb29rbWFyayhhLnB1cmdlVGFibGVCb29rbWFyayk7ZC5kZWxldGVDb250ZW50cygpO2EucmFuZ2UubW92ZVRvUG9zaXRpb24oYixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCl9fX19KCksZGV0ZWN0RXh0cmFjdE1lcmdlOmZ1bmN0aW9uKGEpe3JldHVybiEoYS5yYW5nZS5zdGFydFBhdGgoKS5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSYmYS5yYW5nZS5lbmRQYXRoKCkuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSkpfSxcbmZpeFVuZWRpdGFibGVSYW5nZVBvc2l0aW9uOmZ1bmN0aW9uKGEpe2Euc3RhcnRDb250YWluZXIuZ2V0RHRkKClbXCIjXCJdfHxhLm1vdmVUb0Nsb3Nlc3RFZGl0YWJsZVBvc2l0aW9uKG51bGwsITApfSxhdXRvUGFyYWdyYXBoOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5zdGFydFBhdGgoKSxnO2QoYSxjLmJsb2NrLGMuYmxvY2tMaW1pdCkmJihnPWgoYSkpJiYoZz1iLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZyksZy5hcHBlbmRCb2d1cygpLGIuaW5zZXJ0Tm9kZShnKSxiLm1vdmVUb1Bvc2l0aW9uKGcsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpKX19fSgpfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gQ0tFRElUT1IucGx1Z2lucy53aWRnZXQmJkNLRURJVE9SLnBsdWdpbnMud2lkZ2V0LmlzRG9tV2lkZ2V0KGEpfWZ1bmN0aW9uIGYoYixkKXtpZigwPT09Yi5sZW5ndGh8fGEoYlswXS5nZXRFbmNsb3NlZE5vZGUoKSkpcmV0dXJuITE7dmFyIGMsZztpZigoYz0hZCYmXG4xPT09Yi5sZW5ndGgpJiYhKGM9YlswXS5jb2xsYXBzZWQpKXt2YXIgZT1iWzBdO2M9ZS5zdGFydENvbnRhaW5lci5nZXRBc2NlbmRhbnQoe3RkOjEsdGg6MX0sITApO3ZhciBoPWUuZW5kQ29udGFpbmVyLmdldEFzY2VuZGFudCh7dGQ6MSx0aDoxfSwhMCk7Zz1DS0VESVRPUi50b29scy50cmltO2MmJmMuZXF1YWxzKGgpJiYhYy5maW5kT25lKFwidGQsIHRoLCB0ciwgdGJvZHksIHRhYmxlXCIpPyhlPWUuY2xvbmVDb250ZW50cygpLGM9ZS5nZXRGaXJzdCgpP2coZS5nZXRGaXJzdCgpLmdldFRleHQoKSkhPT1nKGMuZ2V0VGV4dCgpKTohMCk6Yz0hMX1pZihjKXJldHVybiExO2ZvcihnPTA7ZzxiLmxlbmd0aDtnKyspaWYoYz1iW2ddLl9nZXRUYWJsZUVsZW1lbnQoKSwhYylyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBlKGEpe2Z1bmN0aW9uIGIoYSl7YT1hLmZpbmQoXCJ0ZCwgdGhcIik7dmFyIGQ9W10sYztmb3IoYz0wO2M8YS5jb3VudCgpO2MrKylkLnB1c2goYS5nZXRJdGVtKGMpKTtyZXR1cm4gZH1cbnZhciBkPVtdLGMsZztmb3IoZz0wO2c8YS5sZW5ndGg7ZysrKWM9YVtnXS5fZ2V0VGFibGVFbGVtZW50KCksYy5pcyYmYy5pcyh7dGQ6MSx0aDoxfSk/ZC5wdXNoKGMpOmQ9ZC5jb25jYXQoYihjKSk7cmV0dXJuIGR9ZnVuY3Rpb24gYihhKXthPWUoYSk7dmFyIGI9XCJcIixkPVtdLGMsZztmb3IoZz0wO2c8YS5sZW5ndGg7ZysrKWMmJiFjLmVxdWFscyhhW2ddLmdldEFzY2VuZGFudChcInRyXCIpKT8oYis9ZC5qb2luKFwiXFx0XCIpK1wiXFxuXCIsYz1hW2ddLmdldEFzY2VuZGFudChcInRyXCIpLGQ9W10pOjA9PT1nJiYoYz1hW2ddLmdldEFzY2VuZGFudChcInRyXCIpKSxkLnB1c2goYVtnXS5nZXRUZXh0KCkpO3JldHVybiBiKz1kLmpvaW4oXCJcXHRcIil9ZnVuY3Rpb24gYyhhKXt2YXIgZD10aGlzLnJvb3QuZWRpdG9yLGM9ZC5nZXRTZWxlY3Rpb24oMSk7dGhpcy5yZXNldCgpO3k9ITA7Yy5yb290Lm9uY2UoXCJzZWxlY3Rpb25jaGFuZ2VcIixmdW5jdGlvbihhKXthLmNhbmNlbCgpfSxudWxsLG51bGwsMCk7Yy5zZWxlY3RSYW5nZXMoW2FbMF1dKTtcbmM9dGhpcy5fLmNhY2hlO2MucmFuZ2VzPW5ldyBDS0VESVRPUi5kb20ucmFuZ2VMaXN0KGEpO2MudHlwZT1DS0VESVRPUi5TRUxFQ1RJT05fVEVYVDtjLnNlbGVjdGVkRWxlbWVudD1hWzBdLl9nZXRUYWJsZUVsZW1lbnQoKTtjLnNlbGVjdGVkVGV4dD1iKGEpO2MubmF0aXZlU2VsPW51bGw7dGhpcy5pc0Zha2U9MTt0aGlzLnJldj16Kys7ZC5fLmZha2VTZWxlY3Rpb249dGhpczt5PSExO3RoaXMucm9vdC5maXJlKFwic2VsZWN0aW9uY2hhbmdlXCIpfWZ1bmN0aW9uIGsoKXt2YXIgYj10aGlzLl8uZmFrZVNlbGVjdGlvbixkO2lmKGIpe2Q9dGhpcy5nZXRTZWxlY3Rpb24oMSk7dmFyIGM7aWYoIShjPSFkKSYmKGM9IWQuaXNIaWRkZW4oKSkpe2M9Yjt2YXIgZz1kLmdldFJhbmdlcygpLGU9Yy5nZXRSYW5nZXMoKSxoPWcubGVuZ3RoJiZnWzBdLl9nZXRUYWJsZUVsZW1lbnQoKSYmZ1swXS5fZ2V0VGFibGVFbGVtZW50KCkuZ2V0QXNjZW5kYW50KFwidGFibGVcIiwhMCksaz1lLmxlbmd0aCYmZVswXS5fZ2V0VGFibGVFbGVtZW50KCkmJlxuZVswXS5fZ2V0VGFibGVFbGVtZW50KCkuZ2V0QXNjZW5kYW50KFwidGFibGVcIiwhMCksbD0xPT09Zy5sZW5ndGgmJmdbMF0uX2dldFRhYmxlRWxlbWVudCgpJiZnWzBdLl9nZXRUYWJsZUVsZW1lbnQoKS5pcyhcInRhYmxlXCIpLG49MT09PWUubGVuZ3RoJiZlWzBdLl9nZXRUYWJsZUVsZW1lbnQoKSYmZVswXS5fZ2V0VGFibGVFbGVtZW50KCkuaXMoXCJ0YWJsZVwiKTtpZihhKGMuZ2V0U2VsZWN0ZWRFbGVtZW50KCkpKWM9ITE7ZWxzZXt2YXIgbT0xPT09Zy5sZW5ndGgmJmdbMF0uY29sbGFwc2VkLGU9ZihnLCEhQ0tFRElUT1IuZW52LndlYmtpdCkmJmYoZSk7aD1oJiZrP2guZXF1YWxzKGspfHxrLmNvbnRhaW5zKGgpOiExO2gmJihtfHxlKT8obCYmIW4mJmMuc2VsZWN0UmFuZ2VzKGcpLGM9ITApOmM9ITF9Yz0hY31jJiYoYi5yZXNldCgpLGI9MCl9aWYoIWImJihiPWR8fHRoaXMuZ2V0U2VsZWN0aW9uKDEpLCFifHxiLmdldFR5cGUoKT09Q0tFRElUT1IuU0VMRUNUSU9OX05PTkUpKXJldHVybjtcbnRoaXMuZmlyZShcInNlbGVjdGlvbkNoZWNrXCIsYik7ZD10aGlzLmVsZW1lbnRQYXRoKCk7ZC5jb21wYXJlKHRoaXMuXy5zZWxlY3Rpb25QcmV2aW91c1BhdGgpfHwoYz10aGlzLl8uc2VsZWN0aW9uUHJldmlvdXNQYXRoJiZ0aGlzLl8uc2VsZWN0aW9uUHJldmlvdXNQYXRoLmJsb2NrTGltaXQuZXF1YWxzKGQuYmxvY2tMaW1pdCksIUNLRURJVE9SLmVudi53ZWJraXQmJiFDS0VESVRPUi5lbnYuZ2Vja298fGN8fCh0aGlzLl8ucHJldmlvdXNBY3RpdmU9dGhpcy5kb2N1bWVudC5nZXRBY3RpdmUoKSksdGhpcy5fLnNlbGVjdGlvblByZXZpb3VzUGF0aD1kLHRoaXMuZmlyZShcInNlbGVjdGlvbkNoYW5nZVwiLHtzZWxlY3Rpb246YixwYXRoOmR9KSl9ZnVuY3Rpb24gbCgpe3Y9ITA7dHx8KG0uY2FsbCh0aGlzKSx0PUNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQobSwyMDAsdGhpcykpfWZ1bmN0aW9uIG0oKXt0PW51bGw7diYmKENLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoaywwLHRoaXMpLHY9XG4hMSl9ZnVuY3Rpb24gZChhKXtyZXR1cm4gQihhKXx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFhLmlzKENLRURJVE9SLmR0ZC4kZW1wdHkpPyEwOiExfWZ1bmN0aW9uIGgoYSl7ZnVuY3Rpb24gYihkLGMpe3JldHVybiBkJiZkLnR5cGUhPUNLRURJVE9SLk5PREVfVEVYVD9hLmNsb25lKClbXCJtb3ZlVG9FbGVtZW50RWRpdFwiKyhjP1wiRW5kXCI6XCJTdGFydFwiKV0oZCk6ITF9aWYoIShhLnJvb3QgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0YWJsZSkpcmV0dXJuITE7dmFyIGM9YS5zdGFydENvbnRhaW5lcixnPWEuZ2V0UHJldmlvdXNOb2RlKGQsbnVsbCxjKSxlPWEuZ2V0TmV4dE5vZGUoZCxudWxsLGMpO3JldHVybiBiKGcpfHxiKGUsMSl8fCEoZ3x8ZXx8Yy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmMuaXNCbG9ja0JvdW5kYXJ5KCkmJmMuZ2V0Qm9ndXMoKSk/ITA6ITF9ZnVuY3Rpb24gZyhhKXtuKGEsITEpO3ZhciBiPWEuZ2V0RG9jdW1lbnQoKS5jcmVhdGVUZXh0KHEpO1xuYS5zZXRDdXN0b21EYXRhKFwiY2tlLWZpbGxpbmdDaGFyXCIsYik7cmV0dXJuIGJ9ZnVuY3Rpb24gbihhLGIpe3ZhciBkPWEmJmEucmVtb3ZlQ3VzdG9tRGF0YShcImNrZS1maWxsaW5nQ2hhclwiKTtpZihkKXtpZighMSE9PWIpe3ZhciBjPWEuZ2V0RG9jdW1lbnQoKS5nZXRTZWxlY3Rpb24oKS5nZXROYXRpdmUoKSxnPWMmJlwiTm9uZVwiIT1jLnR5cGUmJmMuZ2V0UmFuZ2VBdCgwKSxlPXEubGVuZ3RoO2lmKGQuZ2V0TGVuZ3RoKCk+ZSYmZyYmZy5pbnRlcnNlY3RzTm9kZShkLiQpKXt2YXIgaD1be25vZGU6Yy5hbmNob3JOb2RlLG9mZnNldDpjLmFuY2hvck9mZnNldH0se25vZGU6Yy5mb2N1c05vZGUsb2Zmc2V0OmMuZm9jdXNPZmZzZXR9XTtjLmFuY2hvck5vZGU9PWQuJCYmYy5hbmNob3JPZmZzZXQ+ZSYmKGhbMF0ub2Zmc2V0LT1lKTtjLmZvY3VzTm9kZT09ZC4kJiZjLmZvY3VzT2Zmc2V0PmUmJihoWzFdLm9mZnNldC09ZSl9fWQuc2V0VGV4dCh3KGQuZ2V0VGV4dCgpLDEpKTtoJiYoZD1hLmdldERvY3VtZW50KCkuJCxcbmM9ZC5nZXRTZWxlY3Rpb24oKSxkPWQuY3JlYXRlUmFuZ2UoKSxkLnNldFN0YXJ0KGhbMF0ubm9kZSxoWzBdLm9mZnNldCksZC5jb2xsYXBzZSghMCksYy5yZW1vdmVBbGxSYW5nZXMoKSxjLmFkZFJhbmdlKGQpLGMuZXh0ZW5kKGhbMV0ubm9kZSxoWzFdLm9mZnNldCkpfX1mdW5jdGlvbiB3KGEsYil7cmV0dXJuIGI/YS5yZXBsYWNlKEEsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9cIsKgXCI6XCJcIn0pOmEucmVwbGFjZShxLFwiXCIpfWZ1bmN0aW9uIHgoYSxiKXt2YXIgZD1iJiZDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGIpfHxcIlxceDI2bmJzcDtcIixkPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2RpdiBkYXRhLWNrZS1oaWRkZW4tc2VsXFx4M2RcIjFcIiBkYXRhLWNrZS10ZW1wXFx4M2RcIjFcIiBzdHlsZVxceDNkXCInKyhDS0VESVRPUi5lbnYuaWUmJjE0PkNLRURJVE9SLmVudi52ZXJzaW9uP1wiZGlzcGxheTpub25lXCI6XCJwb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0Oi0xMDAwcHg7d2lkdGg6MDtoZWlnaHQ6MDtvdmVyZmxvdzpoaWRkZW47XCIpK1xuJ1wiXFx4M2UnK2QrXCJcXHgzYy9kaXZcXHgzZVwiLGEuZG9jdW1lbnQpO2EuZmlyZShcImxvY2tTbmFwc2hvdFwiKTthLmVkaXRhYmxlKCkuYXBwZW5kKGQpO3ZhciBjPWEuZ2V0U2VsZWN0aW9uKDEpLGc9YS5jcmVhdGVSYW5nZSgpLGU9Yy5yb290Lm9uKFwic2VsZWN0aW9uY2hhbmdlXCIsZnVuY3Rpb24oYSl7YS5jYW5jZWwoKX0sbnVsbCxudWxsLDApO2cuc2V0U3RhcnRBdChkLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTtnLnNldEVuZEF0KGQsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7Yy5zZWxlY3RSYW5nZXMoW2ddKTtlLnJlbW92ZUxpc3RlbmVyKCk7YS5maXJlKFwidW5sb2NrU25hcHNob3RcIik7YS5fLmhpZGRlblNlbGVjdGlvbkNvbnRhaW5lcj1kfWZ1bmN0aW9uIHIoYil7dmFyIGQ9ezM3OjEsMzk6MSw4OjEsNDY6MX07cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBnPWMuZGF0YS5nZXRLZXlzdHJva2UoKTtpZihkW2ddKXt2YXIgZT1iLmdldFNlbGVjdGlvbigpLGg9ZS5nZXRSYW5nZXMoKVswXTtcbmUuaXNDb2xsYXBzZWQoKSYmKGg9aFszOD5nP1wiZ2V0UHJldmlvdXNFZGl0YWJsZU5vZGVcIjpcImdldE5leHRFZGl0YWJsZU5vZGVcIl0oKSkmJmgudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcImZhbHNlXCI9PWguZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpJiYoZT1lLmdldFN0YXJ0RWxlbWVudCgpLCFlLmlzQmxvY2tCb3VuZGFyeSgpfHxcIlwiIT09KHZvaWQgMD09PWUuJC50ZXh0Q29udGVudD9lLiQuaW5uZXJUZXh0OmUuJC50ZXh0Q29udGVudCl8fGEoZS5nZXRGaXJzdCgpKXx8OCE9PWcmJjQ2IT09Z3x8KGUucmVtb3ZlKCksYi5maXJlKFwic2F2ZVNuYXBzaG90XCIpKSxiLmdldFNlbGVjdGlvbigpLmZha2UoaCksYy5kYXRhLnByZXZlbnREZWZhdWx0KCksYy5jYW5jZWwoKSl9fX1mdW5jdGlvbiBwKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgZD1hW2JdO2QuZ2V0Q29tbW9uQW5jZXN0b3IoKS5pc1JlYWRPbmx5KCkmJmEuc3BsaWNlKGIsMSk7aWYoIWQuY29sbGFwc2VkKXtpZihkLnN0YXJ0Q29udGFpbmVyLmlzUmVhZE9ubHkoKSlmb3IodmFyIGM9XG5kLnN0YXJ0Q29udGFpbmVyLGc7YyYmISgoZz1jLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCkmJmMuaXMoXCJib2R5XCIpfHwhYy5pc1JlYWRPbmx5KCkpOylnJiZcImZhbHNlXCI9PWMuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpJiZkLnNldFN0YXJ0QWZ0ZXIoYyksYz1jLmdldFBhcmVudCgpO2M9ZC5zdGFydENvbnRhaW5lcjtnPWQuZW5kQ29udGFpbmVyO3ZhciBlPWQuc3RhcnRPZmZzZXQsaD1kLmVuZE9mZnNldCxmPWQuY2xvbmUoKTtjJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGU+PWMuZ2V0TGVuZ3RoKCk/Zi5zZXRTdGFydEFmdGVyKGMpOmYuc2V0U3RhcnRCZWZvcmUoYykpO2cmJmcudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoaD9mLnNldEVuZEFmdGVyKGcpOmYuc2V0RW5kQmVmb3JlKGcpKTtjPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGYpO2MuZXZhbHVhdG9yPWZ1bmN0aW9uKGMpe2lmKGMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcbmMuaXNSZWFkT25seSgpKXt2YXIgZz1kLmNsb25lKCk7ZC5zZXRFbmRCZWZvcmUoYyk7ZC5jb2xsYXBzZWQmJmEuc3BsaWNlKGItLSwxKTtjLmdldFBvc2l0aW9uKGYuZW5kQ29udGFpbmVyKSZDS0VESVRPUi5QT1NJVElPTl9DT05UQUlOU3x8KGcuc2V0U3RhcnRBZnRlcihjKSxnLmNvbGxhcHNlZHx8YS5zcGxpY2UoYisxLDAsZykpO3JldHVybiEwfXJldHVybiExfTtjLm5leHQoKX19cmV0dXJuIGF9dmFyIHU9XCJmdW5jdGlvblwiIT10eXBlb2Ygd2luZG93LmdldFNlbGVjdGlvbix6PTEscT1DS0VESVRPUi50b29scy5yZXBlYXQoXCLigItcIiw3KSxBPW5ldyBSZWdFeHAocStcIiggKT9cIixcImdcIikseSx0LHYsQj1DS0VESVRPUi5kb20ud2Fsa2VyLmludmlzaWJsZSgxKSxEPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGQ9YS5lZGl0b3IuY3JlYXRlUmFuZ2UoKTtkLm1vdmVUb0Nsb3Nlc3RFZGl0YWJsZVBvc2l0aW9uKGEuc2VsZWN0ZWQsYikmJmEuZWRpdG9yLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbZF0pO1xucmV0dXJuITF9fWZ1bmN0aW9uIGIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBkPWIuZWRpdG9yLGM9ZC5jcmVhdGVSYW5nZSgpLGc7aWYoIWQucmVhZE9ubHkpcmV0dXJuKGc9Yy5tb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbihiLnNlbGVjdGVkLGEpKXx8KGc9Yy5tb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbihiLnNlbGVjdGVkLCFhKSksZyYmZC5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2NdKSxkLmZpcmUoXCJzYXZlU25hcHNob3RcIiksYi5zZWxlY3RlZC5yZW1vdmUoKSxnfHwoYy5tb3ZlVG9FbGVtZW50RWRpdGFibGVQb3NpdGlvbihkLmVkaXRhYmxlKCkpLGQuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtjXSkpLGQuZmlyZShcInNhdmVTbmFwc2hvdFwiKSwhMX19dmFyIGQ9YSgpLGM9YSgxKTtyZXR1cm57Mzc6ZCwzODpkLDM5OmMsNDA6Yyw4OmIoKSw0NjpiKDEpfX0oKTtDS0VESVRPUi5vbihcImluc3RhbmNlQ3JlYXRlZFwiLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXt2YXIgYT1cbmQuZ2V0U2VsZWN0aW9uKCk7YSYmYS5yZW1vdmVBbGxSYW5nZXMoKX12YXIgZD1hLmVkaXRvcjtkLm9uKFwiY29udGVudERvbVwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3Q9bmV3IENLRURJVE9SLmRvbS5zZWxlY3Rpb24oZC5nZXRTZWxlY3Rpb24oKSk7dC5sb2NrKCl9ZnVuY3Rpb24gYigpe2gucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsYik7dy5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixiKTt2YXIgYT1DS0VESVRPUi5kb2N1bWVudC4kLnNlbGVjdGlvbixkPWEuY3JlYXRlUmFuZ2UoKTtcIk5vbmVcIiE9YS50eXBlJiZkLnBhcmVudEVsZW1lbnQoKSYmZC5wYXJlbnRFbGVtZW50KCkub3duZXJEb2N1bWVudD09ZS4kJiZkLnNlbGVjdCgpfWZ1bmN0aW9uIGMoYSl7dmFyIGIsZDtiPShiPXRoaXMuZG9jdW1lbnQuZ2V0QWN0aXZlKCkpP1wiaW5wdXRcIj09PWIuZ2V0TmFtZSgpfHxcInRleHRhcmVhXCI9PT1iLmdldE5hbWUoKTohMTtifHwoYj10aGlzLmdldFNlbGVjdGlvbigxKSwoZD1nKGIpKSYmXG4hZC5lcXVhbHMoZikmJihiLnNlbGVjdEVsZW1lbnQoZCksYS5kYXRhLnByZXZlbnREZWZhdWx0KCkpKX1mdW5jdGlvbiBnKGEpe2E9YS5nZXRSYW5nZXMoKVswXTtyZXR1cm4gYT8oYT1hLnN0YXJ0Q29udGFpbmVyLmdldEFzY2VuZGFudChmdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpfSwhMCkpJiZcImZhbHNlXCI9PT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKT9hOm51bGw6bnVsbH12YXIgZT1kLmRvY3VtZW50LGg9Q0tFRElUT1IuZG9jdW1lbnQsZj1kLmVkaXRhYmxlKCksbT1lLmdldEJvZHkoKSx3PWUuZ2V0RG9jdW1lbnRFbGVtZW50KCkscT1mLmlzSW5saW5lKCksdix0O0NLRURJVE9SLmVudi5nZWNrbyYmZi5hdHRhY2hMaXN0ZW5lcihmLFwiZm9jdXNcIixmdW5jdGlvbihhKXthLnJlbW92ZUxpc3RlbmVyKCk7MCE9PXYmJihhPWQuZ2V0U2VsZWN0aW9uKCkuZ2V0TmF0aXZlKCkpJiZcbmEuaXNDb2xsYXBzZWQmJmEuYW5jaG9yTm9kZT09Zi4kJiYoYT1kLmNyZWF0ZVJhbmdlKCksYS5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGYpLGEuc2VsZWN0KCkpfSxudWxsLG51bGwsLTIpO2YuYXR0YWNoTGlzdGVuZXIoZixDS0VESVRPUi5lbnYud2Via2l0fHxDS0VESVRPUi5lbnYuZ2Vja28/XCJmb2N1c2luXCI6XCJmb2N1c1wiLGZ1bmN0aW9uKCl7aWYodiYmKENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5nZWNrbykpe3Y9ZC5fLnByZXZpb3VzQWN0aXZlJiZkLl8ucHJldmlvdXNBY3RpdmUuZXF1YWxzKGUuZ2V0QWN0aXZlKCkpO3ZhciBhPW51bGwhPWQuXy5wcmV2aW91c1Njcm9sbFRvcCYmZC5fLnByZXZpb3VzU2Nyb2xsVG9wIT1mLiQuc2Nyb2xsVG9wO0NLRURJVE9SLmVudi53ZWJraXQmJnYmJmEmJihmLiQuc2Nyb2xsVG9wPWQuXy5wcmV2aW91c1Njcm9sbFRvcCl9ZC51bmxvY2tTZWxlY3Rpb24odik7dj0wfSxudWxsLG51bGwsLTEpO2YuYXR0YWNoTGlzdGVuZXIoZixcblwibW91c2Vkb3duXCIsZnVuY3Rpb24oKXt2PTB9KTtpZihDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi5nZWNrb3x8cSl1P2YuYXR0YWNoTGlzdGVuZXIoZixcImJlZm9yZWRlYWN0aXZhdGVcIixhLG51bGwsbnVsbCwtMSk6Zi5hdHRhY2hMaXN0ZW5lcihkLFwic2VsZWN0aW9uQ2hlY2tcIixhLG51bGwsbnVsbCwtMSksZi5hdHRhY2hMaXN0ZW5lcihmLENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5nZWNrbz9cImZvY3Vzb3V0XCI6XCJibHVyXCIsZnVuY3Rpb24oKXt2YXIgYT10JiYodC5pc0Zha2V8fDI+dC5nZXRSYW5nZXMoKS5sZW5ndGgpO0NLRURJVE9SLmVudi5nZWNrbyYmIXEmJmF8fChkLmxvY2tTZWxlY3Rpb24odCksdj0xKX0sbnVsbCxudWxsLC0xKSxmLmF0dGFjaExpc3RlbmVyKGYsXCJtb3VzZWRvd25cIixmdW5jdGlvbigpe3Y9MH0pO2lmKENLRURJVE9SLmVudi5pZSYmIXEpe3ZhciB5O2YuYXR0YWNoTGlzdGVuZXIoZixcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGEpezI9PVxuYS5kYXRhLiQuYnV0dG9uJiYoKGE9ZC5kb2N1bWVudC5nZXRTZWxlY3Rpb24oKSkmJmEuZ2V0VHlwZSgpIT1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORXx8KHk9ZC53aW5kb3cuZ2V0U2Nyb2xsUG9zaXRpb24oKSkpfSk7Zi5hdHRhY2hMaXN0ZW5lcihmLFwibW91c2V1cFwiLGZ1bmN0aW9uKGEpezI9PWEuZGF0YS4kLmJ1dHRvbiYmeSYmKGQuZG9jdW1lbnQuJC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdD15LngsZC5kb2N1bWVudC4kLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A9eS55KTt5PW51bGx9KTtpZihcIkJhY2tDb21wYXRcIiE9ZS4kLmNvbXBhdE1vZGUpe2lmKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5pZTZDb21wYXQpe3ZhciBwLHo7dy5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7YT1hLmRhdGEuJDtpZihwKXt2YXIgZD1tLiQuY3JlYXRlVGV4dFJhbmdlKCk7dHJ5e2QubW92ZVRvUG9pbnQoYS5jbGllbnRYLGEuY2xpZW50WSl9Y2F0Y2goYyl7fXAuc2V0RW5kUG9pbnQoMD5cbnouY29tcGFyZUVuZFBvaW50cyhcIlN0YXJ0VG9TdGFydFwiLGQpP1wiRW5kVG9FbmRcIjpcIlN0YXJ0VG9TdGFydFwiLGQpO3Auc2VsZWN0KCl9fWZ1bmN0aW9uIGQoKXt3LnJlbW92ZUxpc3RlbmVyKFwibW91c2Vtb3ZlXCIsYik7aC5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixkKTt3LnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGQpO3Auc2VsZWN0KCl9YT1hLmRhdGE7aWYoYS5nZXRUYXJnZXQoKS5pcyhcImh0bWxcIikmJmEuJC55PHcuJC5jbGllbnRIZWlnaHQmJmEuJC54PHcuJC5jbGllbnRXaWR0aCl7cD1tLiQuY3JlYXRlVGV4dFJhbmdlKCk7dHJ5e3AubW92ZVRvUG9pbnQoYS4kLmNsaWVudFgsYS4kLmNsaWVudFkpfWNhdGNoKGMpe316PXAuZHVwbGljYXRlKCk7dy5vbihcIm1vdXNlbW92ZVwiLGIpO2gub24oXCJtb3VzZXVwXCIsZCk7dy5vbihcIm1vdXNldXBcIixkKX19KX1pZig3PENLRURJVE9SLmVudi52ZXJzaW9uJiYxMT5DS0VESVRPUi5lbnYudmVyc2lvbil3Lm9uKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oYSl7YS5kYXRhLmdldFRhcmdldCgpLmlzKFwiaHRtbFwiKSYmXG4oaC5vbihcIm1vdXNldXBcIixiKSx3Lm9uKFwibW91c2V1cFwiLGIpKX0pfX1mLmF0dGFjaExpc3RlbmVyKGYsXCJzZWxlY3Rpb25jaGFuZ2VcIixrLGQpO2YuYXR0YWNoTGlzdGVuZXIoZixcImtleXVwXCIsbCxkKTtmLmF0dGFjaExpc3RlbmVyKGYsXCJ0b3VjaHN0YXJ0XCIsbCxkKTtmLmF0dGFjaExpc3RlbmVyKGYsXCJ0b3VjaGVuZFwiLGwsZCk7Q0tFRElUT1IuZW52LmllJiZmLmF0dGFjaExpc3RlbmVyKGYsXCJrZXlkb3duXCIsYyxkKTtmLmF0dGFjaExpc3RlbmVyKGYsQ0tFRElUT1IuZW52LndlYmtpdHx8Q0tFRElUT1IuZW52LmdlY2tvP1wiZm9jdXNpblwiOlwiZm9jdXNcIixmdW5jdGlvbigpe2QuZm9yY2VOZXh0U2VsZWN0aW9uQ2hlY2soKTtkLnNlbGVjdGlvbkNoYW5nZSgxKX0pO2lmKHEmJihDS0VESVRPUi5lbnYud2Via2l0fHxDS0VESVRPUi5lbnYuZ2Vja28pKXt2YXIgQTtmLmF0dGFjaExpc3RlbmVyKGYsXCJtb3VzZWRvd25cIixmdW5jdGlvbigpe0E9MX0pO2YuYXR0YWNoTGlzdGVuZXIoZS5nZXREb2N1bWVudEVsZW1lbnQoKSxcblwibW91c2V1cFwiLGZ1bmN0aW9uKCl7QSYmbC5jYWxsKGQpO0E9MH0pfWVsc2UgZi5hdHRhY2hMaXN0ZW5lcihDS0VESVRPUi5lbnYuaWU/ZjplLmdldERvY3VtZW50RWxlbWVudCgpLFwibW91c2V1cFwiLGwsZCk7Q0tFRElUT1IuZW52LndlYmtpdCYmZi5hdHRhY2hMaXN0ZW5lcihlLFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe3N3aXRjaChhLmRhdGEuZ2V0S2V5KCkpe2Nhc2UgMTM6Y2FzZSAzMzpjYXNlIDM0OmNhc2UgMzU6Y2FzZSAzNjpjYXNlIDM3OmNhc2UgMzk6Y2FzZSA4OmNhc2UgNDU6Y2FzZSA0NjpmLmhhc0ZvY3VzJiZuKGYpfX0sbnVsbCxudWxsLC0xKTtmLmF0dGFjaExpc3RlbmVyKGYsXCJrZXlkb3duXCIscihkKSxudWxsLG51bGwsLTEpfSk7ZC5vbihcInNldERhdGFcIixmdW5jdGlvbigpe2QudW5sb2NrU2VsZWN0aW9uKCk7Q0tFRElUT1IuZW52LndlYmtpdCYmYigpfSk7ZC5vbihcImNvbnRlbnREb21VbmxvYWRcIixmdW5jdGlvbigpe2QudW5sb2NrU2VsZWN0aW9uKCl9KTtpZihDS0VESVRPUi5lbnYuaWU5Q29tcGF0KWQub24oXCJiZWZvcmVEZXN0cm95XCIsXG5iLG51bGwsbnVsbCw5KTtkLm9uKFwiZGF0YVJlYWR5XCIsZnVuY3Rpb24oKXtkZWxldGUgZC5fLmZha2VTZWxlY3Rpb247ZGVsZXRlIGQuXy5oaWRkZW5TZWxlY3Rpb25Db250YWluZXI7ZC5zZWxlY3Rpb25DaGFuZ2UoMSl9KTtkLm9uKFwibG9hZFNuYXBzaG90XCIsZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5kb20ud2Fsa2VyLm5vZGVUeXBlKENLRURJVE9SLk5PREVfRUxFTUVOVCksYj1kLmVkaXRhYmxlKCkuZ2V0TGFzdChhKTtiJiZiLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLWhpZGRlbi1zZWxcIikmJihiLnJlbW92ZSgpLENLRURJVE9SLmVudi5nZWNrbyYmKGE9ZC5lZGl0YWJsZSgpLmdldEZpcnN0KGEpKSYmYS5pcyhcImJyXCIpJiZhLmdldEF0dHJpYnV0ZShcIl9tb3pfZWRpdG9yX2JvZ3VzX25vZGVcIikmJmEucmVtb3ZlKCkpfSxudWxsLG51bGwsMTAwKTtkLm9uKFwia2V5XCIsZnVuY3Rpb24oYSl7aWYoXCJ3eXNpd3lnXCI9PWQubW9kZSl7dmFyIGI9ZC5nZXRTZWxlY3Rpb24oKTtpZihiLmlzRmFrZSl7dmFyIGM9XG5EW2EuZGF0YS5rZXlDb2RlXTtpZihjKXJldHVybiBjKHtlZGl0b3I6ZCxzZWxlY3RlZDpiLmdldFNlbGVjdGVkRWxlbWVudCgpLHNlbGVjdGlvbjpiLGtleUV2ZW50OmF9KX19fSl9KTtpZihDS0VESVRPUi5lbnYud2Via2l0KUNLRURJVE9SLm9uKFwiaW5zdGFuY2VSZWFkeVwiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZWRpdG9yO2Iub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixmdW5jdGlvbigpe3ZhciBhPWIuZWRpdGFibGUoKSxkPWEuZ2V0Q3VzdG9tRGF0YShcImNrZS1maWxsaW5nQ2hhclwiKTtkJiYoZC5nZXRDdXN0b21EYXRhKFwicmVhZHlcIik/KG4oYSksYS5lZGl0b3IuZmlyZShcInNlbGVjdGlvbkNoZWNrXCIpKTpkLnNldEN1c3RvbURhdGEoXCJyZWFkeVwiLDEpKX0sbnVsbCxudWxsLC0xKTtiLm9uKFwiYmVmb3JlU2V0TW9kZVwiLGZ1bmN0aW9uKCl7bihiLmVkaXRhYmxlKCkpfSxudWxsLG51bGwsLTEpO2Iub24oXCJnZXRTbmFwc2hvdFwiLGZ1bmN0aW9uKGEpe2EuZGF0YSYmKGEuZGF0YT13KGEuZGF0YSkpfSxcbmIsbnVsbCwyMCk7Yi5vbihcInRvRGF0YUZvcm1hdFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5kYXRhVmFsdWU9dyhhLmRhdGEuZGF0YVZhbHVlKX0sbnVsbCxudWxsLDApfSk7Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5zZWxlY3Rpb25DaGFuZ2U9ZnVuY3Rpb24oYSl7KGE/azpsKS5jYWxsKHRoaXMpfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmdldFNlbGVjdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4hdGhpcy5fLnNhdmVkU2VsZWN0aW9uJiYhdGhpcy5fLmZha2VTZWxlY3Rpb258fGE/KGE9dGhpcy5lZGl0YWJsZSgpKSYmXCJ3eXNpd3lnXCI9PXRoaXMubW9kZSYmXCJyZWNyZWF0aW5nXCIhPT10aGlzLnN0YXR1cz9uZXcgQ0tFRElUT1IuZG9tLnNlbGVjdGlvbihhKTpudWxsOnRoaXMuXy5zYXZlZFNlbGVjdGlvbnx8dGhpcy5fLmZha2VTZWxlY3Rpb259O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRSYW5nZXM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRTZWxlY3Rpb24oKTtcbnJldHVybiBiJiZiLmdldFJhbmdlcyhhKXx8W119O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUubG9ja1NlbGVjdGlvbj1mdW5jdGlvbihhKXthPWF8fHRoaXMuZ2V0U2VsZWN0aW9uKDEpO3JldHVybiBhLmdldFR5cGUoKSE9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkU/KCFhLmlzTG9ja2VkJiZhLmxvY2soKSx0aGlzLl8uc2F2ZWRTZWxlY3Rpb249YSwhMCk6ITF9O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUudW5sb2NrU2VsZWN0aW9uPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuXy5zYXZlZFNlbGVjdGlvbjtyZXR1cm4gYj8oYi51bmxvY2soYSksZGVsZXRlIHRoaXMuXy5zYXZlZFNlbGVjdGlvbiwhMCk6ITF9O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZm9yY2VOZXh0U2VsZWN0aW9uQ2hlY2s9ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5fLnNlbGVjdGlvblByZXZpb3VzUGF0aH07Q0tFRElUT1IuZG9tLmRvY3VtZW50LnByb3RvdHlwZS5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5zZWxlY3Rpb24odGhpcyl9O1xuQ0tFRElUT1IuZG9tLnJhbmdlLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnJvb3QgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0YWJsZT90aGlzLnJvb3QuZWRpdG9yLmdldFNlbGVjdGlvbigpOm5ldyBDS0VESVRPUi5kb20uc2VsZWN0aW9uKHRoaXMucm9vdCk7YS5zZWxlY3RSYW5nZXMoW3RoaXNdKTtyZXR1cm4gYX07Q0tFRElUT1IuU0VMRUNUSU9OX05PTkU9MTtDS0VESVRPUi5TRUxFQ1RJT05fVEVYVD0yO0NLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UPTM7Q0tFRElUT1IuZG9tLnNlbGVjdGlvbj1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLnNlbGVjdGlvbil7dmFyIGI9YTthPWEucm9vdH12YXIgZD1hIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQ7dGhpcy5yZXY9Yj9iLnJldjp6Kys7dGhpcy5kb2N1bWVudD1hIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmRvY3VtZW50P2E6YS5nZXREb2N1bWVudCgpO3RoaXMucm9vdD1cbmQ/YTp0aGlzLmRvY3VtZW50LmdldEJvZHkoKTt0aGlzLmlzTG9ja2VkPTA7dGhpcy5fPXtjYWNoZTp7fX07aWYoYilyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMuXy5jYWNoZSxiLl8uY2FjaGUpLHRoaXMuaXNGYWtlPWIuaXNGYWtlLHRoaXMuaXNMb2NrZWQ9Yi5pc0xvY2tlZCx0aGlzO2E9dGhpcy5nZXROYXRpdmUoKTt2YXIgYyxnO2lmKGEpaWYoYS5nZXRSYW5nZUF0KWM9KGc9YS5yYW5nZUNvdW50JiZhLmdldFJhbmdlQXQoMCkpJiZuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZy5jb21tb25BbmNlc3RvckNvbnRhaW5lcik7ZWxzZXt0cnl7Zz1hLmNyZWF0ZVJhbmdlKCl9Y2F0Y2goZSl7fWM9ZyYmQ0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0KGcuaXRlbSYmZy5pdGVtKDApfHxnLnBhcmVudEVsZW1lbnQoKSl9aWYoIWN8fGMudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZjLnR5cGUhPUNLRURJVE9SLk5PREVfVEVYVHx8IXRoaXMucm9vdC5lcXVhbHMoYykmJiF0aGlzLnJvb3QuY29udGFpbnMoYykpdGhpcy5fLmNhY2hlLnR5cGU9XG5DS0VESVRPUi5TRUxFQ1RJT05fTk9ORSx0aGlzLl8uY2FjaGUuc3RhcnRFbGVtZW50PW51bGwsdGhpcy5fLmNhY2hlLnNlbGVjdGVkRWxlbWVudD1udWxsLHRoaXMuXy5jYWNoZS5zZWxlY3RlZFRleHQ9XCJcIix0aGlzLl8uY2FjaGUucmFuZ2VzPW5ldyBDS0VESVRPUi5kb20ucmFuZ2VMaXN0O3JldHVybiB0aGlzfTt2YXIgQz17aW1nOjEsaHI6MSxsaToxLHRhYmxlOjEsdHI6MSx0ZDoxLHRoOjEsZW1iZWQ6MSxvYmplY3Q6MSxvbDoxLHVsOjEsYToxLGlucHV0OjEsZm9ybToxLHNlbGVjdDoxLHRleHRhcmVhOjEsYnV0dG9uOjEsZmllbGRzZXQ6MSx0aGVhZDoxLHRmb290OjF9O0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uc2VsZWN0aW9uLHtfcmVtb3ZlRmlsbGluZ0NoYXJTZXF1ZW5jZVN0cmluZzp3LF9jcmVhdGVGaWxsaW5nQ2hhclNlcXVlbmNlTm9kZTpnLEZJTExJTkdfQ0hBUl9TRVFVRU5DRTpxfSk7Q0tFRElUT1IuZG9tLnNlbGVjdGlvbi5wcm90b3R5cGU9e2dldE5hdGl2ZTpmdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT1cbnRoaXMuXy5jYWNoZS5uYXRpdmVTZWw/dGhpcy5fLmNhY2hlLm5hdGl2ZVNlbDp0aGlzLl8uY2FjaGUubmF0aXZlU2VsPXU/dGhpcy5kb2N1bWVudC4kLnNlbGVjdGlvbjp0aGlzLmRvY3VtZW50LmdldFdpbmRvdygpLiQuZ2V0U2VsZWN0aW9uKCl9LGdldFR5cGU6dT9mdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5jYWNoZTtpZihhLnR5cGUpcmV0dXJuIGEudHlwZTt2YXIgYj1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORTt0cnl7dmFyIGQ9dGhpcy5nZXROYXRpdmUoKSxjPWQudHlwZTtcIlRleHRcIj09YyYmKGI9Q0tFRElUT1IuU0VMRUNUSU9OX1RFWFQpO1wiQ29udHJvbFwiPT1jJiYoYj1DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVCk7ZC5jcmVhdGVSYW5nZSgpLnBhcmVudEVsZW1lbnQoKSYmKGI9Q0tFRElUT1IuU0VMRUNUSU9OX1RFWFQpfWNhdGNoKGcpe31yZXR1cm4gYS50eXBlPWJ9OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmNhY2hlO2lmKGEudHlwZSlyZXR1cm4gYS50eXBlO3ZhciBiPVxuQ0tFRElUT1IuU0VMRUNUSU9OX1RFWFQsZD10aGlzLmdldE5hdGl2ZSgpO2lmKCFkfHwhZC5yYW5nZUNvdW50KWI9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkU7ZWxzZSBpZigxPT1kLnJhbmdlQ291bnQpe3ZhciBkPWQuZ2V0UmFuZ2VBdCgwKSxjPWQuc3RhcnRDb250YWluZXI7Yz09ZC5lbmRDb250YWluZXImJjE9PWMubm9kZVR5cGUmJjE9PWQuZW5kT2Zmc2V0LWQuc3RhcnRPZmZzZXQmJkNbYy5jaGlsZE5vZGVzW2Quc3RhcnRPZmZzZXRdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldJiYoYj1DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVCl9cmV0dXJuIGEudHlwZT1ifSxnZXRSYW5nZXM6ZnVuY3Rpb24oKXt2YXIgYT11P2Z1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtyZXR1cm4obmV3IENLRURJVE9SLmRvbS5ub2RlKGIpKS5nZXRJbmRleCgpfXZhciBiPWZ1bmN0aW9uKGIsZCl7Yj1iLmR1cGxpY2F0ZSgpO2IuY29sbGFwc2UoZCk7dmFyIGM9Yi5wYXJlbnRFbGVtZW50KCk7aWYoIWMuaGFzQ2hpbGROb2RlcygpKXJldHVybntjb250YWluZXI6Yyxcbm9mZnNldDowfTtmb3IodmFyIGc9Yy5jaGlsZHJlbixlLGgsZj1iLmR1cGxpY2F0ZSgpLGs9MCxsPWcubGVuZ3RoLTEsbj0tMSxtLHc7azw9bDspaWYobj1NYXRoLmZsb29yKChrK2wpLzIpLGU9Z1tuXSxmLm1vdmVUb0VsZW1lbnRUZXh0KGUpLG09Zi5jb21wYXJlRW5kUG9pbnRzKFwiU3RhcnRUb1N0YXJ0XCIsYiksMDxtKWw9bi0xO2Vsc2UgaWYoMD5tKWs9bisxO2Vsc2UgcmV0dXJue2NvbnRhaW5lcjpjLG9mZnNldDphKGUpfTtpZigtMT09bnx8bj09Zy5sZW5ndGgtMSYmMD5tKXtmLm1vdmVUb0VsZW1lbnRUZXh0KGMpO2Yuc2V0RW5kUG9pbnQoXCJTdGFydFRvU3RhcnRcIixiKTtmPWYudGV4dC5yZXBsYWNlKC8oXFxyXFxufFxccikvZyxcIlxcblwiKS5sZW5ndGg7Zz1jLmNoaWxkTm9kZXM7aWYoIWYpcmV0dXJuIGU9Z1tnLmxlbmd0aC0xXSxlLm5vZGVUeXBlIT1DS0VESVRPUi5OT0RFX1RFWFQ/e2NvbnRhaW5lcjpjLG9mZnNldDpnLmxlbmd0aH06e2NvbnRhaW5lcjplLG9mZnNldDplLm5vZGVWYWx1ZS5sZW5ndGh9O1xuZm9yKGM9Zy5sZW5ndGg7MDxmJiYwPGM7KWg9Z1stLWNdLGgubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKHc9aCxmLT1oLm5vZGVWYWx1ZS5sZW5ndGgpO3JldHVybntjb250YWluZXI6dyxvZmZzZXQ6LWZ9fWYuY29sbGFwc2UoMDxtPyEwOiExKTtmLnNldEVuZFBvaW50KDA8bT9cIlN0YXJ0VG9TdGFydFwiOlwiRW5kVG9TdGFydFwiLGIpO2Y9Zi50ZXh0LnJlcGxhY2UoLyhcXHJcXG58XFxyKS9nLFwiXFxuXCIpLmxlbmd0aDtpZighZilyZXR1cm57Y29udGFpbmVyOmMsb2Zmc2V0OmEoZSkrKDA8bT8wOjEpfTtmb3IoOzA8ZjspdHJ5e2g9ZVswPG0/XCJwcmV2aW91c1NpYmxpbmdcIjpcIm5leHRTaWJsaW5nXCJdLGgubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGYtPWgubm9kZVZhbHVlLmxlbmd0aCx3PWgpLGU9aH1jYXRjaCh2KXtyZXR1cm57Y29udGFpbmVyOmMsb2Zmc2V0OmEoZSl9fXJldHVybntjb250YWluZXI6dyxvZmZzZXQ6MDxtPy1mOncubm9kZVZhbHVlLmxlbmd0aCtmfX07XG5yZXR1cm4gZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldE5hdGl2ZSgpLGQ9YSYmYS5jcmVhdGVSYW5nZSgpLGM9dGhpcy5nZXRUeXBlKCk7aWYoIWEpcmV0dXJuW107aWYoYz09Q0tFRElUT1IuU0VMRUNUSU9OX1RFWFQpcmV0dXJuIGE9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpLGM9YihkLCEwKSxhLnNldFN0YXJ0KG5ldyBDS0VESVRPUi5kb20ubm9kZShjLmNvbnRhaW5lciksYy5vZmZzZXQpLGM9YihkKSxhLnNldEVuZChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoYy5jb250YWluZXIpLGMub2Zmc2V0KSxhLmVuZENvbnRhaW5lci5nZXRQb3NpdGlvbihhLnN0YXJ0Q29udGFpbmVyKSZDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkcmJmEuZW5kT2Zmc2V0PD1hLnN0YXJ0Q29udGFpbmVyLmdldEluZGV4KCkmJmEuY29sbGFwc2UoKSxbYV07aWYoYz09Q0tFRElUT1IuU0VMRUNUSU9OX0VMRU1FTlQpe2Zvcih2YXIgYz1bXSxnPTA7ZzxkLmxlbmd0aDtnKyspe2Zvcih2YXIgZT1cbmQuaXRlbShnKSxoPWUucGFyZW50Tm9kZSxmPTAsYT1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7ZjxoLmNoaWxkTm9kZXMubGVuZ3RoJiZoLmNoaWxkTm9kZXNbZl0hPWU7ZisrKTthLnNldFN0YXJ0KG5ldyBDS0VESVRPUi5kb20ubm9kZShoKSxmKTthLnNldEVuZChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoaCksZisxKTtjLnB1c2goYSl9cmV0dXJuIGN9cmV0dXJuW119fSgpOmZ1bmN0aW9uKCl7dmFyIGE9W10sYixkPXRoaXMuZ2V0TmF0aXZlKCk7aWYoIWQpcmV0dXJuIGE7Zm9yKHZhciBjPTA7YzxkLnJhbmdlQ291bnQ7YysrKXt2YXIgZz1kLmdldFJhbmdlQXQoYyk7Yj1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7Yi5zZXRTdGFydChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZy5zdGFydENvbnRhaW5lciksZy5zdGFydE9mZnNldCk7Yi5zZXRFbmQobmV3IENLRURJVE9SLmRvbS5ub2RlKGcuZW5kQ29udGFpbmVyKSxnLmVuZE9mZnNldCk7YS5wdXNoKGIpfXJldHVybiBhfTtcbnJldHVybiBmdW5jdGlvbihiKXt2YXIgZD10aGlzLl8uY2FjaGUsYz1kLnJhbmdlcztjfHwoZC5yYW5nZXM9Yz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlTGlzdChhLmNhbGwodGhpcykpKTtyZXR1cm4gYj9wKG5ldyBDS0VESVRPUi5kb20ucmFuZ2VMaXN0KGMuc2xpY2UoKSkpOmN9fSgpLGdldFN0YXJ0RWxlbWVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5jYWNoZTtpZih2b2lkIDAhPT1hLnN0YXJ0RWxlbWVudClyZXR1cm4gYS5zdGFydEVsZW1lbnQ7dmFyIGI7c3dpdGNoKHRoaXMuZ2V0VHlwZSgpKXtjYXNlIENLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UOnJldHVybiB0aGlzLmdldFNlbGVjdGVkRWxlbWVudCgpO2Nhc2UgQ0tFRElUT1IuU0VMRUNUSU9OX1RFWFQ6dmFyIGQ9dGhpcy5nZXRSYW5nZXMoKVswXTtpZihkKXtpZihkLmNvbGxhcHNlZCliPWQuc3RhcnRDb250YWluZXIsYi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiPWIuZ2V0UGFyZW50KCkpO2Vsc2V7Zm9yKGQub3B0aW1pemUoKTtiPVxuZC5zdGFydENvbnRhaW5lcixkLnN0YXJ0T2Zmc2V0PT0oYi5nZXRDaGlsZENvdW50P2IuZ2V0Q2hpbGRDb3VudCgpOmIuZ2V0TGVuZ3RoKCkpJiYhYi5pc0Jsb2NrQm91bmRhcnkoKTspZC5zZXRTdGFydEFmdGVyKGIpO2I9ZC5zdGFydENvbnRhaW5lcjtpZihiLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm4gYi5nZXRQYXJlbnQoKTtpZigoYj1iLmdldENoaWxkKGQuc3RhcnRPZmZzZXQpKSYmYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpZm9yKGQ9Yi5nZXRGaXJzdCgpO2QmJmQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UOyliPWQsZD1kLmdldEZpcnN0KCk7ZWxzZSBiPWQuc3RhcnRDb250YWluZXJ9Yj1iLiR9fXJldHVybiBhLnN0YXJ0RWxlbWVudD1iP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChiKTpudWxsfSxnZXRTZWxlY3RlZEVsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2FjaGU7aWYodm9pZCAwIT09YS5zZWxlY3RlZEVsZW1lbnQpcmV0dXJuIGEuc2VsZWN0ZWRFbGVtZW50O1xudmFyIGI9dGhpcyxkPUNLRURJVE9SLnRvb2xzLnRyeVRoZXNlKGZ1bmN0aW9uKCl7cmV0dXJuIGIuZ2V0TmF0aXZlKCkuY3JlYXRlUmFuZ2UoKS5pdGVtKDApfSxmdW5jdGlvbigpe2Zvcih2YXIgYT1iLmdldFJhbmdlcygpWzBdLmNsb25lKCksZCxjLGc9MjtnJiYhKChkPWEuZ2V0RW5jbG9zZWROb2RlKCkpJiZkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmQ1tkLmdldE5hbWUoKV0mJihjPWQpKTtnLS0pYS5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX0VMRU1FTlQpO3JldHVybiBjJiZjLiR9KTtyZXR1cm4gYS5zZWxlY3RlZEVsZW1lbnQ9ZD9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZCk6bnVsbH0sZ2V0U2VsZWN0ZWRUZXh0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmNhY2hlO2lmKHZvaWQgMCE9PWEuc2VsZWN0ZWRUZXh0KXJldHVybiBhLnNlbGVjdGVkVGV4dDt2YXIgYj10aGlzLmdldE5hdGl2ZSgpLGI9dT9cIkNvbnRyb2xcIj09Yi50eXBlP1wiXCI6Yi5jcmVhdGVSYW5nZSgpLnRleHQ6XG5iLnRvU3RyaW5nKCk7cmV0dXJuIGEuc2VsZWN0ZWRUZXh0PWJ9LGxvY2s6ZnVuY3Rpb24oKXt0aGlzLmdldFJhbmdlcygpO3RoaXMuZ2V0U3RhcnRFbGVtZW50KCk7dGhpcy5nZXRTZWxlY3RlZEVsZW1lbnQoKTt0aGlzLmdldFNlbGVjdGVkVGV4dCgpO3RoaXMuXy5jYWNoZS5uYXRpdmVTZWw9bnVsbDt0aGlzLmlzTG9ja2VkPTF9LHVubG9jazpmdW5jdGlvbihhKXtpZih0aGlzLmlzTG9ja2VkKXtpZihhKXZhciBiPXRoaXMuZ2V0U2VsZWN0ZWRFbGVtZW50KCksZD10aGlzLmdldFJhbmdlcygpLGc9dGhpcy5pc0Zha2U7dGhpcy5pc0xvY2tlZD0wO3RoaXMucmVzZXQoKTthJiYoYT1ifHxkWzBdJiZkWzBdLmdldENvbW1vbkFuY2VzdG9yKCkpJiZhLmdldEFzY2VuZGFudChcImJvZHlcIiwxKSYmKChhPXRoaXMucm9vdC5lZGl0b3IpJiZhLnBsdWdpbnMudGFibGVzZWxlY3Rpb24mJmEucGx1Z2lucy50YWJsZXNlbGVjdGlvbi5pc1N1cHBvcnRlZEVudmlyb25tZW50KGEpJiZmKGQpP2MuY2FsbCh0aGlzLFxuZCk6Zz90aGlzLmZha2UoYik6YiYmMj5kLmxlbmd0aD90aGlzLnNlbGVjdEVsZW1lbnQoYik6dGhpcy5zZWxlY3RSYW5nZXMoZCkpfX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl8uY2FjaGU9e307dGhpcy5pc0Zha2U9MDt2YXIgYT10aGlzLnJvb3QuZWRpdG9yO2lmKGEmJmEuXy5mYWtlU2VsZWN0aW9uKWlmKHRoaXMucmV2PT1hLl8uZmFrZVNlbGVjdGlvbi5yZXYpe2RlbGV0ZSBhLl8uZmFrZVNlbGVjdGlvbjt2YXIgYj1hLl8uaGlkZGVuU2VsZWN0aW9uQ29udGFpbmVyO2lmKGIpe3ZhciBkPWEuY2hlY2tEaXJ0eSgpO2EuZmlyZShcImxvY2tTbmFwc2hvdFwiKTtiLnJlbW92ZSgpO2EuZmlyZShcInVubG9ja1NuYXBzaG90XCIpOyFkJiZhLnJlc2V0RGlydHkoKX1kZWxldGUgYS5fLmhpZGRlblNlbGVjdGlvbkNvbnRhaW5lcn1lbHNlIENLRURJVE9SLndhcm4oXCJzZWxlY3Rpb24tZmFrZS1yZXNldFwiKTt0aGlzLnJldj16Kyt9LHNlbGVjdEVsZW1lbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO1xuYi5zZXRTdGFydEJlZm9yZShhKTtiLnNldEVuZEFmdGVyKGEpO3RoaXMuc2VsZWN0UmFuZ2VzKFtiXSl9LHNlbGVjdFJhbmdlczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnJvb3QuZWRpdG9yLGQ9YiYmYi5fLmhpZGRlblNlbGVjdGlvbkNvbnRhaW5lcjt0aGlzLnJlc2V0KCk7aWYoZClmb3IodmFyIGQ9dGhpcy5yb290LGUsaz0wO2s8YS5sZW5ndGg7KytrKWU9YVtrXSxlLmVuZENvbnRhaW5lci5lcXVhbHMoZCkmJihlLmVuZE9mZnNldD1NYXRoLm1pbihlLmVuZE9mZnNldCxkLmdldENoaWxkQ291bnQoKSkpO2lmKGEubGVuZ3RoKWlmKHRoaXMuaXNMb2NrZWQpe3ZhciBsPUNLRURJVE9SLmRvY3VtZW50LmdldEFjdGl2ZSgpO3RoaXMudW5sb2NrKCk7dGhpcy5zZWxlY3RSYW5nZXMoYSk7dGhpcy5sb2NrKCk7bCYmIWwuZXF1YWxzKHRoaXMucm9vdCkmJmwuZm9jdXMoKX1lbHNle3ZhciBtO2E6e3ZhciB3LHY7aWYoMT09YS5sZW5ndGgmJiEodj1hWzBdKS5jb2xsYXBzZWQmJihtPXYuZ2V0RW5jbG9zZWROb2RlKCkpJiZcbm0udHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYodj12LmNsb25lKCksdi5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX0VMRU1FTlQsITApLCh3PXYuZ2V0RW5jbG9zZWROb2RlKCkpJiZ3LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKG09dyksXCJmYWxzZVwiPT1tLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSkpYnJlYWsgYTttPXZvaWQgMH1pZihtKXRoaXMuZmFrZShtKTtlbHNlIGlmKGImJmIucGx1Z2lucy50YWJsZXNlbGVjdGlvbiYmYi5wbHVnaW5zLnRhYmxlc2VsZWN0aW9uLmlzU3VwcG9ydGVkRW52aXJvbm1lbnQoYikmJmYoYSkmJiF5JiYhYVswXS5fZ2V0VGFibGVFbGVtZW50KHt0YWJsZToxfSkuaGFzQXR0cmlidXRlKFwiZGF0YS1ja2UtdGFibGVzZWxlY3Rpb24taWdub3JlZFwiKSljLmNhbGwodGhpcyxhKTtlbHNle2lmKHUpe3c9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcyghMCk7bT0vXFx1ZmVmZnxcXHUwMGEwLzt2PXt0YWJsZToxLHRib2R5OjEsXG50cjoxfTsxPGEubGVuZ3RoJiYoYj1hW2EubGVuZ3RoLTFdLGFbMF0uc2V0RW5kKGIuZW5kQ29udGFpbmVyLGIuZW5kT2Zmc2V0KSk7Yj1hWzBdO2E9Yi5jb2xsYXBzZWQ7dmFyIHEsdCxwO2lmKChkPWIuZ2V0RW5jbG9zZWROb2RlKCkpJiZkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5nZXROYW1lKClpbiBDJiYoIWQuaXMoXCJhXCIpfHwhZC5nZXRUZXh0KCkpKXRyeXtwPWQuJC5jcmVhdGVDb250cm9sUmFuZ2UoKTtwLmFkZEVsZW1lbnQoZC4kKTtwLnNlbGVjdCgpO3JldHVybn1jYXRjaCh6KXt9aWYoYi5zdGFydENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuc3RhcnRDb250YWluZXIuZ2V0TmFtZSgpaW4gdnx8Yi5lbmRDb250YWluZXIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmVuZENvbnRhaW5lci5nZXROYW1lKClpbiB2KWIuc2hyaW5rKENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCksYT1iLmNvbGxhcHNlZDtwPWIuY3JlYXRlQm9va21hcmsoKTtcbnY9cC5zdGFydE5vZGU7YXx8KGw9cC5lbmROb2RlKTtwPWIuZG9jdW1lbnQuJC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpO3AubW92ZVRvRWxlbWVudFRleHQodi4kKTtwLm1vdmVTdGFydChcImNoYXJhY3RlclwiLDEpO2w/KG09Yi5kb2N1bWVudC4kLmJvZHkuY3JlYXRlVGV4dFJhbmdlKCksbS5tb3ZlVG9FbGVtZW50VGV4dChsLiQpLHAuc2V0RW5kUG9pbnQoXCJFbmRUb0VuZFwiLG0pLHAubW92ZUVuZChcImNoYXJhY3RlclwiLC0xKSk6KHE9di5nZXROZXh0KHcpLHQ9di5oYXNBc2NlbmRhbnQoXCJwcmVcIikscT0hKHEmJnEuZ2V0VGV4dCYmcS5nZXRUZXh0KCkubWF0Y2gobSkpJiYodHx8IXYuaGFzUHJldmlvdXMoKXx8di5nZXRQcmV2aW91cygpLmlzJiZ2LmdldFByZXZpb3VzKCkuaXMoXCJiclwiKSksdD1iLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLHQuc2V0SHRtbChcIlxceDI2IzY1Mjc5O1wiKSx0Lmluc2VydEJlZm9yZSh2KSxxJiZiLmRvY3VtZW50LmNyZWF0ZVRleHQoXCLvu79cIikuaW5zZXJ0QmVmb3JlKHYpKTtcbmIuc2V0U3RhcnRCZWZvcmUodik7di5yZW1vdmUoKTthPyhxPyhwLm1vdmVTdGFydChcImNoYXJhY3RlclwiLC0xKSxwLnNlbGVjdCgpLGIuZG9jdW1lbnQuJC5zZWxlY3Rpb24uY2xlYXIoKSk6cC5zZWxlY3QoKSxiLm1vdmVUb1Bvc2l0aW9uKHQsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSx0LnJlbW92ZSgpKTooYi5zZXRFbmRCZWZvcmUobCksbC5yZW1vdmUoKSxwLnNlbGVjdCgpKX1lbHNle2w9dGhpcy5nZXROYXRpdmUoKTtpZighbClyZXR1cm47dGhpcy5yZW1vdmVBbGxSYW5nZXMoKTtmb3IocD0wO3A8YS5sZW5ndGg7cCsrKXtpZihwPGEubGVuZ3RoLTEmJihxPWFbcF0sdD1hW3ArMV0sbT1xLmNsb25lKCksbS5zZXRTdGFydChxLmVuZENvbnRhaW5lcixxLmVuZE9mZnNldCksbS5zZXRFbmQodC5zdGFydENvbnRhaW5lcix0LnN0YXJ0T2Zmc2V0KSwhbS5jb2xsYXBzZWQmJihtLnNocmluayhDS0VESVRPUi5OT0RFX0VMRU1FTlQsITApLGI9bS5nZXRDb21tb25BbmNlc3RvcigpLFxubT1tLmdldEVuY2xvc2VkTm9kZSgpLGIuaXNSZWFkT25seSgpfHxtJiZtLmlzUmVhZE9ubHkoKSkpKXt0LnNldFN0YXJ0KHEuc3RhcnRDb250YWluZXIscS5zdGFydE9mZnNldCk7YS5zcGxpY2UocC0tLDEpO2NvbnRpbnVlfWI9YVtwXTt0PXRoaXMuZG9jdW1lbnQuJC5jcmVhdGVSYW5nZSgpO2IuY29sbGFwc2VkJiZDS0VESVRPUi5lbnYud2Via2l0JiZoKGIpJiYobT1nKHRoaXMucm9vdCksYi5pbnNlcnROb2RlKG0pLChxPW0uZ2V0TmV4dCgpKSYmIW0uZ2V0UHJldmlvdXMoKSYmcS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwiYnJcIj09cS5nZXROYW1lKCk/KG4odGhpcy5yb290KSxiLm1vdmVUb1Bvc2l0aW9uKHEsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSk6Yi5tb3ZlVG9Qb3NpdGlvbihtLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCkpO3Quc2V0U3RhcnQoYi5zdGFydENvbnRhaW5lci4kLGIuc3RhcnRPZmZzZXQpO3RyeXt0LnNldEVuZChiLmVuZENvbnRhaW5lci4kLFxuYi5lbmRPZmZzZXQpfWNhdGNoKHIpe2lmKDA8PXIudG9TdHJpbmcoKS5pbmRleE9mKFwiTlNfRVJST1JfSUxMRUdBTF9WQUxVRVwiKSliLmNvbGxhcHNlKDEpLHQuc2V0RW5kKGIuZW5kQ29udGFpbmVyLiQsYi5lbmRPZmZzZXQpO2Vsc2UgdGhyb3cgcjt9bC5hZGRSYW5nZSh0KX19dGhpcy5yZXNldCgpO3RoaXMucm9vdC5maXJlKFwic2VsZWN0aW9uY2hhbmdlXCIpfX19LGZha2U6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLnJvb3QuZWRpdG9yO3ZvaWQgMD09PWImJmEuaGFzQXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKSYmKGI9YS5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpKTt0aGlzLnJlc2V0KCk7eChkLGIpO3ZhciBjPXRoaXMuXy5jYWNoZSxnPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtnLnNldFN0YXJ0QmVmb3JlKGEpO2cuc2V0RW5kQWZ0ZXIoYSk7Yy5yYW5nZXM9bmV3IENLRURJVE9SLmRvbS5yYW5nZUxpc3QoZyk7Yy5zZWxlY3RlZEVsZW1lbnQ9Yy5zdGFydEVsZW1lbnQ9XG5hO2MudHlwZT1DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVDtjLnNlbGVjdGVkVGV4dD1jLm5hdGl2ZVNlbD1udWxsO3RoaXMuaXNGYWtlPTE7dGhpcy5yZXY9eisrO2QuXy5mYWtlU2VsZWN0aW9uPXRoaXM7dGhpcy5yb290LmZpcmUoXCJzZWxlY3Rpb25jaGFuZ2VcIil9LGlzSGlkZGVuOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDb21tb25BbmNlc3RvcigpO2EmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoYT1hLmdldFBhcmVudCgpKTtyZXR1cm4hKCFhfHwhYS5kYXRhKFwiY2tlLWhpZGRlbi1zZWxcIikpfSxpc0luVGFibGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGYodGhpcy5nZXRSYW5nZXMoKSxhKX0saXNDb2xsYXBzZWQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFJhbmdlcygpO3JldHVybiAxPT09YS5sZW5ndGgmJmFbMF0uY29sbGFwc2VkfSxjcmVhdGVCb29rbWFya3M6ZnVuY3Rpb24oYSl7YT10aGlzLmdldFJhbmdlcygpLmNyZWF0ZUJvb2ttYXJrcyhhKTt0aGlzLmlzRmFrZSYmXG4oYS5pc0Zha2U9MSk7cmV0dXJuIGF9LGNyZWF0ZUJvb2ttYXJrczI6ZnVuY3Rpb24oYSl7YT10aGlzLmdldFJhbmdlcygpLmNyZWF0ZUJvb2ttYXJrczIoYSk7dGhpcy5pc0Zha2UmJihhLmlzRmFrZT0xKTtyZXR1cm4gYX0sc2VsZWN0Qm9va21hcmtzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxkLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGc9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO2cubW92ZVRvQm9va21hcmsoYVtjXSk7Yi5wdXNoKGcpfWEuaXNGYWtlJiYoZD1mKGIpP2JbMF0uX2dldFRhYmxlRWxlbWVudCgpOmJbMF0uZ2V0RW5jbG9zZWROb2RlKCksZCYmZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fChDS0VESVRPUi53YXJuKFwic2VsZWN0aW9uLW5vdC1mYWtlXCIpLGEuaXNGYWtlPTApKTthLmlzRmFrZSYmIWYoYik/dGhpcy5mYWtlKGQpOnRoaXMuc2VsZWN0UmFuZ2VzKGIpO3JldHVybiB0aGlzfSxnZXRDb21tb25BbmNlc3RvcjpmdW5jdGlvbigpe3ZhciBhPVxudGhpcy5nZXRSYW5nZXMoKTtyZXR1cm4gYS5sZW5ndGg/YVswXS5zdGFydENvbnRhaW5lci5nZXRDb21tb25BbmNlc3RvcihhW2EubGVuZ3RoLTFdLmVuZENvbnRhaW5lcik6bnVsbH0sc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oKXt0aGlzLmdldFR5cGUoKSE9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkUmJnRoaXMuZ2V0UmFuZ2VzKClbMF0uc2Nyb2xsSW50b1ZpZXcoKX0scmVtb3ZlQWxsUmFuZ2VzOmZ1bmN0aW9uKCl7aWYodGhpcy5nZXRUeXBlKCkhPUNLRURJVE9SLlNFTEVDVElPTl9OT05FKXt2YXIgYT10aGlzLmdldE5hdGl2ZSgpO3RyeXthJiZhW3U/XCJlbXB0eVwiOlwicmVtb3ZlQWxsUmFuZ2VzXCJdKCl9Y2F0Y2goYil7fXRoaXMucmVzZXQoKX19fX0oKSxcInVzZSBzdHJpY3RcIixDS0VESVRPUi5TVFlMRV9CTE9DSz0xLENLRURJVE9SLlNUWUxFX0lOTElORT0yLENLRURJVE9SLlNUWUxFX09CSkVDVD0zLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe2Zvcih2YXIgZCxjOyhhPWEuZ2V0UGFyZW50KCkpJiZcbiFhLmVxdWFscyhiKTspaWYoYS5nZXRBdHRyaWJ1dGUoXCJkYXRhLW5vc3R5bGVcIikpZD1hO2Vsc2UgaWYoIWMpe3ZhciBnPWEuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpO1wiZmFsc2VcIj09Zz9kPWE6XCJ0cnVlXCI9PWcmJihjPTEpfXJldHVybiBkfWZ1bmN0aW9uIGYoYSxiLGQsYyl7cmV0dXJuKGEuZ2V0UG9zaXRpb24oYil8Yyk9PWMmJighZC5jaGlsZFJ1bGV8fGQuY2hpbGRSdWxlKGEpKX1mdW5jdGlvbiBlKGIpe3ZhciBkPWIuZG9jdW1lbnQ7aWYoYi5jb2xsYXBzZWQpZD16KHRoaXMsZCksYi5pbnNlcnROb2RlKGQpLGIubW92ZVRvUG9zaXRpb24oZCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtlbHNle3ZhciBnPXRoaXMuZWxlbWVudCxoPXRoaXMuXy5kZWZpbml0aW9uLGssbD1oLmlnbm9yZVJlYWRvbmx5LG49bHx8aC5pbmNsdWRlUmVhZG9ubHk7bnVsbD09biYmKG49Yi5yb290LmdldEN1c3RvbURhdGEoXCJja2VfaW5jbHVkZVJlYWRvbmx5XCIpKTt2YXIgbT1cbkNLRURJVE9SLmR0ZFtnXTttfHwoaz0hMCxtPUNLRURJVE9SLmR0ZC5zcGFuKTtiLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9JTkxJTkUsMSk7Yi50cmltKCk7dmFyIHc9Yi5jcmVhdGVCb29rbWFyaygpLHY9dy5zdGFydE5vZGUscT13LmVuZE5vZGUsdD12LHA7aWYoIWwpe3ZhciB1PWIuZ2V0Q29tbW9uQW5jZXN0b3IoKSxsPWEodix1KSx1PWEocSx1KTtsJiYodD1sLmdldE5leHRTb3VyY2VOb2RlKCEwKSk7dSYmKHE9dSl9Zm9yKHQuZ2V0UG9zaXRpb24ocSk9PUNLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lORyYmKHQ9MCk7dDspe2w9ITE7aWYodC5lcXVhbHMocSkpdD1udWxsLGw9ITA7ZWxzZXt2YXIgeT10LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD90LmdldE5hbWUoKTpudWxsLHU9eSYmXCJmYWxzZVwiPT10LmdldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKSxBPXkmJi0xIT09Q0tFRElUT1IudG9vbHMuYXJyYXkuaW5kZXhPZihDS0VESVRPUi5zdHlsZS51bnN0eWxhYmxlRWxlbWVudHMsXG55KSxBPXkmJih0LmdldEF0dHJpYnV0ZShcImRhdGEtbm9zdHlsZVwiKXx8QSk7aWYoeSYmdC5kYXRhKFwiY2tlLWJvb2ttYXJrXCIpfHx0LnR5cGU9PT1DS0VESVRPUi5OT0RFX0NPTU1FTlQpe3Q9dC5nZXROZXh0U291cmNlTm9kZSghMCk7Y29udGludWV9aWYodSYmbiYmQ0tFRElUT1IuZHRkLiRibG9ja1t5XSlmb3IodmFyIHg9dCxCPWMoeCksQz12b2lkIDAsRD1CLmxlbmd0aCxJPTAseD1EJiZuZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHguZ2V0RG9jdW1lbnQoKSk7STxEOysrSSl7dmFyIEM9QltJXSxmYT1DS0VESVRPUi5maWx0ZXIuaW5zdGFuY2VzW0MuZGF0YShcImNrZS1maWx0ZXJcIildO2lmKGZhP2ZhLmNoZWNrKHRoaXMpOjEpeC5zZWxlY3ROb2RlQ29udGVudHMoQyksZS5jYWxsKHRoaXMseCl9Qj15PyFtW3ldfHxBPzA6dSYmIW4/MDpmKHQscSxoLE0pOjE7aWYoQilpZihDPXQuZ2V0UGFyZW50KCksQj1oLEQ9ZyxJPWssIUN8fCEoQy5nZXREdGQoKXx8Q0tFRElUT1IuZHRkLnNwYW4pW0RdJiZcbiFJfHxCLnBhcmVudFJ1bGUmJiFCLnBhcmVudFJ1bGUoQykpbD0hMDtlbHNle2lmKHB8fHkmJkNLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbeV0mJih0LmdldFBvc2l0aW9uKHEpfE0pIT1NfHwocD1iLmNsb25lKCkscC5zZXRTdGFydEJlZm9yZSh0KSkseT10LnR5cGUseT09Q0tFRElUT1IuTk9ERV9URVhUfHx1fHx5PT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiF0LmdldENoaWxkQ291bnQoKSl7Zm9yKHZhciB5PXQsUjsobD0heS5nZXROZXh0KEspKSYmKFI9eS5nZXRQYXJlbnQoKSxtW1IuZ2V0TmFtZSgpXSkmJmYoUix2LGgsSCk7KXk9UjtwLnNldEVuZEFmdGVyKHkpfX1lbHNlIGw9ITA7dD10LmdldE5leHRTb3VyY2VOb2RlKEF8fHUpfWlmKGwmJnAmJiFwLmNvbGxhcHNlZCl7Zm9yKHZhciBsPXoodGhpcyxkKSx1PWwuaGFzQXR0cmlidXRlcygpLEE9cC5nZXRDb21tb25BbmNlc3RvcigpLHk9e30sQj17fSxDPXt9LEQ9e30sYmEsVyxkYTtsJiZBOyl7aWYoQS5nZXROYW1lKCk9PVxuZyl7Zm9yKGJhIGluIGguYXR0cmlidXRlcykhRFtiYV0mJihkYT1BLmdldEF0dHJpYnV0ZShXKSkmJihsLmdldEF0dHJpYnV0ZShiYSk9PWRhP0JbYmFdPTE6RFtiYV09MSk7Zm9yKFcgaW4gaC5zdHlsZXMpIUNbV10mJihkYT1BLmdldFN0eWxlKFcpKSYmKGwuZ2V0U3R5bGUoVyk9PWRhP3lbV109MTpDW1ddPTEpfUE9QS5nZXRQYXJlbnQoKX1mb3IoYmEgaW4gQilsLnJlbW92ZUF0dHJpYnV0ZShiYSk7Zm9yKFcgaW4geSlsLnJlbW92ZVN0eWxlKFcpO3UmJiFsLmhhc0F0dHJpYnV0ZXMoKSYmKGw9bnVsbCk7bD8ocC5leHRyYWN0Q29udGVudHMoKS5hcHBlbmRUbyhsKSxwLmluc2VydE5vZGUobCksci5jYWxsKHRoaXMsbCksbC5tZXJnZVNpYmxpbmdzKCksQ0tFRElUT1IuZW52LmllfHxsLiQubm9ybWFsaXplKCkpOihsPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcInNwYW5cIikscC5leHRyYWN0Q29udGVudHMoKS5hcHBlbmRUbyhsKSxwLmluc2VydE5vZGUobCksci5jYWxsKHRoaXMsXG5sKSxsLnJlbW92ZSghMCkpO3A9bnVsbH19Yi5tb3ZlVG9Cb29rbWFyayh3KTtiLnNocmluayhDS0VESVRPUi5TSFJJTktfVEVYVCk7Yi5zaHJpbmsoQ0tFRElUT1IuTk9ERV9FTEVNRU5ULCEwKX19ZnVuY3Rpb24gYihhKXtmdW5jdGlvbiBiKCl7Zm9yKHZhciBhPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYy5nZXRQYXJlbnQoKSksZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKG4uZ2V0UGFyZW50KCkpLGc9bnVsbCxlPW51bGwsaD0wO2g8YS5lbGVtZW50cy5sZW5ndGg7aCsrKXt2YXIgZj1hLmVsZW1lbnRzW2hdO2lmKGY9PWEuYmxvY2t8fGY9PWEuYmxvY2tMaW1pdClicmVhazttLmNoZWNrRWxlbWVudFJlbW92YWJsZShmLCEwKSYmKGc9Zil9Zm9yKGg9MDtoPGQuZWxlbWVudHMubGVuZ3RoO2grKyl7Zj1kLmVsZW1lbnRzW2hdO2lmKGY9PWQuYmxvY2t8fGY9PWQuYmxvY2tMaW1pdClicmVhazttLmNoZWNrRWxlbWVudFJlbW92YWJsZShmLCEwKSYmKGU9Zil9ZSYmXG5uLmJyZWFrUGFyZW50KGUpO2cmJmMuYnJlYWtQYXJlbnQoZyl9YS5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfSU5MSU5FLDEpO3ZhciBkPWEuY3JlYXRlQm9va21hcmsoKSxjPWQuc3RhcnROb2RlLGc9dGhpcy5fLmRlZmluaXRpb24uYWx3YXlzUmVtb3ZlRWxlbWVudDtpZihhLmNvbGxhcHNlZCl7Zm9yKHZhciBlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYy5nZXRQYXJlbnQoKSxhLnJvb3QpLGgsZj0wLGs7ZjxlLmVsZW1lbnRzLmxlbmd0aCYmKGs9ZS5lbGVtZW50c1tmXSkmJmshPWUuYmxvY2smJmshPWUuYmxvY2tMaW1pdDtmKyspaWYodGhpcy5jaGVja0VsZW1lbnRSZW1vdmFibGUoaykpe3ZhciBsOyFnJiZhLmNvbGxhcHNlZCYmKGEuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChrLENLRURJVE9SLkVORCl8fChsPWEuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChrLENLRURJVE9SLlNUQVJUKSkpPyhoPWssaC5tYXRjaD1sP1wic3RhcnRcIjpcImVuZFwiKTooay5tZXJnZVNpYmxpbmdzKCksXG5rLmlzKHRoaXMuZWxlbWVudCk/eC5jYWxsKHRoaXMsayk6cChrLHkodGhpcylbay5nZXROYW1lKCldKSl9aWYoaCl7Zz1jO2ZvcihmPTA7O2YrKyl7az1lLmVsZW1lbnRzW2ZdO2lmKGsuZXF1YWxzKGgpKWJyZWFrO2Vsc2UgaWYoay5tYXRjaCljb250aW51ZTtlbHNlIGs9ay5jbG9uZSgpO2suYXBwZW5kKGcpO2c9a31nW1wic3RhcnRcIj09aC5tYXRjaD9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0oaCl9fWVsc2V7dmFyIG49ZC5lbmROb2RlLG09dGhpcztiKCk7Zm9yKGU9YzshZS5lcXVhbHMobik7KWg9ZS5nZXROZXh0U291cmNlTm9kZSgpLGUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZ0aGlzLmNoZWNrRWxlbWVudFJlbW92YWJsZShlKSYmKGUuZ2V0TmFtZSgpPT10aGlzLmVsZW1lbnQ/eC5jYWxsKHRoaXMsZSk6cChlLHkodGhpcylbZS5nZXROYW1lKCldKSxoLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmaC5jb250YWlucyhjKSYmKGIoKSxoPWMuZ2V0TmV4dCgpKSksXG5lPWh9YS5tb3ZlVG9Cb29rbWFyayhkKTthLnNocmluayhDS0VESVRPUi5OT0RFX0VMRU1FTlQsITApfWZ1bmN0aW9uIGMoYSl7dmFyIGI9W107YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKFwidHJ1ZVwiPT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSlyZXR1cm4gYi5wdXNoKGEpLCExfSxDS0VESVRPUi5OT0RFX0VMRU1FTlQsITApO3JldHVybiBifWZ1bmN0aW9uIGsoYSl7dmFyIGI9YS5nZXRFbmNsb3NlZE5vZGUoKXx8YS5nZXRDb21tb25BbmNlc3RvcighMSwhMCk7KGE9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYixhLnJvb3QpKS5jb250YWlucyh0aGlzLmVsZW1lbnQsMSkpJiYhYS5pc1JlYWRPbmx5KCkmJnEoYSx0aGlzKX1mdW5jdGlvbiBsKGEpe3ZhciBiPWEuZ2V0Q29tbW9uQW5jZXN0b3IoITAsITApO2lmKGE9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYixhLnJvb3QpKS5jb250YWlucyh0aGlzLmVsZW1lbnQsMSkpe3ZhciBiPXRoaXMuXy5kZWZpbml0aW9uLFxuZD1iLmF0dHJpYnV0ZXM7aWYoZClmb3IodmFyIGMgaW4gZClhLnJlbW92ZUF0dHJpYnV0ZShjLGRbY10pO2lmKGIuc3R5bGVzKWZvcih2YXIgZyBpbiBiLnN0eWxlcyliLnN0eWxlcy5oYXNPd25Qcm9wZXJ0eShnKSYmYS5yZW1vdmVTdHlsZShnKX19ZnVuY3Rpb24gbShhKXt2YXIgYj1hLmNyZWF0ZUJvb2ttYXJrKCEwKSxkPWEuY3JlYXRlSXRlcmF0b3IoKTtkLmVuZm9yY2VSZWFsQmxvY2tzPSEwO3RoaXMuXy5lbnRlck1vZGUmJihkLmVubGFyZ2VCcj10aGlzLl8uZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUik7Zm9yKHZhciBjLGc9YS5kb2N1bWVudCxlO2M9ZC5nZXROZXh0UGFyYWdyYXBoKCk7KSFjLmlzUmVhZE9ubHkoKSYmKGQuYWN0aXZlRmlsdGVyP2QuYWN0aXZlRmlsdGVyLmNoZWNrKHRoaXMpOjEpJiYoZT16KHRoaXMsZyxjKSxoKGMsZSkpO2EubW92ZVRvQm9va21hcmsoYil9ZnVuY3Rpb24gZChhKXt2YXIgYj1hLmNyZWF0ZUJvb2ttYXJrKDEpLGQ9YS5jcmVhdGVJdGVyYXRvcigpO1xuZC5lbmZvcmNlUmVhbEJsb2Nrcz0hMDtkLmVubGFyZ2VCcj10aGlzLl8uZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUjtmb3IodmFyIGMsZztjPWQuZ2V0TmV4dFBhcmFncmFwaCgpOyl0aGlzLmNoZWNrRWxlbWVudFJlbW92YWJsZShjKSYmKGMuaXMoXCJwcmVcIik/KChnPXRoaXMuXy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSP251bGw6YS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMuXy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX1A/XCJwXCI6XCJkaXZcIikpJiZjLmNvcHlBdHRyaWJ1dGVzKGcpLGgoYyxnKSk6eC5jYWxsKHRoaXMsYykpO2EubW92ZVRvQm9va21hcmsoYil9ZnVuY3Rpb24gaChhLGIpe3ZhciBkPSFiO2QmJihiPWEuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGEuY29weUF0dHJpYnV0ZXMoYikpO3ZhciBjPWImJmIuaXMoXCJwcmVcIiksZT1hLmlzKFwicHJlXCIpLGg9IWMmJmU7aWYoYyYmIWUpe2U9YjsoaD1hLmdldEJvZ3VzKCkpJiZoLnJlbW92ZSgpO1xuaD1hLmdldEh0bWwoKTtoPW4oaCwvKD86XlsgXFx0XFxuXFxyXSspfCg/OlsgXFx0XFxuXFxyXSskKS9nLFwiXCIpO2g9aC5yZXBsYWNlKC9bIFxcdFxcclxcbl0qKDxicltePl0qPilbIFxcdFxcclxcbl0qL2dpLFwiJDFcIik7aD1oLnJlcGxhY2UoLyhbIFxcdFxcblxccl0rfCZuYnNwOykvZyxcIiBcIik7aD1oLnJlcGxhY2UoLzxiclxcYltePl0qPi9naSxcIlxcblwiKTtpZihDS0VESVRPUi5lbnYuaWUpe3ZhciBmPWEuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2YuYXBwZW5kKGUpO2UuJC5vdXRlckhUTUw9XCJcXHgzY3ByZVxceDNlXCIraCtcIlxceDNjL3ByZVxceDNlXCI7ZS5jb3B5QXR0cmlidXRlcyhmLmdldEZpcnN0KCkpO2U9Zi5nZXRGaXJzdCgpLnJlbW92ZSgpfWVsc2UgZS5zZXRIdG1sKGgpO2I9ZX1lbHNlIGg/Yj13KGQ/W2EuZ2V0SHRtbCgpXTpnKGEpLGIpOmEubW92ZUNoaWxkcmVuKGIpO2IucmVwbGFjZShhKTtpZihjKXt2YXIgZD1iLGs7KGs9ZC5nZXRQcmV2aW91cyhHKSkmJmsudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcbmsuaXMoXCJwcmVcIikmJihjPW4oay5nZXRIdG1sKCksL1xcbiQvLFwiXCIpK1wiXFxuXFxuXCIrbihkLmdldEh0bWwoKSwvXlxcbi8sXCJcIiksQ0tFRElUT1IuZW52LmllP2QuJC5vdXRlckhUTUw9XCJcXHgzY3ByZVxceDNlXCIrYytcIlxceDNjL3ByZVxceDNlXCI6ZC5zZXRIdG1sKGMpLGsucmVtb3ZlKCkpfWVsc2UgZCYmdShiKX1mdW5jdGlvbiBnKGEpe3ZhciBiPVtdO24oYS5nZXRPdXRlckh0bWwoKSwvKFxcU1xccyopXFxuKD86XFxzfCg8c3BhbltePl0rZGF0YS1ja2UtYm9va21hcmsuKj9cXC9zcGFuPikpKlxcbig/ISQpL2dpLGZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gYitcIlxceDNjL3ByZVxceDNlXCIrZCtcIlxceDNjcHJlXFx4M2VcIn0pLnJlcGxhY2UoLzxwcmVcXGIuKj8+KFtcXHNcXFNdKj8pPFxcL3ByZT4vZ2ksZnVuY3Rpb24oYSxkKXtiLnB1c2goZCl9KTtyZXR1cm4gYn1mdW5jdGlvbiBuKGEsYixkKXt2YXIgYz1cIlwiLGc9XCJcIjthPWEucmVwbGFjZSgvKF48c3BhbltePl0rZGF0YS1ja2UtYm9va21hcmsuKj9cXC9zcGFuPil8KDxzcGFuW14+XStkYXRhLWNrZS1ib29rbWFyay4qP1xcL3NwYW4+JCkvZ2ksXG5mdW5jdGlvbihhLGIsZCl7YiYmKGM9Yik7ZCYmKGc9ZCk7cmV0dXJuXCJcIn0pO3JldHVybiBjK2EucmVwbGFjZShiLGQpK2d9ZnVuY3Rpb24gdyhhLGIpe3ZhciBkOzE8YS5sZW5ndGgmJihkPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChiLmdldERvY3VtZW50KCkpKTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGc9YVtjXSxnPWcucmVwbGFjZSgvKFxcclxcbnxcXHIpL2csXCJcXG5cIiksZz1uKGcsL15bIFxcdF0qXFxuLyxcIlwiKSxnPW4oZywvXFxuJC8sXCJcIiksZz1uKGcsL15bIFxcdF0rfFsgXFx0XSskL2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gMT09YS5sZW5ndGg/XCJcXHgyNm5ic3A7XCI6Yj9cIiBcIitDS0VESVRPUi50b29scy5yZXBlYXQoXCJcXHgyNm5ic3A7XCIsYS5sZW5ndGgtMSk6Q0tFRElUT1IudG9vbHMucmVwZWF0KFwiXFx4MjZuYnNwO1wiLGEubGVuZ3RoLTEpK1wiIFwifSksZz1nLnJlcGxhY2UoL1xcbi9nLFwiXFx4M2NiclxceDNlXCIpLGc9Zy5yZXBsYWNlKC9bIFxcdF17Mix9L2csZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLnJlcGVhdChcIlxceDI2bmJzcDtcIixcbmEubGVuZ3RoLTEpK1wiIFwifSk7aWYoZCl7dmFyIGU9Yi5jbG9uZSgpO2Uuc2V0SHRtbChnKTtkLmFwcGVuZChlKX1lbHNlIGIuc2V0SHRtbChnKX1yZXR1cm4gZHx8Yn1mdW5jdGlvbiB4KGEsYil7dmFyIGQ9dGhpcy5fLmRlZmluaXRpb24sYz1kLmF0dHJpYnV0ZXMsZD1kLnN0eWxlcyxnPXkodGhpcylbYS5nZXROYW1lKCldLGU9Q0tFRElUT1IudG9vbHMuaXNFbXB0eShjKSYmQ0tFRElUT1IudG9vbHMuaXNFbXB0eShkKSxoO2ZvcihoIGluIGMpaWYoXCJjbGFzc1wiIT1oJiYhdGhpcy5fLmRlZmluaXRpb24uZnVsbE1hdGNofHxhLmdldEF0dHJpYnV0ZShoKT09dChoLGNbaF0pKWImJlwiZGF0YS1cIj09aC5zbGljZSgwLDUpfHwoZT1hLmhhc0F0dHJpYnV0ZShoKSxhLnJlbW92ZUF0dHJpYnV0ZShoKSk7Zm9yKHZhciBmIGluIGQpdGhpcy5fLmRlZmluaXRpb24uZnVsbE1hdGNoJiZhLmdldFN0eWxlKGYpIT10KGYsZFtmXSwhMCl8fChlPWV8fCEhYS5nZXRTdHlsZShmKSxhLnJlbW92ZVN0eWxlKGYpKTtcbnAoYSxnLERbYS5nZXROYW1lKCldKTtlJiYodGhpcy5fLmRlZmluaXRpb24uYWx3YXlzUmVtb3ZlRWxlbWVudD91KGEsMSk6IUNLRURJVE9SLmR0ZC4kYmxvY2tbYS5nZXROYW1lKCldfHx0aGlzLl8uZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUiYmIWEuaGFzQXR0cmlidXRlcygpP3UoYSk6YS5yZW5hbWVOb2RlKHRoaXMuXy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX1A/XCJwXCI6XCJkaXZcIikpfWZ1bmN0aW9uIHIoYSl7Zm9yKHZhciBiPXkodGhpcyksZD1hLmdldEVsZW1lbnRzQnlUYWcodGhpcy5lbGVtZW50KSxjLGc9ZC5jb3VudCgpOzA8PS0tZzspYz1kLmdldEl0ZW0oZyksYy5pc1JlYWRPbmx5KCl8fHguY2FsbCh0aGlzLGMsITApO2Zvcih2YXIgZSBpbiBiKWlmKGUhPXRoaXMuZWxlbWVudClmb3IoZD1hLmdldEVsZW1lbnRzQnlUYWcoZSksZz1kLmNvdW50KCktMTswPD1nO2ctLSljPWQuZ2V0SXRlbShnKSxjLmlzUmVhZE9ubHkoKXx8cChjLGJbZV0pfWZ1bmN0aW9uIHAoYSxcbmIsZCl7aWYoYj1iJiZiLmF0dHJpYnV0ZXMpZm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBnPWJbY11bMF0sZTtpZihlPWEuZ2V0QXR0cmlidXRlKGcpKXt2YXIgaD1iW2NdWzFdOyhudWxsPT09aHx8aC50ZXN0JiZoLnRlc3QoZSl8fFwic3RyaW5nXCI9PXR5cGVvZiBoJiZlPT1oKSYmYS5yZW1vdmVBdHRyaWJ1dGUoZyl9fWR8fHUoYSl9ZnVuY3Rpb24gdShhLGIpe2lmKCFhLmhhc0F0dHJpYnV0ZXMoKXx8YilpZihDS0VESVRPUi5kdGQuJGJsb2NrW2EuZ2V0TmFtZSgpXSl7dmFyIGQ9YS5nZXRQcmV2aW91cyhHKSxjPWEuZ2V0TmV4dChHKTshZHx8ZC50eXBlIT1DS0VESVRPUi5OT0RFX1RFWFQmJmQuaXNCbG9ja0JvdW5kYXJ5KHticjoxfSl8fGEuYXBwZW5kKFwiYnJcIiwxKTshY3x8Yy50eXBlIT1DS0VESVRPUi5OT0RFX1RFWFQmJmMuaXNCbG9ja0JvdW5kYXJ5KHticjoxfSl8fGEuYXBwZW5kKFwiYnJcIik7YS5yZW1vdmUoITApfWVsc2UgZD1hLmdldEZpcnN0KCksYz1hLmdldExhc3QoKSxcbmEucmVtb3ZlKCEwKSxkJiYoZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQubWVyZ2VTaWJsaW5ncygpLGMmJiFkLmVxdWFscyhjKSYmYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmMubWVyZ2VTaWJsaW5ncygpKX1mdW5jdGlvbiB6KGEsYixkKXt2YXIgYztjPWEuZWxlbWVudDtcIipcIj09YyYmKGM9XCJzcGFuXCIpO2M9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGMsYik7ZCYmZC5jb3B5QXR0cmlidXRlcyhjKTtjPXEoYyxhKTtiLmdldEN1c3RvbURhdGEoXCJkb2NfcHJvY2Vzc2luZ19zdHlsZVwiKSYmYy5oYXNBdHRyaWJ1dGUoXCJpZFwiKT9jLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpOmIuc2V0Q3VzdG9tRGF0YShcImRvY19wcm9jZXNzaW5nX3N0eWxlXCIsMSk7cmV0dXJuIGN9ZnVuY3Rpb24gcShhLGIpe3ZhciBkPWIuXy5kZWZpbml0aW9uLGM9ZC5hdHRyaWJ1dGVzLGQ9Q0tFRElUT1Iuc3R5bGUuZ2V0U3R5bGVUZXh0KGQpO2lmKGMpZm9yKHZhciBnIGluIGMpYS5zZXRBdHRyaWJ1dGUoZyxcbmNbZ10pO2QmJmEuc2V0QXR0cmlidXRlKFwic3R5bGVcIixkKTthLmdldERvY3VtZW50KCkucmVtb3ZlQ3VzdG9tRGF0YShcImRvY19wcm9jZXNzaW5nX3N0eWxlXCIpO3JldHVybiBhfWZ1bmN0aW9uIEEoYSxiKXtmb3IodmFyIGQgaW4gYSlhW2RdPWFbZF0ucmVwbGFjZShKLGZ1bmN0aW9uKGEsZCl7cmV0dXJuIGJbZF19KX1mdW5jdGlvbiB5KGEpe2lmKGEuXy5vdmVycmlkZXMpcmV0dXJuIGEuXy5vdmVycmlkZXM7dmFyIGI9YS5fLm92ZXJyaWRlcz17fSxkPWEuXy5kZWZpbml0aW9uLm92ZXJyaWRlcztpZihkKXtDS0VESVRPUi50b29scy5pc0FycmF5KGQpfHwoZD1bZF0pO2Zvcih2YXIgYz0wO2M8ZC5sZW5ndGg7YysrKXt2YXIgZz1kW2NdLGUsaDtcInN0cmluZ1wiPT10eXBlb2YgZz9lPWcudG9Mb3dlckNhc2UoKTooZT1nLmVsZW1lbnQ/Zy5lbGVtZW50LnRvTG93ZXJDYXNlKCk6YS5lbGVtZW50LGg9Zy5hdHRyaWJ1dGVzKTtnPWJbZV18fChiW2VdPXt9KTtpZihoKXt2YXIgZz1nLmF0dHJpYnV0ZXM9XG5nLmF0dHJpYnV0ZXN8fFtdLGY7Zm9yKGYgaW4gaClnLnB1c2goW2YudG9Mb3dlckNhc2UoKSxoW2ZdXSl9fX1yZXR1cm4gYn1mdW5jdGlvbiB0KGEsYixkKXt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJzcGFuXCIpO2NbZD9cInNldFN0eWxlXCI6XCJzZXRBdHRyaWJ1dGVcIl0oYSxiKTtyZXR1cm4gY1tkP1wiZ2V0U3R5bGVcIjpcImdldEF0dHJpYnV0ZVwiXShhKX1mdW5jdGlvbiB2KGEsYil7ZnVuY3Rpb24gZChhLGIpe3JldHVyblwiZm9udC1mYW1pbHlcIj09Yi50b0xvd2VyQ2FzZSgpP2EucmVwbGFjZSgvW1wiJ10vZyxcIlwiKTphfVwic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT1DS0VESVRPUi50b29scy5wYXJzZUNzc1RleHQoYSkpO1wic3RyaW5nXCI9PXR5cGVvZiBiJiYoYj1DS0VESVRPUi50b29scy5wYXJzZUNzc1RleHQoYiwhMCkpO2Zvcih2YXIgYyBpbiBhKWlmKCEoYyBpbiBiKXx8ZChiW2NdLGMpIT1kKGFbY10sYykmJlwiaW5oZXJpdFwiIT1hW2NdJiZcImluaGVyaXRcIiE9YltjXSlyZXR1cm4hMTtcbnJldHVybiEwfWZ1bmN0aW9uIEIoYSxiLGQpe3ZhciBjPWEuZ2V0UmFuZ2VzKCk7Yj1iP3RoaXMucmVtb3ZlRnJvbVJhbmdlOnRoaXMuYXBwbHlUb1JhbmdlO2Zvcih2YXIgZyxlPWMuY3JlYXRlSXRlcmF0b3IoKTtnPWUuZ2V0TmV4dFJhbmdlKCk7KWIuY2FsbCh0aGlzLGcsZCk7YS5zZWxlY3RSYW5nZXMoYyl9dmFyIEQ9e2FkZHJlc3M6MSxkaXY6MSxoMToxLGgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MSxwOjEscHJlOjEsc2VjdGlvbjoxLGhlYWRlcjoxLGZvb3RlcjoxLG5hdjoxLGFydGljbGU6MSxhc2lkZToxLGZpZ3VyZToxLGRpYWxvZzoxLGhncm91cDoxLHRpbWU6MSxtZXRlcjoxLG1lbnU6MSxjb21tYW5kOjEsa2V5Z2VuOjEsb3V0cHV0OjEscHJvZ3Jlc3M6MSxkZXRhaWxzOjEsZGF0YWdyaWQ6MSxkYXRhbGlzdDoxfSxDPXthOjEsYmxvY2txdW90ZToxLGVtYmVkOjEsaHI6MSxpbWc6MSxsaToxLG9iamVjdDoxLG9sOjEsdGFibGU6MSx0ZDoxLHRyOjEsdGg6MSx1bDoxLGRsOjEsXG5kdDoxLGRkOjEsZm9ybToxLGF1ZGlvOjEsdmlkZW86MX0sRj0vXFxzKig/OjtcXHMqfCQpLyxKPS8jXFwoKC4rPylcXCkvZyxLPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoMCwxKSxHPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoMSk7Q0tFRElUT1Iuc3R5bGU9ZnVuY3Rpb24oYSxiKXtpZihcInN0cmluZ1wiPT10eXBlb2YgYS50eXBlKXJldHVybiBuZXcgQ0tFRElUT1Iuc3R5bGUuY3VzdG9tSGFuZGxlcnNbYS50eXBlXShhKTt2YXIgZD1hLmF0dHJpYnV0ZXM7ZCYmZC5zdHlsZSYmKGEuc3R5bGVzPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxhLnN0eWxlcyxDS0VESVRPUi50b29scy5wYXJzZUNzc1RleHQoZC5zdHlsZSkpLGRlbGV0ZSBkLnN0eWxlKTtiJiYoYT1DS0VESVRPUi50b29scy5jbG9uZShhKSxBKGEuYXR0cmlidXRlcyxiKSxBKGEuc3R5bGVzLGIpKTtkPXRoaXMuZWxlbWVudD1hLmVsZW1lbnQ/XCJzdHJpbmdcIj09dHlwZW9mIGEuZWxlbWVudD9hLmVsZW1lbnQudG9Mb3dlckNhc2UoKTpcbmEuZWxlbWVudDpcIipcIjt0aGlzLnR5cGU9YS50eXBlfHwoRFtkXT9DS0VESVRPUi5TVFlMRV9CTE9DSzpDW2RdP0NLRURJVE9SLlNUWUxFX09CSkVDVDpDS0VESVRPUi5TVFlMRV9JTkxJTkUpO1wib2JqZWN0XCI9PXR5cGVvZiB0aGlzLmVsZW1lbnQmJih0aGlzLnR5cGU9Q0tFRElUT1IuU1RZTEVfT0JKRUNUKTt0aGlzLl89e2RlZmluaXRpb246YX19O0NLRURJVE9SLnN0eWxlLnByb3RvdHlwZT17YXBwbHk6ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5kb2N1bWVudClyZXR1cm4gQi5jYWxsKHRoaXMsYS5nZXRTZWxlY3Rpb24oKSk7aWYodGhpcy5jaGVja0FwcGxpY2FibGUoYS5lbGVtZW50UGF0aCgpLGEpKXt2YXIgYj10aGlzLl8uZW50ZXJNb2RlO2J8fCh0aGlzLl8uZW50ZXJNb2RlPWEuYWN0aXZlRW50ZXJNb2RlKTtCLmNhbGwodGhpcyxhLmdldFNlbGVjdGlvbigpLDAsYSk7dGhpcy5fLmVudGVyTW9kZT1ifX0scmVtb3ZlOmZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZlxuQ0tFRElUT1IuZG9tLmRvY3VtZW50KXJldHVybiBCLmNhbGwodGhpcyxhLmdldFNlbGVjdGlvbigpLDEpO2lmKHRoaXMuY2hlY2tBcHBsaWNhYmxlKGEuZWxlbWVudFBhdGgoKSxhKSl7dmFyIGI9dGhpcy5fLmVudGVyTW9kZTtifHwodGhpcy5fLmVudGVyTW9kZT1hLmFjdGl2ZUVudGVyTW9kZSk7Qi5jYWxsKHRoaXMsYS5nZXRTZWxlY3Rpb24oKSwxLGEpO3RoaXMuXy5lbnRlck1vZGU9Yn19LGFwcGx5VG9SYW5nZTpmdW5jdGlvbihhKXt0aGlzLmFwcGx5VG9SYW5nZT10aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX0lOTElORT9lOnRoaXMudHlwZT09Q0tFRElUT1IuU1RZTEVfQkxPQ0s/bTp0aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX09CSkVDVD9rOm51bGw7cmV0dXJuIHRoaXMuYXBwbHlUb1JhbmdlKGEpfSxyZW1vdmVGcm9tUmFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVGcm9tUmFuZ2U9dGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9JTkxJTkU/Yjp0aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX0JMT0NLP1xuZDp0aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX09CSkVDVD9sOm51bGw7cmV0dXJuIHRoaXMucmVtb3ZlRnJvbVJhbmdlKGEpfSxhcHBseVRvT2JqZWN0OmZ1bmN0aW9uKGEpe3EoYSx0aGlzKX0sY2hlY2tBY3RpdmU6ZnVuY3Rpb24oYSxiKXtzd2l0Y2godGhpcy50eXBlKXtjYXNlIENLRURJVE9SLlNUWUxFX0JMT0NLOnJldHVybiB0aGlzLmNoZWNrRWxlbWVudFJlbW92YWJsZShhLmJsb2NrfHxhLmJsb2NrTGltaXQsITAsYik7Y2FzZSBDS0VESVRPUi5TVFlMRV9PQkpFQ1Q6Y2FzZSBDS0VESVRPUi5TVFlMRV9JTkxJTkU6Zm9yKHZhciBkPWEuZWxlbWVudHMsYz0wLGc7YzxkLmxlbmd0aDtjKyspaWYoZz1kW2NdLHRoaXMudHlwZSE9Q0tFRElUT1IuU1RZTEVfSU5MSU5FfHxnIT1hLmJsb2NrJiZnIT1hLmJsb2NrTGltaXQpe2lmKHRoaXMudHlwZT09Q0tFRElUT1IuU1RZTEVfT0JKRUNUKXt2YXIgZT1nLmdldE5hbWUoKTtpZighKFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLmVsZW1lbnQ/XG5lPT10aGlzLmVsZW1lbnQ6ZSBpbiB0aGlzLmVsZW1lbnQpKWNvbnRpbnVlfWlmKHRoaXMuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGcsITAsYikpcmV0dXJuITB9fXJldHVybiExfSxjaGVja0FwcGxpY2FibGU6ZnVuY3Rpb24oYSxiLGQpe2ImJmIgaW5zdGFuY2VvZiBDS0VESVRPUi5maWx0ZXImJihkPWIpO2lmKGQmJiFkLmNoZWNrKHRoaXMpKXJldHVybiExO3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgQ0tFRElUT1IuU1RZTEVfT0JKRUNUOnJldHVybiEhYS5jb250YWlucyh0aGlzLmVsZW1lbnQpO2Nhc2UgQ0tFRElUT1IuU1RZTEVfQkxPQ0s6cmV0dXJuISFhLmJsb2NrTGltaXQuZ2V0RHRkKClbdGhpcy5lbGVtZW50XX1yZXR1cm4hMH0sY2hlY2tFbGVtZW50TWF0Y2g6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLl8uZGVmaW5pdGlvbjtpZighYXx8IWQuaWdub3JlUmVhZG9ubHkmJmEuaXNSZWFkT25seSgpKXJldHVybiExO3ZhciBjPWEuZ2V0TmFtZSgpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLmVsZW1lbnQ/XG5jPT10aGlzLmVsZW1lbnQ6YyBpbiB0aGlzLmVsZW1lbnQpe2lmKCFiJiYhYS5oYXNBdHRyaWJ1dGVzKCkpcmV0dXJuITA7aWYoYz1kLl9BQylkPWM7ZWxzZXt2YXIgYz17fSxnPTAsZT1kLmF0dHJpYnV0ZXM7aWYoZSlmb3IodmFyIGggaW4gZSlnKyssY1toXT1lW2hdO2lmKGg9Q0tFRElUT1Iuc3R5bGUuZ2V0U3R5bGVUZXh0KGQpKWMuc3R5bGV8fGcrKyxjLnN0eWxlPWg7Yy5fbGVuZ3RoPWc7ZD1kLl9BQz1jfWlmKGQuX2xlbmd0aCl7Zm9yKHZhciBmIGluIGQpaWYoXCJfbGVuZ3RoXCIhPWYpaWYoYz1hLmdldEF0dHJpYnV0ZShmKXx8XCJcIixcInN0eWxlXCI9PWY/dihkW2ZdLGMpOmRbZl09PWMpe2lmKCFiKXJldHVybiEwfWVsc2UgaWYoYilyZXR1cm4hMTtpZihiKXJldHVybiEwfWVsc2UgcmV0dXJuITB9cmV0dXJuITF9LGNoZWNrRWxlbWVudFJlbW92YWJsZTpmdW5jdGlvbihhLGIsZCl7aWYodGhpcy5jaGVja0VsZW1lbnRNYXRjaChhLGIsZCkpcmV0dXJuITA7aWYoYj15KHRoaXMpW2EuZ2V0TmFtZSgpXSl7dmFyIGM7XG5pZighKGI9Yi5hdHRyaWJ1dGVzKSlyZXR1cm4hMDtmb3IoZD0wO2Q8Yi5sZW5ndGg7ZCsrKWlmKGM9YltkXVswXSxjPWEuZ2V0QXR0cmlidXRlKGMpKXt2YXIgZz1iW2RdWzFdO2lmKG51bGw9PT1nKXJldHVybiEwO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBnKXtpZihjPT1nKXJldHVybiEwfWVsc2UgaWYoZy50ZXN0KGMpKXJldHVybiEwfX1yZXR1cm4hMX0sYnVpbGRQcmV2aWV3OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuXy5kZWZpbml0aW9uLGQ9W10sYz1iLmVsZW1lbnQ7XCJiZG9cIj09YyYmKGM9XCJzcGFuXCIpO3ZhciBkPVtcIlxceDNjXCIsY10sZz1iLmF0dHJpYnV0ZXM7aWYoZylmb3IodmFyIGUgaW4gZylkLnB1c2goXCIgXCIsZSwnXFx4M2RcIicsZ1tlXSwnXCInKTsoZz1DS0VESVRPUi5zdHlsZS5nZXRTdHlsZVRleHQoYikpJiZkLnB1c2goJyBzdHlsZVxceDNkXCInLGcsJ1wiJyk7ZC5wdXNoKFwiXFx4M2VcIixhfHxiLm5hbWUsXCJcXHgzYy9cIixjLFwiXFx4M2VcIik7cmV0dXJuIGQuam9pbihcIlwiKX0sZ2V0RGVmaW5pdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZGVmaW5pdGlvbn19O1xuQ0tFRElUT1Iuc3R5bGUuZ2V0U3R5bGVUZXh0PWZ1bmN0aW9uKGEpe3ZhciBiPWEuX1NUO2lmKGIpcmV0dXJuIGI7dmFyIGI9YS5zdHlsZXMsZD1hLmF0dHJpYnV0ZXMmJmEuYXR0cmlidXRlcy5zdHlsZXx8XCJcIixjPVwiXCI7ZC5sZW5ndGgmJihkPWQucmVwbGFjZShGLFwiO1wiKSk7Zm9yKHZhciBnIGluIGIpe3ZhciBlPWJbZ10saD0oZytcIjpcIitlKS5yZXBsYWNlKEYsXCI7XCIpO1wiaW5oZXJpdFwiPT1lP2MrPWg6ZCs9aH1kLmxlbmd0aCYmKGQ9Q0tFRElUT1IudG9vbHMubm9ybWFsaXplQ3NzVGV4dChkLCEwKSk7cmV0dXJuIGEuX1NUPWQrY307Q0tFRElUT1Iuc3R5bGUuY3VzdG9tSGFuZGxlcnM9e307Q0tFRElUT1Iuc3R5bGUudW5zdHlsYWJsZUVsZW1lbnRzPVtdO0NLRURJVE9SLnN0eWxlLmFkZEN1c3RvbUhhbmRsZXI9ZnVuY3Rpb24oYSl7dmFyIGI9ZnVuY3Rpb24oYSl7dGhpcy5fPXtkZWZpbml0aW9uOmF9O3RoaXMuc2V0dXAmJnRoaXMuc2V0dXAoYSl9O2IucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi50b29scy5wcm90b3R5cGVkQ29weShDS0VESVRPUi5zdHlsZS5wcm90b3R5cGUpLFxue2Fzc2lnbmVkVG86Q0tFRElUT1IuU1RZTEVfT0JKRUNUfSxhLCEwKTtyZXR1cm4gdGhpcy5jdXN0b21IYW5kbGVyc1thLnR5cGVdPWJ9O3ZhciBNPUNLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElOR3xDS0VESVRPUi5QT1NJVElPTl9JREVOVElDQUx8Q0tFRElUT1IuUE9TSVRJT05fSVNfQ09OVEFJTkVELEg9Q0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HfENLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTHxDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUR9KCksQ0tFRElUT1Iuc3R5bGVDb21tYW5kPWZ1bmN0aW9uKGEsZil7dGhpcy5yZXF1aXJlZENvbnRlbnQ9dGhpcy5hbGxvd2VkQ29udGVudD10aGlzLnN0eWxlPWE7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsZiwhMCl9LENLRURJVE9SLnN0eWxlQ29tbWFuZC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbihhKXthLmZvY3VzKCk7dGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGP2EuYXBwbHlTdHlsZSh0aGlzLnN0eWxlKTpcbnRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09OJiZhLnJlbW92ZVN0eWxlKHRoaXMuc3R5bGUpfSxDS0VESVRPUi5zdHlsZXNTZXQ9bmV3IENLRURJVE9SLnJlc291cmNlTWFuYWdlcihcIlwiLFwic3R5bGVzU2V0XCIpLENLRURJVE9SLmFkZFN0eWxlc1NldD1DS0VESVRPUi50b29scy5iaW5kKENLRURJVE9SLnN0eWxlc1NldC5hZGQsQ0tFRElUT1Iuc3R5bGVzU2V0KSxDS0VESVRPUi5sb2FkU3R5bGVzU2V0PWZ1bmN0aW9uKGEsZixlKXtDS0VESVRPUi5zdHlsZXNTZXQuYWRkRXh0ZXJuYWwoYSxmLFwiXCIpO0NLRURJVE9SLnN0eWxlc1NldC5sb2FkKGEsZSl9LENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLHthdHRhY2hTdHlsZVN0YXRlQ2hhbmdlOmZ1bmN0aW9uKGEsZil7dmFyIGU9dGhpcy5fLnN0eWxlU3RhdGVDaGFuZ2VDYWxsYmFja3M7ZXx8KGU9dGhpcy5fLnN0eWxlU3RhdGVDaGFuZ2VDYWxsYmFja3M9W10sdGhpcy5vbihcInNlbGVjdGlvbkNoYW5nZVwiLFxuZnVuY3Rpb24oYSl7Zm9yKHZhciBjPTA7YzxlLmxlbmd0aDtjKyspe3ZhciBmPWVbY10sbD1mLnN0eWxlLmNoZWNrQWN0aXZlKGEuZGF0YS5wYXRoLHRoaXMpP0NLRURJVE9SLlRSSVNUQVRFX09OOkNLRURJVE9SLlRSSVNUQVRFX09GRjtmLmZuLmNhbGwodGhpcyxsKX19KSk7ZS5wdXNoKHtzdHlsZTphLGZuOmZ9KX0sYXBwbHlTdHlsZTpmdW5jdGlvbihhKXthLmFwcGx5KHRoaXMpfSxyZW1vdmVTdHlsZTpmdW5jdGlvbihhKXthLnJlbW92ZSh0aGlzKX0sZ2V0U3R5bGVzU2V0OmZ1bmN0aW9uKGEpe2lmKHRoaXMuXy5zdHlsZXNEZWZpbml0aW9ucylhKHRoaXMuXy5zdHlsZXNEZWZpbml0aW9ucyk7ZWxzZXt2YXIgZj10aGlzLGU9Zi5jb25maWcuc3R5bGVzQ29tYm9fc3R5bGVzU2V0fHxmLmNvbmZpZy5zdHlsZXNTZXQ7aWYoITE9PT1lKWEobnVsbCk7ZWxzZSBpZihlIGluc3RhbmNlb2YgQXJyYXkpZi5fLnN0eWxlc0RlZmluaXRpb25zPWUsYShlKTtlbHNle2V8fChlPVwiZGVmYXVsdFwiKTtcbnZhciBlPWUuc3BsaXQoXCI6XCIpLGI9ZVswXTtDS0VESVRPUi5zdHlsZXNTZXQuYWRkRXh0ZXJuYWwoYixlWzFdP2Uuc2xpY2UoMSkuam9pbihcIjpcIik6Q0tFRElUT1IuZ2V0VXJsKFwic3R5bGVzLmpzXCIpLFwiXCIpO0NLRURJVE9SLnN0eWxlc1NldC5sb2FkKGIsZnVuY3Rpb24oYyl7Zi5fLnN0eWxlc0RlZmluaXRpb25zPWNbYl07YShmLl8uc3R5bGVzRGVmaW5pdGlvbnMpfSl9fX19KSxmdW5jdGlvbigpe2lmKHdpbmRvdy5Qcm9taXNlKUNLRURJVE9SLnRvb2xzLnByb21pc2U9UHJvbWlzZTtlbHNle3ZhciBhPUNLRURJVE9SLmdldFVybChcInZlbmRvci9wcm9taXNlLmpzXCIpO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiB3aW5kb3cuZGVmaW5lJiZ3aW5kb3cuZGVmaW5lLmFtZCYmXCJmdW5jdGlvblwiPT09dHlwZW9mIHdpbmRvdy5yZXF1aXJlKXJldHVybiB3aW5kb3cucmVxdWlyZShbYV0sZnVuY3Rpb24oYSl7Q0tFRElUT1IudG9vbHMucHJvbWlzZT1hfSk7Q0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoYSxcbmZ1bmN0aW9uKGYpe2lmKCFmKXJldHVybiBDS0VESVRPUi5lcnJvcihcIm5vLXZlbmRvci1saWJcIix7cGF0aDphfSk7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3cuRVM2UHJvbWlzZSlyZXR1cm4gQ0tFRElUT1IudG9vbHMucHJvbWlzZT1FUzZQcm9taXNlfSl9fSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGMsayl7YS5vbmNlKFwic2VsZWN0aW9uQ2hlY2tcIixmdW5jdGlvbihhKXtpZighZil7dmFyIGI9YS5kYXRhLmdldFJhbmdlcygpWzBdO2suZXF1YWxzKGIpP2EuY2FuY2VsKCk6Yy5lcXVhbHMoYikmJihlPSEwKX19LG51bGwsbnVsbCwtMSl9dmFyIGY9ITAsZT0hMTtDS0VESVRPUi5kb20uc2VsZWN0aW9uLnNldHVwRWRpdG9yT3B0aW1pemF0aW9uPWZ1bmN0aW9uKGEpe2Eub24oXCJzZWxlY3Rpb25DaGVja1wiLGZ1bmN0aW9uKGEpe2EuZGF0YSYmIWUmJmEuZGF0YS5vcHRpbWl6ZUluRWxlbWVudEVuZHMoKTtlPSExfSk7YS5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe3ZhciBjPVxuYS5lZGl0YWJsZSgpO2MmJihjLmF0dGFjaExpc3RlbmVyKGMsXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7dGhpcy5fLnNoaWZ0UHJlc3NlZD1hLmRhdGEuJC5zaGlmdEtleX0sdGhpcyksYy5hdHRhY2hMaXN0ZW5lcihjLFwia2V5dXBcIixmdW5jdGlvbihhKXt0aGlzLl8uc2hpZnRQcmVzc2VkPWEuZGF0YS4kLnNoaWZ0S2V5fSx0aGlzKSl9KX07Q0tFRElUT1IuZG9tLnNlbGVjdGlvbi5wcm90b3R5cGUub3B0aW1pemVJbkVsZW1lbnRFbmRzPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5nZXRSYW5nZXMoKVswXSxjPXRoaXMucm9vdC5lZGl0b3IsZTtpZih0aGlzLnJvb3QuZWRpdG9yLl8uc2hpZnRQcmVzc2VkfHx0aGlzLmlzRmFrZXx8Yi5pc0NvbGxhcHNlZHx8Yi5zdGFydENvbnRhaW5lci5lcXVhbHMoYi5lbmRDb250YWluZXIpfHwoYi5lbmRDb250YWluZXIuaXM/Yi5lbmRDb250YWluZXIuaXMoXCJsaVwiKTpiLmVuZENvbnRhaW5lci5nZXRQYXJlbnQoKS5pcyYmYi5lbmRDb250YWluZXIuZ2V0UGFyZW50KCkuaXMoXCJsaVwiKSkpZT1cbiExO2Vsc2UgaWYoMD09PWIuZW5kT2Zmc2V0KWU9ITA7ZWxzZXtlPWIuc3RhcnRDb250YWluZXIudHlwZT09PUNLRURJVE9SLk5PREVfVEVYVDt2YXIgbD1iLmVuZENvbnRhaW5lci50eXBlPT09Q0tFRElUT1IuTk9ERV9URVhULG09ZT9iLnN0YXJ0Q29udGFpbmVyLmdldExlbmd0aCgpOmIuc3RhcnRDb250YWluZXIuZ2V0Q2hpbGRDb3VudCgpO2U9Yi5zdGFydE9mZnNldD09PW18fGVebH1lJiYoZT1iLmNsb25lKCksYi5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX1RFWFQsITEse3NraXBCb2d1czohQ0tFRElUT1IuZW52LndlYmtpdH0pLGY9ITEsYShjLGIsZSksYi5zZWxlY3QoKSxmPSEwKX19KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7aWYoZShhKSlhPU1hdGgucm91bmQoYioocGFyc2VGbG9hdChhKS8xMDApKTtlbHNlIGlmKFwic3RyaW5nXCI9PT10eXBlb2YgYSYmYS5tYXRjaCgvXlxcZCskL2dtKXx8XCJzdHJpbmdcIj09PXR5cGVvZiBhJiZhLm1hdGNoKC9eXFxkKyg/OmRlZyk/JC9nbSkpYT1cbnBhcnNlSW50KGEsMTApO3JldHVybiBhfWZ1bmN0aW9uIGYoYSxiKXtlKGEpP2E9YioocGFyc2VGbG9hdChhKS8xMDApOlwic3RyaW5nXCI9PT10eXBlb2YgYSYmYS5tYXRjaCgvXlxcZD9cXC5cXGQrL2dtKSYmKGE9cGFyc2VGbG9hdChhKSk7cmV0dXJuIGF9ZnVuY3Rpb24gZShhKXtyZXR1cm5cInN0cmluZ1wiPT09dHlwZW9mIGEmJmEubWF0Y2goL14oKFxcZCpcXC5cXGQrKXwoXFxkKykpJXsxfSQvZ20pfWZ1bmN0aW9uIGIoYSxiLGMpe3JldHVybiFpc05hTihhKSYmYT49YiYmYTw9Y31mdW5jdGlvbiBjKGEpe2E9YS50b1N0cmluZygxNik7cmV0dXJuIDE9PWEubGVuZ3RoP1wiMFwiK2E6YX1DS0VESVRPUi50b29scy5jb2xvcj1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihhLGIpe3RoaXMuXy5pbml0aWFsQ29sb3JDb2RlPWE7dGhpcy5fLmRlZmF1bHRWYWx1ZT1iO3RoaXMuXy5wYXJzZUlucHV0KGEpfSxwcm90bzp7Z2V0SGV4OmZ1bmN0aW9uKCl7aWYoIXRoaXMuXy5pc1ZhbGlkQ29sb3IpcmV0dXJuIHRoaXMuXy5kZWZhdWx0VmFsdWU7XG52YXIgYT10aGlzLl8uYmxlbmRBbHBoYUNvbG9yKHRoaXMuXy5yZWQsdGhpcy5fLmdyZWVuLHRoaXMuXy5ibHVlLHRoaXMuXy5hbHBoYSk7cmV0dXJuIHRoaXMuXy5mb3JtYXRIZXhTdHJpbmcoYVswXSxhWzFdLGFbMl0pfSxnZXRIZXhXaXRoQWxwaGE6ZnVuY3Rpb24oKXtpZighdGhpcy5fLmlzVmFsaWRDb2xvcilyZXR1cm4gdGhpcy5fLmRlZmF1bHRWYWx1ZTt2YXIgYT1NYXRoLnJvdW5kKHRoaXMuXy5hbHBoYSpDS0VESVRPUi50b29scy5jb2xvci5NQVhfUkdCX0NIQU5ORUxfVkFMVUUpO3JldHVybiB0aGlzLl8uZm9ybWF0SGV4U3RyaW5nKHRoaXMuXy5yZWQsdGhpcy5fLmdyZWVuLHRoaXMuXy5ibHVlLGEpfSxnZXRSZ2I6ZnVuY3Rpb24oKXtpZighdGhpcy5fLmlzVmFsaWRDb2xvcilyZXR1cm4gdGhpcy5fLmRlZmF1bHRWYWx1ZTt2YXIgYT10aGlzLl8uYmxlbmRBbHBoYUNvbG9yKHRoaXMuXy5yZWQsdGhpcy5fLmdyZWVuLHRoaXMuXy5ibHVlLHRoaXMuXy5hbHBoYSk7cmV0dXJuIHRoaXMuXy5mb3JtYXRSZ2JTdHJpbmcoXCJyZ2JcIixcbmFbMF0sYVsxXSxhWzJdKX0sZ2V0UmdiYTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uaXNWYWxpZENvbG9yP3RoaXMuXy5mb3JtYXRSZ2JTdHJpbmcoXCJyZ2JhXCIsdGhpcy5fLnJlZCx0aGlzLl8uZ3JlZW4sdGhpcy5fLmJsdWUsdGhpcy5fLmFscGhhKTp0aGlzLl8uZGVmYXVsdFZhbHVlfSxnZXRIc2w6ZnVuY3Rpb24oKXt2YXIgYT0wPT09dGhpcy5fLmFscGhhfHwxPT09dGhpcy5fLmFscGhhO2lmKCF0aGlzLl8uaXNWYWxpZENvbG9yKXJldHVybiB0aGlzLl8uZGVmYXVsdFZhbHVlO3RoaXMuXy50eXBlPT09Q0tFRElUT1IudG9vbHMuY29sb3IuVFlQRV9IU0wmJmE/YT1bdGhpcy5fLmh1ZSx0aGlzLl8uc2F0dXJhdGlvbix0aGlzLl8ubGlnaHRuZXNzXTooYT10aGlzLl8uYmxlbmRBbHBoYUNvbG9yKHRoaXMuXy5yZWQsdGhpcy5fLmdyZWVuLHRoaXMuXy5ibHVlLHRoaXMuXy5hbHBoYSksYT10aGlzLl8ucmdiVG9Ic2woYVswXSxhWzFdLGFbMl0pKTtyZXR1cm4gdGhpcy5fLmZvcm1hdEhzbFN0cmluZyhcImhzbFwiLFxuYVswXSxhWzFdLGFbMl0pfSxnZXRIc2xhOmZ1bmN0aW9uKCl7dmFyIGE7aWYoIXRoaXMuXy5pc1ZhbGlkQ29sb3IpcmV0dXJuIHRoaXMuXy5kZWZhdWx0VmFsdWU7YT10aGlzLl8udHlwZT09PUNLRURJVE9SLnRvb2xzLmNvbG9yLlRZUEVfSFNMP1t0aGlzLl8uaHVlLHRoaXMuXy5zYXR1cmF0aW9uLHRoaXMuXy5saWdodG5lc3NdOnRoaXMuXy5yZ2JUb0hzbCh0aGlzLl8ucmVkLHRoaXMuXy5ncmVlbix0aGlzLl8uYmx1ZSk7cmV0dXJuIHRoaXMuXy5mb3JtYXRIc2xTdHJpbmcoXCJoc2xhXCIsYVswXSxhWzFdLGFbMl0sdGhpcy5fLmFscGhhKX0sZ2V0SW5pdGlhbFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5pbml0aWFsQ29sb3JDb2RlfX0sXzp7aW5pdGlhbENvbG9yQ29kZTpcIlwiLGlzVmFsaWRDb2xvcjohMCx0eXBlOjAsaHVlOjAsc2F0dXJhdGlvbjowLGxpZ2h0bmVzczowLHJlZDowLGdyZWVuOjAsYmx1ZTowLGFscGhhOjEsYmxlbmRBbHBoYUNvbG9yOmZ1bmN0aW9uKGEsYixcbmMsZCl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmFycmF5Lm1hcChbYSxiLGNdLGZ1bmN0aW9uKGEpe3JldHVybiBNYXRoLnJvdW5kKENLRURJVE9SLnRvb2xzLmNvbG9yLk1BWF9SR0JfQ0hBTk5FTF9WQUxVRS1kKihDS0VESVRPUi50b29scy5jb2xvci5NQVhfUkdCX0NIQU5ORUxfVkFMVUUtYSkpfSl9LGZvcm1hdEhleFN0cmluZzpmdW5jdGlvbihhLGIsZSxkKXthPVwiI1wiK2MoYSkrYyhiKStjKGUpO3ZvaWQgMCE9PWQmJihhKz1jKGQpKTtyZXR1cm4gYS50b1VwcGVyQ2FzZSgpfSxmb3JtYXRSZ2JTdHJpbmc6ZnVuY3Rpb24oYSxiLGMsZCxlKXtiPVtiLGMsZF07dm9pZCAwIT09ZSYmYi5wdXNoKGUpO3JldHVybiBhK1wiKFwiK2Iuam9pbihcIixcIikrXCIpXCJ9LGZvcm1hdEhzbFN0cmluZzpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiBhK1wiKFwiK2IrXCIsXCIrYytcIiUsXCIrZCtcIiVcIisodm9pZCAwIT09ZT9cIixcIitlOlwiXCIpK1wiKVwifSxwYXJzZUlucHV0OmZ1bmN0aW9uKGEpe2lmKFwic3RyaW5nXCIhPT1cbnR5cGVvZiBhKXRoaXMuXy5pc1ZhbGlkQ29sb3I9ITE7ZWxzZXthPUNLRURJVE9SLnRvb2xzLnRyaW0oYSk7dmFyIGI9dGhpcy5fLm1hdGNoU3RyaW5nVG9OYW1lZENvbG9yKGEpO2ImJihhPWIpO3ZhciBiPXRoaXMuXy5leHRyYWN0Q29sb3JDaGFubmVsc0Zyb21IZXgoYSksYz10aGlzLl8uZXh0cmFjdENvbG9yQ2hhbm5lbHNGcm9tUmdiYShhKTthPXRoaXMuXy5leHRyYWN0Q29sb3JDaGFubmVsc0Zyb21Ic2xhKGEpOyhhPWJ8fGN8fGEpPyh0aGlzLl8udHlwZT1hLnR5cGUsdGhpcy5fLnJlZD1hLnJlZCx0aGlzLl8uZ3JlZW49YS5ncmVlbix0aGlzLl8uYmx1ZT1hLmJsdWUsdGhpcy5fLmFscGhhPWEuYWxwaGEsYS50eXBlPT09Q0tFRElUT1IudG9vbHMuY29sb3IuVFlQRV9IU0wmJih0aGlzLl8uaHVlPWEuaHVlLHRoaXMuXy5zYXR1cmF0aW9uPWEuc2F0dXJhdGlvbix0aGlzLl8ubGlnaHRuZXNzPWEubGlnaHRuZXNzKSk6dGhpcy5fLmlzVmFsaWRDb2xvcj0hMX19LG1hdGNoU3RyaW5nVG9OYW1lZENvbG9yOmZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi50b29scy5jb2xvci5uYW1lZENvbG9yc1thLnRvTG93ZXJDYXNlKCldfHxcbm51bGx9LGV4dHJhY3RDb2xvckNoYW5uZWxzRnJvbUhleDpmdW5jdGlvbihhKXstMT09PWEuaW5kZXhPZihcIiNcIikmJihhPVwiI1wiK2EpO2EubWF0Y2goQ0tFRElUT1IudG9vbHMuY29sb3IuaGV4M0NoYXJzUmVnRXhwKSYmKGE9dGhpcy5fLmhleDNUb0hleDYoYSkpO2EubWF0Y2goQ0tFRElUT1IudG9vbHMuY29sb3IuaGV4NENoYXJzUmVnRXhwKSYmKGE9dGhpcy5fLmhleDRUb0hleDgoYSkpO2lmKCFhLm1hdGNoKENLRURJVE9SLnRvb2xzLmNvbG9yLmhleDZDaGFyc1JlZ0V4cCkmJiFhLm1hdGNoKENLRURJVE9SLnRvb2xzLmNvbG9yLmhleDhDaGFyc1JlZ0V4cCkpcmV0dXJuIG51bGw7YT1hLnNwbGl0KFwiXCIpO3ZhciBiPTE7YVs3XSYmYVs4XSYmKGI9cGFyc2VJbnQoYVs3XSthWzhdLDE2KSxiLz1DS0VESVRPUi50b29scy5jb2xvci5NQVhfUkdCX0NIQU5ORUxfVkFMVUUsYj1OdW1iZXIoYi50b0ZpeGVkKDEpKSk7cmV0dXJue3R5cGU6Q0tFRElUT1IudG9vbHMuY29sb3IuVFlQRV9SR0IsXG5yZWQ6cGFyc2VJbnQoYVsxXSthWzJdLDE2KSxncmVlbjpwYXJzZUludChhWzNdK2FbNF0sMTYpLGJsdWU6cGFyc2VJbnQoYVs1XSthWzZdLDE2KSxhbHBoYTpifX0sZXh0cmFjdENvbG9yQ2hhbm5lbHNGcm9tUmdiYTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLl8uZXh0cmFjdENvbG9yQ2hhbm5lbHNCeVBhdHRlcm4oYixDS0VESVRPUi50b29scy5jb2xvci5yZ2JSZWdFeHApO2lmKCFjfHwzPmMubGVuZ3RofHw0PGMubGVuZ3RoKXJldHVybiBudWxsO3ZhciBlPTQ9PT1jLmxlbmd0aDtiPWEoY1swXSxDS0VESVRPUi50b29scy5jb2xvci5NQVhfUkdCX0NIQU5ORUxfVkFMVUUpO3ZhciBkPWEoY1sxXSxDS0VESVRPUi50b29scy5jb2xvci5NQVhfUkdCX0NIQU5ORUxfVkFMVUUpLGg9YShjWzJdLENLRURJVE9SLnRvb2xzLmNvbG9yLk1BWF9SR0JfQ0hBTk5FTF9WQUxVRSksZz0xO2UmJihnPWYoY1szXSxDS0VESVRPUi50b29scy5jb2xvci5NQVhfQUxQSEFfQ0hBTk5FTF9WQUxVRSkpO2M9XG57dHlwZTpDS0VESVRPUi50b29scy5jb2xvci5UWVBFX1JHQixyZWQ6YixncmVlbjpkLGJsdWU6aCxhbHBoYTpnfTtyZXR1cm4gdGhpcy5fLmFyZUNvbG9yQ2hhbm5lbHNWYWxpZChiLGQsaCxnKT9jOm51bGx9LGV4dHJhY3RDb2xvckNoYW5uZWxzRnJvbUhzbGE6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5fLmV4dHJhY3RDb2xvckNoYW5uZWxzQnlQYXR0ZXJuKGIsQ0tFRElUT1IudG9vbHMuY29sb3IuaHNsUmVnRXhwKTtpZighY3x8Mz5jLmxlbmd0aHx8NDxjLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZT00PT09Yy5sZW5ndGgsZD1hKGNbMF0sQ0tFRElUT1IudG9vbHMuY29sb3IuTUFYX0hVRV9DSEFOTkVMX1ZBTFVFKSxoPWYoY1sxXSxDS0VESVRPUi50b29scy5jb2xvci5NQVhfU0FUVVJBVElPTl9MSUdIVE5FU1NfQ0hBTk5FTF9WQUxVRSksZz1mKGNbMl0sQ0tFRElUT1IudG9vbHMuY29sb3IuTUFYX1NBVFVSQVRJT05fTElHSFRORVNTX0NIQU5ORUxfVkFMVUUpLG49MTtiPXRoaXMuXy5oc2xUb1JnYihkLFxuaCxnKTtlJiYobj1mKGNbM10sQ0tFRElUT1IudG9vbHMuY29sb3IuTUFYX0FMUEhBX0NIQU5ORUxfVkFMVUUpKTtiLnB1c2gobik7Yz17dHlwZTpDS0VESVRPUi50b29scy5jb2xvci5UWVBFX0hTTCxyZWQ6YlswXSxncmVlbjpiWzFdLGJsdWU6YlsyXSxhbHBoYTpiWzNdLGh1ZTpkLHNhdHVyYXRpb246TWF0aC5yb3VuZCgxMDAqaCksbGlnaHRuZXNzOk1hdGgucm91bmQoMTAwKmcpfTtyZXR1cm4gdGhpcy5fLmFyZUNvbG9yQ2hhbm5lbHNWYWxpZChiWzBdLGJbMV0sYlsyXSxiWzNdKT9jOm51bGx9LGhleDNUb0hleDY6ZnVuY3Rpb24oYSl7YT1hLnNwbGl0KFwiXCIpO3JldHVyblwiI1wiK2FbMV0rYVsxXSthWzJdK2FbMl0rYVszXSthWzNdfSxoZXg0VG9IZXg4OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8uaGV4M1RvSGV4NihhLnN1YnN0cigwLDQpKStDS0VESVRPUi50b29scy5yZXBlYXQoYVs0XSwyKX0sZXh0cmFjdENvbG9yQ2hhbm5lbHNCeVBhdHRlcm46ZnVuY3Rpb24oYSxiKXt2YXIgYz1cbmEubWF0Y2goYik7aWYoIWMpcmV0dXJuIG51bGw7dmFyIGQ9LTE9PT1jWzFdLmluZGV4T2YoXCIsXCIpPy9cXHMvOlwiLFwiLGQ9Y1sxXS5zcGxpdChkKSxkPUNLRURJVE9SLnRvb2xzLmFycmF5LnJlZHVjZShkLGZ1bmN0aW9uKGEsYil7dmFyIGQ9Q0tFRElUT1IudG9vbHMudHJpbShiKTtyZXR1cm4gMD09PWQubGVuZ3RoP2E6YS5jb25jYXQoW2RdKX0sW10pO2NbMl0mJihjPUNLRURJVE9SLnRvb2xzLnRyaW0oY1syXS5yZXBsYWNlKC9bXFwvLF0vLFwiXCIpKSxkLnB1c2goYykpO3JldHVybiBkfSxhcmVDb2xvckNoYW5uZWxzVmFsaWQ6ZnVuY3Rpb24oYSxjLGUsZCl7cmV0dXJuIGIoYSwwLENLRURJVE9SLnRvb2xzLmNvbG9yLk1BWF9SR0JfQ0hBTk5FTF9WQUxVRSkmJmIoYywwLENLRURJVE9SLnRvb2xzLmNvbG9yLk1BWF9SR0JfQ0hBTk5FTF9WQUxVRSkmJmIoZSwwLENLRURJVE9SLnRvb2xzLmNvbG9yLk1BWF9SR0JfQ0hBTk5FTF9WQUxVRSkmJmIoZCwwLENLRURJVE9SLnRvb2xzLmNvbG9yLk1BWF9BTFBIQV9DSEFOTkVMX1ZBTFVFKX0sXG5oc2xUb1JnYjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9ZnVuY3Rpb24oZCl7dmFyIGc9KGQrYS8zMCklMTI7ZD1iKk1hdGgubWluKGMsMS1jKTtnPU1hdGgubWluKGctMyw5LWcsMSk7Zz1NYXRoLm1heCgtMSxnKTtyZXR1cm4gTWF0aC5yb3VuZCgoYy1kKmcpKkNLRURJVE9SLnRvb2xzLmNvbG9yLk1BWF9SR0JfQ0hBTk5FTF9WQUxVRSl9O3JldHVybltkKDApLGQoOCksZCg0KV19LHJnYlRvSHNsOmZ1bmN0aW9uKGEsYixjKXthLz1DS0VESVRPUi50b29scy5jb2xvci5NQVhfUkdCX0NIQU5ORUxfVkFMVUU7Yi89Q0tFRElUT1IudG9vbHMuY29sb3IuTUFYX1JHQl9DSEFOTkVMX1ZBTFVFO3ZhciBkPWMvQ0tFRElUT1IudG9vbHMuY29sb3IuTUFYX1JHQl9DSEFOTkVMX1ZBTFVFLGU9TWF0aC5tYXgoYSxiLGQpLGc9TWF0aC5taW4oYSxiLGQpO2M9ZS1nO3ZhciBmPTA7c3dpdGNoKGUpe2Nhc2UgYTpmPShiLWQpL2MlNjticmVhaztjYXNlIGI6Zj0oZC1hKS9jKzI7YnJlYWs7Y2FzZSBkOmY9XG4oYS1iKS9jKzR9YT0wPT09Yz8wOjYwKmY7Yj0oZStnKS8yO2U9MDsxIT09YiYmMCE9PWImJihlPWMvKDEtTWF0aC5hYnMoMipiLTEpKSk7YT1NYXRoLnJvdW5kKGEpO2U9TWF0aC5yb3VuZCgxMDAqZSk7Yj1NYXRoLnJvdW5kKDEwMCpiKTtyZXR1cm5bYSxlLGJdfX0sc3RhdGljczp7VFlQRV9SR0I6MSxUWVBFX0hTTDoyLE1BWF9SR0JfQ0hBTk5FTF9WQUxVRToyNTUsTUFYX0FMUEhBX0NIQU5ORUxfVkFMVUU6MSxNQVhfSFVFX0NIQU5ORUxfVkFMVUU6MzYwLE1BWF9TQVRVUkFUSU9OX0xJR0hUTkVTU19DSEFOTkVMX1ZBTFVFOjEsaGV4M0NoYXJzUmVnRXhwOi8jKFswLTlhLWZdezN9JCkvZ2ltLGhleDRDaGFyc1JlZ0V4cDovIyhbMC05YS1mXXs0fSQpL2dpbSxoZXg2Q2hhcnNSZWdFeHA6LyMoWzAtOWEtZl17Nn0kKS9naW0saGV4OENoYXJzUmVnRXhwOi8jKFswLTlhLWZdezh9JCkvZ2ltLHJnYlJlZ0V4cDovcmdiYT9cXCgoWy4sXFxkXFxzJV0qKShcXHMqXFwvXFxzKltcXGQuJV0rKT9cXHMqXFwpL2ksXG5oc2xSZWdFeHA6L2hzbGE/XFwoKFxccyooPzpbLlxcZF0rKD86ZGVnKT8pKD86XFxzKiw/XFxzKlsuXFxkXSslKXsyfSkoKD86KD86XFxzKlxcL1xccyopfCg/OlxccyosXFxzKikpW1xcZC5dKyU/KT9cXHMqXFwpL2ksbmFtZWRDb2xvcnM6e2FsaWNlYmx1ZTpcIiNGMEY4RkZcIixhbnRpcXVld2hpdGU6XCIjRkFFQkQ3XCIsYXF1YTpcIiMwMEZGRkZcIixhcXVhbWFyaW5lOlwiIzdGRkZENFwiLGF6dXJlOlwiI0YwRkZGRlwiLGJlaWdlOlwiI0Y1RjVEQ1wiLGJpc3F1ZTpcIiNGRkU0QzRcIixibGFjazpcIiMwMDAwMDBcIixibGFuY2hlZGFsbW9uZDpcIiNGRkVCQ0RcIixibHVlOlwiIzAwMDBGRlwiLGJsdWV2aW9sZXQ6XCIjOEEyQkUyXCIsYnJvd246XCIjQTUyQTJBXCIsYnVybHl3b29kOlwiI0RFQjg4N1wiLGNhZGV0Ymx1ZTpcIiM1RjlFQTBcIixjaGFydHJldXNlOlwiIzdGRkYwMFwiLGNob2NvbGF0ZTpcIiNEMjY5MUVcIixjb3JhbDpcIiNGRjdGNTBcIixjb3JuZmxvd2VyYmx1ZTpcIiM2NDk1RURcIixjb3Juc2lsazpcIiNGRkY4RENcIixjcmltc29uOlwiI0RDMTQzQ1wiLFxuY3lhbjpcIiMwMEZGRkZcIixkYXJrYmx1ZTpcIiMwMDAwOEJcIixkYXJrY3lhbjpcIiMwMDhCOEJcIixkYXJrZ29sZGVucm9kOlwiI0I4ODYwQlwiLGRhcmtncmF5OlwiI0E5QTlBOVwiLGRhcmtncmVlbjpcIiMwMDY0MDBcIixkYXJrZ3JleTpcIiNBOUE5QTlcIixkYXJra2hha2k6XCIjQkRCNzZCXCIsZGFya21hZ2VudGE6XCIjOEIwMDhCXCIsZGFya29saXZlZ3JlZW46XCIjNTU2QjJGXCIsZGFya29yYW5nZTpcIiNGRjhDMDBcIixkYXJrb3JjaGlkOlwiIzk5MzJDQ1wiLGRhcmtyZWQ6XCIjOEIwMDAwXCIsZGFya3NhbG1vbjpcIiNFOTk2N0FcIixkYXJrc2VhZ3JlZW46XCIjOEZCQzhGXCIsZGFya3NsYXRlYmx1ZTpcIiM0ODNEOEJcIixkYXJrc2xhdGVncmF5OlwiIzJGNEY0RlwiLGRhcmtzbGF0ZWdyZXk6XCIjMkY0RjRGXCIsZGFya3R1cnF1b2lzZTpcIiMwMENFRDFcIixkYXJrdmlvbGV0OlwiIzk0MDBEM1wiLGRlZXBwaW5rOlwiI0ZGMTQ5M1wiLGRlZXBza3libHVlOlwiIzAwQkZGRlwiLGRpbWdyYXk6XCIjNjk2OTY5XCIsZGltZ3JleTpcIiM2OTY5NjlcIixkb2RnZXJibHVlOlwiIzFFOTBGRlwiLFxuZmlyZWJyaWNrOlwiI0IyMjIyMlwiLGZsb3JhbHdoaXRlOlwiI0ZGRkFGMFwiLGZvcmVzdGdyZWVuOlwiIzIyOEIyMlwiLGZ1Y2hzaWE6XCIjRkYwMEZGXCIsZ2FpbnNib3JvOlwiI0RDRENEQ1wiLGdob3N0d2hpdGU6XCIjRjhGOEZGXCIsZ29sZDpcIiNGRkQ3MDBcIixnb2xkZW5yb2Q6XCIjREFBNTIwXCIsZ3JheTpcIiM4MDgwODBcIixncmVlbjpcIiMwMDgwMDBcIixncmVlbnllbGxvdzpcIiNBREZGMkZcIixncmV5OlwiIzgwODA4MFwiLGhvbmV5ZGV3OlwiI0YwRkZGMFwiLGhvdHBpbms6XCIjRkY2OUI0XCIsaW5kaWFucmVkOlwiI0NENUM1Q1wiLGluZGlnbzpcIiM0QjAwODJcIixpdm9yeTpcIiNGRkZGRjBcIixraGFraTpcIiNGMEU2OENcIixsYXZlbmRlcjpcIiNFNkU2RkFcIixsYXZlbmRlcmJsdXNoOlwiI0ZGRjBGNVwiLGxhd25ncmVlbjpcIiM3Q0ZDMDBcIixsZW1vbmNoaWZmb246XCIjRkZGQUNEXCIsbGlnaHRibHVlOlwiI0FERDhFNlwiLGxpZ2h0Y29yYWw6XCIjRjA4MDgwXCIsbGlnaHRjeWFuOlwiI0UwRkZGRlwiLGxpZ2h0Z29sZGVucm9keWVsbG93OlwiI0ZBRkFEMlwiLFxubGlnaHRncmF5OlwiI0QzRDNEM1wiLGxpZ2h0Z3JlZW46XCIjOTBFRTkwXCIsbGlnaHRncmV5OlwiI0QzRDNEM1wiLGxpZ2h0cGluazpcIiNGRkI2QzFcIixsaWdodHNhbG1vbjpcIiNGRkEwN0FcIixsaWdodHNlYWdyZWVuOlwiIzIwQjJBQVwiLGxpZ2h0c2t5Ymx1ZTpcIiM4N0NFRkFcIixsaWdodHNsYXRlZ3JheTpcIiM3Nzg4OTlcIixsaWdodHNsYXRlZ3JleTpcIiM3Nzg4OTlcIixsaWdodHN0ZWVsYmx1ZTpcIiNCMEM0REVcIixsaWdodHllbGxvdzpcIiNGRkZGRTBcIixsaW1lOlwiIzAwRkYwMFwiLGxpbWVncmVlbjpcIiMzMkNEMzJcIixsaW5lbjpcIiNGQUYwRTZcIixtYWdlbnRhOlwiI0ZGMDBGRlwiLG1hcm9vbjpcIiM4MDAwMDBcIixtZWRpdW1hcXVhbWFyaW5lOlwiIzY2Q0RBQVwiLG1lZGl1bWJsdWU6XCIjMDAwMENEXCIsbWVkaXVtb3JjaGlkOlwiI0JBNTVEM1wiLG1lZGl1bXB1cnBsZTpcIiM5MzcwREJcIixtZWRpdW1zZWFncmVlbjpcIiMzQ0IzNzFcIixtZWRpdW1zbGF0ZWJsdWU6XCIjN0I2OEVFXCIsbWVkaXVtc3ByaW5nZ3JlZW46XCIjMDBGQTlBXCIsXG5tZWRpdW10dXJxdW9pc2U6XCIjNDhEMUNDXCIsbWVkaXVtdmlvbGV0cmVkOlwiI0M3MTU4NVwiLG1pZG5pZ2h0Ymx1ZTpcIiMxOTE5NzBcIixtaW50Y3JlYW06XCIjRjVGRkZBXCIsbWlzdHlyb3NlOlwiI0ZGRTRFMVwiLG1vY2Nhc2luOlwiI0ZGRTRCNVwiLG5hdmFqb3doaXRlOlwiI0ZGREVBRFwiLG5hdnk6XCIjMDAwMDgwXCIsb2xkbGFjZTpcIiNGREY1RTZcIixvbGl2ZTpcIiM4MDgwMDBcIixvbGl2ZWRyYWI6XCIjNkI4RTIzXCIsb3JhbmdlOlwiI0ZGQTUwMFwiLG9yYW5nZXJlZDpcIiNGRjQ1MDBcIixvcmNoaWQ6XCIjREE3MEQ2XCIscGFsZWdvbGRlbnJvZDpcIiNFRUU4QUFcIixwYWxlZ3JlZW46XCIjOThGQjk4XCIscGFsZXR1cnF1b2lzZTpcIiNBRkVFRUVcIixwYWxldmlvbGV0cmVkOlwiI0RCNzA5M1wiLHBhcGF5YXdoaXA6XCIjRkZFRkQ1XCIscGVhY2hwdWZmOlwiI0ZGREFCOVwiLHBlcnU6XCIjQ0Q4NTNGXCIscGluazpcIiNGRkMwQ0JcIixwbHVtOlwiI0REQTBERFwiLHBvd2RlcmJsdWU6XCIjQjBFMEU2XCIscHVycGxlOlwiIzgwMDA4MFwiLHJlYmVjY2FwdXJwbGU6XCIjNjYzMzk5XCIsXG5yZWQ6XCIjRkYwMDAwXCIscm9zeWJyb3duOlwiI0JDOEY4RlwiLHJveWFsYmx1ZTpcIiM0MTY5RTFcIixzYWRkbGVicm93bjpcIiM4QjQ1MTNcIixzYWxtb246XCIjRkE4MDcyXCIsc2FuZHlicm93bjpcIiNGNEE0NjBcIixzZWFncmVlbjpcIiMyRThCNTdcIixzZWFzaGVsbDpcIiNGRkY1RUVcIixzaWVubmE6XCIjQTA1MjJEXCIsc2lsdmVyOlwiI0MwQzBDMFwiLHNreWJsdWU6XCIjODdDRUVCXCIsc2xhdGVibHVlOlwiIzZBNUFDRFwiLHNsYXRlZ3JheTpcIiM3MDgwOTBcIixzbGF0ZWdyZXk6XCIjNzA4MDkwXCIsc25vdzpcIiNGRkZBRkFcIixzcHJpbmdncmVlbjpcIiMwMEZGN0ZcIixzdGVlbGJsdWU6XCIjNDY4MkI0XCIsdGFuOlwiI0QyQjQ4Q1wiLHRlYWw6XCIjMDA4MDgwXCIsdGhpc3RsZTpcIiNEOEJGRDhcIix0b21hdG86XCIjRkY2MzQ3XCIsdHVycXVvaXNlOlwiIzQwRTBEMFwiLHZpb2xldDpcIiNFRTgyRUVcIix3aW5kb3d0ZXh0Olwid2luZG93dGV4dFwiLHdoZWF0OlwiI0Y1REVCM1wiLHdoaXRlOlwiI0ZGRkZGRlwiLHdoaXRlc21va2U6XCIjRjVGNUY1XCIseWVsbG93OlwiI0ZGRkYwMFwiLFxueWVsbG93Z3JlZW46XCIjOUFDRDMyXCJ9fX0pO0NLRURJVE9SLnRvb2xzLnN0eWxlLnBhcnNlLl9jb2xvcnM9Q0tFRElUT1IudG9vbHMuY29sb3IubmFtZWRDb2xvcnN9KCksQ0tFRElUT1IuZG9tLmNvbW1lbnQ9ZnVuY3Rpb24oYSxmKXtcInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9KGY/Zi4kOmRvY3VtZW50KS5jcmVhdGVDb21tZW50KGEpKTtDS0VESVRPUi5kb20uZG9tT2JqZWN0LmNhbGwodGhpcyxhKX0sQ0tFRElUT1IuZG9tLmNvbW1lbnQucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20ubm9kZSxDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLmNvbW1lbnQucHJvdG90eXBlLHt0eXBlOkNLRURJVE9SLk5PREVfQ09NTUVOVCxnZXRPdXRlckh0bWw6ZnVuY3Rpb24oKXtyZXR1cm5cIlxceDNjIS0tXCIrdGhpcy4kLm5vZGVWYWx1ZStcIi0tXFx4M2VcIn19KSxcInVzZSBzdHJpY3RcIixmdW5jdGlvbigpe3ZhciBhPXt9LGY9e30sZTtmb3IoZSBpbiBDS0VESVRPUi5kdGQuJGJsb2NrTGltaXQpZSBpblxuQ0tFRElUT1IuZHRkLiRsaXN0fHwoYVtlXT0xKTtmb3IoZSBpbiBDS0VESVRPUi5kdGQuJGJsb2NrKWUgaW4gQ0tFRElUT1IuZHRkLiRibG9ja0xpbWl0fHxlIGluIENLRURJVE9SLmR0ZC4kZW1wdHl8fChmW2VdPTEpO0NLRURJVE9SLmRvbS5lbGVtZW50UGF0aD1mdW5jdGlvbihiLGMpe3ZhciBlPW51bGwsbD1udWxsLG09W10sZD1iLGg7Yz1jfHxiLmdldERvY3VtZW50KCkuZ2V0Qm9keSgpO2R8fChkPWMpO2RvIGlmKGQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXttLnB1c2goZCk7aWYoIXRoaXMubGFzdEVsZW1lbnQmJih0aGlzLmxhc3RFbGVtZW50PWQsZC5pcyhDS0VESVRPUi5kdGQuJG9iamVjdCl8fFwiZmFsc2VcIj09ZC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpKWNvbnRpbnVlO2lmKGQuZXF1YWxzKGMpKWJyZWFrO2lmKCFsJiYoaD1kLmdldE5hbWUoKSxcInRydWVcIj09ZC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/bD1kOiFlJiZmW2hdJiZcbihlPWQpLGFbaF0pKXtpZihoPSFlJiZcImRpdlwiPT1oKXthOntoPWQuZ2V0Q2hpbGRyZW4oKTtmb3IodmFyIGc9MCxuPWguY291bnQoKTtnPG47ZysrKXt2YXIgdz1oLmdldEl0ZW0oZyk7aWYody50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkNLRURJVE9SLmR0ZC4kYmxvY2tbdy5nZXROYW1lKCldKXtoPSEwO2JyZWFrIGF9fWg9ITF9aD0haH1oP2U9ZDpsPWR9fXdoaWxlKGQ9ZC5nZXRQYXJlbnQoKSk7bHx8KGw9Yyk7dGhpcy5ibG9jaz1lO3RoaXMuYmxvY2tMaW1pdD1sO3RoaXMucm9vdD1jO3RoaXMuZWxlbWVudHM9bX19KCksQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoLnByb3RvdHlwZT17Y29tcGFyZTpmdW5jdGlvbihhKXt2YXIgZj10aGlzLmVsZW1lbnRzO2E9YSYmYS5lbGVtZW50cztpZighYXx8Zi5sZW5ndGghPWEubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgZT0wO2U8Zi5sZW5ndGg7ZSsrKWlmKCFmW2VdLmVxdWFscyhhW2VdKSlyZXR1cm4hMTtyZXR1cm4hMH0sY29udGFpbnM6ZnVuY3Rpb24oYSxcbmYsZSl7dmFyIGI9MCxjO1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYz1mdW5jdGlvbihiKXtyZXR1cm4gYi5nZXROYW1lKCk9PWF9KTthIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQ/Yz1mdW5jdGlvbihiKXtyZXR1cm4gYi5lcXVhbHMoYSl9OkNLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSk/Yz1mdW5jdGlvbihiKXtyZXR1cm4tMTxDS0VESVRPUi50b29scy5pbmRleE9mKGEsYi5nZXROYW1lKCkpfTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBhP2M9YTpcIm9iamVjdFwiPT10eXBlb2YgYSYmKGM9ZnVuY3Rpb24oYil7cmV0dXJuIGIuZ2V0TmFtZSgpaW4gYX0pO3ZhciBrPXRoaXMuZWxlbWVudHMsbD1rLmxlbmd0aDtmJiYoZT9iKz0xOi0tbCk7ZSYmKGs9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaywwKSxrLnJldmVyc2UoKSk7Zm9yKDtiPGw7YisrKWlmKGMoa1tiXSkpcmV0dXJuIGtbYl07cmV0dXJuIG51bGx9LGlzQ29udGV4dEZvcjpmdW5jdGlvbihhKXt2YXIgZjtyZXR1cm4gYSBpblxuQ0tFRElUT1IuZHRkLiRibG9jaz8oZj10aGlzLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kaW50ZXJtZWRpYXRlKXx8dGhpcy5yb290LmVxdWFscyh0aGlzLmJsb2NrKSYmdGhpcy5ibG9ja3x8dGhpcy5ibG9ja0xpbWl0LCEhZi5nZXREdGQoKVthXSk6ITB9LGRpcmVjdGlvbjpmdW5jdGlvbigpe3JldHVybih0aGlzLmJsb2NrfHx0aGlzLmJsb2NrTGltaXR8fHRoaXMucm9vdCkuZ2V0RGlyZWN0aW9uKDEpfX0sQ0tFRElUT1IuZG9tLnRleHQ9ZnVuY3Rpb24oYSxmKXtcInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9KGY/Zi4kOmRvY3VtZW50KS5jcmVhdGVUZXh0Tm9kZShhKSk7dGhpcy4kPWF9LENLRURJVE9SLmRvbS50ZXh0LnByb3RvdHlwZT1uZXcgQ0tFRElUT1IuZG9tLm5vZGUsQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS50ZXh0LnByb3RvdHlwZSx7dHlwZTpDS0VESVRPUi5OT0RFX1RFWFQsZ2V0TGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5ub2RlVmFsdWUubGVuZ3RofSxcbmdldFRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLm5vZGVWYWx1ZX0sc2V0VGV4dDpmdW5jdGlvbihhKXt0aGlzLiQubm9kZVZhbHVlPWF9LGlzRW1wdHk6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcy5nZXRUZXh0KCk7YSYmKGY9Q0tFRElUT1IudG9vbHMudHJpbShmKSk7cmV0dXJuIWZ8fGY9PT1DS0VESVRPUi5kb20uc2VsZWN0aW9uLkZJTExJTkdfQ0hBUl9TRVFVRU5DRX0sc3BsaXQ6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcy4kLnBhcmVudE5vZGUsZT1mLmNoaWxkTm9kZXMubGVuZ3RoLGI9dGhpcy5nZXRMZW5ndGgoKSxjPXRoaXMuZ2V0RG9jdW1lbnQoKSxrPW5ldyBDS0VESVRPUi5kb20udGV4dCh0aGlzLiQuc3BsaXRUZXh0KGEpLGMpO2YuY2hpbGROb2Rlcy5sZW5ndGg9PWUmJihhPj1iPyhrPWMuY3JlYXRlVGV4dChcIlwiKSxrLmluc2VydEFmdGVyKHRoaXMpKTooYT1jLmNyZWF0ZVRleHQoXCJcIiksYS5pbnNlcnRBZnRlcihrKSxhLnJlbW92ZSgpKSk7cmV0dXJuIGt9LHN1YnN0cmluZzpmdW5jdGlvbihhLFxuZil7cmV0dXJuXCJudW1iZXJcIiE9dHlwZW9mIGY/dGhpcy4kLm5vZGVWYWx1ZS5zdWJzdHIoYSk6dGhpcy4kLm5vZGVWYWx1ZS5zdWJzdHJpbmcoYSxmKX19KSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiLGMpe3ZhciBmPWEuc2VyaWFsaXphYmxlLGw9YltjP1wiZW5kQ29udGFpbmVyXCI6XCJzdGFydENvbnRhaW5lclwiXSxtPWM/XCJlbmRPZmZzZXRcIjpcInN0YXJ0T2Zmc2V0XCIsZD1mP2IuZG9jdW1lbnQuZ2V0QnlJZChhLnN0YXJ0Tm9kZSk6YS5zdGFydE5vZGU7YT1mP2IuZG9jdW1lbnQuZ2V0QnlJZChhLmVuZE5vZGUpOmEuZW5kTm9kZTtsLmVxdWFscyhkLmdldFByZXZpb3VzKCkpPyhiLnN0YXJ0T2Zmc2V0PWIuc3RhcnRPZmZzZXQtbC5nZXRMZW5ndGgoKS1hLmdldFByZXZpb3VzKCkuZ2V0TGVuZ3RoKCksbD1hLmdldE5leHQoKSk6bC5lcXVhbHMoYS5nZXRQcmV2aW91cygpKSYmKGIuc3RhcnRPZmZzZXQtPWwuZ2V0TGVuZ3RoKCksbD1hLmdldE5leHQoKSk7bC5lcXVhbHMoZC5nZXRQYXJlbnQoKSkmJlxuYlttXSsrO2wuZXF1YWxzKGEuZ2V0UGFyZW50KCkpJiZiW21dKys7YltjP1wiZW5kQ29udGFpbmVyXCI6XCJzdGFydENvbnRhaW5lclwiXT1sO3JldHVybiBifUNLRURJVE9SLmRvbS5yYW5nZUxpc3Q9ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5yYW5nZUxpc3QpcmV0dXJuIGE7YT9hIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLnJhbmdlJiYoYT1bYV0pOmE9W107cmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZChhLGYpfTt2YXIgZj17Y3JlYXRlSXRlcmF0b3I6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyaygpLGM9W10sZjtyZXR1cm57Z2V0TmV4dFJhbmdlOmZ1bmN0aW9uKGwpe2Y9dm9pZCAwPT09Zj8wOmYrMTt2YXIgbT1hW2ZdO2lmKG0mJjE8YS5sZW5ndGgpe2lmKCFmKWZvcih2YXIgZD1hLmxlbmd0aC0xOzA8PWQ7ZC0tKWMudW5zaGlmdChhW2RdLmNyZWF0ZUJvb2ttYXJrKCEwKSk7aWYobClmb3IodmFyIGg9XG4wO2FbZitoKzFdOyl7dmFyIGc9bS5kb2N1bWVudDtsPTA7ZD1nLmdldEJ5SWQoY1toXS5lbmROb2RlKTtmb3IoZz1nLmdldEJ5SWQoY1toKzFdLnN0YXJ0Tm9kZSk7Oyl7ZD1kLmdldE5leHRTb3VyY2VOb2RlKCExKTtpZihnLmVxdWFscyhkKSlsPTE7ZWxzZSBpZihiKGQpfHxkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5pc0Jsb2NrQm91bmRhcnkoKSljb250aW51ZTticmVha31pZighbClicmVhaztoKyt9Zm9yKG0ubW92ZVRvQm9va21hcmsoYy5zaGlmdCgpKTtoLS07KWQ9YVsrK2ZdLGQubW92ZVRvQm9va21hcmsoYy5zaGlmdCgpKSxtLnNldEVuZChkLmVuZENvbnRhaW5lcixkLmVuZE9mZnNldCl9cmV0dXJuIG19fX0sY3JlYXRlQm9va21hcmtzOmZ1bmN0aW9uKGUpe2Zvcih2YXIgYj1bXSxjLGY9MDtmPHRoaXMubGVuZ3RoO2YrKyl7Yi5wdXNoKGM9dGhpc1tmXS5jcmVhdGVCb29rbWFyayhlLCEwKSk7Zm9yKHZhciBsPWYrMTtsPHRoaXMubGVuZ3RoO2wrKyl0aGlzW2xdPVxuYShjLHRoaXNbbF0pLHRoaXNbbF09YShjLHRoaXNbbF0sITApfXJldHVybiBifSxjcmVhdGVCb29rbWFya3MyOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTA7Yzx0aGlzLmxlbmd0aDtjKyspYi5wdXNoKHRoaXNbY10uY3JlYXRlQm9va21hcmsyKGEpKTtyZXR1cm4gYn0sbW92ZVRvQm9va21hcmtzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8dGhpcy5sZW5ndGg7YisrKXRoaXNbYl0ubW92ZVRvQm9va21hcmsoYVtiXSl9fX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtyZXR1cm4gQ0tFRElUT1IuZ2V0VXJsKENLRURJVE9SLnNraW5OYW1lLnNwbGl0KFwiLFwiKVsxXXx8XCJza2lucy9cIitDS0VESVRPUi5za2luTmFtZS5zcGxpdChcIixcIilbMF0rXCIvXCIpfWZ1bmN0aW9uIGYoYil7dmFyIGQ9Q0tFRElUT1Iuc2tpbltcInVhX1wiK2JdLGM9Q0tFRElUT1IuZW52O2lmKGQpZm9yKHZhciBkPWQuc3BsaXQoXCIsXCIpLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT5iPy0xOjF9KSxlPTAsXG5mO2U8ZC5sZW5ndGg7ZSsrKWlmKGY9ZFtlXSxjLmllJiYoZi5yZXBsYWNlKC9eaWUvLFwiXCIpPT1jLnZlcnNpb258fGMucXVpcmtzJiZcImllcXVpcmtzXCI9PWYpJiYoZj1cImllXCIpLGNbZl0pe2IrPVwiX1wiK2RbZV07YnJlYWt9cmV0dXJuIENLRURJVE9SLmdldFVybChhKCkrYitcIi5jc3NcIil9ZnVuY3Rpb24gZShhLGIpe2tbYV18fChDS0VESVRPUi5kb2N1bWVudC5hcHBlbmRTdHlsZVNoZWV0KGYoYSkpLGtbYV09MSk7YiYmYigpfWZ1bmN0aW9uIGIoYSl7dmFyIGI9YS5nZXRCeUlkKGwpO2J8fChiPWEuZ2V0SGVhZCgpLmFwcGVuZChcInN0eWxlXCIpLGIuc2V0QXR0cmlidXRlKFwiaWRcIixsKSxiLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInRleHQvY3NzXCIpKTtyZXR1cm4gYn1mdW5jdGlvbiBjKGEsYixkKXt2YXIgYyxlLGY7aWYoQ0tFRElUT1IuZW52LndlYmtpdClmb3IoYj1iLnNwbGl0KFwifVwiKS5zbGljZSgwLC0xKSxlPTA7ZTxiLmxlbmd0aDtlKyspYltlXT1iW2VdLnNwbGl0KFwie1wiKTtmb3IodmFyIGs9XG4wO2s8YS5sZW5ndGg7aysrKWlmKENLRURJVE9SLmVudi53ZWJraXQpZm9yKGU9MDtlPGIubGVuZ3RoO2UrKyl7Zj1iW2VdWzFdO2ZvcihjPTA7YzxkLmxlbmd0aDtjKyspZj1mLnJlcGxhY2UoZFtjXVswXSxkW2NdWzFdKTthW2tdLiQuc2hlZXQuYWRkUnVsZShiW2VdWzBdLGYpfWVsc2V7Zj1iO2ZvcihjPTA7YzxkLmxlbmd0aDtjKyspZj1mLnJlcGxhY2UoZFtjXVswXSxkW2NdWzFdKTtDS0VESVRPUi5lbnYuaWUmJjExPkNLRURJVE9SLmVudi52ZXJzaW9uP2Fba10uJC5zdHlsZVNoZWV0LmNzc1RleHQrPWY6YVtrXS4kLmlubmVySFRNTCs9Zn19dmFyIGs9e307Q0tFRElUT1Iuc2tpbj17cGF0aDphLGxvYWRQYXJ0OmZ1bmN0aW9uKGIsZCl7Q0tFRElUT1Iuc2tpbi5uYW1lIT1DS0VESVRPUi5za2luTmFtZS5zcGxpdChcIixcIilbMF0/Q0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoQ0tFRElUT1IuZ2V0VXJsKGEoKStcInNraW4uanNcIiksZnVuY3Rpb24oKXtlKGIsZCl9KTplKGIsZCl9LFxuZ2V0UGF0aDpmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IuZ2V0VXJsKGYoYSkpfSxpY29uczp7fSxhZGRJY29uOmZ1bmN0aW9uKGEsYixkLGMpe2E9YS50b0xvd2VyQ2FzZSgpO3RoaXMuaWNvbnNbYV18fCh0aGlzLmljb25zW2FdPXtwYXRoOmIsb2Zmc2V0OmR8fDAsYmdzaXplOmN8fFwiMTZweFwifSl9LGdldEljb25TdHlsZTpmdW5jdGlvbihhLGIsZCxjLGUpe3ZhciBmO2EmJihhPWEudG9Mb3dlckNhc2UoKSxiJiYoZj10aGlzLmljb25zW2ErXCItcnRsXCJdKSxmfHwoZj10aGlzLmljb25zW2FdKSk7YT1kfHxmJiZmLnBhdGh8fFwiXCI7Yz1jfHxmJiZmLm9mZnNldDtlPWV8fGYmJmYuYmdzaXplfHxcIjE2cHhcIjthJiYoYT1hLnJlcGxhY2UoLycvZyxcIlxcXFwnXCIpKTtyZXR1cm4gYSYmXCJiYWNrZ3JvdW5kLWltYWdlOnVybCgnXCIrQ0tFRElUT1IuZ2V0VXJsKGEpK1wiJyk7YmFja2dyb3VuZC1wb3NpdGlvbjowIFwiK2MrXCJweDtiYWNrZ3JvdW5kLXNpemU6XCIrZStcIjtcIn19O0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLFxue2dldFVpQ29sb3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51aUNvbG9yfSxzZXRVaUNvbG9yOmZ1bmN0aW9uKGEpe3ZhciBnPWIoQ0tFRElUT1IuZG9jdW1lbnQpO3JldHVybih0aGlzLnNldFVpQ29sb3I9ZnVuY3Rpb24oYSl7dGhpcy51aUNvbG9yPWE7dmFyIGI9Q0tFRElUT1Iuc2tpbi5jaGFtZWxlb24sZT1cIlwiLGg9XCJcIjtcImZ1bmN0aW9uXCI9PXR5cGVvZiBiJiYoZT1iKHRoaXMsXCJlZGl0b3JcIiksaD1iKHRoaXMsXCJwYW5lbFwiKSk7YT1bW2QsYV1dO2MoW2ddLGUsYSk7YyhtLGgsYSl9KS5jYWxsKHRoaXMsYSl9fSk7dmFyIGw9XCJja2VfdWlfY29sb3JcIixtPVtdLGQ9L1xcJGNvbG9yL2c7Q0tFRElUT1Iub24oXCJpbnN0YW5jZUxvYWRlZFwiLGZ1bmN0aW9uKGEpe2lmKCFDS0VESVRPUi5lbnYuaWV8fCFDS0VESVRPUi5lbnYucXVpcmtzKXt2YXIgZz1hLmVkaXRvcjthPWZ1bmN0aW9uKGEpe2E9KGEuZGF0YVswXXx8YS5kYXRhKS5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWcoXCJpZnJhbWVcIikuZ2V0SXRlbSgwKS5nZXRGcmFtZURvY3VtZW50KCk7XG5pZighYS5nZXRCeUlkKFwiY2tlX3VpX2NvbG9yXCIpKXt2YXIgZT1iKGEpO20ucHVzaChlKTtnLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7bT1DS0VESVRPUi50b29scy5hcnJheS5maWx0ZXIobSxmdW5jdGlvbihhKXtyZXR1cm4gZSE9PWF9KX0pOyhhPWcuZ2V0VWlDb2xvcigpKSYmYyhbZV0sQ0tFRElUT1Iuc2tpbi5jaGFtZWxlb24oZyxcInBhbmVsXCIpLFtbZCxhXV0pfX07Zy5vbihcInBhbmVsU2hvd1wiLGEpO2cub24oXCJtZW51U2hvd1wiLGEpO2cuY29uZmlnLnVpQ29sb3ImJmcuc2V0VWlDb2xvcihnLmNvbmZpZy51aUNvbG9yKX19KX0oKSxmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2RpdiBzdHlsZVxceDNkXCJ3aWR0aDowO2hlaWdodDowO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTEwMDAwcHg7Ym9yZGVyOjFweCBzb2xpZDtib3JkZXItY29sb3I6cmVkIGJsdWVcIlxceDNlXFx4M2MvZGl2XFx4M2UnLENLRURJVE9SLmRvY3VtZW50KTtcbmEuYXBwZW5kVG8oQ0tFRElUT1IuZG9jdW1lbnQuZ2V0SGVhZCgpKTt0cnl7dmFyIGY9YS5nZXRDb21wdXRlZFN0eWxlKFwiYm9yZGVyLXRvcC1jb2xvclwiKSxlPWEuZ2V0Q29tcHV0ZWRTdHlsZShcImJvcmRlci1yaWdodC1jb2xvclwiKTtDS0VESVRPUi5lbnYuaGM9ISghZnx8ZiE9ZSl9Y2F0Y2goYil7Q0tFRElUT1IuZW52LmhjPSExfWEucmVtb3ZlKCk7Q0tFRElUT1IuZW52LmhjJiYoQ0tFRElUT1IuZW52LmNzc0NsYXNzKz1cIiBja2VfaGNcIik7Q0tFRElUT1IuZG9jdW1lbnQuYXBwZW5kU3R5bGVUZXh0KFwiLmNrZXt2aXNpYmlsaXR5OmhpZGRlbjt9XCIpO0NLRURJVE9SLnN0YXR1cz1cImxvYWRlZFwiO0NLRURJVE9SLmZpcmVPbmNlKFwibG9hZGVkXCIpO2lmKGE9Q0tFRElUT1IuXy5wZW5kaW5nKWZvcihkZWxldGUgQ0tFRElUT1IuXy5wZW5kaW5nLGY9MDtmPGEubGVuZ3RoO2YrKylDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yLmFwcGx5KGFbZl1bMF0sYVtmXVsxXSksQ0tFRElUT1IuYWRkKGFbZl1bMF0pfSgpLFxuQ0tFRElUT1Iuc2tpbi5uYW1lPVwibW9vbm8tbGlzYVwiLENLRURJVE9SLnNraW4udWFfZWRpdG9yPVwiaWUsaWVxdWlya3MsaWU4LGdlY2tvXCIsQ0tFRElUT1Iuc2tpbi51YV9kaWFsb2c9XCJpZSxpZXF1aXJrcyxpZThcIixDS0VESVRPUi5za2luLmNoYW1lbGVvbj1mdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWEubWF0Y2goL1teI10uL2cpLGY9MDszPmY7ZisrKXt2YXIgbD1mLG07bT1wYXJzZUludChjW2ZdLDE2KTttPShcIjBcIisoMD5iPzB8bSooMStiKTowfG0rKDI1NS1tKSpiKS50b1N0cmluZygxNikpLnNsaWNlKC0yKTtjW2xdPW19cmV0dXJuXCIjXCIrYy5qb2luKFwiXCIpfX0oKSxmPXtlZGl0b3I6bmV3IENLRURJVE9SLnRlbXBsYXRlKFwie2lkfS5ja2VfY2hyb21lIFtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX3RvcCBbIGJhY2tncm91bmQtY29sb3I6e2RlZmF1bHRCYWNrZ3JvdW5kfTtib3JkZXItYm90dG9tLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV9ib3R0b20gW2JhY2tncm91bmQtY29sb3I6e2RlZmF1bHRCYWNrZ3JvdW5kfTtib3JkZXItdG9wLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV9yZXNpemVyIFtib3JkZXItcmlnaHQtY29sb3I6e2NrZVJlc2l6ZXJ9XSB7aWR9IC5ja2VfZGlhbG9nX3RpdGxlIFtiYWNrZ3JvdW5kLWNvbG9yOntkZWZhdWx0QmFja2dyb3VuZH07Ym9yZGVyLWJvdHRvbS1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfZGlhbG9nX2Zvb3RlciBbYmFja2dyb3VuZC1jb2xvcjp7ZGVmYXVsdEJhY2tncm91bmR9O291dGxpbmUtY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX2RpYWxvZ190YWIgW2JhY2tncm91bmQtY29sb3I6e2RpYWxvZ1RhYn07Ym9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV9kaWFsb2dfdGFiOmhvdmVyIFtiYWNrZ3JvdW5kLWNvbG9yOntsaWdodEJhY2tncm91bmR9O10ge2lkfSAuY2tlX2RpYWxvZ19jb250ZW50cyBbYm9yZGVyLXRvcC1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfZGlhbG9nX3RhYl9zZWxlY3RlZCwge2lkfSAuY2tlX2RpYWxvZ190YWJfc2VsZWN0ZWQ6aG92ZXIgW2JhY2tncm91bmQ6e2RpYWxvZ1RhYlNlbGVjdGVkfTtib3JkZXItYm90dG9tLWNvbG9yOntkaWFsb2dUYWJTZWxlY3RlZEJvcmRlcn07XSB7aWR9IC5ja2VfZGlhbG9nX2JvZHkgW2JhY2tncm91bmQ6e2RpYWxvZ0JvZHl9O2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IGEuY2tlX2J1dHRvbl9vZmY6aG92ZXIse2lkfSBhLmNrZV9idXR0b25fb2ZmOmZvY3VzLHtpZH0gYS5ja2VfYnV0dG9uX29mZjphY3RpdmUgW2JhY2tncm91bmQtY29sb3I6e2RhcmtCYWNrZ3JvdW5kfTtib3JkZXItY29sb3I6e3Rvb2xiYXJFbGVtZW50c0JvcmRlcn07XSB7aWR9IC5ja2VfYnV0dG9uX29uIFtiYWNrZ3JvdW5kLWNvbG9yOntja2VCdXR0b25Pbn07Ym9yZGVyLWNvbG9yOnt0b29sYmFyRWxlbWVudHNCb3JkZXJ9O10ge2lkfSAuY2tlX3Rvb2xiYXJfc2VwYXJhdG9yLHtpZH0gLmNrZV90b29sZ3JvdXAgYS5ja2VfYnV0dG9uOmxhc3QtY2hpbGQ6YWZ0ZXIse2lkfSAuY2tlX3Rvb2xncm91cCBhLmNrZV9idXR0b24uY2tlX2J1dHRvbl9kaXNhYmxlZDpob3ZlcjpsYXN0LWNoaWxkOmFmdGVyIFtiYWNrZ3JvdW5kLWNvbG9yOiB7dG9vbGJhckVsZW1lbnRzQm9yZGVyfTtib3JkZXItY29sb3I6IHt0b29sYmFyRWxlbWVudHNCb3JkZXJ9O10ge2lkfSBhLmNrZV9jb21ib19idXR0b246aG92ZXIse2lkfSBhLmNrZV9jb21ib19idXR0b246Zm9jdXMse2lkfSAuY2tlX2NvbWJvX29uIGEuY2tlX2NvbWJvX2J1dHRvbiBbYm9yZGVyLWNvbG9yOnt0b29sYmFyRWxlbWVudHNCb3JkZXJ9O2JhY2tncm91bmQtY29sb3I6e2RhcmtCYWNrZ3JvdW5kfTtdIHtpZH0gLmNrZV9jb21ibzphZnRlciBbYm9yZGVyLWNvbG9yOnt0b29sYmFyRWxlbWVudHNCb3JkZXJ9O10ge2lkfSAuY2tlX3BhdGhfaXRlbSBbY29sb3I6e2VsZW1lbnRzUGF0aENvbG9yfTtdIHtpZH0gYS5ja2VfcGF0aF9pdGVtOmhvdmVyLHtpZH0gYS5ja2VfcGF0aF9pdGVtOmZvY3VzLHtpZH0gYS5ja2VfcGF0aF9pdGVtOmFjdGl2ZSBbYmFja2dyb3VuZC1jb2xvcjp7ZGFya0JhY2tncm91bmR9O10ge2lkfS5ja2VfcGFuZWwgW2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSBcIiksXG5wYW5lbDpuZXcgQ0tFRElUT1IudGVtcGxhdGUoXCIuY2tlX3BhbmVsX2dyb3VwdGl0bGUgW2JhY2tncm91bmQtY29sb3I6e2xpZ2h0QmFja2dyb3VuZH07Ym9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIC5ja2VfbWVudWJ1dHRvbl9pY29uIFtiYWNrZ3JvdW5kLWNvbG9yOnttZW51YnV0dG9uSWNvbn07XSAuY2tlX21lbnVidXR0b246aG92ZXIsLmNrZV9tZW51YnV0dG9uOmZvY3VzLC5ja2VfbWVudWJ1dHRvbjphY3RpdmUgW2JhY2tncm91bmQtY29sb3I6e21lbnVidXR0b25Ib3Zlcn07XSAuY2tlX21lbnVidXR0b246aG92ZXIgLmNrZV9tZW51YnV0dG9uX2ljb24sIC5ja2VfbWVudWJ1dHRvbjpmb2N1cyAuY2tlX21lbnVidXR0b25faWNvbiwgLmNrZV9tZW51YnV0dG9uOmFjdGl2ZSAuY2tlX21lbnVidXR0b25faWNvbiBbYmFja2dyb3VuZC1jb2xvcjp7bWVudWJ1dHRvbkljb25Ib3Zlcn07XSAuY2tlX21lbnVidXR0b25fZGlzYWJsZWQ6aG92ZXIgLmNrZV9tZW51YnV0dG9uX2ljb24sLmNrZV9tZW51YnV0dG9uX2Rpc2FibGVkOmZvY3VzIC5ja2VfbWVudWJ1dHRvbl9pY29uLC5ja2VfbWVudWJ1dHRvbl9kaXNhYmxlZDphY3RpdmUgLmNrZV9tZW51YnV0dG9uX2ljb24gW2JhY2tncm91bmQtY29sb3I6e21lbnVidXR0b25JY29ufTtdIC5ja2VfbWVudXNlcGFyYXRvciBbYmFja2dyb3VuZC1jb2xvcjp7bWVudWJ1dHRvbkljb259O10gYTpob3Zlci5ja2VfY29sb3Jib3gsIGE6YWN0aXZlLmNrZV9jb2xvcmJveCBbYm9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIGE6aG92ZXIuY2tlX2NvbG9yYXV0bywgYTpob3Zlci5ja2VfY29sb3Jtb3JlLCBhOmFjdGl2ZS5ja2VfY29sb3JhdXRvLCBhOmFjdGl2ZS5ja2VfY29sb3Jtb3JlIFtiYWNrZ3JvdW5kLWNvbG9yOntja2VDb2xvcmF1dG99O2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSBcIil9O1xucmV0dXJuIGZ1bmN0aW9uKGUsYil7dmFyIGM9YShlLnVpQ29sb3IsLjQpLGM9e2lkOlwiLlwiK2UuaWQsZGVmYXVsdEJvcmRlcjphKGMsLS4yKSx0b29sYmFyRWxlbWVudHNCb3JkZXI6YShjLC0uMjUpLGRlZmF1bHRCYWNrZ3JvdW5kOmMsbGlnaHRCYWNrZ3JvdW5kOmEoYywuOCksZGFya0JhY2tncm91bmQ6YShjLC0uMTUpLGNrZUJ1dHRvbk9uOmEoYywuNCksY2tlUmVzaXplcjphKGMsLS40KSxja2VDb2xvcmF1dG86YShjLC44KSxkaWFsb2dCb2R5OmEoYywuNyksZGlhbG9nVGFiOmEoYywuNjUpLGRpYWxvZ1RhYlNlbGVjdGVkOlwiI0ZGRlwiLGRpYWxvZ1RhYlNlbGVjdGVkQm9yZGVyOlwiI0ZGRlwiLGVsZW1lbnRzUGF0aENvbG9yOmEoYywtLjYpLG1lbnVidXR0b25Ib3ZlcjphKGMsLjEpLG1lbnVidXR0b25JY29uOmEoYywuNSksbWVudWJ1dHRvbkljb25Ib3ZlcjphKGMsLjMpfTtyZXR1cm4gZltiXS5vdXRwdXQoYykucmVwbGFjZSgvXFxbL2csXCJ7XCIpLnJlcGxhY2UoL1xcXS9nLFwifVwiKX19KCksXG5DS0VESVRPUi5wbHVnaW5zLmFkZChcImRpYWxvZ3VpXCIse29uTG9hZDpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEpe3RoaXMuX3x8KHRoaXMuXz17fSk7dGhpcy5fW1wiZGVmYXVsdFwiXT10aGlzLl8uaW5pdFZhbHVlPWFbXCJkZWZhdWx0XCJdfHxcIlwiO3RoaXMuXy5yZXF1aXJlZD1hLnJlcXVpcmVkfHwhMTtmb3IodmFyIGI9W3RoaXMuX10sYz0xO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspYi5wdXNoKGFyZ3VtZW50c1tjXSk7Yi5wdXNoKCEwKTtDS0VESVRPUi50b29scy5leHRlbmQuYXBwbHkoQ0tFRElUT1IudG9vbHMsYik7cmV0dXJuIHRoaXMuX30sZj17YnVpbGQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnRleHRJbnB1dChhLGIsYyl9fSxlPXtidWlsZDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG5ldyBDS0VESVRPUi51aS5kaWFsb2dbYi50eXBlXShhLGIsYyl9fSxiPXtpc0NoYW5nZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRWYWx1ZSgpIT1cbnRoaXMuZ2V0SW5pdFZhbHVlKCl9LHJlc2V0OmZ1bmN0aW9uKGEpe3RoaXMuc2V0VmFsdWUodGhpcy5nZXRJbml0VmFsdWUoKSxhKX0sc2V0SW5pdFZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fLmluaXRWYWx1ZT10aGlzLmdldFZhbHVlKCl9LHJlc2V0SW5pdFZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fLmluaXRWYWx1ZT10aGlzLl9bXCJkZWZhdWx0XCJdfSxnZXRJbml0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmluaXRWYWx1ZX19LGM9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQucHJvdG90eXBlLmV2ZW50UHJvY2Vzc29ycyx7b25DaGFuZ2U6ZnVuY3Rpb24oYSxiKXt0aGlzLl8uZG9tT25DaGFuZ2VSZWdpc3RlcmVkfHwoYS5vbihcImxvYWRcIixmdW5jdGlvbigpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkub24oXCJjaGFuZ2VcIixmdW5jdGlvbigpe2EucGFydHMuZGlhbG9nLmlzVmlzaWJsZSgpJiZ0aGlzLmZpcmUoXCJjaGFuZ2VcIix7dmFsdWU6dGhpcy5nZXRWYWx1ZSgpfSl9LFxudGhpcyl9LHRoaXMpLHRoaXMuXy5kb21PbkNoYW5nZVJlZ2lzdGVyZWQ9ITApO3RoaXMub24oXCJjaGFuZ2VcIixiKX19LCEwKSxrPS9eb24oW0EtWl1cXHcrKS8sbD1mdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gYSkoay50ZXN0KGIpfHxcInRpdGxlXCI9PWJ8fFwidHlwZVwiPT1iKSYmZGVsZXRlIGFbYl07cmV0dXJuIGF9LG09ZnVuY3Rpb24oYSl7YT1hLmRhdGEuZ2V0S2V5c3Ryb2tlKCk7YT09Q0tFRElUT1IuU0hJRlQrQ0tFRElUT1IuQUxUKzM2P3RoaXMuc2V0RGlyZWN0aW9uTWFya2VyKFwibHRyXCIpOmE9PUNLRURJVE9SLlNISUZUK0NLRURJVE9SLkFMVCszNSYmdGhpcy5zZXREaXJlY3Rpb25NYXJrZXIoXCJydGxcIil9O0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi51aS5kaWFsb2cse2xhYmVsZWRFbGVtZW50OmZ1bmN0aW9uKGIsYyxnLGUpe2lmKCEoND5hcmd1bWVudHMubGVuZ3RoKSl7dmFyIGY9YS5jYWxsKHRoaXMsYyk7Zi5sYWJlbElkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1xuXCJfbGFiZWxcIjt0aGlzLl8uY2hpbGRyZW49W107dmFyIGs9e3JvbGU6Yy5yb2xlfHxcInByZXNlbnRhdGlvblwifTtjLmluY2x1ZGVMYWJlbCYmKGtbXCJhcmlhLWxhYmVsbGVkYnlcIl09Zi5sYWJlbElkKTtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LmNhbGwodGhpcyxiLGMsZyxcImRpdlwiLG51bGwsayxmdW5jdGlvbigpe3ZhciBhPVtdLGc9Yy5yZXF1aXJlZD9cIiBja2VfcmVxdWlyZWRcIjpcIlwiO1wiaG9yaXpvbnRhbFwiIT1jLmxhYmVsTGF5b3V0P2EucHVzaCgnXFx4M2NsYWJlbCBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2xhYmVsZWRfbGFiZWwnK2crJ1wiICcsJyBpZFxceDNkXCInK2YubGFiZWxJZCsnXCInLGYuaW5wdXRJZD8nIGZvclxceDNkXCInK2YuaW5wdXRJZCsnXCInOlwiXCIsKGMubGFiZWxTdHlsZT8nIHN0eWxlXFx4M2RcIicrYy5sYWJlbFN0eWxlKydcIic6XCJcIikrXCJcXHgzZVwiLGMucmVxdWlyZWQ/Yy5sYWJlbCsnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfbGFiZWxlZF9yZXF1aXJlZFwiIGFyaWEtaGlkZGVuXFx4M2RcInRydWVcIlxceDNlKlxceDNjL3NwYW5cXHgzZSc6XG5jLmxhYmVsLFwiXFx4M2MvbGFiZWxcXHgzZVwiLCdcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2xhYmVsZWRfY29udGVudFwiJyxjLmNvbnRyb2xTdHlsZT8nIHN0eWxlXFx4M2RcIicrYy5jb250cm9sU3R5bGUrJ1wiJzpcIlwiLCcgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlJyxlLmNhbGwodGhpcyxiLGMpLFwiXFx4M2MvZGl2XFx4M2VcIik6KGc9e3R5cGU6XCJoYm94XCIsd2lkdGhzOmMud2lkdGhzLHBhZGRpbmc6MCxjaGlsZHJlbjpbe3R5cGU6XCJodG1sXCIsaHRtbDonXFx4M2NsYWJlbCBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2xhYmVsZWRfbGFiZWwnK2crJ1wiIGlkXFx4M2RcIicrZi5sYWJlbElkKydcIiBmb3JcXHgzZFwiJytmLmlucHV0SWQrJ1wiJysoYy5sYWJlbFN0eWxlPycgc3R5bGVcXHgzZFwiJytjLmxhYmVsU3R5bGUrJ1wiJzpcIlwiKStcIlxceDNlXCIrQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShjLmxhYmVsKStcIlxceDNjL2xhYmVsXFx4M2VcIn0se3R5cGU6XCJodG1sXCIsaHRtbDonXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfbGFiZWxlZF9jb250ZW50XCInK1xuKGMuY29udHJvbFN0eWxlPycgc3R5bGVcXHgzZFwiJytjLmNvbnRyb2xTdHlsZSsnXCInOlwiXCIpK1wiXFx4M2VcIitlLmNhbGwodGhpcyxiLGMpK1wiXFx4M2Mvc3BhblxceDNlXCJ9XX0sQ0tFRElUT1IuZGlhbG9nLl8udWlFbGVtZW50QnVpbGRlcnMuaGJveC5idWlsZChiLGcsYSkpO3JldHVybiBhLmpvaW4oXCJcIil9KX19LHRleHRJbnB1dDpmdW5jdGlvbihiLGMsZyl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXthLmNhbGwodGhpcyxjKTt2YXIgZT10aGlzLl8uaW5wdXRJZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl90ZXh0SW5wdXRcIixmPXtcImNsYXNzXCI6XCJja2VfZGlhbG9nX3VpX2lucHV0X1wiK2MudHlwZSxpZDplLHR5cGU6Yy50eXBlfTtjLnZhbGlkYXRlJiYodGhpcy52YWxpZGF0ZT1jLnZhbGlkYXRlKTtjLm1heExlbmd0aCYmKGYubWF4bGVuZ3RoPWMubWF4TGVuZ3RoKTtjLnNpemUmJihmLnNpemU9Yy5zaXplKTtjLmlucHV0U3R5bGUmJihmLnN0eWxlPWMuaW5wdXRTdHlsZSk7dmFyIGs9XG50aGlzLGw9ITE7Yi5vbihcImxvYWRcIixmdW5jdGlvbigpe2suZ2V0SW5wdXRFbGVtZW50KCkub24oXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7MTM9PWEuZGF0YS5nZXRLZXlzdHJva2UoKSYmKGw9ITApfSk7ay5nZXRJbnB1dEVsZW1lbnQoKS5vbihcImtleXVwXCIsZnVuY3Rpb24oYSl7MTM9PWEuZGF0YS5nZXRLZXlzdHJva2UoKSYmbCYmKGIuZ2V0QnV0dG9uKFwib2tcIikmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmdldEJ1dHRvbihcIm9rXCIpLmNsaWNrKCl9LDApLGw9ITEpO2suYmlkaSYmbS5jYWxsKGssYSl9LG51bGwsbnVsbCwxRTMpfSk7Q0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LmNhbGwodGhpcyxiLGMsZyxmdW5jdGlvbigpe3ZhciBhPVsnXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9pbnB1dF8nLGMudHlwZSwnXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiddO2Mud2lkdGgmJmEucHVzaCgnc3R5bGVcXHgzZFwid2lkdGg6JytjLndpZHRoKydcIiAnKTthLnB1c2goXCJcXHgzZVxceDNjaW5wdXQgXCIpO1xuZltcImFyaWEtbGFiZWxsZWRieVwiXT10aGlzLl8ubGFiZWxJZDt0aGlzLl8ucmVxdWlyZWQmJihmW1wiYXJpYS1yZXF1aXJlZFwiXT10aGlzLl8ucmVxdWlyZWQpO2Zvcih2YXIgYiBpbiBmKWEucHVzaChiKydcXHgzZFwiJytmW2JdKydcIiAnKTthLnB1c2goXCIgL1xceDNlXFx4M2MvZGl2XFx4M2VcIik7cmV0dXJuIGEuam9pbihcIlwiKX0pfX0sdGV4dGFyZWE6ZnVuY3Rpb24oYixjLGcpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7YS5jYWxsKHRoaXMsYyk7dmFyIGU9dGhpcyxmPXRoaXMuXy5pbnB1dElkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX3RleHRhcmVhXCIsaz17fTtjLnZhbGlkYXRlJiYodGhpcy52YWxpZGF0ZT1jLnZhbGlkYXRlKTtrLnJvd3M9Yy5yb3dzfHw1O2suY29scz1jLmNvbHN8fDIwO2tbXCJjbGFzc1wiXT1cImNrZV9kaWFsb2dfdWlfaW5wdXRfdGV4dGFyZWEgXCIrKGNbXCJjbGFzc1wiXXx8XCJcIik7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGMuaW5wdXRTdHlsZSYmKGsuc3R5bGU9Yy5pbnB1dFN0eWxlKTtcbmMuZGlyJiYoay5kaXI9Yy5kaXIpO2lmKGUuYmlkaSliLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7ZS5nZXRJbnB1dEVsZW1lbnQoKS5vbihcImtleXVwXCIsbSl9LGUpO0NLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudC5jYWxsKHRoaXMsYixjLGcsZnVuY3Rpb24oKXtrW1wiYXJpYS1sYWJlbGxlZGJ5XCJdPXRoaXMuXy5sYWJlbElkO3RoaXMuXy5yZXF1aXJlZCYmKGtbXCJhcmlhLXJlcXVpcmVkXCJdPXRoaXMuXy5yZXF1aXJlZCk7dmFyIGE9WydcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2lucHV0X3RleHRhcmVhXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2N0ZXh0YXJlYSBpZFxceDNkXCInLGYsJ1wiICddLGI7Zm9yKGIgaW4gaylhLnB1c2goYisnXFx4M2RcIicrQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShrW2JdKSsnXCIgJyk7YS5wdXNoKFwiXFx4M2VcIixDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGUuX1tcImRlZmF1bHRcIl0pLFwiXFx4M2MvdGV4dGFyZWFcXHgzZVxceDNjL2RpdlxceDNlXCIpO1xucmV0dXJuIGEuam9pbihcIlwiKX0pfX0sY2hlY2tib3g6ZnVuY3Rpb24oYixjLGcpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7dmFyIGU9YS5jYWxsKHRoaXMsYyx7XCJkZWZhdWx0XCI6ISFjW1wiZGVmYXVsdFwiXX0pO2MudmFsaWRhdGUmJih0aGlzLnZhbGlkYXRlPWMudmFsaWRhdGUpO0NLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQuY2FsbCh0aGlzLGIsYyxnLFwic3BhblwiLG51bGwsbnVsbCxmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxjLHtpZDpjLmlkP2MuaWQrXCJfY2hlY2tib3hcIjpDS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl9jaGVja2JveFwifSwhMCksZz1bXSxmPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX2xhYmVsXCIsaz17XCJjbGFzc1wiOlwiY2tlX2RpYWxvZ191aV9jaGVja2JveF9pbnB1dFwiLHR5cGU6XCJjaGVja2JveFwiLFwiYXJpYS1sYWJlbGxlZGJ5XCI6Zn07bChhKTtjW1wiZGVmYXVsdFwiXSYmKGsuY2hlY2tlZD1cImNoZWNrZWRcIik7XCJ1bmRlZmluZWRcIiE9XG50eXBlb2YgYS5pbnB1dFN0eWxlJiYoYS5zdHlsZT1hLmlucHV0U3R5bGUpO2UuY2hlY2tib3g9bmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQoYixhLGcsXCJpbnB1dFwiLG51bGwsayk7Zy5wdXNoKCcgXFx4M2NsYWJlbCBpZFxceDNkXCInLGYsJ1wiIGZvclxceDNkXCInLGsuaWQsJ1wiJysoYy5sYWJlbFN0eWxlPycgc3R5bGVcXHgzZFwiJytjLmxhYmVsU3R5bGUrJ1wiJzpcIlwiKStcIlxceDNlXCIsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShjLmxhYmVsKSxcIlxceDNjL2xhYmVsXFx4M2VcIik7cmV0dXJuIGcuam9pbihcIlwiKX0pfX0scmFkaW86ZnVuY3Rpb24oYixjLGcpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7YS5jYWxsKHRoaXMsYyk7dGhpcy5fW1wiZGVmYXVsdFwiXXx8KHRoaXMuX1tcImRlZmF1bHRcIl09dGhpcy5fLmluaXRWYWx1ZT1jLml0ZW1zWzBdWzFdKTtjLnZhbGlkYXRlJiYodGhpcy52YWxpZGF0ZT1jLnZhbGlkYXRlKTt2YXIgZT1bXSxmPXRoaXM7Yy5yb2xlPVwicmFkaW9ncm91cFwiO1xuYy5pbmNsdWRlTGFiZWw9ITA7Q0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LmNhbGwodGhpcyxiLGMsZyxmdW5jdGlvbigpe2Zvcih2YXIgYT1bXSxnPVtdLGs9KGMuaWQ/Yy5pZDpDS0VESVRPUi50b29scy5nZXROZXh0SWQoKSkrXCJfcmFkaW9cIixtPTA7bTxjLml0ZW1zLmxlbmd0aDttKyspe3ZhciB6PWMuaXRlbXNbbV0scT12b2lkIDAhPT16WzJdP3pbMl06elswXSxBPXZvaWQgMCE9PXpbMV0/elsxXTp6WzBdLHk9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfcmFkaW9faW5wdXRcIix0PXkrXCJfbGFiZWxcIix5PUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxjLHtpZDp5LHRpdGxlOm51bGwsdHlwZTpudWxsfSwhMCkscT1DS0VESVRPUi50b29scy5leHRlbmQoe30seSx7dGl0bGU6cX0sITApLHY9e3R5cGU6XCJyYWRpb1wiLFwiY2xhc3NcIjpcImNrZV9kaWFsb2dfdWlfcmFkaW9faW5wdXRcIixuYW1lOmssdmFsdWU6QSxcImFyaWEtbGFiZWxsZWRieVwiOnR9LEI9W107Zi5fW1wiZGVmYXVsdFwiXT09XG5BJiYodi5jaGVja2VkPVwiY2hlY2tlZFwiKTtsKHkpO2wocSk7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHkuaW5wdXRTdHlsZSYmKHkuc3R5bGU9eS5pbnB1dFN0eWxlKTt5LmtleWJvYXJkRm9jdXNhYmxlPSEwO2UucHVzaChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudChiLHksQixcImlucHV0XCIsbnVsbCx2KSk7Qi5wdXNoKFwiIFwiKTtuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudChiLHEsQixcImxhYmVsXCIsbnVsbCx7aWQ6dCxcImZvclwiOnYuaWR9LHpbMF0pO2EucHVzaChCLmpvaW4oXCJcIikpfW5ldyBDS0VESVRPUi51aS5kaWFsb2cuaGJveChiLGUsYSxnKTtyZXR1cm4gZy5qb2luKFwiXCIpfSk7dGhpcy5fLmNoaWxkcmVuPWV9fSxidXR0b246ZnVuY3Rpb24oYixjLGcpe2lmKGFyZ3VtZW50cy5sZW5ndGgpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGMmJihjPWMoYi5nZXRQYXJlbnRFZGl0b3IoKSkpO2EuY2FsbCh0aGlzLGMse2Rpc2FibGVkOmMuZGlzYWJsZWR8fCExfSk7Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24odGhpcyk7XG52YXIgZT10aGlzO2Iub24oXCJsb2FkXCIsZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEVsZW1lbnQoKTsoZnVuY3Rpb24oKXthLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXtlLmNsaWNrKCk7YS5kYXRhLnByZXZlbnREZWZhdWx0KCl9KTthLm9uKFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRLZXlzdHJva2UoKWluezMyOjF9JiYoZS5jbGljaygpLGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKX0pfSkoKTthLnVuc2VsZWN0YWJsZSgpfSx0aGlzKTt2YXIgZj1DS0VESVRPUi50b29scy5leHRlbmQoe30sYyk7ZGVsZXRlIGYuc3R5bGU7dmFyIGs9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfbGFiZWxcIjtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LmNhbGwodGhpcyxiLGYsZyxcImFcIixudWxsLHtzdHlsZTpjLnN0eWxlLGhyZWY6XCJqYXZhc2NyaXB0OnZvaWQoMClcIix0aXRsZTpjLmxhYmVsLGhpZGVmb2N1czpcInRydWVcIixcImNsYXNzXCI6Y1tcImNsYXNzXCJdLHJvbGU6XCJidXR0b25cIixcblwiYXJpYS1sYWJlbGxlZGJ5XCI6a30sJ1xceDNjc3BhbiBpZFxceDNkXCInK2srJ1wiIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfYnV0dG9uXCJcXHgzZScrQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShjLmxhYmVsKStcIlxceDNjL3NwYW5cXHgzZVwiKX19LHNlbGVjdDpmdW5jdGlvbihiLGMsZyl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXt2YXIgZT1hLmNhbGwodGhpcyxjKTtjLnZhbGlkYXRlJiYodGhpcy52YWxpZGF0ZT1jLnZhbGlkYXRlKTtlLmlucHV0SWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfc2VsZWN0XCI7Q0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LmNhbGwodGhpcyxiLGMsZyxmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxjLHtpZDpjLmlkP2MuaWQrXCJfc2VsZWN0XCI6Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfc2VsZWN0XCJ9LCEwKSxnPVtdLGY9W10saz17aWQ6ZS5pbnB1dElkLFwiY2xhc3NcIjpcImNrZV9kaWFsb2dfdWlfaW5wdXRfc2VsZWN0XCIsXG5cImFyaWEtbGFiZWxsZWRieVwiOnRoaXMuXy5sYWJlbElkfTtnLnB1c2goJ1xceDNjZGl2IGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfaW5wdXRfJyxjLnR5cGUsJ1wiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCInKTtjLndpZHRoJiZnLnB1c2goJ3N0eWxlXFx4M2RcIndpZHRoOicrYy53aWR0aCsnXCIgJyk7Zy5wdXNoKFwiXFx4M2VcIik7dm9pZCAwIT09Yy5zaXplJiYoay5zaXplPWMuc2l6ZSk7dm9pZCAwIT09Yy5tdWx0aXBsZSYmKGsubXVsdGlwbGU9Yy5tdWx0aXBsZSk7bChhKTtmb3IodmFyIG09MCx6O208Yy5pdGVtcy5sZW5ndGgmJih6PWMuaXRlbXNbbV0pO20rKylmLnB1c2goJ1xceDNjb3B0aW9uIHZhbHVlXFx4M2RcIicsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZSh2b2lkIDAhPT16WzFdP3pbMV06elswXSkucmVwbGFjZSgvXCIvZyxcIlxceDI2cXVvdDtcIiksJ1wiIC9cXHgzZSAnLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoelswXSkpO1widW5kZWZpbmVkXCIhPXR5cGVvZiBhLmlucHV0U3R5bGUmJlxuKGEuc3R5bGU9YS5pbnB1dFN0eWxlKTtlLnNlbGVjdD1uZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudChiLGEsZyxcInNlbGVjdFwiLG51bGwsayxmLmpvaW4oXCJcIikpO2cucHVzaChcIlxceDNjL2RpdlxceDNlXCIpO3JldHVybiBnLmpvaW4oXCJcIil9KX19LGZpbGU6ZnVuY3Rpb24oYixjLGcpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7dm9pZCAwPT09Y1tcImRlZmF1bHRcIl0mJihjW1wiZGVmYXVsdFwiXT1cIlwiKTt2YXIgZT1DS0VESVRPUi50b29scy5leHRlbmQoYS5jYWxsKHRoaXMsYykse2RlZmluaXRpb246YyxidXR0b25zOltdfSk7Yy52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9Yy52YWxpZGF0ZSk7Yi5vbihcImxvYWRcIixmdW5jdGlvbigpe0NLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoZS5mcmFtZUlkKS5nZXRQYXJlbnQoKS5hZGRDbGFzcyhcImNrZV9kaWFsb2dfdWlfaW5wdXRfZmlsZVwiKX0pO0NLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudC5jYWxsKHRoaXMsYixjLGcsXG5mdW5jdGlvbigpe2UuZnJhbWVJZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl9maWxlSW5wdXRcIjt2YXIgYT1bJ1xceDNjaWZyYW1lIGZyYW1lYm9yZGVyXFx4M2RcIjBcIiBhbGxvd3RyYW5zcGFyZW5jeVxceDNkXCIwXCIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9pbnB1dF9maWxlXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiBpZFxceDNkXCInLGUuZnJhbWVJZCwnXCIgdGl0bGVcXHgzZFwiJyxjLmxhYmVsLCdcIiBzcmNcXHgzZFwiamF2YXNjcmlwdDp2b2lkKCddO2EucHVzaChDS0VESVRPUi5lbnYuaWU/XCIoZnVuY3Rpb24oKXtcIitlbmNvZGVVUklDb21wb25lbnQoXCJkb2N1bWVudC5vcGVuKCk7KFwiK0NLRURJVE9SLnRvb2xzLmZpeERvbWFpbitcIikoKTtkb2N1bWVudC5jbG9zZSgpO1wiKStcIn0pKClcIjpcIjBcIik7YS5wdXNoKCcpXCJcXHgzZVxceDNjL2lmcmFtZVxceDNlJyk7cmV0dXJuIGEuam9pbihcIlwiKX0pfX0sZmlsZUJ1dHRvbjpmdW5jdGlvbihiLGMsZyl7dmFyIGU9dGhpcztpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe2EuY2FsbCh0aGlzLFxuYyk7Yy52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9Yy52YWxpZGF0ZSk7dmFyIGY9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGMpLGs9Zi5vbkNsaWNrO2YuY2xhc3NOYW1lPShmLmNsYXNzTmFtZT9mLmNsYXNzTmFtZStcIiBcIjpcIlwiKStcImNrZV9kaWFsb2dfdWlfYnV0dG9uXCI7Zi5vbkNsaWNrPWZ1bmN0aW9uKGEpe3ZhciBnPWNbXCJmb3JcIl07YT1rP2suY2FsbCh0aGlzLGEpOiExOyExIT09YSYmKFwieGhyXCIhPT1hJiZiLmdldENvbnRlbnRFbGVtZW50KGdbMF0sZ1sxXSkuc3VibWl0KCksdGhpcy5kaXNhYmxlKCkpfTtiLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7Yi5nZXRDb250ZW50RWxlbWVudChjW1wiZm9yXCJdWzBdLGNbXCJmb3JcIl1bMV0pLl8uYnV0dG9ucy5wdXNoKGUpfSk7Q0tFRElUT1IudWkuZGlhbG9nLmJ1dHRvbi5jYWxsKHRoaXMsYixmLGcpfX0saHRtbDpmdW5jdGlvbigpe3ZhciBhPS9eXFxzKjxbXFx3Ol0rXFxzKyhbXj5dKik/Pi8sYj0vXihcXHMqPFtcXHc6XSsoPzpcXHMrW14+XSopPykoKD86LnxcXHJ8XFxuKSspJC8sXG5jPS9cXC8kLztyZXR1cm4gZnVuY3Rpb24oZSxmLGspe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7dmFyIGw9W10sbT1mLmh0bWw7XCJcXHgzY1wiIT1tLmNoYXJBdCgwKSYmKG09XCJcXHgzY3NwYW5cXHgzZVwiK20rXCJcXHgzYy9zcGFuXFx4M2VcIik7dmFyIHU9Zi5mb2N1cztpZih1KXt2YXIgej10aGlzLmZvY3VzO3RoaXMuZm9jdXM9ZnVuY3Rpb24oKXsoXCJmdW5jdGlvblwiPT10eXBlb2YgdT91OnopLmNhbGwodGhpcyk7dGhpcy5maXJlKFwiZm9jdXNcIil9O2YuaXNGb2N1c2FibGUmJih0aGlzLmlzRm9jdXNhYmxlPXRoaXMuaXNGb2N1c2FibGUpO3RoaXMua2V5Ym9hcmRGb2N1c2FibGU9ITB9Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsZSxmLGwsXCJzcGFuXCIsbnVsbCxudWxsLFwiXCIpO2w9bC5qb2luKFwiXCIpLm1hdGNoKGEpO209bS5tYXRjaChiKXx8W1wiXCIsXCJcIixcIlwiXTtjLnRlc3QobVsxXSkmJihtWzFdPW1bMV0uc2xpY2UoMCwtMSksbVsyXT1cIi9cIittWzJdKTtrLnB1c2goW21bMV0sXG5cIiBcIixsWzFdfHxcIlwiLG1bMl1dLmpvaW4oXCJcIikpfX19KCksZmllbGRzZXQ6ZnVuY3Rpb24oYSxiLGMsZSxmKXt2YXIgaz1mLmxhYmVsO3RoaXMuXz17Y2hpbGRyZW46Yn07Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsYSxmLGUsXCJmaWVsZHNldFwiLG51bGwsbnVsbCxmdW5jdGlvbigpe3ZhciBhPVtdO2smJmEucHVzaChcIlxceDNjbGVnZW5kXCIrKGYubGFiZWxTdHlsZT8nIHN0eWxlXFx4M2RcIicrZi5sYWJlbFN0eWxlKydcIic6XCJcIikrXCJcXHgzZVwiK2srXCJcXHgzYy9sZWdlbmRcXHgzZVwiKTtmb3IodmFyIGI9MDtiPGMubGVuZ3RoO2IrKylhLnB1c2goY1tiXSk7cmV0dXJuIGEuam9pbihcIlwiKX0pfX0sITApO0NLRURJVE9SLnVpLmRpYWxvZy5odG1sLnByb3RvdHlwZT1uZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudDtDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudCxcbntzZXRMYWJlbDpmdW5jdGlvbihhKXt2YXIgYj1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5sYWJlbElkKTsxPmIuZ2V0Q2hpbGRDb3VudCgpPyhuZXcgQ0tFRElUT1IuZG9tLnRleHQoYSxDS0VESVRPUi5kb2N1bWVudCkpLmFwcGVuZFRvKGIpOmIuZ2V0Q2hpbGQoMCkuJC5ub2RlVmFsdWU9YTtyZXR1cm4gdGhpc30sZ2V0TGFiZWw6ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5sYWJlbElkKTtyZXR1cm4hYXx8MT5hLmdldENoaWxkQ291bnQoKT9cIlwiOmEuZ2V0Q2hpbGQoMCkuZ2V0VGV4dCgpfSxldmVudFByb2Nlc3NvcnM6Y30sITApO0NLRURJVE9SLnVpLmRpYWxvZy5idXR0b24ucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudCx7Y2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmRpc2FibGVkPyExOnRoaXMuZmlyZShcImNsaWNrXCIse2RpYWxvZzp0aGlzLl8uZGlhbG9nfSl9LFxuZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5fLmRpc2FibGVkPSExO3ZhciBhPXRoaXMuZ2V0RWxlbWVudCgpO2EmJmEucmVtb3ZlQ2xhc3MoXCJja2VfZGlzYWJsZWRcIil9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLl8uZGlzYWJsZWQ9ITA7dGhpcy5nZXRFbGVtZW50KCkuYWRkQ2xhc3MoXCJja2VfZGlzYWJsZWRcIil9LGlzVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEVsZW1lbnQoKS5nZXRGaXJzdCgpLmlzVmlzaWJsZSgpfSxpc0VuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fLmRpc2FibGVkfSxldmVudFByb2Nlc3NvcnM6Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQucHJvdG90eXBlLmV2ZW50UHJvY2Vzc29ycyx7b25DbGljazpmdW5jdGlvbihhLGIpe3RoaXMub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX19LCEwKSxhY2Nlc3NLZXlVcDpmdW5jdGlvbigpe3RoaXMuY2xpY2soKX0sXG5hY2Nlc3NLZXlEb3duOmZ1bmN0aW9uKCl7dGhpcy5mb2N1cygpfSxrZXlib2FyZEZvY3VzYWJsZTohMH0sITApO0NLRURJVE9SLnVpLmRpYWxvZy50ZXh0SW5wdXQucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LHtnZXRJbnB1dEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLl8uaW5wdXRJZCl9LGZvY3VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZWxlY3RQYXJlbnRUYWIoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGI9YS5nZXRJbnB1dEVsZW1lbnQoKTtiJiZiLiQuZm9jdXMoKX0sMCl9LHNlbGVjdDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc2VsZWN0UGFyZW50VGFiKCk7c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBiPWEuZ2V0SW5wdXRFbGVtZW50KCk7YiYmKGIuJC5mb2N1cygpLGIuJC5zZWxlY3QoKSl9LDApfSxhY2Nlc3NLZXlVcDpmdW5jdGlvbigpe3RoaXMuc2VsZWN0KCl9LFxuc2V0VmFsdWU6ZnVuY3Rpb24oYSl7aWYodGhpcy5iaWRpKXt2YXIgYj1hJiZhLmNoYXJBdCgwKTsoYj1cIuKAqlwiPT1iP1wibHRyXCI6XCLigKtcIj09Yj9cInJ0bFwiOm51bGwpJiYoYT1hLnNsaWNlKDEpKTt0aGlzLnNldERpcmVjdGlvbk1hcmtlcihiKX1hfHwoYT1cIlwiKTtyZXR1cm4gQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5wcm90b3R5cGUuc2V0VmFsdWUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQucHJvdG90eXBlLmdldFZhbHVlLmNhbGwodGhpcyk7aWYodGhpcy5iaWRpJiZhKXt2YXIgYj10aGlzLmdldERpcmVjdGlvbk1hcmtlcigpO2ImJihhPShcImx0clwiPT1iP1wi4oCqXCI6XCLigKtcIikrYSl9cmV0dXJuIGF9LHNldERpcmVjdGlvbk1hcmtlcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldElucHV0RWxlbWVudCgpO2E/Yi5zZXRBdHRyaWJ1dGVzKHtkaXI6YSxcImRhdGEtY2tlLWRpci1tYXJrZXJcIjphfSk6XG50aGlzLmdldERpcmVjdGlvbk1hcmtlcigpJiZiLnJlbW92ZUF0dHJpYnV0ZXMoW1wiZGlyXCIsXCJkYXRhLWNrZS1kaXItbWFya2VyXCJdKX0sZ2V0RGlyZWN0aW9uTWFya2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuZGF0YShcImNrZS1kaXItbWFya2VyXCIpfSxrZXlib2FyZEZvY3VzYWJsZTohMH0sYiwhMCk7Q0tFRElUT1IudWkuZGlhbG9nLnRleHRhcmVhLnByb3RvdHlwZT1uZXcgQ0tFRElUT1IudWkuZGlhbG9nLnRleHRJbnB1dDtDS0VESVRPUi51aS5kaWFsb2cuc2VsZWN0LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudCx7Z2V0SW5wdXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5zZWxlY3QuZ2V0RWxlbWVudCgpfSxhZGQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcIm9wdGlvblwiLHRoaXMuZ2V0RGlhbG9nKCkuZ2V0UGFyZW50RWRpdG9yKCkuZG9jdW1lbnQpLFxuZj10aGlzLmdldElucHV0RWxlbWVudCgpLiQ7ZS4kLnRleHQ9YTtlLiQudmFsdWU9dm9pZCAwPT09Ynx8bnVsbD09PWI/YTpiO3ZvaWQgMD09PWN8fG51bGw9PT1jP0NLRURJVE9SLmVudi5pZT9mLmFkZChlLiQpOmYuYWRkKGUuJCxudWxsKTpmLmFkZChlLiQsYyk7cmV0dXJuIHRoaXN9LHJlbW92ZTpmdW5jdGlvbihhKXt0aGlzLmdldElucHV0RWxlbWVudCgpLiQucmVtb3ZlKGEpO3JldHVybiB0aGlzfSxjbGVhcjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmdldElucHV0RWxlbWVudCgpLiQ7MDxhLmxlbmd0aDspYS5yZW1vdmUoMCk7cmV0dXJuIHRoaXN9LGtleWJvYXJkRm9jdXNhYmxlOiEwfSxiLCEwKTtDS0VESVRPUi51aS5kaWFsb2cuY2hlY2tib3gucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudCx7Z2V0SW5wdXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5jaGVja2JveC5nZXRFbGVtZW50KCl9LFxuc2V0VmFsdWU6ZnVuY3Rpb24oYSxiKXt0aGlzLmdldElucHV0RWxlbWVudCgpLiQuY2hlY2tlZD1hOyFiJiZ0aGlzLmZpcmUoXCJjaGFuZ2VcIix7dmFsdWU6YX0pO3JldHVybiB0aGlzfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElucHV0RWxlbWVudCgpLiQuY2hlY2tlZH0sYWNjZXNzS2V5VXA6ZnVuY3Rpb24oKXt0aGlzLnNldFZhbHVlKCF0aGlzLmdldFZhbHVlKCkpfSxldmVudFByb2Nlc3NvcnM6e29uQ2hhbmdlOmZ1bmN0aW9uKGEsYil7aWYoIUNLRURJVE9SLmVudi5pZXx8ODxDS0VESVRPUi5lbnYudmVyc2lvbilyZXR1cm4gYy5vbkNoYW5nZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5vbihcImxvYWRcIixmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5jaGVja2JveC5nZXRFbGVtZW50KCk7YS5vbihcInByb3BlcnR5Y2hhbmdlXCIsZnVuY3Rpb24oYil7Yj1iLmRhdGEuJDtcImNoZWNrZWRcIj09Yi5wcm9wZXJ0eU5hbWUmJnRoaXMuZmlyZShcImNoYW5nZVwiLHt2YWx1ZTphLiQuY2hlY2tlZH0pfSxcbnRoaXMpfSx0aGlzKTt0aGlzLm9uKFwiY2hhbmdlXCIsYik7cmV0dXJuIG51bGx9fSxrZXlib2FyZEZvY3VzYWJsZTohMH0sYiwhMCk7Q0tFRElUT1IudWkuZGlhbG9nLnJhZGlvLnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQse3NldFZhbHVlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuXy5jaGlsZHJlbixlLGY9MDtmPGMubGVuZ3RoJiYoZT1jW2ZdKTtmKyspZS5nZXRFbGVtZW50KCkuJC5jaGVja2VkPWUuZ2V0VmFsdWUoKT09YTshYiYmdGhpcy5maXJlKFwiY2hhbmdlXCIse3ZhbHVlOmF9KTtyZXR1cm4gdGhpc30sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5fLmNoaWxkcmVuLGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmdldEVsZW1lbnQoKS4kLmNoZWNrZWQpcmV0dXJuIGFbYl0uZ2V0VmFsdWUoKTtyZXR1cm4gbnVsbH0sYWNjZXNzS2V5VXA6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2hpbGRyZW4sXG5iO2ZvcihiPTA7YjxhLmxlbmd0aDtiKyspaWYoYVtiXS5nZXRFbGVtZW50KCkuJC5jaGVja2VkKXthW2JdLmdldEVsZW1lbnQoKS5mb2N1cygpO3JldHVybn1hWzBdLmdldEVsZW1lbnQoKS5mb2N1cygpfSxldmVudFByb2Nlc3NvcnM6e29uQ2hhbmdlOmZ1bmN0aW9uKGEsYil7aWYoIUNLRURJVE9SLmVudi5pZXx8ODxDS0VESVRPUi5lbnYudmVyc2lvbilyZXR1cm4gYy5vbkNoYW5nZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5vbihcImxvYWRcIixmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLl8uY2hpbGRyZW4sYj10aGlzLGQ9MDtkPGEubGVuZ3RoO2QrKylhW2RdLmdldEVsZW1lbnQoKS5vbihcInByb3BlcnR5Y2hhbmdlXCIsZnVuY3Rpb24oYSl7YT1hLmRhdGEuJDtcImNoZWNrZWRcIj09YS5wcm9wZXJ0eU5hbWUmJnRoaXMuJC5jaGVja2VkJiZiLmZpcmUoXCJjaGFuZ2VcIix7dmFsdWU6dGhpcy5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKX0pfSl9LHRoaXMpO3RoaXMub24oXCJjaGFuZ2VcIixiKTtcbnJldHVybiBudWxsfX19LGIsITApO0NLRURJVE9SLnVpLmRpYWxvZy5maWxlLnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudCxiLHtnZXRJbnB1dEVsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5mcmFtZUlkKS5nZXRGcmFtZURvY3VtZW50KCk7cmV0dXJuIDA8YS4kLmZvcm1zLmxlbmd0aD9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYS4kLmZvcm1zWzBdLmVsZW1lbnRzWzBdKTp0aGlzLmdldEVsZW1lbnQoKX0sc3VibWl0OmZ1bmN0aW9uKCl7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5nZXRQYXJlbnQoKS4kLnN1Ym1pdCgpO3JldHVybiB0aGlzfSxnZXRBY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5nZXRQYXJlbnQoKS4kLmFjdGlvbn0scmVnaXN0ZXJFdmVudHM6ZnVuY3Rpb24oYSl7dmFyIGI9L15vbihbQS1aXVxcdyspLyxcbmMsZT1mdW5jdGlvbihhLGIsZCxjKXthLm9uKFwiZm9ybUxvYWRlZFwiLGZ1bmN0aW9uKCl7YS5nZXRJbnB1dEVsZW1lbnQoKS5vbihkLGMsYSl9KX0sZjtmb3IoZiBpbiBhKWlmKGM9Zi5tYXRjaChiKSl0aGlzLmV2ZW50UHJvY2Vzc29yc1tmXT90aGlzLmV2ZW50UHJvY2Vzc29yc1tmXS5jYWxsKHRoaXMsdGhpcy5fLmRpYWxvZyxhW2ZdKTplKHRoaXMsdGhpcy5fLmRpYWxvZyxjWzFdLnRvTG93ZXJDYXNlKCksYVtmXSk7cmV0dXJuIHRoaXN9LHJlc2V0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe2MuJC5vcGVuKCk7dmFyIGQ9XCJcIjtlLnNpemUmJihkPWUuc2l6ZS0oQ0tFRElUT1IuZW52LmllPzc6MCkpO3ZhciBxPWIuZnJhbWVJZCtcIl9pbnB1dFwiO2MuJC53cml0ZShbJ1xceDNjaHRtbCBkaXJcXHgzZFwiJyttKydcIiBsYW5nXFx4M2RcIicrdSsnXCJcXHgzZVxceDNjaGVhZFxceDNlXFx4M2N0aXRsZVxceDNlXFx4M2MvdGl0bGVcXHgzZVxceDNjL2hlYWRcXHgzZVxceDNjYm9keSBzdHlsZVxceDNkXCJtYXJnaW46IDA7IG92ZXJmbG93OiBoaWRkZW47IGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1wiXFx4M2UnLFxuJ1xceDNjZm9ybSBlbmN0eXBlXFx4M2RcIm11bHRpcGFydC9mb3JtLWRhdGFcIiBtZXRob2RcXHgzZFwiUE9TVFwiIGRpclxceDNkXCInK20rJ1wiIGxhbmdcXHgzZFwiJyt1KydcIiBhY3Rpb25cXHgzZFwiJyxDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGUuYWN0aW9uKSwnXCJcXHgzZVxceDNjbGFiZWwgaWRcXHgzZFwiJyxiLmxhYmVsSWQsJ1wiIGZvclxceDNkXCInLHEsJ1wiIHN0eWxlXFx4M2RcImRpc3BsYXk6bm9uZVwiXFx4M2UnLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoZS5sYWJlbCksJ1xceDNjL2xhYmVsXFx4M2VcXHgzY2lucHV0IHN0eWxlXFx4M2RcIndpZHRoOjEwMCVcIiBpZFxceDNkXCInLHEsJ1wiIGFyaWEtbGFiZWxsZWRieVxceDNkXCInLGIubGFiZWxJZCwnXCIgdHlwZVxceDNkXCJmaWxlXCIgbmFtZVxceDNkXCInLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoZS5pZHx8XCJja2VfdXBsb2FkXCIpLCdcIiBzaXplXFx4M2RcIicsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZSgwPGQ/ZDpcIlwiKSwnXCIgL1xceDNlXFx4M2MvZm9ybVxceDNlXFx4M2MvYm9keVxceDNlXFx4M2MvaHRtbFxceDNlXFx4M2NzY3JpcHRcXHgzZScsXG5DS0VESVRPUi5lbnYuaWU/XCIoXCIrQ0tFRElUT1IudG9vbHMuZml4RG9tYWluK1wiKSgpO1wiOlwiXCIsXCJ3aW5kb3cucGFyZW50LkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbihcIitrK1wiKTtcIixcIndpbmRvdy5vbmJlZm9yZXVubG9hZCBcXHgzZCBmdW5jdGlvbigpIHt3aW5kb3cucGFyZW50LkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbihcIitsK1wiKX1cIixcIlxceDNjL3NjcmlwdFxceDNlXCJdLmpvaW4oXCJcIikpO2MuJC5jbG9zZSgpO2ZvcihkPTA7ZDxmLmxlbmd0aDtkKyspZltkXS5lbmFibGUoKX12YXIgYj10aGlzLl8sYz1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGIuZnJhbWVJZCkuZ2V0RnJhbWVEb2N1bWVudCgpLGU9Yi5kZWZpbml0aW9uLGY9Yi5idXR0b25zLGs9dGhpcy5mb3JtTG9hZGVkTnVtYmVyLGw9dGhpcy5mb3JtVW5sb2FkTnVtYmVyLG09Yi5kaWFsb2cuXy5lZGl0b3IubGFuZy5kaXIsdT1iLmRpYWxvZy5fLmVkaXRvci5sYW5nQ29kZTtrfHwoaz10aGlzLmZvcm1Mb2FkZWROdW1iZXI9XG5DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbigpe3RoaXMuZmlyZShcImZvcm1Mb2FkZWRcIil9LHRoaXMpLGw9dGhpcy5mb3JtVW5sb2FkTnVtYmVyPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5jbGVhckN1c3RvbURhdGEoKX0sdGhpcyksdGhpcy5nZXREaWFsb2coKS5fLmVkaXRvci5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKGspO0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKGwpfSkpO0NLRURJVE9SLmVudi5nZWNrbz9zZXRUaW1lb3V0KGEsNTAwKTphKCl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuJC52YWx1ZXx8XCJcIn0sc2V0SW5pdFZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fLmluaXRWYWx1ZT1cIlwifSxldmVudFByb2Nlc3NvcnM6e29uQ2hhbmdlOmZ1bmN0aW9uKGEsYil7dGhpcy5fLmRvbU9uQ2hhbmdlUmVnaXN0ZXJlZHx8XG4odGhpcy5vbihcImZvcm1Mb2FkZWRcIixmdW5jdGlvbigpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkub24oXCJjaGFuZ2VcIixmdW5jdGlvbigpe3RoaXMuZmlyZShcImNoYW5nZVwiLHt2YWx1ZTp0aGlzLmdldFZhbHVlKCl9KX0sdGhpcyl9LHRoaXMpLHRoaXMuXy5kb21PbkNoYW5nZVJlZ2lzdGVyZWQ9ITApO3RoaXMub24oXCJjaGFuZ2VcIixiKX19LGtleWJvYXJkRm9jdXNhYmxlOiEwfSwhMCk7Q0tFRElUT1IudWkuZGlhbG9nLmZpbGVCdXR0b24ucHJvdG90eXBlPW5ldyBDS0VESVRPUi51aS5kaWFsb2cuYnV0dG9uO0NLRURJVE9SLnVpLmRpYWxvZy5maWVsZHNldC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuY2xvbmUoQ0tFRElUT1IudWkuZGlhbG9nLmhib3gucHJvdG90eXBlKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwidGV4dFwiLGYpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJwYXNzd29yZFwiLGYpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJ0ZWxcIixmKTtcbkNLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJ0ZXh0YXJlYVwiLGUpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJjaGVja2JveFwiLGUpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJyYWRpb1wiLGUpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJidXR0b25cIixlKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwic2VsZWN0XCIsZSk7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcImZpbGVcIixlKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwiZmlsZUJ1dHRvblwiLGUpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJodG1sXCIsZSk7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcImZpZWxkc2V0XCIse2J1aWxkOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGU9Yi5jaGlsZHJlbixmLGs9W10sbD1bXSxtPTA7bTxlLmxlbmd0aCYmKGY9ZVttXSk7bSsrKXt2YXIgdT1bXTtrLnB1c2godSk7bC5wdXNoKENLRURJVE9SLmRpYWxvZy5fLnVpRWxlbWVudEJ1aWxkZXJzW2YudHlwZV0uYnVpbGQoYSxcbmYsdSkpfXJldHVybiBuZXcgQ0tFRElUT1IudWkuZGlhbG9nW2IudHlwZV0oYSxsLGssYyxiKX19KX19KSxDS0VESVRPUi5ESUFMT0dfUkVTSVpFX05PTkU9MCxDS0VESVRPUi5ESUFMT0dfUkVTSVpFX1dJRFRIPTEsQ0tFRElUT1IuRElBTE9HX1JFU0laRV9IRUlHSFQ9MixDS0VESVRPUi5ESUFMT0dfUkVTSVpFX0JPVEg9MyxDS0VESVRPUi5ESUFMT0dfU1RBVEVfSURMRT0xLENLRURJVE9SLkRJQUxPR19TVEFURV9CVVNZPTIsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2EuXy50YWJCYXJNb2RlPSEwO2EuXy50YWJzW2EuXy5jdXJyZW50VGFiSWRdWzBdLmZvY3VzKCk7YS5fLmN1cnJlbnRGb2N1c0luZGV4PS0xfWZ1bmN0aW9uIGYoKXtmb3IodmFyIGE9dGhpcy5fLnRhYklkTGlzdC5sZW5ndGgsYj1DS0VESVRPUi50b29scy5pbmRleE9mKHRoaXMuXy50YWJJZExpc3QsdGhpcy5fLmN1cnJlbnRUYWJJZCkrYSxkPWItMTtkPmItYTtkLS0paWYodGhpcy5fLnRhYnNbdGhpcy5fLnRhYklkTGlzdFtkJVxuYV1dWzBdLiQub2Zmc2V0SGVpZ2h0KXJldHVybiB0aGlzLl8udGFiSWRMaXN0W2QlYV07cmV0dXJuIG51bGx9ZnVuY3Rpb24gZSgpe2Zvcih2YXIgYT10aGlzLl8udGFiSWRMaXN0Lmxlbmd0aCxiPUNLRURJVE9SLnRvb2xzLmluZGV4T2YodGhpcy5fLnRhYklkTGlzdCx0aGlzLl8uY3VycmVudFRhYklkKSxkPWIrMTtkPGIrYTtkKyspaWYodGhpcy5fLnRhYnNbdGhpcy5fLnRhYklkTGlzdFtkJWFdXVswXS4kLm9mZnNldEhlaWdodClyZXR1cm4gdGhpcy5fLnRhYklkTGlzdFtkJWFdO3JldHVybiBudWxsfWZ1bmN0aW9uIGIoYSxiKXtmb3IodmFyIGQ9YS4kLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5wdXRcIiksYz0wLGc9ZC5sZW5ndGg7YzxnO2MrKyl7dmFyIGU9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGRbY10pO1widGV4dFwiPT1lLmdldEF0dHJpYnV0ZShcInR5cGVcIikudG9Mb3dlckNhc2UoKSYmKGI/KGUuc2V0QXR0cmlidXRlKFwidmFsdWVcIixlLmdldEN1c3RvbURhdGEoXCJmYWtlX3ZhbHVlXCIpfHxcblwiXCIpLGUucmVtb3ZlQ3VzdG9tRGF0YShcImZha2VfdmFsdWVcIikpOihlLnNldEN1c3RvbURhdGEoXCJmYWtlX3ZhbHVlXCIsZS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSksZS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLFwiXCIpKSl9fWZ1bmN0aW9uIGMoYSxiKXt2YXIgZD10aGlzLmdldElucHV0RWxlbWVudCgpO2QmJihhP2QucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1pbnZhbGlkXCIpOmQuc2V0QXR0cmlidXRlKFwiYXJpYS1pbnZhbGlkXCIsITApKTthfHwodGhpcy5zZWxlY3Q/dGhpcy5zZWxlY3QoKTp0aGlzLmZvY3VzKCkpO2ImJmFsZXJ0KGIpO3RoaXMuZmlyZShcInZhbGlkYXRlZFwiLHt2YWxpZDphLG1zZzpifSl9ZnVuY3Rpb24gaygpe3ZhciBhPXRoaXMuZ2V0SW5wdXRFbGVtZW50KCk7YSYmYS5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWludmFsaWRcIil9ZnVuY3Rpb24gbChhKXt2YXIgYj1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChDS0VESVRPUi5hZGRUZW1wbGF0ZShcImRpYWxvZ1wiLFxuSykub3V0cHV0KHtpZDpDS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCksZWRpdG9ySWQ6YS5pZCxsYW5nRGlyOmEubGFuZy5kaXIsbGFuZ0NvZGU6YS5sYW5nQ29kZSxlZGl0b3JEaWFsb2dDbGFzczpcImNrZV9lZGl0b3JfXCIrYS5uYW1lLnJlcGxhY2UoL1xcLi9nLFwiXFxcXC5cIikrXCJfZGlhbG9nXCIsY2xvc2VUaXRsZTphLmxhbmcuY29tbW9uLmNsb3NlLGhpZHBpOkNLRURJVE9SLmVudi5oaWRwaT9cImNrZV9oaWRwaVwiOlwiXCJ9KSksZD1iLmdldENoaWxkKFswLDAsMCwwLDBdKSxjPWQuZ2V0Q2hpbGQoMCksZz1kLmdldENoaWxkKDEpO2EucGx1Z2lucy5jbGlwYm9hcmQmJkNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLnByZXZlbnREZWZhdWx0RHJvcE9uRWxlbWVudChkKTshQ0tFRElUT1IuZW52LmllfHxDS0VESVRPUi5lbnYucXVpcmtzfHxDS0VESVRPUi5lbnYuZWRnZXx8KGE9XCJqYXZhc2NyaXB0OnZvaWQoZnVuY3Rpb24oKXtcIitlbmNvZGVVUklDb21wb25lbnQoXCJkb2N1bWVudC5vcGVuKCk7KFwiK1xuQ0tFRElUT1IudG9vbHMuZml4RG9tYWluK1wiKSgpO2RvY3VtZW50LmNsb3NlKCk7XCIpK1wifSgpKVwiLENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2lmcmFtZSBmcmFtZUJvcmRlclxceDNkXCIwXCIgY2xhc3NcXHgzZFwiY2tlX2lmcmFtZV9zaGltXCIgc3JjXFx4M2RcIicrYSsnXCIgdGFiSW5kZXhcXHgzZFwiLTFcIlxceDNlXFx4M2MvaWZyYW1lXFx4M2UnKS5hcHBlbmRUbyhkLmdldFBhcmVudCgpKSk7Yy51bnNlbGVjdGFibGUoKTtnLnVuc2VsZWN0YWJsZSgpO3JldHVybntlbGVtZW50OmIscGFydHM6e2RpYWxvZzpiLmdldENoaWxkKDApLHRpdGxlOmMsY2xvc2U6Zyx0YWJzOmQuZ2V0Q2hpbGQoMiksY29udGVudHM6ZC5nZXRDaGlsZChbMywwLDAsMF0pLGZvb3RlcjpkLmdldENoaWxkKFszLDAsMSwwXSl9fX1mdW5jdGlvbiBtKGEsYixkKXt0aGlzLmVsZW1lbnQ9Yjt0aGlzLmZvY3VzSW5kZXg9ZDt0aGlzLnRhYkluZGV4PTA7dGhpcy5pc0ZvY3VzYWJsZT1mdW5jdGlvbigpe3JldHVybiFiLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpJiZcbmIuaXNWaXNpYmxlKCl9O3RoaXMuZm9jdXM9ZnVuY3Rpb24oKXthLl8uY3VycmVudEZvY3VzSW5kZXg9dGhpcy5mb2N1c0luZGV4O3RoaXMuZWxlbWVudC5mb2N1cygpfTtiLm9uKFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRLZXlzdHJva2UoKWluezMyOjEsMTM6MX0mJnRoaXMuZmlyZShcImNsaWNrXCIpfSk7Yi5vbihcImZvY3VzXCIsZnVuY3Rpb24oKXt0aGlzLmZpcmUoXCJtb3VzZW92ZXJcIil9KTtiLm9uKFwiYmx1clwiLGZ1bmN0aW9uKCl7dGhpcy5maXJlKFwibW91c2VvdXRcIil9KX1mdW5jdGlvbiBkKGEpe2Z1bmN0aW9uIGIoKXthLmxheW91dCgpfXZhciBkPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpO2Qub24oXCJyZXNpemVcIixiKTthLm9uKFwiaGlkZVwiLGZ1bmN0aW9uKCl7ZC5yZW1vdmVMaXN0ZW5lcihcInJlc2l6ZVwiLGIpfSl9ZnVuY3Rpb24gaChhLGIpe3RoaXMuZGlhbG9nPWE7Zm9yKHZhciBkPWIuY29udGVudHMsYz0wLGU7ZT1kW2NdO2MrKylkW2NdPWUmJm5ldyBnKGEsXG5lKTtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxiKX1mdW5jdGlvbiBnKGEsYil7dGhpcy5fPXtkaWFsb2c6YX07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYil9ZnVuY3Rpb24gbihhKXtmdW5jdGlvbiBiKGQpe3ZhciBrPWEuZ2V0U2l6ZSgpLGw9YS5wYXJ0cy5kaWFsb2cuZ2V0UGFyZW50KCkuZ2V0Q2xpZW50U2l6ZSgpLG09ZC5kYXRhLiQuc2NyZWVuWCxuPWQuZGF0YS4kLnNjcmVlblksdj1tLWMueCxxPW4tYy55O2M9e3g6bSx5Om59O2cueCs9djtnLnkrPXE7bT1nLngraFszXTxmPy1oWzNdOmcueC1oWzFdPmwud2lkdGgtay53aWR0aC1mP2wud2lkdGgtay53aWR0aCsoXCJydGxcIj09ZS5sYW5nLmRpcj8wOmhbMV0pOmcueDtrPWcueStoWzBdPGY/LWhbMF06Zy55LWhbMl0+bC5oZWlnaHQtay5oZWlnaHQtZj9sLmhlaWdodC1rLmhlaWdodCtoWzJdOmcueTttPU1hdGguZmxvb3IobSk7az1NYXRoLmZsb29yKGspO2EubW92ZShtLGssMSk7ZC5kYXRhLnByZXZlbnREZWZhdWx0KCl9XG5mdW5jdGlvbiBkKCl7Q0tFRElUT1IuZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZW1vdmVcIixiKTtDS0VESVRPUi5kb2N1bWVudC5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixkKTtpZihDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXt2YXIgYT1DLmdldENoaWxkKDApLmdldEZyYW1lRG9jdW1lbnQoKTthLnJlbW92ZUxpc3RlbmVyKFwibW91c2Vtb3ZlXCIsYik7YS5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixkKX19dmFyIGM9bnVsbCxnPW51bGwsZT1hLmdldFBhcmVudEVkaXRvcigpLGY9ZS5jb25maWcuZGlhbG9nX21hZ25ldERpc3RhbmNlLGg9Q0tFRElUT1Iuc2tpbi5tYXJnaW5zfHxbMCwwLDAsMF07XCJ1bmRlZmluZWRcIj09dHlwZW9mIGYmJihmPTIwKTthLnBhcnRzLnRpdGxlLm9uKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oZSl7aWYoIWEuXy5tb3ZlZCl7dmFyIGY9YS5fLmVsZW1lbnQ7Zi5nZXRGaXJzdCgpLnNldFN0eWxlKFwicG9zaXRpb25cIixcImFic29sdXRlXCIpO2YucmVtb3ZlU3R5bGUoXCJkaXNwbGF5XCIpO1xuYS5fLm1vdmVkPSEwO2EubGF5b3V0KCl9Yz17eDplLmRhdGEuJC5zY3JlZW5YLHk6ZS5kYXRhLiQuc2NyZWVuWX07Q0tFRElUT1IuZG9jdW1lbnQub24oXCJtb3VzZW1vdmVcIixiKTtDS0VESVRPUi5kb2N1bWVudC5vbihcIm1vdXNldXBcIixkKTtnPWEuZ2V0UG9zaXRpb24oKTtDS0VESVRPUi5lbnYuaWU2Q29tcGF0JiYoZj1DLmdldENoaWxkKDApLmdldEZyYW1lRG9jdW1lbnQoKSxmLm9uKFwibW91c2Vtb3ZlXCIsYiksZi5vbihcIm1vdXNldXBcIixkKSk7ZS5kYXRhLnByZXZlbnREZWZhdWx0KCl9LGEpfWZ1bmN0aW9uIHcoYSl7ZnVuY3Rpb24gYihkKXt2YXIgbj1cInJ0bFwiPT1lLmxhbmcuZGlyLHY9bS53aWR0aCxxPW0uaGVpZ2h0LHQ9disoZC5kYXRhLiQuc2NyZWVuWC1sLngpKihuPy0xOjEpKihhLl8ubW92ZWQ/MToyKSxJPXErKGQuZGF0YS4kLnNjcmVlblktbC55KSooYS5fLm1vdmVkPzE6Miksdz1hLl8uZWxlbWVudC5nZXRGaXJzdCgpLHc9biYmcGFyc2VJbnQody5nZXRDb21wdXRlZFN0eWxlKFwicmlnaHRcIiksXG4xMCkseT1hLmdldFBvc2l0aW9uKCk7eS54PXkueHx8MDt5Lnk9eS55fHwwO3kueStJPmsuaGVpZ2h0JiYoST1rLmhlaWdodC15LnkpOyhuP3c6eS54KSt0Pmsud2lkdGgmJih0PWsud2lkdGgtKG4/dzp5LngpKTtJPU1hdGguZmxvb3IoSSk7dD1NYXRoLmZsb29yKHQpO2lmKGc9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfV0lEVEh8fGc9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfQk9USCl2PU1hdGgubWF4KGMubWluV2lkdGh8fDAsdC1mKTtpZihnPT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX0hFSUdIVHx8Zz09Q0tFRElUT1IuRElBTE9HX1JFU0laRV9CT1RIKXE9TWF0aC5tYXgoYy5taW5IZWlnaHR8fDAsSS1oKTthLnJlc2l6ZSh2LHEpO2EuXy5tb3ZlZCYmeChhLGEuXy5wb3NpdGlvbi54LGEuXy5wb3NpdGlvbi55KTthLl8ubW92ZWR8fGEubGF5b3V0KCk7ZC5kYXRhLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gZCgpe0NLRURJVE9SLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLFxuZCk7Q0tFRElUT1IuZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZW1vdmVcIixiKTtuJiYobi5yZW1vdmUoKSxuPW51bGwpO2lmKENLRURJVE9SLmVudi5pZTZDb21wYXQpe3ZhciBhPUMuZ2V0Q2hpbGQoMCkuZ2V0RnJhbWVEb2N1bWVudCgpO2EucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsZCk7YS5yZW1vdmVMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLGIpfX12YXIgYz1hLmRlZmluaXRpb24sZz1jLnJlc2l6YWJsZTtpZihnIT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX05PTkUpe3ZhciBlPWEuZ2V0UGFyZW50RWRpdG9yKCksZixoLGssbCxtLG4sdj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihjKXtmdW5jdGlvbiBnKGEpe3JldHVybiBhLmlzVmlzaWJsZSgpfW09YS5nZXRTaXplKCk7dmFyIGU9YS5wYXJ0cy5jb250ZW50cyx2PWUuJC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlmcmFtZVwiKS5sZW5ndGgscT0hKENLRURJVE9SLmVudi5nZWNrb3x8Q0tFRElUT1IuZW52LmllJiZcbkNLRURJVE9SLmVudi5xdWlya3MpO3YmJihuPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3Jlc2l6ZV9jb3ZlclwiIHN0eWxlXFx4M2RcImhlaWdodDogMTAwJTsgcG9zaXRpb246IGFic29sdXRlOyB3aWR0aDogMTAwJTsgbGVmdDowOyB0b3A6MDtcIlxceDNlXFx4M2MvZGl2XFx4M2UnKSxlLmFwcGVuZChuKSk7aD1tLmhlaWdodC1hLnBhcnRzLmNvbnRlbnRzLmdldEZpcnN0KGcpLmdldFNpemUoXCJoZWlnaHRcIixxKTtmPW0ud2lkdGgtYS5wYXJ0cy5jb250ZW50cy5nZXRGaXJzdChnKS5nZXRTaXplKFwid2lkdGhcIiwxKTtsPXt4OmMuc2NyZWVuWCx5OmMuc2NyZWVuWX07az1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRWaWV3UGFuZVNpemUoKTtDS0VESVRPUi5kb2N1bWVudC5vbihcIm1vdXNlbW92ZVwiLGIpO0NLRURJVE9SLmRvY3VtZW50Lm9uKFwibW91c2V1cFwiLGQpO0NLRURJVE9SLmVudi5pZTZDb21wYXQmJlxuKGU9Qy5nZXRDaGlsZCgwKS5nZXRGcmFtZURvY3VtZW50KCksZS5vbihcIm1vdXNlbW92ZVwiLGIpLGUub24oXCJtb3VzZXVwXCIsZCkpO2MucHJldmVudERlZmF1bHQmJmMucHJldmVudERlZmF1bHQoKX0pO2Eub24oXCJsb2FkXCIsZnVuY3Rpb24oKXt2YXIgYj1cIlwiO2c9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfV0lEVEg/Yj1cIiBja2VfcmVzaXplcl9ob3Jpem9udGFsXCI6Zz09Q0tFRElUT1IuRElBTE9HX1JFU0laRV9IRUlHSFQmJihiPVwiIGNrZV9yZXNpemVyX3ZlcnRpY2FsXCIpO2I9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjZGl2IGNsYXNzXFx4M2RcImNrZV9yZXNpemVyJytiK1wiIGNrZV9yZXNpemVyX1wiK2UubGFuZy5kaXIrJ1wiIHRpdGxlXFx4M2RcIicrQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShlLmxhbmcuY29tbW9uLnJlc2l6ZSkrJ1wiIG9ubW91c2Vkb3duXFx4M2RcIkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbignK3YrJywgZXZlbnQgKVwiXFx4M2UnKyhcImx0clwiPT1cbmUubGFuZy5kaXI/XCLil6JcIjpcIuKXo1wiKStcIlxceDNjL2RpdlxceDNlXCIpO2EucGFydHMuZm9vdGVyLmFwcGVuZChiLDEpfSk7ZS5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKHYpfSl9fWZ1bmN0aW9uIHgoYSxiLGQpe3ZhciBjPWEucGFydHMuZGlhbG9nLmdldFBhcmVudCgpLmdldENsaWVudFNpemUoKSxnPWEuZ2V0U2l6ZSgpLGU9YS5fLnZpZXdwb3J0UmF0aW8sZj1NYXRoLm1heChjLndpZHRoLWcud2lkdGgsMCksYz1NYXRoLm1heChjLmhlaWdodC1nLmhlaWdodCwwKTtlLndpZHRoPWY/Yi9mOmUud2lkdGg7ZS5oZWlnaHQ9Yz9kL2M6ZS5oZWlnaHQ7YS5fLnZpZXdwb3J0UmF0aW89ZX1mdW5jdGlvbiByKGEpe2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgxKX1mdW5jdGlvbiBwKGEpe3ZhciBiPWEuY29uZmlnLGQ9Q0tFRElUT1Iuc2tpbk5hbWV8fGEuY29uZmlnLnNraW4sYz1iLmRpYWxvZ19iYWNrZ3JvdW5kQ292ZXJDb2xvcnx8KFwibW9vbm8tbGlzYVwiPT1cbmQ/XCJibGFja1wiOlwid2hpdGVcIiksZD1iLmRpYWxvZ19iYWNrZ3JvdW5kQ292ZXJPcGFjaXR5LGc9Yi5iYXNlRmxvYXRaSW5kZXgsYj1DS0VESVRPUi50b29scy5nZW5LZXkoYyxkLGcpLGU9RVtiXTtDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuYWRkQ2xhc3MoXCJja2VfZGlhbG9nX29wZW5cIik7ZT9lLnNob3coKTooZz1bJ1xceDNjZGl2IHRhYkluZGV4XFx4M2RcIi0xXCIgc3R5bGVcXHgzZFwicG9zaXRpb246ICcsQ0tFRElUT1IuZW52LmllNkNvbXBhdD9cImFic29sdXRlXCI6XCJmaXhlZFwiLFwiOyB6LWluZGV4OiBcIixnLFwiOyB0b3A6IDBweDsgbGVmdDogMHB4OyBcIixcIjsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTtcIixDS0VESVRPUi5lbnYuaWU2Q29tcGF0P1wiXCI6XCJiYWNrZ3JvdW5kLWNvbG9yOiBcIitjLCdcIiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX2JhY2tncm91bmRfY292ZXJcIlxceDNlJ10sQ0tFRElUT1IuZW52LmllNkNvbXBhdCYmKGM9XCJcXHgzY2h0bWxcXHgzZVxceDNjYm9keSBzdHlsZVxceDNkXFxcXCdiYWNrZ3JvdW5kLWNvbG9yOlwiK1xuYytcIjtcXFxcJ1xceDNlXFx4M2MvYm9keVxceDNlXFx4M2MvaHRtbFxceDNlXCIsZy5wdXNoKCdcXHgzY2lmcmFtZSBoaWRlZm9jdXNcXHgzZFwidHJ1ZVwiIGZyYW1lYm9yZGVyXFx4M2RcIjBcIiBpZFxceDNkXCJja2VfZGlhbG9nX2JhY2tncm91bmRfaWZyYW1lXCIgc3JjXFx4M2RcImphdmFzY3JpcHQ6JyksZy5wdXNoKFwidm9pZCgoZnVuY3Rpb24oKXtcIitlbmNvZGVVUklDb21wb25lbnQoXCJkb2N1bWVudC5vcGVuKCk7KFwiK0NLRURJVE9SLnRvb2xzLmZpeERvbWFpbitcIikoKTtkb2N1bWVudC53cml0ZSggJ1wiK2MrXCInICk7ZG9jdW1lbnQuY2xvc2UoKTtcIikrXCJ9KSgpKVwiKSxnLnB1c2goJ1wiIHN0eWxlXFx4M2RcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDt3aWR0aDoxMDAlO2hlaWdodDogMTAwJTtmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShvcGFjaXR5XFx4M2QwKVwiXFx4M2VcXHgzYy9pZnJhbWVcXHgzZScpKSxnLnB1c2goXCJcXHgzYy9kaXZcXHgzZVwiKSxlPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKGcuam9pbihcIlwiKSksXG5lLnNldE9wYWNpdHkodm9pZCAwIT09ZD9kOi41KSxlLm9uKFwia2V5ZG93blwiLHIpLGUub24oXCJrZXlwcmVzc1wiLHIpLGUub24oXCJrZXl1cFwiLHIpLGUuYXBwZW5kVG8oQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpKSxFW2JdPWUpO2EuZm9jdXNNYW5hZ2VyLmFkZChlKTtDPWU7Q0tFRElUT1IuZW52Lm1hYyYmQ0tFRElUT1IuZW52LndlYmtpdHx8ZS5mb2N1cygpfWZ1bmN0aW9uIHUoYSl7Q0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLnJlbW92ZUNsYXNzKFwiY2tlX2RpYWxvZ19vcGVuXCIpO0MmJihhLmZvY3VzTWFuYWdlci5yZW1vdmUoQyksQy5oaWRlKCkpfWZ1bmN0aW9uIHooYSl7dmFyIGI9YS5kYXRhLiQuY3RybEtleXx8YS5kYXRhLiQubWV0YUtleSxkPWEuZGF0YS4kLmFsdEtleSxjPWEuZGF0YS4kLnNoaWZ0S2V5LGc9U3RyaW5nLmZyb21DaGFyQ29kZShhLmRhdGEuJC5rZXlDb2RlKTsoYj1QWyhiP1wiQ1RSTCtcIjpcIlwiKSsoZD9cIkFMVCtcIjpcIlwiKSsoYz9cIlNISUZUK1wiOlwiXCIpK1xuZ10pJiZiLmxlbmd0aCYmKGI9YltiLmxlbmd0aC0xXSxiLmtleWRvd24mJmIua2V5ZG93bi5jYWxsKGIudWlFbGVtZW50LGIuZGlhbG9nLGIua2V5KSxhLmRhdGEucHJldmVudERlZmF1bHQoKSl9ZnVuY3Rpb24gcShhKXt2YXIgYj1hLmRhdGEuJC5jdHJsS2V5fHxhLmRhdGEuJC5tZXRhS2V5LGQ9YS5kYXRhLiQuYWx0S2V5LGM9YS5kYXRhLiQuc2hpZnRLZXksZz1TdHJpbmcuZnJvbUNoYXJDb2RlKGEuZGF0YS4kLmtleUNvZGUpOyhiPVBbKGI/XCJDVFJMK1wiOlwiXCIpKyhkP1wiQUxUK1wiOlwiXCIpKyhjP1wiU0hJRlQrXCI6XCJcIikrZ10pJiZiLmxlbmd0aCYmKGI9YltiLmxlbmd0aC0xXSxiLmtleXVwJiYoYi5rZXl1cC5jYWxsKGIudWlFbGVtZW50LGIuZGlhbG9nLGIua2V5KSxhLmRhdGEucHJldmVudERlZmF1bHQoKSkpfWZ1bmN0aW9uIEEoYSxiLGQsYyxnKXsoUFtkXXx8KFBbZF09W10pKS5wdXNoKHt1aUVsZW1lbnQ6YSxkaWFsb2c6YixrZXk6ZCxrZXl1cDpnfHxhLmFjY2Vzc0tleVVwLGtleWRvd246Y3x8XG5hLmFjY2Vzc0tleURvd259KX1mdW5jdGlvbiB5KGEpe2Zvcih2YXIgYiBpbiBQKXtmb3IodmFyIGQ9UFtiXSxjPWQubGVuZ3RoLTE7MDw9YztjLS0pZFtjXS5kaWFsb2chPWEmJmRbY10udWlFbGVtZW50IT1hfHxkLnNwbGljZShjLDEpOzA9PT1kLmxlbmd0aCYmZGVsZXRlIFBbYl19fWZ1bmN0aW9uIHQoYSxiKXthLl8uYWNjZXNzS2V5TWFwW2JdJiZhLnNlbGVjdFBhZ2UoYS5fLmFjY2Vzc0tleU1hcFtiXSl9ZnVuY3Rpb24gdigpe312YXIgQj1DS0VESVRPUi50b29scy5jc3NMZW5ndGgsRCxDLEY9ITEsSj0hQ0tFRElUT1IuZW52LmllfHxDS0VESVRPUi5lbnYuZWRnZSxLPSdcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfcmVzZXRfYWxsIGNrZV9kaWFsb2dfY29udGFpbmVyIHtlZGl0b3JJZH0ge2VkaXRvckRpYWxvZ0NsYXNzfSB7aGlkcGl9XCIgZGlyXFx4M2RcIntsYW5nRGlyfVwiIHN0eWxlXFx4M2RcIicrKEo/XCJkaXNwbGF5OmZsZXhcIjpcIlwiKSsnXCIgbGFuZ1xceDNkXCJ7bGFuZ0NvZGV9XCIgcm9sZVxceDNkXCJkaWFsb2dcIiBhcmlhLWxhYmVsbGVkYnlcXHgzZFwiY2tlX2RpYWxvZ190aXRsZV97aWR9XCJcXHgzZVxceDNjdGFibGUgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZyAnK1xuQ0tFRElUT1IuZW52LmNzc0NsYXNzKycgY2tlX3tsYW5nRGlyfVwiIHN0eWxlXFx4M2RcIicrKEo/XCJtYXJnaW46YXV0b1wiOlwicG9zaXRpb246YWJzb2x1dGVcIikrJ1wiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjdHJcXHgzZVxceDNjdGQgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ19ib2R5XCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2NkaXYgaWRcXHgzZFwiY2tlX2RpYWxvZ190aXRsZV97aWR9XCIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ190aXRsZVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjL2RpdlxceDNlXFx4M2NhIGlkXFx4M2RcImNrZV9kaWFsb2dfY2xvc2VfYnV0dG9uX3tpZH1cIiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX2Nsb3NlX2J1dHRvblwiIGhyZWZcXHgzZFwiamF2YXNjcmlwdDp2b2lkKDApXCIgdGl0bGVcXHgzZFwie2Nsb3NlVGl0bGV9XCIgcm9sZVxceDNkXCJidXR0b25cIlxceDNlXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9sYWJlbFwiXFx4M2VYXFx4M2Mvc3BhblxceDNlXFx4M2MvYVxceDNlXFx4M2NkaXYgaWRcXHgzZFwiY2tlX2RpYWxvZ190YWJzX3tpZH1cIiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3RhYnNcIiByb2xlXFx4M2RcInRhYmxpc3RcIlxceDNlXFx4M2MvZGl2XFx4M2VcXHgzY3RhYmxlIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfY29udGVudHNcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzY3RyXFx4M2VcXHgzY3RkIGlkXFx4M2RcImNrZV9kaWFsb2dfY29udGVudHNfe2lkfVwiIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfY29udGVudHNfYm9keVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjL3RkXFx4M2VcXHgzYy90clxceDNlXFx4M2N0clxceDNlXFx4M2N0ZCBpZFxceDNkXCJja2VfZGlhbG9nX2Zvb3Rlcl97aWR9XCIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ19mb290ZXJcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzYy90ZFxceDNlXFx4M2MvdHJcXHgzZVxceDNjL3RhYmxlXFx4M2VcXHgzYy9kaXZcXHgzZVxceDNjL3RkXFx4M2VcXHgzYy90clxceDNlXFx4M2MvdGFibGVcXHgzZVxceDNjL2RpdlxceDNlJztcbkNLRURJVE9SLmRpYWxvZz1mdW5jdGlvbihiLGQpe2Z1bmN0aW9uIGcoKXt2YXIgYT14Ll8uZm9jdXNMaXN0O2Euc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLnRhYkluZGV4IT1iLnRhYkluZGV4P2IudGFiSW5kZXgtYS50YWJJbmRleDphLmZvY3VzSW5kZXgtYi5mb2N1c0luZGV4fSk7Zm9yKHZhciBiPWEubGVuZ3RoLGQ9MDtkPGI7ZCsrKWFbZF0uZm9jdXNJbmRleD1kfWZ1bmN0aW9uIG0oYSl7dmFyIGI9eC5fLmZvY3VzTGlzdDthPWF8fDA7aWYoISgxPmIubGVuZ3RoKSl7dmFyIGQ9eC5fLmN1cnJlbnRGb2N1c0luZGV4O3guXy50YWJCYXJNb2RlJiYwPmEmJihkPTApO3RyeXtiW2RdLmdldElucHV0RWxlbWVudCgpLiQuYmx1cigpfWNhdGNoKGMpe312YXIgZz1kLGU9MTx4Ll8ucGFnZUNvdW50O2Rve2crPWE7aWYoZSYmIXguXy50YWJCYXJNb2RlJiYoZz09Yi5sZW5ndGh8fC0xPT1nKSl7eC5fLnRhYkJhck1vZGU9ITA7eC5fLnRhYnNbeC5fLmN1cnJlbnRUYWJJZF1bMF0uZm9jdXMoKTtcbnguXy5jdXJyZW50Rm9jdXNJbmRleD0tMTtyZXR1cm59Zz0oZytiLmxlbmd0aCklYi5sZW5ndGg7aWYoZz09ZClicmVha313aGlsZShhJiYhYltnXS5pc0ZvY3VzYWJsZSgpKTtiW2ddLmZvY3VzKCk7XCJ0ZXh0XCI9PWJbZ10udHlwZSYmYltnXS5zZWxlY3QoKX19ZnVuY3Rpb24gdihkKXtpZih4PT1DS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wKXt2YXIgYz1kLmRhdGEuZ2V0S2V5c3Ryb2tlKCksZz1cInJ0bFwiPT1iLmxhbmcuZGlyLGg9WzM3LDM4LDM5LDQwXTtBPUI9MDtpZig5PT1jfHxjPT1DS0VESVRPUi5TSElGVCs5KW0oYz09Q0tFRElUT1IuU0hJRlQrOT8tMToxKSxBPTE7ZWxzZSBpZihjPT1DS0VESVRPUi5BTFQrMTIxJiYheC5fLnRhYkJhck1vZGUmJjE8eC5nZXRQYWdlQ291bnQoKSlhKHgpLEE9MTtlbHNlIGlmKC0xIT1DS0VESVRPUi50b29scy5pbmRleE9mKGgsYykmJnguXy50YWJCYXJNb2RlKWM9LTEhPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoW2c/Mzk6MzcsMzhdLGMpP1xuZi5jYWxsKHgpOmUuY2FsbCh4KSx4LnNlbGVjdFBhZ2UoYykseC5fLnRhYnNbY11bMF0uZm9jdXMoKSxBPTE7ZWxzZSBpZigxMyE9YyYmMzIhPWN8fCF4Ll8udGFiQmFyTW9kZSlpZigxMz09YyljPWQuZGF0YS5nZXRUYXJnZXQoKSxjLmlzKFwiYVwiLFwiYnV0dG9uXCIsXCJzZWxlY3RcIixcInRleHRhcmVhXCIpfHxjLmlzKFwiaW5wdXRcIikmJlwiYnV0dG9uXCI9PWMuJC50eXBlfHwoKGM9dGhpcy5nZXRCdXR0b24oXCJva1wiKSkmJkNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoYy5jbGljaywwLGMpLEE9MSksQj0xO2Vsc2UgaWYoMjc9PWMpKGM9dGhpcy5nZXRCdXR0b24oXCJjYW5jZWxcIikpP0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoYy5jbGljaywwLGMpOiExIT09dGhpcy5maXJlKFwiY2FuY2VsXCIse2hpZGU6ITB9KS5oaWRlJiZ0aGlzLmhpZGUoKSxCPTE7ZWxzZSByZXR1cm47ZWxzZSB0aGlzLnNlbGVjdFBhZ2UodGhpcy5fLmN1cnJlbnRUYWJJZCksdGhpcy5fLnRhYkJhck1vZGU9ITEsdGhpcy5fLmN1cnJlbnRGb2N1c0luZGV4PVxuLTEsbSgxKSxBPTE7cShkKX19ZnVuY3Rpb24gcShhKXtBP2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgxKTpCJiZhLmRhdGEuc3RvcFByb3BhZ2F0aW9uKCl9dmFyIHQ9Q0tFRElUT1IuZGlhbG9nLl8uZGlhbG9nRGVmaW5pdGlvbnNbZF0seT1DS0VESVRPUi50b29scy5jbG9uZShEKSx1PWIuY29uZmlnLmRpYWxvZ19idXR0b25zT3JkZXJ8fFwiT1NcIixwPWIubGFuZy5kaXIsej17fSxBLEI7KFwiT1NcIj09dSYmQ0tFRElUT1IuZW52Lm1hY3x8XCJydGxcIj09dSYmXCJsdHJcIj09cHx8XCJsdHJcIj09dSYmXCJydGxcIj09cCkmJnkuYnV0dG9ucy5yZXZlcnNlKCk7dD1DS0VESVRPUi50b29scy5leHRlbmQodChiKSx5KTt0PUNLRURJVE9SLnRvb2xzLmNsb25lKHQpO3Q9bmV3IGgodGhpcyx0KTt5PWwoYik7dGhpcy5fPXtlZGl0b3I6YixlbGVtZW50OnkuZWxlbWVudCxuYW1lOmQsbW9kZWw6bnVsbCxjb250ZW50U2l6ZTp7d2lkdGg6MCxoZWlnaHQ6MH0sc2l6ZTp7d2lkdGg6MCxoZWlnaHQ6MH0sY29udGVudHM6e30sXG5idXR0b25zOnt9LGFjY2Vzc0tleU1hcDp7fSx2aWV3cG9ydFJhdGlvOnt3aWR0aDouNSxoZWlnaHQ6LjV9LHRhYnM6e30sdGFiSWRMaXN0OltdLGN1cnJlbnRUYWJJZDpudWxsLGN1cnJlbnRUYWJJbmRleDpudWxsLHBhZ2VDb3VudDowLGxhc3RUYWI6bnVsbCx0YWJCYXJNb2RlOiExLGZvY3VzTGlzdDpbXSxjdXJyZW50Rm9jdXNJbmRleDowLGhhc0ZvY3VzOiExfTt0aGlzLnBhcnRzPXkucGFydHM7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe2IuZmlyZShcImFyaWFXaWRnZXRcIix0aGlzLnBhcnRzLmNvbnRlbnRzKX0sMCx0aGlzKTt5PXt0b3A6MCx2aXNpYmlsaXR5OlwiaGlkZGVuXCJ9O0NLRURJVE9SLmVudi5pZTZDb21wYXQmJih5LnBvc2l0aW9uPVwiYWJzb2x1dGVcIik7eVtcInJ0bFwiPT1wP1wicmlnaHRcIjpcImxlZnRcIl09MDt0aGlzLnBhcnRzLmRpYWxvZy5zZXRTdHlsZXMoeSk7Q0tFRElUT1IuZXZlbnQuY2FsbCh0aGlzKTt0aGlzLmRlZmluaXRpb249dD1DS0VESVRPUi5maXJlKFwiZGlhbG9nRGVmaW5pdGlvblwiLFxue25hbWU6ZCxkZWZpbml0aW9uOnQsZGlhbG9nOnRoaXN9LGIpLmRlZmluaXRpb247aWYoIShcInJlbW92ZURpYWxvZ1RhYnNcImluIGIuXykmJmIuY29uZmlnLnJlbW92ZURpYWxvZ1RhYnMpe3k9Yi5jb25maWcucmVtb3ZlRGlhbG9nVGFicy5zcGxpdChcIjtcIik7Zm9yKHA9MDtwPHkubGVuZ3RoO3ArKylpZih1PXlbcF0uc3BsaXQoXCI6XCIpLDI9PXUubGVuZ3RoKXt2YXIgcj11WzBdO3pbcl18fCh6W3JdPVtdKTt6W3JdLnB1c2godVsxXSl9Yi5fLnJlbW92ZURpYWxvZ1RhYnM9en1pZihiLl8ucmVtb3ZlRGlhbG9nVGFicyYmKHo9Yi5fLnJlbW92ZURpYWxvZ1RhYnNbZF0pKWZvcihwPTA7cDx6Lmxlbmd0aDtwKyspdC5yZW1vdmVDb250ZW50cyh6W3BdKTtpZih0Lm9uTG9hZCl0aGlzLm9uKFwibG9hZFwiLHQub25Mb2FkKTtpZih0Lm9uU2hvdyl0aGlzLm9uKFwic2hvd1wiLHQub25TaG93KTtpZih0Lm9uSGlkZSl0aGlzLm9uKFwiaGlkZVwiLHQub25IaWRlKTtpZih0Lm9uT2spdGhpcy5vbihcIm9rXCIsXG5mdW5jdGlvbihhKXtiLmZpcmUoXCJzYXZlU25hcHNob3RcIik7c2V0VGltZW91dChmdW5jdGlvbigpe2IuZmlyZShcInNhdmVTbmFwc2hvdFwiKX0sMCk7ITE9PT10Lm9uT2suY2FsbCh0aGlzLGEpJiYoYS5kYXRhLmhpZGU9ITEpfSk7dGhpcy5zdGF0ZT1DS0VESVRPUi5ESUFMT0dfU1RBVEVfSURMRTtpZih0Lm9uQ2FuY2VsKXRoaXMub24oXCJjYW5jZWxcIixmdW5jdGlvbihhKXshMT09PXQub25DYW5jZWwuY2FsbCh0aGlzLGEpJiYoYS5kYXRhLmhpZGU9ITEpfSk7dmFyIHg9dGhpcyxDPWZ1bmN0aW9uKGEpe3ZhciBiPXguXy5jb250ZW50cyxkPSExLGM7Zm9yKGMgaW4gYilmb3IodmFyIGcgaW4gYltjXSlpZihkPWEuY2FsbCh0aGlzLGJbY11bZ10pKXJldHVybn07dGhpcy5vbihcIm9rXCIsZnVuY3Rpb24oYSl7QyhmdW5jdGlvbihiKXtpZihiLnZhbGlkYXRlKXt2YXIgZD1iLnZhbGlkYXRlKHRoaXMpLGc9XCJzdHJpbmdcIj09dHlwZW9mIGR8fCExPT09ZDtnJiYoYS5kYXRhLmhpZGU9ITEsYS5zdG9wKCkpO1xuYy5jYWxsKGIsIWcsXCJzdHJpbmdcIj09dHlwZW9mIGQ/ZDp2b2lkIDApO3JldHVybiBnfX0pfSx0aGlzLG51bGwsMCk7dGhpcy5vbihcImNhbmNlbFwiLGZ1bmN0aW9uKGEpe0MoZnVuY3Rpb24oZCl7aWYoZC5pc0NoYW5nZWQoKSlyZXR1cm4gYi5jb25maWcuZGlhbG9nX25vQ29uZmlybUNhbmNlbHx8Y29uZmlybShiLmxhbmcuY29tbW9uLmNvbmZpcm1DYW5jZWwpfHwoYS5kYXRhLmhpZGU9ITEpLCEwfSl9LHRoaXMsbnVsbCwwKTt0aGlzLnBhcnRzLmNsb3NlLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXshMSE9PXRoaXMuZmlyZShcImNhbmNlbFwiLHtoaWRlOiEwfSkuaGlkZSYmdGhpcy5oaWRlKCk7YS5kYXRhLnByZXZlbnREZWZhdWx0KCl9LHRoaXMpO3RoaXMuY2hhbmdlRm9jdXM9bTt2YXIgRj10aGlzLl8uZWxlbWVudDtiLmZvY3VzTWFuYWdlci5hZGQoRiwxKTt0aGlzLm9uKFwic2hvd1wiLGZ1bmN0aW9uKCl7Ri5vbihcImtleWRvd25cIix2LHRoaXMpO2lmKENLRURJVE9SLmVudi5nZWNrbylGLm9uKFwia2V5cHJlc3NcIixcbnEsdGhpcyl9KTt0aGlzLm9uKFwiaGlkZVwiLGZ1bmN0aW9uKCl7Ri5yZW1vdmVMaXN0ZW5lcihcImtleWRvd25cIix2KTtDS0VESVRPUi5lbnYuZ2Vja28mJkYucmVtb3ZlTGlzdGVuZXIoXCJrZXlwcmVzc1wiLHEpO0MoZnVuY3Rpb24oYSl7ay5hcHBseShhKX0pfSk7dGhpcy5vbihcImlmcmFtZUFkZGVkXCIsZnVuY3Rpb24oYSl7KG5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnQoYS5kYXRhLmlmcmFtZS4kLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpKS5vbihcImtleWRvd25cIix2LHRoaXMsbnVsbCwwKX0pO3RoaXMub24oXCJzaG93XCIsZnVuY3Rpb24oKXtnKCk7dmFyIGE9MTx4Ll8ucGFnZUNvdW50O2IuY29uZmlnLmRpYWxvZ19zdGFydHVwRm9jdXNUYWImJmE/KHguXy50YWJCYXJNb2RlPSEwLHguXy50YWJzW3guXy5jdXJyZW50VGFiSWRdWzBdLmZvY3VzKCkseC5fLmN1cnJlbnRGb2N1c0luZGV4PS0xKTp0aGlzLl8uaGFzRm9jdXN8fCh0aGlzLl8uY3VycmVudEZvY3VzSW5kZXg9YT8tMTp0aGlzLl8uZm9jdXNMaXN0Lmxlbmd0aC1cbjEsdC5vbkZvY3VzPyhhPXQub25Gb2N1cy5jYWxsKHRoaXMpKSYmYS5mb2N1cygpOm0oMSkpfSx0aGlzLG51bGwsNDI5NDk2NzI5NSk7aWYoQ0tFRElUT1IuZW52LmllNkNvbXBhdCl0aGlzLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRFbGVtZW50KCksYj1hLmdldEZpcnN0KCk7Yi5yZW1vdmUoKTtiLmFwcGVuZFRvKGEpfSx0aGlzKTtuKHRoaXMpO3codGhpcyk7KG5ldyBDS0VESVRPUi5kb20udGV4dCh0LnRpdGxlLENLRURJVE9SLmRvY3VtZW50KSkuYXBwZW5kVG8odGhpcy5wYXJ0cy50aXRsZSk7Zm9yKHA9MDtwPHQuY29udGVudHMubGVuZ3RoO3ArKykoej10LmNvbnRlbnRzW3BdKSYmdGhpcy5hZGRQYWdlKHopO3RoaXMucGFydHMudGFicy5vbihcImNsaWNrXCIsZnVuY3Rpb24oYil7dmFyIGQ9Yi5kYXRhLmdldFRhcmdldCgpO2QuaGFzQ2xhc3MoXCJja2VfZGlhbG9nX3RhYlwiKSYmKGQ9ZC4kLmlkLHRoaXMuc2VsZWN0UGFnZShkLnN1YnN0cmluZyg0LGQubGFzdEluZGV4T2YoXCJfXCIpKSksXG5hKHRoaXMpLGIuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKX0sdGhpcyk7cD1bXTt6PUNLRURJVE9SLmRpYWxvZy5fLnVpRWxlbWVudEJ1aWxkZXJzLmhib3guYnVpbGQodGhpcyx7dHlwZTpcImhib3hcIixjbGFzc05hbWU6XCJja2VfZGlhbG9nX2Zvb3Rlcl9idXR0b25zXCIsd2lkdGhzOltdLGNoaWxkcmVuOnQuYnV0dG9uc30scCkuZ2V0Q2hpbGQoKTt0aGlzLnBhcnRzLmZvb3Rlci5zZXRIdG1sKHAuam9pbihcIlwiKSk7Zm9yKHA9MDtwPHoubGVuZ3RoO3ArKyl0aGlzLl8uYnV0dG9uc1t6W3BdLmlkXT16W3BdfTtDS0VESVRPUi5kaWFsb2cucHJvdG90eXBlPXtkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5oaWRlKCk7dGhpcy5fLmVsZW1lbnQucmVtb3ZlKCl9LHJlc2l6ZTpmdW5jdGlvbihhLGIpe2lmKCF0aGlzLl8uY29udGVudFNpemV8fHRoaXMuXy5jb250ZW50U2l6ZS53aWR0aCE9YXx8dGhpcy5fLmNvbnRlbnRTaXplLmhlaWdodCE9Yil7Q0tFRElUT1IuZGlhbG9nLmZpcmUoXCJyZXNpemVcIixcbntkaWFsb2c6dGhpcyx3aWR0aDphLGhlaWdodDpifSx0aGlzLl8uZWRpdG9yKTt0aGlzLmZpcmUoXCJyZXNpemVcIix7d2lkdGg6YSxoZWlnaHQ6Yn0sdGhpcy5fLmVkaXRvcik7dGhpcy5wYXJ0cy5jb250ZW50cy5zZXRTdHlsZXMoe3dpZHRoOmErXCJweFwiLGhlaWdodDpiK1wicHhcIn0pO2lmKFwicnRsXCI9PXRoaXMuXy5lZGl0b3IubGFuZy5kaXImJnRoaXMuXy5wb3NpdGlvbil7dmFyIGQ9dGhpcy5wYXJ0cy5kaWFsb2cuZ2V0UGFyZW50KCkuZ2V0Q2xpZW50U2l6ZSgpLndpZHRoO3RoaXMuXy5wb3NpdGlvbi54PWQtdGhpcy5fLmNvbnRlbnRTaXplLndpZHRoLXBhcnNlSW50KHRoaXMuXy5lbGVtZW50LmdldEZpcnN0KCkuZ2V0U3R5bGUoXCJyaWdodFwiKSwxMCl9dGhpcy5fLmNvbnRlbnRTaXplPXt3aWR0aDphLGhlaWdodDpifX19LGdldFNpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uZWxlbWVudC5nZXRGaXJzdCgpO3JldHVybnt3aWR0aDphLiQub2Zmc2V0V2lkdGh8fDAsaGVpZ2h0OmEuJC5vZmZzZXRIZWlnaHR8fFxuMH19LG1vdmU6ZnVuY3Rpb24oYSxiLGQpe3ZhciBjPXRoaXMuXy5lbGVtZW50LmdldEZpcnN0KCksZz1cInJ0bFwiPT10aGlzLl8uZWRpdG9yLmxhbmcuZGlyO0NLRURJVE9SLmVudi5pZSYmYy5zZXRTdHlsZShcInpvb21cIixcIjEwMCVcIik7dmFyIGU9dGhpcy5wYXJ0cy5kaWFsb2cuZ2V0UGFyZW50KCkuZ2V0Q2xpZW50U2l6ZSgpLGY9dGhpcy5nZXRTaXplKCksaD10aGlzLl8udmlld3BvcnRSYXRpbyxrPU1hdGgubWF4KGUud2lkdGgtZi53aWR0aCwwKSxlPU1hdGgubWF4KGUuaGVpZ2h0LWYuaGVpZ2h0LDApO3RoaXMuXy5wb3NpdGlvbiYmdGhpcy5fLnBvc2l0aW9uLng9PWEmJnRoaXMuXy5wb3NpdGlvbi55PT1iPyhhPU1hdGguZmxvb3IoaypoLndpZHRoKSxiPU1hdGguZmxvb3IoZSpoLmhlaWdodCkpOngodGhpcyxhLGIpO3RoaXMuXy5wb3NpdGlvbj17eDphLHk6Yn07ZyYmKGE9ay1hKTtiPXt0b3A6KDA8Yj9iOjApK1wicHhcIn07YltnP1wicmlnaHRcIjpcImxlZnRcIl09KDA8YT9hOjApK1wicHhcIjtcbmMuc2V0U3R5bGVzKGIpO2QmJih0aGlzLl8ubW92ZWQ9MSl9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSx0aGlzLl8ucG9zaXRpb24pfSxzaG93OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmVsZW1lbnQsYj10aGlzLmRlZmluaXRpb24sYz1DS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCksZz10aGlzLl8uZWRpdG9yLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXg7YS5nZXRQYXJlbnQoKSYmYS5nZXRQYXJlbnQoKS5lcXVhbHMoYyk/YS5zZXRTdHlsZShcImRpc3BsYXlcIixKP1wiZmxleFwiOlwiYmxvY2tcIik6YS5hcHBlbmRUbyhjKTt0aGlzLnJlc2l6ZSh0aGlzLl8uY29udGVudFNpemUmJnRoaXMuXy5jb250ZW50U2l6ZS53aWR0aHx8Yi53aWR0aHx8Yi5taW5XaWR0aCx0aGlzLl8uY29udGVudFNpemUmJnRoaXMuXy5jb250ZW50U2l6ZS5oZWlnaHR8fGIuaGVpZ2h0fHxiLm1pbkhlaWdodCk7dGhpcy5yZXNldCgpO251bGw9PT10aGlzLl8uY3VycmVudFRhYklkJiZcbnRoaXMuc2VsZWN0UGFnZSh0aGlzLmRlZmluaXRpb24uY29udGVudHNbMF0uaWQpO251bGw9PT1DS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50WkluZGV4JiYoQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFpJbmRleD1nKTt0aGlzLl8uZWxlbWVudC5nZXRGaXJzdCgpLnNldFN0eWxlKFwiei1pbmRleFwiLENLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRaSW5kZXgrPTEwKTt0aGlzLmdldEVsZW1lbnQoKS5zZXRTdHlsZShcInotaW5kZXhcIixDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50WkluZGV4KTtudWxsPT09Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcD8oQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcD10aGlzLHRoaXMuXy5wYXJlbnREaWFsb2c9bnVsbCxwKHRoaXMuXy5lZGl0b3IpKTpDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wIT09dGhpcyYmKHRoaXMuXy5wYXJlbnREaWFsb2c9Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcCxjPXRoaXMuXy5wYXJlbnREaWFsb2cuZ2V0RWxlbWVudCgpLmdldEZpcnN0KCksXG5jLiQuc3R5bGUuekluZGV4LT1NYXRoLmZsb29yKGcvMiksdGhpcy5fLnBhcmVudERpYWxvZy5nZXRFbGVtZW50KCkuc2V0U3R5bGUoXCJ6LWluZGV4XCIsYy4kLnN0eWxlLnpJbmRleCksQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcD10aGlzKTthLm9uKFwia2V5ZG93blwiLHopO2Eub24oXCJrZXl1cFwiLHEpO3RoaXMuXy5oYXNGb2N1cz0hMTtmb3IodmFyIGUgaW4gYi5jb250ZW50cylpZihiLmNvbnRlbnRzW2VdKXt2YXIgYT1iLmNvbnRlbnRzW2VdLGc9dGhpcy5fLnRhYnNbYS5pZF0sYz1hLnJlcXVpcmVkQ29udGVudCxmPTA7aWYoZyl7Zm9yKHZhciBoIGluIHRoaXMuXy5jb250ZW50c1thLmlkXSl7dmFyIGs9dGhpcy5fLmNvbnRlbnRzW2EuaWRdW2hdO1wiaGJveFwiIT1rLnR5cGUmJlwidmJveFwiIT1rLnR5cGUmJmsuZ2V0SW5wdXRFbGVtZW50KCkmJihrLnJlcXVpcmVkQ29udGVudCYmIXRoaXMuXy5lZGl0b3IuYWN0aXZlRmlsdGVyLmNoZWNrKGsucmVxdWlyZWRDb250ZW50KT9rLmRpc2FibGUoKTpcbihrLmVuYWJsZSgpLGYrKykpfSFmfHxjJiYhdGhpcy5fLmVkaXRvci5hY3RpdmVGaWx0ZXIuY2hlY2soYyk/Z1swXS5hZGRDbGFzcyhcImNrZV9kaWFsb2dfdGFiX2Rpc2FibGVkXCIpOmdbMF0ucmVtb3ZlQ2xhc3MoXCJja2VfZGlhbG9nX3RhYl9kaXNhYmxlZFwiKX19Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMubGF5b3V0KCk7ZCh0aGlzKTt0aGlzLnBhcnRzLmRpYWxvZy5zZXRTdHlsZShcInZpc2liaWxpdHlcIixcIlwiKTt0aGlzLmZpcmVPbmNlKFwibG9hZFwiLHt9KTtDS0VESVRPUi51aS5maXJlKFwicmVhZHlcIix0aGlzKTt0aGlzLmZpcmUoXCJzaG93XCIse30pO3RoaXMuXy5lZGl0b3IuZmlyZShcImRpYWxvZ1Nob3dcIix0aGlzKTt0aGlzLl8ucGFyZW50RGlhbG9nfHx0aGlzLl8uZWRpdG9yLmZvY3VzTWFuYWdlci5sb2NrKCk7dGhpcy5mb3JlYWNoKGZ1bmN0aW9uKGEpe2Euc2V0SW5pdFZhbHVlJiZhLnNldEluaXRWYWx1ZSgpfSl9LDEwMCx0aGlzKX0sbGF5b3V0OmZ1bmN0aW9uKCl7dmFyIGE9XG50aGlzLnBhcnRzLmRpYWxvZztpZih0aGlzLl8ubW92ZWR8fCFKKXt2YXIgYj10aGlzLmdldFNpemUoKSxkPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLmdldFZpZXdQYW5lU2l6ZSgpLGM7dGhpcy5fLm1vdmVkJiZ0aGlzLl8ucG9zaXRpb24/KGM9dGhpcy5fLnBvc2l0aW9uLngsYj10aGlzLl8ucG9zaXRpb24ueSk6KGM9KGQud2lkdGgtYi53aWR0aCkvMixiPShkLmhlaWdodC1iLmhlaWdodCkvMik7Q0tFRElUT1IuZW52LmllNkNvbXBhdHx8KGEuc2V0U3R5bGUoXCJwb3NpdGlvblwiLFwiYWJzb2x1dGVcIiksYS5yZW1vdmVTdHlsZShcIm1hcmdpblwiKSk7Yz1NYXRoLmZsb29yKGMpO2I9TWF0aC5mbG9vcihiKTt0aGlzLm1vdmUoYyxiKX19LGZvcmVhY2g6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIHRoaXMuXy5jb250ZW50cylmb3IodmFyIGQgaW4gdGhpcy5fLmNvbnRlbnRzW2JdKWEuY2FsbCh0aGlzLHRoaXMuXy5jb250ZW50c1tiXVtkXSk7cmV0dXJuIHRoaXN9LHJlc2V0OmZ1bmN0aW9uKCl7dmFyIGE9XG5mdW5jdGlvbihhKXthLnJlc2V0JiZhLnJlc2V0KDEpfTtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLmZvcmVhY2goYSk7cmV0dXJuIHRoaXN9fSgpLHNldHVwQ29udGVudDpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50czt0aGlzLmZvcmVhY2goZnVuY3Rpb24oYil7Yi5zZXR1cCYmYi5zZXR1cC5hcHBseShiLGEpfSl9LGNvbW1pdENvbnRlbnQ6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7dGhpcy5mb3JlYWNoKGZ1bmN0aW9uKGIpe0NLRURJVE9SLmVudi5pZSYmdGhpcy5fLmN1cnJlbnRGb2N1c0luZGV4PT1iLmZvY3VzSW5kZXgmJmIuZ2V0SW5wdXRFbGVtZW50KCkuJC5ibHVyKCk7Yi5jb21taXQmJmIuY29tbWl0LmFwcGx5KGIsYSl9KX0saGlkZTpmdW5jdGlvbigpe2lmKHRoaXMucGFydHMuZGlhbG9nLmlzVmlzaWJsZSgpKXt0aGlzLmZpcmUoXCJoaWRlXCIse30pO3RoaXMuXy5lZGl0b3IuZmlyZShcImRpYWxvZ0hpZGVcIix0aGlzKTt0aGlzLnNlbGVjdFBhZ2UodGhpcy5fLnRhYklkTGlzdFswXSk7XG52YXIgYT10aGlzLl8uZWxlbWVudDthLnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKTt0aGlzLnBhcnRzLmRpYWxvZy5zZXRTdHlsZShcInZpc2liaWxpdHlcIixcImhpZGRlblwiKTtmb3IoeSh0aGlzKTtDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wIT10aGlzOylDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wLmhpZGUoKTtpZih0aGlzLl8ucGFyZW50RGlhbG9nKXt2YXIgYj10aGlzLl8ucGFyZW50RGlhbG9nLmdldEVsZW1lbnQoKS5nZXRGaXJzdCgpLGQ9cGFyc2VJbnQoYi4kLnN0eWxlLnpJbmRleCwxMCkrTWF0aC5mbG9vcih0aGlzLl8uZWRpdG9yLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgvMik7dGhpcy5fLnBhcmVudERpYWxvZy5nZXRFbGVtZW50KCkuc2V0U3R5bGUoXCJ6LWluZGV4XCIsZCk7Yi5zZXRTdHlsZShcInotaW5kZXhcIixkKX1lbHNlIHUodGhpcy5fLmVkaXRvcik7aWYoQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcD10aGlzLl8ucGFyZW50RGlhbG9nKUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRaSW5kZXgtPVxuMTA7ZWxzZXtDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50WkluZGV4PW51bGw7YS5yZW1vdmVMaXN0ZW5lcihcImtleWRvd25cIix6KTthLnJlbW92ZUxpc3RlbmVyKFwia2V5dXBcIixxKTt2YXIgYz10aGlzLl8uZWRpdG9yO2MuZm9jdXMoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5mb2N1c01hbmFnZXIudW5sb2NrKCk7Q0tFRElUT1IuZW52LmlPUyYmYy53aW5kb3cuZm9jdXMoKX0sMCl9ZGVsZXRlIHRoaXMuXy5wYXJlbnREaWFsb2c7dGhpcy5mb3JlYWNoKGZ1bmN0aW9uKGEpe2EucmVzZXRJbml0VmFsdWUmJmEucmVzZXRJbml0VmFsdWUoKX0pO3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuRElBTE9HX1NUQVRFX0lETEUpfX0sYWRkUGFnZTpmdW5jdGlvbihhKXtpZighYS5yZXF1aXJlZENvbnRlbnR8fHRoaXMuXy5lZGl0b3IuZmlsdGVyLmNoZWNrKGEucmVxdWlyZWRDb250ZW50KSl7Zm9yKHZhciBiPVtdLGQ9YS5sYWJlbD8nIHRpdGxlXFx4M2RcIicrQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShhLmxhYmVsKStcbidcIic6XCJcIixjPUNLRURJVE9SLmRpYWxvZy5fLnVpRWxlbWVudEJ1aWxkZXJzLnZib3guYnVpbGQodGhpcyx7dHlwZTpcInZib3hcIixjbGFzc05hbWU6XCJja2VfZGlhbG9nX3BhZ2VfY29udGVudHNcIixjaGlsZHJlbjphLmVsZW1lbnRzLGV4cGFuZDohIWEuZXhwYW5kLHBhZGRpbmc6YS5wYWRkaW5nLHN0eWxlOmEuc3R5bGV8fFwid2lkdGg6IDEwMCU7XCJ9LGIpLGc9dGhpcy5fLmNvbnRlbnRzW2EuaWRdPXt9LGU9Yy5nZXRDaGlsZCgpLGY9MDtjPWUuc2hpZnQoKTspYy5ub3RBbGxvd2VkfHxcImhib3hcIj09Yy50eXBlfHxcInZib3hcIj09Yy50eXBlfHxmKyssZ1tjLmlkXT1jLFwiZnVuY3Rpb25cIj09dHlwZW9mIGMuZ2V0Q2hpbGQmJmUucHVzaC5hcHBseShlLGMuZ2V0Q2hpbGQoKSk7Znx8KGEuaGlkZGVuPSEwKTtiPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKGIuam9pbihcIlwiKSk7Yi5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJ0YWJwYW5lbFwiKTtiLnNldFN0eWxlKFwibWluLWhlaWdodFwiLFxuXCIxMDAlXCIpO2M9Q0tFRElUT1IuZW52O2c9XCJja2VfXCIrYS5pZCtcIl9cIitDS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCk7ZD1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChbJ1xceDNjYSBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3RhYlwiJywwPHRoaXMuXy5wYWdlQ291bnQ/XCIgY2tlX2xhc3RcIjpcImNrZV9maXJzdFwiLGQsYS5oaWRkZW4/JyBzdHlsZVxceDNkXCJkaXNwbGF5Om5vbmVcIic6XCJcIiwnIGlkXFx4M2RcIicsZywnXCInLGMuZ2Vja28mJiFjLmhjP1wiXCI6JyBocmVmXFx4M2RcImphdmFzY3JpcHQ6dm9pZCgwKVwiJywnIHRhYkluZGV4XFx4M2RcIi0xXCIgaGlkZWZvY3VzXFx4M2RcInRydWVcIiByb2xlXFx4M2RcInRhYlwiXFx4M2UnLGEubGFiZWwsXCJcXHgzYy9hXFx4M2VcIl0uam9pbihcIlwiKSk7Yi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsbGVkYnlcIixnKTt0aGlzLl8udGFic1thLmlkXT1bZCxiXTt0aGlzLl8udGFiSWRMaXN0LnB1c2goYS5pZCk7IWEuaGlkZGVuJiZ0aGlzLl8ucGFnZUNvdW50Kys7XG50aGlzLl8ubGFzdFRhYj1kO3RoaXMudXBkYXRlU3R5bGUoKTtiLnNldEF0dHJpYnV0ZShcIm5hbWVcIixhLmlkKTtiLmFwcGVuZFRvKHRoaXMucGFydHMuY29udGVudHMpO2QudW5zZWxlY3RhYmxlKCk7dGhpcy5wYXJ0cy50YWJzLmFwcGVuZChkKTthLmFjY2Vzc0tleSYmKEEodGhpcyx0aGlzLFwiQ1RSTCtcIithLmFjY2Vzc0tleSx2LHQpLHRoaXMuXy5hY2Nlc3NLZXlNYXBbXCJDVFJMK1wiK2EuYWNjZXNzS2V5XT1hLmlkKX19LHNlbGVjdFBhZ2U6ZnVuY3Rpb24oYSl7aWYodGhpcy5fLmN1cnJlbnRUYWJJZCE9YSYmIXRoaXMuXy50YWJzW2FdWzBdLmhhc0NsYXNzKFwiY2tlX2RpYWxvZ190YWJfZGlzYWJsZWRcIikmJiExIT09dGhpcy5maXJlKFwic2VsZWN0UGFnZVwiLHtwYWdlOmEsY3VycmVudFBhZ2U6dGhpcy5fLmN1cnJlbnRUYWJJZH0pKXtmb3IodmFyIGQgaW4gdGhpcy5fLnRhYnMpe3ZhciBjPXRoaXMuXy50YWJzW2RdWzBdLGc9dGhpcy5fLnRhYnNbZF1bMV07ZCE9YSYmKGMucmVtb3ZlQ2xhc3MoXCJja2VfZGlhbG9nX3RhYl9zZWxlY3RlZFwiKSxcbmMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiKSxnLmhpZGUoKSk7Zy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLGQhPWEpfXZhciBlPXRoaXMuXy50YWJzW2FdO2VbMF0uYWRkQ2xhc3MoXCJja2VfZGlhbG9nX3RhYl9zZWxlY3RlZFwiKTtlWzBdLnNldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIiwhMCk7Q0tFRElUT1IuZW52LmllNkNvbXBhdHx8Q0tFRElUT1IuZW52LmllN0NvbXBhdD8oYihlWzFdKSxlWzFdLnNob3coKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YihlWzFdLDEpfSwwKSk6ZVsxXS5zaG93KCk7dGhpcy5fLmN1cnJlbnRUYWJJZD1hO3RoaXMuXy5jdXJyZW50VGFiSW5kZXg9Q0tFRElUT1IudG9vbHMuaW5kZXhPZih0aGlzLl8udGFiSWRMaXN0LGEpfX0sdXBkYXRlU3R5bGU6ZnVuY3Rpb24oKXt0aGlzLnBhcnRzLmRpYWxvZ1soMT09PXRoaXMuXy5wYWdlQ291bnQ/XCJhZGRcIjpcInJlbW92ZVwiKStcIkNsYXNzXCJdKFwiY2tlX3NpbmdsZV9wYWdlXCIpfSxoaWRlUGFnZTpmdW5jdGlvbihhKXt2YXIgYj1cbnRoaXMuXy50YWJzW2FdJiZ0aGlzLl8udGFic1thXVswXTtiJiYxIT10aGlzLl8ucGFnZUNvdW50JiZiLmlzVmlzaWJsZSgpJiYoYT09dGhpcy5fLmN1cnJlbnRUYWJJZCYmdGhpcy5zZWxlY3RQYWdlKGYuY2FsbCh0aGlzKSksYi5oaWRlKCksdGhpcy5fLnBhZ2VDb3VudC0tLHRoaXMudXBkYXRlU3R5bGUoKSl9LHNob3dQYWdlOmZ1bmN0aW9uKGEpe2lmKGE9dGhpcy5fLnRhYnNbYV0mJnRoaXMuXy50YWJzW2FdWzBdKWEuc2hvdygpLHRoaXMuXy5wYWdlQ291bnQrKyx0aGlzLnVwZGF0ZVN0eWxlKCl9LGdldEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmVsZW1lbnR9LGdldE5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLm5hbWV9LGdldENvbnRlbnRFbGVtZW50OmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcy5fLmNvbnRlbnRzW2FdO3JldHVybiBkJiZkW2JdfSxnZXRWYWx1ZU9mOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ2V0Q29udGVudEVsZW1lbnQoYSxiKS5nZXRWYWx1ZSgpfSxcbnNldFZhbHVlT2Y6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiB0aGlzLmdldENvbnRlbnRFbGVtZW50KGEsYikuc2V0VmFsdWUoZCl9LGdldEJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmJ1dHRvbnNbYV19LGNsaWNrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8uYnV0dG9uc1thXS5jbGljaygpfSxkaXNhYmxlQnV0dG9uOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8uYnV0dG9uc1thXS5kaXNhYmxlKCl9LGVuYWJsZUJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmJ1dHRvbnNbYV0uZW5hYmxlKCl9LGdldFBhZ2VDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8ucGFnZUNvdW50fSxnZXRQYXJlbnRFZGl0b3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmVkaXRvcn0sZ2V0U2VsZWN0ZWRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UGFyZW50RWRpdG9yKCkuZ2V0U2VsZWN0aW9uKCkuZ2V0U2VsZWN0ZWRFbGVtZW50KCl9LGFkZEZvY3VzYWJsZTpmdW5jdGlvbihhLFxuYil7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGIpYj10aGlzLl8uZm9jdXNMaXN0Lmxlbmd0aCx0aGlzLl8uZm9jdXNMaXN0LnB1c2gobmV3IG0odGhpcyxhLGIpKTtlbHNle3RoaXMuXy5mb2N1c0xpc3Quc3BsaWNlKGIsMCxuZXcgbSh0aGlzLGEsYikpO2Zvcih2YXIgZD1iKzE7ZDx0aGlzLl8uZm9jdXNMaXN0Lmxlbmd0aDtkKyspdGhpcy5fLmZvY3VzTGlzdFtkXS5mb2N1c0luZGV4Kyt9fSxzZXRTdGF0ZTpmdW5jdGlvbihhKXtpZih0aGlzLnN0YXRlIT1hKXt0aGlzLnN0YXRlPWE7aWYoYT09Q0tFRElUT1IuRElBTE9HX1NUQVRFX0JVU1kpe2lmKCF0aGlzLnBhcnRzLnNwaW5uZXIpe3ZhciBiPXRoaXMuZ2V0UGFyZW50RWRpdG9yKCkubGFuZy5kaXIsZD17YXR0cmlidXRlczp7XCJjbGFzc1wiOlwiY2tlX2RpYWxvZ19zcGlubmVyXCJ9LHN0eWxlczp7XCJmbG9hdFwiOlwicnRsXCI9PWI/XCJyaWdodFwiOlwibGVmdFwifX07ZC5zdHlsZXNbXCJtYXJnaW4tXCIrKFwicnRsXCI9PWI/XCJsZWZ0XCI6XCJyaWdodFwiKV09XG5cIjhweFwiO3RoaXMucGFydHMuc3Bpbm5lcj1DS0VESVRPUi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsZCk7dGhpcy5wYXJ0cy5zcGlubmVyLnNldEh0bWwoXCJcXHgyNiM4OTg3O1wiKTt0aGlzLnBhcnRzLnNwaW5uZXIuYXBwZW5kVG8odGhpcy5wYXJ0cy50aXRsZSwxKX10aGlzLnBhcnRzLnNwaW5uZXIuc2hvdygpO3RoaXMuZ2V0QnV0dG9uKFwib2tcIikmJnRoaXMuZ2V0QnV0dG9uKFwib2tcIikuZGlzYWJsZSgpfWVsc2UgYT09Q0tFRElUT1IuRElBTE9HX1NUQVRFX0lETEUmJih0aGlzLnBhcnRzLnNwaW5uZXImJnRoaXMucGFydHMuc3Bpbm5lci5oaWRlKCksdGhpcy5nZXRCdXR0b24oXCJva1wiKSYmdGhpcy5nZXRCdXR0b24oXCJva1wiKS5lbmFibGUoKSk7dGhpcy5maXJlKFwic3RhdGVcIixhKX19LGdldE1vZGVsOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8ubW9kZWw/dGhpcy5fLm1vZGVsOnRoaXMuZGVmaW5pdGlvbi5nZXRNb2RlbD90aGlzLmRlZmluaXRpb24uZ2V0TW9kZWwoYSk6bnVsbH0sXG5zZXRNb2RlbDpmdW5jdGlvbihhKXt0aGlzLl8ubW9kZWw9YX0sZ2V0TW9kZTpmdW5jdGlvbihhKXtpZih0aGlzLmRlZmluaXRpb24uZ2V0TW9kZSlyZXR1cm4gdGhpcy5kZWZpbml0aW9uLmdldE1vZGUoYSk7YT10aGlzLmdldE1vZGVsKGEpO3JldHVybiFhfHxhIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQmJiFhLmdldFBhcmVudCgpP0NLRURJVE9SLmRpYWxvZy5DUkVBVElPTl9NT0RFOkNLRURJVE9SLmRpYWxvZy5FRElUSU5HX01PREV9fTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZGlhbG9nLHtDUkVBVElPTl9NT0RFOjAsRURJVElOR19NT0RFOjEsYWRkOmZ1bmN0aW9uKGEsYil7dGhpcy5fLmRpYWxvZ0RlZmluaXRpb25zW2FdJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBifHwodGhpcy5fLmRpYWxvZ0RlZmluaXRpb25zW2FdPWIpfSxleGlzdHM6ZnVuY3Rpb24oYSl7cmV0dXJuISF0aGlzLl8uZGlhbG9nRGVmaW5pdGlvbnNbYV19LGdldEN1cnJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcH0sXG5pc1RhYkVuYWJsZWQ6ZnVuY3Rpb24oYSxiLGQpe2E9YS5jb25maWcucmVtb3ZlRGlhbG9nVGFicztyZXR1cm4hKGEmJmEubWF0Y2gobmV3IFJlZ0V4cChcIig/Ol58OylcIitiK1wiOlwiK2QrXCIoPzokfDspXCIsXCJpXCIpKSl9LG9rQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9O3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoe2lkOlwib2tcIix0eXBlOlwiYnV0dG9uXCIsbGFiZWw6YS5sYW5nLmNvbW1vbi5vayxcImNsYXNzXCI6XCJja2VfZGlhbG9nX3VpX2J1dHRvbl9va1wiLG9uQ2xpY2s6ZnVuY3Rpb24oYSl7YT1hLmRhdGEuZGlhbG9nOyExIT09YS5maXJlKFwib2tcIix7aGlkZTohMH0pLmhpZGUmJmEuaGlkZSgpfX0sYiwhMCl9O2EudHlwZT1cImJ1dHRvblwiO2Eub3ZlcnJpZGU9ZnVuY3Rpb24oYil7cmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZChmdW5jdGlvbihkKXtyZXR1cm4gYShkLGIpfSx7dHlwZTpcImJ1dHRvblwifSwhMCl9O3JldHVybiBhfSgpLGNhbmNlbEJ1dHRvbjpmdW5jdGlvbigpe3ZhciBhPVxuZnVuY3Rpb24oYSxiKXtiPWJ8fHt9O3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoe2lkOlwiY2FuY2VsXCIsdHlwZTpcImJ1dHRvblwiLGxhYmVsOmEubGFuZy5jb21tb24uY2FuY2VsLFwiY2xhc3NcIjpcImNrZV9kaWFsb2dfdWlfYnV0dG9uX2NhbmNlbFwiLG9uQ2xpY2s6ZnVuY3Rpb24oYSl7YT1hLmRhdGEuZGlhbG9nOyExIT09YS5maXJlKFwiY2FuY2VsXCIse2hpZGU6ITB9KS5oaWRlJiZhLmhpZGUoKX19LGIsITApfTthLnR5cGU9XCJidXR0b25cIjthLm92ZXJyaWRlPWZ1bmN0aW9uKGIpe3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoZnVuY3Rpb24oZCl7cmV0dXJuIGEoZCxiKX0se3R5cGU6XCJidXR0b25cIn0sITApfTtyZXR1cm4gYX0oKSxhZGRVSUVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXt0aGlzLl8udWlFbGVtZW50QnVpbGRlcnNbYV09Yn19KTtDS0VESVRPUi5kaWFsb2cuXz17dWlFbGVtZW50QnVpbGRlcnM6e30sZGlhbG9nRGVmaW5pdGlvbnM6e30sY3VycmVudFRvcDpudWxsLGN1cnJlbnRaSW5kZXg6bnVsbH07XG5DS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUi5kaWFsb2cpO0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKENLRURJVE9SLmRpYWxvZy5wcm90b3R5cGUpO0Q9e3Jlc2l6YWJsZTpDS0VESVRPUi5ESUFMT0dfUkVTSVpFX0JPVEgsbWluV2lkdGg6NjAwLG1pbkhlaWdodDo0MDAsYnV0dG9uczpbQ0tFRElUT1IuZGlhbG9nLm9rQnV0dG9uLENLRURJVE9SLmRpYWxvZy5jYW5jZWxCdXR0b25dfTt2YXIgRz1mdW5jdGlvbihhLGIsZCl7Zm9yKHZhciBjPTAsZztnPWFbY107YysrKWlmKGcuaWQ9PWJ8fGQmJmdbZF0mJihnPUcoZ1tkXSxiLGQpKSlyZXR1cm4gZztyZXR1cm4gbnVsbH0sTT1mdW5jdGlvbihhLGIsZCxjLGcpe2lmKGQpe2Zvcih2YXIgZT0wLGY7Zj1hW2VdO2UrKyl7aWYoZi5pZD09ZClyZXR1cm4gYS5zcGxpY2UoZSwwLGIpLGI7aWYoYyYmZltjXSYmKGY9TShmW2NdLGIsZCxjLCEwKSkpcmV0dXJuIGZ9aWYoZylyZXR1cm4gbnVsbH1hLnB1c2goYik7cmV0dXJuIGJ9LFxuSD1mdW5jdGlvbihhLGIsZCl7Zm9yKHZhciBjPTAsZztnPWFbY107YysrKXtpZihnLmlkPT1iKXJldHVybiBhLnNwbGljZShjLDEpO2lmKGQmJmdbZF0mJihnPUgoZ1tkXSxiLGQpKSlyZXR1cm4gZ31yZXR1cm4gbnVsbH07aC5wcm90b3R5cGU9e2dldENvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBHKHRoaXMuY29udGVudHMsYSl9LGdldEJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4gRyh0aGlzLmJ1dHRvbnMsYSl9LGFkZENvbnRlbnRzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIE0odGhpcy5jb250ZW50cyxhLGIpfSxhZGRCdXR0b246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gTSh0aGlzLmJ1dHRvbnMsYSxiKX0scmVtb3ZlQ29udGVudHM6ZnVuY3Rpb24oYSl7SCh0aGlzLmNvbnRlbnRzLGEpfSxyZW1vdmVCdXR0b246ZnVuY3Rpb24oYSl7SCh0aGlzLmJ1dHRvbnMsYSl9fTtnLnByb3RvdHlwZT17Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBHKHRoaXMuZWxlbWVudHMsYSxcImNoaWxkcmVuXCIpfSxcbmFkZDpmdW5jdGlvbihhLGIpe3JldHVybiBNKHRoaXMuZWxlbWVudHMsYSxiLFwiY2hpbGRyZW5cIil9LHJlbW92ZTpmdW5jdGlvbihhKXtIKHRoaXMuZWxlbWVudHMsYSxcImNoaWxkcmVuXCIpfX07dmFyIEU9e30sUD17fTsoZnVuY3Rpb24oKXtDS0VESVRPUi51aS5kaWFsb2c9e3VpRWxlbWVudDpmdW5jdGlvbihhLGIsZCxjLGcsZSxmKXtpZighKDQ+YXJndW1lbnRzLmxlbmd0aCkpe3ZhciBoPShjLmNhbGw/YyhiKTpjKXx8XCJkaXZcIixrPVtcIlxceDNjXCIsaCxcIiBcIl0sbD0oZyYmZy5jYWxsP2coYik6Zyl8fHt9LG09KGUmJmUuY2FsbD9lKGIpOmUpfHx7fSxuPShmJiZmLmNhbGw/Zi5jYWxsKHRoaXMsYSxiKTpmKXx8XCJcIix2PXRoaXMuZG9tSWQ9bS5pZHx8Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfdWlFbGVtZW50XCI7Yi5yZXF1aXJlZENvbnRlbnQmJiFhLmdldFBhcmVudEVkaXRvcigpLmZpbHRlci5jaGVjayhiLnJlcXVpcmVkQ29udGVudCkmJihsLmRpc3BsYXk9XCJub25lXCIsdGhpcy5ub3RBbGxvd2VkPVxuITApO20uaWQ9djt2YXIgcT17fTtiLnR5cGUmJihxW1wiY2tlX2RpYWxvZ191aV9cIitiLnR5cGVdPTEpO2IuY2xhc3NOYW1lJiYocVtiLmNsYXNzTmFtZV09MSk7Yi5kaXNhYmxlZCYmKHEuY2tlX2Rpc2FibGVkPTEpO2Zvcih2YXIgdD1tW1wiY2xhc3NcIl0mJm1bXCJjbGFzc1wiXS5zcGxpdD9tW1wiY2xhc3NcIl0uc3BsaXQoXCIgXCIpOltdLHY9MDt2PHQubGVuZ3RoO3YrKyl0W3ZdJiYocVt0W3ZdXT0xKTt0PVtdO2Zvcih2IGluIHEpdC5wdXNoKHYpO21bXCJjbGFzc1wiXT10LmpvaW4oXCIgXCIpO2IudGl0bGUmJihtLnRpdGxlPWIudGl0bGUpO3E9KGIuc3R5bGV8fFwiXCIpLnNwbGl0KFwiO1wiKTtiLmFsaWduJiYodD1iLmFsaWduLGxbXCJtYXJnaW4tbGVmdFwiXT1cImxlZnRcIj09dD8wOlwiYXV0b1wiLGxbXCJtYXJnaW4tcmlnaHRcIl09XCJyaWdodFwiPT10PzA6XCJhdXRvXCIpO2Zvcih2IGluIGwpcS5wdXNoKHYrXCI6XCIrbFt2XSk7Yi5oaWRkZW4mJnEucHVzaChcImRpc3BsYXk6bm9uZVwiKTtmb3Iodj1xLmxlbmd0aC0xOzA8PVxudjt2LS0pXCJcIj09PXFbdl0mJnEuc3BsaWNlKHYsMSk7MDxxLmxlbmd0aCYmKG0uc3R5bGU9KG0uc3R5bGU/bS5zdHlsZStcIjsgXCI6XCJcIikrcS5qb2luKFwiOyBcIikpO2Zvcih2IGluIG0pay5wdXNoKHYrJ1xceDNkXCInK0NLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUobVt2XSkrJ1wiICcpO2sucHVzaChcIlxceDNlXCIsbixcIlxceDNjL1wiLGgsXCJcXHgzZVwiKTtkLnB1c2goay5qb2luKFwiXCIpKTsodGhpcy5ffHwodGhpcy5fPXt9KSkuZGlhbG9nPWE7XCJib29sZWFuXCI9PXR5cGVvZiBiLmlzQ2hhbmdlZCYmKHRoaXMuaXNDaGFuZ2VkPWZ1bmN0aW9uKCl7cmV0dXJuIGIuaXNDaGFuZ2VkfSk7XCJmdW5jdGlvblwiPT10eXBlb2YgYi5pc0NoYW5nZWQmJih0aGlzLmlzQ2hhbmdlZD1iLmlzQ2hhbmdlZCk7XCJmdW5jdGlvblwiPT10eXBlb2YgYi5zZXRWYWx1ZSYmKHRoaXMuc2V0VmFsdWU9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUodGhpcy5zZXRWYWx1ZSxmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oZCl7YS5jYWxsKHRoaXMsXG5iLnNldFZhbHVlLmNhbGwodGhpcyxkKSl9fSkpO1wiZnVuY3Rpb25cIj09dHlwZW9mIGIuZ2V0VmFsdWUmJih0aGlzLmdldFZhbHVlPUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKHRoaXMuZ2V0VmFsdWUsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGIuZ2V0VmFsdWUuY2FsbCh0aGlzLGEuY2FsbCh0aGlzKSl9fSkpO0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKHRoaXMpO3RoaXMucmVnaXN0ZXJFdmVudHMoYik7dGhpcy5hY2Nlc3NLZXlVcCYmdGhpcy5hY2Nlc3NLZXlEb3duJiZiLmFjY2Vzc0tleSYmQSh0aGlzLGEsXCJDVFJMK1wiK2IuYWNjZXNzS2V5KTt2YXIgeT10aGlzO2Eub24oXCJsb2FkXCIsZnVuY3Rpb24oKXt2YXIgYj15LmdldElucHV0RWxlbWVudCgpO2lmKGIpe3ZhciBkPXkudHlwZSBpbntjaGVja2JveDoxLHJhdGlvOjF9JiZDS0VESVRPUi5lbnYuaWUmJjg+Q0tFRElUT1IuZW52LnZlcnNpb24/XCJja2VfZGlhbG9nX3VpX2ZvY3VzZWRcIjpcIlwiO2Iub24oXCJmb2N1c1wiLFxuZnVuY3Rpb24oKXthLl8udGFiQmFyTW9kZT0hMTthLl8uaGFzRm9jdXM9ITA7eS5maXJlKFwiZm9jdXNcIik7ZCYmdGhpcy5hZGRDbGFzcyhkKX0pO2Iub24oXCJibHVyXCIsZnVuY3Rpb24oKXt5LmZpcmUoXCJibHVyXCIpO2QmJnRoaXMucmVtb3ZlQ2xhc3MoZCl9KX19KTtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxiKTt0aGlzLmtleWJvYXJkRm9jdXNhYmxlJiYodGhpcy50YWJJbmRleD1iLnRhYkluZGV4fHwwLHRoaXMuZm9jdXNJbmRleD1hLl8uZm9jdXNMaXN0LnB1c2godGhpcyktMSx0aGlzLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe2EuXy5jdXJyZW50Rm9jdXNJbmRleD15LmZvY3VzSW5kZXh9KSl9fSxoYm94OmZ1bmN0aW9uKGEsYixkLGMsZyl7aWYoISg0PmFyZ3VtZW50cy5sZW5ndGgpKXt0aGlzLl98fCh0aGlzLl89e30pO3ZhciBlPXRoaXMuXy5jaGlsZHJlbj1iLGY9ZyYmZy53aWR0aHN8fG51bGwsaD1nJiZnLmhlaWdodHx8bnVsbCxrLGw9e3JvbGU6XCJwcmVzZW50YXRpb25cIn07XG5nJiZnLmFsaWduJiYobC5hbGlnbj1nLmFsaWduKTtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LmNhbGwodGhpcyxhLGd8fHt0eXBlOlwiaGJveFwifSxjLFwidGFibGVcIix7fSxsLGZ1bmN0aW9uKCl7dmFyIGE9WydcXHgzY3Rib2R5XFx4M2VcXHgzY3RyIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfaGJveFwiXFx4M2UnXTtmb3Ioaz0wO2s8ZC5sZW5ndGg7aysrKXt2YXIgYj1cImNrZV9kaWFsb2dfdWlfaGJveF9jaGlsZFwiLGM9W107MD09PWsmJihiPVwiY2tlX2RpYWxvZ191aV9oYm94X2ZpcnN0XCIpO2s9PWQubGVuZ3RoLTEmJihiPVwiY2tlX2RpYWxvZ191aV9oYm94X2xhc3RcIik7YS5wdXNoKCdcXHgzY3RkIGNsYXNzXFx4M2RcIicsYiwnXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiAnKTtmP2Zba10mJmMucHVzaChcIndpZHRoOlwiK0IoZltrXSkpOmMucHVzaChcIndpZHRoOlwiK01hdGguZmxvb3IoMTAwL2QubGVuZ3RoKStcIiVcIik7aCYmYy5wdXNoKFwiaGVpZ2h0OlwiK0IoaCkpO2cmJnZvaWQgMCE9PWcucGFkZGluZyYmXG5jLnB1c2goXCJwYWRkaW5nOlwiK0IoZy5wYWRkaW5nKSk7Q0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYucXVpcmtzJiZlW2tdLmFsaWduJiZjLnB1c2goXCJ0ZXh0LWFsaWduOlwiK2Vba10uYWxpZ24pOzA8Yy5sZW5ndGgmJmEucHVzaCgnc3R5bGVcXHgzZFwiJytjLmpvaW4oXCI7IFwiKSsnXCIgJyk7YS5wdXNoKFwiXFx4M2VcIixkW2tdLFwiXFx4M2MvdGRcXHgzZVwiKX1hLnB1c2goXCJcXHgzYy90clxceDNlXFx4M2MvdGJvZHlcXHgzZVwiKTtyZXR1cm4gYS5qb2luKFwiXCIpfSl9fSx2Ym94OmZ1bmN0aW9uKGEsYixkLGMsZyl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXt0aGlzLl98fCh0aGlzLl89e30pO3ZhciBlPXRoaXMuXy5jaGlsZHJlbj1iLGY9ZyYmZy53aWR0aHx8bnVsbCxoPWcmJmcuaGVpZ2h0c3x8bnVsbDtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LmNhbGwodGhpcyxhLGd8fHt0eXBlOlwidmJveFwifSxjLFwiZGl2XCIsbnVsbCx7cm9sZTpcInByZXNlbnRhdGlvblwifSxmdW5jdGlvbigpe3ZhciBiPVxuWydcXHgzY3RhYmxlIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCIgY2VsbHNwYWNpbmdcXHgzZFwiMFwiIGJvcmRlclxceDNkXCIwXCIgJ107Yi5wdXNoKCdzdHlsZVxceDNkXCInKTtnJiZnLmV4cGFuZCYmYi5wdXNoKFwiaGVpZ2h0OjEwMCU7XCIpO2IucHVzaChcIndpZHRoOlwiK0IoZnx8XCIxMDAlXCIpLFwiO1wiKTtDS0VESVRPUi5lbnYud2Via2l0JiZiLnB1c2goXCJmbG9hdDpub25lO1wiKTtiLnB1c2goJ1wiJyk7Yi5wdXNoKCdhbGlnblxceDNkXCInLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoZyYmZy5hbGlnbnx8KFwibHRyXCI9PWEuZ2V0UGFyZW50RWRpdG9yKCkubGFuZy5kaXI/XCJsZWZ0XCI6XCJyaWdodFwiKSksJ1wiICcpO2IucHVzaChcIlxceDNlXFx4M2N0Ym9keVxceDNlXCIpO2Zvcih2YXIgYz0wO2M8ZC5sZW5ndGg7YysrKXt2YXIgaz1bXTtiLnB1c2goJ1xceDNjdHJcXHgzZVxceDNjdGQgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiAnKTtmJiZrLnB1c2goXCJ3aWR0aDpcIitCKGZ8fFwiMTAwJVwiKSk7aD9rLnB1c2goXCJoZWlnaHQ6XCIrXG5CKGhbY10pKTpnJiZnLmV4cGFuZCYmay5wdXNoKFwiaGVpZ2h0OlwiK01hdGguZmxvb3IoMTAwL2QubGVuZ3RoKStcIiVcIik7ZyYmdm9pZCAwIT09Zy5wYWRkaW5nJiZrLnB1c2goXCJwYWRkaW5nOlwiK0IoZy5wYWRkaW5nKSk7Q0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYucXVpcmtzJiZlW2NdLmFsaWduJiZrLnB1c2goXCJ0ZXh0LWFsaWduOlwiK2VbY10uYWxpZ24pOzA8ay5sZW5ndGgmJmIucHVzaCgnc3R5bGVcXHgzZFwiJyxrLmpvaW4oXCI7IFwiKSwnXCIgJyk7Yi5wdXNoKCcgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV92Ym94X2NoaWxkXCJcXHgzZScsZFtjXSxcIlxceDNjL3RkXFx4M2VcXHgzYy90clxceDNlXCIpfWIucHVzaChcIlxceDNjL3Rib2R5XFx4M2VcXHgzYy90YWJsZVxceDNlXCIpO3JldHVybiBiLmpvaW4oXCJcIil9KX19fX0pKCk7Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5wcm90b3R5cGU9e2dldEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLmRvbUlkKX0sXG5nZXRJbnB1dEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRFbGVtZW50KCl9LGdldERpYWxvZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZGlhbG9nfSxzZXRWYWx1ZTpmdW5jdGlvbihhLGIpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuc2V0VmFsdWUoYSk7IWImJnRoaXMuZmlyZShcImNoYW5nZVwiLHt2YWx1ZTphfSk7cmV0dXJuIHRoaXN9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuZ2V0VmFsdWUoKX0saXNDaGFuZ2VkOmZ1bmN0aW9uKCl7cmV0dXJuITF9LHNlbGVjdFBhcmVudFRhYjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmdldElucHV0RWxlbWVudCgpOyhhPWEuZ2V0UGFyZW50KCkpJiYtMT09YS4kLmNsYXNzTmFtZS5zZWFyY2goXCJja2VfZGlhbG9nX3BhZ2VfY29udGVudHNcIik7KTtpZighYSlyZXR1cm4gdGhpczthPWEuZ2V0QXR0cmlidXRlKFwibmFtZVwiKTt0aGlzLl8uZGlhbG9nLl8uY3VycmVudFRhYklkIT1cbmEmJnRoaXMuXy5kaWFsb2cuc2VsZWN0UGFnZShhKTtyZXR1cm4gdGhpc30sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdFBhcmVudFRhYigpLmdldElucHV0RWxlbWVudCgpLmZvY3VzKCk7cmV0dXJuIHRoaXN9LHJlZ2lzdGVyRXZlbnRzOmZ1bmN0aW9uKGEpe3ZhciBiPS9eb24oW0EtWl1cXHcrKS8sZCxjPWZ1bmN0aW9uKGEsYixkLGMpe2Iub24oXCJsb2FkXCIsZnVuY3Rpb24oKXthLmdldElucHV0RWxlbWVudCgpLm9uKGQsYyxhKX0pfSxnO2ZvcihnIGluIGEpaWYoZD1nLm1hdGNoKGIpKXRoaXMuZXZlbnRQcm9jZXNzb3JzW2ddP3RoaXMuZXZlbnRQcm9jZXNzb3JzW2ddLmNhbGwodGhpcyx0aGlzLl8uZGlhbG9nLGFbZ10pOmModGhpcyx0aGlzLl8uZGlhbG9nLGRbMV0udG9Mb3dlckNhc2UoKSxhW2ddKTtyZXR1cm4gdGhpc30sZXZlbnRQcm9jZXNzb3JzOntvbkxvYWQ6ZnVuY3Rpb24oYSxiKXthLm9uKFwibG9hZFwiLGIsdGhpcyl9LG9uU2hvdzpmdW5jdGlvbihhLGIpe2Eub24oXCJzaG93XCIsXG5iLHRoaXMpfSxvbkhpZGU6ZnVuY3Rpb24oYSxiKXthLm9uKFwiaGlkZVwiLGIsdGhpcyl9fSxhY2Nlc3NLZXlEb3duOmZ1bmN0aW9uKCl7dGhpcy5mb2N1cygpfSxhY2Nlc3NLZXlVcDpmdW5jdGlvbigpe30sZGlzYWJsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RWxlbWVudCgpO3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIixcInRydWVcIik7YS5hZGRDbGFzcyhcImNrZV9kaXNhYmxlZFwiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRFbGVtZW50KCk7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTthLnJlbW92ZUNsYXNzKFwiY2tlX2Rpc2FibGVkXCIpfSxpc0VuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5nZXRFbGVtZW50KCkuaGFzQ2xhc3MoXCJja2VfZGlzYWJsZWRcIil9LGlzVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElucHV0RWxlbWVudCgpLmlzVmlzaWJsZSgpfSxcbmlzRm9jdXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNFbmFibGVkKCkmJnRoaXMuaXNWaXNpYmxlKCk/ITA6ITF9fTtDS0VESVRPUi51aS5kaWFsb2cuaGJveC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LHtnZXRDaGlsZDpmdW5jdGlvbihhKXtpZigxPmFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuXy5jaGlsZHJlbi5jb25jYXQoKTthLnNwbGljZXx8KGE9W2FdKTtyZXR1cm4gMj5hLmxlbmd0aD90aGlzLl8uY2hpbGRyZW5bYVswXV06dGhpcy5fLmNoaWxkcmVuW2FbMF1dJiZ0aGlzLl8uY2hpbGRyZW5bYVswXV0uZ2V0Q2hpbGQ/dGhpcy5fLmNoaWxkcmVuW2FbMF1dLmdldENoaWxkKGEuc2xpY2UoMSxhLmxlbmd0aCkpOm51bGx9fSwhMCk7Q0tFRElUT1IudWkuZGlhbG9nLnZib3gucHJvdG90eXBlPW5ldyBDS0VESVRPUi51aS5kaWFsb2cuaGJveDsoZnVuY3Rpb24oKXt2YXIgYT17YnVpbGQ6ZnVuY3Rpb24oYSxcbmIsZCl7Zm9yKHZhciBjPWIuY2hpbGRyZW4sZyxlPVtdLGY9W10saD0wO2g8Yy5sZW5ndGgmJihnPWNbaF0pO2grKyl7dmFyIGs9W107ZS5wdXNoKGspO2YucHVzaChDS0VESVRPUi5kaWFsb2cuXy51aUVsZW1lbnRCdWlsZGVyc1tnLnR5cGVdLmJ1aWxkKGEsZyxrKSl9cmV0dXJuIG5ldyBDS0VESVRPUi51aS5kaWFsb2dbYi50eXBlXShhLGYsZSxkLGIpfX07Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcImhib3hcIixhKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwidmJveFwiLGEpfSkoKTtDS0VESVRPUi5kaWFsb2dDb21tYW5kPWZ1bmN0aW9uKGEsYil7dGhpcy5kaWFsb2dOYW1lPWE7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYiwhMCl9O0NLRURJVE9SLmRpYWxvZ0NvbW1hbmQucHJvdG90eXBlPXtleGVjOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudGFiSWQ7YS5vcGVuRGlhbG9nKHRoaXMuZGlhbG9nTmFtZSxmdW5jdGlvbihhKXtiJiZhLnNlbGVjdFBhZ2UoYil9KX0sXG5jYW5VbmRvOiExLGVkaXRvckZvY3VzOjF9OyhmdW5jdGlvbigpe3ZhciBhPS9eXFxkKiQvLGI9L15cXGQqKD86XFwuXFxkKyk/JC8sZD0vXigoKFxcZCooXFwuXFxkKykpfChcXGQqKSkocHh8XFwlKT8pPyQvLGM9L14oKChcXGQqKFxcLlxcZCspKXwoXFxkKikpKHB4fGVtfGV4fGlufGNtfG1tfHB0fHBjfFxcJSk/KT8kL2ksZz0vXigtLXwtPyhbYS16QS1aX118XFxcXCkpKFxcXFx8W2EtekEtWjAtOS1fXSkqXFxzKj86XFxzKj9bXjo7XSskLztDS0VESVRPUi5WQUxJREFURV9PUj0xO0NLRURJVE9SLlZBTElEQVRFX0FORD0yO0NLRURJVE9SLmRpYWxvZy52YWxpZGF0ZT17ZnVuY3Rpb25zOmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzO3JldHVybiBmdW5jdGlvbihiKXt0aGlzJiZ0aGlzLmdldFZhbHVlJiYoYj10aGlzLmdldFZhbHVlKCkpO3ZhciBkLGM9Q0tFRElUT1IuVkFMSURBVEVfQU5ELGc9W10sZTtmb3IoZT0wO2U8YS5sZW5ndGg7ZSsrKWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGFbZV0pZy5wdXNoKGFbZV0pO1xuZWxzZSBicmVhaztlPGEubGVuZ3RoJiZcInN0cmluZ1wiPT10eXBlb2YgYVtlXSYmKGQ9YVtlXSxlKyspO2U8YS5sZW5ndGgmJlwibnVtYmVyXCI9PXR5cGVvZiBhW2VdJiYoYz1hW2VdKTtlPWM9PUNLRURJVE9SLlZBTElEQVRFX0FORDtmb3IodmFyIGY9MDtmPGcubGVuZ3RoO2YrKyl7dmFyIGg9ITA9PT1nW2ZdKGIpO2U9Yz09Q0tFRElUT1IuVkFMSURBVEVfQU5EP2UmJmg6ZXx8aH1yZXR1cm4gZT8hMDpkfX0scmVnZXg6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5mdW5jdGlvbnMoZnVuY3Rpb24oYil7cmV0dXJuIGEudGVzdChiKX0sYil9LG5vdEVtcHR5OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZ1bmN0aW9ucyhmdW5jdGlvbihhKXtyZXR1cm4gMDxhLnJlcGxhY2UoUmVnRXhwKFwiXltcXFxcdTAwMjBcXFxcdTAwYTBcXFxcdTE2ODBcXFxcdTIwMmZcXFxcdTIwNWZcXFxcdTMwMDBcXFxcdTIwMDAtXFxcXHUyMDBhXFxcXHNdK3xbXFxcXHUwMDIwXFxcXHUwMGEwXFxcXHUxNjgwXFxcXHUyMDJmXFxcXHUyMDVmXFxcXHUzMDAwXFxcXHUyMDAwLVxcXFx1MjAwYVxcXFxzXSskXCIsXG5cImdcIiksXCJcIikubGVuZ3RofSxhKX0saW50ZWdlcjpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5yZWdleChhLGIpfSxudW1iZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucmVnZXgoYixhKX0sY3NzTGVuZ3RoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZ1bmN0aW9ucyhmdW5jdGlvbihhKXtyZXR1cm4gYy50ZXN0KENLRURJVE9SLnRvb2xzLnRyaW0oYSkpfSxhKX0saHRtbExlbmd0aDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5mdW5jdGlvbnMoZnVuY3Rpb24oYSl7cmV0dXJuIGQudGVzdChDS0VESVRPUi50b29scy50cmltKGEpKX0sYSl9LGlubGluZVN0eWxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZ1bmN0aW9ucyhmdW5jdGlvbihhKXthPUNLRURJVE9SLnRvb2xzLnRyaW0oYSkuc3BsaXQoXCI7XCIpO1wiXCI9PT1hW2EubGVuZ3RoLTFdJiZhLnBvcCgpO3JldHVybiBDS0VESVRPUi50b29scy5hcnJheS5ldmVyeShhLGZ1bmN0aW9uKGEpe3JldHVybiBnLnRlc3QoQ0tFRElUT1IudG9vbHMudHJpbShhKSl9KX0sXG5hKX0sZXF1YWxzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZnVuY3Rpb25zKGZ1bmN0aW9uKGIpe3JldHVybiBiPT1hfSxiKX0sbm90RXF1YWw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5mdW5jdGlvbnMoZnVuY3Rpb24oYil7cmV0dXJuIGIhPWF9LGIpfX07Q0tFRElUT1Iub24oXCJpbnN0YW5jZURlc3Ryb3llZFwiLGZ1bmN0aW9uKGEpe2lmKENLRURJVE9SLnRvb2xzLmlzRW1wdHkoQ0tFRElUT1IuaW5zdGFuY2VzKSl7Zm9yKHZhciBiO2I9Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcDspYi5oaWRlKCk7Zm9yKHZhciBkIGluIEUpRVtkXS5yZW1vdmUoKTtFPXt9fWE9YS5lZGl0b3IuXy5zdG9yZWREaWFsb2dzO2Zvcih2YXIgYyBpbiBhKWFbY10uZGVzdHJveSgpfSl9KSgpO0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLHtvcGVuRGlhbG9nOmZ1bmN0aW9uKGEsYixkKXt2YXIgYz1udWxsLGc9Q0tFRElUT1IuZGlhbG9nLl8uZGlhbG9nRGVmaW5pdGlvbnNbYV07XG5udWxsPT09Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcCYmcCh0aGlzKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBnKWc9dGhpcy5fLnN0b3JlZERpYWxvZ3N8fCh0aGlzLl8uc3RvcmVkRGlhbG9ncz17fSksYz1nW2FdfHwoZ1thXT1uZXcgQ0tFRElUT1IuZGlhbG9nKHRoaXMsYSkpLGMuc2V0TW9kZWwoZCksYiYmYi5jYWxsKGMsYyksYy5zaG93KCk7ZWxzZXtpZihcImZhaWxlZFwiPT1nKXRocm93IHUodGhpcyksRXJyb3IoJ1tDS0VESVRPUi5kaWFsb2cub3BlbkRpYWxvZ10gRGlhbG9nIFwiJythKydcIiBmYWlsZWQgd2hlbiBsb2FkaW5nIGRlZmluaXRpb24uJyk7XCJzdHJpbmdcIj09dHlwZW9mIGcmJkNLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKENLRURJVE9SLmdldFVybChnKSxmdW5jdGlvbigpe1wiZnVuY3Rpb25cIiE9dHlwZW9mIENLRURJVE9SLmRpYWxvZy5fLmRpYWxvZ0RlZmluaXRpb25zW2FdJiYoQ0tFRElUT1IuZGlhbG9nLl8uZGlhbG9nRGVmaW5pdGlvbnNbYV09XCJmYWlsZWRcIik7XG50aGlzLm9wZW5EaWFsb2coYSxiLGQpfSx0aGlzLDAsMSl9Q0tFRElUT1Iuc2tpbi5sb2FkUGFydChcImRpYWxvZ1wiKTtpZihjKWMub25jZShcImhpZGVcIixmdW5jdGlvbigpe2Muc2V0TW9kZWwobnVsbCl9LG51bGwsbnVsbCw5OTkpO3JldHVybiBjfX0pO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiZGlhbG9nXCIse3JlcXVpcmVzOlwiZGlhbG9ndWlcIixpbml0OmZ1bmN0aW9uKGEpe0Z8fChDS0VESVRPUi5kb2N1bWVudC5hcHBlbmRTdHlsZVNoZWV0KHRoaXMucGF0aCtcInN0eWxlcy9kaWFsb2cuY3NzXCIpLEY9ITApO2Eub24oXCJkb3VibGVjbGlja1wiLGZ1bmN0aW9uKGIpe2IuZGF0YS5kaWFsb2cmJmEub3BlbkRpYWxvZyhiLmRhdGEuZGlhbG9nKX0sbnVsbCxudWxsLDk5OSl9fSl9KCksZnVuY3Rpb24oKXtDS0VESVRPUi5wbHVnaW5zLmFkZChcImExMXloZWxwXCIse3JlcXVpcmVzOlwiZGlhbG9nXCIsYXZhaWxhYmxlTGFuZ3M6e2FmOjEsYXI6MSxhejoxLGJnOjEsY2E6MSxjczoxLGN5OjEsZGE6MSxkZToxLFxuXCJkZS1jaFwiOjEsZWw6MSxlbjoxLFwiZW4tYXVcIjoxLFwiZW4tZ2JcIjoxLGVvOjEsZXM6MSxcImVzLW14XCI6MSxldDoxLGV1OjEsZmE6MSxmaToxLGZvOjEsZnI6MSxcImZyLWNhXCI6MSxnbDoxLGd1OjEsaGU6MSxoaToxLGhyOjEsaHU6MSxpZDoxLGl0OjEsamE6MSxrbToxLGtvOjEsa3U6MSxsdDoxLGx2OjEsbWs6MSxtbjoxLG5iOjEsbmw6MSxubzoxLG9jOjEscGw6MSxwdDoxLFwicHQtYnJcIjoxLHJvOjEscnU6MSxzaToxLHNrOjEsc2w6MSxzcToxLHNyOjEsXCJzci1sYXRuXCI6MSxzdjoxLHRoOjEsdHI6MSx0dDoxLHVnOjEsdWs6MSx2aToxLHpoOjEsXCJ6aC1jblwiOjF9LGluaXQ6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpczthLmFkZENvbW1hbmQoXCJhMTF5SGVscFwiLHtleGVjOmZ1bmN0aW9uKCl7dmFyIGU9YS5sYW5nQ29kZSxlPWYuYXZhaWxhYmxlTGFuZ3NbZV0/ZTpmLmF2YWlsYWJsZUxhbmdzW2UucmVwbGFjZSgvLS4qLyxcIlwiKV0/ZS5yZXBsYWNlKC8tLiovLFwiXCIpOlwiZW5cIjtDS0VESVRPUi5zY3JpcHRMb2FkZXIubG9hZChDS0VESVRPUi5nZXRVcmwoZi5wYXRoK1xuXCJkaWFsb2dzL2xhbmcvXCIrZStcIi5qc1wiKSxmdW5jdGlvbigpe2EubGFuZy5hMTF5aGVscD1mLmxhbmdFbnRyaWVzW2VdO2Eub3BlbkRpYWxvZyhcImExMXlIZWxwXCIpfSl9LG1vZGVzOnt3eXNpd3lnOjEsc291cmNlOjF9LHJlYWRPbmx5OjEsY2FuVW5kbzohMX0pO2Euc2V0S2V5c3Ryb2tlKENLRURJVE9SLkFMVCs0OCxcImExMXlIZWxwXCIpO0NLRURJVE9SLmRpYWxvZy5hZGQoXCJhMTF5SGVscFwiLHRoaXMucGF0aCtcImRpYWxvZ3MvYTExeWhlbHAuanNcIik7YS5vbihcImFyaWFFZGl0b3JIZWxwTGFiZWxcIixmdW5jdGlvbihlKXtlLmRhdGEubGFiZWw9YS5sYW5nLmNvbW1vbi5lZGl0b3JIZWxwfSl9fSl9KCksQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJhYm91dFwiLHtyZXF1aXJlczpcImRpYWxvZ1wiLGluaXQ6ZnVuY3Rpb24oYSl7dmFyIGY9YS5hZGRDb21tYW5kKFwiYWJvdXRcIixuZXcgQ0tFRElUT1IuZGlhbG9nQ29tbWFuZChcImFib3V0XCIpKTtmLm1vZGVzPXt3eXNpd3lnOjEsc291cmNlOjF9O2YuY2FuVW5kbz1cbiExO2YucmVhZE9ubHk9MTthLnVpLmFkZEJ1dHRvbiYmYS51aS5hZGRCdXR0b24oXCJBYm91dFwiLHtsYWJlbDphLmxhbmcuYWJvdXQuZGxnVGl0bGUsY29tbWFuZDpcImFib3V0XCIsdG9vbGJhcjpcImFib3V0XCJ9KTtDS0VESVRPUi5kaWFsb2cuYWRkKFwiYWJvdXRcIix0aGlzLnBhdGgrXCJkaWFsb2dzL2Fib3V0LmpzXCIpfX0pLENLRURJVE9SLnBsdWdpbnMuYWRkKFwiYmFzaWNzdHlsZXNcIix7aW5pdDpmdW5jdGlvbihhKXt2YXIgZj0wLGU9ZnVuY3Rpb24oYyxlLGQsaCl7aWYoaCl7aD1uZXcgQ0tFRElUT1Iuc3R5bGUoaCk7dmFyIGc9YltkXTtnLnVuc2hpZnQoaCk7YS5hdHRhY2hTdHlsZVN0YXRlQ2hhbmdlKGgsZnVuY3Rpb24oYil7IWEucmVhZE9ubHkmJmEuZ2V0Q29tbWFuZChkKS5zZXRTdGF0ZShiKX0pO2EuYWRkQ29tbWFuZChkLG5ldyBDS0VESVRPUi5zdHlsZUNvbW1hbmQoaCx7Y29udGVudEZvcm1zOmd9KSk7YS51aS5hZGRCdXR0b24mJmEudWkuYWRkQnV0dG9uKGMse2lzVG9nZ2xlOiEwLFxubGFiZWw6ZSxjb21tYW5kOmQsdG9vbGJhcjpcImJhc2ljc3R5bGVzLFwiKyhmKz0xMCl9KX19LGI9e2JvbGQ6W1wic3Ryb25nXCIsXCJiXCIsW1wic3BhblwiLGZ1bmN0aW9uKGEpe2E9YS5zdHlsZXNbXCJmb250LXdlaWdodFwiXTtyZXR1cm5cImJvbGRcIj09YXx8NzAwPD0rYX1dXSxpdGFsaWM6W1wiZW1cIixcImlcIixbXCJzcGFuXCIsZnVuY3Rpb24oYSl7cmV0dXJuXCJpdGFsaWNcIj09YS5zdHlsZXNbXCJmb250LXN0eWxlXCJdfV1dLHVuZGVybGluZTpbXCJ1XCIsW1wic3BhblwiLGZ1bmN0aW9uKGEpe3JldHVyblwidW5kZXJsaW5lXCI9PWEuc3R5bGVzW1widGV4dC1kZWNvcmF0aW9uXCJdfV1dLHN0cmlrZTpbXCJzXCIsXCJzdHJpa2VcIixbXCJzcGFuXCIsZnVuY3Rpb24oYSl7cmV0dXJuXCJsaW5lLXRocm91Z2hcIj09YS5zdHlsZXNbXCJ0ZXh0LWRlY29yYXRpb25cIl19XV0sc3Vic2NyaXB0OltcInN1YlwiXSxzdXBlcnNjcmlwdDpbXCJzdXBcIl19LGM9YS5jb25maWcsaz1hLmxhbmcuYmFzaWNzdHlsZXM7ZShcIkJvbGRcIixrLmJvbGQsXCJib2xkXCIsXG5jLmNvcmVTdHlsZXNfYm9sZCk7ZShcIkl0YWxpY1wiLGsuaXRhbGljLFwiaXRhbGljXCIsYy5jb3JlU3R5bGVzX2l0YWxpYyk7ZShcIlVuZGVybGluZVwiLGsudW5kZXJsaW5lLFwidW5kZXJsaW5lXCIsYy5jb3JlU3R5bGVzX3VuZGVybGluZSk7ZShcIlN0cmlrZVwiLGsuc3RyaWtlLFwic3RyaWtlXCIsYy5jb3JlU3R5bGVzX3N0cmlrZSk7ZShcIlN1YnNjcmlwdFwiLGsuc3Vic2NyaXB0LFwic3Vic2NyaXB0XCIsYy5jb3JlU3R5bGVzX3N1YnNjcmlwdCk7ZShcIlN1cGVyc2NyaXB0XCIsay5zdXBlcnNjcmlwdCxcInN1cGVyc2NyaXB0XCIsYy5jb3JlU3R5bGVzX3N1cGVyc2NyaXB0KTthLnNldEtleXN0cm9rZShbW0NLRURJVE9SLkNUUkwrNjYsXCJib2xkXCJdLFtDS0VESVRPUi5DVFJMKzczLFwiaXRhbGljXCJdLFtDS0VESVRPUi5DVFJMKzg1LFwidW5kZXJsaW5lXCJdXSl9LGFmdGVySW5pdDpmdW5jdGlvbihhKXtpZihhLmNvbmZpZy5jb3JlU3R5bGVzX3RvZ2dsZVN1YlN1cCl7dmFyIGY9YS5nZXRDb21tYW5kKFwic3Vic2NyaXB0XCIpLFxuZT1hLmdldENvbW1hbmQoXCJzdXBlcnNjcmlwdFwiKTtpZihmJiZlKWEub24oXCJhZnRlckNvbW1hbmRFeGVjXCIsZnVuY3Rpb24oYil7Yj1iLmRhdGEubmFtZTtpZihcInN1YnNjcmlwdFwiPT09Ynx8XCJzdXBlcnNjcmlwdFwiPT09Yil7dmFyIGM9XCJzdWJzY3JpcHRcIj09PWI/ZTpmOyhcInN1YnNjcmlwdFwiPT09Yj9mOmUpLnN0YXRlPT09Q0tFRElUT1IuVFJJU1RBVEVfT04mJmMuc3RhdGU9PT1DS0VESVRPUi5UUklTVEFURV9PTiYmKGMuZXhlYyhhKSxhLmZpcmUoXCJ1cGRhdGVTbmFwc2hvdFwiKSl9fSl9fX0pLENLRURJVE9SLmNvbmZpZy5jb3JlU3R5bGVzX2JvbGQ9e2VsZW1lbnQ6XCJzdHJvbmdcIixvdmVycmlkZXM6XCJiXCJ9LENLRURJVE9SLmNvbmZpZy5jb3JlU3R5bGVzX2l0YWxpYz17ZWxlbWVudDpcImVtXCIsb3ZlcnJpZGVzOlwiaVwifSxDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc191bmRlcmxpbmU9e2VsZW1lbnQ6XCJ1XCJ9LENLRURJVE9SLmNvbmZpZy5jb3JlU3R5bGVzX3N0cmlrZT17ZWxlbWVudDpcInNcIixcbm92ZXJyaWRlczpcInN0cmlrZVwifSxDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19zdWJzY3JpcHQ9e2VsZW1lbnQ6XCJzdWJcIn0sQ0tFRElUT1IuY29uZmlnLmNvcmVTdHlsZXNfc3VwZXJzY3JpcHQ9e2VsZW1lbnQ6XCJzdXBcIn0sQ0tFRElUT1IuY29uZmlnLmNvcmVTdHlsZXNfdG9nZ2xlU3ViU3VwPSExLGZ1bmN0aW9uKCl7dmFyIGE9e2V4ZWM6ZnVuY3Rpb24oYSl7dmFyIGU9YS5nZXRDb21tYW5kKFwiYmxvY2txdW90ZVwiKS5zdGF0ZSxiPWEuZ2V0U2VsZWN0aW9uKCksYz1iJiZiLmdldFJhbmdlcygpWzBdO2lmKGMpe3ZhciBrPWIuY3JlYXRlQm9va21hcmtzKCk7aWYoQ0tFRElUT1IuZW52LmllKXt2YXIgbD1rWzBdLnN0YXJ0Tm9kZSxtPWtbMF0uZW5kTm9kZSxkO2lmKGwmJlwiYmxvY2txdW90ZVwiPT1sLmdldFBhcmVudCgpLmdldE5hbWUoKSlmb3IoZD1sO2Q9ZC5nZXROZXh0KCk7KWlmKGQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkLmlzQmxvY2tCb3VuZGFyeSgpKXtsLm1vdmUoZCxcbiEwKTticmVha31pZihtJiZcImJsb2NrcXVvdGVcIj09bS5nZXRQYXJlbnQoKS5nZXROYW1lKCkpZm9yKGQ9bTtkPWQuZ2V0UHJldmlvdXMoKTspaWYoZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuaXNCbG9ja0JvdW5kYXJ5KCkpe20ubW92ZShkKTticmVha319dmFyIGg9Yy5jcmVhdGVJdGVyYXRvcigpO2guZW5sYXJnZUJyPWEuY29uZmlnLmVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlI7aWYoZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKXtmb3IobD1bXTtlPWguZ2V0TmV4dFBhcmFncmFwaCgpOylsLnB1c2goZSk7MT5sLmxlbmd0aCYmKGU9YS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEuY29uZmlnLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiKSxtPWsuc2hpZnQoKSxjLmluc2VydE5vZGUoZSksZS5hcHBlbmQobmV3IENLRURJVE9SLmRvbS50ZXh0KFwi77u/XCIsYS5kb2N1bWVudCkpLGMubW92ZVRvQm9va21hcmsobSksYy5zZWxlY3ROb2RlQ29udGVudHMoZSksXG5jLmNvbGxhcHNlKCEwKSxtPWMuY3JlYXRlQm9va21hcmsoKSxsLnB1c2goZSksay51bnNoaWZ0KG0pKTtkPWxbMF0uZ2V0UGFyZW50KCk7Yz1bXTtmb3IobT0wO208bC5sZW5ndGg7bSsrKWU9bFttXSxkPWQuZ2V0Q29tbW9uQW5jZXN0b3IoZS5nZXRQYXJlbnQoKSk7Zm9yKGU9e3RhYmxlOjEsdGJvZHk6MSx0cjoxLG9sOjEsdWw6MX07ZVtkLmdldE5hbWUoKV07KWQ9ZC5nZXRQYXJlbnQoKTtmb3IobT1udWxsOzA8bC5sZW5ndGg7KXtmb3IoZT1sLnNoaWZ0KCk7IWUuZ2V0UGFyZW50KCkuZXF1YWxzKGQpOyllPWUuZ2V0UGFyZW50KCk7ZS5lcXVhbHMobSl8fGMucHVzaChlKTttPWV9Zm9yKDswPGMubGVuZ3RoOylpZihlPWMuc2hpZnQoKSxcImJsb2NrcXVvdGVcIj09ZS5nZXROYW1lKCkpe2ZvcihtPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChhLmRvY3VtZW50KTtlLmdldEZpcnN0KCk7KW0uYXBwZW5kKGUuZ2V0Rmlyc3QoKS5yZW1vdmUoKSksbC5wdXNoKG0uZ2V0TGFzdCgpKTtcbm0ucmVwbGFjZShlKX1lbHNlIGwucHVzaChlKTtjPWEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJsb2NrcXVvdGVcIik7Zm9yKGMuaW5zZXJ0QmVmb3JlKGxbMF0pOzA8bC5sZW5ndGg7KWU9bC5zaGlmdCgpLGMuYXBwZW5kKGUpfWVsc2UgaWYoZT09Q0tFRElUT1IuVFJJU1RBVEVfT04pe209W107Zm9yKGQ9e307ZT1oLmdldE5leHRQYXJhZ3JhcGgoKTspe2ZvcihsPWM9bnVsbDtlLmdldFBhcmVudCgpOyl7aWYoXCJibG9ja3F1b3RlXCI9PWUuZ2V0UGFyZW50KCkuZ2V0TmFtZSgpKXtjPWUuZ2V0UGFyZW50KCk7bD1lO2JyZWFrfWU9ZS5nZXRQYXJlbnQoKX1jJiZsJiYhbC5nZXRDdXN0b21EYXRhKFwiYmxvY2txdW90ZV9tb3Zlb3V0XCIpJiYobS5wdXNoKGwpLENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihkLGwsXCJibG9ja3F1b3RlX21vdmVvdXRcIiwhMCkpfUNLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2VycyhkKTtlPVtdO2w9W107Zm9yKGQ9e307MDxtLmxlbmd0aDspaD1cbm0uc2hpZnQoKSxjPWguZ2V0UGFyZW50KCksaC5nZXRQcmV2aW91cygpP2guZ2V0TmV4dCgpPyhoLmJyZWFrUGFyZW50KGguZ2V0UGFyZW50KCkpLGwucHVzaChoLmdldE5leHQoKSkpOmgucmVtb3ZlKCkuaW5zZXJ0QWZ0ZXIoYyk6aC5yZW1vdmUoKS5pbnNlcnRCZWZvcmUoYyksYy5nZXRDdXN0b21EYXRhKFwiYmxvY2txdW90ZV9wcm9jZXNzZWRcIil8fChsLnB1c2goYyksQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGQsYyxcImJsb2NrcXVvdGVfcHJvY2Vzc2VkXCIsITApKSxlLnB1c2goaCk7Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGQpO2ZvcihtPWwubGVuZ3RoLTE7MDw9bTttLS0pe2M9bFttXTthOntkPWM7Zm9yKHZhciBoPTAsZz1kLmdldENoaWxkQ291bnQoKSxuPXZvaWQgMDtoPGcmJihuPWQuZ2V0Q2hpbGQoaCkpO2grKylpZihuLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmbi5pc0Jsb2NrQm91bmRhcnkoKSl7ZD0hMTticmVhayBhfWQ9XG4hMH1kJiZjLnJlbW92ZSgpfWlmKGEuY29uZmlnLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlIpZm9yKGM9ITA7ZS5sZW5ndGg7KWlmKGg9ZS5zaGlmdCgpLFwiZGl2XCI9PWguZ2V0TmFtZSgpKXttPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChhLmRvY3VtZW50KTshY3x8IWguZ2V0UHJldmlvdXMoKXx8aC5nZXRQcmV2aW91cygpLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmaC5nZXRQcmV2aW91cygpLmlzQmxvY2tCb3VuZGFyeSgpfHxtLmFwcGVuZChhLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKSk7Zm9yKGM9aC5nZXROZXh0KCkmJiEoaC5nZXROZXh0KCkudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZoLmdldE5leHQoKS5pc0Jsb2NrQm91bmRhcnkoKSk7aC5nZXRGaXJzdCgpOyloLmdldEZpcnN0KCkucmVtb3ZlKCkuYXBwZW5kVG8obSk7YyYmbS5hcHBlbmQoYS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIikpO20ucmVwbGFjZShoKTtcbmM9ITF9fWIuc2VsZWN0Qm9va21hcmtzKGspO2EuZm9jdXMoKX19LHJlZnJlc2g6ZnVuY3Rpb24oYSxlKXt0aGlzLnNldFN0YXRlKGEuZWxlbWVudFBhdGgoZS5ibG9ja3x8ZS5ibG9ja0xpbWl0KS5jb250YWlucyhcImJsb2NrcXVvdGVcIiwxKT9DS0VESVRPUi5UUklTVEFURV9PTjpDS0VESVRPUi5UUklTVEFURV9PRkYpfSxjb250ZXh0OlwiYmxvY2txdW90ZVwiLGFsbG93ZWRDb250ZW50OlwiYmxvY2txdW90ZVwiLHJlcXVpcmVkQ29udGVudDpcImJsb2NrcXVvdGVcIn07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJibG9ja3F1b3RlXCIse2luaXQ6ZnVuY3Rpb24oZil7Zi5ibG9ja2xlc3N8fChmLmFkZENvbW1hbmQoXCJibG9ja3F1b3RlXCIsYSksZi51aS5hZGRCdXR0b24mJmYudWkuYWRkQnV0dG9uKFwiQmxvY2txdW90ZVwiLHtpc1RvZ2dsZTohMCxsYWJlbDpmLmxhbmcuYmxvY2txdW90ZS50b29sYmFyLGNvbW1hbmQ6XCJibG9ja3F1b3RlXCIsdG9vbGJhcjpcImJsb2NrcywxMFwifSkpfX0pfSgpLFwidXNlIHN0cmljdFwiLFxuZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYix7ZWRpdG9yOmEsaWQ6XCJja2UtXCIrQ0tFRElUT1IudG9vbHMuZ2V0VW5pcXVlSWQoKSxhcmVhOmEuXy5ub3RpZmljYXRpb25BcmVhfSk7Yi50eXBlfHwodGhpcy50eXBlPVwiaW5mb1wiKTt0aGlzLmVsZW1lbnQ9dGhpcy5fY3JlYXRlRWxlbWVudCgpO2EucGx1Z2lucy5jbGlwYm9hcmQmJkNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLnByZXZlbnREZWZhdWx0RHJvcE9uRWxlbWVudCh0aGlzLmVsZW1lbnQpfWZ1bmN0aW9uIGYoYSl7dmFyIGI9dGhpczt0aGlzLmVkaXRvcj1hO3RoaXMubm90aWZpY2F0aW9ucz1bXTt0aGlzLmVsZW1lbnQ9dGhpcy5fY3JlYXRlRWxlbWVudCgpO3RoaXMuX3VpQnVmZmVyPUNLRURJVE9SLnRvb2xzLmV2ZW50c0J1ZmZlcigxMCx0aGlzLl9sYXlvdXQsdGhpcyk7dGhpcy5fY2hhbmdlQnVmZmVyPUNLRURJVE9SLnRvb2xzLmV2ZW50c0J1ZmZlcig1MDAsdGhpcy5fbGF5b3V0LFxudGhpcyk7YS5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe2IuX3JlbW92ZUxpc3RlbmVycygpO2IuZWxlbWVudC5yZW1vdmUoKX0pfUNLRURJVE9SLnBsdWdpbnMuYWRkKFwibm90aWZpY2F0aW9uXCIse2luaXQ6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXt2YXIgYj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJkaXZcIik7Yi5zZXRTdHlsZXMoe3Bvc2l0aW9uOlwiZml4ZWRcIixcIm1hcmdpbi1sZWZ0XCI6XCItOTk5OXB4XCJ9KTtiLnNldEF0dHJpYnV0ZXMoe1wiYXJpYS1saXZlXCI6XCJhc3NlcnRpdmVcIixcImFyaWEtYXRvbWljXCI6XCJ0cnVlXCJ9KTtiLnNldFRleHQoYSk7Q0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLmFwcGVuZChiKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5yZW1vdmUoKX0sMTAwKX1hLl8ubm90aWZpY2F0aW9uQXJlYT1uZXcgZihhKTthLnNob3dOb3RpZmljYXRpb249ZnVuY3Rpb24oYixmLGwpe3ZhciBtLGQ7XCJwcm9ncmVzc1wiPT1mP209bDpkPWw7Yj1uZXcgQ0tFRElUT1IucGx1Z2lucy5ub3RpZmljYXRpb24oYSxcbnttZXNzYWdlOmIsdHlwZTpmLHByb2dyZXNzOm0sZHVyYXRpb246ZH0pO2Iuc2hvdygpO3JldHVybiBifTthLm9uKFwia2V5XCIsZnVuY3Rpb24oYyl7aWYoMjc9PWMuZGF0YS5rZXlDb2RlKXt2YXIgZj1hLl8ubm90aWZpY2F0aW9uQXJlYS5ub3RpZmljYXRpb25zO2YubGVuZ3RoJiYoYihhLmxhbmcubm90aWZpY2F0aW9uLmNsb3NlZCksZltmLmxlbmd0aC0xXS5oaWRlKCksYy5jYW5jZWwoKSl9fSl9fSk7YS5wcm90b3R5cGU9e3Nob3c6ZnVuY3Rpb24oKXshMSE9PXRoaXMuZWRpdG9yLmZpcmUoXCJub3RpZmljYXRpb25TaG93XCIse25vdGlmaWNhdGlvbjp0aGlzfSkmJih0aGlzLmFyZWEuYWRkKHRoaXMpLHRoaXMuX2hpZGVBZnRlclRpbWVvdXQoKSl9LHVwZGF0ZTpmdW5jdGlvbihhKXt2YXIgYj0hMDshMT09PXRoaXMuZWRpdG9yLmZpcmUoXCJub3RpZmljYXRpb25VcGRhdGVcIix7bm90aWZpY2F0aW9uOnRoaXMsb3B0aW9uczphfSkmJihiPSExKTt2YXIgYz10aGlzLmVsZW1lbnQsZj1jLmZpbmRPbmUoXCIuY2tlX25vdGlmaWNhdGlvbl9tZXNzYWdlXCIpLFxubD1jLmZpbmRPbmUoXCIuY2tlX25vdGlmaWNhdGlvbl9wcm9ncmVzc1wiKSxtPWEudHlwZTtjLnJlbW92ZUF0dHJpYnV0ZShcInJvbGVcIik7YS5wcm9ncmVzcyYmXCJwcm9ncmVzc1wiIT10aGlzLnR5cGUmJihtPVwicHJvZ3Jlc3NcIik7bSYmKGMucmVtb3ZlQ2xhc3ModGhpcy5fZ2V0Q2xhc3MoKSksYy5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpLHRoaXMudHlwZT1tLGMuYWRkQ2xhc3ModGhpcy5fZ2V0Q2xhc3MoKSksYy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsdGhpcy50eXBlKSxcInByb2dyZXNzXCIhPXRoaXMudHlwZXx8bD9cInByb2dyZXNzXCIhPXRoaXMudHlwZSYmbCYmbC5yZW1vdmUoKToobD10aGlzLl9jcmVhdGVQcm9ncmVzc0VsZW1lbnQoKSxsLmluc2VydEJlZm9yZShmKSkpO3ZvaWQgMCE9PWEubWVzc2FnZSYmKHRoaXMubWVzc2FnZT1hLm1lc3NhZ2UsZi5zZXRIdG1sKHRoaXMubWVzc2FnZSkpO3ZvaWQgMCE9PWEucHJvZ3Jlc3MmJih0aGlzLnByb2dyZXNzPWEucHJvZ3Jlc3MsXG5sJiZsLnNldFN0eWxlKFwid2lkdGhcIix0aGlzLl9nZXRQZXJjZW50YWdlUHJvZ3Jlc3MoKSkpO2ImJmEuaW1wb3J0YW50JiYoYy5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJhbGVydFwiKSx0aGlzLmlzVmlzaWJsZSgpfHx0aGlzLmFyZWEuYWRkKHRoaXMpKTt0aGlzLmR1cmF0aW9uPWEuZHVyYXRpb247dGhpcy5faGlkZUFmdGVyVGltZW91dCgpfSxoaWRlOmZ1bmN0aW9uKCl7ITEhPT10aGlzLmVkaXRvci5maXJlKFwibm90aWZpY2F0aW9uSGlkZVwiLHtub3RpZmljYXRpb246dGhpc30pJiZ0aGlzLmFyZWEucmVtb3ZlKHRoaXMpfSxpc1Zpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gMDw9Q0tFRElUT1IudG9vbHMuaW5kZXhPZih0aGlzLmFyZWEubm90aWZpY2F0aW9ucyx0aGlzKX0sX2NyZWF0ZUVsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGIsYyxmPXRoaXMuZWRpdG9yLmxhbmcuY29tbW9uLmNsb3NlO2I9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiZGl2XCIpO2IuYWRkQ2xhc3MoXCJja2Vfbm90aWZpY2F0aW9uXCIpO1xuYi5hZGRDbGFzcyh0aGlzLl9nZXRDbGFzcygpKTtiLnNldEF0dHJpYnV0ZXMoe2lkOnRoaXMuaWQscm9sZTpcImFsZXJ0XCIsXCJhcmlhLWxhYmVsXCI6dGhpcy50eXBlfSk7XCJwcm9ncmVzc1wiPT10aGlzLnR5cGUmJmIuYXBwZW5kKHRoaXMuX2NyZWF0ZVByb2dyZXNzRWxlbWVudCgpKTtjPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcInBcIik7Yy5hZGRDbGFzcyhcImNrZV9ub3RpZmljYXRpb25fbWVzc2FnZVwiKTtjLnNldEh0bWwodGhpcy5tZXNzYWdlKTtiLmFwcGVuZChjKTtjPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2EgY2xhc3NcXHgzZFwiY2tlX25vdGlmaWNhdGlvbl9jbG9zZVwiIGhyZWZcXHgzZFwiamF2YXNjcmlwdDp2b2lkKDApXCIgdGl0bGVcXHgzZFwiJytmKydcIiByb2xlXFx4M2RcImJ1dHRvblwiIHRhYmluZGV4XFx4M2RcIi0xXCJcXHgzZVxceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfbGFiZWxcIlxceDNlWFxceDNjL3NwYW5cXHgzZVxceDNjL2FcXHgzZScpO2IuYXBwZW5kKGMpO2Mub24oXCJjbGlja1wiLFxuZnVuY3Rpb24oKXthLmVkaXRvci5mb2N1cygpO2EuaGlkZSgpfSk7cmV0dXJuIGJ9LF9nZXRDbGFzczpmdW5jdGlvbigpe3JldHVyblwicHJvZ3Jlc3NcIj09dGhpcy50eXBlP1wiY2tlX25vdGlmaWNhdGlvbl9pbmZvXCI6XCJja2Vfbm90aWZpY2F0aW9uX1wiK3RoaXMudHlwZX0sX2NyZWF0ZVByb2dyZXNzRWxlbWVudDpmdW5jdGlvbigpe3ZhciBhPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcInNwYW5cIik7YS5hZGRDbGFzcyhcImNrZV9ub3RpZmljYXRpb25fcHJvZ3Jlc3NcIik7YS5zZXRTdHlsZShcIndpZHRoXCIsdGhpcy5fZ2V0UGVyY2VudGFnZVByb2dyZXNzKCkpO3JldHVybiBhfSxfZ2V0UGVyY2VudGFnZVByb2dyZXNzOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucm91bmQoMTAwKih0aGlzLnByb2dyZXNzfHwwKSkrXCIlXCJ9LF9oaWRlQWZ0ZXJUaW1lb3V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiO3RoaXMuX2hpZGVUaW1lb3V0SWQmJmNsZWFyVGltZW91dCh0aGlzLl9oaWRlVGltZW91dElkKTtcbmlmKFwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLmR1cmF0aW9uKWI9dGhpcy5kdXJhdGlvbjtlbHNlIGlmKFwiaW5mb1wiPT10aGlzLnR5cGV8fFwic3VjY2Vzc1wiPT10aGlzLnR5cGUpYj1cIm51bWJlclwiPT10eXBlb2YgdGhpcy5lZGl0b3IuY29uZmlnLm5vdGlmaWNhdGlvbl9kdXJhdGlvbj90aGlzLmVkaXRvci5jb25maWcubm90aWZpY2F0aW9uX2R1cmF0aW9uOjVFMztiJiYoYS5faGlkZVRpbWVvdXRJZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5oaWRlKCl9LGIpKX19O2YucHJvdG90eXBlPXthZGQ6ZnVuY3Rpb24oYSl7dGhpcy5ub3RpZmljYXRpb25zLnB1c2goYSk7dGhpcy5lbGVtZW50LmFwcGVuZChhLmVsZW1lbnQpOzE9PXRoaXMuZWxlbWVudC5nZXRDaGlsZENvdW50KCkmJihDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuYXBwZW5kKHRoaXMuZWxlbWVudCksdGhpcy5fYXR0YWNoTGlzdGVuZXJzKCkpO3RoaXMuX2xheW91dCgpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7dmFyIGI9Q0tFRElUT1IudG9vbHMuaW5kZXhPZih0aGlzLm5vdGlmaWNhdGlvbnMsXG5hKTswPmJ8fCh0aGlzLm5vdGlmaWNhdGlvbnMuc3BsaWNlKGIsMSksYS5lbGVtZW50LnJlbW92ZSgpLHRoaXMuZWxlbWVudC5nZXRDaGlsZENvdW50KCl8fCh0aGlzLl9yZW1vdmVMaXN0ZW5lcnMoKSx0aGlzLmVsZW1lbnQucmVtb3ZlKCkpKX0sX2NyZWF0ZUVsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVkaXRvcixiPWEuY29uZmlnLGM9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiZGl2XCIpO2MuYWRkQ2xhc3MoXCJja2Vfbm90aWZpY2F0aW9uc19hcmVhXCIpO2Muc2V0QXR0cmlidXRlKFwiaWRcIixcImNrZV9ub3RpZmljYXRpb25zX2FyZWFfXCIrYS5uYW1lKTtjLnNldFN0eWxlKFwiei1pbmRleFwiLGIuYmFzZUZsb2F0WkluZGV4LTIpO3JldHVybiBjfSxfYXR0YWNoTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCksYj10aGlzLmVkaXRvcjthLm9uKFwic2Nyb2xsXCIsdGhpcy5fdWlCdWZmZXIuaW5wdXQpO2Eub24oXCJyZXNpemVcIix0aGlzLl91aUJ1ZmZlci5pbnB1dCk7XG5iLm9uKFwiY2hhbmdlXCIsdGhpcy5fY2hhbmdlQnVmZmVyLmlucHV0KTtiLm9uKFwiZmxvYXRpbmdTcGFjZUxheW91dFwiLHRoaXMuX2xheW91dCx0aGlzLG51bGwsMjApO2Iub24oXCJibHVyXCIsdGhpcy5fbGF5b3V0LHRoaXMsbnVsbCwyMCl9LF9yZW1vdmVMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKSxiPXRoaXMuZWRpdG9yO2EucmVtb3ZlTGlzdGVuZXIoXCJzY3JvbGxcIix0aGlzLl91aUJ1ZmZlci5pbnB1dCk7YS5yZW1vdmVMaXN0ZW5lcihcInJlc2l6ZVwiLHRoaXMuX3VpQnVmZmVyLmlucHV0KTtiLnJlbW92ZUxpc3RlbmVyKFwiY2hhbmdlXCIsdGhpcy5fY2hhbmdlQnVmZmVyLmlucHV0KTtiLnJlbW92ZUxpc3RlbmVyKFwiZmxvYXRpbmdTcGFjZUxheW91dFwiLHRoaXMuX2xheW91dCk7Yi5yZW1vdmVMaXN0ZW5lcihcImJsdXJcIix0aGlzLl9sYXlvdXQpfSxfbGF5b3V0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe2Iuc2V0U3R5bGUoXCJsZWZ0XCIsXG56KHErZi53aWR0aC1uLXcpKX12YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLmVkaXRvcixmPWMudWkuY29udGVudHNFbGVtZW50LmdldENsaWVudFJlY3QoKSxsPWMudWkuY29udGVudHNFbGVtZW50LmdldERvY3VtZW50UG9zaXRpb24oKSxtLGQsaD1iLmdldENsaWVudFJlY3QoKSxnLG49dGhpcy5fbm90aWZpY2F0aW9uV2lkdGgsdz10aGlzLl9ub3RpZmljYXRpb25NYXJnaW47Zz1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKTt2YXIgeD1nLmdldFNjcm9sbFBvc2l0aW9uKCkscj1nLmdldFZpZXdQYW5lU2l6ZSgpLHA9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLHU9cC5nZXREb2N1bWVudFBvc2l0aW9uKCksej1DS0VESVRPUi50b29scy5jc3NMZW5ndGg7biYmd3x8KGc9dGhpcy5lbGVtZW50LmdldENoaWxkKDApLG49dGhpcy5fbm90aWZpY2F0aW9uV2lkdGg9Zy5nZXRDbGllbnRSZWN0KCkud2lkdGgsdz10aGlzLl9ub3RpZmljYXRpb25NYXJnaW49cGFyc2VJbnQoZy5nZXRDb21wdXRlZFN0eWxlKFwibWFyZ2luLWxlZnRcIiksXG4xMCkrcGFyc2VJbnQoZy5nZXRDb21wdXRlZFN0eWxlKFwibWFyZ2luLXJpZ2h0XCIpLDEwKSk7Yy50b29sYmFyJiYobT1jLnVpLnNwYWNlKGMuY29uZmlnLnRvb2xiYXJMb2NhdGlvbiksZD1tLmdldENsaWVudFJlY3QoKSk7bSYmbS5pc1Zpc2libGUoKSYmZC5ib3R0b20+Zi50b3AmJmQuYm90dG9tPGYuYm90dG9tLWguaGVpZ2h0P2Iuc2V0U3R5bGVzKHtwb3NpdGlvbjpcImZpeGVkXCIsdG9wOnooZC5ib3R0b20pfSk6MDxmLnRvcD9iLnNldFN0eWxlcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDp6KGwueSl9KTpsLnkrZi5oZWlnaHQtaC5oZWlnaHQ+eC55P2Iuc2V0U3R5bGVzKHtwb3NpdGlvbjpcImZpeGVkXCIsdG9wOjB9KTpiLnNldFN0eWxlcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDp6KGwueStmLmhlaWdodC1oLmhlaWdodCl9KTt2YXIgcT1cImZpeGVkXCI9PWIuZ2V0U3R5bGUoXCJwb3NpdGlvblwiKT9mLmxlZnQ6XCJzdGF0aWNcIiE9cC5nZXRDb21wdXRlZFN0eWxlKFwicG9zaXRpb25cIik/XG5sLngtdS54OmwueDtmLndpZHRoPG4rdz9sLngrbit3PngueCtyLndpZHRoP2EoKTpiLnNldFN0eWxlKFwibGVmdFwiLHoocSkpOmwueCtuK3c+eC54K3Iud2lkdGg/Yi5zZXRTdHlsZShcImxlZnRcIix6KHEpKTpsLngrZi53aWR0aC8yK24vMit3PngueCtyLndpZHRoP2Iuc2V0U3R5bGUoXCJsZWZ0XCIseihxLWwueCt4Lngrci53aWR0aC1uLXcpKTowPmYubGVmdCtmLndpZHRoLW4tdz9hKCk6MD5mLmxlZnQrZi53aWR0aC8yLW4vMj9iLnNldFN0eWxlKFwibGVmdFwiLHoocS1sLngreC54KSk6Yi5zZXRTdHlsZShcImxlZnRcIix6KHErZi53aWR0aC8yLW4vMi13LzIpKX19O0NLRURJVE9SLnBsdWdpbnMubm90aWZpY2F0aW9uPWF9KCksZnVuY3Rpb24oKXt2YXIgYT0nXFx4M2NhIGlkXFx4M2RcIntpZH1cIiBjbGFzc1xceDNkXCJja2VfYnV0dG9uIGNrZV9idXR0b25fX3tuYW1lfSBja2VfYnV0dG9uX3tzdGF0ZX0ge2Nsc31cIicrKENLRURJVE9SLmVudi5nZWNrbyYmIUNLRURJVE9SLmVudi5oYz9cIlwiOlwiIGhyZWZcXHgzZFxcXCJqYXZhc2NyaXB0OnZvaWQoJ3t0aXRsZUpzfScpXFxcIlwiKStcbicgdGl0bGVcXHgzZFwie3RpdGxlfVwiIHRhYmluZGV4XFx4M2RcIi0xXCIgaGlkZWZvY3VzXFx4M2RcInRydWVcIiByb2xlXFx4M2RcImJ1dHRvblwiIGFyaWEtbGFiZWxsZWRieVxceDNkXCJ7aWR9X2xhYmVsXCIgYXJpYS1kZXNjcmliZWRieVxceDNkXCJ7aWR9X2Rlc2NyaXB0aW9uXCIgYXJpYS1oYXNwb3B1cFxceDNkXCJ7aGFzQXJyb3d9XCIgYXJpYS1kaXNhYmxlZFxceDNkXCJ7YXJpYURpc2FibGVkfVwie2hhc0Fycm93QXJpYUh0bWx9e3RvZ2dsZUFyaWFIdG1sfSc7Q0tFRElUT1IuZW52LmdlY2tvJiZDS0VESVRPUi5lbnYubWFjJiYoYSs9JyBvbmtleXByZXNzXFx4M2RcInJldHVybiBmYWxzZTtcIicpO0NLRURJVE9SLmVudi5nZWNrbyYmKGErPScgb25ibHVyXFx4M2RcInRoaXMuc3R5bGUuY3NzVGV4dCBcXHgzZCB0aGlzLnN0eWxlLmNzc1RleHQ7XCInKTt2YXIgZj1cIlwiO0NLRURJVE9SLmVudi5pZSYmKGY9J3JldHVybiBmYWxzZTtcIiBvbm1vdXNldXBcXHgzZFwiQ0tFRElUT1IudG9vbHMuZ2V0TW91c2VCdXR0b24oZXZlbnQpXFx4M2RcXHgzZENLRURJVE9SLk1PVVNFX0JVVFRPTl9MRUZUXFx4MjZcXHgyNicpO1xudmFyIGE9YSsoJyBvbmtleWRvd25cXHgzZFwicmV0dXJuIENLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7a2V5ZG93bkZufSxldmVudCk7XCIgb25mb2N1c1xceDNkXCJyZXR1cm4gQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtmb2N1c0ZufSxldmVudCk7XCIgb25jbGlja1xceDNkXCInK2YrJ0NLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7Y2xpY2tGbn0sdGhpcyk7cmV0dXJuIGZhbHNlO1wiXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2J1dHRvbl9pY29uIGNrZV9idXR0b25fX3tpY29uTmFtZX1faWNvblwiIHN0eWxlXFx4M2RcIntzdHlsZX1cIicpKydcXHgzZVxceDI2bmJzcDtcXHgzYy9zcGFuXFx4M2VcXHgzY3NwYW4gaWRcXHgzZFwie2lkfV9sYWJlbFwiIGNsYXNzXFx4M2RcImNrZV9idXR0b25fbGFiZWwgY2tlX2J1dHRvbl9fe25hbWV9X2xhYmVsXCIgYXJpYS1oaWRkZW5cXHgzZFwiZmFsc2VcIlxceDNle2xhYmVsfVxceDNjL3NwYW5cXHgzZVxceDNjc3BhbiBpZFxceDNkXCJ7aWR9X2Rlc2NyaXB0aW9uXCIgY2xhc3NcXHgzZFwiY2tlX2J1dHRvbl9sYWJlbFwiIGFyaWEtaGlkZGVuXFx4M2RcImZhbHNlXCJcXHgzZXthcmlhU2hvcnRjdXRTcGFjZX17YXJpYVNob3J0Y3V0fVxceDNjL3NwYW5cXHgzZXthcnJvd0h0bWx9XFx4M2MvYVxceDNlJyxcbmU9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJidXR0b25BcnJvd1wiLCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2J1dHRvbl9hcnJvd1wiXFx4M2UnKyhDS0VESVRPUi5lbnYuaGM/XCJcXHgyNiM5NjYwO1wiOlwiXCIpK1wiXFx4M2Mvc3BhblxceDNlXCIpLGI9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJidXR0b25cIixhKTtDS0VESVRPUi5wbHVnaW5zLmFkZChcImJ1dHRvblwiLHtiZWZvcmVJbml0OmZ1bmN0aW9uKGEpe2EudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9CVVRUT04sQ0tFRElUT1IudWkuYnV0dG9uLmhhbmRsZXIpfX0pO0NLRURJVE9SLlVJX0JVVFRPTj1cImJ1dHRvblwiO0NLRURJVE9SLnVpLmJ1dHRvbj1mdW5jdGlvbihhKXtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxhLHtpc1RvZ2dsZTphLmlzVG9nZ2xlfHwhMSx0aXRsZTphLmxhYmVsLGNsaWNrOmEuY2xpY2t8fGZ1bmN0aW9uKGIpe2IuZXhlY0NvbW1hbmQoYS5jb21tYW5kKX19KTt0aGlzLl89e319O0NLRURJVE9SLnVpLmJ1dHRvbi5oYW5kbGVyPVxue2NyZWF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLmJ1dHRvbihhKX19O0NLRURJVE9SLnVpLmJ1dHRvbi5wcm90b3R5cGU9e3JlbmRlcjpmdW5jdGlvbihhLGYpe2Z1bmN0aW9uIGwoKXt2YXIgYj1hLm1vZGU7YiYmKGI9dGhpcy5tb2Rlc1tiXT92b2lkIDAhPT1tW2JdP21bYl06Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELGI9YS5yZWFkT25seSYmIXRoaXMucmVhZE9ubHk/Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ6Yix0aGlzLnNldFN0YXRlKGIpLHRoaXMucmVmcmVzaCYmdGhpcy5yZWZyZXNoKCkpfXZhciBtPW51bGwsZD1DS0VESVRPUi5lbnYsaD10aGlzLl8uaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCksZz1cIlwiLG49dGhpcy5jb21tYW5kLHcseCxyO3RoaXMuXy5lZGl0b3I9YTt2YXIgcD17aWQ6aCxidXR0b246dGhpcyxlZGl0b3I6YSxmb2N1czpmdW5jdGlvbigpe0NLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoaCkuZm9jdXMoKX0sXG5leGVjdXRlOmZ1bmN0aW9uKCl7dGhpcy5idXR0b24uY2xpY2soYSl9LGF0dGFjaDpmdW5jdGlvbihhKXt0aGlzLmJ1dHRvbi5hdHRhY2goYSl9fSx1PUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGEpe2lmKHAub25rZXkpcmV0dXJuIGE9bmV3IENLRURJVE9SLmRvbS5ldmVudChhKSwhMSE9PXAub25rZXkocCxhLmdldEtleXN0cm9rZSgpKX0pLHo9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYSl7dmFyIGI7cC5vbmZvY3VzJiYoYj0hMSE9PXAub25mb2N1cyhwLG5ldyBDS0VESVRPUi5kb20uZXZlbnQoYSkpKTtyZXR1cm4gYn0pLHE9MDtwLmNsaWNrRm49dz1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbigpe3EmJihhLnVubG9ja1NlbGVjdGlvbigxKSxxPTApO3AuZXhlY3V0ZSgpO2QuaU9TJiZhLmZvY3VzKCl9KTt0aGlzLm1vZGVzPyhtPXt9LGEub24oXCJiZWZvcmVNb2RlVW5sb2FkXCIsZnVuY3Rpb24oKXthLm1vZGUmJnRoaXMuXy5zdGF0ZSE9XG5DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmKG1bYS5tb2RlXT10aGlzLl8uc3RhdGUpfSx0aGlzKSxhLm9uKFwiYWN0aXZlRmlsdGVyQ2hhbmdlXCIsbCx0aGlzKSxhLm9uKFwibW9kZVwiLGwsdGhpcyksIXRoaXMucmVhZE9ubHkmJmEub24oXCJyZWFkT25seVwiLGwsdGhpcykpOm4mJihuPWEuZ2V0Q29tbWFuZChuKSkmJihuLm9uKFwic3RhdGVcIixmdW5jdGlvbigpe3RoaXMuc2V0U3RhdGUobi5zdGF0ZSl9LHRoaXMpLGcrPW4uc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09OP1wib25cIjpuLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRD9cImRpc2FibGVkXCI6XCJvZmZcIik7dmFyIEE7aWYodGhpcy5kaXJlY3Rpb25hbClhLm9uKFwiY29udGVudERpckNoYW5nZWRcIixmdW5jdGlvbihiKXt2YXIgZD1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5pZCksZz1kLmdldEZpcnN0KCk7Yj1iLmRhdGE7YiE9YS5sYW5nLmRpcj9kLmFkZENsYXNzKFwiY2tlX1wiK2IpOmQucmVtb3ZlQ2xhc3MoXCJja2VfbHRyXCIpLnJlbW92ZUNsYXNzKFwiY2tlX3J0bFwiKTtcbmcuc2V0QXR0cmlidXRlKFwic3R5bGVcIixDS0VESVRPUi5za2luLmdldEljb25TdHlsZShBLFwicnRsXCI9PWIsdGhpcy5pY29uLHRoaXMuaWNvbk9mZnNldCkpfSx0aGlzKTtuPyh4PWEuZ2V0Q29tbWFuZEtleXN0cm9rZShuKSkmJihyPUNLRURJVE9SLnRvb2xzLmtleXN0cm9rZVRvU3RyaW5nKGEubGFuZy5jb21tb24ua2V5Ym9hcmQseCkpOmcrPVwib2ZmXCI7eD10aGlzLm5hbWV8fHRoaXMuY29tbWFuZDt2YXIgeT1udWxsLHQ9dGhpcy5pY29uO0E9eDt0aGlzLmljb24mJiEvXFwuLy50ZXN0KHRoaXMuaWNvbik/KEE9dGhpcy5pY29uLHQ9bnVsbCk6KHRoaXMuaWNvbiYmKHk9dGhpcy5pY29uKSxDS0VESVRPUi5lbnYuaGlkcGkmJnRoaXMuaWNvbkhpRHBpJiYoeT10aGlzLmljb25IaURwaSkpO3k/KENLRURJVE9SLnNraW4uYWRkSWNvbih5LHkpLHQ9bnVsbCk6eT1BO2c9e2lkOmgsbmFtZTp4LGljb25OYW1lOkEsbGFiZWw6dGhpcy5sYWJlbCxjbHM6KHRoaXMuaGFzQXJyb3c/XCJja2VfYnV0dG9uX2V4cGFuZGFibGUgXCI6XG5cIlwiKSsodGhpcy5jbGFzc05hbWV8fFwiXCIpLHN0YXRlOmcsYXJpYURpc2FibGVkOlwiZGlzYWJsZWRcIj09Zz9cInRydWVcIjpcImZhbHNlXCIsdGl0bGU6dGhpcy50aXRsZSsocj9cIiAoXCIrci5kaXNwbGF5K1wiKVwiOlwiXCIpLGFyaWFTaG9ydGN1dFNwYWNlOnI/XCJcXHgyNm5ic3A7XCI6XCJcIixhcmlhU2hvcnRjdXQ6cj9hLmxhbmcuY29tbW9uLmtleWJvYXJkU2hvcnRjdXQrXCIgXCIrci5hcmlhOlwiXCIsdGl0bGVKczpkLmdlY2tvJiYhZC5oYz9cIlwiOih0aGlzLnRpdGxlfHxcIlwiKS5yZXBsYWNlKFwiJ1wiLFwiXCIpLGhhc0Fycm93Olwic3RyaW5nXCI9PT10eXBlb2YgdGhpcy5oYXNBcnJvdyYmdGhpcy5oYXNBcnJvd3x8KHRoaXMuaGFzQXJyb3c/XCJ0cnVlXCI6XCJmYWxzZVwiKSxrZXlkb3duRm46dSxmb2N1c0ZuOnosY2xpY2tGbjp3LHN0eWxlOkNLRURJVE9SLnNraW4uZ2V0SWNvblN0eWxlKHksXCJydGxcIj09YS5sYW5nLmRpcix0LHRoaXMuaWNvbk9mZnNldCksYXJyb3dIdG1sOnRoaXMuaGFzQXJyb3c/ZS5vdXRwdXQoKTpcIlwiLFxuaGFzQXJyb3dBcmlhSHRtbDp0aGlzLmhhc0Fycm93PycgYXJpYS1leHBhbmRlZFxceDNkXCJmYWxzZVwiJzpcIlwiLHRvZ2dsZUFyaWFIdG1sOnRoaXMuaXNUb2dnbGU/J2FyaWEtcHJlc3NlZFxceDNkXCJmYWxzZVwiJzpcIlwifTtiLm91dHB1dChnLGYpO2lmKHRoaXMub25SZW5kZXIpdGhpcy5vblJlbmRlcigpO3JldHVybiBwfSxzZXRTdGF0ZTpmdW5jdGlvbihhKXtpZih0aGlzLl8uc3RhdGU9PWEpcmV0dXJuITE7dGhpcy5fLnN0YXRlPWE7dmFyIGI9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLl8uaWQpO3JldHVybiBiPyhiLnNldFN0YXRlKGEsXCJja2VfYnV0dG9uXCIpLGIuc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLGE9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKSx0aGlzLmlzVG9nZ2xlJiYhdGhpcy5oYXNBcnJvdyYmYi5zZXRBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIixhPT09Q0tFRElUT1IuVFJJU1RBVEVfT04pLCEwKTohMX0sZ2V0U3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLnN0YXRlfSxcbnRvRmVhdHVyZTpmdW5jdGlvbihhKXtpZih0aGlzLl8uZmVhdHVyZSlyZXR1cm4gdGhpcy5fLmZlYXR1cmU7dmFyIGI9dGhpczt0aGlzLmFsbG93ZWRDb250ZW50fHx0aGlzLnJlcXVpcmVkQ29udGVudHx8IXRoaXMuY29tbWFuZHx8KGI9YS5nZXRDb21tYW5kKHRoaXMuY29tbWFuZCl8fGIpO3JldHVybiB0aGlzLl8uZmVhdHVyZT1ifX07Q0tFRElUT1IudWkucHJvdG90eXBlLmFkZEJ1dHRvbj1mdW5jdGlvbihhLGIpe3RoaXMuYWRkKGEsQ0tFRElUT1IuVUlfQlVUVE9OLGIpfX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7ZnVuY3Rpb24gYigpe2Zvcih2YXIgZD1lKCksZz1DS0VESVRPUi50b29scy5jbG9uZShhLmNvbmZpZy50b29sYmFyR3JvdXBzKXx8ZihhKSxoPTA7aDxnLmxlbmd0aDtoKyspe3ZhciBrPWdbaF07aWYoXCIvXCIhPWspe1wic3RyaW5nXCI9PXR5cGVvZiBrJiYoaz1nW2hdPXtuYW1lOmt9KTt2YXIgcCx1PWsuZ3JvdXBzO2lmKHUpZm9yKHZhciB6PTA7ejx1Lmxlbmd0aDt6KyspcD1cbnVbel0sKHA9ZFtwXSkmJm0oayxwKTsocD1kW2submFtZV0pJiZtKGsscCl9fXJldHVybiBnfWZ1bmN0aW9uIGUoKXt2YXIgYj17fSxkLGcsZjtmb3IoZCBpbiBhLnVpLml0ZW1zKWc9YS51aS5pdGVtc1tkXSxmPWcudG9vbGJhcnx8XCJvdGhlcnNcIixmPWYuc3BsaXQoXCIsXCIpLGc9ZlswXSxmPXBhcnNlSW50KGZbMV18fC0xLDEwKSxiW2ddfHwoYltnXT1bXSksYltnXS5wdXNoKHtuYW1lOmQsb3JkZXI6Zn0pO2ZvcihnIGluIGIpYltnXT1iW2ddLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5vcmRlcj09Yi5vcmRlcj8wOjA+Yi5vcmRlcj8tMTowPmEub3JkZXI/MTphLm9yZGVyPGIub3JkZXI/LTE6MX0pO3JldHVybiBifWZ1bmN0aW9uIG0oYixkKXtpZihkLmxlbmd0aCl7Yi5pdGVtcz9iLml0ZW1zLnB1c2goYS51aS5jcmVhdGUoXCItXCIpKTpiLml0ZW1zPVtdO2Zvcih2YXIgZztnPWQuc2hpZnQoKTspZz1cInN0cmluZ1wiPT10eXBlb2YgZz9nOmcubmFtZSxoJiYtMSE9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihoLFxuZyl8fChnPWEudWkuY3JlYXRlKGcpKSYmYS5hZGRGZWF0dXJlKGcpJiZiLml0ZW1zLnB1c2goZyl9fWZ1bmN0aW9uIGQoYSl7dmFyIGI9W10sZCxjLGc7Zm9yKGQ9MDtkPGEubGVuZ3RoOysrZCljPWFbZF0sZz17fSxcIi9cIj09Yz9iLnB1c2goYyk6Q0tFRElUT1IudG9vbHMuaXNBcnJheShjKT8obShnLENLRURJVE9SLnRvb2xzLmNsb25lKGMpKSxiLnB1c2goZykpOmMuaXRlbXMmJihtKGcsQ0tFRElUT1IudG9vbHMuY2xvbmUoYy5pdGVtcykpLGcubmFtZT1jLm5hbWUsYi5wdXNoKGcpKTtyZXR1cm4gYn12YXIgaD1mdW5jdGlvbihhKXtyZXR1cm4gYSYmXCJzdHJpbmdcIj09PXR5cGVvZiBhP2Euc3BsaXQoXCIsXCIpOmF9KGEuY29uZmlnLnJlbW92ZUJ1dHRvbnMpLGc9YS5jb25maWcudG9vbGJhcjtcInN0cmluZ1wiPT10eXBlb2YgZyYmKGc9YS5jb25maWdbXCJ0b29sYmFyX1wiK2ddKTtyZXR1cm4gYS50b29sYmFyPWc/ZChnKTpiKCl9ZnVuY3Rpb24gZihhKXtyZXR1cm4gYS5fLnRvb2xiYXJHcm91cHN8fFxuKGEuXy50b29sYmFyR3JvdXBzPVt7bmFtZTpcImRvY3VtZW50XCIsZ3JvdXBzOltcIm1vZGVcIixcImRvY3VtZW50XCIsXCJkb2N0b29sc1wiXX0se25hbWU6XCJjbGlwYm9hcmRcIixncm91cHM6W1wiY2xpcGJvYXJkXCIsXCJ1bmRvXCJdfSx7bmFtZTpcImVkaXRpbmdcIixncm91cHM6W1wiZmluZFwiLFwic2VsZWN0aW9uXCIsXCJzcGVsbGNoZWNrZXJcIl19LHtuYW1lOlwiZm9ybXNcIn0sXCIvXCIse25hbWU6XCJiYXNpY3N0eWxlc1wiLGdyb3VwczpbXCJiYXNpY3N0eWxlc1wiLFwiY2xlYW51cFwiXX0se25hbWU6XCJwYXJhZ3JhcGhcIixncm91cHM6W1wibGlzdFwiLFwiaW5kZW50XCIsXCJibG9ja3NcIixcImFsaWduXCIsXCJiaWRpXCJdfSx7bmFtZTpcImxpbmtzXCJ9LHtuYW1lOlwiaW5zZXJ0XCJ9LFwiL1wiLHtuYW1lOlwic3R5bGVzXCJ9LHtuYW1lOlwiY29sb3JzXCJ9LHtuYW1lOlwidG9vbHNcIn0se25hbWU6XCJvdGhlcnNcIn0se25hbWU6XCJhYm91dFwifV0pfXZhciBlPWZ1bmN0aW9uKCl7dGhpcy50b29sYmFycz1bXX07ZS5wcm90b3R5cGUuZm9jdXM9ZnVuY3Rpb24oKXtmb3IodmFyIGE9XG4wLGI7Yj10aGlzLnRvb2xiYXJzW2ErK107KWZvcih2YXIgZT0wLGY7Zj1iLml0ZW1zW2UrK107KWlmKGYuZm9jdXMpe2YuZm9jdXMoKTtyZXR1cm59fTt2YXIgYj17bW9kZXM6e3d5c2l3eWc6MSxzb3VyY2U6MX0scmVhZE9ubHk6MSxleGVjOmZ1bmN0aW9uKGEpe2EudG9vbGJveCYmKENLRURJVE9SLmVudi5pZXx8Q0tFRElUT1IuZW52LmFpcj9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS50b29sYm94LmZvY3VzKCl9LDEwMCk6YS50b29sYm94LmZvY3VzKCkpfX07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJ0b29sYmFyXCIse3JlcXVpcmVzOlwiYnV0dG9uXCIsaW5pdDpmdW5jdGlvbihjKXt2YXIgZixsPWZ1bmN0aW9uKGEsYil7dmFyIGUsZz1cInJ0bFwiPT1jLmxhbmcuZGlyLG49Yy5jb25maWcudG9vbGJhckdyb3VwQ3ljbGluZyx3PWc/Mzc6MzksZz1nPzM5OjM3LG49dm9pZCAwPT09bnx8bjtzd2l0Y2goYil7Y2FzZSA5OmNhc2UgQ0tFRElUT1IuU0hJRlQrOTpmb3IoOyFlfHwhZS5pdGVtcy5sZW5ndGg7KWlmKGU9XG45PT1iPyhlP2UubmV4dDphLnRvb2xiYXIubmV4dCl8fGMudG9vbGJveC50b29sYmFyc1swXTooZT9lLnByZXZpb3VzOmEudG9vbGJhci5wcmV2aW91cyl8fGMudG9vbGJveC50b29sYmFyc1tjLnRvb2xib3gudG9vbGJhcnMubGVuZ3RoLTFdLGUuaXRlbXMubGVuZ3RoKWZvcihhPWUuaXRlbXNbZj9lLml0ZW1zLmxlbmd0aC0xOjBdO2EmJiFhLmZvY3VzOykoYT1mP2EucHJldmlvdXM6YS5uZXh0KXx8KGU9MCk7YSYmYS5mb2N1cygpO3JldHVybiExO2Nhc2UgdzplPWE7ZG8gZT1lLm5leHQsIWUmJm4mJihlPWEudG9vbGJhci5pdGVtc1swXSk7d2hpbGUoZSYmIWUuZm9jdXMpO2U/ZS5mb2N1cygpOmwoYSw5KTtyZXR1cm4hMTtjYXNlIDQwOnJldHVybiBhLmJ1dHRvbiYmYS5idXR0b24uaGFzQXJyb3c/YS5leGVjdXRlKCk6bChhLDQwPT1iP3c6ZyksITE7Y2FzZSBnOmNhc2UgMzg6ZT1hO2RvIGU9ZS5wcmV2aW91cywhZSYmbiYmKGU9YS50b29sYmFyLml0ZW1zW2EudG9vbGJhci5pdGVtcy5sZW5ndGgtXG4xXSk7d2hpbGUoZSYmIWUuZm9jdXMpO2U/ZS5mb2N1cygpOihmPTEsbChhLENLRURJVE9SLlNISUZUKzkpLGY9MCk7cmV0dXJuITE7Y2FzZSAyNzpyZXR1cm4gYy5mb2N1cygpLCExO2Nhc2UgMTM6Y2FzZSAzMjpyZXR1cm4gYS5leGVjdXRlKCksITE7Y2FzZSBDS0VESVRPUi5BTFQrMTIyOnJldHVybiBjLmV4ZWNDb21tYW5kKFwiZWxlbWVudHNQYXRoRm9jdXNcIiksITF9cmV0dXJuITB9O2Mub24oXCJ1aVNwYWNlXCIsZnVuY3Rpb24oYil7aWYoYi5kYXRhLnNwYWNlPT1jLmNvbmZpZy50b29sYmFyTG9jYXRpb24pe2IucmVtb3ZlTGlzdGVuZXIoKTtjLnRvb2xib3g9bmV3IGU7dmFyIGQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCksZj1bJ1xceDNjc3BhbiBpZFxceDNkXCInLGQsJ1wiIGNsYXNzXFx4M2RcImNrZV92b2ljZV9sYWJlbFwiXFx4M2UnLGMubGFuZy50b29sYmFyLnRvb2xiYXJzLFwiXFx4M2Mvc3BhblxceDNlXCIsJ1xceDNjc3BhbiBpZFxceDNkXCInK2MudWkuc3BhY2VJZChcInRvb2xib3hcIikrJ1wiIGNsYXNzXFx4M2RcImNrZV90b29sYm94XCIgcm9sZVxceDNkXCJncm91cFwiIGFyaWEtbGFiZWxsZWRieVxceDNkXCInLFxuZCwnXCIgb25tb3VzZWRvd25cXHgzZFwicmV0dXJuIGZhbHNlO1wiXFx4M2UnXSxkPSExIT09Yy5jb25maWcudG9vbGJhclN0YXJ0dXBFeHBhbmRlZCxnLGs7Yy5jb25maWcudG9vbGJhckNhbkNvbGxhcHNlJiZjLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FJiZmLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGJveF9tYWluXCInKyhkP1wiXFx4M2VcIjonIHN0eWxlXFx4M2RcImRpc3BsYXk6bm9uZVwiXFx4M2UnKSk7Zm9yKHZhciB3PWMudG9vbGJveC50b29sYmFycyx4PWEoYykscj14Lmxlbmd0aCxwPTA7cDxyO3ArKyl7dmFyIHUsej0wLHEsQT14W3BdLHk9XCIvXCIhPT1BJiYoXCIvXCI9PT14W3ArMV18fHA9PXItMSksdDtpZihBKWlmKGcmJihmLnB1c2goXCJcXHgzYy9zcGFuXFx4M2VcIiksaz1nPTApLFwiL1wiPT09QSlmLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGJhcl9icmVha1wiXFx4M2VcXHgzYy9zcGFuXFx4M2UnKTtlbHNle3Q9QS5pdGVtc3x8QTtmb3IodmFyIHY9XG4wO3Y8dC5sZW5ndGg7disrKXt2YXIgQj10W3ZdLEQ7aWYoQil7dmFyIEM9ZnVuY3Rpb24oYSl7YT1hLnJlbmRlcihjLGYpO0Y9ei5pdGVtcy5wdXNoKGEpLTE7MDxGJiYoYS5wcmV2aW91cz16Lml0ZW1zW0YtMV0sYS5wcmV2aW91cy5uZXh0PWEpO2EudG9vbGJhcj16O2Eub25rZXk9bH07aWYoQi50eXBlPT1DS0VESVRPUi5VSV9TRVBBUkFUT1Ipaz1nJiZCO2Vsc2V7RD0hMSE9PUIuY2FuR3JvdXA7aWYoIXope3U9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCk7ej17aWQ6dSxpdGVtczpbXX07cT1BLm5hbWUmJihjLmxhbmcudG9vbGJhci50b29sYmFyR3JvdXBzW0EubmFtZV18fEEubmFtZSk7Zi5wdXNoKCdcXHgzY3NwYW4gaWRcXHgzZFwiJyx1LCdcIiBjbGFzc1xceDNkXCJja2VfdG9vbGJhcicrKHk/JyBja2VfdG9vbGJhcl9sYXN0XCInOidcIicpLHE/JyBhcmlhLWxhYmVsbGVkYnlcXHgzZFwiJyt1KydfbGFiZWxcIic6XCJcIiwnIHJvbGVcXHgzZFwidG9vbGJhclwiXFx4M2UnKTtxJiZmLnB1c2goJ1xceDNjc3BhbiBpZFxceDNkXCInLFxudSwnX2xhYmVsXCIgY2xhc3NcXHgzZFwiY2tlX3ZvaWNlX2xhYmVsXCJcXHgzZScscSxcIlxceDNjL3NwYW5cXHgzZVwiKTtmLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGJhcl9zdGFydFwiXFx4M2VcXHgzYy9zcGFuXFx4M2UnKTt2YXIgRj13LnB1c2goeiktMTswPEYmJih6LnByZXZpb3VzPXdbRi0xXSx6LnByZXZpb3VzLm5leHQ9eil9RD9nfHwoZi5wdXNoKCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3Rvb2xncm91cFwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZScpLGc9MSk6ZyYmKGYucHVzaChcIlxceDNjL3NwYW5cXHgzZVwiKSxnPTApO2smJihDKGspLGs9MCk7QyhCKX19fWcmJihmLnB1c2goXCJcXHgzYy9zcGFuXFx4M2VcIiksaz1nPTApO3omJmYucHVzaCgnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV90b29sYmFyX2VuZFwiXFx4M2VcXHgzYy9zcGFuXFx4M2VcXHgzYy9zcGFuXFx4M2UnKX19Yy5jb25maWcudG9vbGJhckNhbkNvbGxhcHNlJiZmLnB1c2goXCJcXHgzYy9zcGFuXFx4M2VcIik7aWYoYy5jb25maWcudG9vbGJhckNhbkNvbGxhcHNlJiZcbmMuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUpe3ZhciBKPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7Yy5leGVjQ29tbWFuZChcInRvb2xiYXJDb2xsYXBzZVwiKX0pO2Mub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbihKKX0pO2MuYWRkQ29tbWFuZChcInRvb2xiYXJDb2xsYXBzZVwiLHtyZWFkT25seToxLGV4ZWM6ZnVuY3Rpb24oYSl7dmFyIGI9YS51aS5zcGFjZShcInRvb2xiYXJfY29sbGFwc2VyXCIpLGQ9Yi5nZXRQcmV2aW91cygpLGM9YS51aS5zcGFjZShcImNvbnRlbnRzXCIpLGc9ZC5nZXRQYXJlbnQoKSxlPXBhcnNlSW50KGMuJC5zdHlsZS5oZWlnaHQsMTApLGY9Zy4kLm9mZnNldEhlaWdodCxoPWIuaGFzQ2xhc3MoXCJja2VfdG9vbGJveF9jb2xsYXBzZXJfbWluXCIpO2g/KGQuc2hvdygpLGIucmVtb3ZlQ2xhc3MoXCJja2VfdG9vbGJveF9jb2xsYXBzZXJfbWluXCIpLGIuc2V0QXR0cmlidXRlKFwidGl0bGVcIixcbmEubGFuZy50b29sYmFyLnRvb2xiYXJDb2xsYXBzZSkpOihkLmhpZGUoKSxiLmFkZENsYXNzKFwiY2tlX3Rvb2xib3hfY29sbGFwc2VyX21pblwiKSxiLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsYS5sYW5nLnRvb2xiYXIudG9vbGJhckV4cGFuZCkpO2IuZ2V0Rmlyc3QoKS5zZXRUZXh0KGg/XCLilrJcIjpcIuKXgFwiKTtjLnNldFN0eWxlKFwiaGVpZ2h0XCIsZS0oZy4kLm9mZnNldEhlaWdodC1mKStcInB4XCIpO2EuZmlyZShcInJlc2l6ZVwiLHtvdXRlckhlaWdodDphLmNvbnRhaW5lci4kLm9mZnNldEhlaWdodCxjb250ZW50c0hlaWdodDpjLiQub2Zmc2V0SGVpZ2h0LG91dGVyV2lkdGg6YS5jb250YWluZXIuJC5vZmZzZXRXaWR0aH0pfSxtb2Rlczp7d3lzaXd5ZzoxLHNvdXJjZToxfX0pO2Muc2V0S2V5c3Ryb2tlKENLRURJVE9SLkFMVCsoQ0tFRElUT1IuZW52LmllfHxDS0VESVRPUi5lbnYud2Via2l0PzE4OToxMDkpLFwidG9vbGJhckNvbGxhcHNlXCIpO2YucHVzaCgnXFx4M2NhIHRpdGxlXFx4M2RcIicrKGQ/Yy5sYW5nLnRvb2xiYXIudG9vbGJhckNvbGxhcHNlOlxuYy5sYW5nLnRvb2xiYXIudG9vbGJhckV4cGFuZCkrJ1wiIGlkXFx4M2RcIicrYy51aS5zcGFjZUlkKFwidG9vbGJhcl9jb2xsYXBzZXJcIikrJ1wiIHRhYkluZGV4XFx4M2RcIi0xXCIgY2xhc3NcXHgzZFwiY2tlX3Rvb2xib3hfY29sbGFwc2VyJyk7ZHx8Zi5wdXNoKFwiIGNrZV90b29sYm94X2NvbGxhcHNlcl9taW5cIik7Zi5wdXNoKCdcIiBvbmNsaWNrXFx4M2RcIkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbignK0orJylcIlxceDNlJywnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9hcnJvd1wiXFx4M2VcXHgyNiM5NjUwO1xceDNjL3NwYW5cXHgzZScsXCJcXHgzYy9hXFx4M2VcIil9Zi5wdXNoKFwiXFx4M2Mvc3BhblxceDNlXCIpO2IuZGF0YS5odG1sKz1mLmpvaW4oXCJcIil9fSk7Yy5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe2lmKHRoaXMudG9vbGJveCl7dmFyIGEsYj0wLGMsZyxlO2ZvcihhPXRoaXMudG9vbGJveC50b29sYmFycztiPGEubGVuZ3RoO2IrKylmb3IoZz1hW2JdLml0ZW1zLGM9MDtjPGcubGVuZ3RoO2MrKyllPWdbY10sXG5lLmNsaWNrRm4mJkNLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKGUuY2xpY2tGbiksZS5rZXlEb3duRm4mJkNLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKGUua2V5RG93bkZuKX19KTtjLm9uKFwidWlSZWFkeVwiLGZ1bmN0aW9uKCl7dmFyIGE9Yy51aS5zcGFjZShcInRvb2xib3hcIik7YSYmYy5mb2N1c01hbmFnZXIuYWRkKGEsMSl9KTtjLmFkZENvbW1hbmQoXCJ0b29sYmFyRm9jdXNcIixiKTtjLnNldEtleXN0cm9rZShDS0VESVRPUi5BTFQrMTIxLFwidG9vbGJhckZvY3VzXCIpO2MudWkuYWRkKFwiLVwiLENLRURJVE9SLlVJX1NFUEFSQVRPUix7fSk7Yy51aS5hZGRIYW5kbGVyKENLRURJVE9SLlVJX1NFUEFSQVRPUix7Y3JlYXRlOmZ1bmN0aW9uKCl7cmV0dXJue3JlbmRlcjpmdW5jdGlvbihhLGIpe2IucHVzaCgnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV90b29sYmFyX3NlcGFyYXRvclwiIHJvbGVcXHgzZFwic2VwYXJhdG9yXCJcXHgzZVxceDNjL3NwYW5cXHgzZScpO3JldHVybnt9fX19fSl9fSk7XG5DS0VESVRPUi51aS5wcm90b3R5cGUuYWRkVG9vbGJhckdyb3VwPWZ1bmN0aW9uKGEsYixlKXt2YXIgbT1mKHRoaXMuZWRpdG9yKSxkPTA9PT1iLGg9e25hbWU6YX07aWYoZSl7aWYoZT1DS0VESVRPUi50b29scy5zZWFyY2gobSxmdW5jdGlvbihhKXtyZXR1cm4gYS5uYW1lPT1lfSkpeyFlLmdyb3VwcyYmKGUuZ3JvdXBzPVtdKTtpZihiJiYoYj1DS0VESVRPUi50b29scy5pbmRleE9mKGUuZ3JvdXBzLGIpLDA8PWIpKXtlLmdyb3Vwcy5zcGxpY2UoYisxLDAsYSk7cmV0dXJufWQ/ZS5ncm91cHMuc3BsaWNlKDAsMCxhKTplLmdyb3Vwcy5wdXNoKGEpO3JldHVybn1iPW51bGx9YiYmKGI9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihtLGZ1bmN0aW9uKGEpe3JldHVybiBhLm5hbWU9PWJ9KSk7ZD9tLnNwbGljZSgwLDAsYSk6XCJudW1iZXJcIj09dHlwZW9mIGI/bS5zcGxpY2UoYisxLDAsaCk6bS5wdXNoKGEpfX0oKSxDS0VESVRPUi5VSV9TRVBBUkFUT1I9XCJzZXBhcmF0b3JcIixDS0VESVRPUi5jb25maWcudG9vbGJhckxvY2F0aW9uPVxuXCJ0b3BcIixcInVzZSBzdHJpY3RcIixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiLGQpe2IudHlwZXx8KGIudHlwZT1cImF1dG9cIik7aWYoZCYmITE9PT1hLmZpcmUoXCJiZWZvcmVQYXN0ZVwiLGIpfHwhYi5kYXRhVmFsdWUmJmIuZGF0YVRyYW5zZmVyLmlzRW1wdHkoKSlyZXR1cm4hMTtiLmRhdGFWYWx1ZXx8KGIuZGF0YVZhbHVlPVwiXCIpO2lmKENLRURJVE9SLmVudi5nZWNrbyYmXCJkcm9wXCI9PWIubWV0aG9kJiZhLnRvb2xib3gpYS5vbmNlKFwiYWZ0ZXJQYXN0ZVwiLGZ1bmN0aW9uKCl7YS50b29sYm94LmZvY3VzKCk7YS5mb2N1cygpfSk7cmV0dXJuIGEuZmlyZShcInBhc3RlXCIsYil9ZnVuY3Rpb24gZihiKXtmdW5jdGlvbiBkKCl7dmFyIGE9Yi5lZGl0YWJsZSgpO2lmKENLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzQ3VzdG9tQ29weUN1dFN1cHBvcnRlZCl7dmFyIGM9ZnVuY3Rpb24oYSl7Yi5nZXRTZWxlY3Rpb24oKS5pc0NvbGxhcHNlZCgpfHwoYi5yZWFkT25seSYmXCJjdXRcIj09YS5uYW1lfHxcbkQuaW5pdFBhc3RlRGF0YVRyYW5zZmVyKGEsYiksYS5kYXRhLnByZXZlbnREZWZhdWx0KCkpfTthLm9uKFwiY29weVwiLGMpO2Eub24oXCJjdXRcIixjKTthLm9uKFwiY3V0XCIsZnVuY3Rpb24oKXtiLnJlYWRPbmx5fHxiLmV4dHJhY3RTZWxlY3RlZEh0bWwoKX0sbnVsbCxudWxsLDk5OSl9YS5vbihELm1haW5QYXN0ZUV2ZW50LGZ1bmN0aW9uKGEpe1wiYmVmb3JlcGFzdGVcIj09RC5tYWluUGFzdGVFdmVudCYmQ3x8dChhKX0pO1wiYmVmb3JlcGFzdGVcIj09RC5tYWluUGFzdGVFdmVudCYmKGEub24oXCJwYXN0ZVwiLGZ1bmN0aW9uKGEpe0Z8fChmKCksYS5kYXRhLnByZXZlbnREZWZhdWx0KCksdChhKSxrKFwicGFzdGVcIikpfSksYS5vbihcImNvbnRleHRtZW51XCIsaCxudWxsLG51bGwsMCksYS5vbihcImJlZm9yZXBhc3RlXCIsZnVuY3Rpb24oYSl7IWEuZGF0YXx8YS5kYXRhLiQuY3RybEtleXx8YS5kYXRhLiQuc2hpZnRLZXl8fGgoKX0sbnVsbCxudWxsLDApKTthLm9uKFwiYmVmb3JlY3V0XCIsZnVuY3Rpb24oKXshQyYmXG5sKGIpfSk7dmFyIGU7YS5hdHRhY2hMaXN0ZW5lcihDS0VESVRPUi5lbnYuaWU/YTpiLmRvY3VtZW50LmdldERvY3VtZW50RWxlbWVudCgpLFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7ZT1zZXRUaW1lb3V0KHYsMCl9KTtiLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGUpfSk7YS5vbihcImtleXVwXCIsdil9ZnVuY3Rpb24gYyhhKXtyZXR1cm57dHlwZTphLGNhblVuZG86XCJjdXRcIj09YSxzdGFydERpc2FibGVkOiEwLGZha2VLZXlzdHJva2U6XCJjdXRcIj09YT9DS0VESVRPUi5DVFJMKzg4OkNLRURJVE9SLkNUUkwrNjcsZXhlYzpmdW5jdGlvbigpe1wiY3V0XCI9PXRoaXMudHlwZSYmbCgpO3ZhciBhO3ZhciBkPXRoaXMudHlwZTtpZihDS0VESVRPUi5lbnYuaWUpYT1rKGQpO2Vsc2UgdHJ5e2E9Yi5kb2N1bWVudC4kLmV4ZWNDb21tYW5kKGQsITEsbnVsbCl9Y2F0Y2goYyl7YT0hMX1hfHxiLnNob3dOb3RpZmljYXRpb24oYi5sYW5nLmNsaXBib2FyZFt0aGlzLnR5cGUrXCJFcnJvclwiXSk7XG5yZXR1cm4gYX19fWZ1bmN0aW9uIGUoKXtyZXR1cm57Y2FuVW5kbzohMSxhc3luYzohMCxmYWtlS2V5c3Ryb2tlOkNLRURJVE9SLkNUUkwrODYsZXhlYzpmdW5jdGlvbihiLGQpe2Z1bmN0aW9uIGMoZCxmKXtmPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgZj9mOiEwO2Q/KGQubWV0aG9kPVwicGFzdGVcIixkLmRhdGFUcmFuc2Zlcnx8KGQuZGF0YVRyYW5zZmVyPUQuaW5pdFBhc3RlRGF0YVRyYW5zZmVyKCkpLGEoYixkLGYpKTplJiYhYi5fLmZvcmNlUGFzdGVEaWFsb2cmJmIuc2hvd05vdGlmaWNhdGlvbihrLFwiaW5mb1wiLGIuY29uZmlnLmNsaXBib2FyZF9ub3RpZmljYXRpb25EdXJhdGlvbik7Yi5fLmZvcmNlUGFzdGVEaWFsb2c9ITE7Yi5maXJlKFwiYWZ0ZXJDb21tYW5kRXhlY1wiLHtuYW1lOlwicGFzdGVcIixjb21tYW5kOmcscmV0dXJuVmFsdWU6ISFkfSl9ZD1cInVuZGVmaW5lZFwiIT09dHlwZW9mIGQmJm51bGwhPT1kP2Q6e307dmFyIGc9dGhpcyxlPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgZC5ub3RpZmljYXRpb24/XG5kLm5vdGlmaWNhdGlvbjohMCxmPWQudHlwZSxoPUNLRURJVE9SLnRvb2xzLmtleXN0cm9rZVRvU3RyaW5nKGIubGFuZy5jb21tb24ua2V5Ym9hcmQsYi5nZXRDb21tYW5kS2V5c3Ryb2tlKHRoaXMpKSxrPVwic3RyaW5nXCI9PT10eXBlb2YgZT9lOmIubGFuZy5jbGlwYm9hcmQucGFzdGVOb3RpZmljYXRpb24ucmVwbGFjZSgvJTEvLCdcXHgzY2tiZCBhcmlhLWxhYmVsXFx4M2RcIicraC5hcmlhKydcIlxceDNlJytoLmRpc3BsYXkrXCJcXHgzYy9rYmRcXHgzZVwiKSxoPVwic3RyaW5nXCI9PT10eXBlb2YgZD9kOmQuZGF0YVZhbHVlO2YmJiEwIT09Yi5jb25maWcuZm9yY2VQYXN0ZUFzUGxhaW5UZXh0JiZcImFsbG93LXdvcmRcIiE9PWIuY29uZmlnLmZvcmNlUGFzdGVBc1BsYWluVGV4dD9iLl8ubmV4dFBhc3RlVHlwZT1mOmRlbGV0ZSBiLl8ubmV4dFBhc3RlVHlwZTtcInN0cmluZ1wiPT09dHlwZW9mIGg/Yyh7ZGF0YVZhbHVlOmh9KTpiLmdldENsaXBib2FyZERhdGEoYyl9fX1mdW5jdGlvbiBmKCl7Rj0xO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtGPVxuMH0sMTAwKX1mdW5jdGlvbiBoKCl7Qz0xO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtDPTB9LDEwKX1mdW5jdGlvbiBrKGEpe3ZhciBkPWIuZG9jdW1lbnQsYz1kLmdldEJvZHkoKSxlPSExLGY9ZnVuY3Rpb24oKXtlPSEwfTtjLm9uKGEsZik7NzxDS0VESVRPUi5lbnYudmVyc2lvbj9kLiQuZXhlY0NvbW1hbmQoYSk6ZC4kLnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLmV4ZWNDb21tYW5kKGEpO2MucmVtb3ZlTGlzdGVuZXIoYSxmKTtyZXR1cm4gZX1mdW5jdGlvbiBsKCl7aWYoQ0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LnF1aXJrcyl7dmFyIGE9Yi5nZXRTZWxlY3Rpb24oKSxkLGMsZTthLmdldFR5cGUoKT09Q0tFRElUT1IuU0VMRUNUSU9OX0VMRU1FTlQmJihkPWEuZ2V0U2VsZWN0ZWRFbGVtZW50KCkpJiYoYz1hLmdldFJhbmdlcygpWzBdLGU9Yi5kb2N1bWVudC5jcmVhdGVUZXh0KFwiXCIpLGUuaW5zZXJ0QmVmb3JlKGQpLGMuc2V0U3RhcnRCZWZvcmUoZSksYy5zZXRFbmRBZnRlcihkKSxcbmEuc2VsZWN0UmFuZ2VzKFtjXSksc2V0VGltZW91dChmdW5jdGlvbigpe2QuZ2V0UGFyZW50KCkmJihlLnJlbW92ZSgpLGEuc2VsZWN0RWxlbWVudChkKSl9LDApKX19ZnVuY3Rpb24gbShhLGQpe3ZhciBjPWIuZG9jdW1lbnQsZT1iLmVkaXRhYmxlKCksZj1mdW5jdGlvbihhKXthLmNhbmNlbCgpfSxoO2lmKCFjLmdldEJ5SWQoXCJja2VfcGFzdGViaW5cIikpe3ZhciBrPWIuZ2V0U2VsZWN0aW9uKCksbD1rLmNyZWF0ZUJvb2ttYXJrcygpO0NLRURJVE9SLmVudi5pZSYmay5yb290LmZpcmUoXCJzZWxlY3Rpb25jaGFuZ2VcIik7dmFyIG49bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KCFDS0VESVRPUi5lbnYud2Via2l0JiYhZS5pcyhcImJvZHlcIil8fENLRURJVE9SLmVudi5pZT9cImRpdlwiOlwiYm9keVwiLGMpO24uc2V0QXR0cmlidXRlcyh7aWQ6XCJja2VfcGFzdGViaW5cIixcImRhdGEtY2tlLXRlbXBcIjpcIjFcIn0pO3ZhciBxPTAsYz1jLmdldFdpbmRvdygpO0NLRURJVE9SLmVudi53ZWJraXQ/KGUuYXBwZW5kKG4pLFxubi5hZGRDbGFzcyhcImNrZV9lZGl0YWJsZVwiKSxlLmlzKFwiYm9keVwiKXx8KHE9XCJzdGF0aWNcIiE9ZS5nZXRDb21wdXRlZFN0eWxlKFwicG9zaXRpb25cIik/ZTpDS0VESVRPUi5kb20uZWxlbWVudC5nZXQoZS4kLm9mZnNldFBhcmVudCkscT1xLmdldERvY3VtZW50UG9zaXRpb24oKS55KSk6ZS5nZXRBc2NlbmRhbnQoQ0tFRElUT1IuZW52LmllP1wiYm9keVwiOlwiaHRtbFwiLDEpLmFwcGVuZChuKTtuLnNldFN0eWxlcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDpjLmdldFNjcm9sbFBvc2l0aW9uKCkueS1xKzEwK1wicHhcIix3aWR0aDpcIjFweFwiLGhlaWdodDpNYXRoLm1heCgxLGMuZ2V0Vmlld1BhbmVTaXplKCkuaGVpZ2h0LTIwKStcInB4XCIsb3ZlcmZsb3c6XCJoaWRkZW5cIixtYXJnaW46MCxwYWRkaW5nOjB9KTtDS0VESVRPUi5lbnYuc2FmYXJpJiZuLnNldFN0eWxlcyhDS0VESVRPUi50b29scy5jc3NWZW5kb3JQcmVmaXgoXCJ1c2VyLXNlbGVjdFwiLFwidGV4dFwiKSk7KHE9bi5nZXRQYXJlbnQoKS5pc1JlYWRPbmx5KCkpP1xuKG4uc2V0T3BhY2l0eSgwKSxuLnNldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiLCEwKSk6bi5zZXRTdHlsZShcImx0clwiPT1iLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb24/XCJsZWZ0XCI6XCJyaWdodFwiLFwiLTEwMDAwcHhcIik7Yi5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGYsbnVsbCxudWxsLDApO2lmKENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5nZWNrbyloPWUub25jZShcImJsdXJcIixmLG51bGwsbnVsbCwtMTAwKTtxJiZuLmZvY3VzKCk7cT1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKG4pO3Euc2VsZWN0Tm9kZUNvbnRlbnRzKG4pO3ZhciB2PXEuc2VsZWN0KCk7Q0tFRElUT1IuZW52LmllJiYoaD1lLm9uY2UoXCJibHVyXCIsZnVuY3Rpb24oKXtiLmxvY2tTZWxlY3Rpb24odil9KSk7dmFyIHQ9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0U2Nyb2xsUG9zaXRpb24oKS55O3NldFRpbWVvdXQoZnVuY3Rpb24oKXtDS0VESVRPUi5lbnYud2Via2l0JiYoQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLiQuc2Nyb2xsVG9wPVxudCk7aCYmaC5yZW1vdmVMaXN0ZW5lcigpO0NLRURJVE9SLmVudi5pZSYmZS5mb2N1cygpO2suc2VsZWN0Qm9va21hcmtzKGwpO24ucmVtb3ZlKCk7dmFyIGE7Q0tFRElUT1IuZW52LndlYmtpdCYmKGE9bi5nZXRGaXJzdCgpKSYmYS5pcyYmYS5oYXNDbGFzcyhcIkFwcGxlLXN0eWxlLXNwYW5cIikmJihuPWEpO2IucmVtb3ZlTGlzdGVuZXIoXCJzZWxlY3Rpb25DaGFuZ2VcIixmKTtkKG4uZ2V0SHRtbCgpKX0sMCl9fWZ1bmN0aW9uIEEoKXtpZihcInBhc3RlXCI9PUQubWFpblBhc3RlRXZlbnQpcmV0dXJuIGIuZmlyZShcImJlZm9yZVBhc3RlXCIse3R5cGU6XCJhdXRvXCIsbWV0aG9kOlwicGFzdGVcIn0pLCExO2IuZm9jdXMoKTtmKCk7dmFyIGE9Yi5mb2N1c01hbmFnZXI7YS5sb2NrKCk7aWYoYi5lZGl0YWJsZSgpLmZpcmUoRC5tYWluUGFzdGVFdmVudCkmJiFrKFwicGFzdGVcIikpcmV0dXJuIGEudW5sb2NrKCksITE7YS51bmxvY2soKTtyZXR1cm4hMH1mdW5jdGlvbiB5KGEpe2lmKFwid3lzaXd5Z1wiPT1iLm1vZGUpc3dpdGNoKGEuZGF0YS5rZXlDb2RlKXtjYXNlIENLRURJVE9SLkNUUkwrXG44NjpjYXNlIENLRURJVE9SLlNISUZUKzQ1OmE9Yi5lZGl0YWJsZSgpO2YoKTtcInBhc3RlXCI9PUQubWFpblBhc3RlRXZlbnQmJmEuZmlyZShcImJlZm9yZXBhc3RlXCIpO2JyZWFrO2Nhc2UgQ0tFRElUT1IuQ1RSTCs4ODpjYXNlIENLRURJVE9SLlNISUZUKzQ2OmIuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5maXJlKFwic2F2ZVNuYXBzaG90XCIpfSw1MCl9fWZ1bmN0aW9uIHQoZCl7dmFyIGM9e3R5cGU6XCJhdXRvXCIsbWV0aG9kOlwicGFzdGVcIixkYXRhVHJhbnNmZXI6RC5pbml0UGFzdGVEYXRhVHJhbnNmZXIoZCl9O2MuZGF0YVRyYW5zZmVyLmNhY2hlRGF0YSgpO3ZhciBlPSExIT09Yi5maXJlKFwiYmVmb3JlUGFzdGVcIixjKTtlJiZELmNhbkNsaXBib2FyZEFwaUJlVHJ1c3RlZChjLmRhdGFUcmFuc2ZlcixiKT8oZC5kYXRhLnByZXZlbnREZWZhdWx0KCksc2V0VGltZW91dChmdW5jdGlvbigpe2EoYixjKX0sMCkpOm0oZCxmdW5jdGlvbihkKXtjLmRhdGFWYWx1ZT1cbmQucmVwbGFjZSgvPHNwYW5bXj5dK2RhdGEtY2tlLWJvb2ttYXJrW148XSo/PFxcL3NwYW4+L2lnLFwiXCIpO2UmJmEoYixjKX0pfWZ1bmN0aW9uIHYoKXtpZihcInd5c2l3eWdcIj09Yi5tb2RlKXt2YXIgYT1CKFwicGFzdGVcIik7Yi5nZXRDb21tYW5kKFwiY3V0XCIpLnNldFN0YXRlKEIoXCJjdXRcIikpO2IuZ2V0Q29tbWFuZChcImNvcHlcIikuc2V0U3RhdGUoQihcImNvcHlcIikpO2IuZ2V0Q29tbWFuZChcInBhc3RlXCIpLnNldFN0YXRlKGEpO2IuZmlyZShcInBhc3RlU3RhdGVcIixhKX19ZnVuY3Rpb24gQihhKXt2YXIgZD1iLmdldFNlbGVjdGlvbigpLGQ9ZCYmZC5nZXRSYW5nZXMoKVswXTtpZigoYi5yZWFkT25seXx8ZCYmZC5jaGVja1JlYWRPbmx5KCkpJiZhIGlue3Bhc3RlOjEsY3V0OjF9KXJldHVybiBDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDtpZihcInBhc3RlXCI9PWEpcmV0dXJuIENLRURJVE9SLlRSSVNUQVRFX09GRjthPWIuZ2V0U2VsZWN0aW9uKCk7ZD1hLmdldFJhbmdlcygpO3JldHVybiBhLmdldFR5cGUoKT09XG5DS0VESVRPUi5TRUxFQ1RJT05fTk9ORXx8MT09ZC5sZW5ndGgmJmRbMF0uY29sbGFwc2VkP0NLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEOkNLRURJVE9SLlRSSVNUQVRFX09GRn12YXIgRD1DS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZCxDPTAsRj0wOyhmdW5jdGlvbigpe2Iub24oXCJrZXlcIix5KTtiLm9uKFwiY29udGVudERvbVwiLGQpO2Iub24oXCJzZWxlY3Rpb25DaGFuZ2VcIix2KTtpZihiLmNvbnRleHRNZW51KXtiLmNvbnRleHRNZW51LmFkZExpc3RlbmVyKGZ1bmN0aW9uKCl7cmV0dXJue2N1dDpCKFwiY3V0XCIpLGNvcHk6QihcImNvcHlcIikscGFzdGU6QihcInBhc3RlXCIpfX0pO3ZhciBhPW51bGw7Yi5vbihcIm1lbnVTaG93XCIsZnVuY3Rpb24oKXthJiYoYS5yZW1vdmVMaXN0ZW5lcigpLGE9bnVsbCk7dmFyIGQ9Yi5jb250ZXh0TWVudS5maW5kSXRlbUJ5Q29tbWFuZE5hbWUoXCJwYXN0ZVwiKTtkJiZkLmVsZW1lbnQmJihhPWQuZWxlbWVudC5vbihcInRvdWNoZW5kXCIsZnVuY3Rpb24oKXtiLl8uZm9yY2VQYXN0ZURpYWxvZz1cbiEwfSkpfSl9aWYoYi51aS5hZGRCdXR0b24pYi5vbmNlKFwiaW5zdGFuY2VSZWFkeVwiLGZ1bmN0aW9uKCl7Yi5fLnBhc3RlQnV0dG9ucyYmQ0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaChiLl8ucGFzdGVCdXR0b25zLGZ1bmN0aW9uKGEpe2lmKGE9Yi51aS5nZXQoYSkpaWYoYT1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGEuXy5pZCkpYS5vbihcInRvdWNoZW5kXCIsZnVuY3Rpb24oKXtiLl8uZm9yY2VQYXN0ZURpYWxvZz0hMH0pfSl9KX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShkLGMsZSxmLGgpe3ZhciBrPWIubGFuZy5jbGlwYm9hcmRbY107Yi5hZGRDb21tYW5kKGMsZSk7Yi51aS5hZGRCdXR0b24mJmIudWkuYWRkQnV0dG9uKGQse2xhYmVsOmssY29tbWFuZDpjLHRvb2xiYXI6XCJjbGlwYm9hcmQsXCIrZn0pO2IuYWRkTWVudUl0ZW1zJiZiLmFkZE1lbnVJdGVtKGMse2xhYmVsOmssY29tbWFuZDpjLGdyb3VwOlwiY2xpcGJvYXJkXCIsb3JkZXI6aH0pfWEoXCJDdXRcIixcImN1dFwiLFxuYyhcImN1dFwiKSwxMCwxKTthKFwiQ29weVwiLFwiY29weVwiLGMoXCJjb3B5XCIpLDIwLDQpO2EoXCJQYXN0ZVwiLFwicGFzdGVcIixlKCksMzAsOCk7Yi5fLnBhc3RlQnV0dG9uc3x8KGIuXy5wYXN0ZUJ1dHRvbnM9W10pO2IuXy5wYXN0ZUJ1dHRvbnMucHVzaChcIlBhc3RlXCIpfSkoKTtiLmdldENsaXBib2FyZERhdGE9ZnVuY3Rpb24oYSxkKXtmdW5jdGlvbiBjKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTthLmNhbmNlbCgpO2QoYS5kYXRhKX1mdW5jdGlvbiBlKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTthLmNhbmNlbCgpO2Qoe3R5cGU6aCxkYXRhVmFsdWU6YS5kYXRhLmRhdGFWYWx1ZSxkYXRhVHJhbnNmZXI6YS5kYXRhLmRhdGFUcmFuc2ZlcixtZXRob2Q6XCJwYXN0ZVwifSl9dmFyIGY9ITEsaD1cImF1dG9cIjtkfHwoZD1hLGE9bnVsbCk7Yi5vbihcImJlZm9yZVBhc3RlXCIsZnVuY3Rpb24oYSl7YS5yZW1vdmVMaXN0ZW5lcigpO2Y9ITA7aD1hLmRhdGEudHlwZX0sbnVsbCxudWxsLDFFMyk7Yi5vbihcInBhc3RlXCIsYyxcbm51bGwsbnVsbCwwKTshMT09PUEoKSYmKGIucmVtb3ZlTGlzdGVuZXIoXCJwYXN0ZVwiLGMpLGIuXy5mb3JjZVBhc3RlRGlhbG9nJiZmJiZiLmZpcmUoXCJwYXN0ZURpYWxvZ1wiKT8oYi5vbihcInBhc3RlRGlhbG9nQ29tbWl0XCIsZSksYi5vbihcImRpYWxvZ0hpZGVcIixmdW5jdGlvbihhKXthLnJlbW92ZUxpc3RlbmVyKCk7YS5kYXRhLnJlbW92ZUxpc3RlbmVyKFwicGFzdGVEaWFsb2dDb21taXRcIixlKTthLmRhdGEuXy5jb21taXR0ZWR8fGQobnVsbCl9KSk6ZChudWxsKSl9fWZ1bmN0aW9uIGUoYSl7aWYoQ0tFRElUT1IuZW52LndlYmtpdCl7aWYoIWEubWF0Y2goL15bXjxdKiQvZykmJiFhLm1hdGNoKC9eKDxkaXY+PGJyKCA/XFwvKT8+PFxcL2Rpdj58PGRpdj5bXjxdKjxcXC9kaXY+KSokL2dpKSlyZXR1cm5cImh0bWxcIn1lbHNlIGlmKENLRURJVE9SLmVudi5pZSl7aWYoIWEubWF0Y2goL14oW148XXw8YnIoID9cXC8pPz4pKiQvZ2kpJiYhYS5tYXRjaCgvXig8cD4oW148XXw8YnIoID9cXC8pPz4pKjxcXC9wPnwoXFxyXFxuKSkqJC9naSkpcmV0dXJuXCJodG1sXCJ9ZWxzZSBpZihDS0VESVRPUi5lbnYuZ2Vja28pe2lmKCFhLm1hdGNoKC9eKFtePF18PGJyKCA/XFwvKT8+KSokL2dpKSlyZXR1cm5cImh0bWxcIn1lbHNlIHJldHVyblwiaHRtbFwiO1xucmV0dXJuXCJodG1saWZpZWR0ZXh0XCJ9ZnVuY3Rpb24gYihhLGIpe2Z1bmN0aW9uIGQoYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLnJlcGVhdChcIlxceDNjL3BcXHgzZVxceDNjcFxceDNlXCIsfn4oYS8yKSkrKDE9PWElMj9cIlxceDNjYnJcXHgzZVwiOlwiXCIpfWI9Yi5yZXBsYWNlKC8oPyFcXHUzMDAwKVxccysvZyxcIiBcIikucmVwbGFjZSgvPiArPC9nLFwiXFx4M2VcXHgzY1wiKS5yZXBsYWNlKC88YnIgP1xcLz4vZ2ksXCJcXHgzY2JyXFx4M2VcIik7Yj1iLnJlcGxhY2UoLzxcXC8/W0EtWl0rPi9nLGZ1bmN0aW9uKGEpe3JldHVybiBhLnRvTG93ZXJDYXNlKCl9KTtpZihiLm1hdGNoKC9eW148XSQvKSlyZXR1cm4gYjtDS0VESVRPUi5lbnYud2Via2l0JiYtMTxiLmluZGV4T2YoXCJcXHgzY2RpdlxceDNlXCIpJiYoYj1iLnJlcGxhY2UoL14oPGRpdj4oPGJyPnwpPFxcL2Rpdj4pKD8hJHwoPGRpdj4oPGJyPnwpPFxcL2Rpdj4pKS9nLFwiXFx4M2NiclxceDNlXCIpLnJlcGxhY2UoL14oPGRpdj4oPGJyPnwpPFxcL2Rpdj4pezJ9KD8hJCkvZyxcIlxceDNjZGl2XFx4M2VcXHgzYy9kaXZcXHgzZVwiKSxcbmIubWF0Y2goLzxkaXY+KDxicj58KTxcXC9kaXY+LykmJihiPVwiXFx4M2NwXFx4M2VcIitiLnJlcGxhY2UoLyg8ZGl2Pig8YnI+fCk8XFwvZGl2PikrL2csZnVuY3Rpb24oYSl7cmV0dXJuIGQoYS5zcGxpdChcIlxceDNjL2RpdlxceDNlXFx4M2NkaXZcXHgzZVwiKS5sZW5ndGgrMSl9KStcIlxceDNjL3BcXHgzZVwiKSxiPWIucmVwbGFjZSgvPFxcL2Rpdj48ZGl2Pi9nLFwiXFx4M2NiclxceDNlXCIpLGI9Yi5yZXBsYWNlKC88XFwvP2Rpdj4vZyxcIlwiKSk7Q0tFRElUT1IuZW52LmdlY2tvJiZhLmVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlImJihDS0VESVRPUi5lbnYuZ2Vja28mJihiPWIucmVwbGFjZSgvXjxicj48YnI+JC8sXCJcXHgzY2JyXFx4M2VcIikpLC0xPGIuaW5kZXhPZihcIlxceDNjYnJcXHgzZVxceDNjYnJcXHgzZVwiKSYmKGI9XCJcXHgzY3BcXHgzZVwiK2IucmVwbGFjZSgvKDxicj4pezIsfS9nLGZ1bmN0aW9uKGEpe3JldHVybiBkKGEubGVuZ3RoLzQpfSkrXCJcXHgzYy9wXFx4M2VcIikpO3JldHVybiBsKGEsYil9ZnVuY3Rpb24gYyhhKXtmdW5jdGlvbiBiKCl7dmFyIGE9XG57fSxkO2ZvcihkIGluIENLRURJVE9SLmR0ZClcIiRcIiE9ZC5jaGFyQXQoMCkmJlwiZGl2XCIhPWQmJlwic3BhblwiIT1kJiYoYVtkXT0xKTtyZXR1cm4gYX12YXIgZD17fTtyZXR1cm57Z2V0OmZ1bmN0aW9uKGMpe3JldHVyblwicGxhaW4tdGV4dFwiPT1jP2QucGxhaW5UZXh0fHwoZC5wbGFpblRleHQ9bmV3IENLRURJVE9SLmZpbHRlcihhLFwiYnJcIikpOlwic2VtYW50aWMtY29udGVudFwiPT1jPygoYz1kLnNlbWFudGljQ29udGVudCl8fChjPW5ldyBDS0VESVRPUi5maWx0ZXIoYSx7fSksYy5hbGxvdyh7JDE6e2VsZW1lbnRzOmIoKSxhdHRyaWJ1dGVzOiEwLHN0eWxlczohMSxjbGFzc2VzOiExfX0pLGM9ZC5zZW1hbnRpY0NvbnRlbnQ9YyksYyk6Yz9uZXcgQ0tFRElUT1IuZmlsdGVyKGEsYyk6bnVsbH19fWZ1bmN0aW9uIGsoYSxiLGQpe2I9Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbChiKTt2YXIgYz1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcjtkLmFwcGx5VG8oYixcbiEwLCExLGEuYWN0aXZlRW50ZXJNb2RlKTtiLndyaXRlSHRtbChjKTtyZXR1cm4gYy5nZXRIdG1sKCl9ZnVuY3Rpb24gbChhLGIpe2EuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUj9iPWIucmVwbGFjZSgvKDxcXC9wPjxwPikrL2csZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLnJlcGVhdChcIlxceDNjYnJcXHgzZVwiLGEubGVuZ3RoLzcqMil9KS5yZXBsYWNlKC88XFwvP3A+L2csXCJcIik6YS5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0RJViYmKGI9Yi5yZXBsYWNlKC88KFxcLyk/cD4vZyxcIlxceDNjJDFkaXZcXHgzZVwiKSk7cmV0dXJuIGJ9ZnVuY3Rpb24gbShhKXthLmRhdGEucHJldmVudERlZmF1bHQoKTthLmRhdGEuJC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD1cIm5vbmVcIn1mdW5jdGlvbiBkKGIpe3ZhciBkPUNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkO2Iub24oXCJjb250ZW50RG9tXCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGQsZSxmKXtlLnNlbGVjdCgpO2EoYix7ZGF0YVRyYW5zZmVyOmYsXG5tZXRob2Q6XCJkcm9wXCJ9LDEpO2Yuc291cmNlRWRpdG9yLmZpcmUoXCJzYXZlU25hcHNob3RcIik7Zi5zb3VyY2VFZGl0b3IuZWRpdGFibGUoKS5leHRyYWN0SHRtbEZyb21SYW5nZShkKTtmLnNvdXJjZUVkaXRvci5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2RdKTtmLnNvdXJjZUVkaXRvci5maXJlKFwic2F2ZVNuYXBzaG90XCIpfWZ1bmN0aW9uIGUoYyxmKXtjLnNlbGVjdCgpO2EoYix7ZGF0YVRyYW5zZmVyOmYsbWV0aG9kOlwiZHJvcFwifSwxKTtkLnJlc2V0RHJhZ0RhdGFUcmFuc2ZlcigpfWZ1bmN0aW9uIGYoYSxkLGMpe3ZhciBlPXskOmEuZGF0YS4kLHRhcmdldDphLmRhdGEuZ2V0VGFyZ2V0KCl9O2QmJihlLmRyYWdSYW5nZT1kKTtjJiYoZS5kcm9wUmFuZ2U9Yyk7ITE9PT1iLmZpcmUoYS5uYW1lLGUpJiZhLmRhdGEucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBoKGEpe2EudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYT1hLmdldFBhcmVudCgpKTtyZXR1cm4gYS5nZXRDaGlsZENvdW50KCl9XG52YXIgaz1iLmVkaXRhYmxlKCksbD1DS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5nZXREcm9wVGFyZ2V0KGIpLG09Yi51aS5zcGFjZShcInRvcFwiKSxBPWIudWkuc3BhY2UoXCJib3R0b21cIik7ZC5wcmV2ZW50RGVmYXVsdERyb3BPbkVsZW1lbnQobSk7ZC5wcmV2ZW50RGVmYXVsdERyb3BPbkVsZW1lbnQoQSk7ay5hdHRhY2hMaXN0ZW5lcihsLFwiZHJhZ3N0YXJ0XCIsZik7ay5hdHRhY2hMaXN0ZW5lcihiLFwiZHJhZ3N0YXJ0XCIsZC5yZXNldERyYWdEYXRhVHJhbnNmZXIsZCxudWxsLDEpO2suYXR0YWNoTGlzdGVuZXIoYixcImRyYWdzdGFydFwiLGZ1bmN0aW9uKGEpe2QuaW5pdERyYWdEYXRhVHJhbnNmZXIoYSxiKX0sbnVsbCxudWxsLDIpO2suYXR0YWNoTGlzdGVuZXIoYixcImRyYWdzdGFydFwiLGZ1bmN0aW9uKCl7dmFyIGE9ZC5kcmFnUmFuZ2U9Yi5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXTtDS0VESVRPUi5lbnYuaWUmJjEwPkNLRURJVE9SLmVudi52ZXJzaW9uJiYoZC5kcmFnU3RhcnRDb250YWluZXJDaGlsZENvdW50PVxuYT9oKGEuc3RhcnRDb250YWluZXIpOm51bGwsZC5kcmFnRW5kQ29udGFpbmVyQ2hpbGRDb3VudD1hP2goYS5lbmRDb250YWluZXIpOm51bGwpfSxudWxsLG51bGwsMTAwKTtrLmF0dGFjaExpc3RlbmVyKGwsXCJkcmFnZW5kXCIsZik7ay5hdHRhY2hMaXN0ZW5lcihiLFwiZHJhZ2VuZFwiLGQuaW5pdERyYWdEYXRhVHJhbnNmZXIsZCxudWxsLDEpO2suYXR0YWNoTGlzdGVuZXIoYixcImRyYWdlbmRcIixkLnJlc2V0RHJhZ0RhdGFUcmFuc2ZlcixkLG51bGwsMTAwKTtrLmF0dGFjaExpc3RlbmVyKGwsXCJkcmFnb3ZlclwiLGZ1bmN0aW9uKGEpe2lmKENLRURJVE9SLmVudi5lZGdlKWEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2V7dmFyIGI9YS5kYXRhLmdldFRhcmdldCgpO2ImJmIuaXMmJmIuaXMoXCJodG1sXCIpP2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgpOkNLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNGaWxlQXBpU3VwcG9ydGVkJiZhLmRhdGEuJC5kYXRhVHJhbnNmZXIudHlwZXMuY29udGFpbnMoXCJGaWxlc1wiKSYmXG5hLmRhdGEucHJldmVudERlZmF1bHQoKX19KTtrLmF0dGFjaExpc3RlbmVyKGwsXCJkcm9wXCIsZnVuY3Rpb24oYSl7aWYoIWEuZGF0YS4kLmRlZmF1bHRQcmV2ZW50ZWQmJihhLmRhdGEucHJldmVudERlZmF1bHQoKSwhYi5yZWFkT25seSkpe3ZhciBjPWEuZGF0YS5nZXRUYXJnZXQoKTtpZighYy5pc1JlYWRPbmx5KCl8fGMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZjLmlzKFwiaHRtbFwiKSl7dmFyIGM9ZC5nZXRSYW5nZUF0RHJvcFBvc2l0aW9uKGEsYiksZT1kLmRyYWdSYW5nZTtjJiZmKGEsZSxjKX19fSxudWxsLG51bGwsOTk5OSk7ay5hdHRhY2hMaXN0ZW5lcihiLFwiZHJvcFwiLGQuaW5pdERyYWdEYXRhVHJhbnNmZXIsZCxudWxsLDEpO2suYXR0YWNoTGlzdGVuZXIoYixcImRyb3BcIixmdW5jdGlvbihhKXtpZihhPWEuZGF0YSl7dmFyIGY9YS5kcm9wUmFuZ2UsaD1hLmRyYWdSYW5nZSxrPWEuZGF0YVRyYW5zZmVyO2suZ2V0VHJhbnNmZXJUeXBlKGIpPT1DS0VESVRPUi5EQVRBX1RSQU5TRkVSX0lOVEVSTkFMP1xuc2V0VGltZW91dChmdW5jdGlvbigpe2QuaW50ZXJuYWxEcm9wKGgsZixrLGIpfSwwKTprLmdldFRyYW5zZmVyVHlwZShiKT09Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9DUk9TU19FRElUT1JTP2MoaCxmLGspOmUoZixrKX19LG51bGwsbnVsbCw5OTk5KX0pfXZhciBoO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiY2xpcGJvYXJkXCIse3JlcXVpcmVzOlwiZGlhbG9nLG5vdGlmaWNhdGlvbix0b29sYmFyXCIsX3N1cHBvcnRlZEZpbGVNYXRjaGVyczpbXSxpbml0OmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGgoYSl7cmV0dXJuLTEhPT1DS0VESVRPUi50b29scy5pbmRleE9mKFtcImltYWdlL3BuZ1wiLFwiaW1hZ2UvanBlZ1wiLFwiaW1hZ2UvZ2lmXCJdLGEudHlwZSl9ZnVuY3Rpb24gbChiKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuYXJyYXkuc29tZShhLnBsdWdpbnMuY2xpcGJvYXJkLl9zdXBwb3J0ZWRGaWxlTWF0Y2hlcnMsZnVuY3Rpb24oYSl7cmV0dXJuIGEoYil9KX1mdW5jdGlvbiBtKGIpe2IubGVuZ3RoJiZcbihiPUNLRURJVE9SLnRvb2xzLmFycmF5LnVuaXF1ZShiKSxiPUNLRURJVE9SLnRvb2xzLmFycmF5LmZpbHRlcihiLGZ1bmN0aW9uKGEpe3JldHVybiEhQ0tFRElUT1IudG9vbHMudHJpbShhKX0pLGI9cihiLmpvaW4oXCIsIFwiKSksYS5zaG93Tm90aWZpY2F0aW9uKGIsXCJpbmZvXCIsYS5jb25maWcuY2xpcGJvYXJkX25vdGlmaWNhdGlvbkR1cmF0aW9uKSl9ZnVuY3Rpb24gcihiKXtyZXR1cm4gYj9hLmxhbmcuY2xpcGJvYXJkLmZpbGVGb3JtYXROb3RTdXBwb3J0ZWROb3RpZmljYXRpb24ucmVwbGFjZSgvXFwke2Zvcm1hdHNcXH0vZyxcIlxceDNjZW1cXHgzZVwiK2IrXCJcXHgzYy9lbVxceDNlXCIpOmEubGFuZy5jbGlwYm9hcmQuZmlsZVdpdGhvdXRGb3JtYXROb3RTdXBwb3J0ZWROb3RpZmljYXRpb259ZnVuY3Rpb24gcChhLGIpe3JldHVybiBDS0VESVRPUi5lbnYuaWUmJmEuZGF0YS5maWxlVHJhbnNmZXJDYW5jZWx8fCEoQ0tFRElUT1IuZW52LmllfHxiJiZBIT09Yi5pZCk/ITE6Yi5pc0ZpbGVUcmFuc2ZlcigpJiZcbjE9PT1iLmdldEZpbGVzQ291bnQoKX12YXIgdSx6PWMoYSk7YS5jb25maWcuZm9yY2VQYXN0ZUFzUGxhaW5UZXh0P3U9XCJwbGFpbi10ZXh0XCI6YS5jb25maWcucGFzdGVGaWx0ZXI/dT1hLmNvbmZpZy5wYXN0ZUZpbHRlcjohQ0tFRElUT1IuZW52LndlYmtpdHx8XCJwYXN0ZUZpbHRlclwiaW4gYS5jb25maWd8fCh1PVwic2VtYW50aWMtY29udGVudFwiKTthLnBhc3RlRmlsdGVyPXouZ2V0KHUpO2YoYSk7ZChhKTtDS0VESVRPUi5kaWFsb2cuYWRkKFwicGFzdGVcIixDS0VESVRPUi5nZXRVcmwodGhpcy5wYXRoK1wiZGlhbG9ncy9wYXN0ZS5qc1wiKSk7dmFyIHE9Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21EYXRhVHlwZXNTdXBwb3J0ZWR8fENLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzRmlsZUFwaVN1cHBvcnRlZCxBO0NLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmFkZEZpbGVNYXRjaGVyKGEsaCk7YS5vbihcInBhc3RlXCIsZnVuY3Rpb24oYSl7aWYocSl7dmFyIGI9YS5kYXRhO1xuYT1iLmRhdGFUcmFuc2ZlcjtpZighYi5kYXRhVmFsdWUpe2Zvcih2YXIgYj1bXSxkPTA7ZDxhLmdldEZpbGVzQ291bnQoKTtkKyspe3ZhciBjPWEuZ2V0RmlsZShkKTtsKGMpfHxiLnB1c2goYy50eXBlKX1tKGIpfX19LG51bGwsbnVsbCwxKTthLm9uKFwicGFzdGVcIixmdW5jdGlvbihiKXtpZihxJiZhLmNvbmZpZy5jbGlwYm9hcmRfaGFuZGxlSW1hZ2VzKXt2YXIgZD1iLmRhdGEsYz1kLmRhdGFUcmFuc2ZlcjtpZighZC5kYXRhVmFsdWUmJnAoYixjKSYmKGM9Yy5nZXRGaWxlKDApLGgoYykpKXt2YXIgZT1uZXcgRmlsZVJlYWRlcjtlLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsZnVuY3Rpb24oKXtiLmRhdGEuZGF0YVZhbHVlPSdcXHgzY2ltZyBzcmNcXHgzZFwiJytlLnJlc3VsdCsnXCIgL1xceDNlJzthLmZpcmUoXCJwYXN0ZVwiLGIuZGF0YSl9LCExKTtlLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IuZW52LmllJiYoYi5kYXRhLmZpbGVUcmFuc2ZlckNhbmNlbD1cbiEwKTthLmZpcmUoXCJwYXN0ZVwiLGIuZGF0YSl9LCExKTtlLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IuZW52LmllJiYoYi5kYXRhLmZpbGVUcmFuc2ZlckNhbmNlbD0hMCk7YS5maXJlKFwicGFzdGVcIixiLmRhdGEpfSwhMSk7ZS5yZWFkQXNEYXRhVVJMKGMpO0E9ZC5kYXRhVHJhbnNmZXIuaWQ7Yi5zdG9wKCl9fX0sbnVsbCxudWxsLDEpO2Eub24oXCJwYXN0ZVwiLGZ1bmN0aW9uKGIpe2IuZGF0YS5kYXRhVHJhbnNmZXJ8fChiLmRhdGEuZGF0YVRyYW5zZmVyPW5ldyBDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5kYXRhVHJhbnNmZXIpO2lmKCFiLmRhdGEuZGF0YVZhbHVlKXt2YXIgZD1iLmRhdGEuZGF0YVRyYW5zZmVyLGM9ZC5nZXREYXRhKFwidGV4dC9odG1sXCIpO2lmKGMpYi5kYXRhLmRhdGFWYWx1ZT1jLGIuZGF0YS50eXBlPVwiaHRtbFwiO2Vsc2UgaWYoYz1kLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpKWIuZGF0YS5kYXRhVmFsdWU9YS5lZGl0YWJsZSgpLnRyYW5zZm9ybVBsYWluVGV4dFRvSHRtbChjKSxcbmIuZGF0YS50eXBlPVwidGV4dFwifX0sbnVsbCxudWxsLDEpO2Eub24oXCJwYXN0ZVwiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YS5kYXRhVmFsdWUsZD1DS0VESVRPUi5kdGQuJGJsb2NrOy0xPGIuaW5kZXhPZihcIkFwcGxlLVwiKSYmKGI9Yi5yZXBsYWNlKC88c3BhbiBjbGFzcz1cIkFwcGxlLWNvbnZlcnRlZC1zcGFjZVwiPiZuYnNwOzxcXC9zcGFuPi9naSxcIiBcIiksXCJodG1sXCIhPWEuZGF0YS50eXBlJiYoYj1iLnJlcGxhY2UoLzxzcGFuIGNsYXNzPVwiQXBwbGUtdGFiLXNwYW5cIltePl0qPihbXjxdKik8XFwvc3Bhbj4vZ2ksZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5yZXBsYWNlKC9cXHQvZyxcIlxceDI2bmJzcDtcXHgyNm5ic3A7IFxceDI2bmJzcDtcIil9KSksLTE8Yi5pbmRleE9mKCdcXHgzY2JyIGNsYXNzXFx4M2RcIkFwcGxlLWludGVyY2hhbmdlLW5ld2xpbmVcIlxceDNlJykmJihhLmRhdGEuc3RhcnRzV2l0aEVPTD0xLGEuZGF0YS5wcmVTbmlmZmluZz1cImh0bWxcIixiPWIucmVwbGFjZSgvPGJyIGNsYXNzPVwiQXBwbGUtaW50ZXJjaGFuZ2UtbmV3bGluZVwiPi8sXG5cIlwiKSksYj1iLnJlcGxhY2UoLyg8W14+XSspIGNsYXNzPVwiQXBwbGUtW15cIl0qXCIvZ2ksXCIkMVwiKSk7aWYoYi5tYXRjaCgvXjxbXjxdK2NrZV8oZWRpdGFibGV8Y29udGVudHMpL2kpKXt2YXIgYyxlLGc9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiZGl2XCIpO2ZvcihnLnNldEh0bWwoYik7MT09Zy5nZXRDaGlsZENvdW50KCkmJihjPWcuZ2V0Rmlyc3QoKSkmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYy5oYXNDbGFzcyhcImNrZV9lZGl0YWJsZVwiKXx8Yy5oYXNDbGFzcyhcImNrZV9jb250ZW50c1wiKSk7KWc9ZT1jO2UmJihiPWUuZ2V0SHRtbCgpLnJlcGxhY2UoLzxicj4kL2ksXCJcIikpfUNLRURJVE9SLmVudi5pZT9iPWIucmVwbGFjZSgvXiZuYnNwOyg/OiB8XFxyXFxuKT88KFxcdyspL2csZnVuY3Rpb24oYixjKXtyZXR1cm4gYy50b0xvd2VyQ2FzZSgpaW4gZD8oYS5kYXRhLnByZVNuaWZmaW5nPVwiaHRtbFwiLFwiXFx4M2NcIitjKTpifSk6Q0tFRElUT1IuZW52LndlYmtpdD9iPWIucmVwbGFjZSgvPFxcLyhcXHcrKT48ZGl2Pjxicj48XFwvZGl2PiQvLFxuZnVuY3Rpb24oYixjKXtyZXR1cm4gYyBpbiBkPyhhLmRhdGEuZW5kc1dpdGhFT0w9MSxcIlxceDNjL1wiK2MrXCJcXHgzZVwiKTpifSk6Q0tFRElUT1IuZW52LmdlY2tvJiYoYj1iLnJlcGxhY2UoLyhcXHMpPGJyPiQvLFwiJDFcIikpO2EuZGF0YS5kYXRhVmFsdWU9Yn0sbnVsbCxudWxsLDMpO2Eub24oXCJwYXN0ZVwiLGZ1bmN0aW9uKGQpe2Q9ZC5kYXRhO3ZhciBjPWEuXy5uZXh0UGFzdGVUeXBlfHxkLnR5cGUsZj1kLmRhdGFWYWx1ZSxoLGw9YS5jb25maWcuY2xpcGJvYXJkX2RlZmF1bHRDb250ZW50VHlwZXx8XCJodG1sXCIsbT1kLmRhdGFUcmFuc2Zlci5nZXRUcmFuc2ZlclR5cGUoYSk9PUNLRURJVE9SLkRBVEFfVFJBTlNGRVJfRVhURVJOQUwsbj0hMD09PWEuY29uZmlnLmZvcmNlUGFzdGVBc1BsYWluVGV4dDtoPVwiaHRtbFwiPT1jfHxcImh0bWxcIj09ZC5wcmVTbmlmZmluZz9cImh0bWxcIjplKGYpO2RlbGV0ZSBhLl8ubmV4dFBhc3RlVHlwZTtcImh0bWxpZmllZHRleHRcIj09aCYmKGY9YihhLmNvbmZpZyxmKSk7XG5pZihcInRleHRcIj09YyYmXCJodG1sXCI9PWgpZj1rKGEsZix6LmdldChcInBsYWluLXRleHRcIikpO2Vsc2UgaWYobSYmYS5wYXN0ZUZpbHRlciYmIWQuZG9udEZpbHRlcnx8bilmPWsoYSxmLGEucGFzdGVGaWx0ZXIpO2Quc3RhcnRzV2l0aEVPTCYmKGY9J1xceDNjYnIgZGF0YS1ja2UtZW9sXFx4M2RcIjFcIlxceDNlJytmKTtkLmVuZHNXaXRoRU9MJiYoZis9J1xceDNjYnIgZGF0YS1ja2UtZW9sXFx4M2RcIjFcIlxceDNlJyk7XCJhdXRvXCI9PWMmJihjPVwiaHRtbFwiPT1ofHxcImh0bWxcIj09bD9cImh0bWxcIjpcInRleHRcIik7ZC50eXBlPWM7ZC5kYXRhVmFsdWU9ZjtkZWxldGUgZC5wcmVTbmlmZmluZztkZWxldGUgZC5zdGFydHNXaXRoRU9MO2RlbGV0ZSBkLmVuZHNXaXRoRU9MfSxudWxsLG51bGwsNik7YS5vbihcInBhc3RlXCIsZnVuY3Rpb24oYil7Yj1iLmRhdGE7Yi5kYXRhVmFsdWUmJihhLmluc2VydEh0bWwoYi5kYXRhVmFsdWUsYi50eXBlLGIucmFuZ2UpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmZpcmUoXCJhZnRlclBhc3RlXCIpfSxcbjApKX0sbnVsbCxudWxsLDFFMyk7YS5vbihcInBhc3RlRGlhbG9nXCIsZnVuY3Rpb24oYil7c2V0VGltZW91dChmdW5jdGlvbigpe2Eub3BlbkRpYWxvZyhcInBhc3RlXCIsYi5kYXRhKX0sMCl9KX19KTtDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZD17YWRkRmlsZU1hdGNoZXI6ZnVuY3Rpb24oYSxiKXthLnBsdWdpbnMuY2xpcGJvYXJkLl9zdXBwb3J0ZWRGaWxlTWF0Y2hlcnMucHVzaChiKX0saXNDdXN0b21Db3B5Q3V0U3VwcG9ydGVkOkNLRURJVE9SLmVudi5pZSYmMTY+Q0tFRElUT1IuZW52LnZlcnNpb258fENLRURJVE9SLmVudi5pT1MmJjYwNT5DS0VESVRPUi5lbnYudmVyc2lvbj8hMTohMCxpc0N1c3RvbURhdGFUeXBlc1N1cHBvcnRlZDohQ0tFRElUT1IuZW52LmllfHwxNjw9Q0tFRElUT1IuZW52LnZlcnNpb24saXNGaWxlQXBpU3VwcG9ydGVkOiFDS0VESVRPUi5lbnYuaWV8fDk8Q0tFRElUT1IuZW52LnZlcnNpb24sbWFpblBhc3RlRXZlbnQ6Q0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmVkZ2U/XG5cImJlZm9yZXBhc3RlXCI6XCJwYXN0ZVwiLGFkZFBhc3RlQnV0dG9uOmZ1bmN0aW9uKGEsYixkKXthLnVpLmFkZEJ1dHRvbiYmKGEudWkuYWRkQnV0dG9uKGIsZCksYS5fLnBhc3RlQnV0dG9uc3x8KGEuXy5wYXN0ZUJ1dHRvbnM9W10pLGEuXy5wYXN0ZUJ1dHRvbnMucHVzaChiKSl9LGNhbkNsaXBib2FyZEFwaUJlVHJ1c3RlZDpmdW5jdGlvbihhLGIpe3JldHVybiBhLmdldFRyYW5zZmVyVHlwZShiKSE9Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9FWFRFUk5BTHx8Q0tFRElUT1IuZW52LmNocm9tZSYmIWEuaXNFbXB0eSgpfHxDS0VESVRPUi5lbnYuZ2Vja28mJihhLmdldERhdGEoXCJ0ZXh0L2h0bWxcIil8fGEuZ2V0RmlsZXNDb3VudCgpKXx8Q0tFRElUT1IuZW52LnNhZmFyaSYmNjAzPD1DS0VESVRPUi5lbnYudmVyc2lvbiYmIUNLRURJVE9SLmVudi5pT1N8fENLRURJVE9SLmVudi5pT1MmJjYwNTw9Q0tFRElUT1IuZW52LnZlcnNpb258fENLRURJVE9SLmVudi5lZGdlJiYxNjw9Q0tFRElUT1IuZW52LnZlcnNpb24/XG4hMDohMX0sZ2V0RHJvcFRhcmdldDpmdW5jdGlvbihhKXt2YXIgYj1hLmVkaXRhYmxlKCk7cmV0dXJuIENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbnx8Yi5pc0lubGluZSgpP2I6YS5kb2N1bWVudH0sZml4U3BsaXROb2Rlc0FmdGVyRHJvcDpmdW5jdGlvbihhLGIsZCxjKXtmdW5jdGlvbiBlKGEsZCxjKXt2YXIgZz1hO2cudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoZz1hLmdldFBhcmVudCgpKTtpZihnLmVxdWFscyhkKSYmYyE9ZC5nZXRDaGlsZENvdW50KCkpcmV0dXJuIGE9Yi5zdGFydENvbnRhaW5lci5nZXRDaGlsZChiLnN0YXJ0T2Zmc2V0LTEpLGQ9Yi5zdGFydENvbnRhaW5lci5nZXRDaGlsZChiLnN0YXJ0T2Zmc2V0KSxhJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmZCYmZC50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihjPWEuZ2V0TGVuZ3RoKCksYS5zZXRUZXh0KGEuZ2V0VGV4dCgpK2QuZ2V0VGV4dCgpKSxkLnJlbW92ZSgpLGIuc2V0U3RhcnQoYSxcbmMpLGIuY29sbGFwc2UoITApKSwhMH12YXIgZj1iLnN0YXJ0Q29udGFpbmVyO1wibnVtYmVyXCI9PXR5cGVvZiBjJiZcIm51bWJlclwiPT10eXBlb2YgZCYmZi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihlKGEuc3RhcnRDb250YWluZXIsZixkKXx8ZShhLmVuZENvbnRhaW5lcixmLGMpKX0saXNEcm9wUmFuZ2VBZmZlY3RlZEJ5RHJhZ1JhbmdlOmZ1bmN0aW9uKGEsYil7dmFyIGQ9Yi5zdGFydENvbnRhaW5lcixjPWIuZW5kT2Zmc2V0O3JldHVybiBhLmVuZENvbnRhaW5lci5lcXVhbHMoZCkmJmEuZW5kT2Zmc2V0PD1jfHxhLnN0YXJ0Q29udGFpbmVyLmdldFBhcmVudCgpLmVxdWFscyhkKSYmYS5zdGFydENvbnRhaW5lci5nZXRJbmRleCgpPGN8fGEuZW5kQ29udGFpbmVyLmdldFBhcmVudCgpLmVxdWFscyhkKSYmYS5lbmRDb250YWluZXIuZ2V0SW5kZXgoKTxjPyEwOiExfSxpbnRlcm5hbERyb3A6ZnVuY3Rpb24oYixkLGMsZSl7dmFyIGY9Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQsXG5oPWUuZWRpdGFibGUoKSxrLGw7ZS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2UuZmlyZShcImxvY2tTbmFwc2hvdFwiLHtkb250VXBkYXRlOjF9KTtDS0VESVRPUi5lbnYuaWUmJjEwPkNLRURJVE9SLmVudi52ZXJzaW9uJiZ0aGlzLmZpeFNwbGl0Tm9kZXNBZnRlckRyb3AoYixkLGYuZHJhZ1N0YXJ0Q29udGFpbmVyQ2hpbGRDb3VudCxmLmRyYWdFbmRDb250YWluZXJDaGlsZENvdW50KTsobD10aGlzLmlzRHJvcFJhbmdlQWZmZWN0ZWRCeURyYWdSYW5nZShiLGQpKXx8KGs9Yi5jcmVhdGVCb29rbWFyayghMSkpO2Y9ZC5jbG9uZSgpLmNyZWF0ZUJvb2ttYXJrKCExKTtsJiYoaz1iLmNyZWF0ZUJvb2ttYXJrKCExKSk7Yj1rLnN0YXJ0Tm9kZTtkPWsuZW5kTm9kZTtsPWYuc3RhcnROb2RlO2QmJmIuZ2V0UG9zaXRpb24obCkmQ0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HJiZkLmdldFBvc2l0aW9uKGwpJkNLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lORyYmbC5pbnNlcnRCZWZvcmUoYik7Yj1lLmNyZWF0ZVJhbmdlKCk7XG5iLm1vdmVUb0Jvb2ttYXJrKGspO2guZXh0cmFjdEh0bWxGcm9tUmFuZ2UoYiwxKTtkPWUuY3JlYXRlUmFuZ2UoKTtmLnN0YXJ0Tm9kZS5nZXRDb21tb25BbmNlc3RvcihoKXx8KGY9ZS5nZXRTZWxlY3Rpb24oKS5jcmVhdGVCb29rbWFya3MoKVswXSk7ZC5tb3ZlVG9Cb29rbWFyayhmKTthKGUse2RhdGFUcmFuc2ZlcjpjLG1ldGhvZDpcImRyb3BcIixyYW5nZTpkfSwxKTtlLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKX0sZ2V0UmFuZ2VBdERyb3BQb3NpdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBkPWEuZGF0YS4kLGM9ZC5jbGllbnRYLGU9ZC5jbGllbnRZLGY9Yi5nZXRTZWxlY3Rpb24oITApLmdldFJhbmdlcygpWzBdLGg9Yi5jcmVhdGVSYW5nZSgpO2lmKGEuZGF0YS50ZXN0UmFuZ2UpcmV0dXJuIGEuZGF0YS50ZXN0UmFuZ2U7aWYoZG9jdW1lbnQuY2FyZXRSYW5nZUZyb21Qb2ludCYmYi5kb2N1bWVudC4kLmNhcmV0UmFuZ2VGcm9tUG9pbnQoYyxlKSlkPWIuZG9jdW1lbnQuJC5jYXJldFJhbmdlRnJvbVBvaW50KGMsXG5lKSxoLnNldFN0YXJ0KENLRURJVE9SLmRvbS5ub2RlKGQuc3RhcnRDb250YWluZXIpLGQuc3RhcnRPZmZzZXQpLGguY29sbGFwc2UoITApO2Vsc2UgaWYoZC5yYW5nZVBhcmVudCloLnNldFN0YXJ0KENLRURJVE9SLmRvbS5ub2RlKGQucmFuZ2VQYXJlbnQpLGQucmFuZ2VPZmZzZXQpLGguY29sbGFwc2UoITApO2Vsc2V7aWYoQ0tFRElUT1IuZW52LmllJiY4PENLRURJVE9SLmVudi52ZXJzaW9uJiZmJiZiLmVkaXRhYmxlKCkuaGFzRm9jdXMpcmV0dXJuIGY7aWYoZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2Upe2IuZm9jdXMoKTtkPWIuZG9jdW1lbnQuZ2V0Qm9keSgpLiQuY3JlYXRlVGV4dFJhbmdlKCk7dHJ5e2Zvcih2YXIgaz0hMSxsPTA7MjA+bCYmIWs7bCsrKXtpZighayl0cnl7ZC5tb3ZlVG9Qb2ludChjLGUtbCksaz0hMH1jYXRjaChtKXt9aWYoIWspdHJ5e2QubW92ZVRvUG9pbnQoYyxlK2wpLGs9ITB9Y2F0Y2goeSl7fX1pZihrKXt2YXIgdD1cImNrZS10ZW1wLVwiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpO1xuZC5wYXN0ZUhUTUwoJ1xceDNjc3BhbiBpZFxceDNkXCInK3QrJ1wiXFx4M2XigItcXHgzYy9zcGFuXFx4M2UnKTt2YXIgdj1iLmRvY3VtZW50LmdldEJ5SWQodCk7aC5tb3ZlVG9Qb3NpdGlvbih2LENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7di5yZW1vdmUoKX1lbHNle3ZhciBCPWIuZG9jdW1lbnQuJC5lbGVtZW50RnJvbVBvaW50KGMsZSksRD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoQiksQztpZihELmVxdWFscyhiLmVkaXRhYmxlKCkpfHxcImh0bWxcIj09RC5nZXROYW1lKCkpcmV0dXJuIGYmJmYuc3RhcnRDb250YWluZXImJiFmLnN0YXJ0Q29udGFpbmVyLmVxdWFscyhiLmVkaXRhYmxlKCkpP2Y6bnVsbDtDPUQuZ2V0Q2xpZW50UmVjdCgpO2M8Qy5sZWZ0P2guc2V0U3RhcnRBdChELENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTpoLnNldFN0YXJ0QXQoRCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtoLmNvbGxhcHNlKCEwKX19Y2F0Y2goRil7cmV0dXJuIG51bGx9fWVsc2UgcmV0dXJuIG51bGx9cmV0dXJuIGh9LFxuaW5pdERyYWdEYXRhVHJhbnNmZXI6ZnVuY3Rpb24oYSxiKXt2YXIgZD1hLmRhdGEuJD9hLmRhdGEuJC5kYXRhVHJhbnNmZXI6bnVsbCxjPW5ldyB0aGlzLmRhdGFUcmFuc2ZlcihkLGIpO1wiZHJhZ3N0YXJ0XCI9PT1hLm5hbWUmJmMuc3RvcmVJZCgpO2Q/dGhpcy5kcmFnRGF0YSYmYy5pZD09dGhpcy5kcmFnRGF0YS5pZD9jPXRoaXMuZHJhZ0RhdGE6dGhpcy5kcmFnRGF0YT1jOnRoaXMuZHJhZ0RhdGE/Yz10aGlzLmRyYWdEYXRhOnRoaXMuZHJhZ0RhdGE9YzthLmRhdGEuZGF0YVRyYW5zZmVyPWN9LHJlc2V0RHJhZ0RhdGFUcmFuc2ZlcjpmdW5jdGlvbigpe3RoaXMuZHJhZ0RhdGE9bnVsbH0saW5pdFBhc3RlRGF0YVRyYW5zZmVyOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5pc0N1c3RvbUNvcHlDdXRTdXBwb3J0ZWQpe2lmKGEmJmEuZGF0YSYmYS5kYXRhLiQpe3ZhciBkPWEuZGF0YS4kLmNsaXBib2FyZERhdGEsYz1uZXcgdGhpcy5kYXRhVHJhbnNmZXIoZCxiKTtcImNvcHlcIiE9PWEubmFtZSYmXG5cImN1dFwiIT09YS5uYW1lfHxjLnN0b3JlSWQoKTt0aGlzLmNvcHlDdXREYXRhJiZjLmlkPT10aGlzLmNvcHlDdXREYXRhLmlkPyhjPXRoaXMuY29weUN1dERhdGEsYy4kPWQpOnRoaXMuY29weUN1dERhdGE9YztyZXR1cm4gY31yZXR1cm4gbmV3IHRoaXMuZGF0YVRyYW5zZmVyKG51bGwsYil9cmV0dXJuIG5ldyB0aGlzLmRhdGFUcmFuc2ZlcihDS0VESVRPUi5lbnYuZWRnZSYmYSYmYS5kYXRhLiQmJmEuZGF0YS4kLmNsaXBib2FyZERhdGF8fG51bGwsYil9LHByZXZlbnREZWZhdWx0RHJvcE9uRWxlbWVudDpmdW5jdGlvbihhKXthJiZhLm9uKFwiZHJhZ292ZXJcIixtKX19O2g9Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21EYXRhVHlwZXNTdXBwb3J0ZWQ/XCJja2UvaWRcIjpcIlRleHRcIjtDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5kYXRhVHJhbnNmZXI9ZnVuY3Rpb24oYSxiKXthJiYodGhpcy4kPWEpO3RoaXMuXz17bWV0YVJlZ0V4cDovXjxtZXRhLio/Pi9pLGZyYWdtZW50UmVnRXhwOi9cXHMqXFx4M2MhLS1TdGFydEZyYWdtZW50LS1cXHgzZXxcXHgzYyEtLUVuZEZyYWdtZW50LS1cXHgzZVxccyovZyxcbnR5cGVzOltdLGRhdGE6e30sZmlsZXM6W10sbmF0aXZlSHRtbENhY2hlOlwiXCIsbm9ybWFsaXplVHlwZTpmdW5jdGlvbihhKXthPWEudG9Mb3dlckNhc2UoKTtyZXR1cm5cInRleHRcIj09YXx8XCJ0ZXh0L3BsYWluXCI9PWE/XCJUZXh0XCI6XCJ1cmxcIj09YT9cIlVSTFwiOlwiZmlsZXNcIj09PWE/XCJGaWxlc1wiOmF9fTt0aGlzLl8uZmFsbGJhY2tEYXRhVHJhbnNmZXI9bmV3IENLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmZhbGxiYWNrRGF0YVRyYW5zZmVyKHRoaXMpO3RoaXMuaWQ9dGhpcy5nZXREYXRhKGgpO3RoaXMuaWR8fCh0aGlzLmlkPVwiVGV4dFwiPT1oP1wiXCI6XCJja2UtXCIrQ0tFRElUT1IudG9vbHMuZ2V0VW5pcXVlSWQoKSk7YiYmKHRoaXMuc291cmNlRWRpdG9yPWIsdGhpcy5zZXREYXRhKFwidGV4dC9odG1sXCIsYi5nZXRTZWxlY3RlZEh0bWwoMSkpLFwiVGV4dFwiPT1ofHx0aGlzLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpfHx0aGlzLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsYi5nZXRTZWxlY3Rpb24oKS5nZXRTZWxlY3RlZFRleHQoKSkpfTtcbkNLRURJVE9SLkRBVEFfVFJBTlNGRVJfSU5URVJOQUw9MTtDS0VESVRPUi5EQVRBX1RSQU5TRkVSX0NST1NTX0VESVRPUlM9MjtDS0VESVRPUi5EQVRBX1RSQU5TRkVSX0VYVEVSTkFMPTM7Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZGF0YVRyYW5zZmVyLnByb3RvdHlwZT17Z2V0RGF0YTpmdW5jdGlvbihhLGIpe2E9dGhpcy5fLm5vcm1hbGl6ZVR5cGUoYSk7dmFyIGQ9XCJ0ZXh0L2h0bWxcIj09YSYmYj90aGlzLl8ubmF0aXZlSHRtbENhY2hlOnRoaXMuXy5kYXRhW2FdO2lmKHZvaWQgMD09PWR8fG51bGw9PT1kfHxcIlwiPT09ZCl7aWYodGhpcy5fLmZhbGxiYWNrRGF0YVRyYW5zZmVyLmlzUmVxdWlyZWQoKSlkPXRoaXMuXy5mYWxsYmFja0RhdGFUcmFuc2Zlci5nZXREYXRhKGEsYik7ZWxzZSB0cnl7ZD10aGlzLiQuZ2V0RGF0YShhKXx8XCJcIn1jYXRjaChjKXtkPVwiXCJ9XCJ0ZXh0L2h0bWxcIiE9YXx8Ynx8KGQ9dGhpcy5fc3RyaXBIdG1sKGQpKX1cIlRleHRcIj09YSYmQ0tFRElUT1IuZW52LmdlY2tvJiZcbnRoaXMuZ2V0RmlsZXNDb3VudCgpJiZcImZpbGU6Ly9cIj09ZC5zdWJzdHJpbmcoMCw3KSYmKGQ9XCJcIik7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBkKXZhciBlPWQuaW5kZXhPZihcIlxceDNjL2h0bWxcXHgzZVwiKSxkPS0xIT09ZT9kLnN1YnN0cmluZygwLGUrNyk6ZDtyZXR1cm4gZH0sc2V0RGF0YTpmdW5jdGlvbihhLGIpe2E9dGhpcy5fLm5vcm1hbGl6ZVR5cGUoYSk7XCJ0ZXh0L2h0bWxcIj09YT8odGhpcy5fLmRhdGFbYV09dGhpcy5fc3RyaXBIdG1sKGIpLHRoaXMuXy5uYXRpdmVIdG1sQ2FjaGU9Yik6dGhpcy5fLmRhdGFbYV09YjtpZihDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pc0N1c3RvbURhdGFUeXBlc1N1cHBvcnRlZHx8XCJVUkxcIj09YXx8XCJUZXh0XCI9PWEpaWYoXCJUZXh0XCI9PWgmJlwiVGV4dFwiPT1hJiYodGhpcy5pZD1iKSx0aGlzLl8uZmFsbGJhY2tEYXRhVHJhbnNmZXIuaXNSZXF1aXJlZCgpKXRoaXMuXy5mYWxsYmFja0RhdGFUcmFuc2Zlci5zZXREYXRhKGEsYik7ZWxzZSB0cnl7dGhpcy4kLnNldERhdGEoYSxcbmIpfWNhdGNoKGQpe319LHN0b3JlSWQ6ZnVuY3Rpb24oKXtcIlRleHRcIiE9PWgmJnRoaXMuc2V0RGF0YShoLHRoaXMuaWQpfSxnZXRUcmFuc2ZlclR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc291cmNlRWRpdG9yP3RoaXMuc291cmNlRWRpdG9yPT1hP0NLRURJVE9SLkRBVEFfVFJBTlNGRVJfSU5URVJOQUw6Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9DUk9TU19FRElUT1JTOkNLRURJVE9SLkRBVEFfVFJBTlNGRVJfRVhURVJOQUx9LGNhY2hlRGF0YTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoZCl7ZD1iLl8ubm9ybWFsaXplVHlwZShkKTt2YXIgYz1iLmdldERhdGEoZCk7XCJ0ZXh0L2h0bWxcIj09ZCYmKGIuXy5uYXRpdmVIdG1sQ2FjaGU9Yi5nZXREYXRhKGQsITApLGM9Yi5fc3RyaXBIdG1sKGMpKTtjJiYoYi5fLmRhdGFbZF09Yyk7Yi5fLnR5cGVzLnB1c2goZCl9aWYodGhpcy4kKXt2YXIgYj10aGlzLGQsYyxlO2lmKENLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzQ3VzdG9tRGF0YVR5cGVzU3VwcG9ydGVkKXtpZih0aGlzLiQudHlwZXMpZm9yKGQ9XG4wO2Q8dGhpcy4kLnR5cGVzLmxlbmd0aDtkKyspYSh0aGlzLiQudHlwZXNbZF0pfWVsc2UgYShcIlRleHRcIiksYShcIlVSTFwiKTtjPXRoaXMuX2dldEltYWdlRnJvbUNsaXBib2FyZCgpO2lmKChlPXRoaXMuJCYmdGhpcy4kLmZpbGVzfHxudWxsKXx8Yyl7dGhpcy5fLmZpbGVzPVtdO2lmKGUmJmUubGVuZ3RoKWZvcihkPTA7ZDxlLmxlbmd0aDtkKyspdGhpcy5fLmZpbGVzLnB1c2goZVtkXSk7MD09PXRoaXMuXy5maWxlcy5sZW5ndGgmJmMmJnRoaXMuXy5maWxlcy5wdXNoKGMpfX19LGdldEZpbGVzQ291bnQ6ZnVuY3Rpb24oKXtpZih0aGlzLl8uZmlsZXMubGVuZ3RoKXJldHVybiB0aGlzLl8uZmlsZXMubGVuZ3RoO3ZhciBhPXRoaXMuJCYmdGhpcy4kLmZpbGVzfHxudWxsO3JldHVybiBhJiZhLmxlbmd0aD9hLmxlbmd0aDp0aGlzLl9nZXRJbWFnZUZyb21DbGlwYm9hcmQoKT8xOjB9LGdldEZpbGU6ZnVuY3Rpb24oYSl7aWYodGhpcy5fLmZpbGVzLmxlbmd0aClyZXR1cm4gdGhpcy5fLmZpbGVzW2FdO1xudmFyIGI9dGhpcy4kJiZ0aGlzLiQuZmlsZXN8fG51bGw7cmV0dXJuIGImJmIubGVuZ3RoP2JbYV06MD09PWE/dGhpcy5fZ2V0SW1hZ2VGcm9tQ2xpcGJvYXJkKCk6dm9pZCAwfSxpc0ZpbGVUcmFuc2ZlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0VHlwZXMoKSxhPUNLRURJVE9SLnRvb2xzLmFycmF5LmZpbHRlcihhLGZ1bmN0aW9uKGEpe3JldHVyblwiYXBwbGljYXRpb24veC1tb3otZmlsZVwiIT09YX0pO3JldHVybiAxPT09YS5sZW5ndGgmJlwiZmlsZXNcIj09PWFbMF0udG9Mb3dlckNhc2UoKX0saXNFbXB0eTpmdW5jdGlvbigpe3ZhciBhPXt9LGI7aWYodGhpcy5nZXRGaWxlc0NvdW50KCkpcmV0dXJuITE7Q0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaChDS0VESVRPUi50b29scy5vYmplY3Qua2V5cyh0aGlzLl8uZGF0YSksZnVuY3Rpb24oYil7YVtiXT0xfSk7aWYodGhpcy4kKWlmKENLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzQ3VzdG9tRGF0YVR5cGVzU3VwcG9ydGVkKXtpZih0aGlzLiQudHlwZXMpZm9yKHZhciBkPVxuMDtkPHRoaXMuJC50eXBlcy5sZW5ndGg7ZCsrKWFbdGhpcy4kLnR5cGVzW2RdXT0xfWVsc2UgYS5UZXh0PTEsYS5VUkw9MTtcIlRleHRcIiE9aCYmKGFbaF09MCk7Zm9yKGIgaW4gYSlpZihhW2JdJiZcIlwiIT09dGhpcy5nZXREYXRhKGIpKXJldHVybiExO3JldHVybiEwfSxnZXRUeXBlczpmdW5jdGlvbigpe3JldHVybiAwPHRoaXMuXy50eXBlcy5sZW5ndGg/dGhpcy5fLnR5cGVzOnRoaXMuJCYmdGhpcy4kLnR5cGVzP1tdLnNsaWNlLmNhbGwodGhpcy4kLnR5cGVzKTpbXX0sX2dldEltYWdlRnJvbUNsaXBib2FyZDpmdW5jdGlvbigpe3ZhciBhO3RyeXtpZih0aGlzLiQmJnRoaXMuJC5pdGVtcyYmdGhpcy4kLml0ZW1zWzBdJiYoYT10aGlzLiQuaXRlbXNbMF0uZ2V0QXNGaWxlKCkpJiZhLnR5cGUpcmV0dXJuIGF9Y2F0Y2goYil7fX0sX3N0cmlwSHRtbDpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3ZhciBkPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLGMsZTtkLm9uVGFnT3Blbj1mdW5jdGlvbihhKXtcImJvZHlcIj09PVxuYSYmKGM9ZC5fLmh0bWxQYXJ0c1JlZ2V4Lmxhc3RJbmRleCl9O2Qub25UYWdDbG9zZT1mdW5jdGlvbihhKXtcImJvZHlcIj09PWEmJihlPWQuXy5odG1sUGFydHNSZWdleC5sYXN0SW5kZXgpfTtkLnBhcnNlKGEpO3JldHVyblwibnVtYmVyXCIhPT10eXBlb2YgY3x8XCJudW1iZXJcIiE9PXR5cGVvZiBlP2E6YS5zdWJzdHJpbmcoYyxlKS5yZXBsYWNlKC88XFwvYm9keVxccyo+JC9naSxcIlwiKX1hJiZhLmxlbmd0aCYmKGE9YihhKSxhPWEucmVwbGFjZSh0aGlzLl8ubWV0YVJlZ0V4cCxcIlwiKSxhPWEucmVwbGFjZSh0aGlzLl8uZnJhZ21lbnRSZWdFeHAsXCJcIikpO3JldHVybiBhfX07Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZmFsbGJhY2tEYXRhVHJhbnNmZXI9ZnVuY3Rpb24oYSl7dGhpcy5fZGF0YVRyYW5zZmVyPWE7dGhpcy5fY3VzdG9tRGF0YUZhbGxiYWNrVHlwZT1cInRleHQvaHRtbFwifTtDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5mYWxsYmFja0RhdGFUcmFuc2Zlci5faXNDdXN0b21NaW1lVHlwZVN1cHBvcnRlZD1cbm51bGw7Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZmFsbGJhY2tEYXRhVHJhbnNmZXIuX2N1c3RvbVR5cGVzPVtdO0NLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmZhbGxiYWNrRGF0YVRyYW5zZmVyLnByb3RvdHlwZT17aXNSZXF1aXJlZDpmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmZhbGxiYWNrRGF0YVRyYW5zZmVyLGI9dGhpcy5fZGF0YVRyYW5zZmVyLiQ7aWYobnVsbD09PWEuX2lzQ3VzdG9tTWltZVR5cGVTdXBwb3J0ZWQpaWYoYil7YS5faXNDdXN0b21NaW1lVHlwZVN1cHBvcnRlZD0hMTtpZihDS0VESVRPUi5lbnYuZWRnZSYmMTc8PUNLRURJVE9SLmVudi52ZXJzaW9uKXJldHVybiEwO3RyeXtiLnNldERhdGEoXCJja2UvbWltZXR5cGV0ZXN0XCIsXCJja2UgdGVzdCB2YWx1ZVwiKSxhLl9pc0N1c3RvbU1pbWVUeXBlU3VwcG9ydGVkPVwiY2tlIHRlc3QgdmFsdWVcIj09PWIuZ2V0RGF0YShcImNrZS9taW1ldHlwZXRlc3RcIiksYi5jbGVhckRhdGEoXCJja2UvbWltZXR5cGV0ZXN0XCIpfWNhdGNoKGQpe319ZWxzZSByZXR1cm4hMTtcbnJldHVybiFhLl9pc0N1c3RvbU1pbWVUeXBlU3VwcG9ydGVkfSxnZXREYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcy5fZ2V0RGF0YSh0aGlzLl9jdXN0b21EYXRhRmFsbGJhY2tUeXBlLCEwKTtpZihiKXJldHVybiBkO3ZhciBkPXRoaXMuX2V4dHJhY3REYXRhQ29tbWVudChkKSxjPW51bGwsYz1hPT09dGhpcy5fY3VzdG9tRGF0YUZhbGxiYWNrVHlwZT9kLmNvbnRlbnQ6ZC5kYXRhJiZkLmRhdGFbYV0/ZC5kYXRhW2FdOnRoaXMuX2dldERhdGEoYSwhMCk7cmV0dXJuIG51bGwhPT1jP2M6XCJcIn0sc2V0RGF0YTpmdW5jdGlvbihhLGIpe3ZhciBkPWE9PT10aGlzLl9jdXN0b21EYXRhRmFsbGJhY2tUeXBlO2QmJihiPXRoaXMuX2FwcGx5RGF0YUNvbW1lbnQoYix0aGlzLl9nZXRGYWxsYmFja1R5cGVEYXRhKCkpKTt2YXIgYz1iLGU9dGhpcy5fZGF0YVRyYW5zZmVyLiQ7dHJ5e2Uuc2V0RGF0YShhLGMpLGQmJih0aGlzLl9kYXRhVHJhbnNmZXIuXy5uYXRpdmVIdG1sQ2FjaGU9Yyl9Y2F0Y2goZil7aWYodGhpcy5faXNVbnN1cHBvcnRlZE1pbWVUeXBlRXJyb3IoZikpe2Q9XG5DS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5mYWxsYmFja0RhdGFUcmFuc2ZlcjstMT09PUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZC5fY3VzdG9tVHlwZXMsYSkmJmQuX2N1c3RvbVR5cGVzLnB1c2goYSk7dmFyIGQ9dGhpcy5fZ2V0RmFsbGJhY2tUeXBlQ29udGVudCgpLGg9dGhpcy5fZ2V0RmFsbGJhY2tUeXBlRGF0YSgpO2hbYV09Yzt0cnl7Yz10aGlzLl9hcHBseURhdGFDb21tZW50KGQsaCksZS5zZXREYXRhKHRoaXMuX2N1c3RvbURhdGFGYWxsYmFja1R5cGUsYyksdGhpcy5fZGF0YVRyYW5zZmVyLl8ubmF0aXZlSHRtbENhY2hlPWN9Y2F0Y2goayl7Yz1cIlwifX19cmV0dXJuIGN9LF9nZXREYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcy5fZGF0YVRyYW5zZmVyLl8uZGF0YTtpZighYiYmZFthXSlyZXR1cm4gZFthXTt0cnl7cmV0dXJuIHRoaXMuX2RhdGFUcmFuc2Zlci4kLmdldERhdGEoYSl9Y2F0Y2goYyl7cmV0dXJuIG51bGx9fSxfZ2V0RmFsbGJhY2tUeXBlQ29udGVudDpmdW5jdGlvbigpe3ZhciBhPVxudGhpcy5fZGF0YVRyYW5zZmVyLl8uZGF0YVt0aGlzLl9jdXN0b21EYXRhRmFsbGJhY2tUeXBlXTthfHwoYT10aGlzLl9leHRyYWN0RGF0YUNvbW1lbnQodGhpcy5fZ2V0RGF0YSh0aGlzLl9jdXN0b21EYXRhRmFsbGJhY2tUeXBlLCEwKSkuY29udGVudCk7cmV0dXJuIGF9LF9nZXRGYWxsYmFja1R5cGVEYXRhOmZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZmFsbGJhY2tEYXRhVHJhbnNmZXIuX2N1c3RvbVR5cGVzLGI9dGhpcy5fZXh0cmFjdERhdGFDb21tZW50KHRoaXMuX2dldERhdGEodGhpcy5fY3VzdG9tRGF0YUZhbGxiYWNrVHlwZSwhMCkpLmRhdGF8fHt9LGQ9dGhpcy5fZGF0YVRyYW5zZmVyLl8uZGF0YTtDS0VESVRPUi50b29scy5hcnJheS5mb3JFYWNoKGEsZnVuY3Rpb24oYSl7dm9pZCAwIT09ZFthXT9iW2FdPWRbYV06dm9pZCAwIT09YlthXSYmKGJbYV09YlthXSl9LHRoaXMpO3JldHVybiBifSxfaXNVbnN1cHBvcnRlZE1pbWVUeXBlRXJyb3I6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubWVzc2FnZSYmXG4tMSE9PWEubWVzc2FnZS5zZWFyY2goL2VsZW1lbnQgbm90IGZvdW5kL2dpKX0sX2V4dHJhY3REYXRhQ29tbWVudDpmdW5jdGlvbihhKXt2YXIgYj17ZGF0YTpudWxsLGNvbnRlbnQ6YXx8XCJcIn07aWYoYSYmMTY8YS5sZW5ndGgpe3ZhciBkOyhkPS9cXHgzYyEtLWNrZS1kYXRhOiguKj8pLS1cXHgzZS9nLmV4ZWMoYSkpJiZkWzFdJiYoYi5kYXRhPUpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KGRbMV0pKSxiLmNvbnRlbnQ9YS5yZXBsYWNlKGRbMF0sXCJcIikpfXJldHVybiBifSxfYXBwbHlEYXRhQ29tbWVudDpmdW5jdGlvbihhLGIpe3ZhciBkPVwiXCI7YiYmQ0tFRElUT1IudG9vbHMub2JqZWN0LmtleXMoYikubGVuZ3RoJiYoZD1cIlxceDNjIS0tY2tlLWRhdGE6XCIrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGIpKStcIi0tXFx4M2VcIik7cmV0dXJuIGQrKGEmJmEubGVuZ3RoP2E6XCJcIil9fX0oKSxDS0VESVRPUi5jb25maWcuY2xpcGJvYXJkX25vdGlmaWNhdGlvbkR1cmF0aW9uPVxuMUU0LENLRURJVE9SLmNvbmZpZy5jbGlwYm9hcmRfaGFuZGxlSW1hZ2VzPSEwLGZ1bmN0aW9uKCl7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJwYW5lbFwiLHtiZWZvcmVJbml0OmZ1bmN0aW9uKGEpe2EudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9QQU5FTCxDS0VESVRPUi51aS5wYW5lbC5oYW5kbGVyKX19KTtDS0VESVRPUi5VSV9QQU5FTD1cInBhbmVsXCI7Q0tFRElUT1IudWkucGFuZWw9ZnVuY3Rpb24oYSxjKXtjJiZDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxjKTtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyx7Y2xhc3NOYW1lOlwiXCIsY3NzOltdfSk7dGhpcy5pZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKTt0aGlzLmRvY3VtZW50PWE7dGhpcy5pc0ZyYW1lZD10aGlzLmZvcmNlSUZyYW1lfHx0aGlzLmNzcy5sZW5ndGg7dGhpcy5fPXtibG9ja3M6e319fTtDS0VESVRPUi51aS5wYW5lbC5oYW5kbGVyPXtjcmVhdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBDS0VESVRPUi51aS5wYW5lbChhKX19O1xudmFyIGE9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJwYW5lbFwiLCdcXHgzY2RpdiBsYW5nXFx4M2RcIntsYW5nQ29kZX1cIiBpZFxceDNkXCJ7aWR9XCIgZGlyXFx4M2R7ZGlyfSBjbGFzc1xceDNkXCJja2UgY2tlX3Jlc2V0X2FsbCB7ZWRpdG9ySWR9IGNrZV9wYW5lbCBja2VfcGFuZWwge2Nsc30gY2tlX3tkaXJ9XCIgc3R5bGVcXHgzZFwiei1pbmRleDp7ei1pbmRleH1cIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2V7ZnJhbWV9XFx4M2MvZGl2XFx4M2UnKSxmPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwicGFuZWwtZnJhbWVcIiwnXFx4M2NpZnJhbWUgaWRcXHgzZFwie2lkfVwiIGNsYXNzXFx4M2RcImNrZV9wYW5lbF9mcmFtZVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCIgZnJhbWVib3JkZXJcXHgzZFwiMFwiIHNyY1xceDNkXCJ7c3JjfVwiXFx4M2VcXHgzYy9pZnJhbWVcXHgzZScpLGU9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJwYW5lbC1mcmFtZS1pbm5lclwiLCdcXHgzYyFET0NUWVBFIGh0bWxcXHgzZVxceDNjaHRtbCBjbGFzc1xceDNkXCJja2VfcGFuZWxfY29udGFpbmVyIHtlbnZ9XCIgZGlyXFx4M2RcIntkaXJ9XCIgbGFuZ1xceDNkXCJ7bGFuZ0NvZGV9XCJcXHgzZVxceDNjaGVhZFxceDNle2Nzc31cXHgzYy9oZWFkXFx4M2VcXHgzY2JvZHkgY2xhc3NcXHgzZFwiY2tlX3tkaXJ9XCIgc3R5bGVcXHgzZFwibWFyZ2luOjA7cGFkZGluZzowXCIgb25sb2FkXFx4M2RcIntvbmxvYWR9XCJcXHgzZVxceDNjL2JvZHlcXHgzZVxceDNjL2h0bWxcXHgzZScpO1xuQ0tFRElUT1IudWkucGFuZWwucHJvdG90eXBlPXtyZW5kZXI6ZnVuY3Rpb24oYixjKXt2YXIgaz17ZWRpdG9ySWQ6Yi5pZCxpZDp0aGlzLmlkLGxhbmdDb2RlOmIubGFuZ0NvZGUsZGlyOmIubGFuZy5kaXIsY2xzOnRoaXMuY2xhc3NOYW1lLGZyYW1lOlwiXCIsZW52OkNLRURJVE9SLmVudi5jc3NDbGFzcyxcInotaW5kZXhcIjpiLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgrMX07dGhpcy5nZXRIb2xkZXJFbGVtZW50PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmhvbGRlcjtpZighYSl7aWYodGhpcy5pc0ZyYW1lZCl7dmFyIGE9dGhpcy5kb2N1bWVudC5nZXRCeUlkKHRoaXMuaWQrXCJfZnJhbWVcIiksYj1hLmdldFBhcmVudCgpLGE9YS5nZXRGcmFtZURvY3VtZW50KCk7Q0tFRElUT1IuZW52LmlPUyYmYi5zZXRTdHlsZXMoe292ZXJmbG93Olwic2Nyb2xsXCIsXCItd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZ1wiOlwidG91Y2hcIn0pO2I9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oQ0tFRElUT1IudG9vbHMuYmluZChmdW5jdGlvbigpe3RoaXMuaXNMb2FkZWQ9XG4hMDtpZih0aGlzLm9uTG9hZCl0aGlzLm9uTG9hZCgpfSx0aGlzKSk7YS53cml0ZShlLm91dHB1dChDS0VESVRPUi50b29scy5leHRlbmQoe2NzczpDS0VESVRPUi50b29scy5idWlsZFN0eWxlSHRtbCh0aGlzLmNzcyksb25sb2FkOlwid2luZG93LnBhcmVudC5DS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oXCIrYitcIik7XCJ9LGspKSk7YS5nZXRXaW5kb3coKS4kLkNLRURJVE9SPUNLRURJVE9SO2Eub24oXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhLmdldEtleXN0cm9rZSgpLGQ9dGhpcy5kb2N1bWVudC5nZXRCeUlkKHRoaXMuaWQpLmdldEF0dHJpYnV0ZShcImRpclwiKTtpZihcImlucHV0XCIhPT1hLmRhdGEuZ2V0VGFyZ2V0KCkuZ2V0TmFtZSgpfHwzNyE9PWImJjM5IT09Yil0aGlzLl8ub25LZXlEb3duJiYhMT09PXRoaXMuXy5vbktleURvd24oYik/XCJpbnB1dFwiPT09YS5kYXRhLmdldFRhcmdldCgpLmdldE5hbWUoKSYmMzI9PT1ifHxhLmRhdGEucHJldmVudERlZmF1bHQoKTpcbigyNz09Ynx8Yj09KFwicnRsXCI9PWQ/Mzk6MzcpKSYmdGhpcy5vbkVzY2FwZSYmITE9PT10aGlzLm9uRXNjYXBlKGIpJiZhLmRhdGEucHJldmVudERlZmF1bHQoKX0sdGhpcyk7YT1hLmdldEJvZHkoKTthLnVuc2VsZWN0YWJsZSgpO0NLRURJVE9SLmVudi5haXImJkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbihiKX1lbHNlIGE9dGhpcy5kb2N1bWVudC5nZXRCeUlkKHRoaXMuaWQpO3RoaXMuXy5ob2xkZXI9YX1yZXR1cm4gYX07aWYodGhpcy5pc0ZyYW1lZCl7dmFyIGw9Q0tFRElUT1IuZW52LmFpcj9cImphdmFzY3JpcHQ6dm9pZCgwKVwiOkNLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5lZGdlP1wiamF2YXNjcmlwdDp2b2lkKGZ1bmN0aW9uKCl7XCIrZW5jb2RlVVJJQ29tcG9uZW50KFwiZG9jdW1lbnQub3BlbigpOyhcIitDS0VESVRPUi50b29scy5maXhEb21haW4rXCIpKCk7ZG9jdW1lbnQuY2xvc2UoKTtcIikrXCJ9KCkpXCI6XCJcIjtrLmZyYW1lPWYub3V0cHV0KHtpZDp0aGlzLmlkK1wiX2ZyYW1lXCIsXG5zcmM6bH0pfWw9YS5vdXRwdXQoayk7YyYmYy5wdXNoKGwpO3JldHVybiBsfSxhZGRCbG9jazpmdW5jdGlvbihhLGMpe2M9dGhpcy5fLmJsb2Nrc1thXT1jIGluc3RhbmNlb2YgQ0tFRElUT1IudWkucGFuZWwuYmxvY2s/YzpuZXcgQ0tFRElUT1IudWkucGFuZWwuYmxvY2sodGhpcy5nZXRIb2xkZXJFbGVtZW50KCksYyk7dGhpcy5fLmN1cnJlbnRCbG9ja3x8dGhpcy5zaG93QmxvY2soYSk7cmV0dXJuIGN9LGdldEJsb2NrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8uYmxvY2tzW2FdfSxzaG93QmxvY2s6ZnVuY3Rpb24oYSl7YT10aGlzLl8uYmxvY2tzW2FdO3ZhciBjPXRoaXMuXy5jdXJyZW50QmxvY2ssZT0hdGhpcy5mb3JjZUlGcmFtZXx8Q0tFRElUT1IuZW52LmllP3RoaXMuXy5ob2xkZXI6dGhpcy5kb2N1bWVudC5nZXRCeUlkKHRoaXMuaWQrXCJfZnJhbWVcIik7YyYmYy5oaWRlKCk7dGhpcy5fLmN1cnJlbnRCbG9jaz1hO0NLRURJVE9SLmZpcmUoXCJhcmlhV2lkZ2V0XCIsZSk7YS5fLmZvY3VzSW5kZXg9XG4tMTt0aGlzLl8ub25LZXlEb3duPWEub25LZXlEb3duJiZDS0VESVRPUi50b29scy5iaW5kKGEub25LZXlEb3duLGEpO2Euc2hvdygpO3JldHVybiBhfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50JiZ0aGlzLmVsZW1lbnQucmVtb3ZlKCl9fTtDS0VESVRPUi51aS5wYW5lbC5ibG9jaz1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihhLGMpe3RoaXMuZWxlbWVudD1hLmFwcGVuZChhLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudChcImRpdlwiLHthdHRyaWJ1dGVzOnt0YWJpbmRleDotMSxcImNsYXNzXCI6XCJja2VfcGFuZWxfYmxvY2tcIn0sc3R5bGVzOntkaXNwbGF5Olwibm9uZVwifX0pKTtjJiZDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxjKTt0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlcyh7cm9sZTp0aGlzLmF0dHJpYnV0ZXMucm9sZXx8XCJwcmVzZW50YXRpb25cIixcImFyaWEtbGFiZWxcIjp0aGlzLmF0dHJpYnV0ZXNbXCJhcmlhLWxhYmVsXCJdLHRpdGxlOnRoaXMuYXR0cmlidXRlcy50aXRsZXx8XG50aGlzLmF0dHJpYnV0ZXNbXCJhcmlhLWxhYmVsXCJdfSk7dGhpcy5rZXlzPXt9O3RoaXMuXy5mb2N1c0luZGV4PS0xO3RoaXMuZWxlbWVudC5kaXNhYmxlQ29udGV4dE1lbnUoKX0sXzp7bWFya0l0ZW06ZnVuY3Rpb24oYSl7LTEhPWEmJihhPXRoaXMuXy5nZXRJdGVtcygpLmdldEl0ZW0odGhpcy5fLmZvY3VzSW5kZXg9YSksQ0tFRElUT1IuZW52LndlYmtpdCYmYS5nZXREb2N1bWVudCgpLmdldFdpbmRvdygpLmZvY3VzKCksYS5mb2N1cygpLHRoaXMub25NYXJrJiZ0aGlzLm9uTWFyayhhKSl9LG1hcmtGaXJzdERpc3BsYXllZDpmdW5jdGlvbihhKXtmb3IodmFyIGM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcIm5vbmVcIj09YS5nZXRTdHlsZShcImRpc3BsYXlcIil9LGU9dGhpcy5fLmdldEl0ZW1zKCksZixtLGQ9ZS5jb3VudCgpLTE7MDw9ZDtkLS0paWYoZj1lLmdldEl0ZW0oZCksZi5nZXRBc2NlbmRhbnQoYyl8fChtPWYsdGhpcy5fLmZvY3VzSW5kZXg9XG5kKSxcInRydWVcIj09Zi5nZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIpKXttPWY7dGhpcy5fLmZvY3VzSW5kZXg9ZDticmVha31tJiYoYSYmYSgpLENLRURJVE9SLmVudi53ZWJraXQmJm0uZ2V0RG9jdW1lbnQoKS5nZXRXaW5kb3coKS5mb2N1cygpLG0uZm9jdXMoKSx0aGlzLm9uTWFyayYmdGhpcy5vbk1hcmsobSkpfSxnZXRJdGVtczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuZmluZChcImEsaW5wdXRcIil9fSxwcm90bzp7c2hvdzpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5zZXRTdHlsZShcImRpc3BsYXlcIixcIlwiKX0saGlkZTpmdW5jdGlvbigpe3RoaXMub25IaWRlJiYhMD09PXRoaXMub25IaWRlLmNhbGwodGhpcyl8fHRoaXMuZWxlbWVudC5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIil9LG9uS2V5RG93bjpmdW5jdGlvbihhLGMpe3ZhciBlPXRoaXMua2V5c1thXTtzd2l0Y2goZSl7Y2FzZSBcIm5leHRcIjpmb3IodmFyIGY9dGhpcy5fLmZvY3VzSW5kZXgsZT10aGlzLl8uZ2V0SXRlbXMoKSxcbm07bT1lLmdldEl0ZW0oKytmKTspaWYobS5nZXRBdHRyaWJ1dGUoXCJfY2tlX2ZvY3VzXCIpJiZtLiQub2Zmc2V0V2lkdGgpe3RoaXMuXy5mb2N1c0luZGV4PWY7bS5mb2N1cyghMCk7YnJlYWt9cmV0dXJuIG18fGM/ITE6KHRoaXMuXy5mb2N1c0luZGV4PS0xLHRoaXMub25LZXlEb3duKGEsMSkpO2Nhc2UgXCJwcmV2XCI6Zj10aGlzLl8uZm9jdXNJbmRleDtmb3IoZT10aGlzLl8uZ2V0SXRlbXMoKTswPGYmJihtPWUuZ2V0SXRlbSgtLWYpKTspe2lmKG0uZ2V0QXR0cmlidXRlKFwiX2NrZV9mb2N1c1wiKSYmbS4kLm9mZnNldFdpZHRoKXt0aGlzLl8uZm9jdXNJbmRleD1mO20uZm9jdXMoITApO2JyZWFrfW09bnVsbH1yZXR1cm4gbXx8Yz8hMToodGhpcy5fLmZvY3VzSW5kZXg9ZS5jb3VudCgpLHRoaXMub25LZXlEb3duKGEsMSkpO2Nhc2UgXCJjbGlja1wiOmNhc2UgXCJtb3VzZXVwXCI6cmV0dXJuIGY9dGhpcy5fLmZvY3VzSW5kZXgsKG09MDw9ZiYmdGhpcy5fLmdldEl0ZW1zKCkuZ2V0SXRlbShmKSkmJlxubS5maXJlRXZlbnRIYW5kbGVyKGUse2J1dHRvbjpDS0VESVRPUi50b29scy5ub3JtYWxpemVNb3VzZUJ1dHRvbihDS0VESVRPUi5NT1VTRV9CVVRUT05fTEVGVCwhMCl9KSwhMX1yZXR1cm4hMH19fSl9KCksQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJmbG9hdHBhbmVsXCIse3JlcXVpcmVzOlwicGFuZWxcIn0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIsYyxrLGwpe2w9Q0tFRElUT1IudG9vbHMuZ2VuS2V5KGIuZ2V0VW5pcXVlSWQoKSxjLmdldFVuaXF1ZUlkKCksYS5sYW5nLmRpcixhLnVpQ29sb3J8fFwiXCIsay5jc3N8fFwiXCIsbHx8XCJcIik7dmFyIG09ZltsXTttfHwobT1mW2xdPW5ldyBDS0VESVRPUi51aS5wYW5lbChiLGspLG0uZWxlbWVudD1jLmFwcGVuZChDS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChtLnJlbmRlcihhKSxiKSksbS5lbGVtZW50LnNldFN0eWxlcyh7ZGlzcGxheTpcIm5vbmVcIixwb3NpdGlvbjpcImFic29sdXRlXCJ9KSk7cmV0dXJuIG19dmFyIGY9e307Q0tFRElUT1IudWkuZmxvYXRQYW5lbD1cbkNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKGUsYixjLGYpe2Z1bmN0aW9uIGwoKXtnLmhpZGUoKX1jLmZvcmNlSUZyYW1lPTE7Yy50b29sYmFyUmVsYXRlZCYmZS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSYmKGI9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChcImNrZV9cIitlLm5hbWUpKTt2YXIgbT1iLmdldERvY3VtZW50KCk7Zj1hKGUsbSxiLGMsZnx8MCk7dmFyIGQ9Zi5lbGVtZW50LGg9ZC5nZXRGaXJzdCgpLGc9dGhpcztkLmRpc2FibGVDb250ZXh0TWVudSgpO3RoaXMuZWxlbWVudD1kO3RoaXMuXz17ZWRpdG9yOmUscGFuZWw6ZixwYXJlbnRFbGVtZW50OmIsZGVmaW5pdGlvbjpjLGRvY3VtZW50Om0saWZyYW1lOmgsY2hpbGRyZW46W10sZGlyOmUubGFuZy5kaXIsc2hvd0Jsb2NrUGFyYW1zOm51bGwsbWFya0ZpcnN0OnZvaWQgMCE9PWMubWFya0ZpcnN0P2MubWFya0ZpcnN0OiEwfTtlLm9uKFwibW9kZVwiLGwpO2Uub24oXCJyZXNpemVcIixcbmwpO20uZ2V0V2luZG93KCkub24oXCJyZXNpemVcIixmdW5jdGlvbigpe3RoaXMucmVwb3NpdGlvbigpfSx0aGlzKX0scHJvdG86e2FkZEJsb2NrOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuXy5wYW5lbC5hZGRCbG9jayhhLGIpfSxhZGRMaXN0QmxvY2s6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fLnBhbmVsLmFkZExpc3RCbG9jayhhLGIpfSxnZXRCbG9jazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLnBhbmVsLmdldEJsb2NrKGEpfSxzaG93QmxvY2s6ZnVuY3Rpb24oYSxiLGMsZixsLG0pe3ZhciBkPXRoaXMuXy5wYW5lbCxoPWQuc2hvd0Jsb2NrKGEpO3RoaXMuXy5zaG93QmxvY2tQYXJhbXM9W10uc2xpY2UuY2FsbChhcmd1bWVudHMpO3RoaXMuYWxsb3dCbHVyKCExKTt2YXIgZz10aGlzLl8uZWRpdG9yLmVkaXRhYmxlKCk7dGhpcy5fLnJldHVybkZvY3VzPWcuaGFzRm9jdXM/ZzpuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoQ0tFRElUT1IuZG9jdW1lbnQuJC5hY3RpdmVFbGVtZW50KTtcbnRoaXMuXy5oaWRlVGltZW91dD0wO3ZhciBuPXRoaXMuZWxlbWVudCxnPXRoaXMuXy5pZnJhbWUsZz1DS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuZWRnZT9nOm5ldyBDS0VESVRPUi5kb20ud2luZG93KGcuJC5jb250ZW50V2luZG93KSx3PW4uZ2V0RG9jdW1lbnQoKSx4PXRoaXMuXy5wYXJlbnRFbGVtZW50LmdldFBvc2l0aW9uZWRBbmNlc3RvcigpLHI9Yi5nZXREb2N1bWVudFBvc2l0aW9uKHcpLHc9eD94LmdldERvY3VtZW50UG9zaXRpb24odyk6e3g6MCx5OjB9LHA9XCJydGxcIj09dGhpcy5fLmRpcix1PXIueCsoZnx8MCktdy54LHo9ci55KyhsfHwwKS13Lnk7IXB8fDEhPWMmJjQhPWM/cHx8MiE9YyYmMyE9Y3x8KHUrPWIuJC5vZmZzZXRXaWR0aC0xKTp1Kz1iLiQub2Zmc2V0V2lkdGg7aWYoMz09Y3x8ND09Yyl6Kz1iLiQub2Zmc2V0SGVpZ2h0LTE7dGhpcy5fLnBhbmVsLl8ub2Zmc2V0UGFyZW50SWQ9Yi5nZXRJZCgpO24uc2V0U3R5bGVzKHt0b3A6eitcInB4XCIsbGVmdDowLFxuZGlzcGxheTpcIlwifSk7bi5zZXRPcGFjaXR5KDApO24uZ2V0Rmlyc3QoKS5yZW1vdmVTdHlsZShcIndpZHRoXCIpO3RoaXMuXy5lZGl0b3IuZm9jdXNNYW5hZ2VyLmFkZChnKTt0aGlzLl8uYmx1clNldHx8KENLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9ITAsZy5vbihcImJsdXJcIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7ZGVsZXRlIHRoaXMuXy5yZXR1cm5Gb2N1czt0aGlzLmhpZGUoKX10aGlzLmFsbG93Qmx1cigpJiZhLmRhdGEuZ2V0UGhhc2UoKT09Q0tFRElUT1IuRVZFTlRfUEhBU0VfQVRfVEFSR0VUJiZ0aGlzLnZpc2libGUmJiF0aGlzLl8uYWN0aXZlQ2hpbGQmJihDS0VESVRPUi5lbnYuaU9TP3RoaXMuXy5oaWRlVGltZW91dHx8KHRoaXMuXy5oaWRlVGltZW91dD1DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGIsMCx0aGlzKSk6Yi5jYWxsKHRoaXMpKX0sdGhpcyksZy5vbihcImZvY3VzXCIsZnVuY3Rpb24oKXt0aGlzLl8uZm9jdXNlZD0hMDt0aGlzLmhpZGVDaGlsZCgpO3RoaXMuYWxsb3dCbHVyKCEwKX0sXG50aGlzKSxDS0VESVRPUi5lbnYuaU9TJiYoZy5vbihcInRvdWNoc3RhcnRcIixmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl8uaGlkZVRpbWVvdXQpfSx0aGlzKSxnLm9uKFwidG91Y2hlbmRcIixmdW5jdGlvbigpe3RoaXMuXy5oaWRlVGltZW91dD0wO3RoaXMuZm9jdXMoKX0sdGhpcykpLENLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9ITEsdGhpcy5fLmJsdXJTZXQ9MSk7ZC5vbkVzY2FwZT1DS0VESVRPUi50b29scy5iaW5kKGZ1bmN0aW9uKGEpe2lmKHRoaXMub25Fc2NhcGUmJiExPT09dGhpcy5vbkVzY2FwZShhKSlyZXR1cm4hMX0sdGhpcyk7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnRvb2xzLmJpbmQoZnVuY3Rpb24oKXt2YXIgYT1uO2EucmVtb3ZlU3R5bGUoXCJ3aWR0aFwiKTtpZihoLmF1dG9TaXplKXt2YXIgYj1oLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKSxiPShDS0VESVRPUi5lbnYud2Via2l0fHxDS0VESVRPUi5lbnYuZWRnZT9cbmguZWxlbWVudDpiLmdldEJvZHkoKSkuJC5zY3JvbGxXaWR0aDtDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5xdWlya3MmJjA8YiYmKGIrPShhLiQub2Zmc2V0V2lkdGh8fDApLShhLiQuY2xpZW50V2lkdGh8fDApKzMpO2Euc2V0U3R5bGUoXCJ3aWR0aFwiLGIrMTArXCJweFwiKTtiPWguZWxlbWVudC4kLnNjcm9sbEhlaWdodDtDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5xdWlya3MmJjA8YiYmKGIrPShhLiQub2Zmc2V0SGVpZ2h0fHwwKS0oYS4kLmNsaWVudEhlaWdodHx8MCkrMyk7YS5zZXRTdHlsZShcImhlaWdodFwiLGIrXCJweFwiKTtkLl8uY3VycmVudEJsb2NrLmVsZW1lbnQuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpLnJlbW92ZVN0eWxlKFwiZGlzcGxheVwiKX1lbHNlIGEucmVtb3ZlU3R5bGUoXCJoZWlnaHRcIik7cCYmKHUtPW4uJC5vZmZzZXRXaWR0aCk7bi5zZXRTdHlsZShcImxlZnRcIix1K1wicHhcIik7dmFyIGI9ZC5lbGVtZW50LmdldFdpbmRvdygpLGE9bi4kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuYj1iLmdldFZpZXdQYW5lU2l6ZSgpLGM9YS53aWR0aHx8YS5yaWdodC1hLmxlZnQsZT1hLmhlaWdodHx8YS5ib3R0b20tYS50b3AsZz1wP2EucmlnaHQ6Yi53aWR0aC1hLmxlZnQsZj1wP2Iud2lkdGgtYS5yaWdodDphLmxlZnQ7cD9nPGMmJih1PWY+Yz91K2M6Yi53aWR0aD5jP3UtYS5sZWZ0OnUtYS5yaWdodCtiLndpZHRoKTpnPGMmJih1PWY+Yz91LWM6Yi53aWR0aD5jP3UtYS5yaWdodCtiLndpZHRoOnUtYS5sZWZ0KTtjPWEudG9wO2IuaGVpZ2h0LWEudG9wPGUmJih6PWM+ZT96LWU6Yi5oZWlnaHQ+ZT96LWEuYm90dG9tK2IuaGVpZ2h0OnotYS50b3ApO0NLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5lZGdlJiYoKGI9YT1uLiQub2Zmc2V0UGFyZW50JiZuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQobi4kLm9mZnNldFBhcmVudCkpJiZcImh0bWxcIj09Yi5nZXROYW1lKCkmJihiPWIuZ2V0RG9jdW1lbnQoKS5nZXRCb2R5KCkpLGImJlwicnRsXCI9PWIuZ2V0Q29tcHV0ZWRTdHlsZShcImRpcmVjdGlvblwiKSYmXG4odT1DS0VESVRPUi5lbnYuaWU4Q29tcGF0P3UtMipuLmdldERvY3VtZW50KCkuZ2V0RG9jdW1lbnRFbGVtZW50KCkuJC5zY3JvbGxMZWZ0OnUtKGEuJC5zY3JvbGxXaWR0aC1hLiQuY2xpZW50V2lkdGgpKSk7dmFyIGE9bi5nZXRGaXJzdCgpLGs7KGs9YS5nZXRDdXN0b21EYXRhKFwiYWN0aXZlUGFuZWxcIikpJiZrLm9uSGlkZSYmay5vbkhpZGUuY2FsbCh0aGlzLDEpO2Euc2V0Q3VzdG9tRGF0YShcImFjdGl2ZVBhbmVsXCIsdGhpcyk7bi5zZXRTdHlsZXMoe3RvcDp6K1wicHhcIixsZWZ0OnUrXCJweFwifSk7bi5zZXRPcGFjaXR5KDEpO20mJm0oKX0sdGhpcyk7ZC5pc0xvYWRlZD9hKCk6ZC5vbkxvYWQ9YTtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IuZW52LndlYmtpdCYmQ0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0U2Nyb2xsUG9zaXRpb24oKS55O3RoaXMuZm9jdXMoKTtoLmVsZW1lbnQuZm9jdXMoKTtDS0VESVRPUi5lbnYud2Via2l0JiZcbihDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuJC5zY3JvbGxUb3A9YSk7dGhpcy5hbGxvd0JsdXIoITApO3RoaXMuXy5tYXJrRmlyc3QmJihDS0VESVRPUi5lbnYuaWU/Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe2gubWFya0ZpcnN0RGlzcGxheWVkP2gubWFya0ZpcnN0RGlzcGxheWVkKCk6aC5fLm1hcmtGaXJzdERpc3BsYXllZCgpfSwwKTpoLm1hcmtGaXJzdERpc3BsYXllZD9oLm1hcmtGaXJzdERpc3BsYXllZCgpOmguXy5tYXJrRmlyc3REaXNwbGF5ZWQoKSk7dGhpcy5fLmVkaXRvci5maXJlKFwicGFuZWxTaG93XCIsdGhpcyl9LDAsdGhpcyl9LENLRURJVE9SLmVudi5haXI/MjAwOjAsdGhpcyk7dGhpcy52aXNpYmxlPTE7dGhpcy5vblNob3cmJnRoaXMub25TaG93LmNhbGwodGhpcyl9LHJlcG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uc2hvd0Jsb2NrUGFyYW1zO3RoaXMudmlzaWJsZSYmdGhpcy5fLnNob3dCbG9ja1BhcmFtcyYmKHRoaXMuaGlkZSgpLFxudGhpcy5zaG93QmxvY2suYXBwbHkodGhpcyxhKSl9LGZvY3VzOmZ1bmN0aW9uKCl7aWYoQ0tFRElUT1IuZW52LndlYmtpdCl7dmFyIGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QWN0aXZlKCk7YSYmIWEuZXF1YWxzKHRoaXMuXy5pZnJhbWUpJiZhLiQuYmx1cigpfSh0aGlzLl8ubGFzdEZvY3VzZWR8fHRoaXMuXy5pZnJhbWUuZ2V0RnJhbWVEb2N1bWVudCgpLmdldFdpbmRvdygpKS5mb2N1cygpfSxibHVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmlmcmFtZS5nZXRGcmFtZURvY3VtZW50KCkuZ2V0QWN0aXZlKCk7YSYmYS5pcyhcImFcIikmJih0aGlzLl8ubGFzdEZvY3VzZWQ9YSl9LGhpZGU6ZnVuY3Rpb24oYSl7aWYodGhpcy52aXNpYmxlJiYoIXRoaXMub25IaWRlfHwhMCE9PXRoaXMub25IaWRlLmNhbGwodGhpcykpKXt0aGlzLmhpZGVDaGlsZCgpO0NLRURJVE9SLmVudi5nZWNrbyYmdGhpcy5fLmlmcmFtZS5nZXRGcmFtZURvY3VtZW50KCkuJC5hY3RpdmVFbGVtZW50LmJsdXIoKTtcbnRoaXMuZWxlbWVudC5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIik7dGhpcy52aXNpYmxlPTA7dGhpcy5lbGVtZW50LmdldEZpcnN0KCkucmVtb3ZlQ3VzdG9tRGF0YShcImFjdGl2ZVBhbmVsXCIpO2lmKGE9YSYmdGhpcy5fLnJldHVybkZvY3VzKUNLRURJVE9SLmVudi53ZWJraXQmJmEudHlwZSYmYS5nZXRXaW5kb3coKS4kLmZvY3VzKCksYS5mb2N1cygpO2RlbGV0ZSB0aGlzLl8ubGFzdEZvY3VzZWQ7dGhpcy5fLnNob3dCbG9ja1BhcmFtcz1udWxsO3RoaXMuXy5lZGl0b3IuZmlyZShcInBhbmVsSGlkZVwiLHRoaXMpfX0sYWxsb3dCbHVyOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuXy5wYW5lbDt2b2lkIDAhPT1hJiYoYi5hbGxvd0JsdXI9YSk7cmV0dXJuIGIuYWxsb3dCbHVyfSxzaG93QXNDaGlsZDpmdW5jdGlvbihhLGIsYyxmLGwsbSl7aWYodGhpcy5fLmFjdGl2ZUNoaWxkIT1hfHxhLl8ucGFuZWwuXy5vZmZzZXRQYXJlbnRJZCE9Yy5nZXRJZCgpKXRoaXMuaGlkZUNoaWxkKCksYS5vbkhpZGU9XG5DS0VESVRPUi50b29scy5iaW5kKGZ1bmN0aW9uKCl7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuXy5mb2N1c2VkfHx0aGlzLmhpZGUoKX0sMCx0aGlzKX0sdGhpcyksdGhpcy5fLmFjdGl2ZUNoaWxkPWEsdGhpcy5fLmZvY3VzZWQ9ITEsYS5zaG93QmxvY2soYixjLGYsbCxtKSx0aGlzLmJsdXIoKSwoQ0tFRElUT1IuZW52LmllN0NvbXBhdHx8Q0tFRElUT1IuZW52LmllNkNvbXBhdCkmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmVsZW1lbnQuZ2V0Q2hpbGQoMCkuJC5zdHlsZS5jc3NUZXh0Kz1cIlwifSwxMDApfSxoaWRlQ2hpbGQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fLmFjdGl2ZUNoaWxkO2ImJihkZWxldGUgYi5vbkhpZGUsZGVsZXRlIHRoaXMuXy5hY3RpdmVDaGlsZCxiLmhpZGUoKSxhJiZ0aGlzLmZvY3VzKCkpfX19KTtDS0VESVRPUi5vbihcImluc3RhbmNlRGVzdHJveWVkXCIsZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi50b29scy5pc0VtcHR5KENLRURJVE9SLmluc3RhbmNlcyksXG5iO2ZvcihiIGluIGYpe3ZhciBjPWZbYl07YT9jLmRlc3Ryb3koKTpjLmVsZW1lbnQuaGlkZSgpfWEmJihmPXt9KX0pfSgpLENLRURJVE9SLnBsdWdpbnMuYWRkKFwibWVudVwiLHtyZXF1aXJlczpcImZsb2F0cGFuZWxcIixiZWZvcmVJbml0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgZj1hLmNvbmZpZy5tZW51X2dyb3Vwcy5zcGxpdChcIixcIiksZT1hLl8ubWVudUdyb3Vwcz17fSxiPWEuXy5tZW51SXRlbXM9e30sYz0wO2M8Zi5sZW5ndGg7YysrKWVbZltjXV09YysxO2EuYWRkTWVudUdyb3VwPWZ1bmN0aW9uKGEsYil7ZVthXT1ifHwxMDB9O2EuYWRkTWVudUl0ZW09ZnVuY3Rpb24oYSxjKXtlW2MuZ3JvdXBdJiYoYlthXT1uZXcgQ0tFRElUT1IubWVudUl0ZW0odGhpcyxhLGMpKX07YS5hZGRNZW51SXRlbXM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpdGhpcy5hZGRNZW51SXRlbShiLGFbYl0pfTthLmdldE1lbnVJdGVtPWZ1bmN0aW9uKGEpe3JldHVybiBiW2FdfTthLnJlbW92ZU1lbnVJdGVtPVxuZnVuY3Rpb24oYSl7ZGVsZXRlIGJbYV19fX0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXthLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5ncm91cDxiLmdyb3VwPy0xOmEuZ3JvdXA+Yi5ncm91cD8xOmEub3JkZXI8Yi5vcmRlcj8tMTphLm9yZGVyPmIub3JkZXI/MTowfSl9dmFyIGY9J1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfbWVudWl0ZW1cIlxceDNlXFx4M2NhIGlkXFx4M2RcIntpZH1cIiBjbGFzc1xceDNkXCJja2VfbWVudWJ1dHRvbiBja2VfbWVudWJ1dHRvbl9fe25hbWV9IGNrZV9tZW51YnV0dG9uX3tzdGF0ZX0ge2Nsc31cIiBocmVmXFx4M2RcIntocmVmfVwiIHRpdGxlXFx4M2RcInt0aXRsZX1cIiB0YWJpbmRleFxceDNkXCItMVwiIF9ja2VfZm9jdXNcXHgzZDEgaGlkZWZvY3VzXFx4M2RcInRydWVcIiByb2xlXFx4M2RcIntyb2xlfVwiIGFyaWEtbGFiZWxcXHgzZFwie2F0dHJMYWJlbH1cIiBhcmlhLWRlc2NyaWJlZGJ5XFx4M2RcIntpZH1fZGVzY3JpcHRpb25cIiBhcmlhLWhhc3BvcHVwXFx4M2RcIntoYXNQb3B1cH1cIiBhcmlhLWRpc2FibGVkXFx4M2RcIntkaXNhYmxlZH1cIiB7YXJpYUNoZWNrZWR9IGRyYWdnYWJsZVxceDNkXCJmYWxzZVwiJyxcbmU9XCJcIjtDS0VESVRPUi5lbnYuZ2Vja28mJkNLRURJVE9SLmVudi5tYWMmJihmKz0nIG9ua2V5cHJlc3NcXHgzZFwicmV0dXJuIGZhbHNlO1wiJyk7Q0tFRElUT1IuZW52LmdlY2tvJiYoZis9JyBvbmJsdXJcXHgzZFwidGhpcy5zdHlsZS5jc3NUZXh0IFxceDNkIHRoaXMuc3R5bGUuY3NzVGV4dDtcIiBvbmRyYWdzdGFydFxceDNkXCJyZXR1cm4gZmFsc2U7XCInKTtDS0VESVRPUi5lbnYuaWUmJihlPSdyZXR1cm4gZmFsc2U7XCIgb25tb3VzZXVwXFx4M2RcIkNLRURJVE9SLnRvb2xzLmdldE1vdXNlQnV0dG9uKGV2ZW50KVxceDNkXFx4M2RcXHgzZENLRURJVE9SLk1PVVNFX0JVVFRPTl9MRUZUXFx4MjZcXHgyNicpO3ZhciBmPWYrKCcgb25tb3VzZW92ZXJcXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtob3ZlckZufSx7aW5kZXh9KTtcIiBvbm1vdXNlb3V0XFx4M2RcIkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7bW92ZU91dEZufSx7aW5kZXh9KTtcIiBvbmNsaWNrXFx4M2RcIicrZSsnQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtjbGlja0ZufSx7aW5kZXh9KTsgcmV0dXJuIGZhbHNlO1wiXFx4M2UnKStcbidcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX21lbnVidXR0b25faW5uZXJcIlxceDNlXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9tZW51YnV0dG9uX2ljb25cIlxceDNlXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9idXR0b25faWNvbiBja2VfYnV0dG9uX197aWNvbk5hbWV9X2ljb25cIiBzdHlsZVxceDNkXCJ7aWNvblN0eWxlfVwiXFx4M2VcXHgzYy9zcGFuXFx4M2VcXHgzYy9zcGFuXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX21lbnVidXR0b25fbGFiZWxcIlxceDNle2xhYmVsfVxceDNjL3NwYW5cXHgzZXtzaG9ydGN1dEh0bWx9e2Fycm93SHRtbH1cXHgzYy9zcGFuXFx4M2VcXHgzYy9hXFx4M2VcXHgzY3NwYW4gaWRcXHgzZFwie2lkfV9kZXNjcmlwdGlvblwiIGNsYXNzXFx4M2RcImNrZV92b2ljZV9sYWJlbFwiIGFyaWEtaGlkZGVuXFx4M2RcImZhbHNlXCJcXHgzZXthcmlhU2hvcnRjdXR9XFx4M2Mvc3BhblxceDNlXFx4M2Mvc3BhblxceDNlJyxiPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwibWVudUl0ZW1cIixmKSxjPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwibWVudUFycm93XCIsXG4nXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9tZW51YXJyb3dcIlxceDNlXFx4M2NzcGFuXFx4M2V7bGFiZWx9XFx4M2Mvc3BhblxceDNlXFx4M2Mvc3BhblxceDNlJyksaz1DS0VESVRPUi5hZGRUZW1wbGF0ZShcIm1lbnVTaG9ydGN1dFwiLCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX21lbnVidXR0b25fbGFiZWwgY2tlX21lbnVidXR0b25fc2hvcnRjdXRcIlxceDNle3Nob3J0Y3V0fVxceDNjL3NwYW5cXHgzZScpO0NLRURJVE9SLm1lbnU9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYSxiKXtiPXRoaXMuXy5kZWZpbml0aW9uPWJ8fHt9O3RoaXMuaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCk7dGhpcy5lZGl0b3I9YTt0aGlzLml0ZW1zPVtdO3RoaXMuXy5saXN0ZW5lcnM9W107dGhpcy5fLmxldmVsPWIubGV2ZWx8fDE7dmFyIGQ9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGIucGFuZWwse2NzczpbQ0tFRElUT1Iuc2tpbi5nZXRQYXRoKFwiZWRpdG9yXCIpXSxsZXZlbDp0aGlzLl8ubGV2ZWwtXG4xLGJsb2NrOnt9fSksYz1kLmJsb2NrLmF0dHJpYnV0ZXM9ZC5hdHRyaWJ1dGVzfHx7fTshYy5yb2xlJiYoYy5yb2xlPVwibWVudVwiKTt0aGlzLl8ucGFuZWxEZWZpbml0aW9uPWR9LF86e29uU2hvdzpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yLmdldFNlbGVjdGlvbigpLGI9YSYmYS5nZXRTdGFydEVsZW1lbnQoKSxkPXRoaXMuZWRpdG9yLmVsZW1lbnRQYXRoKCksYz10aGlzLl8ubGlzdGVuZXJzO3RoaXMucmVtb3ZlQWxsKCk7Zm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBmPWNbZV0oYixhLGQpO2lmKGYpZm9yKHZhciBrIGluIGYpe3ZhciB4PXRoaXMuZWRpdG9yLmdldE1lbnVJdGVtKGspOyF4fHx4LmNvbW1hbmQmJiF0aGlzLmVkaXRvci5nZXRDb21tYW5kKHguY29tbWFuZCkuc3RhdGV8fCh4LnN0YXRlPWZba10sdGhpcy5hZGQoeCkpfX19LG9uQ2xpY2s6ZnVuY3Rpb24oYSl7dGhpcy5oaWRlKCk7aWYoYS5vbkNsaWNrKWEub25DbGljaygpO2Vsc2UgYS5jb21tYW5kJiZcbnRoaXMuZWRpdG9yLmV4ZWNDb21tYW5kKGEuY29tbWFuZCl9LG9uRXNjYXBlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucGFyZW50O2I/Yi5fLnBhbmVsLmhpZGVDaGlsZCgxKToyNz09YSYmdGhpcy5oaWRlKDEpO3JldHVybiExfSxvbkhpZGU6ZnVuY3Rpb24oKXt0aGlzLm9uSGlkZSYmdGhpcy5vbkhpZGUoKX0sc2hvd1N1Yk1lbnU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fLnN1Yk1lbnUsZD10aGlzLml0ZW1zW2FdO2lmKGQ9ZC5nZXRJdGVtcyYmZC5nZXRJdGVtcygpKXtiP2IucmVtb3ZlQWxsKCk6KGI9dGhpcy5fLnN1Yk1lbnU9bmV3IENLRURJVE9SLm1lbnUodGhpcy5lZGl0b3IsQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LHRoaXMuXy5kZWZpbml0aW9uLHtsZXZlbDp0aGlzLl8ubGV2ZWwrMX0sITApKSxiLnBhcmVudD10aGlzLGIuXy5vbkNsaWNrPUNLRURJVE9SLnRvb2xzLmJpbmQodGhpcy5fLm9uQ2xpY2ssdGhpcykpO2Zvcih2YXIgYyBpbiBkKXt2YXIgZT10aGlzLmVkaXRvci5nZXRNZW51SXRlbShjKTtcbmUmJihlLnN0YXRlPWRbY10sYi5hZGQoZSkpfXZhciBmPXRoaXMuXy5wYW5lbC5nZXRCbG9jayh0aGlzLmlkKS5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZCh0aGlzLmlkK1N0cmluZyhhKSk7c2V0VGltZW91dChmdW5jdGlvbigpe2Iuc2hvdyhmLDIpfSwwKX1lbHNlIHRoaXMuXy5wYW5lbC5oaWRlQ2hpbGQoMSl9fSxwcm90bzp7YWRkOmZ1bmN0aW9uKGEpe2Eub3JkZXJ8fChhLm9yZGVyPXRoaXMuaXRlbXMubGVuZ3RoKTt0aGlzLml0ZW1zLnB1c2goYSl9LHJlbW92ZUFsbDpmdW5jdGlvbigpe3RoaXMuaXRlbXM9W119LHNob3c6ZnVuY3Rpb24oYixjLGQsZSl7aWYoIXRoaXMucGFyZW50JiYodGhpcy5fLm9uU2hvdygpLCF0aGlzLml0ZW1zLmxlbmd0aCkpcmV0dXJuO2M9Y3x8KFwicnRsXCI9PXRoaXMuZWRpdG9yLmxhbmcuZGlyPzI6MSk7dmFyIGc9dGhpcy5pdGVtcyxmPXRoaXMuZWRpdG9yLGs9dGhpcy5fLnBhbmVsLHg9dGhpcy5fLmVsZW1lbnQ7aWYoIWspe2s9dGhpcy5fLnBhbmVsPVxubmV3IENLRURJVE9SLnVpLmZsb2F0UGFuZWwodGhpcy5lZGl0b3IsQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLHRoaXMuXy5wYW5lbERlZmluaXRpb24sdGhpcy5fLmxldmVsKTtrLm9uRXNjYXBlPUNLRURJVE9SLnRvb2xzLmJpbmQoZnVuY3Rpb24oYSl7aWYoITE9PT10aGlzLl8ub25Fc2NhcGUoYSkpcmV0dXJuITF9LHRoaXMpO2sub25TaG93PWZ1bmN0aW9uKCl7ay5fLnBhbmVsLmdldEhvbGRlckVsZW1lbnQoKS5nZXRQYXJlbnQoKS5hZGRDbGFzcyhcImNrZVwiKS5hZGRDbGFzcyhcImNrZV9yZXNldF9hbGxcIil9O2sub25IaWRlPUNLRURJVE9SLnRvb2xzLmJpbmQoZnVuY3Rpb24oKXt0aGlzLl8ub25IaWRlJiZ0aGlzLl8ub25IaWRlKCl9LHRoaXMpO3g9ay5hZGRCbG9jayh0aGlzLmlkLHRoaXMuXy5wYW5lbERlZmluaXRpb24uYmxvY2spO3guYXV0b1NpemU9ITA7dmFyIHI9eC5rZXlzO3JbNDBdPVwibmV4dFwiO3JbOV09XCJuZXh0XCI7clszOF09XCJwcmV2XCI7cltDS0VESVRPUi5TSElGVCtcbjldPVwicHJldlwiO3JbXCJydGxcIj09Zi5sYW5nLmRpcj8zNzozOV09Q0tFRElUT1IuZW52LmllP1wibW91c2V1cFwiOlwiY2xpY2tcIjtyWzMyXT1DS0VESVRPUi5lbnYuaWU/XCJtb3VzZXVwXCI6XCJjbGlja1wiO0NLRURJVE9SLmVudi5pZSYmKHJbMTNdPVwibW91c2V1cFwiKTt4PXRoaXMuXy5lbGVtZW50PXguZWxlbWVudDtyPXguZ2V0RG9jdW1lbnQoKTtyLmdldEJvZHkoKS5zZXRTdHlsZShcIm92ZXJmbG93XCIsXCJoaWRkZW5cIik7ci5nZXRFbGVtZW50c0J5VGFnKFwiaHRtbFwiKS5nZXRJdGVtKDApLnNldFN0eWxlKFwib3ZlcmZsb3dcIixcImhpZGRlblwiKTt0aGlzLl8uaXRlbU92ZXJGbj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihhKXtjbGVhclRpbWVvdXQodGhpcy5fLnNob3dTdWJUaW1lb3V0KTt0aGlzLl8uc2hvd1N1YlRpbWVvdXQ9Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dCh0aGlzLl8uc2hvd1N1Yk1lbnUsZi5jb25maWcubWVudV9zdWJNZW51RGVsYXl8fDQwMCx0aGlzLFthXSl9LFxudGhpcyk7dGhpcy5fLml0ZW1PdXRGbj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl8uc2hvd1N1YlRpbWVvdXQpfSx0aGlzKTt0aGlzLl8uaXRlbUNsaWNrRm49Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pdGVtc1thXTtpZihiLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCl0aGlzLmhpZGUoMSk7ZWxzZSBpZihiLmdldEl0ZW1zKXRoaXMuXy5zaG93U3ViTWVudShhKTtlbHNlIHRoaXMuXy5vbkNsaWNrKGIpfSx0aGlzKX1hKGcpO2Zvcih2YXIgcj1mLmVsZW1lbnRQYXRoKCkscj1bJ1xceDNjZGl2IGNsYXNzXFx4M2RcImNrZV9tZW51JysociYmci5kaXJlY3Rpb24oKSE9Zi5sYW5nLmRpcj9cIiBja2VfbWl4ZWRfZGlyX2NvbnRlbnRcIjpcIlwiKSsnXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlJ10scD1nLmxlbmd0aCx1PXAmJmdbMF0uZ3JvdXAsej0wO3o8cDt6Kyspe3ZhciBxPVxuZ1t6XTt1IT1xLmdyb3VwJiYoci5wdXNoKCdcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfbWVudXNlcGFyYXRvclwiIHJvbGVcXHgzZFwic2VwYXJhdG9yXCJcXHgzZVxceDNjL2RpdlxceDNlJyksdT1xLmdyb3VwKTtxLnJlbmRlcih0aGlzLHoscil9ci5wdXNoKFwiXFx4M2MvZGl2XFx4M2VcIik7eC5zZXRIdG1sKHIuam9pbihcIlwiKSk7Q0tFRElUT1IudWkuZmlyZShcInJlYWR5XCIsdGhpcyk7dGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQuXy5wYW5lbC5zaG93QXNDaGlsZChrLHRoaXMuaWQsYixjLGQsZSk6ay5zaG93QmxvY2sodGhpcy5pZCxiLGMsZCxlKTtmLmZpcmUoXCJtZW51U2hvd1wiLFtrXSl9LGFkZExpc3RlbmVyOmZ1bmN0aW9uKGEpe3RoaXMuXy5saXN0ZW5lcnMucHVzaChhKX0saGlkZTpmdW5jdGlvbihhKXt0aGlzLl8ub25IaWRlJiZ0aGlzLl8ub25IaWRlKCk7dGhpcy5fLnBhbmVsJiZ0aGlzLl8ucGFuZWwuaGlkZShhKX0sZmluZEl0ZW1CeUNvbW1hbmROYW1lOmZ1bmN0aW9uKGEpe3ZhciBiPUNLRURJVE9SLnRvb2xzLmFycmF5LmZpbHRlcih0aGlzLml0ZW1zLFxuZnVuY3Rpb24oYil7cmV0dXJuIGE9PT1iLmNvbW1hbmR9KTtyZXR1cm4gYi5sZW5ndGg/KGI9YlswXSx7aXRlbTpiLGVsZW1lbnQ6dGhpcy5fLmVsZW1lbnQuZmluZE9uZShcIi5cIitiLmNsYXNzTmFtZSl9KTpudWxsfX19KTtDS0VESVRPUi5tZW51SXRlbT1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihhLGIsZCl7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsZCx7b3JkZXI6MCxjbGFzc05hbWU6XCJja2VfbWVudWJ1dHRvbl9fXCIrYn0pO3RoaXMuZ3JvdXA9YS5fLm1lbnVHcm91cHNbdGhpcy5ncm91cF07dGhpcy5lZGl0b3I9YTt0aGlzLm5hbWU9Yn0scHJvdG86e3JlbmRlcjpmdW5jdGlvbihhLGUsZCl7dmFyIGY9YS5pZCtTdHJpbmcoZSksZz1cInVuZGVmaW5lZFwiPT10eXBlb2YgdGhpcy5zdGF0ZT9DS0VESVRPUi5UUklTVEFURV9PRkY6dGhpcy5zdGF0ZSxuPVwiXCIsdz10aGlzLmVkaXRvcix4LHIscD1nPT1DS0VESVRPUi5UUklTVEFURV9PTj9cIm9uXCI6Zz09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ/XG5cImRpc2FibGVkXCI6XCJvZmZcIjt0aGlzLnJvbGUgaW57bWVudWl0ZW1jaGVja2JveDoxLG1lbnVpdGVtcmFkaW86MX0mJihuPScgYXJpYS1jaGVja2VkXFx4M2RcIicrKGc9PUNLRURJVE9SLlRSSVNUQVRFX09OP1widHJ1ZVwiOlwiZmFsc2VcIikrJ1wiJyk7dmFyIHU9dGhpcy5nZXRJdGVtcyx6PVwiXFx4MjYjXCIrKFwicnRsXCI9PXRoaXMuZWRpdG9yLmxhbmcuZGlyP1wiOTY2OFwiOlwiOTY1OFwiKStcIjtcIixxPXRoaXMubmFtZTt0aGlzLmljb24mJiEvXFwuLy50ZXN0KHRoaXMuaWNvbikmJihxPXRoaXMuaWNvbik7dGhpcy5jb21tYW5kJiYoeD13LmdldENvbW1hbmQodGhpcy5jb21tYW5kKSwoeD13LmdldENvbW1hbmRLZXlzdHJva2UoeCkpJiYocj1DS0VESVRPUi50b29scy5rZXlzdHJva2VUb1N0cmluZyh3LmxhbmcuY29tbW9uLmtleWJvYXJkLHgpKSk7eD1DS0VESVRPUi50b29scy5odG1sRW5jb2RlQXR0cih0aGlzLmxhYmVsKTthPXtpZDpmLG5hbWU6dGhpcy5uYW1lLGljb25OYW1lOnEsbGFiZWw6dGhpcy5sYWJlbCxcbmF0dHJMYWJlbDp4LGNsczp0aGlzLmNsYXNzTmFtZXx8XCJcIixzdGF0ZTpwLGhhc1BvcHVwOnU/XCJ0cnVlXCI6XCJmYWxzZVwiLGRpc2FibGVkOmc9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHRpdGxlOngrKHI/XCIgKFwiK3IuZGlzcGxheStcIilcIjpcIlwiKSxhcmlhU2hvcnRjdXQ6cj93LmxhbmcuY29tbW9uLmtleWJvYXJkU2hvcnRjdXQrXCIgXCIrci5hcmlhOlwiXCIsaHJlZjpcImphdmFzY3JpcHQ6dm9pZCgnXCIrKHh8fFwiXCIpLnJlcGxhY2UoXCInXCIpK1wiJylcIixob3ZlckZuOmEuXy5pdGVtT3ZlckZuLG1vdmVPdXRGbjphLl8uaXRlbU91dEZuLGNsaWNrRm46YS5fLml0ZW1DbGlja0ZuLGluZGV4OmUsaWNvblN0eWxlOkNLRURJVE9SLnNraW4uZ2V0SWNvblN0eWxlKHEsXCJydGxcIj09dGhpcy5lZGl0b3IubGFuZy5kaXIscT09dGhpcy5pY29uP251bGw6dGhpcy5pY29uLHRoaXMuaWNvbk9mZnNldCksc2hvcnRjdXRIdG1sOnI/ay5vdXRwdXQoe3Nob3J0Y3V0OnIuZGlzcGxheX0pOlwiXCIsYXJyb3dIdG1sOnU/XG5jLm91dHB1dCh7bGFiZWw6en0pOlwiXCIscm9sZTp0aGlzLnJvbGU/dGhpcy5yb2xlOlwibWVudWl0ZW1cIixhcmlhQ2hlY2tlZDpufTtiLm91dHB1dChhLGQpfX19KX0oKSxDS0VESVRPUi5jb25maWcubWVudV9ncm91cHM9XCJjbGlwYm9hcmQsZm9ybSx0YWJsZWNlbGwsdGFibGVjZWxscHJvcGVydGllcyx0YWJsZXJvdyx0YWJsZWNvbHVtbix0YWJsZSxhbmNob3IsbGluayxpbWFnZSxjaGVja2JveCxyYWRpbyx0ZXh0ZmllbGQsaGlkZGVuZmllbGQsaW1hZ2VidXR0b24sYnV0dG9uLHNlbGVjdCx0ZXh0YXJlYSxkaXZcIixDS0VESVRPUi5wbHVnaW5zLmFkZChcImNvbnRleHRtZW51XCIse3JlcXVpcmVzOlwibWVudVwiLG9uTG9hZDpmdW5jdGlvbigpe0NLRURJVE9SLnBsdWdpbnMuY29udGV4dE1lbnU9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3Moe2Jhc2U6Q0tFRElUT1IubWVudSwkOmZ1bmN0aW9uKGEpe3RoaXMuYmFzZS5jYWxsKHRoaXMsYSx7cGFuZWw6e2NzczphLmNvbmZpZy5jb250ZXh0bWVudV9jb250ZW50c0NzcyxcbmNsYXNzTmFtZTpcImNrZV9tZW51X3BhbmVsXCIsYXR0cmlidXRlczp7XCJhcmlhLWxhYmVsXCI6YS5sYW5nLmNvbnRleHRtZW51Lm9wdGlvbnN9fX0pfSxwcm90bzp7YWRkVGFyZ2V0OmZ1bmN0aW9uKGEsZil7ZnVuY3Rpb24gZSgpe2M9ITF9dmFyIGIsYzthLm9uKFwiY29udGV4dG1lbnVcIixmdW5jdGlvbihhKXthPWEuZGF0YTt2YXIgZT1DS0VESVRPUi5lbnYud2Via2l0P2I6Q0tFRElUT1IuZW52Lm1hYz9hLiQubWV0YUtleTphLiQuY3RybEtleTtpZighZnx8IWUpaWYoYS5wcmV2ZW50RGVmYXVsdCgpLCFjKXtpZihDS0VESVRPUi5lbnYubWFjJiZDS0VESVRPUi5lbnYud2Via2l0KXt2YXIgZT10aGlzLmVkaXRvcixkPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGEuZ2V0VGFyZ2V0KCksZS5lZGl0YWJsZSgpKSkuY29udGFpbnMoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpfSwhMCk7ZCYmXCJmYWxzZVwiPT1kLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSYmXG5lLmdldFNlbGVjdGlvbigpLmZha2UoZCl9dmFyIGQ9YS5nZXRUYXJnZXQoKS5nZXREb2N1bWVudCgpLGg9YS5nZXRUYXJnZXQoKS5nZXREb2N1bWVudCgpLmdldERvY3VtZW50RWxlbWVudCgpLGU9IWQuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50KSxkPWQuZ2V0V2luZG93KCkuZ2V0U2Nyb2xsUG9zaXRpb24oKSxnPWU/YS4kLmNsaWVudFg6YS4kLnBhZ2VYfHxkLngrYS4kLmNsaWVudFgsaz1lP2EuJC5jbGllbnRZOmEuJC5wYWdlWXx8ZC55K2EuJC5jbGllbnRZO0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLm9wZW4oaCxudWxsLGcsayl9LENLRURJVE9SLmVudi5pZT8yMDA6MCx0aGlzKX19LHRoaXMpO2lmKENLRURJVE9SLmVudi53ZWJraXQpe3ZhciBrPWZ1bmN0aW9uKCl7Yj0wfTthLm9uKFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe2I9Q0tFRElUT1IuZW52Lm1hYz9hLmRhdGEuJC5tZXRhS2V5OmEuZGF0YS4kLmN0cmxLZXl9KTthLm9uKFwia2V5dXBcIixrKTtcbmEub24oXCJjb250ZXh0bWVudVwiLGspfUNLRURJVE9SLmVudi5nZWNrbyYmIUNLRURJVE9SLmVudi5tYWMmJihhLm9uKFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe2EuZGF0YS4kLnNoaWZ0S2V5JiYxMjE9PT1hLmRhdGEuJC5rZXlDb2RlJiYoYz0hMCl9LG51bGwsbnVsbCwwKSxhLm9uKFwia2V5dXBcIixlKSxhLm9uKFwiY29udGV4dG1lbnVcIixlKSl9LG9wZW46ZnVuY3Rpb24oYSxmLGUsYil7ITEhPT10aGlzLmVkaXRvci5jb25maWcuZW5hYmxlQ29udGV4dE1lbnUmJnRoaXMuZWRpdG9yLmdldFNlbGVjdGlvbigpLmdldFR5cGUoKSE9PUNLRURJVE9SLlNFTEVDVElPTl9OT05FJiYodGhpcy5lZGl0b3IuZm9jdXMoKSxhPWF8fENLRURJVE9SLmRvY3VtZW50LmdldERvY3VtZW50RWxlbWVudCgpLHRoaXMuZWRpdG9yLnNlbGVjdGlvbkNoYW5nZSgxKSx0aGlzLnNob3coYSxmLGUsYikpfX19KX0sYmVmb3JlSW5pdDpmdW5jdGlvbihhKXt2YXIgZj1hLmNvbnRleHRNZW51PW5ldyBDS0VESVRPUi5wbHVnaW5zLmNvbnRleHRNZW51KGEpO1xuYS5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe2YuYWRkVGFyZ2V0KGEuZWRpdGFibGUoKSwhMSE9PWEuY29uZmlnLmJyb3dzZXJDb250ZXh0TWVudU9uQ3RybCl9KTthLmFkZENvbW1hbmQoXCJjb250ZXh0TWVudVwiLHtleGVjOmZ1bmN0aW9uKGEpe3ZhciBiPTAsYz0wLGY9YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKSxmPWZbZi5sZW5ndGgtMV0uZ2V0Q2xpZW50UmVjdHMoYS5lZGl0YWJsZSgpLmlzSW5saW5lKCkpO2lmKGY9ZltmLmxlbmd0aC0xXSliPWZbXCJydGxcIj09PWEubGFuZy5kaXI/XCJsZWZ0XCI6XCJyaWdodFwiXSxjPWYuYm90dG9tO2EuY29udGV4dE1lbnUub3BlbihhLmRvY3VtZW50LmdldEJvZHkoKS5nZXRQYXJlbnQoKSxudWxsLGIsYyl9fSk7YS5zZXRLZXlzdHJva2UoQ0tFRElUT1IuU0hJRlQrMTIxLFwiY29udGV4dE1lbnVcIik7YS5zZXRLZXlzdHJva2UoQ0tFRElUT1IuQ1RSTCtDS0VESVRPUi5TSElGVCsxMjEsXCJjb250ZXh0TWVudVwiKX19KSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxcbmUpe2Z1bmN0aW9uIGwoYil7Yj1nLmxpc3RbYl07dmFyIGQ7Yi5lcXVhbHMoYS5lZGl0YWJsZSgpKXx8XCJ0cnVlXCI9PWIuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpPyhkPWEuY3JlYXRlUmFuZ2UoKSxkLnNlbGVjdE5vZGVDb250ZW50cyhiKSxkPWQuc2VsZWN0KCkpOihkPWEuZ2V0U2VsZWN0aW9uKCksZC5zZWxlY3RFbGVtZW50KGIpKTtDS0VESVRPUi5lbnYuaWUmJmEuZmlyZShcInNlbGVjdGlvbkNoYW5nZVwiLHtzZWxlY3Rpb246ZCxwYXRoOm5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYil9KTthLmZvY3VzKCl9ZnVuY3Rpb24gbSgpe2gmJmguc2V0SHRtbCgnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9wYXRoX2VtcHR5XCJcXHgzZVxceDI2bmJzcDtcXHgzYy9zcGFuXFx4M2UnKTtkZWxldGUgZy5saXN0fXZhciBkPWEudWkuc3BhY2VJZChcInBhdGhcIiksaCxnPWEuXy5lbGVtZW50c1BhdGgsbj1nLmlkQmFzZTtlLmh0bWwrPSdcXHgzY3NwYW4gaWRcXHgzZFwiJytkKydfbGFiZWxcIiBjbGFzc1xceDNkXCJja2Vfdm9pY2VfbGFiZWxcIlxceDNlJytcbmEubGFuZy5lbGVtZW50c3BhdGguZWxlTGFiZWwrJ1xceDNjL3NwYW5cXHgzZVxceDNjc3BhbiBpZFxceDNkXCInK2QrJ1wiIGNsYXNzXFx4M2RcImNrZV9wYXRoXCIgcm9sZVxceDNkXCJncm91cFwiIGFyaWEtbGFiZWxsZWRieVxceDNkXCInK2QrJ19sYWJlbFwiXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3BhdGhfZW1wdHlcIlxceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZVxceDNjL3NwYW5cXHgzZSc7YS5vbihcInVpUmVhZHlcIixmdW5jdGlvbigpe3ZhciBiPWEudWkuc3BhY2UoXCJwYXRoXCIpO2ImJmEuZm9jdXNNYW5hZ2VyLmFkZChiLDEpfSk7Zy5vbkNsaWNrPWw7dmFyIHc9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24obCkseD1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihiLGQpe3ZhciBlPWcuaWRCYXNlLGY7ZD1uZXcgQ0tFRElUT1IuZG9tLmV2ZW50KGQpO2Y9XCJydGxcIj09YS5sYW5nLmRpcjtzd2l0Y2goZC5nZXRLZXlzdHJva2UoKSl7Y2FzZSBmPzM5OjM3OmNhc2UgOTpyZXR1cm4oZj1cbkNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoZSsoYisxKSkpfHwoZj1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGUrXCIwXCIpKSxmLmZvY3VzKCksITE7Y2FzZSBmPzM3OjM5OmNhc2UgQ0tFRElUT1IuU0hJRlQrOTpyZXR1cm4oZj1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGUrKGItMSkpKXx8KGY9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChlKyhnLmxpc3QubGVuZ3RoLTEpKSksZi5mb2N1cygpLCExO2Nhc2UgMjc6cmV0dXJuIGEuZm9jdXMoKSwhMTtjYXNlIDEzOmNhc2UgMzI6cmV0dXJuIGwoYiksITE7Y2FzZSBDS0VESVRPUi5BTFQrMTIxOnJldHVybiBhLmV4ZWNDb21tYW5kKFwidG9vbGJhckZvY3VzXCIpLCExfXJldHVybiEwfSk7YS5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGUpe2Zvcih2YXIgZj1bXSxrPWcubGlzdD1bXSxsPVtdLG09Zy5maWx0ZXJzLEE9ITAseT1lLmRhdGEucGF0aC5lbGVtZW50cyx0PXkubGVuZ3RoO3QtLTspe3ZhciB2PXlbdF0sQj0wO1xuZT12LmRhdGEoXCJja2UtZGlzcGxheS1uYW1lXCIpP3YuZGF0YShcImNrZS1kaXNwbGF5LW5hbWVcIik6di5kYXRhKFwiY2tlLXJlYWwtZWxlbWVudC10eXBlXCIpP3YuZGF0YShcImNrZS1yZWFsLWVsZW1lbnQtdHlwZVwiKTp2LmdldE5hbWUoKTsoQT12Lmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKT9cInRydWVcIj09di5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik6QSl8fHYuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpfHwoQj0xKTtmb3IodmFyIEQ9MDtEPG0ubGVuZ3RoO0QrKyl7dmFyIEM9bVtEXSh2LGUpO2lmKCExPT09Qyl7Qj0xO2JyZWFrfWU9Q3x8ZX1CfHwoay51bnNoaWZ0KHYpLGwudW5zaGlmdChlKSl9az1rLmxlbmd0aDtmb3IobT0wO208azttKyspZT1sW21dLEE9YS5sYW5nLmVsZW1lbnRzcGF0aC5lbGVUaXRsZS5yZXBsYWNlKC8lMS8sZSksZT1iLm91dHB1dCh7aWQ6bittLGxhYmVsOkEsdGV4dDplLGpzVGl0bGU6XCJqYXZhc2NyaXB0OnZvaWQoJ1wiK1xuZStcIicpXCIsaW5kZXg6bSxrZXlEb3duRm46eCxjbGlja0ZuOnd9KSxmLnVuc2hpZnQoZSk7aHx8KGg9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChkKSk7bD1oO2wuc2V0SHRtbChmLmpvaW4oXCJcIikrJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfcGF0aF9lbXB0eVwiXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlJyk7YS5maXJlKFwiZWxlbWVudHNQYXRoVXBkYXRlXCIse3NwYWNlOmx9KX0pO2Eub24oXCJyZWFkT25seVwiLG0pO2Eub24oXCJjb250ZW50RG9tVW5sb2FkXCIsbSk7YS5hZGRDb21tYW5kKFwiZWxlbWVudHNQYXRoRm9jdXNcIixmLnRvb2xiYXJGb2N1cyk7YS5zZXRLZXlzdHJva2UoQ0tFRElUT1IuQUxUKzEyMixcImVsZW1lbnRzUGF0aEZvY3VzXCIpfXZhciBmPXt0b29sYmFyRm9jdXM6e2VkaXRvckZvY3VzOiExLHJlYWRPbmx5OjEsZXhlYzpmdW5jdGlvbihhKXsoYT1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGEuXy5lbGVtZW50c1BhdGguaWRCYXNlK1wiMFwiKSkmJmEuZm9jdXMoQ0tFRElUT1IuZW52LmllfHxcbkNLRURJVE9SLmVudi5haXIpfX19LGU9XCJcIjtDS0VESVRPUi5lbnYuZ2Vja28mJkNLRURJVE9SLmVudi5tYWMmJihlKz0nIG9ua2V5cHJlc3NcXHgzZFwicmV0dXJuIGZhbHNlO1wiJyk7Q0tFRElUT1IuZW52LmdlY2tvJiYoZSs9JyBvbmJsdXJcXHgzZFwidGhpcy5zdHlsZS5jc3NUZXh0IFxceDNkIHRoaXMuc3R5bGUuY3NzVGV4dDtcIicpO3ZhciBiPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwicGF0aEl0ZW1cIiwnXFx4M2NhIGlkXFx4M2RcIntpZH1cIiBocmVmXFx4M2RcIntqc1RpdGxlfVwiIHRhYmluZGV4XFx4M2RcIi0xXCIgY2xhc3NcXHgzZFwiY2tlX3BhdGhfaXRlbVwiIHRpdGxlXFx4M2RcIntsYWJlbH1cIicrZSsnIGhpZGVmb2N1c1xceDNkXCJ0cnVlXCIgIGRyYWdnYWJsZVxceDNkXCJmYWxzZVwiICBvbmRyYWdzdGFydFxceDNkXCJyZXR1cm4gZmFsc2U7XCIgb25rZXlkb3duXFx4M2RcInJldHVybiBDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2tleURvd25Gbn0se2luZGV4fSwgZXZlbnQgKTtcIiBvbmNsaWNrXFx4M2RcIkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7Y2xpY2tGbn0se2luZGV4fSk7IHJldHVybiBmYWxzZTtcIiByb2xlXFx4M2RcImJ1dHRvblwiIGFyaWEtbGFiZWxcXHgzZFwie2xhYmVsfVwiXFx4M2V7dGV4dH1cXHgzYy9hXFx4M2UnKTtcbkNLRURJVE9SLnBsdWdpbnMuYWRkKFwiZWxlbWVudHNwYXRoXCIse2luaXQ6ZnVuY3Rpb24oYil7Yi5fLmVsZW1lbnRzUGF0aD17aWRCYXNlOlwiY2tlX2VsZW1lbnRzcGF0aF9cIitDS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCkrXCJfXCIsZmlsdGVyczpbXX07Yi5vbihcInVpU3BhY2VcIixmdW5jdGlvbihlKXtcImJvdHRvbVwiPT1lLmRhdGEuc3BhY2UmJmEoYixlLmRhdGEpfSl9fSl9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYyl7dmFyIGssbDtjLm9uKFwicmVmcmVzaFwiLGZ1bmN0aW9uKGEpe3ZhciBiPVtmXSxjO2ZvcihjIGluIGEuZGF0YS5zdGF0ZXMpYi5wdXNoKGEuZGF0YS5zdGF0ZXNbY10pO3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IudG9vbHMuc2VhcmNoKGIsZSk/ZTpmKX0sYyxudWxsLDEwMCk7Yy5vbihcImV4ZWNcIixmdW5jdGlvbihjKXtrPWEuZ2V0U2VsZWN0aW9uKCk7bD1rLmNyZWF0ZUJvb2ttYXJrcygxKTtjLmRhdGF8fChjLmRhdGE9e30pO2MuZGF0YS5kb25lPSExfSxjLFxubnVsbCwwKTtjLm9uKFwiZXhlY1wiLGZ1bmN0aW9uKCl7YS5mb3JjZU5leHRTZWxlY3Rpb25DaGVjaygpO2suc2VsZWN0Qm9va21hcmtzKGwpfSxjLG51bGwsMTAwKX12YXIgZj1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxlPUNLRURJVE9SLlRSSVNUQVRFX09GRjtDS0VESVRPUi5wbHVnaW5zLmFkZChcImluZGVudFwiLHtpbml0OmZ1bmN0aW9uKGIpe3ZhciBjPUNLRURJVE9SLnBsdWdpbnMuaW5kZW50LmdlbmVyaWNEZWZpbml0aW9uO2EoYixiLmFkZENvbW1hbmQoXCJpbmRlbnRcIixuZXcgYyghMCkpKTthKGIsYi5hZGRDb21tYW5kKFwib3V0ZGVudFwiLG5ldyBjKSk7Yi51aS5hZGRCdXR0b24mJihiLnVpLmFkZEJ1dHRvbihcIkluZGVudFwiLHtsYWJlbDpiLmxhbmcuaW5kZW50LmluZGVudCxjb21tYW5kOlwiaW5kZW50XCIsZGlyZWN0aW9uYWw6ITAsdG9vbGJhcjpcImluZGVudCwyMFwifSksYi51aS5hZGRCdXR0b24oXCJPdXRkZW50XCIse2xhYmVsOmIubGFuZy5pbmRlbnQub3V0ZGVudCxjb21tYW5kOlwib3V0ZGVudFwiLFxuZGlyZWN0aW9uYWw6ITAsdG9vbGJhcjpcImluZGVudCwxMFwifSkpO2Iub24oXCJkaXJDaGFuZ2VkXCIsZnVuY3Rpb24oYSl7dmFyIGM9Yi5jcmVhdGVSYW5nZSgpLGU9YS5kYXRhLm5vZGU7Yy5zZXRTdGFydEJlZm9yZShlKTtjLnNldEVuZEFmdGVyKGUpO2Zvcih2YXIgZD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihjKSxmO2Y9ZC5uZXh0KCk7KWlmKGYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKWlmKCFmLmVxdWFscyhlKSYmZi5nZXREaXJlY3Rpb24oKSljLnNldFN0YXJ0QWZ0ZXIoZiksZD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihjKTtlbHNle3ZhciBnPWIuY29uZmlnLmluZGVudENsYXNzZXM7aWYoZylmb3IodmFyIG49XCJsdHJcIj09YS5kYXRhLmRpcj9bXCJfcnRsXCIsXCJcIl06W1wiXCIsXCJfcnRsXCJdLHc9MDt3PGcubGVuZ3RoO3crKylmLmhhc0NsYXNzKGdbd10rblswXSkmJihmLnJlbW92ZUNsYXNzKGdbd10rblswXSksZi5hZGRDbGFzcyhnW3ddK25bMV0pKTtnPWYuZ2V0U3R5bGUoXCJtYXJnaW4tcmlnaHRcIik7XG5uPWYuZ2V0U3R5bGUoXCJtYXJnaW4tbGVmdFwiKTtnP2Yuc2V0U3R5bGUoXCJtYXJnaW4tbGVmdFwiLGcpOmYucmVtb3ZlU3R5bGUoXCJtYXJnaW4tbGVmdFwiKTtuP2Yuc2V0U3R5bGUoXCJtYXJnaW4tcmlnaHRcIixuKTpmLnJlbW92ZVN0eWxlKFwibWFyZ2luLXJpZ2h0XCIpfX0pfX0pO0NLRURJVE9SLnBsdWdpbnMuaW5kZW50PXtnZW5lcmljRGVmaW5pdGlvbjpmdW5jdGlvbihhKXt0aGlzLmlzSW5kZW50PSEhYTt0aGlzLnN0YXJ0RGlzYWJsZWQ9IXRoaXMuaXNJbmRlbnR9LHNwZWNpZmljRGVmaW5pdGlvbjpmdW5jdGlvbihhLGMsZSl7dGhpcy5uYW1lPWM7dGhpcy5lZGl0b3I9YTt0aGlzLmpvYnM9e307dGhpcy5lbnRlckJyPWEuY29uZmlnLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlI7dGhpcy5pc0luZGVudD0hIWU7dGhpcy5yZWxhdGVkR2xvYmFsPWU/XCJpbmRlbnRcIjpcIm91dGRlbnRcIjt0aGlzLmluZGVudEtleT1lPzk6Q0tFRElUT1IuU0hJRlQrOTt0aGlzLmRhdGFiYXNlPXt9fSxyZWdpc3RlckNvbW1hbmRzOmZ1bmN0aW9uKGEsXG5jKXthLm9uKFwicGx1Z2luc0xvYWRlZFwiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIGMpKGZ1bmN0aW9uKGEsYil7dmFyIGQ9YS5nZXRDb21tYW5kKGIucmVsYXRlZEdsb2JhbCksYztmb3IoYyBpbiBiLmpvYnMpZC5vbihcImV4ZWNcIixmdW5jdGlvbihkKXtkLmRhdGEuZG9uZXx8KGEuZmlyZShcImxvY2tTbmFwc2hvdFwiKSxiLmV4ZWNKb2IoYSxjKSYmKGQuZGF0YS5kb25lPSEwKSxhLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKSxDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoYi5kYXRhYmFzZSkpfSx0aGlzLG51bGwsYyksZC5vbihcInJlZnJlc2hcIixmdW5jdGlvbihkKXtkLmRhdGEuc3RhdGVzfHwoZC5kYXRhLnN0YXRlcz17fSk7ZC5kYXRhLnN0YXRlc1tiLm5hbWUrXCJAXCIrY109Yi5yZWZyZXNoSm9iKGEsYyxkLmRhdGEucGF0aCl9LHRoaXMsbnVsbCxjKTthLmFkZEZlYXR1cmUoYil9KSh0aGlzLGNbYV0pfSl9fTtDS0VESVRPUi5wbHVnaW5zLmluZGVudC5nZW5lcmljRGVmaW5pdGlvbi5wcm90b3R5cGU9XG57Y29udGV4dDpcInBcIixleGVjOmZ1bmN0aW9uKCl7fX07Q0tFRElUT1IucGx1Z2lucy5pbmRlbnQuc3BlY2lmaWNEZWZpbml0aW9uLnByb3RvdHlwZT17ZXhlY0pvYjpmdW5jdGlvbihhLGMpe3ZhciBlPXRoaXMuam9ic1tjXTtpZihlLnN0YXRlIT1mKXJldHVybiBlLmV4ZWMuY2FsbCh0aGlzLGEpfSxyZWZyZXNoSm9iOmZ1bmN0aW9uKGEsYyxlKXtjPXRoaXMuam9ic1tjXTthLmFjdGl2ZUZpbHRlci5jaGVja0ZlYXR1cmUodGhpcyk/Yy5zdGF0ZT1jLnJlZnJlc2guY2FsbCh0aGlzLGEsZSk6Yy5zdGF0ZT1mO3JldHVybiBjLnN0YXRlfSxnZXRDb250ZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnRhaW5zKHRoaXMuY29udGV4dCl9fX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7ZnVuY3Rpb24gYihkKXtmb3IodmFyIGY9bC5zdGFydENvbnRhaW5lcixxPWwuZW5kQ29udGFpbmVyO2YmJiFmLmdldFBhcmVudCgpLmVxdWFscyhkKTspZj1mLmdldFBhcmVudCgpO2Zvcig7cSYmIXEuZ2V0UGFyZW50KCkuZXF1YWxzKGQpOylxPVxucS5nZXRQYXJlbnQoKTtpZighZnx8IXEpcmV0dXJuITE7Zm9yKHZhciBwPVtdLHk9ITE7IXk7KWYuZXF1YWxzKHEpJiYoeT0hMCkscC5wdXNoKGYpLGY9Zi5nZXROZXh0KCk7aWYoMT5wLmxlbmd0aClyZXR1cm4hMTtmPWQuZ2V0UGFyZW50cyghMCk7Zm9yKHE9MDtxPGYubGVuZ3RoO3ErKylpZihmW3FdLmdldE5hbWUmJmtbZltxXS5nZXROYW1lKCldKXtkPWZbcV07YnJlYWt9Zm9yKHZhciBmPWMuaXNJbmRlbnQ/MTotMSxxPXBbMF0scD1wW3AubGVuZ3RoLTFdLHk9Q0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KGQsZyksdD15W3AuZ2V0Q3VzdG9tRGF0YShcImxpc3RhcnJheV9pbmRleFwiKV0uaW5kZW50LHE9cS5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpO3E8PXAuZ2V0Q3VzdG9tRGF0YShcImxpc3RhcnJheV9pbmRleFwiKTtxKyspaWYoeVtxXS5pbmRlbnQrPWYsMDxmKXtmb3IodmFyIHY9eVtxXS5wYXJlbnQsQj1xLTE7MDw9QjtCLS0paWYoeVtCXS5pbmRlbnQ9PT1cbmYpe3Y9eVtCXS5wYXJlbnQ7YnJlYWt9eVtxXS5wYXJlbnQ9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHYuZ2V0TmFtZSgpLHYuZ2V0RG9jdW1lbnQoKSl9Zm9yKHE9cC5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpKzE7cTx5Lmxlbmd0aCYmeVtxXS5pbmRlbnQ+dDtxKyspeVtxXS5pbmRlbnQrPWY7Zj1DS0VESVRPUi5wbHVnaW5zLmxpc3QuYXJyYXlUb0xpc3QoeSxnLG51bGwsYS5jb25maWcuZW50ZXJNb2RlLGQuZ2V0RGlyZWN0aW9uKCkpO2lmKCFjLmlzSW5kZW50KXt2YXIgcjtpZigocj1kLmdldFBhcmVudCgpKSYmci5pcyhcImxpXCIpKWZvcih2YXIgcD1mLmxpc3ROb2RlLmdldENoaWxkcmVuKCksQz1bXSx4LHE9cC5jb3VudCgpLTE7MDw9cTtxLS0pKHg9cC5nZXRJdGVtKHEpKSYmeC5pcyYmeC5pcyhcImxpXCIpJiZDLnB1c2goeCl9ZiYmZi5saXN0Tm9kZS5yZXBsYWNlKGQpO2lmKEMmJkMubGVuZ3RoKWZvcihxPTA7cTxDLmxlbmd0aDtxKyspe2Zvcih4PWQ9Q1txXTsoeD1cbnguZ2V0TmV4dCgpKSYmeC5pcyYmeC5nZXROYW1lKClpbiBrOylDS0VESVRPUi5lbnYubmVlZHNOYnNwRmlsbGVyJiYhZC5nZXRGaXJzdChlKSYmZC5hcHBlbmQobC5kb2N1bWVudC5jcmVhdGVUZXh0KFwiwqBcIikpLGQuYXBwZW5kKHgpO2QuaW5zZXJ0QWZ0ZXIocil9ZiYmYS5maXJlKFwiY29udGVudERvbUludmFsaWRhdGVkXCIpO3JldHVybiEwfWZvcih2YXIgYz10aGlzLGc9dGhpcy5kYXRhYmFzZSxrPXRoaXMuY29udGV4dCxsLHg9YS5nZXRTZWxlY3Rpb24oKSx4PSh4JiZ4LmdldFJhbmdlcygpKS5jcmVhdGVJdGVyYXRvcigpO2w9eC5nZXROZXh0UmFuZ2UoKTspe2Zvcih2YXIgcj1sLmdldENvbW1vbkFuY2VzdG9yKCk7ciYmKHIudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwha1tyLmdldE5hbWUoKV0pOyl7aWYoYS5lZGl0YWJsZSgpLmVxdWFscyhyKSl7cj0hMTticmVha31yPXIuZ2V0UGFyZW50KCl9cnx8KHI9bC5zdGFydFBhdGgoKS5jb250YWlucyhrKSkmJmwuc2V0RW5kQXQocixcbkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2lmKCFyKXt2YXIgcD1sLmdldEVuY2xvc2VkTm9kZSgpO3AmJnAudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZwLmdldE5hbWUoKWluIGsmJihsLnNldFN0YXJ0QXQocCxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCksbC5zZXRFbmRBdChwLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLHI9cCl9ciYmbC5zdGFydENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmwuc3RhcnRDb250YWluZXIuZ2V0TmFtZSgpaW4gayYmKHA9bmV3IENLRURJVE9SLmRvbS53YWxrZXIobCkscC5ldmFsdWF0b3I9ZixsLnN0YXJ0Q29udGFpbmVyPXAubmV4dCgpKTtyJiZsLmVuZENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmwuZW5kQ29udGFpbmVyLmdldE5hbWUoKWluIGsmJihwPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGwpLHAuZXZhbHVhdG9yPWYsbC5lbmRDb250YWluZXI9cC5wcmV2aW91cygpKTtcbmlmKHIpcmV0dXJuIGIocil9cmV0dXJuIDB9ZnVuY3Rpb24gZihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaXMoXCJsaVwiKX1mdW5jdGlvbiBlKGEpe3JldHVybiBiKGEpJiZjKGEpfXZhciBiPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoITApLGM9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyayghMSwhMCksaz1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxsPUNLRURJVE9SLlRSSVNUQVRFX09GRjtDS0VESVRPUi5wbHVnaW5zLmFkZChcImluZGVudGxpc3RcIix7cmVxdWlyZXM6XCJpbmRlbnRcIixpbml0OmZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGQoYil7Yy5zcGVjaWZpY0RlZmluaXRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMucmVxdWlyZWRDb250ZW50PVtcInVsXCIsXCJvbFwiXTtiLm9uKFwia2V5XCIsZnVuY3Rpb24oYSl7dmFyIGQ9Yi5lbGVtZW50UGF0aCgpO2lmKFwid3lzaXd5Z1wiPT1iLm1vZGUmJmEuZGF0YS5rZXlDb2RlPT10aGlzLmluZGVudEtleSYmXG5kKXt2YXIgYz10aGlzLmdldENvbnRleHQoZCk7IWN8fHRoaXMuaXNJbmRlbnQmJkNLRURJVE9SLnBsdWdpbnMuaW5kZW50TGlzdC5maXJzdEl0ZW1JblBhdGgodGhpcy5jb250ZXh0LGQsYyl8fChiLmV4ZWNDb21tYW5kKHRoaXMucmVsYXRlZEdsb2JhbCksYS5jYW5jZWwoKSl9fSx0aGlzKTt0aGlzLmpvYnNbdGhpcy5pc0luZGVudD8xMDozMF09e3JlZnJlc2g6dGhpcy5pc0luZGVudD9mdW5jdGlvbihhLGIpe3ZhciBkPXRoaXMuZ2V0Q29udGV4dChiKSxjPUNLRURJVE9SLnBsdWdpbnMuaW5kZW50TGlzdC5maXJzdEl0ZW1JblBhdGgodGhpcy5jb250ZXh0LGIsZCk7cmV0dXJuIGQmJnRoaXMuaXNJbmRlbnQmJiFjP2w6a306ZnVuY3Rpb24oYSxiKXtyZXR1cm4hdGhpcy5nZXRDb250ZXh0KGIpfHx0aGlzLmlzSW5kZW50P2s6bH0sZXhlYzpDS0VESVRPUi50b29scy5iaW5kKGEsdGhpcyl9fXZhciBjPUNLRURJVE9SLnBsdWdpbnMuaW5kZW50O2MucmVnaXN0ZXJDb21tYW5kcyhiLHtpbmRlbnRsaXN0Om5ldyBkKGIsXG5cImluZGVudGxpc3RcIiwhMCksb3V0ZGVudGxpc3Q6bmV3IGQoYixcIm91dGRlbnRsaXN0XCIpfSk7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGQucHJvdG90eXBlLGMuc3BlY2lmaWNEZWZpbml0aW9uLnByb3RvdHlwZSx7Y29udGV4dDp7b2w6MSx1bDoxfX0pfX0pO0NLRURJVE9SLnBsdWdpbnMuaW5kZW50TGlzdD17fTtDS0VESVRPUi5wbHVnaW5zLmluZGVudExpc3QuZmlyc3RJdGVtSW5QYXRoPWZ1bmN0aW9uKGEsYixjKXt2YXIgZT1iLmNvbnRhaW5zKGYpO2N8fChjPWIuY29udGFpbnMoYSkpO3JldHVybiBjJiZlJiZlLmVxdWFscyhjLmdldEZpcnN0KGYpKX19KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixkLGMpe2Zvcih2YXIgZT1DS0VESVRPUi5wbHVnaW5zLmxpc3QubGlzdFRvQXJyYXkoYi5yb290LGQpLGc9W10sZj0wO2Y8Yi5jb250ZW50cy5sZW5ndGg7ZisrKXt2YXIgaD1iLmNvbnRlbnRzW2ZdOyhoPWguZ2V0QXNjZW5kYW50KFwibGlcIiwhMCkpJiYhaC5nZXRDdXN0b21EYXRhKFwibGlzdF9pdGVtX3Byb2Nlc3NlZFwiKSYmXG4oZy5wdXNoKGgpLENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihkLGgsXCJsaXN0X2l0ZW1fcHJvY2Vzc2VkXCIsITApKX1mb3IodmFyIGg9Yi5yb290LmdldERvY3VtZW50KCksayxsLGY9MDtmPGcubGVuZ3RoO2YrKyl7dmFyIG09Z1tmXS5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpO2s9ZVttXS5wYXJlbnQ7ay5pcyh0aGlzLnR5cGUpfHwobD1oLmNyZWF0ZUVsZW1lbnQodGhpcy50eXBlKSxrLmNvcHlBdHRyaWJ1dGVzKGwse3N0YXJ0OjEsdHlwZToxfSksbC5yZW1vdmVTdHlsZShcImxpc3Qtc3R5bGUtdHlwZVwiKSxlW21dLnBhcmVudD1sKX1kPUNLRURJVE9SLnBsdWdpbnMubGlzdC5hcnJheVRvTGlzdChlLGQsbnVsbCxhLmNvbmZpZy5lbnRlck1vZGUpO2Zvcih2YXIgbixlPWQubGlzdE5vZGUuZ2V0Q2hpbGRDb3VudCgpLGY9MDtmPGUmJihuPWQubGlzdE5vZGUuZ2V0Q2hpbGQoZikpO2YrKyluLmdldE5hbWUoKT09dGhpcy50eXBlJiZjLnB1c2gobik7ZC5saXN0Tm9kZS5yZXBsYWNlKGIucm9vdCk7XG5hLmZpcmUoXCJjb250ZW50RG9tSW52YWxpZGF0ZWRcIil9ZnVuY3Rpb24gZihhLGIsZCl7dmFyIGM9Yi5jb250ZW50cyxlPWIucm9vdC5nZXREb2N1bWVudCgpLGc9W107aWYoMT09Yy5sZW5ndGgmJmNbMF0uZXF1YWxzKGIucm9vdCkpe3ZhciBmPWUuY3JlYXRlRWxlbWVudChcImRpdlwiKTtjWzBdLm1vdmVDaGlsZHJlbiYmY1swXS5tb3ZlQ2hpbGRyZW4oZik7Y1swXS5hcHBlbmQoZik7Y1swXT1mfWI9Yi5jb250ZW50c1swXS5nZXRQYXJlbnQoKTtmb3IoZj0wO2Y8Yy5sZW5ndGg7ZisrKWI9Yi5nZXRDb21tb25BbmNlc3RvcihjW2ZdLmdldFBhcmVudCgpKTthPWEuY29uZmlnLnVzZUNvbXB1dGVkU3RhdGU7Zm9yKHZhciBoLGssZj0wO2Y8Yy5sZW5ndGg7ZisrKWZvcih2YXIgbD1jW2ZdLG07bT1sLmdldFBhcmVudCgpOyl7aWYobS5lcXVhbHMoYikpe2cucHVzaChsKTshayYmbC5nZXREaXJlY3Rpb24oKSYmKGs9MSk7bD1sLmdldERpcmVjdGlvbihhKTtudWxsIT09aCYmKGg9aCYmaCE9XG5sP251bGw6bCk7YnJlYWt9bD1tfWlmKCEoMT5nLmxlbmd0aCkpe2M9Z1tnLmxlbmd0aC0xXS5nZXROZXh0KCk7Zj1lLmNyZWF0ZUVsZW1lbnQodGhpcy50eXBlKTtmb3IoZC5wdXNoKGYpO2cubGVuZ3RoOylkPWcuc2hpZnQoKSxhPWUuY3JlYXRlRWxlbWVudChcImxpXCIpLGw9ZCxsLmlzKFwicHJlXCIpfHxyLnRlc3QobC5nZXROYW1lKCkpfHxcImZhbHNlXCI9PWwuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpP2QuYXBwZW5kVG8oYSk6KGQuY29weUF0dHJpYnV0ZXMoYSksaCYmZC5nZXREaXJlY3Rpb24oKSYmKGEucmVtb3ZlU3R5bGUoXCJkaXJlY3Rpb25cIiksYS5yZW1vdmVBdHRyaWJ1dGUoXCJkaXJcIikpLGQubW92ZUNoaWxkcmVuKGEpLGQucmVtb3ZlKCkpLGEuYXBwZW5kVG8oZik7aCYmayYmZi5zZXRBdHRyaWJ1dGUoXCJkaXJcIixoKTtjP2YuaW5zZXJ0QmVmb3JlKGMpOmYuYXBwZW5kVG8oYil9fWZ1bmN0aW9uIGUoYSxiLGQpe2Z1bmN0aW9uIGMoZCl7aWYoISghKGw9a1tkP1wiZ2V0Rmlyc3RcIjpcblwiZ2V0TGFzdFwiXSgpKXx8bC5pcyYmbC5pc0Jsb2NrQm91bmRhcnkoKXx8IShtPWIucm9vdFtkP1wiZ2V0UHJldmlvdXNcIjpcImdldE5leHRcIl0oQ0tFRElUT1IuZG9tLndhbGtlci5pbnZpc2libGUoITApKSl8fG0uaXMmJm0uaXNCbG9ja0JvdW5kYXJ5KHticjoxfSkpKWEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpW2Q/XCJpbnNlcnRCZWZvcmVcIjpcImluc2VydEFmdGVyXCJdKGwpfWZvcih2YXIgZT1DS0VESVRPUi5wbHVnaW5zLmxpc3QubGlzdFRvQXJyYXkoYi5yb290LGQpLGc9W10sZj0wO2Y8Yi5jb250ZW50cy5sZW5ndGg7ZisrKXt2YXIgaD1iLmNvbnRlbnRzW2ZdOyhoPWguZ2V0QXNjZW5kYW50KFwibGlcIiwhMCkpJiYhaC5nZXRDdXN0b21EYXRhKFwibGlzdF9pdGVtX3Byb2Nlc3NlZFwiKSYmKGcucHVzaChoKSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoZCxoLFwibGlzdF9pdGVtX3Byb2Nlc3NlZFwiLCEwKSl9aD1udWxsO2ZvcihmPTA7ZjxnLmxlbmd0aDtmKyspaD1nW2ZdLmdldEN1c3RvbURhdGEoXCJsaXN0YXJyYXlfaW5kZXhcIiksXG5lW2hdLmluZGVudD0tMTtmb3IoZj1oKzE7ZjxlLmxlbmd0aDtmKyspaWYoZVtmXS5pbmRlbnQ+ZVtmLTFdLmluZGVudCsxKXtnPWVbZi0xXS5pbmRlbnQrMS1lW2ZdLmluZGVudDtmb3IoaD1lW2ZdLmluZGVudDtlW2ZdJiZlW2ZdLmluZGVudD49aDspZVtmXS5pbmRlbnQrPWcsZisrO2YtLX12YXIgaz1DS0VESVRPUi5wbHVnaW5zLmxpc3QuYXJyYXlUb0xpc3QoZSxkLG51bGwsYS5jb25maWcuZW50ZXJNb2RlLGIucm9vdC5nZXRBdHRyaWJ1dGUoXCJkaXJcIikpLmxpc3ROb2RlLGwsbTtjKCEwKTtjKCk7ay5yZXBsYWNlKGIucm9vdCk7YS5maXJlKFwiY29udGVudERvbUludmFsaWRhdGVkXCIpfWZ1bmN0aW9uIGIoYSxiKXt0aGlzLm5hbWU9YTt0aGlzLmNvbnRleHQ9dGhpcy50eXBlPWI7dGhpcy5hbGxvd2VkQ29udGVudD1iK1wiIGxpXCI7dGhpcy5yZXF1aXJlZENvbnRlbnQ9Yn1mdW5jdGlvbiBjKGEsYixkLGMpe2Zvcih2YXIgZSxnO2U9YVtjP1wiZ2V0TGFzdFwiOlwiZ2V0Rmlyc3RcIl0ocCk7KShnPVxuZS5nZXREaXJlY3Rpb24oMSkpIT09Yi5nZXREaXJlY3Rpb24oMSkmJmUuc2V0QXR0cmlidXRlKFwiZGlyXCIsZyksZS5yZW1vdmUoKSxkP2VbYz9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0oZCk6Yi5hcHBlbmQoZSxjKSxkPWV9ZnVuY3Rpb24gayhhKXtmdW5jdGlvbiBiKGQpe3ZhciBlPWFbZD9cImdldFByZXZpb3VzXCI6XCJnZXROZXh0XCJdKHcpO2UmJmUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZlLmlzKGEuZ2V0TmFtZSgpKSYmKGMoYSxlLG51bGwsIWQpLGEucmVtb3ZlKCksYT1lKX1iKCk7YigxKX1mdW5jdGlvbiBsKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGEuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRibG9ja3x8YS5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSYmQ0tFRElUT1IuZHRkW2EuZ2V0TmFtZSgpXVtcIiNcIl19ZnVuY3Rpb24gbShhLGIsZSl7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2UuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUyk7XG52YXIgZz1lLmV4dHJhY3RDb250ZW50cygpO2IudHJpbSghMSwhMCk7dmFyIGY9Yi5jcmVhdGVCb29rbWFyaygpLGg9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChiLnN0YXJ0Q29udGFpbmVyKSxsPWguYmxvY2ssaD1oLmxhc3RFbGVtZW50LmdldEFzY2VuZGFudChcImxpXCIsMSl8fGwsbT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGUuc3RhcnRDb250YWluZXIpLG49bS5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSxtPW0uY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KTtsPyhsPWwuZ2V0Qm9ndXMoKSkmJmwucmVtb3ZlKCk6bSYmKGw9bS5nZXRQcmV2aW91cyh3KSkmJngobCkmJmwucmVtb3ZlKCk7KGw9Zy5nZXRMYXN0KCkpJiZsLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmbC5pcyhcImJyXCIpJiZsLnJlbW92ZSgpOyhsPWIuc3RhcnRDb250YWluZXIuZ2V0Q2hpbGQoYi5zdGFydE9mZnNldCkpP2cuaW5zZXJ0QmVmb3JlKGwpOmIuc3RhcnRDb250YWluZXIuYXBwZW5kKGcpO1xubiYmKGc9ZChuKSkmJihoLmNvbnRhaW5zKG4pPyhjKGcsbi5nZXRQYXJlbnQoKSxuKSxnLnJlbW92ZSgpKTpoLmFwcGVuZChnKSk7Zm9yKDtlLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmUuY2hlY2tFbmRPZkJsb2NrKCk7KXttPWUuc3RhcnRQYXRoKCk7Zz1tLmJsb2NrO2lmKCFnKWJyZWFrO2cuaXMoXCJsaVwiKSYmKGg9Zy5nZXRQYXJlbnQoKSxnLmVxdWFscyhoLmdldExhc3QodykpJiZnLmVxdWFscyhoLmdldEZpcnN0KHcpKSYmKGc9aCkpO2UubW92ZVRvUG9zaXRpb24oZyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO2cucmVtb3ZlKCl9ZT1lLmNsb25lKCk7Zz1hLmVkaXRhYmxlKCk7ZS5zZXRFbmRBdChnLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2U9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZSk7ZS5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIHcoYSkmJiF4KGEpfTsoZT1lLm5leHQoKSkmJmUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZlLmdldE5hbWUoKWluXG5DS0VESVRPUi5kdGQuJGxpc3QmJmsoZSk7Yi5tb3ZlVG9Cb29rbWFyayhmKTtiLnNlbGVjdCgpO2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKX1mdW5jdGlvbiBkKGEpe3JldHVybihhPWEuZ2V0TGFzdCh3KSkmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmdldE5hbWUoKWluIGg/YTpudWxsfXZhciBoPXtvbDoxLHVsOjF9LGc9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLG49Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyaygpLHc9ZnVuY3Rpb24oYSl7cmV0dXJuIShnKGEpfHxuKGEpKX0seD1DS0VESVRPUi5kb20ud2Fsa2VyLmJvZ3VzKCk7Q0tFRElUT1IucGx1Z2lucy5saXN0PXtsaXN0VG9BcnJheTpmdW5jdGlvbihhLGIsZCxjLGUpe2lmKCFoW2EuZ2V0TmFtZSgpXSlyZXR1cm5bXTtjfHwoYz0wKTtkfHwoZD1bXSk7Zm9yKHZhciBnPTAsZj1hLmdldENoaWxkQ291bnQoKTtnPGY7ZysrKXt2YXIgaz1hLmdldENoaWxkKGcpO2sudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcbmsuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRsaXN0JiZDS0VESVRPUi5wbHVnaW5zLmxpc3QubGlzdFRvQXJyYXkoayxiLGQsYysxKTtpZihcImxpXCI9PWsuJC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXt2YXIgbD17cGFyZW50OmEsaW5kZW50OmMsZWxlbWVudDprLGNvbnRlbnRzOltdfTtlP2wuZ3JhbmRwYXJlbnQ9ZToobC5ncmFuZHBhcmVudD1hLmdldFBhcmVudCgpLGwuZ3JhbmRwYXJlbnQmJlwibGlcIj09bC5ncmFuZHBhcmVudC4kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJihsLmdyYW5kcGFyZW50PWwuZ3JhbmRwYXJlbnQuZ2V0UGFyZW50KCkpKTtiJiZDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoYixrLFwibGlzdGFycmF5X2luZGV4XCIsZC5sZW5ndGgpO2QucHVzaChsKTtmb3IodmFyIG09MCxuPWsuZ2V0Q2hpbGRDb3VudCgpLHA7bTxuO20rKylwPWsuZ2V0Q2hpbGQobSkscC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmhbcC5nZXROYW1lKCldP0NLRURJVE9SLnBsdWdpbnMubGlzdC5saXN0VG9BcnJheShwLFxuYixkLGMrMSxsLmdyYW5kcGFyZW50KTpsLmNvbnRlbnRzLnB1c2gocCl9fXJldHVybiBkfSxhcnJheVRvTGlzdDpmdW5jdGlvbihhLGIsZCxjLGUpe2R8fChkPTApO2lmKCFhfHxhLmxlbmd0aDxkKzEpcmV0dXJuIG51bGw7Zm9yKHZhciBnLGY9YVtkXS5wYXJlbnQuZ2V0RG9jdW1lbnQoKSxrPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChmKSxsPW51bGwsbT1kLHA9TWF0aC5tYXgoYVtkXS5pbmRlbnQsMCkscj1udWxsLHgsRyxNPWM9PUNLRURJVE9SLkVOVEVSX1A/XCJwXCI6XCJkaXZcIjs7KXt2YXIgSD1hW21dO2c9SC5ncmFuZHBhcmVudDt4PUguZWxlbWVudC5nZXREaXJlY3Rpb24oMSk7aWYoSC5pbmRlbnQ9PXApe2wmJmFbbV0ucGFyZW50LmdldE5hbWUoKT09bC5nZXROYW1lKCl8fChsPWFbbV0ucGFyZW50LmNsb25lKCExLDEpLGUmJmwuc2V0QXR0cmlidXRlKFwiZGlyXCIsZSksay5hcHBlbmQobCkpO3I9bC5hcHBlbmQoSC5lbGVtZW50LmNsb25lKDAsMSkpO3ghPWwuZ2V0RGlyZWN0aW9uKDEpJiZcbnIuc2V0QXR0cmlidXRlKFwiZGlyXCIseCk7Zm9yKGc9MDtnPEguY29udGVudHMubGVuZ3RoO2crKylyLmFwcGVuZChILmNvbnRlbnRzW2ddLmNsb25lKDEsMSkpO20rK31lbHNlIGlmKEguaW5kZW50PT1NYXRoLm1heChwLDApKzEpSD1hW20tMV0uZWxlbWVudC5nZXREaXJlY3Rpb24oMSksbT1DS0VESVRPUi5wbHVnaW5zLmxpc3QuYXJyYXlUb0xpc3QoYSxudWxsLG0sYyxIIT14P3g6bnVsbCksIXIuZ2V0Q2hpbGRDb3VudCgpJiZDS0VESVRPUi5lbnYubmVlZHNOYnNwRmlsbGVyJiY3Pj1mLiQuZG9jdW1lbnRNb2RlJiZyLmFwcGVuZChmLmNyZWF0ZVRleHQoXCLCoFwiKSksci5hcHBlbmQobS5saXN0Tm9kZSksbT1tLm5leHRJbmRleDtlbHNlIGlmKC0xPT1ILmluZGVudCYmIWQmJmcpe2hbZy5nZXROYW1lKCldPyhyPUguZWxlbWVudC5jbG9uZSghMSwhMCkseCE9Zy5nZXREaXJlY3Rpb24oMSkmJnIuc2V0QXR0cmlidXRlKFwiZGlyXCIseCkpOnI9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGYpO1xudmFyIGw9Zy5nZXREaXJlY3Rpb24oMSkhPXgsRT1ILmVsZW1lbnQsUD1FLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLEw9RS5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKSxOPXIudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCYmKGMhPUNLRURJVE9SLkVOVEVSX0JSfHxsfHxMfHxQKSxPLFg9SC5jb250ZW50cy5sZW5ndGgsUztmb3IoZz0wO2c8WDtnKyspaWYoTz1ILmNvbnRlbnRzW2ddLG4oTykmJjE8WClOP1M9Ty5jbG9uZSgxLDEpOnIuYXBwZW5kKE8uY2xvbmUoMSwxKSk7ZWxzZSBpZihPLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmTy5pc0Jsb2NrQm91bmRhcnkoKSl7bCYmIU8uZ2V0RGlyZWN0aW9uKCkmJk8uc2V0QXR0cmlidXRlKFwiZGlyXCIseCk7Rz1PO3ZhciBZPUUuZ2V0QXR0cmlidXRlKFwic3R5bGVcIik7WSYmRy5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFkucmVwbGFjZSgvKFteO10pJC8sXCIkMTtcIikrKEcuZ2V0QXR0cmlidXRlKFwic3R5bGVcIil8fFwiXCIpKTtQJiZcbk8uYWRkQ2xhc3MoUCk7Rz1udWxsO1MmJihyLmFwcGVuZChTKSxTPW51bGwpO3IuYXBwZW5kKE8uY2xvbmUoMSwxKSl9ZWxzZSBOPyhHfHwoRz1mLmNyZWF0ZUVsZW1lbnQoTSksci5hcHBlbmQoRyksbCYmRy5zZXRBdHRyaWJ1dGUoXCJkaXJcIix4KSksTCYmRy5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLEwpLFAmJkcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixQKSxTJiYoRy5hcHBlbmQoUyksUz1udWxsKSxHLmFwcGVuZChPLmNsb25lKDEsMSkpKTpyLmFwcGVuZChPLmNsb25lKDEsMSkpO1MmJigoR3x8cikuYXBwZW5kKFMpLFM9bnVsbCk7ci50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UJiZtIT1hLmxlbmd0aC0xJiYoQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXImJih4PXIuZ2V0TGFzdCgpKSYmeC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnguaXMoXCJiclwiKSYmeC5yZW1vdmUoKSwoeD1yLmdldExhc3QodykpJiZ4LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXG54LmlzKENLRURJVE9SLmR0ZC4kYmxvY2spfHxyLmFwcGVuZChmLmNyZWF0ZUVsZW1lbnQoXCJiclwiKSkpO3g9ci4kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XCJkaXZcIiE9eCYmXCJwXCIhPXh8fHIuYXBwZW5kQm9ndXMoKTtrLmFwcGVuZChyKTtsPW51bGw7bSsrfWVsc2UgcmV0dXJuIG51bGw7Rz1udWxsO2lmKGEubGVuZ3RoPD1tfHxNYXRoLm1heChhW21dLmluZGVudCwwKTxwKWJyZWFrfWlmKGIpZm9yKGE9ay5nZXRGaXJzdCgpO2E7KXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKENLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyTWFya2VycyhiLGEpLGEuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSYmKGQ9YSxmPWU9Yz12b2lkIDAsYz1kLmdldERpcmVjdGlvbigpKSkpe2ZvcihlPWQuZ2V0UGFyZW50KCk7ZSYmIShmPWUuZ2V0RGlyZWN0aW9uKCkpOyllPWUuZ2V0UGFyZW50KCk7Yz09ZiYmZC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXJcIil9YT1hLmdldE5leHRTb3VyY2VOb2RlKCl9cmV0dXJue2xpc3ROb2RlOmssXG5uZXh0SW5kZXg6bX19fTt2YXIgcj0vXmhbMS02XSQvLHA9Q0tFRElUT1IuZG9tLndhbGtlci5ub2RlVHlwZShDS0VESVRPUi5OT0RFX0VMRU1FTlQpO2IucHJvdG90eXBlPXtleGVjOmZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGQoYSl7cmV0dXJuIGhbYS5yb290LmdldE5hbWUoKV0mJiFjKGEucm9vdCxbQ0tFRElUT1IuTk9ERV9DT01NRU5UXSl9ZnVuY3Rpb24gYyhhLGIpe3JldHVybiBDS0VESVRPUi50b29scy5hcnJheS5maWx0ZXIoYS5nZXRDaGlsZHJlbigpLnRvQXJyYXkoKSxmdW5jdGlvbihhKXtyZXR1cm4tMT09PUNLRURJVE9SLnRvb2xzLmFycmF5LmluZGV4T2YoYixhLnR5cGUpfSkubGVuZ3RofWZ1bmN0aW9uIGcoYSl7dmFyIGI9ITA7aWYoMD09PWEuZ2V0Q2hpbGRDb3VudCgpKXJldHVybiExO2EuZm9yRWFjaChmdW5jdGlvbihhKXtpZihhLnR5cGUhPT1DS0VESVRPUi5OT0RFX0NPTU1FTlQpcmV0dXJuIGI9ITF9LG51bGwsITApO3JldHVybiBifXRoaXMucmVmcmVzaChiLGIuZWxlbWVudFBhdGgoKSk7XG52YXIgbD1iLmNvbmZpZyxtPWIuZ2V0U2VsZWN0aW9uKCksbj1tJiZtLmdldFJhbmdlcygpO2lmKHRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRil7dmFyIHA9Yi5lZGl0YWJsZSgpO2lmKHAuZ2V0Rmlyc3Qodykpe3ZhciByPTE9PW4ubGVuZ3RoJiZuWzBdOyhsPXImJnIuZ2V0RW5jbG9zZWROb2RlKCkpJiZsLmlzJiZ0aGlzLnR5cGU9PWwuZ2V0TmFtZSgpJiZ0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09OKX1lbHNlIGwuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUj9wLmFwcGVuZEJvZ3VzKCk6blswXS5maXhCbG9jaygxLGwuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCIpLG0uc2VsZWN0UmFuZ2VzKG4pfWZvcih2YXIgbD1tLmNyZWF0ZUJvb2ttYXJrcyghMCkscD1bXSxDPXt9LG49bi5jcmVhdGVJdGVyYXRvcigpLHg9MDsocj1uLmdldE5leHRSYW5nZSgpKSYmKyt4Oyl7dmFyIEo9ci5nZXRCb3VuZGFyeU5vZGVzKCksSz1KLnN0YXJ0Tm9kZSxcbkc9Si5lbmROb2RlO0sudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcInRkXCI9PUsuZ2V0TmFtZSgpJiZyLnNldFN0YXJ0QXQoSi5zdGFydE5vZGUsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO0cudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcInRkXCI9PUcuZ2V0TmFtZSgpJiZyLnNldEVuZEF0KEouZW5kTm9kZSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtyPXIuY3JlYXRlSXRlcmF0b3IoKTtmb3Ioci5mb3JjZUJyQnJlYWs9dGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGO0o9ci5nZXROZXh0UGFyYWdyYXBoKCk7KWlmKCFKLmdldEN1c3RvbURhdGEoXCJsaXN0X2Jsb2NrXCIpJiYhZyhKKSl7Q0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKEMsSixcImxpc3RfYmxvY2tcIiwxKTtmb3IodmFyIE09Yi5lbGVtZW50UGF0aChKKSxLPU0uZWxlbWVudHMsRz0wLE09TS5ibG9ja0xpbWl0LEgsRT1LLmxlbmd0aC0xOzA8PUUmJihIPUtbRV0pO0UtLSlpZihoW0guZ2V0TmFtZSgpXSYmXG5NLmNvbnRhaW5zKEgpKXtNLnJlbW92ZUN1c3RvbURhdGEoXCJsaXN0X2dyb3VwX29iamVjdF9cIit4KTsoSz1ILmdldEN1c3RvbURhdGEoXCJsaXN0X2dyb3VwX29iamVjdFwiKSk/Sy5jb250ZW50cy5wdXNoKEopOihLPXtyb290OkgsY29udGVudHM6W0pdfSxwLnB1c2goSyksQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKEMsSCxcImxpc3RfZ3JvdXBfb2JqZWN0XCIsSykpO0c9MTticmVha31HfHwoRz1NLEcuZ2V0Q3VzdG9tRGF0YShcImxpc3RfZ3JvdXBfb2JqZWN0X1wiK3gpP0cuZ2V0Q3VzdG9tRGF0YShcImxpc3RfZ3JvdXBfb2JqZWN0X1wiK3gpLmNvbnRlbnRzLnB1c2goSik6KEs9e3Jvb3Q6Ryxjb250ZW50czpbSl19LENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihDLEcsXCJsaXN0X2dyb3VwX29iamVjdF9cIit4LEspLHAucHVzaChLKSkpfX1mb3IoSD1bXTswPHAubGVuZ3RoOylLPXAuc2hpZnQoKSx0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PRkY/ZChLKXx8KGhbSy5yb290LmdldE5hbWUoKV0/XG5hLmNhbGwodGhpcyxiLEssQyxIKTpmLmNhbGwodGhpcyxiLEssSCkpOnRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09OJiZoW0sucm9vdC5nZXROYW1lKCldJiYhZChLKSYmZS5jYWxsKHRoaXMsYixLLEMpO2ZvcihFPTA7RTxILmxlbmd0aDtFKyspayhIW0VdKTtDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoQyk7bS5zZWxlY3RCb29rbWFya3MobCk7Yi5mb2N1cygpfSxyZWZyZXNoOmZ1bmN0aW9uKGEsYil7dmFyIGQ9Yi5jb250YWlucyhoLDEpLGM9Yi5ibG9ja0xpbWl0fHxiLnJvb3Q7ZCYmYy5jb250YWlucyhkKT90aGlzLnNldFN0YXRlKGQuaXModGhpcy50eXBlKT9DS0VESVRPUi5UUklTVEFURV9PTjpDS0VESVRPUi5UUklTVEFURV9PRkYpOnRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT0ZGKX19O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwibGlzdFwiLHtyZXF1aXJlczpcImluZGVudGxpc3RcIixpbml0OmZ1bmN0aW9uKGEpe2EuYmxvY2tsZXNzfHxcbihhLmFkZENvbW1hbmQoXCJudW1iZXJlZGxpc3RcIixuZXcgYihcIm51bWJlcmVkbGlzdFwiLFwib2xcIikpLGEuYWRkQ29tbWFuZChcImJ1bGxldGVkbGlzdFwiLG5ldyBiKFwiYnVsbGV0ZWRsaXN0XCIsXCJ1bFwiKSksYS51aS5hZGRCdXR0b24mJihhLnVpLmFkZEJ1dHRvbihcIk51bWJlcmVkTGlzdFwiLHtpc1RvZ2dsZTohMCxsYWJlbDphLmxhbmcubGlzdC5udW1iZXJlZGxpc3QsY29tbWFuZDpcIm51bWJlcmVkbGlzdFwiLGRpcmVjdGlvbmFsOiEwLHRvb2xiYXI6XCJsaXN0LDEwXCJ9KSxhLnVpLmFkZEJ1dHRvbihcIkJ1bGxldGVkTGlzdFwiLHtpc1RvZ2dsZTohMCxsYWJlbDphLmxhbmcubGlzdC5idWxsZXRlZGxpc3QsY29tbWFuZDpcImJ1bGxldGVkbGlzdFwiLGRpcmVjdGlvbmFsOiEwLHRvb2xiYXI6XCJsaXN0LDIwXCJ9KSksYS5vbihcImtleVwiLGZ1bmN0aW9uKGIpe3ZhciBjPWIuZGF0YS5kb21FdmVudC5nZXRLZXkoKSxlO2lmKFwid3lzaXd5Z1wiPT1hLm1vZGUmJmMgaW57ODoxLDQ2OjF9KXt2YXIgZz1hLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdLFxuZj1nJiZnLnN0YXJ0UGF0aCgpO2lmKGcmJmcuY29sbGFwc2VkKXt2YXIgaz04PT1jLG49YS5lZGl0YWJsZSgpLHA9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZy5jbG9uZSgpKTtwLmV2YWx1YXRvcj1mdW5jdGlvbihhKXtyZXR1cm4gdyhhKSYmIXgoYSl9O3AuZ3VhcmQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hKGImJmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmlzKFwidGFibGVcIikpfTtjPWcuY2xvbmUoKTtpZihrKXt2YXIgcjsocj1mLmNvbnRhaW5zKGgpKSYmZy5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KHIsQ0tFRElUT1IuU1RBUlQpJiYocj1yLmdldFBhcmVudCgpKSYmci5pcyhcImxpXCIpJiYocj1kKHIpKT8oZT1yLHI9ci5nZXRQcmV2aW91cyh3KSxjLm1vdmVUb1Bvc2l0aW9uKHImJngocik/cjplLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCkpOihwLnJhbmdlLnNldFN0YXJ0QXQobixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCkscC5yYW5nZS5zZXRFbmQoZy5zdGFydENvbnRhaW5lcixcbmcuc3RhcnRPZmZzZXQpLChyPXAucHJldmlvdXMoKSkmJnIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoci5nZXROYW1lKClpbiBofHxyLmlzKFwibGlcIikpJiYoci5pcyhcImxpXCIpfHwocC5yYW5nZS5zZWxlY3ROb2RlQ29udGVudHMocikscC5yZXNldCgpLHAuZXZhbHVhdG9yPWwscj1wLnByZXZpb3VzKCkpLGU9cixjLm1vdmVUb0VsZW1lbnRFZGl0RW5kKGUpLGMubW92ZVRvUG9zaXRpb24oYy5lbmRQYXRoKCkuYmxvY2ssQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCkpKTtpZihlKW0oYSxjLGcpLGIuY2FuY2VsKCk7ZWxzZXt2YXIgRj1mLmNvbnRhaW5zKGgpO0YmJmcuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChGLENLRURJVE9SLlNUQVJUKSYmKGU9Ri5nZXRGaXJzdCh3KSxnLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoZSxDS0VESVRPUi5TVEFSVCkmJihyPUYuZ2V0UHJldmlvdXModyksZChlKT9yJiYoZy5tb3ZlVG9FbGVtZW50RWRpdEVuZChyKSxnLnNlbGVjdCgpKTpcbmEuZXhlY0NvbW1hbmQoXCJvdXRkZW50XCIpLGIuY2FuY2VsKCkpKX19ZWxzZSBpZihlPWYuY29udGFpbnMoXCJsaVwiKSl7aWYocC5yYW5nZS5zZXRFbmRBdChuLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLGs9KG49ZS5nZXRMYXN0KHcpKSYmbChuKT9uOmUsZj0wLChyPXAubmV4dCgpKSYmci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnIuZ2V0TmFtZSgpaW4gaCYmci5lcXVhbHMobik/KGY9MSxyPXAubmV4dCgpKTpnLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoayxDS0VESVRPUi5FTkQpJiYoZj0yKSxmJiZyKXtnPWcuY2xvbmUoKTtnLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQocik7aWYoMT09ZiYmKGMub3B0aW1pemUoKSwhYy5zdGFydENvbnRhaW5lci5lcXVhbHMoZSkpKXtmb3IoZT1jLnN0YXJ0Q29udGFpbmVyO2UuaXMoQ0tFRElUT1IuZHRkLiRpbmxpbmUpOylGPWUsZT1lLmdldFBhcmVudCgpO0YmJmMubW92ZVRvUG9zaXRpb24oRixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpfTI9PVxuZiYmKGMubW92ZVRvUG9zaXRpb24oYy5lbmRQYXRoKCkuYmxvY2ssQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCksZy5lbmRQYXRoKCkuYmxvY2smJmcubW92ZVRvUG9zaXRpb24oZy5lbmRQYXRoKCkuYmxvY2ssQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpKTttKGEsYyxnKTtiLmNhbmNlbCgpfX1lbHNlIHAucmFuZ2Uuc2V0RW5kQXQobixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSwocj1wLm5leHQoKSkmJnIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZyLmlzKGgpJiYocj1yLmdldEZpcnN0KHcpLGYuYmxvY2smJmcuY2hlY2tTdGFydE9mQmxvY2soKSYmZy5jaGVja0VuZE9mQmxvY2soKT8oZi5ibG9jay5yZW1vdmUoKSxnLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQociksZy5zZWxlY3QoKSk6ZChyKT8oZy5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KHIpLGcuc2VsZWN0KCkpOihnPWcuY2xvbmUoKSxnLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQociksbShhLFxuYyxnKSksYi5jYW5jZWwoKSk7c2V0VGltZW91dChmdW5jdGlvbigpe2Euc2VsZWN0aW9uQ2hhbmdlKDEpfSl9fX0pKX19KX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiLGQpe2Q9YS5jb25maWcuZm9yY2VFbnRlck1vZGV8fGQ7aWYoXCJ3eXNpd3lnXCI9PWEubW9kZSl7Ynx8KGI9YS5hY3RpdmVFbnRlck1vZGUpO3ZhciBjPWEuZWxlbWVudFBhdGgoKTtjJiYhYy5pc0NvbnRleHRGb3IoXCJwXCIpJiYoYj1DS0VESVRPUi5FTlRFUl9CUixkPTEpO2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtiPT1DS0VESVRPUi5FTlRFUl9CUj9sKGEsYixudWxsLGQpOm0oYSxiLG51bGwsZCk7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpfX1mdW5jdGlvbiBmKGEpe2E9YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoITApO2Zvcih2YXIgYj1hLmxlbmd0aC0xOzA8YjtiLS0pYVtiXS5kZWxldGVDb250ZW50cygpO3JldHVybiBhWzBdfWZ1bmN0aW9uIGUoYSl7dmFyIGI9YS5zdGFydENvbnRhaW5lci5nZXRBc2NlbmRhbnQoZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09XG5DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwidHJ1ZVwiPT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKX0sITApO2lmKGEucm9vdC5lcXVhbHMoYikpcmV0dXJuIGE7Yj1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGIpO2IubW92ZVRvUmFuZ2UoYSk7cmV0dXJuIGJ9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJlbnRlcmtleVwiLHtpbml0OmZ1bmN0aW9uKGIpe2IuYWRkQ29tbWFuZChcImVudGVyXCIse21vZGVzOnt3eXNpd3lnOjF9LGVkaXRvckZvY3VzOiExLGV4ZWM6ZnVuY3Rpb24oYil7YShiKX19KTtiLmFkZENvbW1hbmQoXCJzaGlmdEVudGVyXCIse21vZGVzOnt3eXNpd3lnOjF9LGVkaXRvckZvY3VzOiExLGV4ZWM6ZnVuY3Rpb24oYil7YShiLGIuYWN0aXZlU2hpZnRFbnRlck1vZGUsMSl9fSk7Yi5zZXRLZXlzdHJva2UoW1sxMyxcImVudGVyXCJdLFtDS0VESVRPUi5TSElGVCsxMyxcInNoaWZ0RW50ZXJcIl1dKX19KTt2YXIgYj1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksYz1cbkNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKSxrLGwsbSxkO0NLRURJVE9SLnBsdWdpbnMuZW50ZXJrZXk9e2VudGVyQmxvY2s6ZnVuY3Rpb24oYSxnLGssbSl7ZnVuY3Rpb24geChhKXt2YXIgYjtpZihhPT09Q0tFRElUT1IuRU5URVJfQlJ8fC0xPT09Q0tFRElUT1IudG9vbHMuaW5kZXhPZihbXCJ0ZFwiLFwidGhcIl0sei5sYXN0RWxlbWVudC5nZXROYW1lKCkpfHwxIT09ei5sYXN0RWxlbWVudC5nZXRDaGlsZENvdW50KCkpcmV0dXJuITE7YT16Lmxhc3RFbGVtZW50LmdldENoaWxkKDApLmNsb25lKCEwKTsoYj1hLmdldEJvZ3VzKCkpJiZiLnJlbW92ZSgpO3JldHVybiBhLmdldFRleHQoKS5sZW5ndGg/ITE6ITB9aWYoaz1rfHxmKGEpKXtrPWUoayk7dmFyIHI9ay5kb2N1bWVudCxwPWsuY2hlY2tTdGFydE9mQmxvY2soKSx1PWsuY2hlY2tFbmRPZkJsb2NrKCksej1hLmVsZW1lbnRQYXRoKGsuc3RhcnRDb250YWluZXIpLHE9ei5ibG9jayxBPWc9PUNLRURJVE9SLkVOVEVSX0RJVj9cblwiZGl2XCI6XCJwXCIseTtpZihxJiZwJiZ1KXtwPXEuZ2V0UGFyZW50KCk7aWYocC5pcyhcImxpXCIpJiYxPHAuZ2V0Q2hpbGRDb3VudCgpKXtyPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImxpXCIpO3k9YS5jcmVhdGVSYW5nZSgpO3IuaW5zZXJ0QWZ0ZXIocCk7cS5yZW1vdmUoKTt5LnNldFN0YXJ0KHIsMCk7YS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW3ldKTtyZXR1cm59aWYocS5pcyhcImxpXCIpfHxxLmdldFBhcmVudCgpLmlzKFwibGlcIikpe3EuaXMoXCJsaVwiKXx8KHE9cS5nZXRQYXJlbnQoKSxwPXEuZ2V0UGFyZW50KCkpO3k9cC5nZXRQYXJlbnQoKTtrPSFxLmhhc1ByZXZpb3VzKCk7dmFyIHQ9IXEuaGFzTmV4dCgpO209YS5nZXRTZWxlY3Rpb24oKTt2YXIgQT1tLmNyZWF0ZUJvb2ttYXJrcygpLHY9cS5nZXREaXJlY3Rpb24oMSksdT1xLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLEI9cS5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKSxEPXkuZ2V0RGlyZWN0aW9uKDEpIT12O2E9YS5lbnRlck1vZGUhPVxuQ0tFRElUT1IuRU5URVJfQlJ8fER8fEJ8fHU7aWYoeS5pcyhcImxpXCIpKWt8fHQ/KGsmJnQmJnAucmVtb3ZlKCkscVt0P1wiaW5zZXJ0QWZ0ZXJcIjpcImluc2VydEJlZm9yZVwiXSh5KSk6cS5icmVha1BhcmVudCh5KTtlbHNle2lmKGEpaWYoei5ibG9jay5pcyhcImxpXCIpPyh5PXIuY3JlYXRlRWxlbWVudChnPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCIpLEQmJnkuc2V0QXR0cmlidXRlKFwiZGlyXCIsdiksQiYmeS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLEIpLHUmJnkuc2V0QXR0cmlidXRlKFwiY2xhc3NcIix1KSxxLm1vdmVDaGlsZHJlbih5KSk6eT16LmJsb2NrLGt8fHQpeVtrP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShwKTtlbHNlIHEuYnJlYWtQYXJlbnQocCkseS5pbnNlcnRBZnRlcihwKTtlbHNlIGlmKHEuYXBwZW5kQm9ndXMoITApLGt8fHQpZm9yKDtyPXFbaz9cImdldEZpcnN0XCI6XCJnZXRMYXN0XCJdKCk7KXJbaz9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0ocCk7ZWxzZSBmb3IocS5icmVha1BhcmVudChwKTtyPVxucS5nZXRMYXN0KCk7KXIuaW5zZXJ0QWZ0ZXIocCk7cS5yZW1vdmUoKX1tLnNlbGVjdEJvb2ttYXJrcyhBKTtyZXR1cm59aWYocSYmcS5nZXRQYXJlbnQoKS5pcyhcImJsb2NrcXVvdGVcIikpe3EuYnJlYWtQYXJlbnQocS5nZXRQYXJlbnQoKSk7cS5nZXRQcmV2aW91cygpLmdldEZpcnN0KENLRURJVE9SLmRvbS53YWxrZXIuaW52aXNpYmxlKDEpKXx8cS5nZXRQcmV2aW91cygpLnJlbW92ZSgpO3EuZ2V0TmV4dCgpLmdldEZpcnN0KENLRURJVE9SLmRvbS53YWxrZXIuaW52aXNpYmxlKDEpKXx8cS5nZXROZXh0KCkucmVtb3ZlKCk7ay5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KHEpO2suc2VsZWN0KCk7cmV0dXJufX1lbHNlIGlmKHEmJnEuaXMoXCJwcmVcIikmJiF1KXtsKGEsZyxrLG0pO3JldHVybn1pZihCPWsuc3BsaXRCbG9jayhBKSl7YT1CLnByZXZpb3VzQmxvY2s7cT1CLm5leHRCbG9jaztwPUIud2FzU3RhcnRPZkJsb2NrO3U9Qi53YXNFbmRPZkJsb2NrO3E/KHQ9cS5nZXRQYXJlbnQoKSxcbnQuaXMoXCJsaVwiKSYmKHEuYnJlYWtQYXJlbnQodCkscS5tb3ZlKHEuZ2V0TmV4dCgpLDEpKSk6YSYmKHQ9YS5nZXRQYXJlbnQoKSkmJnQuaXMoXCJsaVwiKSYmKGEuYnJlYWtQYXJlbnQodCksdD1hLmdldE5leHQoKSxrLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQodCksYS5tb3ZlKGEuZ2V0UHJldmlvdXMoKSkpO2lmKHB8fHUpaWYoeChnKSlrLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoay5nZXRUb3VjaGVkU3RhcnROb2RlKCkpO2Vsc2V7aWYoYSl7aWYoYS5pcyhcImxpXCIpfHwhZC50ZXN0KGEuZ2V0TmFtZSgpKSYmIWEuaXMoXCJwcmVcIikpeT1hLmNsb25lKCl9ZWxzZSBxJiYoeT1xLmNsb25lKCkpO3k/bSYmIXkuaXMoXCJsaVwiKSYmeS5yZW5hbWVOb2RlKEEpOnQmJnQuaXMoXCJsaVwiKT95PXQ6KHk9ci5jcmVhdGVFbGVtZW50KEEpLGEmJih2PWEuZ2V0RGlyZWN0aW9uKCkpJiZ5LnNldEF0dHJpYnV0ZShcImRpclwiLHYpKTtpZihyPUIuZWxlbWVudFBhdGgpZm9yKGc9MCxtPXIuZWxlbWVudHMubGVuZ3RoO2c8XG5tO2crKyl7QT1yLmVsZW1lbnRzW2ddO2lmKEEuZXF1YWxzKHIuYmxvY2spfHxBLmVxdWFscyhyLmJsb2NrTGltaXQpKWJyZWFrO0NLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbQS5nZXROYW1lKCldJiYoQT1BLmNsb25lKCkseS5tb3ZlQ2hpbGRyZW4oQSkseS5hcHBlbmQoQSkpfXkuYXBwZW5kQm9ndXMoKTt5LmdldFBhcmVudCgpfHxrLmluc2VydE5vZGUoeSk7eS5pcyhcImxpXCIpJiZ5LnJlbW92ZUF0dHJpYnV0ZShcInZhbHVlXCIpOyFDS0VESVRPUi5lbnYuaWV8fCFwfHx1JiZhLmdldENoaWxkQ291bnQoKXx8KGsubW92ZVRvRWxlbWVudEVkaXRTdGFydCh1P2E6eSksay5zZWxlY3QoKSk7ay5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KHAmJiF1P3E6eSl9ZWxzZSBxLmlzKFwibGlcIikmJih5PWsuY2xvbmUoKSx5LnNlbGVjdE5vZGVDb250ZW50cyhxKSx5PW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKHkpLHkuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiEoYyhhKXx8YihhKXx8YS50eXBlPT1cbkNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGlubGluZSYmIShhLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kZW1wdHkpKX0sKHQ9eS5uZXh0KCkpJiZ0LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmdC5pcyhcInVsXCIsXCJvbFwiKSYmKENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyP3IuY3JlYXRlRWxlbWVudChcImJyXCIpOnIuY3JlYXRlVGV4dChcIsKgXCIpKS5pbnNlcnRCZWZvcmUodCkpLHEmJmsubW92ZVRvRWxlbWVudEVkaXRTdGFydChxKTtrLnNlbGVjdCgpO2suc2Nyb2xsSW50b1ZpZXcoKX19fSxlbnRlckJyOmZ1bmN0aW9uKGEsYixjLGUpe2lmKGM9Y3x8ZihhKSl7dmFyIGs9Yy5kb2N1bWVudCxsPWMuY2hlY2tFbmRPZkJsb2NrKCkscD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGEuZ2V0U2VsZWN0aW9uKCkuZ2V0U3RhcnRFbGVtZW50KCkpLHU9cC5ibG9jayx6PXUmJnAuYmxvY2suZ2V0TmFtZSgpO2V8fFwibGlcIiE9ej8oIWUmJlxubCYmZC50ZXN0KHopPyhsPXUuZ2V0RGlyZWN0aW9uKCkpPyhrPWsuY3JlYXRlRWxlbWVudChcImRpdlwiKSxrLnNldEF0dHJpYnV0ZShcImRpclwiLGwpLGsuaW5zZXJ0QWZ0ZXIodSksYy5zZXRTdGFydChrLDApKTooay5jcmVhdGVFbGVtZW50KFwiYnJcIikuaW5zZXJ0QWZ0ZXIodSksQ0tFRElUT1IuZW52LmdlY2tvJiZrLmNyZWF0ZVRleHQoXCJcIikuaW5zZXJ0QWZ0ZXIodSksYy5zZXRTdGFydEF0KHUuZ2V0TmV4dCgpLENLRURJVE9SLmVudi5pZT9DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQ6Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpKTooYT1cInByZVwiPT16JiZDS0VESVRPUi5lbnYuaWUmJjg+Q0tFRElUT1IuZW52LnZlcnNpb24/ay5jcmVhdGVUZXh0KFwiXFxyXCIpOmsuY3JlYXRlRWxlbWVudChcImJyXCIpLGMuZGVsZXRlQ29udGVudHMoKSxjLmluc2VydE5vZGUoYSksQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXI/KGsuY3JlYXRlVGV4dChcIu+7v1wiKS5pbnNlcnRBZnRlcihhKSxcbmwmJih1fHxwLmJsb2NrTGltaXQpLmFwcGVuZEJvZ3VzKCksYS5nZXROZXh0KCkuJC5ub2RlVmFsdWU9XCJcIixjLnNldFN0YXJ0QXQoYS5nZXROZXh0KCksQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpKTpjLnNldFN0YXJ0QXQoYSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpKSxjLmNvbGxhcHNlKCEwKSxjLnNlbGVjdCgpLGMuc2Nyb2xsSW50b1ZpZXcoKSk6bShhLGIsYyxlKX19fTtrPUNLRURJVE9SLnBsdWdpbnMuZW50ZXJrZXk7bD1rLmVudGVyQnI7bT1rLmVudGVyQmxvY2s7ZD0vXmhbMS02XSQvfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGUpe3ZhciBiPXt9LGM9W10saz17bmJzcDpcIsKgXCIsc2h5Olwiwq1cIixndDpcIlxceDNlXCIsbHQ6XCJcXHgzY1wiLGFtcDpcIlxceDI2XCIsYXBvczpcIidcIixxdW90OidcIid9O2E9YS5yZXBsYWNlKC9cXGIobmJzcHxzaHl8Z3R8bHR8YW1wfGFwb3N8cXVvdCkoPzosfCQpL2csZnVuY3Rpb24oYSxkKXt2YXIgZj1lP1wiXFx4MjZcIitkK1wiO1wiOmtbZF07XG5iW2ZdPWU/a1tkXTpcIlxceDI2XCIrZCtcIjtcIjtjLnB1c2goZik7cmV0dXJuXCJcIn0pO2E9YS5yZXBsYWNlKC8sJC8sXCJcIik7aWYoIWUmJmEpe2E9YS5zcGxpdChcIixcIik7dmFyIGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxtO2wuaW5uZXJIVE1MPVwiXFx4MjZcIithLmpvaW4oXCI7XFx4MjZcIikrXCI7XCI7bT1sLmlubmVySFRNTDtsPW51bGw7Zm9yKGw9MDtsPG0ubGVuZ3RoO2wrKyl7dmFyIGQ9bS5jaGFyQXQobCk7YltkXT1cIlxceDI2XCIrYVtsXStcIjtcIjtjLnB1c2goZCl9fWIucmVnZXg9Yy5qb2luKGU/XCJ8XCI6XCJcIik7cmV0dXJuIGJ9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJlbnRpdGllc1wiLHthZnRlckluaXQ6ZnVuY3Rpb24oZil7ZnVuY3Rpb24gZShhKXtyZXR1cm4gZFthXX1mdW5jdGlvbiBiKGEpe3JldHVyblwiZm9yY2VcIiE9Yy5lbnRpdGllc19wcm9jZXNzTnVtZXJpY2FsJiZsW2FdP2xbYV06XCJcXHgyNiNcIisoQ0tFRElUT1IuZW52LmllP2EuY2hhckNvZGVBdCgwKTphLmNvZGVQb2ludEF0KDApKStcblwiO1wifXZhciBjPWYuY29uZmlnO2lmKGY9KGY9Zi5kYXRhUHJvY2Vzc29yKSYmZi5odG1sRmlsdGVyKXt2YXIgaz1bXTshMSE9PWMuYmFzaWNFbnRpdGllcyYmay5wdXNoKFwibmJzcCxndCxsdCxhbXBcIik7Yy5lbnRpdGllcyYmKGsubGVuZ3RoJiZrLnB1c2goXCJxdW90LGlleGNsLGNlbnQscG91bmQsY3VycmVuLHllbixicnZiYXIsc2VjdCx1bWwsY29weSxvcmRmLGxhcXVvLG5vdCxzaHkscmVnLG1hY3IsZGVnLHBsdXNtbixzdXAyLHN1cDMsYWN1dGUsbWljcm8scGFyYSxtaWRkb3QsY2VkaWwsc3VwMSxvcmRtLHJhcXVvLGZyYWMxNCxmcmFjMTIsZnJhYzM0LGlxdWVzdCx0aW1lcyxkaXZpZGUsZm5vZixidWxsLGhlbGxpcCxwcmltZSxQcmltZSxvbGluZSxmcmFzbCx3ZWllcnAsaW1hZ2UscmVhbCx0cmFkZSxhbGVmc3ltLGxhcnIsdWFycixyYXJyLGRhcnIsaGFycixjcmFycixsQXJyLHVBcnIsckFycixkQXJyLGhBcnIsZm9yYWxsLHBhcnQsZXhpc3QsZW1wdHksbmFibGEsaXNpbixub3RpbixuaSxwcm9kLHN1bSxtaW51cyxsb3dhc3QscmFkaWMscHJvcCxpbmZpbixhbmcsYW5kLG9yLGNhcCxjdXAsaW50LHRoZXJlNCxzaW0sY29uZyxhc3ltcCxuZSxlcXVpdixsZSxnZSxzdWIsc3VwLG5zdWIsc3ViZSxzdXBlLG9wbHVzLG90aW1lcyxwZXJwLHNkb3QsbGNlaWwscmNlaWwsbGZsb29yLHJmbG9vcixsYW5nLHJhbmcsbG96LHNwYWRlcyxjbHVicyxoZWFydHMsZGlhbXMsY2lyYyx0aWxkZSxlbnNwLGVtc3AsdGhpbnNwLHp3bmosendqLGxybSxybG0sbmRhc2gsbWRhc2gsbHNxdW8scnNxdW8sc2JxdW8sbGRxdW8scmRxdW8sYmRxdW8sZGFnZ2VyLERhZ2dlcixwZXJtaWwsbHNhcXVvLHJzYXF1byxldXJvXCIpLFxuYy5lbnRpdGllc19sYXRpbiYmay5wdXNoKFwiQWdyYXZlLEFhY3V0ZSxBY2lyYyxBdGlsZGUsQXVtbCxBcmluZyxBRWxpZyxDY2VkaWwsRWdyYXZlLEVhY3V0ZSxFY2lyYyxFdW1sLElncmF2ZSxJYWN1dGUsSWNpcmMsSXVtbCxFVEgsTnRpbGRlLE9ncmF2ZSxPYWN1dGUsT2NpcmMsT3RpbGRlLE91bWwsT3NsYXNoLFVncmF2ZSxVYWN1dGUsVWNpcmMsVXVtbCxZYWN1dGUsVEhPUk4sc3psaWcsYWdyYXZlLGFhY3V0ZSxhY2lyYyxhdGlsZGUsYXVtbCxhcmluZyxhZWxpZyxjY2VkaWwsZWdyYXZlLGVhY3V0ZSxlY2lyYyxldW1sLGlncmF2ZSxpYWN1dGUsaWNpcmMsaXVtbCxldGgsbnRpbGRlLG9ncmF2ZSxvYWN1dGUsb2NpcmMsb3RpbGRlLG91bWwsb3NsYXNoLHVncmF2ZSx1YWN1dGUsdWNpcmMsdXVtbCx5YWN1dGUsdGhvcm4seXVtbCxPRWxpZyxvZWxpZyxTY2Fyb24sc2Nhcm9uLFl1bWxcIiksYy5lbnRpdGllc19ncmVlayYmay5wdXNoKFwiQWxwaGEsQmV0YSxHYW1tYSxEZWx0YSxFcHNpbG9uLFpldGEsRXRhLFRoZXRhLElvdGEsS2FwcGEsTGFtYmRhLE11LE51LFhpLE9taWNyb24sUGksUmhvLFNpZ21hLFRhdSxVcHNpbG9uLFBoaSxDaGksUHNpLE9tZWdhLGFscGhhLGJldGEsZ2FtbWEsZGVsdGEsZXBzaWxvbix6ZXRhLGV0YSx0aGV0YSxpb3RhLGthcHBhLGxhbWJkYSxtdSxudSx4aSxvbWljcm9uLHBpLHJobyxzaWdtYWYsc2lnbWEsdGF1LHVwc2lsb24scGhpLGNoaSxwc2ksb21lZ2EsdGhldGFzeW0sdXBzaWgscGl2XCIpLFxuYy5lbnRpdGllc19hZGRpdGlvbmFsJiZrLnB1c2goYy5lbnRpdGllc19hZGRpdGlvbmFsKSk7dmFyIGw9YShrLmpvaW4oXCIsXCIpKSxtPWwucmVnZXg/XCJbXCIrbC5yZWdleCtcIl1cIjpcImFeXCI7ZGVsZXRlIGwucmVnZXg7Yy5lbnRpdGllcyYmYy5lbnRpdGllc19wcm9jZXNzTnVtZXJpY2FsJiYobT1cIlteIC1+XXxcIittKTt2YXIgbT1uZXcgUmVnRXhwKG0sQ0tFRElUT1IuZW52LmllP1wiZ1wiOlwiZ3VcIiksZD1hKFwibmJzcCxndCxsdCxhbXAsc2h5XCIsITApLGg9bmV3IFJlZ0V4cChkLnJlZ2V4LFwiZ1wiKTtmLmFkZFJ1bGVzKHt0ZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoaCxlKS5yZXBsYWNlKG0sYil9fSx7YXBwbHlUb0FsbDohMCxleGNsdWRlTmVzdGVkRWRpdGFibGU6ITB9KX19fSl9KCksQ0tFRElUT1IuY29uZmlnLmJhc2ljRW50aXRpZXM9ITAsQ0tFRElUT1IuY29uZmlnLmVudGl0aWVzPSEwLENLRURJVE9SLmNvbmZpZy5lbnRpdGllc19sYXRpbj0hMCxDS0VESVRPUi5jb25maWcuZW50aXRpZXNfZ3JlZWs9XG4hMCxDS0VESVRPUi5jb25maWcuZW50aXRpZXNfYWRkaXRpb25hbD1cIiMzOVwiLENLRURJVE9SLnBsdWdpbnMuYWRkKFwicG9wdXBcIiksQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUse3BvcHVwOmZ1bmN0aW9uKGEsZixlLGIpe2Y9Znx8XCI4MCVcIjtlPWV8fFwiNzAlXCI7XCJzdHJpbmdcIj09dHlwZW9mIGYmJjE8Zi5sZW5ndGgmJlwiJVwiPT1mLnN1YnN0cihmLmxlbmd0aC0xLDEpJiYoZj1wYXJzZUludCh3aW5kb3cuc2NyZWVuLndpZHRoKnBhcnNlSW50KGYsMTApLzEwMCwxMCkpO1wic3RyaW5nXCI9PXR5cGVvZiBlJiYxPGUubGVuZ3RoJiZcIiVcIj09ZS5zdWJzdHIoZS5sZW5ndGgtMSwxKSYmKGU9cGFyc2VJbnQod2luZG93LnNjcmVlbi5oZWlnaHQqcGFyc2VJbnQoZSwxMCkvMTAwLDEwKSk7NjQwPmYmJihmPTY0MCk7NDIwPmUmJihlPTQyMCk7dmFyIGM9cGFyc2VJbnQoKHdpbmRvdy5zY3JlZW4uaGVpZ2h0LWUpLzIsMTApLGs9cGFyc2VJbnQoKHdpbmRvdy5zY3JlZW4ud2lkdGgtXG5mKS8yLDEwKTtiPShifHxcImxvY2F0aW9uXFx4M2RubyxtZW51YmFyXFx4M2Rubyx0b29sYmFyXFx4M2RubyxkZXBlbmRlbnRcXHgzZHllcyxtaW5pbWl6YWJsZVxceDNkbm8sbW9kYWxcXHgzZHllcyxhbHdheXNSYWlzZWRcXHgzZHllcyxyZXNpemFibGVcXHgzZHllcyxzY3JvbGxiYXJzXFx4M2R5ZXNcIikrXCIsd2lkdGhcXHgzZFwiK2YrXCIsaGVpZ2h0XFx4M2RcIitlK1wiLHRvcFxceDNkXCIrYytcIixsZWZ0XFx4M2RcIitrO3ZhciBsPXdpbmRvdy5vcGVuKFwiXCIsbnVsbCxiLCEwKTtpZighbClyZXR1cm4hMTt0cnl7LTE9PW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiIGNocm9tZS9cIikmJihsLm1vdmVUbyhrLGMpLGwucmVzaXplVG8oZixlKSksbC5mb2N1cygpLGwubG9jYXRpb24uaHJlZj1hfWNhdGNoKG0pe3dpbmRvdy5vcGVuKGEsbnVsbCxiLCEwKX1yZXR1cm4hMH19KSxcInVzZSBzdHJpY3RcIixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dGhpcy5lZGl0b3I9YTt0aGlzLmxvYWRlcnM9XG5bXX1mdW5jdGlvbiBmKGEsYixmKXt2YXIgbT1hLmNvbmZpZy5maWxlVG9vbHNfZGVmYXVsdEZpbGVOYW1lO3RoaXMuZWRpdG9yPWE7dGhpcy5sYW5nPWEubGFuZztcInN0cmluZ1wiPT09dHlwZW9mIGI/KHRoaXMuZGF0YT1iLHRoaXMuZmlsZT1lKHRoaXMuZGF0YSksdGhpcy5sb2FkZWQ9dGhpcy50b3RhbD10aGlzLmZpbGUuc2l6ZSk6KHRoaXMuZGF0YT1udWxsLHRoaXMuZmlsZT1iLHRoaXMudG90YWw9dGhpcy5maWxlLnNpemUsdGhpcy5sb2FkZWQ9MCk7Zj90aGlzLmZpbGVOYW1lPWY6dGhpcy5maWxlLm5hbWU/dGhpcy5maWxlTmFtZT10aGlzLmZpbGUubmFtZTooYT10aGlzLmZpbGUudHlwZS5zcGxpdChcIi9cIiksbSYmKGFbMF09bSksdGhpcy5maWxlTmFtZT1hLmpvaW4oXCIuXCIpKTt0aGlzLnVwbG9hZGVkPTA7dGhpcy5yZXNwb25zZURhdGE9dGhpcy51cGxvYWRUb3RhbD1udWxsO3RoaXMuc3RhdHVzPVwiY3JlYXRlZFwiO3RoaXMuYWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLmNoYW5nZVN0YXR1cyhcImFib3J0XCIpfX1cbmZ1bmN0aW9uIGUoYSl7dmFyIGU9YS5tYXRjaChiKVsxXTthPWEucmVwbGFjZShiLFwiXCIpO2E9YXRvYihhKTt2YXIgZj1bXSxtLGQsaCxnO2ZvcihtPTA7bTxhLmxlbmd0aDttKz01MTIpe2Q9YS5zbGljZShtLG0rNTEyKTtoPUFycmF5KGQubGVuZ3RoKTtmb3IoZz0wO2c8ZC5sZW5ndGg7ZysrKWhbZ109ZC5jaGFyQ29kZUF0KGcpO2Q9bmV3IFVpbnQ4QXJyYXkoaCk7Zi5wdXNoKGQpfXJldHVybiBuZXcgQmxvYihmLHt0eXBlOmV9KX1DS0VESVRPUi5wbHVnaW5zLmFkZChcImZpbGV0b29sc1wiLHtiZWZvcmVJbml0OmZ1bmN0aW9uKGIpe2IudXBsb2FkUmVwb3NpdG9yeT1uZXcgYShiKTtiLm9uKFwiZmlsZVVwbG9hZFJlcXVlc3RcIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuZmlsZUxvYWRlcjtiLnhoci5vcGVuKFwiUE9TVFwiLGIudXBsb2FkVXJsLCEwKTthLmRhdGEucmVxdWVzdERhdGEudXBsb2FkPXtmaWxlOmIuZmlsZSxuYW1lOmIuZmlsZU5hbWV9fSxudWxsLG51bGwsNSk7Yi5vbihcImZpbGVVcGxvYWRSZXF1ZXN0XCIsXG5mdW5jdGlvbihhKXt2YXIgZT1hLmRhdGEuZmlsZUxvYWRlcixmPW5ldyBGb3JtRGF0YTthPWEuZGF0YS5yZXF1ZXN0RGF0YTt2YXIgZD1iLmNvbmZpZy5maWxlVG9vbHNfcmVxdWVzdEhlYWRlcnMsaCxnO2ZvcihnIGluIGEpe3ZhciBuPWFbZ107XCJvYmplY3RcIj09PXR5cGVvZiBuJiZuLmZpbGU/Zi5hcHBlbmQoZyxuLmZpbGUsbi5uYW1lKTpmLmFwcGVuZChnLG4pfWYuYXBwZW5kKFwiY2tDc3JmVG9rZW5cIixDS0VESVRPUi50b29scy5nZXRDc3JmVG9rZW4oKSk7aWYoZClmb3IoaCBpbiBkKWUueGhyLnNldFJlcXVlc3RIZWFkZXIoaCxkW2hdKTtlLnhoci5zZW5kKGYpfSxudWxsLG51bGwsOTk5KTtiLm9uKFwiZmlsZVVwbG9hZFJlc3BvbnNlXCIsZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhLmZpbGVMb2FkZXIsYz1iLnhocixkPWEuZGF0YTt0cnl7dmFyIGU9SlNPTi5wYXJzZShjLnJlc3BvbnNlVGV4dCk7ZS5lcnJvciYmZS5lcnJvci5tZXNzYWdlJiYoZC5tZXNzYWdlPWUuZXJyb3IubWVzc2FnZSk7XG5pZihlLnVwbG9hZGVkKWZvcih2YXIgZyBpbiBlKWRbZ109ZVtnXTtlbHNlIGEuY2FuY2VsKCl9Y2F0Y2goZil7ZC5tZXNzYWdlPWIubGFuZy5maWxldG9vbHMucmVzcG9uc2VFcnJvcixDS0VESVRPUi53YXJuKFwiZmlsZXRvb2xzLXJlc3BvbnNlLWVycm9yXCIse3Jlc3BvbnNlVGV4dDpjLnJlc3BvbnNlVGV4dH0pLGEuY2FuY2VsKCl9fSxudWxsLG51bGwsOTk5KX19KTthLnByb3RvdHlwZT17Y3JlYXRlOmZ1bmN0aW9uKGEsYixlKXtlPWV8fGY7dmFyIG09dGhpcy5sb2FkZXJzLmxlbmd0aDthPW5ldyBlKHRoaXMuZWRpdG9yLGEsYik7YS5pZD1tO3RoaXMubG9hZGVyc1ttXT1hO3RoaXMuZmlyZShcImluc3RhbmNlQ3JlYXRlZFwiLGEpO3JldHVybiBhfSxpc0ZpbmlzaGVkOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLmxvYWRlcnMubGVuZ3RoOysrYSlpZighdGhpcy5sb2FkZXJzW2FdLmlzRmluaXNoZWQoKSlyZXR1cm4hMTtyZXR1cm4hMH19O2YucHJvdG90eXBlPXtsb2FkQW5kVXBsb2FkOmZ1bmN0aW9uKGEsXG5iKXt2YXIgZT10aGlzO3RoaXMub25jZShcImxvYWRlZFwiLGZ1bmN0aW9uKGYpe2YuY2FuY2VsKCk7ZS5vbmNlKFwidXBkYXRlXCIsZnVuY3Rpb24oYSl7YS5jYW5jZWwoKX0sbnVsbCxudWxsLDApO2UudXBsb2FkKGEsYil9LG51bGwsbnVsbCwwKTt0aGlzLmxvYWQoKX0sbG9hZDpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj10aGlzLnJlYWRlcj1uZXcgRmlsZVJlYWRlcjthLmNoYW5nZVN0YXR1cyhcImxvYWRpbmdcIik7dGhpcy5hYm9ydD1mdW5jdGlvbigpe2EucmVhZGVyLmFib3J0KCl9O2Iub25hYm9ydD1mdW5jdGlvbigpe2EuY2hhbmdlU3RhdHVzKFwiYWJvcnRcIil9O2Iub25lcnJvcj1mdW5jdGlvbigpe2EubWVzc2FnZT1hLmxhbmcuZmlsZXRvb2xzLmxvYWRFcnJvcjthLmNoYW5nZVN0YXR1cyhcImVycm9yXCIpfTtiLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24oYil7YS5sb2FkZWQ9Yi5sb2FkZWQ7YS51cGRhdGUoKX07Yi5vbmxvYWQ9ZnVuY3Rpb24oKXthLmxvYWRlZD1hLnRvdGFsO2EuZGF0YT1iLnJlc3VsdDtcbmEuY2hhbmdlU3RhdHVzKFwibG9hZGVkXCIpfTtiLnJlYWRBc0RhdGFVUkwodGhpcy5maWxlKX0sdXBsb2FkOmZ1bmN0aW9uKGEsYil7dmFyIGU9Ynx8e307YT8odGhpcy51cGxvYWRVcmw9YSx0aGlzLnhocj1uZXcgWE1MSHR0cFJlcXVlc3QsdGhpcy5hdHRhY2hSZXF1ZXN0TGlzdGVuZXJzKCksdGhpcy5lZGl0b3IuZmlyZShcImZpbGVVcGxvYWRSZXF1ZXN0XCIse2ZpbGVMb2FkZXI6dGhpcyxyZXF1ZXN0RGF0YTplfSkmJnRoaXMuY2hhbmdlU3RhdHVzKFwidXBsb2FkaW5nXCIpKToodGhpcy5tZXNzYWdlPXRoaXMubGFuZy5maWxldG9vbHMubm9VcmxFcnJvcix0aGlzLmNoYW5nZVN0YXR1cyhcImVycm9yXCIpKX0sYXR0YWNoUmVxdWVzdExpc3RlbmVyczpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtcImVycm9yXCIhPWUuc3RhdHVzJiYoZS5tZXNzYWdlPWUubGFuZy5maWxldG9vbHMubmV0d29ya0Vycm9yLGUuY2hhbmdlU3RhdHVzKFwiZXJyb3JcIikpfWZ1bmN0aW9uIGIoKXtcImFib3J0XCIhPWUuc3RhdHVzJiZcbmUuY2hhbmdlU3RhdHVzKFwiYWJvcnRcIil9dmFyIGU9dGhpcyxmPXRoaXMueGhyO2UuYWJvcnQ9ZnVuY3Rpb24oKXtmLmFib3J0KCk7YigpfTtmLm9uZXJyb3I9YTtmLm9uYWJvcnQ9YjtmLnVwbG9hZD8oZi51cGxvYWQub25wcm9ncmVzcz1mdW5jdGlvbihhKXthLmxlbmd0aENvbXB1dGFibGUmJihlLnVwbG9hZFRvdGFsfHwoZS51cGxvYWRUb3RhbD1hLnRvdGFsKSxlLnVwbG9hZGVkPWEubG9hZGVkLGUudXBkYXRlKCkpfSxmLnVwbG9hZC5vbmVycm9yPWEsZi51cGxvYWQub25hYm9ydD1iKTooZS51cGxvYWRUb3RhbD1lLnRvdGFsLGUudXBkYXRlKCkpO2Yub25sb2FkPWZ1bmN0aW9uKCl7ZS51cGRhdGUoKTtpZihcImFib3J0XCIhPWUuc3RhdHVzKWlmKGUudXBsb2FkZWQ9ZS51cGxvYWRUb3RhbCwyMDA+Zi5zdGF0dXN8fDI5OTxmLnN0YXR1cyllLm1lc3NhZ2U9ZS5sYW5nLmZpbGV0b29sc1tcImh0dHBFcnJvclwiK2Yuc3RhdHVzXSxlLm1lc3NhZ2V8fChlLm1lc3NhZ2U9ZS5sYW5nLmZpbGV0b29scy5odHRwRXJyb3IucmVwbGFjZShcIiUxXCIsXG5mLnN0YXR1cykpLGUuY2hhbmdlU3RhdHVzKFwiZXJyb3JcIik7ZWxzZXtmb3IodmFyIGE9e2ZpbGVMb2FkZXI6ZX0sYj1bXCJtZXNzYWdlXCIsXCJmaWxlTmFtZVwiLFwidXJsXCJdLGM9ZS5lZGl0b3IuZmlyZShcImZpbGVVcGxvYWRSZXNwb25zZVwiLGEpLGs9MDtrPGIubGVuZ3RoO2srKyl7dmFyIHc9YltrXTtcInN0cmluZ1wiPT09dHlwZW9mIGFbd10mJihlW3ddPWFbd10pfWUucmVzcG9uc2VEYXRhPWE7ZGVsZXRlIGUucmVzcG9uc2VEYXRhLmZpbGVMb2FkZXI7ITE9PT1jP2UuY2hhbmdlU3RhdHVzKFwiZXJyb3JcIik6ZS5jaGFuZ2VTdGF0dXMoXCJ1cGxvYWRlZFwiKX19fSxjaGFuZ2VTdGF0dXM6ZnVuY3Rpb24oYSl7dGhpcy5zdGF0dXM9YTtpZihcImVycm9yXCI9PWF8fFwiYWJvcnRcIj09YXx8XCJsb2FkZWRcIj09YXx8XCJ1cGxvYWRlZFwiPT1hKXRoaXMuYWJvcnQ9ZnVuY3Rpb24oKXt9O3RoaXMuZmlyZShhKTt0aGlzLnVwZGF0ZSgpfSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLmZpcmUoXCJ1cGRhdGVcIil9LGlzRmluaXNoZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuc3RhdHVzLm1hdGNoKC9eKD86bG9hZGVkfHVwbG9hZGVkfGVycm9yfGFib3J0KSQvKX19O1xuQ0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oYS5wcm90b3R5cGUpO0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKGYucHJvdG90eXBlKTt2YXIgYj0vXmRhdGE6KFxcUyo/KTtiYXNlNjQsLztDS0VESVRPUi5maWxlVG9vbHN8fChDS0VESVRPUi5maWxlVG9vbHM9e30pO0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5maWxlVG9vbHMse3VwbG9hZFJlcG9zaXRvcnk6YSxmaWxlTG9hZGVyOmYsZ2V0VXBsb2FkVXJsOmZ1bmN0aW9uKGEsYil7dmFyIGU9Q0tFRElUT1IudG9vbHMuY2FwaXRhbGl6ZTtyZXR1cm4gYiYmYVtiK1wiVXBsb2FkVXJsXCJdP2FbYitcIlVwbG9hZFVybFwiXTphLnVwbG9hZFVybD9hLnVwbG9hZFVybDpiJiZhW1wiZmlsZWJyb3dzZXJcIitlKGIsMSkrXCJVcGxvYWRVcmxcIl0/YVtcImZpbGVicm93c2VyXCIrZShiLDEpK1wiVXBsb2FkVXJsXCJdK1wiXFx4MjZyZXNwb25zZVR5cGVcXHgzZGpzb25cIjphLmZpbGVicm93c2VyVXBsb2FkVXJsP2EuZmlsZWJyb3dzZXJVcGxvYWRVcmwrXG5cIlxceDI2cmVzcG9uc2VUeXBlXFx4M2Rqc29uXCI6bnVsbH0saXNUeXBlU3VwcG9ydGVkOmZ1bmN0aW9uKGEsYil7cmV0dXJuISFhLnR5cGUubWF0Y2goYil9LGlzRmlsZVVwbG9hZFN1cHBvcnRlZDpcImZ1bmN0aW9uXCI9PT10eXBlb2YgRmlsZVJlYWRlciYmXCJmdW5jdGlvblwiPT09dHlwZW9mKG5ldyBGaWxlUmVhZGVyKS5yZWFkQXNEYXRhVVJMJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgRm9ybURhdGEmJlwiZnVuY3Rpb25cIj09PXR5cGVvZihuZXcgRm9ybURhdGEpLmFwcGVuZCYmXCJmdW5jdGlvblwiPT09dHlwZW9mIFhNTEh0dHBSZXF1ZXN0JiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgQmxvYn0pfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe3ZhciBkPVtdO2lmKGIpZm9yKHZhciBjIGluIGIpZC5wdXNoKGMrXCJcXHgzZFwiK2VuY29kZVVSSUNvbXBvbmVudChiW2NdKSk7ZWxzZSByZXR1cm4gYTtyZXR1cm4gYSsoLTEhPWEuaW5kZXhPZihcIj9cIik/XCJcXHgyNlwiOlwiP1wiKStkLmpvaW4oXCJcXHgyNlwiKX1mdW5jdGlvbiBmKGIpe3JldHVybiFiLm1hdGNoKC9jb21tYW5kPVF1aWNrVXBsb2FkLyl8fFxuYi5tYXRjaCgvKFxcP3wmKXJlc3BvbnNlVHlwZT1qc29uLyk/YjphKGIse3Jlc3BvbnNlVHlwZTpcImpzb25cIn0pfWZ1bmN0aW9uIGUoYSl7YSs9XCJcIjtyZXR1cm4gYS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKX1mdW5jdGlvbiBiKCl7dmFyIGI9dGhpcy5nZXREaWFsb2coKSxkPWIuZ2V0UGFyZW50RWRpdG9yKCk7ZC5fLmZpbGVicm93c2VyU2U9dGhpczt2YXIgYz1kLmNvbmZpZ1tcImZpbGVicm93c2VyXCIrZShiLmdldE5hbWUoKSkrXCJXaW5kb3dXaWR0aFwiXXx8ZC5jb25maWcuZmlsZWJyb3dzZXJXaW5kb3dXaWR0aHx8XCI4MCVcIixiPWQuY29uZmlnW1wiZmlsZWJyb3dzZXJcIitlKGIuZ2V0TmFtZSgpKStcIldpbmRvd0hlaWdodFwiXXx8ZC5jb25maWcuZmlsZWJyb3dzZXJXaW5kb3dIZWlnaHR8fFwiNzAlXCIsZz10aGlzLmZpbGVicm93c2VyLnBhcmFtc3x8e307Zy5DS0VkaXRvcj1kLm5hbWU7Zy5DS0VkaXRvckZ1bmNOdW09ZC5fLmZpbGVicm93c2VyRm47Zy5sYW5nQ29kZXx8XG4oZy5sYW5nQ29kZT1kLmxhbmdDb2RlKTtnPWEodGhpcy5maWxlYnJvd3Nlci51cmwsZyk7ZC5wb3B1cChnLGMsYixkLmNvbmZpZy5maWxlYnJvd3NlcldpbmRvd0ZlYXR1cmVzfHxkLmNvbmZpZy5maWxlQnJvd3NlcldpbmRvd0ZlYXR1cmVzKX1mdW5jdGlvbiBjKGEpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChhLiQuZm9ybSk7YiYmKChhPWIuJC5lbGVtZW50cy5ja0NzcmZUb2tlbik/YT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSk6KGE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiaW5wdXRcIiksYS5zZXRBdHRyaWJ1dGVzKHtuYW1lOlwiY2tDc3JmVG9rZW5cIix0eXBlOlwiaGlkZGVuXCJ9KSxiLmFwcGVuZChhKSksYS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLENLRURJVE9SLnRvb2xzLmdldENzcmZUb2tlbigpKSl9ZnVuY3Rpb24gaygpe3ZhciBhPXRoaXMuZ2V0RGlhbG9nKCk7YS5nZXRQYXJlbnRFZGl0b3IoKS5fLmZpbGVicm93c2VyU2U9dGhpcztyZXR1cm4gYS5nZXRDb250ZW50RWxlbWVudCh0aGlzW1wiZm9yXCJdWzBdLFxudGhpc1tcImZvclwiXVsxXSkuZ2V0SW5wdXRFbGVtZW50KCkuJC52YWx1ZSYmYS5nZXRDb250ZW50RWxlbWVudCh0aGlzW1wiZm9yXCJdWzBdLHRoaXNbXCJmb3JcIl1bMV0pLmdldEFjdGlvbigpPyEwOiExfWZ1bmN0aW9uIGwoYixkLGMpe3ZhciBlPWMucGFyYW1zfHx7fTtlLkNLRWRpdG9yPWIubmFtZTtlLkNLRWRpdG9yRnVuY051bT1iLl8uZmlsZWJyb3dzZXJGbjtlLmxhbmdDb2RlfHwoZS5sYW5nQ29kZT1iLmxhbmdDb2RlKTtkLmFjdGlvbj1hKGMudXJsLGUpO2QuZmlsZWJyb3dzZXI9Y31mdW5jdGlvbiBtKGEsaCx4LHIpe2lmKHImJnIubGVuZ3RoKWZvcih2YXIgcCx1PXIubGVuZ3RoO3UtLTspaWYocD1yW3VdLFwiaGJveFwiIT1wLnR5cGUmJlwidmJveFwiIT1wLnR5cGUmJlwiZmllbGRzZXRcIiE9cC50eXBlfHxtKGEsaCx4LHAuY2hpbGRyZW4pLHAuZmlsZWJyb3dzZXIpaWYoXCJzdHJpbmdcIj09dHlwZW9mIHAuZmlsZWJyb3dzZXImJihwLmZpbGVicm93c2VyPXthY3Rpb246XCJmaWxlQnV0dG9uXCI9PVxucC50eXBlP1wiUXVpY2tVcGxvYWRcIjpcIkJyb3dzZVwiLHRhcmdldDpwLmZpbGVicm93c2VyfSksXCJCcm93c2VcIj09cC5maWxlYnJvd3Nlci5hY3Rpb24pe3ZhciB6PXAuZmlsZWJyb3dzZXIudXJsO3ZvaWQgMD09PXomJih6PWEuY29uZmlnW1wiZmlsZWJyb3dzZXJcIitlKGgpK1wiQnJvd3NlVXJsXCJdLHZvaWQgMD09PXomJih6PWEuY29uZmlnLmZpbGVicm93c2VyQnJvd3NlVXJsKSk7eiYmKHAub25DbGljaz1iLHAuZmlsZWJyb3dzZXIudXJsPXoscC5oaWRkZW49ITEpfWVsc2UgaWYoXCJRdWlja1VwbG9hZFwiPT1wLmZpbGVicm93c2VyLmFjdGlvbiYmcFtcImZvclwiXSYmKHo9cC5maWxlYnJvd3Nlci51cmwsdm9pZCAwPT09eiYmKHo9YS5jb25maWdbXCJmaWxlYnJvd3NlclwiK2UoaCkrXCJVcGxvYWRVcmxcIl0sdm9pZCAwPT09eiYmKHo9YS5jb25maWcuZmlsZWJyb3dzZXJVcGxvYWRVcmwpKSx6KSl7dmFyIHE9cC5vbkNsaWNrO3Aub25DbGljaz1mdW5jdGlvbihiKXt2YXIgZT1iLnNlbmRlcixoPWUuZ2V0RGlhbG9nKCkuZ2V0Q29udGVudEVsZW1lbnQodGhpc1tcImZvclwiXVswXSxcbnRoaXNbXCJmb3JcIl1bMV0pLmdldElucHV0RWxlbWVudCgpLGw9Q0tFRElUT1IuZmlsZVRvb2xzJiZDS0VESVRPUi5maWxlVG9vbHMuaXNGaWxlVXBsb2FkU3VwcG9ydGVkO2lmKHEmJiExPT09cS5jYWxsKGUsYikpcmV0dXJuITE7aWYoay5jYWxsKGUsYikpe2lmKFwiZm9ybVwiIT09YS5jb25maWcuZmlsZWJyb3dzZXJVcGxvYWRNZXRob2QmJmwpcmV0dXJuIGI9YS51cGxvYWRSZXBvc2l0b3J5LmNyZWF0ZShoLiQuZmlsZXNbMF0pLGIub24oXCJ1cGxvYWRlZFwiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuc2VuZGVyLnJlc3BvbnNlRGF0YTtnLmNhbGwoYS5zZW5kZXIuZWRpdG9yLGIudXJsLGIubWVzc2FnZSl9KSxiLm9uKFwiZXJyb3JcIixkLmJpbmQodGhpcykpLGIub24oXCJhYm9ydFwiLGQuYmluZCh0aGlzKSksYi5sb2FkQW5kVXBsb2FkKGYoeikpLFwieGhyXCI7YyhoKTtyZXR1cm4hMH1yZXR1cm4hMX07cC5maWxlYnJvd3Nlci51cmw9ejtwLmhpZGRlbj0hMTtsKGEseC5nZXRDb250ZW50cyhwW1wiZm9yXCJdWzBdKS5nZXQocFtcImZvclwiXVsxXSksXG5wLmZpbGVicm93c2VyKX19ZnVuY3Rpb24gZChhKXt2YXIgYj17fTt0cnl7Yj1KU09OLnBhcnNlKGEuc2VuZGVyLnhoci5yZXNwb25zZSl8fHt9fWNhdGNoKGQpe310aGlzLmVuYWJsZSgpO2FsZXJ0KGIuZXJyb3I/Yi5lcnJvci5tZXNzYWdlOmEuc2VuZGVyLm1lc3NhZ2UpfWZ1bmN0aW9uIGgoYSxiLGQpe2lmKC0xIT09ZC5pbmRleE9mKFwiO1wiKSl7ZD1kLnNwbGl0KFwiO1wiKTtmb3IodmFyIGM9MDtjPGQubGVuZ3RoO2MrKylpZihoKGEsYixkW2NdKSlyZXR1cm4hMDtyZXR1cm4hMX1yZXR1cm4oYT1hLmdldENvbnRlbnRzKGIpLmdldChkKS5maWxlYnJvd3NlcikmJmEudXJsfWZ1bmN0aW9uIGcoYSxiKXt2YXIgZD10aGlzLl8uZmlsZWJyb3dzZXJTZS5nZXREaWFsb2coKSxjPXRoaXMuXy5maWxlYnJvd3NlclNlW1wiZm9yXCJdLGU9dGhpcy5fLmZpbGVicm93c2VyU2UuZmlsZWJyb3dzZXIub25TZWxlY3Q7YyYmZC5nZXRDb250ZW50RWxlbWVudChjWzBdLGNbMV0pLnJlc2V0KCk7aWYoXCJmdW5jdGlvblwiIT1cbnR5cGVvZiBifHwhMSE9PWIuY2FsbCh0aGlzLl8uZmlsZWJyb3dzZXJTZSkpaWYoIWV8fCExIT09ZS5jYWxsKHRoaXMuXy5maWxlYnJvd3NlclNlLGEsYikpaWYoXCJzdHJpbmdcIj09dHlwZW9mIGImJmImJmFsZXJ0KGIpLGEmJihjPXRoaXMuXy5maWxlYnJvd3NlclNlLGQ9Yy5nZXREaWFsb2coKSxjPWMuZmlsZWJyb3dzZXIudGFyZ2V0fHxudWxsKSlpZihjPWMuc3BsaXQoXCI6XCIpLGU9ZC5nZXRDb250ZW50RWxlbWVudChjWzBdLGNbMV0pKWUuc2V0VmFsdWUoYSksZC5zZWxlY3RQYWdlKGNbMF0pfUNLRURJVE9SLnBsdWdpbnMuYWRkKFwiZmlsZWJyb3dzZXJcIix7cmVxdWlyZXM6XCJwb3B1cCxmaWxldG9vbHNcIixpbml0OmZ1bmN0aW9uKGEpe2EuXy5maWxlYnJvd3NlckZuPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGcsYSk7YS5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKHRoaXMuXy5maWxlYnJvd3NlckZuKX0pfX0pO0NLRURJVE9SLm9uKFwiZGlhbG9nRGVmaW5pdGlvblwiLFxuZnVuY3Rpb24oYSl7aWYoYS5lZGl0b3IucGx1Z2lucy5maWxlYnJvd3Nlcilmb3IodmFyIGI9YS5kYXRhLmRlZmluaXRpb24sZCxjPTA7YzxiLmNvbnRlbnRzLmxlbmd0aDsrK2MpaWYoZD1iLmNvbnRlbnRzW2NdKW0oYS5lZGl0b3IsYS5kYXRhLm5hbWUsYixkLmVsZW1lbnRzKSxkLmhpZGRlbiYmZC5maWxlYnJvd3NlciYmKGQuaGlkZGVuPSFoKGIsZC5pZCxkLmZpbGVicm93c2VyKSl9KX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dmFyIGM9YS5jb25maWcsaz1hLmZpcmUoXCJ1aVNwYWNlXCIse3NwYWNlOlwidG9wXCIsaHRtbDpcIlwifSkuaHRtbCxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZyhhLGIsYyl7ZC5zZXRTdHlsZShiLGUoYykpO2Quc2V0U3R5bGUoXCJwb3NpdGlvblwiLGEpfWZ1bmN0aW9uIGgoYSl7dmFyIGI9bS5nZXREb2N1bWVudFBvc2l0aW9uKCk7c3dpdGNoKGEpe2Nhc2UgXCJ0b3BcIjpnKFwiYWJzb2x1dGVcIixcInRvcFwiLGIueS1xLXQpO2JyZWFrO2Nhc2UgXCJwaW5cIjpnKFwiZml4ZWRcIixcblwidG9wXCIsQik7YnJlYWs7Y2FzZSBcImJvdHRvbVwiOmcoXCJhYnNvbHV0ZVwiLFwidG9wXCIsYi55Kyh1LmhlaWdodHx8dS5ib3R0b20tdS50b3ApK3QpfWs9YX12YXIgayxtLHAsdSx6LHEsQSx5PWMuZmxvYXRTcGFjZURvY2tlZE9mZnNldFh8fDAsdD1jLmZsb2F0U3BhY2VEb2NrZWRPZmZzZXRZfHwwLHY9Yy5mbG9hdFNwYWNlUGlubmVkT2Zmc2V0WHx8MCxCPWMuZmxvYXRTcGFjZVBpbm5lZE9mZnNldFl8fDA7cmV0dXJuIGZ1bmN0aW9uKGcpe2lmKG09YS5lZGl0YWJsZSgpKXt2YXIgbj1nJiZcImZvY3VzXCI9PWcubmFtZTtuJiZkLnNob3coKTthLmZpcmUoXCJmbG9hdGluZ1NwYWNlTGF5b3V0XCIse3Nob3c6bn0pO2QucmVtb3ZlU3R5bGUoXCJsZWZ0XCIpO2QucmVtb3ZlU3R5bGUoXCJyaWdodFwiKTtwPWQuZ2V0Q2xpZW50UmVjdCgpO3U9bS5nZXRDbGllbnRSZWN0KCk7ej1mLmdldFZpZXdQYW5lU2l6ZSgpO3E9cC5oZWlnaHQ7QT1cInBhZ2VYT2Zmc2V0XCJpbiBmLiQ/Zi4kLnBhZ2VYT2Zmc2V0OkNLRURJVE9SLmRvY3VtZW50LiQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XG5rPyhxK3Q8PXUudG9wP2goXCJ0b3BcIik6cSt0PnouaGVpZ2h0LXUuYm90dG9tP2goXCJwaW5cIik6aChcImJvdHRvbVwiKSxnPXoud2lkdGgvMixnPWMuZmxvYXRTcGFjZVByZWZlclJpZ2h0P1wicmlnaHRcIjowPHUubGVmdCYmdS5yaWdodDx6LndpZHRoJiZ1LndpZHRoPnAud2lkdGg/XCJydGxcIj09Yy5jb250ZW50c0xhbmdEaXJlY3Rpb24/XCJyaWdodFwiOlwibGVmdFwiOmctdS5sZWZ0PnUucmlnaHQtZz9cImxlZnRcIjpcInJpZ2h0XCIscC53aWR0aD56LndpZHRoPyhnPVwibGVmdFwiLG49MCk6KG49XCJsZWZ0XCI9PWc/MDx1LmxlZnQ/dS5sZWZ0OjA6dS5yaWdodDx6LndpZHRoP3oud2lkdGgtdS5yaWdodDowLG4rcC53aWR0aD56LndpZHRoJiYoZz1cImxlZnRcIj09Zz9cInJpZ2h0XCI6XCJsZWZ0XCIsbj0wKSksZC5zZXRTdHlsZShnLGUoKFwicGluXCI9PWs/djp5KStuKyhcInBpblwiPT1rPzA6XCJsZWZ0XCI9PWc/QTotQSkpKSk6KGs9XCJwaW5cIixoKFwicGluXCIpLGwoZykpfX19KCk7aWYoayl7dmFyIG09bmV3IENLRURJVE9SLnRlbXBsYXRlKCdcXHgzY2RpdiBpZFxceDNkXCJja2Vfe25hbWV9XCIgY2xhc3NcXHgzZFwiY2tlIHtpZH0gY2tlX3Jlc2V0X2FsbCBja2VfY2hyb21lIGNrZV9lZGl0b3Jfe25hbWV9IGNrZV9mbG9hdCBja2Vfe2xhbmdEaXJ9ICcrXG5DS0VESVRPUi5lbnYuY3NzQ2xhc3MrJ1wiIGRpclxceDNkXCJ7bGFuZ0Rpcn1cIiB0aXRsZVxceDNkXCInKyhDS0VESVRPUi5lbnYuZ2Vja28/XCIgXCI6XCJcIikrJ1wiIGxhbmdcXHgzZFwie2xhbmdDb2RlfVwiIHJvbGVcXHgzZFwiYXBwbGljYXRpb25cIiBzdHlsZVxceDNkXCJ7c3R5bGV9XCInKyhhLmFwcGxpY2F0aW9uVGl0bGU/JyBhcmlhLWxhYmVsbGVkYnlcXHgzZFwiY2tlX3tuYW1lfV9hcmlhbGJsXCInOlwiIFwiKStcIlxceDNlXCIrKGEuYXBwbGljYXRpb25UaXRsZT8nXFx4M2NzcGFuIGlkXFx4M2RcImNrZV97bmFtZX1fYXJpYWxibFwiIGNsYXNzXFx4M2RcImNrZV92b2ljZV9sYWJlbFwiXFx4M2V7dm9pY2VMYWJlbH1cXHgzYy9zcGFuXFx4M2UnOlwiIFwiKSsnXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX2lubmVyXCJcXHgzZVxceDNjZGl2IGlkXFx4M2RcInt0b3BJZH1cIiBjbGFzc1xceDNkXCJja2VfdG9wXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNle2NvbnRlbnR9XFx4M2MvZGl2XFx4M2VcXHgzYy9kaXZcXHgzZVxceDNjL2RpdlxceDNlJyksZD1DS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuYXBwZW5kKENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKG0ub3V0cHV0KHtjb250ZW50OmssXG5pZDphLmlkLGxhbmdEaXI6YS5sYW5nLmRpcixsYW5nQ29kZTphLmxhbmdDb2RlLG5hbWU6YS5uYW1lLHN0eWxlOlwiZGlzcGxheTpub25lO3otaW5kZXg6XCIrKGMuYmFzZUZsb2F0WkluZGV4LTEpLHRvcElkOmEudWkuc3BhY2VJZChcInRvcFwiKSx2b2ljZUxhYmVsOmEuYXBwbGljYXRpb25UaXRsZX0pKSksaD1DS0VESVRPUi50b29scy5ldmVudHNCdWZmZXIoNTAwLGwpLGc9Q0tFRElUT1IudG9vbHMuZXZlbnRzQnVmZmVyKDEwMCxsKTtkLnVuc2VsZWN0YWJsZSgpO2Qub24oXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXthPWEuZGF0YTthLmdldFRhcmdldCgpLmhhc0FzY2VuZGFudChcImFcIiwxKXx8YS5wcmV2ZW50RGVmYXVsdCgpfSk7YS5vbihcImZvY3VzXCIsZnVuY3Rpb24oZCl7bChkKTthLm9uKFwiY2hhbmdlXCIsaC5pbnB1dCk7Zi5vbihcInNjcm9sbFwiLGcuaW5wdXQpO2Yub24oXCJyZXNpemVcIixnLmlucHV0KX0pO2Eub24oXCJibHVyXCIsZnVuY3Rpb24oKXtkLmhpZGUoKTthLnJlbW92ZUxpc3RlbmVyKFwiY2hhbmdlXCIsXG5oLmlucHV0KTtmLnJlbW92ZUxpc3RlbmVyKFwic2Nyb2xsXCIsZy5pbnB1dCk7Zi5yZW1vdmVMaXN0ZW5lcihcInJlc2l6ZVwiLGcuaW5wdXQpfSk7YS5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe2YucmVtb3ZlTGlzdGVuZXIoXCJzY3JvbGxcIixnLmlucHV0KTtmLnJlbW92ZUxpc3RlbmVyKFwicmVzaXplXCIsZy5pbnB1dCk7ZC5jbGVhckN1c3RvbURhdGEoKTtkLnJlbW92ZSgpfSk7YS5mb2N1c01hbmFnZXIuaGFzRm9jdXMmJmQuc2hvdygpO2EuZm9jdXNNYW5hZ2VyLmFkZChkLDEpfX12YXIgZj1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKSxlPUNLRURJVE9SLnRvb2xzLmNzc0xlbmd0aDtDS0VESVRPUi5wbHVnaW5zLmFkZChcImZsb2F0aW5nc3BhY2VcIix7aW5pdDpmdW5jdGlvbihiKXtiLm9uKFwibG9hZGVkXCIsZnVuY3Rpb24oKXthKHRoaXMpfSxudWxsLG51bGwsMjApfX0pfSgpLENLRURJVE9SLnBsdWdpbnMuYWRkKFwibGlzdGJsb2NrXCIse3JlcXVpcmVzOlwicGFuZWxcIixvbkxvYWQ6ZnVuY3Rpb24oKXt2YXIgYT1cbkNLRURJVE9SLmFkZFRlbXBsYXRlKFwicGFuZWwtbGlzdFwiLCdcXHgzY3VsIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCIgY2xhc3NcXHgzZFwiY2tlX3BhbmVsX2xpc3RcIlxceDNle2l0ZW1zfVxceDNjL3VsXFx4M2UnKSxmPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwicGFuZWwtbGlzdC1pdGVtXCIsJ1xceDNjbGkgaWRcXHgzZFwie2lkfVwiIGNsYXNzXFx4M2RcImNrZV9wYW5lbF9saXN0SXRlbVwiIHJvbGVcXHgzZHByZXNlbnRhdGlvblxceDNlXFx4M2NhIGlkXFx4M2RcIntpZH1fb3B0aW9uXCIgX2NrZV9mb2N1c1xceDNkMSBoaWRlZm9jdXNcXHgzZHRydWUgdGl0bGVcXHgzZFwie3RpdGxlfVwiIGRyYWdnYWJsZVxceDNkXCJmYWxzZVwiIG9uZHJhZ3N0YXJ0XFx4M2RcInJldHVybiBmYWxzZTtcIiBocmVmXFx4M2RcImphdmFzY3JpcHQ6dm9pZChcXCd7dmFsfVxcJylcIiAgb25jbGlja1xceDNkXCJ7b25jbGlja31DS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2NsaWNrRm59LFxcJ3t2YWx9XFwnKTsgcmV0dXJuIGZhbHNlO1wiIHJvbGVcXHgzZFwib3B0aW9uXCJcXHgzZXt0ZXh0fVxceDNjL2FcXHgzZVxceDNjL2xpXFx4M2UnKSxcbmU9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJwYW5lbC1saXN0LWdyb3VwXCIsJ1xceDNjaDEgaWRcXHgzZFwie2lkfVwiIGRyYWdnYWJsZVxceDNkXCJmYWxzZVwiIG9uZHJhZ3N0YXJ0XFx4M2RcInJldHVybiBmYWxzZTtcIiBjbGFzc1xceDNkXCJja2VfcGFuZWxfZ3JvdXB0aXRsZVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCIgXFx4M2V7bGFiZWx9XFx4M2MvaDFcXHgzZScpLGI9L1xcJy9nO0NLRURJVE9SLnVpLnBhbmVsLnByb3RvdHlwZS5hZGRMaXN0QmxvY2s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5hZGRCbG9jayhhLG5ldyBDS0VESVRPUi51aS5saXN0QmxvY2sodGhpcy5nZXRIb2xkZXJFbGVtZW50KCksYikpfTtDS0VESVRPUi51aS5saXN0QmxvY2s9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3Moe2Jhc2U6Q0tFRElUT1IudWkucGFuZWwuYmxvY2ssJDpmdW5jdGlvbihhLGIpe2I9Ynx8e307dmFyIGU9Yi5hdHRyaWJ1dGVzfHwoYi5hdHRyaWJ1dGVzPXt9KTsodGhpcy5tdWx0aVNlbGVjdD0hIWIubXVsdGlTZWxlY3QpJiZcbihlW1wiYXJpYS1tdWx0aXNlbGVjdGFibGVcIl09ITApOyFlLnJvbGUmJihlLnJvbGU9XCJsaXN0Ym94XCIpO3RoaXMuYmFzZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShcInJvbGVcIixlLnJvbGUpO2U9dGhpcy5rZXlzO2VbNDBdPVwibmV4dFwiO2VbOV09XCJuZXh0XCI7ZVszOF09XCJwcmV2XCI7ZVtDS0VESVRPUi5TSElGVCs5XT1cInByZXZcIjtlWzMyXT1DS0VESVRPUi5lbnYuaWU/XCJtb3VzZXVwXCI6XCJjbGlja1wiO0NLRURJVE9SLmVudi5pZSYmKGVbMTNdPVwibW91c2V1cFwiKTt0aGlzLl8ucGVuZGluZ0h0bWw9W107dGhpcy5fLnBlbmRpbmdMaXN0PVtdO3RoaXMuXy5pdGVtcz17fTt0aGlzLl8uZ3JvdXBzPXt9fSxfOntjbG9zZTpmdW5jdGlvbigpe2lmKHRoaXMuXy5zdGFydGVkKXt2YXIgYj1hLm91dHB1dCh7aXRlbXM6dGhpcy5fLnBlbmRpbmdMaXN0LmpvaW4oXCJcIil9KTt0aGlzLl8ucGVuZGluZ0xpc3Q9W107dGhpcy5fLnBlbmRpbmdIdG1sLnB1c2goYik7XG5kZWxldGUgdGhpcy5fLnN0YXJ0ZWR9fSxnZXRDbGljazpmdW5jdGlvbigpe3RoaXMuXy5jbGlja3x8KHRoaXMuXy5jbGljaz1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihhKXt2YXIgYj10aGlzLnRvZ2dsZShhKTtpZih0aGlzLm9uQ2xpY2spdGhpcy5vbkNsaWNrKGEsYil9LHRoaXMpKTtyZXR1cm4gdGhpcy5fLmNsaWNrfX0scHJvdG86e2FkZDpmdW5jdGlvbihhLGUsbCl7dmFyIG09Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCk7dGhpcy5fLnN0YXJ0ZWR8fCh0aGlzLl8uc3RhcnRlZD0xLHRoaXMuXy5zaXplPXRoaXMuXy5zaXplfHwwKTt0aGlzLl8uaXRlbXNbYV09bTt2YXIgZDtkPUNLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGVBdHRyKGEpLnJlcGxhY2UoYixcIlxcXFwnXCIpO2E9e2lkOm0sdmFsOmQsb25jbGljazpDS0VESVRPUi5lbnYuaWU/J3JldHVybiBmYWxzZTtcIiBvbm1vdXNldXBcXHgzZFwiQ0tFRElUT1IudG9vbHMuZ2V0TW91c2VCdXR0b24oZXZlbnQpXFx4M2RcXHgzZFxceDNkQ0tFRElUT1IuTU9VU0VfQlVUVE9OX0xFRlRcXHgyNlxceDI2JzpcblwiXCIsY2xpY2tGbjp0aGlzLl8uZ2V0Q2xpY2soKSx0aXRsZTpDS0VESVRPUi50b29scy5odG1sRW5jb2RlQXR0cihsfHxhKSx0ZXh0OmV8fGF9O3RoaXMuXy5wZW5kaW5nTGlzdC5wdXNoKGYub3V0cHV0KGEpKX0sc3RhcnRHcm91cDpmdW5jdGlvbihhKXt0aGlzLl8uY2xvc2UoKTt2YXIgYj1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKTt0aGlzLl8uZ3JvdXBzW2FdPWI7dGhpcy5fLnBlbmRpbmdIdG1sLnB1c2goZS5vdXRwdXQoe2lkOmIsbGFiZWw6YX0pKX0sY29tbWl0OmZ1bmN0aW9uKCl7dGhpcy5fLmNsb3NlKCk7dGhpcy5lbGVtZW50LmFwcGVuZEh0bWwodGhpcy5fLnBlbmRpbmdIdG1sLmpvaW4oXCJcIikpO2RlbGV0ZSB0aGlzLl8uc2l6ZTt0aGlzLl8ucGVuZGluZ0h0bWw9W119LHRvZ2dsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmlzTWFya2VkKGEpO2I/dGhpcy51bm1hcmsoYSk6dGhpcy5tYXJrKGEpO3JldHVybiFifSxoaWRlR3JvdXA6ZnVuY3Rpb24oYSl7dmFyIGI9KGE9XG50aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKHRoaXMuXy5ncm91cHNbYV0pKSYmYS5nZXROZXh0KCk7YSYmKGEuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpLGImJlwidWxcIj09Yi5nZXROYW1lKCkmJmIuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpKX0saGlkZUl0ZW06ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZCh0aGlzLl8uaXRlbXNbYV0pLnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKX0sc2hvd0FsbDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5pdGVtcyxiPXRoaXMuXy5ncm91cHMsZT10aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKSxmO2ZvcihmIGluIGEpZS5nZXRCeUlkKGFbZl0pLnNldFN0eWxlKFwiZGlzcGxheVwiLFwiXCIpO2Zvcih2YXIgZCBpbiBiKWE9ZS5nZXRCeUlkKGJbZF0pLGY9YS5nZXROZXh0KCksYS5zZXRTdHlsZShcImRpc3BsYXlcIixcIlwiKSxmJiZcInVsXCI9PWYuZ2V0TmFtZSgpJiZmLnNldFN0eWxlKFwiZGlzcGxheVwiLFxuXCJcIil9LG1hcms6ZnVuY3Rpb24oYSl7dGhpcy5tdWx0aVNlbGVjdHx8dGhpcy51bm1hcmtBbGwoKTthPXRoaXMuXy5pdGVtc1thXTt2YXIgYj10aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKGEpO2IuYWRkQ2xhc3MoXCJja2Vfc2VsZWN0ZWRcIik7dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZChhK1wiX29wdGlvblwiKS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsITApO3RoaXMub25NYXJrJiZ0aGlzLm9uTWFyayhiKX0sbWFya0ZpcnN0RGlzcGxheWVkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLl8ubWFya0ZpcnN0RGlzcGxheWVkKGZ1bmN0aW9uKCl7YS5tdWx0aVNlbGVjdHx8YS51bm1hcmtBbGwoKX0pfSx1bm1hcms6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCk7YT10aGlzLl8uaXRlbXNbYV07dmFyIGU9Yi5nZXRCeUlkKGEpO2UucmVtb3ZlQ2xhc3MoXCJja2Vfc2VsZWN0ZWRcIik7Yi5nZXRCeUlkKGErXCJfb3B0aW9uXCIpLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIik7XG50aGlzLm9uVW5tYXJrJiZ0aGlzLm9uVW5tYXJrKGUpfSx1bm1hcmtBbGw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uaXRlbXMsYj10aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKSxlO2ZvcihlIGluIGEpe3ZhciBmPWFbZV07Yi5nZXRCeUlkKGYpLnJlbW92ZUNsYXNzKFwiY2tlX3NlbGVjdGVkXCIpO2IuZ2V0QnlJZChmK1wiX29wdGlvblwiKS5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIpfXRoaXMub25Vbm1hcmsmJnRoaXMub25Vbm1hcmsoKX0saXNNYXJrZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpLmdldEJ5SWQodGhpcy5fLml0ZW1zW2FdKS5oYXNDbGFzcyhcImNrZV9zZWxlY3RlZFwiKX0sZm9jdXM6ZnVuY3Rpb24oYSl7dGhpcy5fLmZvY3VzSW5kZXg9LTE7dmFyIGI9dGhpcy5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWcoXCJhXCIpLGUsZj0tMTtpZihhKWZvcihlPXRoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpLmdldEJ5SWQodGhpcy5fLml0ZW1zW2FdKS5nZXRGaXJzdCgpO2E9XG5iLmdldEl0ZW0oKytmKTspe2lmKGEuZXF1YWxzKGUpKXt0aGlzLl8uZm9jdXNJbmRleD1mO2JyZWFrfX1lbHNlIHRoaXMuZWxlbWVudC5mb2N1cygpO2UmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmZvY3VzKCl9LDApfX19KX19KSxDS0VESVRPUi5wbHVnaW5zLmFkZChcInJpY2hjb21ib1wiLHtyZXF1aXJlczpcImZsb2F0cGFuZWwsbGlzdGJsb2NrLGJ1dHRvblwiLGJlZm9yZUluaXQ6ZnVuY3Rpb24oYSl7YS51aS5hZGRIYW5kbGVyKENLRURJVE9SLlVJX1JJQ0hDT01CTyxDS0VESVRPUi51aS5yaWNoQ29tYm8uaGFuZGxlcil9fSksZnVuY3Rpb24oKXt2YXIgYT0nXFx4M2NzcGFuIGlkXFx4M2RcIntpZH1cIiBjbGFzc1xceDNkXCJja2VfY29tYm8gY2tlX2NvbWJvX197bmFtZX0ge2Nsc31cIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzY3NwYW4gaWRcXHgzZFwie2lkfV9sYWJlbFwiIGNsYXNzXFx4M2RcImNrZV9jb21ib19sYWJlbFwiXFx4M2V7bGFiZWx9XFx4M2Mvc3BhblxceDNlXFx4M2NhIGNsYXNzXFx4M2RcImNrZV9jb21ib19idXR0b25cIiB0aXRsZVxceDNkXCJ7dGl0bGV9XCIgdGFiaW5kZXhcXHgzZFwiLTFcIicrXG4oQ0tFRElUT1IuZW52LmdlY2tvJiYhQ0tFRElUT1IuZW52LmhjP1wiXCI6XCIgaHJlZlxceDNkXFxcImphdmFzY3JpcHQ6dm9pZCgne3RpdGxlSnN9JylcXFwiXCIpKycgaGlkZWZvY3VzXFx4M2RcInRydWVcIiByb2xlXFx4M2RcImJ1dHRvblwiIGFyaWEtbGFiZWxsZWRieVxceDNkXCJ7aWR9X2xhYmVsXCIgYXJpYS1oYXNwb3B1cFxceDNkXCJsaXN0Ym94XCInLGY9XCJcIjtDS0VESVRPUi5lbnYuZ2Vja28mJkNLRURJVE9SLmVudi5tYWMmJihhKz0nIG9ua2V5cHJlc3NcXHgzZFwicmV0dXJuIGZhbHNlO1wiJyk7Q0tFRElUT1IuZW52LmdlY2tvJiYoYSs9JyBvbmJsdXJcXHgzZFwidGhpcy5zdHlsZS5jc3NUZXh0IFxceDNkIHRoaXMuc3R5bGUuY3NzVGV4dDtcIicpO0NLRURJVE9SLmVudi5pZSYmKGY9J3JldHVybiBmYWxzZTtcIiBvbm1vdXNldXBcXHgzZFwiQ0tFRElUT1IudG9vbHMuZ2V0TW91c2VCdXR0b24oZXZlbnQpXFx4M2RcXHgzZENLRURJVE9SLk1PVVNFX0JVVFRPTl9MRUZUXFx4MjZcXHgyNicpO3ZhciBhPWErKCcgb25rZXlkb3duXFx4M2RcInJldHVybiBDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2tleWRvd25Gbn0sZXZlbnQsdGhpcyk7XCIgb25mb2N1c1xceDNkXCJyZXR1cm4gQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtmb2N1c0ZufSxldmVudCk7XCIgb25jbGlja1xceDNkXCInK1xuZisnQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtjbGlja0ZufSx0aGlzKTtyZXR1cm4gZmFsc2U7XCJcXHgzZVxceDNjc3BhbiBpZFxceDNkXCJ7aWR9X3RleHRcIiBjbGFzc1xceDNkXCJja2VfY29tYm9fdGV4dCBja2VfY29tYm9faW5saW5lbGFiZWxcIlxceDNle2xhYmVsfVxceDNjL3NwYW5cXHgzZVxceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfY29tYm9fb3BlblwiXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2NvbWJvX2Fycm93XCJcXHgzZScrKENLRURJVE9SLmVudi5oYz9cIlxceDI2Izk2NjA7XCI6Q0tFRElUT1IuZW52LmFpcj9cIlxceDI2bmJzcDtcIjpcIlwiKStcIlxceDNjL3NwYW5cXHgzZVxceDNjL3NwYW5cXHgzZVxceDNjL2FcXHgzZVxceDNjL3NwYW5cXHgzZVwiKSxlPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwiY29tYm9cIixhKTtDS0VESVRPUi5VSV9SSUNIQ09NQk89XCJyaWNoY29tYm9cIjtDS0VESVRPUi51aS5yaWNoQ29tYm89Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYSl7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsXG5hLHtjYW5Hcm91cDohMSx0aXRsZTphLmxhYmVsLG1vZGVzOnt3eXNpd3lnOjF9LGVkaXRvckZvY3VzOjF9KTthPXRoaXMucGFuZWx8fHt9O2RlbGV0ZSB0aGlzLnBhbmVsO3RoaXMuaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpO3RoaXMuZG9jdW1lbnQ9YS5wYXJlbnQmJmEucGFyZW50LmdldERvY3VtZW50KCl8fENLRURJVE9SLmRvY3VtZW50O2EuY2xhc3NOYW1lPVwiY2tlX2NvbWJvcGFuZWxcIjthLmJsb2NrPXttdWx0aVNlbGVjdDphLm11bHRpU2VsZWN0LGF0dHJpYnV0ZXM6YS5hdHRyaWJ1dGVzfTthLnRvb2xiYXJSZWxhdGVkPSEwO3RoaXMuXz17cGFuZWxEZWZpbml0aW9uOmEsaXRlbXM6e30sbGlzdGVuZXJzOltdfX0scHJvdG86e3JlbmRlckh0bWw6ZnVuY3Rpb24oYSl7dmFyIGM9W107dGhpcy5yZW5kZXIoYSxjKTtyZXR1cm4gYy5qb2luKFwiXCIpfSxyZW5kZXI6ZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBmKCl7aWYodGhpcy5nZXRTdGF0ZSgpIT1DS0VESVRPUi5UUklTVEFURV9PTil7dmFyIGQ9XG50aGlzLm1vZGVzW2EubW9kZV0/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEO2EucmVhZE9ubHkmJiF0aGlzLnJlYWRPbmx5JiYoZD1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCk7dGhpcy5zZXRTdGF0ZShkKTt0aGlzLnNldFZhbHVlKFwiXCIpO2QhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiZ0aGlzLnJlZnJlc2gmJnRoaXMucmVmcmVzaCgpfX12YXIgbD1DS0VESVRPUi5lbnYsbSxkLGg9XCJja2VfXCIrdGhpcy5pZCxnPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGMpe2QmJihhLnVubG9ja1NlbGVjdGlvbigxKSxkPTApO20uZXhlY3V0ZShjKX0sdGhpcyksbj10aGlzO209e2lkOmgsY29tYm86dGhpcyxmb2N1czpmdW5jdGlvbigpe0NLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoaCkuZ2V0Q2hpbGQoMSkuZm9jdXMoKX0sZXhlY3V0ZTpmdW5jdGlvbihkKXt2YXIgYz1uLl87aWYoYy5zdGF0ZSE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpaWYobi5jcmVhdGVQYW5lbChhKSxcbmMub24pYy5wYW5lbC5oaWRlKCk7ZWxzZXtuLmNvbW1pdCgpO3ZhciBlPW4uZ2V0VmFsdWUoKTtlP2MubGlzdC5tYXJrKGUpOmMubGlzdC51bm1hcmtBbGwoKTtjLnBhbmVsLnNob3dCbG9jayhuLmlkLG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChkKSw0KX19LGNsaWNrRm46Z307dGhpcy5fLmxpc3RlbmVycy5wdXNoKGEub24oXCJhY3RpdmVGaWx0ZXJDaGFuZ2VcIixmLHRoaXMpKTt0aGlzLl8ubGlzdGVuZXJzLnB1c2goYS5vbihcIm1vZGVcIixmLHRoaXMpKTt0aGlzLl8ubGlzdGVuZXJzLnB1c2goYS5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGYsdGhpcykpOyF0aGlzLnJlYWRPbmx5JiZ0aGlzLl8ubGlzdGVuZXJzLnB1c2goYS5vbihcInJlYWRPbmx5XCIsZix0aGlzKSk7dmFyIHc9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYSxiKXthPW5ldyBDS0VESVRPUi5kb20uZXZlbnQoYSk7dmFyIGQ9YS5nZXRLZXlzdHJva2UoKTtzd2l0Y2goZCl7Y2FzZSAxMzpjYXNlIDMyOmNhc2UgNDA6Q0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKGcsXG5iKTticmVhaztkZWZhdWx0Om0ub25rZXkobSxkKX1hLnByZXZlbnREZWZhdWx0KCl9KSx4PUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7bS5vbmZvY3VzJiZtLm9uZm9jdXMoKX0pO2Q9MDttLmtleURvd25Gbj13O2w9e2lkOmgsbmFtZTp0aGlzLm5hbWV8fHRoaXMuY29tbWFuZCxsYWJlbDp0aGlzLmxhYmVsLHRpdGxlOnRoaXMudGl0bGUsY2xzOnRoaXMuY2xhc3NOYW1lfHxcIlwiLHRpdGxlSnM6bC5nZWNrbyYmIWwuaGM/XCJcIjoodGhpcy50aXRsZXx8XCJcIikucmVwbGFjZShcIidcIixcIlwiKSxrZXlkb3duRm46dyxmb2N1c0ZuOngsY2xpY2tGbjpnfTtlLm91dHB1dChsLGMpO2lmKHRoaXMub25SZW5kZXIpdGhpcy5vblJlbmRlcigpO3JldHVybiBtfSxjcmVhdGVQYW5lbDpmdW5jdGlvbihhKXtpZighdGhpcy5fLnBhbmVsKXt2YXIgYz10aGlzLl8ucGFuZWxEZWZpbml0aW9uLGU9dGhpcy5fLnBhbmVsRGVmaW5pdGlvbi5ibG9jayxmPWMucGFyZW50fHxDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCksXG5tPVwiY2tlX2NvbWJvcGFuZWxfX1wiK3RoaXMubmFtZSxkPW5ldyBDS0VESVRPUi51aS5mbG9hdFBhbmVsKGEsZixjKSxjPWQuYWRkTGlzdEJsb2NrKHRoaXMuaWQsZSksaD10aGlzO2Qub25TaG93PWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmFkZENsYXNzKG0pO2guc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT04pO2guXy5vbj0xO2guZWRpdG9yRm9jdXMmJiFhLmZvY3VzTWFuYWdlci5oYXNGb2N1cyYmYS5mb2N1cygpO2lmKGgub25PcGVuKWgub25PcGVuKCl9O2Qub25IaWRlPWZ1bmN0aW9uKGQpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhtKTtoLnNldFN0YXRlKGgubW9kZXMmJmgubW9kZXNbYS5tb2RlXT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpO2guXy5vbj0wO2lmKCFkJiZoLm9uQ2xvc2UpaC5vbkNsb3NlKCl9O2Qub25Fc2NhcGU9ZnVuY3Rpb24oKXtkLmhpZGUoMSl9O2Mub25DbGljaz1mdW5jdGlvbihhLGIpe2gub25DbGljayYmXG5oLm9uQ2xpY2suY2FsbChoLGEsYik7ZC5oaWRlKCl9O3RoaXMuXy5wYW5lbD1kO3RoaXMuXy5saXN0PWM7ZC5nZXRCbG9jayh0aGlzLmlkKS5vbkhpZGU9ZnVuY3Rpb24oKXtoLl8ub249MDtoLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09GRil9O3RoaXMuaW5pdCYmdGhpcy5pbml0KCl9fSxzZXRWYWx1ZTpmdW5jdGlvbihhLGMpe3RoaXMuXy52YWx1ZT1hO3ZhciBlPXRoaXMuZG9jdW1lbnQuZ2V0QnlJZChcImNrZV9cIit0aGlzLmlkK1wiX3RleHRcIik7ZSYmKGF8fGM/ZS5yZW1vdmVDbGFzcyhcImNrZV9jb21ib19pbmxpbmVsYWJlbFwiKTooYz10aGlzLmxhYmVsLGUuYWRkQ2xhc3MoXCJja2VfY29tYm9faW5saW5lbGFiZWxcIikpLGUuc2V0VGV4dChcInVuZGVmaW5lZFwiIT10eXBlb2YgYz9jOmEpKTt2YXIgZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgYz9jOmEsZj10aGlzLmxhYmVsLGU9ZT09PWY/ZTplK1wiLCBcIitmOyhmPXRoaXMuZG9jdW1lbnQuZ2V0QnlJZChcImNrZV9cIit0aGlzLmlkK1wiX2xhYmVsXCIpKSYmXG5mLnNldFRleHQoZSl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy52YWx1ZXx8XCJcIn0sdW5tYXJrQWxsOmZ1bmN0aW9uKCl7dGhpcy5fLmxpc3QudW5tYXJrQWxsKCl9LG1hcms6ZnVuY3Rpb24oYSl7dGhpcy5fLmxpc3QubWFyayhhKX0saGlkZUl0ZW06ZnVuY3Rpb24oYSl7dGhpcy5fLmxpc3QuaGlkZUl0ZW0oYSl9LGhpZGVHcm91cDpmdW5jdGlvbihhKXt0aGlzLl8ubGlzdC5oaWRlR3JvdXAoYSl9LHNob3dBbGw6ZnVuY3Rpb24oKXt0aGlzLl8ubGlzdC5zaG93QWxsKCl9LGFkZDpmdW5jdGlvbihhLGMsZSl7dGhpcy5fLml0ZW1zW2FdPWV8fGE7dGhpcy5fLmxpc3QuYWRkKGEsYyxlKX0sc3RhcnRHcm91cDpmdW5jdGlvbihhKXt0aGlzLl8ubGlzdC5zdGFydEdyb3VwKGEpfSxjb21taXQ6ZnVuY3Rpb24oKXt0aGlzLl8uY29tbWl0dGVkfHwodGhpcy5fLmxpc3QuY29tbWl0KCksdGhpcy5fLmNvbW1pdHRlZD0xLENLRURJVE9SLnVpLmZpcmUoXCJyZWFkeVwiLHRoaXMpKTtcbnRoaXMuXy5jb21taXR0ZWQ9MX0sc2V0U3RhdGU6ZnVuY3Rpb24oYSl7aWYodGhpcy5fLnN0YXRlIT1hKXt2YXIgYz10aGlzLmRvY3VtZW50LmdldEJ5SWQoXCJja2VfXCIrdGhpcy5pZCksZT1jLmdldEVsZW1lbnRzQnlUYWcoXCJhXCIpLmdldEl0ZW0oMCk7Yy5zZXRTdGF0ZShhLFwiY2tlX2NvbWJvXCIpO2E9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEP2Muc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLCEwKTpjLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIik7ZSYmZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsYT09Q0tFRElUT1IuVFJJU1RBVEVfT04pO3RoaXMuXy5zdGF0ZT1hfX0sZ2V0U3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLnN0YXRlfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLl8uc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiZ0aGlzLnNldFN0YXRlKHRoaXMuXy5sYXN0U3RhdGUpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5fLnN0YXRlIT1cbkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiYodGhpcy5fLmxhc3RTdGF0ZT10aGlzLl8uc3RhdGUsdGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCkpfSxkZXN0cm95OmZ1bmN0aW9uKCl7Q0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaCh0aGlzLl8ubGlzdGVuZXJzLGZ1bmN0aW9uKGEpe2EucmVtb3ZlTGlzdGVuZXIoKX0pO3RoaXMuXy5saXN0ZW5lcnM9W119LHNlbGVjdDpmdW5jdGlvbihhKXtpZighQ0tFRElUT1IudG9vbHMuaXNFbXB0eSh0aGlzLl8uaXRlbXMpKWZvcih2YXIgYyBpbiB0aGlzLl8uaXRlbXMpaWYoYSh7dmFsdWU6Yyx0ZXh0OnRoaXMuXy5pdGVtc1tjXX0pKXt0aGlzLnNldFZhbHVlKGMpO2JyZWFrfX19LHN0YXRpY3M6e2hhbmRsZXI6e2NyZWF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLnJpY2hDb21ibyhhKX19fX0pO0NLRURJVE9SLnVpLnByb3RvdHlwZS5hZGRSaWNoQ29tYm89ZnVuY3Rpb24oYSxjKXt0aGlzLmFkZChhLFxuQ0tFRElUT1IuVUlfUklDSENPTUJPLGMpfX0oKSxDS0VESVRPUi5wbHVnaW5zLmFkZChcImZvcm1hdFwiLHtyZXF1aXJlczpcInJpY2hjb21ib1wiLGluaXQ6ZnVuY3Rpb24oYSl7aWYoIWEuYmxvY2tsZXNzKXtmb3IodmFyIGY9YS5jb25maWcsZT1hLmxhbmcuZm9ybWF0LGI9Zi5mb3JtYXRfdGFncy5zcGxpdChcIjtcIiksYz17fSxrPTAsbD1bXSxtPTA7bTxiLmxlbmd0aDttKyspe3ZhciBkPWJbbV0saD1uZXcgQ0tFRElUT1Iuc3R5bGUoZltcImZvcm1hdF9cIitkXSk7aWYoIWEuZmlsdGVyLmN1c3RvbUNvbmZpZ3x8YS5maWx0ZXIuY2hlY2soaCkpaysrLGNbZF09aCxjW2RdLl8uZW50ZXJNb2RlPWEuY29uZmlnLmVudGVyTW9kZSxsLnB1c2goaCl9MCE9PWsmJmEudWkuYWRkUmljaENvbWJvKFwiRm9ybWF0XCIse2xhYmVsOmUubGFiZWwsdGl0bGU6ZS5wYW5lbFRpdGxlLHRvb2xiYXI6XCJzdHlsZXMsMjBcIixhbGxvd2VkQ29udGVudDpsLHBhbmVsOntjc3M6W0NLRURJVE9SLnNraW4uZ2V0UGF0aChcImVkaXRvclwiKV0uY29uY2F0KGYuY29udGVudHNDc3MpLFxubXVsdGlTZWxlY3Q6ITEsYXR0cmlidXRlczp7XCJhcmlhLWxhYmVsXCI6ZS5wYW5lbFRpdGxlfX0saW5pdDpmdW5jdGlvbigpe3RoaXMuc3RhcnRHcm91cChlLnBhbmVsVGl0bGUpO2Zvcih2YXIgYSBpbiBjKXt2YXIgYj1lW1widGFnX1wiK2FdO3RoaXMuYWRkKGEsY1thXS5idWlsZFByZXZpZXcoYiksYil9fSxvbkNsaWNrOmZ1bmN0aW9uKGIpe2EuZm9jdXMoKTthLmZpcmUoXCJzYXZlU25hcHNob3RcIik7Yj1jW2JdO3ZhciBkPWEuZWxlbWVudFBhdGgoKTthLmZpcmUoXCJzdHlsZXNSZW1vdmVcIix7dHlwZTpDS0VESVRPUi5TVFlMRV9CTE9DS30pO2IuY2hlY2tBY3RpdmUoZCxhKXx8YS5hcHBseVN0eWxlKGIpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmZpcmUoXCJzYXZlU25hcHNob3RcIil9LDApfSxvblJlbmRlcjpmdW5jdGlvbigpe2Eub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixmdW5jdGlvbihiKXt2YXIgZD10aGlzLmdldFZhbHVlKCk7Yj1iLmRhdGEucGF0aDt0aGlzLnJlZnJlc2goKTtmb3IodmFyIGUgaW4gYylpZihjW2VdLmNoZWNrQWN0aXZlKGIsXG5hKSl7ZSE9ZCYmdGhpcy5zZXRWYWx1ZShlLGEubGFuZy5mb3JtYXRbXCJ0YWdfXCIrZV0pO3JldHVybn10aGlzLnNldFZhbHVlKFwiXCIpfSx0aGlzKX0sb25PcGVuOmZ1bmN0aW9uKCl7dGhpcy5zaG93QWxsKCk7Zm9yKHZhciBiIGluIGMpYS5hY3RpdmVGaWx0ZXIuY2hlY2soY1tiXSl8fHRoaXMuaGlkZUl0ZW0oYil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj1hLmVsZW1lbnRQYXRoKCk7aWYoYil7aWYoYi5pc0NvbnRleHRGb3IoXCJwXCIpKWZvcih2YXIgZCBpbiBjKWlmKGEuYWN0aXZlRmlsdGVyLmNoZWNrKGNbZF0pKXJldHVybjt0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX19fSl9fX0pLENLRURJVE9SLmNvbmZpZy5mb3JtYXRfdGFncz1cInA7aDE7aDI7aDM7aDQ7aDU7aDY7cHJlO2FkZHJlc3M7ZGl2XCIsQ0tFRElUT1IuY29uZmlnLmZvcm1hdF9wPXtlbGVtZW50OlwicFwifSxDS0VESVRPUi5jb25maWcuZm9ybWF0X2Rpdj17ZWxlbWVudDpcImRpdlwifSxDS0VESVRPUi5jb25maWcuZm9ybWF0X3ByZT1cbntlbGVtZW50OlwicHJlXCJ9LENLRURJVE9SLmNvbmZpZy5mb3JtYXRfYWRkcmVzcz17ZWxlbWVudDpcImFkZHJlc3NcIn0sQ0tFRElUT1IuY29uZmlnLmZvcm1hdF9oMT17ZWxlbWVudDpcImgxXCJ9LENLRURJVE9SLmNvbmZpZy5mb3JtYXRfaDI9e2VsZW1lbnQ6XCJoMlwifSxDS0VESVRPUi5jb25maWcuZm9ybWF0X2gzPXtlbGVtZW50OlwiaDNcIn0sQ0tFRElUT1IuY29uZmlnLmZvcm1hdF9oND17ZWxlbWVudDpcImg0XCJ9LENLRURJVE9SLmNvbmZpZy5mb3JtYXRfaDU9e2VsZW1lbnQ6XCJoNVwifSxDS0VESVRPUi5jb25maWcuZm9ybWF0X2g2PXtlbGVtZW50OlwiaDZcIn0sZnVuY3Rpb24oKXt2YXIgYT17Y2FuVW5kbzohMSxleGVjOmZ1bmN0aW9uKGEpe3ZhciBlPWEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImhyXCIpO2EuaW5zZXJ0RWxlbWVudChlKX0sYWxsb3dlZENvbnRlbnQ6XCJoclwiLHJlcXVpcmVkQ29udGVudDpcImhyXCJ9O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiaG9yaXpvbnRhbHJ1bGVcIix7aW5pdDpmdW5jdGlvbihmKXtmLmJsb2NrbGVzc3x8XG4oZi5hZGRDb21tYW5kKFwiaG9yaXpvbnRhbHJ1bGVcIixhKSxmLnVpLmFkZEJ1dHRvbiYmZi51aS5hZGRCdXR0b24oXCJIb3Jpem9udGFsUnVsZVwiLHtsYWJlbDpmLmxhbmcuaG9yaXpvbnRhbHJ1bGUudG9vbGJhcixjb21tYW5kOlwiaG9yaXpvbnRhbHJ1bGVcIix0b29sYmFyOlwiaW5zZXJ0LDQwXCJ9KSl9fSl9KCksQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJodG1sd3JpdGVyXCIse2luaXQ6ZnVuY3Rpb24oYSl7dmFyIGY9bmV3IENLRURJVE9SLmh0bWxXcml0ZXI7Zi5mb3JjZVNpbXBsZUFtcGVyc2FuZD1hLmNvbmZpZy5mb3JjZVNpbXBsZUFtcGVyc2FuZDtmLmluZGVudGF0aW9uQ2hhcnM9XCJzdHJpbmdcIj09PXR5cGVvZiBhLmNvbmZpZy5kYXRhSW5kZW50YXRpb25DaGFycz9hLmNvbmZpZy5kYXRhSW5kZW50YXRpb25DaGFyczpcIlxcdFwiO2EuZGF0YVByb2Nlc3Nvci53cml0ZXI9Zn19KSxDS0VESVRPUi5odG1sV3JpdGVyPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHtiYXNlOkNLRURJVE9SLmh0bWxQYXJzZXIuYmFzaWNXcml0ZXIsXG4kOmZ1bmN0aW9uKCl7dGhpcy5iYXNlKCk7dGhpcy5pbmRlbnRhdGlvbkNoYXJzPVwiXFx0XCI7dGhpcy5zZWxmQ2xvc2luZ0VuZD1cIiAvXFx4M2VcIjt0aGlzLmxpbmVCcmVha0NoYXJzPVwiXFxuXCI7dGhpcy5zb3J0QXR0cmlidXRlcz0xO3RoaXMuXy5pbmRlbnQ9MDt0aGlzLl8uaW5kZW50YXRpb249XCJcIjt0aGlzLl8uaW5QcmU9MDt0aGlzLl8ucnVsZXM9e307dmFyIGE9Q0tFRElUT1IuZHRkLGY7Zm9yKGYgaW4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGEuJG5vbkJvZHlDb250ZW50LGEuJGJsb2NrLGEuJGxpc3RJdGVtLGEuJHRhYmxlQ29udGVudCkpdGhpcy5zZXRSdWxlcyhmLHtpbmRlbnQ6IWFbZl1bXCIjXCJdLGJyZWFrQmVmb3JlT3BlbjoxLGJyZWFrQmVmb3JlQ2xvc2U6IWFbZl1bXCIjXCJdLGJyZWFrQWZ0ZXJDbG9zZToxLG5lZWRzU3BhY2U6ZiBpbiBhLiRibG9jayYmIShmIGlue2xpOjEsZHQ6MSxkZDoxfSl9KTt0aGlzLnNldFJ1bGVzKFwiYnJcIix7YnJlYWtBZnRlck9wZW46MX0pO3RoaXMuc2V0UnVsZXMoXCJ0aXRsZVwiLFxue2luZGVudDowLGJyZWFrQWZ0ZXJPcGVuOjB9KTt0aGlzLnNldFJ1bGVzKFwic3R5bGVcIix7aW5kZW50OjAsYnJlYWtCZWZvcmVDbG9zZToxfSk7dGhpcy5zZXRSdWxlcyhcInByZVwiLHticmVha0FmdGVyT3BlbjoxLGluZGVudDowfSl9LHByb3RvOntvcGVuVGFnOmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMuXy5ydWxlc1thXTt0aGlzLl8uYWZ0ZXJDbG9zZXImJmYmJmYubmVlZHNTcGFjZSYmdGhpcy5fLm5lZWRzU3BhY2UmJnRoaXMuXy5vdXRwdXQucHVzaChcIlxcblwiKTt0aGlzLl8uaW5kZW50P3RoaXMuaW5kZW50YXRpb24oKTpmJiZmLmJyZWFrQmVmb3JlT3BlbiYmKHRoaXMubGluZUJyZWFrKCksdGhpcy5pbmRlbnRhdGlvbigpKTt0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzY1wiLGEpO3RoaXMuXy5hZnRlckNsb3Nlcj0wfSxvcGVuVGFnQ2xvc2U6ZnVuY3Rpb24oYSxmKXt2YXIgZT10aGlzLl8ucnVsZXNbYV07Zj8odGhpcy5fLm91dHB1dC5wdXNoKHRoaXMuc2VsZkNsb3NpbmdFbmQpLGUmJlxuZS5icmVha0FmdGVyQ2xvc2UmJih0aGlzLl8ubmVlZHNTcGFjZT1lLm5lZWRzU3BhY2UpKToodGhpcy5fLm91dHB1dC5wdXNoKFwiXFx4M2VcIiksZSYmZS5pbmRlbnQmJih0aGlzLl8uaW5kZW50YXRpb24rPXRoaXMuaW5kZW50YXRpb25DaGFycykpO2UmJmUuYnJlYWtBZnRlck9wZW4mJnRoaXMubGluZUJyZWFrKCk7XCJwcmVcIj09YSYmKHRoaXMuXy5pblByZT0xKX0sYXR0cmlidXRlOmZ1bmN0aW9uKGEsZil7XCJzdHJpbmdcIj09dHlwZW9mIGYmJihmPUNLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGVBdHRyKGYpLHRoaXMuZm9yY2VTaW1wbGVBbXBlcnNhbmQmJihmPWYucmVwbGFjZSgvJmFtcDsvZyxcIlxceDI2XCIpKSk7dGhpcy5fLm91dHB1dC5wdXNoKFwiIFwiLGEsJ1xceDNkXCInLGYsJ1wiJyl9LGNsb3NlVGFnOmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMuXy5ydWxlc1thXTtmJiZmLmluZGVudCYmKHRoaXMuXy5pbmRlbnRhdGlvbj10aGlzLl8uaW5kZW50YXRpb24uc3Vic3RyKHRoaXMuaW5kZW50YXRpb25DaGFycy5sZW5ndGgpKTtcbnRoaXMuXy5pbmRlbnQ/dGhpcy5pbmRlbnRhdGlvbigpOmYmJmYuYnJlYWtCZWZvcmVDbG9zZSYmKHRoaXMubGluZUJyZWFrKCksdGhpcy5pbmRlbnRhdGlvbigpKTt0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzYy9cIixhLFwiXFx4M2VcIik7XCJwcmVcIj09YSYmKHRoaXMuXy5pblByZT0wKTtmJiZmLmJyZWFrQWZ0ZXJDbG9zZSYmKHRoaXMubGluZUJyZWFrKCksdGhpcy5fLm5lZWRzU3BhY2U9Zi5uZWVkc1NwYWNlKTt0aGlzLl8uYWZ0ZXJDbG9zZXI9MX0sdGV4dDpmdW5jdGlvbihhKXt0aGlzLl8uaW5kZW50JiYodGhpcy5pbmRlbnRhdGlvbigpLCF0aGlzLl8uaW5QcmUmJihhPUNLRURJVE9SLnRvb2xzLmx0cmltKGEpKSk7dGhpcy5fLm91dHB1dC5wdXNoKGEpfSxjb21tZW50OmZ1bmN0aW9uKGEpe3RoaXMuXy5pbmRlbnQmJnRoaXMuaW5kZW50YXRpb24oKTt0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzYyEtLVwiLGEsXCItLVxceDNlXCIpfSxsaW5lQnJlYWs6ZnVuY3Rpb24oKXshdGhpcy5fLmluUHJlJiZcbjA8dGhpcy5fLm91dHB1dC5sZW5ndGgmJnRoaXMuXy5vdXRwdXQucHVzaCh0aGlzLmxpbmVCcmVha0NoYXJzKTt0aGlzLl8uaW5kZW50PTF9LGluZGVudGF0aW9uOmZ1bmN0aW9uKCl7IXRoaXMuXy5pblByZSYmdGhpcy5fLmluZGVudGF0aW9uJiZ0aGlzLl8ub3V0cHV0LnB1c2godGhpcy5fLmluZGVudGF0aW9uKTt0aGlzLl8uaW5kZW50PTB9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fLm91dHB1dD1bXTt0aGlzLl8uaW5kZW50PTA7dGhpcy5fLmluZGVudGF0aW9uPVwiXCI7dGhpcy5fLmFmdGVyQ2xvc2VyPTA7dGhpcy5fLmluUHJlPTA7dGhpcy5fLm5lZWRzU3BhY2U9MH0sc2V0UnVsZXM6ZnVuY3Rpb24oYSxmKXt2YXIgZT10aGlzLl8ucnVsZXNbYV07ZT9DS0VESVRPUi50b29scy5leHRlbmQoZSxmLCEwKTp0aGlzLl8ucnVsZXNbYV09Zn19fSksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7Ynx8KGI9YS5nZXRTZWxlY3Rpb24oKS5nZXRTZWxlY3RlZEVsZW1lbnQoKSk7aWYoYiYmXG5iLmlzKFwiaW1nXCIpJiYhYi5kYXRhKFwiY2tlLXJlYWxlbGVtZW50XCIpJiYhYi5pc1JlYWRPbmx5KCkpcmV0dXJuIGJ9ZnVuY3Rpb24gZihhKXt2YXIgYj1hLmdldFN0eWxlKFwiZmxvYXRcIik7aWYoXCJpbmhlcml0XCI9PWJ8fFwibm9uZVwiPT1iKWI9MDtifHwoYj1hLmdldEF0dHJpYnV0ZShcImFsaWduXCIpKTtyZXR1cm4gYn1DS0VESVRPUi5wbHVnaW5zLmFkZChcImltYWdlXCIse3JlcXVpcmVzOlwiZGlhbG9nXCIsaW5pdDpmdW5jdGlvbihlKXtpZighZS5wbHVnaW5zLmRldGVjdENvbmZsaWN0KFwiaW1hZ2VcIixbXCJlYXN5aW1hZ2VcIixcImltYWdlMlwiXSkpe0NLRURJVE9SLmRpYWxvZy5hZGQoXCJpbWFnZVwiLHRoaXMucGF0aCtcImRpYWxvZ3MvaW1hZ2UuanNcIik7dmFyIGI9XCJpbWdbYWx0LCFzcmNde2JvcmRlci1zdHlsZSxib3JkZXItd2lkdGgsZmxvYXQsaGVpZ2h0LG1hcmdpbixtYXJnaW4tYm90dG9tLG1hcmdpbi1sZWZ0LG1hcmdpbi1yaWdodCxtYXJnaW4tdG9wLHdpZHRofVwiO0NLRURJVE9SLmRpYWxvZy5pc1RhYkVuYWJsZWQoZSxcblwiaW1hZ2VcIixcImFkdmFuY2VkXCIpJiYoYj1cImltZ1thbHQsZGlyLGlkLGxhbmcsbG9uZ2Rlc2MsIXNyYyx0aXRsZV17Kn0oKilcIik7ZS5hZGRDb21tYW5kKFwiaW1hZ2VcIixuZXcgQ0tFRElUT1IuZGlhbG9nQ29tbWFuZChcImltYWdlXCIse2FsbG93ZWRDb250ZW50OmIscmVxdWlyZWRDb250ZW50OlwiaW1nW2FsdCxzcmNdXCIsY29udGVudFRyYW5zZm9ybWF0aW9uczpbW1wiaW1ne3dpZHRofTogc2l6ZVRvU3R5bGVcIixcImltZ1t3aWR0aF06IHNpemVUb0F0dHJpYnV0ZVwiXSxbXCJpbWd7ZmxvYXR9OiBhbGlnbm1lbnRUb1N0eWxlXCIsXCJpbWdbYWxpZ25dOiBhbGlnbm1lbnRUb0F0dHJpYnV0ZVwiXV19KSk7ZS51aS5hZGRCdXR0b24mJmUudWkuYWRkQnV0dG9uKFwiSW1hZ2VcIix7bGFiZWw6ZS5sYW5nLmNvbW1vbi5pbWFnZSxjb21tYW5kOlwiaW1hZ2VcIix0b29sYmFyOlwiaW5zZXJ0LDEwXCJ9KTtlLm9uKFwiZG91YmxlY2xpY2tcIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuZWxlbWVudDshYi5pcyhcImltZ1wiKXx8XG5iLmRhdGEoXCJja2UtcmVhbGVsZW1lbnRcIil8fGIuaXNSZWFkT25seSgpfHwoYS5kYXRhLmRpYWxvZz1cImltYWdlXCIpfSk7ZS5hZGRNZW51SXRlbXMmJmUuYWRkTWVudUl0ZW1zKHtpbWFnZTp7bGFiZWw6ZS5sYW5nLmltYWdlLm1lbnUsY29tbWFuZDpcImltYWdlXCIsZ3JvdXA6XCJpbWFnZVwifX0pO2UuY29udGV4dE1lbnUmJmUuY29udGV4dE1lbnUuYWRkTGlzdGVuZXIoZnVuY3Rpb24oYil7aWYoYShlLGIpKXJldHVybntpbWFnZTpDS0VESVRPUi5UUklTVEFURV9PRkZ9fSl9fSxhZnRlckluaXQ6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gYihiKXt2YXIgaz1lLmdldENvbW1hbmQoXCJqdXN0aWZ5XCIrYik7aWYoayl7aWYoXCJsZWZ0XCI9PWJ8fFwicmlnaHRcIj09YilrLm9uKFwiZXhlY1wiLGZ1bmN0aW9uKGspe3ZhciBtPWEoZSksZDttJiYoZD1mKG0pLGQ9PWI/KG0ucmVtb3ZlU3R5bGUoXCJmbG9hdFwiKSxiPT1mKG0pJiZtLnJlbW92ZUF0dHJpYnV0ZShcImFsaWduXCIpKTptLnNldFN0eWxlKFwiZmxvYXRcIixiKSxcbmsuY2FuY2VsKCkpfSk7ay5vbihcInJlZnJlc2hcIixmdW5jdGlvbihrKXt2YXIgbT1hKGUpO20mJihtPWYobSksdGhpcy5zZXRTdGF0ZShtPT1iP0NLRURJVE9SLlRSSVNUQVRFX09OOlwicmlnaHRcIj09Ynx8XCJsZWZ0XCI9PWI/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKSxrLmNhbmNlbCgpKX0pfX1lLnBsdWdpbnMuaW1hZ2UyfHwoYihcImxlZnRcIiksYihcInJpZ2h0XCIpLGIoXCJjZW50ZXJcIiksYihcImJsb2NrXCIpKX19KX0oKSxDS0VESVRPUi5jb25maWcuaW1hZ2VfcmVtb3ZlTGlua0J5RW1wdHlVUkw9ITAsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7dmFyIGQ9ay5leGVjKGEpLGM9ay5leGVjKGIpO2lmKGQpe2lmKCFkWzJdJiZcInB4XCI9PWNbMl0pcmV0dXJuIGNbMV07aWYoXCJweFwiPT1kWzJdJiYhY1syXSlyZXR1cm4gY1sxXStcInB4XCJ9cmV0dXJuIGJ9ZnVuY3Rpb24gZihjKXtyZXR1cm57ZWxlbWVudHM6eyQ6ZnVuY3Rpb24oZil7dmFyIGQ9Zi5hdHRyaWJ1dGVzLFxuZD1kJiZkW1wiZGF0YS1ja2UtcmVhbGVsZW1lbnRcIl0saD1lKGMsZGVjb2RlVVJJQ29tcG9uZW50KGQpKTtpZigoZD0oZD1kJiZuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbChoKSkmJmQuY2hpbGRyZW5bMF0pJiZmLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1yZXNpemFibGVcIl0pe3ZhciBnPShuZXcgYihmKSkucnVsZXM7Zj1kLmF0dHJpYnV0ZXM7aD1nLndpZHRoO2c9Zy5oZWlnaHQ7aCYmKGYud2lkdGg9YShmLndpZHRoLGgpKTtnJiYoZi5oZWlnaHQ9YShmLmhlaWdodCxnKSl9cmV0dXJuIGR9fX19ZnVuY3Rpb24gZShhLGIpe3ZhciBkPVtdLGM9L15ja2U6L2ksZT1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5maWx0ZXIoe2VsZW1lbnRzOntcIl5cIjpmdW5jdGlvbihhKXtjLnRlc3QoYS5uYW1lKSYmKGEubmFtZT1hLm5hbWUucmVwbGFjZShjLFwiXCIpLGQucHVzaChhKSl9LGlmcmFtZTpmdW5jdGlvbihhKXthLmNoaWxkcmVuPVtdfX19KSxmPWEuYWN0aXZlRmlsdGVyLFxuaz1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcix4PUNLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoYik7ZS5hcHBseVRvKHgpO2YuYXBwbHlUbyh4KTtDS0VESVRPUi50b29scy5hcnJheS5mb3JFYWNoKGQsZnVuY3Rpb24oYSl7YS5uYW1lPVwiY2tlOlwiK2EubmFtZX0pO3gud3JpdGVIdG1sKGspO3JldHVybiBrLmdldEh0bWwoKX12YXIgYj1DS0VESVRPUi5odG1sUGFyc2VyLmNzc1N0eWxlLGM9Q0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoLGs9L14oKD86XFxkKig/OlxcLlxcZCspKXwoPzpcXGQrKSkoLiopPyQvaTtDS0VESVRPUi5wbHVnaW5zLmFkZChcImZha2VvYmplY3RzXCIse2luaXQ6ZnVuY3Rpb24oYSl7YS5maWx0ZXIuYWxsb3coXCJpbWdbIWRhdGEtY2tlLXJlYWxlbGVtZW50LHNyYyxhbHQsdGl0bGVdKCopeyp9XCIsXCJmYWtlb2JqZWN0c1wiKX0sYWZ0ZXJJbml0OmZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YVByb2Nlc3NvcjsoYj1iJiZiLmh0bWxGaWx0ZXIpJiZcbmIuYWRkUnVsZXMoZihhKSx7YXBwbHlUb0FsbDohMH0pfX0pO0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuY3JlYXRlRmFrZUVsZW1lbnQ9ZnVuY3Rpb24oYSxlLGQsZil7dmFyIGc9dGhpcy5sYW5nLmZha2VvYmplY3RzLGc9Z1tkXXx8Zy51bmtub3duO2U9e1wiY2xhc3NcIjplLFwiZGF0YS1ja2UtcmVhbGVsZW1lbnRcIjplbmNvZGVVUklDb21wb25lbnQoYS5nZXRPdXRlckh0bWwoKSksXCJkYXRhLWNrZS1yZWFsLW5vZGUtdHlwZVwiOmEudHlwZSxhbHQ6Zyx0aXRsZTpnLGFsaWduOmEuZ2V0QXR0cmlidXRlKFwiYWxpZ25cIil8fFwiXCJ9O0NLRURJVE9SLmVudi5oY3x8KGUuc3JjPUNLRURJVE9SLnRvb2xzLnRyYW5zcGFyZW50SW1hZ2VEYXRhKTtkJiYoZVtcImRhdGEtY2tlLXJlYWwtZWxlbWVudC10eXBlXCJdPWQpO2YmJihlW1wiZGF0YS1ja2UtcmVzaXphYmxlXCJdPWYsZD1uZXcgYixmPWEuZ2V0QXR0cmlidXRlKFwid2lkdGhcIiksYT1hLmdldEF0dHJpYnV0ZShcImhlaWdodFwiKSxmJiYoZC5ydWxlcy53aWR0aD1cbmMoZikpLGEmJihkLnJ1bGVzLmhlaWdodD1jKGEpKSxkLnBvcHVsYXRlKGUpKTtyZXR1cm4gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIse2F0dHJpYnV0ZXM6ZX0pfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmNyZWF0ZUZha2VQYXJzZXJFbGVtZW50PWZ1bmN0aW9uKGEsZSxkLGYpe3ZhciBnPXRoaXMubGFuZy5mYWtlb2JqZWN0cyxnPWdbZF18fGcudW5rbm93bixrO2s9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuYmFzaWNXcml0ZXI7YS53cml0ZUh0bWwoayk7az1rLmdldEh0bWwoKTtlPXtcImNsYXNzXCI6ZSxcImRhdGEtY2tlLXJlYWxlbGVtZW50XCI6ZW5jb2RlVVJJQ29tcG9uZW50KGspLFwiZGF0YS1ja2UtcmVhbC1ub2RlLXR5cGVcIjphLnR5cGUsYWx0OmcsdGl0bGU6ZyxhbGlnbjphLmF0dHJpYnV0ZXMuYWxpZ258fFwiXCJ9O0NLRURJVE9SLmVudi5oY3x8KGUuc3JjPUNLRURJVE9SLnRvb2xzLnRyYW5zcGFyZW50SW1hZ2VEYXRhKTtkJiYoZVtcImRhdGEtY2tlLXJlYWwtZWxlbWVudC10eXBlXCJdPVxuZCk7ZiYmKGVbXCJkYXRhLWNrZS1yZXNpemFibGVcIl09ZixmPWEuYXR0cmlidXRlcyxhPW5ldyBiLGQ9Zi53aWR0aCxmPWYuaGVpZ2h0LHZvaWQgMCE9PWQmJihhLnJ1bGVzLndpZHRoPWMoZCkpLHZvaWQgMCE9PWYmJihhLnJ1bGVzLmhlaWdodD1jKGYpKSxhLnBvcHVsYXRlKGUpKTtyZXR1cm4gbmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChcImltZ1wiLGUpfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLnJlc3RvcmVSZWFsRWxlbWVudD1mdW5jdGlvbihiKXtpZihiLmRhdGEoXCJja2UtcmVhbC1ub2RlLXR5cGVcIikhPUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm4gbnVsbDt2YXIgYz1kZWNvZGVVUklDb21wb25lbnQoYi5kYXRhKFwiY2tlLXJlYWxlbGVtZW50XCIpKSxjPWUodGhpcyxjKSxjPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKGMsdGhpcy5kb2N1bWVudCk7aWYoYi5kYXRhKFwiY2tlLXJlc2l6YWJsZVwiKSl7dmFyIGQ9Yi5nZXRTdHlsZShcIndpZHRoXCIpO1xuYj1iLmdldFN0eWxlKFwiaGVpZ2h0XCIpO2QmJmMuc2V0QXR0cmlidXRlKFwid2lkdGhcIixhKGMuZ2V0QXR0cmlidXRlKFwid2lkdGhcIiksZCkpO2ImJmMuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsYShjLmdldEF0dHJpYnV0ZShcImhlaWdodFwiKSxiKSl9cmV0dXJuIGN9fSgpLFwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gYS5yZXBsYWNlKC8nL2csXCJcXFxcJFxceDI2XCIpfWZ1bmN0aW9uIGYoYSl7Zm9yKHZhciBiPWEubGVuZ3RoLGQ9W10sYyxlPTA7ZTxiO2UrKyljPWEuY2hhckNvZGVBdChlKSxkLnB1c2goYyk7cmV0dXJuXCJTdHJpbmcuZnJvbUNoYXJDb2RlKFwiK2Quam9pbihcIixcIikrXCIpXCJ9ZnVuY3Rpb24gZShiLGQpe2Zvcih2YXIgYz1iLnBsdWdpbnMubGluayxlPWMuY29tcGlsZWRQcm90ZWN0aW9uRnVuY3Rpb24ucGFyYW1zLGM9W2MuY29tcGlsZWRQcm90ZWN0aW9uRnVuY3Rpb24ubmFtZSxcIihcIl0sZixnLGg9MDtoPGUubGVuZ3RoO2grKylmPWVbaF0udG9Mb3dlckNhc2UoKSxcbmc9ZFtmXSwwPGgmJmMucHVzaChcIixcIiksYy5wdXNoKFwiJ1wiLGc/YShlbmNvZGVVUklDb21wb25lbnQoZFtmXSkpOlwiXCIsXCInXCIpO2MucHVzaChcIilcIik7cmV0dXJuIGMuam9pbihcIlwiKX1mdW5jdGlvbiBiKGEpe2E9YS5jb25maWcuZW1haWxQcm90ZWN0aW9ufHxcIlwiO3ZhciBiO2EmJlwiZW5jb2RlXCIhPWEmJihiPXt9LGEucmVwbGFjZSgvXihbXihdKylcXCgoW14pXSspXFwpJC8sZnVuY3Rpb24oYSxkLGMpe2IubmFtZT1kO2IucGFyYW1zPVtdO2MucmVwbGFjZSgvW14sXFxzXSsvZyxmdW5jdGlvbihhKXtiLnBhcmFtcy5wdXNoKGEpfSl9KSk7cmV0dXJuIGJ9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJsaW5rXCIse3JlcXVpcmVzOlwiZGlhbG9nLGZha2VvYmplY3RzXCIsb25Mb2FkOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtyZXR1cm4gZC5yZXBsYWNlKC8lMS9nLFwicnRsXCI9PWI/XCJyaWdodFwiOlwibGVmdFwiKS5yZXBsYWNlKC8lMi9nLFwiY2tlX2NvbnRlbnRzX1wiK2IpfXZhciBiPVwiYmFja2dyb3VuZDp1cmwoXCIrXG5DS0VESVRPUi5nZXRVcmwodGhpcy5wYXRoK1wiaW1hZ2VzXCIrKENLRURJVE9SLmVudi5oaWRwaT9cIi9oaWRwaVwiOlwiXCIpK1wiL2FuY2hvci5wbmdcIikrXCIpIG5vLXJlcGVhdCAlMSBjZW50ZXI7Ym9yZGVyOjFweCBkb3R0ZWQgIzAwZjtiYWNrZ3JvdW5kLXNpemU6MTZweDtcIixkPVwiLiUyIGEuY2tlX2FuY2hvciwuJTIgYS5ja2VfYW5jaG9yX2VtcHR5LC5ja2VfZWRpdGFibGUuJTIgYVtuYW1lXSwuY2tlX2VkaXRhYmxlLiUyIGFbZGF0YS1ja2Utc2F2ZWQtbmFtZV17XCIrYitcInBhZGRpbmctJTE6MThweDtjdXJzb3I6YXV0bzt9LiUyIGltZy5ja2VfYW5jaG9ye1wiK2IrXCJ3aWR0aDoxNnB4O21pbi1oZWlnaHQ6MTVweDtoZWlnaHQ6MS4xNWVtO3ZlcnRpY2FsLWFsaWduOnRleHQtYm90dG9tO31cIjtDS0VESVRPUi5hZGRDc3MoYShcImx0clwiKSthKFwicnRsXCIpKX0saW5pdDpmdW5jdGlvbihhKXt2YXIgZD1cImFbIWhyZWZdXCI7Q0tFRElUT1IuZGlhbG9nLmlzVGFiRW5hYmxlZChhLFwibGlua1wiLFwiYWR2YW5jZWRcIikmJlxuKGQ9ZC5yZXBsYWNlKFwiXVwiLFwiLGFjY2Vzc2tleSxjaGFyc2V0LGRpcixpZCxsYW5nLG5hbWUscmVsLHRhYmluZGV4LHRpdGxlLHR5cGUsZG93bmxvYWRdeyp9KCopXCIpKTtDS0VESVRPUi5kaWFsb2cuaXNUYWJFbmFibGVkKGEsXCJsaW5rXCIsXCJ0YXJnZXRcIikmJihkPWQucmVwbGFjZShcIl1cIixcIix0YXJnZXQsb25jbGlja11cIikpO2EuYWRkQ29tbWFuZChcImxpbmtcIixuZXcgQ0tFRElUT1IuZGlhbG9nQ29tbWFuZChcImxpbmtcIix7YWxsb3dlZENvbnRlbnQ6ZCxyZXF1aXJlZENvbnRlbnQ6XCJhW2hyZWZdXCJ9KSk7YS5hZGRDb21tYW5kKFwiYW5jaG9yXCIsbmV3IENLRURJVE9SLmRpYWxvZ0NvbW1hbmQoXCJhbmNob3JcIix7YWxsb3dlZENvbnRlbnQ6XCJhWyFuYW1lLGlkXVwiLHJlcXVpcmVkQ29udGVudDpcImFbbmFtZV1cIn0pKTthLmFkZENvbW1hbmQoXCJ1bmxpbmtcIixuZXcgQ0tFRElUT1IudW5saW5rQ29tbWFuZCk7YS5hZGRDb21tYW5kKFwicmVtb3ZlQW5jaG9yXCIsbmV3IENLRURJVE9SLnJlbW92ZUFuY2hvckNvbW1hbmQpO1xuYS5zZXRLZXlzdHJva2UoQ0tFRElUT1IuQ1RSTCs3NixcImxpbmtcIik7YS5zZXRLZXlzdHJva2UoQ0tFRElUT1IuQ1RSTCs3NSxcImxpbmtcIik7YS51aS5hZGRCdXR0b24mJihhLnVpLmFkZEJ1dHRvbihcIkxpbmtcIix7bGFiZWw6YS5sYW5nLmxpbmsudG9vbGJhcixjb21tYW5kOlwibGlua1wiLHRvb2xiYXI6XCJsaW5rcywxMFwifSksYS51aS5hZGRCdXR0b24oXCJVbmxpbmtcIix7bGFiZWw6YS5sYW5nLmxpbmsudW5saW5rLGNvbW1hbmQ6XCJ1bmxpbmtcIix0b29sYmFyOlwibGlua3MsMjBcIn0pLGEudWkuYWRkQnV0dG9uKFwiQW5jaG9yXCIse2xhYmVsOmEubGFuZy5saW5rLmFuY2hvci50b29sYmFyLGNvbW1hbmQ6XCJhbmNob3JcIix0b29sYmFyOlwibGlua3MsMzBcIn0pKTtDS0VESVRPUi5kaWFsb2cuYWRkKFwibGlua1wiLHRoaXMucGF0aCtcImRpYWxvZ3MvbGluay5qc1wiKTtDS0VESVRPUi5kaWFsb2cuYWRkKFwiYW5jaG9yXCIsdGhpcy5wYXRoK1wiZGlhbG9ncy9hbmNob3IuanNcIik7YS5vbihcImRvdWJsZWNsaWNrXCIsXG5mdW5jdGlvbihiKXt2YXIgZD1iLmRhdGEuZWxlbWVudC5nZXRBc2NlbmRhbnQoe2E6MSxpbWc6MX0sITApO2QmJiFkLmlzUmVhZE9ubHkoKSYmKGQuaXMoXCJhXCIpPyhiLmRhdGEuZGlhbG9nPSFkLmdldEF0dHJpYnV0ZShcIm5hbWVcIil8fGQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSYmZC5nZXRDaGlsZENvdW50KCk/XCJsaW5rXCI6XCJhbmNob3JcIixiLmRhdGEubGluaz1kKTpDS0VESVRPUi5wbHVnaW5zLmxpbmsudHJ5UmVzdG9yZUZha2VBbmNob3IoYSxkKSYmKGIuZGF0YS5kaWFsb2c9XCJhbmNob3JcIikpfSxudWxsLG51bGwsMCk7YS5vbihcImRvdWJsZWNsaWNrXCIsZnVuY3Rpb24oYil7Yi5kYXRhLmRpYWxvZyBpbntsaW5rOjEsYW5jaG9yOjF9JiZiLmRhdGEubGluayYmYS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RFbGVtZW50KGIuZGF0YS5saW5rKX0sbnVsbCxudWxsLDIwKTthLmFkZE1lbnVJdGVtcyYmYS5hZGRNZW51SXRlbXMoe2FuY2hvcjp7bGFiZWw6YS5sYW5nLmxpbmsuYW5jaG9yLm1lbnUsXG5jb21tYW5kOlwiYW5jaG9yXCIsZ3JvdXA6XCJhbmNob3JcIixvcmRlcjoxfSxyZW1vdmVBbmNob3I6e2xhYmVsOmEubGFuZy5saW5rLmFuY2hvci5yZW1vdmUsY29tbWFuZDpcInJlbW92ZUFuY2hvclwiLGdyb3VwOlwiYW5jaG9yXCIsb3JkZXI6NX0sbGluazp7bGFiZWw6YS5sYW5nLmxpbmsubWVudSxjb21tYW5kOlwibGlua1wiLGdyb3VwOlwibGlua1wiLG9yZGVyOjF9LHVubGluazp7bGFiZWw6YS5sYW5nLmxpbmsudW5saW5rLGNvbW1hbmQ6XCJ1bmxpbmtcIixncm91cDpcImxpbmtcIixvcmRlcjo1fX0pO2EuY29udGV4dE1lbnUmJmEuY29udGV4dE1lbnUuYWRkTGlzdGVuZXIoZnVuY3Rpb24oYil7aWYoIWJ8fGIuaXNSZWFkT25seSgpKXJldHVybiBudWxsO2I9Q0tFRElUT1IucGx1Z2lucy5saW5rLnRyeVJlc3RvcmVGYWtlQW5jaG9yKGEsYik7aWYoIWImJiEoYj1DS0VESVRPUi5wbHVnaW5zLmxpbmsuZ2V0U2VsZWN0ZWRMaW5rKGEpKSlyZXR1cm4gbnVsbDt2YXIgZD17fTtiLmdldEF0dHJpYnV0ZShcImhyZWZcIikmJlxuYi5nZXRDaGlsZENvdW50KCkmJihkPXtsaW5rOkNLRURJVE9SLlRSSVNUQVRFX09GRix1bmxpbms6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGfSk7YiYmYi5oYXNBdHRyaWJ1dGUoXCJuYW1lXCIpJiYoZC5hbmNob3I9ZC5yZW1vdmVBbmNob3I9Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKTtyZXR1cm4gZH0pO3RoaXMuY29tcGlsZWRQcm90ZWN0aW9uRnVuY3Rpb249YihhKX0sYWZ0ZXJJbml0OmZ1bmN0aW9uKGEpe2EuZGF0YVByb2Nlc3Nvci5kYXRhRmlsdGVyLmFkZFJ1bGVzKHtlbGVtZW50czp7YTpmdW5jdGlvbihiKXtyZXR1cm4gYi5hdHRyaWJ1dGVzLm5hbWU/Yi5jaGlsZHJlbi5sZW5ndGg/bnVsbDphLmNyZWF0ZUZha2VQYXJzZXJFbGVtZW50KGIsXCJja2VfYW5jaG9yXCIsXCJhbmNob3JcIik6bnVsbH19fSk7dmFyIGI9YS5fLmVsZW1lbnRzUGF0aCYmYS5fLmVsZW1lbnRzUGF0aC5maWx0ZXJzO2ImJmIucHVzaChmdW5jdGlvbihiLGQpe2lmKFwiYVwiPT1kJiYoQ0tFRElUT1IucGx1Z2lucy5saW5rLnRyeVJlc3RvcmVGYWtlQW5jaG9yKGEsXG5iKXx8Yi5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpJiYoIWIuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKXx8IWIuZ2V0Q2hpbGRDb3VudCgpKSkpcmV0dXJuXCJhbmNob3JcIn0pfX0pO3ZhciBjPS9eamF2YXNjcmlwdDovLGs9L14oPzptYWlsdG8pKD86KD8hXFw/KHN1YmplY3R8Ym9keSk9KS4pKy9pLGw9L3N1YmplY3Q9KFteOz86QCY9JCxcXC9dKikvaSxtPS9ib2R5PShbXjs/OkAmPSQsXFwvXSopL2ksZD0vXiMoLiopJC8saD0vXigoPzpodHRwfGh0dHBzfGZ0cHxuZXdzKTpcXC9cXC8pPyguKikkLyxnPS9eKF8oPzpzZWxmfHRvcHxwYXJlbnR8YmxhbmspKSQvLG49L15qYXZhc2NyaXB0OnZvaWRcXChsb2NhdGlvblxcLmhyZWY9J21haWx0bzonXFwrU3RyaW5nXFwuZnJvbUNoYXJDb2RlXFwoKFteKV0rKVxcKSg/OlxcKycoLiopJyk/XFwpJC8sdz0vXmphdmFzY3JpcHQ6KFteKF0rKVxcKChbXildKylcXCkkLyx4PS9cXHMqd2luZG93Lm9wZW5cXChcXHMqdGhpc1xcLmhyZWZcXHMqLFxccyooPzonKFteJ10qKSd8bnVsbClcXHMqLFxccyonKFteJ10qKSdcXHMqXFwpXFxzKjtcXHMqcmV0dXJuXFxzKmZhbHNlOypcXHMqLyxcbnI9Lyg/Ol58LCkoW149XSspPShcXGQrfHllc3xubykvZ2kscD0vXnRlbDooLiopJC8sdT17aWQ6XCJhZHZJZFwiLGRpcjpcImFkdkxhbmdEaXJcIixhY2Nlc3NLZXk6XCJhZHZBY2Nlc3NLZXlcIixuYW1lOlwiYWR2TmFtZVwiLGxhbmc6XCJhZHZMYW5nQ29kZVwiLHRhYmluZGV4OlwiYWR2VGFiSW5kZXhcIix0aXRsZTpcImFkdlRpdGxlXCIsdHlwZTpcImFkdkNvbnRlbnRUeXBlXCIsXCJjbGFzc1wiOlwiYWR2Q1NTQ2xhc3Nlc1wiLGNoYXJzZXQ6XCJhZHZDaGFyc2V0XCIsc3R5bGU6XCJhZHZTdHlsZXNcIixyZWw6XCJhZHZSZWxcIn07Q0tFRElUT1IucGx1Z2lucy5saW5rPXtnZXRTZWxlY3RlZExpbms6ZnVuY3Rpb24oYSxiKXt2YXIgZD1hLmdldFNlbGVjdGlvbigpLGM9ZC5nZXRTZWxlY3RlZEVsZW1lbnQoKSxlPWQuZ2V0UmFuZ2VzKCksZj1bXSxnO2lmKCFiJiZjJiZjLmlzKFwiYVwiKSlyZXR1cm4gYztmb3IoYz0wO2M8ZS5sZW5ndGg7YysrKWlmKGc9ZC5nZXRSYW5nZXMoKVtjXSxnLnNocmluayhDS0VESVRPUi5TSFJJTktfRUxFTUVOVCxcbiEwLHtza2lwQm9ndXM6ITB9KSwoZz1hLmVsZW1lbnRQYXRoKGcuZ2V0Q29tbW9uQW5jZXN0b3IoKSkuY29udGFpbnMoXCJhXCIsMSkpJiZiKWYucHVzaChnKTtlbHNlIGlmKGcpcmV0dXJuIGc7cmV0dXJuIGI/ZjpudWxsfSxnZXRFZGl0b3JBbmNob3JzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmVkaXRhYmxlKCksZD1iLmlzSW5saW5lKCkmJiFhLnBsdWdpbnMuZGl2YXJlYT9hLmRvY3VtZW50OmIsYj1kLmdldEVsZW1lbnRzQnlUYWcoXCJhXCIpLGQ9ZC5nZXRFbGVtZW50c0J5VGFnKFwiaW1nXCIpLGM9W10sZT0wLGY7Zj1iLmdldEl0ZW0oZSsrKTspKGYuZGF0YShcImNrZS1zYXZlZC1uYW1lXCIpfHxmLmhhc0F0dHJpYnV0ZShcIm5hbWVcIikpJiZjLnB1c2goe25hbWU6Zi5kYXRhKFwiY2tlLXNhdmVkLW5hbWVcIil8fGYuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSxpZDpmLmdldEF0dHJpYnV0ZShcImlkXCIpfSk7Zm9yKGU9MDtmPWQuZ2V0SXRlbShlKyspOykoZj10aGlzLnRyeVJlc3RvcmVGYWtlQW5jaG9yKGEsXG5mKSkmJmMucHVzaCh7bmFtZTpmLmdldEF0dHJpYnV0ZShcIm5hbWVcIiksaWQ6Zi5nZXRBdHRyaWJ1dGUoXCJpZFwiKX0pO3JldHVybiBjfSxmYWtlQW5jaG9yOiEwLHRyeVJlc3RvcmVGYWtlQW5jaG9yOmZ1bmN0aW9uKGEsYil7aWYoYiYmYi5kYXRhKFwiY2tlLXJlYWwtZWxlbWVudC10eXBlXCIpJiZcImFuY2hvclwiPT1iLmRhdGEoXCJja2UtcmVhbC1lbGVtZW50LXR5cGVcIikpe3ZhciBkPWEucmVzdG9yZVJlYWxFbGVtZW50KGIpO2lmKGQuZGF0YShcImNrZS1zYXZlZC1uYW1lXCIpKXJldHVybiBkfX0scGFyc2VMaW5rQXR0cmlidXRlczpmdW5jdGlvbihhLGIpe3ZhciBlPWImJihiLmRhdGEoXCJja2Utc2F2ZWQtaHJlZlwiKXx8Yi5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpKXx8XCJcIixmPWEucGx1Z2lucy5saW5rLmNvbXBpbGVkUHJvdGVjdGlvbkZ1bmN0aW9uLHQ9YS5jb25maWcuZW1haWxQcm90ZWN0aW9uLHY9e30sQjtlLm1hdGNoKGMpJiYoXCJlbmNvZGVcIj09dD9lPWUucmVwbGFjZShuLGZ1bmN0aW9uKGEsXG5iLGQpe2Q9ZHx8XCJcIjtyZXR1cm5cIm1haWx0bzpcIitTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxiLnNwbGl0KFwiLFwiKSkrZC5yZXBsYWNlKC9cXFxcJy9nLFwiJ1wiKX0pOnQmJmUucmVwbGFjZSh3LGZ1bmN0aW9uKGEsYixkKXtpZihiPT1mLm5hbWUpe3YudHlwZT1cImVtYWlsXCI7YT12LmVtYWlsPXt9O2I9LyheJyl8KCckKS9nO2Q9ZC5tYXRjaCgvW14sXFxzXSsvZyk7Zm9yKHZhciBjPWQubGVuZ3RoLGUsZyxoPTA7aDxjO2grKyllPWRlY29kZVVSSUNvbXBvbmVudCxnPWRbaF0ucmVwbGFjZShiLFwiXCIpLnJlcGxhY2UoL1xcXFwnL2csXCInXCIpLGc9ZShnKSxlPWYucGFyYW1zW2hdLnRvTG93ZXJDYXNlKCksYVtlXT1nO2EuYWRkcmVzcz1bYS5uYW1lLGEuZG9tYWluXS5qb2luKFwiQFwiKX19KSk7aWYoIXYudHlwZSlpZih0PWUubWF0Y2goZCkpdi50eXBlPVwiYW5jaG9yXCIsdi5hbmNob3I9e30sdi5hbmNob3IubmFtZT12LmFuY2hvci5pZD10WzFdO2Vsc2UgaWYodD1lLm1hdGNoKHApKXYudHlwZT1cblwidGVsXCIsdi50ZWw9dFsxXTtlbHNlIGlmKHQ9ZS5tYXRjaChrKSl7Qj1lLm1hdGNoKGwpO3ZhciBlPWUubWF0Y2gobSksRD12LmVtYWlsPXt9O3YudHlwZT1cImVtYWlsXCI7RC5hZGRyZXNzPXRbMF0ucmVwbGFjZShcIm1haWx0bzpcIixcIlwiKTtCJiYoRC5zdWJqZWN0PWRlY29kZVVSSUNvbXBvbmVudChCWzFdKSk7ZSYmKEQuYm9keT1kZWNvZGVVUklDb21wb25lbnQoZVsxXSkpfWVsc2UgZSYmKEI9ZS5tYXRjaChoKSkmJih2LnR5cGU9XCJ1cmxcIix2LnVybD17fSx2LnVybC5wcm90b2NvbD1CWzFdLHYudXJsLnVybD1CWzJdKTtpZihiKXtpZihlPWIuZ2V0QXR0cmlidXRlKFwidGFyZ2V0XCIpKXYudGFyZ2V0PXt0eXBlOmUubWF0Y2goZyk/ZTpcImZyYW1lXCIsbmFtZTplfTtlbHNlIGlmKGU9KGU9Yi5kYXRhKFwiY2tlLXBhLW9uY2xpY2tcIil8fGIuZ2V0QXR0cmlidXRlKFwib25jbGlja1wiKSkmJmUubWF0Y2goeCkpZm9yKHYudGFyZ2V0PXt0eXBlOlwicG9wdXBcIixuYW1lOmVbMV19O3Q9ci5leGVjKGVbMl0pOylcInllc1wiIT1cbnRbMl0mJlwiMVwiIT10WzJdfHx0WzFdaW57aGVpZ2h0OjEsd2lkdGg6MSx0b3A6MSxsZWZ0OjF9P2lzRmluaXRlKHRbMl0pJiYodi50YXJnZXRbdFsxXV09dFsyXSk6di50YXJnZXRbdFsxXV09ITA7bnVsbCE9PWIuZ2V0QXR0cmlidXRlKFwiZG93bmxvYWRcIikmJih2LmRvd25sb2FkPSEwKTt2YXIgZT17fSxDO2ZvcihDIGluIHUpKHQ9Yi5nZXRBdHRyaWJ1dGUoQykpJiYoZVt1W0NdXT10KTtpZihDPWIuZGF0YShcImNrZS1zYXZlZC1uYW1lXCIpfHxlLmFkdk5hbWUpZS5hZHZOYW1lPUM7Q0tFRElUT1IudG9vbHMuaXNFbXB0eShlKXx8KHYuYWR2YW5jZWQ9ZSl9cmV0dXJuIHZ9LGdldExpbmtBdHRyaWJ1dGVzOmZ1bmN0aW9uKGIsZCl7dmFyIGM9Yi5jb25maWcuZW1haWxQcm90ZWN0aW9ufHxcIlwiLGc9e307c3dpdGNoKGQudHlwZSl7Y2FzZSBcInVybFwiOnZhciBjPWQudXJsJiZ2b2lkIDAhPT1kLnVybC5wcm90b2NvbD9kLnVybC5wcm90b2NvbDpcImh0dHA6Ly9cIixoPWQudXJsJiZDS0VESVRPUi50b29scy50cmltKGQudXJsLnVybCl8fFxuXCJcIjtnW1wiZGF0YS1ja2Utc2F2ZWQtaHJlZlwiXT0wPT09aC5pbmRleE9mKFwiL1wiKT9oOmMraDticmVhaztjYXNlIFwiYW5jaG9yXCI6Yz1kLmFuY2hvciYmZC5hbmNob3IuaWQ7Z1tcImRhdGEtY2tlLXNhdmVkLWhyZWZcIl09XCIjXCIrKGQuYW5jaG9yJiZkLmFuY2hvci5uYW1lfHxjfHxcIlwiKTticmVhaztjYXNlIFwiZW1haWxcIjp2YXIgaz1kLmVtYWlsLGg9ay5hZGRyZXNzO3N3aXRjaChjKXtjYXNlIFwiXCI6Y2FzZSBcImVuY29kZVwiOnZhciBsPWVuY29kZVVSSUNvbXBvbmVudChrLnN1YmplY3R8fFwiXCIpLG09ZW5jb2RlVVJJQ29tcG9uZW50KGsuYm9keXx8XCJcIiksaz1bXTtsJiZrLnB1c2goXCJzdWJqZWN0XFx4M2RcIitsKTttJiZrLnB1c2goXCJib2R5XFx4M2RcIittKTtrPWsubGVuZ3RoP1wiP1wiK2suam9pbihcIlxceDI2XCIpOlwiXCI7XCJlbmNvZGVcIj09Yz8oYz1bXCJqYXZhc2NyaXB0OnZvaWQobG9jYXRpb24uaHJlZlxceDNkJ21haWx0bzonK1wiLGYoaCldLGsmJmMucHVzaChcIisnXCIsYShrKSxcIidcIiksYy5wdXNoKFwiKVwiKSk6XG5jPVtcIm1haWx0bzpcIixoLGtdO2JyZWFrO2RlZmF1bHQ6Yz1oLnNwbGl0KFwiQFwiLDIpLGsubmFtZT1jWzBdLGsuZG9tYWluPWNbMV0sYz1bXCJqYXZhc2NyaXB0OlwiLGUoYixrKV19Z1tcImRhdGEtY2tlLXNhdmVkLWhyZWZcIl09Yy5qb2luKFwiXCIpO2JyZWFrO2Nhc2UgXCJ0ZWxcIjpnW1wiZGF0YS1ja2Utc2F2ZWQtaHJlZlwiXT1cInRlbDpcIitkLnRlbH1pZihkLnRhcmdldClpZihcInBvcHVwXCI9PWQudGFyZ2V0LnR5cGUpe2Zvcih2YXIgYz1bXCJ3aW5kb3cub3Blbih0aGlzLmhyZWYsICdcIixkLnRhcmdldC5uYW1lfHxcIlwiLFwiJywgJ1wiXSxuPVwicmVzaXphYmxlIHN0YXR1cyBsb2NhdGlvbiB0b29sYmFyIG1lbnViYXIgZnVsbHNjcmVlbiBzY3JvbGxiYXJzIGRlcGVuZGVudFwiLnNwbGl0KFwiIFwiKSxoPW4ubGVuZ3RoLGw9ZnVuY3Rpb24oYSl7ZC50YXJnZXRbYV0mJm4ucHVzaChhK1wiXFx4M2RcIitkLnRhcmdldFthXSl9LGs9MDtrPGg7aysrKW5ba10rPWQudGFyZ2V0W25ba11dP1wiXFx4M2R5ZXNcIjpcIlxceDNkbm9cIjtcbmwoXCJ3aWR0aFwiKTtsKFwibGVmdFwiKTtsKFwiaGVpZ2h0XCIpO2woXCJ0b3BcIik7Yy5wdXNoKG4uam9pbihcIixcIiksXCInKTsgcmV0dXJuIGZhbHNlO1wiKTtnW1wiZGF0YS1ja2UtcGEtb25jbGlja1wiXT1jLmpvaW4oXCJcIil9ZWxzZVwibm90U2V0XCIhPWQudGFyZ2V0LnR5cGUmJmQudGFyZ2V0Lm5hbWUmJihnLnRhcmdldD1kLnRhcmdldC5uYW1lKTtkLmRvd25sb2FkJiYoZy5kb3dubG9hZD1cIlwiKTtpZihkLmFkdmFuY2VkKXtmb3IodmFyIHAgaW4gdSkoYz1kLmFkdmFuY2VkW3VbcF1dKSYmKGdbcF09Yyk7Zy5uYW1lJiYoZ1tcImRhdGEtY2tlLXNhdmVkLW5hbWVcIl09Zy5uYW1lKX1nW1wiZGF0YS1ja2Utc2F2ZWQtaHJlZlwiXSYmKGcuaHJlZj1nW1wiZGF0YS1ja2Utc2F2ZWQtaHJlZlwiXSk7cD17dGFyZ2V0OjEsb25jbGljazoxLFwiZGF0YS1ja2UtcGEtb25jbGlja1wiOjEsXCJkYXRhLWNrZS1zYXZlZC1uYW1lXCI6MSxkb3dubG9hZDoxfTtkLmFkdmFuY2VkJiZDS0VESVRPUi50b29scy5leHRlbmQocCx1KTtmb3IodmFyIHcgaW4gZylkZWxldGUgcFt3XTtcbnJldHVybntzZXQ6ZyxyZW1vdmVkOkNLRURJVE9SLnRvb2xzLm9iamVjdC5rZXlzKHApfX0sc2hvd0Rpc3BsYXlUZXh0Rm9yRWxlbWVudDpmdW5jdGlvbihhLGIpe3ZhciBkPXtpbWc6MSx0YWJsZToxLHRib2R5OjEsdGhlYWQ6MSx0Zm9vdDoxLGlucHV0OjEsc2VsZWN0OjEsdGV4dGFyZWE6MX0sYz1iLmdldFNlbGVjdGlvbigpO3JldHVybiBiLndpZGdldHMmJmIud2lkZ2V0cy5mb2N1c2VkfHxjJiYxPGMuZ2V0UmFuZ2VzKCkubGVuZ3RoPyExOiFhfHwhYS5nZXROYW1lfHwhYS5pcyhkKX19O0NLRURJVE9SLnVubGlua0NvbW1hbmQ9ZnVuY3Rpb24oKXt9O0NLRURJVE9SLnVubGlua0NvbW1hbmQucHJvdG90eXBlPXtleGVjOmZ1bmN0aW9uKGEpe2lmKENLRURJVE9SLmVudi5pZSl7dmFyIGI9YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXSxkPWIuZ2V0UHJldmlvdXNFZGl0YWJsZU5vZGUoKSYmYi5nZXRQcmV2aW91c0VkaXRhYmxlTm9kZSgpLmdldEFzY2VuZGFudChcImFcIiwhMCl8fFxuYi5nZXROZXh0RWRpdGFibGVOb2RlKCkmJmIuZ2V0TmV4dEVkaXRhYmxlTm9kZSgpLmdldEFzY2VuZGFudChcImFcIiwhMCksYztiLmNvbGxhcHNlZCYmZCYmKGM9Yi5jcmVhdGVCb29rbWFyaygpLGIuc2VsZWN0Tm9kZUNvbnRlbnRzKGQpLGIuc2VsZWN0KCkpfWQ9bmV3IENLRURJVE9SLnN0eWxlKHtlbGVtZW50OlwiYVwiLHR5cGU6Q0tFRElUT1IuU1RZTEVfSU5MSU5FLGFsd2F5c1JlbW92ZUVsZW1lbnQ6MX0pO2EucmVtb3ZlU3R5bGUoZCk7YyYmKGIubW92ZVRvQm9va21hcmsoYyksYi5zZWxlY3QoKSl9LHJlZnJlc2g6ZnVuY3Rpb24oYSxiKXt2YXIgZD1iLmxhc3RFbGVtZW50JiZiLmxhc3RFbGVtZW50LmdldEFzY2VuZGFudChcImFcIiwhMCk7ZCYmXCJhXCI9PWQuZ2V0TmFtZSgpJiZkLmdldEF0dHJpYnV0ZShcImhyZWZcIikmJmQuZ2V0Q2hpbGRDb3VudCgpP3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT0ZGKTp0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX0sXG5jb250ZXh0U2Vuc2l0aXZlOjEsc3RhcnREaXNhYmxlZDoxLHJlcXVpcmVkQ29udGVudDpcImFbaHJlZl1cIixlZGl0b3JGb2N1czoxfTtDS0VESVRPUi5yZW1vdmVBbmNob3JDb21tYW5kPWZ1bmN0aW9uKCl7fTtDS0VESVRPUi5yZW1vdmVBbmNob3JDb21tYW5kLnByb3RvdHlwZT17ZXhlYzpmdW5jdGlvbihhKXt2YXIgYj1hLmdldFNlbGVjdGlvbigpLGQ9Yi5jcmVhdGVCb29rbWFya3MoKSxjO2lmKGImJihjPWIuZ2V0U2VsZWN0ZWRFbGVtZW50KCkpJiYoYy5nZXRDaGlsZENvdW50KCk/Yy5pcyhcImFcIik6Q0tFRElUT1IucGx1Z2lucy5saW5rLnRyeVJlc3RvcmVGYWtlQW5jaG9yKGEsYykpKWMucmVtb3ZlKDEpO2Vsc2UgaWYoYz1DS0VESVRPUi5wbHVnaW5zLmxpbmsuZ2V0U2VsZWN0ZWRMaW5rKGEpKWMuaGFzQXR0cmlidXRlKFwiaHJlZlwiKT8oYy5yZW1vdmVBdHRyaWJ1dGVzKHtuYW1lOjEsXCJkYXRhLWNrZS1zYXZlZC1uYW1lXCI6MX0pLGMucmVtb3ZlQ2xhc3MoXCJja2VfYW5jaG9yXCIpKTpcbmMucmVtb3ZlKDEpO2Iuc2VsZWN0Qm9va21hcmtzKGQpfSxyZXF1aXJlZENvbnRlbnQ6XCJhW25hbWVdXCJ9O0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5jb25maWcse2xpbmtTaG93QWR2YW5jZWRUYWI6ITAsbGlua1Nob3dUYXJnZXRUYWI6ITAsbGlua0RlZmF1bHRQcm90b2NvbDpcImh0dHA6Ly9cIn0pfSgpLFwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIsZCl7cmV0dXJuIG4oYikmJm4oZCkmJmQuZXF1YWxzKGIuZ2V0TmV4dChmdW5jdGlvbihhKXtyZXR1cm4hKGFhKGEpfHxjYShhKXx8dyhhKSl9KSl9ZnVuY3Rpb24gZihhKXt0aGlzLnVwcGVyPWFbMF07dGhpcy5sb3dlcj1hWzFdO3RoaXMuc2V0LmFwcGx5KHRoaXMsYS5zbGljZSgyKSl9ZnVuY3Rpb24gZShhKXt2YXIgYj1hLmVsZW1lbnQ7aWYoYiYmbihiKSYmKGI9Yi5nZXRBc2NlbmRhbnQoYS50cmlnZ2VycywhMCkpJiZhLmVkaXRhYmxlLmNvbnRhaW5zKGIpKXt2YXIgZD1sKGIpO2lmKFwidHJ1ZVwiPT1cbmQuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXJldHVybiBiO2lmKGQuaXMoYS50cmlnZ2VycykpcmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYihhLGIsZCl7eShhLGIpO3koYSxkKTthPWIuc2l6ZS5ib3R0b207ZD1kLnNpemUudG9wO3JldHVybiBhJiZkPzB8KGErZCkvMjphfHxkfWZ1bmN0aW9uIGMoYSxiLGQpe3JldHVybiBiPWJbZD9cImdldFByZXZpb3VzXCI6XCJnZXROZXh0XCJdKGZ1bmN0aW9uKGIpe3JldHVybiBiJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmIWFhKGIpfHxuKGIpJiYhdyhiKSYmIWcoYSxiKX0pfWZ1bmN0aW9uIGsoYSxiLGQpe3JldHVybiBhPmImJmE8ZH1mdW5jdGlvbiBsKGEsYil7aWYoYS5kYXRhKFwiY2tlLWVkaXRhYmxlXCIpKXJldHVybiBudWxsO2ZvcihifHwoYT1hLmdldFBhcmVudCgpKTthJiYhYS5kYXRhKFwiY2tlLWVkaXRhYmxlXCIpOyl7aWYoYS5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpcmV0dXJuIGE7YT1hLmdldFBhcmVudCgpfXJldHVybiBudWxsfVxuZnVuY3Rpb24gbShhKXt2YXIgYj1hLmRvYyxjPUYoJ1xceDNjc3BhbiBjb250ZW50ZWRpdGFibGVcXHgzZFwiZmFsc2VcIiBkYXRhLWNrZS1tYWdpYy1saW5lXFx4M2RcIjFcIiBzdHlsZVxceDNkXCInK2dhK1wicG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyLXRvcDoxcHggZGFzaGVkIFwiK2EuYm94Q29sb3IrJ1wiXFx4M2VcXHgzYy9zcGFuXFx4M2UnLGIpLGU9Q0tFRElUT1IuZ2V0VXJsKHRoaXMucGF0aCtcImltYWdlcy9cIisoSi5oaWRwaT9cImhpZHBpL1wiOlwiXCIpK1wiaWNvblwiKyhhLnJ0bD9cIi1ydGxcIjpcIlwiKStcIi5wbmdcIik7RChjLHthdHRhY2g6ZnVuY3Rpb24oKXt0aGlzLndyYXAuZ2V0UGFyZW50KCl8fHRoaXMud3JhcC5hcHBlbmRUbyhhLmVkaXRhYmxlLCEwKTtyZXR1cm4gdGhpc30sbGluZUNoaWxkcmVuOltEKEYoJ1xceDNjc3BhbiB0aXRsZVxceDNkXCInK2EuZWRpdG9yLmxhbmcubWFnaWNsaW5lLnRpdGxlKydcIiBjb250ZW50ZWRpdGFibGVcXHgzZFwiZmFsc2VcIlxceDNlXFx4MjYjODYyOTtcXHgzYy9zcGFuXFx4M2UnLFxuYikse2Jhc2U6Z2ErXCJoZWlnaHQ6MTdweDt3aWR0aDoxN3B4O1wiKyhhLnJ0bD9cImxlZnRcIjpcInJpZ2h0XCIpK1wiOjE3cHg7YmFja2dyb3VuZDp1cmwoXCIrZStcIikgY2VudGVyIG5vLXJlcGVhdCBcIithLmJveENvbG9yK1wiO2N1cnNvcjpwb2ludGVyO1wiKyhKLmhjP1wiZm9udC1zaXplOiAxNXB4O2xpbmUtaGVpZ2h0OjE0cHg7Ym9yZGVyOjFweCBzb2xpZCAjZmZmO3RleHQtYWxpZ246Y2VudGVyO1wiOlwiXCIpKyhKLmhpZHBpP1wiYmFja2dyb3VuZC1zaXplOiA5cHggMTBweDtcIjpcIlwiKSxsb29rczpbXCJ0b3A6LThweDsgYm9yZGVyLXJhZGl1czogMnB4O1wiLFwidG9wOi0xN3B4OyBib3JkZXItcmFkaXVzOiAycHggMnB4IDBweCAwcHg7XCIsXCJ0b3A6LTFweDsgYm9yZGVyLXJhZGl1czogMHB4IDBweCAycHggMnB4O1wiXX0pLEQoRihULGIpLHtiYXNlOmthK1wibGVmdDowcHg7Ym9yZGVyLWxlZnQtY29sb3I6XCIrYS5ib3hDb2xvcitcIjtcIixsb29rczpbXCJib3JkZXItd2lkdGg6OHB4IDAgOHB4IDhweDt0b3A6LThweFwiLFxuXCJib3JkZXItd2lkdGg6OHB4IDAgMCA4cHg7dG9wOi04cHhcIixcImJvcmRlci13aWR0aDowIDAgOHB4IDhweDt0b3A6MHB4XCJdfSksRChGKFQsYikse2Jhc2U6a2ErXCJyaWdodDowcHg7Ym9yZGVyLXJpZ2h0LWNvbG9yOlwiK2EuYm94Q29sb3IrXCI7XCIsbG9va3M6W1wiYm9yZGVyLXdpZHRoOjhweCA4cHggOHB4IDA7dG9wOi04cHhcIixcImJvcmRlci13aWR0aDo4cHggOHB4IDAgMDt0b3A6LThweFwiLFwiYm9yZGVyLXdpZHRoOjAgOHB4IDhweCAwO3RvcDowcHhcIl19KV0sZGV0YWNoOmZ1bmN0aW9uKCl7dGhpcy53cmFwLmdldFBhcmVudCgpJiZ0aGlzLndyYXAucmVtb3ZlKCk7cmV0dXJuIHRoaXN9LG1vdXNlTmVhcjpmdW5jdGlvbigpe3koYSx0aGlzKTt2YXIgYj1hLmhvbGREaXN0YW5jZSxkPXRoaXMuc2l6ZTtyZXR1cm4gZCYmayhhLm1vdXNlLnksZC50b3AtYixkLmJvdHRvbStiKSYmayhhLm1vdXNlLngsZC5sZWZ0LWIsZC5yaWdodCtiKT8hMDohMX0scGxhY2U6ZnVuY3Rpb24oKXt2YXIgYj1cbmEudmlldyxkPWEuZWRpdGFibGUsYz1hLnRyaWdnZXIsZT1jLnVwcGVyLGY9Yy5sb3dlcixnPWV8fGYsaD1nLmdldFBhcmVudCgpLGw9e307dGhpcy50cmlnZ2VyPWM7ZSYmeShhLGUsITApO2YmJnkoYSxmLCEwKTt5KGEsaCwhMCk7YS5pbklubGluZU1vZGUmJnQoYSwhMCk7aC5lcXVhbHMoZCk/KGwubGVmdD1iLnNjcm9sbC54LGwucmlnaHQ9LWIuc2Nyb2xsLngsbC53aWR0aD1cIlwiKToobC5sZWZ0PWcuc2l6ZS5sZWZ0LWcuc2l6ZS5tYXJnaW4ubGVmdCtiLnNjcm9sbC54LShhLmluSW5saW5lTW9kZT9iLmVkaXRhYmxlLmxlZnQrYi5lZGl0YWJsZS5ib3JkZXIubGVmdDowKSxsLndpZHRoPWcuc2l6ZS5vdXRlcldpZHRoK2cuc2l6ZS5tYXJnaW4ubGVmdCtnLnNpemUubWFyZ2luLnJpZ2h0K2Iuc2Nyb2xsLngsbC5yaWdodD1cIlwiKTtlJiZmP2wudG9wPWUuc2l6ZS5tYXJnaW4uYm90dG9tPT09Zi5zaXplLm1hcmdpbi50b3A/MHxlLnNpemUuYm90dG9tK2Uuc2l6ZS5tYXJnaW4uYm90dG9tL1xuMjplLnNpemUubWFyZ2luLmJvdHRvbTxmLnNpemUubWFyZ2luLnRvcD9lLnNpemUuYm90dG9tK2Uuc2l6ZS5tYXJnaW4uYm90dG9tOmUuc2l6ZS5ib3R0b20rZS5zaXplLm1hcmdpbi5ib3R0b20tZi5zaXplLm1hcmdpbi50b3A6ZT9mfHwobC50b3A9ZS5zaXplLmJvdHRvbStlLnNpemUubWFyZ2luLmJvdHRvbSk6bC50b3A9Zi5zaXplLnRvcC1mLnNpemUubWFyZ2luLnRvcDtjLmlzKE4pfHxrKGwudG9wLGIuc2Nyb2xsLnktMTUsYi5zY3JvbGwueSs1KT8obC50b3A9YS5pbklubGluZU1vZGU/MDpiLnNjcm9sbC55LHRoaXMubG9vayhOKSk6Yy5pcyhPKXx8ayhsLnRvcCxiLnBhbmUuYm90dG9tLTUsYi5wYW5lLmJvdHRvbSsxNSk/KGwudG9wPWEuaW5JbmxpbmVNb2RlP2IuZWRpdGFibGUuaGVpZ2h0K2IuZWRpdGFibGUucGFkZGluZy50b3ArYi5lZGl0YWJsZS5wYWRkaW5nLmJvdHRvbTpiLnBhbmUuYm90dG9tLTEsdGhpcy5sb29rKE8pKTooYS5pbklubGluZU1vZGUmJihsLnRvcC09XG5iLmVkaXRhYmxlLnRvcCtiLmVkaXRhYmxlLmJvcmRlci50b3ApLHRoaXMubG9vayhYKSk7YS5pbklubGluZU1vZGUmJihsLnRvcC0tLGwudG9wKz1iLmVkaXRhYmxlLnNjcm9sbC50b3AsbC5sZWZ0Kz1iLmVkaXRhYmxlLnNjcm9sbC5sZWZ0KTtmb3IodmFyIG0gaW4gbClsW21dPUNLRURJVE9SLnRvb2xzLmNzc0xlbmd0aChsW21dKTt0aGlzLnNldFN0eWxlcyhsKX0sbG9vazpmdW5jdGlvbihhKXtpZih0aGlzLm9sZExvb2shPWEpe2Zvcih2YXIgYj10aGlzLmxpbmVDaGlsZHJlbi5sZW5ndGgsZDtiLS07KShkPXRoaXMubGluZUNoaWxkcmVuW2JdKS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLGQuYmFzZStkLmxvb2tzWzB8YS8yXSk7dGhpcy5vbGRMb29rPWF9fSx3cmFwOm5ldyBDKFwic3BhblwiLGEuZG9jKX0pO2ZvcihiPWMubGluZUNoaWxkcmVuLmxlbmd0aDtiLS07KWMubGluZUNoaWxkcmVuW2JdLmFwcGVuZFRvKGMpO2MubG9vayhYKTtjLmFwcGVuZFRvKGMud3JhcCk7Yy51bnNlbGVjdGFibGUoKTtcbmMubGluZUNoaWxkcmVuWzBdLm9uKFwibW91c2V1cFwiLGZ1bmN0aW9uKGIpe2MuZGV0YWNoKCk7ZChhLGZ1bmN0aW9uKGIpe3ZhciBkPWEubGluZS50cmlnZ2VyO2JbZC5pcyhIKT9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0oZC5pcyhIKT9kLmxvd2VyOmQudXBwZXIpfSwhMCk7YS5lZGl0b3IuZm9jdXMoKTtKLmllfHxhLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlJ8fGEuaG90Tm9kZS5zY3JvbGxJbnRvVmlldygpO2IuZGF0YS5wcmV2ZW50RGVmYXVsdCghMCl9KTtjLm9uKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oYSl7YS5kYXRhLnByZXZlbnREZWZhdWx0KCEwKX0pO2EubGluZT1jfWZ1bmN0aW9uIGQoYSxiLGQpe3ZhciBjPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoYS5kb2MpLGU9YS5lZGl0b3IsZjtKLmllJiZhLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlI/Zj1hLmRvYy5jcmVhdGVUZXh0KFMpOihmPShmPWwoYS5lbGVtZW50LCEwKSkmJmYuZGF0YShcImNrZS1lbnRlci1tb2RlXCIpfHxcbmEuZW50ZXJNb2RlLGY9bmV3IEMoTVtmXSxhLmRvYyksZi5pcyhcImJyXCIpfHxhLmRvYy5jcmVhdGVUZXh0KFMpLmFwcGVuZFRvKGYpKTtkJiZlLmZpcmUoXCJzYXZlU25hcHNob3RcIik7YihmKTtjLm1vdmVUb1Bvc2l0aW9uKGYsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO2UuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtjXSk7YS5ob3ROb2RlPWY7ZCYmZS5maXJlKFwic2F2ZVNuYXBzaG90XCIpfWZ1bmN0aW9uIGgoYSxiKXtyZXR1cm57Y2FuVW5kbzohMCxtb2Rlczp7d3lzaXd5ZzoxfSxleGVjOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gZihjKXt2YXIgZT1KLmllJiY5PkoudmVyc2lvbj9cIiBcIjpTLGc9YS5ob3ROb2RlJiZhLmhvdE5vZGUuZ2V0VGV4dCgpPT1lJiZhLmVsZW1lbnQuZXF1YWxzKGEuaG90Tm9kZSkmJmEubGFzdENtZERpcmVjdGlvbj09PSEhYjtkKGEsZnVuY3Rpb24oZCl7ZyYmYS5ob3ROb2RlJiZhLmhvdE5vZGUucmVtb3ZlKCk7ZFtiP1wiaW5zZXJ0QWZ0ZXJcIjpcblwiaW5zZXJ0QmVmb3JlXCJdKGMpO2Quc2V0QXR0cmlidXRlcyh7XCJkYXRhLWNrZS1tYWdpY2xpbmUtaG90XCI6MSxcImRhdGEtY2tlLW1hZ2ljbGluZS1kaXJcIjohIWJ9KTthLmxhc3RDbWREaXJlY3Rpb249ISFifSk7Si5pZXx8YS5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSfHxhLmhvdE5vZGUuc2Nyb2xsSW50b1ZpZXcoKTthLmxpbmUuZGV0YWNoKCl9cmV0dXJuIGZ1bmN0aW9uKGQpe2Q9ZC5nZXRTZWxlY3Rpb24oKS5nZXRTdGFydEVsZW1lbnQoKTt2YXIgZztkPWQuZ2V0QXNjZW5kYW50KGlhLDEpO2lmKCFwKGEsZCkmJmQmJiFkLmVxdWFscyhhLmVkaXRhYmxlKSYmIWQuY29udGFpbnMoYS5lZGl0YWJsZSkpeyhnPWwoZCkpJiZcImZhbHNlXCI9PWcuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpJiYoZD1nKTthLmVsZW1lbnQ9ZDtnPWMoYSxkLCFiKTt2YXIgaDtuKGcpJiZnLmlzKGEudHJpZ2dlcnMpJiZnLmlzKFUpJiYoIWMoYSxnLCFiKXx8KGg9YyhhLGcsIWIpKSYmbihoKSYmXG5oLmlzKGEudHJpZ2dlcnMpKT9mKGcpOihoPWUoYSxkKSxuKGgpJiYoYyhhLGgsIWIpPyhkPWMoYSxoLCFiKSkmJm4oZCkmJmQuaXMoYS50cmlnZ2VycykmJmYoaCk6ZihoKSkpfX19KCl9fWZ1bmN0aW9uIGcoYSxiKXtpZighYnx8Yi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fCFiLiQpcmV0dXJuITE7dmFyIGQ9YS5saW5lO3JldHVybiBkLndyYXAuZXF1YWxzKGIpfHxkLndyYXAuY29udGFpbnMoYil9ZnVuY3Rpb24gbihhKXtyZXR1cm4gYSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuJH1mdW5jdGlvbiB3KGEpe2lmKCFuKGEpKXJldHVybiExO3ZhciBiOyhiPXgoYSkpfHwobihhKT8oYj17bGVmdDoxLHJpZ2h0OjEsY2VudGVyOjF9LGI9ISghYlthLmdldENvbXB1dGVkU3R5bGUoXCJmbG9hdFwiKV0mJiFiW2EuZ2V0QXR0cmlidXRlKFwiYWxpZ25cIildKSk6Yj0hMSk7cmV0dXJuIGJ9ZnVuY3Rpb24geChhKXtyZXR1cm4hIXthYnNvbHV0ZToxLGZpeGVkOjF9W2EuZ2V0Q29tcHV0ZWRTdHlsZShcInBvc2l0aW9uXCIpXX1cbmZ1bmN0aW9uIHIoYSxiKXtyZXR1cm4gbihiKT9iLmlzKGEudHJpZ2dlcnMpOm51bGx9ZnVuY3Rpb24gcChhLGIpe2lmKCFiKXJldHVybiExO2Zvcih2YXIgZD1iLmdldFBhcmVudHMoMSksYz1kLmxlbmd0aDtjLS07KWZvcih2YXIgZT1hLnRhYnVMaXN0Lmxlbmd0aDtlLS07KWlmKGRbY10uaGFzQXR0cmlidXRlKGEudGFidUxpc3RbZV0pKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHUoYSxiLGQpe2I9YltkP1wiZ2V0TGFzdFwiOlwiZ2V0Rmlyc3RcIl0oZnVuY3Rpb24oYil7cmV0dXJuIGEuaXNSZWxldmFudChiKSYmIWIuaXMoZWEpfSk7aWYoIWIpcmV0dXJuITE7eShhLGIpO3JldHVybiBkP2Iuc2l6ZS50b3A+YS5tb3VzZS55OmIuc2l6ZS5ib3R0b208YS5tb3VzZS55fWZ1bmN0aW9uIHooYSl7dmFyIGI9YS5lZGl0YWJsZSxkPWEubW91c2UsYz1hLnZpZXcsZT1hLnRyaWdnZXJPZmZzZXQ7dChhKTt2YXIgaD1kLnk+KGEuaW5JbmxpbmVNb2RlP2MuZWRpdGFibGUudG9wK2MuZWRpdGFibGUuaGVpZ2h0L1xuMjpNYXRoLm1pbihjLmVkaXRhYmxlLmhlaWdodCxjLnBhbmUuaGVpZ2h0KS8yKSxiPWJbaD9cImdldExhc3RcIjpcImdldEZpcnN0XCJdKGZ1bmN0aW9uKGEpe3JldHVybiEoYWEoYSl8fGNhKGEpKX0pO2lmKCFiKXJldHVybiBudWxsO2coYSxiKSYmKGI9YS5saW5lLndyYXBbaD9cImdldFByZXZpb3VzXCI6XCJnZXROZXh0XCJdKGZ1bmN0aW9uKGEpe3JldHVybiEoYWEoYSl8fGNhKGEpKX0pKTtpZighbihiKXx8dyhiKXx8IXIoYSxiKSlyZXR1cm4gbnVsbDt5KGEsYik7cmV0dXJuIWgmJjA8PWIuc2l6ZS50b3AmJmsoZC55LDAsYi5zaXplLnRvcCtlKT8oYT1hLmluSW5saW5lTW9kZXx8MD09PWMuc2Nyb2xsLnk/TjpYLG5ldyBmKFtudWxsLGIsSCxMLGFdKSk6aCYmYi5zaXplLmJvdHRvbTw9Yy5wYW5lLmhlaWdodCYmayhkLnksYi5zaXplLmJvdHRvbS1lLGMucGFuZS5oZWlnaHQpPyhhPWEuaW5JbmxpbmVNb2RlfHxrKGIuc2l6ZS5ib3R0b20sYy5wYW5lLmhlaWdodC1lLGMucGFuZS5oZWlnaHQpP1xuTzpYLG5ldyBmKFtiLG51bGwsRSxMLGFdKSk6bnVsbH1mdW5jdGlvbiBxKGEpe3ZhciBiPWEubW91c2UsZD1hLnZpZXcsZz1hLnRyaWdnZXJPZmZzZXQsaD1lKGEpO2lmKCFoKXJldHVybiBudWxsO3koYSxoKTt2YXIgZz1NYXRoLm1pbihnLDB8aC5zaXplLm91dGVySGVpZ2h0LzIpLGw9W10sbSxwO2lmKGsoYi55LGguc2l6ZS50b3AtMSxoLnNpemUudG9wK2cpKXA9ITE7ZWxzZSBpZihrKGIueSxoLnNpemUuYm90dG9tLWcsaC5zaXplLmJvdHRvbSsxKSlwPSEwO2Vsc2UgcmV0dXJuIG51bGw7aWYodyhoKXx8dShhLGgscCl8fGguZ2V0UGFyZW50KCkuaXMoWSkpcmV0dXJuIG51bGw7dmFyIHY9YyhhLGgsIXApO2lmKHYpe2lmKHYmJnYudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXJldHVybiBudWxsO2lmKG4odikpe2lmKHcodil8fCFyKGEsdil8fHYuZ2V0UGFyZW50KCkuaXMoWSkpcmV0dXJuIG51bGw7bD1bdixoXVtwP1wicmV2ZXJzZVwiOlwiY29uY2F0XCJdKCkuY29uY2F0KFtQLExdKX19ZWxzZSBoLmVxdWFscyhhLmVkaXRhYmxlW3A/XG5cImdldExhc3RcIjpcImdldEZpcnN0XCJdKGEuaXNSZWxldmFudCkpPyh0KGEpLHAmJmsoYi55LGguc2l6ZS5ib3R0b20tZyxkLnBhbmUuaGVpZ2h0KSYmayhoLnNpemUuYm90dG9tLGQucGFuZS5oZWlnaHQtZyxkLnBhbmUuaGVpZ2h0KT9tPU86ayhiLnksMCxoLnNpemUudG9wK2cpJiYobT1OKSk6bT1YLGw9W251bGwsaF1bcD9cInJldmVyc2VcIjpcImNvbmNhdFwiXSgpLmNvbmNhdChbcD9FOkgsTCxtLGguZXF1YWxzKGEuZWRpdGFibGVbcD9cImdldExhc3RcIjpcImdldEZpcnN0XCJdKGEuaXNSZWxldmFudCkpP3A/TzpOOlhdKTtyZXR1cm4gMCBpbiBsP25ldyBmKGwpOm51bGx9ZnVuY3Rpb24gQShhLGIsZCxjKXtmb3IodmFyIGU9Yi5nZXREb2N1bWVudFBvc2l0aW9uKCksZj17fSxnPXt9LGg9e30saz17fSxsPVEubGVuZ3RoO2wtLTspZltRW2xdXT1wYXJzZUludChiLmdldENvbXB1dGVkU3R5bGUuY2FsbChiLFwiYm9yZGVyLVwiK1FbbF0rXCItd2lkdGhcIiksMTApfHwwLGhbUVtsXV09cGFyc2VJbnQoYi5nZXRDb21wdXRlZFN0eWxlLmNhbGwoYixcblwicGFkZGluZy1cIitRW2xdKSwxMCl8fDAsZ1tRW2xdXT1wYXJzZUludChiLmdldENvbXB1dGVkU3R5bGUuY2FsbChiLFwibWFyZ2luLVwiK1FbbF0pLDEwKXx8MDtkJiYhY3x8dihhLGMpO2sudG9wPWUueS0oZD8wOmEudmlldy5zY3JvbGwueSk7ay5sZWZ0PWUueC0oZD8wOmEudmlldy5zY3JvbGwueCk7ay5vdXRlcldpZHRoPWIuJC5vZmZzZXRXaWR0aDtrLm91dGVySGVpZ2h0PWIuJC5vZmZzZXRIZWlnaHQ7ay5oZWlnaHQ9ay5vdXRlckhlaWdodC0oaC50b3AraC5ib3R0b20rZi50b3ArZi5ib3R0b20pO2sud2lkdGg9ay5vdXRlcldpZHRoLShoLmxlZnQraC5yaWdodCtmLmxlZnQrZi5yaWdodCk7ay5ib3R0b209ay50b3Aray5vdXRlckhlaWdodDtrLnJpZ2h0PWsubGVmdCtrLm91dGVyV2lkdGg7YS5pbklubGluZU1vZGUmJihrLnNjcm9sbD17dG9wOmIuJC5zY3JvbGxUb3AsbGVmdDpiLiQuc2Nyb2xsTGVmdH0pO3JldHVybiBEKHtib3JkZXI6ZixwYWRkaW5nOmgsbWFyZ2luOmcsaWdub3JlU2Nyb2xsOmR9LFxuaywhMCl9ZnVuY3Rpb24geShhLGIsZCl7aWYoIW4oYikpcmV0dXJuIGIuc2l6ZT1udWxsO2lmKCFiLnNpemUpYi5zaXplPXt9O2Vsc2UgaWYoYi5zaXplLmlnbm9yZVNjcm9sbD09ZCYmYi5zaXplLmRhdGU+bmV3IERhdGUtamEpcmV0dXJuIG51bGw7cmV0dXJuIEQoYi5zaXplLEEoYSxiLGQpLHtkYXRlOituZXcgRGF0ZX0sITApfWZ1bmN0aW9uIHQoYSxiKXthLnZpZXcuZWRpdGFibGU9QShhLGEuZWRpdGFibGUsYiwhMCl9ZnVuY3Rpb24gdihhLGIpe2Eudmlld3x8KGEudmlldz17fSk7dmFyIGQ9YS52aWV3O2lmKCEoIWImJmQmJmQuZGF0ZT5uZXcgRGF0ZS1qYSkpe3ZhciBjPWEud2luLGQ9Yy5nZXRTY3JvbGxQb3NpdGlvbigpLGM9Yy5nZXRWaWV3UGFuZVNpemUoKTtEKGEudmlldyx7c2Nyb2xsOnt4OmQueCx5OmQueSx3aWR0aDphLmRvYy4kLmRvY3VtZW50RWxlbWVudC5zY3JvbGxXaWR0aC1jLndpZHRoLGhlaWdodDphLmRvYy4kLmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQtXG5jLmhlaWdodH0scGFuZTp7d2lkdGg6Yy53aWR0aCxoZWlnaHQ6Yy5oZWlnaHQsYm90dG9tOmMuaGVpZ2h0K2QueX0sZGF0ZTorbmV3IERhdGV9LCEwKX19ZnVuY3Rpb24gQihhLGIsZCxjKXtmb3IodmFyIGU9YyxnPWMsaD0wLGs9ITEsbD0hMSxtPWEudmlldy5wYW5lLmhlaWdodCxuPWEubW91c2U7bi55K2g8bSYmMDxuLnktaDspe2t8fChrPWIoZSxjKSk7bHx8KGw9YihnLGMpKTshayYmMDxuLnktaCYmKGU9ZChhLHt4Om4ueCx5Om4ueS1ofSkpOyFsJiZuLnkraDxtJiYoZz1kKGEse3g6bi54LHk6bi55K2h9KSk7aWYoayYmbClicmVhaztoKz0yfXJldHVybiBuZXcgZihbZSxnLG51bGwsbnVsbF0pfUNLRURJVE9SLnBsdWdpbnMuYWRkKFwibWFnaWNsaW5lXCIse2luaXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5jb25maWcsaz1iLm1hZ2ljbGluZV90cmlnZ2VyT2Zmc2V0fHwzMCxsPXtlZGl0b3I6YSxlbnRlck1vZGU6Yi5lbnRlck1vZGUsdHJpZ2dlck9mZnNldDprLGhvbGREaXN0YW5jZTowfFxuayooYi5tYWdpY2xpbmVfaG9sZERpc3RhbmNlfHwuNSksYm94Q29sb3I6Yi5tYWdpY2xpbmVfY29sb3J8fFwiI2ZmMDAwMFwiLHJ0bDpcInJ0bFwiPT1iLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbix0YWJ1TGlzdDpbXCJkYXRhLWNrZS1oaWRkZW4tc2VsXCJdLmNvbmNhdChiLm1hZ2ljbGluZV90YWJ1TGlzdHx8W10pLHRyaWdnZXJzOmIubWFnaWNsaW5lX2V2ZXJ5d2hlcmU/aWE6e3RhYmxlOjEsaHI6MSxkaXY6MSx1bDoxLG9sOjEsZGw6MSxmb3JtOjEsYmxvY2txdW90ZToxfX0sdSxyLEI7bC5pc1JlbGV2YW50PWZ1bmN0aW9uKGEpe3JldHVybiBuKGEpJiYhZyhsLGEpJiYhdyhhKX07YS5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe3ZhciBrPWEuZWRpdGFibGUoKSxuPWEuZG9jdW1lbnQsdz1hLndpbmRvdztEKGwse2VkaXRhYmxlOmssaW5JbmxpbmVNb2RlOmsuaXNJbmxpbmUoKSxkb2M6bix3aW46dyxob3ROb2RlOm51bGx9LCEwKTtsLmJvdW5kYXJ5PWwuaW5JbmxpbmVNb2RlP2wuZWRpdGFibGU6XG5sLmRvYy5nZXREb2N1bWVudEVsZW1lbnQoKTtrLmlzKEcuJGlubGluZSl8fChsLmluSW5saW5lTW9kZSYmIXgoaykmJmsuc2V0U3R5bGVzKHtwb3NpdGlvbjpcInJlbGF0aXZlXCIsdG9wOm51bGwsbGVmdDpudWxsfSksbS5jYWxsKHRoaXMsbCksdihsKSxrLmF0dGFjaExpc3RlbmVyKGEsXCJiZWZvcmVVbmRvSW1hZ2VcIixmdW5jdGlvbigpe2wubGluZS5kZXRhY2goKX0pLGsuYXR0YWNoTGlzdGVuZXIoYSxcImJlZm9yZUdldERhdGFcIixmdW5jdGlvbigpe2wubGluZS53cmFwLmdldFBhcmVudCgpJiYobC5saW5lLmRldGFjaCgpLGEub25jZShcImdldERhdGFcIixmdW5jdGlvbigpe2wubGluZS5hdHRhY2goKX0sbnVsbCxudWxsLDFFMykpfSxudWxsLG51bGwsMCksay5hdHRhY2hMaXN0ZW5lcihsLmluSW5saW5lTW9kZT9uOm4uZ2V0V2luZG93KCkuZ2V0RnJhbWUoKSxcIm1vdXNlb3V0XCIsZnVuY3Rpb24oYil7aWYoXCJ3eXNpd3lnXCI9PWEubW9kZSlpZihsLmluSW5saW5lTW9kZSl7dmFyIGQ9Yi5kYXRhLiQuY2xpZW50WDtcbmI9Yi5kYXRhLiQuY2xpZW50WTt2KGwpO3QobCwhMCk7dmFyIGM9bC52aWV3LmVkaXRhYmxlLGU9bC52aWV3LnNjcm9sbDtkPmMubGVmdC1lLngmJmQ8Yy5yaWdodC1lLngmJmI+Yy50b3AtZS55JiZiPGMuYm90dG9tLWUueXx8KGNsZWFyVGltZW91dChCKSxCPW51bGwsbC5saW5lLmRldGFjaCgpKX1lbHNlIGNsZWFyVGltZW91dChCKSxCPW51bGwsbC5saW5lLmRldGFjaCgpfSksay5hdHRhY2hMaXN0ZW5lcihrLFwia2V5dXBcIixmdW5jdGlvbigpe2wuaGlkZGVuTW9kZT0wfSksay5hdHRhY2hMaXN0ZW5lcihrLFwia2V5ZG93blwiLGZ1bmN0aW9uKGIpe2lmKFwid3lzaXd5Z1wiPT1hLm1vZGUpc3dpdGNoKGIuZGF0YS5nZXRLZXlzdHJva2UoKSl7Y2FzZSAyMjI4MjQwOmNhc2UgMTY6bC5oaWRkZW5Nb2RlPTEsbC5saW5lLmRldGFjaCgpfX0pLGsuYXR0YWNoTGlzdGVuZXIobC5pbklubGluZU1vZGU/azpuLFwibW91c2Vtb3ZlXCIsZnVuY3Rpb24oYil7cj0hMDtpZihcInd5c2l3eWdcIj09YS5tb2RlJiZcbiFhLnJlYWRPbmx5JiYhQil7dmFyIGQ9e3g6Yi5kYXRhLiQuY2xpZW50WCx5OmIuZGF0YS4kLmNsaWVudFl9O0I9c2V0VGltZW91dChmdW5jdGlvbigpe2wubW91c2U9ZDtCPWwudHJpZ2dlcj1udWxsO3YobCk7ciYmIWwuaGlkZGVuTW9kZSYmYS5mb2N1c01hbmFnZXIuaGFzRm9jdXMmJiFsLmxpbmUubW91c2VOZWFyKCkmJihsLmVsZW1lbnQ9WihsLCEwKSkmJigobC50cmlnZ2VyPXoobCl8fHEobCl8fFYobCkpJiYhcChsLGwudHJpZ2dlci51cHBlcnx8bC50cmlnZ2VyLmxvd2VyKT9sLmxpbmUuYXR0YWNoKCkucGxhY2UoKToobC50cmlnZ2VyPW51bGwsbC5saW5lLmRldGFjaCgpKSxyPSExKX0sMzApfX0pLGsuYXR0YWNoTGlzdGVuZXIodyxcInNjcm9sbFwiLGZ1bmN0aW9uKCl7XCJ3eXNpd3lnXCI9PWEubW9kZSYmKGwubGluZS5kZXRhY2goKSxKLndlYmtpdCYmKGwuaGlkZGVuTW9kZT0xLGNsZWFyVGltZW91dCh1KSx1PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtsLm1vdXNlRG93bnx8KGwuaGlkZGVuTW9kZT1cbjApfSw1MCkpKX0pLGsuYXR0YWNoTGlzdGVuZXIoSz9uOncsXCJtb3VzZWRvd25cIixmdW5jdGlvbigpe1wid3lzaXd5Z1wiPT1hLm1vZGUmJihsLmxpbmUuZGV0YWNoKCksbC5oaWRkZW5Nb2RlPTEsbC5tb3VzZURvd249MSl9KSxrLmF0dGFjaExpc3RlbmVyKEs/bjp3LFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7bC5oaWRkZW5Nb2RlPTA7bC5tb3VzZURvd249MH0pLGEuYWRkQ29tbWFuZChcImFjY2Vzc1ByZXZpb3VzU3BhY2VcIixoKGwpKSxhLmFkZENvbW1hbmQoXCJhY2Nlc3NOZXh0U3BhY2VcIixoKGwsITApKSxhLnNldEtleXN0cm9rZShbW2IubWFnaWNsaW5lX2tleXN0cm9rZVByZXZpb3VzLFwiYWNjZXNzUHJldmlvdXNTcGFjZVwiXSxbYi5tYWdpY2xpbmVfa2V5c3Ryb2tlTmV4dCxcImFjY2Vzc05leHRTcGFjZVwiXV0pLGEub24oXCJsb2FkU25hcHNob3RcIixmdW5jdGlvbigpe3ZhciBiLGQsYyxlO2ZvcihlIGlue3A6MSxicjoxLGRpdjoxfSlmb3IoYj1hLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWcoZSksXG5jPWIuY291bnQoKTtjLS07KWlmKChkPWIuZ2V0SXRlbShjKSkuZGF0YShcImNrZS1tYWdpY2xpbmUtaG90XCIpKXtsLmhvdE5vZGU9ZDtsLmxhc3RDbWREaXJlY3Rpb249XCJ0cnVlXCI9PT1kLmRhdGEoXCJja2UtbWFnaWNsaW5lLWRpclwiKT8hMDohMTtyZXR1cm59fSksYS5fLm1hZ2ljbGluZUJhY2tkb29yPXthY2Nlc3NGb2N1c1NwYWNlOmQsYm94VHJpZ2dlcjpmLGlzTGluZTpnLGdldEFzY2VuZGFudFRyaWdnZXI6ZSxnZXROb25FbXB0eU5laWdoYm91cjpjLGdldFNpemU6QSx0aGF0OmwsdHJpZ2dlckVkZ2U6cSx0cmlnZ2VyRWRpdGFibGU6eix0cmlnZ2VyRXhwYW5kOlZ9KX0sdGhpcyl9fSk7dmFyIEQ9Q0tFRElUT1IudG9vbHMuZXh0ZW5kLEM9Q0tFRElUT1IuZG9tLmVsZW1lbnQsRj1DLmNyZWF0ZUZyb21IdG1sLEo9Q0tFRElUT1IuZW52LEs9Q0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uLEc9Q0tFRElUT1IuZHRkLE09e30sSD0xMjgsRT02NCxQPTMyLEw9MTYsXG5OPTQsTz0yLFg9MSxTPVwiwqBcIixZPUcuJGxpc3RJdGVtLGVhPUcuJHRhYmxlQ29udGVudCxVPUQoe30sRy4kbm9uRWRpdGFibGUsRy4kZW1wdHkpLGlhPUcuJGJsb2NrLGphPTEwMCxnYT1cIndpZHRoOjBweDtoZWlnaHQ6MHB4O3BhZGRpbmc6MHB4O21hcmdpbjowcHg7ZGlzcGxheTpibG9jazt6LWluZGV4Ojk5OTk7Y29sb3I6I2ZmZjtwb3NpdGlvbjphYnNvbHV0ZTtmb250LXNpemU6IDBweDtsaW5lLWhlaWdodDowcHg7XCIsa2E9Z2ErXCJib3JkZXItY29sb3I6dHJhbnNwYXJlbnQ7ZGlzcGxheTpibG9jaztib3JkZXItc3R5bGU6c29saWQ7XCIsVD1cIlxceDNjc3BhblxceDNlXCIrUytcIlxceDNjL3NwYW5cXHgzZVwiO01bQ0tFRElUT1IuRU5URVJfQlJdPVwiYnJcIjtNW0NLRURJVE9SLkVOVEVSX1BdPVwicFwiO01bQ0tFRElUT1IuRU5URVJfRElWXT1cImRpdlwiO2YucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYSxiLGQpe3RoaXMucHJvcGVydGllcz1hK2IrKGR8fFgpO3JldHVybiB0aGlzfSxpczpmdW5jdGlvbihhKXtyZXR1cm4odGhpcy5wcm9wZXJ0aWVzJlxuYSk9PWF9fTt2YXIgWj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixkKXt2YXIgYz1iLiQuZWxlbWVudEZyb21Qb2ludChkLngsZC55KTtyZXR1cm4gYyYmYy5ub2RlVHlwZT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYyk6bnVsbH1yZXR1cm4gZnVuY3Rpb24oYixkLGMpe2lmKCFiLm1vdXNlKXJldHVybiBudWxsO3ZhciBlPWIuZG9jLGY9Yi5saW5lLndyYXA7Yz1jfHxiLm1vdXNlO3ZhciBoPWEoZSxjKTtkJiZnKGIsaCkmJihmLmhpZGUoKSxoPWEoZSxjKSxmLnNob3coKSk7cmV0dXJuIWh8fGgudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwhaC4kfHxKLmllJiY5PkoudmVyc2lvbiYmIWIuYm91bmRhcnkuZXF1YWxzKGgpJiYhYi5ib3VuZGFyeS5jb250YWlucyhoKT9udWxsOmh9fSgpLGFhPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxjYT1DS0VESVRPUi5kb20ud2Fsa2VyLm5vZGVUeXBlKENLRURJVE9SLk5PREVfQ09NTUVOVCksVj1mdW5jdGlvbigpe2Z1bmN0aW9uIGQoZSl7dmFyIGY9XG5lLmVsZW1lbnQsZyxoLGw7aWYoIW4oZil8fGYuY29udGFpbnMoZS5lZGl0YWJsZSl8fGYuaXNSZWFkT25seSgpKXJldHVybiBudWxsO2w9QihlLGZ1bmN0aW9uKGEsYil7cmV0dXJuIWIuZXF1YWxzKGEpfSxmdW5jdGlvbihhLGIpe3JldHVybiBaKGEsITAsYil9LGYpO2c9bC51cHBlcjtoPWwubG93ZXI7aWYoYShlLGcsaCkpcmV0dXJuIGwuc2V0KFAsOCk7aWYoZyYmZi5jb250YWlucyhnKSlmb3IoOyFnLmdldFBhcmVudCgpLmVxdWFscyhmKTspZz1nLmdldFBhcmVudCgpO2Vsc2UgZz1mLmdldEZpcnN0KGZ1bmN0aW9uKGEpe3JldHVybiBjKGUsYSl9KTtpZihoJiZmLmNvbnRhaW5zKGgpKWZvcig7IWguZ2V0UGFyZW50KCkuZXF1YWxzKGYpOyloPWguZ2V0UGFyZW50KCk7ZWxzZSBoPWYuZ2V0TGFzdChmdW5jdGlvbihhKXtyZXR1cm4gYyhlLGEpfSk7aWYoIWd8fCFoKXJldHVybiBudWxsO3koZSxnKTt5KGUsaCk7aWYoIWsoZS5tb3VzZS55LGcuc2l6ZS50b3AsaC5zaXplLmJvdHRvbSkpcmV0dXJuIG51bGw7XG5mb3IodmFyIGY9TnVtYmVyLk1BWF9WQUxVRSxtLEkscCx2O2gmJiFoLmVxdWFscyhnKSYmKEk9Zy5nZXROZXh0KGUuaXNSZWxldmFudCkpOyltPU1hdGguYWJzKGIoZSxnLEkpLWUubW91c2UueSksbTxmJiYoZj1tLHA9Zyx2PUkpLGc9SSx5KGUsZyk7aWYoIXB8fCF2fHwhayhlLm1vdXNlLnkscC5zaXplLnRvcCx2LnNpemUuYm90dG9tKSlyZXR1cm4gbnVsbDtsLnVwcGVyPXA7bC5sb3dlcj12O3JldHVybiBsLnNldChQLDgpfWZ1bmN0aW9uIGMoYSxiKXtyZXR1cm4hKGImJmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfHxjYShiKXx8dyhiKXx8ZyhhLGIpfHxiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi4kJiZiLmlzKFwiYnJcIikpfXJldHVybiBmdW5jdGlvbihiKXt2YXIgYz1kKGIpLGU7aWYoZT1jKXtlPWMudXBwZXI7dmFyIGY9Yy5sb3dlcjtlPSFlfHwhZnx8dyhmKXx8dyhlKXx8Zi5lcXVhbHMoZSl8fGUuZXF1YWxzKGYpfHxmLmNvbnRhaW5zKGUpfHxlLmNvbnRhaW5zKGYpP1xuITE6cihiLGUpJiZyKGIsZikmJmEoYixlLGYpPyEwOiExfXJldHVybiBlP2M6bnVsbH19KCksUT1bXCJ0b3BcIixcImxlZnRcIixcInJpZ2h0XCIsXCJib3R0b21cIl19KCksQ0tFRElUT1IuY29uZmlnLm1hZ2ljbGluZV9rZXlzdHJva2VQcmV2aW91cz1DS0VESVRPUi5DVFJMK0NLRURJVE9SLlNISUZUKzUxLENLRURJVE9SLmNvbmZpZy5tYWdpY2xpbmVfa2V5c3Ryb2tlTmV4dD1DS0VESVRPUi5DVFJMK0NLRURJVE9SLlNISUZUKzUyLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtpZighYXx8YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fFwiZm9ybVwiIT1hLmdldE5hbWUoKSlyZXR1cm5bXTtmb3IodmFyIGI9W10sYz1bXCJzdHlsZVwiLFwiY2xhc3NOYW1lXCJdLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9YS4kLmVsZW1lbnRzLm5hbWVkSXRlbShjW2RdKTtlJiYoZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZSksYi5wdXNoKFtlLGUubmV4dFNpYmxpbmddKSxlLnJlbW92ZSgpKX1yZXR1cm4gYn1cbmZ1bmN0aW9uIGYoYSxiKXtpZihhJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXCJmb3JtXCI9PWEuZ2V0TmFtZSgpJiYwPGIubGVuZ3RoKWZvcih2YXIgYz1iLmxlbmd0aC0xOzA8PWM7Yy0tKXt2YXIgZD1iW2NdWzBdLGU9YltjXVsxXTtlP2QuaW5zZXJ0QmVmb3JlKGUpOmQuYXBwZW5kVG8oYSl9fWZ1bmN0aW9uIGUoYixjKXt2YXIgZT1hKGIpLGQ9e30saD1iLiQ7Y3x8KGRbXCJjbGFzc1wiXT1oLmNsYXNzTmFtZXx8XCJcIixoLmNsYXNzTmFtZT1cIlwiKTtkLmlubGluZT1oLnN0eWxlLmNzc1RleHR8fFwiXCI7Y3x8KGguc3R5bGUuY3NzVGV4dD1cInBvc2l0aW9uOiBzdGF0aWM7IG92ZXJmbG93OiB2aXNpYmxlXCIpO2YoZSk7cmV0dXJuIGR9ZnVuY3Rpb24gYihiLGMpe3ZhciBlPWEoYiksZD1iLiQ7XCJjbGFzc1wiaW4gYyYmKGQuY2xhc3NOYW1lPWNbXCJjbGFzc1wiXSk7XCJpbmxpbmVcImluIGMmJihkLnN0eWxlLmNzc1RleHQ9Yy5pbmxpbmUpO2YoZSl9ZnVuY3Rpb24gYyhhKXtpZighYS5lZGl0YWJsZSgpLmlzSW5saW5lKCkpe3ZhciBiPVxuQ0tFRElUT1IuaW5zdGFuY2VzLGM7Zm9yKGMgaW4gYil7dmFyIGQ9YltjXTtcInd5c2l3eWdcIiE9ZC5tb2RlfHxkLnJlYWRPbmx5fHwoZD1kLmRvY3VtZW50LmdldEJvZHkoKSxkLnNldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiLCExKSxkLnNldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiLCEwKSl9YS5lZGl0YWJsZSgpLmhhc0ZvY3VzJiYoYS50b29sYm94LmZvY3VzKCksYS5mb2N1cygpKX19Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJtYXhpbWl6ZVwiLHtpbml0OmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGYoKXt2YXIgYj1oLmdldFZpZXdQYW5lU2l6ZSgpO2EucmVzaXplKGIud2lkdGgsYi5oZWlnaHQsbnVsbCwhMCl9aWYoYS5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSl7dmFyIG09YS5sYW5nLGQ9Q0tFRElUT1IuZG9jdW1lbnQsaD1kLmdldFdpbmRvdygpLGcsbix3LHg9Q0tFRElUT1IuVFJJU1RBVEVfT0ZGO2EuYWRkQ29tbWFuZChcIm1heGltaXplXCIsXG57bW9kZXM6e3d5c2l3eWc6IUNLRURJVE9SLmVudi5pT1Msc291cmNlOiFDS0VESVRPUi5lbnYuaU9TfSxyZWFkT25seToxLGVkaXRvckZvY3VzOiExLGV4ZWM6ZnVuY3Rpb24oKXt2YXIgbT1hLmNvbnRhaW5lci5nZXRGaXJzdChmdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaGFzQ2xhc3MoXCJja2VfaW5uZXJcIil9KSxwPWEudWkuc3BhY2UoXCJjb250ZW50c1wiKTtpZihcInd5c2l3eWdcIj09YS5tb2RlKXt2YXIgdT1hLmdldFNlbGVjdGlvbigpO2c9dSYmdS5nZXRSYW5nZXMoKTtuPWguZ2V0U2Nyb2xsUG9zaXRpb24oKX1lbHNle3ZhciB6PWEuZWRpdGFibGUoKS4kO2c9IUNLRURJVE9SLmVudi5pZSYmW3ouc2VsZWN0aW9uU3RhcnQsei5zZWxlY3Rpb25FbmRdO249W3ouc2Nyb2xsTGVmdCx6LnNjcm9sbFRvcF19aWYodGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKXtoLm9uKFwicmVzaXplXCIsZik7dz1oLmdldFNjcm9sbFBvc2l0aW9uKCk7XG5mb3IodT1hLmNvbnRhaW5lcjt1PXUuZ2V0UGFyZW50KCk7KXUuc2V0Q3VzdG9tRGF0YShcIm1heGltaXplX3NhdmVkX3N0eWxlc1wiLGUodSkpLHUuc2V0U3R5bGUoXCJ6LWluZGV4XCIsYS5jb25maWcuYmFzZUZsb2F0WkluZGV4LTUpO3Auc2V0Q3VzdG9tRGF0YShcIm1heGltaXplX3NhdmVkX3N0eWxlc1wiLGUocCwhMCkpO20uc2V0Q3VzdG9tRGF0YShcIm1heGltaXplX3NhdmVkX3N0eWxlc1wiLGUobSwhMCkpO3A9e292ZXJmbG93OkNLRURJVE9SLmVudi53ZWJraXQ/XCJcIjpcImhpZGRlblwiLHdpZHRoOjAsaGVpZ2h0OjB9O2QuZ2V0RG9jdW1lbnRFbGVtZW50KCkuc2V0U3R5bGVzKHApOyFDS0VESVRPUi5lbnYuZ2Vja28mJmQuZ2V0RG9jdW1lbnRFbGVtZW50KCkuc2V0U3R5bGUoXCJwb3NpdGlvblwiLFwiZml4ZWRcIik7Q0tFRElUT1IuZW52LmdlY2tvJiZDS0VESVRPUi5lbnYucXVpcmtzfHxkLmdldEJvZHkoKS5zZXRTdHlsZXMocCk7Q0tFRElUT1IuZW52LmllP3NldFRpbWVvdXQoZnVuY3Rpb24oKXtoLiQuc2Nyb2xsVG8oMCxcbjApfSwwKTpoLiQuc2Nyb2xsVG8oMCwwKTttLnNldFN0eWxlKFwicG9zaXRpb25cIixDS0VESVRPUi5lbnYuZ2Vja28mJkNLRURJVE9SLmVudi5xdWlya3M/XCJmaXhlZFwiOlwiYWJzb2x1dGVcIik7bS4kLm9mZnNldExlZnQ7bS5zZXRTdHlsZXMoe1wiei1pbmRleFwiOmEuY29uZmlnLmJhc2VGbG9hdFpJbmRleC01LGxlZnQ6XCIwcHhcIix0b3A6XCIwcHhcIn0pO20uYWRkQ2xhc3MoXCJja2VfbWF4aW1pemVkXCIpO2YoKTtwPW0uZ2V0RG9jdW1lbnRQb3NpdGlvbigpO20uc2V0U3R5bGVzKHtsZWZ0Oi0xKnAueCtcInB4XCIsdG9wOi0xKnAueStcInB4XCJ9KTtDS0VESVRPUi5lbnYuZ2Vja28mJmMoYSl9ZWxzZSBpZih0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PTil7aC5yZW1vdmVMaXN0ZW5lcihcInJlc2l6ZVwiLGYpO2Zvcih2YXIgdT1bcCxtXSxxPTA7cTx1Lmxlbmd0aDtxKyspYih1W3FdLHVbcV0uZ2V0Q3VzdG9tRGF0YShcIm1heGltaXplX3NhdmVkX3N0eWxlc1wiKSksdVtxXS5yZW1vdmVDdXN0b21EYXRhKFwibWF4aW1pemVfc2F2ZWRfc3R5bGVzXCIpO1xuZm9yKHU9YS5jb250YWluZXI7dT11LmdldFBhcmVudCgpOyliKHUsdS5nZXRDdXN0b21EYXRhKFwibWF4aW1pemVfc2F2ZWRfc3R5bGVzXCIpKSx1LnJlbW92ZUN1c3RvbURhdGEoXCJtYXhpbWl6ZV9zYXZlZF9zdHlsZXNcIik7Q0tFRElUT1IuZW52LmllP3NldFRpbWVvdXQoZnVuY3Rpb24oKXtoLiQuc2Nyb2xsVG8ody54LHcueSl9LDApOmguJC5zY3JvbGxUbyh3Lngsdy55KTttLnJlbW92ZUNsYXNzKFwiY2tlX21heGltaXplZFwiKTtDS0VESVRPUi5lbnYud2Via2l0JiYobS5zZXRTdHlsZShcImRpc3BsYXlcIixcImlubGluZVwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bS5zZXRTdHlsZShcImRpc3BsYXlcIixcImJsb2NrXCIpfSwwKSk7YS5maXJlKFwicmVzaXplXCIse291dGVySGVpZ2h0OmEuY29udGFpbmVyLiQub2Zmc2V0SGVpZ2h0LGNvbnRlbnRzSGVpZ2h0OnAuJC5vZmZzZXRIZWlnaHQsb3V0ZXJXaWR0aDphLmNvbnRhaW5lci4kLm9mZnNldFdpZHRofSl9dGhpcy50b2dnbGVTdGF0ZSgpO1wid3lzaXd5Z1wiPT1cbmEubW9kZT9nPyhDS0VESVRPUi5lbnYuZ2Vja28mJmMoYSksYS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoZyksKHo9YS5nZXRTZWxlY3Rpb24oKS5nZXRTdGFydEVsZW1lbnQoKSkmJnouc2Nyb2xsSW50b1ZpZXcoITApKTpoLiQuc2Nyb2xsVG8obi54LG4ueSk6KGcmJih6LnNlbGVjdGlvblN0YXJ0PWdbMF0sei5zZWxlY3Rpb25FbmQ9Z1sxXSksei5zY3JvbGxMZWZ0PW5bMF0sei5zY3JvbGxUb3A9blsxXSk7Zz1uPW51bGw7eD10aGlzLnN0YXRlO2EuZmlyZShcIm1heGltaXplXCIsdGhpcy5zdGF0ZSl9LGNhblVuZG86ITF9KTthLnVpLmFkZEJ1dHRvbiYmYS51aS5hZGRCdXR0b24oXCJNYXhpbWl6ZVwiLHtpc1RvZ2dsZTohMCxsYWJlbDptLm1heGltaXplLm1heGltaXplLGNvbW1hbmQ6XCJtYXhpbWl6ZVwiLHRvb2xiYXI6XCJ0b29scywxMFwifSk7YS5vbihcIm1vZGVcIixmdW5jdGlvbigpe3ZhciBiPWEuZ2V0Q29tbWFuZChcIm1heGltaXplXCIpO2Iuc2V0U3RhdGUoYi5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ/XG5DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDp4KX0sbnVsbCxudWxsLDEwMCk7aWYoYS5jb25maWcubWF4aW1pemVfaGlzdG9yeUludGVncmF0aW9uKWgub24oYS5jb25maWcubWF4aW1pemVfaGlzdG9yeUludGVncmF0aW9uPT09Q0tFRElUT1IuSElTVE9SWV9OQVRJVkU/XCJwb3BzdGF0ZVwiOlwiaGFzaGNoYW5nZVwiLGZ1bmN0aW9uKCl7dmFyIGI9YS5nZXRDb21tYW5kKFwibWF4aW1pemVcIik7Yi5zdGF0ZT09PUNLRURJVE9SLlRSSVNUQVRFX09OJiZiLmV4ZWMoKX0pfX19KTtDS0VESVRPUi5jb25maWcubWF4aW1pemVfaGlzdG9yeUludGVncmF0aW9uPUNLRURJVE9SLkhJU1RPUllfTkFUSVZFfSgpLGZ1bmN0aW9uKCl7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJ4bWxcIix7fSk7Q0tFRElUT1IueG1sPWZ1bmN0aW9uKGEpe3ZhciBmPW51bGw7aWYoXCJvYmplY3RcIj09dHlwZW9mIGEpZj1hO2Vsc2UgaWYoYT0oYXx8XCJcIikucmVwbGFjZSgvJm5ic3A7L2csXCLCoFwiKSxcIkFjdGl2ZVhPYmplY3RcImluIHdpbmRvdyl7dHJ5e2Y9XG5uZXcgQWN0aXZlWE9iamVjdChcIk1TWE1MMi5ET01Eb2N1bWVudFwiKX1jYXRjaChlKXt0cnl7Zj1uZXcgQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YbWxEb21cIil9Y2F0Y2goYil7fX1mJiYoZi5hc3luYz0hMSxmLnJlc29sdmVFeHRlcm5hbHM9ITEsZi52YWxpZGF0ZU9uUGFyc2U9ITEsZi5sb2FkWE1MKGEpKX1lbHNlIHdpbmRvdy5ET01QYXJzZXImJihmPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoYSxcInRleHQveG1sXCIpKTt0aGlzLmJhc2VYbWw9Zn07Q0tFRElUT1IueG1sLnByb3RvdHlwZT17c2VsZWN0U2luZ2xlTm9kZTpmdW5jdGlvbihhLGYpe3ZhciBlPXRoaXMuYmFzZVhtbDtpZihmfHwoZj1lKSl7aWYoXCJzZWxlY3RTaW5nbGVOb2RlXCJpbiBmKXJldHVybiBmLnNlbGVjdFNpbmdsZU5vZGUoYSk7aWYoZS5ldmFsdWF0ZSlyZXR1cm4oZT1lLmV2YWx1YXRlKGEsZixudWxsLDksbnVsbCkpJiZlLnNpbmdsZU5vZGVWYWx1ZXx8bnVsbH1yZXR1cm4gbnVsbH0sc2VsZWN0Tm9kZXM6ZnVuY3Rpb24oYSxcbmYpe3ZhciBlPXRoaXMuYmFzZVhtbCxiPVtdO2lmKGZ8fChmPWUpKXtpZihcInNlbGVjdE5vZGVzXCJpbiBmKXJldHVybiBmLnNlbGVjdE5vZGVzKGEpO2lmKGUuZXZhbHVhdGUmJihlPWUuZXZhbHVhdGUoYSxmLG51bGwsNSxudWxsKSkpZm9yKHZhciBjO2M9ZS5pdGVyYXRlTmV4dCgpOyliLnB1c2goYyl9cmV0dXJuIGJ9LGdldElubmVyWG1sOmZ1bmN0aW9uKGEsZil7dmFyIGU9dGhpcy5zZWxlY3RTaW5nbGVOb2RlKGEsZiksYj1bXTtpZihlKWZvcihlPWUuZmlyc3RDaGlsZDtlOyllLnhtbD9iLnB1c2goZS54bWwpOndpbmRvdy5YTUxTZXJpYWxpemVyJiZiLnB1c2goKG5ldyBYTUxTZXJpYWxpemVyKS5zZXJpYWxpemVUb1N0cmluZyhlKSksZT1lLm5leHRTaWJsaW5nO3JldHVybiBiLmxlbmd0aD9iLmpvaW4oXCJcIik6bnVsbH19fSgpLGZ1bmN0aW9uKCl7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJhamF4XCIse3JlcXVpcmVzOlwieG1sXCJ9KTtDS0VESVRPUi5hamF4PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe2lmKCFDS0VESVRPUi5lbnYuaWV8fFxuXCJmaWxlOlwiIT1sb2NhdGlvbi5wcm90b2NvbCl0cnl7cmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdH1jYXRjaChhKXt9dHJ5e3JldHVybiBuZXcgQWN0aXZlWE9iamVjdChcIk1zeG1sMi5YTUxIVFRQXCIpfWNhdGNoKGIpe310cnl7cmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KFwiTWljcm9zb2Z0LlhNTEhUVFBcIil9Y2F0Y2goZSl7fXJldHVybiBudWxsfWZ1bmN0aW9uIGYoYSxiKXtpZig0IT1hLnJlYWR5U3RhdGV8fCEoMjAwPD1hLnN0YXR1cyYmMzAwPmEuc3RhdHVzfHwzMDQ9PWEuc3RhdHVzfHwwPT09YS5zdGF0dXN8fDEyMjM9PWEuc3RhdHVzKSlyZXR1cm4gbnVsbDtzd2l0Y2goYil7Y2FzZSBcInRleHRcIjpyZXR1cm4gYS5yZXNwb25zZVRleHQ7Y2FzZSBcInhtbFwiOnZhciBlPWEucmVzcG9uc2VYTUw7cmV0dXJuIG5ldyBDS0VESVRPUi54bWwoZSYmZS5maXJzdENoaWxkP2U6YS5yZXNwb25zZVRleHQpO2Nhc2UgXCJhcnJheWJ1ZmZlclwiOnJldHVybiBhLnJlc3BvbnNlO2RlZmF1bHQ6cmV0dXJuIG51bGx9fVxuZnVuY3Rpb24gZShiLGUsbCl7dmFyIG09ISFlLGQ9YSgpO2lmKCFkKXJldHVybiBudWxsO20mJlwidGV4dFwiIT09bCYmXCJ4bWxcIiE9PWwmJihkLnJlc3BvbnNlVHlwZT1sKTtkLm9wZW4oXCJHRVRcIixiLG0pO20mJihkLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PWQucmVhZHlTdGF0ZSYmKGUoZihkLGwpKSxkPW51bGwpfSk7ZC5zZW5kKG51bGwpO3JldHVybiBtP1wiXCI6ZihkLGwpfWZ1bmN0aW9uIGIoYixlLGwsbSxkKXt2YXIgaD1hKCk7aWYoIWgpcmV0dXJuIG51bGw7aC5vcGVuKFwiUE9TVFwiLGIsITApO2gub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09aC5yZWFkeVN0YXRlJiYobSYmbShmKGgsZCkpLGg9bnVsbCl9O2guc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLGx8fFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0XFx4M2RVVEYtOFwiKTtoLnNlbmQoZSl9cmV0dXJue2xvYWQ6ZnVuY3Rpb24oYSxiLGYpe3JldHVybiBlKGEsXG5iLGZ8fFwidGV4dFwiKX0scG9zdDpmdW5jdGlvbihhLGUsZixtKXtyZXR1cm4gYihhLGUsZixtLFwidGV4dFwiKX0sbG9hZFhtbDpmdW5jdGlvbihhLGIpe3JldHVybiBlKGEsYixcInhtbFwiKX0sbG9hZFRleHQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZShhLGIsXCJ0ZXh0XCIpfSxsb2FkQmluYXJ5OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGUoYSxiLFwiYXJyYXlidWZmZXJcIil9fX0oKX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuYXJyYXkuZmlsdGVyKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2FuSGFuZGxlKGIpfSkuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLnByaW9yaXR5PT09Yi5wcmlvcml0eT8wOmEucHJpb3JpdHktYi5wcmlvcml0eX0pfWZ1bmN0aW9uIGYoYSxiKXt2YXIgZD1hLnNoaWZ0KCk7ZCYmZC5oYW5kbGUoYixmdW5jdGlvbigpe2YoYSxiKX0pfWZ1bmN0aW9uIGUoYSl7dmFyIGI9Q0tFRElUT1IudG9vbHMuYXJyYXkucmVkdWNlKGEsXG5mdW5jdGlvbihhLGIpe3JldHVybiBDS0VESVRPUi50b29scy5hcnJheS5pc0FycmF5KGIuZmlsdGVycyk/YS5jb25jYXQoYi5maWx0ZXJzKTphfSxbXSk7cmV0dXJuIENLRURJVE9SLnRvb2xzLmFycmF5LmZpbHRlcihiLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmFycmF5LmluZGV4T2YoYixhKT09PWN9KX1mdW5jdGlvbiBiKGEsYil7dmFyIGQ9MCxlLGY7aWYoIUNLRURJVE9SLnRvb2xzLmFycmF5LmlzQXJyYXkoYSl8fDA9PT1hLmxlbmd0aClyZXR1cm4hMDtlPUNLRURJVE9SLnRvb2xzLmFycmF5LmZpbHRlcihhLGZ1bmN0aW9uKGEpe3JldHVybi0xPT09Q0tFRElUT1IudG9vbHMuYXJyYXkuaW5kZXhPZihjLGEpfSk7aWYoMDxlLmxlbmd0aClmb3IoZj0wO2Y8ZS5sZW5ndGg7ZisrKShmdW5jdGlvbihhKXtDS0VESVRPUi5zY3JpcHRMb2FkZXIucXVldWUoYSxmdW5jdGlvbihmKXtmJiZjLnB1c2goYSk7KytkPT09ZS5sZW5ndGgmJmIoKX0pfSkoZVtmXSk7cmV0dXJuIDA9PT1cbmUubGVuZ3RofXZhciBjPVtdLGs9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXJzPVtdfSxwcm90bzp7cmVnaXN0ZXI6ZnVuY3Rpb24oYSl7XCJudW1iZXJcIiE9PXR5cGVvZiBhLnByaW9yaXR5JiYoYS5wcmlvcml0eT0xMCk7dGhpcy5oYW5kbGVycy5wdXNoKGEpfSxhZGRQYXN0ZUxpc3RlbmVyOmZ1bmN0aW9uKGMpe2Mub24oXCJwYXN0ZVwiLGZ1bmN0aW9uKGspe3ZhciBkPWEodGhpcy5oYW5kbGVycyxrKSxoO2lmKDAhPT1kLmxlbmd0aCl7aD1lKGQpO2g9YihoLGZ1bmN0aW9uKCl7cmV0dXJuIGMuZmlyZShcInBhc3RlXCIsay5kYXRhKX0pO2lmKCFoKXJldHVybiBrLmNhbmNlbCgpO2YoZCxrKX19LHRoaXMsbnVsbCwzKX19fSk7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJwYXN0ZXRvb2xzXCIse3JlcXVpcmVzOltcImNsaXBib2FyZFwiLFwiYWpheFwiXSxiZWZvcmVJbml0OmZ1bmN0aW9uKGEpe2EucGFzdGVUb29scz1uZXcgazthLnBhc3RlVG9vbHMuYWRkUGFzdGVMaXN0ZW5lcihhKX19KTtcbkNLRURJVE9SLnBsdWdpbnMucGFzdGV0b29scz17ZmlsdGVyczp7fSxsb2FkRmlsdGVyczpiLGNyZWF0ZUZpbHRlcjpmdW5jdGlvbihhKXt2YXIgYj1DS0VESVRPUi50b29scy5hcnJheS5pc0FycmF5KGEucnVsZXMpP2EucnVsZXM6W2EucnVsZXNdLGQ9YS5hZGRpdGlvbmFsVHJhbnNmb3JtcztyZXR1cm4gZnVuY3Rpb24oYSxjKXt2YXIgZT1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcixmPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmZpbHRlcixrO2QmJihhPWQoYSxjKSk7Q0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaChiLGZ1bmN0aW9uKGIpe2YuYWRkUnVsZXMoYihhLGMsZikpfSk7az1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGEpO2YuYXBwbHlUbyhrKTtrLndyaXRlSHRtbChlKTtyZXR1cm4gZS5nZXRIdG1sKCl9fSxnZXRDbGlwYm9hcmREYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGQ7cmV0dXJuIENLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzQ3VzdG9tRGF0YVR5cGVzU3VwcG9ydGVkfHxcblwidGV4dC9odG1sXCI9PT1iPyhkPWEuZGF0YVRyYW5zZmVyLmdldERhdGEoYiwhMCkpfHxcInRleHQvaHRtbFwiIT09Yj9kOmEuZGF0YVZhbHVlOm51bGx9LGdldENvbmZpZ1ZhbHVlOmZ1bmN0aW9uKGEsYil7aWYoYSYmYS5jb25maWcpe3ZhciBkPUNLRURJVE9SLnRvb2xzLGM9YS5jb25maWcsZT1kLm9iamVjdC5rZXlzKGMpLGY9W1wicGFzdGVUb29sc19cIitiLFwicGFzdGVGcm9tV29yZF9cIitiLFwicGFzdGVGcm9tV29yZFwiK2QuY2FwaXRhbGl6ZShiLCEwKV0sZj1kLmFycmF5LmZpbmQoZixmdW5jdGlvbihhKXtyZXR1cm4tMSE9PWQuYXJyYXkuaW5kZXhPZihlLGEpfSk7cmV0dXJuIGNbZl19fSxnZXRDb250ZW50R2VuZXJhdG9yTmFtZTpmdW5jdGlvbihhKXtpZigoYT0vPG1ldGFcXHMrbmFtZT1bXCInXT9nZW5lcmF0b3JbXCInXT9cXHMrY29udGVudD1bXCInXT8oXFx3KykvZ2kuZXhlYyhhKSkmJmEubGVuZ3RoKXJldHVybiBhPWFbMV0udG9Mb3dlckNhc2UoKSwwPT09YS5pbmRleE9mKFwibWljcm9zb2Z0XCIpP1xuXCJtaWNyb3NvZnRcIjowPT09YS5pbmRleE9mKFwibGlicmVvZmZpY2VcIik/XCJsaWJyZW9mZmljZVwiOlwidW5rbm93blwifX07Q0tFRElUT1IucGFzdGVGaWx0ZXJzPUNLRURJVE9SLnBsdWdpbnMucGFzdGV0b29scy5maWx0ZXJzfSgpLGZ1bmN0aW9uKCl7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJwYXN0ZWZyb21nZG9jc1wiLHtyZXF1aXJlczpcInBhc3RldG9vbHNcIixpbml0OmZ1bmN0aW9uKGEpe3ZhciBmPUNLRURJVE9SLnBsdWdpbnMuZ2V0UGF0aChcInBhc3RldG9vbHNcIiksZT10aGlzLnBhdGg7YS5wYXN0ZVRvb2xzLnJlZ2lzdGVyKHtmaWx0ZXJzOltDS0VESVRPUi5nZXRVcmwoZitcImZpbHRlci9jb21tb24uanNcIiksQ0tFRElUT1IuZ2V0VXJsKGUrXCJmaWx0ZXIvZGVmYXVsdC5qc1wiKV0sY2FuSGFuZGxlOmZ1bmN0aW9uKGEpe3JldHVybi9pZD0oXFxcInxcXCcpP2RvY3NcXC1pbnRlcm5hbFxcLWd1aWRcXC0vLnRlc3QoYS5kYXRhLmRhdGFWYWx1ZSl9LGhhbmRsZTpmdW5jdGlvbihiLGMpe3ZhciBlPWIuZGF0YSxcbmY9Q0tFRElUT1IucGx1Z2lucy5wYXN0ZXRvb2xzLmdldENsaXBib2FyZERhdGEoZSxcInRleHQvaHRtbFwiKTtlLmRvbnRGaWx0ZXI9ITA7ZS5kYXRhVmFsdWU9Q0tFRElUT1IucGFzdGVGaWx0ZXJzLmdkb2NzKGYsYSk7ITA9PT1hLmNvbmZpZy5mb3JjZVBhc3RlQXNQbGFpblRleHQmJihlLnR5cGU9XCJ0ZXh0XCIpO2MoKX19KX19KX0oKSxmdW5jdGlvbigpe0NLRURJVE9SLnBsdWdpbnMuYWRkKFwicGFzdGVmcm9tbGlicmVvZmZpY2VcIix7cmVxdWlyZXM6XCJwYXN0ZXRvb2xzXCIsaXNTdXBwb3J0ZWRFbnZpcm9ubWVudDpmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLmVudi5pZSYmMTE+PUNLRURJVE9SLmVudi52ZXJzaW9uO3JldHVybiEoQ0tFRElUT1IuZW52LndlYmtpdCYmIUNLRURJVE9SLmVudi5jaHJvbWUpJiYhYX0saW5pdDpmdW5jdGlvbihhKXtpZih0aGlzLmlzU3VwcG9ydGVkRW52aXJvbm1lbnQoKSl7dmFyIGY9Q0tFRElUT1IucGx1Z2lucy5nZXRQYXRoKFwicGFzdGV0b29sc1wiKSxcbmU9dGhpcy5wYXRoO2EucGFzdGVUb29scy5yZWdpc3Rlcih7cHJpb3JpdHk6MTAwLGZpbHRlcnM6W0NLRURJVE9SLmdldFVybChmK1wiZmlsdGVyL2NvbW1vbi5qc1wiKSxDS0VESVRPUi5nZXRVcmwoZitcImZpbHRlci9pbWFnZS5qc1wiKSxDS0VESVRPUi5nZXRVcmwoZStcImZpbHRlci9kZWZhdWx0LmpzXCIpXSxjYW5IYW5kbGU6ZnVuY3Rpb24oYSl7YT1hLmRhdGE7cmV0dXJuKGE9YS5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcInRleHQvaHRtbFwiLCEwKXx8YS5kYXRhVmFsdWUpP1wibGlicmVvZmZpY2VcIj09PUNLRURJVE9SLnBsdWdpbnMucGFzdGV0b29scy5nZXRDb250ZW50R2VuZXJhdG9yTmFtZShhKTohMX0saGFuZGxlOmZ1bmN0aW9uKGIsYyl7dmFyIGU9Yi5kYXRhLGY9ZS5kYXRhVmFsdWV8fENLRURJVE9SLnBsdWdpbnMucGFzdGV0b29scy5nZXRDbGlwYm9hcmREYXRhKGUsXCJ0ZXh0L2h0bWxcIik7ZS5kb250RmlsdGVyPSEwO2Y9Q0tFRElUT1IucGFzdGVGaWx0ZXJzLmltYWdlKGYsYSxDS0VESVRPUi5wbHVnaW5zLnBhc3RldG9vbHMuZ2V0Q2xpcGJvYXJkRGF0YShlLFxuXCJ0ZXh0L3J0ZlwiKSk7ZS5kYXRhVmFsdWU9Q0tFRElUT1IucGFzdGVGaWx0ZXJzLmxpYnJlb2ZmaWNlKGYsYSk7ITA9PT1hLmNvbmZpZy5mb3JjZVBhc3RlQXNQbGFpblRleHQmJihlLnR5cGU9XCJ0ZXh0XCIpO2MoKX19KX19fSl9KCksZnVuY3Rpb24oKXtDS0VESVRPUi5wbHVnaW5zLmFkZChcInBhc3RlZnJvbXdvcmRcIix7cmVxdWlyZXM6XCJwYXN0ZXRvb2xzXCIsaW5pdDpmdW5jdGlvbihhKXt2YXIgZj0wLGU9Q0tFRElUT1IucGx1Z2lucy5nZXRQYXRoKFwicGFzdGV0b29sc1wiKSxiPXRoaXMucGF0aCxjPXZvaWQgMD09PWEuY29uZmlnLnBhc3RlRnJvbVdvcmRfaW5saW5lSW1hZ2VzPyEwOmEuY29uZmlnLnBhc3RlRnJvbVdvcmRfaW5saW5lSW1hZ2VzLGU9W0NLRURJVE9SLmdldFVybChlK1wiZmlsdGVyL2NvbW1vbi5qc1wiKSxDS0VESVRPUi5nZXRVcmwoZStcImZpbHRlci9pbWFnZS5qc1wiKSxDS0VESVRPUi5nZXRVcmwoYitcImZpbHRlci9kZWZhdWx0LmpzXCIpXTthLmFkZENvbW1hbmQoXCJwYXN0ZWZyb213b3JkXCIsXG57Y2FuVW5kbzohMSxhc3luYzohMCxleGVjOmZ1bmN0aW9uKGEsYil7Zj0xO2EuZXhlY0NvbW1hbmQoXCJwYXN0ZVwiLHt0eXBlOlwiaHRtbFwiLG5vdGlmaWNhdGlvbjpiJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIGIubm90aWZpY2F0aW9uP2Iubm90aWZpY2F0aW9uOiEwfSl9fSk7Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuYWRkUGFzdGVCdXR0b24oYSxcIlBhc3RlRnJvbVdvcmRcIix7bGFiZWw6YS5sYW5nLnBhc3RlZnJvbXdvcmQudG9vbGJhcixjb21tYW5kOlwicGFzdGVmcm9td29yZFwiLHRvb2xiYXI6XCJjbGlwYm9hcmQsNTBcIn0pO2EucGFzdGVUb29scy5yZWdpc3Rlcih7ZmlsdGVyczphLmNvbmZpZy5wYXN0ZUZyb21Xb3JkQ2xlYW51cEZpbGU/W2EuY29uZmlnLnBhc3RlRnJvbVdvcmRDbGVhbnVwRmlsZV06ZSxjYW5IYW5kbGU6ZnVuY3Rpb24oYSl7YT1DS0VESVRPUi5wbHVnaW5zLnBhc3RldG9vbHMuZ2V0Q2xpcGJvYXJkRGF0YShhLmRhdGEsXCJ0ZXh0L2h0bWxcIik7dmFyIGI9Q0tFRElUT1IucGx1Z2lucy5wYXN0ZXRvb2xzLmdldENvbnRlbnRHZW5lcmF0b3JOYW1lKGEpLFxuYz0vKGNsYXNzPVwiP01zb3xzdHlsZT1bXCInXVteXCJdKj9cXGJtc29cXC18dzpXb3JkRG9jdW1lbnR8PG86XFx3Kz58PFxcL2ZvbnQ+KS8sYj1iP1wibWljcm9zb2Z0XCI9PT1iOmMudGVzdChhKTtyZXR1cm4gYSYmKGZ8fGIpfSxoYW5kbGU6ZnVuY3Rpb24oYixlKXt2YXIgbT1iLmRhdGEsZD1DS0VESVRPUi5wbHVnaW5zLnBhc3RldG9vbHMuZ2V0Q2xpcGJvYXJkRGF0YShtLFwidGV4dC9odG1sXCIpLGg9Q0tFRElUT1IucGx1Z2lucy5wYXN0ZXRvb2xzLmdldENsaXBib2FyZERhdGEobSxcInRleHQvcnRmXCIpLGQ9e2RhdGFWYWx1ZTpkLGRhdGFUcmFuc2Zlcjp7XCJ0ZXh0L3J0ZlwiOmh9fTtpZighMSE9PWEuZmlyZShcInBhc3RlRnJvbVdvcmRcIixkKXx8Zil7bS5kb250RmlsdGVyPSEwO2lmKGZ8fCFhLmNvbmZpZy5wYXN0ZUZyb21Xb3JkUHJvbXB0Q2xlYW51cHx8Y29uZmlybShhLmxhbmcucGFzdGVmcm9td29yZC5jb25maXJtQ2xlYW51cCkpZC5kYXRhVmFsdWU9Q0tFRElUT1IuY2xlYW5Xb3JkKGQuZGF0YVZhbHVlLFxuYSksQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21EYXRhVHlwZXNTdXBwb3J0ZWQmJmMmJkNLRURJVE9SLnBhc3RlRmlsdGVycy5pbWFnZSYmKGQuZGF0YVZhbHVlPUNLRURJVE9SLnBhc3RlRmlsdGVycy5pbWFnZShkLmRhdGFWYWx1ZSxhLGgpKSxhLmZpcmUoXCJhZnRlclBhc3RlRnJvbVdvcmRcIixkKSxtLmRhdGFWYWx1ZT1kLmRhdGFWYWx1ZSwhMD09PWEuY29uZmlnLmZvcmNlUGFzdGVBc1BsYWluVGV4dD9tLnR5cGU9XCJ0ZXh0XCI6Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21Db3B5Q3V0U3VwcG9ydGVkfHxcImFsbG93LXdvcmRcIiE9PWEuY29uZmlnLmZvcmNlUGFzdGVBc1BsYWluVGV4dHx8KG0udHlwZT1cImh0bWxcIik7Zj0wO2UoKX19fSl9fSl9KCksZnVuY3Rpb24oKXt2YXIgYT17Y2FuVW5kbzohMSxhc3luYzohMCxleGVjOmZ1bmN0aW9uKGEsZSl7dmFyIGI9YS5sYW5nLGM9Q0tFRElUT1IudG9vbHMua2V5c3Ryb2tlVG9TdHJpbmcoYi5jb21tb24ua2V5Ym9hcmQsXG5hLmdldENvbW1hbmRLZXlzdHJva2UoQ0tFRElUT1IuZW52LmllP2EuY29tbWFuZHMucGFzdGU6dGhpcykpLGs9ZSYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBlLm5vdGlmaWNhdGlvbj9lLm5vdGlmaWNhdGlvbjohZXx8IWUuZnJvbXx8XCJrZXlzdHJva2VIYW5kbGVyXCI9PT1lLmZyb20mJkNLRURJVE9SLmVudi5pZSxiPWsmJlwic3RyaW5nXCI9PT10eXBlb2Ygaz9rOmIucGFzdGV0ZXh0LnBhc3RlTm90aWZpY2F0aW9uLnJlcGxhY2UoLyUxLywnXFx4M2NrYmQgYXJpYS1sYWJlbFxceDNkXCInK2MuYXJpYSsnXCJcXHgzZScrYy5kaXNwbGF5K1wiXFx4M2Mva2JkXFx4M2VcIik7YS5leGVjQ29tbWFuZChcInBhc3RlXCIse3R5cGU6XCJ0ZXh0XCIsbm90aWZpY2F0aW9uOms/YjohMX0pfX07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJwYXN0ZXRleHRcIix7cmVxdWlyZXM6XCJjbGlwYm9hcmRcIixpbml0OmZ1bmN0aW9uKGYpe3ZhciBlPUNLRURJVE9SLmVudi5zYWZhcmk/Q0tFRElUT1IuQ1RSTCtDS0VESVRPUi5BTFQrQ0tFRElUT1IuU0hJRlQrXG44NjpDS0VESVRPUi5DVFJMK0NLRURJVE9SLlNISUZUKzg2O2YuYWRkQ29tbWFuZChcInBhc3RldGV4dFwiLGEpO2Yuc2V0S2V5c3Ryb2tlKGUsXCJwYXN0ZXRleHRcIik7Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuYWRkUGFzdGVCdXR0b24oZixcIlBhc3RlVGV4dFwiLHtsYWJlbDpmLmxhbmcucGFzdGV0ZXh0LmJ1dHRvbixjb21tYW5kOlwicGFzdGV0ZXh0XCIsdG9vbGJhcjpcImNsaXBib2FyZCw0MFwifSk7aWYoZi5jb25maWcuZm9yY2VQYXN0ZUFzUGxhaW5UZXh0KWYub24oXCJiZWZvcmVQYXN0ZVwiLGZ1bmN0aW9uKGEpe1wiaHRtbFwiIT1hLmRhdGEudHlwZSYmKGEuZGF0YS50eXBlPVwidGV4dFwiKX0pO2Yub24oXCJwYXN0ZVN0YXRlXCIsZnVuY3Rpb24oYSl7Zi5nZXRDb21tYW5kKFwicGFzdGV0ZXh0XCIpLnNldFN0YXRlKGEuZGF0YSl9KX19KX0oKSxDS0VESVRPUi5wbHVnaW5zLmFkZChcInJlbW92ZWZvcm1hdFwiLHtpbml0OmZ1bmN0aW9uKGEpe2EuYWRkQ29tbWFuZChcInJlbW92ZUZvcm1hdFwiLENLRURJVE9SLnBsdWdpbnMucmVtb3ZlZm9ybWF0LmNvbW1hbmRzLnJlbW92ZWZvcm1hdCk7XG5hLnVpLmFkZEJ1dHRvbiYmYS51aS5hZGRCdXR0b24oXCJSZW1vdmVGb3JtYXRcIix7bGFiZWw6YS5sYW5nLnJlbW92ZWZvcm1hdC50b29sYmFyLGNvbW1hbmQ6XCJyZW1vdmVGb3JtYXRcIix0b29sYmFyOlwiY2xlYW51cCwxMFwifSl9fSksQ0tFRElUT1IucGx1Z2lucy5yZW1vdmVmb3JtYXQ9e2NvbW1hbmRzOntyZW1vdmVmb3JtYXQ6e2V4ZWM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBmPWEuXy5yZW1vdmVGb3JtYXRSZWdleHx8KGEuXy5yZW1vdmVGb3JtYXRSZWdleD1uZXcgUmVnRXhwKFwiXig/OlwiK2EuY29uZmlnLnJlbW92ZUZvcm1hdFRhZ3MucmVwbGFjZSgvLC9nLFwifFwiKStcIikkXCIsXCJpXCIpKSxlPWEuXy5yZW1vdmVBdHRyaWJ1dGVzfHwoYS5fLnJlbW92ZUF0dHJpYnV0ZXM9YS5jb25maWcucmVtb3ZlRm9ybWF0QXR0cmlidXRlcy5zcGxpdChcIixcIikpLGI9Q0tFRElUT1IucGx1Z2lucy5yZW1vdmVmb3JtYXQuZmlsdGVyLGM9YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKSxrPWMuY3JlYXRlSXRlcmF0b3IoKSxcbmw9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfSxtO209ay5nZXROZXh0UmFuZ2UoKTspe20uZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0lOTElORSk7dmFyIGQ9bS5jcmVhdGVCb29rbWFyaygpLGg9ZC5zdGFydE5vZGUsZz1kLmVuZE5vZGUsbj1mdW5jdGlvbihkKXtmb3IodmFyIGM9YS5lbGVtZW50UGF0aChkKSxlPWMuZWxlbWVudHMsZz0xLGg7KGg9ZVtnXSkmJiFoLmVxdWFscyhjLmJsb2NrKSYmIWguZXF1YWxzKGMuYmxvY2tMaW1pdCk7ZysrKWYudGVzdChoLmdldE5hbWUoKSkmJmIoYSxoKSYmZC5icmVha1BhcmVudChoKX07bihoKTtpZihnKWZvcihuKGcpLGg9aC5nZXROZXh0U291cmNlTm9kZSghMCxDS0VESVRPUi5OT0RFX0VMRU1FTlQpO2gmJiFoLmVxdWFscyhnKTspaWYoaC5pc1JlYWRPbmx5KCkpe2lmKGguZ2V0UG9zaXRpb24oZykmQ0tFRElUT1IuUE9TSVRJT05fQ09OVEFJTlMpYnJlYWs7aD1oLmdldE5leHQobCl9ZWxzZSBuPVxuaC5nZXROZXh0U291cmNlTm9kZSghMSxDS0VESVRPUi5OT0RFX0VMRU1FTlQpLFwiaW1nXCI9PWguZ2V0TmFtZSgpJiZoLmRhdGEoXCJja2UtcmVhbGVsZW1lbnRcIil8fCFiKGEsaCl8fChmLnRlc3QoaC5nZXROYW1lKCkpP2gucmVtb3ZlKDEpOihoLnJlbW92ZUF0dHJpYnV0ZXMoZSksYS5maXJlKFwicmVtb3ZlRm9ybWF0Q2xlYW51cFwiLGgpKSksaD1uO20ubW92ZVRvQm9va21hcmsoZCl9YS5mb3JjZU5leHRTZWxlY3Rpb25DaGVjaygpO2EuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKGMpfX19LGZpbHRlcjpmdW5jdGlvbihhLGYpe2Zvcih2YXIgZT1hLl8ucmVtb3ZlRm9ybWF0RmlsdGVyc3x8W10sYj0wO2I8ZS5sZW5ndGg7YisrKWlmKCExPT09ZVtiXShmKSlyZXR1cm4hMTtyZXR1cm4hMH19LENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuYWRkUmVtb3ZlRm9ybWF0RmlsdGVyPWZ1bmN0aW9uKGEpe3RoaXMuXy5yZW1vdmVGb3JtYXRGaWx0ZXJzfHwodGhpcy5fLnJlbW92ZUZvcm1hdEZpbHRlcnM9XG5bXSk7dGhpcy5fLnJlbW92ZUZvcm1hdEZpbHRlcnMucHVzaChhKX0sQ0tFRElUT1IuY29uZmlnLnJlbW92ZUZvcm1hdFRhZ3M9XCJiLGJpZyxjaXRlLGNvZGUsZGVsLGRmbixlbSxmb250LGksaW5zLGtiZCxxLHMsc2FtcCxzbWFsbCxzcGFuLHN0cmlrZSxzdHJvbmcsc3ViLHN1cCx0dCx1LHZhclwiLENLRURJVE9SLmNvbmZpZy5yZW1vdmVGb3JtYXRBdHRyaWJ1dGVzPVwiY2xhc3Msc3R5bGUsbGFuZyx3aWR0aCxoZWlnaHQsYWxpZ24saHNwYWNlLHZhbGlnblwiLENLRURJVE9SLnBsdWdpbnMuYWRkKFwicmVzaXplXCIse2luaXQ6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZihjKXt2YXIgZT1kLndpZHRoLGY9ZC5oZWlnaHQsbD1lKyhjLmRhdGEuJC5zY3JlZW5YLW0ueCkqKFwicnRsXCI9PWs/LTE6MSk7Yz1mKyhjLmRhdGEuJC5zY3JlZW5ZLW0ueSk7aCYmKGU9TWF0aC5tYXgoYi5yZXNpemVfbWluV2lkdGgsTWF0aC5taW4obCxiLnJlc2l6ZV9tYXhXaWR0aCkpKTtnJiYoZj1NYXRoLm1heChiLnJlc2l6ZV9taW5IZWlnaHQsXG5NYXRoLm1pbihjLGIucmVzaXplX21heEhlaWdodCkpKTthLnJlc2l6ZShoP2U6bnVsbCxmKX1mdW5jdGlvbiBlKCl7Q0tFRElUT1IuZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZW1vdmVcIixmKTtDS0VESVRPUi5kb2N1bWVudC5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixlKTthLmRvY3VtZW50JiYoYS5kb2N1bWVudC5yZW1vdmVMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLGYpLGEuZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsZSkpfXZhciBiPWEuY29uZmlnLGM9YS51aS5zcGFjZUlkKFwicmVzaXplclwiKSxrPWEuZWxlbWVudD9hLmVsZW1lbnQuZ2V0RGlyZWN0aW9uKDEpOlwibHRyXCI7IWIucmVzaXplX2RpciYmKGIucmVzaXplX2Rpcj1cInZlcnRpY2FsXCIpO3ZvaWQgMD09PWIucmVzaXplX21heFdpZHRoJiYoYi5yZXNpemVfbWF4V2lkdGg9M0UzKTt2b2lkIDA9PT1iLnJlc2l6ZV9tYXhIZWlnaHQmJihiLnJlc2l6ZV9tYXhIZWlnaHQ9M0UzKTt2b2lkIDA9PT1iLnJlc2l6ZV9taW5XaWR0aCYmXG4oYi5yZXNpemVfbWluV2lkdGg9NzUwKTt2b2lkIDA9PT1iLnJlc2l6ZV9taW5IZWlnaHQmJihiLnJlc2l6ZV9taW5IZWlnaHQ9MjUwKTtpZighMSE9PWIucmVzaXplX2VuYWJsZWQpe3ZhciBsPW51bGwsbSxkLGg9KFwiYm90aFwiPT1iLnJlc2l6ZV9kaXJ8fFwiaG9yaXpvbnRhbFwiPT1iLnJlc2l6ZV9kaXIpJiZiLnJlc2l6ZV9taW5XaWR0aCE9Yi5yZXNpemVfbWF4V2lkdGgsZz0oXCJib3RoXCI9PWIucmVzaXplX2Rpcnx8XCJ2ZXJ0aWNhbFwiPT1iLnJlc2l6ZV9kaXIpJiZiLnJlc2l6ZV9taW5IZWlnaHQhPWIucmVzaXplX21heEhlaWdodCxuPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGMpe2x8fChsPWEuZ2V0UmVzaXphYmxlKCkpO2Q9e3dpZHRoOmwuJC5vZmZzZXRXaWR0aHx8MCxoZWlnaHQ6bC4kLm9mZnNldEhlaWdodHx8MH07bT17eDpjLnNjcmVlblgseTpjLnNjcmVlbll9O2IucmVzaXplX21pbldpZHRoPmQud2lkdGgmJihiLnJlc2l6ZV9taW5XaWR0aD1kLndpZHRoKTtcbmIucmVzaXplX21pbkhlaWdodD5kLmhlaWdodCYmKGIucmVzaXplX21pbkhlaWdodD1kLmhlaWdodCk7Q0tFRElUT1IuZG9jdW1lbnQub24oXCJtb3VzZW1vdmVcIixmKTtDS0VESVRPUi5kb2N1bWVudC5vbihcIm1vdXNldXBcIixlKTthLmRvY3VtZW50JiYoYS5kb2N1bWVudC5vbihcIm1vdXNlbW92ZVwiLGYpLGEuZG9jdW1lbnQub24oXCJtb3VzZXVwXCIsZSkpO2MucHJldmVudERlZmF1bHQmJmMucHJldmVudERlZmF1bHQoKX0pO2Eub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbihuKX0pO2Eub24oXCJ1aVNwYWNlXCIsZnVuY3Rpb24oYil7aWYoXCJib3R0b21cIj09Yi5kYXRhLnNwYWNlKXt2YXIgZD1cIlwiO2gmJiFnJiYoZD1cIiBja2VfcmVzaXplcl9ob3Jpem9udGFsXCIpOyFoJiZnJiYoZD1cIiBja2VfcmVzaXplcl92ZXJ0aWNhbFwiKTt2YXIgZT0nXFx4M2NzcGFuIGlkXFx4M2RcIicrYysnXCIgY2xhc3NcXHgzZFwiY2tlX3Jlc2l6ZXInK2QrXCIgY2tlX3Jlc2l6ZXJfXCIrXG5rKydcIiB0aXRsZVxceDNkXCInK0NLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoYS5sYW5nLmNvbW1vbi5yZXNpemUpKydcIiBvbm1vdXNlZG93blxceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oJytuKycsIGV2ZW50KVwiXFx4M2UnKyhcImx0clwiPT1rP1wi4peiXCI6XCLil6NcIikrXCJcXHgzYy9zcGFuXFx4M2VcIjtcImx0clwiPT1rJiZcImx0clwiPT1kP2IuZGF0YS5odG1sKz1lOmIuZGF0YS5odG1sPWUrYi5kYXRhLmh0bWx9fSxhLG51bGwsMTAwKTthLm9uKFwibWF4aW1pemVcIixmdW5jdGlvbihiKXthLnVpLnNwYWNlKFwicmVzaXplclwiKVtiLmRhdGE9PUNLRURJVE9SLlRSSVNUQVRFX09OP1wiaGlkZVwiOlwic2hvd1wiXSgpfSl9fX0pLENLRURJVE9SLnBsdWdpbnMuYWRkKFwibWVudWJ1dHRvblwiLHtyZXF1aXJlczpcImJ1dHRvbixtZW51XCIsb25Mb2FkOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSl7dmFyIGU9dGhpcy5fLGI9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChlLmlkKSxjPWUubWVudTtlLnN0YXRlIT09XG5DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmKGUub24mJmM/Yy5oaWRlKCk6KGUucHJldmlvdXNTdGF0ZT1lLnN0YXRlLGN8fChjPWUubWVudT1uZXcgQ0tFRElUT1IubWVudShhLHtwYW5lbDp7Y2xhc3NOYW1lOlwiY2tlX21lbnVfcGFuZWxcIixhdHRyaWJ1dGVzOntcImFyaWEtbGFiZWxcIjphLmxhbmcuY29tbW9uLm9wdGlvbnN9fX0pLGMub25IaWRlPUNLRURJVE9SLnRvb2xzLmJpbmQoZnVuY3Rpb24oKXt2YXIgYz10aGlzLmNvbW1hbmQ/YS5nZXRDb21tYW5kKHRoaXMuY29tbWFuZCkubW9kZXM6dGhpcy5tb2Rlczt0aGlzLnNldFN0YXRlKCFjfHxjW2EubW9kZV0/ZS5wcmV2aW91c1N0YXRlOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKTtlLm9uPTA7Yi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJmYWxzZVwiKX0sdGhpcyksdGhpcy5vbk1lbnUmJmMuYWRkTGlzdGVuZXIodGhpcy5vbk1lbnUpKSx0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09OKSxlLm9uPVxuMSxiLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIixcInRydWVcIiksc2V0VGltZW91dChmdW5jdGlvbigpe2Muc2hvdyhDS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGUuaWQpLDQpfSwwKSkpfTtDS0VESVRPUi51aS5tZW51QnV0dG9uPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHtiYXNlOkNLRURJVE9SLnVpLmJ1dHRvbiwkOmZ1bmN0aW9uKGYpe2RlbGV0ZSBmLnBhbmVsO3RoaXMuYmFzZShmKTt0aGlzLmhhc0Fycm93PVwibWVudVwiO3RoaXMuY2xpY2s9YX0sc3RhdGljczp7aGFuZGxlcjp7Y3JlYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQ0tFRElUT1IudWkubWVudUJ1dHRvbihhKX19fX0pfSxiZWZvcmVJbml0OmZ1bmN0aW9uKGEpe2EudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9NRU5VQlVUVE9OLENLRURJVE9SLnVpLm1lbnVCdXR0b24uaGFuZGxlcil9fSksQ0tFRElUT1IuVUlfTUVOVUJVVFRPTj1cIm1lbnVidXR0b25cIixcInVzZSBzdHJpY3RcIixDS0VESVRPUi5wbHVnaW5zLmFkZChcInNjYXl0XCIsXG57cmVxdWlyZXM6XCJtZW51YnV0dG9uLGRpYWxvZ1wiLHRhYlRvT3BlbjpudWxsLGRpYWxvZ05hbWU6XCJzY2F5dERpYWxvZ1wiLG9uTG9hZDpmdW5jdGlvbihhKXtcIm1vb25vLWxpc2FcIj09KENLRURJVE9SLnNraW5OYW1lfHxhLmNvbmZpZy5za2luKSYmQ0tFRElUT1IuZG9jdW1lbnQuYXBwZW5kU3R5bGVTaGVldChDS0VESVRPUi5nZXRVcmwodGhpcy5wYXRoK1wic2tpbnMvXCIrQ0tFRElUT1Iuc2tpbi5uYW1lK1wiL3NjYXl0LmNzc1wiKSk7Q0tFRElUT1IuZG9jdW1lbnQuYXBwZW5kU3R5bGVTaGVldChDS0VESVRPUi5nZXRVcmwodGhpcy5wYXRoK1wiZGlhbG9ncy9kaWFsb2cuY3NzXCIpKTt2YXIgZj0hMTtDS0VESVRPUi5vbihcImluc3RhbmNlTG9hZGVkXCIsZnVuY3Rpb24oYSl7aWYoIWYmJkNLRURJVE9SLnBsdWdpbnMuYXV0b2NvbXBsZXRlKXtmPSEwO3ZhciBiPUNLRURJVE9SLnBsdWdpbnMuYXV0b2NvbXBsZXRlLnByb3RvdHlwZS5nZXRNb2RlbDtDS0VESVRPUi5wbHVnaW5zLmF1dG9jb21wbGV0ZS5wcm90b3R5cGUuZ2V0TW9kZWw9XG5mdW5jdGlvbihhKXt2YXIgZT10aGlzLmVkaXRvcjthPWIuYmluZCh0aGlzKShhKTthLm9uKFwiY2hhbmdlLWlzQWN0aXZlXCIsZnVuY3Rpb24oYSl7YS5kYXRhP2UuZmlyZShcImF1dG9jb21wbGV0ZVBhbmVsU2hvd1wiKTplLmZpcmUoXCJhdXRvY29tcGxldGVQYW5lbEhpZGVcIil9KTtyZXR1cm4gYX19fSl9LGluaXQ6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcyxlPUNLRURJVE9SLnBsdWdpbnMuc2NheXQ7dGhpcy5iaW5kRXZlbnRzKGEpO3RoaXMucGFyc2VDb25maWcoYSk7dGhpcy5hZGRSdWxlKGEpO0NLRURJVE9SLmRpYWxvZy5hZGQodGhpcy5kaWFsb2dOYW1lLENLRURJVE9SLmdldFVybCh0aGlzLnBhdGgrXCJkaWFsb2dzL29wdGlvbnMuanNcIikpO3RoaXMuYWRkTWVudUl0ZW1zKGEpO3ZhciBiPWEubGFuZy5zY2F5dCxjPUNLRURJVE9SLmVudjthLnVpLmFkZChcIlNjYXl0XCIsQ0tFRElUT1IuVUlfTUVOVUJVVFRPTix7bGFiZWw6Yi50ZXh0X3RpdGxlLHRpdGxlOmEucGx1Z2lucy53c2M/YS5sYW5nLndzYy50aXRsZTpcbmIudGV4dF90aXRsZSxtb2Rlczp7d3lzaXd5ZzohKGMuaWUmJig4PmMudmVyc2lvbnx8Yy5xdWlya3MpKX0sdG9vbGJhcjpcInNwZWxsY2hlY2tlciwyMFwiLHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj1hLnVpLmluc3RhbmNlcy5TY2F5dC5nZXRTdGF0ZSgpO2Euc2NheXQmJihiPWUuc3RhdGUuc2NheXRbYS5uYW1lXT9DS0VESVRPUi5UUklTVEFURV9PTjpDS0VESVRPUi5UUklTVEFURV9PRkYpO2EuZmlyZShcInNjYXl0QnV0dG9uU3RhdGVcIixiKX0sb25SZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO2Eub24oXCJzY2F5dEJ1dHRvblN0YXRlXCIsZnVuY3Rpb24oYSl7dm9pZCAwIT09dHlwZW9mIGEuZGF0YSYmYi5zZXRTdGF0ZShhLmRhdGEpfSl9LG9uTWVudTpmdW5jdGlvbigpe3ZhciBiPWEuc2NheXQ7YS5nZXRNZW51SXRlbShcInNjYXl0VG9nZ2xlXCIpLmxhYmVsPWEubGFuZy5zY2F5dFtiJiZlLnN0YXRlLnNjYXl0W2EubmFtZV0/XCJidG5fZGlzYWJsZVwiOlwiYnRuX2VuYWJsZVwiXTt2YXIgYz1cbntzY2F5dFRvZ2dsZTpDS0VESVRPUi5UUklTVEFURV9PRkYsc2NheXRPcHRpb25zOmI/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHNjYXl0TGFuZ3M6Yj9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsc2NheXREaWN0OmI/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHNjYXl0QWJvdXQ6Yj9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsV1NDOmEucGx1Z2lucy53c2M/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEfTthLmNvbmZpZy5zY2F5dF91aVRhYnNbMF18fGRlbGV0ZSBjLnNjYXl0T3B0aW9uczthLmNvbmZpZy5zY2F5dF91aVRhYnNbMV18fGRlbGV0ZSBjLnNjYXl0TGFuZ3M7YS5jb25maWcuc2NheXRfdWlUYWJzWzJdfHxkZWxldGUgYy5zY2F5dERpY3Q7YiYmIUNLRURJVE9SLnBsdWdpbnMuc2NheXQuaXNOZXdVZFN1cHBvcnRlZChiKSYmXG4oZGVsZXRlIGMuc2NheXREaWN0LGEuY29uZmlnLnNjYXl0X3VpVGFic1syXT0wLENLRURJVE9SLnBsdWdpbnMuc2NheXQuYWxhcm1Db21wYXRpYmlsaXR5TWVzc2FnZSgpKTtyZXR1cm4gY319KTthLmNvbnRleHRNZW51JiZhLmFkZE1lbnVJdGVtcyYmKGEuY29udGV4dE1lbnUuYWRkTGlzdGVuZXIoZnVuY3Rpb24oYixjKXt2YXIgZT1hLnNjYXl0LGQsaDtlJiYoaD1lLmdldFNlbGVjdGlvbk5vZGUoKSkmJihkPWYubWVudUdlbmVyYXRvcihhLGgpLGUuc2hvd0Jhbm5lcihcIi5cIithLmNvbnRleHRNZW51Ll8uZGVmaW5pdGlvbi5wYW5lbC5jbGFzc05hbWUuc3BsaXQoXCIgXCIpLmpvaW4oXCIgLlwiKSkpO3JldHVybiBkfSksYS5jb250ZXh0TWVudS5fLm9uSGlkZT1DS0VESVRPUi50b29scy5vdmVycmlkZShhLmNvbnRleHRNZW51Ll8ub25IaWRlLGZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjPWEuc2NheXQ7YyYmYy5oaWRlQmFubmVyKCk7cmV0dXJuIGIuYXBwbHkodGhpcyl9fSkpfSxcbmFkZE1lbnVJdGVtczpmdW5jdGlvbihhKXt2YXIgZj10aGlzLGU9Q0tFRElUT1IucGx1Z2lucy5zY2F5dDthLmFkZE1lbnVHcm91cChcInNjYXl0QnV0dG9uXCIpO2Zvcih2YXIgYj1hLmNvbmZpZy5zY2F5dF9jb250ZXh0TWVudUl0ZW1zT3JkZXIuc3BsaXQoXCJ8XCIpLGM9MDtjPGIubGVuZ3RoO2MrKyliW2NdPVwic2NheXRfXCIrYltjXTtpZigoYj1bXCJncmF5dF9kZXNjcmlwdGlvblwiLFwiZ3JheXRfc3VnZ2VzdFwiLFwiZ3JheXRfY29udHJvbFwiXS5jb25jYXQoYikpJiZiLmxlbmd0aClmb3IoYz0wO2M8Yi5sZW5ndGg7YysrKWEuYWRkTWVudUdyb3VwKGJbY10sYy0xMCk7YS5hZGRDb21tYW5kKFwic2NheXRUb2dnbGVcIix7ZXhlYzpmdW5jdGlvbihhKXt2YXIgYj1hLnNjYXl0O2Uuc3RhdGUuc2NheXRbYS5uYW1lXT0hZS5zdGF0ZS5zY2F5dFthLm5hbWVdOyEwPT09ZS5zdGF0ZS5zY2F5dFthLm5hbWVdP2J8fGUuY3JlYXRlU2NheXQoYSk6YiYmZS5kZXN0cm95KGEpfX0pO2EuYWRkQ29tbWFuZChcInNjYXl0QWJvdXRcIixcbntleGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQudGFiVG9PcGVuPVwiYWJvdXRcIjtlLm9wZW5EaWFsb2coZi5kaWFsb2dOYW1lLGEpfX0pO2EuYWRkQ29tbWFuZChcInNjYXl0T3B0aW9uc1wiLHtleGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQudGFiVG9PcGVuPVwib3B0aW9uc1wiO2Uub3BlbkRpYWxvZyhmLmRpYWxvZ05hbWUsYSl9fSk7YS5hZGRDb21tYW5kKFwic2NheXRMYW5nc1wiLHtleGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQudGFiVG9PcGVuPVwibGFuZ3NcIjtlLm9wZW5EaWFsb2coZi5kaWFsb2dOYW1lLGEpfX0pO2EuYWRkQ29tbWFuZChcInNjYXl0RGljdFwiLHtleGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQudGFiVG9PcGVuPVwiZGljdGlvbmFyaWVzXCI7ZS5vcGVuRGlhbG9nKGYuZGlhbG9nTmFtZSxhKX19KTtiPXtzY2F5dFRvZ2dsZTp7bGFiZWw6YS5sYW5nLnNjYXl0LmJ0bl9lbmFibGUsZ3JvdXA6XCJzY2F5dEJ1dHRvblwiLGNvbW1hbmQ6XCJzY2F5dFRvZ2dsZVwifSxzY2F5dEFib3V0OntsYWJlbDphLmxhbmcuc2NheXQuYnRuX2Fib3V0LFxuZ3JvdXA6XCJzY2F5dEJ1dHRvblwiLGNvbW1hbmQ6XCJzY2F5dEFib3V0XCJ9LHNjYXl0T3B0aW9uczp7bGFiZWw6YS5sYW5nLnNjYXl0LmJ0bl9vcHRpb25zLGdyb3VwOlwic2NheXRCdXR0b25cIixjb21tYW5kOlwic2NheXRPcHRpb25zXCJ9LHNjYXl0TGFuZ3M6e2xhYmVsOmEubGFuZy5zY2F5dC5idG5fbGFuZ3MsZ3JvdXA6XCJzY2F5dEJ1dHRvblwiLGNvbW1hbmQ6XCJzY2F5dExhbmdzXCJ9LHNjYXl0RGljdDp7bGFiZWw6YS5sYW5nLnNjYXl0LmJ0bl9kaWN0aW9uYXJpZXMsZ3JvdXA6XCJzY2F5dEJ1dHRvblwiLGNvbW1hbmQ6XCJzY2F5dERpY3RcIn19O2EucGx1Z2lucy53c2MmJihiLldTQz17bGFiZWw6YS5sYW5nLndzYy50b29sYmFyLGdyb3VwOlwic2NheXRCdXR0b25cIixvbkNsaWNrOmZ1bmN0aW9uKCl7dmFyIGI9Q0tFRElUT1IucGx1Z2lucy5zY2F5dCxjPWEuc2NheXQsZT1hLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP2EuY29udGFpbmVyLmdldFRleHQoKTphLmRvY3VtZW50LmdldEJvZHkoKS5nZXRUZXh0KCk7XG4oZT1lLnJlcGxhY2UoL1xccy9nLFwiXCIpKT8oYyYmYi5zdGF0ZS5zY2F5dFthLm5hbWVdJiZjLnNldE1hcmt1cFBhdXNlZCYmYy5zZXRNYXJrdXBQYXVzZWQoITApLGEubG9ja1NlbGVjdGlvbigpLGEuZXhlY0NvbW1hbmQoXCJjaGVja3NwZWxsXCIpKTphbGVydChcIk5vdGhpbmcgdG8gY2hlY2shXCIpfX0pO2EuYWRkTWVudUl0ZW1zKGIpfSxiaW5kRXZlbnRzOmZ1bmN0aW9uKGEpe3ZhciBmPUNLRURJVE9SLnBsdWdpbnMuc2NheXQsZT1hLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FLGI9ZnVuY3Rpb24oKXtmLmRlc3Ryb3koYSl9LGM9ZnVuY3Rpb24oKXshZi5zdGF0ZS5zY2F5dFthLm5hbWVdfHxhLnJlYWRPbmx5fHxhLnNjYXl0fHxmLmNyZWF0ZVNjYXl0KGEpfSxrPWZ1bmN0aW9uKCl7dmFyIGI9YS5lZGl0YWJsZSgpO2IuYXR0YWNoTGlzdGVuZXIoYixcImZvY3VzXCIsZnVuY3Rpb24oYil7Q0tFRElUT1IucGx1Z2lucy5zY2F5dCYmIWEuc2NheXQmJnNldFRpbWVvdXQoYyxcbjApO2I9Q0tFRElUT1IucGx1Z2lucy5zY2F5dCYmQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdGF0ZS5zY2F5dFthLm5hbWVdJiZhLnNjYXl0O3ZhciBmLGc7aWYoKGV8fGIpJiZhLl8uc2F2ZWRTZWxlY3Rpb24pe2I9YS5fLnNhdmVkU2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpO2I9IWImJmEuXy5zYXZlZFNlbGVjdGlvbi5nZXRSYW5nZXMoKTtmb3IodmFyIGs9MDtrPGIubGVuZ3RoO2srKylnPWJba10sXCJzdHJpbmdcIj09PXR5cGVvZiBnLnN0YXJ0Q29udGFpbmVyLiQubm9kZVZhbHVlJiYoZj1nLnN0YXJ0Q29udGFpbmVyLmdldFRleHQoKS5sZW5ndGgsKGY8Zy5zdGFydE9mZnNldHx8ZjxnLmVuZE9mZnNldCkmJmEudW5sb2NrU2VsZWN0aW9uKCExKSl9fSx0aGlzLG51bGwsLTEwKX0sbD1mdW5jdGlvbigpe2U/YS5jb25maWcuc2NheXRfaW5saW5lTW9kZUltbWVkaWF0ZU1hcmt1cD9jKCk6KGEub24oXCJibHVyXCIsZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGIsMCl9KSxhLm9uKFwiZm9jdXNcIixcbmMpLGEuZm9jdXNNYW5hZ2VyLmhhc0ZvY3VzJiZjKCkpOmMoKTtrKCk7dmFyIGY9YS5lZGl0YWJsZSgpO2YuYXR0YWNoTGlzdGVuZXIoZixcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGIpe2I9Yi5kYXRhLmdldFRhcmdldCgpO3ZhciBjPWEud2lkZ2V0cyYmYS53aWRnZXRzLmdldEJ5RWxlbWVudChiKTtjJiYoYy53cmFwcGVyPWIuZ2V0QXNjZW5kYW50KGZ1bmN0aW9uKGEpe3JldHVybiBhLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXdpZGdldC13cmFwcGVyXCIpfSwhMCkpfSx0aGlzLG51bGwsLTEwKX07YS5vbihcImNvbnRlbnREb21cIixsKTthLm9uKFwiYmVmb3JlQ29tbWFuZEV4ZWNcIixmdW5jdGlvbihiKXt2YXIgZD1hLnNjYXl0LGM9ITEsZT0hMSxrPSEwO2IuZGF0YS5uYW1lIGluIGYub3B0aW9ucy5kaXNhYmxpbmdDb21tYW5kRXhlYyYmXCJ3eXNpd3lnXCI9PWEubW9kZT9kJiYoZi5kZXN0cm95KGEpLGEuZmlyZShcInNjYXl0QnV0dG9uU3RhdGVcIixDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCkpOlxuXCJib2xkXCIhPT1iLmRhdGEubmFtZSYmXCJpdGFsaWNcIiE9PWIuZGF0YS5uYW1lJiZcInVuZGVybGluZVwiIT09Yi5kYXRhLm5hbWUmJlwic3RyaWtlXCIhPT1iLmRhdGEubmFtZSYmXCJzdWJzY3JpcHRcIiE9PWIuZGF0YS5uYW1lJiZcInN1cGVyc2NyaXB0XCIhPT1iLmRhdGEubmFtZSYmXCJlbnRlclwiIT09Yi5kYXRhLm5hbWUmJlwiY3V0XCIhPT1iLmRhdGEubmFtZSYmXCJsYW5ndWFnZVwiIT09Yi5kYXRhLm5hbWV8fCFkfHwoXCJjdXRcIj09PWIuZGF0YS5uYW1lJiYoaz0hMSxlPSEwKSxcImxhbmd1YWdlXCI9PT1iLmRhdGEubmFtZSYmKGU9Yz0hMCksYS5maXJlKFwicmVsb2FkTWFya3VwU2NheXRcIix7cmVtb3ZlT3B0aW9uczp7cmVtb3ZlSW5zaWRlOmssZm9yY2VCb29rbWFyazplLGxhbmd1YWdlOmN9LHRpbWVvdXQ6MH0pKX0pO2Eub24oXCJiZWZvcmVTZXRNb2RlXCIsZnVuY3Rpb24oYil7aWYoXCJzb3VyY2VcIj09Yi5kYXRhKXtpZihiPWEuc2NheXQpZi5kZXN0cm95KGEpLGEuZmlyZShcInNjYXl0QnV0dG9uU3RhdGVcIixcbkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKTthLmRvY3VtZW50JiZhLmRvY3VtZW50LmdldEJvZHkoKS5yZW1vdmVBdHRyaWJ1dGUoXCJfanF1aWRcIil9fSk7YS5vbihcImFmdGVyQ29tbWFuZEV4ZWNcIixmdW5jdGlvbihiKXtcInd5c2l3eWdcIiE9YS5tb2RlfHxcInVuZG9cIiE9Yi5kYXRhLm5hbWUmJlwicmVkb1wiIT1iLmRhdGEubmFtZXx8c2V0VGltZW91dChmdW5jdGlvbigpe2YucmVsb2FkTWFya3VwKGEuc2NheXQpfSwyNTApfSk7YS5vbihcInJlYWRPbmx5XCIsZnVuY3Rpb24oYil7dmFyIGQ7YiYmKGQ9YS5zY2F5dCwhMD09PWIuZWRpdG9yLnJlYWRPbmx5P2QmJmQuZmlyZShcInJlbW92ZU1hcmt1cEluRG9jdW1lbnRcIix7fSk6ZD9mLnJlbG9hZE1hcmt1cChkKTpcInd5c2l3eWdcIj09Yi5lZGl0b3IubW9kZSYmITA9PT1mLnN0YXRlLnNjYXl0W2IuZWRpdG9yLm5hbWVdJiYoZi5jcmVhdGVTY2F5dChhKSxiLmVkaXRvci5maXJlKFwic2NheXRCdXR0b25TdGF0ZVwiLENLRURJVE9SLlRSSVNUQVRFX09OKSkpfSk7XG5hLm9uKFwiYmVmb3JlRGVzdHJveVwiLGIpO2Eub24oXCJzZXREYXRhXCIsZnVuY3Rpb24oKXtiKCk7KGEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkV8fGEucGx1Z2lucy5kaXZhcmVhKSYmbCgpfSx0aGlzLG51bGwsNTApO2Eub24oXCJyZWxvYWRNYXJrdXBTY2F5dFwiLGZ1bmN0aW9uKGIpe3ZhciBkPWIuZGF0YSYmYi5kYXRhLnJlbW92ZU9wdGlvbnMsYz1iLmRhdGEmJmIuZGF0YS50aW1lb3V0LGU9Yi5kYXRhJiZiLmRhdGEubGFuZ3VhZ2Usaz1hLnNjYXl0O2smJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlJiYoZC5zZWxlY3Rpb25Ob2RlPWEucGx1Z2lucy5sYW5ndWFnZS5nZXRDdXJyZW50TGFuZ0VsZW1lbnQoYSksZC5zZWxlY3Rpb25Ob2RlPWQuc2VsZWN0aW9uTm9kZSYmZC5zZWxlY3Rpb25Ob2RlLiR8fG51bGwpO2sucmVtb3ZlTWFya3VwSW5TZWxlY3Rpb25Ob2RlKGQpO2YucmVsb2FkTWFya3VwKGspfSxjfHwwKX0pO2Eub24oXCJpbnNlcnRFbGVtZW50XCIsZnVuY3Rpb24oKXthLmZpcmUoXCJyZWxvYWRNYXJrdXBTY2F5dFwiLFxue3JlbW92ZU9wdGlvbnM6e2ZvcmNlQm9va21hcms6ITB9fSl9LHRoaXMsbnVsbCw1MCk7YS5vbihcImluc2VydEh0bWxcIixmdW5jdGlvbigpe2Euc2NheXQmJmEuc2NheXQuc2V0Rm9jdXNlZCYmYS5zY2F5dC5zZXRGb2N1c2VkKCEwKTthLmZpcmUoXCJyZWxvYWRNYXJrdXBTY2F5dFwiKX0sdGhpcyxudWxsLDUwKTthLm9uKFwiaW5zZXJ0VGV4dFwiLGZ1bmN0aW9uKCl7YS5zY2F5dCYmYS5zY2F5dC5zZXRGb2N1c2VkJiZhLnNjYXl0LnNldEZvY3VzZWQoITApO2EuZmlyZShcInJlbG9hZE1hcmt1cFNjYXl0XCIpfSx0aGlzLG51bGwsNTApO2Eub24oXCJzY2F5dERpYWxvZ1Nob3duXCIsZnVuY3Rpb24oYil7Yi5kYXRhLnNlbGVjdFBhZ2UoYS5zY2F5dC50YWJUb09wZW4pfSk7YS5vbihcImF1dG9jb21wbGV0ZVBhbmVsU2hvd1wiLGZ1bmN0aW9uKGIpeyhiPWEuc2NheXQpJiZiLnNldE1hcmt1cFBhdXNlZCYmYi5zZXRNYXJrdXBQYXVzZWQoITApfSk7YS5vbihcImF1dG9jb21wbGV0ZVBhbmVsSGlkZVwiLGZ1bmN0aW9uKGIpeyhiPVxuYS5zY2F5dCkmJmIuc2V0TWFya3VwUGF1c2VkJiZiLnNldE1hcmt1cFBhdXNlZCghMSl9KX0scGFyc2VDb25maWc6ZnVuY3Rpb24oYSl7dmFyIGY9Q0tFRElUT1IucGx1Z2lucy5zY2F5dDtmLnJlcGxhY2VPbGRPcHRpb25zTmFtZXMoYS5jb25maWcpO1wiYm9vbGVhblwiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2F1dG9TdGFydHVwJiYoYS5jb25maWcuc2NheXRfYXV0b1N0YXJ0dXA9ITEpO2Yuc3RhdGUuc2NheXRbYS5uYW1lXT1hLmNvbmZpZy5zY2F5dF9hdXRvU3RhcnR1cDtcImJvb2xlYW5cIiE9PXR5cGVvZiBhLmNvbmZpZy5ncmF5dF9hdXRvU3RhcnR1cCYmKGEuY29uZmlnLmdyYXl0X2F1dG9TdGFydHVwPSExKTtcImJvb2xlYW5cIiE9PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9pbmxpbmVNb2RlSW1tZWRpYXRlTWFya3VwJiYoYS5jb25maWcuc2NheXRfaW5saW5lTW9kZUltbWVkaWF0ZU1hcmt1cD0hMSk7Zi5zdGF0ZS5ncmF5dFthLm5hbWVdPWEuY29uZmlnLmdyYXl0X2F1dG9TdGFydHVwO1xuYS5jb25maWcuc2NheXRfY29udGV4dENvbW1hbmRzfHwoYS5jb25maWcuc2NheXRfY29udGV4dENvbW1hbmRzPVwiaWdub3JlYWxsfGFkZFwiKTthLmNvbmZpZy5zY2F5dF9jb250ZXh0TWVudUl0ZW1zT3JkZXJ8fChhLmNvbmZpZy5zY2F5dF9jb250ZXh0TWVudUl0ZW1zT3JkZXI9XCJzdWdnZXN0fG1vcmVzdWdnZXN0fGNvbnRyb2xcIik7YS5jb25maWcuc2NheXRfc0xhbmd8fChhLmNvbmZpZy5zY2F5dF9zTGFuZz1cImVuX1VTXCIpO2lmKHZvaWQgMD09PWEuY29uZmlnLnNjYXl0X21heFN1Z2dlc3Rpb25zfHxcIm51bWJlclwiIT10eXBlb2YgYS5jb25maWcuc2NheXRfbWF4U3VnZ2VzdGlvbnN8fDA+YS5jb25maWcuc2NheXRfbWF4U3VnZ2VzdGlvbnMpYS5jb25maWcuc2NheXRfbWF4U3VnZ2VzdGlvbnM9MztpZih2b2lkIDA9PT1hLmNvbmZpZy5zY2F5dF9taW5Xb3JkTGVuZ3RofHxcIm51bWJlclwiIT10eXBlb2YgYS5jb25maWcuc2NheXRfbWluV29yZExlbmd0aHx8MT5hLmNvbmZpZy5zY2F5dF9taW5Xb3JkTGVuZ3RoKWEuY29uZmlnLnNjYXl0X21pbldvcmRMZW5ndGg9XG4zO2lmKHZvaWQgMD09PWEuY29uZmlnLnNjYXl0X2N1c3RvbURpY3Rpb25hcnlJZHN8fFwic3RyaW5nXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfY3VzdG9tRGljdGlvbmFyeUlkcylhLmNvbmZpZy5zY2F5dF9jdXN0b21EaWN0aW9uYXJ5SWRzPVwiXCI7aWYodm9pZCAwPT09YS5jb25maWcuc2NheXRfdXNlckRpY3Rpb25hcnlOYW1lfHxcInN0cmluZ1wiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X3VzZXJEaWN0aW9uYXJ5TmFtZSlhLmNvbmZpZy5zY2F5dF91c2VyRGljdGlvbmFyeU5hbWU9bnVsbDtpZihcInN0cmluZ1wiPT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X3VpVGFicyYmMz09PWEuY29uZmlnLnNjYXl0X3VpVGFicy5zcGxpdChcIixcIikubGVuZ3RoKXt2YXIgZT1bXSxiPVtdO2EuY29uZmlnLnNjYXl0X3VpVGFicz1hLmNvbmZpZy5zY2F5dF91aVRhYnMuc3BsaXQoXCIsXCIpO0NLRURJVE9SLnRvb2xzLnNlYXJjaChhLmNvbmZpZy5zY2F5dF91aVRhYnMsZnVuY3Rpb24oYSl7MT09PU51bWJlcihhKXx8XG4wPT09TnVtYmVyKGEpPyhiLnB1c2goITApLGUucHVzaChOdW1iZXIoYSkpKTpiLnB1c2goITEpfSk7bnVsbD09PUNLRURJVE9SLnRvb2xzLnNlYXJjaChiLCExKT9hLmNvbmZpZy5zY2F5dF91aVRhYnM9ZTphLmNvbmZpZy5zY2F5dF91aVRhYnM9WzEsMSwxXX1lbHNlIGEuY29uZmlnLnNjYXl0X3VpVGFicz1bMSwxLDFdO1wic3RyaW5nXCIhPXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUHJvdG9jb2wmJihhLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUHJvdG9jb2w9bnVsbCk7XCJzdHJpbmdcIiE9dHlwZW9mIGEuY29uZmlnLnNjYXl0X3NlcnZpY2VIb3N0JiYoYS5jb25maWcuc2NheXRfc2VydmljZUhvc3Q9bnVsbCk7XCJzdHJpbmdcIiE9dHlwZW9mIGEuY29uZmlnLnNjYXl0X3NlcnZpY2VQb3J0JiYoYS5jb25maWcuc2NheXRfc2VydmljZVBvcnQ9bnVsbCk7XCJzdHJpbmdcIiE9dHlwZW9mIGEuY29uZmlnLnNjYXl0X3NlcnZpY2VQYXRoJiYoYS5jb25maWcuc2NheXRfc2VydmljZVBhdGg9bnVsbCk7XG5hLmNvbmZpZy5zY2F5dF9tb3JlU3VnZ2VzdGlvbnN8fChhLmNvbmZpZy5zY2F5dF9tb3JlU3VnZ2VzdGlvbnM9XCJvblwiKTtcInN0cmluZ1wiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2N1c3RvbWVySWQmJihhLmNvbmZpZy5zY2F5dF9jdXN0b21lcklkPVwiMTpXdkYwRDQtVXRQcU4xLTQzbmtENC1OS3ZVbTItZGFRcWszLUxtTmlJLXo3WXNiNC1td3J5MjQtVDhZclMzLVEydHBxMlwiKTtcInN0cmluZ1wiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2N1c3RvbVB1bmN0dWF0aW9uJiYoYS5jb25maWcuc2NheXRfY3VzdG9tUHVuY3R1YXRpb249XCItXCIpO1wic3RyaW5nXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfc3JjVXJsJiYoYS5jb25maWcuc2NheXRfc3JjVXJsPVwiaHR0cHM6Ly9zdmMud2Vic3BlbGxjaGVja2VyLm5ldC9zcGVsbGNoZWNrMzEvd3NjYnVuZGxlL3dzY2J1bmRsZS5qc1wiKTtcImJvb2xlYW5cIiE9PXR5cGVvZiBDS0VESVRPUi5jb25maWcuc2NheXRfaGFuZGxlQ2hlY2tEaXJ0eSYmXG4oQ0tFRElUT1IuY29uZmlnLnNjYXl0X2hhbmRsZUNoZWNrRGlydHk9ITApO1wiYm9vbGVhblwiIT09dHlwZW9mIENLRURJVE9SLmNvbmZpZy5zY2F5dF9oYW5kbGVVbmRvUmVkbyYmKENLRURJVE9SLmNvbmZpZy5zY2F5dF9oYW5kbGVVbmRvUmVkbz0hMCk7Q0tFRElUT1IuY29uZmlnLnNjYXl0X2hhbmRsZVVuZG9SZWRvPUNLRURJVE9SLnBsdWdpbnMudW5kbz9DS0VESVRPUi5jb25maWcuc2NheXRfaGFuZGxlVW5kb1JlZG86ITE7YS5jb25maWcuc2NheXRfaWdub3JlQWxsQ2Fwc1dvcmRzJiZcImJvb2xlYW5cIiE9PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9pZ25vcmVBbGxDYXBzV29yZHMmJihhLmNvbmZpZy5zY2F5dF9pZ25vcmVBbGxDYXBzV29yZHM9ITEpO2EuY29uZmlnLnNjYXl0X2lnbm9yZURvbWFpbk5hbWVzJiZcImJvb2xlYW5cIiE9PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9pZ25vcmVEb21haW5OYW1lcyYmKGEuY29uZmlnLnNjYXl0X2lnbm9yZURvbWFpbk5hbWVzPSExKTthLmNvbmZpZy5zY2F5dF9pZ25vcmVXb3Jkc1dpdGhNaXhlZENhc2VzJiZcblwiYm9vbGVhblwiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2lnbm9yZVdvcmRzV2l0aE1peGVkQ2FzZXMmJihhLmNvbmZpZy5zY2F5dF9pZ25vcmVXb3Jkc1dpdGhNaXhlZENhc2VzPSExKTthLmNvbmZpZy5zY2F5dF9pZ25vcmVXb3Jkc1dpdGhOdW1iZXJzJiZcImJvb2xlYW5cIiE9PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9pZ25vcmVXb3Jkc1dpdGhOdW1iZXJzJiYoYS5jb25maWcuc2NheXRfaWdub3JlV29yZHNXaXRoTnVtYmVycz0hMSk7aWYoYS5jb25maWcuc2NheXRfZGlzYWJsZU9wdGlvbnNTdG9yYWdlKXt2YXIgZj1DS0VESVRPUi50b29scy5pc0FycmF5KGEuY29uZmlnLnNjYXl0X2Rpc2FibGVPcHRpb25zU3RvcmFnZSk/YS5jb25maWcuc2NheXRfZGlzYWJsZU9wdGlvbnNTdG9yYWdlOlwic3RyaW5nXCI9PT10eXBlb2YgYS5jb25maWcuc2NheXRfZGlzYWJsZU9wdGlvbnNTdG9yYWdlP1thLmNvbmZpZy5zY2F5dF9kaXNhYmxlT3B0aW9uc1N0b3JhZ2VdOnZvaWQgMCxjPVwiYWxsIG9wdGlvbnMgbGFuZyBpZ25vcmUtYWxsLWNhcHMtd29yZHMgaWdub3JlLWRvbWFpbi1uYW1lcyBpZ25vcmUtd29yZHMtd2l0aC1taXhlZC1jYXNlcyBpZ25vcmUtd29yZHMtd2l0aC1udW1iZXJzXCIuc3BsaXQoXCIgXCIpLFxuaz1bXCJsYW5nXCIsXCJpZ25vcmUtYWxsLWNhcHMtd29yZHNcIixcImlnbm9yZS1kb21haW4tbmFtZXNcIixcImlnbm9yZS13b3Jkcy13aXRoLW1peGVkLWNhc2VzXCIsXCJpZ25vcmUtd29yZHMtd2l0aC1udW1iZXJzXCJdLGw9Q0tFRElUT1IudG9vbHMuc2VhcmNoLG09Q0tFRElUT1IudG9vbHMuaW5kZXhPZjthLmNvbmZpZy5zY2F5dF9kaXNhYmxlT3B0aW9uc1N0b3JhZ2U9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGU9MDtlPGEubGVuZ3RoO2UrKyl7dmFyIGY9YVtlXSx3PSEhbChhLFwib3B0aW9uc1wiKTtpZighbChjLGYpfHx3JiZsKGssZnVuY3Rpb24oYSl7aWYoXCJsYW5nXCI9PT1hKXJldHVybiExfSkpcmV0dXJuO2woayxmKSYmay5zcGxpY2UobShrLGYpLDEpO2lmKFwiYWxsXCI9PT1mfHx3JiZsKGEsXCJsYW5nXCIpKXJldHVybltdO1wib3B0aW9uc1wiPT09ZiYmKGs9W1wibGFuZ1wiXSl9cmV0dXJuIGI9Yi5jb25jYXQoayl9KGYpfX0sYWRkUnVsZTpmdW5jdGlvbihhKXt2YXIgZj1DS0VESVRPUi5wbHVnaW5zLnNjYXl0LFxuZT1hLmRhdGFQcm9jZXNzb3IsYj1lJiZlLmh0bWxGaWx0ZXIsYz1hLl8uZWxlbWVudHNQYXRoJiZhLl8uZWxlbWVudHNQYXRoLmZpbHRlcnMsZT1lJiZlLmRhdGFGaWx0ZXIsaz1hLmFkZFJlbW92ZUZvcm1hdEZpbHRlcixsPWZ1bmN0aW9uKGIpe2lmKGEuc2NheXQmJihiLmhhc0F0dHJpYnV0ZShmLm9wdGlvbnMuZGF0YV9hdHRyaWJ1dGVfbmFtZSl8fGIuaGFzQXR0cmlidXRlKGYub3B0aW9ucy5wcm9ibGVtX2dyYW1tYXJfZGF0YV9hdHRyaWJ1dGUpKSlyZXR1cm4hMX0sbT1mdW5jdGlvbihiKXt2YXIgYz0hMDthLnNjYXl0JiYoYi5oYXNBdHRyaWJ1dGUoZi5vcHRpb25zLmRhdGFfYXR0cmlidXRlX25hbWUpfHxiLmhhc0F0dHJpYnV0ZShmLm9wdGlvbnMucHJvYmxlbV9ncmFtbWFyX2RhdGFfYXR0cmlidXRlKSkmJihjPSExKTtyZXR1cm4gY307YyYmYy5wdXNoKGwpO2UmJmUuYWRkUnVsZXMoe2VsZW1lbnRzOntzcGFuOmZ1bmN0aW9uKGEpe3ZhciBiPWEuaGFzQ2xhc3MoZi5vcHRpb25zLm1pc3NwZWxsZWRfd29yZF9jbGFzcykmJlxuYS5hdHRyaWJ1dGVzW2Yub3B0aW9ucy5kYXRhX2F0dHJpYnV0ZV9uYW1lXSxjPWEuaGFzQ2xhc3MoZi5vcHRpb25zLnByb2JsZW1fZ3JhbW1hcl9jbGFzcykmJmEuYXR0cmlidXRlc1tmLm9wdGlvbnMucHJvYmxlbV9ncmFtbWFyX2RhdGFfYXR0cmlidXRlXTtmJiYoYnx8YykmJmRlbGV0ZSBhLm5hbWU7cmV0dXJuIGF9fX0pO2ImJmIuYWRkUnVsZXMoe2VsZW1lbnRzOntzcGFuOmZ1bmN0aW9uKGEpe3ZhciBiPWEuaGFzQ2xhc3MoZi5vcHRpb25zLm1pc3NwZWxsZWRfd29yZF9jbGFzcykmJmEuYXR0cmlidXRlc1tmLm9wdGlvbnMuZGF0YV9hdHRyaWJ1dGVfbmFtZV0sYz1hLmhhc0NsYXNzKGYub3B0aW9ucy5wcm9ibGVtX2dyYW1tYXJfY2xhc3MpJiZhLmF0dHJpYnV0ZXNbZi5vcHRpb25zLnByb2JsZW1fZ3JhbW1hcl9kYXRhX2F0dHJpYnV0ZV07ZiYmKGJ8fGMpJiZkZWxldGUgYS5uYW1lO3JldHVybiBhfX19KTtrJiZrLmNhbGwoYSxtKX0sc2NheXRNZW51RGVmaW5pdGlvbjpmdW5jdGlvbihhKXt2YXIgZj1cbnRoaXMsZT1DS0VESVRPUi5wbHVnaW5zLnNjYXl0O2E9YS5zY2F5dDtyZXR1cm57c2NheXQ6e3NjYXl0X2lnbm9yZTp7bGFiZWw6YS5nZXRMb2NhbChcImJ0bl9pZ25vcmVcIiksZ3JvdXA6XCJzY2F5dF9jb250cm9sXCIsb3JkZXI6MSxleGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQuaWdub3JlV29yZCgpfX0sc2NheXRfaWdub3JlYWxsOntsYWJlbDphLmdldExvY2FsKFwiYnRuX2lnbm9yZUFsbFwiKSxncm91cDpcInNjYXl0X2NvbnRyb2xcIixvcmRlcjoyLGV4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC5pZ25vcmVBbGxXb3JkcygpfX0sc2NheXRfYWRkOntsYWJlbDphLmdldExvY2FsKFwiYnRuX2FkZFdvcmRcIiksZ3JvdXA6XCJzY2F5dF9jb250cm9sXCIsb3JkZXI6MyxleGVjOmZ1bmN0aW9uKGEpe3ZhciBjPWEuc2NheXQ7c2V0VGltZW91dChmdW5jdGlvbigpe2MuYWRkV29yZFRvVXNlckRpY3Rpb25hcnkoKX0sMTApfX0sc2NheXRfb3B0aW9uOntsYWJlbDphLmdldExvY2FsKFwiYnRuX29wdGlvbnNcIiksXG5ncm91cDpcInNjYXl0X2NvbnRyb2xcIixvcmRlcjo0LGV4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC50YWJUb09wZW49XCJvcHRpb25zXCI7ZS5vcGVuRGlhbG9nKGYuZGlhbG9nTmFtZSxhKX0sdmVyaWZpY2F0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiAxPT1hLmNvbmZpZy5zY2F5dF91aVRhYnNbMF0/ITA6ITF9fSxzY2F5dF9sYW5ndWFnZTp7bGFiZWw6YS5nZXRMb2NhbChcImJ0bl9sYW5nc1wiKSxncm91cDpcInNjYXl0X2NvbnRyb2xcIixvcmRlcjo1LGV4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC50YWJUb09wZW49XCJsYW5nc1wiO2Uub3BlbkRpYWxvZyhmLmRpYWxvZ05hbWUsYSl9LHZlcmlmaWNhdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gMT09YS5jb25maWcuc2NheXRfdWlUYWJzWzFdPyEwOiExfX0sc2NheXRfZGljdGlvbmFyeTp7bGFiZWw6YS5nZXRMb2NhbChcImJ0bl9kaWN0aW9uYXJpZXNcIiksZ3JvdXA6XCJzY2F5dF9jb250cm9sXCIsb3JkZXI6NixleGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQudGFiVG9PcGVuPVxuXCJkaWN0aW9uYXJpZXNcIjtlLm9wZW5EaWFsb2coZi5kaWFsb2dOYW1lLGEpfSx2ZXJpZmljYXRpb246ZnVuY3Rpb24oYSl7cmV0dXJuIDE9PWEuY29uZmlnLnNjYXl0X3VpVGFic1syXT8hMDohMX19LHNjYXl0X2Fib3V0OntsYWJlbDphLmdldExvY2FsKFwiYnRuX2Fib3V0XCIpLGdyb3VwOlwic2NheXRfY29udHJvbFwiLG9yZGVyOjcsZXhlYzpmdW5jdGlvbihhKXthLnNjYXl0LnRhYlRvT3Blbj1cImFib3V0XCI7ZS5vcGVuRGlhbG9nKGYuZGlhbG9nTmFtZSxhKX19fSxncmF5dDp7Z3JheXRfcHJvYmxlbWRlc2NyaXB0aW9uOntsYWJlbDpcIkdyYW1tYXIgcHJvYmxlbSBkZXNjcmlwdGlvblwiLGdyb3VwOlwiZ3JheXRfZGVzY3JpcHRpb25cIixvcmRlcjoxLHN0YXRlOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELGV4ZWM6ZnVuY3Rpb24oYSl7fX0sZ3JheXRfaWdub3JlOntsYWJlbDphLmdldExvY2FsKFwiYnRuX2lnbm9yZVwiKSxncm91cDpcImdyYXl0X2NvbnRyb2xcIixvcmRlcjoyLGV4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC5pZ25vcmVQaHJhc2UoKX19LFxuZ3JheXRfaWdub3JlYWxsOntsYWJlbDphLmdldExvY2FsKFwiYnRuX2lnbm9yZUFsbFwiKSxncm91cDpcImdyYXl0X2NvbnRyb2xcIixvcmRlcjozLGV4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC5pZ25vcmVBbGxQaHJhc2VzKCl9fX19fSxidWlsZFN1Z2dlc3Rpb25NZW51SXRlbXM6ZnVuY3Rpb24oYSxmLGUpe3ZhciBiPXt9LGM9e30saz1lP1wid29yZFwiOlwicGhyYXNlXCIsbD1lP1wic3RhcnRHcmFtbWFyQ2hlY2tcIjpcInN0YXJ0U3BlbGxDaGVja1wiLG09YS5zY2F5dDtpZigwPGYubGVuZ3RoJiZcIm5vX2FueV9zdWdnZXN0aW9uc1wiIT09ZlswXSlpZihlKWZvcihlPTA7ZTxmLmxlbmd0aDtlKyspe3ZhciBkPVwic2NheXRfc3VnZ2VzdF9cIitDS0VESVRPUi5wbHVnaW5zLnNjYXl0LnN1Z2dlc3Rpb25zW2VdLnJlcGxhY2UoXCIgXCIsXCJfXCIpO2EuYWRkQ29tbWFuZChkLHRoaXMuY3JlYXRlQ29tbWFuZChDS0VESVRPUi5wbHVnaW5zLnNjYXl0LnN1Z2dlc3Rpb25zW2VdLGssbCkpO2U8YS5jb25maWcuc2NheXRfbWF4U3VnZ2VzdGlvbnM/XG4oYS5hZGRNZW51SXRlbShkLHtsYWJlbDpmW2VdLGNvbW1hbmQ6ZCxncm91cDpcInNjYXl0X3N1Z2dlc3RcIixvcmRlcjplKzF9KSxiW2RdPUNLRURJVE9SLlRSSVNUQVRFX09GRik6KGEuYWRkTWVudUl0ZW0oZCx7bGFiZWw6ZltlXSxjb21tYW5kOmQsZ3JvdXA6XCJzY2F5dF9tb3Jlc3VnZ2VzdFwiLG9yZGVyOmUrMX0pLGNbZF09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLFwib25cIj09PWEuY29uZmlnLnNjYXl0X21vcmVTdWdnZXN0aW9ucyYmKGEuYWRkTWVudUl0ZW0oXCJzY2F5dF9tb3Jlc3VnZ2VzdFwiLHtsYWJlbDptLmdldExvY2FsKFwiYnRuX21vcmVTdWdnZXN0aW9uc1wiKSxncm91cDpcInNjYXl0X21vcmVzdWdnZXN0XCIsb3JkZXI6MTAsZ2V0SXRlbXM6ZnVuY3Rpb24oKXtyZXR1cm4gY319KSxiLnNjYXl0X21vcmVzdWdnZXN0PUNLRURJVE9SLlRSSVNUQVRFX09GRikpfWVsc2UgZm9yKGU9MDtlPGYubGVuZ3RoO2UrKylkPVwiZ3JheXRfc3VnZ2VzdF9cIitDS0VESVRPUi5wbHVnaW5zLnNjYXl0LnN1Z2dlc3Rpb25zW2VdLnJlcGxhY2UoXCIgXCIsXG5cIl9cIiksYS5hZGRDb21tYW5kKGQsdGhpcy5jcmVhdGVDb21tYW5kKENLRURJVE9SLnBsdWdpbnMuc2NheXQuc3VnZ2VzdGlvbnNbZV0sayxsKSksYS5hZGRNZW51SXRlbShkLHtsYWJlbDpmW2VdLGNvbW1hbmQ6ZCxncm91cDpcImdyYXl0X3N1Z2dlc3RcIixvcmRlcjplKzF9KSxiW2RdPUNLRURJVE9SLlRSSVNUQVRFX09GRjtlbHNlIGIubm9fc2NheXRfc3VnZ2VzdD1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxhLmFkZENvbW1hbmQoXCJub19zY2F5dF9zdWdnZXN0XCIse2V4ZWM6ZnVuY3Rpb24oKXt9fSksYS5hZGRNZW51SXRlbShcIm5vX3NjYXl0X3N1Z2dlc3RcIix7bGFiZWw6bS5nZXRMb2NhbChcImJ0bl9ub1N1Z2dlc3Rpb25zXCIpfHxcIm5vX3NjYXl0X3N1Z2dlc3RcIixjb21tYW5kOlwibm9fc2NheXRfc3VnZ2VzdFwiLGdyb3VwOlwic2NheXRfc3VnZ2VzdFwiLG9yZGVyOjB9KTtyZXR1cm4gYn0sbWVudUdlbmVyYXRvcjpmdW5jdGlvbihhLGYpe3ZhciBlPWEuc2NheXQsYj10aGlzLnNjYXl0TWVudURlZmluaXRpb24oYSksXG5jPXt9LGs9YS5jb25maWcuc2NheXRfY29udGV4dENvbW1hbmRzLnNwbGl0KFwifFwiKSxsPWYuZ2V0QXR0cmlidXRlKGUuZ2V0TGFuZ0F0dHJpYnV0ZSgpKXx8ZS5nZXRMYW5nKCksbSxkLGgsZztkPWUuaXNTY2F5dE5vZGUoZik7aD1lLmlzR3JheXROb2RlKGYpO2Q/KGI9Yi5zY2F5dCxtPWYuZ2V0QXR0cmlidXRlKGUuZ2V0U2NheXROb2RlQXR0cmlidXRlTmFtZSgpKSxlLmZpcmUoXCJnZXRTdWdnZXN0aW9uc0xpc3RcIix7bGFuZzpsLHdvcmQ6bX0pLGM9dGhpcy5idWlsZFN1Z2dlc3Rpb25NZW51SXRlbXMoYSxDS0VESVRPUi5wbHVnaW5zLnNjYXl0LnN1Z2dlc3Rpb25zLGQpKTpoJiYoYj1iLmdyYXl0LGM9Zi5nZXRBdHRyaWJ1dGUoZS5nZXRHcmF5dE5vZGVBdHRyaWJ1dGVOYW1lKCkpLGUuZ2V0R3JheXROb2RlUnVsZUF0dHJpYnV0ZU5hbWU/KG09Zi5nZXRBdHRyaWJ1dGUoZS5nZXRHcmF5dE5vZGVSdWxlQXR0cmlidXRlTmFtZSgpKSxlLmdldFByb2JsZW1EZXNjcmlwdGlvblRleHQoYyxcbm0sbCkpOmUuZ2V0UHJvYmxlbURlc2NyaXB0aW9uVGV4dChjLGwpLGc9ZS5nZXRQcm9ibGVtRGVzY3JpcHRpb25UZXh0KGMsbSxsKSxiLmdyYXl0X3Byb2JsZW1kZXNjcmlwdGlvbiYmZyYmKGc9Zy5yZXBsYWNlKC8oWy4hP10pXFxzL2csXCIkMVxceDNjYnJcXHgzZVwiKSxiLmdyYXl0X3Byb2JsZW1kZXNjcmlwdGlvbi5sYWJlbD1nKSxlLmZpcmUoXCJnZXRHcmFtbWFyU3VnZ2VzdGlvbnNMaXN0XCIse2xhbmc6bCxwaHJhc2U6YyxydWxlOm19KSxjPXRoaXMuYnVpbGRTdWdnZXN0aW9uTWVudUl0ZW1zKGEsQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdWdnZXN0aW9ucyxkKSk7aWYoZCYmXCJvZmZcIj09YS5jb25maWcuc2NheXRfY29udGV4dENvbW1hbmRzKXJldHVybiBjO2Zvcih2YXIgbiBpbiBiKWQmJi0xPT1DS0VESVRPUi50b29scy5pbmRleE9mKGssbi5yZXBsYWNlKFwic2NheXRfXCIsXCJcIikpJiZcImFsbFwiIT1hLmNvbmZpZy5zY2F5dF9jb250ZXh0Q29tbWFuZHN8fGgmJlwiZ3JheXRfcHJvYmxlbWRlc2NyaXB0aW9uXCIhPT1cbm4mJi0xPT1DS0VESVRPUi50b29scy5pbmRleE9mKGssbi5yZXBsYWNlKFwiZ3JheXRfXCIsXCJcIikpJiZcImFsbFwiIT1hLmNvbmZpZy5zY2F5dF9jb250ZXh0Q29tbWFuZHN8fChjW25dPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBiW25dLnN0YXRlP2Jbbl0uc3RhdGU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBiW25dLnZlcmlmaWNhdGlvbnx8YltuXS52ZXJpZmljYXRpb24oYSl8fGRlbGV0ZSBjW25dLGEuYWRkQ29tbWFuZChuLHtleGVjOmJbbl0uZXhlY30pLGEuYWRkTWVudUl0ZW0obix7bGFiZWw6YS5sYW5nLnNjYXl0W2Jbbl0ubGFiZWxdfHxiW25dLmxhYmVsLGNvbW1hbmQ6bixncm91cDpiW25dLmdyb3VwLG9yZGVyOmJbbl0ub3JkZXJ9KSk7cmV0dXJuIGN9LGNyZWF0ZUNvbW1hbmQ6ZnVuY3Rpb24oYSxmLGUpe3JldHVybntleGVjOmZ1bmN0aW9uKGIpe2I9Yi5zY2F5dDt2YXIgYz17fTtjW2ZdPWE7Yi5yZXBsYWNlU2VsZWN0aW9uTm9kZShjKTtcInN0YXJ0R3JhbW1hckNoZWNrXCI9PT1cbmUmJmIucmVtb3ZlTWFya3VwSW5TZWxlY3Rpb25Ob2RlKHtncmFtbWFyT25seTohMH0pO2IuZmlyZShlKX19fX0pLENLRURJVE9SLnBsdWdpbnMuc2NheXQ9e2NoYXJzVG9PYnNlcnZlOlt7Y2hhck5hbWU6XCJja2UtZmlsbGluZ0NoYXJcIixjaGFyQ29kZTpmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnZlcnNpb24sZj1bNCw1LDZdLGU9U3RyaW5nLmZyb21DaGFyQ29kZSg4MjAzKSxiPUFycmF5KDgpLmpvaW4oZSksYyxrO2lmKCFhKXJldHVybiBlO2Zvcih2YXIgYT1hLnNwbGl0KFwiLlwiKSxsPTA7bDxmLmxlbmd0aDtsKyspe2M9ZltsXTtrPU51bWJlcihhW2xdKTtpZihrPmMpcmV0dXJuIGI7aWYoazxjKWJyZWFrfXJldHVybiBlfSgpfV0sc3RhdGU6e3NjYXl0Ont9LGdyYXl0Ont9fSx3YXJuaW5nQ291bnRlcjowLHN1Z2dlc3Rpb25zOltdLG9wdGlvbnM6e2Rpc2FibGluZ0NvbW1hbmRFeGVjOntzb3VyY2U6ITAsbmV3cGFnZTohMCx0ZW1wbGF0ZXM6ITB9LGRhdGFfYXR0cmlidXRlX25hbWU6XCJkYXRhLXNjYXl0LXdvcmRcIixcbm1pc3NwZWxsZWRfd29yZF9jbGFzczpcInNjYXl0LW1pc3NwZWxsLXdvcmRcIixwcm9ibGVtX2dyYW1tYXJfZGF0YV9hdHRyaWJ1dGU6XCJkYXRhLWdyYXl0LXBocmFzZVwiLHByb2JsZW1fZ3JhbW1hcl9jbGFzczpcImdyYW1tLXByb2JsZW1cIn0sYmFja0NvbXBhdGliaWxpdHlNYXA6e3NjYXl0X3NlcnZpY2VfcHJvdG9jb2w6XCJzY2F5dF9zZXJ2aWNlUHJvdG9jb2xcIixzY2F5dF9zZXJ2aWNlX2hvc3Q6XCJzY2F5dF9zZXJ2aWNlSG9zdFwiLHNjYXl0X3NlcnZpY2VfcG9ydDpcInNjYXl0X3NlcnZpY2VQb3J0XCIsc2NheXRfc2VydmljZV9wYXRoOlwic2NheXRfc2VydmljZVBhdGhcIixzY2F5dF9jdXN0b21lcmlkOlwic2NheXRfY3VzdG9tZXJJZFwifSxvcGVuRGlhbG9nOmZ1bmN0aW9uKGEsZil7dmFyIGU9Zi5zY2F5dDtlLmlzQWxsTW9kdWxlc1JlYWR5JiYhMT09PWUuaXNBbGxNb2R1bGVzUmVhZHkoKXx8KGYubG9ja1NlbGVjdGlvbigpLGYub3BlbkRpYWxvZyhhKSl9LGFsYXJtQ29tcGF0aWJpbGl0eU1lc3NhZ2U6ZnVuY3Rpb24oKXs1PlxudGhpcy53YXJuaW5nQ291bnRlciYmKGNvbnNvbGUud2FybihcIllvdSBhcmUgdXNpbmcgdGhlIGxhdGVzdCB2ZXJzaW9uIG9mIFNDQVlUIHBsdWdpbiBmb3IgQ0tFZGl0b3Igd2l0aCB0aGUgb2xkIGFwcGxpY2F0aW9uIHZlcnNpb24uIEluIG9yZGVyIHRvIGhhdmUgYWNjZXNzIHRvIHRoZSBuZXdlc3QgZmVhdHVyZXMsIGl0IGlzIHJlY29tbWVuZGVkIHRvIHVwZ3JhZGUgdGhlIGFwcGxpY2F0aW9uIHZlcnNpb24gdG8gbGF0ZXN0IG9uZSBhcyB3ZWxsLiBDb250YWN0IHVzIGZvciBtb3JlIGRldGFpbHMgYXQgc3VwcG9ydEB3ZWJzcGVsbGNoZWNrZXIubmV0LlwiKSx0aGlzLndhcm5pbmdDb3VudGVyKz0xKX0saXNOZXdVZFN1cHBvcnRlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRVc2VyRGljdGlvbmFyeT8hMDohMX0scmVsb2FkTWFya3VwOmZ1bmN0aW9uKGEpe3ZhciBmO2EmJihmPWEuZ2V0U2NheXRMYW5nTGlzdCgpLGEucmVsb2FkTWFya3VwP2EucmVsb2FkTWFya3VwKCk6KHRoaXMuYWxhcm1Db21wYXRpYmlsaXR5TWVzc2FnZSgpLFxuZiYmZi5sdHImJmYucnRsJiZhLmZpcmUoXCJzdGFydFNwZWxsQ2hlY2ssIHN0YXJ0R3JhbW1hckNoZWNrXCIpKSl9LHJlcGxhY2VPbGRPcHRpb25zTmFtZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBmIGluIGEpZiBpbiB0aGlzLmJhY2tDb21wYXRpYmlsaXR5TWFwJiYoYVt0aGlzLmJhY2tDb21wYXRpYmlsaXR5TWFwW2ZdXT1hW2ZdLGRlbGV0ZSBhW2ZdKX0sY3JlYXRlU2NheXQ6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcyxlPUNLRURJVE9SLnBsdWdpbnMuc2NheXQ7dGhpcy5sb2FkU2NheXRMaWJyYXJ5KGEsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYyhhKXtyZXR1cm4gbmV3IFNDQVlULkNLU0NBWVQoYSxmdW5jdGlvbigpe30sZnVuY3Rpb24oKXt9KX12YXIgazthLndpbmRvdyYmKGs9XCJCT0RZXCI9PWEuZWRpdGFibGUoKS4kLm5vZGVOYW1lP2Eud2luZG93LmdldEZyYW1lKCk6YS5lZGl0YWJsZSgpKTtpZihrKXtrPXtsYW5nOmEuY29uZmlnLnNjYXl0X3NMYW5nLGNvbnRhaW5lcjprLiQsY3VzdG9tRGljdGlvbmFyeTphLmNvbmZpZy5zY2F5dF9jdXN0b21EaWN0aW9uYXJ5SWRzLFxudXNlckRpY3Rpb25hcnlOYW1lOmEuY29uZmlnLnNjYXl0X3VzZXJEaWN0aW9uYXJ5TmFtZSxsb2NhbGl6YXRpb246YS5sYW5nQ29kZSxjdXN0b21lcl9pZDphLmNvbmZpZy5zY2F5dF9jdXN0b21lcklkLGN1c3RvbVB1bmN0dWF0aW9uOmEuY29uZmlnLnNjYXl0X2N1c3RvbVB1bmN0dWF0aW9uLGRlYnVnOmEuY29uZmlnLnNjYXl0X2RlYnVnLGRhdGFfYXR0cmlidXRlX25hbWU6Zi5vcHRpb25zLmRhdGFfYXR0cmlidXRlX25hbWUsbWlzc3BlbGxlZF93b3JkX2NsYXNzOmYub3B0aW9ucy5taXNzcGVsbGVkX3dvcmRfY2xhc3MscHJvYmxlbV9ncmFtbWFyX2RhdGFfYXR0cmlidXRlOmYub3B0aW9ucy5wcm9ibGVtX2dyYW1tYXJfZGF0YV9hdHRyaWJ1dGUscHJvYmxlbV9ncmFtbWFyX2NsYXNzOmYub3B0aW9ucy5wcm9ibGVtX2dyYW1tYXJfY2xhc3MsXCJvcHRpb25zLXRvLXJlc3RvcmVcIjphLmNvbmZpZy5zY2F5dF9kaXNhYmxlT3B0aW9uc1N0b3JhZ2UsZm9jdXNlZDphLmVkaXRhYmxlKCkuaGFzRm9jdXMsXG5pZ25vcmVFbGVtZW50c1JlZ2V4OmEuY29uZmlnLnNjYXl0X2VsZW1lbnRzVG9JZ25vcmUsaWdub3JlR3JheXRFbGVtZW50c1JlZ2V4OmEuY29uZmlnLmdyYXl0X2VsZW1lbnRzVG9JZ25vcmUsbWluV29yZExlbmd0aDphLmNvbmZpZy5zY2F5dF9taW5Xb3JkTGVuZ3RoLGdyYXl0QXV0b1N0YXJ0dXA6YS5jb25maWcuZ3JheXRfYXV0b1N0YXJ0dXAsY2hhcnNUb09ic2VydmU6ZS5jaGFyc1RvT2JzZXJ2ZX07YS5jb25maWcuc2NheXRfc2VydmljZVByb3RvY29sJiYoay5zZXJ2aWNlX3Byb3RvY29sPWEuY29uZmlnLnNjYXl0X3NlcnZpY2VQcm90b2NvbCk7YS5jb25maWcuc2NheXRfc2VydmljZUhvc3QmJihrLnNlcnZpY2VfaG9zdD1hLmNvbmZpZy5zY2F5dF9zZXJ2aWNlSG9zdCk7YS5jb25maWcuc2NheXRfc2VydmljZVBvcnQmJihrLnNlcnZpY2VfcG9ydD1hLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUG9ydCk7YS5jb25maWcuc2NheXRfc2VydmljZVBhdGgmJihrLnNlcnZpY2VfcGF0aD1cbmEuY29uZmlnLnNjYXl0X3NlcnZpY2VQYXRoKTtcImJvb2xlYW5cIj09PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9pZ25vcmVBbGxDYXBzV29yZHMmJihrW1wiaWdub3JlLWFsbC1jYXBzLXdvcmRzXCJdPWEuY29uZmlnLnNjYXl0X2lnbm9yZUFsbENhcHNXb3Jkcyk7XCJib29sZWFuXCI9PT10eXBlb2YgYS5jb25maWcuc2NheXRfaWdub3JlRG9tYWluTmFtZXMmJihrW1wiaWdub3JlLWRvbWFpbi1uYW1lc1wiXT1hLmNvbmZpZy5zY2F5dF9pZ25vcmVEb21haW5OYW1lcyk7XCJib29sZWFuXCI9PT10eXBlb2YgYS5jb25maWcuc2NheXRfaWdub3JlV29yZHNXaXRoTWl4ZWRDYXNlcyYmKGtbXCJpZ25vcmUtd29yZHMtd2l0aC1taXhlZC1jYXNlc1wiXT1hLmNvbmZpZy5zY2F5dF9pZ25vcmVXb3Jkc1dpdGhNaXhlZENhc2VzKTtcImJvb2xlYW5cIj09PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9pZ25vcmVXb3Jkc1dpdGhOdW1iZXJzJiYoa1tcImlnbm9yZS13b3Jkcy13aXRoLW51bWJlcnNcIl09YS5jb25maWcuc2NheXRfaWdub3JlV29yZHNXaXRoTnVtYmVycyk7XG52YXIgbDt0cnl7bD1jKGspfWNhdGNoKG0pe2YuYWxhcm1Db21wYXRpYmlsaXR5TWVzc2FnZSgpLGRlbGV0ZSBrLmNoYXJzVG9PYnNlcnZlLGw9YyhrKX1sLnN1YnNjcmliZShcInN1Z2dlc3Rpb25MaXN0U2VuZFwiLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj17fSxjPVtdLGU9MDtlPGEuc3VnZ2VzdGlvbkxpc3QubGVuZ3RoO2UrKyliW1wid29yZF9cIithLnN1Z2dlc3Rpb25MaXN0W2VdXXx8KGJbXCJ3b3JkX1wiK2Euc3VnZ2VzdGlvbkxpc3RbZV1dPWEuc3VnZ2VzdGlvbkxpc3RbZV0sYy5wdXNoKGEuc3VnZ2VzdGlvbkxpc3RbZV0pKTtDS0VESVRPUi5wbHVnaW5zLnNjYXl0LnN1Z2dlc3Rpb25zPWN9KTtsLnN1YnNjcmliZShcInNlbGVjdGlvbklzQ2hhbmdlZFwiLGZ1bmN0aW9uKGQpe2EuZ2V0U2VsZWN0aW9uKCkuaXNMb2NrZWQmJlwicmVzdG9yZVNlbGVjdGlvblwiIT09ZC5hY3Rpb24mJmEubG9ja1NlbGVjdGlvbigpO1wicmVzdG9yZVNlbGVjdGlvblwiPT09ZC5hY3Rpb24mJmEuc2VsZWN0aW9uQ2hhbmdlKCEwKX0pO1xubC5zdWJzY3JpYmUoXCJncmF5dFN0YXRlQ2hhbmdlZFwiLGZ1bmN0aW9uKGQpe2Uuc3RhdGUuZ3JheXRbYS5uYW1lXT1kLnN0YXRlfSk7bC5hZGRNYXJrdXBIYW5kbGVyJiZsLmFkZE1hcmt1cEhhbmRsZXIoZnVuY3Rpb24oZCl7dmFyIGM9YS5lZGl0YWJsZSgpLGU9Yy5nZXRDdXN0b21EYXRhKGQuY2hhck5hbWUpO2UmJihlLiQ9ZC5ub2RlLGMuc2V0Q3VzdG9tRGF0YShkLmNoYXJOYW1lLGUpKX0pO2Euc2NheXQ9bDthLmZpcmUoXCJzY2F5dEJ1dHRvblN0YXRlXCIsYS5yZWFkT25seT9DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDpDS0VESVRPUi5UUklTVEFURV9PTil9ZWxzZSBlLnN0YXRlLnNjYXl0W2EubmFtZV09ITF9KX0sZGVzdHJveTpmdW5jdGlvbihhKXthLnNjYXl0JiZhLnNjYXl0LmRlc3Ryb3koKTtkZWxldGUgYS5zY2F5dDthLmZpcmUoXCJzY2F5dEJ1dHRvblN0YXRlXCIsQ0tFRElUT1IuVFJJU1RBVEVfT0ZGKX0sbG9hZFNjYXl0TGlicmFyeTpmdW5jdGlvbihhLGYpe3ZhciBlLFxuYj1mdW5jdGlvbigpe0NLRURJVE9SLmZpcmVPbmNlKFwic2NheXRSZWFkeVwiKTthLnNjYXl0fHxcImZ1bmN0aW9uXCI9PT10eXBlb2YgZiYmZihhKX07XCJ1bmRlZmluZWRcIj09PXR5cGVvZiB3aW5kb3cuU0NBWVR8fFwiZnVuY3Rpb25cIiE9PXR5cGVvZiB3aW5kb3cuU0NBWVQuQ0tTQ0FZVD8oZT1hLmNvbmZpZy5zY2F5dF9zcmNVcmwsQ0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoZSxmdW5jdGlvbihhKXthJiZiKCl9KSk6d2luZG93LlNDQVlUJiZcImZ1bmN0aW9uXCI9PT10eXBlb2Ygd2luZG93LlNDQVlULkNLU0NBWVQmJmIoKX19LENLRURJVE9SLm9uKFwiZGlhbG9nRGVmaW5pdGlvblwiLGZ1bmN0aW9uKGEpe3ZhciBmPWEuZGF0YS5uYW1lO2E9YS5kYXRhLmRlZmluaXRpb24uZGlhbG9nO1wic2NheXREaWFsb2dcIiE9PWYmJlwiY2hlY2tzcGVsbFwiIT09ZiYmKGEub24oXCJzaG93XCIsZnVuY3Rpb24oYSl7YT1hLnNlbmRlciYmYS5zZW5kZXIuZ2V0UGFyZW50RWRpdG9yKCk7dmFyIGI9Q0tFRElUT1IucGx1Z2lucy5zY2F5dCxcbmM9YS5zY2F5dDtjJiZiLnN0YXRlLnNjYXl0W2EubmFtZV0mJmMuc2V0TWFya3VwUGF1c2VkJiZjLnNldE1hcmt1cFBhdXNlZCghMCl9KSxhLm9uKFwiaGlkZVwiLGZ1bmN0aW9uKGEpe2E9YS5zZW5kZXImJmEuc2VuZGVyLmdldFBhcmVudEVkaXRvcigpO3ZhciBiPUNLRURJVE9SLnBsdWdpbnMuc2NheXQsYz1hLnNjYXl0O2MmJmIuc3RhdGUuc2NheXRbYS5uYW1lXSYmYy5zZXRNYXJrdXBQYXVzZWQmJmMuc2V0TWFya3VwUGF1c2VkKCExKX0pKTtpZihcInNjYXl0RGlhbG9nXCI9PT1mKWEub24oXCJjYW5jZWxcIixmdW5jdGlvbihhKXtyZXR1cm4hMX0sdGhpcyxudWxsLC0xKTtpZihcImNoZWNrc3BlbGxcIj09PWYpYS5vbihcImNhbmNlbFwiLGZ1bmN0aW9uKGEpe2E9YS5zZW5kZXImJmEuc2VuZGVyLmdldFBhcmVudEVkaXRvcigpO3ZhciBiPUNLRURJVE9SLnBsdWdpbnMuc2NheXQsYz1hLnNjYXl0O2MmJmIuc3RhdGUuc2NheXRbYS5uYW1lXSYmYy5zZXRNYXJrdXBQYXVzZWQmJmMuc2V0TWFya3VwUGF1c2VkKCExKTtcbmEudW5sb2NrU2VsZWN0aW9uKCl9LHRoaXMsbnVsbCwtMik7aWYoXCJsaW5rXCI9PT1mKWEub24oXCJva1wiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuc2VuZGVyJiZhLnNlbmRlci5nZXRQYXJlbnRFZGl0b3IoKTtiJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5maXJlKFwicmVsb2FkTWFya3VwU2NheXRcIix7cmVtb3ZlT3B0aW9uczp7cmVtb3ZlSW5zaWRlOiEwLGZvcmNlQm9va21hcms6ITB9LHRpbWVvdXQ6MH0pfSwwKX0pO2lmKFwicmVwbGFjZVwiPT09ZilhLm9uKFwiaGlkZVwiLGZ1bmN0aW9uKGEpe2E9YS5zZW5kZXImJmEuc2VuZGVyLmdldFBhcmVudEVkaXRvcigpO3ZhciBiPUNLRURJVE9SLnBsdWdpbnMuc2NheXQsYz1hLnNjYXl0O2EmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjJiYoYy5maXJlKFwicmVtb3ZlTWFya3VwSW5Eb2N1bWVudFwiLHt9KSxiLnJlbG9hZE1hcmt1cChjKSl9LDApfSl9KSxDS0VESVRPUi5vbihcInNjYXl0UmVhZHlcIixmdW5jdGlvbigpe2lmKCEwPT09Q0tFRElUT1IuY29uZmlnLnNjYXl0X2hhbmRsZUNoZWNrRGlydHkpe3ZhciBhPVxuQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZTthLmNoZWNrRGlydHk9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoYS5jaGVja0RpcnR5LGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiPW51bGwsYz10aGlzLnNjYXl0O2lmKENLRURJVE9SLnBsdWdpbnMuc2NheXQmJkNLRURJVE9SLnBsdWdpbnMuc2NheXQuc3RhdGUuc2NheXRbdGhpcy5uYW1lXSYmdGhpcy5zY2F5dCl7aWYoYj1cInJlYWR5XCI9PXRoaXMuc3RhdHVzKXZhciBmPWMucmVtb3ZlTWFya3VwRnJvbVN0cmluZyh0aGlzLmdldFNuYXBzaG90KCkpLGM9Yy5yZW1vdmVNYXJrdXBGcm9tU3RyaW5nKHRoaXMuXy5wcmV2aW91c1ZhbHVlKSxiPWImJmMhPT1mfWVsc2UgYj1hLmNhbGwodGhpcyk7cmV0dXJuIGJ9fSk7YS5yZXNldERpcnR5PUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKGEucmVzZXREaXJ0eSxmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj10aGlzLnNjYXl0O0NLRURJVE9SLnBsdWdpbnMuc2NheXQmJlxuQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdGF0ZS5zY2F5dFt0aGlzLm5hbWVdJiZ0aGlzLnNjYXl0P3RoaXMuXy5wcmV2aW91c1ZhbHVlPWIucmVtb3ZlTWFya3VwRnJvbVN0cmluZyh0aGlzLmdldFNuYXBzaG90KCkpOmEuY2FsbCh0aGlzKX19KX1pZighMD09PUNLRURJVE9SLmNvbmZpZy5zY2F5dF9oYW5kbGVVbmRvUmVkbyl7dmFyIGE9Q0tFRElUT1IucGx1Z2lucy51bmRvLkltYWdlLnByb3RvdHlwZSxmPVwiZnVuY3Rpb25cIj09dHlwZW9mIGEuZXF1YWxzQ29udGVudD9cImVxdWFsc0NvbnRlbnRcIjpcImVxdWFsc1wiO2FbZl09Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoYVtmXSxmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9Yi5lZGl0b3Iuc2NheXQsZj10aGlzLmNvbnRlbnRzLGw9Yi5jb250ZW50cyxtPW51bGw7Q0tFRElUT1IucGx1Z2lucy5zY2F5dCYmQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdGF0ZS5zY2F5dFtiLmVkaXRvci5uYW1lXSYmYi5lZGl0b3Iuc2NheXQmJlxuKHRoaXMuY29udGVudHM9Yy5yZW1vdmVNYXJrdXBGcm9tU3RyaW5nKGYpfHxcIlwiLGIuY29udGVudHM9Yy5yZW1vdmVNYXJrdXBGcm9tU3RyaW5nKGwpfHxcIlwiKTttPWEuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuY29udGVudHM9ZjtiLmNvbnRlbnRzPWw7cmV0dXJuIG19fSl9fSksZnVuY3Rpb24oKXt2YXIgYT17cHJlc2VydmVTdGF0ZTohMCxlZGl0b3JGb2N1czohMSxyZWFkT25seToxLGV4ZWM6ZnVuY3Rpb24oYSl7dGhpcy50b2dnbGVTdGF0ZSgpO3RoaXMucmVmcmVzaChhKX0scmVmcmVzaDpmdW5jdGlvbihhKXtpZihhLmRvY3VtZW50KXt2YXIgZT10aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PTj9cImF0dGFjaENsYXNzXCI6XCJyZW1vdmVDbGFzc1wiO2EuZWRpdGFibGUoKVtlXShcImNrZV9zaG93X2JvcmRlcnNcIil9fX07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJzaG93Ym9yZGVyc1wiLHttb2Rlczp7d3lzaXd5ZzoxfSxvbkxvYWQ6ZnVuY3Rpb24oKXt2YXIgYTthPShDS0VESVRPUi5lbnYuaWU2Q29tcGF0P1xuW1wiLiUxIHRhYmxlLiUyLFwiLFwiLiUxIHRhYmxlLiUyIHRkLCAuJTEgdGFibGUuJTIgdGhcIixcIntcIixcImJvcmRlciA6ICNkM2QzZDMgMXB4IGRvdHRlZFwiLFwifVwiXTpcIi4lMSB0YWJsZS4lMiw7LiUxIHRhYmxlLiUyIFxceDNlIHRyIFxceDNlIHRkLCAuJTEgdGFibGUuJTIgXFx4M2UgdHIgXFx4M2UgdGgsOy4lMSB0YWJsZS4lMiBcXHgzZSB0Ym9keSBcXHgzZSB0ciBcXHgzZSB0ZCwgLiUxIHRhYmxlLiUyIFxceDNlIHRib2R5IFxceDNlIHRyIFxceDNlIHRoLDsuJTEgdGFibGUuJTIgXFx4M2UgdGhlYWQgXFx4M2UgdHIgXFx4M2UgdGQsIC4lMSB0YWJsZS4lMiBcXHgzZSB0aGVhZCBcXHgzZSB0ciBcXHgzZSB0aCw7LiUxIHRhYmxlLiUyIFxceDNlIHRmb290IFxceDNlIHRyIFxceDNlIHRkLCAuJTEgdGFibGUuJTIgXFx4M2UgdGZvb3QgXFx4M2UgdHIgXFx4M2UgdGg7eztib3JkZXIgOiAjZDNkM2QzIDFweCBkb3R0ZWQ7fVwiLnNwbGl0KFwiO1wiKSkuam9pbihcIlwiKS5yZXBsYWNlKC8lMi9nLFwiY2tlX3Nob3dfYm9yZGVyXCIpLnJlcGxhY2UoLyUxL2csXG5cImNrZV9zaG93X2JvcmRlcnMgXCIpO0NLRURJVE9SLmFkZENzcyhhKX0saW5pdDpmdW5jdGlvbihmKXt2YXIgZT1mLmFkZENvbW1hbmQoXCJzaG93Ym9yZGVyc1wiLGEpO2UuY2FuVW5kbz0hMTshMSE9PWYuY29uZmlnLnN0YXJ0dXBTaG93Qm9yZGVycyYmZS5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PTik7Zi5vbihcIm1vZGVcIixmdW5jdGlvbigpe2Uuc3RhdGUhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiZlLnJlZnJlc2goZil9LG51bGwsbnVsbCwxMDApO2Yub24oXCJjb250ZW50RG9tXCIsZnVuY3Rpb24oKXtlLnN0YXRlIT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmZS5yZWZyZXNoKGYpfSk7Zi5vbihcInJlbW92ZUZvcm1hdENsZWFudXBcIixmdW5jdGlvbihhKXthPWEuZGF0YTtmLmdldENvbW1hbmQoXCJzaG93Ym9yZGVyc1wiKS5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT04mJmEuaXMoXCJ0YWJsZVwiKSYmKCFhLmhhc0F0dHJpYnV0ZShcImJvcmRlclwiKXx8MD49cGFyc2VJbnQoYS5nZXRBdHRyaWJ1dGUoXCJib3JkZXJcIiksXG4xMCkpJiZhLmFkZENsYXNzKFwiY2tlX3Nob3dfYm9yZGVyXCIpfSl9LGFmdGVySW5pdDpmdW5jdGlvbihhKXt2YXIgZT1hLmRhdGFQcm9jZXNzb3I7YT1lJiZlLmRhdGFGaWx0ZXI7ZT1lJiZlLmh0bWxGaWx0ZXI7YSYmYS5hZGRSdWxlcyh7ZWxlbWVudHM6e3RhYmxlOmZ1bmN0aW9uKGEpe2E9YS5hdHRyaWJ1dGVzO3ZhciBjPWFbXCJjbGFzc1wiXSxlPXBhcnNlSW50KGEuYm9yZGVyLDEwKTtlJiYhKDA+PWUpfHxjJiYtMSE9Yy5pbmRleE9mKFwiY2tlX3Nob3dfYm9yZGVyXCIpfHwoYVtcImNsYXNzXCJdPShjfHxcIlwiKStcIiBja2Vfc2hvd19ib3JkZXJcIil9fX0pO2UmJmUuYWRkUnVsZXMoe2VsZW1lbnRzOnt0YWJsZTpmdW5jdGlvbihhKXthPWEuYXR0cmlidXRlczt2YXIgYz1hW1wiY2xhc3NcIl07YyYmKGFbXCJjbGFzc1wiXT1jLnJlcGxhY2UoXCJja2Vfc2hvd19ib3JkZXJcIixcIlwiKS5yZXBsYWNlKC9cXHN7Mn0vLFwiIFwiKS5yZXBsYWNlKC9eXFxzK3xcXHMrJC8sXCJcIikpfX19KX19KTtDS0VESVRPUi5vbihcImRpYWxvZ0RlZmluaXRpb25cIixcbmZ1bmN0aW9uKGEpe3ZhciBlPWEuZGF0YS5uYW1lO2lmKFwidGFibGVcIj09ZXx8XCJ0YWJsZVByb3BlcnRpZXNcIj09ZSlpZihhPWEuZGF0YS5kZWZpbml0aW9uLGU9YS5nZXRDb250ZW50cyhcImluZm9cIikuZ2V0KFwidHh0Qm9yZGVyXCIpLGUuY29tbWl0PUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKGUuY29tbWl0LGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihjLGUpe2EuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBmPXBhcnNlSW50KHRoaXMuZ2V0VmFsdWUoKSwxMCk7ZVshZnx8MD49Zj9cImFkZENsYXNzXCI6XCJyZW1vdmVDbGFzc1wiXShcImNrZV9zaG93X2JvcmRlclwiKX19KSxhPShhPWEuZ2V0Q29udGVudHMoXCJhZHZhbmNlZFwiKSkmJmEuZ2V0KFwiYWR2Q1NTQ2xhc3Nlc1wiKSlhLnNldHVwPUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKGEuc2V0dXAsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5zZXRWYWx1ZSh0aGlzLmdldFZhbHVlKCkucmVwbGFjZSgvY2tlX3Nob3dfYm9yZGVyLyxcblwiXCIpKX19KSxhLmNvbW1pdD1DS0VESVRPUi50b29scy5vdmVycmlkZShhLmNvbW1pdCxmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYyxlKXthLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtwYXJzZUludChlLmdldEF0dHJpYnV0ZShcImJvcmRlclwiKSwxMCl8fGUuYWRkQ2xhc3MoXCJja2Vfc2hvd19ib3JkZXJcIil9fSl9KX0oKSxmdW5jdGlvbigpe0NLRURJVE9SLnBsdWdpbnMuYWRkKFwic291cmNlYXJlYVwiLHtpbml0OmZ1bmN0aW9uKGYpe2Z1bmN0aW9uIGUoKXt2YXIgYT1jJiZ0aGlzLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudC5nZXRBY3RpdmUoKSk7dGhpcy5oaWRlKCk7dGhpcy5zZXRTdHlsZShcImhlaWdodFwiLHRoaXMuZ2V0UGFyZW50KCkuJC5jbGllbnRIZWlnaHQrXCJweFwiKTt0aGlzLnNldFN0eWxlKFwid2lkdGhcIix0aGlzLmdldFBhcmVudCgpLiQuY2xpZW50V2lkdGgrXCJweFwiKTt0aGlzLnNob3coKTthJiZ0aGlzLmZvY3VzKCl9aWYoZi5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSl7dmFyIGI9XG5DS0VESVRPUi5wbHVnaW5zLnNvdXJjZWFyZWE7Zi5hZGRNb2RlKFwic291cmNlXCIsZnVuY3Rpb24oYil7dmFyIGM9Zi51aS5zcGFjZShcImNvbnRlbnRzXCIpLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO2Muc2V0U3R5bGVzKENLRURJVE9SLnRvb2xzLmV4dGVuZCh7d2lkdGg6Q0tFRElUT1IuZW52LmllN0NvbXBhdD9cIjk5JVwiOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIixyZXNpemU6XCJub25lXCIsb3V0bGluZTpcIm5vbmVcIixcInRleHQtYWxpZ25cIjpcImxlZnRcIn0sQ0tFRElUT1IudG9vbHMuY3NzVmVuZG9yUHJlZml4KFwidGFiLXNpemVcIixmLmNvbmZpZy5zb3VyY2VBcmVhVGFiU2l6ZXx8NCkpKTtjLnNldEF0dHJpYnV0ZShcImRpclwiLFwibHRyXCIpO2MuYWRkQ2xhc3MoXCJja2Vfc291cmNlXCIpLmFkZENsYXNzKFwiY2tlX3Jlc2V0XCIpLmFkZENsYXNzKFwiY2tlX2VuYWJsZV9jb250ZXh0X21lbnVcIik7Zi51aS5zcGFjZShcImNvbnRlbnRzXCIpLmFwcGVuZChjKTtjPWYuZWRpdGFibGUobmV3IGEoZixcbmMpKTtjLnNldERhdGEoZi5nZXREYXRhKDEpKTtDS0VESVRPUi5lbnYuaWUmJihjLmF0dGFjaExpc3RlbmVyKGYsXCJyZXNpemVcIixlLGMpLGMuYXR0YWNoTGlzdGVuZXIoQ0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCksXCJyZXNpemVcIixlLGMpLENLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZSwwLGMpKTtmLmZpcmUoXCJhcmlhV2lkZ2V0XCIsdGhpcyk7YigpfSk7Zi5hZGRDb21tYW5kKFwic291cmNlXCIsYi5jb21tYW5kcy5zb3VyY2UpO2YudWkuYWRkQnV0dG9uJiZmLnVpLmFkZEJ1dHRvbihcIlNvdXJjZVwiLHtpc1RvZ2dsZTohMCxsYWJlbDpmLmxhbmcuc291cmNlYXJlYS50b29sYmFyLGNvbW1hbmQ6XCJzb3VyY2VcIix0b29sYmFyOlwibW9kZSwxMFwifSk7Zi5vbihcIm1vZGVcIixmdW5jdGlvbigpe2YuZ2V0Q29tbWFuZChcInNvdXJjZVwiKS5zZXRTdGF0ZShcInNvdXJjZVwiPT1mLm1vZGU/Q0tFRElUT1IuVFJJU1RBVEVfT046Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKX0pO3ZhciBjPUNLRURJVE9SLmVudi5pZSYmXG45PT1DS0VESVRPUi5lbnYudmVyc2lvbn19fSk7dmFyIGE9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3Moe2Jhc2U6Q0tFRElUT1IuZWRpdGFibGUscHJvdG86e3NldERhdGE6ZnVuY3Rpb24oYSl7dGhpcy5zZXRWYWx1ZShhKTt0aGlzLnN0YXR1cz1cInJlYWR5XCI7dGhpcy5lZGl0b3IuZmlyZShcImRhdGFSZWFkeVwiKX0sZ2V0RGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFZhbHVlKCl9LGluc2VydEh0bWw6ZnVuY3Rpb24oKXt9LGluc2VydEVsZW1lbnQ6ZnVuY3Rpb24oKXt9LGluc2VydFRleHQ6ZnVuY3Rpb24oKXt9LHNldFJlYWRPbmx5OmZ1bmN0aW9uKGEpe3RoaXNbKGE/XCJzZXRcIjpcInJlbW92ZVwiKStcIkF0dHJpYnV0ZVwiXShcInJlYWRPbmx5XCIsXCJyZWFkb25seVwiKX0sZGV0YWNoOmZ1bmN0aW9uKCl7YS5iYXNlUHJvdG8uZGV0YWNoLmNhbGwodGhpcyk7dGhpcy5jbGVhckN1c3RvbURhdGEoKTt0aGlzLnJlbW92ZSgpfX19KX0oKSxDS0VESVRPUi5wbHVnaW5zLnNvdXJjZWFyZWE9XG57Y29tbWFuZHM6e3NvdXJjZTp7bW9kZXM6e3d5c2l3eWc6MSxzb3VyY2U6MX0sZWRpdG9yRm9jdXM6ITEscmVhZE9ubHk6MSxleGVjOmZ1bmN0aW9uKGEpe1wid3lzaXd5Z1wiPT1hLm1vZGUmJmEuZmlyZShcInNhdmVTbmFwc2hvdFwiKTthLmdldENvbW1hbmQoXCJzb3VyY2VcIikuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpO2Euc2V0TW9kZShcInNvdXJjZVwiPT1hLm1vZGU/XCJ3eXNpd3lnXCI6XCJzb3VyY2VcIil9LGNhblVuZG86ITF9fX0sQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJzcGVjaWFsY2hhclwiLHthdmFpbGFibGVMYW5nczp7YWY6MSxhcjoxLGF6OjEsYmc6MSxjYToxLGNzOjEsY3k6MSxkYToxLGRlOjEsXCJkZS1jaFwiOjEsZWw6MSxlbjoxLFwiZW4tYXVcIjoxLFwiZW4tY2FcIjoxLFwiZW4tZ2JcIjoxLGVvOjEsZXM6MSxcImVzLW14XCI6MSxldDoxLGV1OjEsZmE6MSxmaToxLGZyOjEsXCJmci1jYVwiOjEsZ2w6MSxoZToxLGhyOjEsaHU6MSxpZDoxLGl0OjEsamE6MSxrbToxLGtvOjEsa3U6MSxcbmx0OjEsbHY6MSxuYjoxLG5sOjEsbm86MSxvYzoxLHBsOjEscHQ6MSxcInB0LWJyXCI6MSxybzoxLHJ1OjEsc2k6MSxzazoxLHNsOjEsc3E6MSxzcjoxLFwic3ItbGF0blwiOjEsc3Y6MSx0aDoxLHRyOjEsdHQ6MSx1ZzoxLHVrOjEsdmk6MSx6aDoxLFwiemgtY25cIjoxfSxyZXF1aXJlczpcImRpYWxvZ1wiLGluaXQ6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcztDS0VESVRPUi5kaWFsb2cuYWRkKFwic3BlY2lhbGNoYXJcIix0aGlzLnBhdGgrXCJkaWFsb2dzL3NwZWNpYWxjaGFyLmpzXCIpO2EuYWRkQ29tbWFuZChcInNwZWNpYWxjaGFyXCIse2V4ZWM6ZnVuY3Rpb24oKXt2YXIgZT1hLmxhbmdDb2RlLGU9Zi5hdmFpbGFibGVMYW5nc1tlXT9lOmYuYXZhaWxhYmxlTGFuZ3NbZS5yZXBsYWNlKC8tLiovLFwiXCIpXT9lLnJlcGxhY2UoLy0uKi8sXCJcIik6XCJlblwiO0NLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKENLRURJVE9SLmdldFVybChmLnBhdGgrXCJkaWFsb2dzL2xhbmcvXCIrZStcIi5qc1wiKSxmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLmV4dGVuZChhLmxhbmcuc3BlY2lhbGNoYXIsXG5mLmxhbmdFbnRyaWVzW2VdKTthLm9wZW5EaWFsb2coXCJzcGVjaWFsY2hhclwiKX0pfSxtb2Rlczp7d3lzaXd5ZzoxfSxjYW5VbmRvOiExfSk7YS51aS5hZGRCdXR0b24mJmEudWkuYWRkQnV0dG9uKFwiU3BlY2lhbENoYXJcIix7bGFiZWw6YS5sYW5nLnNwZWNpYWxjaGFyLnRvb2xiYXIsY29tbWFuZDpcInNwZWNpYWxjaGFyXCIsdG9vbGJhcjpcImluc2VydCw1MFwifSl9fSksQ0tFRElUT1IuY29uZmlnLnNwZWNpYWxDaGFycz1cIiEgXFx4MjZxdW90OyAjICQgJSBcXHgyNmFtcDsgJyAoICkgKiArIC0gLiAvIDAgMSAyIDMgNCA1IDYgNyA4IDkgOiA7IFxceDI2bHQ7IFxceDNkIFxceDI2Z3Q7ID8gQCBBIEIgQyBEIEUgRiBHIEggSSBKIEsgTCBNIE4gTyBQIFEgUiBTIFQgVSBWIFcgWCBZIFogWyBdIF4gXyBgIGEgYiBjIGQgZSBmIGcgaCBpIGogayBsIG0gbiBvIHAgcSByIHMgdCB1IHYgdyB4IHkgeiB7IHwgfSB+IFxceDI2ZXVybzsgXFx4MjZsc3F1bzsgXFx4MjZyc3F1bzsgXFx4MjZsZHF1bzsgXFx4MjZyZHF1bzsgXFx4MjZuZGFzaDsgXFx4MjZtZGFzaDsgXFx4MjZpZXhjbDsgXFx4MjZjZW50OyBcXHgyNnBvdW5kOyBcXHgyNmN1cnJlbjsgXFx4MjZ5ZW47IFxceDI2YnJ2YmFyOyBcXHgyNnNlY3Q7IFxceDI2dW1sOyBcXHgyNmNvcHk7IFxceDI2b3JkZjsgXFx4MjZsYXF1bzsgXFx4MjZub3Q7IFxceDI2cmVnOyBcXHgyNm1hY3I7IFxceDI2ZGVnOyBcXHgyNnN1cDI7IFxceDI2c3VwMzsgXFx4MjZhY3V0ZTsgXFx4MjZtaWNybzsgXFx4MjZwYXJhOyBcXHgyNm1pZGRvdDsgXFx4MjZjZWRpbDsgXFx4MjZzdXAxOyBcXHgyNm9yZG07IFxceDI2cmFxdW87IFxceDI2ZnJhYzE0OyBcXHgyNmZyYWMxMjsgXFx4MjZmcmFjMzQ7IFxceDI2aXF1ZXN0OyBcXHgyNkFncmF2ZTsgXFx4MjZBYWN1dGU7IFxceDI2QWNpcmM7IFxceDI2QXRpbGRlOyBcXHgyNkF1bWw7IFxceDI2QXJpbmc7IFxceDI2QUVsaWc7IFxceDI2Q2NlZGlsOyBcXHgyNkVncmF2ZTsgXFx4MjZFYWN1dGU7IFxceDI2RWNpcmM7IFxceDI2RXVtbDsgXFx4MjZJZ3JhdmU7IFxceDI2SWFjdXRlOyBcXHgyNkljaXJjOyBcXHgyNkl1bWw7IFxceDI2RVRIOyBcXHgyNk50aWxkZTsgXFx4MjZPZ3JhdmU7IFxceDI2T2FjdXRlOyBcXHgyNk9jaXJjOyBcXHgyNk90aWxkZTsgXFx4MjZPdW1sOyBcXHgyNnRpbWVzOyBcXHgyNk9zbGFzaDsgXFx4MjZVZ3JhdmU7IFxceDI2VWFjdXRlOyBcXHgyNlVjaXJjOyBcXHgyNlV1bWw7IFxceDI2WWFjdXRlOyBcXHgyNlRIT1JOOyBcXHgyNnN6bGlnOyBcXHgyNmFncmF2ZTsgXFx4MjZhYWN1dGU7IFxceDI2YWNpcmM7IFxceDI2YXRpbGRlOyBcXHgyNmF1bWw7IFxceDI2YXJpbmc7IFxceDI2YWVsaWc7IFxceDI2Y2NlZGlsOyBcXHgyNmVncmF2ZTsgXFx4MjZlYWN1dGU7IFxceDI2ZWNpcmM7IFxceDI2ZXVtbDsgXFx4MjZpZ3JhdmU7IFxceDI2aWFjdXRlOyBcXHgyNmljaXJjOyBcXHgyNml1bWw7IFxceDI2ZXRoOyBcXHgyNm50aWxkZTsgXFx4MjZvZ3JhdmU7IFxceDI2b2FjdXRlOyBcXHgyNm9jaXJjOyBcXHgyNm90aWxkZTsgXFx4MjZvdW1sOyBcXHgyNmRpdmlkZTsgXFx4MjZvc2xhc2g7IFxceDI2dWdyYXZlOyBcXHgyNnVhY3V0ZTsgXFx4MjZ1Y2lyYzsgXFx4MjZ1dW1sOyBcXHgyNnlhY3V0ZTsgXFx4MjZ0aG9ybjsgXFx4MjZ5dW1sOyBcXHgyNk9FbGlnOyBcXHgyNm9lbGlnOyBcXHgyNiMzNzI7IFxceDI2IzM3NCBcXHgyNiMzNzMgXFx4MjYjMzc1OyBcXHgyNnNicXVvOyBcXHgyNiM4MjE5OyBcXHgyNmJkcXVvOyBcXHgyNmhlbGxpcDsgXFx4MjZ0cmFkZTsgXFx4MjYjOTY1ODsgXFx4MjZidWxsOyBcXHgyNnJhcnI7IFxceDI2ckFycjsgXFx4MjZoQXJyOyBcXHgyNmRpYW1zOyBcXHgyNmFzeW1wO1wiLnNwbGl0KFwiIFwiKSxcbmZ1bmN0aW9uKCl7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJzdHlsZXNjb21ib1wiLHtyZXF1aXJlczpcInJpY2hjb21ib1wiLGluaXQ6ZnVuY3Rpb24oYSl7dmFyIGY9YS5jb25maWcsZT1hLmxhbmcuc3R5bGVzY29tYm8sYj17fSxjPVtdLGs9W107YS5vbihcInN0eWxlc1NldFwiLGZ1bmN0aW9uKGUpe2lmKGU9ZS5kYXRhLnN0eWxlcyl7Zm9yKHZhciBtLGQsaCxnPTAsbj1lLmxlbmd0aDtnPG47ZysrKShtPWVbZ10sYS5ibG9ja2xlc3MmJm0uZWxlbWVudCBpbiBDS0VESVRPUi5kdGQuJGJsb2NrfHxcInN0cmluZ1wiPT10eXBlb2YgbS50eXBlJiYhQ0tFRElUT1Iuc3R5bGUuY3VzdG9tSGFuZGxlcnNbbS50eXBlXXx8KGQ9bS5uYW1lLG09bmV3IENLRURJVE9SLnN0eWxlKG0pLGEuZmlsdGVyLmN1c3RvbUNvbmZpZyYmIWEuZmlsdGVyLmNoZWNrKG0pKSl8fChtLl9uYW1lPWQsbS5fLmVudGVyTW9kZT1mLmVudGVyTW9kZSxtLl8udHlwZT1oPW0uYXNzaWduZWRUb3x8bS50eXBlLG0uXy53ZWlnaHQ9XG5nKzFFMyooaD09Q0tFRElUT1IuU1RZTEVfT0JKRUNUPzE6aD09Q0tFRElUT1IuU1RZTEVfQkxPQ0s/MjozKSxiW2RdPW0sYy5wdXNoKG0pLGsucHVzaChtKSk7Yy5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuXy53ZWlnaHQtYi5fLndlaWdodH0pfX0pO2Eub24oXCJzdHlsZXNSZW1vdmVcIixmdW5jdGlvbihjKXtjPWMuZGF0YSYmYy5kYXRhLnR5cGU7dmFyIGU9dm9pZCAwPT09YyxkO2ZvcihkIGluIGIpe3ZhciBmPWJbZF07KGV8fGYudHlwZT09PWMpJiZhLnJlbW92ZVN0eWxlKGYpfX0pO2EudWkuYWRkUmljaENvbWJvKFwiU3R5bGVzXCIse2xhYmVsOmUubGFiZWwsdGl0bGU6ZS5wYW5lbFRpdGxlLHRvb2xiYXI6XCJzdHlsZXMsMTBcIixhbGxvd2VkQ29udGVudDprLHBhbmVsOntjc3M6W0NLRURJVE9SLnNraW4uZ2V0UGF0aChcImVkaXRvclwiKV0uY29uY2F0KGYuY29udGVudHNDc3MpLG11bHRpU2VsZWN0OiEwLGF0dHJpYnV0ZXM6e1wiYXJpYS1sYWJlbFwiOmUucGFuZWxUaXRsZX19LGluaXQ6ZnVuY3Rpb24oKXt2YXIgYSxcbmIsZCxmLGcsaztnPTA7Zm9yKGs9Yy5sZW5ndGg7ZzxrO2crKylhPWNbZ10sYj1hLl9uYW1lLGY9YS5fLnR5cGUsZiE9ZCYmKHRoaXMuc3RhcnRHcm91cChlW1wicGFuZWxUaXRsZVwiK1N0cmluZyhmKV0pLGQ9ZiksdGhpcy5hZGQoYixhLnR5cGU9PUNLRURJVE9SLlNUWUxFX09CSkVDVD9iOmEuYnVpbGRQcmV2aWV3KCksYik7dGhpcy5jb21taXQoKX0sb25DbGljazpmdW5jdGlvbihjKXthLmZvY3VzKCk7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2M9YltjXTt2YXIgZT1hLmVsZW1lbnRQYXRoKCk7aWYoYy5ncm91cCYmYy5yZW1vdmVTdHlsZXNGcm9tU2FtZUdyb3VwKGEpKWEuYXBwbHlTdHlsZShjKTtlbHNlIGFbYy5jaGVja0FjdGl2ZShlLGEpP1wicmVtb3ZlU3R5bGVcIjpcImFwcGx5U3R5bGVcIl0oYyk7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpfSxvblJlbmRlcjpmdW5jdGlvbigpe2Eub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixmdW5jdGlvbihjKXt2YXIgZT10aGlzLmdldFZhbHVlKCk7Yz1jLmRhdGEucGF0aC5lbGVtZW50cztcbmZvcih2YXIgZD0wLGY9Yy5sZW5ndGgsZztkPGY7ZCsrKXtnPWNbZF07Zm9yKHZhciBrIGluIGIpaWYoYltrXS5jaGVja0VsZW1lbnRSZW1vdmFibGUoZywhMCxhKSl7ayE9ZSYmdGhpcy5zZXRWYWx1ZShrKTtyZXR1cm59fXRoaXMuc2V0VmFsdWUoXCJcIil9LHRoaXMpfSxvbk9wZW46ZnVuY3Rpb24oKXt2YXIgYz1hLmdldFNlbGVjdGlvbigpLGM9Yy5nZXRTZWxlY3RlZEVsZW1lbnQoKXx8Yy5nZXRTdGFydEVsZW1lbnQoKXx8YS5lZGl0YWJsZSgpLGM9YS5lbGVtZW50UGF0aChjKSxmPVswLDAsMCwwXTt0aGlzLnNob3dBbGwoKTt0aGlzLnVubWFya0FsbCgpO2Zvcih2YXIgZCBpbiBiKXt2YXIgaD1iW2RdLGc9aC5fLnR5cGU7aC5jaGVja0FwcGxpY2FibGUoYyxhLGEuYWN0aXZlRmlsdGVyKT9mW2ddKys6dGhpcy5oaWRlSXRlbShkKTtoLmNoZWNrQWN0aXZlKGMsYSkmJnRoaXMubWFyayhkKX1mW0NLRURJVE9SLlNUWUxFX0JMT0NLXXx8dGhpcy5oaWRlR3JvdXAoZVtcInBhbmVsVGl0bGVcIitcblN0cmluZyhDS0VESVRPUi5TVFlMRV9CTE9DSyldKTtmW0NLRURJVE9SLlNUWUxFX0lOTElORV18fHRoaXMuaGlkZUdyb3VwKGVbXCJwYW5lbFRpdGxlXCIrU3RyaW5nKENLRURJVE9SLlNUWUxFX0lOTElORSldKTtmW0NLRURJVE9SLlNUWUxFX09CSkVDVF18fHRoaXMuaGlkZUdyb3VwKGVbXCJwYW5lbFRpdGxlXCIrU3RyaW5nKENLRURJVE9SLlNUWUxFX09CSkVDVCldKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBjPWEuZWxlbWVudFBhdGgoKTtpZihjKXtmb3IodmFyIGUgaW4gYilpZihiW2VdLmNoZWNrQXBwbGljYWJsZShjLGEsYS5hY3RpdmVGaWx0ZXIpKXJldHVybjt0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX19LHJlc2V0OmZ1bmN0aW9uKCl7Yj17fTtjPVtdfX0pfX0pfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm57ZWRpdG9yRm9jdXM6ITEsY2FuVW5kbzohMSxtb2Rlczp7d3lzaXd5ZzoxfSxleGVjOmZ1bmN0aW9uKGIpe2lmKGIuZWRpdGFibGUoKS5oYXNGb2N1cyl7dmFyIGU9XG5iLmdldFNlbGVjdGlvbigpLGY7aWYoZj0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChlLmdldFN0YXJ0RWxlbWVudCgpLGUucm9vdCkpLmNvbnRhaW5zKHt0ZDoxLHRoOjF9LDEpKXt2YXIgZT1iLmNyZWF0ZVJhbmdlKCksZD1DS0VESVRPUi50b29scy50cnlUaGVzZShmdW5jdGlvbigpe3ZhciBiPWYuZ2V0UGFyZW50KCkuJC5jZWxsc1tmLiQuY2VsbEluZGV4KyhhPy0xOjEpXTtiLnBhcmVudE5vZGUucGFyZW50Tm9kZTtyZXR1cm4gYn0sZnVuY3Rpb24oKXt2YXIgYj1mLmdldFBhcmVudCgpLGI9Yi5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKS4kLnJvd3NbYi4kLnJvd0luZGV4KyhhPy0xOjEpXTtyZXR1cm4gYi5jZWxsc1thP2IuY2VsbHMubGVuZ3RoLTE6MF19KTtpZihkfHxhKWlmKGQpZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZCksZS5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGQpLGUuY2hlY2tTdGFydE9mQmxvY2soKSYmZS5jaGVja0VuZE9mQmxvY2soKXx8ZS5zZWxlY3ROb2RlQ29udGVudHMoZCk7XG5lbHNlIHJldHVybiEwO2Vsc2V7Zm9yKHZhciBoPWYuZ2V0QXNjZW5kYW50KFwidGFibGVcIikuJCxkPWYuZ2V0UGFyZW50KCkuJC5jZWxscyxoPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChoLmluc2VydFJvdygtMSksYi5kb2N1bWVudCksZz0wLG49ZC5sZW5ndGg7ZzxuO2crKyloLmFwcGVuZCgobmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGRbZ10sYi5kb2N1bWVudCkpLmNsb25lKCExLCExKSkuYXBwZW5kQm9ndXMoKTtlLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoaCl9ZS5zZWxlY3QoITApO3JldHVybiEwfX1yZXR1cm4hMX19fXZhciBmPXtlZGl0b3JGb2N1czohMSxtb2Rlczp7d3lzaXd5ZzoxLHNvdXJjZToxfX0sZT17ZXhlYzpmdW5jdGlvbihhKXthLmNvbnRhaW5lci5mb2N1c05leHQoITAsYS50YWJJbmRleCl9fSxiPXtleGVjOmZ1bmN0aW9uKGEpe2EuY29udGFpbmVyLmZvY3VzUHJldmlvdXMoITAsYS50YWJJbmRleCl9fTtDS0VESVRPUi5wbHVnaW5zLmFkZChcInRhYlwiLHtpbml0OmZ1bmN0aW9uKGMpe2Zvcih2YXIgaz1cbiExIT09Yy5jb25maWcuZW5hYmxlVGFiS2V5VG9vbHMsbD1jLmNvbmZpZy50YWJTcGFjZXN8fDAsbT1cIlwiO2wtLTspbSs9XCLCoFwiO2lmKG0pYy5vbihcImtleVwiLGZ1bmN0aW9uKGEpezk9PWEuZGF0YS5rZXlDb2RlJiYoYy5pbnNlcnRUZXh0KG0pLGEuY2FuY2VsKCkpfSk7aWYoayljLm9uKFwia2V5XCIsZnVuY3Rpb24oYSl7KDk9PWEuZGF0YS5rZXlDb2RlJiZjLmV4ZWNDb21tYW5kKFwic2VsZWN0TmV4dENlbGxcIil8fGEuZGF0YS5rZXlDb2RlPT1DS0VESVRPUi5TSElGVCs5JiZjLmV4ZWNDb21tYW5kKFwic2VsZWN0UHJldmlvdXNDZWxsXCIpKSYmYS5jYW5jZWwoKX0pO2MuYWRkQ29tbWFuZChcImJsdXJcIixDS0VESVRPUi50b29scy5leHRlbmQoZSxmKSk7Yy5hZGRDb21tYW5kKFwiYmx1ckJhY2tcIixDS0VESVRPUi50b29scy5leHRlbmQoYixmKSk7Yy5hZGRDb21tYW5kKFwic2VsZWN0TmV4dENlbGxcIixhKCkpO2MuYWRkQ29tbWFuZChcInNlbGVjdFByZXZpb3VzQ2VsbFwiLGEoITApKX19KX0oKSxDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUuZm9jdXNOZXh0PVxuZnVuY3Rpb24oYSxmKXt2YXIgZT12b2lkIDA9PT1mP3RoaXMuZ2V0VGFiSW5kZXgoKTpmLGIsYyxrLGwsbSxkO2lmKDA+PWUpZm9yKG09dGhpcy5nZXROZXh0U291cmNlTm9kZShhLENLRURJVE9SLk5PREVfRUxFTUVOVCk7bTspe2lmKG0uaXNWaXNpYmxlKCkmJjA9PT1tLmdldFRhYkluZGV4KCkpe2s9bTticmVha31tPW0uZ2V0TmV4dFNvdXJjZU5vZGUoITEsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKX1lbHNlIGZvcihtPXRoaXMuZ2V0RG9jdW1lbnQoKS5nZXRCb2R5KCkuZ2V0Rmlyc3QoKTttPW0uZ2V0TmV4dFNvdXJjZU5vZGUoITEsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKTspe2lmKCFiKWlmKCFjJiZtLmVxdWFscyh0aGlzKSl7aWYoYz0hMCxhKXtpZighKG09bS5nZXROZXh0U291cmNlTm9kZSghMCxDS0VESVRPUi5OT0RFX0VMRU1FTlQpKSlicmVhaztiPTF9fWVsc2UgYyYmIXRoaXMuY29udGFpbnMobSkmJihiPTEpO2lmKG0uaXNWaXNpYmxlKCkmJiEoMD4oZD1tLmdldFRhYkluZGV4KCkpKSl7aWYoYiYmXG5kPT1lKXtrPW07YnJlYWt9ZD5lJiYoIWt8fCFsfHxkPGwpPyhrPW0sbD1kKTprfHwwIT09ZHx8KGs9bSxsPWQpfX1rJiZrLmZvY3VzKCl9LENLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5mb2N1c1ByZXZpb3VzPWZ1bmN0aW9uKGEsZil7Zm9yKHZhciBlPXZvaWQgMD09PWY/dGhpcy5nZXRUYWJJbmRleCgpOmYsYixjLGssbD0wLG0sZD10aGlzLmdldERvY3VtZW50KCkuZ2V0Qm9keSgpLmdldExhc3QoKTtkPWQuZ2V0UHJldmlvdXNTb3VyY2VOb2RlKCExLENLRURJVE9SLk5PREVfRUxFTUVOVCk7KXtpZighYilpZighYyYmZC5lcXVhbHModGhpcykpe2lmKGM9ITAsYSl7aWYoIShkPWQuZ2V0UHJldmlvdXNTb3VyY2VOb2RlKCEwLENLRURJVE9SLk5PREVfRUxFTUVOVCkpKWJyZWFrO2I9MX19ZWxzZSBjJiYhdGhpcy5jb250YWlucyhkKSYmKGI9MSk7aWYoZC5pc1Zpc2libGUoKSYmISgwPihtPWQuZ2V0VGFiSW5kZXgoKSkpKWlmKDA+PWUpe2lmKGImJjA9PT1tKXtrPWQ7YnJlYWt9bT5cbmwmJihrPWQsbD1tKX1lbHNle2lmKGImJm09PWUpe2s9ZDticmVha31tPGUmJigha3x8bT5sKSYmKGs9ZCxsPW0pfX1rJiZrLmZvY3VzKCl9LENLRURJVE9SLnBsdWdpbnMuYWRkKFwidGFibGVcIix7cmVxdWlyZXM6XCJkaWFsb2dcIixpbml0OmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGYoYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZChhfHx7fSx7Y29udGV4dFNlbnNpdGl2ZToxLHJlZnJlc2g6ZnVuY3Rpb24oYSxiKXt0aGlzLnNldFN0YXRlKGIuY29udGFpbnMoXCJ0YWJsZVwiLDEpP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCl9fSl9aWYoIWEuYmxvY2tsZXNzKXt2YXIgZT1hLmxhbmcudGFibGU7YS5hZGRDb21tYW5kKFwidGFibGVcIixuZXcgQ0tFRElUT1IuZGlhbG9nQ29tbWFuZChcInRhYmxlXCIse2NvbnRleHQ6XCJ0YWJsZVwiLGFsbG93ZWRDb250ZW50OlwidGFibGV7d2lkdGgsaGVpZ2h0LGJvcmRlci1jb2xsYXBzZX1bYWxpZ24sYm9yZGVyLGNlbGxwYWRkaW5nLGNlbGxzcGFjaW5nLHN1bW1hcnldO2NhcHRpb24gdGJvZHkgdGhlYWQgdGZvb3Q7dGggdGQgdHJbc2NvcGVdO3Rke2JvcmRlciosYmFja2dyb3VuZC1jb2xvcix2ZXJ0aWNhbC1hbGlnbix3aWR0aCxoZWlnaHR9W2NvbHNwYW4scm93c3Bhbl07XCIrXG4oYS5wbHVnaW5zLmRpYWxvZ2FkdnRhYj9cInRhYmxlXCIrYS5wbHVnaW5zLmRpYWxvZ2FkdnRhYi5hbGxvd2VkQ29udGVudCgpOlwiXCIpLHJlcXVpcmVkQ29udGVudDpcInRhYmxlXCIsY29udGVudFRyYW5zZm9ybWF0aW9uczpbW1widGFibGV7d2lkdGh9OiBzaXplVG9TdHlsZVwiLFwidGFibGVbd2lkdGhdOiBzaXplVG9BdHRyaWJ1dGVcIl0sW1widGQ6IHNwbGl0Qm9yZGVyU2hvcnRoYW5kXCJdLFt7ZWxlbWVudDpcInRhYmxlXCIscmlnaHQ6ZnVuY3Rpb24oYSl7aWYoYS5zdHlsZXMpe3ZhciBjO2lmKGEuc3R5bGVzLmJvcmRlciljPUNLRURJVE9SLnRvb2xzLnN0eWxlLnBhcnNlLmJvcmRlcihhLnN0eWxlcy5ib3JkZXIpO2Vsc2UgaWYoQ0tFRElUT1IuZW52LmllJiY4PT09Q0tFRElUT1IuZW52LnZlcnNpb24pe3ZhciBlPWEuc3R5bGVzO2VbXCJib3JkZXItbGVmdFwiXSYmZVtcImJvcmRlci1sZWZ0XCJdPT09ZVtcImJvcmRlci1yaWdodFwiXSYmZVtcImJvcmRlci1yaWdodFwiXT09PWVbXCJib3JkZXItdG9wXCJdJiZcbmVbXCJib3JkZXItdG9wXCJdPT09ZVtcImJvcmRlci1ib3R0b21cIl0mJihjPUNLRURJVE9SLnRvb2xzLnN0eWxlLnBhcnNlLmJvcmRlcihlW1wiYm9yZGVyLXRvcFwiXSkpfWMmJmMuc3R5bGUmJlwic29saWRcIj09PWMuc3R5bGUmJmMud2lkdGgmJjAhPT1wYXJzZUZsb2F0KGMud2lkdGgpJiYoYS5hdHRyaWJ1dGVzLmJvcmRlcj0xKTtcImNvbGxhcHNlXCI9PWEuc3R5bGVzW1wiYm9yZGVyLWNvbGxhcHNlXCJdJiYoYS5hdHRyaWJ1dGVzLmNlbGxzcGFjaW5nPTApfX19XV19KSk7YS5hZGRDb21tYW5kKFwidGFibGVQcm9wZXJ0aWVzXCIsbmV3IENLRURJVE9SLmRpYWxvZ0NvbW1hbmQoXCJ0YWJsZVByb3BlcnRpZXNcIixmKCkpKTthLmFkZENvbW1hbmQoXCJ0YWJsZURlbGV0ZVwiLGYoe2V4ZWM6ZnVuY3Rpb24oYSl7dmFyIGM9YS5lbGVtZW50UGF0aCgpLmNvbnRhaW5zKFwidGFibGVcIiwxKTtpZihjKXt2YXIgZT1jLmdldFBhcmVudCgpLGY9YS5lZGl0YWJsZSgpOzEhPWUuZ2V0Q2hpbGRDb3VudCgpfHxlLmlzKFwidGRcIixcblwidGhcIil8fGUuZXF1YWxzKGYpfHwoYz1lKTthPWEuY3JlYXRlUmFuZ2UoKTthLm1vdmVUb1Bvc2l0aW9uKGMsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtjLnJlbW92ZSgpO2Euc2VsZWN0KCl9fX0pKTthLnVpLmFkZEJ1dHRvbiYmYS51aS5hZGRCdXR0b24oXCJUYWJsZVwiLHtsYWJlbDplLnRvb2xiYXIsY29tbWFuZDpcInRhYmxlXCIsdG9vbGJhcjpcImluc2VydCwzMFwifSk7Q0tFRElUT1IuZGlhbG9nLmFkZChcInRhYmxlXCIsdGhpcy5wYXRoK1wiZGlhbG9ncy90YWJsZS5qc1wiKTtDS0VESVRPUi5kaWFsb2cuYWRkKFwidGFibGVQcm9wZXJ0aWVzXCIsdGhpcy5wYXRoK1wiZGlhbG9ncy90YWJsZS5qc1wiKTthLmFkZE1lbnVJdGVtcyYmYS5hZGRNZW51SXRlbXMoe3RhYmxlOntsYWJlbDplLm1lbnUsY29tbWFuZDpcInRhYmxlUHJvcGVydGllc1wiLGdyb3VwOlwidGFibGVcIixvcmRlcjo1fSx0YWJsZWRlbGV0ZTp7bGFiZWw6ZS5kZWxldGVUYWJsZSxjb21tYW5kOlwidGFibGVEZWxldGVcIixncm91cDpcInRhYmxlXCIsXG5vcmRlcjoxfX0pO2Eub24oXCJkb3VibGVjbGlja1wiLGZ1bmN0aW9uKGEpe2EuZGF0YS5lbGVtZW50LmlzKFwidGFibGVcIikmJihhLmRhdGEuZGlhbG9nPVwidGFibGVQcm9wZXJ0aWVzXCIpfSk7YS5jb250ZXh0TWVudSYmYS5jb250ZXh0TWVudS5hZGRMaXN0ZW5lcihmdW5jdGlvbigpe3JldHVybnt0YWJsZWRlbGV0ZTpDS0VESVRPUi5UUklTVEFURV9PRkYsdGFibGU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGfX0pfX19KSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXtmdW5jdGlvbiBkKGEpe3JldHVybiBiP2IuY29udGFpbnMoYSkmJmEuZ2V0QXNjZW5kYW50KFwidGFibGVcIiwhMCkuZXF1YWxzKGIpOiEwfWZ1bmN0aW9uIGMoYSl7dmFyIGI9L14oPzp0ZHx0aCkkLzswPGUubGVuZ3RofHxhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8IWIudGVzdChhLmdldE5hbWUoKSl8fGEuZ2V0Q3VzdG9tRGF0YShcInNlbGVjdGVkX2NlbGxcIil8fChDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoZixcbmEsXCJzZWxlY3RlZF9jZWxsXCIsITApLGUucHVzaChhKSl9dmFyIGU9W10sZj17fTtpZighYSlyZXR1cm4gZTtmb3IodmFyIGc9YS5nZXRSYW5nZXMoKSxoPTA7aDxnLmxlbmd0aDtoKyspe3ZhciBrPWdbaF07aWYoay5jb2xsYXBzZWQpKGs9ay5nZXRDb21tb25BbmNlc3RvcigpLmdldEFzY2VuZGFudCh7dGQ6MSx0aDoxfSwhMCkpJiZkKGspJiZlLnB1c2goayk7ZWxzZXt2YXIgaz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihrKSxsO2ZvcihrLmd1YXJkPWM7bD1rLm5leHQoKTspbC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmwuaXMoQ0tFRElUT1IuZHRkLnRhYmxlKXx8KGw9bC5nZXRBc2NlbmRhbnQoe3RkOjEsdGg6MX0sITApKSYmIWwuZ2V0Q3VzdG9tRGF0YShcInNlbGVjdGVkX2NlbGxcIikmJmQobCkmJihDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoZixsLFwic2VsZWN0ZWRfY2VsbFwiLCEwKSxlLnB1c2gobCkpfX1DS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoZik7XG5yZXR1cm4gZX1mdW5jdGlvbiBmKGIsZCl7Zm9yKHZhciBjPXIoYik/YjphKGIpLGU9Y1swXSxmPWUuZ2V0QXNjZW5kYW50KFwidGFibGVcIiksZT1lLmdldERvY3VtZW50KCksZz1jWzBdLmdldFBhcmVudCgpLGg9Zy4kLnJvd0luZGV4LGM9Y1tjLmxlbmd0aC0xXSxrPWMuZ2V0UGFyZW50KCkuJC5yb3dJbmRleCtjLiQucm93U3Bhbi0xLGM9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGYuJC5yb3dzW2tdKSxoPWQ/aDprLGc9ZD9nOmMsYz1DS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKGYpLGY9Y1toXSxoPWQ/Y1toLTFdOmNbaCsxXSxjPWNbMF0ubGVuZ3RoLGU9ZS5jcmVhdGVFbGVtZW50KFwidHJcIiksaz0wO2Zba10mJms8YztrKyspe3ZhciBsOzE8ZltrXS5yb3dTcGFuJiZoJiZmW2tdPT1oW2tdPyhsPWZba10sbC5yb3dTcGFuKz0xKToobD0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGZba10pKS5jbG9uZSgpLGwucmVtb3ZlQXR0cmlidXRlKFwicm93U3BhblwiKSxsLmFwcGVuZEJvZ3VzKCksXG5lLmFwcGVuZChsKSxsPWwuJCk7ays9bC5jb2xTcGFuLTF9ZD9lLmluc2VydEJlZm9yZShnKTplLmluc2VydEFmdGVyKGcpO3JldHVybiBlfWZ1bmN0aW9uIGUoYil7aWYoYiBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5zZWxlY3Rpb24pe3ZhciBkPWIuZ2V0UmFuZ2VzKCksYz1hKGIpLGY9Y1swXS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKSxnPUNLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAoZiksaD1jWzBdLmdldFBhcmVudCgpLiQucm93SW5kZXgsYz1jW2MubGVuZ3RoLTFdLGs9Yy5nZXRQYXJlbnQoKS4kLnJvd0luZGV4K2MuJC5yb3dTcGFuLTEsYz1bXTtiLnJlc2V0KCk7Zm9yKGI9aDtiPD1rO2IrKyl7Zm9yKHZhciBsPWdbYl0sbT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZi4kLnJvd3NbYl0pLG49MDtuPGwubGVuZ3RoO24rKyl7dmFyIHI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGxbbl0pLHc9ci5nZXRQYXJlbnQoKS4kLnJvd0luZGV4OzE9PXIuJC5yb3dTcGFuP3IucmVtb3ZlKCk6XG4oLS1yLiQucm93U3Bhbix3PT1iJiYodz1nW2IrMV0sd1tuLTFdP3IuaW5zZXJ0QWZ0ZXIobmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHdbbi0xXSkpOihuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZi4kLnJvd3NbYisxXSkpLmFwcGVuZChyLDEpKSk7bis9ci4kLmNvbFNwYW4tMX1jLnB1c2gobSl9Zz1mLiQucm93cztkWzBdLm1vdmVUb1Bvc2l0aW9uKGYsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtoPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChnW2srMV18fCgwPGg/Z1toLTFdOm51bGwpfHxmLiQucGFyZW50Tm9kZSk7Zm9yKGI9Yy5sZW5ndGg7MDw9YjtiLS0pZShjW2JdKTtyZXR1cm4gZi4kLnBhcmVudE5vZGU/aDooZFswXS5zZWxlY3QoKSxudWxsKX1iIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQmJihmPWIuZ2V0QXNjZW5kYW50KFwidGFibGVcIiksMT09Zi4kLnJvd3MubGVuZ3RoP2YucmVtb3ZlKCk6Yi5yZW1vdmUoKSk7cmV0dXJuIG51bGx9ZnVuY3Rpb24gYihhKXtmb3IodmFyIGI9XG5hLmdldFBhcmVudCgpLiQuY2VsbHMsZD0wLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGU9YltjXSxkPWQrZS5jb2xTcGFuO2lmKGU9PWEuJClicmVha31yZXR1cm4gZC0xfWZ1bmN0aW9uIGMoYSxkKXtmb3IodmFyIGM9ZD9JbmZpbml0eTowLGU9MDtlPGEubGVuZ3RoO2UrKyl7dmFyIGY9YihhW2VdKTtpZihkP2Y8YzpmPmMpYz1mfXJldHVybiBjfWZ1bmN0aW9uIGsoYixkKXtmb3IodmFyIGU9cihiKT9iOmEoYiksZj1lWzBdLmdldEFzY2VuZGFudChcInRhYmxlXCIpLGc9YyhlLDEpLGU9YyhlKSxoPWQ/ZzplLGs9Q0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcChmKSxmPVtdLGc9W10sZT1bXSxsPWsubGVuZ3RoLG09MDttPGw7bSsrKXt2YXIgbj1kP2tbbV1baC0xXTprW21dW2grMV07Zi5wdXNoKGtbbV1baF0pO2cucHVzaChuKX1mb3IobT0wO208bDttKyspZlttXSYmKDE8ZlttXS5jb2xTcGFuJiZnW21dPT1mW21dPyhrPWZbbV0say5jb2xTcGFuKz0xKTooaD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZlttXSksXG5rPWguY2xvbmUoKSxrLnJlbW92ZUF0dHJpYnV0ZShcImNvbFNwYW5cIiksay5hcHBlbmRCb2d1cygpLGtbZD9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0uY2FsbChrLGgpLGUucHVzaChrKSxrPWsuJCksbSs9ay5yb3dTcGFuLTEpO3JldHVybiBlfWZ1bmN0aW9uIGwoYil7ZnVuY3Rpb24gZChhKXt2YXIgYj1hLmdldFJhbmdlcygpLGMsZTtpZigxIT09Yi5sZW5ndGgpcmV0dXJuIGE7Yj1iWzBdO2lmKGIuY29sbGFwc2VkfHwwIT09Yi5lbmRPZmZzZXQpcmV0dXJuIGE7Yz1iLmVuZENvbnRhaW5lcjtlPWMuZ2V0TmFtZSgpLnRvTG93ZXJDYXNlKCk7aWYoXCJ0ZFwiIT09ZSYmXCJ0aFwiIT09ZSlyZXR1cm4gYTtmb3IoKGU9Yy5nZXRQcmV2aW91cygpKXx8KGU9Yy5nZXRQYXJlbnQoKS5nZXRQcmV2aW91cygpLmdldExhc3QoKSk7ZS50eXBlIT09Q0tFRElUT1IuTk9ERV9URVhUJiZcImJyXCIhPT1lLmdldE5hbWUoKS50b0xvd2VyQ2FzZSgpOylpZihlPWUuZ2V0TGFzdCgpLCFlKXJldHVybiBhO1xuYi5zZXRFbmRBdChlLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO3JldHVybiBiLnNlbGVjdCgpfUNLRURJVE9SLmVudi53ZWJraXQmJiFiLmlzRmFrZSYmKGI9ZChiKSk7dmFyIGM9Yi5nZXRSYW5nZXMoKSxlPWEoYiksZj1lWzBdLGc9ZVtlLmxlbmd0aC0xXSxlPWYuZ2V0QXNjZW5kYW50KFwidGFibGVcIiksaD1DS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKGUpLGssbCxtPVtdO2IucmVzZXQoKTt2YXIgbj0wO2ZvcihiPWgubGVuZ3RoO248YjtuKyspZm9yKHZhciByPTAsdz1oW25dLmxlbmd0aDtyPHc7cisrKXZvaWQgMD09PWsmJmhbbl1bcl09PWYuJCYmKGs9ciksaFtuXVtyXT09Zy4kJiYobD1yKTtmb3Iobj1rO248PWw7bisrKWZvcihyPTA7cjxoLmxlbmd0aDtyKyspZz1oW3JdLGY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGUuJC5yb3dzW3JdKSxnPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChnW25dKSxnLiQmJigxPT1nLiQuY29sU3Bhbj9nLnJlbW92ZSgpOi0tZy4kLmNvbFNwYW4sXG5yKz1nLiQucm93U3Bhbi0xLGYuJC5jZWxscy5sZW5ndGh8fG0ucHVzaChmKSk7az1oWzBdLmxlbmd0aC0xPmw/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGhbMF1bbCsxXSk6ayYmLTEhPT1oWzBdW2stMV0uY2VsbEluZGV4P25ldyBDS0VESVRPUi5kb20uZWxlbWVudChoWzBdW2stMV0pOm5ldyBDS0VESVRPUi5kb20uZWxlbWVudChlLiQucGFyZW50Tm9kZSk7bS5sZW5ndGg9PWImJihjWzBdLm1vdmVUb1Bvc2l0aW9uKGUsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxjWzBdLnNlbGVjdCgpLGUucmVtb3ZlKCkpO3JldHVybiBrfWZ1bmN0aW9uIG0oYSxiKXt2YXIgZD1hLmdldFN0YXJ0RWxlbWVudCgpLmdldEFzY2VuZGFudCh7dGQ6MSx0aDoxfSwhMCk7aWYoZCl7dmFyIGM9ZC5jbG9uZSgpO2MuYXBwZW5kQm9ndXMoKTtiP2MuaW5zZXJ0QmVmb3JlKGQpOmMuaW5zZXJ0QWZ0ZXIoZCl9fWZ1bmN0aW9uIGQoYil7aWYoYiBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5zZWxlY3Rpb24pe3ZhciBjPVxuYi5nZXRSYW5nZXMoKSxlPWEoYiksZj1lWzBdJiZlWzBdLmdldEFzY2VuZGFudChcInRhYmxlXCIpLGc7YTp7dmFyIGs9MDtnPWUubGVuZ3RoLTE7Zm9yKHZhciBsPXt9LG0sbjttPWVbaysrXTspQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGwsbSxcImRlbGV0ZV9jZWxsXCIsITApO2ZvcihrPTA7bT1lW2srK107KWlmKChuPW0uZ2V0UHJldmlvdXMoKSkmJiFuLmdldEN1c3RvbURhdGEoXCJkZWxldGVfY2VsbFwiKXx8KG49bS5nZXROZXh0KCkpJiYhbi5nZXRDdXN0b21EYXRhKFwiZGVsZXRlX2NlbGxcIikpe0NLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2VycyhsKTtnPW47YnJlYWsgYX1DS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMobCk7az1lWzBdLmdldFBhcmVudCgpOyhrPWsuZ2V0UHJldmlvdXMoKSk/Zz1rLmdldExhc3QoKTooaz1lW2ddLmdldFBhcmVudCgpLGc9KGs9ay5nZXROZXh0KCkpP2suZ2V0Q2hpbGQoMCk6bnVsbCl9Yi5yZXNldCgpO2ZvcihiPVxuZS5sZW5ndGgtMTswPD1iO2ItLSlkKGVbYl0pO2c/aChnLCEwKTpmJiYoY1swXS5tb3ZlVG9Qb3NpdGlvbihmLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksY1swXS5zZWxlY3QoKSxmLnJlbW92ZSgpKX1lbHNlIGIgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudCYmKGM9Yi5nZXRQYXJlbnQoKSwxPT1jLmdldENoaWxkQ291bnQoKT9jLnJlbW92ZSgpOmIucmVtb3ZlKCkpfWZ1bmN0aW9uIGgoYSxiKXt2YXIgZD1hLmdldERvY3VtZW50KCksYz1DS0VESVRPUi5kb2N1bWVudDtDS0VESVRPUi5lbnYuaWUmJjEwPT1DS0VESVRPUi5lbnYudmVyc2lvbiYmKGMuZm9jdXMoKSxkLmZvY3VzKCkpO2Q9bmV3IENLRURJVE9SLmRvbS5yYW5nZShkKTtkW1wibW92ZVRvRWxlbWVudEVkaXRcIisoYj9cIkVuZFwiOlwiU3RhcnRcIildKGEpfHwoZC5zZWxlY3ROb2RlQ29udGVudHMoYSksZC5jb2xsYXBzZShiPyExOiEwKSk7ZC5zZWxlY3QoITApfWZ1bmN0aW9uIGcoYSxiLGQpe2E9YVtiXTtcbmlmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBkKXJldHVybiBhO2ZvcihiPTA7YSYmYjxhLmxlbmd0aDtiKyspe2lmKGQuaXMmJmFbYl09PWQuJClyZXR1cm4gYjtpZihiPT1kKXJldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYVtiXSl9cmV0dXJuIGQuaXM/LTE6bnVsbH1mdW5jdGlvbiBuKGIsZCxjKXt2YXIgZT1hKGIpLGY7aWYoKGQ/MSE9ZS5sZW5ndGg6Mj5lLmxlbmd0aCl8fChmPWIuZ2V0Q29tbW9uQW5jZXN0b3IoKSkmJmYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZmLmlzKFwidGFibGVcIikpcmV0dXJuITE7Yj1lWzBdO2Y9Yi5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKTt2YXIgaD1DS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKGYpLGs9aC5sZW5ndGgsbD1oWzBdLmxlbmd0aCxtPWIuZ2V0UGFyZW50KCkuJC5yb3dJbmRleCxuPWcoaCxtLGIpLHI7aWYoZCl7dmFyIHc7dHJ5e3ZhciB4PXBhcnNlSW50KGIuZ2V0QXR0cmlidXRlKFwicm93c3BhblwiKSwxMCl8fDE7cj1wYXJzZUludChiLmdldEF0dHJpYnV0ZShcImNvbHNwYW5cIiksXG4xMCl8fDE7dz1oW1widXBcIj09ZD9tLXg6XCJkb3duXCI9PWQ/bSt4Om1dW1wibGVmdFwiPT1kP24tcjpcInJpZ2h0XCI9PWQ/bityOm5dfWNhdGNoKEspe3JldHVybiExfWlmKCF3fHxiLiQ9PXcpcmV0dXJuITE7ZVtcInVwXCI9PWR8fFwibGVmdFwiPT1kP1widW5zaGlmdFwiOlwicHVzaFwiXShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQodykpfWQ9Yi5nZXREb2N1bWVudCgpO3ZhciBHPW0seD13PTAsTT0hYyYmbmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGQpLEg9MDtmb3IoZD0wO2Q8ZS5sZW5ndGg7ZCsrKXtyPWVbZF07dmFyIEU9ci5nZXRQYXJlbnQoKSxQPXIuZ2V0Rmlyc3QoKSxMPXIuJC5jb2xTcGFuLE49ci4kLnJvd1NwYW4sRT1FLiQucm93SW5kZXgsTz1nKGgsRSxyKSxIPUgrTCpOLHg9TWF0aC5tYXgoeCxPLW4rTCk7dz1NYXRoLm1heCh3LEUtbStOKTtjfHwoTD1yLChOPUwuZ2V0Qm9ndXMoKSkmJk4ucmVtb3ZlKCksTC50cmltKCksci5nZXRDaGlsZHJlbigpLmNvdW50KCkmJihFPT1cbkd8fCFQfHxQLmlzQmxvY2tCb3VuZGFyeSYmUC5pc0Jsb2NrQm91bmRhcnkoe2JyOjF9KXx8KEc9TS5nZXRMYXN0KENLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoITApKSwhR3x8Ry5pcyYmRy5pcyhcImJyXCIpfHxNLmFwcGVuZChcImJyXCIpKSxyLm1vdmVDaGlsZHJlbihNKSksZD9yLnJlbW92ZSgpOnIuc2V0SHRtbChcIlwiKSk7Rz1FfWlmKGMpcmV0dXJuIHcqeD09SDtNLm1vdmVDaGlsZHJlbihiKTtiLmFwcGVuZEJvZ3VzKCk7eD49bD9iLnJlbW92ZUF0dHJpYnV0ZShcInJvd1NwYW5cIik6Yi4kLnJvd1NwYW49dzt3Pj1rP2IucmVtb3ZlQXR0cmlidXRlKFwiY29sU3BhblwiKTpiLiQuY29sU3Bhbj14O2M9bmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdChmLiQucm93cyk7ZT1jLmNvdW50KCk7Zm9yKGQ9ZS0xOzA8PWQ7ZC0tKWY9Yy5nZXRJdGVtKGQpLGYuJC5jZWxscy5sZW5ndGh8fChmLnJlbW92ZSgpLGUrKyk7cmV0dXJuIGJ9ZnVuY3Rpb24gdyhiLGQpe3ZhciBjPWEoYik7aWYoMTxcbmMubGVuZ3RoKXJldHVybiExO2lmKGQpcmV0dXJuITA7dmFyIGM9Y1swXSxlPWMuZ2V0UGFyZW50KCksZj1lLmdldEFzY2VuZGFudChcInRhYmxlXCIpLGg9Q0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcChmKSxrPWUuJC5yb3dJbmRleCxsPWcoaCxrLGMpLG09Yy4kLnJvd1NwYW4sbjtpZigxPG0pe249TWF0aC5jZWlsKG0vMik7Zm9yKHZhciBtPU1hdGguZmxvb3IobS8yKSxlPWsrbixmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChmLiQucm93c1tlXSksaD1nKGgsZSkscixlPWMuY2xvbmUoKSxrPTA7azxoLmxlbmd0aDtrKyspaWYocj1oW2tdLHIucGFyZW50Tm9kZT09Zi4kJiZrPmwpe2UuaW5zZXJ0QmVmb3JlKG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChyKSk7YnJlYWt9ZWxzZSByPW51bGw7cnx8Zi5hcHBlbmQoZSl9ZWxzZSBmb3IobT1uPTEsZj1lLmNsb25lKCksZi5pbnNlcnRBZnRlcihlKSxmLmFwcGVuZChlPWMuY2xvbmUoKSkscj1nKGgsayksbD0wO2w8ci5sZW5ndGg7bCsrKXJbbF0ucm93U3BhbisrO1xuZS5hcHBlbmRCb2d1cygpO2MuJC5yb3dTcGFuPW47ZS4kLnJvd1NwYW49bTsxPT1uJiZjLnJlbW92ZUF0dHJpYnV0ZShcInJvd1NwYW5cIik7MT09bSYmZS5yZW1vdmVBdHRyaWJ1dGUoXCJyb3dTcGFuXCIpO3JldHVybiBlfWZ1bmN0aW9uIHgoYixkKXt2YXIgYz1hKGIpO2lmKDE8Yy5sZW5ndGgpcmV0dXJuITE7aWYoZClyZXR1cm4hMDt2YXIgYz1jWzBdLGU9Yy5nZXRQYXJlbnQoKSxmPWUuZ2V0QXNjZW5kYW50KFwidGFibGVcIiksZj1DS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKGYpLGg9ZyhmLGUuJC5yb3dJbmRleCxjKSxrPWMuJC5jb2xTcGFuO2lmKDE8ayllPU1hdGguY2VpbChrLzIpLGs9TWF0aC5mbG9vcihrLzIpO2Vsc2V7Zm9yKHZhciBrPWU9MSxsPVtdLG09MDttPGYubGVuZ3RoO20rKyl7dmFyIG49ZlttXTtsLnB1c2gobltoXSk7MTxuW2hdLnJvd1NwYW4mJihtKz1uW2hdLnJvd1NwYW4tMSl9Zm9yKGY9MDtmPGwubGVuZ3RoO2YrKylsW2ZdLmNvbFNwYW4rK31mPWMuY2xvbmUoKTtcbmYuaW5zZXJ0QWZ0ZXIoYyk7Zi5hcHBlbmRCb2d1cygpO2MuJC5jb2xTcGFuPWU7Zi4kLmNvbFNwYW49azsxPT1lJiZjLnJlbW92ZUF0dHJpYnV0ZShcImNvbFNwYW5cIik7MT09ayYmZi5yZW1vdmVBdHRyaWJ1dGUoXCJjb2xTcGFuXCIpO3JldHVybiBmfXZhciByPUNLRURJVE9SLnRvb2xzLmlzQXJyYXk7Q0tFRElUT1IucGx1Z2lucy50YWJsZXRvb2xzPXtyZXF1aXJlczpcInRhYmxlLGRpYWxvZyxjb250ZXh0bWVudVwiLGluaXQ6ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYyhhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGF8fHt9LHtjb250ZXh0U2Vuc2l0aXZlOjEscmVmcmVzaDpmdW5jdGlvbihhLGIpe3RoaXMuc2V0U3RhdGUoYi5jb250YWlucyh7dGQ6MSx0aDoxfSwxKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpfX0pfWZ1bmN0aW9uIGcoYSxkKXt2YXIgYz1iLmFkZENvbW1hbmQoYSxkKTtiLmFkZEZlYXR1cmUoYyl9dmFyIHE9Yi5sYW5nLnRhYmxlLFxucj1DS0VESVRPUi50b29scy5zdHlsZS5wYXJzZSx5PVwidGR7d2lkdGh9IHRke2hlaWdodH0gdGR7Ym9yZGVyLWNvbG9yfSB0ZHtiYWNrZ3JvdW5kLWNvbG9yfSB0ZHt3aGl0ZS1zcGFjZX0gdGR7dmVydGljYWwtYWxpZ259IHRke3RleHQtYWxpZ259IHRkW2NvbHNwYW5dIHRkW3Jvd3NwYW5dIHRoXCIuc3BsaXQoXCIgXCIpO2coXCJjZWxsUHJvcGVydGllc1wiLG5ldyBDS0VESVRPUi5kaWFsb2dDb21tYW5kKFwiY2VsbFByb3BlcnRpZXNcIixjKHthbGxvd2VkQ29udGVudDpcInRkIHRoe3dpZHRoLGhlaWdodCxib3JkZXItY29sb3IsYmFja2dyb3VuZC1jb2xvcix3aGl0ZS1zcGFjZSx2ZXJ0aWNhbC1hbGlnbix0ZXh0LWFsaWdufVtjb2xzcGFuLHJvd3NwYW5dXCIscmVxdWlyZWRDb250ZW50OnksY29udGVudFRyYW5zZm9ybWF0aW9uczpbW3tlbGVtZW50OlwidGRcIixsZWZ0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0eWxlcy5iYWNrZ3JvdW5kJiZyLmJhY2tncm91bmQoYS5zdHlsZXMuYmFja2dyb3VuZCkuY29sb3J9LFxucmlnaHQ6ZnVuY3Rpb24oYSl7YS5zdHlsZXNbXCJiYWNrZ3JvdW5kLWNvbG9yXCJdPXIuYmFja2dyb3VuZChhLnN0eWxlcy5iYWNrZ3JvdW5kKS5jb2xvcn19LHtlbGVtZW50OlwidGRcIixjaGVjazpcInRke3ZlcnRpY2FsLWFsaWdufVwiLGxlZnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuYXR0cmlidXRlcyYmYS5hdHRyaWJ1dGVzLnZhbGlnbn0scmlnaHQ6ZnVuY3Rpb24oYSl7YS5zdHlsZXNbXCJ2ZXJ0aWNhbC1hbGlnblwiXT1hLmF0dHJpYnV0ZXMudmFsaWduO2RlbGV0ZSBhLmF0dHJpYnV0ZXMudmFsaWdufX1dLFt7ZWxlbWVudDpcInRyXCIsY2hlY2s6XCJ0ZHtoZWlnaHR9XCIsbGVmdDpmdW5jdGlvbihhKXtyZXR1cm4gYS5zdHlsZXMmJmEuc3R5bGVzLmhlaWdodH0scmlnaHQ6ZnVuY3Rpb24oYSl7Q0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaChhLmNoaWxkcmVuLGZ1bmN0aW9uKGIpe2IubmFtZSBpbnt0ZDoxLHRoOjF9JiYoYi5hdHRyaWJ1dGVzW1wiY2tlLXJvdy1oZWlnaHRcIl09YS5zdHlsZXMuaGVpZ2h0KX0pO1xuZGVsZXRlIGEuc3R5bGVzLmhlaWdodH19XSxbe2VsZW1lbnQ6XCJ0ZFwiLGNoZWNrOlwidGR7aGVpZ2h0fVwiLGxlZnQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9YS5hdHRyaWJ1dGVzKSYmYVtcImNrZS1yb3ctaGVpZ2h0XCJdfSxyaWdodDpmdW5jdGlvbihhKXthLnN0eWxlcy5oZWlnaHQ9YS5hdHRyaWJ1dGVzW1wiY2tlLXJvdy1oZWlnaHRcIl07ZGVsZXRlIGEuYXR0cmlidXRlc1tcImNrZS1yb3ctaGVpZ2h0XCJdfX1dXX0pKSk7Q0tFRElUT1IuZGlhbG9nLmFkZChcImNlbGxQcm9wZXJ0aWVzXCIsdGhpcy5wYXRoK1wiZGlhbG9ncy90YWJsZUNlbGwuanNcIik7ZyhcInJvd0RlbGV0ZVwiLGMoe3JlcXVpcmVkQ29udGVudDpcInRhYmxlXCIsZXhlYzpmdW5jdGlvbihhKXthPWEuZ2V0U2VsZWN0aW9uKCk7KGE9ZShhKSkmJmgoYSl9fSkpO2coXCJyb3dJbnNlcnRCZWZvcmVcIixjKHtyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLGV4ZWM6ZnVuY3Rpb24oYil7Yj1iLmdldFNlbGVjdGlvbigpO2I9YShiKTtmKGIsITApfX0pKTtcbmcoXCJyb3dJbnNlcnRBZnRlclwiLGMoe3JlcXVpcmVkQ29udGVudDpcInRhYmxlXCIsZXhlYzpmdW5jdGlvbihiKXtiPWIuZ2V0U2VsZWN0aW9uKCk7Yj1hKGIpO2YoYil9fSkpO2coXCJjb2x1bW5EZWxldGVcIixjKHtyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLGV4ZWM6ZnVuY3Rpb24oYSl7YT1hLmdldFNlbGVjdGlvbigpOyhhPWwoYSkpJiZoKGEsITApfX0pKTtnKFwiY29sdW1uSW5zZXJ0QmVmb3JlXCIsYyh7cmVxdWlyZWRDb250ZW50OlwidGFibGVcIixleGVjOmZ1bmN0aW9uKGIpe2I9Yi5nZXRTZWxlY3Rpb24oKTtiPWEoYik7ayhiLCEwKX19KSk7ZyhcImNvbHVtbkluc2VydEFmdGVyXCIsYyh7cmVxdWlyZWRDb250ZW50OlwidGFibGVcIixleGVjOmZ1bmN0aW9uKGIpe2I9Yi5nZXRTZWxlY3Rpb24oKTtiPWEoYik7ayhiKX19KSk7ZyhcImNlbGxEZWxldGVcIixjKHtyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLGV4ZWM6ZnVuY3Rpb24oYSl7YT1hLmdldFNlbGVjdGlvbigpO2QoYSl9fSkpO2coXCJjZWxsTWVyZ2VcIixcbmMoe2FsbG93ZWRDb250ZW50OlwidGRbY29sc3Bhbixyb3dzcGFuXVwiLHJlcXVpcmVkQ29udGVudDpcInRkW2NvbHNwYW4scm93c3Bhbl1cIixleGVjOmZ1bmN0aW9uKGEsYil7Yi5jZWxsPW4oYS5nZXRTZWxlY3Rpb24oKSk7aChiLmNlbGwsITApfX0pKTtnKFwiY2VsbE1lcmdlUmlnaHRcIixjKHthbGxvd2VkQ29udGVudDpcInRkW2NvbHNwYW5dXCIscmVxdWlyZWRDb250ZW50OlwidGRbY29sc3Bhbl1cIixleGVjOmZ1bmN0aW9uKGEsYil7Yi5jZWxsPW4oYS5nZXRTZWxlY3Rpb24oKSxcInJpZ2h0XCIpO2goYi5jZWxsLCEwKX19KSk7ZyhcImNlbGxNZXJnZURvd25cIixjKHthbGxvd2VkQ29udGVudDpcInRkW3Jvd3NwYW5dXCIscmVxdWlyZWRDb250ZW50OlwidGRbcm93c3Bhbl1cIixleGVjOmZ1bmN0aW9uKGEsYil7Yi5jZWxsPW4oYS5nZXRTZWxlY3Rpb24oKSxcImRvd25cIik7aChiLmNlbGwsITApfX0pKTtnKFwiY2VsbFZlcnRpY2FsU3BsaXRcIixjKHthbGxvd2VkQ29udGVudDpcInRkW3Jvd3NwYW5dXCIscmVxdWlyZWRDb250ZW50OlwidGRbcm93c3Bhbl1cIixcbmV4ZWM6ZnVuY3Rpb24oYSl7aCh4KGEuZ2V0U2VsZWN0aW9uKCkpKX19KSk7ZyhcImNlbGxIb3Jpem9udGFsU3BsaXRcIixjKHthbGxvd2VkQ29udGVudDpcInRkW2NvbHNwYW5dXCIscmVxdWlyZWRDb250ZW50OlwidGRbY29sc3Bhbl1cIixleGVjOmZ1bmN0aW9uKGEpe2godyhhLmdldFNlbGVjdGlvbigpKSl9fSkpO2coXCJjZWxsSW5zZXJ0QmVmb3JlXCIsYyh7cmVxdWlyZWRDb250ZW50OlwidGFibGVcIixleGVjOmZ1bmN0aW9uKGEpe2E9YS5nZXRTZWxlY3Rpb24oKTttKGEsITApfX0pKTtnKFwiY2VsbEluc2VydEFmdGVyXCIsYyh7cmVxdWlyZWRDb250ZW50OlwidGFibGVcIixleGVjOmZ1bmN0aW9uKGEpe2E9YS5nZXRTZWxlY3Rpb24oKTttKGEpfX0pKTtiLmFkZE1lbnVJdGVtcyYmYi5hZGRNZW51SXRlbXMoe3RhYmxlY2VsbDp7bGFiZWw6cS5jZWxsLm1lbnUsZ3JvdXA6XCJ0YWJsZWNlbGxcIixvcmRlcjoxLGdldEl0ZW1zOmZ1bmN0aW9uKCl7dmFyIGQ9Yi5nZXRTZWxlY3Rpb24oKSxjPWEoZCksZD1cbnt0YWJsZWNlbGxfaW5zZXJ0QmVmb3JlOkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZWNlbGxfaW5zZXJ0QWZ0ZXI6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHRhYmxlY2VsbF9kZWxldGU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHRhYmxlY2VsbF9tZXJnZTpuKGQsbnVsbCwhMCk/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHRhYmxlY2VsbF9tZXJnZV9yaWdodDpuKGQsXCJyaWdodFwiLCEwKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsdGFibGVjZWxsX21lcmdlX2Rvd246bihkLFwiZG93blwiLCEwKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsdGFibGVjZWxsX3NwbGl0X3ZlcnRpY2FsOngoZCwhMCk/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHRhYmxlY2VsbF9zcGxpdF9ob3Jpem9udGFsOncoZCwhMCk/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOlxuQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUR9O2IuZmlsdGVyLmNoZWNrKHkpJiYoZC50YWJsZWNlbGxfcHJvcGVydGllcz0wPGMubGVuZ3RoP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCk7cmV0dXJuIGR9fSx0YWJsZWNlbGxfaW5zZXJ0QmVmb3JlOntsYWJlbDpxLmNlbGwuaW5zZXJ0QmVmb3JlLGdyb3VwOlwidGFibGVjZWxsXCIsY29tbWFuZDpcImNlbGxJbnNlcnRCZWZvcmVcIixvcmRlcjo1fSx0YWJsZWNlbGxfaW5zZXJ0QWZ0ZXI6e2xhYmVsOnEuY2VsbC5pbnNlcnRBZnRlcixncm91cDpcInRhYmxlY2VsbFwiLGNvbW1hbmQ6XCJjZWxsSW5zZXJ0QWZ0ZXJcIixvcmRlcjoxMH0sdGFibGVjZWxsX2RlbGV0ZTp7bGFiZWw6cS5jZWxsLmRlbGV0ZUNlbGwsZ3JvdXA6XCJ0YWJsZWNlbGxcIixjb21tYW5kOlwiY2VsbERlbGV0ZVwiLG9yZGVyOjE1fSx0YWJsZWNlbGxfbWVyZ2U6e2xhYmVsOnEuY2VsbC5tZXJnZSxncm91cDpcInRhYmxlY2VsbFwiLGNvbW1hbmQ6XCJjZWxsTWVyZ2VcIixcbm9yZGVyOjE2fSx0YWJsZWNlbGxfbWVyZ2VfcmlnaHQ6e2xhYmVsOnEuY2VsbC5tZXJnZVJpZ2h0LGdyb3VwOlwidGFibGVjZWxsXCIsY29tbWFuZDpcImNlbGxNZXJnZVJpZ2h0XCIsb3JkZXI6MTd9LHRhYmxlY2VsbF9tZXJnZV9kb3duOntsYWJlbDpxLmNlbGwubWVyZ2VEb3duLGdyb3VwOlwidGFibGVjZWxsXCIsY29tbWFuZDpcImNlbGxNZXJnZURvd25cIixvcmRlcjoxOH0sdGFibGVjZWxsX3NwbGl0X2hvcml6b250YWw6e2xhYmVsOnEuY2VsbC5zcGxpdEhvcml6b250YWwsZ3JvdXA6XCJ0YWJsZWNlbGxcIixjb21tYW5kOlwiY2VsbEhvcml6b250YWxTcGxpdFwiLG9yZGVyOjE5fSx0YWJsZWNlbGxfc3BsaXRfdmVydGljYWw6e2xhYmVsOnEuY2VsbC5zcGxpdFZlcnRpY2FsLGdyb3VwOlwidGFibGVjZWxsXCIsY29tbWFuZDpcImNlbGxWZXJ0aWNhbFNwbGl0XCIsb3JkZXI6MjB9LHRhYmxlY2VsbF9wcm9wZXJ0aWVzOntsYWJlbDpxLmNlbGwudGl0bGUsZ3JvdXA6XCJ0YWJsZWNlbGxwcm9wZXJ0aWVzXCIsY29tbWFuZDpcImNlbGxQcm9wZXJ0aWVzXCIsXG5vcmRlcjoyMX0sdGFibGVyb3c6e2xhYmVsOnEucm93Lm1lbnUsZ3JvdXA6XCJ0YWJsZXJvd1wiLG9yZGVyOjEsZ2V0SXRlbXM6ZnVuY3Rpb24oKXtyZXR1cm57dGFibGVyb3dfaW5zZXJ0QmVmb3JlOkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZXJvd19pbnNlcnRBZnRlcjpDS0VESVRPUi5UUklTVEFURV9PRkYsdGFibGVyb3dfZGVsZXRlOkNLRURJVE9SLlRSSVNUQVRFX09GRn19fSx0YWJsZXJvd19pbnNlcnRCZWZvcmU6e2xhYmVsOnEucm93Lmluc2VydEJlZm9yZSxncm91cDpcInRhYmxlcm93XCIsY29tbWFuZDpcInJvd0luc2VydEJlZm9yZVwiLG9yZGVyOjV9LHRhYmxlcm93X2luc2VydEFmdGVyOntsYWJlbDpxLnJvdy5pbnNlcnRBZnRlcixncm91cDpcInRhYmxlcm93XCIsY29tbWFuZDpcInJvd0luc2VydEFmdGVyXCIsb3JkZXI6MTB9LHRhYmxlcm93X2RlbGV0ZTp7bGFiZWw6cS5yb3cuZGVsZXRlUm93LGdyb3VwOlwidGFibGVyb3dcIixjb21tYW5kOlwicm93RGVsZXRlXCIsb3JkZXI6MTV9LFxudGFibGVjb2x1bW46e2xhYmVsOnEuY29sdW1uLm1lbnUsZ3JvdXA6XCJ0YWJsZWNvbHVtblwiLG9yZGVyOjEsZ2V0SXRlbXM6ZnVuY3Rpb24oKXtyZXR1cm57dGFibGVjb2x1bW5faW5zZXJ0QmVmb3JlOkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZWNvbHVtbl9pbnNlcnRBZnRlcjpDS0VESVRPUi5UUklTVEFURV9PRkYsdGFibGVjb2x1bW5fZGVsZXRlOkNLRURJVE9SLlRSSVNUQVRFX09GRn19fSx0YWJsZWNvbHVtbl9pbnNlcnRCZWZvcmU6e2xhYmVsOnEuY29sdW1uLmluc2VydEJlZm9yZSxncm91cDpcInRhYmxlY29sdW1uXCIsY29tbWFuZDpcImNvbHVtbkluc2VydEJlZm9yZVwiLG9yZGVyOjV9LHRhYmxlY29sdW1uX2luc2VydEFmdGVyOntsYWJlbDpxLmNvbHVtbi5pbnNlcnRBZnRlcixncm91cDpcInRhYmxlY29sdW1uXCIsY29tbWFuZDpcImNvbHVtbkluc2VydEFmdGVyXCIsb3JkZXI6MTB9LHRhYmxlY29sdW1uX2RlbGV0ZTp7bGFiZWw6cS5jb2x1bW4uZGVsZXRlQ29sdW1uLGdyb3VwOlwidGFibGVjb2x1bW5cIixcbmNvbW1hbmQ6XCJjb2x1bW5EZWxldGVcIixvcmRlcjoxNX19KTtiLmNvbnRleHRNZW51JiZiLmNvbnRleHRNZW51LmFkZExpc3RlbmVyKGZ1bmN0aW9uKGEsYixkKXtyZXR1cm4oYT1kLmNvbnRhaW5zKHt0ZDoxLHRoOjF9LDEpKSYmIWEuaXNSZWFkT25seSgpP3t0YWJsZWNlbGw6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHRhYmxlcm93OkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZWNvbHVtbjpDS0VESVRPUi5UUklTVEFURV9PRkZ9Om51bGx9KX0sZ2V0Q2VsbENvbEluZGV4OmIsaW5zZXJ0Um93OmYsaW5zZXJ0Q29sdW1uOmssZ2V0U2VsZWN0ZWRDZWxsczphfTtDS0VESVRPUi5wbHVnaW5zLmFkZChcInRhYmxldG9vbHNcIixDS0VESVRPUi5wbHVnaW5zLnRhYmxldG9vbHMpfSgpLENLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXA9ZnVuY3Rpb24oYSxmLGUsYixjKXthPWEuJC5yb3dzO2U9ZXx8MDtiPVwibnVtYmVyXCI9PT10eXBlb2YgYj9iOmEubGVuZ3RoLTE7Yz1cIm51bWJlclwiPT09dHlwZW9mIGM/XG5jOi0xO3ZhciBrPS0xLGw9W107Zm9yKGY9Znx8MDtmPD1iO2YrKyl7aysrOyFsW2tdJiYobFtrXT1bXSk7Zm9yKHZhciBtPS0xLGQ9ZTtkPD0oLTE9PT1jP2FbZl0uY2VsbHMubGVuZ3RoLTE6Yyk7ZCsrKXt2YXIgaD1hW2ZdLmNlbGxzW2RdO2lmKCFoKWJyZWFrO2ZvcihtKys7bFtrXVttXTspbSsrO2Zvcih2YXIgZz1pc05hTihoLmNvbFNwYW4pPzE6aC5jb2xTcGFuLGg9aXNOYU4oaC5yb3dTcGFuKT8xOmgucm93U3BhbixuPTA7bjxoJiYhKGYrbj5iKTtuKyspe2xbaytuXXx8KGxbaytuXT1bXSk7Zm9yKHZhciB3PTA7dzxnO3crKylsW2srbl1bbSt3XT1hW2ZdLmNlbGxzW2RdfW0rPWctMTtpZigtMSE9PWMmJm0+PWMpYnJlYWt9fXJldHVybiBsfSxDS0VESVRPUi5jb25maWcudGFibGV0b29sc19zY29wZWRIZWFkZXJzPSExLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gQ0tFRElUT1IucGx1Z2lucy53aWRnZXQmJkNLRURJVE9SLnBsdWdpbnMud2lkZ2V0LmlzRG9tV2lkZ2V0KGEpfVxuZnVuY3Rpb24gZihhLGIpe3ZhciBjPWEuZ2V0QXNjZW5kYW50KFwidGFibGVcIiksZT1iLmdldEFzY2VuZGFudChcInRhYmxlXCIpLGY9Q0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcChjKSxnPWQoYSksaD1kKGIpLGs9W10sbD17fSxtLG47Yy5jb250YWlucyhlKSYmKGI9Yi5nZXRBc2NlbmRhbnQoe3RkOjEsdGg6MX0pLGg9ZChiKSk7Zz5oJiYoYz1nLGc9aCxoPWMsYz1hLGE9YixiPWMpO2ZvcihjPTA7YzxmW2ddLmxlbmd0aDtjKyspaWYoYS4kPT09ZltnXVtjXSl7bT1jO2JyZWFrfWZvcihjPTA7YzxmW2hdLmxlbmd0aDtjKyspaWYoYi4kPT09ZltoXVtjXSl7bj1jO2JyZWFrfW0+biYmKGM9bSxtPW4sbj1jKTtmb3IoYz1nO2M8PWg7YysrKWZvcihnPW07Zzw9bjtnKyspZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZltjXVtnXSksZS4kJiYhZS5nZXRDdXN0b21EYXRhKFwic2VsZWN0ZWRfY2VsbFwiKSYmKGsucHVzaChlKSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIobCxlLFxuXCJzZWxlY3RlZF9jZWxsXCIsITApKTtDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMobCk7cmV0dXJuIGt9ZnVuY3Rpb24gZShhKXtyZXR1cm4oYT1hLmVkaXRhYmxlKCkuZmluZE9uZShcIi5ja2VfdGFibGUtZmFrZWQtc2VsZWN0aW9uXCIpKSYmYS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKX1mdW5jdGlvbiBiKGEsYil7dmFyIGQ9YS5lZGl0YWJsZSgpLmZpbmQoXCIuY2tlX3RhYmxlLWZha2VkLXNlbGVjdGlvblwiKSxjPWEuZWRpdGFibGUoKS5maW5kT25lKFwiW2RhdGEtY2tlLXRhYmxlLWZha2VkLXNlbGVjdGlvbi10YWJsZV1cIiksZTthLmZpcmUoXCJsb2NrU25hcHNob3RcIik7YS5lZGl0YWJsZSgpLnJlbW92ZUNsYXNzKFwiY2tlX3RhYmxlLWZha2VkLXNlbGVjdGlvbi1lZGl0b3JcIik7Zm9yKGU9MDtlPGQuY291bnQoKTtlKyspZC5nZXRJdGVtKGUpLnJlbW92ZUNsYXNzKFwiY2tlX3RhYmxlLWZha2VkLXNlbGVjdGlvblwiKTtjJiZjLmRhdGEoXCJja2UtdGFibGUtZmFrZWQtc2VsZWN0aW9uLXRhYmxlXCIsXG4hMSk7YS5maXJlKFwidW5sb2NrU25hcHNob3RcIik7YiYmKHA9e2FjdGl2ZTohMX0sYS5nZXRTZWxlY3Rpb24oKS5pc0luVGFibGUoKSYmYS5nZXRTZWxlY3Rpb24oKS5yZXNldCgpKX1mdW5jdGlvbiBjKGEsYil7dmFyIGQ9W10sYyxlO2ZvcihlPTA7ZTxiLmxlbmd0aDtlKyspYz1hLmNyZWF0ZVJhbmdlKCksYy5zZXRTdGFydEJlZm9yZShiW2VdKSxjLnNldEVuZEFmdGVyKGJbZV0pLGQucHVzaChjKTthLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhkKX1mdW5jdGlvbiBrKGEpe3ZhciBiPWEuZWRpdGFibGUoKS5maW5kKFwiLmNrZV90YWJsZS1mYWtlZC1zZWxlY3Rpb25cIik7MT5iLmNvdW50KCl8fChiPWYoYi5nZXRJdGVtKDApLGIuZ2V0SXRlbShiLmNvdW50KCktMSkpLGMoYSxiKSl9ZnVuY3Rpb24gbChkLGUsZyl7dmFyIGg9eihkLmdldFNlbGVjdGlvbighMCkpO2U9ZS5pcyhcInRhYmxlXCIpP251bGw6ZTt2YXIgazsoaz1wLmFjdGl2ZSYmIXAuZmlyc3QpJiYhKGs9ZSkmJihrPWQuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKCksXG5rPTE8aC5sZW5ndGh8fGtbMF0mJiFrWzBdLmNvbGxhcHNlZD8hMDohMSk7aWYoaylwLmZpcnN0PWV8fGhbMF0scC5kaXJ0eT1lPyExOjEhPT1oLmxlbmd0aDtlbHNlIGlmKHAuYWN0aXZlJiZlJiZwLmZpcnN0LmdldEFzY2VuZGFudChcInRhYmxlXCIpLmVxdWFscyhlLmdldEFzY2VuZGFudChcInRhYmxlXCIpKSl7aD1mKHAuZmlyc3QsZSk7aWYoIXAuZGlydHkmJjE9PT1oLmxlbmd0aCYmIWEoZy5kYXRhLmdldFRhcmdldCgpKSlyZXR1cm4gYihkLFwibW91c2V1cFwiPT09Zy5uYW1lKTtwLmRpcnR5PSEwO3AubGFzdD1lO2MoZCxoKX19ZnVuY3Rpb24gbShhKXt2YXIgZD0oYT1hLmVkaXRvcnx8YS5zZW5kZXIuZWRpdG9yKSYmYS5nZXRTZWxlY3Rpb24oKSxjPWQmJmQuZ2V0UmFuZ2VzKCl8fFtdLGU9YyYmY1swXS5nZXRFbmNsb3NlZE5vZGUoKSxlPWUmJmUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZlLmlzKFwiaW1nXCIpLGY7aWYoZCYmKGIoYSksZC5pc0luVGFibGUoKSYmZC5pc0Zha2UpKWlmKGUpYS5nZXRTZWxlY3Rpb24oKS5yZXNldCgpO1xuZWxzZSBpZighY1swXS5fZ2V0VGFibGVFbGVtZW50KHt0YWJsZToxfSkuaGFzQXR0cmlidXRlKFwiZGF0YS1ja2UtdGFibGVzZWxlY3Rpb24taWdub3JlZFwiKSl7MT09PWMubGVuZ3RoJiZjWzBdLl9nZXRUYWJsZUVsZW1lbnQoKSYmY1swXS5fZ2V0VGFibGVFbGVtZW50KCkuaXMoXCJ0YWJsZVwiKSYmKGY9Y1swXS5fZ2V0VGFibGVFbGVtZW50KCkpO2Y9eihkLGYpO2EuZmlyZShcImxvY2tTbmFwc2hvdFwiKTtmb3IoZD0wO2Q8Zi5sZW5ndGg7ZCsrKWZbZF0uYWRkQ2xhc3MoXCJja2VfdGFibGUtZmFrZWQtc2VsZWN0aW9uXCIpOzA8Zi5sZW5ndGgmJihhLmVkaXRhYmxlKCkuYWRkQ2xhc3MoXCJja2VfdGFibGUtZmFrZWQtc2VsZWN0aW9uLWVkaXRvclwiKSxmWzBdLmdldEFzY2VuZGFudChcInRhYmxlXCIpLmRhdGEoXCJja2UtdGFibGUtZmFrZWQtc2VsZWN0aW9uLXRhYmxlXCIsXCJcIikpO2EuZmlyZShcInVubG9ja1NuYXBzaG90XCIpfX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLmdldEFzY2VuZGFudChcInRyXCIsXG4hMCkuJC5yb3dJbmRleH1mdW5jdGlvbiBoKGQpe2Z1bmN0aW9uIGMoYSxiKXtyZXR1cm4gYSYmYj9hLmVxdWFscyhiKXx8YS5jb250YWlucyhiKXx8Yi5jb250YWlucyhhKXx8YS5nZXRDb21tb25BbmNlc3RvcihiKS5pcyh0KTohMX1mdW5jdGlvbiBmKGEpe3JldHVybiFhLmdldEFzY2VuZGFudChcInRhYmxlXCIsITApJiZhLmdldERvY3VtZW50KCkuZXF1YWxzKG0uZG9jdW1lbnQpfWZ1bmN0aW9uIGcoYSxiLGQsYyl7aWYoXCJtb3VzZWRvd25cIj09PWEubmFtZSYmKENLRURJVE9SLnRvb2xzLmdldE1vdXNlQnV0dG9uKGEpPT09Q0tFRElUT1IuTU9VU0VfQlVUVE9OX0xFRlR8fCFjKSlyZXR1cm4hMDtpZihiPWEubmFtZT09PShDS0VESVRPUi5lbnYuZ2Vja28/XCJtb3VzZWRvd25cIjpcIm1vdXNldXBcIikmJiFmKGEuZGF0YS5nZXRUYXJnZXQoKSkpYT1hLmRhdGEuZ2V0VGFyZ2V0KCkuZ2V0QXNjZW5kYW50KHt0ZDoxLHRoOjF9LCEwKSxiPSEoYSYmYS5oYXNDbGFzcyhcImNrZV90YWJsZS1mYWtlZC1zZWxlY3Rpb25cIikpO1xucmV0dXJuIGJ9aWYoZC5kYXRhLmdldFRhcmdldCgpLmdldE5hbWUmJihcIm1vdXNldXBcIj09PWQubmFtZXx8IWEoZC5kYXRhLmdldFRhcmdldCgpKSkpe3ZhciBtPWQuZWRpdG9yfHxkLmxpc3RlbmVyRGF0YS5lZGl0b3Isbj1tLmdldFNlbGVjdGlvbigxKSxxPWUobSkscj1kLmRhdGEuZ2V0VGFyZ2V0KCksdz1yJiZyLmdldEFzY2VuZGFudCh7dGQ6MSx0aDoxfSwhMCkscj1yJiZyLmdldEFzY2VuZGFudChcInRhYmxlXCIsITApLHQ9e3RhYmxlOjEsdGhlYWQ6MSx0Ym9keToxLHRmb290OjEsdHI6MSx0ZDoxLHRoOjF9O3ImJnIuaGFzQXR0cmlidXRlKFwiZGF0YS1ja2UtdGFibGVzZWxlY3Rpb24taWdub3JlZFwiKXx8KGcoZCxuLHEscikmJmIobSwhMCksIXAuYWN0aXZlJiZcIm1vdXNlZG93blwiPT09ZC5uYW1lJiZDS0VESVRPUi50b29scy5nZXRNb3VzZUJ1dHRvbihkKT09PUNLRURJVE9SLk1PVVNFX0JVVFRPTl9MRUZUJiZyJiYocD17YWN0aXZlOiEwfSxDS0VESVRPUi5kb2N1bWVudC5vbihcIm1vdXNldXBcIixcbmgsbnVsbCx7ZWRpdG9yOm19KSksKHd8fHIpJiZsKG0sd3x8cixkKSxcIm1vdXNldXBcIj09PWQubmFtZSYmKENLRURJVE9SLnRvb2xzLmdldE1vdXNlQnV0dG9uKGQpPT09Q0tFRElUT1IuTU9VU0VfQlVUVE9OX0xFRlQmJihmKGQuZGF0YS5nZXRUYXJnZXQoKSl8fGMocSxyKSkmJmsobSkscD17YWN0aXZlOiExfSxDS0VESVRPUi5kb2N1bWVudC5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixoKSkpfX1mdW5jdGlvbiBnKGEpe3ZhciBiPWEuZGF0YS5nZXRUYXJnZXQoKS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLCEwKTtwLmFjdGl2ZT0hMTtiJiZiLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXRhYmxlc2VsZWN0aW9uLWlnbm9yZWRcIil8fChhPWEuZGF0YS5nZXRUYXJnZXQoKS5nZXRBc2NlbmRhbnQoe3RkOjEsdGg6MX0sITApLCFhfHxhLmhhc0NsYXNzKFwiY2tlX3RhYmxlLWZha2VkLXNlbGVjdGlvblwiKSl9ZnVuY3Rpb24gbihhLGIpe2Z1bmN0aW9uIGQoYSl7YS5jYW5jZWwoKX12YXIgYz1hLmdldFNlbGVjdGlvbigpLFxuZT1jLmNyZWF0ZUJvb2ttYXJrcygpLGY9YS5kb2N1bWVudCxnPWEuY3JlYXRlUmFuZ2UoKSxoPWYuZ2V0RG9jdW1lbnRFbGVtZW50KCkuJCxrPUNLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbixsPWEuYmxvY2tsZXNzfHxDS0VESVRPUi5lbnYuaWU/XCJzcGFuXCI6XCJkaXZcIixtLG4scCxxO2YuZ2V0QnlJZChcImNrZV90YWJsZV9jb3B5YmluXCIpfHwobT1mLmNyZWF0ZUVsZW1lbnQobCksbj1mLmNyZWF0ZUVsZW1lbnQobCksbi5zZXRBdHRyaWJ1dGVzKHtpZDpcImNrZV90YWJsZV9jb3B5YmluXCIsXCJkYXRhLWNrZS10ZW1wXCI6XCIxXCJ9KSxtLnNldFN0eWxlcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHdpZHRoOlwiMXB4XCIsaGVpZ2h0OlwiMXB4XCIsb3ZlcmZsb3c6XCJoaWRkZW5cIn0pLG0uc2V0U3R5bGUoXCJsdHJcIj09YS5jb25maWcuY29udGVudHNMYW5nRGlyZWN0aW9uP1wibGVmdFwiOlwicmlnaHRcIixcIi01MDAwcHhcIiksbS5zZXRIdG1sKGEuZ2V0U2VsZWN0ZWRIdG1sKCEwKSksYS5maXJlKFwibG9ja1NuYXBzaG90XCIpLFxubi5hcHBlbmQobSksYS5lZGl0YWJsZSgpLmFwcGVuZChuKSxxPWEub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixkLG51bGwsbnVsbCwwKSxrJiYocD1oLnNjcm9sbFRvcCksZy5zZWxlY3ROb2RlQ29udGVudHMobSksZy5zZWxlY3QoKSxrJiYoaC5zY3JvbGxUb3A9cCksc2V0VGltZW91dChmdW5jdGlvbigpe24ucmVtb3ZlKCk7Yy5zZWxlY3RCb29rbWFya3MoZSk7cS5yZW1vdmVMaXN0ZW5lcigpO2EuZmlyZShcInVubG9ja1NuYXBzaG90XCIpO2ImJihhLmV4dHJhY3RTZWxlY3RlZEh0bWwoKSxhLmZpcmUoXCJzYXZlU25hcHNob3RcIikpfSwxMDApKX1mdW5jdGlvbiB3KGEpe3ZhciBiPWEuZWRpdG9yfHxhLnNlbmRlci5lZGl0b3IsZD1iLmdldFNlbGVjdGlvbigpO2QuaXNJblRhYmxlKCkmJihkLmdldFJhbmdlcygpWzBdLl9nZXRUYWJsZUVsZW1lbnQoe3RhYmxlOjF9KS5oYXNBdHRyaWJ1dGUoXCJkYXRhLWNrZS10YWJsZXNlbGVjdGlvbi1pZ25vcmVkXCIpfHxuKGIsXCJjdXRcIj09PWEubmFtZSkpfVxuZnVuY3Rpb24geChhKXt0aGlzLl9yZXNldCgpO2EmJnRoaXMuc2V0U2VsZWN0ZWRDZWxscyhhKX1mdW5jdGlvbiByKGEsYixkKXthLm9uKFwiYmVmb3JlQ29tbWFuZEV4ZWNcIixmdW5jdGlvbihkKXstMSE9PUNLRURJVE9SLnRvb2xzLmFycmF5LmluZGV4T2YoYixkLmRhdGEubmFtZSkmJihkLmRhdGEuc2VsZWN0ZWRDZWxscz16KGEuZ2V0U2VsZWN0aW9uKCkpKX0pO2Eub24oXCJhZnRlckNvbW1hbmRFeGVjXCIsZnVuY3Rpb24oYyl7LTEhPT1DS0VESVRPUi50b29scy5hcnJheS5pbmRleE9mKGIsYy5kYXRhLm5hbWUpJiZkKGEsYy5kYXRhKX0sbnVsbCxudWxsLDkpfXZhciBwPXthY3RpdmU6ITF9LHUseixxLEEseTt4LnByb3RvdHlwZT17fTt4LnByb3RvdHlwZS5fcmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmNlbGxzPXtmaXJzdDpudWxsLGxhc3Q6bnVsbCxhbGw6W119O3RoaXMucm93cz17Zmlyc3Q6bnVsbCxsYXN0Om51bGx9fTt4LnByb3RvdHlwZS5zZXRTZWxlY3RlZENlbGxzPWZ1bmN0aW9uKGEpe3RoaXMuX3Jlc2V0KCk7XG5hPWEuc2xpY2UoMCk7dGhpcy5fYXJyYXlTb3J0QnlET01PcmRlcihhKTt0aGlzLmNlbGxzLmFsbD1hO3RoaXMuY2VsbHMuZmlyc3Q9YVswXTt0aGlzLmNlbGxzLmxhc3Q9YVthLmxlbmd0aC0xXTt0aGlzLnJvd3MuZmlyc3Q9YVswXS5nZXRBc2NlbmRhbnQoXCJ0clwiKTt0aGlzLnJvd3MubGFzdD10aGlzLmNlbGxzLmxhc3QuZ2V0QXNjZW5kYW50KFwidHJcIil9O3gucHJvdG90eXBlLmdldFRhYmxlTWFwPWZ1bmN0aW9uKCl7dmFyIGE9cSh0aGlzLmNlbGxzLmZpcnN0KSxiO2E6e2I9dGhpcy5jZWxscy5sYXN0O3ZhciBjPWIuZ2V0QXNjZW5kYW50KFwidGFibGVcIiksZT1kKGIpLGM9Q0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcChjKSxmO2ZvcihmPTA7ZjxjW2VdLmxlbmd0aDtmKyspaWYoKG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChjW2VdW2ZdKSkuZXF1YWxzKGIpKXtiPWY7YnJlYWsgYX1iPXZvaWQgMH1yZXR1cm4gQ0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcCh0aGlzLl9nZXRUYWJsZSgpLFxuZCh0aGlzLnJvd3MuZmlyc3QpLGEsZCh0aGlzLnJvd3MubGFzdCksYil9O3gucHJvdG90eXBlLl9nZXRUYWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJvd3MuZmlyc3QuZ2V0QXNjZW5kYW50KFwidGFibGVcIil9O3gucHJvdG90eXBlLmluc2VydFJvdz1mdW5jdGlvbihhLGIsZCl7aWYoXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhKWE9MTtlbHNlIGlmKDA+PWEpcmV0dXJuO2Zvcih2YXIgYz10aGlzLmNlbGxzLmZpcnN0LiQuY2VsbEluZGV4LGU9dGhpcy5jZWxscy5sYXN0LiQuY2VsbEluZGV4LGY9ZD9bXTp0aGlzLmNlbGxzLmFsbCxnLGg9MDtoPGE7aCsrKWc9QShkP3RoaXMuY2VsbHMuYWxsOmYsYiksZz1DS0VESVRPUi50b29scy5hcnJheS5maWx0ZXIoZy5maW5kKFwidGQsIHRoXCIpLnRvQXJyYXkoKSxmdW5jdGlvbihhKXtyZXR1cm4gZD8hMDphLiQuY2VsbEluZGV4Pj1jJiZhLiQuY2VsbEluZGV4PD1lfSksZj1iP2cuY29uY2F0KGYpOmYuY29uY2F0KGcpO3RoaXMuc2V0U2VsZWN0ZWRDZWxscyhmKX07XG54LnByb3RvdHlwZS5pbnNlcnRDb2x1bW49ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXthPWQoYSk7cmV0dXJuIGE+PWYmJmE8PWd9aWYoXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhKWE9MTtlbHNlIGlmKDA+PWEpcmV0dXJuO2Zvcih2YXIgYz10aGlzLmNlbGxzLGU9Yy5hbGwsZj1kKGMuZmlyc3QpLGc9ZChjLmxhc3QpLGM9MDtjPGE7YysrKWU9ZS5jb25jYXQoQ0tFRElUT1IudG9vbHMuYXJyYXkuZmlsdGVyKHkoZSksYikpO3RoaXMuc2V0U2VsZWN0ZWRDZWxscyhlKX07eC5wcm90b3R5cGUuZW1wdHlDZWxscz1mdW5jdGlvbihhKXthPWF8fHRoaXMuY2VsbHMuYWxsO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWFbYl0uc2V0SHRtbChcIlwiKX07eC5wcm90b3R5cGUuX2FycmF5U29ydEJ5RE9NT3JkZXI9ZnVuY3Rpb24oYSl7YS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuZ2V0UG9zaXRpb24oYikmQ0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HPy0xOjF9KX07dmFyIHQ9e29uUGFzdGU6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXt2YXIgZD1cbmUuY3JlYXRlUmFuZ2UoKTtkLnNlbGVjdE5vZGVDb250ZW50cyhhKTtkLnNlbGVjdCgpfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsQ0tFRElUT1IudG9vbHMuYXJyYXkubWFwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RofSwwKSl9dmFyIGU9YS5lZGl0b3IsZz1lLmdldFNlbGVjdGlvbigpLGg9eihnKSxrPWcuaXNJblRhYmxlKCEwKSYmdGhpcy5pc0JvdW5kYXJ5U2VsZWN0aW9uKGcpLGw9dGhpcy5maW5kVGFibGVJblBhc3RlZENvbnRlbnQoZSxhLmRhdGEuZGF0YVZhbHVlKSxtLG47KGZ1bmN0aW9uKGEsYixkLGMpe2E9YS5nZXRSYW5nZXMoKTt2YXIgZT1hLmxlbmd0aCYmYVswXS5fZ2V0VGFibGVFbGVtZW50KHt0YWJsZToxfSk7aWYoIWIubGVuZ3RofHxlJiZlLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXRhYmxlc2VsZWN0aW9uLWlnbm9yZWRcIil8fGMmJiFkKXJldHVybiExO2lmKGI9IWMpKGI9YVswXSk/KGI9Yi5jbG9uZSgpLGIuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0VMRU1FTlQpLFxuYj0oYj1iLmdldEVuY2xvc2VkTm9kZSgpKSYmYi5pcyYmYi5pcyhDS0VESVRPUi5kdGQuJHRhYmxlQ29udGVudCkpOmI9dm9pZCAwLGI9IWI7cmV0dXJuIGI/ITE6ITB9KShnLGgsbCxrKSYmXCJkcm9wXCIhPT1hLmRhdGEubWV0aG9kJiYoaD1oWzBdLmdldEFzY2VuZGFudChcInRhYmxlXCIpLG09bmV3IHgoeihnLGgpKSxlLm9uY2UoXCJhZnRlclBhc3RlXCIsZnVuY3Rpb24oKXt2YXIgYTtpZihuKXthPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChuWzBdWzBdKTt2YXIgYj1uW24ubGVuZ3RoLTFdO2E9ZihhLG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChiW2IubGVuZ3RoLTFdKSl9ZWxzZSBhPW0uY2VsbHMuYWxsO2MoZSxhKX0pLGw/KGEuc3RvcCgpLGs/KG0uaW5zZXJ0Um93KDEsMT09PWssITApLGcuc2VsZWN0RWxlbWVudChtLnJvd3MuZmlyc3QpKToobS5lbXB0eUNlbGxzKCksYyhlLG0uY2VsbHMuYWxsKSksYT1tLmdldFRhYmxlTWFwKCksbj1DS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKGwpLFxubS5pbnNlcnRSb3cobi5sZW5ndGgtYS5sZW5ndGgpLG0uaW5zZXJ0Q29sdW1uKGQobiktZChhKSksYT1tLmdldFRhYmxlTWFwKCksdGhpcy5wYXN0ZVRhYmxlKG0sYSxuKSxlLmZpcmUoXCJzYXZlU25hcHNob3RcIiksc2V0VGltZW91dChmdW5jdGlvbigpe2UuZmlyZShcImFmdGVyUGFzdGVcIil9LDApKTooYihtLmNlbGxzLmZpcnN0KSxlLm9uY2UoXCJhZnRlclBhc3RlXCIsZnVuY3Rpb24oKXtlLmZpcmUoXCJsb2NrU25hcHNob3RcIik7bS5lbXB0eUNlbGxzKG0uY2VsbHMuYWxsLnNsaWNlKDEpKTtjKGUsbS5jZWxscy5hbGwpO2UuZmlyZShcInVubG9ja1NuYXBzaG90XCIpfSkpKX0saXNCb3VuZGFyeVNlbGVjdGlvbjpmdW5jdGlvbihhKXthPWEuZ2V0UmFuZ2VzKClbMF07dmFyIGI9YS5lbmRDb250YWluZXIuZ2V0QXNjZW5kYW50KFwidHJcIiwhMCk7aWYoYiYmYS5jb2xsYXBzZWQpe2lmKGEuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChiLENLRURJVE9SLlNUQVJUKSlyZXR1cm4gMTtpZihhLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoYixcbkNLRURJVE9SLkVORCkpcmV0dXJuIDJ9cmV0dXJuIDB9LGZpbmRUYWJsZUluUGFzdGVkQ29udGVudDpmdW5jdGlvbihhLGIpe3ZhciBkPWEuZGF0YVByb2Nlc3NvcixjPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImJvZHlcIik7ZHx8KGQ9bmV3IENLRURJVE9SLmh0bWxEYXRhUHJvY2Vzc29yKGEpKTtjLnNldEh0bWwoZC50b0h0bWwoYikse2ZpeEZvckJvZHk6ITF9KTtyZXR1cm4gMTxjLmdldENoaWxkQ291bnQoKT9udWxsOmMuZmluZE9uZShcInRhYmxlXCIpfSxwYXN0ZVRhYmxlOmZ1bmN0aW9uKGEsYixkKXt2YXIgYyxlPXEoYS5jZWxscy5maXJzdCksZj1hLl9nZXRUYWJsZSgpLGc9e30saCxrLGwsbTtmb3IobD0wO2w8ZC5sZW5ndGg7bCsrKWZvcihoPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChmLiQucm93c1thLnJvd3MuZmlyc3QuJC5yb3dJbmRleCtsXSksbT0wO208ZFtsXS5sZW5ndGg7bSsrKWlmKGs9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGRbbF1bbV0pLGM9YltsXSYmXG5iW2xdW21dP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChiW2xdW21dKTpudWxsLGsmJiFrLmdldEN1c3RvbURhdGEoXCJwcm9jZXNzZWRcIikpe2lmKGMmJmMuZ2V0UGFyZW50KCkpay5yZXBsYWNlKGMpO2Vsc2UgaWYoMD09PW18fGRbbF1bbS0xXSkoYz0wIT09bT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZFtsXVttLTFdKTpudWxsKSYmaC5lcXVhbHMoYy5nZXRQYXJlbnQoKSk/ay5pbnNlcnRBZnRlcihjKTowPGU/aC4kLmNlbGxzW2VdP2suaW5zZXJ0QWZ0ZXIobmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGguJC5jZWxsc1tlXSkpOmguYXBwZW5kKGspOmguYXBwZW5kKGssITApO0NLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihnLGssXCJwcm9jZXNzZWRcIiwhMCl9ZWxzZSBrLmdldEN1c3RvbURhdGEoXCJwcm9jZXNzZWRcIikmJmMmJmMucmVtb3ZlKCk7Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGcpfX07Q0tFRElUT1IucGx1Z2lucy50YWJsZXNlbGVjdGlvbj1cbntnZXRDZWxsc0JldHdlZW46ZixrZXlib2FyZEludGVncmF0aW9uOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7dmFyIGQ9YS5nZXRFbmNsb3NlZE5vZGUoKTtkJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgZC5pcyYmZC5pcyh7dGQ6MSx0aDoxfSk/ZC5zZXRUZXh0KFwiXCIpOmEuZGVsZXRlQ29udGVudHMoKTtDS0VESVRPUi50b29scy5hcnJheS5mb3JFYWNoKGEuX2ZpbmQoXCJ0ZFwiKSxmdW5jdGlvbihhKXthLmFwcGVuZEJvZ3VzKCl9KX12YXIgZD1hLmVkaXRhYmxlKCk7ZC5hdHRhY2hMaXN0ZW5lcihkLFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGQoYixjKXtpZighYy5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIGY9YS5jcmVhdGVSYW5nZSgpLGc9Q0tFRElUT1IuZG9tLnJhbmdlLm1lcmdlUmFuZ2VzKGMpO0NLRURJVE9SLnRvb2xzLmFycmF5LmZvckVhY2goZyxmdW5jdGlvbihhKXthLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9FTEVNRU5UKX0pO3ZhciBoPWdbMF0uZ2V0Qm91bmRhcnlOb2RlcygpLFxuaz1oLnN0YXJ0Tm9kZSxoPWguZW5kTm9kZTtpZihrJiZrLmlzJiZrLmlzKGUpKXtmb3IodmFyIGw9ay5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLCEwKSxtPWsuZ2V0UHJldmlvdXNTb3VyY2VOb2RlKCExLENLRURJVE9SLk5PREVfRUxFTUVOVCxsKSxuPSExLHA9ZnVuY3Rpb24oYSl7cmV0dXJuIWsuY29udGFpbnMoYSkmJmEuaXMmJmEuaXMoXCJ0ZFwiLFwidGhcIil9O20mJiFwKG0pOyltPW0uZ2V0UHJldmlvdXNTb3VyY2VOb2RlKCExLENLRURJVE9SLk5PREVfRUxFTUVOVCxsKTshbSYmaCYmaC5pcyYmIWguaXMoXCJ0YWJsZVwiKSYmaC5nZXROZXh0KCkmJihtPWguZ2V0TmV4dCgpLmZpbmRPbmUoXCJ0ZCwgdGhcIiksbj0hMCk7aWYobSlmW1wibW92ZVRvRWxlbWVudEVkaXRcIisobj9cIlN0YXJ0XCI6XCJFbmRcIildKG0pO2Vsc2UgZi5zZXRTdGFydEJlZm9yZShrLmdldEFzY2VuZGFudChcInRhYmxlXCIsITApKSxmLmNvbGxhcHNlKCEwKTtnWzBdLmRlbGV0ZUNvbnRlbnRzKCk7cmV0dXJuW2ZdfWlmKGspcmV0dXJuIGYubW92ZVRvRWxlbWVudEVkaXRhYmxlUG9zaXRpb24oayksXG5bZl19dmFyIGM9ezM3OjEsMzg6MSwzOToxLDQwOjEsODoxLDQ2OjEsMTM6MX0sZT1DS0VESVRPUi50b29scy5leHRlbmQoe3RhYmxlOjF9LENLRURJVE9SLmR0ZC4kdGFibGVDb250ZW50KTtkZWxldGUgZS50ZDtkZWxldGUgZS50aDtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIGY9ZS5kYXRhLmdldEtleSgpLGc9ZS5kYXRhLmdldEtleXN0cm9rZSgpLGgsaz0zNz09PWZ8fDM4PT1mLGwsbSxuO2lmKGNbZl0mJiFhLnJlYWRPbmx5JiYoaD1hLmdldFNlbGVjdGlvbigpKSYmaC5pc0luVGFibGUoKSYmaC5pc0Zha2Upe2w9aC5nZXRSYW5nZXMoKTttPWxbMF0uX2dldFRhYmxlRWxlbWVudCgpO249bFtsLmxlbmd0aC0xXS5fZ2V0VGFibGVFbGVtZW50KCk7aWYoMTMhPT1mfHxhLnBsdWdpbnMuZW50ZXJrZXkpZS5kYXRhLnByZXZlbnREZWZhdWx0KCksZS5jYW5jZWwoKTtpZigzNjxmJiY0MT5mKWxbMF0ubW92ZVRvRWxlbWVudEVkaXRhYmxlUG9zaXRpb24oaz9tOm4sIWspLGguc2VsZWN0UmFuZ2VzKFtsWzBdXSk7XG5lbHNlIGlmKDEzIT09Znx8MTM9PT1nfHxnPT09Q0tFRElUT1IuU0hJRlQrMTMpe2ZvcihlPTA7ZTxsLmxlbmd0aDtlKyspYihsW2VdKTsoZT1kKG0sbCkpP2w9ZTpsWzBdLm1vdmVUb0VsZW1lbnRFZGl0YWJsZVBvc2l0aW9uKG0pO2guc2VsZWN0UmFuZ2VzKGwpOzEzPT09ZiYmYS5wbHVnaW5zLmVudGVya2V5PyhhLmZpcmUoXCJsb2NrU25hcHNob3RcIiksMTM9PT1nP2EuZXhlY0NvbW1hbmQoXCJlbnRlclwiKTphLmV4ZWNDb21tYW5kKFwic2hpZnRFbnRlclwiKSxhLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKSxhLmZpcmUoXCJzYXZlU25hcHNob3RcIikpOjEzIT09ZiYmYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpfX19fShhKSxudWxsLG51bGwsLTEpO2QuYXR0YWNoTGlzdGVuZXIoZCxcImtleXByZXNzXCIsZnVuY3Rpb24oZCl7dmFyIGM9YS5nZXRTZWxlY3Rpb24oKSxlPWQuZGF0YS4kLmNoYXJDb2RlfHwxMz09PWQuZGF0YS5nZXRLZXkoKSxmO2lmKCFhLnJlYWRPbmx5JiZjJiZjLmlzSW5UYWJsZSgpJiZcbmMuaXNGYWtlJiZlJiYhKGQuZGF0YS5nZXRLZXlzdHJva2UoKSZDS0VESVRPUi5DVFJMKSl7ZD1jLmdldFJhbmdlcygpO2U9ZFswXS5nZXRFbmNsb3NlZE5vZGUoKS5nZXRBc2NlbmRhbnQoe3RkOjEsdGg6MX0sITApO2ZvcihmPTA7ZjxkLmxlbmd0aDtmKyspYihkW2ZdKTtlJiYoZFswXS5tb3ZlVG9FbGVtZW50RWRpdGFibGVQb3NpdGlvbihlKSxjLnNlbGVjdFJhbmdlcyhbZFswXV0pKX19LG51bGwsbnVsbCwtMSk7ZC5hdHRhY2hMaXN0ZW5lcihkLFwia2V5dXBcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7Yj1iLmRhdGEuZ2V0S2V5KCk7dmFyIGQ9YS5nZXRTZWxlY3Rpb24oKTs5PT09YiYmZC5pc0luVGFibGUoKSYmayhhKX19KGEpLG51bGwsbnVsbCwtMSl9fTtDS0VESVRPUi5wbHVnaW5zLmFkZChcInRhYmxlc2VsZWN0aW9uXCIse3JlcXVpcmVzOlwiY2xpcGJvYXJkLHRhYmxldG9vbHNcIixpc1N1cHBvcnRlZEVudmlyb25tZW50OmZ1bmN0aW9uKCl7cmV0dXJuIShDS0VESVRPUi5lbnYuaWUmJlxuMTE+Q0tFRElUT1IuZW52LnZlcnNpb24pfSxvbkxvYWQ6ZnVuY3Rpb24oKXt1PUNLRURJVE9SLnBsdWdpbnMudGFibGV0b29sczt6PXUuZ2V0U2VsZWN0ZWRDZWxscztxPXUuZ2V0Q2VsbENvbEluZGV4O0E9dS5pbnNlcnRSb3c7eT11Lmluc2VydENvbHVtbjtDS0VESVRPUi5kb2N1bWVudC5hcHBlbmRTdHlsZVNoZWV0KHRoaXMucGF0aCtcInN0eWxlcy90YWJsZXNlbGVjdGlvbi5jc3NcIil9LGluaXQ6ZnVuY3Rpb24oYSl7dGhpcy5pc1N1cHBvcnRlZEVudmlyb25tZW50KCkmJihhLmFkZENvbnRlbnRzQ3NzJiZhLmFkZENvbnRlbnRzQ3NzKHRoaXMucGF0aCtcInN0eWxlcy90YWJsZXNlbGVjdGlvbi5jc3NcIiksYS5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe3ZhciBiPWEuZWRpdGFibGUoKSxkPWIuaXNJbmxpbmUoKT9iOmEuZG9jdW1lbnQsYz17ZWRpdG9yOmF9O2IuYXR0YWNoTGlzdGVuZXIoZCxcIm1vdXNlZG93blwiLGgsbnVsbCxjKTtiLmF0dGFjaExpc3RlbmVyKGQsXCJtb3VzZW1vdmVcIixcbmgsbnVsbCxjKTtiLmF0dGFjaExpc3RlbmVyKGQsXCJtb3VzZXVwXCIsaCxudWxsLGMpO2IuYXR0YWNoTGlzdGVuZXIoYixcImRyYWdzdGFydFwiLGcpO2IuYXR0YWNoTGlzdGVuZXIoYSxcInNlbGVjdGlvbkNoZWNrXCIsbSk7Q0tFRElUT1IucGx1Z2lucy50YWJsZXNlbGVjdGlvbi5rZXlib2FyZEludGVncmF0aW9uKGEpO0NLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkJiYhQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21Db3B5Q3V0U3VwcG9ydGVkJiYoYi5hdHRhY2hMaXN0ZW5lcihiLFwiY3V0XCIsdyksYi5hdHRhY2hMaXN0ZW5lcihiLFwiY29weVwiLHcpKX0pLGEub24oXCJwYXN0ZVwiLHQub25QYXN0ZSx0KSxyKGEsXCJyb3dJbnNlcnRCZWZvcmUgcm93SW5zZXJ0QWZ0ZXIgY29sdW1uSW5zZXJ0QmVmb3JlIGNvbHVtbkluc2VydEFmdGVyIGNlbGxJbnNlcnRCZWZvcmUgY2VsbEluc2VydEFmdGVyXCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEsYil7YyhhLGIuc2VsZWN0ZWRDZWxscyl9KSxcbnIoYSxbXCJjZWxsTWVyZ2VcIixcImNlbGxNZXJnZVJpZ2h0XCIsXCJjZWxsTWVyZ2VEb3duXCJdLGZ1bmN0aW9uKGEsYil7YyhhLFtiLmNvbW1hbmREYXRhLmNlbGxdKX0pLHIoYSxbXCJjZWxsRGVsZXRlXCJdLGZ1bmN0aW9uKGEpe2IoYSwhMCl9KSl9fSl9KCksXCJ1c2Ugc3RyaWN0XCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7cmV0dXJuIENLRURJVE9SLnRvb2xzLmFycmF5LnJlZHVjZShiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIoYSl9LGEpfXZhciBmPVtDS0VESVRPUi5DVFJMKzkwLENLRURJVE9SLkNUUkwrODksQ0tFRElUT1IuQ1RSTCtDS0VESVRPUi5TSElGVCs5MF0sZT17ODoxLDQ2OjF9O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwidW5kb1wiLHtpbml0OmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoYSl7ay5lbmFibGVkJiYhMSE9PWEuZGF0YS5jb21tYW5kLmNhblVuZG8mJmsuc2F2ZSgpfWZ1bmN0aW9uIGUoKXtrLmVuYWJsZWQ9YS5yZWFkT25seT8hMTpcInd5c2l3eWdcIj09YS5tb2RlO2sub25DaGFuZ2UoKX1cbnZhciBrPWEudW5kb01hbmFnZXI9bmV3IGIoYSksbT1rLmVkaXRpbmdIYW5kbGVyPW5ldyBsKGspLHg9YS5hZGRDb21tYW5kKFwidW5kb1wiLHtleGVjOmZ1bmN0aW9uKCl7ay51bmRvKCkmJihhLnNlbGVjdGlvbkNoYW5nZSgpLHRoaXMuZmlyZShcImFmdGVyVW5kb1wiKSl9LHN0YXJ0RGlzYWJsZWQ6ITAsY2FuVW5kbzohMX0pLHI9YS5hZGRDb21tYW5kKFwicmVkb1wiLHtleGVjOmZ1bmN0aW9uKCl7ay5yZWRvKCkmJihhLnNlbGVjdGlvbkNoYW5nZSgpLHRoaXMuZmlyZShcImFmdGVyUmVkb1wiKSl9LHN0YXJ0RGlzYWJsZWQ6ITAsY2FuVW5kbzohMX0pO2Euc2V0S2V5c3Ryb2tlKFtbZlswXSxcInVuZG9cIl0sW2ZbMV0sXCJyZWRvXCJdLFtmWzJdLFwicmVkb1wiXV0pO2sub25DaGFuZ2U9ZnVuY3Rpb24oKXt4LnNldFN0YXRlKGsudW5kb2FibGUoKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpO3Iuc2V0U3RhdGUoay5yZWRvYWJsZSgpP0NLRURJVE9SLlRSSVNUQVRFX09GRjpcbkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX07YS5vbihcImJlZm9yZUNvbW1hbmRFeGVjXCIsYyk7YS5vbihcImFmdGVyQ29tbWFuZEV4ZWNcIixjKTthLm9uKFwic2F2ZVNuYXBzaG90XCIsZnVuY3Rpb24oYSl7ay5zYXZlKGEuZGF0YSYmYS5kYXRhLmNvbnRlbnRPbmx5KX0pO2Eub24oXCJjb250ZW50RG9tXCIsbS5hdHRhY2hMaXN0ZW5lcnMsbSk7YS5vbihcImluc3RhbmNlUmVhZHlcIixmdW5jdGlvbigpe2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKX0pO2Eub24oXCJiZWZvcmVNb2RlVW5sb2FkXCIsZnVuY3Rpb24oKXtcInd5c2l3eWdcIj09YS5tb2RlJiZrLnNhdmUoITApfSk7YS5vbihcIm1vZGVcIixlKTthLm9uKFwicmVhZE9ubHlcIixlKTthLnVpLmFkZEJ1dHRvbiYmKGEudWkuYWRkQnV0dG9uKFwiVW5kb1wiLHtsYWJlbDphLmxhbmcudW5kby51bmRvLGNvbW1hbmQ6XCJ1bmRvXCIsdG9vbGJhcjpcInVuZG8sMTBcIn0pLGEudWkuYWRkQnV0dG9uKFwiUmVkb1wiLHtsYWJlbDphLmxhbmcudW5kby5yZWRvLGNvbW1hbmQ6XCJyZWRvXCIsXG50b29sYmFyOlwidW5kbywyMFwifSkpO2EucmVzZXRVbmRvPWZ1bmN0aW9uKCl7ay5yZXNldCgpO2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKX07YS5vbihcInVwZGF0ZVNuYXBzaG90XCIsZnVuY3Rpb24oKXtrLmN1cnJlbnRJbWFnZSYmay51cGRhdGUoKX0pO2Eub24oXCJsb2NrU25hcHNob3RcIixmdW5jdGlvbihhKXthPWEuZGF0YTtrLmxvY2soYSYmYS5kb250VXBkYXRlLGEmJmEuZm9yY2VVcGRhdGUpfSk7YS5vbihcInVubG9ja1NuYXBzaG90XCIsay51bmxvY2ssayl9fSk7Q0tFRElUT1IucGx1Z2lucy51bmRvPXt9O3ZhciBiPUNLRURJVE9SLnBsdWdpbnMudW5kby5VbmRvTWFuYWdlcj1mdW5jdGlvbihhKXt0aGlzLnN0cm9rZXNSZWNvcmRlZD1bMCwwXTt0aGlzLmxvY2tlZD1udWxsO3RoaXMucHJldmlvdXNLZXlHcm91cD0tMTt0aGlzLmxpbWl0PWEuY29uZmlnLnVuZG9TdGFja1NpemV8fDIwO3RoaXMuc3Ryb2tlc0xpbWl0PTI1O3RoaXMuX2ZpbHRlclJ1bGVzPVtdO3RoaXMuZWRpdG9yPWE7XG50aGlzLnJlc2V0KCk7Q0tFRElUT1IuZW52LmllJiZ0aGlzLmFkZEZpbHRlclJ1bGUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXFxzK2RhdGEtY2tlLWV4cGFuZG89XCIuKj9cIi9nLFwiXCIpfSl9O2IucHJvdG90eXBlPXt0eXBlOmZ1bmN0aW9uKGEsYyl7dmFyIGU9Yi5nZXRLZXlHcm91cChhKSxmPXRoaXMuc3Ryb2tlc1JlY29yZGVkW2VdKzE7Yz1jfHxmPj10aGlzLnN0cm9rZXNMaW1pdDt0aGlzLnR5cGluZ3x8KHRoaXMuaGFzVW5kbz10aGlzLnR5cGluZz0hMCx0aGlzLmhhc1JlZG89ITEsdGhpcy5vbkNoYW5nZSgpKTtjPyhmPTAsdGhpcy5lZGl0b3IuZmlyZShcInNhdmVTbmFwc2hvdFwiKSk6dGhpcy5lZGl0b3IuZmlyZShcImNoYW5nZVwiKTt0aGlzLnN0cm9rZXNSZWNvcmRlZFtlXT1mO3RoaXMucHJldmlvdXNLZXlHcm91cD1lfSxrZXlHcm91cENoYW5nZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGIuZ2V0S2V5R3JvdXAoYSkhPXRoaXMucHJldmlvdXNLZXlHcm91cH0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnNuYXBzaG90cz1cbltdO3RoaXMuaW5kZXg9LTE7dGhpcy5jdXJyZW50SW1hZ2U9bnVsbDt0aGlzLmhhc1JlZG89dGhpcy5oYXNVbmRvPSExO3RoaXMubG9ja2VkPW51bGw7dGhpcy5yZXNldFR5cGUoKX0scmVzZXRUeXBlOmZ1bmN0aW9uKCl7dGhpcy5zdHJva2VzUmVjb3JkZWQ9WzAsMF07dGhpcy50eXBpbmc9ITE7dGhpcy5wcmV2aW91c0tleUdyb3VwPS0xfSxyZWZyZXNoU3RhdGU6ZnVuY3Rpb24oKXt0aGlzLmhhc1VuZG89ISF0aGlzLmdldE5leHRJbWFnZSghMCk7dGhpcy5oYXNSZWRvPSEhdGhpcy5nZXROZXh0SW1hZ2UoITEpO3RoaXMucmVzZXRUeXBlKCk7dGhpcy5vbkNoYW5nZSgpfSxzYXZlOmZ1bmN0aW9uKGEsYixlKXt2YXIgZj10aGlzLmVkaXRvcjtpZih0aGlzLmxvY2tlZHx8XCJyZWFkeVwiIT1mLnN0YXR1c3x8XCJ3eXNpd3lnXCIhPWYubW9kZSlyZXR1cm4hMTt2YXIgaz1mLmVkaXRhYmxlKCk7aWYoIWt8fFwicmVhZHlcIiE9ay5zdGF0dXMpcmV0dXJuITE7az10aGlzLnNuYXBzaG90cztifHwoYj1cbm5ldyBjKGYpKTtpZighMT09PWIuY29udGVudHMpcmV0dXJuITE7aWYodGhpcy5jdXJyZW50SW1hZ2UpaWYoYi5lcXVhbHNDb250ZW50KHRoaXMuY3VycmVudEltYWdlKSl7aWYoYXx8Yi5lcXVhbHNTZWxlY3Rpb24odGhpcy5jdXJyZW50SW1hZ2UpKXJldHVybiExfWVsc2UhMSE9PWUmJmYuZmlyZShcImNoYW5nZVwiKTtrLnNwbGljZSh0aGlzLmluZGV4KzEsay5sZW5ndGgtdGhpcy5pbmRleC0xKTtrLmxlbmd0aD09dGhpcy5saW1pdCYmay5zaGlmdCgpO3RoaXMuaW5kZXg9ay5wdXNoKGIpLTE7dGhpcy5jdXJyZW50SW1hZ2U9YjshMSE9PWUmJnRoaXMucmVmcmVzaFN0YXRlKCk7cmV0dXJuITB9LHJlc3RvcmVJbWFnZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVkaXRvcixjO2EuYm9va21hcmtzJiYoYi5mb2N1cygpLGM9Yi5nZXRTZWxlY3Rpb24oKSk7dGhpcy5sb2NrZWQ9e2xldmVsOjk5OX07dGhpcy5lZGl0b3IubG9hZFNuYXBzaG90KGEuY29udGVudHMpO2EuYm9va21hcmtzP2Muc2VsZWN0Qm9va21hcmtzKGEuYm9va21hcmtzKTpcbkNLRURJVE9SLmVudi5pZSYmKGM9dGhpcy5lZGl0b3IuZG9jdW1lbnQuZ2V0Qm9keSgpLiQuY3JlYXRlVGV4dFJhbmdlKCksYy5jb2xsYXBzZSghMCksYy5zZWxlY3QoKSk7dGhpcy5sb2NrZWQ9bnVsbDt0aGlzLmluZGV4PWEuaW5kZXg7dGhpcy5jdXJyZW50SW1hZ2U9dGhpcy5zbmFwc2hvdHNbdGhpcy5pbmRleF07dGhpcy51cGRhdGUoKTt0aGlzLnJlZnJlc2hTdGF0ZSgpO2IuZmlyZShcImNoYW5nZVwiKX0sZ2V0TmV4dEltYWdlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc25hcHNob3RzLGM9dGhpcy5jdXJyZW50SW1hZ2UsZTtpZihjKWlmKGEpZm9yKGU9dGhpcy5pbmRleC0xOzA8PWU7ZS0tKXtpZihhPWJbZV0sIWMuZXF1YWxzQ29udGVudChhKSlyZXR1cm4gYS5pbmRleD1lLGF9ZWxzZSBmb3IoZT10aGlzLmluZGV4KzE7ZTxiLmxlbmd0aDtlKyspaWYoYT1iW2VdLCFjLmVxdWFsc0NvbnRlbnQoYSkpcmV0dXJuIGEuaW5kZXg9ZSxhO3JldHVybiBudWxsfSxyZWRvYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWQmJlxudGhpcy5oYXNSZWRvfSx1bmRvYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWQmJnRoaXMuaGFzVW5kb30sdW5kbzpmdW5jdGlvbigpe2lmKHRoaXMudW5kb2FibGUoKSl7dGhpcy5zYXZlKCEwKTt2YXIgYT10aGlzLmdldE5leHRJbWFnZSghMCk7aWYoYSlyZXR1cm4gdGhpcy5yZXN0b3JlSW1hZ2UoYSksITB9cmV0dXJuITF9LHJlZG86ZnVuY3Rpb24oKXtpZih0aGlzLnJlZG9hYmxlKCkmJih0aGlzLnNhdmUoITApLHRoaXMucmVkb2FibGUoKSkpe3ZhciBhPXRoaXMuZ2V0TmV4dEltYWdlKCExKTtpZihhKXJldHVybiB0aGlzLnJlc3RvcmVJbWFnZShhKSwhMH1yZXR1cm4hMX0sdXBkYXRlOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmxvY2tlZCl7YXx8KGE9bmV3IGModGhpcy5lZGl0b3IpKTtmb3IodmFyIGI9dGhpcy5pbmRleCxlPXRoaXMuc25hcHNob3RzOzA8YiYmdGhpcy5jdXJyZW50SW1hZ2UuZXF1YWxzQ29udGVudChlW2ItMV0pOyktLWI7ZS5zcGxpY2UoYix0aGlzLmluZGV4LVxuYisxLGEpO3RoaXMuaW5kZXg9Yjt0aGlzLmN1cnJlbnRJbWFnZT1hfX0sdXBkYXRlU2VsZWN0aW9uOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLnNuYXBzaG90cy5sZW5ndGgpcmV0dXJuITE7dmFyIGI9dGhpcy5zbmFwc2hvdHMsYz1iW2IubGVuZ3RoLTFdO3JldHVybiBjLmVxdWFsc0NvbnRlbnQoYSkmJiFjLmVxdWFsc1NlbGVjdGlvbihhKT8odGhpcy5jdXJyZW50SW1hZ2U9YltiLmxlbmd0aC0xXT1hLCEwKTohMX0sbG9jazpmdW5jdGlvbihhLGIpe2lmKHRoaXMubG9ja2VkKXRoaXMubG9ja2VkLmxldmVsKys7ZWxzZSBpZihhKXRoaXMubG9ja2VkPXtsZXZlbDoxfTtlbHNle3ZhciBlPW51bGw7aWYoYillPSEwO2Vsc2V7dmFyIGY9bmV3IGModGhpcy5lZGl0b3IsITApO3RoaXMuY3VycmVudEltYWdlJiZ0aGlzLmN1cnJlbnRJbWFnZS5lcXVhbHNDb250ZW50KGYpJiYoZT1mKX10aGlzLmxvY2tlZD17dXBkYXRlOmUsbGV2ZWw6MX19fSx1bmxvY2s6ZnVuY3Rpb24oKXtpZih0aGlzLmxvY2tlZCYmXG4hLS10aGlzLmxvY2tlZC5sZXZlbCl7dmFyIGE9dGhpcy5sb2NrZWQudXBkYXRlO3RoaXMubG9ja2VkPW51bGw7aWYoITA9PT1hKXRoaXMudXBkYXRlKCk7ZWxzZSBpZihhKXt2YXIgYj1uZXcgYyh0aGlzLmVkaXRvciwhMCk7YS5lcXVhbHNDb250ZW50KGIpfHx0aGlzLnVwZGF0ZSgpfX19LGFkZEZpbHRlclJ1bGU6ZnVuY3Rpb24oYSl7dGhpcy5fZmlsdGVyUnVsZXMucHVzaChhKX19O2IubmF2aWdhdGlvbktleUNvZGVzPXszNzoxLDM4OjEsMzk6MSw0MDoxLDM2OjEsMzU6MSwzMzoxLDM0OjF9O2Iua2V5R3JvdXBzPXtQUklOVEFCTEU6MCxGVU5DVElPTkFMOjF9O2IuaXNOYXZpZ2F0aW9uS2V5PWZ1bmN0aW9uKGEpe3JldHVybiEhYi5uYXZpZ2F0aW9uS2V5Q29kZXNbYV19O2IuZ2V0S2V5R3JvdXA9ZnVuY3Rpb24oYSl7dmFyIGM9Yi5rZXlHcm91cHM7cmV0dXJuIGVbYV0/Yy5GVU5DVElPTkFMOmMuUFJJTlRBQkxFfTtiLmdldE9wcG9zaXRlS2V5R3JvdXA9ZnVuY3Rpb24oYSl7dmFyIGM9XG5iLmtleUdyb3VwcztyZXR1cm4gYT09Yy5GVU5DVElPTkFMP2MuUFJJTlRBQkxFOmMuRlVOQ1RJT05BTH07Yi5pZUZ1bmN0aW9uYWxLZXlzQnVnPWZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi5lbnYuaWUmJmIuZ2V0S2V5R3JvdXAoYSk9PWIua2V5R3JvdXBzLkZVTkNUSU9OQUx9O3ZhciBjPUNLRURJVE9SLnBsdWdpbnMudW5kby5JbWFnZT1mdW5jdGlvbihiLGMpe3RoaXMuZWRpdG9yPWI7Yi5maXJlKFwiYmVmb3JlVW5kb0ltYWdlXCIpO3ZhciBlPWIuZ2V0U25hcHNob3QoKTtlJiYodGhpcy5jb250ZW50cz1hKGUsYi51bmRvTWFuYWdlci5fZmlsdGVyUnVsZXMpKTtjfHwodGhpcy5ib29rbWFya3M9KGU9ZSYmYi5nZXRTZWxlY3Rpb24oKSkmJmUuY3JlYXRlQm9va21hcmtzMighMCkpO2IuZmlyZShcImFmdGVyVW5kb0ltYWdlXCIpfSxrPS9cXGIoPzpocmVmfHNyY3xuYW1lKT1cIlteXCJdKj9cIi9naTtjLnByb3RvdHlwZT17ZXF1YWxzQ29udGVudDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNvbnRlbnRzO1xuYT1hLmNvbnRlbnRzO0NLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5xdWlya3MpJiYoYj1iLnJlcGxhY2UoayxcIlwiKSxhPWEucmVwbGFjZShrLFwiXCIpKTtyZXR1cm4gYiE9YT8hMTohMH0sZXF1YWxzU2VsZWN0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYm9va21hcmtzO2E9YS5ib29rbWFya3M7aWYoYnx8YSl7aWYoIWJ8fCFhfHxiLmxlbmd0aCE9YS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBlPWJbY10sZj1hW2NdO2lmKGUuc3RhcnRPZmZzZXQhPWYuc3RhcnRPZmZzZXR8fGUuZW5kT2Zmc2V0IT1mLmVuZE9mZnNldHx8IUNLRURJVE9SLnRvb2xzLmFycmF5Q29tcGFyZShlLnN0YXJ0LGYuc3RhcnQpfHwhQ0tFRElUT1IudG9vbHMuYXJyYXlDb21wYXJlKGUuZW5kLGYuZW5kKSlyZXR1cm4hMX19cmV0dXJuITB9fTt2YXIgbD1DS0VESVRPUi5wbHVnaW5zLnVuZG8uTmF0aXZlRWRpdGluZ0hhbmRsZXI9XG5mdW5jdGlvbihhKXt0aGlzLnVuZG9NYW5hZ2VyPWE7dGhpcy5pZ25vcmVJbnB1dEV2ZW50PSExO3RoaXMua2V5RXZlbnRzU3RhY2s9bmV3IG07dGhpcy5sYXN0S2V5ZG93bkltYWdlPW51bGx9O2wucHJvdG90eXBlPXtvbktleWRvd246ZnVuY3Rpb24oYSl7dmFyIGU9YS5kYXRhLmdldEtleSgpO2lmKDIyOSE9PWUpaWYoLTE8Q0tFRElUT1IudG9vbHMuaW5kZXhPZihmLGEuZGF0YS5nZXRLZXlzdHJva2UoKSkpYS5kYXRhLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBpZih0aGlzLmtleUV2ZW50c1N0YWNrLmNsZWFuVXAoYSksYT10aGlzLnVuZG9NYW5hZ2VyLHRoaXMua2V5RXZlbnRzU3RhY2suZ2V0TGFzdChlKXx8dGhpcy5rZXlFdmVudHNTdGFjay5wdXNoKGUpLHRoaXMubGFzdEtleWRvd25JbWFnZT1uZXcgYyhhLmVkaXRvciksYi5pc05hdmlnYXRpb25LZXkoZSl8fHRoaXMudW5kb01hbmFnZXIua2V5R3JvdXBDaGFuZ2VkKGUpKWlmKGEuc3Ryb2tlc1JlY29yZGVkWzBdfHxhLnN0cm9rZXNSZWNvcmRlZFsxXSlhLnNhdmUoITEsXG50aGlzLmxhc3RLZXlkb3duSW1hZ2UsITEpLGEucmVzZXRUeXBlKCl9LG9uSW5wdXQ6ZnVuY3Rpb24oKXtpZih0aGlzLmlnbm9yZUlucHV0RXZlbnQpdGhpcy5pZ25vcmVJbnB1dEV2ZW50PSExO2Vsc2V7dmFyIGE9dGhpcy5rZXlFdmVudHNTdGFjay5nZXRMYXN0KCk7YXx8KGE9dGhpcy5rZXlFdmVudHNTdGFjay5wdXNoKDApKTt0aGlzLmtleUV2ZW50c1N0YWNrLmluY3JlbWVudChhLmtleUNvZGUpO3RoaXMua2V5RXZlbnRzU3RhY2suZ2V0VG90YWxJbnB1dHMoKT49dGhpcy51bmRvTWFuYWdlci5zdHJva2VzTGltaXQmJih0aGlzLnVuZG9NYW5hZ2VyLnR5cGUoYS5rZXlDb2RlLCEwKSx0aGlzLmtleUV2ZW50c1N0YWNrLnJlc2V0SW5wdXRzKCkpfX0sb25LZXl1cDpmdW5jdGlvbihhKXt2YXIgZT10aGlzLnVuZG9NYW5hZ2VyO2E9YS5kYXRhLmdldEtleSgpO3ZhciBmPXRoaXMua2V5RXZlbnRzU3RhY2suZ2V0VG90YWxJbnB1dHMoKTt0aGlzLmtleUV2ZW50c1N0YWNrLnJlbW92ZShhKTtcbmlmKCEoYi5pZUZ1bmN0aW9uYWxLZXlzQnVnKGEpJiZ0aGlzLmxhc3RLZXlkb3duSW1hZ2UmJnRoaXMubGFzdEtleWRvd25JbWFnZS5lcXVhbHNDb250ZW50KG5ldyBjKGUuZWRpdG9yLCEwKSkpKWlmKDA8ZillLnR5cGUoYSk7ZWxzZSBpZihiLmlzTmF2aWdhdGlvbktleShhKSl0aGlzLm9uTmF2aWdhdGlvbktleSghMCl9LG9uTmF2aWdhdGlvbktleTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnVuZG9NYW5hZ2VyOyFhJiZiLnNhdmUoITAsbnVsbCwhMSl8fGIudXBkYXRlU2VsZWN0aW9uKG5ldyBjKGIuZWRpdG9yKSk7Yi5yZXNldFR5cGUoKX0saWdub3JlSW5wdXRFdmVudExpc3RlbmVyOmZ1bmN0aW9uKCl7dGhpcy5pZ25vcmVJbnB1dEV2ZW50PSEwfSxhY3RpdmF0ZUlucHV0RXZlbnRMaXN0ZW5lcjpmdW5jdGlvbigpe3RoaXMuaWdub3JlSW5wdXRFdmVudD0hMX0sYXR0YWNoTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy51bmRvTWFuYWdlci5lZGl0b3IsYz1hLmVkaXRhYmxlKCksXG5lPXRoaXM7Yy5hdHRhY2hMaXN0ZW5lcihjLFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe2Uub25LZXlkb3duKGEpO2lmKGIuaWVGdW5jdGlvbmFsS2V5c0J1ZyhhLmRhdGEuZ2V0S2V5KCkpKWUub25JbnB1dCgpfSxudWxsLG51bGwsOTk5KTtjLmF0dGFjaExpc3RlbmVyKGMsQ0tFRElUT1IuZW52LmllP1wia2V5cHJlc3NcIjpcImlucHV0XCIsZS5vbklucHV0LGUsbnVsbCw5OTkpO2MuYXR0YWNoTGlzdGVuZXIoYyxcImtleXVwXCIsZS5vbktleXVwLGUsbnVsbCw5OTkpO2MuYXR0YWNoTGlzdGVuZXIoYyxcInBhc3RlXCIsZS5pZ25vcmVJbnB1dEV2ZW50TGlzdGVuZXIsZSxudWxsLDk5OSk7Yy5hdHRhY2hMaXN0ZW5lcihjLFwiZHJvcFwiLGUuaWdub3JlSW5wdXRFdmVudExpc3RlbmVyLGUsbnVsbCw5OTkpO2Eub24oXCJhZnRlclBhc3RlXCIsZS5hY3RpdmF0ZUlucHV0RXZlbnRMaXN0ZW5lcixlLG51bGwsOTk5KTtjLmF0dGFjaExpc3RlbmVyKGMuaXNJbmxpbmUoKT9jOmEuZG9jdW1lbnQuZ2V0RG9jdW1lbnRFbGVtZW50KCksXG5cImNsaWNrXCIsZnVuY3Rpb24oKXtlLm9uTmF2aWdhdGlvbktleSgpfSxudWxsLG51bGwsOTk5KTtjLmF0dGFjaExpc3RlbmVyKHRoaXMudW5kb01hbmFnZXIuZWRpdG9yLFwiYmx1clwiLGZ1bmN0aW9uKCl7ZS5rZXlFdmVudHNTdGFjay5yZW1vdmUoOSl9LG51bGwsbnVsbCw5OTkpfX07dmFyIG09Q0tFRElUT1IucGx1Z2lucy51bmRvLktleUV2ZW50c1N0YWNrPWZ1bmN0aW9uKCl7dGhpcy5zdGFjaz1bXX07bS5wcm90b3R5cGU9e3B1c2g6ZnVuY3Rpb24oYSl7YT10aGlzLnN0YWNrLnB1c2goe2tleUNvZGU6YSxpbnB1dHM6MH0pO3JldHVybiB0aGlzLnN0YWNrW2EtMV19LGdldExhc3RJbmRleDpmdW5jdGlvbihhKXtpZihcIm51bWJlclwiIT10eXBlb2YgYSlyZXR1cm4gdGhpcy5zdGFjay5sZW5ndGgtMTtmb3IodmFyIGI9dGhpcy5zdGFjay5sZW5ndGg7Yi0tOylpZih0aGlzLnN0YWNrW2JdLmtleUNvZGU9PWEpcmV0dXJuIGI7cmV0dXJuLTF9LGdldExhc3Q6ZnVuY3Rpb24oYSl7YT10aGlzLmdldExhc3RJbmRleChhKTtcbnJldHVybi0xIT1hP3RoaXMuc3RhY2tbYV06bnVsbH0saW5jcmVtZW50OmZ1bmN0aW9uKGEpe3RoaXMuZ2V0TGFzdChhKS5pbnB1dHMrK30scmVtb3ZlOmZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRMYXN0SW5kZXgoYSk7LTEhPWEmJnRoaXMuc3RhY2suc3BsaWNlKGEsMSl9LHJlc2V0SW5wdXRzOmZ1bmN0aW9uKGEpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBhKXRoaXMuZ2V0TGFzdChhKS5pbnB1dHM9MDtlbHNlIGZvcihhPXRoaXMuc3RhY2subGVuZ3RoO2EtLTspdGhpcy5zdGFja1thXS5pbnB1dHM9MH0sZ2V0VG90YWxJbnB1dHM6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5zdGFjay5sZW5ndGgsYj0wO2EtLTspYis9dGhpcy5zdGFja1thXS5pbnB1dHM7cmV0dXJuIGJ9LGNsZWFuVXA6ZnVuY3Rpb24oYSl7YT1hLmRhdGEuJDthLmN0cmxLZXl8fGEubWV0YUtleXx8dGhpcy5yZW1vdmUoMTcpO2Euc2hpZnRLZXl8fHRoaXMucmVtb3ZlKDE2KTthLmFsdEtleXx8dGhpcy5yZW1vdmUoMTgpfX19KCksXG5cInVzZSBzdHJpY3RcIixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyx7ZWRpdG9yOmEsZWRpdGFibGU6YS5lZGl0YWJsZSgpLGRvYzphLmRvY3VtZW50LHdpbjphLndpbmRvd30sYiwhMCk7dGhpcy5pbmxpbmU9dGhpcy5lZGl0YWJsZS5pc0lubGluZSgpO3RoaXMuaW5saW5lfHwodGhpcy5mcmFtZT10aGlzLndpbi5nZXRGcmFtZSgpKTt0aGlzLnRhcmdldD10aGlzW3RoaXMuaW5saW5lP1wiZWRpdGFibGVcIjpcImRvY1wiXX1mdW5jdGlvbiBmKGEsYil7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYix7ZWRpdG9yOmF9LCEwKX1mdW5jdGlvbiBlKGEsYil7dmFyIGU9YS5lZGl0YWJsZSgpO0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLHtlZGl0b3I6YSxlZGl0YWJsZTplLGlubGluZTplLmlzSW5saW5lKCksZG9jOmEuZG9jdW1lbnQsd2luOmEud2luZG93LGNvbnRhaW5lcjpDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCksd2luVG9wOkNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpfSxcbmIsITApO3RoaXMuaGlkZGVuPXt9O3RoaXMudmlzaWJsZT17fTt0aGlzLmlubGluZXx8KHRoaXMuZnJhbWU9dGhpcy53aW4uZ2V0RnJhbWUoKSk7dGhpcy5xdWVyeVZpZXdwb3J0KCk7dmFyIGY9Q0tFRElUT1IudG9vbHMuYmluZCh0aGlzLnF1ZXJ5Vmlld3BvcnQsdGhpcyksbD1DS0VESVRPUi50b29scy5iaW5kKHRoaXMuaGlkZVZpc2libGUsdGhpcyksbT1DS0VESVRPUi50b29scy5iaW5kKHRoaXMucmVtb3ZlQWxsLHRoaXMpO2UuYXR0YWNoTGlzdGVuZXIodGhpcy53aW5Ub3AsXCJyZXNpemVcIixmKTtlLmF0dGFjaExpc3RlbmVyKHRoaXMud2luVG9wLFwic2Nyb2xsXCIsZik7ZS5hdHRhY2hMaXN0ZW5lcih0aGlzLndpblRvcCxcInJlc2l6ZVwiLGwpO2UuYXR0YWNoTGlzdGVuZXIodGhpcy53aW4sXCJzY3JvbGxcIixsKTtlLmF0dGFjaExpc3RlbmVyKHRoaXMuaW5saW5lP2U6dGhpcy5mcmFtZSxcIm1vdXNlb3V0XCIsZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhLiQuY2xpZW50WDthPWEuZGF0YS4kLmNsaWVudFk7XG50aGlzLnF1ZXJ5Vmlld3BvcnQoKTsoYjw9dGhpcy5yZWN0LmxlZnR8fGI+PXRoaXMucmVjdC5yaWdodHx8YTw9dGhpcy5yZWN0LnRvcHx8YT49dGhpcy5yZWN0LmJvdHRvbSkmJnRoaXMuaGlkZVZpc2libGUoKTsoMD49Ynx8Yj49dGhpcy53aW5Ub3BQYW5lLndpZHRofHwwPj1hfHxhPj10aGlzLndpblRvcFBhbmUuaGVpZ2h0KSYmdGhpcy5oaWRlVmlzaWJsZSgpfSx0aGlzKTtlLmF0dGFjaExpc3RlbmVyKGEsXCJyZXNpemVcIixmKTtlLmF0dGFjaExpc3RlbmVyKGEsXCJtb2RlXCIsbSk7YS5vbihcImRlc3Ryb3lcIixtKTt0aGlzLmxpbmVUcGw9KG5ldyBDS0VESVRPUi50ZW1wbGF0ZSgnXFx4M2NkaXYgZGF0YS1ja2UtbGluZXV0aWxzLWxpbmVcXHgzZFwiMVwiIGNsYXNzXFx4M2RcImNrZV9yZXNldF9hbGxcIiBzdHlsZVxceDNkXCJ7bGluZVN0eWxlfVwiXFx4M2VcXHgzY3NwYW4gc3R5bGVcXHgzZFwie3RpcExlZnRTdHlsZX1cIlxceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZVxceDNjc3BhbiBzdHlsZVxceDNkXCJ7dGlwUmlnaHRTdHlsZX1cIlxceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZVxceDNjL2RpdlxceDNlJykpLm91dHB1dCh7bGluZVN0eWxlOkNLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChDS0VESVRPUi50b29scy5leHRlbmQoe30sXG5rLHRoaXMubGluZVN0eWxlLCEwKSksdGlwTGVmdFN0eWxlOkNLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChDS0VESVRPUi50b29scy5leHRlbmQoe30sYyx7bGVmdDpcIjBweFwiLFwiYm9yZGVyLWxlZnQtY29sb3JcIjpcInJlZFwiLFwiYm9yZGVyLXdpZHRoXCI6XCI2cHggMCA2cHggNnB4XCJ9LHRoaXMudGlwQ3NzLHRoaXMudGlwTGVmdFN0eWxlLCEwKSksdGlwUmlnaHRTdHlsZTpDS0VESVRPUi50b29scy53cml0ZUNzc1RleHQoQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGMse3JpZ2h0OlwiMHB4XCIsXCJib3JkZXItcmlnaHQtY29sb3JcIjpcInJlZFwiLFwiYm9yZGVyLXdpZHRoXCI6XCI2cHggNnB4IDZweCAwXCJ9LHRoaXMudGlwQ3NzLHRoaXMudGlwUmlnaHRTdHlsZSwhMCkpfSl9ZnVuY3Rpb24gYihhKXt2YXIgYjtpZihiPWEmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKWI9IShsW2EuZ2V0Q29tcHV0ZWRTdHlsZShcImZsb2F0XCIpXXx8bFthLmdldEF0dHJpYnV0ZShcImFsaWduXCIpXSk7cmV0dXJuIGImJlxuIW1bYS5nZXRDb21wdXRlZFN0eWxlKFwicG9zaXRpb25cIildfUNLRURJVE9SLnBsdWdpbnMuYWRkKFwibGluZXV0aWxzXCIpO0NLRURJVE9SLkxJTkVVVElMU19CRUZPUkU9MTtDS0VESVRPUi5MSU5FVVRJTFNfQUZURVI9MjtDS0VESVRPUi5MSU5FVVRJTFNfSU5TSURFPTQ7YS5wcm90b3R5cGU9e3N0YXJ0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz10aGlzLmVkaXRvcixlPXRoaXMuZG9jLGYsayxsLG0sdT1DS0VESVRPUi50b29scy5ldmVudHNCdWZmZXIoNTAsZnVuY3Rpb24oKXtjLnJlYWRPbmx5fHxcInd5c2l3eWdcIiE9Yy5tb2RlfHwoYi5yZWxhdGlvbnM9e30sKGs9ZS4kLmVsZW1lbnRGcm9tUG9pbnQobCxtKSkmJmsubm9kZVR5cGUmJihmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChrKSxiLnRyYXZlcnNlU2VhcmNoKGYpLGlzTmFOKGwrbSl8fGIucGl4ZWxTZWFyY2goZixsLG0pLGEmJmEoYi5yZWxhdGlvbnMsbCxtKSkpfSk7dGhpcy5saXN0ZW5lcj10aGlzLmVkaXRhYmxlLmF0dGFjaExpc3RlbmVyKHRoaXMudGFyZ2V0LFxuXCJtb3VzZW1vdmVcIixmdW5jdGlvbihhKXtsPWEuZGF0YS4kLmNsaWVudFg7bT1hLmRhdGEuJC5jbGllbnRZO3UuaW5wdXQoKX0pO3RoaXMuZWRpdGFibGUuYXR0YWNoTGlzdGVuZXIodGhpcy5pbmxpbmU/dGhpcy5lZGl0YWJsZTp0aGlzLmZyYW1lLFwibW91c2VvdXRcIixmdW5jdGlvbigpe3UucmVzZXQoKX0pfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5saXN0ZW5lciYmdGhpcy5saXN0ZW5lci5yZW1vdmVMaXN0ZW5lcigpfSxnZXRSYW5nZTpmdW5jdGlvbigpe3ZhciBhPXt9O2FbQ0tFRElUT1IuTElORVVUSUxTX0JFRk9SRV09Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUO2FbQ0tFRElUT1IuTElORVVUSUxTX0FGVEVSXT1DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQ7YVtDS0VESVRPUi5MSU5FVVRJTFNfSU5TSURFXT1DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5lZGl0b3IuY3JlYXRlUmFuZ2UoKTtjLm1vdmVUb1Bvc2l0aW9uKHRoaXMucmVsYXRpb25zW2IudWlkXS5lbGVtZW50LFxuYVtiLnR5cGVdKTtyZXR1cm4gY319KCksc3RvcmU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsYyxkKXt2YXIgZT1iLmdldFVuaXF1ZUlkKCk7ZSBpbiBkP2RbZV0udHlwZXw9YzpkW2VdPXtlbGVtZW50OmIsdHlwZTpjfX1yZXR1cm4gZnVuY3Rpb24oYyxlKXt2YXIgZjtlJkNLRURJVE9SLkxJTkVVVElMU19BRlRFUiYmYihmPWMuZ2V0TmV4dCgpKSYmZi5pc1Zpc2libGUoKSYmKGEoZixDS0VESVRPUi5MSU5FVVRJTFNfQkVGT1JFLHRoaXMucmVsYXRpb25zKSxlXj1DS0VESVRPUi5MSU5FVVRJTFNfQUZURVIpO2UmQ0tFRElUT1IuTElORVVUSUxTX0lOU0lERSYmYihmPWMuZ2V0Rmlyc3QoKSkmJmYuaXNWaXNpYmxlKCkmJihhKGYsQ0tFRElUT1IuTElORVVUSUxTX0JFRk9SRSx0aGlzLnJlbGF0aW9ucyksZV49Q0tFRElUT1IuTElORVVUSUxTX0lOU0lERSk7YShjLGUsdGhpcy5yZWxhdGlvbnMpfX0oKSx0cmF2ZXJzZVNlYXJjaDpmdW5jdGlvbihhKXt2YXIgYyxlLGY7ZG8gaWYoZj1hLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdLFxuIShmJiZmIGluIHRoaXMucmVsYXRpb25zKSl7aWYoYS5lcXVhbHModGhpcy5lZGl0YWJsZSkpYnJlYWs7aWYoYihhKSlmb3IoYyBpbiB0aGlzLmxvb2t1cHMpKGU9dGhpcy5sb29rdXBzW2NdKGEpKSYmdGhpcy5zdG9yZShhLGUpfXdoaWxlKCghYXx8YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fFwidHJ1ZVwiIT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSkmJihhPWEuZ2V0UGFyZW50KCkpKX0scGl4ZWxTZWFyY2g6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGQsZSxmLGssbCl7Zm9yKHZhciBtPTAsdTtsKGYpOyl7Zis9aztpZigyNT09KyttKWJyZWFrO2lmKHU9dGhpcy5kb2MuJC5lbGVtZW50RnJvbVBvaW50KGUsZikpaWYodT09ZCltPTA7ZWxzZSBpZihjKGQsdSkmJihtPTAsYih1PW5ldyBDS0VESVRPUi5kb20uZWxlbWVudCh1KSkpKXJldHVybiB1fX12YXIgYz1DS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi53ZWJraXQ/ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb250YWlucyhiKX06XG5mdW5jdGlvbihhLGIpe3JldHVybiEhKGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYikmMTYpfTtyZXR1cm4gZnVuY3Rpb24oYyxlLGYpe3ZhciBoPXRoaXMud2luLmdldFZpZXdQYW5lU2l6ZSgpLmhlaWdodCxrPWEuY2FsbCh0aGlzLGMuJCxlLGYsLTEsZnVuY3Rpb24oYSl7cmV0dXJuIDA8YX0pO2U9YS5jYWxsKHRoaXMsYy4kLGUsZiwxLGZ1bmN0aW9uKGEpe3JldHVybiBhPGh9KTtpZihrKWZvcih0aGlzLnRyYXZlcnNlU2VhcmNoKGspOyFrLmdldFBhcmVudCgpLmVxdWFscyhjKTspaz1rLmdldFBhcmVudCgpO2lmKGUpZm9yKHRoaXMudHJhdmVyc2VTZWFyY2goZSk7IWUuZ2V0UGFyZW50KCkuZXF1YWxzKGMpOyllPWUuZ2V0UGFyZW50KCk7Zm9yKDtrfHxlOyl7ayYmKGs9ay5nZXROZXh0KGIpKTtpZigha3x8ay5lcXVhbHMoZSkpYnJlYWs7dGhpcy50cmF2ZXJzZVNlYXJjaChrKTtlJiYoZT1lLmdldFByZXZpb3VzKGIpKTtpZighZXx8ZS5lcXVhbHMoaykpYnJlYWs7dGhpcy50cmF2ZXJzZVNlYXJjaChlKX19fSgpLFxuZ3JlZWR5U2VhcmNoOmZ1bmN0aW9uKCl7dGhpcy5yZWxhdGlvbnM9e307Zm9yKHZhciBhPXRoaXMuZWRpdGFibGUuZ2V0RWxlbWVudHNCeVRhZyhcIipcIiksYz0wLGUsZixrO2U9YS5nZXRJdGVtKGMrKyk7KWlmKCFlLmVxdWFscyh0aGlzLmVkaXRhYmxlKSYmZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihlLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKXx8IWUuaXNSZWFkT25seSgpKSYmYihlKSYmZS5pc1Zpc2libGUoKSlmb3IoayBpbiB0aGlzLmxvb2t1cHMpKGY9dGhpcy5sb29rdXBzW2tdKGUpKSYmdGhpcy5zdG9yZShlLGYpO3JldHVybiB0aGlzLnJlbGF0aW9uc319O2YucHJvdG90eXBlPXtsb2NhdGU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGMsZCl7dmFyIGU9Yy5lbGVtZW50W2Q9PT1DS0VESVRPUi5MSU5FVVRJTFNfQkVGT1JFP1wiZ2V0UHJldmlvdXNcIjpcImdldE5leHRcIl0oKTtyZXR1cm4gZSYmYihlKT8oYy5zaWJsaW5nUmVjdD1lLmdldENsaWVudFJlY3QoKSxcbmQ9PUNLRURJVE9SLkxJTkVVVElMU19CRUZPUkU/KGMuc2libGluZ1JlY3QuYm90dG9tK2MuZWxlbWVudFJlY3QudG9wKS8yOihjLmVsZW1lbnRSZWN0LmJvdHRvbStjLnNpYmxpbmdSZWN0LnRvcCkvMik6ZD09Q0tFRElUT1IuTElORVVUSUxTX0JFRk9SRT9jLmVsZW1lbnRSZWN0LnRvcDpjLmVsZW1lbnRSZWN0LmJvdHRvbX1yZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM7dGhpcy5sb2NhdGlvbnM9e307Zm9yKHZhciBlIGluIGIpYz1iW2VdLGMuZWxlbWVudFJlY3Q9Yy5lbGVtZW50LmdldENsaWVudFJlY3QoKSxjLnR5cGUmQ0tFRElUT1IuTElORVVUSUxTX0JFRk9SRSYmdGhpcy5zdG9yZShlLENLRURJVE9SLkxJTkVVVElMU19CRUZPUkUsYShjLENLRURJVE9SLkxJTkVVVElMU19CRUZPUkUpKSxjLnR5cGUmQ0tFRElUT1IuTElORVVUSUxTX0FGVEVSJiZ0aGlzLnN0b3JlKGUsQ0tFRElUT1IuTElORVVUSUxTX0FGVEVSLGEoYyxDS0VESVRPUi5MSU5FVVRJTFNfQUZURVIpKSxjLnR5cGUmXG5DS0VESVRPUi5MSU5FVVRJTFNfSU5TSURFJiZ0aGlzLnN0b3JlKGUsQ0tFRElUT1IuTElORVVUSUxTX0lOU0lERSwoYy5lbGVtZW50UmVjdC50b3ArYy5lbGVtZW50UmVjdC5ib3R0b20pLzIpO3JldHVybiB0aGlzLmxvY2F0aW9uc319KCksc29ydDpmdW5jdGlvbigpe3ZhciBhLGIsYyxlO3JldHVybiBmdW5jdGlvbihmLGspe2E9dGhpcy5sb2NhdGlvbnM7Yj1bXTtmb3IodmFyIGwgaW4gYSlmb3IodmFyIG0gaW4gYVtsXSlpZihjPU1hdGguYWJzKGYtYVtsXVttXSksYi5sZW5ndGgpe2ZvcihlPTA7ZTxiLmxlbmd0aDtlKyspaWYoYzxiW2VdLmRpc3Qpe2Iuc3BsaWNlKGUsMCx7dWlkOitsLHR5cGU6bSxkaXN0OmN9KTticmVha31lPT1iLmxlbmd0aCYmYi5wdXNoKHt1aWQ6K2wsdHlwZTptLGRpc3Q6Y30pfWVsc2UgYi5wdXNoKHt1aWQ6K2wsdHlwZTptLGRpc3Q6Y30pO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBrP2Iuc2xpY2UoMCxrKTpifX0oKSxzdG9yZTpmdW5jdGlvbihhLFxuYixjKXt0aGlzLmxvY2F0aW9uc1thXXx8KHRoaXMubG9jYXRpb25zW2FdPXt9KTt0aGlzLmxvY2F0aW9uc1thXVtiXT1jfX07dmFyIGM9e2Rpc3BsYXk6XCJibG9ja1wiLHdpZHRoOlwiMHB4XCIsaGVpZ2h0OlwiMHB4XCIsXCJib3JkZXItY29sb3JcIjpcInRyYW5zcGFyZW50XCIsXCJib3JkZXItc3R5bGVcIjpcInNvbGlkXCIscG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDpcIi02cHhcIn0saz17aGVpZ2h0OlwiMHB4XCIsXCJib3JkZXItdG9wXCI6XCIxcHggZGFzaGVkIHJlZFwiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIixcInotaW5kZXhcIjo5OTk5fTtlLnByb3RvdHlwZT17cmVtb3ZlQWxsOmZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuaGlkZGVuKXRoaXMuaGlkZGVuW2FdLnJlbW92ZSgpLGRlbGV0ZSB0aGlzLmhpZGRlblthXTtmb3IoYSBpbiB0aGlzLnZpc2libGUpdGhpcy52aXNpYmxlW2FdLnJlbW92ZSgpLGRlbGV0ZSB0aGlzLnZpc2libGVbYV19LGhpZGVMaW5lOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0VW5pcXVlSWQoKTtcbmEuaGlkZSgpO3RoaXMuaGlkZGVuW2JdPWE7ZGVsZXRlIHRoaXMudmlzaWJsZVtiXX0sc2hvd0xpbmU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRVbmlxdWVJZCgpO2Euc2hvdygpO3RoaXMudmlzaWJsZVtiXT1hO2RlbGV0ZSB0aGlzLmhpZGRlbltiXX0saGlkZVZpc2libGU6ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcy52aXNpYmxlKXRoaXMuaGlkZUxpbmUodGhpcy52aXNpYmxlW2FdKX0scGxhY2VMaW5lOmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmO2lmKGM9dGhpcy5nZXRTdHlsZShhLnVpZCxhLnR5cGUpKXtmb3IoZiBpbiB0aGlzLnZpc2libGUpaWYodGhpcy52aXNpYmxlW2ZdLmdldEN1c3RvbURhdGEoXCJoYXNoXCIpIT09dGhpcy5oYXNoKXtlPXRoaXMudmlzaWJsZVtmXTticmVha31pZighZSlmb3IoZiBpbiB0aGlzLmhpZGRlbilpZih0aGlzLmhpZGRlbltmXS5nZXRDdXN0b21EYXRhKFwiaGFzaFwiKSE9PXRoaXMuaGFzaCl7dGhpcy5zaG93TGluZShlPXRoaXMuaGlkZGVuW2ZdKTtcbmJyZWFrfWV8fHRoaXMuc2hvd0xpbmUoZT10aGlzLmFkZExpbmUoKSk7ZS5zZXRDdXN0b21EYXRhKFwiaGFzaFwiLHRoaXMuaGFzaCk7dGhpcy52aXNpYmxlW2UuZ2V0VW5pcXVlSWQoKV09ZTtlLnNldFN0eWxlcyhjKTtiJiZiKGUpfX0sZ2V0U3R5bGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnJlbGF0aW9uc1thXSxlPXRoaXMubG9jYXRpb25zW2FdW2JdLGY9e307Zi53aWR0aD1jLnNpYmxpbmdSZWN0P01hdGgubWF4KGMuc2libGluZ1JlY3Qud2lkdGgsYy5lbGVtZW50UmVjdC53aWR0aCk6Yy5lbGVtZW50UmVjdC53aWR0aDtmLnRvcD10aGlzLmlubGluZT9lK3RoaXMud2luVG9wU2Nyb2xsLnktdGhpcy5yZWN0LnJlbGF0aXZlWTp0aGlzLnJlY3QudG9wK3RoaXMud2luVG9wU2Nyb2xsLnkrZTtpZihmLnRvcC10aGlzLndpblRvcFNjcm9sbC55PHRoaXMucmVjdC50b3B8fGYudG9wLXRoaXMud2luVG9wU2Nyb2xsLnk+dGhpcy5yZWN0LmJvdHRvbSlyZXR1cm4hMTt0aGlzLmlubGluZT9cbmYubGVmdD1jLmVsZW1lbnRSZWN0LmxlZnQtdGhpcy5yZWN0LnJlbGF0aXZlWDooMDxjLmVsZW1lbnRSZWN0LmxlZnQ/Zi5sZWZ0PXRoaXMucmVjdC5sZWZ0K2MuZWxlbWVudFJlY3QubGVmdDooZi53aWR0aCs9Yy5lbGVtZW50UmVjdC5sZWZ0LGYubGVmdD10aGlzLnJlY3QubGVmdCksMDwoYz1mLmxlZnQrZi53aWR0aC0odGhpcy5yZWN0LmxlZnQrdGhpcy53aW5QYW5lLndpZHRoKSkmJihmLndpZHRoLT1jKSk7Zi5sZWZ0Kz10aGlzLndpblRvcFNjcm9sbC54O2Zvcih2YXIgayBpbiBmKWZba109Q0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoKGZba10pO3JldHVybiBmfSxhZGRMaW5lOmZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwodGhpcy5saW5lVHBsKTthLmFwcGVuZFRvKHRoaXMuY29udGFpbmVyKTtyZXR1cm4gYX0scHJlcGFyZTpmdW5jdGlvbihhLGIpe3RoaXMucmVsYXRpb25zPWE7dGhpcy5sb2NhdGlvbnM9Yjt0aGlzLmhhc2g9TWF0aC5yYW5kb20oKX0sXG5jbGVhbnVwOmZ1bmN0aW9uKCl7dmFyIGEsYjtmb3IoYiBpbiB0aGlzLnZpc2libGUpYT10aGlzLnZpc2libGVbYl0sYS5nZXRDdXN0b21EYXRhKFwiaGFzaFwiKSE9PXRoaXMuaGFzaCYmdGhpcy5oaWRlTGluZShhKX0scXVlcnlWaWV3cG9ydDpmdW5jdGlvbigpe3RoaXMud2luUGFuZT10aGlzLndpbi5nZXRWaWV3UGFuZVNpemUoKTt0aGlzLndpblRvcFNjcm9sbD10aGlzLndpblRvcC5nZXRTY3JvbGxQb3NpdGlvbigpO3RoaXMud2luVG9wUGFuZT10aGlzLndpblRvcC5nZXRWaWV3UGFuZVNpemUoKTt0aGlzLnJlY3Q9dGhpcy5nZXRDbGllbnRSZWN0KHRoaXMuaW5saW5lP3RoaXMuZWRpdGFibGU6dGhpcy5mcmFtZSl9LGdldENsaWVudFJlY3Q6ZnVuY3Rpb24oYSl7YT1hLmdldENsaWVudFJlY3QoKTt2YXIgYj10aGlzLmNvbnRhaW5lci5nZXREb2N1bWVudFBvc2l0aW9uKCksYz10aGlzLmNvbnRhaW5lci5nZXRDb21wdXRlZFN0eWxlKFwicG9zaXRpb25cIik7YS5yZWxhdGl2ZVg9YS5yZWxhdGl2ZVk9XG4wO1wic3RhdGljXCIhPWMmJihhLnJlbGF0aXZlWT1iLnksYS5yZWxhdGl2ZVg9Yi54LGEudG9wLT1hLnJlbGF0aXZlWSxhLmJvdHRvbS09YS5yZWxhdGl2ZVksYS5sZWZ0LT1hLnJlbGF0aXZlWCxhLnJpZ2h0LT1hLnJlbGF0aXZlWCk7cmV0dXJuIGF9fTt2YXIgbD17bGVmdDoxLHJpZ2h0OjEsY2VudGVyOjF9LG09e2Fic29sdXRlOjEsZml4ZWQ6MX07Q0tFRElUT1IucGx1Z2lucy5saW5ldXRpbHM9e2ZpbmRlcjphLGxvY2F0b3I6ZixsaW5lcjplfX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7cmV0dXJuIGEuZ2V0TmFtZSYmIWEuaGFzQXR0cmlidXRlKFwiZGF0YS1ja2UtdGVtcFwiKX1DS0VESVRPUi5wbHVnaW5zLmFkZChcIndpZGdldHNlbGVjdGlvblwiLHtpbml0OmZ1bmN0aW9uKGEpe2lmKENLRURJVE9SLmVudi53ZWJraXQpe3ZhciBlPUNLRURJVE9SLnBsdWdpbnMud2lkZ2V0c2VsZWN0aW9uO2Eub24oXCJjb250ZW50RG9tXCIsZnVuY3Rpb24oYSl7YT1hLmVkaXRvcjt2YXIgYz1hLmVkaXRhYmxlKCk7XG5jLmF0dGFjaExpc3RlbmVyKGMsXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7YS5kYXRhLmdldEtleXN0cm9rZSgpPT1DS0VESVRPUi5DVFJMKzY1JiZDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5hZGRGaWxsZXJzKGMpfHxlLnJlbW92ZUZpbGxlcnMoYyl9LDApfSxudWxsLG51bGwsLTEpO2Eub24oXCJzZWxlY3Rpb25DaGVja1wiLGZ1bmN0aW9uKGEpe2UucmVtb3ZlRmlsbGVycyhhLmVkaXRvci5lZGl0YWJsZSgpKX0pO2Eub24oXCJwYXN0ZVwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5kYXRhVmFsdWU9ZS5jbGVhblBhc3RlRGF0YShhLmRhdGEuZGF0YVZhbHVlKX0pO1wic2VsZWN0YWxsXCJpbiBhLnBsdWdpbnMmJmUuYWRkU2VsZWN0QWxsSW50ZWdyYXRpb24oYSl9KX19fSk7Q0tFRElUT1IucGx1Z2lucy53aWRnZXRzZWxlY3Rpb249e3N0YXJ0RmlsbGVyOm51bGwsZW5kRmlsbGVyOm51bGwsZmlsbGVyQXR0cmlidXRlOlwiZGF0YS1ja2UtZmlsbGVyLXdlYmtpdFwiLGZpbGxlckNvbnRlbnQ6XCJcXHgyNm5ic3A7XCIsXG5maWxsZXJUYWdOYW1lOlwiZGl2XCIsYWRkRmlsbGVyczpmdW5jdGlvbihmKXt2YXIgZT1mLmVkaXRvcjtpZighdGhpcy5pc1dob2xlQ29udGVudFNlbGVjdGVkKGYpJiYwPGYuZ2V0Q2hpbGRDb3VudCgpKXt2YXIgYj1mLmdldEZpcnN0KGEpLGM9Zi5nZXRMYXN0KGEpO2ImJmIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhYi5pc0VkaXRhYmxlKCkmJih0aGlzLnN0YXJ0RmlsbGVyPXRoaXMuY3JlYXRlRmlsbGVyKCksZi5hcHBlbmQodGhpcy5zdGFydEZpbGxlciwxKSk7YyYmYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFjLmlzRWRpdGFibGUoKSYmKHRoaXMuZW5kRmlsbGVyPXRoaXMuY3JlYXRlRmlsbGVyKCEwKSxmLmFwcGVuZCh0aGlzLmVuZEZpbGxlciwwKSk7aWYodGhpcy5oYXNGaWxsZXIoZikpcmV0dXJuIGU9ZS5jcmVhdGVSYW5nZSgpLGUuc2VsZWN0Tm9kZUNvbnRlbnRzKGYpLGUuc2VsZWN0KCksITB9cmV0dXJuITF9LHJlbW92ZUZpbGxlcnM6ZnVuY3Rpb24oYSl7aWYodGhpcy5oYXNGaWxsZXIoYSkmJlxuIXRoaXMuaXNXaG9sZUNvbnRlbnRTZWxlY3RlZChhKSl7dmFyIGU9YS5maW5kT25lKHRoaXMuZmlsbGVyVGFnTmFtZStcIltcIit0aGlzLmZpbGxlckF0dHJpYnV0ZStcIlxceDNkc3RhcnRdXCIpLGI9YS5maW5kT25lKHRoaXMuZmlsbGVyVGFnTmFtZStcIltcIit0aGlzLmZpbGxlckF0dHJpYnV0ZStcIlxceDNkZW5kXVwiKTt0aGlzLnN0YXJ0RmlsbGVyJiZlJiZ0aGlzLnN0YXJ0RmlsbGVyLmVxdWFscyhlKT90aGlzLnJlbW92ZUZpbGxlcih0aGlzLnN0YXJ0RmlsbGVyLGEpOnRoaXMuc3RhcnRGaWxsZXI9ZTt0aGlzLmVuZEZpbGxlciYmYiYmdGhpcy5lbmRGaWxsZXIuZXF1YWxzKGIpP3RoaXMucmVtb3ZlRmlsbGVyKHRoaXMuZW5kRmlsbGVyLGEpOnRoaXMuZW5kRmlsbGVyPWJ9fSxjbGVhblBhc3RlRGF0YTpmdW5jdGlvbihhKXthJiZhLmxlbmd0aCYmKGE9YS5yZXBsYWNlKHRoaXMuY3JlYXRlRmlsbGVyUmVnZXgoKSxcIlwiKS5yZXBsYWNlKHRoaXMuY3JlYXRlRmlsbGVyUmVnZXgoITApLFwiXCIpKTtcbnJldHVybiBhfSxpc1dob2xlQ29udGVudFNlbGVjdGVkOmZ1bmN0aW9uKGEpe3ZhciBlPWEuZWRpdG9yLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdO3JldHVybiFlfHxlJiZlLmNvbGxhcHNlZD8hMTooZT1lLmNsb25lKCksZS5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfRUxFTUVOVCksISEoZSYmYSYmZS5zdGFydENvbnRhaW5lciYmZS5lbmRDb250YWluZXImJjA9PT1lLnN0YXJ0T2Zmc2V0JiZlLmVuZE9mZnNldD09PWEuZ2V0Q2hpbGRDb3VudCgpJiZlLnN0YXJ0Q29udGFpbmVyLmVxdWFscyhhKSYmZS5lbmRDb250YWluZXIuZXF1YWxzKGEpKSl9LGhhc0ZpbGxlcjpmdW5jdGlvbihhKXtyZXR1cm4gMDxhLmZpbmQodGhpcy5maWxsZXJUYWdOYW1lK1wiW1wiK3RoaXMuZmlsbGVyQXR0cmlidXRlK1wiXVwiKS5jb3VudCgpfSxjcmVhdGVGaWxsZXI6ZnVuY3Rpb24oYSl7dmFyIGU9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHRoaXMuZmlsbGVyVGFnTmFtZSk7ZS5zZXRIdG1sKHRoaXMuZmlsbGVyQ29udGVudCk7XG5lLnNldEF0dHJpYnV0ZSh0aGlzLmZpbGxlckF0dHJpYnV0ZSxhP1wiZW5kXCI6XCJzdGFydFwiKTtlLnNldEF0dHJpYnV0ZShcImRhdGEtY2tlLXRlbXBcIiwxKTtlLnNldFN0eWxlcyh7ZGlzcGxheTpcImJsb2NrXCIsd2lkdGg6MCxoZWlnaHQ6MCxwYWRkaW5nOjAsYm9yZGVyOjAsbWFyZ2luOjAscG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDowLGxlZnQ6XCItOTk5OXB4XCIsb3BhY2l0eTowLG92ZXJmbG93OlwiaGlkZGVuXCJ9KTtyZXR1cm4gZX0scmVtb3ZlRmlsbGVyOmZ1bmN0aW9uKGEsZSl7aWYoYSl7dmFyIGI9ZS5lZGl0b3IsYz1lLmVkaXRvci5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXS5zdGFydFBhdGgoKSxrPWIuY3JlYXRlUmFuZ2UoKSxsLG07Yy5jb250YWlucyhhKSYmKGw9YS5nZXRIdG1sKCksbT0hMCk7Yz1cInN0YXJ0XCI9PWEuZ2V0QXR0cmlidXRlKHRoaXMuZmlsbGVyQXR0cmlidXRlKTthLnJlbW92ZSgpO2wmJjA8bC5sZW5ndGgmJmwhPXRoaXMuZmlsbGVyQ29udGVudD8oZS5pbnNlcnRIdG1sSW50b1JhbmdlKGwsXG5iLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdKSxrLnNldFN0YXJ0QXQoZS5nZXRDaGlsZChlLmdldENoaWxkQ291bnQoKS0xKSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxiLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhba10pKTptJiYoYz9rLnNldFN0YXJ0QXQoZS5nZXRGaXJzdCgpLmdldE5leHQoKSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk6ay5zZXRFbmRBdChlLmdldExhc3QoKS5nZXRQcmV2aW91cygpLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLGUuZWRpdG9yLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhba10pKX19LGNyZWF0ZUZpbGxlclJlZ2V4OmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuY3JlYXRlRmlsbGVyKGEpLmdldE91dGVySHRtbCgpLnJlcGxhY2UoL3N0eWxlPVwiW15cIl0qXCIvZ2ksJ3N0eWxlXFx4M2RcIlteXCJdKlwiJykucmVwbGFjZSgvPltePF0qPC9naSxcIlxceDNlW15cXHgzY10qXFx4M2NcIik7cmV0dXJuIG5ldyBSZWdFeHAoKGE/XG5cIlwiOlwiXlwiKStlKyhhP1wiJFwiOlwiXCIpKX0sYWRkU2VsZWN0QWxsSW50ZWdyYXRpb246ZnVuY3Rpb24oYSl7dmFyIGU9dGhpczthLmVkaXRhYmxlKCkuYXR0YWNoTGlzdGVuZXIoYSxcImJlZm9yZUNvbW1hbmRFeGVjXCIsZnVuY3Rpb24oYil7dmFyIGM9YS5lZGl0YWJsZSgpO1wic2VsZWN0QWxsXCI9PWIuZGF0YS5uYW1lJiZjJiZlLmFkZEZpbGxlcnMoYyl9LG51bGwsbnVsbCw5OTk5KX19fSgpLFwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt0aGlzLmVkaXRvcj1hO3RoaXMucmVnaXN0ZXJlZD17fTt0aGlzLmluc3RhbmNlcz17fTt0aGlzLnNlbGVjdGVkPVtdO3RoaXMud2lkZ2V0SG9sZGluZ0ZvY3VzZWRFZGl0YWJsZT10aGlzLmZvY3VzZWQ9bnVsbDt0aGlzLl89e25leHRJZDowLHVwY2FzdHM6W10sdXBjYXN0Q2FsbGJhY2tzOltdLGZpbHRlcnM6e319O0ModGhpcyk7RCh0aGlzKTt0aGlzLm9uKFwiY2hlY2tXaWRnZXRzXCIsbCk7dGhpcy5lZGl0b3Iub24oXCJjb250ZW50RG9tSW52YWxpZGF0ZWRcIixcbnRoaXMuY2hlY2tXaWRnZXRzLHRoaXMpO0IodGhpcyk7eSh0aGlzKTt0KHRoaXMpO0EodGhpcyk7dih0aGlzKX1mdW5jdGlvbiBmKGEsYixjLGQsZSl7dmFyIGc9YS5lZGl0b3I7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsZCx7ZWRpdG9yOmcsaWQ6YixpbmxpbmU6XCJzcGFuXCI9PWMuZ2V0UGFyZW50KCkuZ2V0TmFtZSgpLGVsZW1lbnQ6YyxkYXRhOkNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBkLmRlZmF1bHRzP2QuZGVmYXVsdHMoKTpkLmRlZmF1bHRzKSxkYXRhUmVhZHk6ITEsaW5pdGVkOiExLHJlYWR5OiExLGVkaXQ6Zi5wcm90b3R5cGUuZWRpdCxmb2N1c2VkRWRpdGFibGU6bnVsbCxkZWZpbml0aW9uOmQscmVwb3NpdG9yeTphLGRyYWdnYWJsZTohMSE9PWQuZHJhZ2dhYmxlLF86e2Rvd25jYXN0Rm46ZC5kb3duY2FzdCYmXCJzdHJpbmdcIj09dHlwZW9mIGQuZG93bmNhc3Q/ZC5kb3duY2FzdHNbZC5kb3duY2FzdF06ZC5kb3duY2FzdH19LCEwKTtcbmEuZmlyZShcImluc3RhbmNlQ3JlYXRlZFwiLHRoaXMpO08odGhpcyxkKTt0aGlzLmluaXQmJnRoaXMuaW5pdCgpO3RoaXMuaW5pdGVkPSEwOyhhPXRoaXMuZWxlbWVudC5kYXRhKFwiY2tlLXdpZGdldC1kYXRhXCIpKSYmdGhpcy5zZXREYXRhKEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KGEpKSk7ZSYmdGhpcy5zZXREYXRhKGUpO3RoaXMuZGF0YS5jbGFzc2VzfHx0aGlzLnNldERhdGEoXCJjbGFzc2VzXCIsdGhpcy5nZXRDbGFzc2VzKCkpO3RoaXMuZGF0YVJlYWR5PSEwO1oodGhpcyk7dGhpcy5maXJlKFwiZGF0YVwiLHRoaXMuZGF0YSk7dGhpcy5pc0luaXRlZCgpJiZnLmVkaXRhYmxlKCkuY29udGFpbnModGhpcy53cmFwcGVyKSYmKHRoaXMucmVhZHk9ITAsdGhpcy5maXJlKFwicmVhZHlcIikpfWZ1bmN0aW9uIGUoYSxiLGMpe0NLRURJVE9SLmRvbS5lbGVtZW50LmNhbGwodGhpcyxiLiQpO3RoaXMuZWRpdG9yPWE7dGhpcy5fPXt9O2I9dGhpcy5maWx0ZXI9Yy5maWx0ZXI7Q0tFRElUT1IuZHRkW3RoaXMuZ2V0TmFtZSgpXS5wP1xuKHRoaXMuZW50ZXJNb2RlPWI/Yi5nZXRBbGxvd2VkRW50ZXJNb2RlKGEuZW50ZXJNb2RlKTphLmVudGVyTW9kZSx0aGlzLnNoaWZ0RW50ZXJNb2RlPWI/Yi5nZXRBbGxvd2VkRW50ZXJNb2RlKGEuc2hpZnRFbnRlck1vZGUsITApOmEuc2hpZnRFbnRlck1vZGUpOnRoaXMuZW50ZXJNb2RlPXRoaXMuc2hpZnRFbnRlck1vZGU9Q0tFRElUT1IuRU5URVJfQlJ9ZnVuY3Rpb24gYihhLGIpe2EuYWRkQ29tbWFuZChiLm5hbWUse2V4ZWM6ZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBkKCl7YS53aWRnZXRzLmZpbmFsaXplQ3JlYXRpb24oaCl9dmFyIGU9YS53aWRnZXRzLmZvY3VzZWQ7aWYoZSYmZS5uYW1lPT1iLm5hbWUpZS5lZGl0KCk7ZWxzZSBpZihiLmluc2VydCliLmluc2VydCh7ZWRpdG9yOmEsY29tbWFuZERhdGE6Y30pO2Vsc2UgaWYoYi50ZW1wbGF0ZSl7dmFyIGU9XCJmdW5jdGlvblwiPT10eXBlb2YgYi5kZWZhdWx0cz9iLmRlZmF1bHRzKCk6Yi5kZWZhdWx0cyxlPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKGIudGVtcGxhdGUub3V0cHV0KGUpLFxuYS5kb2N1bWVudCksZixnPWEud2lkZ2V0cy53cmFwRWxlbWVudChlLGIubmFtZSksaD1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoZy5nZXREb2N1bWVudCgpKTtoLmFwcGVuZChnKTsoZj1hLndpZGdldHMuaW5pdE9uKGUsYixjJiZjLnN0YXJ0dXBEYXRhKSk/KGU9Zi5vbmNlKFwiZWRpdFwiLGZ1bmN0aW9uKGIpe2lmKGIuZGF0YS5kaWFsb2cpZi5vbmNlKFwiZGlhbG9nXCIsZnVuY3Rpb24oYil7Yj1iLmRhdGE7dmFyIGMsZTtjPWIub25jZShcIm9rXCIsZCxudWxsLG51bGwsMjApO2U9Yi5vbmNlKFwiY2FuY2VsXCIsZnVuY3Rpb24oYil7Yi5kYXRhJiYhMT09PWIuZGF0YS5oaWRlfHxhLndpZGdldHMuZGVzdHJveShmLCEwKX0pO2Iub25jZShcImhpZGVcIixmdW5jdGlvbigpe2MucmVtb3ZlTGlzdGVuZXIoKTtlLnJlbW92ZUxpc3RlbmVyKCl9KX0pO2Vsc2UgZCgpfSxudWxsLG51bGwsOTk5KSxmLmVkaXQoKSxlLnJlbW92ZUxpc3RlbmVyKCkpOmQoKX19LGFsbG93ZWRDb250ZW50OmIuYWxsb3dlZENvbnRlbnQsXG5yZXF1aXJlZENvbnRlbnQ6Yi5yZXF1aXJlZENvbnRlbnQsY29udGVudEZvcm1zOmIuY29udGVudEZvcm1zLGNvbnRlbnRUcmFuc2Zvcm1hdGlvbnM6Yi5jb250ZW50VHJhbnNmb3JtYXRpb25zfSl9ZnVuY3Rpb24gYyhhLGIpe2Z1bmN0aW9uIGMoYSxkKXt2YXIgZT1iLnVwY2FzdC5zcGxpdChcIixcIiksZixnO2ZvcihnPTA7ZzxlLmxlbmd0aDtnKyspaWYoZj1lW2ddLGY9PT1hLm5hbWUpcmV0dXJuIGIudXBjYXN0c1tmXS5jYWxsKHRoaXMsYSxkKTtyZXR1cm4hMX1mdW5jdGlvbiBkKGIsYyxlKXt2YXIgZj1DS0VESVRPUi50b29scy5nZXRJbmRleChhLl8udXBjYXN0cyxmdW5jdGlvbihhKXtyZXR1cm4gYVsyXT5lfSk7MD5mJiYoZj1hLl8udXBjYXN0cy5sZW5ndGgpO2EuXy51cGNhc3RzLnNwbGljZShmLDAsW0NLRURJVE9SLnRvb2xzLmJpbmQoYixjKSxjLm5hbWUsZV0pfXZhciBlPWIudXBjYXN0LGY9Yi51cGNhc3RQcmlvcml0eXx8MTA7ZSYmKFwic3RyaW5nXCI9PXR5cGVvZiBlP2QoYyxcbmIsZik6ZChlLGIsZikpfWZ1bmN0aW9uIGsoYSxiKXthLmZvY3VzZWQ9bnVsbDtpZihiLmlzSW5pdGVkKCkpe3ZhciBjPWIuZWRpdG9yLmNoZWNrRGlydHkoKTthLmZpcmUoXCJ3aWRnZXRCbHVycmVkXCIse3dpZGdldDpifSk7Yi5zZXRGb2N1c2VkKCExKTshYyYmYi5lZGl0b3IucmVzZXREaXJ0eSgpfX1mdW5jdGlvbiBsKGEpe2E9YS5kYXRhO2lmKFwid3lzaXd5Z1wiPT10aGlzLmVkaXRvci5tb2RlKXt2YXIgYj10aGlzLmVkaXRvci5lZGl0YWJsZSgpLGM9dGhpcy5pbnN0YW5jZXMsZCxlLGcsaDtpZihiKXtmb3IoZCBpbiBjKWNbZF0uaXNSZWFkeSgpJiYhYi5jb250YWlucyhjW2RdLndyYXBwZXIpJiZ0aGlzLmRlc3Ryb3koY1tkXSwhMCk7aWYoYSYmYS5pbml0T25seU5ldyljPXRoaXMuaW5pdE9uQWxsKCk7ZWxzZXt2YXIgaz1iLmZpbmQoXCIuY2tlX3dpZGdldF93cmFwcGVyXCIpLGM9W107ZD0wO2ZvcihlPWsuY291bnQoKTtkPGU7ZCsrKXtnPWsuZ2V0SXRlbShkKTtpZihoPSF0aGlzLmdldEJ5RWxlbWVudChnLFxuITApKXthOntoPXA7Zm9yKHZhciBsPWc7bD1sLmdldFBhcmVudCgpOylpZihoKGwpKXtoPSEwO2JyZWFrIGF9aD0hMX1oPSFofWgmJmIuY29udGFpbnMoZykmJihnLmFkZENsYXNzKFwiY2tlX3dpZGdldF9uZXdcIiksYy5wdXNoKHRoaXMuaW5pdE9uKGcuZ2V0Rmlyc3QoZi5pc0RvbVdpZGdldEVsZW1lbnQpKSkpfX1hJiZhLmZvY3VzSW5pdGVkJiYxPT1jLmxlbmd0aCYmY1swXS5mb2N1cygpfX19ZnVuY3Rpb24gbShhKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5hdHRyaWJ1dGVzJiZhLmF0dHJpYnV0ZXNbXCJkYXRhLXdpZGdldFwiXSl7dmFyIGI9ZChhKSxjPWgoYSksZT0hMTtiJiZiLnZhbHVlJiZiLnZhbHVlLm1hdGNoKC9eXFxzL2cpJiYoYi5wYXJlbnQuYXR0cmlidXRlc1tcImRhdGEtY2tlLXdoaXRlLXNwYWNlLWZpcnN0XCJdPTEsYi52YWx1ZT1iLnZhbHVlLnJlcGxhY2UoL15cXHMvZyxcIlxceDI2bmJzcDtcIiksZT0hMCk7YyYmYy52YWx1ZSYmYy52YWx1ZS5tYXRjaCgvXFxzJC9nKSYmKGMucGFyZW50LmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS13aGl0ZS1zcGFjZS1sYXN0XCJdPVxuMSxjLnZhbHVlPWMudmFsdWUucmVwbGFjZSgvXFxzJC9nLFwiXFx4MjZuYnNwO1wiKSxlPSEwKTtlJiYoYS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2Utd2lkZ2V0LXdoaXRlLXNwYWNlXCJdPTEpfX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLmZpbmQoZnVuY3Rpb24oYSl7cmV0dXJuIDM9PT1hLnR5cGV9LCEwKS5zaGlmdCgpfWZ1bmN0aW9uIGgoYSl7cmV0dXJuIGEuZmluZChmdW5jdGlvbihhKXtyZXR1cm4gMz09PWEudHlwZX0sITApLnBvcCgpfWZ1bmN0aW9uIGcoYSxiLGMpe2lmKCFjLmFsbG93ZWRDb250ZW50JiYhYy5kaXNhbGxvd2VkQ29udGVudClyZXR1cm4gbnVsbDt2YXIgZD10aGlzLl8uZmlsdGVyc1thXTtkfHwodGhpcy5fLmZpbHRlcnNbYV09ZD17fSk7YT1kW2JdO2F8fChhPWMuYWxsb3dlZENvbnRlbnQ/bmV3IENLRURJVE9SLmZpbHRlcihjLmFsbG93ZWRDb250ZW50KTp0aGlzLmVkaXRvci5maWx0ZXIuY2xvbmUoKSxkW2JdPWEsYy5kaXNhbGxvd2VkQ29udGVudCYmYS5kaXNhbGxvdyhjLmRpc2FsbG93ZWRDb250ZW50KSk7XG5yZXR1cm4gYX1mdW5jdGlvbiBuKGEpe3ZhciBiPVtdLGM9YS5fLnVwY2FzdHMsZD1hLl8udXBjYXN0Q2FsbGJhY2tzO3JldHVybnt0b0JlV3JhcHBlZDpiLGl0ZXJhdG9yOmZ1bmN0aW9uKGEpe3ZhciBlLGcsaCxrLGw7aWYoXCJkYXRhLWNrZS13aWRnZXQtd3JhcHBlclwiaW4gYS5hdHRyaWJ1dGVzKXJldHVybihhPWEuZ2V0Rmlyc3QoZi5pc1BhcnNlcldpZGdldEVsZW1lbnQpKSYmYi5wdXNoKFthXSksITE7aWYoXCJkYXRhLXdpZGdldFwiaW4gYS5hdHRyaWJ1dGVzKXJldHVybiBiLnB1c2goW2FdKSwhMTtpZihsPWMubGVuZ3RoKXtpZihhLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS13aWRnZXQtdXBjYXN0ZWRcIl0pcmV0dXJuITE7az0wO2ZvcihlPWQubGVuZ3RoO2s8ZTsrK2spaWYoITE9PT1kW2tdKGEpKXJldHVybjtmb3Ioaz0wO2s8bDsrK2spaWYoZT1jW2tdLGg9e30sZz1lWzBdKGEsaCkpcmV0dXJuIGcgaW5zdGFuY2VvZiBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQmJihhPWcpLGEuYXR0cmlidXRlc1tcImRhdGEtY2tlLXdpZGdldC1kYXRhXCJdPVxuZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGgpKSxhLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS13aWRnZXQtdXBjYXN0ZWRcIl09MSxiLnB1c2goW2EsZVsxXV0pLCExfX19fWZ1bmN0aW9uIHcoYSxiKXtyZXR1cm57dGFiaW5kZXg6LTEsY29udGVudGVkaXRhYmxlOlwiZmFsc2VcIixcImRhdGEtY2tlLXdpZGdldC13cmFwcGVyXCI6MSxcImRhdGEtY2tlLWZpbHRlclwiOlwib2ZmXCIsXCJjbGFzc1wiOlwiY2tlX3dpZGdldF93cmFwcGVyIGNrZV93aWRnZXRfbmV3IGNrZV93aWRnZXRfXCIrKGE/XCJpbmxpbmVcIjpcImJsb2NrXCIpKyhiP1wiIGNrZV93aWRnZXRfXCIrYjpcIlwiKX19ZnVuY3Rpb24geChhLGIsYyl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe3ZhciBkPUNLRURJVE9SLmR0ZFthLm5hbWVdO2lmKGQmJiFkW2MubmFtZV0pe3ZhciBkPWEuc3BsaXQoYiksZT1hLnBhcmVudDtiPWQuZ2V0SW5kZXgoKTthLmNoaWxkcmVuLmxlbmd0aHx8KC0tYixhLnJlbW92ZSgpKTtkLmNoaWxkcmVuLmxlbmd0aHx8XG5kLnJlbW92ZSgpO3JldHVybiB4KGUsYixjKX19YS5hZGQoYyxiKX1mdW5jdGlvbiByKGEsYil7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBhLmlubGluZT9hLmlubGluZTohIUNLRURJVE9SLmR0ZC4kaW5saW5lW2JdfWZ1bmN0aW9uIHAoYSl7cmV0dXJuIGEuaGFzQXR0cmlidXRlKFwiZGF0YS1ja2UtdGVtcFwiKX1mdW5jdGlvbiB1KGEsYixjLGQpe3ZhciBlPWEuZWRpdG9yO2UuZmlyZShcImxvY2tTbmFwc2hvdFwiKTtjPyhkPWMuZGF0YShcImNrZS13aWRnZXQtZWRpdGFibGVcIiksZD1iLmVkaXRhYmxlc1tkXSxhLndpZGdldEhvbGRpbmdGb2N1c2VkRWRpdGFibGU9YixiLmZvY3VzZWRFZGl0YWJsZT1kLGMuYWRkQ2xhc3MoXCJja2Vfd2lkZ2V0X2VkaXRhYmxlX2ZvY3VzZWRcIiksZC5maWx0ZXImJmUuc2V0QWN0aXZlRmlsdGVyKGQuZmlsdGVyKSxlLnNldEFjdGl2ZUVudGVyTW9kZShkLmVudGVyTW9kZSxkLnNoaWZ0RW50ZXJNb2RlKSk6KGR8fGIuZm9jdXNlZEVkaXRhYmxlLnJlbW92ZUNsYXNzKFwiY2tlX3dpZGdldF9lZGl0YWJsZV9mb2N1c2VkXCIpLFxuYi5mb2N1c2VkRWRpdGFibGU9bnVsbCxhLndpZGdldEhvbGRpbmdGb2N1c2VkRWRpdGFibGU9bnVsbCxlLnNldEFjdGl2ZUZpbHRlcihudWxsKSxlLnNldEFjdGl2ZUVudGVyTW9kZShudWxsLG51bGwpKTtlLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKX1mdW5jdGlvbiB6KGEpe2EuY29udGV4dE1lbnUmJmEuY29udGV4dE1lbnUuYWRkTGlzdGVuZXIoZnVuY3Rpb24oYil7aWYoYj1hLndpZGdldHMuZ2V0QnlFbGVtZW50KGIsITApKXJldHVybiBiLmZpcmUoXCJjb250ZXh0TWVudVwiLHt9KX0pfWZ1bmN0aW9uIHEoYSxiKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMudHJpbShiKX1mdW5jdGlvbiBBKGEpe3ZhciBiPWEuZWRpdG9yLGM9Q0tFRElUT1IucGx1Z2lucy5saW5ldXRpbHM7Yi5vbihcImRyYWdzdGFydFwiLGZ1bmN0aW9uKGMpe3ZhciBkPWMuZGF0YS50YXJnZXQ7Zi5pc0RvbURyYWdIYW5kbGVyKGQpJiYoZD1hLmdldEJ5RWxlbWVudChkKSxjLmRhdGEuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJja2Uvd2lkZ2V0LWlkXCIsXG5kLmlkKSxiLmZvY3VzKCksZC5mb2N1cygpKX0pO2Iub24oXCJkcm9wXCIsZnVuY3Rpb24oYyl7ZnVuY3Rpb24gZChhLGIpe3JldHVybiBhJiZiP2Eud3JhcHBlci5lcXVhbHMoYi53cmFwcGVyKXx8YS53cmFwcGVyLmNvbnRhaW5zKGIud3JhcHBlcik6ITF9dmFyIGU9Yy5kYXRhLmRhdGFUcmFuc2ZlcixmPWUuZ2V0RGF0YShcImNrZS93aWRnZXQtaWRcIiksZz1lLmdldFRyYW5zZmVyVHlwZShiKSxlPWIuY3JlYXRlUmFuZ2UoKSxoPWZ1bmN0aW9uKGEpe2E9YS5nZXRCb3VuZGFyeU5vZGVzKCkuc3RhcnROb2RlO2EudHlwZSE9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGE9YS5nZXRQYXJlbnQoKSk7cmV0dXJuIGIud2lkZ2V0cy5nZXRCeUVsZW1lbnQoYSl9KGMuZGF0YS5kcm9wUmFuZ2UpO2lmKFwiXCIhPT1mJiZnPT09Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9DUk9TU19FRElUT1JTKWMuY2FuY2VsKCk7ZWxzZSBpZihnPT1DS0VESVRPUi5EQVRBX1RSQU5TRkVSX0lOVEVSTkFMKWlmKFwiXCI9PT1cbmYmJjA8Yi53aWRnZXRzLnNlbGVjdGVkLmxlbmd0aCljLmRhdGEuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJ0ZXh0L2h0bWxcIixOKGIpKTtlbHNlIGlmKGY9YS5pbnN0YW5jZXNbZl0pZChmLGgpP2MuY2FuY2VsKCk6KGUuc2V0U3RhcnRCZWZvcmUoZi53cmFwcGVyKSxlLnNldEVuZEFmdGVyKGYud3JhcHBlciksYy5kYXRhLmRyYWdSYW5nZT1lLGRlbGV0ZSBDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5kcmFnU3RhcnRDb250YWluZXJDaGlsZENvdW50LGRlbGV0ZSBDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5kcmFnRW5kQ29udGFpbmVyQ2hpbGRDb3VudCxjLmRhdGEuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJ0ZXh0L2h0bWxcIixmLmdldENsaXBib2FyZEh0bWwoKSksYi53aWRnZXRzLmRlc3Ryb3koZiwhMCkpfSk7Yi5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe3ZhciBkPWIuZWRpdGFibGUoKTtDS0VESVRPUi50b29scy5leHRlbmQoYSx7ZmluZGVyOm5ldyBjLmZpbmRlcihiLFxue2xvb2t1cHM6e1wiZGVmYXVsdFwiOmZ1bmN0aW9uKGIpe2lmKCFiLmlzKENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pJiZiLmlzKENLRURJVE9SLmR0ZC4kYmxvY2spJiYhZi5pc0RvbU5lc3RlZEVkaXRhYmxlKGIpJiYhYS5fLmRyYWdnZWRXaWRnZXQud3JhcHBlci5jb250YWlucyhiKSl7dmFyIGM9Zi5nZXROZXN0ZWRFZGl0YWJsZShkLGIpO2lmKGMpe2I9YS5fLmRyYWdnZWRXaWRnZXQ7aWYoYS5nZXRCeUVsZW1lbnQoYyk9PWIpcmV0dXJuO2M9Q0tFRElUT1IuZmlsdGVyLmluc3RhbmNlc1tjLmRhdGEoXCJja2UtZmlsdGVyXCIpXTtiPWIucmVxdWlyZWRDb250ZW50O2lmKGMmJmImJiFjLmNoZWNrKGIpKXJldHVybn1yZXR1cm4gQ0tFRElUT1IuTElORVVUSUxTX0JFRk9SRXxDS0VESVRPUi5MSU5FVVRJTFNfQUZURVJ9fX19KSxsb2NhdG9yOm5ldyBjLmxvY2F0b3IoYiksbGluZXI6bmV3IGMubGluZXIoYix7bGluZVN0eWxlOntjdXJzb3I6XCJtb3ZlICFpbXBvcnRhbnRcIixcImJvcmRlci10b3AtY29sb3JcIjpcIiM2NjZcIn0sXG50aXBMZWZ0U3R5bGU6e1wiYm9yZGVyLWxlZnQtY29sb3JcIjpcIiM2NjZcIn0sdGlwUmlnaHRTdHlsZTp7XCJib3JkZXItcmlnaHQtY29sb3JcIjpcIiM2NjZcIn19KX0sITApfSl9ZnVuY3Rpb24geShhKXt2YXIgYj1hLmVkaXRvcjtiLm9uKFwiY29udGVudERvbVwiLGZ1bmN0aW9uKCl7dmFyIGM9Yi5lZGl0YWJsZSgpLGQ9Yy5pc0lubGluZSgpP2M6Yi5kb2N1bWVudCxlLGc7Yy5hdHRhY2hMaXN0ZW5lcihkLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oYyl7dmFyIGQ9Yy5kYXRhLmdldFRhcmdldCgpO2U9ZCBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50P2EuZ2V0QnlFbGVtZW50KGQpOm51bGw7Zz0wO2UmJihlLmlubGluZSYmZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuaGFzQXR0cmlidXRlKFwiZGF0YS1ja2Utd2lkZ2V0LWRyYWctaGFuZGxlclwiKT8oZz0xLGEuZm9jdXNlZCE9ZSYmYi5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKSk6Zi5nZXROZXN0ZWRFZGl0YWJsZShlLndyYXBwZXIsXG5kKT9lPW51bGw6KGMuZGF0YS5wcmV2ZW50RGVmYXVsdCgpLENLRURJVE9SLmVudi5pZXx8ZS5mb2N1cygpKSl9KTtjLmF0dGFjaExpc3RlbmVyKGQsXCJtb3VzZXVwXCIsZnVuY3Rpb24oKXtnJiZlJiZlLndyYXBwZXImJihnPTAsZS5mb2N1cygpKX0pO0NLRURJVE9SLmVudi5pZSYmYy5hdHRhY2hMaXN0ZW5lcihkLFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2UmJmUud3JhcHBlciYmYy5jb250YWlucyhlLndyYXBwZXIpJiYoZS5mb2N1cygpLGU9bnVsbCl9KX0pfSk7Yi5vbihcImRvdWJsZWNsaWNrXCIsZnVuY3Rpb24oYil7dmFyIGM9YS5nZXRCeUVsZW1lbnQoYi5kYXRhLmVsZW1lbnQpO2lmKGMmJiFmLmdldE5lc3RlZEVkaXRhYmxlKGMud3JhcHBlcixiLmRhdGEuZWxlbWVudCkpcmV0dXJuIGMuZmlyZShcImRvdWJsZWNsaWNrXCIse2VsZW1lbnQ6Yi5kYXRhLmVsZW1lbnR9KX0sbnVsbCxudWxsLDEpfWZ1bmN0aW9uIHQoYSl7YS5lZGl0b3Iub24oXCJrZXlcIixcbmZ1bmN0aW9uKGIpe3ZhciBjPWEuZm9jdXNlZCxkPWEud2lkZ2V0SG9sZGluZ0ZvY3VzZWRFZGl0YWJsZSxlO2M/ZT1jLmZpcmUoXCJrZXlcIix7a2V5Q29kZTpiLmRhdGEua2V5Q29kZX0pOmQmJihjPWIuZGF0YS5rZXlDb2RlLGI9ZC5mb2N1c2VkRWRpdGFibGUsYz09Q0tFRElUT1IuQ1RSTCs2NT8oYz1iLmdldEJvZ3VzKCksZD1kLmVkaXRvci5jcmVhdGVSYW5nZSgpLGQuc2VsZWN0Tm9kZUNvbnRlbnRzKGIpLGMmJmQuc2V0RW5kQXQoYyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGQuc2VsZWN0KCksZT0hMSk6OD09Y3x8NDY9PWM/KGU9ZC5lZGl0b3IuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKCksZD1lWzBdLGU9ISgxPT1lLmxlbmd0aCYmZC5jb2xsYXBzZWQmJmQuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChiLENLRURJVE9SWzg9PWM/XCJTVEFSVFwiOlwiRU5EXCJdKSkpOmU9dm9pZCAwKTtyZXR1cm4gZX0sbnVsbCxudWxsLDEpfWZ1bmN0aW9uIHYoYSl7ZnVuY3Rpb24gYihkKXsxPlxuYS5zZWxlY3RlZC5sZW5ndGh8fEgoYyxcImN1dFwiPT09ZC5uYW1lKX12YXIgYz1hLmVkaXRvcjtjLm9uKFwiY29udGVudERvbVwiLGZ1bmN0aW9uKCl7dmFyIGE9Yy5lZGl0YWJsZSgpO2EuYXR0YWNoTGlzdGVuZXIoYSxcImNvcHlcIixiKTthLmF0dGFjaExpc3RlbmVyKGEsXCJjdXRcIixiKX0pfWZ1bmN0aW9uIEIoYSl7ZnVuY3Rpb24gYigpe3ZhciBhPWUuZ2V0U2VsZWN0aW9uKCk7aWYoYSYmKGE9YS5nZXRSYW5nZXMoKVswXSkmJiFhLmNvbGxhcHNlZCl7dmFyIGQ9YyhhLnN0YXJ0Q29udGFpbmVyKSxmPWMoYS5lbmRDb250YWluZXIpOyFkJiZmPyhhLnNldEVuZEJlZm9yZShmLndyYXBwZXIpLGEuc2VsZWN0KCkpOmQmJiFmJiYoYS5zZXRTdGFydEFmdGVyKGQud3JhcHBlciksYS5zZWxlY3QoKSl9fWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGE/YS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/YyhhLmdldFBhcmVudCgpKTplLndpZGdldHMuZ2V0QnlFbGVtZW50KGEpOm51bGx9ZnVuY3Rpb24gZCgpe2EuZmlyZShcImNoZWNrU2VsZWN0aW9uXCIpfVxudmFyIGU9YS5lZGl0b3I7ZS5vbihcInNlbGVjdGlvbkNoZWNrXCIsZCk7ZS5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe2UuZWRpdGFibGUoKS5hdHRhY2hMaXN0ZW5lcihlLFwia2V5XCIsZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGQsMTApfSl9KTtpZighQ0tFRElUT1IuZW52LmllKWEub24oXCJjaGVja1NlbGVjdGlvblwiLGIpO2Eub24oXCJjaGVja1NlbGVjdGlvblwiLGEuY2hlY2tTZWxlY3Rpb24sYSk7ZS5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGIpe3ZhciBjPShiPWYuZ2V0TmVzdGVkRWRpdGFibGUoZS5lZGl0YWJsZSgpLGIuZGF0YS5zZWxlY3Rpb24uZ2V0U3RhcnRFbGVtZW50KCkpKSYmYS5nZXRCeUVsZW1lbnQoYiksZD1hLndpZGdldEhvbGRpbmdGb2N1c2VkRWRpdGFibGU7ZD9kPT09YyYmZC5mb2N1c2VkRWRpdGFibGUuZXF1YWxzKGIpfHwodShhLGQsbnVsbCksYyYmYiYmdShhLGMsYikpOmMmJmImJnUoYSxjLGIpfSk7ZS5vbihcImRhdGFSZWFkeVwiLGZ1bmN0aW9uKCl7RihhKS5jb21taXQoKX0pO1xuZS5vbihcImJsdXJcIixmdW5jdGlvbigpe3ZhciBiOyhiPWEuZm9jdXNlZCkmJmsoYSxiKTsoYj1hLndpZGdldEhvbGRpbmdGb2N1c2VkRWRpdGFibGUpJiZ1KGEsYixudWxsKX0pfWZ1bmN0aW9uIEQoYSl7dmFyIGI9YS5lZGl0b3IsYz17fTtiLm9uKFwidG9EYXRhRm9ybWF0XCIsZnVuY3Rpb24oYil7dmFyIGU9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpLGc9W107Yi5kYXRhLmRvd25jYXN0aW5nU2Vzc2lvbklkPWU7Y1tlXT1nO2IuZGF0YS5kYXRhVmFsdWUuZm9yRWFjaChmdW5jdGlvbihiKXt2YXIgYz1iLmF0dHJpYnV0ZXMsZTtpZihcImRhdGEtY2tlLXdpZGdldC13aGl0ZS1zcGFjZVwiaW4gYyl7ZT1kKGIpO3ZhciBrPWgoYik7ZS5wYXJlbnQuYXR0cmlidXRlc1tcImRhdGEtY2tlLXdoaXRlLXNwYWNlLWZpcnN0XCJdJiYoZS52YWx1ZT1lLnZhbHVlLnJlcGxhY2UoL14mbmJzcDsvZyxcIiBcIikpO2sucGFyZW50LmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS13aGl0ZS1zcGFjZS1sYXN0XCJdJiZcbihrLnZhbHVlPWsudmFsdWUucmVwbGFjZSgvJm5ic3A7JC9nLFwiIFwiKSl9aWYoXCJkYXRhLWNrZS13aWRnZXQtaWRcImluIGMpe2lmKGM9YS5pbnN0YW5jZXNbY1tcImRhdGEtY2tlLXdpZGdldC1pZFwiXV0pZT1iLmdldEZpcnN0KGYuaXNQYXJzZXJXaWRnZXRFbGVtZW50KSxnLnB1c2goe3dyYXBwZXI6YixlbGVtZW50OmUsd2lkZ2V0OmMsZWRpdGFibGVzOnt9fSksXCIxXCIhPWUuYXR0cmlidXRlc1tcImRhdGEtY2tlLXdpZGdldC1rZWVwLWF0dHJcIl0mJmRlbGV0ZSBlLmF0dHJpYnV0ZXNbXCJkYXRhLXdpZGdldFwiXX1lbHNlIGlmKFwiZGF0YS1ja2Utd2lkZ2V0LWVkaXRhYmxlXCJpbiBjKXJldHVybiAwPGcubGVuZ3RoJiYoZ1tnLmxlbmd0aC0xXS5lZGl0YWJsZXNbY1tcImRhdGEtY2tlLXdpZGdldC1lZGl0YWJsZVwiXV09YiksITF9LENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCl9LG51bGwsbnVsbCw4KTtiLm9uKFwidG9EYXRhRm9ybWF0XCIsZnVuY3Rpb24oYSl7aWYoYS5kYXRhLmRvd25jYXN0aW5nU2Vzc2lvbklkKWZvcih2YXIgYj1cbmNbYS5kYXRhLmRvd25jYXN0aW5nU2Vzc2lvbklkXSxkLGUsZixnLGgsaztkPWIuc2hpZnQoKTspe2U9ZC53aWRnZXQ7Zj1kLmVsZW1lbnQ7Zz1lLl8uZG93bmNhc3RGbiYmZS5fLmRvd25jYXN0Rm4uY2FsbChlLGYpO2EuZGF0YS53aWRnZXRzQ29weSYmZS5nZXRDbGlwYm9hcmRIdG1sJiYoZz1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGUuZ2V0Q2xpcGJvYXJkSHRtbCgpKSxnPWcuY2hpbGRyZW5bMF0pO2ZvcihrIGluIGQuZWRpdGFibGVzKWg9ZC5lZGl0YWJsZXNba10sZGVsZXRlIGguYXR0cmlidXRlcy5jb250ZW50ZWRpdGFibGUsaC5zZXRIdG1sKGUuZWRpdGFibGVzW2tdLmdldERhdGEoKSk7Z3x8KGc9Zik7ZC53cmFwcGVyLnJlcGxhY2VXaXRoKGcpfX0sbnVsbCxudWxsLDEzKTtiLm9uKFwiY29udGVudERvbVVubG9hZFwiLGZ1bmN0aW9uKCl7YS5kZXN0cm95QWxsKCEwKX0pfWZ1bmN0aW9uIEMoYSl7dmFyIGI9YS5lZGl0b3IsYyxkO2Iub24oXCJ0b0h0bWxcIixcbmZ1bmN0aW9uKGIpe3ZhciBkPW4oYSksZTtmb3IoYi5kYXRhLmRhdGFWYWx1ZS5mb3JFYWNoKGQuaXRlcmF0b3IsQ0tFRElUT1IuTk9ERV9FTEVNRU5ULCEwKTtlPWQudG9CZVdyYXBwZWQucG9wKCk7KXt2YXIgZz1lWzBdLGg9Zy5wYXJlbnQ7aC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmguYXR0cmlidXRlc1tcImRhdGEtY2tlLXdpZGdldC13cmFwcGVyXCJdJiZoLnJlcGxhY2VXaXRoKGcpO2Eud3JhcEVsZW1lbnQoZVswXSxlWzFdKX1jPWIuZGF0YS5wcm90ZWN0ZWRXaGl0ZXNwYWNlcz8zPT1iLmRhdGEuZGF0YVZhbHVlLmNoaWxkcmVuLmxlbmd0aCYmZi5pc1BhcnNlcldpZGdldFdyYXBwZXIoYi5kYXRhLmRhdGFWYWx1ZS5jaGlsZHJlblsxXSk6MT09Yi5kYXRhLmRhdGFWYWx1ZS5jaGlsZHJlbi5sZW5ndGgmJmYuaXNQYXJzZXJXaWRnZXRXcmFwcGVyKGIuZGF0YS5kYXRhVmFsdWUuY2hpbGRyZW5bMF0pfSxudWxsLG51bGwsOCk7Yi5vbihcImRhdGFSZWFkeVwiLGZ1bmN0aW9uKCl7aWYoZClmb3IodmFyIGM9XG5iLmVkaXRhYmxlKCkuZmluZChcIi5ja2Vfd2lkZ2V0X3dyYXBwZXJcIiksZSxnLGg9MCxrPWMuY291bnQoKTtoPGs7KytoKWU9Yy5nZXRJdGVtKGgpLGc9ZS5nZXRGaXJzdChmLmlzRG9tV2lkZ2V0RWxlbWVudCksZy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmcuZGF0YShcIndpZGdldFwiKT8oZy5yZXBsYWNlKGUpLGEud3JhcEVsZW1lbnQoZykpOmUucmVtb3ZlKCk7ZD0wO2EuZGVzdHJveUFsbCghMCk7YS5pbml0T25BbGwoKX0pO2Iub24oXCJsb2FkU25hcHNob3RcIixmdW5jdGlvbihiKXsvZGF0YS1ja2Utd2lkZ2V0Ly50ZXN0KGIuZGF0YSkmJihkPTEpO2EuZGVzdHJveUFsbCghMCl9LG51bGwsbnVsbCw5KTtiLm9uKFwicGFzdGVcIixmdW5jdGlvbihhKXthPWEuZGF0YTthLmRhdGFWYWx1ZT1hLmRhdGFWYWx1ZS5yZXBsYWNlKGNhLHEpO2EucmFuZ2UmJihhPWYuZ2V0TmVzdGVkRWRpdGFibGUoYi5lZGl0YWJsZSgpLGEucmFuZ2Uuc3RhcnRDb250YWluZXIpKSYmKGE9Q0tFRElUT1IuZmlsdGVyLmluc3RhbmNlc1thLmRhdGEoXCJja2UtZmlsdGVyXCIpXSkmJlxuYi5zZXRBY3RpdmVGaWx0ZXIoYSl9KTtiLm9uKFwiYWZ0ZXJJbnNlcnRIdG1sXCIsZnVuY3Rpb24oZCl7ZC5kYXRhLmludG9SYW5nZT9hLmNoZWNrV2lkZ2V0cyh7aW5pdE9ubHlOZXc6ITB9KTooYi5maXJlKFwibG9ja1NuYXBzaG90XCIpLGEuY2hlY2tXaWRnZXRzKHtpbml0T25seU5ldzohMCxmb2N1c0luaXRlZDpjfSksYi5maXJlKFwidW5sb2NrU25hcHNob3RcIikpfSl9ZnVuY3Rpb24gRihhKXt2YXIgYj1hLnNlbGVjdGVkLGM9W10sZD1iLnNsaWNlKDApLGU9bnVsbDtyZXR1cm57c2VsZWN0OmZ1bmN0aW9uKGEpezA+Q0tFRElUT1IudG9vbHMuaW5kZXhPZihiLGEpJiZjLnB1c2goYSk7YT1DS0VESVRPUi50b29scy5pbmRleE9mKGQsYSk7MDw9YSYmZC5zcGxpY2UoYSwxKTtyZXR1cm4gdGhpc30sZm9jdXM6ZnVuY3Rpb24oYSl7ZT1hO3JldHVybiB0aGlzfSxjb21taXQ6ZnVuY3Rpb24oKXt2YXIgZj1hLmZvY3VzZWQhPT1lLGcsaDthLmVkaXRvci5maXJlKFwibG9ja1NuYXBzaG90XCIpO2ZvcihmJiZcbihnPWEuZm9jdXNlZCkmJmsoYSxnKTtnPWQucG9wKCk7KWIuc3BsaWNlKENLRURJVE9SLnRvb2xzLmluZGV4T2YoYixnKSwxKSxnLmlzSW5pdGVkKCkmJihoPWcuZWRpdG9yLmNoZWNrRGlydHkoKSxnLnNldFNlbGVjdGVkKCExKSwhaCYmZy5lZGl0b3IucmVzZXREaXJ0eSgpKTtmJiZlJiYoaD1hLmVkaXRvci5jaGVja0RpcnR5KCksYS5mb2N1c2VkPWUsYS5maXJlKFwid2lkZ2V0Rm9jdXNlZFwiLHt3aWRnZXQ6ZX0pLGUuc2V0Rm9jdXNlZCghMCksIWgmJmEuZWRpdG9yLnJlc2V0RGlydHkoKSk7Zm9yKDtnPWMucG9wKCk7KWIucHVzaChnKSxnLnNldFNlbGVjdGVkKCEwKTthLmVkaXRvci5maXJlKFwidW5sb2NrU25hcHNob3RcIil9fX1mdW5jdGlvbiBKKGEpe2EmJmEuYWRkRmlsdGVyUnVsZShmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXHMqY2tlX3dpZGdldF9zZWxlY3RlZC9nLFwiXCIpLnJlcGxhY2UoL1xccypja2Vfd2lkZ2V0X2ZvY3VzZWQvZyxcIlwiKX0pfWZ1bmN0aW9uIEsoYSxcbmIsYyl7dmFyIGQ9MDtiPUUoYik7dmFyIGU9YS5kYXRhLmNsYXNzZXN8fHt9LGY7aWYoYil7Zm9yKGU9Q0tFRElUT1IudG9vbHMuY2xvbmUoZSk7Zj1iLnBvcCgpOyljP2VbZl18fChkPWVbZl09MSk6ZVtmXSYmKGRlbGV0ZSBlW2ZdLGQ9MSk7ZCYmYS5zZXREYXRhKFwiY2xhc3Nlc1wiLGUpfX1mdW5jdGlvbiBHKGEpe2EuY2FuY2VsKCl9ZnVuY3Rpb24gTShhLGIpe3ZhciBjPWZ1bmN0aW9uKGEpe3JldHVybiBhPT1DS0VESVRPUi5FTlRFUl9CUj9cImJyXCI6YT09Q0tFRElUT1IuRU5URVJfRElWP1wiZGl2XCI6XCJwXCJ9KGEuZWRpdG9yLmNvbmZpZy5lbnRlck1vZGUpLGQ9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGMpO1wiYnJcIiE9PWMmJmQuYXBwZW5kQm9ndXMoKTtcImFmdGVyXCI9PT1iP2QuaW5zZXJ0QWZ0ZXIoYS53cmFwcGVyKTpkLmluc2VydEJlZm9yZShhLndyYXBwZXIpOyhmdW5jdGlvbihiKXt2YXIgYz1hLmVkaXRvci5jcmVhdGVSYW5nZSgpO2Muc2V0U3RhcnQoYiwwKTthLmVkaXRvci5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2NdKX0pKGQpfVxuZnVuY3Rpb24gSChhLGIpe3ZhciBjPWEud2lkZ2V0cy5mb2N1c2VkLGQsZSxmO1EuaGFzQ29weUJpbihhKXx8KGU9bmV3IFEoYSx7YmVmb3JlRGVzdHJveTpmdW5jdGlvbigpeyFiJiZjJiZjLmZvY3VzKCk7ZiYmYS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RCb29rbWFya3MoZik7ZCYmQ0tFRElUT1IucGx1Z2lucy53aWRnZXRzZWxlY3Rpb24uYWRkRmlsbGVycyhhLmVkaXRhYmxlKCkpfSxhZnRlckRlc3Ryb3k6ZnVuY3Rpb24oKXtiJiYhYS5yZWFkT25seSYmKGM/YS53aWRnZXRzLmRlbChjKTphLmV4dHJhY3RTZWxlY3RlZEh0bWwoKSxhLmZpcmUoXCJzYXZlU25hcHNob3RcIikpfX0pLGN8fChkPUNLRURJVE9SLmVudi53ZWJraXQmJkNLRURJVE9SLnBsdWdpbnMud2lkZ2V0c2VsZWN0aW9uLmlzV2hvbGVDb250ZW50U2VsZWN0ZWQoYS5lZGl0YWJsZSgpKSxmPWEuZ2V0U2VsZWN0aW9uKCkuY3JlYXRlQm9va21hcmtzKCEwKSksZS5oYW5kbGUoTihhKSkpfWZ1bmN0aW9uIEUoYSl7cmV0dXJuKGE9XG4oYT1hLmdldERlZmluaXRpb24oKS5hdHRyaWJ1dGVzKSYmYVtcImNsYXNzXCJdKT9hLnNwbGl0KC9cXHMrLyk6bnVsbH1mdW5jdGlvbiBQKCl7dmFyIGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QWN0aXZlKCksYj10aGlzLmVkaXRvcixjPWIuZWRpdGFibGUoKTsoYy5pc0lubGluZSgpP2M6Yi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRGcmFtZSgpKS5lcXVhbHMoYSkmJmIuZm9jdXNNYW5hZ2VyLmZvY3VzKGMpfWZ1bmN0aW9uIEwoKXtDS0VESVRPUi5lbnYuZ2Vja28mJnRoaXMuZWRpdG9yLnVubG9ja1NlbGVjdGlvbigpO0NLRURJVE9SLmVudi53ZWJraXR8fCh0aGlzLmVkaXRvci5mb3JjZU5leHRTZWxlY3Rpb25DaGVjaygpLHRoaXMuZWRpdG9yLnNlbGVjdGlvbkNoYW5nZSgxKSl9ZnVuY3Rpb24gTihhKXt2YXIgYj1hLmdldFNlbGVjdGVkSHRtbCghMCk7aWYoYS53aWRnZXRzLmZvY3VzZWQpcmV0dXJuIGEud2lkZ2V0cy5mb2N1c2VkLmdldENsaXBib2FyZEh0bWwoKTthLm9uY2UoXCJ0b0RhdGFGb3JtYXRcIixcbmZ1bmN0aW9uKGEpe2EuZGF0YS53aWRnZXRzQ29weT0hMH0sbnVsbCxudWxsLC0xKTtyZXR1cm4gYS5kYXRhUHJvY2Vzc29yLnRvRGF0YUZvcm1hdChiKX1mdW5jdGlvbiBPKGEsYil7dmFyIGM9YS5lZGl0b3IuY29uZmlnLndpZGdldF9rZXlzdHJva2VJbnNlcnRMaW5lQmVmb3JlLGQ9YS5lZGl0b3IuY29uZmlnLndpZGdldF9rZXlzdHJva2VJbnNlcnRMaW5lQWZ0ZXI7WChhKTtTKGEpO1koYSk7ZWEoYSk7amEoYSk7a2EoYSk7VChhKTtpZihDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24pYS53cmFwcGVyLm9uKFwiZHJhZ3N0YXJ0XCIsZnVuY3Rpb24oYil7dmFyIGM9Yi5kYXRhLmdldFRhcmdldCgpO2YuZ2V0TmVzdGVkRWRpdGFibGUoYSxjKXx8YS5pbmxpbmUmJmYuaXNEb21EcmFnSGFuZGxlcihjKXx8Yi5kYXRhLnByZXZlbnREZWZhdWx0KCl9KTthLndyYXBwZXIucmVtb3ZlQ2xhc3MoXCJja2Vfd2lkZ2V0X25ld1wiKTthLmVsZW1lbnQuYWRkQ2xhc3MoXCJja2Vfd2lkZ2V0X2VsZW1lbnRcIik7XG5hLm9uKFwia2V5XCIsZnVuY3Rpb24oYil7Yj1iLmRhdGEua2V5Q29kZTtpZihiPT1jKU0oYSxcImJlZm9yZVwiKSxhLmVkaXRvci5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2Vsc2UgaWYoYj09ZClNKGEsXCJhZnRlclwiKSxhLmVkaXRvci5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2Vsc2UgaWYoMTM9PWIpYS5lZGl0KCk7ZWxzZXtpZihiPT1DS0VESVRPUi5DVFJMKzY3fHxiPT1DS0VESVRPUi5DVFJMKzg4KXtIKGEuZWRpdG9yLGI9PUNLRURJVE9SLkNUUkwrODgpO3JldHVybn1pZihiIGluIFZ8fENLRURJVE9SLkNUUkwmYnx8Q0tFRElUT1IuQUxUJmIpcmV0dXJufXJldHVybiExfSxudWxsLG51bGwsOTk5KTthLm9uKFwiZG91YmxlY2xpY2tcIixmdW5jdGlvbihiKXthLmVkaXQoKSYmYi5jYW5jZWwoKX0pO2lmKGIuZGF0YSlhLm9uKFwiZGF0YVwiLGIuZGF0YSk7aWYoYi5lZGl0KWEub24oXCJlZGl0XCIsYi5lZGl0KX1mdW5jdGlvbiBYKGEpeyhhLndyYXBwZXI9YS5lbGVtZW50LmdldFBhcmVudCgpKS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNrZS13aWRnZXQtaWRcIixcbmEuaWQpfWZ1bmN0aW9uIFMoYSxiKXthLnBhcnRTZWxlY3RvcnN8fChhLnBhcnRTZWxlY3RvcnM9YS5wYXJ0cyk7aWYoYS5wYXJ0cyl7dmFyIGM9e30sZCxlO2ZvcihlIGluIGEucGFydFNlbGVjdG9ycylifHwhYS5wYXJ0c1tlXXx8XCJzdHJpbmdcIj09dHlwZW9mIGEucGFydHNbZV0/KGQ9YS53cmFwcGVyLmZpbmRPbmUoYS5wYXJ0U2VsZWN0b3JzW2VdKSxjW2VdPWQpOmNbZV09YS5wYXJ0c1tlXTthLnBhcnRzPWN9fWZ1bmN0aW9uIFkoYSl7dmFyIGI9YS5lZGl0YWJsZXMsYyxkO2EuZWRpdGFibGVzPXt9O2lmKGEuZWRpdGFibGVzKWZvcihjIGluIGIpZD1iW2NdLGEuaW5pdEVkaXRhYmxlKGMsXCJzdHJpbmdcIj09dHlwZW9mIGQ/e3NlbGVjdG9yOmR9OmQpfWZ1bmN0aW9uIGVhKGEpe2lmKCEwPT09YS5tYXNrKVUoYSk7ZWxzZSBpZihhLm1hc2spe3ZhciBiPW5ldyBDS0VESVRPUi50b29scy5idWZmZXJzLnRocm90dGxlKDI1MCxpYSxhKSxjPUNLRURJVE9SLmVudi5nZWNrbz8zMDA6MCxcbmQsZTthLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe2IuaW5wdXQoKTtkPWEuZWRpdG9yLm9uKFwiY2hhbmdlXCIsYi5pbnB1dCk7ZT1hLm9uKFwiYmx1clwiLGZ1bmN0aW9uKCl7ZC5yZW1vdmVMaXN0ZW5lcigpO2UucmVtb3ZlTGlzdGVuZXIoKX0pfSk7YS5lZGl0b3Iub24oXCJpbnN0YW5jZVJlYWR5XCIsZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5pbnB1dCgpfSxjKX0pO2EuZWRpdG9yLm9uKFwibW9kZVwiLGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2IuaW5wdXQoKX0sYyl9KTtpZihDS0VESVRPUi5lbnYuZ2Vja28pe3ZhciBmPWEuZWxlbWVudC5maW5kKFwiaW1nXCIpO0NLRURJVE9SLnRvb2xzLmFycmF5LmZvckVhY2goZi50b0FycmF5KCksZnVuY3Rpb24oYSl7YS5vbihcImxvYWRcIixmdW5jdGlvbigpe2IuaW5wdXQoKX0pfSl9Zm9yKHZhciBnIGluIGEuZWRpdGFibGVzKWEuZWRpdGFibGVzW2ddLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe2EuZWRpdG9yLm9uKFwiY2hhbmdlXCIsXG5iLmlucHV0KTtlJiZlLnJlbW92ZUxpc3RlbmVyKCl9KSxhLmVkaXRhYmxlc1tnXS5vbihcImJsdXJcIixmdW5jdGlvbigpe2EuZWRpdG9yLnJlbW92ZUxpc3RlbmVyKFwiY2hhbmdlXCIsYi5pbnB1dCl9KTtiLmlucHV0KCl9fWZ1bmN0aW9uIFUoYSl7dmFyIGI9YS53cmFwcGVyLmZpbmRPbmUoXCIuY2tlX3dpZGdldF9tYXNrXCIpO2J8fChiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImltZ1wiLGEuZWRpdG9yLmRvY3VtZW50KSxiLnNldEF0dHJpYnV0ZXMoe3NyYzpDS0VESVRPUi50b29scy50cmFuc3BhcmVudEltYWdlRGF0YSxcImNsYXNzXCI6XCJja2VfcmVzZXQgY2tlX3dpZGdldF9tYXNrXCJ9KSxhLndyYXBwZXIuYXBwZW5kKGIpKTthLm1hc2s9Yn1mdW5jdGlvbiBpYSgpe2lmKHRoaXMud3JhcHBlcil7dGhpcy5tYXNrUGFydD10aGlzLm1hc2tQYXJ0fHx0aGlzLm1hc2s7dmFyIGE9dGhpcy5wYXJ0c1t0aGlzLm1hc2tQYXJ0XSxiO2lmKGEmJlwic3RyaW5nXCIhPXR5cGVvZiBhKXtiPXRoaXMud3JhcHBlci5maW5kT25lKFwiLmNrZV93aWRnZXRfcGFydGlhbF9tYXNrXCIpO1xuYnx8KGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiaW1nXCIsdGhpcy5lZGl0b3IuZG9jdW1lbnQpLGIuc2V0QXR0cmlidXRlcyh7c3JjOkNLRURJVE9SLnRvb2xzLnRyYW5zcGFyZW50SW1hZ2VEYXRhLFwiY2xhc3NcIjpcImNrZV9yZXNldCBja2Vfd2lkZ2V0X3BhcnRpYWxfbWFza1wifSksdGhpcy53cmFwcGVyLmFwcGVuZChiKSk7dGhpcy5tYXNrPWI7dmFyIGM9Yi4kLGQ9YS4kLGU9IShjLm9mZnNldFRvcD09ZC5vZmZzZXRUb3AmJmMub2Zmc2V0TGVmdD09ZC5vZmZzZXRMZWZ0KTtpZihjLm9mZnNldFdpZHRoIT1kLm9mZnNldFdpZHRofHxjLm9mZnNldEhlaWdodCE9ZC5vZmZzZXRIZWlnaHR8fGUpYz1hLmdldFBhcmVudCgpLGQ9Q0tFRElUT1IucGx1Z2lucy53aWRnZXQuaXNEb21XaWRnZXQoYyksYi5zZXRTdHlsZXMoe3RvcDphLiQub2Zmc2V0VG9wKyhkPzA6Yy4kLm9mZnNldFRvcCkrXCJweFwiLGxlZnQ6YS4kLm9mZnNldExlZnQrKGQ/MDpjLiQub2Zmc2V0TGVmdCkrXCJweFwiLHdpZHRoOmEuJC5vZmZzZXRXaWR0aCtcblwicHhcIixoZWlnaHQ6YS4kLm9mZnNldEhlaWdodCtcInB4XCJ9KX19fWZ1bmN0aW9uIGphKGEpe2lmKGEuZHJhZ2dhYmxlKXt2YXIgYj1hLmVkaXRvcixjPWEud3JhcHBlci5nZXRMYXN0KGYuaXNEb21EcmFnSGFuZGxlckNvbnRhaW5lciksZDtjP2Q9Yy5maW5kT25lKFwiaW1nXCIpOihjPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcInNwYW5cIixiLmRvY3VtZW50KSxjLnNldEF0dHJpYnV0ZXMoe1wiY2xhc3NcIjpcImNrZV9yZXNldCBja2Vfd2lkZ2V0X2RyYWdfaGFuZGxlcl9jb250YWluZXJcIixzdHlsZTpcImJhY2tncm91bmQ6cmdiYSgyMjAsMjIwLDIyMCwwLjUpO2JhY2tncm91bmQtaW1hZ2U6dXJsKFwiK2IucGx1Z2lucy53aWRnZXQucGF0aCtcImltYWdlcy9oYW5kbGUucG5nKTtkaXNwbGF5Om5vbmU7XCJ9KSxkPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImltZ1wiLGIuZG9jdW1lbnQpLGQuc2V0QXR0cmlidXRlcyh7XCJjbGFzc1wiOlwiY2tlX3Jlc2V0IGNrZV93aWRnZXRfZHJhZ19oYW5kbGVyXCIsXG5cImRhdGEtY2tlLXdpZGdldC1kcmFnLWhhbmRsZXJcIjpcIjFcIixzcmM6Q0tFRElUT1IudG9vbHMudHJhbnNwYXJlbnRJbWFnZURhdGEsd2lkdGg6MTUsdGl0bGU6Yi5sYW5nLndpZGdldC5tb3ZlLGhlaWdodDoxNSxyb2xlOlwicHJlc2VudGF0aW9uXCJ9KSxhLmlubGluZSYmZC5zZXRBdHRyaWJ1dGUoXCJkcmFnZ2FibGVcIixcInRydWVcIiksYy5hcHBlbmQoZCksYS53cmFwcGVyLmFwcGVuZChjKSk7YS53cmFwcGVyLm9uKFwiZHJhZ292ZXJcIixmdW5jdGlvbihhKXthLmRhdGEucHJldmVudERlZmF1bHQoKX0pO2Eud3JhcHBlci5vbihcIm1vdXNlZW50ZXJcIixhLnVwZGF0ZURyYWdIYW5kbGVyUG9zaXRpb24sYSk7c2V0VGltZW91dChmdW5jdGlvbigpe2Eub24oXCJkYXRhXCIsYS51cGRhdGVEcmFnSGFuZGxlclBvc2l0aW9uLGEpfSw1MCk7aWYoIWEuaW5saW5lJiYoZC5vbihcIm1vdXNlZG93blwiLGdhLGEpLENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbikpZC5vbihcImRyYWdzdGFydFwiLFxuZnVuY3Rpb24oYSl7YS5kYXRhLnByZXZlbnREZWZhdWx0KCEwKX0pO2EuZHJhZ0hhbmRsZXJDb250YWluZXI9Y319ZnVuY3Rpb24gZ2EoYSl7ZnVuY3Rpb24gYigpe3ZhciBjO2ZvcihwLnJlc2V0KCk7Yz1oLnBvcCgpOyljLnJlbW92ZUxpc3RlbmVyKCk7dmFyIGQ9aztjPWEuc2VuZGVyO3ZhciBlPXRoaXMucmVwb3NpdG9yeS5maW5kZXIsZj10aGlzLnJlcG9zaXRvcnkubGluZXIsZz10aGlzLmVkaXRvcixsPXRoaXMuZWRpdG9yLmVkaXRhYmxlKCk7Q0tFRElUT1IudG9vbHMuaXNFbXB0eShmLnZpc2libGUpfHwoZD1lLmdldFJhbmdlKGRbMF0pLHRoaXMuZm9jdXMoKSxnLmZpcmUoXCJkcm9wXCIse2Ryb3BSYW5nZTpkLHRhcmdldDpkLnN0YXJ0Q29udGFpbmVyfSkpO2wucmVtb3ZlQ2xhc3MoXCJja2Vfd2lkZ2V0X2RyYWdnaW5nXCIpO2YuaGlkZVZpc2libGUoKTtnLmZpcmUoXCJkcmFnZW5kXCIse3RhcmdldDpjfSl9aWYoQ0tFRElUT1IudG9vbHMuZ2V0TW91c2VCdXR0b24oYSk9PT1DS0VESVRPUi5NT1VTRV9CVVRUT05fTEVGVCl7dmFyIGM9XG50aGlzLnJlcG9zaXRvcnkuZmluZGVyLGQ9dGhpcy5yZXBvc2l0b3J5LmxvY2F0b3IsZT10aGlzLnJlcG9zaXRvcnkubGluZXIsZj10aGlzLmVkaXRvcixnPWYuZWRpdGFibGUoKSxoPVtdLGs9W10sbCxtO3RoaXMucmVwb3NpdG9yeS5fLmRyYWdnZWRXaWRnZXQ9dGhpczt2YXIgbj1jLmdyZWVkeVNlYXJjaCgpLHA9Q0tFRElUT1IudG9vbHMuZXZlbnRzQnVmZmVyKDUwLGZ1bmN0aW9uKCl7bD1kLmxvY2F0ZShuKTtrPWQuc29ydChtLDEpO2subGVuZ3RoJiYoZS5wcmVwYXJlKG4sbCksZS5wbGFjZUxpbmUoa1swXSksZS5jbGVhbnVwKCkpfSk7Zy5hZGRDbGFzcyhcImNrZV93aWRnZXRfZHJhZ2dpbmdcIik7aC5wdXNoKGcub24oXCJtb3VzZW1vdmVcIixmdW5jdGlvbihhKXttPWEuZGF0YS4kLmNsaWVudFk7cC5pbnB1dCgpfSkpO2YuZmlyZShcImRyYWdzdGFydFwiLHt0YXJnZXQ6YS5zZW5kZXJ9KTtoLnB1c2goZi5kb2N1bWVudC5vbmNlKFwibW91c2V1cFwiLGIsdGhpcykpO2cuaXNJbmxpbmUoKXx8XG5oLnB1c2goQ0tFRElUT1IuZG9jdW1lbnQub25jZShcIm1vdXNldXBcIixiLHRoaXMpKX19ZnVuY3Rpb24ga2EoYSl7dmFyIGI9bnVsbDthLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5kYXRhLmNsYXNzZXMsYztpZihiIT1hKXtmb3IoYyBpbiBiKWEmJmFbY118fHRoaXMucmVtb3ZlQ2xhc3MoYyk7Zm9yKGMgaW4gYSl0aGlzLmFkZENsYXNzKGMpO2I9YX19KX1mdW5jdGlvbiBUKGEpe2Eub24oXCJkYXRhXCIsZnVuY3Rpb24oKXtpZihhLndyYXBwZXIpe3ZhciBiPXRoaXMuZ2V0TGFiZWw/dGhpcy5nZXRMYWJlbCgpOnRoaXMuZWRpdG9yLmxhbmcud2lkZ2V0LmxhYmVsLnJlcGxhY2UoLyUxLyx0aGlzLnBhdGhOYW1lfHx0aGlzLmVsZW1lbnQuZ2V0TmFtZSgpKTthLndyYXBwZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwicmVnaW9uXCIpO2Eud3JhcHBlci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsYil9fSxudWxsLG51bGwsOTk5OSl9ZnVuY3Rpb24gWihhKXthLmVsZW1lbnQuZGF0YShcImNrZS13aWRnZXQtZGF0YVwiLFxuZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGEuZGF0YSkpKX1mdW5jdGlvbiBhYSgpe2Z1bmN0aW9uIGEoKXt9ZnVuY3Rpb24gYihhLGMsZCl7cmV0dXJuIGQmJnRoaXMuY2hlY2tFbGVtZW50KGEpPyhhPWQud2lkZ2V0cy5nZXRCeUVsZW1lbnQoYSwhMCkpJiZhLmNoZWNrU3R5bGVBY3RpdmUodGhpcyk6ITF9ZnVuY3Rpb24gYyhhKXtmdW5jdGlvbiBiKGEsYyxkKXtmb3IodmFyIGU9YS5sZW5ndGgsZj0wO2Y8ZTspe2lmKGMuY2FsbChkLGFbZl0sZixhKSlyZXR1cm4gYVtmXTtmKyt9fWZ1bmN0aW9uIGUoYSl7ZnVuY3Rpb24gYihhLGMpe3ZhciBkPUNLRURJVE9SLnRvb2xzLm9iamVjdC5rZXlzKGEpLGU9Q0tFRElUT1IudG9vbHMub2JqZWN0LmtleXMoYyk7aWYoZC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGYgaW4gYSlpZigoXCJvYmplY3RcIiE9PXR5cGVvZiBhW2ZdfHxcIm9iamVjdFwiIT09dHlwZW9mIGNbZl18fCFiKGFbZl0sY1tmXSkpJiZhW2ZdIT09XG5jW2ZdKXJldHVybiExO3JldHVybiEwfXJldHVybiBmdW5jdGlvbihjKXtyZXR1cm4gYihhLmdldERlZmluaXRpb24oKSxjLmdldERlZmluaXRpb24oKSl9fXZhciBmPWEud2lkZ2V0LGc7ZFtmXXx8KGRbZl09e30pO2Zvcih2YXIgaD0wLGs9YS5ncm91cC5sZW5ndGg7aDxrO2grKylnPWEuZ3JvdXBbaF0sZFtmXVtnXXx8KGRbZl1bZ109W10pLGc9ZFtmXVtnXSxiKGcsZShhKSl8fGcucHVzaChhKX12YXIgZD17fTtDS0VESVRPUi5zdHlsZS5hZGRDdXN0b21IYW5kbGVyKHt0eXBlOlwid2lkZ2V0XCIsc2V0dXA6ZnVuY3Rpb24oYSl7dGhpcy53aWRnZXQ9YS53aWRnZXQ7KHRoaXMuZ3JvdXA9XCJzdHJpbmdcIj09dHlwZW9mIGEuZ3JvdXA/W2EuZ3JvdXBdOmEuZ3JvdXApJiZjKHRoaXMpfSxhcHBseTpmdW5jdGlvbihhKXt2YXIgYjthIGluc3RhbmNlb2YgQ0tFRElUT1IuZWRpdG9yJiZ0aGlzLmNoZWNrQXBwbGljYWJsZShhLmVsZW1lbnRQYXRoKCksYSkmJihiPWEud2lkZ2V0cy5mb2N1c2VkLFxudGhpcy5ncm91cCYmdGhpcy5yZW1vdmVTdHlsZXNGcm9tU2FtZUdyb3VwKGEpLGIuYXBwbHlTdHlsZSh0aGlzKSl9LHJlbW92ZTpmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgQ0tFRElUT1IuZWRpdG9yJiZ0aGlzLmNoZWNrQXBwbGljYWJsZShhLmVsZW1lbnRQYXRoKCksYSkmJmEud2lkZ2V0cy5mb2N1c2VkLnJlbW92ZVN0eWxlKHRoaXMpfSxyZW1vdmVTdHlsZXNGcm9tU2FtZUdyb3VwOmZ1bmN0aW9uKGEpe3ZhciBiPSExLGMsZTtpZighKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0b3IpKXJldHVybiExO2U9YS5lbGVtZW50UGF0aCgpO2lmKHRoaXMuY2hlY2tBcHBsaWNhYmxlKGUsYSkpZm9yKHZhciBmPTAsZz10aGlzLmdyb3VwLmxlbmd0aDtmPGc7ZisrKXtjPWRbdGhpcy53aWRnZXRdW3RoaXMuZ3JvdXBbZl1dO2Zvcih2YXIgaD0wO2g8Yy5sZW5ndGg7aCsrKWNbaF0hPT10aGlzJiZjW2hdLmNoZWNrQWN0aXZlKGUsYSkmJihhLndpZGdldHMuZm9jdXNlZC5yZW1vdmVTdHlsZShjW2hdKSxcbmI9ITApfXJldHVybiBifSxjaGVja0FjdGl2ZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNoZWNrRWxlbWVudE1hdGNoKGEubGFzdEVsZW1lbnQsMCxiKX0sY2hlY2tBcHBsaWNhYmxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGIgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0b3I/dGhpcy5jaGVja0VsZW1lbnQoYS5sYXN0RWxlbWVudCk6ITF9LGNoZWNrRWxlbWVudE1hdGNoOmIsY2hlY2tFbGVtZW50UmVtb3ZhYmxlOmIsY2hlY2tFbGVtZW50OmZ1bmN0aW9uKGEpe3JldHVybiBmLmlzRG9tV2lkZ2V0V3JhcHBlcihhKT8oYT1hLmdldEZpcnN0KGYuaXNEb21XaWRnZXRFbGVtZW50KSkmJmEuZGF0YShcIndpZGdldFwiKT09dGhpcy53aWRnZXQ6ITF9LGJ1aWxkUHJldmlldzpmdW5jdGlvbihhKXtyZXR1cm4gYXx8dGhpcy5fLmRlZmluaXRpb24ubmFtZX0sdG9BbGxvd2VkQ29udGVudFJ1bGVzOmZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybiBudWxsO2E9YS53aWRnZXRzLnJlZ2lzdGVyZWRbdGhpcy53aWRnZXRdO1xudmFyIGIsYz17fTtpZighYSlyZXR1cm4gbnVsbDtpZihhLnN0eWxlYWJsZUVsZW1lbnRzKXtiPXRoaXMuZ2V0Q2xhc3Nlc0FycmF5KCk7aWYoIWIpcmV0dXJuIG51bGw7Y1thLnN0eWxlYWJsZUVsZW1lbnRzXT17Y2xhc3NlczpiLHByb3BlcnRpZXNPbmx5OiEwfTtyZXR1cm4gY31yZXR1cm4gYS5zdHlsZVRvQWxsb3dlZENvbnRlbnRSdWxlcz9hLnN0eWxlVG9BbGxvd2VkQ29udGVudFJ1bGVzKHRoaXMpOm51bGx9LGdldENsYXNzZXNBcnJheTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5kZWZpbml0aW9uLmF0dHJpYnV0ZXMmJnRoaXMuXy5kZWZpbml0aW9uLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXTtyZXR1cm4gYT9DS0VESVRPUi50b29scy50cmltKGEpLnNwbGl0KC9cXHMrLyk6bnVsbH0sYXBwbHlUb1JhbmdlOmEscmVtb3ZlRnJvbVJhbmdlOmEsYXBwbHlUb09iamVjdDphfSl9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJ3aWRnZXRcIix7cmVxdWlyZXM6XCJsaW5ldXRpbHMsY2xpcGJvYXJkLHdpZGdldHNlbGVjdGlvblwiLFxub25Mb2FkOmZ1bmN0aW9uKCl7dm9pZCAwIT09Q0tFRElUT1IuZG9jdW1lbnQuJC5xdWVyeVNlbGVjdG9yQWxsJiYoQ0tFRElUT1IuYWRkQ3NzKCcuY2tlX3dpZGdldF93cmFwcGVye3Bvc2l0aW9uOnJlbGF0aXZlO291dGxpbmU6bm9uZX0uY2tlX3dpZGdldF9pbmxpbmV7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrZV93aWRnZXRfd3JhcHBlcjpob3ZlclxceDNlLmNrZV93aWRnZXRfZWxlbWVudHtvdXRsaW5lOjJweCBzb2xpZCAjZmZkMjVjO2N1cnNvcjpkZWZhdWx0fS5ja2Vfd2lkZ2V0X3dyYXBwZXI6aG92ZXIgLmNrZV93aWRnZXRfZWRpdGFibGV7b3V0bGluZToycHggc29saWQgI2ZmZDI1Y30uY2tlX3dpZGdldF93cmFwcGVyLmNrZV93aWRnZXRfZm9jdXNlZFxceDNlLmNrZV93aWRnZXRfZWxlbWVudCwuY2tlX3dpZGdldF93cmFwcGVyIC5ja2Vfd2lkZ2V0X2VkaXRhYmxlLmNrZV93aWRnZXRfZWRpdGFibGVfZm9jdXNlZHtvdXRsaW5lOjJweCBzb2xpZCAjNDdhNGY1fS5ja2Vfd2lkZ2V0X2VkaXRhYmxle2N1cnNvcjp0ZXh0fS5ja2Vfd2lkZ2V0X2RyYWdfaGFuZGxlcl9jb250YWluZXJ7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTVweDtoZWlnaHQ6MDtkaXNwbGF5OmJsb2NrO29wYWNpdHk6MC43NTt0cmFuc2l0aW9uOmhlaWdodCAwcyAwLjJzO2xpbmUtaGVpZ2h0OjB9LmNrZV93aWRnZXRfd3JhcHBlcjpob3ZlclxceDNlLmNrZV93aWRnZXRfZHJhZ19oYW5kbGVyX2NvbnRhaW5lcntoZWlnaHQ6MTVweDt0cmFuc2l0aW9uOm5vbmV9LmNrZV93aWRnZXRfZHJhZ19oYW5kbGVyX2NvbnRhaW5lcjpob3ZlcntvcGFjaXR5OjF9LmNrZV9lZGl0YWJsZVtjb250ZW50ZWRpdGFibGVcXHgzZFwiZmFsc2VcIl0gLmNrZV93aWRnZXRfZHJhZ19oYW5kbGVyX2NvbnRhaW5lcntkaXNwbGF5Om5vbmU7fWltZy5ja2Vfd2lkZ2V0X2RyYWdfaGFuZGxlcntjdXJzb3I6bW92ZTt3aWR0aDoxNXB4O2hlaWdodDoxNXB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5ja2Vfd2lkZ2V0X21hc2t7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7ZGlzcGxheTpibG9ja30uY2tlX3dpZGdldF9wYXJ0aWFsX21hc2t7cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpibG9ja30uY2tlX2VkaXRhYmxlLmNrZV93aWRnZXRfZHJhZ2dpbmcsIC5ja2VfZWRpdGFibGUuY2tlX3dpZGdldF9kcmFnZ2luZyAqe2N1cnNvcjptb3ZlICFpbXBvcnRhbnR9JyksXG5hYSgpKX0sYmVmb3JlSW5pdDpmdW5jdGlvbihiKXt2b2lkIDAhPT1DS0VESVRPUi5kb2N1bWVudC4kLnF1ZXJ5U2VsZWN0b3JBbGwmJihiLndpZGdldHM9bmV3IGEoYikpfSxhZnRlckluaXQ6ZnVuY3Rpb24oYSl7aWYodm9pZCAwIT09Q0tFRElUT1IuZG9jdW1lbnQuJC5xdWVyeVNlbGVjdG9yQWxsKXt2YXIgYj1hLndpZGdldHMucmVnaXN0ZXJlZCxjLGQsZTtmb3IoZCBpbiBiKWM9YltkXSwoZT1jLmJ1dHRvbikmJmEudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbihDS0VESVRPUi50b29scy5jYXBpdGFsaXplKGMubmFtZSwhMCkse2xhYmVsOmUsY29tbWFuZDpjLm5hbWUsdG9vbGJhcjpcImluc2VydCwxMFwifSk7eihhKTtKKGEudW5kb01hbmFnZXIpfX19KTthLnByb3RvdHlwZT17TUlOX1NFTEVDVElPTl9DSEVDS19JTlRFUlZBTDo1MDAsYWRkOmZ1bmN0aW9uKGEsZCl7dmFyIGU9dGhpcy5lZGl0b3I7ZD1DS0VESVRPUi50b29scy5wcm90b3R5cGVkQ29weShkKTtkLm5hbWU9YTtcbmQuXz1kLl98fHt9O2UuZmlyZShcIndpZGdldERlZmluaXRpb25cIixkKTtkLnRlbXBsYXRlJiYoZC50ZW1wbGF0ZT1uZXcgQ0tFRElUT1IudGVtcGxhdGUoZC50ZW1wbGF0ZSkpO2IoZSxkKTtjKHRoaXMsZCk7dGhpcy5yZWdpc3RlcmVkW2FdPWQ7aWYoZC5kaWFsb2cmJmUucGx1Z2lucy5kaWFsb2cpdmFyIGY9Q0tFRElUT1Iub24oXCJkaWFsb2dEZWZpbml0aW9uXCIsZnVuY3Rpb24oYSl7YT1hLmRhdGEuZGVmaW5pdGlvbjt2YXIgYj1hLmRpYWxvZzthLmdldE1vZGV8fGIuZ2V0TmFtZSgpIT09ZC5kaWFsb2d8fChhLmdldE1vZGU9ZnVuY3Rpb24oKXt2YXIgYT1iLmdldE1vZGVsKGUpO3JldHVybiBhJiZhIGluc3RhbmNlb2YgQ0tFRElUT1IucGx1Z2lucy53aWRnZXQmJmEucmVhZHk/Q0tFRElUT1IuZGlhbG9nLkVESVRJTkdfTU9ERTpDS0VESVRPUi5kaWFsb2cuQ1JFQVRJT05fTU9ERX0pO2YucmVtb3ZlTGlzdGVuZXIoKX0pO3JldHVybiBkfSxhZGRVcGNhc3RDYWxsYmFjazpmdW5jdGlvbihhKXt0aGlzLl8udXBjYXN0Q2FsbGJhY2tzLnB1c2goYSl9LFxuY2hlY2tTZWxlY3Rpb246ZnVuY3Rpb24oKXtpZih0aGlzLmVkaXRvci5nZXRTZWxlY3Rpb24oKSl7dmFyIGE9dGhpcy5lZGl0b3IuZ2V0U2VsZWN0aW9uKCksYj1hLmdldFNlbGVjdGVkRWxlbWVudCgpLGM9Rih0aGlzKSxkO2lmKGImJihkPXRoaXMuZ2V0QnlFbGVtZW50KGIsITApKSlyZXR1cm4gYy5mb2N1cyhkKS5zZWxlY3QoZCkuY29tbWl0KCk7YT1hLmdldFJhbmdlcygpWzBdO2lmKCFhfHxhLmNvbGxhcHNlZClyZXR1cm4gYy5jb21taXQoKTthPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGEpO2ZvcihhLmV2YWx1YXRvcj1mLmlzRG9tV2lkZ2V0V3JhcHBlcjtiPWEubmV4dCgpOyljLnNlbGVjdCh0aGlzLmdldEJ5RWxlbWVudChiKSk7Yy5jb21taXQoKX19LGNoZWNrV2lkZ2V0czpmdW5jdGlvbihhKXt0aGlzLmZpcmUoXCJjaGVja1dpZGdldHNcIixDS0VESVRPUi50b29scy5jb3B5KGF8fHt9KSl9LGRlbDpmdW5jdGlvbihhKXtpZih0aGlzLmZvY3VzZWQ9PT1hKXt2YXIgYj1hLmVkaXRvcixcbmM9Yi5jcmVhdGVSYW5nZSgpLGQ7KGQ9Yy5tb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbihhLndyYXBwZXIsITApKXx8KGQ9Yy5tb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbihhLndyYXBwZXIsITEpKTtkJiZiLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbY10pfWEud3JhcHBlci5yZW1vdmUoKTt0aGlzLmRlc3Ryb3koYSwhMCl9LGRlc3Ryb3k6ZnVuY3Rpb24oYSxiKXt0aGlzLndpZGdldEhvbGRpbmdGb2N1c2VkRWRpdGFibGU9PT1hJiZ1KHRoaXMsYSxudWxsLGIpO2EuZGVzdHJveShiKTtkZWxldGUgdGhpcy5pbnN0YW5jZXNbYS5pZF07dGhpcy5maXJlKFwiaW5zdGFuY2VEZXN0cm95ZWRcIixhKX0sZGVzdHJveUFsbDpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZT10aGlzLmluc3RhbmNlcztpZihiJiYhYSl7ZD1iLmZpbmQoXCIuY2tlX3dpZGdldF93cmFwcGVyXCIpO2Zvcih2YXIgZT1kLmNvdW50KCksZj0wO2Y8ZTsrK2YpKGM9dGhpcy5nZXRCeUVsZW1lbnQoZC5nZXRJdGVtKGYpLFxuITApKSYmdGhpcy5kZXN0cm95KGMpfWVsc2UgZm9yKGQgaW4gZSljPWVbZF0sdGhpcy5kZXN0cm95KGMsYSl9LGZpbmFsaXplQ3JlYXRpb246ZnVuY3Rpb24oYSl7KGE9YS5nZXRGaXJzdCgpKSYmZi5pc0RvbVdpZGdldFdyYXBwZXIoYSkmJih0aGlzLmVkaXRvci5pbnNlcnRFbGVtZW50KGEpLGE9dGhpcy5nZXRCeUVsZW1lbnQoYSksYS5yZWFkeT0hMCxhLmZpcmUoXCJyZWFkeVwiKSxhLmZvY3VzKCkpfSxnZXRCeUVsZW1lbnQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGMpe3JldHVybiBjLmlzKGIpJiZjLmRhdGEoXCJja2Utd2lkZ2V0LWlkXCIpfXZhciBiPXtkaXY6MSxzcGFuOjF9O3JldHVybiBmdW5jdGlvbihiLGMpe2lmKCFiKXJldHVybiBudWxsO3ZhciBkPWEoYik7aWYoIWMmJiFkKXt2YXIgZT10aGlzLmVkaXRvci5lZGl0YWJsZSgpO2RvIGI9Yi5nZXRQYXJlbnQoKTt3aGlsZShiJiYhYi5lcXVhbHMoZSkmJiEoZD1hKGIpKSl9cmV0dXJuIHRoaXMuaW5zdGFuY2VzW2RdfHxudWxsfX0oKSxcbmluaXRPbjpmdW5jdGlvbihhLGIsYyl7Yj9cInN0cmluZ1wiPT10eXBlb2YgYiYmKGI9dGhpcy5yZWdpc3RlcmVkW2JdKTpiPXRoaXMucmVnaXN0ZXJlZFthLmRhdGEoXCJ3aWRnZXRcIildO2lmKCFiKXJldHVybiBudWxsO3ZhciBkPXRoaXMud3JhcEVsZW1lbnQoYSxiLm5hbWUpO3JldHVybiBkP2QuaGFzQ2xhc3MoXCJja2Vfd2lkZ2V0X25ld1wiKT8oYT1uZXcgZih0aGlzLHRoaXMuXy5uZXh0SWQrKyxhLGIsYyksYS5pc0luaXRlZCgpP3RoaXMuaW5zdGFuY2VzW2EuaWRdPWE6bnVsbCk6dGhpcy5nZXRCeUVsZW1lbnQoYSk6bnVsbH0saW5pdE9uQWxsOmZ1bmN0aW9uKGEpe2E9KGF8fHRoaXMuZWRpdG9yLmVkaXRhYmxlKCkpLmZpbmQoXCIuY2tlX3dpZGdldF9uZXdcIik7Zm9yKHZhciBiPVtdLGMsZD1hLmNvdW50KCk7ZC0tOykoYz10aGlzLmluaXRPbihhLmdldEl0ZW0oZCkuZ2V0Rmlyc3QoZi5pc0RvbVdpZGdldEVsZW1lbnQpKSkmJmIucHVzaChjKTtyZXR1cm4gYn0sb25XaWRnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9XG5BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO2Iuc2hpZnQoKTtmb3IodmFyIGMgaW4gdGhpcy5pbnN0YW5jZXMpe3ZhciBkPXRoaXMuaW5zdGFuY2VzW2NdO2QubmFtZT09YSYmZC5vbi5hcHBseShkLGIpfXRoaXMub24oXCJpbnN0YW5jZUNyZWF0ZWRcIixmdW5jdGlvbihjKXtjPWMuZGF0YTtjLm5hbWU9PWEmJmMub24uYXBwbHkoYyxiKX0pfSxwYXJzZUVsZW1lbnRDbGFzc2VzOmZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybiBudWxsO2E9Q0tFRElUT1IudG9vbHMudHJpbShhKS5zcGxpdCgvXFxzKy8pO2Zvcih2YXIgYixjPXt9LGQ9MDtiPWEucG9wKCk7KS0xPT1iLmluZGV4T2YoXCJja2VfXCIpJiYoY1tiXT1kPTEpO3JldHVybiBkP2M6bnVsbH0sd3JhcEVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsLGQsZTtpZihhIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQpe2I9Ynx8YS5kYXRhKFwid2lkZ2V0XCIpO2Q9dGhpcy5yZWdpc3RlcmVkW2JdO2lmKCFkKXJldHVybiBudWxsO1xuaWYoKGM9YS5nZXRQYXJlbnQoKSkmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZjLmRhdGEoXCJja2Utd2lkZ2V0LXdyYXBwZXJcIikpcmV0dXJuIGM7YS5oYXNBdHRyaWJ1dGUoXCJkYXRhLWNrZS13aWRnZXQta2VlcC1hdHRyXCIpfHxhLmRhdGEoXCJja2Utd2lkZ2V0LWtlZXAtYXR0clwiLGEuZGF0YShcIndpZGdldFwiKT8xOjApO2EuZGF0YShcIndpZGdldFwiLGIpOyhlPXIoZCxhLmdldE5hbWUoKSkpJiZtKGEpO2M9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGU/XCJzcGFuXCI6XCJkaXZcIixhLmdldERvY3VtZW50KCkpO2Muc2V0QXR0cmlidXRlcyh3KGUsYikpO2MuZGF0YShcImNrZS1kaXNwbGF5LW5hbWVcIixkLnBhdGhOYW1lP2QucGF0aE5hbWU6YS5nZXROYW1lKCkpO2EuZ2V0UGFyZW50KCEwKSYmYy5yZXBsYWNlKGEpO2EuYXBwZW5kVG8oYyl9ZWxzZSBpZihhIGluc3RhbmNlb2YgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KXtiPWJ8fGEuYXR0cmlidXRlc1tcImRhdGEtd2lkZ2V0XCJdO1xuZD10aGlzLnJlZ2lzdGVyZWRbYl07aWYoIWQpcmV0dXJuIG51bGw7aWYoKGM9YS5wYXJlbnQpJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYy5hdHRyaWJ1dGVzW1wiZGF0YS1ja2Utd2lkZ2V0LXdyYXBwZXJcIl0pcmV0dXJuIGM7XCJkYXRhLWNrZS13aWRnZXQta2VlcC1hdHRyXCJpbiBhLmF0dHJpYnV0ZXN8fChhLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS13aWRnZXQta2VlcC1hdHRyXCJdPWEuYXR0cmlidXRlc1tcImRhdGEtd2lkZ2V0XCJdPzE6MCk7YiYmKGEuYXR0cmlidXRlc1tcImRhdGEtd2lkZ2V0XCJdPWIpOyhlPXIoZCxhLm5hbWUpKSYmbShhKTtjPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoZT9cInNwYW5cIjpcImRpdlwiLHcoZSxiKSk7Yy5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtZGlzcGxheS1uYW1lXCJdPWQucGF0aE5hbWU/ZC5wYXRoTmFtZTphLm5hbWU7ZD1hLnBhcmVudDt2YXIgZjtkJiYoZj1hLmdldEluZGV4KCksYS5yZW1vdmUoKSk7Yy5hZGQoYSk7ZCYmeChkLFxuZixjKX1yZXR1cm4gY30sX3Rlc3RzX2NyZWF0ZUVkaXRhYmxlRmlsdGVyOmd9O0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKGEucHJvdG90eXBlKTtmLnByb3RvdHlwZT17YWRkQ2xhc3M6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LmFkZENsYXNzKGEpO3RoaXMud3JhcHBlci5hZGRDbGFzcyhmLldSQVBQRVJfQ0xBU1NfUFJFRklYK2EpfSxhcHBseVN0eWxlOmZ1bmN0aW9uKGEpe0sodGhpcyxhLDEpfSxjaGVja1N0eWxlQWN0aXZlOmZ1bmN0aW9uKGEpe2E9RShhKTt2YXIgYjtpZighYSlyZXR1cm4hMTtmb3IoO2I9YS5wb3AoKTspaWYoIXRoaXMuaGFzQ2xhc3MoYikpcmV0dXJuITE7cmV0dXJuITB9LGRlc3Ryb3k6ZnVuY3Rpb24oYSl7dGhpcy5maXJlKFwiZGVzdHJveVwiKTtpZih0aGlzLmVkaXRhYmxlcylmb3IodmFyIGIgaW4gdGhpcy5lZGl0YWJsZXMpdGhpcy5kZXN0cm95RWRpdGFibGUoYixhKTthfHwoXCIwXCI9PXRoaXMuZWxlbWVudC5kYXRhKFwiY2tlLXdpZGdldC1rZWVwLWF0dHJcIikmJlxudGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtd2lkZ2V0XCIpLHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGVzKFtcImRhdGEtY2tlLXdpZGdldC1kYXRhXCIsXCJkYXRhLWNrZS13aWRnZXQta2VlcC1hdHRyXCJdKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJja2Vfd2lkZ2V0X2VsZW1lbnRcIiksdGhpcy5lbGVtZW50LnJlcGxhY2UodGhpcy53cmFwcGVyKSk7dGhpcy53cmFwcGVyPW51bGx9LGRlc3Ryb3lFZGl0YWJsZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZWRpdGFibGVzW2FdLGQ9ITA7Yy5yZW1vdmVMaXN0ZW5lcihcImZvY3VzXCIsTCk7Yy5yZW1vdmVMaXN0ZW5lcihcImJsdXJcIixQKTt0aGlzLmVkaXRvci5mb2N1c01hbmFnZXIucmVtb3ZlKGMpO2lmKGMuZmlsdGVyKXtmb3IodmFyIGUgaW4gdGhpcy5yZXBvc2l0b3J5Lmluc3RhbmNlcyl7dmFyIGY9dGhpcy5yZXBvc2l0b3J5Lmluc3RhbmNlc1tlXTtmLmVkaXRhYmxlcyYmKGY9Zi5lZGl0YWJsZXNbYV0pJiZmIT09XG5jJiZjLmZpbHRlcj09PWYuZmlsdGVyJiYoZD0hMSl9ZCYmKGMuZmlsdGVyLmRlc3Ryb3koKSwoZD10aGlzLnJlcG9zaXRvcnkuXy5maWx0ZXJzW3RoaXMubmFtZV0pJiZkZWxldGUgZFthXSl9Ynx8KHRoaXMucmVwb3NpdG9yeS5kZXN0cm95QWxsKCExLGMpLGMucmVtb3ZlQ2xhc3MoXCJja2Vfd2lkZ2V0X2VkaXRhYmxlXCIpLGMucmVtb3ZlQ2xhc3MoXCJja2Vfd2lkZ2V0X2VkaXRhYmxlX2ZvY3VzZWRcIiksYy5yZW1vdmVBdHRyaWJ1dGVzKFtcImNvbnRlbnRlZGl0YWJsZVwiLFwiZGF0YS1ja2Utd2lkZ2V0LWVkaXRhYmxlXCIsXCJkYXRhLWNrZS1lbnRlci1tb2RlXCJdKSk7ZGVsZXRlIHRoaXMuZWRpdGFibGVzW2FdfSxlZGl0OmZ1bmN0aW9uKCl7dmFyIGE9e2RpYWxvZzp0aGlzLmRpYWxvZ30sYj10aGlzO2lmKCExPT09dGhpcy5maXJlKFwiZWRpdFwiLGEpfHwhYS5kaWFsb2cpcmV0dXJuITE7dGhpcy5lZGl0b3Iub3BlbkRpYWxvZyhhLmRpYWxvZyxmdW5jdGlvbihhKXt2YXIgYyxkOyExIT09Yi5maXJlKFwiZGlhbG9nXCIsXG5hKSYmKGM9YS5vbihcInNob3dcIixmdW5jdGlvbigpe2Euc2V0dXBDb250ZW50KGIpfSksZD1hLm9uKFwib2tcIixmdW5jdGlvbigpe3ZhciBjLGQ9Yi5vbihcImRhdGFcIixmdW5jdGlvbihhKXtjPTE7YS5jYW5jZWwoKX0sbnVsbCxudWxsLDApO2IuZWRpdG9yLmZpcmUoXCJzYXZlU25hcHNob3RcIik7YS5jb21taXRDb250ZW50KGIpO2QucmVtb3ZlTGlzdGVuZXIoKTtjJiYoYi5maXJlKFwiZGF0YVwiLGIuZGF0YSksYi5lZGl0b3IuZmlyZShcInNhdmVTbmFwc2hvdFwiKSl9KSxhLm9uY2UoXCJoaWRlXCIsZnVuY3Rpb24oKXtjLnJlbW92ZUxpc3RlbmVyKCk7ZC5yZW1vdmVMaXN0ZW5lcigpfSkpfSxiKTtyZXR1cm4hMH0sZ2V0Q2xhc3NlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcG9zaXRvcnkucGFyc2VFbGVtZW50Q2xhc3Nlcyh0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikpfSxnZXRDbGlwYm9hcmRIdG1sOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0b3IuY3JlYXRlUmFuZ2UoKTtcbmEuc2V0U3RhcnRCZWZvcmUodGhpcy53cmFwcGVyKTthLnNldEVuZEFmdGVyKHRoaXMud3JhcHBlcik7cmV0dXJuIHRoaXMuZWRpdG9yLmVkaXRhYmxlKCkuZ2V0SHRtbEZyb21SYW5nZShhKS5nZXRIdG1sKCl9LGhhc0NsYXNzOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVsZW1lbnQuaGFzQ2xhc3MoYSl9LGluaXRFZGl0YWJsZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuX2ZpbmRPbmVOb3ROZXN0ZWQoYi5zZWxlY3Rvcik7cmV0dXJuIGMmJmMuaXMoQ0tFRElUT1IuZHRkLiRlZGl0YWJsZSk/KGM9bmV3IGUodGhpcy5lZGl0b3IsYyx7ZmlsdGVyOmcuY2FsbCh0aGlzLnJlcG9zaXRvcnksdGhpcy5uYW1lLGEsYil9KSx0aGlzLmVkaXRhYmxlc1thXT1jLGMuc2V0QXR0cmlidXRlcyh7Y29udGVudGVkaXRhYmxlOlwidHJ1ZVwiLFwiZGF0YS1ja2Utd2lkZ2V0LWVkaXRhYmxlXCI6YSxcImRhdGEtY2tlLWVudGVyLW1vZGVcIjpjLmVudGVyTW9kZX0pLGMuZmlsdGVyJiZjLmRhdGEoXCJja2UtZmlsdGVyXCIsXG5jLmZpbHRlci5pZCksYy5hZGRDbGFzcyhcImNrZV93aWRnZXRfZWRpdGFibGVcIiksYy5yZW1vdmVDbGFzcyhcImNrZV93aWRnZXRfZWRpdGFibGVfZm9jdXNlZFwiKSxiLnBhdGhOYW1lJiZjLmRhdGEoXCJja2UtZGlzcGxheS1uYW1lXCIsYi5wYXRoTmFtZSksdGhpcy5lZGl0b3IuZm9jdXNNYW5hZ2VyLmFkZChjKSxjLm9uKFwiZm9jdXNcIixMLHRoaXMpLENLRURJVE9SLmVudi5pZSYmYy5vbihcImJsdXJcIixQLHRoaXMpLGMuXy5pbml0aWFsU2V0RGF0YT0hMCxjLnNldERhdGEoYy5nZXRIdG1sKCkpLCEwKTohMX0sX2ZpbmRPbmVOb3ROZXN0ZWQ6ZnVuY3Rpb24oYSl7YT10aGlzLndyYXBwZXIuZmluZChhKTtmb3IodmFyIGIsYyxkPTA7ZDxhLmNvdW50KCk7ZCsrKWlmKGI9YS5nZXRJdGVtKGQpLGM9Yi5nZXRBc2NlbmRhbnQoZi5pc0RvbVdpZGdldFdyYXBwZXIpLHRoaXMud3JhcHBlci5lcXVhbHMoYykpcmV0dXJuIGI7cmV0dXJuIG51bGx9LGlzSW5pdGVkOmZ1bmN0aW9uKCl7cmV0dXJuISghdGhpcy53cmFwcGVyfHxcbiF0aGlzLmluaXRlZCl9LGlzUmVhZHk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0luaXRlZCgpJiZ0aGlzLnJlYWR5fSxmb2N1czpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yLmdldFNlbGVjdGlvbigpO2lmKGEpe3ZhciBiPXRoaXMuZWRpdG9yLmNoZWNrRGlydHkoKTthLmZha2UodGhpcy53cmFwcGVyKTshYiYmdGhpcy5lZGl0b3IucmVzZXREaXJ0eSgpfXRoaXMuZWRpdG9yLmZvY3VzKCl9LHJlZnJlc2hNYXNrOmZ1bmN0aW9uKCl7ZWEodGhpcyl9LHJlZnJlc2hQYXJ0czpmdW5jdGlvbihhKXtTKHRoaXMsXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBhP2E6ITApfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoYSk7dGhpcy53cmFwcGVyLnJlbW92ZUNsYXNzKGYuV1JBUFBFUl9DTEFTU19QUkVGSVgrYSl9LHJlbW92ZVN0eWxlOmZ1bmN0aW9uKGEpe0sodGhpcyxhLDApfSxzZXREYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5kYXRhLFxuZD0wO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhKWNbYV0hPT1iJiYoY1thXT1iLGQ9MSk7ZWxzZXt2YXIgZT1hO2ZvcihhIGluIGUpY1thXSE9PWVbYV0mJihkPTEsY1thXT1lW2FdKX1kJiZ0aGlzLmRhdGFSZWFkeSYmKFoodGhpcyksdGhpcy5maXJlKFwiZGF0YVwiLGMpKTtyZXR1cm4gdGhpc30sc2V0Rm9jdXNlZDpmdW5jdGlvbihhKXt0aGlzLndyYXBwZXJbYT9cImFkZENsYXNzXCI6XCJyZW1vdmVDbGFzc1wiXShcImNrZV93aWRnZXRfZm9jdXNlZFwiKTt0aGlzLmZpcmUoYT9cImZvY3VzXCI6XCJibHVyXCIpO3JldHVybiB0aGlzfSxzZXRTZWxlY3RlZDpmdW5jdGlvbihhKXt0aGlzLndyYXBwZXJbYT9cImFkZENsYXNzXCI6XCJyZW1vdmVDbGFzc1wiXShcImNrZV93aWRnZXRfc2VsZWN0ZWRcIik7dGhpcy5maXJlKGE/XCJzZWxlY3RcIjpcImRlc2VsZWN0XCIpO3JldHVybiB0aGlzfSx1cGRhdGVEcmFnSGFuZGxlclBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0b3IsYj10aGlzLmVsZW1lbnQuJCxjPXRoaXMuXy5kcmFnSGFuZGxlck9mZnNldCxcbmI9e3g6Yi5vZmZzZXRMZWZ0LHk6Yi5vZmZzZXRUb3AtMTV9O2MmJmIueD09Yy54JiZiLnk9PWMueXx8KGM9YS5jaGVja0RpcnR5KCksYS5maXJlKFwibG9ja1NuYXBzaG90XCIpLHRoaXMuZHJhZ0hhbmRsZXJDb250YWluZXIuc2V0U3R5bGVzKHt0b3A6Yi55K1wicHhcIixsZWZ0OmIueCtcInB4XCJ9KSx0aGlzLmRyYWdIYW5kbGVyQ29udGFpbmVyLnJlbW92ZVN0eWxlKFwiZGlzcGxheVwiKSxhLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKSwhYyYmYS5yZXNldERpcnR5KCksdGhpcy5fLmRyYWdIYW5kbGVyT2Zmc2V0PWIpfX07Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oZi5wcm90b3R5cGUpO2YuZ2V0TmVzdGVkRWRpdGFibGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hYnx8Yi5lcXVhbHMoYSk/bnVsbDpmLmlzRG9tTmVzdGVkRWRpdGFibGUoYik/YjpmLmdldE5lc3RlZEVkaXRhYmxlKGEsYi5nZXRQYXJlbnQoKSl9O2YuaXNEb21EcmFnSGFuZGxlcj1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1cbkNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5oYXNBdHRyaWJ1dGUoXCJkYXRhLWNrZS13aWRnZXQtZHJhZy1oYW5kbGVyXCIpfTtmLmlzRG9tRHJhZ0hhbmRsZXJDb250YWluZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmhhc0NsYXNzKFwiY2tlX3dpZGdldF9kcmFnX2hhbmRsZXJfY29udGFpbmVyXCIpfTtmLmlzRG9tTmVzdGVkRWRpdGFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXdpZGdldC1lZGl0YWJsZVwiKX07Zi5pc0RvbVdpZGdldEVsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmhhc0F0dHJpYnV0ZShcImRhdGEtd2lkZ2V0XCIpfTtmLmlzRG9tV2lkZ2V0V3JhcHBlcj1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaGFzQXR0cmlidXRlKFwiZGF0YS1ja2Utd2lkZ2V0LXdyYXBwZXJcIil9O1xuZi5pc0RvbVdpZGdldD1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmlzRG9tV2lkZ2V0V3JhcHBlcihhKXx8dGhpcy5pc0RvbVdpZGdldEVsZW1lbnQoYSk6ITF9O2YuaXNQYXJzZXJXaWRnZXRFbGVtZW50PWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmISFhLmF0dHJpYnV0ZXNbXCJkYXRhLXdpZGdldFwiXX07Zi5pc1BhcnNlcldpZGdldFdyYXBwZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhIWEuYXR0cmlidXRlc1tcImRhdGEtY2tlLXdpZGdldC13cmFwcGVyXCJdfTtmLldSQVBQRVJfQ0xBU1NfUFJFRklYPVwiY2tlX3dpZGdldF93cmFwcGVyX1wiO2UucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi50b29scy5wcm90b3R5cGVkQ29weShDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUpLHtzZXREYXRhOmZ1bmN0aW9uKGEpe3RoaXMuXy5pbml0aWFsU2V0RGF0YXx8XG50aGlzLmVkaXRvci53aWRnZXRzLmRlc3Ryb3lBbGwoITEsdGhpcyk7dGhpcy5fLmluaXRpYWxTZXREYXRhPSExO2E9dGhpcy5lZGl0b3IuZGF0YVByb2Nlc3Nvci51bnByb3RlY3RSZWFsQ29tbWVudHMoYSk7YT10aGlzLmVkaXRvci5kYXRhUHJvY2Vzc29yLnVucHJvdGVjdFNvdXJjZShhKTthPXRoaXMuZWRpdG9yLmRhdGFQcm9jZXNzb3IudG9IdG1sKGEse2NvbnRleHQ6dGhpcy5nZXROYW1lKCksZmlsdGVyOnRoaXMuZmlsdGVyLGVudGVyTW9kZTp0aGlzLmVudGVyTW9kZX0pO3RoaXMuc2V0SHRtbChhKTt0aGlzLmVkaXRvci53aWRnZXRzLmluaXRPbkFsbCh0aGlzKX0sZ2V0RGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci5kYXRhUHJvY2Vzc29yLnRvRGF0YUZvcm1hdCh0aGlzLmdldEh0bWwoKSx7Y29udGV4dDp0aGlzLmdldE5hbWUoKSxmaWx0ZXI6dGhpcy5maWx0ZXIsZW50ZXJNb2RlOnRoaXMuZW50ZXJNb2RlfSl9fSk7dmFyIGNhPS9eKD86PCg/OmRpdnxzcGFuKSg/OiBkYXRhLWNrZS10ZW1wPVwiMVwiKT8oPzogaWQ9XCJja2VfY29weWJpblwiKT8oPzogZGF0YS1ja2UtdGVtcD1cIjFcIik/Pik/KD86PCg/OmRpdnxzcGFuKSg/OiBzdHlsZT1cIlteXCJdK1wiKT8+KT88c3BhbiBbXj5dKmRhdGEtY2tlLWNvcHliaW4tc3RhcnQ9XCIxXCJbXj5dKj4uPzxcXC9zcGFuPihbXFxzXFxTXSspPHNwYW4gW14+XSpkYXRhLWNrZS1jb3B5YmluLWVuZD1cIjFcIltePl0qPi4/PFxcL3NwYW4+KD86PFxcLyg/OmRpdnxzcGFuKT4pPyg/OjxcXC8oPzpkaXZ8c3Bhbik+KT8kL2ksXG5WPXszNzoxLDM4OjEsMzk6MSw0MDoxLDg6MSw0NjoxfTtWW0NLRURJVE9SLlNISUZUKzEyMV09MTt2YXIgUT1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihhLGIpe3RoaXMuXy5jcmVhdGVDb3B5QmluKGEsYik7dGhpcy5fLmNyZWF0ZUxpc3RlbmVycyhiKX0sXzp7Y3JlYXRlQ29weUJpbjpmdW5jdGlvbihhKXt2YXIgYj1hLmRvY3VtZW50LGM9Q0tFRElUT1IuZW52LmVkZ2UmJjE2PD1DS0VESVRPUi5lbnYudmVyc2lvbixkPSFhLmJsb2NrbGVzcyYmIUNLRURJVE9SLmVudi5pZXx8Yz9cImRpdlwiOlwic3BhblwiLGM9Yi5jcmVhdGVFbGVtZW50KGQpLGI9Yi5jcmVhdGVFbGVtZW50KGQpO2Iuc2V0QXR0cmlidXRlcyh7aWQ6XCJja2VfY29weWJpblwiLFwiZGF0YS1ja2UtdGVtcFwiOlwiMVwifSk7Yy5zZXRTdHlsZXMoe3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix3aWR0aDpcIjFweFwiLGhlaWdodDpcIjFweFwiLG92ZXJmbG93OlwiaGlkZGVuXCJ9KTtjLnNldFN0eWxlKFwibHRyXCI9PWEuY29uZmlnLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbj9cblwibGVmdFwiOlwicmlnaHRcIixcIi01MDAwcHhcIik7dGhpcy5lZGl0b3I9YTt0aGlzLmNvcHlCaW49Yzt0aGlzLmNvbnRhaW5lcj1ifSxjcmVhdGVMaXN0ZW5lcnM6ZnVuY3Rpb24oYSl7YSYmKGEuYmVmb3JlRGVzdHJveSYmKHRoaXMuYmVmb3JlRGVzdHJveT1hLmJlZm9yZURlc3Ryb3kpLGEuYWZ0ZXJEZXN0cm95JiYodGhpcy5hZnRlckRlc3Ryb3k9YS5hZnRlckRlc3Ryb3kpKX19LHByb3RvOntoYW5kbGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jb3B5QmluLGM9dGhpcy5lZGl0b3IsZD10aGlzLmNvbnRhaW5lcixlPUNLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbixmPWMuZG9jdW1lbnQuZ2V0RG9jdW1lbnRFbGVtZW50KCkuJCxnPWMuY3JlYXRlUmFuZ2UoKSxoPXRoaXMsaz1DS0VESVRPUi5lbnYubWFjJiZDS0VESVRPUi5lbnYud2Via2l0LGw9az8xMDA6MCxtPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUmJiFrP3JlcXVlc3RBbmltYXRpb25GcmFtZTpzZXRUaW1lb3V0LFxubixwLHE7Yi5zZXRIdG1sKCdcXHgzY3NwYW4gZGF0YS1ja2UtY29weWJpbi1zdGFydFxceDNkXCIxXCJcXHgzZeKAi1xceDNjL3NwYW5cXHgzZScrYSsnXFx4M2NzcGFuIGRhdGEtY2tlLWNvcHliaW4tZW5kXFx4M2RcIjFcIlxceDNl4oCLXFx4M2Mvc3BhblxceDNlJyk7Yy5maXJlKFwibG9ja1NuYXBzaG90XCIpO2QuYXBwZW5kKGIpO2MuZWRpdGFibGUoKS5hcHBlbmQoZCk7bj1jLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsRyxudWxsLG51bGwsMCk7cD1jLndpZGdldHMub24oXCJjaGVja1NlbGVjdGlvblwiLEcsbnVsbCxudWxsLDApO2UmJihxPWYuc2Nyb2xsVG9wKTtnLnNlbGVjdE5vZGVDb250ZW50cyhiKTtnLnNlbGVjdCgpO2UmJihmLnNjcm9sbFRvcD1xKTtyZXR1cm4gbmV3IENLRURJVE9SLnRvb2xzLnByb21pc2UoZnVuY3Rpb24oYSl7bShmdW5jdGlvbigpe2guYmVmb3JlRGVzdHJveSYmaC5iZWZvcmVEZXN0cm95KCk7ZC5yZW1vdmUoKTtuLnJlbW92ZUxpc3RlbmVyKCk7cC5yZW1vdmVMaXN0ZW5lcigpO2MuZmlyZShcInVubG9ja1NuYXBzaG90XCIpO1xuaC5hZnRlckRlc3Ryb3kmJmguYWZ0ZXJEZXN0cm95KCk7YSgpfSxsKX0pfX0sc3RhdGljczp7aGFzQ29weUJpbjpmdW5jdGlvbihhKXtyZXR1cm4hIVEuZ2V0Q29weUJpbihhKX0sZ2V0Q29weUJpbjpmdW5jdGlvbihhKXtyZXR1cm4gYS5kb2N1bWVudC5nZXRCeUlkKFwiY2tlX2NvcHliaW5cIil9fX0pO0NLRURJVE9SLnBsdWdpbnMud2lkZ2V0PWY7Zi5yZXBvc2l0b3J5PWE7Zi5uZXN0ZWRFZGl0YWJsZT1lfSgpLENLRURJVE9SLmNvbmZpZy53aWRnZXRfa2V5c3Ryb2tlSW5zZXJ0TGluZUJlZm9yZT1DS0VESVRPUi5TSElGVCtDS0VESVRPUi5BTFQrMTMsQ0tFRElUT1IuY29uZmlnLndpZGdldF9rZXlzdHJva2VJbnNlcnRMaW5lQWZ0ZXI9Q0tFRElUT1IuU0hJRlQrMTMsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjKXt0aGlzLmVkaXRvcj1hO3RoaXMubm90aWZpY2F0aW9uPW51bGw7dGhpcy5fbWVzc2FnZT1uZXcgQ0tFRElUT1IudGVtcGxhdGUoYik7dGhpcy5fc2luZ3VsYXJNZXNzYWdlPVxuYz9uZXcgQ0tFRElUT1IudGVtcGxhdGUoYyk6bnVsbDt0aGlzLl90YXNrcz1bXTt0aGlzLl9kb25lVGFza3M9dGhpcy5fZG9uZVdlaWdodHM9dGhpcy5fdG90YWxXZWlnaHRzPTB9ZnVuY3Rpb24gZihhKXt0aGlzLl93ZWlnaHQ9YXx8MTt0aGlzLl9kb25lV2VpZ2h0PTA7dGhpcy5faXNDYW5jZWxlZD0hMX1DS0VESVRPUi5wbHVnaW5zLmFkZChcIm5vdGlmaWNhdGlvbmFnZ3JlZ2F0b3JcIix7cmVxdWlyZXM6XCJub3RpZmljYXRpb25cIn0pO2EucHJvdG90eXBlPXtjcmVhdGVUYXNrOmZ1bmN0aW9uKGEpe2E9YXx8e307dmFyIGI9IXRoaXMubm90aWZpY2F0aW9uLGM7YiYmKHRoaXMubm90aWZpY2F0aW9uPXRoaXMuX2NyZWF0ZU5vdGlmaWNhdGlvbigpKTtjPXRoaXMuX2FkZFRhc2soYSk7Yy5vbihcInVwZGF0ZWRcIix0aGlzLl9vblRhc2tVcGRhdGUsdGhpcyk7Yy5vbihcImRvbmVcIix0aGlzLl9vblRhc2tEb25lLHRoaXMpO2Mub24oXCJjYW5jZWxlZFwiLGZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlVGFzayhjKX0sXG50aGlzKTt0aGlzLnVwZGF0ZSgpO2ImJnRoaXMubm90aWZpY2F0aW9uLnNob3coKTtyZXR1cm4gY30sdXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlTm90aWZpY2F0aW9uKCk7dGhpcy5pc0ZpbmlzaGVkKCkmJnRoaXMuZmlyZShcImZpbmlzaGVkXCIpfSxnZXRQZXJjZW50YWdlOmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmdldFRhc2tDb3VudCgpPzE6dGhpcy5fZG9uZVdlaWdodHMvdGhpcy5fdG90YWxXZWlnaHRzfSxpc0ZpbmlzaGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RG9uZVRhc2tDb3VudCgpPT09dGhpcy5nZXRUYXNrQ291bnQoKX0sZ2V0VGFza0NvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Rhc2tzLmxlbmd0aH0sZ2V0RG9uZVRhc2tDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb25lVGFza3N9LF91cGRhdGVOb3RpZmljYXRpb246ZnVuY3Rpb24oKXt0aGlzLm5vdGlmaWNhdGlvbi51cGRhdGUoe21lc3NhZ2U6dGhpcy5fZ2V0Tm90aWZpY2F0aW9uTWVzc2FnZSgpLFxucHJvZ3Jlc3M6dGhpcy5nZXRQZXJjZW50YWdlKCl9KX0sX2dldE5vdGlmaWNhdGlvbk1lc3NhZ2U6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFRhc2tDb3VudCgpLGI9e2N1cnJlbnQ6dGhpcy5nZXREb25lVGFza0NvdW50KCksbWF4OmEscGVyY2VudGFnZTpNYXRoLnJvdW5kKDEwMCp0aGlzLmdldFBlcmNlbnRhZ2UoKSl9O3JldHVybigxPT1hJiZ0aGlzLl9zaW5ndWxhck1lc3NhZ2U/dGhpcy5fc2luZ3VsYXJNZXNzYWdlOnRoaXMuX21lc3NhZ2UpLm91dHB1dChiKX0sX2NyZWF0ZU5vdGlmaWNhdGlvbjpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IucGx1Z2lucy5ub3RpZmljYXRpb24odGhpcy5lZGl0b3Ise3R5cGU6XCJwcm9ncmVzc1wifSl9LF9hZGRUYXNrOmZ1bmN0aW9uKGEpe2E9bmV3IGYoYS53ZWlnaHQpO3RoaXMuX3Rhc2tzLnB1c2goYSk7dGhpcy5fdG90YWxXZWlnaHRzKz1hLl93ZWlnaHQ7cmV0dXJuIGF9LF9yZW1vdmVUYXNrOmZ1bmN0aW9uKGEpe3ZhciBiPUNLRURJVE9SLnRvb2xzLmluZGV4T2YodGhpcy5fdGFza3MsXG5hKTstMSE9PWImJihhLl9kb25lV2VpZ2h0JiYodGhpcy5fZG9uZVdlaWdodHMtPWEuX2RvbmVXZWlnaHQpLHRoaXMuX3RvdGFsV2VpZ2h0cy09YS5fd2VpZ2h0LHRoaXMuX3Rhc2tzLnNwbGljZShiLDEpLHRoaXMudXBkYXRlKCkpfSxfb25UYXNrVXBkYXRlOmZ1bmN0aW9uKGEpe3RoaXMuX2RvbmVXZWlnaHRzKz1hLmRhdGE7dGhpcy51cGRhdGUoKX0sX29uVGFza0RvbmU6ZnVuY3Rpb24oKXt0aGlzLl9kb25lVGFza3MrPTE7dGhpcy51cGRhdGUoKX19O0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKGEucHJvdG90eXBlKTtmLnByb3RvdHlwZT17ZG9uZTpmdW5jdGlvbigpe3RoaXMudXBkYXRlKHRoaXMuX3dlaWdodCl9LHVwZGF0ZTpmdW5jdGlvbihhKXtpZighdGhpcy5pc0RvbmUoKSYmIXRoaXMuaXNDYW5jZWxlZCgpKXthPU1hdGgubWluKHRoaXMuX3dlaWdodCxhKTt2YXIgYj1hLXRoaXMuX2RvbmVXZWlnaHQ7dGhpcy5fZG9uZVdlaWdodD1hO3RoaXMuZmlyZShcInVwZGF0ZWRcIixcbmIpO3RoaXMuaXNEb25lKCkmJnRoaXMuZmlyZShcImRvbmVcIil9fSxjYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLmlzRG9uZSgpfHx0aGlzLmlzQ2FuY2VsZWQoKXx8KHRoaXMuX2lzQ2FuY2VsZWQ9ITAsdGhpcy5maXJlKFwiY2FuY2VsZWRcIikpfSxpc0RvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2VpZ2h0PT09dGhpcy5fZG9uZVdlaWdodH0saXNDYW5jZWxlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0NhbmNlbGVkfX07Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oZi5wcm90b3R5cGUpO0NLRURJVE9SLnBsdWdpbnMubm90aWZpY2F0aW9uQWdncmVnYXRvcj1hO0NLRURJVE9SLnBsdWdpbnMubm90aWZpY2F0aW9uQWdncmVnYXRvci50YXNrPWZ9KCksXCJ1c2Ugc3RyaWN0XCIsZnVuY3Rpb24oKXtDS0VESVRPUi5wbHVnaW5zLmFkZChcInVwbG9hZHdpZGdldFwiLHtyZXF1aXJlczpcIndpZGdldCxjbGlwYm9hcmQsZmlsZXRvb2xzLG5vdGlmaWNhdGlvbmFnZ3JlZ2F0b3JcIixpbml0OmZ1bmN0aW9uKGEpe2EuZmlsdGVyLmFsbG93KFwiKlshZGF0YS13aWRnZXQsIWRhdGEtY2tlLXVwbG9hZC1pZF1cIil9LFxuaXNTdXBwb3J0ZWRFbnZpcm9ubWVudDpmdW5jdGlvbigpe3JldHVybiBDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pc0ZpbGVBcGlTdXBwb3J0ZWR9fSk7Q0tFRElUT1IuZmlsZVRvb2xzfHwoQ0tFRElUT1IuZmlsZVRvb2xzPXt9KTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZmlsZVRvb2xzLHthZGRVcGxvYWRXaWRnZXQ6ZnVuY3Rpb24oYSxmLGUpe3ZhciBiPUNLRURJVE9SLmZpbGVUb29scyxjPWEudXBsb2FkUmVwb3NpdG9yeSxrPWUuc3VwcG9ydGVkVHlwZXM/MTA6MjA7Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuYWRkRmlsZU1hdGNoZXIoYSxmdW5jdGlvbihhKXtyZXR1cm4gZS5zdXBwb3J0ZWRUeXBlcz9iLmlzVHlwZVN1cHBvcnRlZChhLGUuc3VwcG9ydGVkVHlwZXMpOiEwfSk7aWYoZS5maWxlVG9FbGVtZW50KWEub24oXCJwYXN0ZVwiLGZ1bmN0aW9uKGUpe2U9ZS5kYXRhO3ZhciBrPWEud2lkZ2V0cy5yZWdpc3RlcmVkW2ZdLGQ9ZS5kYXRhVHJhbnNmZXIsXG5oPWQuZ2V0RmlsZXNDb3VudCgpLGc9ay5sb2FkTWV0aG9kfHxcImxvYWRBbmRVcGxvYWRcIixuLHc7aWYoIWUuZGF0YVZhbHVlJiZoKWZvcih3PTA7dzxoO3crKylpZihuPWQuZ2V0RmlsZSh3KSwhay5zdXBwb3J0ZWRUeXBlc3x8Yi5pc1R5cGVTdXBwb3J0ZWQobixrLnN1cHBvcnRlZFR5cGVzKSl7dmFyIHg9ay5maWxlVG9FbGVtZW50KG4pO249Yy5jcmVhdGUobix2b2lkIDAsay5sb2FkZXJUeXBlKTt4JiYobltnXShrLnVwbG9hZFVybCxrLmFkZGl0aW9uYWxSZXF1ZXN0UGFyYW1ldGVycyksQ0tFRElUT1IuZmlsZVRvb2xzLm1hcmtFbGVtZW50KHgsZixuLmlkKSxcImxvYWRBbmRVcGxvYWRcIiE9ZyYmXCJ1cGxvYWRcIiE9Z3x8ay5za2lwTm90aWZpY2F0aW9uc3x8Q0tFRElUT1IuZmlsZVRvb2xzLmJpbmROb3RpZmljYXRpb25zKGEsbiksZS5kYXRhVmFsdWUrPXguZ2V0T3V0ZXJIdG1sKCkpfX0sbnVsbCxudWxsLGspO0NLRURJVE9SLnRvb2xzLmV4dGVuZChlLHtkb3duY2FzdDpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KFwiXCIpfSxcbmluaXQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGU9dGhpcy53cmFwcGVyLmZpbmRPbmUoXCJbZGF0YS1ja2UtdXBsb2FkLWlkXVwiKS5kYXRhKFwiY2tlLXVwbG9hZC1pZFwiKSxkPWMubG9hZGVyc1tlXSxmPUNLRURJVE9SLnRvb2xzLmNhcGl0YWxpemUsZyxrO2Qub24oXCJ1cGRhdGVcIixmdW5jdGlvbihjKXtpZihcImFib3J0XCI9PT1kLnN0YXR1cyYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGIub25BYm9ydCliLm9uQWJvcnQoZCk7aWYoYi53cmFwcGVyJiZiLndyYXBwZXIuZ2V0UGFyZW50KCkpe2EuZmlyZShcImxvY2tTbmFwc2hvdFwiKTtjPVwib25cIitmKGQuc3RhdHVzKTtpZihcImFib3J0XCI9PT1kLnN0YXR1c3x8XCJmdW5jdGlvblwiIT09dHlwZW9mIGJbY118fCExIT09YltjXShkKSlrPVwiY2tlX3VwbG9hZF9cIitkLnN0YXR1cyxiLndyYXBwZXImJmshPWcmJihnJiZiLndyYXBwZXIucmVtb3ZlQ2xhc3MoZyksYi53cmFwcGVyLmFkZENsYXNzKGspLGc9ayksXCJlcnJvclwiIT1kLnN0YXR1cyYmXCJhYm9ydFwiIT1cbmQuc3RhdHVzfHxhLndpZGdldHMuZGVsKGIpO2EuZmlyZShcInVubG9ja1NuYXBzaG90XCIpfWVsc2UgQ0tFRElUT1IuaW5zdGFuY2VzW2EubmFtZV0mJmEuZWRpdGFibGUoKS5maW5kKCdbZGF0YS1ja2UtdXBsb2FkLWlkXFx4M2RcIicrZSsnXCJdJykuY291bnQoKXx8ZC5hYm9ydCgpLGMucmVtb3ZlTGlzdGVuZXIoKX0pO2QudXBkYXRlKCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKGIsYyl7aWYoXCJcIj09PWIudHJpbSgpKWEud2lkZ2V0cy5kZWwodGhpcyk7ZWxzZXt2YXIgZD10aGlzPT1hLndpZGdldHMuZm9jdXNlZCxlPWEuZWRpdGFibGUoKSxmPWEuY3JlYXRlUmFuZ2UoKSxrLHc7ZHx8KHc9YS5nZXRTZWxlY3Rpb24oKS5jcmVhdGVCb29rbWFya3MoKSk7Zi5zZXRTdGFydEJlZm9yZSh0aGlzLndyYXBwZXIpO2Yuc2V0RW5kQWZ0ZXIodGhpcy53cmFwcGVyKTtkJiYoaz1mLmNyZWF0ZUJvb2ttYXJrKCkpO2UuaW5zZXJ0SHRtbEludG9SYW5nZShiLGYsYyk7YS53aWRnZXRzLmNoZWNrV2lkZ2V0cyh7aW5pdE9ubHlOZXc6ITB9KTtcbmEud2lkZ2V0cy5kZXN0cm95KHRoaXMsITApO2Q/KGYubW92ZVRvQm9va21hcmsoayksZi5zZWxlY3QoKSk6YS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RCb29rbWFya3Modyl9fSxfZ2V0TG9hZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy53cmFwcGVyLmZpbmRPbmUoXCJbZGF0YS1ja2UtdXBsb2FkLWlkXVwiKTtyZXR1cm4gYT90aGlzLmVkaXRvci51cGxvYWRSZXBvc2l0b3J5LmxvYWRlcnNbYS5kYXRhKFwiY2tlLXVwbG9hZC1pZFwiKV06bnVsbH19KTthLndpZGdldHMuYWRkKGYsZSl9LG1hcmtFbGVtZW50OmZ1bmN0aW9uKGEsZixlKXthLnNldEF0dHJpYnV0ZXMoe1wiZGF0YS1ja2UtdXBsb2FkLWlkXCI6ZSxcImRhdGEtd2lkZ2V0XCI6Zn0pfSxiaW5kTm90aWZpY2F0aW9uczpmdW5jdGlvbihhLGYpe2Z1bmN0aW9uIGUoKXtiPWEuXy51cGxvYWRXaWRnZXROb3RpZmljYWlvbkFnZ3JlZ2F0b3I7aWYoIWJ8fGIuaXNGaW5pc2hlZCgpKWI9YS5fLnVwbG9hZFdpZGdldE5vdGlmaWNhaW9uQWdncmVnYXRvcj1cbm5ldyBDS0VESVRPUi5wbHVnaW5zLm5vdGlmaWNhdGlvbkFnZ3JlZ2F0b3IoYSxhLmxhbmcudXBsb2Fkd2lkZ2V0LnVwbG9hZE1hbnksYS5sYW5nLnVwbG9hZHdpZGdldC51cGxvYWRPbmUpLGIub25jZShcImZpbmlzaGVkXCIsZnVuY3Rpb24oKXt2YXIgYz1iLmdldFRhc2tDb3VudCgpOzA9PT1jP2Iubm90aWZpY2F0aW9uLmhpZGUoKTpiLm5vdGlmaWNhdGlvbi51cGRhdGUoe21lc3NhZ2U6MT09Yz9hLmxhbmcudXBsb2Fkd2lkZ2V0LmRvbmVPbmU6YS5sYW5nLnVwbG9hZHdpZGdldC5kb25lTWFueS5yZXBsYWNlKFwiJTFcIixjKSx0eXBlOlwic3VjY2Vzc1wiLGltcG9ydGFudDoxfSl9KX12YXIgYixjPW51bGw7Zi5vbihcInVwZGF0ZVwiLGZ1bmN0aW9uKCl7IWMmJmYudXBsb2FkVG90YWwmJihlKCksYz1iLmNyZWF0ZVRhc2soe3dlaWdodDpmLnVwbG9hZFRvdGFsfSkpO2MmJlwidXBsb2FkaW5nXCI9PWYuc3RhdHVzJiZjLnVwZGF0ZShmLnVwbG9hZGVkKX0pO2Yub24oXCJ1cGxvYWRlZFwiLGZ1bmN0aW9uKCl7YyYmXG5jLmRvbmUoKX0pO2Yub24oXCJlcnJvclwiLGZ1bmN0aW9uKCl7YyYmYy5jYW5jZWwoKTthLnNob3dOb3RpZmljYXRpb24oZi5tZXNzYWdlLFwid2FybmluZ1wiKX0pO2Yub24oXCJhYm9ydFwiLGZ1bmN0aW9uKCl7YyYmYy5jYW5jZWwoKTtDS0VESVRPUi5pbnN0YW5jZXNbYS5uYW1lXSYmYS5zaG93Tm90aWZpY2F0aW9uKGEubGFuZy51cGxvYWR3aWRnZXQuYWJvcnQsXCJpbmZvXCIpfSl9fSl9KCksXCJ1c2Ugc3RyaWN0XCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpezk+PWEmJihhPVwiMFwiK2EpO3JldHVybiBTdHJpbmcoYSl9ZnVuY3Rpb24gZihiKXt2YXIgYz1uZXcgRGF0ZSxjPVtjLmdldEZ1bGxZZWFyKCksYy5nZXRNb250aCgpKzEsYy5nZXREYXRlKCksYy5nZXRIb3VycygpLGMuZ2V0TWludXRlcygpLGMuZ2V0U2Vjb25kcygpXTtlKz0xO3JldHVyblwiaW1hZ2UtXCIrQ0tFRElUT1IudG9vbHMuYXJyYXkubWFwKGMsYSkuam9pbihcIlwiKStcIi1cIitlK1wiLlwiK2J9dmFyIGU9MDtDS0VESVRPUi5wbHVnaW5zLmFkZChcInVwbG9hZGltYWdlXCIsXG57cmVxdWlyZXM6XCJ1cGxvYWR3aWRnZXRcIixvbkxvYWQ6ZnVuY3Rpb24oKXtDS0VESVRPUi5hZGRDc3MoXCIuY2tlX3VwbG9hZF91cGxvYWRpbmcgaW1ne29wYWNpdHk6IDAuM31cIil9LGlzU3VwcG9ydGVkRW52aXJvbm1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNGaWxlQXBpU3VwcG9ydGVkfSxpbml0OmZ1bmN0aW9uKGEpe2lmKHRoaXMuaXNTdXBwb3J0ZWRFbnZpcm9ubWVudCgpKXt2YXIgYz1DS0VESVRPUi5maWxlVG9vbHMsZT1jLmdldFVwbG9hZFVybChhLmNvbmZpZyxcImltYWdlXCIpO2UmJihhLmNvbmZpZy5jbGlwYm9hcmRfaGFuZGxlSW1hZ2VzJiYoYS5jb25maWcuY2xpcGJvYXJkX2hhbmRsZUltYWdlcz0hMSxDS0VESVRPUi53YXJuKFwiY2xpcGJvYXJkLWltYWdlLWhhbmRsaW5nLWRpc2FibGVkXCIse2VkaXRvcjphLm5hbWUscGx1Z2luOlwidXBsb2FkaW1hZ2VcIn0pKSxjLmFkZFVwbG9hZFdpZGdldChhLFwidXBsb2FkaW1hZ2VcIix7c3VwcG9ydGVkVHlwZXM6L2ltYWdlXFwvKGpwZWd8cG5nfGdpZnxibXApLyxcbnVwbG9hZFVybDplLGZpbGVUb0VsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJpbWdcIik7YS5zZXRBdHRyaWJ1dGUoXCJzcmNcIixcImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaERnQU9BSUFBQUFBQUFQLy8veUg1QkFBQUFBQUFMQUFBQUFBT0FBNEFBQUlNaEkrcHkrMFBvNXkwMnFzS0FEc1xceDNkXCIpO3JldHVybiBhfSxwYXJ0czp7aW1nOlwiaW1nXCJ9LG9uVXBsb2FkaW5nOmZ1bmN0aW9uKGEpe3RoaXMucGFydHMuaW1nLnNldEF0dHJpYnV0ZShcInNyY1wiLGEuZGF0YSl9LG9uVXBsb2FkZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5wYXJ0cy5pbWcuJDt0aGlzLnJlcGxhY2VXaXRoKCdcXHgzY2ltZyBzcmNcXHgzZFwiJythLnVybCsnXCIgd2lkdGhcXHgzZFwiJysoYS5yZXNwb25zZURhdGEud2lkdGh8fGIubmF0dXJhbFdpZHRoKSsnXCIgaGVpZ2h0XFx4M2RcIicrKGEucmVzcG9uc2VEYXRhLmhlaWdodHx8Yi5uYXR1cmFsSGVpZ2h0KSsnXCJcXHgzZScpfX0pLFxuYS5vbihcInBhc3RlXCIsZnVuY3Rpb24obCl7aWYobC5kYXRhLmRhdGFWYWx1ZS5tYXRjaCgvPGltZ1tcXHNcXFNdK2RhdGE6L2kpKXtsPWwuZGF0YTt2YXIgbT1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoXCJcIiksbT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQobS5ib2R5KSxkLGgsZzttLmRhdGEoXCJja2UtZWRpdGFibGVcIiwxKTttLmFwcGVuZEh0bWwobC5kYXRhVmFsdWUpO2Q9bS5maW5kKFwiaW1nXCIpO2ZvcihnPTA7ZzxkLmNvdW50KCk7ZysrKXtoPWQuZ2V0SXRlbShnKTt2YXIgbj1oLmdldEF0dHJpYnV0ZShcInNyY1wiKSx3PW4mJlwiZGF0YTpcIj09bi5zdWJzdHJpbmcoMCw1KSx4PW51bGw9PT1oLmRhdGEoXCJja2UtcmVhbGVsZW1lbnRcIik7dyYmeCYmIWguZGF0YShcImNrZS11cGxvYWQtaWRcIikmJiFoLmlzUmVhZE9ubHkoMSkmJih3PSh3PW4ubWF0Y2goL2ltYWdlXFwvKFthLXpdKz8pOy9pKSkmJndbMV18fFwianBnXCIsbj1hLnVwbG9hZFJlcG9zaXRvcnkuY3JlYXRlKG4sXG5mKHcpKSxuLnVwbG9hZChlKSxjLm1hcmtFbGVtZW50KGgsXCJ1cGxvYWRpbWFnZVwiLG4uaWQpLGMuYmluZE5vdGlmaWNhdGlvbnMoYSxuKSl9bC5kYXRhVmFsdWU9bS5nZXRIdG1sKCl9fSkpfX19KX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7ZnVuY3Rpb24gYihhKXt2YXIgYz0hMTtnLmF0dGFjaExpc3RlbmVyKGcsXCJrZXlkb3duXCIsZnVuY3Rpb24oKXt2YXIgYj1tLmdldEJvZHkoKS5nZXRFbGVtZW50c0J5VGFnKGEpO2lmKCFjKXtmb3IodmFyIGQ9MDtkPGIuY291bnQoKTtkKyspYi5nZXRJdGVtKGQpLnNldEN1c3RvbURhdGEoXCJyZXRhaW5cIiwhMCk7Yz0hMH19LG51bGwsbnVsbCwxKTtnLmF0dGFjaExpc3RlbmVyKGcsXCJrZXl1cFwiLGZ1bmN0aW9uKCl7dmFyIGI9bS5nZXRFbGVtZW50c0J5VGFnKGEpO2MmJigxPT1iLmNvdW50KCkmJiFiLmdldEl0ZW0oMCkuZ2V0Q3VzdG9tRGF0YShcInJldGFpblwiKSYmQ0tFRElUT1IudG9vbHMuaXNFbXB0eShiLmdldEl0ZW0oMCkuZ2V0QXR0cmlidXRlcygpKSYmXG5iLmdldEl0ZW0oMCkucmVtb3ZlKDEpLGM9ITEpfSl9dmFyIGU9dGhpcy5lZGl0b3I7aWYoZSYmIWUuaXNEZXRhY2hlZCgpKXt2YXIgbT1hLmRvY3VtZW50LGQ9bS5ib2R5LGg9bS5nZXRFbGVtZW50QnlJZChcImNrZV9hY3RzY3JwdFwiKTtoJiZoLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaCk7KGg9bS5nZXRFbGVtZW50QnlJZChcImNrZV9zaGltc2NycHRcIikpJiZoLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaCk7KGg9bS5nZXRFbGVtZW50QnlJZChcImNrZV9iYXNldGFnc2NycHRcIikpJiZoLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaCk7ZC5jb250ZW50RWRpdGFibGU9ITA7Q0tFRElUT1IuZW52LmllJiYoZC5oaWRlRm9jdXM9ITAsZC5kaXNhYmxlZD0hMCxkLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpKTtkZWxldGUgdGhpcy5fLmlzTG9hZGluZ0RhdGE7dGhpcy4kPWQ7bT1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50KG0pO3RoaXMuc2V0dXAoKTt0aGlzLmZpeEluaXRpYWxTZWxlY3Rpb24oKTtcbnZhciBnPXRoaXM7Q0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmVkZ2UmJm0uZ2V0RG9jdW1lbnRFbGVtZW50KCkuYWRkQ2xhc3MobS4kLmNvbXBhdE1vZGUpO0NLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5lZGdlJiZlLmVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfUD9iKFwicFwiKTpDS0VESVRPUi5lbnYuZWRnZSYmMTU+Q0tFRElUT1IuZW52LnZlcnNpb24mJmUuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9ESVYmJmIoXCJkaXZcIik7aWYoQ0tFRElUT1IuZW52LndlYmtpdHx8Q0tFRElUT1IuZW52LmllJiYxMDxDS0VESVRPUi5lbnYudmVyc2lvbiltLmdldERvY3VtZW50RWxlbWVudCgpLm9uKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oYSl7YS5kYXRhLmdldFRhcmdldCgpLmlzKFwiaHRtbFwiKSYmc2V0VGltZW91dChmdW5jdGlvbigpe2UuZWRpdGFibGUoKS5mb2N1cygpfSl9KTtmKGUpO3RyeXtlLmRvY3VtZW50LiQuZXhlY0NvbW1hbmQoXCIyRC1wb3NpdGlvblwiLCExLCEwKX1jYXRjaChuKXt9KENLRURJVE9SLmVudi5nZWNrb3x8XG5DS0VESVRPUi5lbnYuaWUmJlwiQ1NTMUNvbXBhdFwiPT1lLmRvY3VtZW50LiQuY29tcGF0TW9kZSkmJnRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcImtleWRvd25cIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuZ2V0S2V5c3Ryb2tlKCk7aWYoMzM9PWJ8fDM0PT1iKWlmKENLRURJVE9SLmVudi5pZSlzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5nZXRTZWxlY3Rpb24oKS5zY3JvbGxJbnRvVmlldygpfSwwKTtlbHNlIGlmKGUud2luZG93LiQuaW5uZXJIZWlnaHQ+dGhpcy4kLm9mZnNldEhlaWdodCl7dmFyIGM9ZS5jcmVhdGVSYW5nZSgpO2NbMzM9PWI/XCJtb3ZlVG9FbGVtZW50RWRpdFN0YXJ0XCI6XCJtb3ZlVG9FbGVtZW50RWRpdEVuZFwiXSh0aGlzKTtjLnNlbGVjdCgpO2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfX0pO0NLRURJVE9SLmVudi5pZSYmdGhpcy5hdHRhY2hMaXN0ZW5lcihtLFwiYmx1clwiLGZ1bmN0aW9uKCl7dHJ5e20uJC5zZWxlY3Rpb24uZW1wdHkoKX1jYXRjaChhKXt9fSk7Q0tFRElUT1IuZW52LmlPUyYmXG50aGlzLmF0dGFjaExpc3RlbmVyKG0sXCJ0b3VjaGVuZFwiLGZ1bmN0aW9uKCl7YS5mb2N1cygpfSk7ZD1lLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWcoXCJ0aXRsZVwiKS5nZXRJdGVtKDApO2QuZGF0YShcImNrZS10aXRsZVwiLGQuZ2V0VGV4dCgpKTtDS0VESVRPUi5lbnYuaWUmJihlLmRvY3VtZW50LiQudGl0bGU9dGhpcy5fLmRvY1RpdGxlKTtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XCJ1bmxvYWRlZFwiPT10aGlzLnN0YXR1cyYmKHRoaXMuc3RhdHVzPVwicmVhZHlcIik7ZS5maXJlKFwiY29udGVudERvbVwiKTt0aGlzLl8uaXNQZW5kaW5nRm9jdXMmJihlLmZvY3VzKCksdGhpcy5fLmlzUGVuZGluZ0ZvY3VzPSExKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5maXJlKFwiZGF0YVJlYWR5XCIpfSwwKX0sMCx0aGlzKX19ZnVuY3Rpb24gZihhKXtmdW5jdGlvbiBiKCl7dmFyIGQ7YS5lZGl0YWJsZSgpLmF0dGFjaExpc3RlbmVyKGEsXCJzZWxlY3Rpb25DaGFuZ2VcIixmdW5jdGlvbigpe3ZhciBiPVxuYS5nZXRTZWxlY3Rpb24oKS5nZXRTZWxlY3RlZEVsZW1lbnQoKTtiJiYoZCYmKGQuZGV0YWNoRXZlbnQoXCJvbnJlc2l6ZXN0YXJ0XCIsZSksZD1udWxsKSxiLiQuYXR0YWNoRXZlbnQoXCJvbnJlc2l6ZXN0YXJ0XCIsZSksZD1iLiQpfSl9ZnVuY3Rpb24gZShhKXthLnJldHVyblZhbHVlPSExfWlmKENLRURJVE9SLmVudi5nZWNrbyl0cnl7dmFyIGY9YS5kb2N1bWVudC4kO2YuZXhlY0NvbW1hbmQoXCJlbmFibGVPYmplY3RSZXNpemluZ1wiLCExLCFhLmNvbmZpZy5kaXNhYmxlT2JqZWN0UmVzaXppbmcpO2YuZXhlY0NvbW1hbmQoXCJlbmFibGVJbmxpbmVUYWJsZUVkaXRpbmdcIiwhMSwhYS5jb25maWcuZGlzYWJsZU5hdGl2ZVRhYmxlSGFuZGxlcyl9Y2F0Y2goZCl7fWVsc2UgQ0tFRElUT1IuZW52LmllJiYxMT5DS0VESVRPUi5lbnYudmVyc2lvbiYmYS5jb25maWcuZGlzYWJsZU9iamVjdFJlc2l6aW5nJiZiKCl9ZnVuY3Rpb24gZSgpe3ZhciBhPVtdO2lmKDg8PUNLRURJVE9SLmRvY3VtZW50LiQuZG9jdW1lbnRNb2RlKXthLnB1c2goXCJodG1sLkNTUzFDb21wYXQgW2NvbnRlbnRlZGl0YWJsZVxceDNkZmFsc2Vde21pbi1oZWlnaHQ6MCAhaW1wb3J0YW50fVwiKTtcbnZhciBiPVtdLGU7Zm9yKGUgaW4gQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eSliLnB1c2goXCJodG1sLkNTUzFDb21wYXQgXCIrZStcIltjb250ZW50ZWRpdGFibGVcXHgzZGZhbHNlXVwiKTthLnB1c2goYi5qb2luKFwiLFwiKStcIntkaXNwbGF5OmlubGluZS1ibG9ja31cIil9ZWxzZSBDS0VESVRPUi5lbnYuZ2Vja28mJihhLnB1c2goXCJodG1se2hlaWdodDoxMDAlICFpbXBvcnRhbnR9XCIpLGEucHVzaChcImltZzotbW96LWJyb2tlbnstbW96LWZvcmNlLWJyb2tlbi1pbWFnZS1pY29uOjE7bWluLXdpZHRoOjI0cHg7bWluLWhlaWdodDoyNHB4fVwiKSk7YS5wdXNoKFwiaHRtbHtjdXJzb3I6dGV4dDsqY3Vyc29yOmF1dG99XCIpO2EucHVzaChcImltZyxpbnB1dCx0ZXh0YXJlYXtjdXJzb3I6ZGVmYXVsdH1cIik7cmV0dXJuIGEuam9pbihcIlxcblwiKX12YXIgYjtDS0VESVRPUi5wbHVnaW5zLmFkZChcInd5c2l3eWdhcmVhXCIse2luaXQ6ZnVuY3Rpb24oYSl7YS5jb25maWcuZnVsbFBhZ2UmJmEuYWRkRmVhdHVyZSh7YWxsb3dlZENvbnRlbnQ6XCJodG1sIGhlYWQgdGl0bGU7IHN0eWxlIFttZWRpYSx0eXBlXTsgYm9keSAoKilbaWRdOyBtZXRhIGxpbmsgWypdXCIsXG5yZXF1aXJlZENvbnRlbnQ6XCJib2R5XCJ9KTthLmFkZE1vZGUoXCJ3eXNpd3lnXCIsZnVuY3Rpb24oZSl7ZnVuY3Rpb24gZihnKXtnJiZnLnJlbW92ZUxpc3RlbmVyKCk7aWYoIWEuaXNEZXN0cm95ZWQoKSYmIWEuaXNEZXRhY2hlZCgpJiYoYS5lZGl0YWJsZShuZXcgYihhLG4uZ2V0RnJhbWVEb2N1bWVudCgpLmdldEJvZHkoKSkpLGEuc2V0RGF0YShhLmdldERhdGEoMSksZSkseikpe2lmKHUpYS5vbihcIm1vZGVcIixtLHtpZnJhbWU6bixlZGl0b3I6YSxjYWxsYmFjazplfSk7YS5vbihcIm1vZGVcIixmdW5jdGlvbigpe2Euc3RhdHVzPVwicmVhZHlcIn0pO2QoKX19ZnVuY3Rpb24gbShhKXthJiZhLnJlbW92ZUxpc3RlbmVyKCk7bi5vbihcImxvYWRcIixmdW5jdGlvbigpe3AmJihwPSExLGgoKSl9KX1mdW5jdGlvbiBkKCl7cT1uZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihiKXtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXTtpZihcImNoaWxkTGlzdFwiPT09ZS50eXBlJiYwIT09XG5lLmFkZGVkTm9kZXMubGVuZ3RoKWZvcih2YXIgZj0wO2Y8ZS5hZGRlZE5vZGVzLmxlbmd0aDtmKyspe3ZhciBnPWUuYWRkZWROb2Rlc1tmXTtnLmNvbnRhaW5zJiZnLmNvbnRhaW5zKGEuY29udGFpbmVyLiQpJiYodT9wPSEwOmgoKSl9fX0pO3Eub2JzZXJ2ZShhLmNvbmZpZy5vYnNlcnZhYmxlUGFyZW50LHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pfWZ1bmN0aW9uIGgoKXt2YXIgZD1hLmdldERhdGEoITEpLGY7YS5lZGl0YWJsZSgpLnByZXNlcnZlSWZyYW1lPSEwO2EuZWRpdGFibGUobnVsbCk7Zj1uZXcgYihhLG4uZ2V0RnJhbWVEb2N1bWVudCgpLmdldEJvZHkoKSk7YS5lZGl0YWJsZShmKTthLnN0YXR1cz1cInJlY3JlYXRpbmdcIjthLnNldERhdGEoZCx7Y2FsbGJhY2s6ZSxpbnRlcm5hbDohMSxub1NuYXBzaG90OiExfSl9dmFyIGc9XCJkb2N1bWVudC5vcGVuKCk7XCIrKENLRURJVE9SLmVudi5pZT9cIihcIitDS0VESVRPUi50b29scy5maXhEb21haW4rXCIpKCk7XCI6XCJcIikrXCJkb2N1bWVudC5jbG9zZSgpO1wiLFxuZz1DS0VESVRPUi5lbnYuYWlyP1wiamF2YXNjcmlwdDp2b2lkKDApXCI6Q0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmVkZ2U/XCJqYXZhc2NyaXB0OnZvaWQoZnVuY3Rpb24oKXtcIitlbmNvZGVVUklDb21wb25lbnQoZykrXCJ9KCkpXCI6XCJcIixuPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2lmcmFtZSBzcmNcXHgzZFwiJytnKydcIiBmcmFtZUJvcmRlclxceDNkXCIwXCJcXHgzZVxceDNjL2lmcmFtZVxceDNlJyk7bi5zZXRTdHlsZXMoe3dpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIn0pO24uYWRkQ2xhc3MoXCJja2Vfd3lzaXd5Z19mcmFtZVwiKS5hZGRDbGFzcyhcImNrZV9yZXNldFwiKTtnPWEudWkuc3BhY2UoXCJjb250ZW50c1wiKTtnLmFwcGVuZChuKTt2YXIgdz1DS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuZWRnZXx8Q0tFRElUT1IuZW52LmdlY2tvO2lmKHcpbi5vbihcImxvYWRcIixmKTt2YXIgeD1hLnRpdGxlLHI9YS5maXJlKFwiYXJpYUVkaXRvckhlbHBMYWJlbFwiLFxue30pLmxhYmVsLHA9ITEsdT1DS0VESVRPUi5lbnYuaWUmJjExPT09Q0tFRElUT1IuZW52LnZlcnNpb24sej0hIXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyLHE7eCYmKENLRURJVE9SLmVudi5pZSYmciYmKHgrPVwiLCBcIityKSxuLnNldEF0dHJpYnV0ZShcInRpdGxlXCIseCkpO2lmKHIpe3ZhciB4PUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpLEE9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjc3BhbiBpZFxceDNkXCInK3grJ1wiIGNsYXNzXFx4M2RcImNrZV92b2ljZV9sYWJlbFwiXFx4M2UnK3IrXCJcXHgzYy9zcGFuXFx4M2VcIik7Zy5hcHBlbmQoQSwxKTtuLnNldEF0dHJpYnV0ZShcImFyaWEtZGVzY3JpYmVkYnlcIix4KX1hLm9uKFwiYmVmb3JlTW9kZVVubG9hZFwiLGZ1bmN0aW9uKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTtBJiZBLnJlbW92ZSgpO3omJnEuZGlzY29ubmVjdCgpfSk7YS5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe3EmJnEuZGlzY29ubmVjdCgpfSk7bi5zZXRBdHRyaWJ1dGVzKHt0YWJJbmRleDphLnRhYkluZGV4LFxuYWxsb3dUcmFuc3BhcmVuY3k6XCJ0cnVlXCJ9KTshdyYmZigpO2EuZmlyZShcImFyaWFXaWRnZXRcIixuKX0pfX0pO0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuYWRkQ29udGVudHNDc3M9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jb25maWcsZT1iLmNvbnRlbnRzQ3NzO0NLRURJVE9SLnRvb2xzLmlzQXJyYXkoZSl8fChiLmNvbnRlbnRzQ3NzPWU/W2VdOltdKTtiLmNvbnRlbnRzQ3NzLnB1c2goYSl9O2I9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oKXt0aGlzLmJhc2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuXy5mcmFtZUxvYWRlZEhhbmRsZXI9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYil7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChhLDAsdGhpcyxiKX0sdGhpcyk7dGhpcy5fLmRvY1RpdGxlPXRoaXMuZ2V0V2luZG93KCkuZ2V0RnJhbWUoKS5nZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiKXx8XCLCoFwifSxiYXNlOkNLRURJVE9SLmVkaXRhYmxlLFxucHJvdG86e3ByZXNlcnZlSWZyYW1lOiExLHNldERhdGE6ZnVuY3Rpb24oYSxiKXt2YXIgZj10aGlzLmVkaXRvcjtpZihiKXRoaXMuc2V0SHRtbChhKSx0aGlzLmZpeEluaXRpYWxTZWxlY3Rpb24oKSxmLmZpcmUoXCJkYXRhUmVhZHlcIik7ZWxzZXt0aGlzLl8uaXNMb2FkaW5nRGF0YT0hMDtmLl8uZGF0YVN0b3JlPXtpZDoxfTt2YXIgbT1mLmNvbmZpZyxkPW0uZnVsbFBhZ2UsaD1tLmRvY1R5cGUsZz1DS0VESVRPUi50b29scy5idWlsZFN0eWxlSHRtbChlKCkpLnJlcGxhY2UoLzxzdHlsZT4vLCdcXHgzY3N0eWxlIGRhdGEtY2tlLXRlbXBcXHgzZFwiMVwiXFx4M2UnKTtkfHwoZys9Q0tFRElUT1IudG9vbHMuYnVpbGRTdHlsZUh0bWwoZi5jb25maWcuY29udGVudHNDc3MpKTt2YXIgbj1tLmJhc2VIcmVmPydcXHgzY2Jhc2UgaHJlZlxceDNkXCInK20uYmFzZUhyZWYrJ1wiIGRhdGEtY2tlLXRlbXBcXHgzZFwiMVwiIC9cXHgzZSc6XCJcIjtkJiYoYT1hLnJlcGxhY2UoLzwhRE9DVFlQRVtePl0qPi9pLGZ1bmN0aW9uKGEpe2YuZG9jVHlwZT1cbmg9YTtyZXR1cm5cIlwifSkucmVwbGFjZSgvPFxcP3htbFxcc1teXFw/XSpcXD8+L2ksZnVuY3Rpb24oYSl7Zi54bWxEZWNsYXJhdGlvbj1hO3JldHVyblwiXCJ9KSk7YT1mLmRhdGFQcm9jZXNzb3IudG9IdG1sKGEpO2Q/KC88Ym9keVtcXHN8Pl0vLnRlc3QoYSl8fChhPVwiXFx4M2Nib2R5XFx4M2VcIithKSwvPGh0bWxbXFxzfD5dLy50ZXN0KGEpfHwoYT1cIlxceDNjaHRtbFxceDNlXCIrYStcIlxceDNjL2h0bWxcXHgzZVwiKSwvPGhlYWRbXFxzfD5dLy50ZXN0KGEpPy88dGl0bGVbXFxzfD5dLy50ZXN0KGEpfHwoYT1hLnJlcGxhY2UoLzxoZWFkW14+XSo+LyxcIiRcXHgyNlxceDNjdGl0bGVcXHgzZVxceDNjL3RpdGxlXFx4M2VcIikpOmE9YS5yZXBsYWNlKC88aHRtbFtePl0qPi8sXCIkXFx4MjZcXHgzY2hlYWRcXHgzZVxceDNjdGl0bGVcXHgzZVxceDNjL3RpdGxlXFx4M2VcXHgzYy9oZWFkXFx4M2VcIiksbiYmKGE9YS5yZXBsYWNlKC88aGVhZFtePl0qPz4vLFwiJFxceDI2XCIrbikpLGE9YS5yZXBsYWNlKC88XFwvaGVhZFxccyo+LyxnK1wiJFxceDI2XCIpLGE9XG5oK2EpOmE9bS5kb2NUeXBlKydcXHgzY2h0bWwgZGlyXFx4M2RcIicrbS5jb250ZW50c0xhbmdEaXJlY3Rpb24rJ1wiIGxhbmdcXHgzZFwiJysobS5jb250ZW50c0xhbmd1YWdlfHxmLmxhbmdDb2RlKSsnXCJcXHgzZVxceDNjaGVhZFxceDNlXFx4M2N0aXRsZVxceDNlJyt0aGlzLl8uZG9jVGl0bGUrXCJcXHgzYy90aXRsZVxceDNlXCIrbitnK1wiXFx4M2MvaGVhZFxceDNlXFx4M2Nib2R5XCIrKG0uYm9keUlkPycgaWRcXHgzZFwiJyttLmJvZHlJZCsnXCInOlwiXCIpKyhtLmJvZHlDbGFzcz8nIGNsYXNzXFx4M2RcIicrbS5ib2R5Q2xhc3MrJ1wiJzpcIlwiKStcIlxceDNlXCIrYStcIlxceDNjL2JvZHlcXHgzZVxceDNjL2h0bWxcXHgzZVwiO0NLRURJVE9SLmVudi5nZWNrbyYmKGE9YS5yZXBsYWNlKC88Ym9keS8sJ1xceDNjYm9keSBjb250ZW50ZWRpdGFibGVcXHgzZFwidHJ1ZVwiICcpLDJFND5DS0VESVRPUi5lbnYudmVyc2lvbiYmKGE9YS5yZXBsYWNlKC88Ym9keVtePl0qPi8sXCIkXFx4MjZcXHgzYyEtLSBja2UtY29udGVudC1zdGFydCAtLVxceDNlXCIpKSk7XG5hPWEucmVwbGFjZSgvPGJvZHkvLCdcXHgzY2JvZHkgcm9sZVxceDNkXCJ0ZXh0Ym94XCIgYXJpYS1tdWx0aWxpbmVcXHgzZFwidHJ1ZVwiJyk7Zi50aXRsZSYmKGE9YS5yZXBsYWNlKC88Ym9keS8sJ1xceDNjYm9keSBhcmlhLWxhYmVsXFx4M2RcIicrQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZUF0dHIoZi50aXRsZSkrJ1wiJykpO0NLRURJVE9SLmVudi5nZWNrb3x8KGE9YS5yZXBsYWNlKFwiXFx4M2Nib2R5XCIsJ1xceDNjYm9keSB0YWJpbmRleFxceDNkXCIwXCIgJykpO209J1xceDNjc2NyaXB0IGlkXFx4M2RcImNrZV9hY3RzY3JwdFwiIHR5cGVcXHgzZFwidGV4dC9qYXZhc2NyaXB0XCInKyhDS0VESVRPUi5lbnYuaWU/JyBkZWZlclxceDNkXCJkZWZlclwiICc6XCJcIikrXCJcXHgzZXZhciB3YXNMb2FkZWRcXHgzZDA7ZnVuY3Rpb24gb25sb2FkKCl7aWYoIXdhc0xvYWRlZCl3aW5kb3cucGFyZW50LkNLRURJVE9SIFxceDI2XFx4MjYgd2luZG93LnBhcmVudC5DS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oXCIrdGhpcy5fLmZyYW1lTG9hZGVkSGFuZGxlcitcblwiLHdpbmRvdyk7d2FzTG9hZGVkXFx4M2QxO31cIisoQ0tFRElUT1IuZW52LmllP1wib25sb2FkKCk7XCI6J2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIG9ubG9hZCwgZmFsc2UgKTsnKStcIlxceDNjL3NjcmlwdFxceDNlXCI7Q0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uJiYobSs9J1xceDNjc2NyaXB0IGlkXFx4M2RcImNrZV9zaGltc2NycHRcIlxceDNld2luZG93LnBhcmVudC5DS0VESVRPUi50b29scy5lbmFibGVIdG1sNUVsZW1lbnRzKGRvY3VtZW50KVxceDNjL3NjcmlwdFxceDNlJyk7biYmQ0tFRElUT1IuZW52LmllJiYxMD5DS0VESVRPUi5lbnYudmVyc2lvbiYmKG0rPSdcXHgzY3NjcmlwdCBpZFxceDNkXCJja2VfYmFzZXRhZ3NjcnB0XCJcXHgzZXZhciBiYXNlVGFnIFxceDNkIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIFwiYmFzZVwiICk7YmFzZVRhZy5ocmVmIFxceDNkIGJhc2VUYWcuaHJlZjtcXHgzYy9zY3JpcHRcXHgzZScpO2E9YS5yZXBsYWNlKC8oPz1cXHMqPFxcLyg6P2hlYWQpPikvLFxubSk7dGhpcy5jbGVhckN1c3RvbURhdGEoKTt0aGlzLmNsZWFyTGlzdGVuZXJzKCk7Zi5maXJlKFwiY29udGVudERvbVVubG9hZFwiKTt2YXIgdz10aGlzLmdldERvY3VtZW50KCk7dHJ5e3cud3JpdGUoYSl9Y2F0Y2goeCl7c2V0VGltZW91dChmdW5jdGlvbigpe3cud3JpdGUoYSl9LDApfX19LGdldERhdGE6ZnVuY3Rpb24oYSl7aWYoYSlyZXR1cm4gdGhpcy5nZXRIdG1sKCk7YT10aGlzLmVkaXRvcjt2YXIgYj1hLmNvbmZpZyxlPWIuZnVsbFBhZ2UsZj1lJiZhLmRvY1R5cGUsZD1lJiZhLnhtbERlY2xhcmF0aW9uLGg9dGhpcy5nZXREb2N1bWVudCgpLGg9ZT9oLmdldERvY3VtZW50RWxlbWVudCgpLmdldE91dGVySHRtbCgpOmguZ2V0Qm9keSgpLmdldEh0bWwoKTtDS0VESVRPUi5lbnYuZ2Vja28mJmIuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUiYmKGg9aC5yZXBsYWNlKC88YnI+KD89XFxzKig6PyR8PFxcL2JvZHk+KSkvLFwiXCIpKTtlJiYoaD1oLnJlcGxhY2UoLzxib2R5KC4qPylyb2xlPVwiP3RleHRib3hcIj8vaSxcblwiXFx4M2Nib2R5JDFcIikucmVwbGFjZSgvPGJvZHkoLio/KWFyaWEtbXVsdGlsaW5lPVwiP3RydWVcIj8vaSxcIlxceDNjYm9keSQxXCIpLnJlcGxhY2UoLzxib2R5KC4qPyl0YWJpbmRleD1cIj8wXCI/L2ksXCJcXHgzY2JvZHkkMVwiKS5yZXBsYWNlKC88Ym9keSguKj8pYXJpYS1sYWJlbD1cIiguKz8pXCIvaSxcIlxceDNjYm9keSQxXCIpLnJlcGxhY2UoLzxib2R5KC4qPylhcmlhLXJlYWRvbmx5PVwiPyg/OnRydWV8ZmFsc2UpXCI/L2ksXCJcXHgzY2JvZHkkMVwiKSk7aD1hLmRhdGFQcm9jZXNzb3IudG9EYXRhRm9ybWF0KGgpO2QmJihoPWQrXCJcXG5cIitoKTtmJiYoaD1mK1wiXFxuXCIraCk7cmV0dXJuIGh9LGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5fLmlzTG9hZGluZ0RhdGE/dGhpcy5fLmlzUGVuZGluZ0ZvY3VzPSEwOmIuYmFzZVByb3RvLmZvY3VzLmNhbGwodGhpcyl9LGRldGFjaDpmdW5jdGlvbigpe2lmKCF0aGlzLnByZXNlcnZlSWZyYW1lKXt2YXIgYT10aGlzLmVkaXRvcixlPWEuZG9jdW1lbnQsYT1hLmNvbnRhaW5lci5maW5kT25lKFwiaWZyYW1lLmNrZV93eXNpd3lnX2ZyYW1lXCIpO1xuYi5iYXNlUHJvdG8uZGV0YWNoLmNhbGwodGhpcyk7dGhpcy5jbGVhckN1c3RvbURhdGEodGhpcy5fLmV4cGFuZG9OdW1iZXIpO2UuZ2V0RG9jdW1lbnRFbGVtZW50KCkuY2xlYXJDdXN0b21EYXRhKCk7Q0tFRElUT1IudG9vbHMucmVtb3ZlRnVuY3Rpb24odGhpcy5fLmZyYW1lTG9hZGVkSGFuZGxlcik7YSYmKGEuY2xlYXJDdXN0b21EYXRhKCksKGU9YS5yZW1vdmVDdXN0b21EYXRhKFwib25SZXNpemVcIikpJiZlLnJlbW92ZUxpc3RlbmVyKCksYS5pc0RldGFjaGVkKCl8fGEucmVtb3ZlKCkpfX19fSl9KCksQ0tFRElUT1IuY29uZmlnLmRpc2FibGVPYmplY3RSZXNpemluZz0hMSxDS0VESVRPUi5jb25maWcuZGlzYWJsZU5hdGl2ZVRhYmxlSGFuZGxlcz0hMCxDS0VESVRPUi5jb25maWcuZGlzYWJsZU5hdGl2ZVNwZWxsQ2hlY2tlcj0hMCxDS0VESVRPUi5jb25maWcub2JzZXJ2YWJsZVBhcmVudD1DS0VESVRPUi5kb2N1bWVudC4kLENLRURJVE9SLmNvbmZpZy5wbHVnaW5zPVwiZGlhbG9ndWksZGlhbG9nLGExMXloZWxwLGFib3V0LGJhc2ljc3R5bGVzLGJsb2NrcXVvdGUsbm90aWZpY2F0aW9uLGJ1dHRvbix0b29sYmFyLGNsaXBib2FyZCxwYW5lbCxmbG9hdHBhbmVsLG1lbnUsY29udGV4dG1lbnUsZWxlbWVudHNwYXRoLGluZGVudCxpbmRlbnRsaXN0LGxpc3QsZW50ZXJrZXksZW50aXRpZXMscG9wdXAsZmlsZXRvb2xzLGZpbGVicm93c2VyLGZsb2F0aW5nc3BhY2UsbGlzdGJsb2NrLHJpY2hjb21ibyxmb3JtYXQsaG9yaXpvbnRhbHJ1bGUsaHRtbHdyaXRlcixpbWFnZSxmYWtlb2JqZWN0cyxsaW5rLG1hZ2ljbGluZSxtYXhpbWl6ZSx4bWwsYWpheCxwYXN0ZXRvb2xzLHBhc3RlZnJvbWdkb2NzLHBhc3RlZnJvbWxpYnJlb2ZmaWNlLHBhc3RlZnJvbXdvcmQscGFzdGV0ZXh0LHJlbW92ZWZvcm1hdCxyZXNpemUsbWVudWJ1dHRvbixzY2F5dCxzaG93Ym9yZGVycyxzb3VyY2VhcmVhLHNwZWNpYWxjaGFyLHN0eWxlc2NvbWJvLHRhYix0YWJsZSx0YWJsZXRvb2xzLHRhYmxlc2VsZWN0aW9uLHVuZG8sbGluZXV0aWxzLHdpZGdldHNlbGVjdGlvbix3aWRnZXQsbm90aWZpY2F0aW9uYWdncmVnYXRvcix1cGxvYWR3aWRnZXQsdXBsb2FkaW1hZ2Usd3lzaXd5Z2FyZWFcIixcbkNLRURJVE9SLmNvbmZpZy5za2luPVwibW9vbm8tbGlzYVwiLGZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSxlKXt2YXIgYj1DS0VESVRPUi5nZXRVcmwoXCJwbHVnaW5zL1wiK2UpO2E9YS5zcGxpdChcIixcIik7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspQ0tFRElUT1Iuc2tpbi5pY29uc1thW2NdXT17cGF0aDpiLG9mZnNldDotYVsrK2NdLGJnc2l6ZTphWysrY119fTtDS0VESVRPUi5lbnYuaGlkcGk/YShcImFib3V0LDAsLGJvbGQsMjQsLGl0YWxpYyw0OCwsc3RyaWtlLDcyLCxzdWJzY3JpcHQsOTYsLHN1cGVyc2NyaXB0LDEyMCwsdW5kZXJsaW5lLDE0NCwsYmlkaWx0ciwxNjgsLGJpZGlydGwsMTkyLCxibG9ja3F1b3RlLDIxNiwsY29weS1ydGwsMjQwLCxjb3B5LDI2NCwsY3V0LXJ0bCwyODgsLGN1dCwzMTIsLHBhc3RlLXJ0bCwzMzYsLHBhc3RlLDM2MCwsY29kZXNuaXBwZXQsMzg0LCxiZ2NvbG9yLDQwOCwsdGV4dGNvbG9yLDQzMiwsY29weWZvcm1hdHRpbmcsNDU2LCxjcmVhdGVkaXYsNDgwLCxkb2Nwcm9wcy1ydGwsNTA0LCxkb2Nwcm9wcyw1MjgsLGVhc3lpbWFnZWFsaWduY2VudGVyLDU1MiwsZWFzeWltYWdlYWxpZ25sZWZ0LDU3NiwsZWFzeWltYWdlYWxpZ25yaWdodCw2MDAsLGVhc3lpbWFnZWFsdCw2MjQsLGVhc3lpbWFnZWZ1bGwsNjQ4LCxlYXN5aW1hZ2VzaWRlLDY3MiwsZWFzeWltYWdldXBsb2FkLDY5NiwsZW1iZWQsNzIwLCxlbWJlZHNlbWFudGljLDc0NCwsZW1vamlwYW5lbCw3NjgsLGV4cG9ydHBkZiw3OTIsLGZpbmQtcnRsLDgxNiwsZmluZCw4NDAsLHJlcGxhY2UsODY0LCxidXR0b24sODg4LCxjaGVja2JveCw5MTIsLGZvcm0sOTM2LCxoaWRkZW5maWVsZCw5NjAsLGltYWdlYnV0dG9uLDk4NCwscmFkaW8sMTAwOCwsc2VsZWN0LXJ0bCwxMDMyLCxzZWxlY3QsMTA1NiwsdGV4dGFyZWEtcnRsLDEwODAsLHRleHRhcmVhLDExMDQsLHRleHRmaWVsZC1ydGwsMTEyOCwsdGV4dGZpZWxkLDExNTIsLGhvcml6b250YWxydWxlLDExNzYsLGlmcmFtZSwxMjAwLCxpbWFnZSwxMjI0LCxpbmRlbnQtcnRsLDEyNDgsLGluZGVudCwxMjcyLCxvdXRkZW50LXJ0bCwxMjk2LCxvdXRkZW50LDEzMjAsLGp1c3RpZnlibG9jaywxMzQ0LCxqdXN0aWZ5Y2VudGVyLDEzNjgsLGp1c3RpZnlsZWZ0LDEzOTIsLGp1c3RpZnlyaWdodCwxNDE2LCxsYW5ndWFnZSwxNDQwLCxhbmNob3ItcnRsLDE0NjQsLGFuY2hvciwxNDg4LCxsaW5rLDE1MTIsLHVubGluaywxNTM2LCxidWxsZXRlZGxpc3QtcnRsLDE1NjAsLGJ1bGxldGVkbGlzdCwxNTg0LCxudW1iZXJlZGxpc3QtcnRsLDE2MDgsLG51bWJlcmVkbGlzdCwxNjMyLCxtYXRoamF4LDE2NTYsLG1heGltaXplLDE2ODAsLG5ld3BhZ2UtcnRsLDE3MDQsLG5ld3BhZ2UsMTcyOCwscGFnZWJyZWFrLXJ0bCwxNzUyLCxwYWdlYnJlYWssMTc3NiwscGFzdGVmcm9td29yZC1ydGwsMTgwMCwscGFzdGVmcm9td29yZCwxODI0LCxwYXN0ZXRleHQtcnRsLDE4NDgsLHBhc3RldGV4dCwxODcyLCxwbGFjZWhvbGRlciwxODk2LCxwcmV2aWV3LXJ0bCwxOTIwLCxwcmV2aWV3LDE5NDQsLHByaW50LDE5NjgsLHJlbW92ZWZvcm1hdCwxOTkyLCxzYXZlLDIwMTYsLHNjYXl0LDIwNDAsLHNlbGVjdGFsbCwyMDY0LCxzaG93YmxvY2tzLXJ0bCwyMDg4LCxzaG93YmxvY2tzLDIxMTIsLHNtaWxleSwyMTM2LCxzb3VyY2UtcnRsLDIxNjAsLHNvdXJjZSwyMTg0LCxzb3VyY2VkaWFsb2ctcnRsLDIyMDgsLHNvdXJjZWRpYWxvZywyMjMyLCxzcGVjaWFsY2hhciwyMjU2LCx0YWJsZSwyMjgwLCx0ZW1wbGF0ZXMtcnRsLDIzMDQsLHRlbXBsYXRlcywyMzI4LCx1aWNvbG9yLDIzNTIsLHJlZG8tcnRsLDIzNzYsLHJlZG8sMjQwMCwsdW5kby1ydGwsMjQyNCwsdW5kbywyNDQ4LCxzaW1wbGVib3gsNDk0NCxhdXRvXCIsXG5cImljb25zX2hpZHBpLnBuZ1wiKTphKFwiYWJvdXQsMCxhdXRvLGJvbGQsMjQsYXV0byxpdGFsaWMsNDgsYXV0byxzdHJpa2UsNzIsYXV0byxzdWJzY3JpcHQsOTYsYXV0byxzdXBlcnNjcmlwdCwxMjAsYXV0byx1bmRlcmxpbmUsMTQ0LGF1dG8sYmlkaWx0ciwxNjgsYXV0byxiaWRpcnRsLDE5MixhdXRvLGJsb2NrcXVvdGUsMjE2LGF1dG8sY29weS1ydGwsMjQwLGF1dG8sY29weSwyNjQsYXV0byxjdXQtcnRsLDI4OCxhdXRvLGN1dCwzMTIsYXV0byxwYXN0ZS1ydGwsMzM2LGF1dG8scGFzdGUsMzYwLGF1dG8sY29kZXNuaXBwZXQsMzg0LGF1dG8sYmdjb2xvciw0MDgsYXV0byx0ZXh0Y29sb3IsNDMyLGF1dG8sY29weWZvcm1hdHRpbmcsNDU2LGF1dG8sY3JlYXRlZGl2LDQ4MCxhdXRvLGRvY3Byb3BzLXJ0bCw1MDQsYXV0byxkb2Nwcm9wcyw1MjgsYXV0byxlYXN5aW1hZ2VhbGlnbmNlbnRlciw1NTIsYXV0byxlYXN5aW1hZ2VhbGlnbmxlZnQsNTc2LGF1dG8sZWFzeWltYWdlYWxpZ25yaWdodCw2MDAsYXV0byxlYXN5aW1hZ2VhbHQsNjI0LGF1dG8sZWFzeWltYWdlZnVsbCw2NDgsYXV0byxlYXN5aW1hZ2VzaWRlLDY3MixhdXRvLGVhc3lpbWFnZXVwbG9hZCw2OTYsYXV0byxlbWJlZCw3MjAsYXV0byxlbWJlZHNlbWFudGljLDc0NCxhdXRvLGVtb2ppcGFuZWwsNzY4LGF1dG8sZXhwb3J0cGRmLDc5MixhdXRvLGZpbmQtcnRsLDgxNixhdXRvLGZpbmQsODQwLGF1dG8scmVwbGFjZSw4NjQsYXV0byxidXR0b24sODg4LGF1dG8sY2hlY2tib3gsOTEyLGF1dG8sZm9ybSw5MzYsYXV0byxoaWRkZW5maWVsZCw5NjAsYXV0byxpbWFnZWJ1dHRvbiw5ODQsYXV0byxyYWRpbywxMDA4LGF1dG8sc2VsZWN0LXJ0bCwxMDMyLGF1dG8sc2VsZWN0LDEwNTYsYXV0byx0ZXh0YXJlYS1ydGwsMTA4MCxhdXRvLHRleHRhcmVhLDExMDQsYXV0byx0ZXh0ZmllbGQtcnRsLDExMjgsYXV0byx0ZXh0ZmllbGQsMTE1MixhdXRvLGhvcml6b250YWxydWxlLDExNzYsYXV0byxpZnJhbWUsMTIwMCxhdXRvLGltYWdlLDEyMjQsYXV0byxpbmRlbnQtcnRsLDEyNDgsYXV0byxpbmRlbnQsMTI3MixhdXRvLG91dGRlbnQtcnRsLDEyOTYsYXV0byxvdXRkZW50LDEzMjAsYXV0byxqdXN0aWZ5YmxvY2ssMTM0NCxhdXRvLGp1c3RpZnljZW50ZXIsMTM2OCxhdXRvLGp1c3RpZnlsZWZ0LDEzOTIsYXV0byxqdXN0aWZ5cmlnaHQsMTQxNixhdXRvLGxhbmd1YWdlLDE0NDAsYXV0byxhbmNob3ItcnRsLDE0NjQsYXV0byxhbmNob3IsMTQ4OCxhdXRvLGxpbmssMTUxMixhdXRvLHVubGluaywxNTM2LGF1dG8sYnVsbGV0ZWRsaXN0LXJ0bCwxNTYwLGF1dG8sYnVsbGV0ZWRsaXN0LDE1ODQsYXV0byxudW1iZXJlZGxpc3QtcnRsLDE2MDgsYXV0byxudW1iZXJlZGxpc3QsMTYzMixhdXRvLG1hdGhqYXgsMTY1NixhdXRvLG1heGltaXplLDE2ODAsYXV0byxuZXdwYWdlLXJ0bCwxNzA0LGF1dG8sbmV3cGFnZSwxNzI4LGF1dG8scGFnZWJyZWFrLXJ0bCwxNzUyLGF1dG8scGFnZWJyZWFrLDE3NzYsYXV0byxwYXN0ZWZyb213b3JkLXJ0bCwxODAwLGF1dG8scGFzdGVmcm9td29yZCwxODI0LGF1dG8scGFzdGV0ZXh0LXJ0bCwxODQ4LGF1dG8scGFzdGV0ZXh0LDE4NzIsYXV0byxwbGFjZWhvbGRlciwxODk2LGF1dG8scHJldmlldy1ydGwsMTkyMCxhdXRvLHByZXZpZXcsMTk0NCxhdXRvLHByaW50LDE5NjgsYXV0byxyZW1vdmVmb3JtYXQsMTk5MixhdXRvLHNhdmUsMjAxNixhdXRvLHNjYXl0LDIwNDAsYXV0byxzZWxlY3RhbGwsMjA2NCxhdXRvLHNob3dibG9ja3MtcnRsLDIwODgsYXV0byxzaG93YmxvY2tzLDIxMTIsYXV0byxzbWlsZXksMjEzNixhdXRvLHNvdXJjZS1ydGwsMjE2MCxhdXRvLHNvdXJjZSwyMTg0LGF1dG8sc291cmNlZGlhbG9nLXJ0bCwyMjA4LGF1dG8sc291cmNlZGlhbG9nLDIyMzIsYXV0byxzcGVjaWFsY2hhciwyMjU2LGF1dG8sdGFibGUsMjI4MCxhdXRvLHRlbXBsYXRlcy1ydGwsMjMwNCxhdXRvLHRlbXBsYXRlcywyMzI4LGF1dG8sdWljb2xvciwyMzUyLGF1dG8scmVkby1ydGwsMjM3NixhdXRvLHJlZG8sMjQwMCxhdXRvLHVuZG8tcnRsLDI0MjQsYXV0byx1bmRvLDI0NDgsYXV0byxzaW1wbGVib3gsMjQ3MixhdXRvXCIsXG5cImljb25zLnBuZ1wiKX0oKSl9KSgpOyIsInZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGdldEJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluJyk7XG52YXIgYXBwbHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tYXBwbHknKTtcbnZhciBjYWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwnKTtcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGlzQXJyYXkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtYXJyYXknKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG52YXIgaXNTeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtc3ltYm9sJyk7XG52YXIgYXJyYXlTbGljZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1zbGljZScpO1xudmFyIE5BVElWRV9TWU1CT0wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3ltYm9sLWNvbnN0cnVjdG9yLWRldGVjdGlvbicpO1xuXG52YXIgJHN0cmluZ2lmeSA9IGdldEJ1aWx0SW4oJ0pTT04nLCAnc3RyaW5naWZ5Jyk7XG52YXIgZXhlYyA9IHVuY3VycnlUaGlzKC8uLy5leGVjKTtcbnZhciBjaGFyQXQgPSB1bmN1cnJ5VGhpcygnJy5jaGFyQXQpO1xudmFyIGNoYXJDb2RlQXQgPSB1bmN1cnJ5VGhpcygnJy5jaGFyQ29kZUF0KTtcbnZhciByZXBsYWNlID0gdW5jdXJyeVRoaXMoJycucmVwbGFjZSk7XG52YXIgbnVtYmVyVG9TdHJpbmcgPSB1bmN1cnJ5VGhpcygxLjAudG9TdHJpbmcpO1xuXG52YXIgdGVzdGVyID0gL1tcXHVEODAwLVxcdURGRkZdL2c7XG52YXIgbG93ID0gL15bXFx1RDgwMC1cXHVEQkZGXSQvO1xudmFyIGhpID0gL15bXFx1REMwMC1cXHVERkZGXSQvO1xuXG52YXIgV1JPTkdfU1lNQk9MU19DT05WRVJTSU9OID0gIU5BVElWRV9TWU1CT0wgfHwgZmFpbHMoZnVuY3Rpb24gKCkge1xuICB2YXIgc3ltYm9sID0gZ2V0QnVpbHRJbignU3ltYm9sJykoKTtcbiAgLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge31cbiAgcmV0dXJuICRzdHJpbmdpZnkoW3N5bWJvbF0pICE9ICdbbnVsbF0nXG4gICAgLy8gV2ViS2l0IGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyBudWxsXG4gICAgfHwgJHN0cmluZ2lmeSh7IGE6IHN5bWJvbCB9KSAhPSAne30nXG4gICAgLy8gVjggdGhyb3dzIG9uIGJveGVkIHN5bWJvbHNcbiAgICB8fCAkc3RyaW5naWZ5KE9iamVjdChzeW1ib2wpKSAhPSAne30nO1xufSk7XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXdlbGwtZm9ybWVkLXN0cmluZ2lmeVxudmFyIElMTF9GT1JNRURfVU5JQ09ERSA9IGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICRzdHJpbmdpZnkoJ1xcdURGMDZcXHVEODM0JykgIT09ICdcIlxcXFx1ZGYwNlxcXFx1ZDgzNFwiJ1xuICAgIHx8ICRzdHJpbmdpZnkoJ1xcdURFQUQnKSAhPT0gJ1wiXFxcXHVkZWFkXCInO1xufSk7XG5cbnZhciBzdHJpbmdpZnlXaXRoU3ltYm9sc0ZpeCA9IGZ1bmN0aW9uIChpdCwgcmVwbGFjZXIpIHtcbiAgdmFyIGFyZ3MgPSBhcnJheVNsaWNlKGFyZ3VtZW50cyk7XG4gIHZhciAkcmVwbGFjZXIgPSByZXBsYWNlcjtcbiAgaWYgKCFpc09iamVjdChyZXBsYWNlcikgJiYgaXQgPT09IHVuZGVmaW5lZCB8fCBpc1N5bWJvbChpdCkpIHJldHVybjsgLy8gSUU4IHJldHVybnMgc3RyaW5nIG9uIHVuZGVmaW5lZFxuICBpZiAoIWlzQXJyYXkocmVwbGFjZXIpKSByZXBsYWNlciA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgaWYgKGlzQ2FsbGFibGUoJHJlcGxhY2VyKSkgdmFsdWUgPSBjYWxsKCRyZXBsYWNlciwgdGhpcywga2V5LCB2YWx1ZSk7XG4gICAgaWYgKCFpc1N5bWJvbCh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgfTtcbiAgYXJnc1sxXSA9IHJlcGxhY2VyO1xuICByZXR1cm4gYXBwbHkoJHN0cmluZ2lmeSwgbnVsbCwgYXJncyk7XG59O1xuXG52YXIgZml4SWxsRm9ybWVkID0gZnVuY3Rpb24gKG1hdGNoLCBvZmZzZXQsIHN0cmluZykge1xuICB2YXIgcHJldiA9IGNoYXJBdChzdHJpbmcsIG9mZnNldCAtIDEpO1xuICB2YXIgbmV4dCA9IGNoYXJBdChzdHJpbmcsIG9mZnNldCArIDEpO1xuICBpZiAoKGV4ZWMobG93LCBtYXRjaCkgJiYgIWV4ZWMoaGksIG5leHQpKSB8fCAoZXhlYyhoaSwgbWF0Y2gpICYmICFleGVjKGxvdywgcHJldikpKSB7XG4gICAgcmV0dXJuICdcXFxcdScgKyBudW1iZXJUb1N0cmluZyhjaGFyQ29kZUF0KG1hdGNoLCAwKSwgMTYpO1xuICB9IHJldHVybiBtYXRjaDtcbn07XG5cbmlmICgkc3RyaW5naWZ5KSB7XG4gIC8vIGBKU09OLnN0cmluZ2lmeWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtanNvbi5zdHJpbmdpZnlcbiAgJCh7IHRhcmdldDogJ0pTT04nLCBzdGF0OiB0cnVlLCBhcml0eTogMywgZm9yY2VkOiBXUk9OR19TWU1CT0xTX0NPTlZFUlNJT04gfHwgSUxMX0ZPUk1FRF9VTklDT0RFIH0sIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMgLS0gcmVxdWlyZWQgZm9yIGAubGVuZ3RoYFxuICAgIHN0cmluZ2lmeTogZnVuY3Rpb24gc3RyaW5naWZ5KGl0LCByZXBsYWNlciwgc3BhY2UpIHtcbiAgICAgIHZhciBhcmdzID0gYXJyYXlTbGljZShhcmd1bWVudHMpO1xuICAgICAgdmFyIHJlc3VsdCA9IGFwcGx5KFdST05HX1NZTUJPTFNfQ09OVkVSU0lPTiA/IHN0cmluZ2lmeVdpdGhTeW1ib2xzRml4IDogJHN0cmluZ2lmeSwgbnVsbCwgYXJncyk7XG4gICAgICByZXR1cm4gSUxMX0ZPUk1FRF9VTklDT0RFICYmIHR5cGVvZiByZXN1bHQgPT0gJ3N0cmluZycgPyByZXBsYWNlKHJlc3VsdCwgdGVzdGVyLCBmaXhJbGxGb3JtZWQpIDogcmVzdWx0O1xuICAgIH1cbiAgfSk7XG59XG4iLCIvKiFcbiAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjMuNi4xXG4gKiBodHRwczovL2pxdWVyeS5jb20vXG4gKlxuICogSW5jbHVkZXMgU2l6emxlLmpzXG4gKiBodHRwczovL3NpenpsZWpzLmNvbS9cbiAqXG4gKiBDb3B5cmlnaHQgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBodHRwczovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMjItMDgtMjZUMTc6NTJaXG4gKi9cbiggZnVuY3Rpb24oIGdsb2JhbCwgZmFjdG9yeSApIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRpZiAoIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0Ly8gRm9yIENvbW1vbkpTIGFuZCBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB3aGVyZSBhIHByb3BlciBgd2luZG93YFxuXHRcdC8vIGlzIHByZXNlbnQsIGV4ZWN1dGUgdGhlIGZhY3RvcnkgYW5kIGdldCBqUXVlcnkuXG5cdFx0Ly8gRm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCBoYXZlIGEgYHdpbmRvd2Agd2l0aCBhIGBkb2N1bWVudGBcblx0XHQvLyAoc3VjaCBhcyBOb2RlLmpzKSwgZXhwb3NlIGEgZmFjdG9yeSBhcyBtb2R1bGUuZXhwb3J0cy5cblx0XHQvLyBUaGlzIGFjY2VudHVhdGVzIHRoZSBuZWVkIGZvciB0aGUgY3JlYXRpb24gb2YgYSByZWFsIGB3aW5kb3dgLlxuXHRcdC8vIGUuZy4gdmFyIGpRdWVyeSA9IHJlcXVpcmUoXCJqcXVlcnlcIikod2luZG93KTtcblx0XHQvLyBTZWUgdGlja2V0IHRyYWMtMTQ1NDkgZm9yIG1vcmUgaW5mby5cblx0XHRtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbC5kb2N1bWVudCA/XG5cdFx0XHRmYWN0b3J5KCBnbG9iYWwsIHRydWUgKSA6XG5cdFx0XHRmdW5jdGlvbiggdyApIHtcblx0XHRcdFx0aWYgKCAhdy5kb2N1bWVudCApIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoIFwialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudFwiICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGZhY3RvcnkoIHcgKTtcblx0XHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0ZmFjdG9yeSggZ2xvYmFsICk7XG5cdH1cblxuLy8gUGFzcyB0aGlzIGlmIHdpbmRvdyBpcyBub3QgZGVmaW5lZCB5ZXRcbn0gKSggdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uKCB3aW5kb3csIG5vR2xvYmFsICkge1xuXG4vLyBFZGdlIDw9IDEyIC0gMTMrLCBGaXJlZm94IDw9MTggLSA0NSssIElFIDEwIC0gMTEsIFNhZmFyaSA1LjEgLSA5KywgaU9TIDYgLSA5LjFcbi8vIHRocm93IGV4Y2VwdGlvbnMgd2hlbiBub24tc3RyaWN0IGNvZGUgKGUuZy4sIEFTUC5ORVQgNC41KSBhY2Nlc3NlcyBzdHJpY3QgbW9kZVxuLy8gYXJndW1lbnRzLmNhbGxlZS5jYWxsZXIgKHRyYWMtMTMzMzUpLiBCdXQgYXMgb2YgalF1ZXJ5IDMuMCAoMjAxNiksIHN0cmljdCBtb2RlIHNob3VsZCBiZSBjb21tb25cbi8vIGVub3VnaCB0aGF0IGFsbCBzdWNoIGF0dGVtcHRzIGFyZSBndWFyZGVkIGluIGEgdHJ5IGJsb2NrLlxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBhcnIgPSBbXTtcblxudmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXG52YXIgc2xpY2UgPSBhcnIuc2xpY2U7XG5cbnZhciBmbGF0ID0gYXJyLmZsYXQgPyBmdW5jdGlvbiggYXJyYXkgKSB7XG5cdHJldHVybiBhcnIuZmxhdC5jYWxsKCBhcnJheSApO1xufSA6IGZ1bmN0aW9uKCBhcnJheSApIHtcblx0cmV0dXJuIGFyci5jb25jYXQuYXBwbHkoIFtdLCBhcnJheSApO1xufTtcblxuXG52YXIgcHVzaCA9IGFyci5wdXNoO1xuXG52YXIgaW5kZXhPZiA9IGFyci5pbmRleE9mO1xuXG52YXIgY2xhc3MydHlwZSA9IHt9O1xuXG52YXIgdG9TdHJpbmcgPSBjbGFzczJ0eXBlLnRvU3RyaW5nO1xuXG52YXIgaGFzT3duID0gY2xhc3MydHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIGZuVG9TdHJpbmcgPSBoYXNPd24udG9TdHJpbmc7XG5cbnZhciBPYmplY3RGdW5jdGlvblN0cmluZyA9IGZuVG9TdHJpbmcuY2FsbCggT2JqZWN0ICk7XG5cbnZhciBzdXBwb3J0ID0ge307XG5cbnZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gaXNGdW5jdGlvbiggb2JqICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9NTcsIEZpcmVmb3ggPD01MlxuXHRcdC8vIEluIHNvbWUgYnJvd3NlcnMsIHR5cGVvZiByZXR1cm5zIFwiZnVuY3Rpb25cIiBmb3IgSFRNTCA8b2JqZWN0PiBlbGVtZW50c1xuXHRcdC8vIChpLmUuLCBgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwib2JqZWN0XCIgKSA9PT0gXCJmdW5jdGlvblwiYCkuXG5cdFx0Ly8gV2UgZG9uJ3Qgd2FudCB0byBjbGFzc2lmeSAqYW55KiBET00gbm9kZSBhcyBhIGZ1bmN0aW9uLlxuXHRcdC8vIFN1cHBvcnQ6IFF0V2ViIDw9My44LjUsIFdlYktpdCA8PTUzNC4zNCwgd2todG1sdG9wZGYgdG9vbCA8PTAuMTIuNVxuXHRcdC8vIFBsdXMgZm9yIG9sZCBXZWJLaXQsIHR5cGVvZiByZXR1cm5zIFwiZnVuY3Rpb25cIiBmb3IgSFRNTCBjb2xsZWN0aW9uc1xuXHRcdC8vIChlLmcuLCBgdHlwZW9mIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZGl2XCIpID09PSBcImZ1bmN0aW9uXCJgKS4gKGdoLTQ3NTYpXG5cdFx0cmV0dXJuIHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygb2JqLm5vZGVUeXBlICE9PSBcIm51bWJlclwiICYmXG5cdFx0XHR0eXBlb2Ygb2JqLml0ZW0gIT09IFwiZnVuY3Rpb25cIjtcblx0fTtcblxuXG52YXIgaXNXaW5kb3cgPSBmdW5jdGlvbiBpc1dpbmRvdyggb2JqICkge1xuXHRcdHJldHVybiBvYmogIT0gbnVsbCAmJiBvYmogPT09IG9iai53aW5kb3c7XG5cdH07XG5cblxudmFyIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50O1xuXG5cblxuXHR2YXIgcHJlc2VydmVkU2NyaXB0QXR0cmlidXRlcyA9IHtcblx0XHR0eXBlOiB0cnVlLFxuXHRcdHNyYzogdHJ1ZSxcblx0XHRub25jZTogdHJ1ZSxcblx0XHRub01vZHVsZTogdHJ1ZVxuXHR9O1xuXG5cdGZ1bmN0aW9uIERPTUV2YWwoIGNvZGUsIG5vZGUsIGRvYyApIHtcblx0XHRkb2MgPSBkb2MgfHwgZG9jdW1lbnQ7XG5cblx0XHR2YXIgaSwgdmFsLFxuXHRcdFx0c2NyaXB0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoIFwic2NyaXB0XCIgKTtcblxuXHRcdHNjcmlwdC50ZXh0ID0gY29kZTtcblx0XHRpZiAoIG5vZGUgKSB7XG5cdFx0XHRmb3IgKCBpIGluIHByZXNlcnZlZFNjcmlwdEF0dHJpYnV0ZXMgKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCA2NCssIEVkZ2UgMTgrXG5cdFx0XHRcdC8vIFNvbWUgYnJvd3NlcnMgZG9uJ3Qgc3VwcG9ydCB0aGUgXCJub25jZVwiIHByb3BlcnR5IG9uIHNjcmlwdHMuXG5cdFx0XHRcdC8vIE9uIHRoZSBvdGhlciBoYW5kLCBqdXN0IHVzaW5nIGBnZXRBdHRyaWJ1dGVgIGlzIG5vdCBlbm91Z2ggYXNcblx0XHRcdFx0Ly8gdGhlIGBub25jZWAgYXR0cmlidXRlIGlzIHJlc2V0IHRvIGFuIGVtcHR5IHN0cmluZyB3aGVuZXZlciBpdFxuXHRcdFx0XHQvLyBiZWNvbWVzIGJyb3dzaW5nLWNvbnRleHQgY29ubmVjdGVkLlxuXHRcdFx0XHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3doYXR3Zy9odG1sL2lzc3Vlcy8yMzY5XG5cdFx0XHRcdC8vIFNlZSBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNub25jZS1hdHRyaWJ1dGVzXG5cdFx0XHRcdC8vIFRoZSBgbm9kZS5nZXRBdHRyaWJ1dGVgIGNoZWNrIHdhcyBhZGRlZCBmb3IgdGhlIHNha2Ugb2Zcblx0XHRcdFx0Ly8gYGpRdWVyeS5nbG9iYWxFdmFsYCBzbyB0aGF0IGl0IGNhbiBmYWtlIGEgbm9uY2UtY29udGFpbmluZyBub2RlXG5cdFx0XHRcdC8vIHZpYSBhbiBvYmplY3QuXG5cdFx0XHRcdHZhbCA9IG5vZGVbIGkgXSB8fCBub2RlLmdldEF0dHJpYnV0ZSAmJiBub2RlLmdldEF0dHJpYnV0ZSggaSApO1xuXHRcdFx0XHRpZiAoIHZhbCApIHtcblx0XHRcdFx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKCBpLCB2YWwgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRkb2MuaGVhZC5hcHBlbmRDaGlsZCggc2NyaXB0ICkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggc2NyaXB0ICk7XG5cdH1cblxuXG5mdW5jdGlvbiB0b1R5cGUoIG9iaiApIHtcblx0aWYgKCBvYmogPT0gbnVsbCApIHtcblx0XHRyZXR1cm4gb2JqICsgXCJcIjtcblx0fVxuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD0yLjMgb25seSAoZnVuY3Rpb25pc2ggUmVnRXhwKVxuXHRyZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIgP1xuXHRcdGNsYXNzMnR5cGVbIHRvU3RyaW5nLmNhbGwoIG9iaiApIF0gfHwgXCJvYmplY3RcIiA6XG5cdFx0dHlwZW9mIG9iajtcbn1cbi8qIGdsb2JhbCBTeW1ib2wgKi9cbi8vIERlZmluaW5nIHRoaXMgZ2xvYmFsIGluIC5lc2xpbnRyYy5qc29uIHdvdWxkIGNyZWF0ZSBhIGRhbmdlciBvZiB1c2luZyB0aGUgZ2xvYmFsXG4vLyB1bmd1YXJkZWQgaW4gYW5vdGhlciBwbGFjZSwgaXQgc2VlbXMgc2FmZXIgdG8gZGVmaW5lIGdsb2JhbCBvbmx5IGZvciB0aGlzIG1vZHVsZVxuXG5cblxudmFyXG5cdHZlcnNpb24gPSBcIjMuNi4xXCIsXG5cblx0Ly8gRGVmaW5lIGEgbG9jYWwgY29weSBvZiBqUXVlcnlcblx0alF1ZXJ5ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkge1xuXG5cdFx0Ly8gVGhlIGpRdWVyeSBvYmplY3QgaXMgYWN0dWFsbHkganVzdCB0aGUgaW5pdCBjb25zdHJ1Y3RvciAnZW5oYW5jZWQnXG5cdFx0Ly8gTmVlZCBpbml0IGlmIGpRdWVyeSBpcyBjYWxsZWQgKGp1c3QgYWxsb3cgZXJyb3IgdG8gYmUgdGhyb3duIGlmIG5vdCBpbmNsdWRlZClcblx0XHRyZXR1cm4gbmV3IGpRdWVyeS5mbi5pbml0KCBzZWxlY3RvciwgY29udGV4dCApO1xuXHR9O1xuXG5qUXVlcnkuZm4gPSBqUXVlcnkucHJvdG90eXBlID0ge1xuXG5cdC8vIFRoZSBjdXJyZW50IHZlcnNpb24gb2YgalF1ZXJ5IGJlaW5nIHVzZWRcblx0anF1ZXJ5OiB2ZXJzaW9uLFxuXG5cdGNvbnN0cnVjdG9yOiBqUXVlcnksXG5cblx0Ly8gVGhlIGRlZmF1bHQgbGVuZ3RoIG9mIGEgalF1ZXJ5IG9iamVjdCBpcyAwXG5cdGxlbmd0aDogMCxcblxuXHR0b0FycmF5OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2xpY2UuY2FsbCggdGhpcyApO1xuXHR9LFxuXG5cdC8vIEdldCB0aGUgTnRoIGVsZW1lbnQgaW4gdGhlIG1hdGNoZWQgZWxlbWVudCBzZXQgT1Jcblx0Ly8gR2V0IHRoZSB3aG9sZSBtYXRjaGVkIGVsZW1lbnQgc2V0IGFzIGEgY2xlYW4gYXJyYXlcblx0Z2V0OiBmdW5jdGlvbiggbnVtICkge1xuXG5cdFx0Ly8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgaW4gYSBjbGVhbiBhcnJheVxuXHRcdGlmICggbnVtID09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gc2xpY2UuY2FsbCggdGhpcyApO1xuXHRcdH1cblxuXHRcdC8vIFJldHVybiBqdXN0IHRoZSBvbmUgZWxlbWVudCBmcm9tIHRoZSBzZXRcblx0XHRyZXR1cm4gbnVtIDwgMCA/IHRoaXNbIG51bSArIHRoaXMubGVuZ3RoIF0gOiB0aGlzWyBudW0gXTtcblx0fSxcblxuXHQvLyBUYWtlIGFuIGFycmF5IG9mIGVsZW1lbnRzIGFuZCBwdXNoIGl0IG9udG8gdGhlIHN0YWNrXG5cdC8vIChyZXR1cm5pbmcgdGhlIG5ldyBtYXRjaGVkIGVsZW1lbnQgc2V0KVxuXHRwdXNoU3RhY2s6IGZ1bmN0aW9uKCBlbGVtcyApIHtcblxuXHRcdC8vIEJ1aWxkIGEgbmV3IGpRdWVyeSBtYXRjaGVkIGVsZW1lbnQgc2V0XG5cdFx0dmFyIHJldCA9IGpRdWVyeS5tZXJnZSggdGhpcy5jb25zdHJ1Y3RvcigpLCBlbGVtcyApO1xuXG5cdFx0Ly8gQWRkIHRoZSBvbGQgb2JqZWN0IG9udG8gdGhlIHN0YWNrIChhcyBhIHJlZmVyZW5jZSlcblx0XHRyZXQucHJldk9iamVjdCA9IHRoaXM7XG5cblx0XHQvLyBSZXR1cm4gdGhlIG5ld2x5LWZvcm1lZCBlbGVtZW50IHNldFxuXHRcdHJldHVybiByZXQ7XG5cdH0sXG5cblx0Ly8gRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBldmVyeSBlbGVtZW50IGluIHRoZSBtYXRjaGVkIHNldC5cblx0ZWFjaDogZnVuY3Rpb24oIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBqUXVlcnkuZWFjaCggdGhpcywgY2FsbGJhY2sgKTtcblx0fSxcblxuXHRtYXA6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeS5tYXAoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBpICkge1xuXHRcdFx0cmV0dXJuIGNhbGxiYWNrLmNhbGwoIGVsZW0sIGksIGVsZW0gKTtcblx0XHR9ICkgKTtcblx0fSxcblxuXHRzbGljZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBzbGljZS5hcHBseSggdGhpcywgYXJndW1lbnRzICkgKTtcblx0fSxcblxuXHRmaXJzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZXEoIDAgKTtcblx0fSxcblxuXHRsYXN0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5lcSggLTEgKTtcblx0fSxcblxuXHRldmVuOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeS5ncmVwKCB0aGlzLCBmdW5jdGlvbiggX2VsZW0sIGkgKSB7XG5cdFx0XHRyZXR1cm4gKCBpICsgMSApICUgMjtcblx0XHR9ICkgKTtcblx0fSxcblxuXHRvZGQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5LmdyZXAoIHRoaXMsIGZ1bmN0aW9uKCBfZWxlbSwgaSApIHtcblx0XHRcdHJldHVybiBpICUgMjtcblx0XHR9ICkgKTtcblx0fSxcblxuXHRlcTogZnVuY3Rpb24oIGkgKSB7XG5cdFx0dmFyIGxlbiA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0aiA9ICtpICsgKCBpIDwgMCA/IGxlbiA6IDAgKTtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGogPj0gMCAmJiBqIDwgbGVuID8gWyB0aGlzWyBqIF0gXSA6IFtdICk7XG5cdH0sXG5cblx0ZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5wcmV2T2JqZWN0IHx8IHRoaXMuY29uc3RydWN0b3IoKTtcblx0fSxcblxuXHQvLyBGb3IgaW50ZXJuYWwgdXNlIG9ubHkuXG5cdC8vIEJlaGF2ZXMgbGlrZSBhbiBBcnJheSdzIG1ldGhvZCwgbm90IGxpa2UgYSBqUXVlcnkgbWV0aG9kLlxuXHRwdXNoOiBwdXNoLFxuXHRzb3J0OiBhcnIuc29ydCxcblx0c3BsaWNlOiBhcnIuc3BsaWNlXG59O1xuXG5qUXVlcnkuZXh0ZW5kID0galF1ZXJ5LmZuLmV4dGVuZCA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgb3B0aW9ucywgbmFtZSwgc3JjLCBjb3B5LCBjb3B5SXNBcnJheSwgY2xvbmUsXG5cdFx0dGFyZ2V0ID0gYXJndW1lbnRzWyAwIF0gfHwge30sXG5cdFx0aSA9IDEsXG5cdFx0bGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcblx0XHRkZWVwID0gZmFsc2U7XG5cblx0Ly8gSGFuZGxlIGEgZGVlcCBjb3B5IHNpdHVhdGlvblxuXHRpZiAoIHR5cGVvZiB0YXJnZXQgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdGRlZXAgPSB0YXJnZXQ7XG5cblx0XHQvLyBTa2lwIHRoZSBib29sZWFuIGFuZCB0aGUgdGFyZ2V0XG5cdFx0dGFyZ2V0ID0gYXJndW1lbnRzWyBpIF0gfHwge307XG5cdFx0aSsrO1xuXHR9XG5cblx0Ly8gSGFuZGxlIGNhc2Ugd2hlbiB0YXJnZXQgaXMgYSBzdHJpbmcgb3Igc29tZXRoaW5nIChwb3NzaWJsZSBpbiBkZWVwIGNvcHkpXG5cdGlmICggdHlwZW9mIHRhcmdldCAhPT0gXCJvYmplY3RcIiAmJiAhaXNGdW5jdGlvbiggdGFyZ2V0ICkgKSB7XG5cdFx0dGFyZ2V0ID0ge307XG5cdH1cblxuXHQvLyBFeHRlbmQgalF1ZXJ5IGl0c2VsZiBpZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwYXNzZWRcblx0aWYgKCBpID09PSBsZW5ndGggKSB7XG5cdFx0dGFyZ2V0ID0gdGhpcztcblx0XHRpLS07XG5cdH1cblxuXHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblxuXHRcdC8vIE9ubHkgZGVhbCB3aXRoIG5vbi1udWxsL3VuZGVmaW5lZCB2YWx1ZXNcblx0XHRpZiAoICggb3B0aW9ucyA9IGFyZ3VtZW50c1sgaSBdICkgIT0gbnVsbCApIHtcblxuXHRcdFx0Ly8gRXh0ZW5kIHRoZSBiYXNlIG9iamVjdFxuXHRcdFx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuXHRcdFx0XHRjb3B5ID0gb3B0aW9uc1sgbmFtZSBdO1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgT2JqZWN0LnByb3RvdHlwZSBwb2xsdXRpb25cblx0XHRcdFx0Ly8gUHJldmVudCBuZXZlci1lbmRpbmcgbG9vcFxuXHRcdFx0XHRpZiAoIG5hbWUgPT09IFwiX19wcm90b19fXCIgfHwgdGFyZ2V0ID09PSBjb3B5ICkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVjdXJzZSBpZiB3ZSdyZSBtZXJnaW5nIHBsYWluIG9iamVjdHMgb3IgYXJyYXlzXG5cdFx0XHRcdGlmICggZGVlcCAmJiBjb3B5ICYmICggalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGNvcHkgKSB8fFxuXHRcdFx0XHRcdCggY29weUlzQXJyYXkgPSBBcnJheS5pc0FycmF5KCBjb3B5ICkgKSApICkge1xuXHRcdFx0XHRcdHNyYyA9IHRhcmdldFsgbmFtZSBdO1xuXG5cdFx0XHRcdFx0Ly8gRW5zdXJlIHByb3BlciB0eXBlIGZvciB0aGUgc291cmNlIHZhbHVlXG5cdFx0XHRcdFx0aWYgKCBjb3B5SXNBcnJheSAmJiAhQXJyYXkuaXNBcnJheSggc3JjICkgKSB7XG5cdFx0XHRcdFx0XHRjbG9uZSA9IFtdO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoICFjb3B5SXNBcnJheSAmJiAhalF1ZXJ5LmlzUGxhaW5PYmplY3QoIHNyYyApICkge1xuXHRcdFx0XHRcdFx0Y2xvbmUgPSB7fTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmM7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvcHlJc0FycmF5ID0gZmFsc2U7XG5cblx0XHRcdFx0XHQvLyBOZXZlciBtb3ZlIG9yaWdpbmFsIG9iamVjdHMsIGNsb25lIHRoZW1cblx0XHRcdFx0XHR0YXJnZXRbIG5hbWUgXSA9IGpRdWVyeS5leHRlbmQoIGRlZXAsIGNsb25lLCBjb3B5ICk7XG5cblx0XHRcdFx0Ly8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBjb3B5ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0dGFyZ2V0WyBuYW1lIF0gPSBjb3B5O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSBtb2RpZmllZCBvYmplY3Rcblx0cmV0dXJuIHRhcmdldDtcbn07XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBVbmlxdWUgZm9yIGVhY2ggY29weSBvZiBqUXVlcnkgb24gdGhlIHBhZ2Vcblx0ZXhwYW5kbzogXCJqUXVlcnlcIiArICggdmVyc2lvbiArIE1hdGgucmFuZG9tKCkgKS5yZXBsYWNlKCAvXFxEL2csIFwiXCIgKSxcblxuXHQvLyBBc3N1bWUgalF1ZXJ5IGlzIHJlYWR5IHdpdGhvdXQgdGhlIHJlYWR5IG1vZHVsZVxuXHRpc1JlYWR5OiB0cnVlLFxuXG5cdGVycm9yOiBmdW5jdGlvbiggbXNnICkge1xuXHRcdHRocm93IG5ldyBFcnJvciggbXNnICk7XG5cdH0sXG5cblx0bm9vcDogZnVuY3Rpb24oKSB7fSxcblxuXHRpc1BsYWluT2JqZWN0OiBmdW5jdGlvbiggb2JqICkge1xuXHRcdHZhciBwcm90bywgQ3RvcjtcblxuXHRcdC8vIERldGVjdCBvYnZpb3VzIG5lZ2F0aXZlc1xuXHRcdC8vIFVzZSB0b1N0cmluZyBpbnN0ZWFkIG9mIGpRdWVyeS50eXBlIHRvIGNhdGNoIGhvc3Qgb2JqZWN0c1xuXHRcdGlmICggIW9iaiB8fCB0b1N0cmluZy5jYWxsKCBvYmogKSAhPT0gXCJbb2JqZWN0IE9iamVjdF1cIiApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRwcm90byA9IGdldFByb3RvKCBvYmogKTtcblxuXHRcdC8vIE9iamVjdHMgd2l0aCBubyBwcm90b3R5cGUgKGUuZy4sIGBPYmplY3QuY3JlYXRlKCBudWxsIClgKSBhcmUgcGxhaW5cblx0XHRpZiAoICFwcm90byApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIE9iamVjdHMgd2l0aCBwcm90b3R5cGUgYXJlIHBsYWluIGlmZiB0aGV5IHdlcmUgY29uc3RydWN0ZWQgYnkgYSBnbG9iYWwgT2JqZWN0IGZ1bmN0aW9uXG5cdFx0Q3RvciA9IGhhc093bi5jYWxsKCBwcm90bywgXCJjb25zdHJ1Y3RvclwiICkgJiYgcHJvdG8uY29uc3RydWN0b3I7XG5cdFx0cmV0dXJuIHR5cGVvZiBDdG9yID09PSBcImZ1bmN0aW9uXCIgJiYgZm5Ub1N0cmluZy5jYWxsKCBDdG9yICkgPT09IE9iamVjdEZ1bmN0aW9uU3RyaW5nO1xuXHR9LFxuXG5cdGlzRW1wdHlPYmplY3Q6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0dmFyIG5hbWU7XG5cblx0XHRmb3IgKCBuYW1lIGluIG9iaiApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0Ly8gRXZhbHVhdGVzIGEgc2NyaXB0IGluIGEgcHJvdmlkZWQgY29udGV4dDsgZmFsbHMgYmFjayB0byB0aGUgZ2xvYmFsIG9uZVxuXHQvLyBpZiBub3Qgc3BlY2lmaWVkLlxuXHRnbG9iYWxFdmFsOiBmdW5jdGlvbiggY29kZSwgb3B0aW9ucywgZG9jICkge1xuXHRcdERPTUV2YWwoIGNvZGUsIHsgbm9uY2U6IG9wdGlvbnMgJiYgb3B0aW9ucy5ub25jZSB9LCBkb2MgKTtcblx0fSxcblxuXHRlYWNoOiBmdW5jdGlvbiggb2JqLCBjYWxsYmFjayApIHtcblx0XHR2YXIgbGVuZ3RoLCBpID0gMDtcblxuXHRcdGlmICggaXNBcnJheUxpa2UoIG9iaiApICkge1xuXHRcdFx0bGVuZ3RoID0gb2JqLmxlbmd0aDtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrLmNhbGwoIG9ialsgaSBdLCBpLCBvYmpbIGkgXSApID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKCBpIGluIG9iaiApIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqO1xuXHR9LFxuXG5cdC8vIHJlc3VsdHMgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcblx0bWFrZUFycmF5OiBmdW5jdGlvbiggYXJyLCByZXN1bHRzICkge1xuXHRcdHZhciByZXQgPSByZXN1bHRzIHx8IFtdO1xuXG5cdFx0aWYgKCBhcnIgIT0gbnVsbCApIHtcblx0XHRcdGlmICggaXNBcnJheUxpa2UoIE9iamVjdCggYXJyICkgKSApIHtcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCByZXQsXG5cdFx0XHRcdFx0dHlwZW9mIGFyciA9PT0gXCJzdHJpbmdcIiA/XG5cdFx0XHRcdFx0XHRbIGFyciBdIDogYXJyXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwdXNoLmNhbGwoIHJldCwgYXJyICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJldDtcblx0fSxcblxuXHRpbkFycmF5OiBmdW5jdGlvbiggZWxlbSwgYXJyLCBpICkge1xuXHRcdHJldHVybiBhcnIgPT0gbnVsbCA/IC0xIDogaW5kZXhPZi5jYWxsKCBhcnIsIGVsZW0sIGkgKTtcblx0fSxcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRtZXJnZTogZnVuY3Rpb24oIGZpcnN0LCBzZWNvbmQgKSB7XG5cdFx0dmFyIGxlbiA9ICtzZWNvbmQubGVuZ3RoLFxuXHRcdFx0aiA9IDAsXG5cdFx0XHRpID0gZmlyc3QubGVuZ3RoO1xuXG5cdFx0Zm9yICggOyBqIDwgbGVuOyBqKysgKSB7XG5cdFx0XHRmaXJzdFsgaSsrIF0gPSBzZWNvbmRbIGogXTtcblx0XHR9XG5cblx0XHRmaXJzdC5sZW5ndGggPSBpO1xuXG5cdFx0cmV0dXJuIGZpcnN0O1xuXHR9LFxuXG5cdGdyZXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGludmVydCApIHtcblx0XHR2YXIgY2FsbGJhY2tJbnZlcnNlLFxuXHRcdFx0bWF0Y2hlcyA9IFtdLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRsZW5ndGggPSBlbGVtcy5sZW5ndGgsXG5cdFx0XHRjYWxsYmFja0V4cGVjdCA9ICFpbnZlcnQ7XG5cblx0XHQvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgb25seSBzYXZpbmcgdGhlIGl0ZW1zXG5cdFx0Ly8gdGhhdCBwYXNzIHRoZSB2YWxpZGF0b3IgZnVuY3Rpb25cblx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdGNhbGxiYWNrSW52ZXJzZSA9ICFjYWxsYmFjayggZWxlbXNbIGkgXSwgaSApO1xuXHRcdFx0aWYgKCBjYWxsYmFja0ludmVyc2UgIT09IGNhbGxiYWNrRXhwZWN0ICkge1xuXHRcdFx0XHRtYXRjaGVzLnB1c2goIGVsZW1zWyBpIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gbWF0Y2hlcztcblx0fSxcblxuXHQvLyBhcmcgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcblx0bWFwOiBmdW5jdGlvbiggZWxlbXMsIGNhbGxiYWNrLCBhcmcgKSB7XG5cdFx0dmFyIGxlbmd0aCwgdmFsdWUsXG5cdFx0XHRpID0gMCxcblx0XHRcdHJldCA9IFtdO1xuXG5cdFx0Ly8gR28gdGhyb3VnaCB0aGUgYXJyYXksIHRyYW5zbGF0aW5nIGVhY2ggb2YgdGhlIGl0ZW1zIHRvIHRoZWlyIG5ldyB2YWx1ZXNcblx0XHRpZiAoIGlzQXJyYXlMaWtlKCBlbGVtcyApICkge1xuXHRcdFx0bGVuZ3RoID0gZWxlbXMubGVuZ3RoO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdHZhbHVlID0gY2FsbGJhY2soIGVsZW1zWyBpIF0sIGksIGFyZyApO1xuXG5cdFx0XHRcdGlmICggdmFsdWUgIT0gbnVsbCApIHtcblx0XHRcdFx0XHRyZXQucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0Ly8gR28gdGhyb3VnaCBldmVyeSBrZXkgb24gdGhlIG9iamVjdCxcblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yICggaSBpbiBlbGVtcyApIHtcblx0XHRcdFx0dmFsdWUgPSBjYWxsYmFjayggZWxlbXNbIGkgXSwgaSwgYXJnICk7XG5cblx0XHRcdFx0aWYgKCB2YWx1ZSAhPSBudWxsICkge1xuXHRcdFx0XHRcdHJldC5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gRmxhdHRlbiBhbnkgbmVzdGVkIGFycmF5c1xuXHRcdHJldHVybiBmbGF0KCByZXQgKTtcblx0fSxcblxuXHQvLyBBIGdsb2JhbCBHVUlEIGNvdW50ZXIgZm9yIG9iamVjdHNcblx0Z3VpZDogMSxcblxuXHQvLyBqUXVlcnkuc3VwcG9ydCBpcyBub3QgdXNlZCBpbiBDb3JlIGJ1dCBvdGhlciBwcm9qZWN0cyBhdHRhY2ggdGhlaXJcblx0Ly8gcHJvcGVydGllcyB0byBpdCBzbyBpdCBuZWVkcyB0byBleGlzdC5cblx0c3VwcG9ydDogc3VwcG9ydFxufSApO1xuXG5pZiAoIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiApIHtcblx0alF1ZXJ5LmZuWyBTeW1ib2wuaXRlcmF0b3IgXSA9IGFyclsgU3ltYm9sLml0ZXJhdG9yIF07XG59XG5cbi8vIFBvcHVsYXRlIHRoZSBjbGFzczJ0eXBlIG1hcFxualF1ZXJ5LmVhY2goIFwiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2xcIi5zcGxpdCggXCIgXCIgKSxcblx0ZnVuY3Rpb24oIF9pLCBuYW1lICkge1xuXHRcdGNsYXNzMnR5cGVbIFwiW29iamVjdCBcIiArIG5hbWUgKyBcIl1cIiBdID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXHR9ICk7XG5cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKCBvYmogKSB7XG5cblx0Ly8gU3VwcG9ydDogcmVhbCBpT1MgOC4yIG9ubHkgKG5vdCByZXByb2R1Y2libGUgaW4gc2ltdWxhdG9yKVxuXHQvLyBgaW5gIGNoZWNrIHVzZWQgdG8gcHJldmVudCBKSVQgZXJyb3IgKGdoLTIxNDUpXG5cdC8vIGhhc093biBpc24ndCB1c2VkIGhlcmUgZHVlIHRvIGZhbHNlIG5lZ2F0aXZlc1xuXHQvLyByZWdhcmRpbmcgTm9kZWxpc3QgbGVuZ3RoIGluIElFXG5cdHZhciBsZW5ndGggPSAhIW9iaiAmJiBcImxlbmd0aFwiIGluIG9iaiAmJiBvYmoubGVuZ3RoLFxuXHRcdHR5cGUgPSB0b1R5cGUoIG9iaiApO1xuXG5cdGlmICggaXNGdW5jdGlvbiggb2JqICkgfHwgaXNXaW5kb3coIG9iaiApICkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHJldHVybiB0eXBlID09PSBcImFycmF5XCIgfHwgbGVuZ3RoID09PSAwIHx8XG5cdFx0dHlwZW9mIGxlbmd0aCA9PT0gXCJudW1iZXJcIiAmJiBsZW5ndGggPiAwICYmICggbGVuZ3RoIC0gMSApIGluIG9iajtcbn1cbnZhciBTaXp6bGUgPVxuLyohXG4gKiBTaXp6bGUgQ1NTIFNlbGVjdG9yIEVuZ2luZSB2Mi4zLjZcbiAqIGh0dHBzOi8vc2l6emxlanMuY29tL1xuICpcbiAqIENvcHlyaWdodCBKUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cHM6Ly9qcy5mb3VuZGF0aW9uL1xuICpcbiAqIERhdGU6IDIwMjEtMDItMTZcbiAqL1xuKCBmdW5jdGlvbiggd2luZG93ICkge1xudmFyIGksXG5cdHN1cHBvcnQsXG5cdEV4cHIsXG5cdGdldFRleHQsXG5cdGlzWE1MLFxuXHR0b2tlbml6ZSxcblx0Y29tcGlsZSxcblx0c2VsZWN0LFxuXHRvdXRlcm1vc3RDb250ZXh0LFxuXHRzb3J0SW5wdXQsXG5cdGhhc0R1cGxpY2F0ZSxcblxuXHQvLyBMb2NhbCBkb2N1bWVudCB2YXJzXG5cdHNldERvY3VtZW50LFxuXHRkb2N1bWVudCxcblx0ZG9jRWxlbSxcblx0ZG9jdW1lbnRJc0hUTUwsXG5cdHJidWdneVFTQSxcblx0cmJ1Z2d5TWF0Y2hlcyxcblx0bWF0Y2hlcyxcblx0Y29udGFpbnMsXG5cblx0Ly8gSW5zdGFuY2Utc3BlY2lmaWMgZGF0YVxuXHRleHBhbmRvID0gXCJzaXp6bGVcIiArIDEgKiBuZXcgRGF0ZSgpLFxuXHRwcmVmZXJyZWREb2MgPSB3aW5kb3cuZG9jdW1lbnQsXG5cdGRpcnJ1bnMgPSAwLFxuXHRkb25lID0gMCxcblx0Y2xhc3NDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdHRva2VuQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHRjb21waWxlckNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0bm9ubmF0aXZlU2VsZWN0b3JDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdHNvcnRPcmRlciA9IGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdGlmICggYSA9PT0gYiApIHtcblx0XHRcdGhhc0R1cGxpY2F0ZSA9IHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiAwO1xuXHR9LFxuXG5cdC8vIEluc3RhbmNlIG1ldGhvZHNcblx0aGFzT3duID0gKCB7fSApLmhhc093blByb3BlcnR5LFxuXHRhcnIgPSBbXSxcblx0cG9wID0gYXJyLnBvcCxcblx0cHVzaE5hdGl2ZSA9IGFyci5wdXNoLFxuXHRwdXNoID0gYXJyLnB1c2gsXG5cdHNsaWNlID0gYXJyLnNsaWNlLFxuXG5cdC8vIFVzZSBhIHN0cmlwcGVkLWRvd24gaW5kZXhPZiBhcyBpdCdzIGZhc3RlciB0aGFuIG5hdGl2ZVxuXHQvLyBodHRwczovL2pzcGVyZi5jb20vdGhvci1pbmRleG9mLXZzLWZvci81XG5cdGluZGV4T2YgPSBmdW5jdGlvbiggbGlzdCwgZWxlbSApIHtcblx0XHR2YXIgaSA9IDAsXG5cdFx0XHRsZW4gPSBsaXN0Lmxlbmd0aDtcblx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdGlmICggbGlzdFsgaSBdID09PSBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gaTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIC0xO1xuXHR9LFxuXG5cdGJvb2xlYW5zID0gXCJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58XCIgK1xuXHRcdFwiaXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZFwiLFxuXG5cdC8vIFJlZ3VsYXIgZXhwcmVzc2lvbnNcblxuXHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLXNlbGVjdG9ycy8jd2hpdGVzcGFjZVxuXHR3aGl0ZXNwYWNlID0gXCJbXFxcXHgyMFxcXFx0XFxcXHJcXFxcblxcXFxmXVwiLFxuXG5cdC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3Mtc3ludGF4LTMvI2lkZW50LXRva2VuLWRpYWdyYW1cblx0aWRlbnRpZmllciA9IFwiKD86XFxcXFxcXFxbXFxcXGRhLWZBLUZdezEsNn1cIiArIHdoaXRlc3BhY2UgK1xuXHRcdFwiP3xcXFxcXFxcXFteXFxcXHJcXFxcblxcXFxmXXxbXFxcXHctXXxbXlxcMC1cXFxceDdmXSkrXCIsXG5cblx0Ly8gQXR0cmlidXRlIHNlbGVjdG9yczogaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNhdHRyaWJ1dGUtc2VsZWN0b3JzXG5cdGF0dHJpYnV0ZXMgPSBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKFwiICsgaWRlbnRpZmllciArIFwiKSg/OlwiICsgd2hpdGVzcGFjZSArXG5cblx0XHQvLyBPcGVyYXRvciAoY2FwdHVyZSAyKVxuXHRcdFwiKihbKl4kfCF+XT89KVwiICsgd2hpdGVzcGFjZSArXG5cblx0XHQvLyBcIkF0dHJpYnV0ZSB2YWx1ZXMgbXVzdCBiZSBDU1MgaWRlbnRpZmllcnMgW2NhcHR1cmUgNV1cblx0XHQvLyBvciBzdHJpbmdzIFtjYXB0dXJlIDMgb3IgY2FwdHVyZSA0XVwiXG5cdFx0XCIqKD86JygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwifChcIiArIGlkZW50aWZpZXIgKyBcIikpfClcIiArXG5cdFx0d2hpdGVzcGFjZSArIFwiKlxcXFxdXCIsXG5cblx0cHNldWRvcyA9IFwiOihcIiArIGlkZW50aWZpZXIgKyBcIikoPzpcXFxcKChcIiArXG5cblx0XHQvLyBUbyByZWR1Y2UgdGhlIG51bWJlciBvZiBzZWxlY3RvcnMgbmVlZGluZyB0b2tlbml6ZSBpbiB0aGUgcHJlRmlsdGVyLCBwcmVmZXIgYXJndW1lbnRzOlxuXHRcdC8vIDEuIHF1b3RlZCAoY2FwdHVyZSAzOyBjYXB0dXJlIDQgb3IgY2FwdHVyZSA1KVxuXHRcdFwiKCcoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcIil8XCIgK1xuXG5cdFx0Ly8gMi4gc2ltcGxlIChjYXB0dXJlIDYpXG5cdFx0XCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFwoKVtcXFxcXV18XCIgKyBhdHRyaWJ1dGVzICsgXCIpKil8XCIgK1xuXG5cdFx0Ly8gMy4gYW55dGhpbmcgZWxzZSAoY2FwdHVyZSAyKVxuXHRcdFwiLipcIiArXG5cdFx0XCIpXFxcXCl8KVwiLFxuXG5cdC8vIExlYWRpbmcgYW5kIG5vbi1lc2NhcGVkIHRyYWlsaW5nIHdoaXRlc3BhY2UsIGNhcHR1cmluZyBzb21lIG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlcnMgcHJlY2VkaW5nIHRoZSBsYXR0ZXJcblx0cndoaXRlc3BhY2UgPSBuZXcgUmVnRXhwKCB3aGl0ZXNwYWNlICsgXCIrXCIsIFwiZ1wiICksXG5cdHJ0cmltID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIrfCgoPzpefFteXFxcXFxcXFxdKSg/OlxcXFxcXFxcLikqKVwiICtcblx0XHR3aGl0ZXNwYWNlICsgXCIrJFwiLCBcImdcIiApLFxuXG5cdHJjb21tYSA9IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKixcIiArIHdoaXRlc3BhY2UgKyBcIipcIiApLFxuXHRyY29tYmluYXRvcnMgPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIiooWz4rfl18XCIgKyB3aGl0ZXNwYWNlICsgXCIpXCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcIipcIiApLFxuXHRyZGVzY2VuZCA9IG5ldyBSZWdFeHAoIHdoaXRlc3BhY2UgKyBcInw+XCIgKSxcblxuXHRycHNldWRvID0gbmV3IFJlZ0V4cCggcHNldWRvcyApLFxuXHRyaWRlbnRpZmllciA9IG5ldyBSZWdFeHAoIFwiXlwiICsgaWRlbnRpZmllciArIFwiJFwiICksXG5cblx0bWF0Y2hFeHByID0ge1xuXHRcdFwiSURcIjogbmV3IFJlZ0V4cCggXCJeIyhcIiArIGlkZW50aWZpZXIgKyBcIilcIiApLFxuXHRcdFwiQ0xBU1NcIjogbmV3IFJlZ0V4cCggXCJeXFxcXC4oXCIgKyBpZGVudGlmaWVyICsgXCIpXCIgKSxcblx0XHRcIlRBR1wiOiBuZXcgUmVnRXhwKCBcIl4oXCIgKyBpZGVudGlmaWVyICsgXCJ8WypdKVwiICksXG5cdFx0XCJBVFRSXCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgYXR0cmlidXRlcyApLFxuXHRcdFwiUFNFVURPXCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgcHNldWRvcyApLFxuXHRcdFwiQ0hJTERcIjogbmV3IFJlZ0V4cCggXCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXFxcKFwiICtcblx0XHRcdHdoaXRlc3BhY2UgKyBcIiooZXZlbnxvZGR8KChbKy1dfCkoXFxcXGQqKW58KVwiICsgd2hpdGVzcGFjZSArIFwiKig/OihbKy1dfClcIiArXG5cdFx0XHR3aGl0ZXNwYWNlICsgXCIqKFxcXFxkKyl8KSlcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcKXwpXCIsIFwiaVwiICksXG5cdFx0XCJib29sXCI6IG5ldyBSZWdFeHAoIFwiXig/OlwiICsgYm9vbGVhbnMgKyBcIikkXCIsIFwiaVwiICksXG5cblx0XHQvLyBGb3IgdXNlIGluIGxpYnJhcmllcyBpbXBsZW1lbnRpbmcgLmlzKClcblx0XHQvLyBXZSB1c2UgdGhpcyBmb3IgUE9TIG1hdGNoaW5nIGluIGBzZWxlY3RgXG5cdFx0XCJuZWVkc0NvbnRleHRcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcdFwiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFxcXChcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFx0XCIqKCg/Oi1cXFxcZCk/XFxcXGQqKVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFwpfCkoPz1bXi1dfCQpXCIsIFwiaVwiIClcblx0fSxcblxuXHRyaHRtbCA9IC9IVE1MJC9pLFxuXHRyaW5wdXRzID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxcblx0cmhlYWRlciA9IC9eaFxcZCQvaSxcblxuXHRybmF0aXZlID0gL15bXntdK1xce1xccypcXFtuYXRpdmUgXFx3LyxcblxuXHQvLyBFYXNpbHktcGFyc2VhYmxlL3JldHJpZXZhYmxlIElEIG9yIFRBRyBvciBDTEFTUyBzZWxlY3RvcnNcblx0cnF1aWNrRXhwciA9IC9eKD86IyhbXFx3LV0rKXwoXFx3Kyl8XFwuKFtcXHctXSspKSQvLFxuXG5cdHJzaWJsaW5nID0gL1srfl0vLFxuXG5cdC8vIENTUyBlc2NhcGVzXG5cdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL0NTUzIxL3N5bmRhdGEuaHRtbCNlc2NhcGVkLWNoYXJhY3RlcnNcblx0cnVuZXNjYXBlID0gbmV3IFJlZ0V4cCggXCJcXFxcXFxcXFtcXFxcZGEtZkEtRl17MSw2fVwiICsgd2hpdGVzcGFjZSArIFwiP3xcXFxcXFxcXChbXlxcXFxyXFxcXG5cXFxcZl0pXCIsIFwiZ1wiICksXG5cdGZ1bmVzY2FwZSA9IGZ1bmN0aW9uKCBlc2NhcGUsIG5vbkhleCApIHtcblx0XHR2YXIgaGlnaCA9IFwiMHhcIiArIGVzY2FwZS5zbGljZSggMSApIC0gMHgxMDAwMDtcblxuXHRcdHJldHVybiBub25IZXggP1xuXG5cdFx0XHQvLyBTdHJpcCB0aGUgYmFja3NsYXNoIHByZWZpeCBmcm9tIGEgbm9uLWhleCBlc2NhcGUgc2VxdWVuY2Vcblx0XHRcdG5vbkhleCA6XG5cblx0XHRcdC8vIFJlcGxhY2UgYSBoZXhhZGVjaW1hbCBlc2NhcGUgc2VxdWVuY2Ugd2l0aCB0aGUgZW5jb2RlZCBVbmljb2RlIGNvZGUgcG9pbnRcblx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9MTErXG5cdFx0XHQvLyBGb3IgdmFsdWVzIG91dHNpZGUgdGhlIEJhc2ljIE11bHRpbGluZ3VhbCBQbGFuZSAoQk1QKSwgbWFudWFsbHkgY29uc3RydWN0IGFcblx0XHRcdC8vIHN1cnJvZ2F0ZSBwYWlyXG5cdFx0XHRoaWdoIDwgMCA/XG5cdFx0XHRcdFN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggKyAweDEwMDAwICkgOlxuXHRcdFx0XHRTdHJpbmcuZnJvbUNoYXJDb2RlKCBoaWdoID4+IDEwIHwgMHhEODAwLCBoaWdoICYgMHgzRkYgfCAweERDMDAgKTtcblx0fSxcblxuXHQvLyBDU1Mgc3RyaW5nL2lkZW50aWZpZXIgc2VyaWFsaXphdGlvblxuXHQvLyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3Nzb20vI2NvbW1vbi1zZXJpYWxpemluZy1pZGlvbXNcblx0cmNzc2VzY2FwZSA9IC8oW1xcMC1cXHgxZlxceDdmXXxeLT9cXGQpfF4tJHxbXlxcMC1cXHgxZlxceDdmLVxcdUZGRkZcXHctXS9nLFxuXHRmY3NzZXNjYXBlID0gZnVuY3Rpb24oIGNoLCBhc0NvZGVQb2ludCApIHtcblx0XHRpZiAoIGFzQ29kZVBvaW50ICkge1xuXG5cdFx0XHQvLyBVKzAwMDAgTlVMTCBiZWNvbWVzIFUrRkZGRCBSRVBMQUNFTUVOVCBDSEFSQUNURVJcblx0XHRcdGlmICggY2ggPT09IFwiXFwwXCIgKSB7XG5cdFx0XHRcdHJldHVybiBcIlxcdUZGRkRcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29udHJvbCBjaGFyYWN0ZXJzIGFuZCAoZGVwZW5kZW50IHVwb24gcG9zaXRpb24pIG51bWJlcnMgZ2V0IGVzY2FwZWQgYXMgY29kZSBwb2ludHNcblx0XHRcdHJldHVybiBjaC5zbGljZSggMCwgLTEgKSArIFwiXFxcXFwiICtcblx0XHRcdFx0Y2guY2hhckNvZGVBdCggY2gubGVuZ3RoIC0gMSApLnRvU3RyaW5nKCAxNiApICsgXCIgXCI7XG5cdFx0fVxuXG5cdFx0Ly8gT3RoZXIgcG90ZW50aWFsbHktc3BlY2lhbCBBU0NJSSBjaGFyYWN0ZXJzIGdldCBiYWNrc2xhc2gtZXNjYXBlZFxuXHRcdHJldHVybiBcIlxcXFxcIiArIGNoO1xuXHR9LFxuXG5cdC8vIFVzZWQgZm9yIGlmcmFtZXNcblx0Ly8gU2VlIHNldERvY3VtZW50KClcblx0Ly8gUmVtb3ZpbmcgdGhlIGZ1bmN0aW9uIHdyYXBwZXIgY2F1c2VzIGEgXCJQZXJtaXNzaW9uIERlbmllZFwiXG5cdC8vIGVycm9yIGluIElFXG5cdHVubG9hZEhhbmRsZXIgPSBmdW5jdGlvbigpIHtcblx0XHRzZXREb2N1bWVudCgpO1xuXHR9LFxuXG5cdGluRGlzYWJsZWRGaWVsZHNldCA9IGFkZENvbWJpbmF0b3IoXG5cdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gdHJ1ZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiZmllbGRzZXRcIjtcblx0XHR9LFxuXHRcdHsgZGlyOiBcInBhcmVudE5vZGVcIiwgbmV4dDogXCJsZWdlbmRcIiB9XG5cdCk7XG5cbi8vIE9wdGltaXplIGZvciBwdXNoLmFwcGx5KCBfLCBOb2RlTGlzdCApXG50cnkge1xuXHRwdXNoLmFwcGx5KFxuXHRcdCggYXJyID0gc2xpY2UuY2FsbCggcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMgKSApLFxuXHRcdHByZWZlcnJlZERvYy5jaGlsZE5vZGVzXG5cdCk7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZDw0LjBcblx0Ly8gRGV0ZWN0IHNpbGVudGx5IGZhaWxpbmcgcHVzaC5hcHBseVxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zXG5cdGFyclsgcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMubGVuZ3RoIF0ubm9kZVR5cGU7XG59IGNhdGNoICggZSApIHtcblx0cHVzaCA9IHsgYXBwbHk6IGFyci5sZW5ndGggP1xuXG5cdFx0Ly8gTGV2ZXJhZ2Ugc2xpY2UgaWYgcG9zc2libGVcblx0XHRmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7XG5cdFx0XHRwdXNoTmF0aXZlLmFwcGx5KCB0YXJnZXQsIHNsaWNlLmNhbGwoIGVscyApICk7XG5cdFx0fSA6XG5cblx0XHQvLyBTdXBwb3J0OiBJRTw5XG5cdFx0Ly8gT3RoZXJ3aXNlIGFwcGVuZCBkaXJlY3RseVxuXHRcdGZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHtcblx0XHRcdHZhciBqID0gdGFyZ2V0Lmxlbmd0aCxcblx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdC8vIENhbid0IHRydXN0IE5vZGVMaXN0Lmxlbmd0aFxuXHRcdFx0d2hpbGUgKCAoIHRhcmdldFsgaisrIF0gPSBlbHNbIGkrKyBdICkgKSB7fVxuXHRcdFx0dGFyZ2V0Lmxlbmd0aCA9IGogLSAxO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gU2l6emxlKCBzZWxlY3RvciwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApIHtcblx0dmFyIG0sIGksIGVsZW0sIG5pZCwgbWF0Y2gsIGdyb3VwcywgbmV3U2VsZWN0b3IsXG5cdFx0bmV3Q29udGV4dCA9IGNvbnRleHQgJiYgY29udGV4dC5vd25lckRvY3VtZW50LFxuXG5cdFx0Ly8gbm9kZVR5cGUgZGVmYXVsdHMgdG8gOSwgc2luY2UgY29udGV4dCBkZWZhdWx0cyB0byBkb2N1bWVudFxuXHRcdG5vZGVUeXBlID0gY29udGV4dCA/IGNvbnRleHQubm9kZVR5cGUgOiA5O1xuXG5cdHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuXG5cdC8vIFJldHVybiBlYXJseSBmcm9tIGNhbGxzIHdpdGggaW52YWxpZCBzZWxlY3RvciBvciBjb250ZXh0XG5cdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiIHx8ICFzZWxlY3RvciB8fFxuXHRcdG5vZGVUeXBlICE9PSAxICYmIG5vZGVUeXBlICE9PSA5ICYmIG5vZGVUeXBlICE9PSAxMSApIHtcblxuXHRcdHJldHVybiByZXN1bHRzO1xuXHR9XG5cblx0Ly8gVHJ5IHRvIHNob3J0Y3V0IGZpbmQgb3BlcmF0aW9ucyAoYXMgb3Bwb3NlZCB0byBmaWx0ZXJzKSBpbiBIVE1MIGRvY3VtZW50c1xuXHRpZiAoICFzZWVkICkge1xuXHRcdHNldERvY3VtZW50KCBjb250ZXh0ICk7XG5cdFx0Y29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XG5cblx0XHRpZiAoIGRvY3VtZW50SXNIVE1MICkge1xuXG5cdFx0XHQvLyBJZiB0aGUgc2VsZWN0b3IgaXMgc3VmZmljaWVudGx5IHNpbXBsZSwgdHJ5IHVzaW5nIGEgXCJnZXQqQnkqXCIgRE9NIG1ldGhvZFxuXHRcdFx0Ly8gKGV4Y2VwdGluZyBEb2N1bWVudEZyYWdtZW50IGNvbnRleHQsIHdoZXJlIHRoZSBtZXRob2RzIGRvbid0IGV4aXN0KVxuXHRcdFx0aWYgKCBub2RlVHlwZSAhPT0gMTEgJiYgKCBtYXRjaCA9IHJxdWlja0V4cHIuZXhlYyggc2VsZWN0b3IgKSApICkge1xuXG5cdFx0XHRcdC8vIElEIHNlbGVjdG9yXG5cdFx0XHRcdGlmICggKCBtID0gbWF0Y2hbIDEgXSApICkge1xuXG5cdFx0XHRcdFx0Ly8gRG9jdW1lbnQgY29udGV4dFxuXHRcdFx0XHRcdGlmICggbm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoICggZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIG0gKSApICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFLCBPcGVyYSwgV2Via2l0XG5cdFx0XHRcdFx0XHRcdC8vIFRPRE86IGlkZW50aWZ5IHZlcnNpb25zXG5cdFx0XHRcdFx0XHRcdC8vIGdldEVsZW1lbnRCeUlkIGNhbiBtYXRjaCBlbGVtZW50cyBieSBuYW1lIGluc3RlYWQgb2YgSURcblx0XHRcdFx0XHRcdFx0aWYgKCBlbGVtLmlkID09PSBtICkge1xuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIEVsZW1lbnQgY29udGV4dFxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFLCBPcGVyYSwgV2Via2l0XG5cdFx0XHRcdFx0XHQvLyBUT0RPOiBpZGVudGlmeSB2ZXJzaW9uc1xuXHRcdFx0XHRcdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgY2FuIG1hdGNoIGVsZW1lbnRzIGJ5IG5hbWUgaW5zdGVhZCBvZiBJRFxuXHRcdFx0XHRcdFx0aWYgKCBuZXdDb250ZXh0ICYmICggZWxlbSA9IG5ld0NvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIG0gKSApICYmXG5cdFx0XHRcdFx0XHRcdGNvbnRhaW5zKCBjb250ZXh0LCBlbGVtICkgJiZcblx0XHRcdFx0XHRcdFx0ZWxlbS5pZCA9PT0gbSApIHtcblxuXHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFR5cGUgc2VsZWN0b3Jcblx0XHRcdFx0fSBlbHNlIGlmICggbWF0Y2hbIDIgXSApIHtcblx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCBzZWxlY3RvciApICk7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cblx0XHRcdFx0Ly8gQ2xhc3Mgc2VsZWN0b3Jcblx0XHRcdFx0fSBlbHNlIGlmICggKCBtID0gbWF0Y2hbIDMgXSApICYmIHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAmJlxuXHRcdFx0XHRcdGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApIHtcblxuXHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggbSApICk7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gVGFrZSBhZHZhbnRhZ2Ugb2YgcXVlcnlTZWxlY3RvckFsbFxuXHRcdFx0aWYgKCBzdXBwb3J0LnFzYSAmJlxuXHRcdFx0XHQhbm9ubmF0aXZlU2VsZWN0b3JDYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdICYmXG5cdFx0XHRcdCggIXJidWdneVFTQSB8fCAhcmJ1Z2d5UVNBLnRlc3QoIHNlbGVjdG9yICkgKSAmJlxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDggb25seVxuXHRcdFx0XHQvLyBFeGNsdWRlIG9iamVjdCBlbGVtZW50c1xuXHRcdFx0XHQoIG5vZGVUeXBlICE9PSAxIHx8IGNvbnRleHQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gXCJvYmplY3RcIiApICkge1xuXG5cdFx0XHRcdG5ld1NlbGVjdG9yID0gc2VsZWN0b3I7XG5cdFx0XHRcdG5ld0NvbnRleHQgPSBjb250ZXh0O1xuXG5cdFx0XHRcdC8vIHFTQSBjb25zaWRlcnMgZWxlbWVudHMgb3V0c2lkZSBhIHNjb3Bpbmcgcm9vdCB3aGVuIGV2YWx1YXRpbmcgY2hpbGQgb3Jcblx0XHRcdFx0Ly8gZGVzY2VuZGFudCBjb21iaW5hdG9ycywgd2hpY2ggaXMgbm90IHdoYXQgd2Ugd2FudC5cblx0XHRcdFx0Ly8gSW4gc3VjaCBjYXNlcywgd2Ugd29yayBhcm91bmQgdGhlIGJlaGF2aW9yIGJ5IHByZWZpeGluZyBldmVyeSBzZWxlY3RvciBpbiB0aGVcblx0XHRcdFx0Ly8gbGlzdCB3aXRoIGFuIElEIHNlbGVjdG9yIHJlZmVyZW5jaW5nIHRoZSBzY29wZSBjb250ZXh0LlxuXHRcdFx0XHQvLyBUaGUgdGVjaG5pcXVlIGhhcyB0byBiZSB1c2VkIGFzIHdlbGwgd2hlbiBhIGxlYWRpbmcgY29tYmluYXRvciBpcyB1c2VkXG5cdFx0XHRcdC8vIGFzIHN1Y2ggc2VsZWN0b3JzIGFyZSBub3QgcmVjb2duaXplZCBieSBxdWVyeVNlbGVjdG9yQWxsLlxuXHRcdFx0XHQvLyBUaGFua3MgdG8gQW5kcmV3IER1cG9udCBmb3IgdGhpcyB0ZWNobmlxdWUuXG5cdFx0XHRcdGlmICggbm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0XHQoIHJkZXNjZW5kLnRlc3QoIHNlbGVjdG9yICkgfHwgcmNvbWJpbmF0b3JzLnRlc3QoIHNlbGVjdG9yICkgKSApIHtcblxuXHRcdFx0XHRcdC8vIEV4cGFuZCBjb250ZXh0IGZvciBzaWJsaW5nIHNlbGVjdG9yc1xuXHRcdFx0XHRcdG5ld0NvbnRleHQgPSByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fFxuXHRcdFx0XHRcdFx0Y29udGV4dDtcblxuXHRcdFx0XHRcdC8vIFdlIGNhbiB1c2UgOnNjb3BlIGluc3RlYWQgb2YgdGhlIElEIGhhY2sgaWYgdGhlIGJyb3dzZXJcblx0XHRcdFx0XHQvLyBzdXBwb3J0cyBpdCAmIGlmIHdlJ3JlIG5vdCBjaGFuZ2luZyB0aGUgY29udGV4dC5cblx0XHRcdFx0XHRpZiAoIG5ld0NvbnRleHQgIT09IGNvbnRleHQgfHwgIXN1cHBvcnQuc2NvcGUgKSB7XG5cblx0XHRcdFx0XHRcdC8vIENhcHR1cmUgdGhlIGNvbnRleHQgSUQsIHNldHRpbmcgaXQgZmlyc3QgaWYgbmVjZXNzYXJ5XG5cdFx0XHRcdFx0XHRpZiAoICggbmlkID0gY29udGV4dC5nZXRBdHRyaWJ1dGUoIFwiaWRcIiApICkgKSB7XG5cdFx0XHRcdFx0XHRcdG5pZCA9IG5pZC5yZXBsYWNlKCByY3NzZXNjYXBlLCBmY3NzZXNjYXBlICk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRjb250ZXh0LnNldEF0dHJpYnV0ZSggXCJpZFwiLCAoIG5pZCA9IGV4cGFuZG8gKSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFByZWZpeCBldmVyeSBzZWxlY3RvciBpbiB0aGUgbGlzdFxuXHRcdFx0XHRcdGdyb3VwcyA9IHRva2VuaXplKCBzZWxlY3RvciApO1xuXHRcdFx0XHRcdGkgPSBncm91cHMubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0Z3JvdXBzWyBpIF0gPSAoIG5pZCA/IFwiI1wiICsgbmlkIDogXCI6c2NvcGVcIiApICsgXCIgXCIgK1xuXHRcdFx0XHRcdFx0XHR0b1NlbGVjdG9yKCBncm91cHNbIGkgXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRuZXdTZWxlY3RvciA9IGdyb3Vwcy5qb2luKCBcIixcIiApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLFxuXHRcdFx0XHRcdFx0bmV3Q29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCBuZXdTZWxlY3RvciApXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0fSBjYXRjaCAoIHFzYUVycm9yICkge1xuXHRcdFx0XHRcdG5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGUoIHNlbGVjdG9yLCB0cnVlICk7XG5cdFx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdFx0aWYgKCBuaWQgPT09IGV4cGFuZG8gKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0LnJlbW92ZUF0dHJpYnV0ZSggXCJpZFwiICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQWxsIG90aGVyc1xuXHRyZXR1cm4gc2VsZWN0KCBzZWxlY3Rvci5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICksIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUga2V5LXZhbHVlIGNhY2hlcyBvZiBsaW1pdGVkIHNpemVcbiAqIEByZXR1cm5zIHtmdW5jdGlvbihzdHJpbmcsIG9iamVjdCl9IFJldHVybnMgdGhlIE9iamVjdCBkYXRhIGFmdGVyIHN0b3JpbmcgaXQgb24gaXRzZWxmIHdpdGhcbiAqXHRwcm9wZXJ0eSBuYW1lIHRoZSAoc3BhY2Utc3VmZml4ZWQpIHN0cmluZyBhbmQgKGlmIHRoZSBjYWNoZSBpcyBsYXJnZXIgdGhhbiBFeHByLmNhY2hlTGVuZ3RoKVxuICpcdGRlbGV0aW5nIHRoZSBvbGRlc3QgZW50cnlcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ2FjaGUoKSB7XG5cdHZhciBrZXlzID0gW107XG5cblx0ZnVuY3Rpb24gY2FjaGUoIGtleSwgdmFsdWUgKSB7XG5cblx0XHQvLyBVc2UgKGtleSArIFwiIFwiKSB0byBhdm9pZCBjb2xsaXNpb24gd2l0aCBuYXRpdmUgcHJvdG90eXBlIHByb3BlcnRpZXMgKHNlZSBJc3N1ZSAjMTU3KVxuXHRcdGlmICgga2V5cy5wdXNoKCBrZXkgKyBcIiBcIiApID4gRXhwci5jYWNoZUxlbmd0aCApIHtcblxuXHRcdFx0Ly8gT25seSBrZWVwIHRoZSBtb3N0IHJlY2VudCBlbnRyaWVzXG5cdFx0XHRkZWxldGUgY2FjaGVbIGtleXMuc2hpZnQoKSBdO1xuXHRcdH1cblx0XHRyZXR1cm4gKCBjYWNoZVsga2V5ICsgXCIgXCIgXSA9IHZhbHVlICk7XG5cdH1cblx0cmV0dXJuIGNhY2hlO1xufVxuXG4vKipcbiAqIE1hcmsgYSBmdW5jdGlvbiBmb3Igc3BlY2lhbCB1c2UgYnkgU2l6emxlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gbWFya1xuICovXG5mdW5jdGlvbiBtYXJrRnVuY3Rpb24oIGZuICkge1xuXHRmblsgZXhwYW5kbyBdID0gdHJ1ZTtcblx0cmV0dXJuIGZuO1xufVxuXG4vKipcbiAqIFN1cHBvcnQgdGVzdGluZyB1c2luZyBhbiBlbGVtZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBQYXNzZWQgdGhlIGNyZWF0ZWQgZWxlbWVudCBhbmQgcmV0dXJucyBhIGJvb2xlYW4gcmVzdWx0XG4gKi9cbmZ1bmN0aW9uIGFzc2VydCggZm4gKSB7XG5cdHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZmllbGRzZXRcIiApO1xuXG5cdHRyeSB7XG5cdFx0cmV0dXJuICEhZm4oIGVsICk7XG5cdH0gY2F0Y2ggKCBlICkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fSBmaW5hbGx5IHtcblxuXHRcdC8vIFJlbW92ZSBmcm9tIGl0cyBwYXJlbnQgYnkgZGVmYXVsdFxuXHRcdGlmICggZWwucGFyZW50Tm9kZSApIHtcblx0XHRcdGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIGVsICk7XG5cdFx0fVxuXG5cdFx0Ly8gcmVsZWFzZSBtZW1vcnkgaW4gSUVcblx0XHRlbCA9IG51bGw7XG5cdH1cbn1cblxuLyoqXG4gKiBBZGRzIHRoZSBzYW1lIGhhbmRsZXIgZm9yIGFsbCBvZiB0aGUgc3BlY2lmaWVkIGF0dHJzXG4gKiBAcGFyYW0ge1N0cmluZ30gYXR0cnMgUGlwZS1zZXBhcmF0ZWQgbGlzdCBvZiBhdHRyaWJ1dGVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIFRoZSBtZXRob2QgdGhhdCB3aWxsIGJlIGFwcGxpZWRcbiAqL1xuZnVuY3Rpb24gYWRkSGFuZGxlKCBhdHRycywgaGFuZGxlciApIHtcblx0dmFyIGFyciA9IGF0dHJzLnNwbGl0KCBcInxcIiApLFxuXHRcdGkgPSBhcnIubGVuZ3RoO1xuXG5cdHdoaWxlICggaS0tICkge1xuXHRcdEV4cHIuYXR0ckhhbmRsZVsgYXJyWyBpIF0gXSA9IGhhbmRsZXI7XG5cdH1cbn1cblxuLyoqXG4gKiBDaGVja3MgZG9jdW1lbnQgb3JkZXIgb2YgdHdvIHNpYmxpbmdzXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGFcbiAqIEBwYXJhbSB7RWxlbWVudH0gYlxuICogQHJldHVybnMge051bWJlcn0gUmV0dXJucyBsZXNzIHRoYW4gMCBpZiBhIHByZWNlZGVzIGIsIGdyZWF0ZXIgdGhhbiAwIGlmIGEgZm9sbG93cyBiXG4gKi9cbmZ1bmN0aW9uIHNpYmxpbmdDaGVjayggYSwgYiApIHtcblx0dmFyIGN1ciA9IGIgJiYgYSxcblx0XHRkaWZmID0gY3VyICYmIGEubm9kZVR5cGUgPT09IDEgJiYgYi5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0YS5zb3VyY2VJbmRleCAtIGIuc291cmNlSW5kZXg7XG5cblx0Ly8gVXNlIElFIHNvdXJjZUluZGV4IGlmIGF2YWlsYWJsZSBvbiBib3RoIG5vZGVzXG5cdGlmICggZGlmZiApIHtcblx0XHRyZXR1cm4gZGlmZjtcblx0fVxuXG5cdC8vIENoZWNrIGlmIGIgZm9sbG93cyBhXG5cdGlmICggY3VyICkge1xuXHRcdHdoaWxlICggKCBjdXIgPSBjdXIubmV4dFNpYmxpbmcgKSApIHtcblx0XHRcdGlmICggY3VyID09PSBiICkge1xuXHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGEgPyAxIDogLTE7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBpbnB1dCB0eXBlc1xuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5wdXRQc2V1ZG8oIHR5cGUgKSB7XG5cdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHR2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRyZXR1cm4gbmFtZSA9PT0gXCJpbnB1dFwiICYmIGVsZW0udHlwZSA9PT0gdHlwZTtcblx0fTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGJ1dHRvbnNcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJ1dHRvblBzZXVkbyggdHlwZSApIHtcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdHJldHVybiAoIG5hbWUgPT09IFwiaW5wdXRcIiB8fCBuYW1lID09PSBcImJ1dHRvblwiICkgJiYgZWxlbS50eXBlID09PSB0eXBlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgOmVuYWJsZWQvOmRpc2FibGVkXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGRpc2FibGVkIHRydWUgZm9yIDpkaXNhYmxlZDsgZmFsc2UgZm9yIDplbmFibGVkXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURpc2FibGVkUHNldWRvKCBkaXNhYmxlZCApIHtcblxuXHQvLyBLbm93biA6ZGlzYWJsZWQgZmFsc2UgcG9zaXRpdmVzOiBmaWVsZHNldFtkaXNhYmxlZF0gPiBsZWdlbmQ6bnRoLW9mLXR5cGUobisyKSA6Y2FuLWRpc2FibGVcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0Ly8gT25seSBjZXJ0YWluIGVsZW1lbnRzIGNhbiBtYXRjaCA6ZW5hYmxlZCBvciA6ZGlzYWJsZWRcblx0XHQvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zY3JpcHRpbmcuaHRtbCNzZWxlY3Rvci1lbmFibGVkXG5cdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc2NyaXB0aW5nLmh0bWwjc2VsZWN0b3ItZGlzYWJsZWRcblx0XHRpZiAoIFwiZm9ybVwiIGluIGVsZW0gKSB7XG5cblx0XHRcdC8vIENoZWNrIGZvciBpbmhlcml0ZWQgZGlzYWJsZWRuZXNzIG9uIHJlbGV2YW50IG5vbi1kaXNhYmxlZCBlbGVtZW50czpcblx0XHRcdC8vICogbGlzdGVkIGZvcm0tYXNzb2NpYXRlZCBlbGVtZW50cyBpbiBhIGRpc2FibGVkIGZpZWxkc2V0XG5cdFx0XHQvLyAgIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjY2F0ZWdvcnktbGlzdGVkXG5cdFx0XHQvLyAgIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjY29uY2VwdC1mZS1kaXNhYmxlZFxuXHRcdFx0Ly8gKiBvcHRpb24gZWxlbWVudHMgaW4gYSBkaXNhYmxlZCBvcHRncm91cFxuXHRcdFx0Ly8gICBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3Jtcy5odG1sI2NvbmNlcHQtb3B0aW9uLWRpc2FibGVkXG5cdFx0XHQvLyBBbGwgc3VjaCBlbGVtZW50cyBoYXZlIGEgXCJmb3JtXCIgcHJvcGVydHkuXG5cdFx0XHRpZiAoIGVsZW0ucGFyZW50Tm9kZSAmJiBlbGVtLmRpc2FibGVkID09PSBmYWxzZSApIHtcblxuXHRcdFx0XHQvLyBPcHRpb24gZWxlbWVudHMgZGVmZXIgdG8gYSBwYXJlbnQgb3B0Z3JvdXAgaWYgcHJlc2VudFxuXHRcdFx0XHRpZiAoIFwibGFiZWxcIiBpbiBlbGVtICkge1xuXHRcdFx0XHRcdGlmICggXCJsYWJlbFwiIGluIGVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtLnBhcmVudE5vZGUuZGlzYWJsZWQgPT09IGRpc2FibGVkO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgNiAtIDExXG5cdFx0XHRcdC8vIFVzZSB0aGUgaXNEaXNhYmxlZCBzaG9ydGN1dCBwcm9wZXJ0eSB0byBjaGVjayBmb3IgZGlzYWJsZWQgZmllbGRzZXQgYW5jZXN0b3JzXG5cdFx0XHRcdHJldHVybiBlbGVtLmlzRGlzYWJsZWQgPT09IGRpc2FibGVkIHx8XG5cblx0XHRcdFx0XHQvLyBXaGVyZSB0aGVyZSBpcyBubyBpc0Rpc2FibGVkLCBjaGVjayBtYW51YWxseVxuXHRcdFx0XHRcdC8qIGpzaGludCAtVzAxOCAqL1xuXHRcdFx0XHRcdGVsZW0uaXNEaXNhYmxlZCAhPT0gIWRpc2FibGVkICYmXG5cdFx0XHRcdFx0aW5EaXNhYmxlZEZpZWxkc2V0KCBlbGVtICkgPT09IGRpc2FibGVkO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7XG5cblx0XHQvLyBUcnkgdG8gd2lubm93IG91dCBlbGVtZW50cyB0aGF0IGNhbid0IGJlIGRpc2FibGVkIGJlZm9yZSB0cnVzdGluZyB0aGUgZGlzYWJsZWQgcHJvcGVydHkuXG5cdFx0Ly8gU29tZSB2aWN0aW1zIGdldCBjYXVnaHQgaW4gb3VyIG5ldCAobGFiZWwsIGxlZ2VuZCwgbWVudSwgdHJhY2spLCBidXQgaXQgc2hvdWxkbid0XG5cdFx0Ly8gZXZlbiBleGlzdCBvbiB0aGVtLCBsZXQgYWxvbmUgaGF2ZSBhIGJvb2xlYW4gdmFsdWUuXG5cdFx0fSBlbHNlIGlmICggXCJsYWJlbFwiIGluIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gUmVtYWluaW5nIGVsZW1lbnRzIGFyZSBuZWl0aGVyIDplbmFibGVkIG5vciA6ZGlzYWJsZWRcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBwb3NpdGlvbmFsc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZm4gKSB7XG5cdHJldHVybiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBhcmd1bWVudCApIHtcblx0XHRhcmd1bWVudCA9ICthcmd1bWVudDtcblx0XHRyZXR1cm4gbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcyApIHtcblx0XHRcdHZhciBqLFxuXHRcdFx0XHRtYXRjaEluZGV4ZXMgPSBmbiggW10sIHNlZWQubGVuZ3RoLCBhcmd1bWVudCApLFxuXHRcdFx0XHRpID0gbWF0Y2hJbmRleGVzLmxlbmd0aDtcblxuXHRcdFx0Ly8gTWF0Y2ggZWxlbWVudHMgZm91bmQgYXQgdGhlIHNwZWNpZmllZCBpbmRleGVzXG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0aWYgKCBzZWVkWyAoIGogPSBtYXRjaEluZGV4ZXNbIGkgXSApIF0gKSB7XG5cdFx0XHRcdFx0c2VlZFsgaiBdID0gISggbWF0Y2hlc1sgaiBdID0gc2VlZFsgaiBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9ICk7XG5cdH0gKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgYSBub2RlIGZvciB2YWxpZGl0eSBhcyBhIFNpenpsZSBjb250ZXh0XG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0PX0gY29udGV4dFxuICogQHJldHVybnMge0VsZW1lbnR8T2JqZWN0fEJvb2xlYW59IFRoZSBpbnB1dCBub2RlIGlmIGFjY2VwdGFibGUsIG90aGVyd2lzZSBhIGZhbHN5IHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHRlc3RDb250ZXh0KCBjb250ZXh0ICkge1xuXHRyZXR1cm4gY29udGV4dCAmJiB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjb250ZXh0O1xufVxuXG4vLyBFeHBvc2Ugc3VwcG9ydCB2YXJzIGZvciBjb252ZW5pZW5jZVxuc3VwcG9ydCA9IFNpenpsZS5zdXBwb3J0ID0ge307XG5cbi8qKlxuICogRGV0ZWN0cyBYTUwgbm9kZXNcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IGVsZW0gQW4gZWxlbWVudCBvciBhIGRvY3VtZW50XG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZmYgZWxlbSBpcyBhIG5vbi1IVE1MIFhNTCBub2RlXG4gKi9cbmlzWE1MID0gU2l6emxlLmlzWE1MID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdHZhciBuYW1lc3BhY2UgPSBlbGVtICYmIGVsZW0ubmFtZXNwYWNlVVJJLFxuXHRcdGRvY0VsZW0gPSBlbGVtICYmICggZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0gKS5kb2N1bWVudEVsZW1lbnQ7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD04XG5cdC8vIEFzc3VtZSBIVE1MIHdoZW4gZG9jdW1lbnRFbGVtZW50IGRvZXNuJ3QgeWV0IGV4aXN0LCBzdWNoIGFzIGluc2lkZSBsb2FkaW5nIGlmcmFtZXNcblx0Ly8gaHR0cHM6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzQ4MzNcblx0cmV0dXJuICFyaHRtbC50ZXN0KCBuYW1lc3BhY2UgfHwgZG9jRWxlbSAmJiBkb2NFbGVtLm5vZGVOYW1lIHx8IFwiSFRNTFwiICk7XG59O1xuXG4vKipcbiAqIFNldHMgZG9jdW1lbnQtcmVsYXRlZCB2YXJpYWJsZXMgb25jZSBiYXNlZCBvbiB0aGUgY3VycmVudCBkb2N1bWVudFxuICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gW2RvY10gQW4gZWxlbWVudCBvciBkb2N1bWVudCBvYmplY3QgdG8gdXNlIHRvIHNldCB0aGUgZG9jdW1lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGN1cnJlbnQgZG9jdW1lbnRcbiAqL1xuc2V0RG9jdW1lbnQgPSBTaXp6bGUuc2V0RG9jdW1lbnQgPSBmdW5jdGlvbiggbm9kZSApIHtcblx0dmFyIGhhc0NvbXBhcmUsIHN1YldpbmRvdyxcblx0XHRkb2MgPSBub2RlID8gbm9kZS5vd25lckRvY3VtZW50IHx8IG5vZGUgOiBwcmVmZXJyZWREb2M7XG5cblx0Ly8gUmV0dXJuIGVhcmx5IGlmIGRvYyBpcyBpbnZhbGlkIG9yIGFscmVhZHkgc2VsZWN0ZWRcblx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0aWYgKCBkb2MgPT0gZG9jdW1lbnQgfHwgZG9jLm5vZGVUeXBlICE9PSA5IHx8ICFkb2MuZG9jdW1lbnRFbGVtZW50ICkge1xuXHRcdHJldHVybiBkb2N1bWVudDtcblx0fVxuXG5cdC8vIFVwZGF0ZSBnbG9iYWwgdmFyaWFibGVzXG5cdGRvY3VtZW50ID0gZG9jO1xuXHRkb2NFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXHRkb2N1bWVudElzSFRNTCA9ICFpc1hNTCggZG9jdW1lbnQgKTtcblxuXHQvLyBTdXBwb3J0OiBJRSA5IC0gMTErLCBFZGdlIDEyIC0gMTgrXG5cdC8vIEFjY2Vzc2luZyBpZnJhbWUgZG9jdW1lbnRzIGFmdGVyIHVubG9hZCB0aHJvd3MgXCJwZXJtaXNzaW9uIGRlbmllZFwiIGVycm9ycyAoalF1ZXJ5ICMxMzkzNilcblx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0aWYgKCBwcmVmZXJyZWREb2MgIT0gZG9jdW1lbnQgJiZcblx0XHQoIHN1YldpbmRvdyA9IGRvY3VtZW50LmRlZmF1bHRWaWV3ICkgJiYgc3ViV2luZG93LnRvcCAhPT0gc3ViV2luZG93ICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgMTEsIEVkZ2Vcblx0XHRpZiAoIHN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyICkge1xuXHRcdFx0c3ViV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIFwidW5sb2FkXCIsIHVubG9hZEhhbmRsZXIsIGZhbHNlICk7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA5IC0gMTAgb25seVxuXHRcdH0gZWxzZSBpZiAoIHN1YldpbmRvdy5hdHRhY2hFdmVudCApIHtcblx0XHRcdHN1YldpbmRvdy5hdHRhY2hFdmVudCggXCJvbnVubG9hZFwiLCB1bmxvYWRIYW5kbGVyICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gU3VwcG9ydDogSUUgOCAtIDExKywgRWRnZSAxMiAtIDE4KywgQ2hyb21lIDw9MTYgLSAyNSBvbmx5LCBGaXJlZm94IDw9My42IC0gMzEgb25seSxcblx0Ly8gU2FmYXJpIDQgLSA1IG9ubHksIE9wZXJhIDw9MTEuNiAtIDEyLnggb25seVxuXHQvLyBJRS9FZGdlICYgb2xkZXIgYnJvd3NlcnMgZG9uJ3Qgc3VwcG9ydCB0aGUgOnNjb3BlIHBzZXVkby1jbGFzcy5cblx0Ly8gU3VwcG9ydDogU2FmYXJpIDYuMCBvbmx5XG5cdC8vIFNhZmFyaSA2LjAgc3VwcG9ydHMgOnNjb3BlIGJ1dCBpdCdzIGFuIGFsaWFzIG9mIDpyb290IHRoZXJlLlxuXHRzdXBwb3J0LnNjb3BlID0gYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICk7XG5cdFx0cmV0dXJuIHR5cGVvZiBlbC5xdWVyeVNlbGVjdG9yQWxsICE9PSBcInVuZGVmaW5lZFwiICYmXG5cdFx0XHQhZWwucXVlcnlTZWxlY3RvckFsbCggXCI6c2NvcGUgZmllbGRzZXQgZGl2XCIgKS5sZW5ndGg7XG5cdH0gKTtcblxuXHQvKiBBdHRyaWJ1dGVzXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBTdXBwb3J0OiBJRTw4XG5cdC8vIFZlcmlmeSB0aGF0IGdldEF0dHJpYnV0ZSByZWFsbHkgcmV0dXJucyBhdHRyaWJ1dGVzIGFuZCBub3QgcHJvcGVydGllc1xuXHQvLyAoZXhjZXB0aW5nIElFOCBib29sZWFucylcblx0c3VwcG9ydC5hdHRyaWJ1dGVzID0gYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZWwuY2xhc3NOYW1lID0gXCJpXCI7XG5cdFx0cmV0dXJuICFlbC5nZXRBdHRyaWJ1dGUoIFwiY2xhc3NOYW1lXCIgKTtcblx0fSApO1xuXG5cdC8qIGdldEVsZW1lbnQocylCeSpcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIENoZWNrIGlmIGdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKSByZXR1cm5zIG9ubHkgZWxlbWVudHNcblx0c3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZSA9IGFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXHRcdGVsLmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVDb21tZW50KCBcIlwiICkgKTtcblx0XHRyZXR1cm4gIWVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcIipcIiApLmxlbmd0aDtcblx0fSApO1xuXG5cdC8vIFN1cHBvcnQ6IElFPDlcblx0c3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gcm5hdGl2ZS50ZXN0KCBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICk7XG5cblx0Ly8gU3VwcG9ydDogSUU8MTBcblx0Ly8gQ2hlY2sgaWYgZ2V0RWxlbWVudEJ5SWQgcmV0dXJucyBlbGVtZW50cyBieSBuYW1lXG5cdC8vIFRoZSBicm9rZW4gZ2V0RWxlbWVudEJ5SWQgbWV0aG9kcyBkb24ndCBwaWNrIHVwIHByb2dyYW1tYXRpY2FsbHktc2V0IG5hbWVzLFxuXHQvLyBzbyB1c2UgYSByb3VuZGFib3V0IGdldEVsZW1lbnRzQnlOYW1lIHRlc3Rcblx0c3VwcG9ydC5nZXRCeUlkID0gYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5pZCA9IGV4cGFuZG87XG5cdFx0cmV0dXJuICFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSB8fCAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIGV4cGFuZG8gKS5sZW5ndGg7XG5cdH0gKTtcblxuXHQvLyBJRCBmaWx0ZXIgYW5kIGZpbmRcblx0aWYgKCBzdXBwb3J0LmdldEJ5SWQgKSB7XG5cdFx0RXhwci5maWx0ZXJbIFwiSURcIiBdID0gZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggXCJpZFwiICkgPT09IGF0dHJJZDtcblx0XHRcdH07XG5cdFx0fTtcblx0XHRFeHByLmZpbmRbIFwiSURcIiBdID0gZnVuY3Rpb24oIGlkLCBjb250ZXh0ICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCApIHtcblx0XHRcdFx0dmFyIGVsZW0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKCBpZCApO1xuXHRcdFx0XHRyZXR1cm4gZWxlbSA/IFsgZWxlbSBdIDogW107XG5cdFx0XHR9XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRFeHByLmZpbHRlclsgXCJJRFwiIF0gPSAgZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBub2RlID0gdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlTm9kZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuXHRcdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggXCJpZFwiICk7XG5cdFx0XHRcdHJldHVybiBub2RlICYmIG5vZGUudmFsdWUgPT09IGF0dHJJZDtcblx0XHRcdH07XG5cdFx0fTtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDYgLSA3IG9ubHlcblx0XHQvLyBnZXRFbGVtZW50QnlJZCBpcyBub3QgcmVsaWFibGUgYXMgYSBmaW5kIHNob3J0Y3V0XG5cdFx0RXhwci5maW5kWyBcIklEXCIgXSA9IGZ1bmN0aW9uKCBpZCwgY29udGV4dCApIHtcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XG5cdFx0XHRcdHZhciBub2RlLCBpLCBlbGVtcyxcblx0XHRcdFx0XHRlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggaWQgKTtcblxuXHRcdFx0XHRpZiAoIGVsZW0gKSB7XG5cblx0XHRcdFx0XHQvLyBWZXJpZnkgdGhlIGlkIGF0dHJpYnV0ZVxuXHRcdFx0XHRcdG5vZGUgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIFwiaWRcIiApO1xuXHRcdFx0XHRcdGlmICggbm9kZSAmJiBub2RlLnZhbHVlID09PSBpZCApIHtcblx0XHRcdFx0XHRcdHJldHVybiBbIGVsZW0gXTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBGYWxsIGJhY2sgb24gZ2V0RWxlbWVudHNCeU5hbWVcblx0XHRcdFx0XHRlbGVtcyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeU5hbWUoIGlkICk7XG5cdFx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGVsZW0gPSBlbGVtc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0XHRcdG5vZGUgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIFwiaWRcIiApO1xuXHRcdFx0XHRcdFx0aWYgKCBub2RlICYmIG5vZGUudmFsdWUgPT09IGlkICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gWyBlbGVtIF07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIFtdO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHQvLyBUYWdcblx0RXhwci5maW5kWyBcIlRBR1wiIF0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lID9cblx0XHRmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyApO1xuXG5cdFx0XHQvLyBEb2N1bWVudEZyYWdtZW50IG5vZGVzIGRvbid0IGhhdmUgZ0VCVE5cblx0XHRcdH0gZWxzZSBpZiAoIHN1cHBvcnQucXNhICkge1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCB0YWcgKTtcblx0XHRcdH1cblx0XHR9IDpcblxuXHRcdGZ1bmN0aW9uKCB0YWcsIGNvbnRleHQgKSB7XG5cdFx0XHR2YXIgZWxlbSxcblx0XHRcdFx0dG1wID0gW10sXG5cdFx0XHRcdGkgPSAwLFxuXG5cdFx0XHRcdC8vIEJ5IGhhcHB5IGNvaW5jaWRlbmNlLCBhIChicm9rZW4pIGdFQlROIGFwcGVhcnMgb24gRG9jdW1lbnRGcmFnbWVudCBub2RlcyB0b29cblx0XHRcdFx0cmVzdWx0cyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyApO1xuXG5cdFx0XHQvLyBGaWx0ZXIgb3V0IHBvc3NpYmxlIGNvbW1lbnRzXG5cdFx0XHRpZiAoIHRhZyA9PT0gXCIqXCIgKSB7XG5cdFx0XHRcdHdoaWxlICggKCBlbGVtID0gcmVzdWx0c1sgaSsrIF0gKSApIHtcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHR0bXAucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0bXA7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHR9O1xuXG5cdC8vIENsYXNzXG5cdEV4cHIuZmluZFsgXCJDTEFTU1wiIF0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgJiYgZnVuY3Rpb24oIGNsYXNzTmFtZSwgY29udGV4dCApIHtcblx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XG5cdFx0XHRyZXR1cm4gY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBjbGFzc05hbWUgKTtcblx0XHR9XG5cdH07XG5cblx0LyogUVNBL21hdGNoZXNTZWxlY3RvclxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cblx0Ly8gUVNBIGFuZCBtYXRjaGVzU2VsZWN0b3Igc3VwcG9ydFxuXG5cdC8vIG1hdGNoZXNTZWxlY3Rvcig6YWN0aXZlKSByZXBvcnRzIGZhbHNlIHdoZW4gdHJ1ZSAoSUU5L09wZXJhIDExLjUpXG5cdHJidWdneU1hdGNoZXMgPSBbXTtcblxuXHQvLyBxU2EoOmZvY3VzKSByZXBvcnRzIGZhbHNlIHdoZW4gdHJ1ZSAoQ2hyb21lIDIxKVxuXHQvLyBXZSBhbGxvdyB0aGlzIGJlY2F1c2Ugb2YgYSBidWcgaW4gSUU4LzkgdGhhdCB0aHJvd3MgYW4gZXJyb3Jcblx0Ly8gd2hlbmV2ZXIgYGRvY3VtZW50LmFjdGl2ZUVsZW1lbnRgIGlzIGFjY2Vzc2VkIG9uIGFuIGlmcmFtZVxuXHQvLyBTbywgd2UgYWxsb3cgOmZvY3VzIHRvIHBhc3MgdGhyb3VnaCBRU0EgYWxsIHRoZSB0aW1lIHRvIGF2b2lkIHRoZSBJRSBlcnJvclxuXHQvLyBTZWUgaHR0cHM6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEzMzc4XG5cdHJidWdneVFTQSA9IFtdO1xuXG5cdGlmICggKCBzdXBwb3J0LnFzYSA9IHJuYXRpdmUudGVzdCggZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCApICkgKSB7XG5cblx0XHQvLyBCdWlsZCBRU0EgcmVnZXhcblx0XHQvLyBSZWdleCBzdHJhdGVneSBhZG9wdGVkIGZyb20gRGllZ28gUGVyaW5pXG5cdFx0YXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cblx0XHRcdHZhciBpbnB1dDtcblxuXHRcdFx0Ly8gU2VsZWN0IGlzIHNldCB0byBlbXB0eSBzdHJpbmcgb24gcHVycG9zZVxuXHRcdFx0Ly8gVGhpcyBpcyB0byB0ZXN0IElFJ3MgdHJlYXRtZW50IG9mIG5vdCBleHBsaWNpdGx5XG5cdFx0XHQvLyBzZXR0aW5nIGEgYm9vbGVhbiBjb250ZW50IGF0dHJpYnV0ZSxcblx0XHRcdC8vIHNpbmNlIGl0cyBwcmVzZW5jZSBzaG91bGQgYmUgZW5vdWdoXG5cdFx0XHQvLyBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTIzNTlcblx0XHRcdGRvY0VsZW0uYXBwZW5kQ2hpbGQoIGVsICkuaW5uZXJIVE1MID0gXCI8YSBpZD0nXCIgKyBleHBhbmRvICsgXCInPjwvYT5cIiArXG5cdFx0XHRcdFwiPHNlbGVjdCBpZD0nXCIgKyBleHBhbmRvICsgXCItXFxyXFxcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+XCIgK1xuXHRcdFx0XHRcIjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+XCI7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOCwgT3BlcmEgMTEtMTIuMTZcblx0XHRcdC8vIE5vdGhpbmcgc2hvdWxkIGJlIHNlbGVjdGVkIHdoZW4gZW1wdHkgc3RyaW5ncyBmb2xsb3cgXj0gb3IgJD0gb3IgKj1cblx0XHRcdC8vIFRoZSB0ZXN0IGF0dHJpYnV0ZSBtdXN0IGJlIHVua25vd24gaW4gT3BlcmEgYnV0IFwic2FmZVwiIGZvciBXaW5SVFxuXHRcdFx0Ly8gaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9oaDQ2NTM4OC5hc3B4I2F0dHJpYnV0ZV9zZWN0aW9uXG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiW21zYWxsb3djYXB0dXJlXj0nJ11cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiWypeJF09XCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86Jyd8XFxcIlxcXCIpXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU4XG5cdFx0XHQvLyBCb29sZWFuIGF0dHJpYnV0ZXMgYW5kIFwidmFsdWVcIiBhcmUgbm90IHRyZWF0ZWQgY29ycmVjdGx5XG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIltzZWxlY3RlZF1cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIiooPzp2YWx1ZXxcIiArIGJvb2xlYW5zICsgXCIpXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lPDI5LCBBbmRyb2lkPDQuNCwgU2FmYXJpPDcuMCssIGlPUzw3LjArLCBQaGFudG9tSlM8MS45LjgrXG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIltpZH49XCIgKyBleHBhbmRvICsgXCItXVwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJ+PVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNSAtIDE4K1xuXHRcdFx0Ly8gSUUgMTEvRWRnZSBkb24ndCBmaW5kIGVsZW1lbnRzIG9uIGEgYFtuYW1lPScnXWAgcXVlcnkgaW4gc29tZSBjYXNlcy5cblx0XHRcdC8vIEFkZGluZyBhIHRlbXBvcmFyeSBhdHRyaWJ1dGUgdG8gdGhlIGRvY3VtZW50IGJlZm9yZSB0aGUgc2VsZWN0aW9uIHdvcmtzXG5cdFx0XHQvLyBhcm91bmQgdGhlIGlzc3VlLlxuXHRcdFx0Ly8gSW50ZXJlc3RpbmdseSwgSUUgMTAgJiBvbGRlciBkb24ndCBzZWVtIHRvIGhhdmUgdGhlIGlzc3VlLlxuXHRcdFx0aW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKTtcblx0XHRcdGlucHV0LnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwiXCIgKTtcblx0XHRcdGVsLmFwcGVuZENoaWxkKCBpbnB1dCApO1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggXCJbbmFtZT0nJ11cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIipuYW1lXCIgKyB3aGl0ZXNwYWNlICsgXCIqPVwiICtcblx0XHRcdFx0XHR3aGl0ZXNwYWNlICsgXCIqKD86Jyd8XFxcIlxcXCIpXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV2Via2l0L09wZXJhIC0gOmNoZWNrZWQgc2hvdWxkIHJldHVybiBzZWxlY3RlZCBvcHRpb24gZWxlbWVudHNcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggXCI6Y2hlY2tlZFwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6Y2hlY2tlZFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA4KywgaU9TIDgrXG5cdFx0XHQvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM2ODUxXG5cdFx0XHQvLyBJbi1wYWdlIGBzZWxlY3RvciNpZCBzaWJsaW5nLWNvbWJpbmF0b3Igc2VsZWN0b3JgIGZhaWxzXG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCBcImEjXCIgKyBleHBhbmRvICsgXCIrKlwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCIuIy4rWyt+XVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD0zLjYgLSA1IG9ubHlcblx0XHRcdC8vIE9sZCBGaXJlZm94IGRvZXNuJ3QgdGhyb3cgb24gYSBiYWRseS1lc2NhcGVkIGlkZW50aWZpZXIuXG5cdFx0XHRlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIlxcXFxcXGZcIiApO1xuXHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiW1xcXFxyXFxcXG5cXFxcZl1cIiApO1xuXHRcdH0gKTtcblxuXHRcdGFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXHRcdFx0ZWwuaW5uZXJIVE1MID0gXCI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPlwiICtcblx0XHRcdFx0XCI8c2VsZWN0IGRpc2FibGVkPSdkaXNhYmxlZCc+PG9wdGlvbi8+PC9zZWxlY3Q+XCI7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IFdpbmRvd3MgOCBOYXRpdmUgQXBwc1xuXHRcdFx0Ly8gVGhlIHR5cGUgYW5kIG5hbWUgYXR0cmlidXRlcyBhcmUgcmVzdHJpY3RlZCBkdXJpbmcgLmlubmVySFRNTCBhc3NpZ25tZW50XG5cdFx0XHR2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKTtcblx0XHRcdGlucHV0LnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIFwiaGlkZGVuXCIgKTtcblx0XHRcdGVsLmFwcGVuZENoaWxkKCBpbnB1dCApLnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwiRFwiICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOFxuXHRcdFx0Ly8gRW5mb3JjZSBjYXNlLXNlbnNpdGl2aXR5IG9mIG5hbWUgYXR0cmlidXRlXG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiW25hbWU9ZF1cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwibmFtZVwiICsgd2hpdGVzcGFjZSArIFwiKlsqXiR8IX5dPz1cIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBGRiAzLjUgLSA6ZW5hYmxlZC86ZGlzYWJsZWQgYW5kIGhpZGRlbiBlbGVtZW50cyAoaGlkZGVuIGVsZW1lbnRzIGFyZSBzdGlsbCBlbmFibGVkKVxuXHRcdFx0Ly8gSUU4IHRocm93cyBlcnJvciBoZXJlIGFuZCB3aWxsIG5vdCBzZWUgbGF0ZXIgdGVzdHNcblx0XHRcdGlmICggZWwucXVlcnlTZWxlY3RvckFsbCggXCI6ZW5hYmxlZFwiICkubGVuZ3RoICE9PSAyICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOS0xMStcblx0XHRcdC8vIElFJ3MgOmRpc2FibGVkIHNlbGVjdG9yIGRvZXMgbm90IHBpY2sgdXAgdGhlIGNoaWxkcmVuIG9mIGRpc2FibGVkIGZpZWxkc2V0c1xuXHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5kaXNhYmxlZCA9IHRydWU7XG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiOmRpc2FibGVkXCIgKS5sZW5ndGggIT09IDIgKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIjplbmFibGVkXCIsIFwiOmRpc2FibGVkXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogT3BlcmEgMTAgLSAxMSBvbmx5XG5cdFx0XHQvLyBPcGVyYSAxMC0xMSBkb2VzIG5vdCB0aHJvdyBvbiBwb3N0LWNvbW1hIGludmFsaWQgcHNldWRvc1xuXHRcdFx0ZWwucXVlcnlTZWxlY3RvckFsbCggXCIqLDp4XCIgKTtcblx0XHRcdHJidWdneVFTQS5wdXNoKCBcIiwuKjpcIiApO1xuXHRcdH0gKTtcblx0fVxuXG5cdGlmICggKCBzdXBwb3J0Lm1hdGNoZXNTZWxlY3RvciA9IHJuYXRpdmUudGVzdCggKCBtYXRjaGVzID0gZG9jRWxlbS5tYXRjaGVzIHx8XG5cdFx0ZG9jRWxlbS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm1vek1hdGNoZXNTZWxlY3RvciB8fFxuXHRcdGRvY0VsZW0ub01hdGNoZXNTZWxlY3RvciB8fFxuXHRcdGRvY0VsZW0ubXNNYXRjaGVzU2VsZWN0b3IgKSApICkgKSB7XG5cblx0XHRhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHtcblxuXHRcdFx0Ly8gQ2hlY2sgdG8gc2VlIGlmIGl0J3MgcG9zc2libGUgdG8gZG8gbWF0Y2hlc1NlbGVjdG9yXG5cdFx0XHQvLyBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlIChJRSA5KVxuXHRcdFx0c3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCA9IG1hdGNoZXMuY2FsbCggZWwsIFwiKlwiICk7XG5cblx0XHRcdC8vIFRoaXMgc2hvdWxkIGZhaWwgd2l0aCBhbiBleGNlcHRpb25cblx0XHRcdC8vIEdlY2tvIGRvZXMgbm90IGVycm9yLCByZXR1cm5zIGZhbHNlIGluc3RlYWRcblx0XHRcdG1hdGNoZXMuY2FsbCggZWwsIFwiW3MhPScnXTp4XCIgKTtcblx0XHRcdHJidWdneU1hdGNoZXMucHVzaCggXCIhPVwiLCBwc2V1ZG9zICk7XG5cdFx0fSApO1xuXHR9XG5cblx0cmJ1Z2d5UVNBID0gcmJ1Z2d5UVNBLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lRU0Euam9pbiggXCJ8XCIgKSApO1xuXHRyYnVnZ3lNYXRjaGVzID0gcmJ1Z2d5TWF0Y2hlcy5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5TWF0Y2hlcy5qb2luKCBcInxcIiApICk7XG5cblx0LyogQ29udGFpbnNcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRoYXNDb21wYXJlID0gcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICk7XG5cblx0Ly8gRWxlbWVudCBjb250YWlucyBhbm90aGVyXG5cdC8vIFB1cnBvc2VmdWxseSBzZWxmLWV4Y2x1c2l2ZVxuXHQvLyBBcyBpbiwgYW4gZWxlbWVudCBkb2VzIG5vdCBjb250YWluIGl0c2VsZlxuXHRjb250YWlucyA9IGhhc0NvbXBhcmUgfHwgcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbnRhaW5zICkgP1xuXHRcdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0dmFyIGFkb3duID0gYS5ub2RlVHlwZSA9PT0gOSA/IGEuZG9jdW1lbnRFbGVtZW50IDogYSxcblx0XHRcdFx0YnVwID0gYiAmJiBiLnBhcmVudE5vZGU7XG5cdFx0XHRyZXR1cm4gYSA9PT0gYnVwIHx8ICEhKCBidXAgJiYgYnVwLm5vZGVUeXBlID09PSAxICYmIChcblx0XHRcdFx0YWRvd24uY29udGFpbnMgP1xuXHRcdFx0XHRcdGFkb3duLmNvbnRhaW5zKCBidXAgKSA6XG5cdFx0XHRcdFx0YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAmJiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBidXAgKSAmIDE2XG5cdFx0XHQpICk7XG5cdFx0fSA6XG5cdFx0ZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0XHRpZiAoIGIgKSB7XG5cdFx0XHRcdHdoaWxlICggKCBiID0gYi5wYXJlbnROb2RlICkgKSB7XG5cdFx0XHRcdFx0aWYgKCBiID09PSBhICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcblxuXHQvKiBTb3J0aW5nXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBEb2N1bWVudCBvcmRlciBzb3J0aW5nXG5cdHNvcnRPcmRlciA9IGhhc0NvbXBhcmUgP1xuXHRmdW5jdGlvbiggYSwgYiApIHtcblxuXHRcdC8vIEZsYWcgZm9yIGR1cGxpY2F0ZSByZW1vdmFsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdC8vIFNvcnQgb24gbWV0aG9kIGV4aXN0ZW5jZSBpZiBvbmx5IG9uZSBpbnB1dCBoYXMgY29tcGFyZURvY3VtZW50UG9zaXRpb25cblx0XHR2YXIgY29tcGFyZSA9ICFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIC0gIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247XG5cdFx0aWYgKCBjb21wYXJlICkge1xuXHRcdFx0cmV0dXJuIGNvbXBhcmU7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsY3VsYXRlIHBvc2l0aW9uIGlmIGJvdGggaW5wdXRzIGJlbG9uZyB0byB0aGUgc2FtZSBkb2N1bWVudFxuXHRcdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHRcdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHRcdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdFx0Y29tcGFyZSA9ICggYS5vd25lckRvY3VtZW50IHx8IGEgKSA9PSAoIGIub3duZXJEb2N1bWVudCB8fCBiICkgP1xuXHRcdFx0YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYiApIDpcblxuXHRcdFx0Ly8gT3RoZXJ3aXNlIHdlIGtub3cgdGhleSBhcmUgZGlzY29ubmVjdGVkXG5cdFx0XHQxO1xuXG5cdFx0Ly8gRGlzY29ubmVjdGVkIG5vZGVzXG5cdFx0aWYgKCBjb21wYXJlICYgMSB8fFxuXHRcdFx0KCAhc3VwcG9ydC5zb3J0RGV0YWNoZWQgJiYgYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYSApID09PSBjb21wYXJlICkgKSB7XG5cblx0XHRcdC8vIENob29zZSB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IGlzIHJlbGF0ZWQgdG8gb3VyIHByZWZlcnJlZCBkb2N1bWVudFxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdFx0XHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0XHRcdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0XHRcdGlmICggYSA9PSBkb2N1bWVudCB8fCBhLm93bmVyRG9jdW1lbnQgPT0gcHJlZmVycmVkRG9jICYmXG5cdFx0XHRcdGNvbnRhaW5zKCBwcmVmZXJyZWREb2MsIGEgKSApIHtcblx0XHRcdFx0cmV0dXJuIC0xO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcblx0XHRcdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHRcdFx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHRcdFx0aWYgKCBiID09IGRvY3VtZW50IHx8IGIub3duZXJEb2N1bWVudCA9PSBwcmVmZXJyZWREb2MgJiZcblx0XHRcdFx0Y29udGFpbnMoIHByZWZlcnJlZERvYywgYiApICkge1xuXHRcdFx0XHRyZXR1cm4gMTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTWFpbnRhaW4gb3JpZ2luYWwgb3JkZXJcblx0XHRcdHJldHVybiBzb3J0SW5wdXQgP1xuXHRcdFx0XHQoIGluZGV4T2YoIHNvcnRJbnB1dCwgYSApIC0gaW5kZXhPZiggc29ydElucHV0LCBiICkgKSA6XG5cdFx0XHRcdDA7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNvbXBhcmUgJiA0ID8gLTEgOiAxO1xuXHR9IDpcblx0ZnVuY3Rpb24oIGEsIGIgKSB7XG5cblx0XHQvLyBFeGl0IGVhcmx5IGlmIHRoZSBub2RlcyBhcmUgaWRlbnRpY2FsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdHZhciBjdXIsXG5cdFx0XHRpID0gMCxcblx0XHRcdGF1cCA9IGEucGFyZW50Tm9kZSxcblx0XHRcdGJ1cCA9IGIucGFyZW50Tm9kZSxcblx0XHRcdGFwID0gWyBhIF0sXG5cdFx0XHRicCA9IFsgYiBdO1xuXG5cdFx0Ly8gUGFyZW50bGVzcyBub2RlcyBhcmUgZWl0aGVyIGRvY3VtZW50cyBvciBkaXNjb25uZWN0ZWRcblx0XHRpZiAoICFhdXAgfHwgIWJ1cCApIHtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdFx0XHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0XHRcdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0XHRcdC8qIGVzbGludC1kaXNhYmxlIGVxZXFlcSAqL1xuXHRcdFx0cmV0dXJuIGEgPT0gZG9jdW1lbnQgPyAtMSA6XG5cdFx0XHRcdGIgPT0gZG9jdW1lbnQgPyAxIDpcblx0XHRcdFx0LyogZXNsaW50LWVuYWJsZSBlcWVxZXEgKi9cblx0XHRcdFx0YXVwID8gLTEgOlxuXHRcdFx0XHRidXAgPyAxIDpcblx0XHRcdFx0c29ydElucHV0ID9cblx0XHRcdFx0KCBpbmRleE9mKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YoIHNvcnRJbnB1dCwgYiApICkgOlxuXHRcdFx0XHQwO1xuXG5cdFx0Ly8gSWYgdGhlIG5vZGVzIGFyZSBzaWJsaW5ncywgd2UgY2FuIGRvIGEgcXVpY2sgY2hlY2tcblx0XHR9IGVsc2UgaWYgKCBhdXAgPT09IGJ1cCApIHtcblx0XHRcdHJldHVybiBzaWJsaW5nQ2hlY2soIGEsIGIgKTtcblx0XHR9XG5cblx0XHQvLyBPdGhlcndpc2Ugd2UgbmVlZCBmdWxsIGxpc3RzIG9mIHRoZWlyIGFuY2VzdG9ycyBmb3IgY29tcGFyaXNvblxuXHRcdGN1ciA9IGE7XG5cdFx0d2hpbGUgKCAoIGN1ciA9IGN1ci5wYXJlbnROb2RlICkgKSB7XG5cdFx0XHRhcC51bnNoaWZ0KCBjdXIgKTtcblx0XHR9XG5cdFx0Y3VyID0gYjtcblx0XHR3aGlsZSAoICggY3VyID0gY3VyLnBhcmVudE5vZGUgKSApIHtcblx0XHRcdGJwLnVuc2hpZnQoIGN1ciApO1xuXHRcdH1cblxuXHRcdC8vIFdhbGsgZG93biB0aGUgdHJlZSBsb29raW5nIGZvciBhIGRpc2NyZXBhbmN5XG5cdFx0d2hpbGUgKCBhcFsgaSBdID09PSBicFsgaSBdICkge1xuXHRcdFx0aSsrO1xuXHRcdH1cblxuXHRcdHJldHVybiBpID9cblxuXHRcdFx0Ly8gRG8gYSBzaWJsaW5nIGNoZWNrIGlmIHRoZSBub2RlcyBoYXZlIGEgY29tbW9uIGFuY2VzdG9yXG5cdFx0XHRzaWJsaW5nQ2hlY2soIGFwWyBpIF0sIGJwWyBpIF0gKSA6XG5cblx0XHRcdC8vIE90aGVyd2lzZSBub2RlcyBpbiBvdXIgZG9jdW1lbnQgc29ydCBmaXJzdFxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdFx0XHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0XHRcdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0XHRcdC8qIGVzbGludC1kaXNhYmxlIGVxZXFlcSAqL1xuXHRcdFx0YXBbIGkgXSA9PSBwcmVmZXJyZWREb2MgPyAtMSA6XG5cdFx0XHRicFsgaSBdID09IHByZWZlcnJlZERvYyA/IDEgOlxuXHRcdFx0LyogZXNsaW50LWVuYWJsZSBlcWVxZXEgKi9cblx0XHRcdDA7XG5cdH07XG5cblx0cmV0dXJuIGRvY3VtZW50O1xufTtcblxuU2l6emxlLm1hdGNoZXMgPSBmdW5jdGlvbiggZXhwciwgZWxlbWVudHMgKSB7XG5cdHJldHVybiBTaXp6bGUoIGV4cHIsIG51bGwsIG51bGwsIGVsZW1lbnRzICk7XG59O1xuXG5TaXp6bGUubWF0Y2hlc1NlbGVjdG9yID0gZnVuY3Rpb24oIGVsZW0sIGV4cHIgKSB7XG5cdHNldERvY3VtZW50KCBlbGVtICk7XG5cblx0aWYgKCBzdXBwb3J0Lm1hdGNoZXNTZWxlY3RvciAmJiBkb2N1bWVudElzSFRNTCAmJlxuXHRcdCFub25uYXRpdmVTZWxlY3RvckNhY2hlWyBleHByICsgXCIgXCIgXSAmJlxuXHRcdCggIXJidWdneU1hdGNoZXMgfHwgIXJidWdneU1hdGNoZXMudGVzdCggZXhwciApICkgJiZcblx0XHQoICFyYnVnZ3lRU0EgICAgIHx8ICFyYnVnZ3lRU0EudGVzdCggZXhwciApICkgKSB7XG5cblx0XHR0cnkge1xuXHRcdFx0dmFyIHJldCA9IG1hdGNoZXMuY2FsbCggZWxlbSwgZXhwciApO1xuXG5cdFx0XHQvLyBJRSA5J3MgbWF0Y2hlc1NlbGVjdG9yIHJldHVybnMgZmFsc2Ugb24gZGlzY29ubmVjdGVkIG5vZGVzXG5cdFx0XHRpZiAoIHJldCB8fCBzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoIHx8XG5cblx0XHRcdFx0Ly8gQXMgd2VsbCwgZGlzY29ubmVjdGVkIG5vZGVzIGFyZSBzYWlkIHRvIGJlIGluIGEgZG9jdW1lbnRcblx0XHRcdFx0Ly8gZnJhZ21lbnQgaW4gSUUgOVxuXHRcdFx0XHRlbGVtLmRvY3VtZW50ICYmIGVsZW0uZG9jdW1lbnQubm9kZVR5cGUgIT09IDExICkge1xuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcdFx0bm9ubmF0aXZlU2VsZWN0b3JDYWNoZSggZXhwciwgdHJ1ZSApO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBTaXp6bGUoIGV4cHIsIGRvY3VtZW50LCBudWxsLCBbIGVsZW0gXSApLmxlbmd0aCA+IDA7XG59O1xuXG5TaXp6bGUuY29udGFpbnMgPSBmdW5jdGlvbiggY29udGV4dCwgZWxlbSApIHtcblxuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0aWYgKCAoIGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0ICkgIT0gZG9jdW1lbnQgKSB7XG5cdFx0c2V0RG9jdW1lbnQoIGNvbnRleHQgKTtcblx0fVxuXHRyZXR1cm4gY29udGFpbnMoIGNvbnRleHQsIGVsZW0gKTtcbn07XG5cblNpenpsZS5hdHRyID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cblx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdGlmICggKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSApICE9IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBlbGVtICk7XG5cdH1cblxuXHR2YXIgZm4gPSBFeHByLmF0dHJIYW5kbGVbIG5hbWUudG9Mb3dlckNhc2UoKSBdLFxuXG5cdFx0Ly8gRG9uJ3QgZ2V0IGZvb2xlZCBieSBPYmplY3QucHJvdG90eXBlIHByb3BlcnRpZXMgKGpRdWVyeSAjMTM4MDcpXG5cdFx0dmFsID0gZm4gJiYgaGFzT3duLmNhbGwoIEV4cHIuYXR0ckhhbmRsZSwgbmFtZS50b0xvd2VyQ2FzZSgpICkgP1xuXHRcdFx0Zm4oIGVsZW0sIG5hbWUsICFkb2N1bWVudElzSFRNTCApIDpcblx0XHRcdHVuZGVmaW5lZDtcblxuXHRyZXR1cm4gdmFsICE9PSB1bmRlZmluZWQgP1xuXHRcdHZhbCA6XG5cdFx0c3VwcG9ydC5hdHRyaWJ1dGVzIHx8ICFkb2N1bWVudElzSFRNTCA/XG5cdFx0XHRlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApIDpcblx0XHRcdCggdmFsID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKCBuYW1lICkgKSAmJiB2YWwuc3BlY2lmaWVkID9cblx0XHRcdFx0dmFsLnZhbHVlIDpcblx0XHRcdFx0bnVsbDtcbn07XG5cblNpenpsZS5lc2NhcGUgPSBmdW5jdGlvbiggc2VsICkge1xuXHRyZXR1cm4gKCBzZWwgKyBcIlwiICkucmVwbGFjZSggcmNzc2VzY2FwZSwgZmNzc2VzY2FwZSApO1xufTtcblxuU2l6emxlLmVycm9yID0gZnVuY3Rpb24oIG1zZyApIHtcblx0dGhyb3cgbmV3IEVycm9yKCBcIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246IFwiICsgbXNnICk7XG59O1xuXG4vKipcbiAqIERvY3VtZW50IHNvcnRpbmcgYW5kIHJlbW92aW5nIGR1cGxpY2F0ZXNcbiAqIEBwYXJhbSB7QXJyYXlMaWtlfSByZXN1bHRzXG4gKi9cblNpenpsZS51bmlxdWVTb3J0ID0gZnVuY3Rpb24oIHJlc3VsdHMgKSB7XG5cdHZhciBlbGVtLFxuXHRcdGR1cGxpY2F0ZXMgPSBbXSxcblx0XHRqID0gMCxcblx0XHRpID0gMDtcblxuXHQvLyBVbmxlc3Mgd2UgKmtub3cqIHdlIGNhbiBkZXRlY3QgZHVwbGljYXRlcywgYXNzdW1lIHRoZWlyIHByZXNlbmNlXG5cdGhhc0R1cGxpY2F0ZSA9ICFzdXBwb3J0LmRldGVjdER1cGxpY2F0ZXM7XG5cdHNvcnRJbnB1dCA9ICFzdXBwb3J0LnNvcnRTdGFibGUgJiYgcmVzdWx0cy5zbGljZSggMCApO1xuXHRyZXN1bHRzLnNvcnQoIHNvcnRPcmRlciApO1xuXG5cdGlmICggaGFzRHVwbGljYXRlICkge1xuXHRcdHdoaWxlICggKCBlbGVtID0gcmVzdWx0c1sgaSsrIF0gKSApIHtcblx0XHRcdGlmICggZWxlbSA9PT0gcmVzdWx0c1sgaSBdICkge1xuXHRcdFx0XHRqID0gZHVwbGljYXRlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0cmVzdWx0cy5zcGxpY2UoIGR1cGxpY2F0ZXNbIGogXSwgMSApO1xuXHRcdH1cblx0fVxuXG5cdC8vIENsZWFyIGlucHV0IGFmdGVyIHNvcnRpbmcgdG8gcmVsZWFzZSBvYmplY3RzXG5cdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L3NpenpsZS9wdWxsLzIyNVxuXHRzb3J0SW5wdXQgPSBudWxsO1xuXG5cdHJldHVybiByZXN1bHRzO1xufTtcblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciByZXRyaWV2aW5nIHRoZSB0ZXh0IHZhbHVlIG9mIGFuIGFycmF5IG9mIERPTSBub2Rlc1xuICogQHBhcmFtIHtBcnJheXxFbGVtZW50fSBlbGVtXG4gKi9cbmdldFRleHQgPSBTaXp6bGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHR2YXIgbm9kZSxcblx0XHRyZXQgPSBcIlwiLFxuXHRcdGkgPSAwLFxuXHRcdG5vZGVUeXBlID0gZWxlbS5ub2RlVHlwZTtcblxuXHRpZiAoICFub2RlVHlwZSApIHtcblxuXHRcdC8vIElmIG5vIG5vZGVUeXBlLCB0aGlzIGlzIGV4cGVjdGVkIHRvIGJlIGFuIGFycmF5XG5cdFx0d2hpbGUgKCAoIG5vZGUgPSBlbGVtWyBpKysgXSApICkge1xuXG5cdFx0XHQvLyBEbyBub3QgdHJhdmVyc2UgY29tbWVudCBub2Rlc1xuXHRcdFx0cmV0ICs9IGdldFRleHQoIG5vZGUgKTtcblx0XHR9XG5cdH0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAxIHx8IG5vZGVUeXBlID09PSA5IHx8IG5vZGVUeXBlID09PSAxMSApIHtcblxuXHRcdC8vIFVzZSB0ZXh0Q29udGVudCBmb3IgZWxlbWVudHNcblx0XHQvLyBpbm5lclRleHQgdXNhZ2UgcmVtb3ZlZCBmb3IgY29uc2lzdGVuY3kgb2YgbmV3IGxpbmVzIChqUXVlcnkgIzExMTUzKVxuXHRcdGlmICggdHlwZW9mIGVsZW0udGV4dENvbnRlbnQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS50ZXh0Q29udGVudDtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBUcmF2ZXJzZSBpdHMgY2hpbGRyZW5cblx0XHRcdGZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkge1xuXHRcdFx0XHRyZXQgKz0gZ2V0VGV4dCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDMgfHwgbm9kZVR5cGUgPT09IDQgKSB7XG5cdFx0cmV0dXJuIGVsZW0ubm9kZVZhbHVlO1xuXHR9XG5cblx0Ly8gRG8gbm90IGluY2x1ZGUgY29tbWVudCBvciBwcm9jZXNzaW5nIGluc3RydWN0aW9uIG5vZGVzXG5cblx0cmV0dXJuIHJldDtcbn07XG5cbkV4cHIgPSBTaXp6bGUuc2VsZWN0b3JzID0ge1xuXG5cdC8vIENhbiBiZSBhZGp1c3RlZCBieSB0aGUgdXNlclxuXHRjYWNoZUxlbmd0aDogNTAsXG5cblx0Y3JlYXRlUHNldWRvOiBtYXJrRnVuY3Rpb24sXG5cblx0bWF0Y2g6IG1hdGNoRXhwcixcblxuXHRhdHRySGFuZGxlOiB7fSxcblxuXHRmaW5kOiB7fSxcblxuXHRyZWxhdGl2ZToge1xuXHRcdFwiPlwiOiB7IGRpcjogXCJwYXJlbnROb2RlXCIsIGZpcnN0OiB0cnVlIH0sXG5cdFx0XCIgXCI6IHsgZGlyOiBcInBhcmVudE5vZGVcIiB9LFxuXHRcdFwiK1wiOiB7IGRpcjogXCJwcmV2aW91c1NpYmxpbmdcIiwgZmlyc3Q6IHRydWUgfSxcblx0XHRcIn5cIjogeyBkaXI6IFwicHJldmlvdXNTaWJsaW5nXCIgfVxuXHR9LFxuXG5cdHByZUZpbHRlcjoge1xuXHRcdFwiQVRUUlwiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHRtYXRjaFsgMSBdID0gbWF0Y2hbIDEgXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXG5cdFx0XHQvLyBNb3ZlIHRoZSBnaXZlbiB2YWx1ZSB0byBtYXRjaFszXSB3aGV0aGVyIHF1b3RlZCBvciB1bnF1b3RlZFxuXHRcdFx0bWF0Y2hbIDMgXSA9ICggbWF0Y2hbIDMgXSB8fCBtYXRjaFsgNCBdIHx8XG5cdFx0XHRcdG1hdGNoWyA1IF0gfHwgXCJcIiApLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cblx0XHRcdGlmICggbWF0Y2hbIDIgXSA9PT0gXCJ+PVwiICkge1xuXHRcdFx0XHRtYXRjaFsgMyBdID0gXCIgXCIgKyBtYXRjaFsgMyBdICsgXCIgXCI7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBtYXRjaC5zbGljZSggMCwgNCApO1xuXHRcdH0sXG5cblx0XHRcIkNISUxEXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblxuXHRcdFx0LyogbWF0Y2hlcyBmcm9tIG1hdGNoRXhwcltcIkNISUxEXCJdXG5cdFx0XHRcdDEgdHlwZSAob25seXxudGh8Li4uKVxuXHRcdFx0XHQyIHdoYXQgKGNoaWxkfG9mLXR5cGUpXG5cdFx0XHRcdDMgYXJndW1lbnQgKGV2ZW58b2RkfFxcZCp8XFxkKm4oWystXVxcZCspP3wuLi4pXG5cdFx0XHRcdDQgeG4tY29tcG9uZW50IG9mIHhuK3kgYXJndW1lbnQgKFsrLV0/XFxkKm58KVxuXHRcdFx0XHQ1IHNpZ24gb2YgeG4tY29tcG9uZW50XG5cdFx0XHRcdDYgeCBvZiB4bi1jb21wb25lbnRcblx0XHRcdFx0NyBzaWduIG9mIHktY29tcG9uZW50XG5cdFx0XHRcdDggeSBvZiB5LWNvbXBvbmVudFxuXHRcdFx0Ki9cblx0XHRcdG1hdGNoWyAxIF0gPSBtYXRjaFsgMSBdLnRvTG93ZXJDYXNlKCk7XG5cblx0XHRcdGlmICggbWF0Y2hbIDEgXS5zbGljZSggMCwgMyApID09PSBcIm50aFwiICkge1xuXG5cdFx0XHRcdC8vIG50aC0qIHJlcXVpcmVzIGFyZ3VtZW50XG5cdFx0XHRcdGlmICggIW1hdGNoWyAzIF0gKSB7XG5cdFx0XHRcdFx0U2l6emxlLmVycm9yKCBtYXRjaFsgMCBdICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBudW1lcmljIHggYW5kIHkgcGFyYW1ldGVycyBmb3IgRXhwci5maWx0ZXIuQ0hJTERcblx0XHRcdFx0Ly8gcmVtZW1iZXIgdGhhdCBmYWxzZS90cnVlIGNhc3QgcmVzcGVjdGl2ZWx5IHRvIDAvMVxuXHRcdFx0XHRtYXRjaFsgNCBdID0gKyggbWF0Y2hbIDQgXSA/XG5cdFx0XHRcdFx0bWF0Y2hbIDUgXSArICggbWF0Y2hbIDYgXSB8fCAxICkgOlxuXHRcdFx0XHRcdDIgKiAoIG1hdGNoWyAzIF0gPT09IFwiZXZlblwiIHx8IG1hdGNoWyAzIF0gPT09IFwib2RkXCIgKSApO1xuXHRcdFx0XHRtYXRjaFsgNSBdID0gKyggKCBtYXRjaFsgNyBdICsgbWF0Y2hbIDggXSApIHx8IG1hdGNoWyAzIF0gPT09IFwib2RkXCIgKTtcblxuXHRcdFx0XHQvLyBvdGhlciB0eXBlcyBwcm9oaWJpdCBhcmd1bWVudHNcblx0XHRcdH0gZWxzZSBpZiAoIG1hdGNoWyAzIF0gKSB7XG5cdFx0XHRcdFNpenpsZS5lcnJvciggbWF0Y2hbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0fSxcblxuXHRcdFwiUFNFVURPXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdHZhciBleGNlc3MsXG5cdFx0XHRcdHVucXVvdGVkID0gIW1hdGNoWyA2IF0gJiYgbWF0Y2hbIDIgXTtcblxuXHRcdFx0aWYgKCBtYXRjaEV4cHJbIFwiQ0hJTERcIiBdLnRlc3QoIG1hdGNoWyAwIF0gKSApIHtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFjY2VwdCBxdW90ZWQgYXJndW1lbnRzIGFzLWlzXG5cdFx0XHRpZiAoIG1hdGNoWyAzIF0gKSB7XG5cdFx0XHRcdG1hdGNoWyAyIF0gPSBtYXRjaFsgNCBdIHx8IG1hdGNoWyA1IF0gfHwgXCJcIjtcblxuXHRcdFx0Ly8gU3RyaXAgZXhjZXNzIGNoYXJhY3RlcnMgZnJvbSB1bnF1b3RlZCBhcmd1bWVudHNcblx0XHRcdH0gZWxzZSBpZiAoIHVucXVvdGVkICYmIHJwc2V1ZG8udGVzdCggdW5xdW90ZWQgKSAmJlxuXG5cdFx0XHRcdC8vIEdldCBleGNlc3MgZnJvbSB0b2tlbml6ZSAocmVjdXJzaXZlbHkpXG5cdFx0XHRcdCggZXhjZXNzID0gdG9rZW5pemUoIHVucXVvdGVkLCB0cnVlICkgKSAmJlxuXG5cdFx0XHRcdC8vIGFkdmFuY2UgdG8gdGhlIG5leHQgY2xvc2luZyBwYXJlbnRoZXNpc1xuXHRcdFx0XHQoIGV4Y2VzcyA9IHVucXVvdGVkLmluZGV4T2YoIFwiKVwiLCB1bnF1b3RlZC5sZW5ndGggLSBleGNlc3MgKSAtIHVucXVvdGVkLmxlbmd0aCApICkge1xuXG5cdFx0XHRcdC8vIGV4Y2VzcyBpcyBhIG5lZ2F0aXZlIGluZGV4XG5cdFx0XHRcdG1hdGNoWyAwIF0gPSBtYXRjaFsgMCBdLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdFx0bWF0Y2hbIDIgXSA9IHVucXVvdGVkLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmV0dXJuIG9ubHkgY2FwdHVyZXMgbmVlZGVkIGJ5IHRoZSBwc2V1ZG8gZmlsdGVyIG1ldGhvZCAodHlwZSBhbmQgYXJndW1lbnQpXG5cdFx0XHRyZXR1cm4gbWF0Y2guc2xpY2UoIDAsIDMgKTtcblx0XHR9XG5cdH0sXG5cblx0ZmlsdGVyOiB7XG5cblx0XHRcIlRBR1wiOiBmdW5jdGlvbiggbm9kZU5hbWVTZWxlY3RvciApIHtcblx0XHRcdHZhciBub2RlTmFtZSA9IG5vZGVOYW1lU2VsZWN0b3IucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIG5vZGVOYW1lU2VsZWN0b3IgPT09IFwiKlwiID9cblx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH0gOlxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5vZGVOYW1lO1xuXHRcdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRcIkNMQVNTXCI6IGZ1bmN0aW9uKCBjbGFzc05hbWUgKSB7XG5cdFx0XHR2YXIgcGF0dGVybiA9IGNsYXNzQ2FjaGVbIGNsYXNzTmFtZSArIFwiIFwiIF07XG5cblx0XHRcdHJldHVybiBwYXR0ZXJuIHx8XG5cdFx0XHRcdCggcGF0dGVybiA9IG5ldyBSZWdFeHAoIFwiKF58XCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcdFx0XHRcIilcIiArIGNsYXNzTmFtZSArIFwiKFwiICsgd2hpdGVzcGFjZSArIFwifCQpXCIgKSApICYmIGNsYXNzQ2FjaGUoXG5cdFx0XHRcdFx0XHRjbGFzc05hbWUsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcGF0dGVybi50ZXN0KFxuXHRcdFx0XHRcdFx0XHRcdHR5cGVvZiBlbGVtLmNsYXNzTmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBlbGVtLmNsYXNzTmFtZSB8fFxuXHRcdFx0XHRcdFx0XHRcdHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIiApIHx8XG5cdFx0XHRcdFx0XHRcdFx0XCJcIlxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9ICk7XG5cdFx0fSxcblxuXHRcdFwiQVRUUlwiOiBmdW5jdGlvbiggbmFtZSwgb3BlcmF0b3IsIGNoZWNrICkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgcmVzdWx0ID0gU2l6emxlLmF0dHIoIGVsZW0sIG5hbWUgKTtcblxuXHRcdFx0XHRpZiAoIHJlc3VsdCA9PSBudWxsICkge1xuXHRcdFx0XHRcdHJldHVybiBvcGVyYXRvciA9PT0gXCIhPVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggIW9wZXJhdG9yICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmVzdWx0ICs9IFwiXCI7XG5cblx0XHRcdFx0LyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG5cdFx0XHRcdHJldHVybiBvcGVyYXRvciA9PT0gXCI9XCIgPyByZXN1bHQgPT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIhPVwiID8gcmVzdWx0ICE9PSBjaGVjayA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiXj1cIiA/IGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID09PSAwIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIqPVwiID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiJD1cIiA/IGNoZWNrICYmIHJlc3VsdC5zbGljZSggLWNoZWNrLmxlbmd0aCApID09PSBjaGVjayA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifj1cIiA/ICggXCIgXCIgKyByZXN1bHQucmVwbGFjZSggcndoaXRlc3BhY2UsIFwiIFwiICkgKyBcIiBcIiApLmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifD1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgfHwgcmVzdWx0LnNsaWNlKCAwLCBjaGVjay5sZW5ndGggKyAxICkgPT09IGNoZWNrICsgXCItXCIgOlxuXHRcdFx0XHRcdGZhbHNlO1xuXHRcdFx0XHQvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cblxuXHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0XCJDSElMRFwiOiBmdW5jdGlvbiggdHlwZSwgd2hhdCwgX2FyZ3VtZW50LCBmaXJzdCwgbGFzdCApIHtcblx0XHRcdHZhciBzaW1wbGUgPSB0eXBlLnNsaWNlKCAwLCAzICkgIT09IFwibnRoXCIsXG5cdFx0XHRcdGZvcndhcmQgPSB0eXBlLnNsaWNlKCAtNCApICE9PSBcImxhc3RcIixcblx0XHRcdFx0b2ZUeXBlID0gd2hhdCA9PT0gXCJvZi10eXBlXCI7XG5cblx0XHRcdHJldHVybiBmaXJzdCA9PT0gMSAmJiBsYXN0ID09PSAwID9cblxuXHRcdFx0XHQvLyBTaG9ydGN1dCBmb3IgOm50aC0qKG4pXG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiAhIWVsZW0ucGFyZW50Tm9kZTtcblx0XHRcdFx0fSA6XG5cblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0sIF9jb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0dmFyIGNhY2hlLCB1bmlxdWVDYWNoZSwgb3V0ZXJDYWNoZSwgbm9kZSwgbm9kZUluZGV4LCBzdGFydCxcblx0XHRcdFx0XHRcdGRpciA9IHNpbXBsZSAhPT0gZm9yd2FyZCA/IFwibmV4dFNpYmxpbmdcIiA6IFwicHJldmlvdXNTaWJsaW5nXCIsXG5cdFx0XHRcdFx0XHRwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGUsXG5cdFx0XHRcdFx0XHRuYW1lID0gb2ZUeXBlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcblx0XHRcdFx0XHRcdHVzZUNhY2hlID0gIXhtbCAmJiAhb2ZUeXBlLFxuXHRcdFx0XHRcdFx0ZGlmZiA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cblx0XHRcdFx0XHRcdC8vIDooZmlyc3R8bGFzdHxvbmx5KS0oY2hpbGR8b2YtdHlwZSlcblx0XHRcdFx0XHRcdGlmICggc2ltcGxlICkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoIGRpciApIHtcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbTtcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoICggbm9kZSA9IG5vZGVbIGRpciBdICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIG9mVHlwZSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZVR5cGUgPT09IDEgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdC8vIFJldmVyc2UgZGlyZWN0aW9uIGZvciA6b25seS0qIChpZiB3ZSBoYXZlbid0IHlldCBkb25lIHNvKVxuXHRcdFx0XHRcdFx0XHRcdHN0YXJ0ID0gZGlyID0gdHlwZSA9PT0gXCJvbmx5XCIgJiYgIXN0YXJ0ICYmIFwibmV4dFNpYmxpbmdcIjtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0c3RhcnQgPSBbIGZvcndhcmQgPyBwYXJlbnQuZmlyc3RDaGlsZCA6IHBhcmVudC5sYXN0Q2hpbGQgXTtcblxuXHRcdFx0XHRcdFx0Ly8gbm9uLXhtbCA6bnRoLWNoaWxkKC4uLikgc3RvcmVzIGNhY2hlIGRhdGEgb24gYHBhcmVudGBcblx0XHRcdFx0XHRcdGlmICggZm9yd2FyZCAmJiB1c2VDYWNoZSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBTZWVrIGBlbGVtYCBmcm9tIGEgcHJldmlvdXNseS1jYWNoZWQgaW5kZXhcblxuXHRcdFx0XHRcdFx0XHQvLyAuLi5pbiBhIGd6aXAtZnJpZW5kbHkgd2F5XG5cdFx0XHRcdFx0XHRcdG5vZGUgPSBwYXJlbnQ7XG5cdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKCBub2RlWyBleHBhbmRvIF0gPSB7fSApO1xuXG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0KCBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSApO1xuXG5cdFx0XHRcdFx0XHRcdGNhY2hlID0gdW5pcXVlQ2FjaGVbIHR5cGUgXSB8fCBbXTtcblx0XHRcdFx0XHRcdFx0bm9kZUluZGV4ID0gY2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBjYWNoZVsgMSBdO1xuXHRcdFx0XHRcdFx0XHRkaWZmID0gbm9kZUluZGV4ICYmIGNhY2hlWyAyIF07XG5cdFx0XHRcdFx0XHRcdG5vZGUgPSBub2RlSW5kZXggJiYgcGFyZW50LmNoaWxkTm9kZXNbIG5vZGVJbmRleCBdO1xuXG5cdFx0XHRcdFx0XHRcdHdoaWxlICggKCBub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fFxuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gRmFsbGJhY2sgdG8gc2Vla2luZyBgZWxlbWAgZnJvbSB0aGUgc3RhcnRcblx0XHRcdFx0XHRcdFx0XHQoIGRpZmYgPSBub2RlSW5kZXggPSAwICkgfHwgc3RhcnQucG9wKCkgKSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFdoZW4gZm91bmQsIGNhY2hlIGluZGV4ZXMgb24gYHBhcmVudGAgYW5kIGJyZWFrXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBub2RlLm5vZGVUeXBlID09PSAxICYmICsrZGlmZiAmJiBub2RlID09PSBlbGVtICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGVbIHR5cGUgXSA9IFsgZGlycnVucywgbm9kZUluZGV4LCBkaWZmIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBVc2UgcHJldmlvdXNseS1jYWNoZWQgZWxlbWVudCBpbmRleCBpZiBhdmFpbGFibGVcblx0XHRcdFx0XHRcdFx0aWYgKCB1c2VDYWNoZSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIC4uLmluIGEgZ3ppcC1mcmllbmRseSB3YXlcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbTtcblx0XHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8ICggbm9kZVsgZXhwYW5kbyBdID0ge30gKTtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0XHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcblx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0KCBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSApO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FjaGUgPSB1bmlxdWVDYWNoZVsgdHlwZSBdIHx8IFtdO1xuXHRcdFx0XHRcdFx0XHRcdG5vZGVJbmRleCA9IGNhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgY2FjaGVbIDEgXTtcblx0XHRcdFx0XHRcdFx0XHRkaWZmID0gbm9kZUluZGV4O1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0Ly8geG1sIDpudGgtY2hpbGQoLi4uKVxuXHRcdFx0XHRcdFx0XHQvLyBvciA6bnRoLWxhc3QtY2hpbGQoLi4uKSBvciA6bnRoKC1sYXN0KT8tb2YtdHlwZSguLi4pXG5cdFx0XHRcdFx0XHRcdGlmICggZGlmZiA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBVc2UgdGhlIHNhbWUgbG9vcCBhcyBhYm92ZSB0byBzZWVrIGBlbGVtYCBmcm9tIHRoZSBzdGFydFxuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICggKCBub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0KCBkaWZmID0gbm9kZUluZGV4ID0gMCApIHx8IHN0YXJ0LnBvcCgpICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGlmICggKCBvZlR5cGUgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVUeXBlID09PSAxICkgJiZcblx0XHRcdFx0XHRcdFx0XHRcdFx0KytkaWZmICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIENhY2hlIHRoZSBpbmRleCBvZiBlYWNoIGVuY291bnRlcmVkIGVsZW1lbnRcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCB1c2VDYWNoZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQoIG5vZGVbIGV4cGFuZG8gXSA9IHt9ICk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCggb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdID0ge30gKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIGRpZmYgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggbm9kZSA9PT0gZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBJbmNvcnBvcmF0ZSB0aGUgb2Zmc2V0LCB0aGVuIGNoZWNrIGFnYWluc3QgY3ljbGUgc2l6ZVxuXHRcdFx0XHRcdFx0ZGlmZiAtPSBsYXN0O1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRpZmYgPT09IGZpcnN0IHx8ICggZGlmZiAlIGZpcnN0ID09PSAwICYmIGRpZmYgLyBmaXJzdCA+PSAwICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggcHNldWRvLCBhcmd1bWVudCApIHtcblxuXHRcdFx0Ly8gcHNldWRvLWNsYXNzIG5hbWVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlXG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI3BzZXVkby1jbGFzc2VzXG5cdFx0XHQvLyBQcmlvcml0aXplIGJ5IGNhc2Ugc2Vuc2l0aXZpdHkgaW4gY2FzZSBjdXN0b20gcHNldWRvcyBhcmUgYWRkZWQgd2l0aCB1cHBlcmNhc2UgbGV0dGVyc1xuXHRcdFx0Ly8gUmVtZW1iZXIgdGhhdCBzZXRGaWx0ZXJzIGluaGVyaXRzIGZyb20gcHNldWRvc1xuXHRcdFx0dmFyIGFyZ3MsXG5cdFx0XHRcdGZuID0gRXhwci5wc2V1ZG9zWyBwc2V1ZG8gXSB8fCBFeHByLnNldEZpbHRlcnNbIHBzZXVkby50b0xvd2VyQ2FzZSgpIF0gfHxcblx0XHRcdFx0XHRTaXp6bGUuZXJyb3IoIFwidW5zdXBwb3J0ZWQgcHNldWRvOiBcIiArIHBzZXVkbyApO1xuXG5cdFx0XHQvLyBUaGUgdXNlciBtYXkgdXNlIGNyZWF0ZVBzZXVkbyB0byBpbmRpY2F0ZSB0aGF0XG5cdFx0XHQvLyBhcmd1bWVudHMgYXJlIG5lZWRlZCB0byBjcmVhdGUgdGhlIGZpbHRlciBmdW5jdGlvblxuXHRcdFx0Ly8ganVzdCBhcyBTaXp6bGUgZG9lc1xuXHRcdFx0aWYgKCBmblsgZXhwYW5kbyBdICkge1xuXHRcdFx0XHRyZXR1cm4gZm4oIGFyZ3VtZW50ICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEJ1dCBtYWludGFpbiBzdXBwb3J0IGZvciBvbGQgc2lnbmF0dXJlc1xuXHRcdFx0aWYgKCBmbi5sZW5ndGggPiAxICkge1xuXHRcdFx0XHRhcmdzID0gWyBwc2V1ZG8sIHBzZXVkbywgXCJcIiwgYXJndW1lbnQgXTtcblx0XHRcdFx0cmV0dXJuIEV4cHIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eSggcHNldWRvLnRvTG93ZXJDYXNlKCkgKSA/XG5cdFx0XHRcdFx0bWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcyApIHtcblx0XHRcdFx0XHRcdHZhciBpZHgsXG5cdFx0XHRcdFx0XHRcdG1hdGNoZWQgPSBmbiggc2VlZCwgYXJndW1lbnQgKSxcblx0XHRcdFx0XHRcdFx0aSA9IG1hdGNoZWQubGVuZ3RoO1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdGlkeCA9IGluZGV4T2YoIHNlZWQsIG1hdGNoZWRbIGkgXSApO1xuXHRcdFx0XHRcdFx0XHRzZWVkWyBpZHggXSA9ICEoIG1hdGNoZXNbIGlkeCBdID0gbWF0Y2hlZFsgaSBdICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSApIDpcblx0XHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmbiggZWxlbSwgMCwgYXJncyApO1xuXHRcdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmbjtcblx0XHR9XG5cdH0sXG5cblx0cHNldWRvczoge1xuXG5cdFx0Ly8gUG90ZW50aWFsbHkgY29tcGxleCBwc2V1ZG9zXG5cdFx0XCJub3RcIjogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cblx0XHRcdC8vIFRyaW0gdGhlIHNlbGVjdG9yIHBhc3NlZCB0byBjb21waWxlXG5cdFx0XHQvLyB0byBhdm9pZCB0cmVhdGluZyBsZWFkaW5nIGFuZCB0cmFpbGluZ1xuXHRcdFx0Ly8gc3BhY2VzIGFzIGNvbWJpbmF0b3JzXG5cdFx0XHR2YXIgaW5wdXQgPSBbXSxcblx0XHRcdFx0cmVzdWx0cyA9IFtdLFxuXHRcdFx0XHRtYXRjaGVyID0gY29tcGlsZSggc2VsZWN0b3IucmVwbGFjZSggcnRyaW0sIFwiJDFcIiApICk7XG5cblx0XHRcdHJldHVybiBtYXRjaGVyWyBleHBhbmRvIF0gP1xuXHRcdFx0XHRtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzLCBfY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdHZhciBlbGVtLFxuXHRcdFx0XHRcdFx0dW5tYXRjaGVkID0gbWF0Y2hlciggc2VlZCwgbnVsbCwgeG1sLCBbXSApLFxuXHRcdFx0XHRcdFx0aSA9IHNlZWQubGVuZ3RoO1xuXG5cdFx0XHRcdFx0Ly8gTWF0Y2ggZWxlbWVudHMgdW5tYXRjaGVkIGJ5IGBtYXRjaGVyYFxuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoIGVsZW0gPSB1bm1hdGNoZWRbIGkgXSApICkge1xuXHRcdFx0XHRcdFx0XHRzZWVkWyBpIF0gPSAhKCBtYXRjaGVzWyBpIF0gPSBlbGVtICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICkgOlxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSwgX2NvbnRleHQsIHhtbCApIHtcblx0XHRcdFx0XHRpbnB1dFsgMCBdID0gZWxlbTtcblx0XHRcdFx0XHRtYXRjaGVyKCBpbnB1dCwgbnVsbCwgeG1sLCByZXN1bHRzICk7XG5cblx0XHRcdFx0XHQvLyBEb24ndCBrZWVwIHRoZSBlbGVtZW50IChpc3N1ZSAjMjk5KVxuXHRcdFx0XHRcdGlucHV0WyAwIF0gPSBudWxsO1xuXHRcdFx0XHRcdHJldHVybiAhcmVzdWx0cy5wb3AoKTtcblx0XHRcdFx0fTtcblx0XHR9ICksXG5cblx0XHRcImhhc1wiOiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIFNpenpsZSggc2VsZWN0b3IsIGVsZW0gKS5sZW5ndGggPiAwO1xuXHRcdFx0fTtcblx0XHR9ICksXG5cblx0XHRcImNvbnRhaW5zXCI6IG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIHRleHQgKSB7XG5cdFx0XHR0ZXh0ID0gdGV4dC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gKCBlbGVtLnRleHRDb250ZW50IHx8IGdldFRleHQoIGVsZW0gKSApLmluZGV4T2YoIHRleHQgKSA+IC0xO1xuXHRcdFx0fTtcblx0XHR9ICksXG5cblx0XHQvLyBcIldoZXRoZXIgYW4gZWxlbWVudCBpcyByZXByZXNlbnRlZCBieSBhIDpsYW5nKCkgc2VsZWN0b3Jcblx0XHQvLyBpcyBiYXNlZCBzb2xlbHkgb24gdGhlIGVsZW1lbnQncyBsYW5ndWFnZSB2YWx1ZVxuXHRcdC8vIGJlaW5nIGVxdWFsIHRvIHRoZSBpZGVudGlmaWVyIEMsXG5cdFx0Ly8gb3IgYmVnaW5uaW5nIHdpdGggdGhlIGlkZW50aWZpZXIgQyBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSBcIi1cIi5cblx0XHQvLyBUaGUgbWF0Y2hpbmcgb2YgQyBhZ2FpbnN0IHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWUgaXMgcGVyZm9ybWVkIGNhc2UtaW5zZW5zaXRpdmVseS5cblx0XHQvLyBUaGUgaWRlbnRpZmllciBDIGRvZXMgbm90IGhhdmUgdG8gYmUgYSB2YWxpZCBsYW5ndWFnZSBuYW1lLlwiXG5cdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNsYW5nLXBzZXVkb1xuXHRcdFwibGFuZ1wiOiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBsYW5nICkge1xuXG5cdFx0XHQvLyBsYW5nIHZhbHVlIG11c3QgYmUgYSB2YWxpZCBpZGVudGlmaWVyXG5cdFx0XHRpZiAoICFyaWRlbnRpZmllci50ZXN0KCBsYW5nIHx8IFwiXCIgKSApIHtcblx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIGxhbmc6IFwiICsgbGFuZyApO1xuXHRcdFx0fVxuXHRcdFx0bGFuZyA9IGxhbmcucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgZWxlbUxhbmc7XG5cdFx0XHRcdGRvIHtcblx0XHRcdFx0XHRpZiAoICggZWxlbUxhbmcgPSBkb2N1bWVudElzSFRNTCA/XG5cdFx0XHRcdFx0XHRlbGVtLmxhbmcgOlxuXHRcdFx0XHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGUoIFwieG1sOmxhbmdcIiApIHx8IGVsZW0uZ2V0QXR0cmlidXRlKCBcImxhbmdcIiApICkgKSB7XG5cblx0XHRcdFx0XHRcdGVsZW1MYW5nID0gZWxlbUxhbmcudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtTGFuZyA9PT0gbGFuZyB8fCBlbGVtTGFuZy5pbmRleE9mKCBsYW5nICsgXCItXCIgKSA9PT0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gd2hpbGUgKCAoIGVsZW0gPSBlbGVtLnBhcmVudE5vZGUgKSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH07XG5cdFx0fSApLFxuXG5cdFx0Ly8gTWlzY2VsbGFuZW91c1xuXHRcdFwidGFyZ2V0XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhhc2g7XG5cdFx0XHRyZXR1cm4gaGFzaCAmJiBoYXNoLnNsaWNlKCAxICkgPT09IGVsZW0uaWQ7XG5cdFx0fSxcblxuXHRcdFwicm9vdFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBkb2NFbGVtO1xuXHRcdH0sXG5cblx0XHRcImZvY3VzXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiZcblx0XHRcdFx0KCAhZG9jdW1lbnQuaGFzRm9jdXMgfHwgZG9jdW1lbnQuaGFzRm9jdXMoKSApICYmXG5cdFx0XHRcdCEhKCBlbGVtLnR5cGUgfHwgZWxlbS5ocmVmIHx8IH5lbGVtLnRhYkluZGV4ICk7XG5cdFx0fSxcblxuXHRcdC8vIEJvb2xlYW4gcHJvcGVydGllc1xuXHRcdFwiZW5hYmxlZFwiOiBjcmVhdGVEaXNhYmxlZFBzZXVkbyggZmFsc2UgKSxcblx0XHRcImRpc2FibGVkXCI6IGNyZWF0ZURpc2FibGVkUHNldWRvKCB0cnVlICksXG5cblx0XHRcImNoZWNrZWRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdC8vIEluIENTUzMsIDpjaGVja2VkIHNob3VsZCByZXR1cm4gYm90aCBjaGVja2VkIGFuZCBzZWxlY3RlZCBlbGVtZW50c1xuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMS9SRUMtY3NzMy1zZWxlY3RvcnMtMjAxMTA5MjkvI2NoZWNrZWRcblx0XHRcdHZhciBub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiAoIG5vZGVOYW1lID09PSBcImlucHV0XCIgJiYgISFlbGVtLmNoZWNrZWQgKSB8fFxuXHRcdFx0XHQoIG5vZGVOYW1lID09PSBcIm9wdGlvblwiICYmICEhZWxlbS5zZWxlY3RlZCApO1xuXHRcdH0sXG5cblx0XHRcInNlbGVjdGVkXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0XHQvLyBBY2Nlc3NpbmcgdGhpcyBwcm9wZXJ0eSBtYWtlcyBzZWxlY3RlZC1ieS1kZWZhdWx0XG5cdFx0XHQvLyBvcHRpb25zIGluIFNhZmFyaSB3b3JrIHByb3Blcmx5XG5cdFx0XHRpZiAoIGVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC1leHByZXNzaW9uc1xuXHRcdFx0XHRlbGVtLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGVsZW0uc2VsZWN0ZWQgPT09IHRydWU7XG5cdFx0fSxcblxuXHRcdC8vIENvbnRlbnRzXG5cdFx0XCJlbXB0eVwiOiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNlbXB0eS1wc2V1ZG9cblx0XHRcdC8vIDplbXB0eSBpcyBuZWdhdGVkIGJ5IGVsZW1lbnQgKDEpIG9yIGNvbnRlbnQgbm9kZXMgKHRleHQ6IDM7IGNkYXRhOiA0OyBlbnRpdHkgcmVmOiA1KSxcblx0XHRcdC8vICAgYnV0IG5vdCBieSBvdGhlcnMgKGNvbW1lbnQ6IDg7IHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb246IDc7IGV0Yy4pXG5cdFx0XHQvLyBub2RlVHlwZSA8IDYgd29ya3MgYmVjYXVzZSBhdHRyaWJ1dGVzICgyKSBkbyBub3QgYXBwZWFyIGFzIGNoaWxkcmVuXG5cdFx0XHRmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlIDwgNiApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0sXG5cblx0XHRcInBhcmVudFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAhRXhwci5wc2V1ZG9zWyBcImVtcHR5XCIgXSggZWxlbSApO1xuXHRcdH0sXG5cblx0XHQvLyBFbGVtZW50L2lucHV0IHR5cGVzXG5cdFx0XCJoZWFkZXJcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gcmhlYWRlci50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XG5cdFx0fSxcblxuXHRcdFwiaW5wdXRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gcmlucHV0cy50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XG5cdFx0fSxcblxuXHRcdFwiYnV0dG9uXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gbmFtZSA9PT0gXCJpbnB1dFwiICYmIGVsZW0udHlwZSA9PT0gXCJidXR0b25cIiB8fCBuYW1lID09PSBcImJ1dHRvblwiO1xuXHRcdH0sXG5cblx0XHRcInRleHRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgYXR0cjtcblx0XHRcdHJldHVybiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaW5wdXRcIiAmJlxuXHRcdFx0XHRlbGVtLnR5cGUgPT09IFwidGV4dFwiICYmXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUU8OFxuXHRcdFx0XHQvLyBOZXcgSFRNTDUgYXR0cmlidXRlIHZhbHVlcyAoZS5nLiwgXCJzZWFyY2hcIikgYXBwZWFyIHdpdGggZWxlbS50eXBlID09PSBcInRleHRcIlxuXHRcdFx0XHQoICggYXR0ciA9IGVsZW0uZ2V0QXR0cmlidXRlKCBcInR5cGVcIiApICkgPT0gbnVsbCB8fFxuXHRcdFx0XHRcdGF0dHIudG9Mb3dlckNhc2UoKSA9PT0gXCJ0ZXh0XCIgKTtcblx0XHR9LFxuXG5cdFx0Ly8gUG9zaXRpb24taW4tY29sbGVjdGlvblxuXHRcdFwiZmlyc3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gWyAwIF07XG5cdFx0fSApLFxuXG5cdFx0XCJsYXN0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCBfbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gWyBsZW5ndGggLSAxIF07XG5cdFx0fSApLFxuXG5cdFx0XCJlcVwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbiggX21hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdHJldHVybiBbIGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQgXTtcblx0XHR9ICksXG5cblx0XHRcImV2ZW5cIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpICs9IDIgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0gKSxcblxuXHRcdFwib2RkXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdHZhciBpID0gMTtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9ICksXG5cblx0XHRcImx0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7XG5cdFx0XHR2YXIgaSA9IGFyZ3VtZW50IDwgMCA/XG5cdFx0XHRcdGFyZ3VtZW50ICsgbGVuZ3RoIDpcblx0XHRcdFx0YXJndW1lbnQgPiBsZW5ndGggP1xuXHRcdFx0XHRcdGxlbmd0aCA6XG5cdFx0XHRcdFx0YXJndW1lbnQ7XG5cdFx0XHRmb3IgKCA7IC0taSA+PSAwOyApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSApLFxuXG5cdFx0XCJndFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0dmFyIGkgPSBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50O1xuXHRcdFx0Zm9yICggOyArK2kgPCBsZW5ndGg7ICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9IClcblx0fVxufTtcblxuRXhwci5wc2V1ZG9zWyBcIm50aFwiIF0gPSBFeHByLnBzZXVkb3NbIFwiZXFcIiBdO1xuXG4vLyBBZGQgYnV0dG9uL2lucHV0IHR5cGUgcHNldWRvc1xuZm9yICggaSBpbiB7IHJhZGlvOiB0cnVlLCBjaGVja2JveDogdHJ1ZSwgZmlsZTogdHJ1ZSwgcGFzc3dvcmQ6IHRydWUsIGltYWdlOiB0cnVlIH0gKSB7XG5cdEV4cHIucHNldWRvc1sgaSBdID0gY3JlYXRlSW5wdXRQc2V1ZG8oIGkgKTtcbn1cbmZvciAoIGkgaW4geyBzdWJtaXQ6IHRydWUsIHJlc2V0OiB0cnVlIH0gKSB7XG5cdEV4cHIucHNldWRvc1sgaSBdID0gY3JlYXRlQnV0dG9uUHNldWRvKCBpICk7XG59XG5cbi8vIEVhc3kgQVBJIGZvciBjcmVhdGluZyBuZXcgc2V0RmlsdGVyc1xuZnVuY3Rpb24gc2V0RmlsdGVycygpIHt9XG5zZXRGaWx0ZXJzLnByb3RvdHlwZSA9IEV4cHIuZmlsdGVycyA9IEV4cHIucHNldWRvcztcbkV4cHIuc2V0RmlsdGVycyA9IG5ldyBzZXRGaWx0ZXJzKCk7XG5cbnRva2VuaXplID0gU2l6emxlLnRva2VuaXplID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBwYXJzZU9ubHkgKSB7XG5cdHZhciBtYXRjaGVkLCBtYXRjaCwgdG9rZW5zLCB0eXBlLFxuXHRcdHNvRmFyLCBncm91cHMsIHByZUZpbHRlcnMsXG5cdFx0Y2FjaGVkID0gdG9rZW5DYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xuXG5cdGlmICggY2FjaGVkICkge1xuXHRcdHJldHVybiBwYXJzZU9ubHkgPyAwIDogY2FjaGVkLnNsaWNlKCAwICk7XG5cdH1cblxuXHRzb0ZhciA9IHNlbGVjdG9yO1xuXHRncm91cHMgPSBbXTtcblx0cHJlRmlsdGVycyA9IEV4cHIucHJlRmlsdGVyO1xuXG5cdHdoaWxlICggc29GYXIgKSB7XG5cblx0XHQvLyBDb21tYSBhbmQgZmlyc3QgcnVuXG5cdFx0aWYgKCAhbWF0Y2hlZCB8fCAoIG1hdGNoID0gcmNvbW1hLmV4ZWMoIHNvRmFyICkgKSApIHtcblx0XHRcdGlmICggbWF0Y2ggKSB7XG5cblx0XHRcdFx0Ly8gRG9uJ3QgY29uc3VtZSB0cmFpbGluZyBjb21tYXMgYXMgdmFsaWRcblx0XHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hbIDAgXS5sZW5ndGggKSB8fCBzb0Zhcjtcblx0XHRcdH1cblx0XHRcdGdyb3Vwcy5wdXNoKCAoIHRva2VucyA9IFtdICkgKTtcblx0XHR9XG5cblx0XHRtYXRjaGVkID0gZmFsc2U7XG5cblx0XHQvLyBDb21iaW5hdG9yc1xuXHRcdGlmICggKCBtYXRjaCA9IHJjb21iaW5hdG9ycy5leGVjKCBzb0ZhciApICkgKSB7XG5cdFx0XHRtYXRjaGVkID0gbWF0Y2guc2hpZnQoKTtcblx0XHRcdHRva2Vucy5wdXNoKCB7XG5cdFx0XHRcdHZhbHVlOiBtYXRjaGVkLFxuXG5cdFx0XHRcdC8vIENhc3QgZGVzY2VuZGFudCBjb21iaW5hdG9ycyB0byBzcGFjZVxuXHRcdFx0XHR0eXBlOiBtYXRjaFsgMCBdLnJlcGxhY2UoIHJ0cmltLCBcIiBcIiApXG5cdFx0XHR9ICk7XG5cdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xuXHRcdH1cblxuXHRcdC8vIEZpbHRlcnNcblx0XHRmb3IgKCB0eXBlIGluIEV4cHIuZmlsdGVyICkge1xuXHRcdFx0aWYgKCAoIG1hdGNoID0gbWF0Y2hFeHByWyB0eXBlIF0uZXhlYyggc29GYXIgKSApICYmICggIXByZUZpbHRlcnNbIHR5cGUgXSB8fFxuXHRcdFx0XHQoIG1hdGNoID0gcHJlRmlsdGVyc1sgdHlwZSBdKCBtYXRjaCApICkgKSApIHtcblx0XHRcdFx0bWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XG5cdFx0XHRcdHRva2Vucy5wdXNoKCB7XG5cdFx0XHRcdFx0dmFsdWU6IG1hdGNoZWQsXG5cdFx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0XHRtYXRjaGVzOiBtYXRjaFxuXHRcdFx0XHR9ICk7XG5cdFx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoZWQubGVuZ3RoICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCAhbWF0Y2hlZCApIHtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbGVuZ3RoIG9mIHRoZSBpbnZhbGlkIGV4Y2Vzc1xuXHQvLyBpZiB3ZSdyZSBqdXN0IHBhcnNpbmdcblx0Ly8gT3RoZXJ3aXNlLCB0aHJvdyBhbiBlcnJvciBvciByZXR1cm4gdG9rZW5zXG5cdHJldHVybiBwYXJzZU9ubHkgP1xuXHRcdHNvRmFyLmxlbmd0aCA6XG5cdFx0c29GYXIgP1xuXHRcdFx0U2l6emxlLmVycm9yKCBzZWxlY3RvciApIDpcblxuXHRcdFx0Ly8gQ2FjaGUgdGhlIHRva2Vuc1xuXHRcdFx0dG9rZW5DYWNoZSggc2VsZWN0b3IsIGdyb3VwcyApLnNsaWNlKCAwICk7XG59O1xuXG5mdW5jdGlvbiB0b1NlbGVjdG9yKCB0b2tlbnMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSB0b2tlbnMubGVuZ3RoLFxuXHRcdHNlbGVjdG9yID0gXCJcIjtcblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0c2VsZWN0b3IgKz0gdG9rZW5zWyBpIF0udmFsdWU7XG5cdH1cblx0cmV0dXJuIHNlbGVjdG9yO1xufVxuXG5mdW5jdGlvbiBhZGRDb21iaW5hdG9yKCBtYXRjaGVyLCBjb21iaW5hdG9yLCBiYXNlICkge1xuXHR2YXIgZGlyID0gY29tYmluYXRvci5kaXIsXG5cdFx0c2tpcCA9IGNvbWJpbmF0b3IubmV4dCxcblx0XHRrZXkgPSBza2lwIHx8IGRpcixcblx0XHRjaGVja05vbkVsZW1lbnRzID0gYmFzZSAmJiBrZXkgPT09IFwicGFyZW50Tm9kZVwiLFxuXHRcdGRvbmVOYW1lID0gZG9uZSsrO1xuXG5cdHJldHVybiBjb21iaW5hdG9yLmZpcnN0ID9cblxuXHRcdC8vIENoZWNrIGFnYWluc3QgY2xvc2VzdCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudFxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IGVsZW1bIGRpciBdICkgKSB7XG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkge1xuXHRcdFx0XHRcdHJldHVybiBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0gOlxuXG5cdFx0Ly8gQ2hlY2sgYWdhaW5zdCBhbGwgYW5jZXN0b3IvcHJlY2VkaW5nIGVsZW1lbnRzXG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHZhciBvbGRDYWNoZSwgdW5pcXVlQ2FjaGUsIG91dGVyQ2FjaGUsXG5cdFx0XHRcdG5ld0NhY2hlID0gWyBkaXJydW5zLCBkb25lTmFtZSBdO1xuXG5cdFx0XHQvLyBXZSBjYW4ndCBzZXQgYXJiaXRyYXJ5IGRhdGEgb24gWE1MIG5vZGVzLCBzbyB0aGV5IGRvbid0IGJlbmVmaXQgZnJvbSBjb21iaW5hdG9yIGNhY2hpbmdcblx0XHRcdGlmICggeG1sICkge1xuXHRcdFx0XHR3aGlsZSAoICggZWxlbSA9IGVsZW1bIGRpciBdICkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdoaWxlICggKCBlbGVtID0gZWxlbVsgZGlyIF0gKSApIHtcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcblx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBlbGVtWyBleHBhbmRvIF0gfHwgKCBlbGVtWyBleHBhbmRvIF0gPSB7fSApO1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcblx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgZWxlbS51bmlxdWVJRCBdIHx8XG5cdFx0XHRcdFx0XHRcdCggb3V0ZXJDYWNoZVsgZWxlbS51bmlxdWVJRCBdID0ge30gKTtcblxuXHRcdFx0XHRcdFx0aWYgKCBza2lwICYmIHNraXAgPT09IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSApIHtcblx0XHRcdFx0XHRcdFx0ZWxlbSA9IGVsZW1bIGRpciBdIHx8IGVsZW07XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCAoIG9sZENhY2hlID0gdW5pcXVlQ2FjaGVbIGtleSBdICkgJiZcblx0XHRcdFx0XHRcdFx0b2xkQ2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBvbGRDYWNoZVsgMSBdID09PSBkb25lTmFtZSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBBc3NpZ24gdG8gbmV3Q2FjaGUgc28gcmVzdWx0cyBiYWNrLXByb3BhZ2F0ZSB0byBwcmV2aW91cyBlbGVtZW50c1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gKCBuZXdDYWNoZVsgMiBdID0gb2xkQ2FjaGVbIDIgXSApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBSZXVzZSBuZXdjYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXG5cdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyBrZXkgXSA9IG5ld0NhY2hlO1xuXG5cdFx0XHRcdFx0XHRcdC8vIEEgbWF0Y2ggbWVhbnMgd2UncmUgZG9uZTsgYSBmYWlsIG1lYW5zIHdlIGhhdmUgdG8ga2VlcCBjaGVja2luZ1xuXHRcdFx0XHRcdFx0XHRpZiAoICggbmV3Q2FjaGVbIDIgXSA9IG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9O1xufVxuXG5mdW5jdGlvbiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSB7XG5cdHJldHVybiBtYXRjaGVycy5sZW5ndGggPiAxID9cblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIGkgPSBtYXRjaGVycy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0aWYgKCAhbWF0Y2hlcnNbIGkgXSggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9IDpcblx0XHRtYXRjaGVyc1sgMCBdO1xufVxuXG5mdW5jdGlvbiBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciwgY29udGV4dHMsIHJlc3VsdHMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSBjb250ZXh0cy5sZW5ndGg7XG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHRzWyBpIF0sIHJlc3VsdHMgKTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0cztcbn1cblxuZnVuY3Rpb24gY29uZGVuc2UoIHVubWF0Y2hlZCwgbWFwLCBmaWx0ZXIsIGNvbnRleHQsIHhtbCApIHtcblx0dmFyIGVsZW0sXG5cdFx0bmV3VW5tYXRjaGVkID0gW10sXG5cdFx0aSA9IDAsXG5cdFx0bGVuID0gdW5tYXRjaGVkLmxlbmd0aCxcblx0XHRtYXBwZWQgPSBtYXAgIT0gbnVsbDtcblxuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRpZiAoICggZWxlbSA9IHVubWF0Y2hlZFsgaSBdICkgKSB7XG5cdFx0XHRpZiAoICFmaWx0ZXIgfHwgZmlsdGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0bmV3VW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0aWYgKCBtYXBwZWQgKSB7XG5cdFx0XHRcdFx0bWFwLnB1c2goIGkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBuZXdVbm1hdGNoZWQ7XG59XG5cbmZ1bmN0aW9uIHNldE1hdGNoZXIoIHByZUZpbHRlciwgc2VsZWN0b3IsIG1hdGNoZXIsIHBvc3RGaWx0ZXIsIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApIHtcblx0aWYgKCBwb3N0RmlsdGVyICYmICFwb3N0RmlsdGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0cG9zdEZpbHRlciA9IHNldE1hdGNoZXIoIHBvc3RGaWx0ZXIgKTtcblx0fVxuXHRpZiAoIHBvc3RGaW5kZXIgJiYgIXBvc3RGaW5kZXJbIGV4cGFuZG8gXSApIHtcblx0XHRwb3N0RmluZGVyID0gc2V0TWF0Y2hlciggcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICk7XG5cdH1cblx0cmV0dXJuIG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIHNlZWQsIHJlc3VsdHMsIGNvbnRleHQsIHhtbCApIHtcblx0XHR2YXIgdGVtcCwgaSwgZWxlbSxcblx0XHRcdHByZU1hcCA9IFtdLFxuXHRcdFx0cG9zdE1hcCA9IFtdLFxuXHRcdFx0cHJlZXhpc3RpbmcgPSByZXN1bHRzLmxlbmd0aCxcblxuXHRcdFx0Ly8gR2V0IGluaXRpYWwgZWxlbWVudHMgZnJvbSBzZWVkIG9yIGNvbnRleHRcblx0XHRcdGVsZW1zID0gc2VlZCB8fCBtdWx0aXBsZUNvbnRleHRzKFxuXHRcdFx0XHRzZWxlY3RvciB8fCBcIipcIixcblx0XHRcdFx0Y29udGV4dC5ub2RlVHlwZSA/IFsgY29udGV4dCBdIDogY29udGV4dCxcblx0XHRcdFx0W11cblx0XHRcdCksXG5cblx0XHRcdC8vIFByZWZpbHRlciB0byBnZXQgbWF0Y2hlciBpbnB1dCwgcHJlc2VydmluZyBhIG1hcCBmb3Igc2VlZC1yZXN1bHRzIHN5bmNocm9uaXphdGlvblxuXHRcdFx0bWF0Y2hlckluID0gcHJlRmlsdGVyICYmICggc2VlZCB8fCAhc2VsZWN0b3IgKSA/XG5cdFx0XHRcdGNvbmRlbnNlKCBlbGVtcywgcHJlTWFwLCBwcmVGaWx0ZXIsIGNvbnRleHQsIHhtbCApIDpcblx0XHRcdFx0ZWxlbXMsXG5cblx0XHRcdG1hdGNoZXJPdXQgPSBtYXRjaGVyID9cblxuXHRcdFx0XHQvLyBJZiB3ZSBoYXZlIGEgcG9zdEZpbmRlciwgb3IgZmlsdGVyZWQgc2VlZCwgb3Igbm9uLXNlZWQgcG9zdEZpbHRlciBvciBwcmVleGlzdGluZyByZXN1bHRzLFxuXHRcdFx0XHRwb3N0RmluZGVyIHx8ICggc2VlZCA/IHByZUZpbHRlciA6IHByZWV4aXN0aW5nIHx8IHBvc3RGaWx0ZXIgKSA/XG5cblx0XHRcdFx0XHQvLyAuLi5pbnRlcm1lZGlhdGUgcHJvY2Vzc2luZyBpcyBuZWNlc3Nhcnlcblx0XHRcdFx0XHRbXSA6XG5cblx0XHRcdFx0XHQvLyAuLi5vdGhlcndpc2UgdXNlIHJlc3VsdHMgZGlyZWN0bHlcblx0XHRcdFx0XHRyZXN1bHRzIDpcblx0XHRcdFx0bWF0Y2hlckluO1xuXG5cdFx0Ly8gRmluZCBwcmltYXJ5IG1hdGNoZXNcblx0XHRpZiAoIG1hdGNoZXIgKSB7XG5cdFx0XHRtYXRjaGVyKCBtYXRjaGVySW4sIG1hdGNoZXJPdXQsIGNvbnRleHQsIHhtbCApO1xuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHBvc3RGaWx0ZXJcblx0XHRpZiAoIHBvc3RGaWx0ZXIgKSB7XG5cdFx0XHR0ZW1wID0gY29uZGVuc2UoIG1hdGNoZXJPdXQsIHBvc3RNYXAgKTtcblx0XHRcdHBvc3RGaWx0ZXIoIHRlbXAsIFtdLCBjb250ZXh0LCB4bWwgKTtcblxuXHRcdFx0Ly8gVW4tbWF0Y2ggZmFpbGluZyBlbGVtZW50cyBieSBtb3ZpbmcgdGhlbSBiYWNrIHRvIG1hdGNoZXJJblxuXHRcdFx0aSA9IHRlbXAubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGlmICggKCBlbGVtID0gdGVtcFsgaSBdICkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlck91dFsgcG9zdE1hcFsgaSBdIF0gPSAhKCBtYXRjaGVySW5bIHBvc3RNYXBbIGkgXSBdID0gZWxlbSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0aWYgKCBwb3N0RmluZGVyIHx8IHByZUZpbHRlciApIHtcblx0XHRcdFx0aWYgKCBwb3N0RmluZGVyICkge1xuXG5cdFx0XHRcdFx0Ly8gR2V0IHRoZSBmaW5hbCBtYXRjaGVyT3V0IGJ5IGNvbmRlbnNpbmcgdGhpcyBpbnRlcm1lZGlhdGUgaW50byBwb3N0RmluZGVyIGNvbnRleHRzXG5cdFx0XHRcdFx0dGVtcCA9IFtdO1xuXHRcdFx0XHRcdGkgPSBtYXRjaGVyT3V0Lmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdGlmICggKCBlbGVtID0gbWF0Y2hlck91dFsgaSBdICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gUmVzdG9yZSBtYXRjaGVySW4gc2luY2UgZWxlbSBpcyBub3QgeWV0IGEgZmluYWwgbWF0Y2hcblx0XHRcdFx0XHRcdFx0dGVtcC5wdXNoKCAoIG1hdGNoZXJJblsgaSBdID0gZWxlbSApICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHBvc3RGaW5kZXIoIG51bGwsICggbWF0Y2hlck91dCA9IFtdICksIHRlbXAsIHhtbCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gTW92ZSBtYXRjaGVkIGVsZW1lbnRzIGZyb20gc2VlZCB0byByZXN1bHRzIHRvIGtlZXAgdGhlbSBzeW5jaHJvbml6ZWRcblx0XHRcdFx0aSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xuXHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRpZiAoICggZWxlbSA9IG1hdGNoZXJPdXRbIGkgXSApICYmXG5cdFx0XHRcdFx0XHQoIHRlbXAgPSBwb3N0RmluZGVyID8gaW5kZXhPZiggc2VlZCwgZWxlbSApIDogcHJlTWFwWyBpIF0gKSA+IC0xICkge1xuXG5cdFx0XHRcdFx0XHRzZWVkWyB0ZW1wIF0gPSAhKCByZXN1bHRzWyB0ZW1wIF0gPSBlbGVtICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBBZGQgZWxlbWVudHMgdG8gcmVzdWx0cywgdGhyb3VnaCBwb3N0RmluZGVyIGlmIGRlZmluZWRcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWF0Y2hlck91dCA9IGNvbmRlbnNlKFxuXHRcdFx0XHRtYXRjaGVyT3V0ID09PSByZXN1bHRzID9cblx0XHRcdFx0XHRtYXRjaGVyT3V0LnNwbGljZSggcHJlZXhpc3RpbmcsIG1hdGNoZXJPdXQubGVuZ3RoICkgOlxuXHRcdFx0XHRcdG1hdGNoZXJPdXRcblx0XHRcdCk7XG5cdFx0XHRpZiAoIHBvc3RGaW5kZXIgKSB7XG5cdFx0XHRcdHBvc3RGaW5kZXIoIG51bGwsIHJlc3VsdHMsIG1hdGNoZXJPdXQsIHhtbCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgbWF0Y2hlck91dCApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSApO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVyRnJvbVRva2VucyggdG9rZW5zICkge1xuXHR2YXIgY2hlY2tDb250ZXh0LCBtYXRjaGVyLCBqLFxuXHRcdGxlbiA9IHRva2Vucy5sZW5ndGgsXG5cdFx0bGVhZGluZ1JlbGF0aXZlID0gRXhwci5yZWxhdGl2ZVsgdG9rZW5zWyAwIF0udHlwZSBdLFxuXHRcdGltcGxpY2l0UmVsYXRpdmUgPSBsZWFkaW5nUmVsYXRpdmUgfHwgRXhwci5yZWxhdGl2ZVsgXCIgXCIgXSxcblx0XHRpID0gbGVhZGluZ1JlbGF0aXZlID8gMSA6IDAsXG5cblx0XHQvLyBUaGUgZm91bmRhdGlvbmFsIG1hdGNoZXIgZW5zdXJlcyB0aGF0IGVsZW1lbnRzIGFyZSByZWFjaGFibGUgZnJvbSB0b3AtbGV2ZWwgY29udGV4dChzKVxuXHRcdG1hdGNoQ29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGNoZWNrQ29udGV4dDtcblx0XHR9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksXG5cdFx0bWF0Y2hBbnlDb250ZXh0ID0gYWRkQ29tYmluYXRvciggZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gaW5kZXhPZiggY2hlY2tDb250ZXh0LCBlbGVtICkgPiAtMTtcblx0XHR9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksXG5cdFx0bWF0Y2hlcnMgPSBbIGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR2YXIgcmV0ID0gKCAhbGVhZGluZ1JlbGF0aXZlICYmICggeG1sIHx8IGNvbnRleHQgIT09IG91dGVybW9zdENvbnRleHQgKSApIHx8IChcblx0XHRcdFx0KCBjaGVja0NvbnRleHQgPSBjb250ZXh0ICkubm9kZVR5cGUgP1xuXHRcdFx0XHRcdG1hdGNoQ29udGV4dCggZWxlbSwgY29udGV4dCwgeG1sICkgOlxuXHRcdFx0XHRcdG1hdGNoQW55Q29udGV4dCggZWxlbSwgY29udGV4dCwgeG1sICkgKTtcblxuXHRcdFx0Ly8gQXZvaWQgaGFuZ2luZyBvbnRvIGVsZW1lbnQgKGlzc3VlICMyOTkpXG5cdFx0XHRjaGVja0NvbnRleHQgPSBudWxsO1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9IF07XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAoIG1hdGNoZXIgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbIGkgXS50eXBlIF0gKSApIHtcblx0XHRcdG1hdGNoZXJzID0gWyBhZGRDb21iaW5hdG9yKCBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSwgbWF0Y2hlciApIF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdG1hdGNoZXIgPSBFeHByLmZpbHRlclsgdG9rZW5zWyBpIF0udHlwZSBdLmFwcGx5KCBudWxsLCB0b2tlbnNbIGkgXS5tYXRjaGVzICk7XG5cblx0XHRcdC8vIFJldHVybiBzcGVjaWFsIHVwb24gc2VlaW5nIGEgcG9zaXRpb25hbCBtYXRjaGVyXG5cdFx0XHRpZiAoIG1hdGNoZXJbIGV4cGFuZG8gXSApIHtcblxuXHRcdFx0XHQvLyBGaW5kIHRoZSBuZXh0IHJlbGF0aXZlIG9wZXJhdG9yIChpZiBhbnkpIGZvciBwcm9wZXIgaGFuZGxpbmdcblx0XHRcdFx0aiA9ICsraTtcblx0XHRcdFx0Zm9yICggOyBqIDwgbGVuOyBqKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBFeHByLnJlbGF0aXZlWyB0b2tlbnNbIGogXS50eXBlIF0gKSB7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHNldE1hdGNoZXIoXG5cdFx0XHRcdFx0aSA+IDEgJiYgZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksXG5cdFx0XHRcdFx0aSA+IDEgJiYgdG9TZWxlY3RvcihcblxuXHRcdFx0XHRcdC8vIElmIHRoZSBwcmVjZWRpbmcgdG9rZW4gd2FzIGEgZGVzY2VuZGFudCBjb21iaW5hdG9yLCBpbnNlcnQgYW4gaW1wbGljaXQgYW55LWVsZW1lbnQgYCpgXG5cdFx0XHRcdFx0dG9rZW5zXG5cdFx0XHRcdFx0XHQuc2xpY2UoIDAsIGkgLSAxIClcblx0XHRcdFx0XHRcdC5jb25jYXQoIHsgdmFsdWU6IHRva2Vuc1sgaSAtIDIgXS50eXBlID09PSBcIiBcIiA/IFwiKlwiIDogXCJcIiB9IClcblx0XHRcdFx0XHQpLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSxcblx0XHRcdFx0XHRtYXRjaGVyLFxuXHRcdFx0XHRcdGkgPCBqICYmIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMuc2xpY2UoIGksIGogKSApLFxuXHRcdFx0XHRcdGogPCBsZW4gJiYgbWF0Y2hlckZyb21Ub2tlbnMoICggdG9rZW5zID0gdG9rZW5zLnNsaWNlKCBqICkgKSApLFxuXHRcdFx0XHRcdGogPCBsZW4gJiYgdG9TZWxlY3RvciggdG9rZW5zIClcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdG1hdGNoZXJzLnB1c2goIG1hdGNoZXIgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApIHtcblx0dmFyIGJ5U2V0ID0gc2V0TWF0Y2hlcnMubGVuZ3RoID4gMCxcblx0XHRieUVsZW1lbnQgPSBlbGVtZW50TWF0Y2hlcnMubGVuZ3RoID4gMCxcblx0XHRzdXBlck1hdGNoZXIgPSBmdW5jdGlvbiggc2VlZCwgY29udGV4dCwgeG1sLCByZXN1bHRzLCBvdXRlcm1vc3QgKSB7XG5cdFx0XHR2YXIgZWxlbSwgaiwgbWF0Y2hlcixcblx0XHRcdFx0bWF0Y2hlZENvdW50ID0gMCxcblx0XHRcdFx0aSA9IFwiMFwiLFxuXHRcdFx0XHR1bm1hdGNoZWQgPSBzZWVkICYmIFtdLFxuXHRcdFx0XHRzZXRNYXRjaGVkID0gW10sXG5cdFx0XHRcdGNvbnRleHRCYWNrdXAgPSBvdXRlcm1vc3RDb250ZXh0LFxuXG5cdFx0XHRcdC8vIFdlIG11c3QgYWx3YXlzIGhhdmUgZWl0aGVyIHNlZWQgZWxlbWVudHMgb3Igb3V0ZXJtb3N0IGNvbnRleHRcblx0XHRcdFx0ZWxlbXMgPSBzZWVkIHx8IGJ5RWxlbWVudCAmJiBFeHByLmZpbmRbIFwiVEFHXCIgXSggXCIqXCIsIG91dGVybW9zdCApLFxuXG5cdFx0XHRcdC8vIFVzZSBpbnRlZ2VyIGRpcnJ1bnMgaWZmIHRoaXMgaXMgdGhlIG91dGVybW9zdCBtYXRjaGVyXG5cdFx0XHRcdGRpcnJ1bnNVbmlxdWUgPSAoIGRpcnJ1bnMgKz0gY29udGV4dEJhY2t1cCA9PSBudWxsID8gMSA6IE1hdGgucmFuZG9tKCkgfHwgMC4xICksXG5cdFx0XHRcdGxlbiA9IGVsZW1zLmxlbmd0aDtcblxuXHRcdFx0aWYgKCBvdXRlcm1vc3QgKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdFx0XHRcdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHRcdFx0XHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0XHRcdFx0b3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHQgPT0gZG9jdW1lbnQgfHwgY29udGV4dCB8fCBvdXRlcm1vc3Q7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBlbGVtZW50cyBwYXNzaW5nIGVsZW1lbnRNYXRjaGVycyBkaXJlY3RseSB0byByZXN1bHRzXG5cdFx0XHQvLyBTdXBwb3J0OiBJRTw5LCBTYWZhcmlcblx0XHRcdC8vIFRvbGVyYXRlIE5vZGVMaXN0IHByb3BlcnRpZXMgKElFOiBcImxlbmd0aFwiOyBTYWZhcmk6IDxudW1iZXI+KSBtYXRjaGluZyBlbGVtZW50cyBieSBpZFxuXHRcdFx0Zm9yICggOyBpICE9PSBsZW4gJiYgKCBlbGVtID0gZWxlbXNbIGkgXSApICE9IG51bGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBieUVsZW1lbnQgJiYgZWxlbSApIHtcblx0XHRcdFx0XHRqID0gMDtcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHRcdFx0XHRcdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHRcdFx0XHRcdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdFx0XHRcdFx0aWYgKCAhY29udGV4dCAmJiBlbGVtLm93bmVyRG9jdW1lbnQgIT0gZG9jdW1lbnQgKSB7XG5cdFx0XHRcdFx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHRcdFx0XHRcdFx0eG1sID0gIWRvY3VtZW50SXNIVE1MO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR3aGlsZSAoICggbWF0Y2hlciA9IGVsZW1lbnRNYXRjaGVyc1sgaisrIF0gKSApIHtcblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlciggZWxlbSwgY29udGV4dCB8fCBkb2N1bWVudCwgeG1sICkgKSB7XG5cdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBvdXRlcm1vc3QgKSB7XG5cdFx0XHRcdFx0XHRkaXJydW5zID0gZGlycnVuc1VuaXF1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBUcmFjayB1bm1hdGNoZWQgZWxlbWVudHMgZm9yIHNldCBmaWx0ZXJzXG5cdFx0XHRcdGlmICggYnlTZXQgKSB7XG5cblx0XHRcdFx0XHQvLyBUaGV5IHdpbGwgaGF2ZSBnb25lIHRocm91Z2ggYWxsIHBvc3NpYmxlIG1hdGNoZXJzXG5cdFx0XHRcdFx0aWYgKCAoIGVsZW0gPSAhbWF0Y2hlciAmJiBlbGVtICkgKSB7XG5cdFx0XHRcdFx0XHRtYXRjaGVkQ291bnQtLTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBMZW5ndGhlbiB0aGUgYXJyYXkgZm9yIGV2ZXJ5IGVsZW1lbnQsIG1hdGNoZWQgb3Igbm90XG5cdFx0XHRcdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0XHRcdFx0dW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gYGlgIGlzIG5vdyB0aGUgY291bnQgb2YgZWxlbWVudHMgdmlzaXRlZCBhYm92ZSwgYW5kIGFkZGluZyBpdCB0byBgbWF0Y2hlZENvdW50YFxuXHRcdFx0Ly8gbWFrZXMgdGhlIGxhdHRlciBub25uZWdhdGl2ZS5cblx0XHRcdG1hdGNoZWRDb3VudCArPSBpO1xuXG5cdFx0XHQvLyBBcHBseSBzZXQgZmlsdGVycyB0byB1bm1hdGNoZWQgZWxlbWVudHNcblx0XHRcdC8vIE5PVEU6IFRoaXMgY2FuIGJlIHNraXBwZWQgaWYgdGhlcmUgYXJlIG5vIHVubWF0Y2hlZCBlbGVtZW50cyAoaS5lLiwgYG1hdGNoZWRDb3VudGBcblx0XHRcdC8vIGVxdWFscyBgaWApLCB1bmxlc3Mgd2UgZGlkbid0IHZpc2l0IF9hbnlfIGVsZW1lbnRzIGluIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgaGF2ZVxuXHRcdFx0Ly8gbm8gZWxlbWVudCBtYXRjaGVycyBhbmQgbm8gc2VlZC5cblx0XHRcdC8vIEluY3JlbWVudGluZyBhbiBpbml0aWFsbHktc3RyaW5nIFwiMFwiIGBpYCBhbGxvd3MgYGlgIHRvIHJlbWFpbiBhIHN0cmluZyBvbmx5IGluIHRoYXRcblx0XHRcdC8vIGNhc2UsIHdoaWNoIHdpbGwgcmVzdWx0IGluIGEgXCIwMFwiIGBtYXRjaGVkQ291bnRgIHRoYXQgZGlmZmVycyBmcm9tIGBpYCBidXQgaXMgYWxzb1xuXHRcdFx0Ly8gbnVtZXJpY2FsbHkgemVyby5cblx0XHRcdGlmICggYnlTZXQgJiYgaSAhPT0gbWF0Y2hlZENvdW50ICkge1xuXHRcdFx0XHRqID0gMDtcblx0XHRcdFx0d2hpbGUgKCAoIG1hdGNoZXIgPSBzZXRNYXRjaGVyc1sgaisrIF0gKSApIHtcblx0XHRcdFx0XHRtYXRjaGVyKCB1bm1hdGNoZWQsIHNldE1hdGNoZWQsIGNvbnRleHQsIHhtbCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBzZWVkICkge1xuXG5cdFx0XHRcdFx0Ly8gUmVpbnRlZ3JhdGUgZWxlbWVudCBtYXRjaGVzIHRvIGVsaW1pbmF0ZSB0aGUgbmVlZCBmb3Igc29ydGluZ1xuXHRcdFx0XHRcdGlmICggbWF0Y2hlZENvdW50ID4gMCApIHtcblx0XHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoICEoIHVubWF0Y2hlZFsgaSBdIHx8IHNldE1hdGNoZWRbIGkgXSApICkge1xuXHRcdFx0XHRcdFx0XHRcdHNldE1hdGNoZWRbIGkgXSA9IHBvcC5jYWxsKCByZXN1bHRzICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBEaXNjYXJkIGluZGV4IHBsYWNlaG9sZGVyIHZhbHVlcyB0byBnZXQgb25seSBhY3R1YWwgbWF0Y2hlc1xuXHRcdFx0XHRcdHNldE1hdGNoZWQgPSBjb25kZW5zZSggc2V0TWF0Y2hlZCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQWRkIG1hdGNoZXMgdG8gcmVzdWx0c1xuXHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBzZXRNYXRjaGVkICk7XG5cblx0XHRcdFx0Ly8gU2VlZGxlc3Mgc2V0IG1hdGNoZXMgc3VjY2VlZGluZyBtdWx0aXBsZSBzdWNjZXNzZnVsIG1hdGNoZXJzIHN0aXB1bGF0ZSBzb3J0aW5nXG5cdFx0XHRcdGlmICggb3V0ZXJtb3N0ICYmICFzZWVkICYmIHNldE1hdGNoZWQubGVuZ3RoID4gMCAmJlxuXHRcdFx0XHRcdCggbWF0Y2hlZENvdW50ICsgc2V0TWF0Y2hlcnMubGVuZ3RoICkgPiAxICkge1xuXG5cdFx0XHRcdFx0U2l6emxlLnVuaXF1ZVNvcnQoIHJlc3VsdHMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBPdmVycmlkZSBtYW5pcHVsYXRpb24gb2YgZ2xvYmFscyBieSBuZXN0ZWQgbWF0Y2hlcnNcblx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRkaXJydW5zID0gZGlycnVuc1VuaXF1ZTtcblx0XHRcdFx0b3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHRCYWNrdXA7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB1bm1hdGNoZWQ7XG5cdFx0fTtcblxuXHRyZXR1cm4gYnlTZXQgP1xuXHRcdG1hcmtGdW5jdGlvbiggc3VwZXJNYXRjaGVyICkgOlxuXHRcdHN1cGVyTWF0Y2hlcjtcbn1cblxuY29tcGlsZSA9IFNpenpsZS5jb21waWxlID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBtYXRjaCAvKiBJbnRlcm5hbCBVc2UgT25seSAqLyApIHtcblx0dmFyIGksXG5cdFx0c2V0TWF0Y2hlcnMgPSBbXSxcblx0XHRlbGVtZW50TWF0Y2hlcnMgPSBbXSxcblx0XHRjYWNoZWQgPSBjb21waWxlckNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF07XG5cblx0aWYgKCAhY2FjaGVkICkge1xuXG5cdFx0Ly8gR2VuZXJhdGUgYSBmdW5jdGlvbiBvZiByZWN1cnNpdmUgZnVuY3Rpb25zIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2hlY2sgZWFjaCBlbGVtZW50XG5cdFx0aWYgKCAhbWF0Y2ggKSB7XG5cdFx0XHRtYXRjaCA9IHRva2VuaXplKCBzZWxlY3RvciApO1xuXHRcdH1cblx0XHRpID0gbWF0Y2gubGVuZ3RoO1xuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0Y2FjaGVkID0gbWF0Y2hlckZyb21Ub2tlbnMoIG1hdGNoWyBpIF0gKTtcblx0XHRcdGlmICggY2FjaGVkWyBleHBhbmRvIF0gKSB7XG5cdFx0XHRcdHNldE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbWVudE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhY2hlIHRoZSBjb21waWxlZCBmdW5jdGlvblxuXHRcdGNhY2hlZCA9IGNvbXBpbGVyQ2FjaGUoXG5cdFx0XHRzZWxlY3Rvcixcblx0XHRcdG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApXG5cdFx0KTtcblxuXHRcdC8vIFNhdmUgc2VsZWN0b3IgYW5kIHRva2VuaXphdGlvblxuXHRcdGNhY2hlZC5zZWxlY3RvciA9IHNlbGVjdG9yO1xuXHR9XG5cdHJldHVybiBjYWNoZWQ7XG59O1xuXG4vKipcbiAqIEEgbG93LWxldmVsIHNlbGVjdGlvbiBmdW5jdGlvbiB0aGF0IHdvcmtzIHdpdGggU2l6emxlJ3MgY29tcGlsZWRcbiAqICBzZWxlY3RvciBmdW5jdGlvbnNcbiAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBzZWxlY3RvciBBIHNlbGVjdG9yIG9yIGEgcHJlLWNvbXBpbGVkXG4gKiAgc2VsZWN0b3IgZnVuY3Rpb24gYnVpbHQgd2l0aCBTaXp6bGUuY29tcGlsZVxuICogQHBhcmFtIHtFbGVtZW50fSBjb250ZXh0XG4gKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0c11cbiAqIEBwYXJhbSB7QXJyYXl9IFtzZWVkXSBBIHNldCBvZiBlbGVtZW50cyB0byBtYXRjaCBhZ2FpbnN0XG4gKi9cbnNlbGVjdCA9IFNpenpsZS5zZWxlY3QgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKSB7XG5cdHZhciBpLCB0b2tlbnMsIHRva2VuLCB0eXBlLCBmaW5kLFxuXHRcdGNvbXBpbGVkID0gdHlwZW9mIHNlbGVjdG9yID09PSBcImZ1bmN0aW9uXCIgJiYgc2VsZWN0b3IsXG5cdFx0bWF0Y2ggPSAhc2VlZCAmJiB0b2tlbml6ZSggKCBzZWxlY3RvciA9IGNvbXBpbGVkLnNlbGVjdG9yIHx8IHNlbGVjdG9yICkgKTtcblxuXHRyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcblxuXHQvLyBUcnkgdG8gbWluaW1pemUgb3BlcmF0aW9ucyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBzZWxlY3RvciBpbiB0aGUgbGlzdCBhbmQgbm8gc2VlZFxuXHQvLyAodGhlIGxhdHRlciBvZiB3aGljaCBndWFyYW50ZWVzIHVzIGNvbnRleHQpXG5cdGlmICggbWF0Y2gubGVuZ3RoID09PSAxICkge1xuXG5cdFx0Ly8gUmVkdWNlIGNvbnRleHQgaWYgdGhlIGxlYWRpbmcgY29tcG91bmQgc2VsZWN0b3IgaXMgYW4gSURcblx0XHR0b2tlbnMgPSBtYXRjaFsgMCBdID0gbWF0Y2hbIDAgXS5zbGljZSggMCApO1xuXHRcdGlmICggdG9rZW5zLmxlbmd0aCA+IDIgJiYgKCB0b2tlbiA9IHRva2Vuc1sgMCBdICkudHlwZSA9PT0gXCJJRFwiICYmXG5cdFx0XHRjb250ZXh0Lm5vZGVUeXBlID09PSA5ICYmIGRvY3VtZW50SXNIVE1MICYmIEV4cHIucmVsYXRpdmVbIHRva2Vuc1sgMSBdLnR5cGUgXSApIHtcblxuXHRcdFx0Y29udGV4dCA9ICggRXhwci5maW5kWyBcIklEXCIgXSggdG9rZW4ubWF0Y2hlc1sgMCBdXG5cdFx0XHRcdC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLCBjb250ZXh0ICkgfHwgW10gKVsgMCBdO1xuXHRcdFx0aWYgKCAhY29udGV4dCApIHtcblx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cblx0XHRcdC8vIFByZWNvbXBpbGVkIG1hdGNoZXJzIHdpbGwgc3RpbGwgdmVyaWZ5IGFuY2VzdHJ5LCBzbyBzdGVwIHVwIGEgbGV2ZWxcblx0XHRcdH0gZWxzZSBpZiAoIGNvbXBpbGVkICkge1xuXHRcdFx0XHRjb250ZXh0ID0gY29udGV4dC5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXG5cdFx0XHRzZWxlY3RvciA9IHNlbGVjdG9yLnNsaWNlKCB0b2tlbnMuc2hpZnQoKS52YWx1ZS5sZW5ndGggKTtcblx0XHR9XG5cblx0XHQvLyBGZXRjaCBhIHNlZWQgc2V0IGZvciByaWdodC10by1sZWZ0IG1hdGNoaW5nXG5cdFx0aSA9IG1hdGNoRXhwclsgXCJuZWVkc0NvbnRleHRcIiBdLnRlc3QoIHNlbGVjdG9yICkgPyAwIDogdG9rZW5zLmxlbmd0aDtcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdHRva2VuID0gdG9rZW5zWyBpIF07XG5cblx0XHRcdC8vIEFib3J0IGlmIHdlIGhpdCBhIGNvbWJpbmF0b3Jcblx0XHRcdGlmICggRXhwci5yZWxhdGl2ZVsgKCB0eXBlID0gdG9rZW4udHlwZSApIF0gKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAoIGZpbmQgPSBFeHByLmZpbmRbIHR5cGUgXSApICkge1xuXG5cdFx0XHRcdC8vIFNlYXJjaCwgZXhwYW5kaW5nIGNvbnRleHQgZm9yIGxlYWRpbmcgc2libGluZyBjb21iaW5hdG9yc1xuXHRcdFx0XHRpZiAoICggc2VlZCA9IGZpbmQoXG5cdFx0XHRcdFx0dG9rZW4ubWF0Y2hlc1sgMCBdLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICksXG5cdFx0XHRcdFx0cnNpYmxpbmcudGVzdCggdG9rZW5zWyAwIF0udHlwZSApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fFxuXHRcdFx0XHRcdFx0Y29udGV4dFxuXHRcdFx0XHQpICkgKSB7XG5cblx0XHRcdFx0XHQvLyBJZiBzZWVkIGlzIGVtcHR5IG9yIG5vIHRva2VucyByZW1haW4sIHdlIGNhbiByZXR1cm4gZWFybHlcblx0XHRcdFx0XHR0b2tlbnMuc3BsaWNlKCBpLCAxICk7XG5cdFx0XHRcdFx0c2VsZWN0b3IgPSBzZWVkLmxlbmd0aCAmJiB0b1NlbGVjdG9yKCB0b2tlbnMgKTtcblx0XHRcdFx0XHRpZiAoICFzZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIHNlZWQgKTtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ29tcGlsZSBhbmQgZXhlY3V0ZSBhIGZpbHRlcmluZyBmdW5jdGlvbiBpZiBvbmUgaXMgbm90IHByb3ZpZGVkXG5cdC8vIFByb3ZpZGUgYG1hdGNoYCB0byBhdm9pZCByZXRva2VuaXphdGlvbiBpZiB3ZSBtb2RpZmllZCB0aGUgc2VsZWN0b3IgYWJvdmVcblx0KCBjb21waWxlZCB8fCBjb21waWxlKCBzZWxlY3RvciwgbWF0Y2ggKSApKFxuXHRcdHNlZWQsXG5cdFx0Y29udGV4dCxcblx0XHQhZG9jdW1lbnRJc0hUTUwsXG5cdFx0cmVzdWx0cyxcblx0XHQhY29udGV4dCB8fCByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0XG5cdCk7XG5cdHJldHVybiByZXN1bHRzO1xufTtcblxuLy8gT25lLXRpbWUgYXNzaWdubWVudHNcblxuLy8gU29ydCBzdGFiaWxpdHlcbnN1cHBvcnQuc29ydFN0YWJsZSA9IGV4cGFuZG8uc3BsaXQoIFwiXCIgKS5zb3J0KCBzb3J0T3JkZXIgKS5qb2luKCBcIlwiICkgPT09IGV4cGFuZG87XG5cbi8vIFN1cHBvcnQ6IENocm9tZSAxNC0zNStcbi8vIEFsd2F5cyBhc3N1bWUgZHVwbGljYXRlcyBpZiB0aGV5IGFyZW4ndCBwYXNzZWQgdG8gdGhlIGNvbXBhcmlzb24gZnVuY3Rpb25cbnN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcyA9ICEhaGFzRHVwbGljYXRlO1xuXG4vLyBJbml0aWFsaXplIGFnYWluc3QgdGhlIGRlZmF1bHQgZG9jdW1lbnRcbnNldERvY3VtZW50KCk7XG5cbi8vIFN1cHBvcnQ6IFdlYmtpdDw1MzcuMzIgLSBTYWZhcmkgNi4wLjMvQ2hyb21lIDI1IChmaXhlZCBpbiBDaHJvbWUgMjcpXG4vLyBEZXRhY2hlZCBub2RlcyBjb25mb3VuZGluZ2x5IGZvbGxvdyAqZWFjaCBvdGhlcipcbnN1cHBvcnQuc29ydERldGFjaGVkID0gYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cblx0Ly8gU2hvdWxkIHJldHVybiAxLCBidXQgcmV0dXJucyA0IChmb2xsb3dpbmcpXG5cdHJldHVybiBlbC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJmaWVsZHNldFwiICkgKSAmIDE7XG59ICk7XG5cbi8vIFN1cHBvcnQ6IElFPDhcbi8vIFByZXZlbnQgYXR0cmlidXRlL3Byb3BlcnR5IFwiaW50ZXJwb2xhdGlvblwiXG4vLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21zNTM2NDI5JTI4VlMuODUlMjkuYXNweFxuaWYgKCAhYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cdGVsLmlubmVySFRNTCA9IFwiPGEgaHJlZj0nIyc+PC9hPlwiO1xuXHRyZXR1cm4gZWwuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoIFwiaHJlZlwiICkgPT09IFwiI1wiO1xufSApICkge1xuXHRhZGRIYW5kbGUoIFwidHlwZXxocmVmfGhlaWdodHx3aWR0aFwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0aWYgKCAhaXNYTUwgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUsIG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJ0eXBlXCIgPyAxIDogMiApO1xuXHRcdH1cblx0fSApO1xufVxuXG4vLyBTdXBwb3J0OiBJRTw5XG4vLyBVc2UgZGVmYXVsdFZhbHVlIGluIHBsYWNlIG9mIGdldEF0dHJpYnV0ZShcInZhbHVlXCIpXG5pZiAoICFzdXBwb3J0LmF0dHJpYnV0ZXMgfHwgIWFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXHRlbC5pbm5lckhUTUwgPSBcIjxpbnB1dC8+XCI7XG5cdGVsLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCBcInZhbHVlXCIsIFwiXCIgKTtcblx0cmV0dXJuIGVsLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCBcInZhbHVlXCIgKSA9PT0gXCJcIjtcbn0gKSApIHtcblx0YWRkSGFuZGxlKCBcInZhbHVlXCIsIGZ1bmN0aW9uKCBlbGVtLCBfbmFtZSwgaXNYTUwgKSB7XG5cdFx0aWYgKCAhaXNYTUwgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImlucHV0XCIgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kZWZhdWx0VmFsdWU7XG5cdFx0fVxuXHR9ICk7XG59XG5cbi8vIFN1cHBvcnQ6IElFPDlcbi8vIFVzZSBnZXRBdHRyaWJ1dGVOb2RlIHRvIGZldGNoIGJvb2xlYW5zIHdoZW4gZ2V0QXR0cmlidXRlIGxpZXNcbmlmICggIWFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXHRyZXR1cm4gZWwuZ2V0QXR0cmlidXRlKCBcImRpc2FibGVkXCIgKSA9PSBudWxsO1xufSApICkge1xuXHRhZGRIYW5kbGUoIGJvb2xlYW5zLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0dmFyIHZhbDtcblx0XHRpZiAoICFpc1hNTCApIHtcblx0XHRcdHJldHVybiBlbGVtWyBuYW1lIF0gPT09IHRydWUgPyBuYW1lLnRvTG93ZXJDYXNlKCkgOlxuXHRcdFx0XHQoIHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggbmFtZSApICkgJiYgdmFsLnNwZWNpZmllZCA/XG5cdFx0XHRcdFx0dmFsLnZhbHVlIDpcblx0XHRcdFx0XHRudWxsO1xuXHRcdH1cblx0fSApO1xufVxuXG5yZXR1cm4gU2l6emxlO1xuXG59ICkoIHdpbmRvdyApO1xuXG5cblxualF1ZXJ5LmZpbmQgPSBTaXp6bGU7XG5qUXVlcnkuZXhwciA9IFNpenpsZS5zZWxlY3RvcnM7XG5cbi8vIERlcHJlY2F0ZWRcbmpRdWVyeS5leHByWyBcIjpcIiBdID0galF1ZXJ5LmV4cHIucHNldWRvcztcbmpRdWVyeS51bmlxdWVTb3J0ID0galF1ZXJ5LnVuaXF1ZSA9IFNpenpsZS51bmlxdWVTb3J0O1xualF1ZXJ5LnRleHQgPSBTaXp6bGUuZ2V0VGV4dDtcbmpRdWVyeS5pc1hNTERvYyA9IFNpenpsZS5pc1hNTDtcbmpRdWVyeS5jb250YWlucyA9IFNpenpsZS5jb250YWlucztcbmpRdWVyeS5lc2NhcGVTZWxlY3RvciA9IFNpenpsZS5lc2NhcGU7XG5cblxuXG5cbnZhciBkaXIgPSBmdW5jdGlvbiggZWxlbSwgZGlyLCB1bnRpbCApIHtcblx0dmFyIG1hdGNoZWQgPSBbXSxcblx0XHR0cnVuY2F0ZSA9IHVudGlsICE9PSB1bmRlZmluZWQ7XG5cblx0d2hpbGUgKCAoIGVsZW0gPSBlbGVtWyBkaXIgXSApICYmIGVsZW0ubm9kZVR5cGUgIT09IDkgKSB7XG5cdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0aWYgKCB0cnVuY2F0ZSAmJiBqUXVlcnkoIGVsZW0gKS5pcyggdW50aWwgKSApIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRtYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIG1hdGNoZWQ7XG59O1xuXG5cbnZhciBzaWJsaW5ncyA9IGZ1bmN0aW9uKCBuLCBlbGVtICkge1xuXHR2YXIgbWF0Y2hlZCA9IFtdO1xuXG5cdGZvciAoIDsgbjsgbiA9IG4ubmV4dFNpYmxpbmcgKSB7XG5cdFx0aWYgKCBuLm5vZGVUeXBlID09PSAxICYmIG4gIT09IGVsZW0gKSB7XG5cdFx0XHRtYXRjaGVkLnB1c2goIG4gKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbWF0Y2hlZDtcbn07XG5cblxudmFyIHJuZWVkc0NvbnRleHQgPSBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7XG5cblxuXG5mdW5jdGlvbiBub2RlTmFtZSggZWxlbSwgbmFtZSApIHtcblxuXHRyZXR1cm4gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKTtcblxufVxudmFyIHJzaW5nbGVUYWcgPSAoIC9ePChbYS16XVteXFwvXFwwPjpcXHgyMFxcdFxcclxcblxcZl0qKVtcXHgyMFxcdFxcclxcblxcZl0qXFwvPz4oPzo8XFwvXFwxPnwpJC9pICk7XG5cblxuXG4vLyBJbXBsZW1lbnQgdGhlIGlkZW50aWNhbCBmdW5jdGlvbmFsaXR5IGZvciBmaWx0ZXIgYW5kIG5vdFxuZnVuY3Rpb24gd2lubm93KCBlbGVtZW50cywgcXVhbGlmaWVyLCBub3QgKSB7XG5cdGlmICggaXNGdW5jdGlvbiggcXVhbGlmaWVyICkgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7XG5cdFx0XHRyZXR1cm4gISFxdWFsaWZpZXIuY2FsbCggZWxlbSwgaSwgZWxlbSApICE9PSBub3Q7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gU2luZ2xlIGVsZW1lbnRcblx0aWYgKCBxdWFsaWZpZXIubm9kZVR5cGUgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gKCBlbGVtID09PSBxdWFsaWZpZXIgKSAhPT0gbm90O1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIEFycmF5bGlrZSBvZiBlbGVtZW50cyAoalF1ZXJ5LCBhcmd1bWVudHMsIEFycmF5KVxuXHRpZiAoIHR5cGVvZiBxdWFsaWZpZXIgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gKCBpbmRleE9mLmNhbGwoIHF1YWxpZmllciwgZWxlbSApID4gLTEgKSAhPT0gbm90O1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIEZpbHRlcmVkIGRpcmVjdGx5IGZvciBib3RoIHNpbXBsZSBhbmQgY29tcGxleCBzZWxlY3RvcnNcblx0cmV0dXJuIGpRdWVyeS5maWx0ZXIoIHF1YWxpZmllciwgZWxlbWVudHMsIG5vdCApO1xufVxuXG5qUXVlcnkuZmlsdGVyID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1zLCBub3QgKSB7XG5cdHZhciBlbGVtID0gZWxlbXNbIDAgXTtcblxuXHRpZiAoIG5vdCApIHtcblx0XHRleHByID0gXCI6bm90KFwiICsgZXhwciArIFwiKVwiO1xuXHR9XG5cblx0aWYgKCBlbGVtcy5sZW5ndGggPT09IDEgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBlbGVtLCBleHByICkgPyBbIGVsZW0gXSA6IFtdO1xuXHR9XG5cblx0cmV0dXJuIGpRdWVyeS5maW5kLm1hdGNoZXMoIGV4cHIsIGpRdWVyeS5ncmVwKCBlbGVtcywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGVsZW0ubm9kZVR5cGUgPT09IDE7XG5cdH0gKSApO1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRmaW5kOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dmFyIGksIHJldCxcblx0XHRcdGxlbiA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0c2VsZiA9IHRoaXM7XG5cblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5KCBzZWxlY3RvciApLmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHNlbGZbIGkgXSwgdGhpcyApICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9ICkgKTtcblx0XHR9XG5cblx0XHRyZXQgPSB0aGlzLnB1c2hTdGFjayggW10gKTtcblxuXHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRqUXVlcnkuZmluZCggc2VsZWN0b3IsIHNlbGZbIGkgXSwgcmV0ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGxlbiA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggcmV0ICkgOiByZXQ7XG5cdH0sXG5cdGZpbHRlcjogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggd2lubm93KCB0aGlzLCBzZWxlY3RvciB8fCBbXSwgZmFsc2UgKSApO1xuXHR9LFxuXHRub3Q6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyggdGhpcywgc2VsZWN0b3IgfHwgW10sIHRydWUgKSApO1xuXHR9LFxuXHRpczogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiAhIXdpbm5vdyhcblx0XHRcdHRoaXMsXG5cblx0XHRcdC8vIElmIHRoaXMgaXMgYSBwb3NpdGlvbmFsL3JlbGF0aXZlIHNlbGVjdG9yLCBjaGVjayBtZW1iZXJzaGlwIGluIHRoZSByZXR1cm5lZCBzZXRcblx0XHRcdC8vIHNvICQoXCJwOmZpcnN0XCIpLmlzKFwicDpsYXN0XCIpIHdvbid0IHJldHVybiB0cnVlIGZvciBhIGRvYyB3aXRoIHR3byBcInBcIi5cblx0XHRcdHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiAmJiBybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9yICkgP1xuXHRcdFx0XHRqUXVlcnkoIHNlbGVjdG9yICkgOlxuXHRcdFx0XHRzZWxlY3RvciB8fCBbXSxcblx0XHRcdGZhbHNlXG5cdFx0KS5sZW5ndGg7XG5cdH1cbn0gKTtcblxuXG4vLyBJbml0aWFsaXplIGEgalF1ZXJ5IG9iamVjdFxuXG5cbi8vIEEgY2VudHJhbCByZWZlcmVuY2UgdG8gdGhlIHJvb3QgalF1ZXJ5KGRvY3VtZW50KVxudmFyIHJvb3RqUXVlcnksXG5cblx0Ly8gQSBzaW1wbGUgd2F5IHRvIGNoZWNrIGZvciBIVE1MIHN0cmluZ3Ncblx0Ly8gUHJpb3JpdGl6ZSAjaWQgb3ZlciA8dGFnPiB0byBhdm9pZCBYU1MgdmlhIGxvY2F0aW9uLmhhc2ggKHRyYWMtOTUyMSlcblx0Ly8gU3RyaWN0IEhUTUwgcmVjb2duaXRpb24gKHRyYWMtMTEyOTA6IG11c3Qgc3RhcnQgd2l0aCA8KVxuXHQvLyBTaG9ydGN1dCBzaW1wbGUgI2lkIGNhc2UgZm9yIHNwZWVkXG5cdHJxdWlja0V4cHIgPSAvXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0rKSkkLyxcblxuXHRpbml0ID0galF1ZXJ5LmZuLmluaXQgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJvb3QgKSB7XG5cdFx0dmFyIG1hdGNoLCBlbGVtO1xuXG5cdFx0Ly8gSEFORExFOiAkKFwiXCIpLCAkKG51bGwpLCAkKHVuZGVmaW5lZCksICQoZmFsc2UpXG5cdFx0aWYgKCAhc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHQvLyBNZXRob2QgaW5pdCgpIGFjY2VwdHMgYW4gYWx0ZXJuYXRlIHJvb3RqUXVlcnlcblx0XHQvLyBzbyBtaWdyYXRlIGNhbiBzdXBwb3J0IGpRdWVyeS5zdWIgKGdoLTIxMDEpXG5cdFx0cm9vdCA9IHJvb3QgfHwgcm9vdGpRdWVyeTtcblxuXHRcdC8vIEhhbmRsZSBIVE1MIHN0cmluZ3Ncblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGlmICggc2VsZWN0b3JbIDAgXSA9PT0gXCI8XCIgJiZcblx0XHRcdFx0c2VsZWN0b3JbIHNlbGVjdG9yLmxlbmd0aCAtIDEgXSA9PT0gXCI+XCIgJiZcblx0XHRcdFx0c2VsZWN0b3IubGVuZ3RoID49IDMgKSB7XG5cblx0XHRcdFx0Ly8gQXNzdW1lIHRoYXQgc3RyaW5ncyB0aGF0IHN0YXJ0IGFuZCBlbmQgd2l0aCA8PiBhcmUgSFRNTCBhbmQgc2tpcCB0aGUgcmVnZXggY2hlY2tcblx0XHRcdFx0bWF0Y2ggPSBbIG51bGwsIHNlbGVjdG9yLCBudWxsIF07XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYXRjaCBodG1sIG9yIG1ha2Ugc3VyZSBubyBjb250ZXh0IGlzIHNwZWNpZmllZCBmb3IgI2lkXG5cdFx0XHRpZiAoIG1hdGNoICYmICggbWF0Y2hbIDEgXSB8fCAhY29udGV4dCApICkge1xuXG5cdFx0XHRcdC8vIEhBTkRMRTogJChodG1sKSAtPiAkKGFycmF5KVxuXHRcdFx0XHRpZiAoIG1hdGNoWyAxIF0gKSB7XG5cdFx0XHRcdFx0Y29udGV4dCA9IGNvbnRleHQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZXh0WyAwIF0gOiBjb250ZXh0O1xuXG5cdFx0XHRcdFx0Ly8gT3B0aW9uIHRvIHJ1biBzY3JpcHRzIGlzIHRydWUgZm9yIGJhY2stY29tcGF0XG5cdFx0XHRcdFx0Ly8gSW50ZW50aW9uYWxseSBsZXQgdGhlIGVycm9yIGJlIHRocm93biBpZiBwYXJzZUhUTUwgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHRoaXMsIGpRdWVyeS5wYXJzZUhUTUwoXG5cdFx0XHRcdFx0XHRtYXRjaFsgMSBdLFxuXHRcdFx0XHRcdFx0Y29udGV4dCAmJiBjb250ZXh0Lm5vZGVUeXBlID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBkb2N1bWVudCxcblx0XHRcdFx0XHRcdHRydWVcblx0XHRcdFx0XHQpICk7XG5cblx0XHRcdFx0XHQvLyBIQU5ETEU6ICQoaHRtbCwgcHJvcHMpXG5cdFx0XHRcdFx0aWYgKCByc2luZ2xlVGFnLnRlc3QoIG1hdGNoWyAxIF0gKSAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29udGV4dCApICkge1xuXHRcdFx0XHRcdFx0Zm9yICggbWF0Y2ggaW4gY29udGV4dCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBQcm9wZXJ0aWVzIG9mIGNvbnRleHQgYXJlIGNhbGxlZCBhcyBtZXRob2RzIGlmIHBvc3NpYmxlXG5cdFx0XHRcdFx0XHRcdGlmICggaXNGdW5jdGlvbiggdGhpc1sgbWF0Y2ggXSApICkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXNbIG1hdGNoIF0oIGNvbnRleHRbIG1hdGNoIF0gKTtcblxuXHRcdFx0XHRcdFx0XHQvLyAuLi5hbmQgb3RoZXJ3aXNlIHNldCBhcyBhdHRyaWJ1dGVzXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5hdHRyKCBtYXRjaCwgY29udGV4dFsgbWF0Y2ggXSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cblx0XHRcdFx0Ly8gSEFORExFOiAkKCNpZClcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIG1hdGNoWyAyIF0gKTtcblxuXHRcdFx0XHRcdGlmICggZWxlbSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSW5qZWN0IHRoZSBlbGVtZW50IGRpcmVjdGx5IGludG8gdGhlIGpRdWVyeSBvYmplY3Rcblx0XHRcdFx0XHRcdHRoaXNbIDAgXSA9IGVsZW07XG5cdFx0XHRcdFx0XHR0aGlzLmxlbmd0aCA9IDE7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cblx0XHRcdC8vIEhBTkRMRTogJChleHByLCAkKC4uLikpXG5cdFx0XHR9IGVsc2UgaWYgKCAhY29udGV4dCB8fCBjb250ZXh0LmpxdWVyeSApIHtcblx0XHRcdFx0cmV0dXJuICggY29udGV4dCB8fCByb290ICkuZmluZCggc2VsZWN0b3IgKTtcblxuXHRcdFx0Ly8gSEFORExFOiAkKGV4cHIsIGNvbnRleHQpXG5cdFx0XHQvLyAod2hpY2ggaXMganVzdCBlcXVpdmFsZW50IHRvOiAkKGNvbnRleHQpLmZpbmQoZXhwcilcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKCBjb250ZXh0ICkuZmluZCggc2VsZWN0b3IgKTtcblx0XHRcdH1cblxuXHRcdC8vIEhBTkRMRTogJChET01FbGVtZW50KVxuXHRcdH0gZWxzZSBpZiAoIHNlbGVjdG9yLm5vZGVUeXBlICkge1xuXHRcdFx0dGhpc1sgMCBdID0gc2VsZWN0b3I7XG5cdFx0XHR0aGlzLmxlbmd0aCA9IDE7XG5cdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdC8vIEhBTkRMRTogJChmdW5jdGlvbilcblx0XHQvLyBTaG9ydGN1dCBmb3IgZG9jdW1lbnQgcmVhZHlcblx0XHR9IGVsc2UgaWYgKCBpc0Z1bmN0aW9uKCBzZWxlY3RvciApICkge1xuXHRcdFx0cmV0dXJuIHJvb3QucmVhZHkgIT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdHJvb3QucmVhZHkoIHNlbGVjdG9yICkgOlxuXG5cdFx0XHRcdC8vIEV4ZWN1dGUgaW1tZWRpYXRlbHkgaWYgcmVhZHkgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0c2VsZWN0b3IoIGpRdWVyeSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBqUXVlcnkubWFrZUFycmF5KCBzZWxlY3RvciwgdGhpcyApO1xuXHR9O1xuXG4vLyBHaXZlIHRoZSBpbml0IGZ1bmN0aW9uIHRoZSBqUXVlcnkgcHJvdG90eXBlIGZvciBsYXRlciBpbnN0YW50aWF0aW9uXG5pbml0LnByb3RvdHlwZSA9IGpRdWVyeS5mbjtcblxuLy8gSW5pdGlhbGl6ZSBjZW50cmFsIHJlZmVyZW5jZVxucm9vdGpRdWVyeSA9IGpRdWVyeSggZG9jdW1lbnQgKTtcblxuXG52YXIgcnBhcmVudHNwcmV2ID0gL14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sXG5cblx0Ly8gTWV0aG9kcyBndWFyYW50ZWVkIHRvIHByb2R1Y2UgYSB1bmlxdWUgc2V0IHdoZW4gc3RhcnRpbmcgZnJvbSBhIHVuaXF1ZSBzZXRcblx0Z3VhcmFudGVlZFVuaXF1ZSA9IHtcblx0XHRjaGlsZHJlbjogdHJ1ZSxcblx0XHRjb250ZW50czogdHJ1ZSxcblx0XHRuZXh0OiB0cnVlLFxuXHRcdHByZXY6IHRydWVcblx0fTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRoYXM6IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdFx0dmFyIHRhcmdldHMgPSBqUXVlcnkoIHRhcmdldCwgdGhpcyApLFxuXHRcdFx0bCA9IHRhcmdldHMubGVuZ3RoO1xuXG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpID0gMDtcblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHRoaXMsIHRhcmdldHNbIGkgXSApICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGNsb3Nlc3Q6IGZ1bmN0aW9uKCBzZWxlY3RvcnMsIGNvbnRleHQgKSB7XG5cdFx0dmFyIGN1cixcblx0XHRcdGkgPSAwLFxuXHRcdFx0bCA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0bWF0Y2hlZCA9IFtdLFxuXHRcdFx0dGFyZ2V0cyA9IHR5cGVvZiBzZWxlY3RvcnMgIT09IFwic3RyaW5nXCIgJiYgalF1ZXJ5KCBzZWxlY3RvcnMgKTtcblxuXHRcdC8vIFBvc2l0aW9uYWwgc2VsZWN0b3JzIG5ldmVyIG1hdGNoLCBzaW5jZSB0aGVyZSdzIG5vIF9zZWxlY3Rpb25fIGNvbnRleHRcblx0XHRpZiAoICFybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9ycyApICkge1xuXHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRmb3IgKCBjdXIgPSB0aGlzWyBpIF07IGN1ciAmJiBjdXIgIT09IGNvbnRleHQ7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkge1xuXG5cdFx0XHRcdFx0Ly8gQWx3YXlzIHNraXAgZG9jdW1lbnQgZnJhZ21lbnRzXG5cdFx0XHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPCAxMSAmJiAoIHRhcmdldHMgP1xuXHRcdFx0XHRcdFx0dGFyZ2V0cy5pbmRleCggY3VyICkgPiAtMSA6XG5cblx0XHRcdFx0XHRcdC8vIERvbid0IHBhc3Mgbm9uLWVsZW1lbnRzIHRvIFNpenpsZVxuXHRcdFx0XHRcdFx0Y3VyLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggY3VyLCBzZWxlY3RvcnMgKSApICkge1xuXG5cdFx0XHRcdFx0XHRtYXRjaGVkLnB1c2goIGN1ciApO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkLmxlbmd0aCA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggbWF0Y2hlZCApIDogbWF0Y2hlZCApO1xuXHR9LFxuXG5cdC8vIERldGVybWluZSB0aGUgcG9zaXRpb24gb2YgYW4gZWxlbWVudCB3aXRoaW4gdGhlIHNldFxuXHRpbmRleDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHQvLyBObyBhcmd1bWVudCwgcmV0dXJuIGluZGV4IGluIHBhcmVudFxuXHRcdGlmICggIWVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gKCB0aGlzWyAwIF0gJiYgdGhpc1sgMCBdLnBhcmVudE5vZGUgKSA/IHRoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoIDogLTE7XG5cdFx0fVxuXG5cdFx0Ly8gSW5kZXggaW4gc2VsZWN0b3Jcblx0XHRpZiAoIHR5cGVvZiBlbGVtID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIGluZGV4T2YuY2FsbCggalF1ZXJ5KCBlbGVtICksIHRoaXNbIDAgXSApO1xuXHRcdH1cblxuXHRcdC8vIExvY2F0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIGRlc2lyZWQgZWxlbWVudFxuXHRcdHJldHVybiBpbmRleE9mLmNhbGwoIHRoaXMsXG5cblx0XHRcdC8vIElmIGl0IHJlY2VpdmVzIGEgalF1ZXJ5IG9iamVjdCwgdGhlIGZpcnN0IGVsZW1lbnQgaXMgdXNlZFxuXHRcdFx0ZWxlbS5qcXVlcnkgPyBlbGVtWyAwIF0gOiBlbGVtXG5cdFx0KTtcblx0fSxcblxuXHRhZGQ6IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soXG5cdFx0XHRqUXVlcnkudW5pcXVlU29ydChcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLmdldCgpLCBqUXVlcnkoIHNlbGVjdG9yLCBjb250ZXh0ICkgKVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0YWRkQmFjazogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLmFkZCggc2VsZWN0b3IgPT0gbnVsbCA/XG5cdFx0XHR0aGlzLnByZXZPYmplY3QgOiB0aGlzLnByZXZPYmplY3QuZmlsdGVyKCBzZWxlY3RvciApXG5cdFx0KTtcblx0fVxufSApO1xuXG5mdW5jdGlvbiBzaWJsaW5nKCBjdXIsIGRpciApIHtcblx0d2hpbGUgKCAoIGN1ciA9IGN1clsgZGlyIF0gKSAmJiBjdXIubm9kZVR5cGUgIT09IDEgKSB7fVxuXHRyZXR1cm4gY3VyO1xufVxuXG5qUXVlcnkuZWFjaCgge1xuXHRwYXJlbnQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0cmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IDExID8gcGFyZW50IDogbnVsbDtcblx0fSxcblx0cGFyZW50czogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIgKTtcblx0fSxcblx0cGFyZW50c1VudGlsOiBmdW5jdGlvbiggZWxlbSwgX2ksIHVudGlsICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicGFyZW50Tm9kZVwiLCB1bnRpbCApO1xuXHR9LFxuXHRuZXh0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gc2libGluZyggZWxlbSwgXCJuZXh0U2libGluZ1wiICk7XG5cdH0sXG5cdHByZXY6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5nKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiICk7XG5cdH0sXG5cdG5leHRBbGw6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiApO1xuXHR9LFxuXHRwcmV2QWxsOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiICk7XG5cdH0sXG5cdG5leHRVbnRpbDogZnVuY3Rpb24oIGVsZW0sIF9pLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIsIHVudGlsICk7XG5cdH0sXG5cdHByZXZVbnRpbDogZnVuY3Rpb24oIGVsZW0sIF9pLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiLCB1bnRpbCApO1xuXHR9LFxuXHRzaWJsaW5nczogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmdzKCAoIGVsZW0ucGFyZW50Tm9kZSB8fCB7fSApLmZpcnN0Q2hpbGQsIGVsZW0gKTtcblx0fSxcblx0Y2hpbGRyZW46IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5ncyggZWxlbS5maXJzdENoaWxkICk7XG5cdH0sXG5cdGNvbnRlbnRzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRpZiAoIGVsZW0uY29udGVudERvY3VtZW50ICE9IG51bGwgJiZcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgMTErXG5cdFx0XHQvLyA8b2JqZWN0PiBlbGVtZW50cyB3aXRoIG5vIGBkYXRhYCBhdHRyaWJ1dGUgaGFzIGFuIG9iamVjdFxuXHRcdFx0Ly8gYGNvbnRlbnREb2N1bWVudGAgd2l0aCBhIGBudWxsYCBwcm90b3R5cGUuXG5cdFx0XHRnZXRQcm90byggZWxlbS5jb250ZW50RG9jdW1lbnQgKSApIHtcblxuXHRcdFx0cmV0dXJuIGVsZW0uY29udGVudERvY3VtZW50O1xuXHRcdH1cblxuXHRcdC8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5LCBpT1MgNyBvbmx5LCBBbmRyb2lkIEJyb3dzZXIgPD00LjMgb25seVxuXHRcdC8vIFRyZWF0IHRoZSB0ZW1wbGF0ZSBlbGVtZW50IGFzIGEgcmVndWxhciBvbmUgaW4gYnJvd3NlcnMgdGhhdFxuXHRcdC8vIGRvbid0IHN1cHBvcnQgaXQuXG5cdFx0aWYgKCBub2RlTmFtZSggZWxlbSwgXCJ0ZW1wbGF0ZVwiICkgKSB7XG5cdFx0XHRlbGVtID0gZWxlbS5jb250ZW50IHx8IGVsZW07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGpRdWVyeS5tZXJnZSggW10sIGVsZW0uY2hpbGROb2RlcyApO1xuXHR9XG59LCBmdW5jdGlvbiggbmFtZSwgZm4gKSB7XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHVudGlsLCBzZWxlY3RvciApIHtcblx0XHR2YXIgbWF0Y2hlZCA9IGpRdWVyeS5tYXAoIHRoaXMsIGZuLCB1bnRpbCApO1xuXG5cdFx0aWYgKCBuYW1lLnNsaWNlKCAtNSApICE9PSBcIlVudGlsXCIgKSB7XG5cdFx0XHRzZWxlY3RvciA9IHVudGlsO1xuXHRcdH1cblxuXHRcdGlmICggc2VsZWN0b3IgJiYgdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0bWF0Y2hlZCA9IGpRdWVyeS5maWx0ZXIoIHNlbGVjdG9yLCBtYXRjaGVkICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLmxlbmd0aCA+IDEgKSB7XG5cblx0XHRcdC8vIFJlbW92ZSBkdXBsaWNhdGVzXG5cdFx0XHRpZiAoICFndWFyYW50ZWVkVW5pcXVlWyBuYW1lIF0gKSB7XG5cdFx0XHRcdGpRdWVyeS51bmlxdWVTb3J0KCBtYXRjaGVkICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJldmVyc2Ugb3JkZXIgZm9yIHBhcmVudHMqIGFuZCBwcmV2LWRlcml2YXRpdmVzXG5cdFx0XHRpZiAoIHJwYXJlbnRzcHJldi50ZXN0KCBuYW1lICkgKSB7XG5cdFx0XHRcdG1hdGNoZWQucmV2ZXJzZSgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggbWF0Y2hlZCApO1xuXHR9O1xufSApO1xudmFyIHJub3RodG1sd2hpdGUgPSAoIC9bXlxceDIwXFx0XFxyXFxuXFxmXSsvZyApO1xuXG5cblxuLy8gQ29udmVydCBTdHJpbmctZm9ybWF0dGVkIG9wdGlvbnMgaW50byBPYmplY3QtZm9ybWF0dGVkIG9uZXNcbmZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSB7XG5cdHZhciBvYmplY3QgPSB7fTtcblx0alF1ZXJ5LmVhY2goIG9wdGlvbnMubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXSwgZnVuY3Rpb24oIF8sIGZsYWcgKSB7XG5cdFx0b2JqZWN0WyBmbGFnIF0gPSB0cnVlO1xuXHR9ICk7XG5cdHJldHVybiBvYmplY3Q7XG59XG5cbi8qXG4gKiBDcmVhdGUgYSBjYWxsYmFjayBsaXN0IHVzaW5nIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczpcbiAqXG4gKlx0b3B0aW9uczogYW4gb3B0aW9uYWwgbGlzdCBvZiBzcGFjZS1zZXBhcmF0ZWQgb3B0aW9ucyB0aGF0IHdpbGwgY2hhbmdlIGhvd1xuICpcdFx0XHR0aGUgY2FsbGJhY2sgbGlzdCBiZWhhdmVzIG9yIGEgbW9yZSB0cmFkaXRpb25hbCBvcHRpb24gb2JqZWN0XG4gKlxuICogQnkgZGVmYXVsdCBhIGNhbGxiYWNrIGxpc3Qgd2lsbCBhY3QgbGlrZSBhbiBldmVudCBjYWxsYmFjayBsaXN0IGFuZCBjYW4gYmVcbiAqIFwiZmlyZWRcIiBtdWx0aXBsZSB0aW1lcy5cbiAqXG4gKiBQb3NzaWJsZSBvcHRpb25zOlxuICpcbiAqXHRvbmNlOlx0XHRcdHdpbGwgZW5zdXJlIHRoZSBjYWxsYmFjayBsaXN0IGNhbiBvbmx5IGJlIGZpcmVkIG9uY2UgKGxpa2UgYSBEZWZlcnJlZClcbiAqXG4gKlx0bWVtb3J5Olx0XHRcdHdpbGwga2VlcCB0cmFjayBvZiBwcmV2aW91cyB2YWx1ZXMgYW5kIHdpbGwgY2FsbCBhbnkgY2FsbGJhY2sgYWRkZWRcbiAqXHRcdFx0XHRcdGFmdGVyIHRoZSBsaXN0IGhhcyBiZWVuIGZpcmVkIHJpZ2h0IGF3YXkgd2l0aCB0aGUgbGF0ZXN0IFwibWVtb3JpemVkXCJcbiAqXHRcdFx0XHRcdHZhbHVlcyAobGlrZSBhIERlZmVycmVkKVxuICpcbiAqXHR1bmlxdWU6XHRcdFx0d2lsbCBlbnN1cmUgYSBjYWxsYmFjayBjYW4gb25seSBiZSBhZGRlZCBvbmNlIChubyBkdXBsaWNhdGUgaW4gdGhlIGxpc3QpXG4gKlxuICpcdHN0b3BPbkZhbHNlOlx0aW50ZXJydXB0IGNhbGxpbmdzIHdoZW4gYSBjYWxsYmFjayByZXR1cm5zIGZhbHNlXG4gKlxuICovXG5qUXVlcnkuQ2FsbGJhY2tzID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cblx0Ly8gQ29udmVydCBvcHRpb25zIGZyb20gU3RyaW5nLWZvcm1hdHRlZCB0byBPYmplY3QtZm9ybWF0dGVkIGlmIG5lZWRlZFxuXHQvLyAod2UgY2hlY2sgaW4gY2FjaGUgZmlyc3QpXG5cdG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIiA/XG5cdFx0Y3JlYXRlT3B0aW9ucyggb3B0aW9ucyApIDpcblx0XHRqUXVlcnkuZXh0ZW5kKCB7fSwgb3B0aW9ucyApO1xuXG5cdHZhciAvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCBpcyBjdXJyZW50bHkgZmlyaW5nXG5cdFx0ZmlyaW5nLFxuXG5cdFx0Ly8gTGFzdCBmaXJlIHZhbHVlIGZvciBub24tZm9yZ2V0dGFibGUgbGlzdHNcblx0XHRtZW1vcnksXG5cblx0XHQvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCB3YXMgYWxyZWFkeSBmaXJlZFxuXHRcdGZpcmVkLFxuXG5cdFx0Ly8gRmxhZyB0byBwcmV2ZW50IGZpcmluZ1xuXHRcdGxvY2tlZCxcblxuXHRcdC8vIEFjdHVhbCBjYWxsYmFjayBsaXN0XG5cdFx0bGlzdCA9IFtdLFxuXG5cdFx0Ly8gUXVldWUgb2YgZXhlY3V0aW9uIGRhdGEgZm9yIHJlcGVhdGFibGUgbGlzdHNcblx0XHRxdWV1ZSA9IFtdLFxuXG5cdFx0Ly8gSW5kZXggb2YgY3VycmVudGx5IGZpcmluZyBjYWxsYmFjayAobW9kaWZpZWQgYnkgYWRkL3JlbW92ZSBhcyBuZWVkZWQpXG5cdFx0ZmlyaW5nSW5kZXggPSAtMSxcblxuXHRcdC8vIEZpcmUgY2FsbGJhY2tzXG5cdFx0ZmlyZSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBFbmZvcmNlIHNpbmdsZS1maXJpbmdcblx0XHRcdGxvY2tlZCA9IGxvY2tlZCB8fCBvcHRpb25zLm9uY2U7XG5cblx0XHRcdC8vIEV4ZWN1dGUgY2FsbGJhY2tzIGZvciBhbGwgcGVuZGluZyBleGVjdXRpb25zLFxuXHRcdFx0Ly8gcmVzcGVjdGluZyBmaXJpbmdJbmRleCBvdmVycmlkZXMgYW5kIHJ1bnRpbWUgY2hhbmdlc1xuXHRcdFx0ZmlyZWQgPSBmaXJpbmcgPSB0cnVlO1xuXHRcdFx0Zm9yICggOyBxdWV1ZS5sZW5ndGg7IGZpcmluZ0luZGV4ID0gLTEgKSB7XG5cdFx0XHRcdG1lbW9yeSA9IHF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHRcdHdoaWxlICggKytmaXJpbmdJbmRleCA8IGxpc3QubGVuZ3RoICkge1xuXG5cdFx0XHRcdFx0Ly8gUnVuIGNhbGxiYWNrIGFuZCBjaGVjayBmb3IgZWFybHkgdGVybWluYXRpb25cblx0XHRcdFx0XHRpZiAoIGxpc3RbIGZpcmluZ0luZGV4IF0uYXBwbHkoIG1lbW9yeVsgMCBdLCBtZW1vcnlbIDEgXSApID09PSBmYWxzZSAmJlxuXHRcdFx0XHRcdFx0b3B0aW9ucy5zdG9wT25GYWxzZSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSnVtcCB0byBlbmQgYW5kIGZvcmdldCB0aGUgZGF0YSBzbyAuYWRkIGRvZXNuJ3QgcmUtZmlyZVxuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aDtcblx0XHRcdFx0XHRcdG1lbW9yeSA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBGb3JnZXQgdGhlIGRhdGEgaWYgd2UncmUgZG9uZSB3aXRoIGl0XG5cdFx0XHRpZiAoICFvcHRpb25zLm1lbW9yeSApIHtcblx0XHRcdFx0bWVtb3J5ID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGZpcmluZyA9IGZhbHNlO1xuXG5cdFx0XHQvLyBDbGVhbiB1cCBpZiB3ZSdyZSBkb25lIGZpcmluZyBmb3IgZ29vZFxuXHRcdFx0aWYgKCBsb2NrZWQgKSB7XG5cblx0XHRcdFx0Ly8gS2VlcCBhbiBlbXB0eSBsaXN0IGlmIHdlIGhhdmUgZGF0YSBmb3IgZnV0dXJlIGFkZCBjYWxsc1xuXHRcdFx0XHRpZiAoIG1lbW9yeSApIHtcblx0XHRcdFx0XHRsaXN0ID0gW107XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCB0aGlzIG9iamVjdCBpcyBzcGVudFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxpc3QgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8vIEFjdHVhbCBDYWxsYmFja3Mgb2JqZWN0XG5cdFx0c2VsZiA9IHtcblxuXHRcdFx0Ly8gQWRkIGEgY2FsbGJhY2sgb3IgYSBjb2xsZWN0aW9uIG9mIGNhbGxiYWNrcyB0byB0aGUgbGlzdFxuXHRcdFx0YWRkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXG5cdFx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBtZW1vcnkgZnJvbSBhIHBhc3QgcnVuLCB3ZSBzaG91bGQgZmlyZSBhZnRlciBhZGRpbmdcblx0XHRcdFx0XHRpZiAoIG1lbW9yeSAmJiAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aCAtIDE7XG5cdFx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBtZW1vcnkgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQoIGZ1bmN0aW9uIGFkZCggYXJncyApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCBhcmdzLCBmdW5jdGlvbiggXywgYXJnICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIGlzRnVuY3Rpb24oIGFyZyApICkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICggIW9wdGlvbnMudW5pcXVlIHx8ICFzZWxmLmhhcyggYXJnICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRsaXN0LnB1c2goIGFyZyApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggYXJnICYmIGFyZy5sZW5ndGggJiYgdG9UeXBlKCBhcmcgKSAhPT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIEluc3BlY3QgcmVjdXJzaXZlbHlcblx0XHRcdFx0XHRcdFx0XHRhZGQoIGFyZyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0fSApKCBhcmd1bWVudHMgKTtcblxuXHRcdFx0XHRcdGlmICggbWVtb3J5ICYmICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgbGlzdFxuXHRcdFx0cmVtb3ZlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmVhY2goIGFyZ3VtZW50cywgZnVuY3Rpb24oIF8sIGFyZyApIHtcblx0XHRcdFx0XHR2YXIgaW5kZXg7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGluZGV4ID0galF1ZXJ5LmluQXJyYXkoIGFyZywgbGlzdCwgaW5kZXggKSApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRsaXN0LnNwbGljZSggaW5kZXgsIDEgKTtcblxuXHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGZpcmluZyBpbmRleGVzXG5cdFx0XHRcdFx0XHRpZiAoIGluZGV4IDw9IGZpcmluZ0luZGV4ICkge1xuXHRcdFx0XHRcdFx0XHRmaXJpbmdJbmRleC0tO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIENoZWNrIGlmIGEgZ2l2ZW4gY2FsbGJhY2sgaXMgaW4gdGhlIGxpc3QuXG5cdFx0XHQvLyBJZiBubyBhcmd1bWVudCBpcyBnaXZlbiwgcmV0dXJuIHdoZXRoZXIgb3Igbm90IGxpc3QgaGFzIGNhbGxiYWNrcyBhdHRhY2hlZC5cblx0XHRcdGhhczogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRyZXR1cm4gZm4gP1xuXHRcdFx0XHRcdGpRdWVyeS5pbkFycmF5KCBmbiwgbGlzdCApID4gLTEgOlxuXHRcdFx0XHRcdGxpc3QubGVuZ3RoID4gMDtcblx0XHRcdH0sXG5cblx0XHRcdC8vIFJlbW92ZSBhbGwgY2FsbGJhY2tzIGZyb20gdGhlIGxpc3Rcblx0XHRcdGVtcHR5OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXHRcdFx0XHRcdGxpc3QgPSBbXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIERpc2FibGUgLmZpcmUgYW5kIC5hZGRcblx0XHRcdC8vIEFib3J0IGFueSBjdXJyZW50L3BlbmRpbmcgZXhlY3V0aW9uc1xuXHRcdFx0Ly8gQ2xlYXIgYWxsIGNhbGxiYWNrcyBhbmQgdmFsdWVzXG5cdFx0XHRkaXNhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0bG9ja2VkID0gcXVldWUgPSBbXTtcblx0XHRcdFx0bGlzdCA9IG1lbW9yeSA9IFwiXCI7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblx0XHRcdGRpc2FibGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICFsaXN0O1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gRGlzYWJsZSAuZmlyZVxuXHRcdFx0Ly8gQWxzbyBkaXNhYmxlIC5hZGQgdW5sZXNzIHdlIGhhdmUgbWVtb3J5IChzaW5jZSBpdCB3b3VsZCBoYXZlIG5vIGVmZmVjdClcblx0XHRcdC8vIEFib3J0IGFueSBwZW5kaW5nIGV4ZWN1dGlvbnNcblx0XHRcdGxvY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRsb2NrZWQgPSBxdWV1ZSA9IFtdO1xuXHRcdFx0XHRpZiAoICFtZW1vcnkgJiYgIWZpcmluZyApIHtcblx0XHRcdFx0XHRsaXN0ID0gbWVtb3J5ID0gXCJcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cdFx0XHRsb2NrZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gISFsb2NrZWQ7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBDYWxsIGFsbCBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gY29udGV4dCBhbmQgYXJndW1lbnRzXG5cdFx0XHRmaXJlV2l0aDogZnVuY3Rpb24oIGNvbnRleHQsIGFyZ3MgKSB7XG5cdFx0XHRcdGlmICggIWxvY2tlZCApIHtcblx0XHRcdFx0XHRhcmdzID0gYXJncyB8fCBbXTtcblx0XHRcdFx0XHRhcmdzID0gWyBjb250ZXh0LCBhcmdzLnNsaWNlID8gYXJncy5zbGljZSgpIDogYXJncyBdO1xuXHRcdFx0XHRcdHF1ZXVlLnB1c2goIGFyZ3MgKTtcblx0XHRcdFx0XHRpZiAoICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gQ2FsbCBhbGwgdGhlIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHNcblx0XHRcdGZpcmU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmZpcmVXaXRoKCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBUbyBrbm93IGlmIHRoZSBjYWxsYmFja3MgaGF2ZSBhbHJlYWR5IGJlZW4gY2FsbGVkIGF0IGxlYXN0IG9uY2Vcblx0XHRcdGZpcmVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICEhZmlyZWQ7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRyZXR1cm4gc2VsZjtcbn07XG5cblxuZnVuY3Rpb24gSWRlbnRpdHkoIHYgKSB7XG5cdHJldHVybiB2O1xufVxuZnVuY3Rpb24gVGhyb3dlciggZXggKSB7XG5cdHRocm93IGV4O1xufVxuXG5mdW5jdGlvbiBhZG9wdFZhbHVlKCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0LCBub1ZhbHVlICkge1xuXHR2YXIgbWV0aG9kO1xuXG5cdHRyeSB7XG5cblx0XHQvLyBDaGVjayBmb3IgcHJvbWlzZSBhc3BlY3QgZmlyc3QgdG8gcHJpdmlsZWdlIHN5bmNocm9ub3VzIGJlaGF2aW9yXG5cdFx0aWYgKCB2YWx1ZSAmJiBpc0Z1bmN0aW9uKCAoIG1ldGhvZCA9IHZhbHVlLnByb21pc2UgKSApICkge1xuXHRcdFx0bWV0aG9kLmNhbGwoIHZhbHVlICkuZG9uZSggcmVzb2x2ZSApLmZhaWwoIHJlamVjdCApO1xuXG5cdFx0Ly8gT3RoZXIgdGhlbmFibGVzXG5cdFx0fSBlbHNlIGlmICggdmFsdWUgJiYgaXNGdW5jdGlvbiggKCBtZXRob2QgPSB2YWx1ZS50aGVuICkgKSApIHtcblx0XHRcdG1ldGhvZC5jYWxsKCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0ICk7XG5cblx0XHQvLyBPdGhlciBub24tdGhlbmFibGVzXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gQ29udHJvbCBgcmVzb2x2ZWAgYXJndW1lbnRzIGJ5IGxldHRpbmcgQXJyYXkjc2xpY2UgY2FzdCBib29sZWFuIGBub1ZhbHVlYCB0byBpbnRlZ2VyOlxuXHRcdFx0Ly8gKiBmYWxzZTogWyB2YWx1ZSBdLnNsaWNlKCAwICkgPT4gcmVzb2x2ZSggdmFsdWUgKVxuXHRcdFx0Ly8gKiB0cnVlOiBbIHZhbHVlIF0uc2xpY2UoIDEgKSA9PiByZXNvbHZlKClcblx0XHRcdHJlc29sdmUuYXBwbHkoIHVuZGVmaW5lZCwgWyB2YWx1ZSBdLnNsaWNlKCBub1ZhbHVlICkgKTtcblx0XHR9XG5cblx0Ly8gRm9yIFByb21pc2VzL0ErLCBjb252ZXJ0IGV4Y2VwdGlvbnMgaW50byByZWplY3Rpb25zXG5cdC8vIFNpbmNlIGpRdWVyeS53aGVuIGRvZXNuJ3QgdW53cmFwIHRoZW5hYmxlcywgd2UgY2FuIHNraXAgdGhlIGV4dHJhIGNoZWNrcyBhcHBlYXJpbmcgaW5cblx0Ly8gRGVmZXJyZWQjdGhlbiB0byBjb25kaXRpb25hbGx5IHN1cHByZXNzIHJlamVjdGlvbi5cblx0fSBjYXRjaCAoIHZhbHVlICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgb25seVxuXHRcdC8vIFN0cmljdCBtb2RlIGZ1bmN0aW9ucyBpbnZva2VkIHdpdGhvdXQgLmNhbGwvLmFwcGx5IGdldCBnbG9iYWwtb2JqZWN0IGNvbnRleHRcblx0XHRyZWplY3QuYXBwbHkoIHVuZGVmaW5lZCwgWyB2YWx1ZSBdICk7XG5cdH1cbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdERlZmVycmVkOiBmdW5jdGlvbiggZnVuYyApIHtcblx0XHR2YXIgdHVwbGVzID0gW1xuXG5cdFx0XHRcdC8vIGFjdGlvbiwgYWRkIGxpc3RlbmVyLCBjYWxsYmFja3MsXG5cdFx0XHRcdC8vIC4uLiAudGhlbiBoYW5kbGVycywgYXJndW1lbnQgaW5kZXgsIFtmaW5hbCBzdGF0ZV1cblx0XHRcdFx0WyBcIm5vdGlmeVwiLCBcInByb2dyZXNzXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwibWVtb3J5XCIgKSxcblx0XHRcdFx0XHRqUXVlcnkuQ2FsbGJhY2tzKCBcIm1lbW9yeVwiICksIDIgXSxcblx0XHRcdFx0WyBcInJlc29sdmVcIiwgXCJkb25lXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLFxuXHRcdFx0XHRcdGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLCAwLCBcInJlc29sdmVkXCIgXSxcblx0XHRcdFx0WyBcInJlamVjdFwiLCBcImZhaWxcIiwgalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cdFx0XHRcdFx0alF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksIDEsIFwicmVqZWN0ZWRcIiBdXG5cdFx0XHRdLFxuXHRcdFx0c3RhdGUgPSBcInBlbmRpbmdcIixcblx0XHRcdHByb21pc2UgPSB7XG5cdFx0XHRcdHN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gc3RhdGU7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGFsd2F5czogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQuZG9uZSggYXJndW1lbnRzICkuZmFpbCggYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwiY2F0Y2hcIjogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRcdHJldHVybiBwcm9taXNlLnRoZW4oIG51bGwsIGZuICk7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gS2VlcCBwaXBlIGZvciBiYWNrLWNvbXBhdFxuXHRcdFx0XHRwaXBlOiBmdW5jdGlvbiggLyogZm5Eb25lLCBmbkZhaWwsIGZuUHJvZ3Jlc3MgKi8gKSB7XG5cdFx0XHRcdFx0dmFyIGZucyA9IGFyZ3VtZW50cztcblxuXHRcdFx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoIGZ1bmN0aW9uKCBuZXdEZWZlciApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBfaSwgdHVwbGUgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gTWFwIHR1cGxlcyAocHJvZ3Jlc3MsIGRvbmUsIGZhaWwpIHRvIGFyZ3VtZW50cyAoZG9uZSwgZmFpbCwgcHJvZ3Jlc3MpXG5cdFx0XHRcdFx0XHRcdHZhciBmbiA9IGlzRnVuY3Rpb24oIGZuc1sgdHVwbGVbIDQgXSBdICkgJiYgZm5zWyB0dXBsZVsgNCBdIF07XG5cblx0XHRcdFx0XHRcdFx0Ly8gZGVmZXJyZWQucHJvZ3Jlc3MoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIubm90aWZ5IH0pXG5cdFx0XHRcdFx0XHRcdC8vIGRlZmVycmVkLmRvbmUoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIucmVzb2x2ZSB9KVxuXHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZC5mYWlsKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLnJlamVjdCB9KVxuXHRcdFx0XHRcdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDEgXSBdKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcmV0dXJuZWQgPSBmbiAmJiBmbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCByZXR1cm5lZCAmJiBpc0Z1bmN0aW9uKCByZXR1cm5lZC5wcm9taXNlICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZC5wcm9taXNlKClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LnByb2dyZXNzKCBuZXdEZWZlci5ub3RpZnkgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQuZG9uZSggbmV3RGVmZXIucmVzb2x2ZSApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5mYWlsKCBuZXdEZWZlci5yZWplY3QgKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXJbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmbiA/IFsgcmV0dXJuZWQgXSA6IGFyZ3VtZW50c1xuXHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdGZucyA9IG51bGw7XG5cdFx0XHRcdFx0fSApLnByb21pc2UoKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0dGhlbjogZnVuY3Rpb24oIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBvblByb2dyZXNzICkge1xuXHRcdFx0XHRcdHZhciBtYXhEZXB0aCA9IDA7XG5cdFx0XHRcdFx0ZnVuY3Rpb24gcmVzb2x2ZSggZGVwdGgsIGRlZmVycmVkLCBoYW5kbGVyLCBzcGVjaWFsICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRcdFx0XHRcdFx0YXJncyA9IGFyZ3VtZW50cyxcblx0XHRcdFx0XHRcdFx0XHRtaWdodFRocm93ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgcmV0dXJuZWQsIHRoZW47XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy4zXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01OVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSWdub3JlIGRvdWJsZS1yZXNvbHV0aW9uIGF0dGVtcHRzXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGRlcHRoIDwgbWF4RGVwdGggKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQgPSBoYW5kbGVyLmFwcGx5KCB0aGF0LCBhcmdzICk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjFcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTQ4XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHJldHVybmVkID09PSBkZWZlcnJlZC5wcm9taXNlKCkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoIFwiVGhlbmFibGUgc2VsZi1yZXNvbHV0aW9uXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbnMgMi4zLjMuMSwgMy41XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01NFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNzVcblx0XHRcdFx0XHRcdFx0XHRcdC8vIFJldHJpZXZlIGB0aGVuYCBvbmx5IG9uY2Vcblx0XHRcdFx0XHRcdFx0XHRcdHRoZW4gPSByZXR1cm5lZCAmJlxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNjRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBjaGVjayBvYmplY3RzIGFuZCBmdW5jdGlvbnMgZm9yIHRoZW5hYmlsaXR5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCggdHlwZW9mIHJldHVybmVkID09PSBcIm9iamVjdFwiIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZW9mIHJldHVybmVkID09PSBcImZ1bmN0aW9uXCIgKSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZC50aGVuO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBIYW5kbGUgYSByZXR1cm5lZCB0aGVuYWJsZVxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBpc0Z1bmN0aW9uKCB0aGVuICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3BlY2lhbCBwcm9jZXNzb3JzIChub3RpZnkpIGp1c3Qgd2FpdCBmb3IgcmVzb2x1dGlvblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHNwZWNpYWwgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhlbi5jYWxsKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIFRocm93ZXIsIHNwZWNpYWwgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gTm9ybWFsIHByb2Nlc3NvcnMgKHJlc29sdmUpIGFsc28gaG9vayBpbnRvIHByb2dyZXNzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAuLi5hbmQgZGlzcmVnYXJkIG9sZGVyIHJlc29sdXRpb24gdmFsdWVzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWF4RGVwdGgrKztcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoZW4uY2FsbChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwgc3BlY2lhbCApLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBUaHJvd2VyLCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIEhhbmRsZSBhbGwgb3RoZXIgcmV0dXJuZWQgdmFsdWVzXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgc3Vic3RpdHV0ZSBoYW5kbGVycyBwYXNzIG9uIGNvbnRleHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYW5kIG11bHRpcGxlIHZhbHVlcyAobm9uLXNwZWMgYmVoYXZpb3IpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggaGFuZGxlciAhPT0gSWRlbnRpdHkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhhdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcmdzID0gWyByZXR1cm5lZCBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gUHJvY2VzcyB0aGUgdmFsdWUocylcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRGVmYXVsdCBwcm9jZXNzIGlzIHJlc29sdmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0KCBzcGVjaWFsIHx8IGRlZmVycmVkLnJlc29sdmVXaXRoICkoIHRoYXQsIGFyZ3MgKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBub3JtYWwgcHJvY2Vzc29ycyAocmVzb2x2ZSkgY2F0Y2ggYW5kIHJlamVjdCBleGNlcHRpb25zXG5cdFx0XHRcdFx0XHRcdFx0cHJvY2VzcyA9IHNwZWNpYWwgP1xuXHRcdFx0XHRcdFx0XHRcdFx0bWlnaHRUaHJvdyA6XG5cdFx0XHRcdFx0XHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtaWdodFRocm93KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rKCBlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzLnN0YWNrVHJhY2UgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuNC4xXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNjFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBJZ25vcmUgcG9zdC1yZXNvbHV0aW9uIGV4Y2VwdGlvbnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGRlcHRoICsgMSA+PSBtYXhEZXB0aCApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBzdWJzdGl0dXRlIGhhbmRsZXJzIHBhc3Mgb24gY29udGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYW5kIG11bHRpcGxlIHZhbHVlcyAobm9uLXNwZWMgYmVoYXZpb3IpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGhhbmRsZXIgIT09IFRocm93ZXIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoYXQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBbIGUgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggdGhhdCwgYXJncyApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuMVxuXHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01N1xuXHRcdFx0XHRcdFx0XHQvLyBSZS1yZXNvbHZlIHByb21pc2VzIGltbWVkaWF0ZWx5IHRvIGRvZGdlIGZhbHNlIHJlamVjdGlvbiBmcm9tXG5cdFx0XHRcdFx0XHRcdC8vIHN1YnNlcXVlbnQgZXJyb3JzXG5cdFx0XHRcdFx0XHRcdGlmICggZGVwdGggKSB7XG5cdFx0XHRcdFx0XHRcdFx0cHJvY2VzcygpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gQ2FsbCBhbiBvcHRpb25hbCBob29rIHRvIHJlY29yZCB0aGUgc3RhY2ssIGluIGNhc2Ugb2YgZXhjZXB0aW9uXG5cdFx0XHRcdFx0XHRcdFx0Ly8gc2luY2UgaXQncyBvdGhlcndpc2UgbG9zdCB3aGVuIGV4ZWN1dGlvbiBnb2VzIGFzeW5jXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuRGVmZXJyZWQuZ2V0U3RhY2tIb29rICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cHJvY2Vzcy5zdGFja1RyYWNlID0galF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrSG9vaygpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dCggcHJvY2VzcyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoIGZ1bmN0aW9uKCBuZXdEZWZlciApIHtcblxuXHRcdFx0XHRcdFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0dHVwbGVzWyAwIF1bIDMgXS5hZGQoXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoXG5cdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlcixcblx0XHRcdFx0XHRcdFx0XHRpc0Z1bmN0aW9uKCBvblByb2dyZXNzICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25Qcm9ncmVzcyA6XG5cdFx0XHRcdFx0XHRcdFx0XHRJZGVudGl0eSxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlci5ub3RpZnlXaXRoXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdC8vIGZ1bGZpbGxlZF9oYW5kbGVycy5hZGQoIC4uLiApXG5cdFx0XHRcdFx0XHR0dXBsZXNbIDEgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdGlzRnVuY3Rpb24oIG9uRnVsZmlsbGVkICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25GdWxmaWxsZWQgOlxuXHRcdFx0XHRcdFx0XHRcdFx0SWRlbnRpdHlcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0dHVwbGVzWyAyIF1bIDMgXS5hZGQoXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoXG5cdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlcixcblx0XHRcdFx0XHRcdFx0XHRpc0Z1bmN0aW9uKCBvblJlamVjdGVkICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25SZWplY3RlZCA6XG5cdFx0XHRcdFx0XHRcdFx0XHRUaHJvd2VyXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSApLnByb21pc2UoKTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBHZXQgYSBwcm9taXNlIGZvciB0aGlzIGRlZmVycmVkXG5cdFx0XHRcdC8vIElmIG9iaiBpcyBwcm92aWRlZCwgdGhlIHByb21pc2UgYXNwZWN0IGlzIGFkZGVkIHRvIHRoZSBvYmplY3Rcblx0XHRcdFx0cHJvbWlzZTogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRcdFx0XHRyZXR1cm4gb2JqICE9IG51bGwgPyBqUXVlcnkuZXh0ZW5kKCBvYmosIHByb21pc2UgKSA6IHByb21pc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRkZWZlcnJlZCA9IHt9O1xuXG5cdFx0Ly8gQWRkIGxpc3Qtc3BlY2lmaWMgbWV0aG9kc1xuXHRcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBpLCB0dXBsZSApIHtcblx0XHRcdHZhciBsaXN0ID0gdHVwbGVbIDIgXSxcblx0XHRcdFx0c3RhdGVTdHJpbmcgPSB0dXBsZVsgNSBdO1xuXG5cdFx0XHQvLyBwcm9taXNlLnByb2dyZXNzID0gbGlzdC5hZGRcblx0XHRcdC8vIHByb21pc2UuZG9uZSA9IGxpc3QuYWRkXG5cdFx0XHQvLyBwcm9taXNlLmZhaWwgPSBsaXN0LmFkZFxuXHRcdFx0cHJvbWlzZVsgdHVwbGVbIDEgXSBdID0gbGlzdC5hZGQ7XG5cblx0XHRcdC8vIEhhbmRsZSBzdGF0ZVxuXHRcdFx0aWYgKCBzdGF0ZVN0cmluZyApIHtcblx0XHRcdFx0bGlzdC5hZGQoXG5cdFx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRcdC8vIHN0YXRlID0gXCJyZXNvbHZlZFwiIChpLmUuLCBmdWxmaWxsZWQpXG5cdFx0XHRcdFx0XHQvLyBzdGF0ZSA9IFwicmVqZWN0ZWRcIlxuXHRcdFx0XHRcdFx0c3RhdGUgPSBzdGF0ZVN0cmluZztcblx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfY2FsbGJhY2tzLmRpc2FibGVcblx0XHRcdFx0XHQvLyBmdWxmaWxsZWRfY2FsbGJhY2tzLmRpc2FibGVcblx0XHRcdFx0XHR0dXBsZXNbIDMgLSBpIF1bIDIgXS5kaXNhYmxlLFxuXG5cdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuZGlzYWJsZVxuXHRcdFx0XHRcdC8vIGZ1bGZpbGxlZF9oYW5kbGVycy5kaXNhYmxlXG5cdFx0XHRcdFx0dHVwbGVzWyAzIC0gaSBdWyAzIF0uZGlzYWJsZSxcblxuXHRcdFx0XHRcdC8vIHByb2dyZXNzX2NhbGxiYWNrcy5sb2NrXG5cdFx0XHRcdFx0dHVwbGVzWyAwIF1bIDIgXS5sb2NrLFxuXG5cdFx0XHRcdFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMubG9ja1xuXHRcdFx0XHRcdHR1cGxlc1sgMCBdWyAzIF0ubG9ja1xuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBwcm9ncmVzc19oYW5kbGVycy5maXJlXG5cdFx0XHQvLyBmdWxmaWxsZWRfaGFuZGxlcnMuZmlyZVxuXHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuZmlyZVxuXHRcdFx0bGlzdC5hZGQoIHR1cGxlWyAzIF0uZmlyZSApO1xuXG5cdFx0XHQvLyBkZWZlcnJlZC5ub3RpZnkgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQubm90aWZ5V2l0aCguLi4pIH1cblx0XHRcdC8vIGRlZmVycmVkLnJlc29sdmUgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVzb2x2ZVdpdGgoLi4uKSB9XG5cdFx0XHQvLyBkZWZlcnJlZC5yZWplY3QgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVqZWN0V2l0aCguLi4pIH1cblx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMCBdIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdKCB0aGlzID09PSBkZWZlcnJlZCA/IHVuZGVmaW5lZCA6IHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH07XG5cblx0XHRcdC8vIGRlZmVycmVkLm5vdGlmeVdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHQvLyBkZWZlcnJlZC5yZXNvbHZlV2l0aCA9IGxpc3QuZmlyZVdpdGhcblx0XHRcdC8vIGRlZmVycmVkLnJlamVjdFdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0gPSBsaXN0LmZpcmVXaXRoO1xuXHRcdH0gKTtcblxuXHRcdC8vIE1ha2UgdGhlIGRlZmVycmVkIGEgcHJvbWlzZVxuXHRcdHByb21pc2UucHJvbWlzZSggZGVmZXJyZWQgKTtcblxuXHRcdC8vIENhbGwgZ2l2ZW4gZnVuYyBpZiBhbnlcblx0XHRpZiAoIGZ1bmMgKSB7XG5cdFx0XHRmdW5jLmNhbGwoIGRlZmVycmVkLCBkZWZlcnJlZCApO1xuXHRcdH1cblxuXHRcdC8vIEFsbCBkb25lIVxuXHRcdHJldHVybiBkZWZlcnJlZDtcblx0fSxcblxuXHQvLyBEZWZlcnJlZCBoZWxwZXJcblx0d2hlbjogZnVuY3Rpb24oIHNpbmdsZVZhbHVlICkge1xuXHRcdHZhclxuXG5cdFx0XHQvLyBjb3VudCBvZiB1bmNvbXBsZXRlZCBzdWJvcmRpbmF0ZXNcblx0XHRcdHJlbWFpbmluZyA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cblx0XHRcdC8vIGNvdW50IG9mIHVucHJvY2Vzc2VkIGFyZ3VtZW50c1xuXHRcdFx0aSA9IHJlbWFpbmluZyxcblxuXHRcdFx0Ly8gc3Vib3JkaW5hdGUgZnVsZmlsbG1lbnQgZGF0YVxuXHRcdFx0cmVzb2x2ZUNvbnRleHRzID0gQXJyYXkoIGkgKSxcblx0XHRcdHJlc29sdmVWYWx1ZXMgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSxcblxuXHRcdFx0Ly8gdGhlIHByaW1hcnkgRGVmZXJyZWRcblx0XHRcdHByaW1hcnkgPSBqUXVlcnkuRGVmZXJyZWQoKSxcblxuXHRcdFx0Ly8gc3Vib3JkaW5hdGUgY2FsbGJhY2sgZmFjdG9yeVxuXHRcdFx0dXBkYXRlRnVuYyA9IGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRcdHJlc29sdmVDb250ZXh0c1sgaSBdID0gdGhpcztcblx0XHRcdFx0XHRyZXNvbHZlVmFsdWVzWyBpIF0gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApIDogdmFsdWU7XG5cdFx0XHRcdFx0aWYgKCAhKCAtLXJlbWFpbmluZyApICkge1xuXHRcdFx0XHRcdFx0cHJpbWFyeS5yZXNvbHZlV2l0aCggcmVzb2x2ZUNvbnRleHRzLCByZXNvbHZlVmFsdWVzICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0fTtcblxuXHRcdC8vIFNpbmdsZS0gYW5kIGVtcHR5IGFyZ3VtZW50cyBhcmUgYWRvcHRlZCBsaWtlIFByb21pc2UucmVzb2x2ZVxuXHRcdGlmICggcmVtYWluaW5nIDw9IDEgKSB7XG5cdFx0XHRhZG9wdFZhbHVlKCBzaW5nbGVWYWx1ZSwgcHJpbWFyeS5kb25lKCB1cGRhdGVGdW5jKCBpICkgKS5yZXNvbHZlLCBwcmltYXJ5LnJlamVjdCxcblx0XHRcdFx0IXJlbWFpbmluZyApO1xuXG5cdFx0XHQvLyBVc2UgLnRoZW4oKSB0byB1bndyYXAgc2Vjb25kYXJ5IHRoZW5hYmxlcyAoY2YuIGdoLTMwMDApXG5cdFx0XHRpZiAoIHByaW1hcnkuc3RhdGUoKSA9PT0gXCJwZW5kaW5nXCIgfHxcblx0XHRcdFx0aXNGdW5jdGlvbiggcmVzb2x2ZVZhbHVlc1sgaSBdICYmIHJlc29sdmVWYWx1ZXNbIGkgXS50aGVuICkgKSB7XG5cblx0XHRcdFx0cmV0dXJuIHByaW1hcnkudGhlbigpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIE11bHRpcGxlIGFyZ3VtZW50cyBhcmUgYWdncmVnYXRlZCBsaWtlIFByb21pc2UuYWxsIGFycmF5IGVsZW1lbnRzXG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRhZG9wdFZhbHVlKCByZXNvbHZlVmFsdWVzWyBpIF0sIHVwZGF0ZUZ1bmMoIGkgKSwgcHJpbWFyeS5yZWplY3QgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcHJpbWFyeS5wcm9taXNlKCk7XG5cdH1cbn0gKTtcblxuXG4vLyBUaGVzZSB1c3VhbGx5IGluZGljYXRlIGEgcHJvZ3JhbW1lciBtaXN0YWtlIGR1cmluZyBkZXZlbG9wbWVudCxcbi8vIHdhcm4gYWJvdXQgdGhlbSBBU0FQIHJhdGhlciB0aGFuIHN3YWxsb3dpbmcgdGhlbSBieSBkZWZhdWx0LlxudmFyIHJlcnJvck5hbWVzID0gL14oRXZhbHxJbnRlcm5hbHxSYW5nZXxSZWZlcmVuY2V8U3ludGF4fFR5cGV8VVJJKUVycm9yJC87XG5cbmpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rID0gZnVuY3Rpb24oIGVycm9yLCBzdGFjayApIHtcblxuXHQvLyBTdXBwb3J0OiBJRSA4IC0gOSBvbmx5XG5cdC8vIENvbnNvbGUgZXhpc3RzIHdoZW4gZGV2IHRvb2xzIGFyZSBvcGVuLCB3aGljaCBjYW4gaGFwcGVuIGF0IGFueSB0aW1lXG5cdGlmICggd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUud2FybiAmJiBlcnJvciAmJiByZXJyb3JOYW1lcy50ZXN0KCBlcnJvci5uYW1lICkgKSB7XG5cdFx0d2luZG93LmNvbnNvbGUud2FybiggXCJqUXVlcnkuRGVmZXJyZWQgZXhjZXB0aW9uOiBcIiArIGVycm9yLm1lc3NhZ2UsIGVycm9yLnN0YWNrLCBzdGFjayApO1xuXHR9XG59O1xuXG5cblxuXG5qUXVlcnkucmVhZHlFeGNlcHRpb24gPSBmdW5jdGlvbiggZXJyb3IgKSB7XG5cdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHR0aHJvdyBlcnJvcjtcblx0fSApO1xufTtcblxuXG5cblxuLy8gVGhlIGRlZmVycmVkIHVzZWQgb24gRE9NIHJlYWR5XG52YXIgcmVhZHlMaXN0ID0galF1ZXJ5LkRlZmVycmVkKCk7XG5cbmpRdWVyeS5mbi5yZWFkeSA9IGZ1bmN0aW9uKCBmbiApIHtcblxuXHRyZWFkeUxpc3Rcblx0XHQudGhlbiggZm4gKVxuXG5cdFx0Ly8gV3JhcCBqUXVlcnkucmVhZHlFeGNlcHRpb24gaW4gYSBmdW5jdGlvbiBzbyB0aGF0IHRoZSBsb29rdXBcblx0XHQvLyBoYXBwZW5zIGF0IHRoZSB0aW1lIG9mIGVycm9yIGhhbmRsaW5nIGluc3RlYWQgb2YgY2FsbGJhY2tcblx0XHQvLyByZWdpc3RyYXRpb24uXG5cdFx0LmNhdGNoKCBmdW5jdGlvbiggZXJyb3IgKSB7XG5cdFx0XHRqUXVlcnkucmVhZHlFeGNlcHRpb24oIGVycm9yICk7XG5cdFx0fSApO1xuXG5cdHJldHVybiB0aGlzO1xufTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIElzIHRoZSBET00gcmVhZHkgdG8gYmUgdXNlZD8gU2V0IHRvIHRydWUgb25jZSBpdCBvY2N1cnMuXG5cdGlzUmVhZHk6IGZhbHNlLFxuXG5cdC8vIEEgY291bnRlciB0byB0cmFjayBob3cgbWFueSBpdGVtcyB0byB3YWl0IGZvciBiZWZvcmVcblx0Ly8gdGhlIHJlYWR5IGV2ZW50IGZpcmVzLiBTZWUgdHJhYy02NzgxXG5cdHJlYWR5V2FpdDogMSxcblxuXHQvLyBIYW5kbGUgd2hlbiB0aGUgRE9NIGlzIHJlYWR5XG5cdHJlYWR5OiBmdW5jdGlvbiggd2FpdCApIHtcblxuXHRcdC8vIEFib3J0IGlmIHRoZXJlIGFyZSBwZW5kaW5nIGhvbGRzIG9yIHdlJ3JlIGFscmVhZHkgcmVhZHlcblx0XHRpZiAoIHdhaXQgPT09IHRydWUgPyAtLWpRdWVyeS5yZWFkeVdhaXQgOiBqUXVlcnkuaXNSZWFkeSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBSZW1lbWJlciB0aGF0IHRoZSBET00gaXMgcmVhZHlcblx0XHRqUXVlcnkuaXNSZWFkeSA9IHRydWU7XG5cblx0XHQvLyBJZiBhIG5vcm1hbCBET00gUmVhZHkgZXZlbnQgZmlyZWQsIGRlY3JlbWVudCwgYW5kIHdhaXQgaWYgbmVlZCBiZVxuXHRcdGlmICggd2FpdCAhPT0gdHJ1ZSAmJiAtLWpRdWVyeS5yZWFkeVdhaXQgPiAwICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIElmIHRoZXJlIGFyZSBmdW5jdGlvbnMgYm91bmQsIHRvIGV4ZWN1dGVcblx0XHRyZWFkeUxpc3QucmVzb2x2ZVdpdGgoIGRvY3VtZW50LCBbIGpRdWVyeSBdICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LnJlYWR5LnRoZW4gPSByZWFkeUxpc3QudGhlbjtcblxuLy8gVGhlIHJlYWR5IGV2ZW50IGhhbmRsZXIgYW5kIHNlbGYgY2xlYW51cCBtZXRob2RcbmZ1bmN0aW9uIGNvbXBsZXRlZCgpIHtcblx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJET01Db250ZW50TG9hZGVkXCIsIGNvbXBsZXRlZCApO1xuXHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJsb2FkXCIsIGNvbXBsZXRlZCApO1xuXHRqUXVlcnkucmVhZHkoKTtcbn1cblxuLy8gQ2F0Y2ggY2FzZXMgd2hlcmUgJChkb2N1bWVudCkucmVhZHkoKSBpcyBjYWxsZWRcbi8vIGFmdGVyIHRoZSBicm93c2VyIGV2ZW50IGhhcyBhbHJlYWR5IG9jY3VycmVkLlxuLy8gU3VwcG9ydDogSUUgPD05IC0gMTAgb25seVxuLy8gT2xkZXIgSUUgc29tZXRpbWVzIHNpZ25hbHMgXCJpbnRlcmFjdGl2ZVwiIHRvbyBzb29uXG5pZiAoIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIiB8fFxuXHQoIGRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwibG9hZGluZ1wiICYmICFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwgKSApIHtcblxuXHQvLyBIYW5kbGUgaXQgYXN5bmNocm9ub3VzbHkgdG8gYWxsb3cgc2NyaXB0cyB0aGUgb3Bwb3J0dW5pdHkgdG8gZGVsYXkgcmVhZHlcblx0d2luZG93LnNldFRpbWVvdXQoIGpRdWVyeS5yZWFkeSApO1xuXG59IGVsc2Uge1xuXG5cdC8vIFVzZSB0aGUgaGFuZHkgZXZlbnQgY2FsbGJhY2tcblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJET01Db250ZW50TG9hZGVkXCIsIGNvbXBsZXRlZCApO1xuXG5cdC8vIEEgZmFsbGJhY2sgdG8gd2luZG93Lm9ubG9hZCwgdGhhdCB3aWxsIGFsd2F5cyB3b3JrXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgY29tcGxldGVkICk7XG59XG5cblxuXG5cbi8vIE11bHRpZnVuY3Rpb25hbCBtZXRob2QgdG8gZ2V0IGFuZCBzZXQgdmFsdWVzIG9mIGEgY29sbGVjdGlvblxuLy8gVGhlIHZhbHVlL3MgY2FuIG9wdGlvbmFsbHkgYmUgZXhlY3V0ZWQgaWYgaXQncyBhIGZ1bmN0aW9uXG52YXIgYWNjZXNzID0gZnVuY3Rpb24oIGVsZW1zLCBmbiwga2V5LCB2YWx1ZSwgY2hhaW5hYmxlLCBlbXB0eUdldCwgcmF3ICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bGVuID0gZWxlbXMubGVuZ3RoLFxuXHRcdGJ1bGsgPSBrZXkgPT0gbnVsbDtcblxuXHQvLyBTZXRzIG1hbnkgdmFsdWVzXG5cdGlmICggdG9UeXBlKCBrZXkgKSA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXHRcdGZvciAoIGkgaW4ga2V5ICkge1xuXHRcdFx0YWNjZXNzKCBlbGVtcywgZm4sIGksIGtleVsgaSBdLCB0cnVlLCBlbXB0eUdldCwgcmF3ICk7XG5cdFx0fVxuXG5cdC8vIFNldHMgb25lIHZhbHVlXG5cdH0gZWxzZSBpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0Y2hhaW5hYmxlID0gdHJ1ZTtcblxuXHRcdGlmICggIWlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyYXcgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICggYnVsayApIHtcblxuXHRcdFx0Ly8gQnVsayBvcGVyYXRpb25zIHJ1biBhZ2FpbnN0IHRoZSBlbnRpcmUgc2V0XG5cdFx0XHRpZiAoIHJhdyApIHtcblx0XHRcdFx0Zm4uY2FsbCggZWxlbXMsIHZhbHVlICk7XG5cdFx0XHRcdGZuID0gbnVsbDtcblxuXHRcdFx0Ly8gLi4uZXhjZXB0IHdoZW4gZXhlY3V0aW5nIGZ1bmN0aW9uIHZhbHVlc1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YnVsayA9IGZuO1xuXHRcdFx0XHRmbiA9IGZ1bmN0aW9uKCBlbGVtLCBfa2V5LCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gYnVsay5jYWxsKCBqUXVlcnkoIGVsZW0gKSwgdmFsdWUgKTtcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIGZuICkge1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdGZuKFxuXHRcdFx0XHRcdGVsZW1zWyBpIF0sIGtleSwgcmF3ID9cblx0XHRcdFx0XHRcdHZhbHVlIDpcblx0XHRcdFx0XHRcdHZhbHVlLmNhbGwoIGVsZW1zWyBpIF0sIGksIGZuKCBlbGVtc1sgaSBdLCBrZXkgKSApXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKCBjaGFpbmFibGUgKSB7XG5cdFx0cmV0dXJuIGVsZW1zO1xuXHR9XG5cblx0Ly8gR2V0c1xuXHRpZiAoIGJ1bGsgKSB7XG5cdFx0cmV0dXJuIGZuLmNhbGwoIGVsZW1zICk7XG5cdH1cblxuXHRyZXR1cm4gbGVuID8gZm4oIGVsZW1zWyAwIF0sIGtleSApIDogZW1wdHlHZXQ7XG59O1xuXG5cbi8vIE1hdGNoZXMgZGFzaGVkIHN0cmluZyBmb3IgY2FtZWxpemluZ1xudmFyIHJtc1ByZWZpeCA9IC9eLW1zLS8sXG5cdHJkYXNoQWxwaGEgPSAvLShbYS16XSkvZztcblxuLy8gVXNlZCBieSBjYW1lbENhc2UgYXMgY2FsbGJhY2sgdG8gcmVwbGFjZSgpXG5mdW5jdGlvbiBmY2FtZWxDYXNlKCBfYWxsLCBsZXR0ZXIgKSB7XG5cdHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcbn1cblxuLy8gQ29udmVydCBkYXNoZWQgdG8gY2FtZWxDYXNlOyB1c2VkIGJ5IHRoZSBjc3MgYW5kIGRhdGEgbW9kdWxlc1xuLy8gU3VwcG9ydDogSUUgPD05IC0gMTEsIEVkZ2UgMTIgLSAxNVxuLy8gTWljcm9zb2Z0IGZvcmdvdCB0byBodW1wIHRoZWlyIHZlbmRvciBwcmVmaXggKHRyYWMtOTU3MilcbmZ1bmN0aW9uIGNhbWVsQ2FzZSggc3RyaW5nICkge1xuXHRyZXR1cm4gc3RyaW5nLnJlcGxhY2UoIHJtc1ByZWZpeCwgXCJtcy1cIiApLnJlcGxhY2UoIHJkYXNoQWxwaGEsIGZjYW1lbENhc2UgKTtcbn1cbnZhciBhY2NlcHREYXRhID0gZnVuY3Rpb24oIG93bmVyICkge1xuXG5cdC8vIEFjY2VwdHMgb25seTpcblx0Ly8gIC0gTm9kZVxuXHQvLyAgICAtIE5vZGUuRUxFTUVOVF9OT0RFXG5cdC8vICAgIC0gTm9kZS5ET0NVTUVOVF9OT0RFXG5cdC8vICAtIE9iamVjdFxuXHQvLyAgICAtIEFueVxuXHRyZXR1cm4gb3duZXIubm9kZVR5cGUgPT09IDEgfHwgb3duZXIubm9kZVR5cGUgPT09IDkgfHwgISggK293bmVyLm5vZGVUeXBlICk7XG59O1xuXG5cblxuXG5mdW5jdGlvbiBEYXRhKCkge1xuXHR0aGlzLmV4cGFuZG8gPSBqUXVlcnkuZXhwYW5kbyArIERhdGEudWlkKys7XG59XG5cbkRhdGEudWlkID0gMTtcblxuRGF0YS5wcm90b3R5cGUgPSB7XG5cblx0Y2FjaGU6IGZ1bmN0aW9uKCBvd25lciApIHtcblxuXHRcdC8vIENoZWNrIGlmIHRoZSBvd25lciBvYmplY3QgYWxyZWFkeSBoYXMgYSBjYWNoZVxuXHRcdHZhciB2YWx1ZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblxuXHRcdC8vIElmIG5vdCwgY3JlYXRlIG9uZVxuXHRcdGlmICggIXZhbHVlICkge1xuXHRcdFx0dmFsdWUgPSB7fTtcblxuXHRcdFx0Ly8gV2UgY2FuIGFjY2VwdCBkYXRhIGZvciBub24tZWxlbWVudCBub2RlcyBpbiBtb2Rlcm4gYnJvd3NlcnMsXG5cdFx0XHQvLyBidXQgd2Ugc2hvdWxkIG5vdCwgc2VlIHRyYWMtODMzNS5cblx0XHRcdC8vIEFsd2F5cyByZXR1cm4gYW4gZW1wdHkgb2JqZWN0LlxuXHRcdFx0aWYgKCBhY2NlcHREYXRhKCBvd25lciApICkge1xuXG5cdFx0XHRcdC8vIElmIGl0IGlzIGEgbm9kZSB1bmxpa2VseSB0byBiZSBzdHJpbmdpZnktZWQgb3IgbG9vcGVkIG92ZXJcblx0XHRcdFx0Ly8gdXNlIHBsYWluIGFzc2lnbm1lbnRcblx0XHRcdFx0aWYgKCBvd25lci5ub2RlVHlwZSApIHtcblx0XHRcdFx0XHRvd25lclsgdGhpcy5leHBhbmRvIF0gPSB2YWx1ZTtcblxuXHRcdFx0XHQvLyBPdGhlcndpc2Ugc2VjdXJlIGl0IGluIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHlcblx0XHRcdFx0Ly8gY29uZmlndXJhYmxlIG11c3QgYmUgdHJ1ZSB0byBhbGxvdyB0aGUgcHJvcGVydHkgdG8gYmVcblx0XHRcdFx0Ly8gZGVsZXRlZCB3aGVuIGRhdGEgaXMgcmVtb3ZlZFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggb3duZXIsIHRoaXMuZXhwYW5kbywge1xuXHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlLFxuXHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9LFxuXHRzZXQ6IGZ1bmN0aW9uKCBvd25lciwgZGF0YSwgdmFsdWUgKSB7XG5cdFx0dmFyIHByb3AsXG5cdFx0XHRjYWNoZSA9IHRoaXMuY2FjaGUoIG93bmVyICk7XG5cblx0XHQvLyBIYW5kbGU6IFsgb3duZXIsIGtleSwgdmFsdWUgXSBhcmdzXG5cdFx0Ly8gQWx3YXlzIHVzZSBjYW1lbENhc2Uga2V5IChnaC0yMjU3KVxuXHRcdGlmICggdHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRjYWNoZVsgY2FtZWxDYXNlKCBkYXRhICkgXSA9IHZhbHVlO1xuXG5cdFx0Ly8gSGFuZGxlOiBbIG93bmVyLCB7IHByb3BlcnRpZXMgfSBdIGFyZ3Ncblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBDb3B5IHRoZSBwcm9wZXJ0aWVzIG9uZS1ieS1vbmUgdG8gdGhlIGNhY2hlIG9iamVjdFxuXHRcdFx0Zm9yICggcHJvcCBpbiBkYXRhICkge1xuXHRcdFx0XHRjYWNoZVsgY2FtZWxDYXNlKCBwcm9wICkgXSA9IGRhdGFbIHByb3AgXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGNhY2hlO1xuXHR9LFxuXHRnZXQ6IGZ1bmN0aW9uKCBvd25lciwga2V5ICkge1xuXHRcdHJldHVybiBrZXkgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHR0aGlzLmNhY2hlKCBvd25lciApIDpcblxuXHRcdFx0Ly8gQWx3YXlzIHVzZSBjYW1lbENhc2Uga2V5IChnaC0yMjU3KVxuXHRcdFx0b3duZXJbIHRoaXMuZXhwYW5kbyBdICYmIG93bmVyWyB0aGlzLmV4cGFuZG8gXVsgY2FtZWxDYXNlKCBrZXkgKSBdO1xuXHR9LFxuXHRhY2Nlc3M6IGZ1bmN0aW9uKCBvd25lciwga2V5LCB2YWx1ZSApIHtcblxuXHRcdC8vIEluIGNhc2VzIHdoZXJlIGVpdGhlcjpcblx0XHQvL1xuXHRcdC8vICAgMS4gTm8ga2V5IHdhcyBzcGVjaWZpZWRcblx0XHQvLyAgIDIuIEEgc3RyaW5nIGtleSB3YXMgc3BlY2lmaWVkLCBidXQgbm8gdmFsdWUgcHJvdmlkZWRcblx0XHQvL1xuXHRcdC8vIFRha2UgdGhlIFwicmVhZFwiIHBhdGggYW5kIGFsbG93IHRoZSBnZXQgbWV0aG9kIHRvIGRldGVybWluZVxuXHRcdC8vIHdoaWNoIHZhbHVlIHRvIHJldHVybiwgcmVzcGVjdGl2ZWx5IGVpdGhlcjpcblx0XHQvL1xuXHRcdC8vICAgMS4gVGhlIGVudGlyZSBjYWNoZSBvYmplY3Rcblx0XHQvLyAgIDIuIFRoZSBkYXRhIHN0b3JlZCBhdCB0aGUga2V5XG5cdFx0Ly9cblx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHRcdCggKCBrZXkgJiYgdHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIiApICYmIHZhbHVlID09PSB1bmRlZmluZWQgKSApIHtcblxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0KCBvd25lciwga2V5ICk7XG5cdFx0fVxuXG5cdFx0Ly8gV2hlbiB0aGUga2V5IGlzIG5vdCBhIHN0cmluZywgb3IgYm90aCBhIGtleSBhbmQgdmFsdWVcblx0XHQvLyBhcmUgc3BlY2lmaWVkLCBzZXQgb3IgZXh0ZW5kIChleGlzdGluZyBvYmplY3RzKSB3aXRoIGVpdGhlcjpcblx0XHQvL1xuXHRcdC8vICAgMS4gQW4gb2JqZWN0IG9mIHByb3BlcnRpZXNcblx0XHQvLyAgIDIuIEEga2V5IGFuZCB2YWx1ZVxuXHRcdC8vXG5cdFx0dGhpcy5zZXQoIG93bmVyLCBrZXksIHZhbHVlICk7XG5cblx0XHQvLyBTaW5jZSB0aGUgXCJzZXRcIiBwYXRoIGNhbiBoYXZlIHR3byBwb3NzaWJsZSBlbnRyeSBwb2ludHNcblx0XHQvLyByZXR1cm4gdGhlIGV4cGVjdGVkIGRhdGEgYmFzZWQgb24gd2hpY2ggcGF0aCB3YXMgdGFrZW5bKl1cblx0XHRyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDoga2V5O1xuXHR9LFxuXHRyZW1vdmU6IGZ1bmN0aW9uKCBvd25lciwga2V5ICkge1xuXHRcdHZhciBpLFxuXHRcdFx0Y2FjaGUgPSBvd25lclsgdGhpcy5leHBhbmRvIF07XG5cblx0XHRpZiAoIGNhY2hlID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBrZXkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Ly8gU3VwcG9ydCBhcnJheSBvciBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIG9mIGtleXNcblx0XHRcdGlmICggQXJyYXkuaXNBcnJheSgga2V5ICkgKSB7XG5cblx0XHRcdFx0Ly8gSWYga2V5IGlzIGFuIGFycmF5IG9mIGtleXMuLi5cblx0XHRcdFx0Ly8gV2UgYWx3YXlzIHNldCBjYW1lbENhc2Uga2V5cywgc28gcmVtb3ZlIHRoYXQuXG5cdFx0XHRcdGtleSA9IGtleS5tYXAoIGNhbWVsQ2FzZSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0a2V5ID0gY2FtZWxDYXNlKCBrZXkgKTtcblxuXHRcdFx0XHQvLyBJZiBhIGtleSB3aXRoIHRoZSBzcGFjZXMgZXhpc3RzLCB1c2UgaXQuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSwgY3JlYXRlIGFuIGFycmF5IGJ5IG1hdGNoaW5nIG5vbi13aGl0ZXNwYWNlXG5cdFx0XHRcdGtleSA9IGtleSBpbiBjYWNoZSA/XG5cdFx0XHRcdFx0WyBrZXkgXSA6XG5cdFx0XHRcdFx0KCBrZXkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXSApO1xuXHRcdFx0fVxuXG5cdFx0XHRpID0ga2V5Lmxlbmd0aDtcblxuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGRlbGV0ZSBjYWNoZVsga2V5WyBpIF0gXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBSZW1vdmUgdGhlIGV4cGFuZG8gaWYgdGhlcmUncyBubyBtb3JlIGRhdGFcblx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkIHx8IGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBjYWNoZSApICkge1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1XG5cdFx0XHQvLyBXZWJraXQgJiBCbGluayBwZXJmb3JtYW5jZSBzdWZmZXJzIHdoZW4gZGVsZXRpbmcgcHJvcGVydGllc1xuXHRcdFx0Ly8gZnJvbSBET00gbm9kZXMsIHNvIHNldCB0byB1bmRlZmluZWQgaW5zdGVhZFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mzc4NjA3IChidWcgcmVzdHJpY3RlZClcblx0XHRcdGlmICggb3duZXIubm9kZVR5cGUgKSB7XG5cdFx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlbGV0ZSBvd25lclsgdGhpcy5leHBhbmRvIF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRoYXNEYXRhOiBmdW5jdGlvbiggb3duZXIgKSB7XG5cdFx0dmFyIGNhY2hlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXHRcdHJldHVybiBjYWNoZSAhPT0gdW5kZWZpbmVkICYmICFqUXVlcnkuaXNFbXB0eU9iamVjdCggY2FjaGUgKTtcblx0fVxufTtcbnZhciBkYXRhUHJpdiA9IG5ldyBEYXRhKCk7XG5cbnZhciBkYXRhVXNlciA9IG5ldyBEYXRhKCk7XG5cblxuXG4vL1x0SW1wbGVtZW50YXRpb24gU3VtbWFyeVxuLy9cbi8vXHQxLiBFbmZvcmNlIEFQSSBzdXJmYWNlIGFuZCBzZW1hbnRpYyBjb21wYXRpYmlsaXR5IHdpdGggMS45LnggYnJhbmNoXG4vL1x0Mi4gSW1wcm92ZSB0aGUgbW9kdWxlJ3MgbWFpbnRhaW5hYmlsaXR5IGJ5IHJlZHVjaW5nIHRoZSBzdG9yYWdlXG4vL1x0XHRwYXRocyB0byBhIHNpbmdsZSBtZWNoYW5pc20uXG4vL1x0My4gVXNlIHRoZSBzYW1lIHNpbmdsZSBtZWNoYW5pc20gdG8gc3VwcG9ydCBcInByaXZhdGVcIiBhbmQgXCJ1c2VyXCIgZGF0YS5cbi8vXHQ0LiBfTmV2ZXJfIGV4cG9zZSBcInByaXZhdGVcIiBkYXRhIHRvIHVzZXIgY29kZSAoVE9ETzogRHJvcCBfZGF0YSwgX3JlbW92ZURhdGEpXG4vL1x0NS4gQXZvaWQgZXhwb3NpbmcgaW1wbGVtZW50YXRpb24gZGV0YWlscyBvbiB1c2VyIG9iamVjdHMgKGVnLiBleHBhbmRvIHByb3BlcnRpZXMpXG4vL1x0Ni4gUHJvdmlkZSBhIGNsZWFyIHBhdGggZm9yIGltcGxlbWVudGF0aW9uIHVwZ3JhZGUgdG8gV2Vha01hcCBpbiAyMDE0XG5cbnZhciByYnJhY2UgPSAvXig/Olxce1tcXHdcXFddKlxcfXxcXFtbXFx3XFxXXSpcXF0pJC8sXG5cdHJtdWx0aURhc2ggPSAvW0EtWl0vZztcblxuZnVuY3Rpb24gZ2V0RGF0YSggZGF0YSApIHtcblx0aWYgKCBkYXRhID09PSBcInRydWVcIiApIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGlmICggZGF0YSA9PT0gXCJmYWxzZVwiICkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGlmICggZGF0YSA9PT0gXCJudWxsXCIgKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHQvLyBPbmx5IGNvbnZlcnQgdG8gYSBudW1iZXIgaWYgaXQgZG9lc24ndCBjaGFuZ2UgdGhlIHN0cmluZ1xuXHRpZiAoIGRhdGEgPT09ICtkYXRhICsgXCJcIiApIHtcblx0XHRyZXR1cm4gK2RhdGE7XG5cdH1cblxuXHRpZiAoIHJicmFjZS50ZXN0KCBkYXRhICkgKSB7XG5cdFx0cmV0dXJuIEpTT04ucGFyc2UoIGRhdGEgKTtcblx0fVxuXG5cdHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBkYXRhQXR0ciggZWxlbSwga2V5LCBkYXRhICkge1xuXHR2YXIgbmFtZTtcblxuXHQvLyBJZiBub3RoaW5nIHdhcyBmb3VuZCBpbnRlcm5hbGx5LCB0cnkgdG8gZmV0Y2ggYW55XG5cdC8vIGRhdGEgZnJvbSB0aGUgSFRNTDUgZGF0YS0qIGF0dHJpYnV0ZVxuXHRpZiAoIGRhdGEgPT09IHVuZGVmaW5lZCAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdG5hbWUgPSBcImRhdGEtXCIgKyBrZXkucmVwbGFjZSggcm11bHRpRGFzaCwgXCItJCZcIiApLnRvTG93ZXJDYXNlKCk7XG5cdFx0ZGF0YSA9IGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICk7XG5cblx0XHRpZiAoIHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZGF0YSA9IGdldERhdGEoIGRhdGEgKTtcblx0XHRcdH0gY2F0Y2ggKCBlICkge31cblxuXHRcdFx0Ly8gTWFrZSBzdXJlIHdlIHNldCB0aGUgZGF0YSBzbyBpdCBpc24ndCBjaGFuZ2VkIGxhdGVyXG5cdFx0XHRkYXRhVXNlci5zZXQoIGVsZW0sIGtleSwgZGF0YSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gZGF0YTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRoYXNEYXRhOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGF0YVVzZXIuaGFzRGF0YSggZWxlbSApIHx8IGRhdGFQcml2Lmhhc0RhdGEoIGVsZW0gKTtcblx0fSxcblxuXHRkYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gZGF0YVVzZXIuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7XG5cdH0sXG5cblx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0ZGF0YVVzZXIucmVtb3ZlKCBlbGVtLCBuYW1lICk7XG5cdH0sXG5cblx0Ly8gVE9ETzogTm93IHRoYXQgYWxsIGNhbGxzIHRvIF9kYXRhIGFuZCBfcmVtb3ZlRGF0YSBoYXZlIGJlZW4gcmVwbGFjZWRcblx0Ly8gd2l0aCBkaXJlY3QgY2FsbHMgdG8gZGF0YVByaXYgbWV0aG9kcywgdGhlc2UgY2FuIGJlIGRlcHJlY2F0ZWQuXG5cdF9kYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7XG5cdH0sXG5cblx0X3JlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgbmFtZSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0ZGF0YTogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0dmFyIGksIG5hbWUsIGRhdGEsXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdLFxuXHRcdFx0YXR0cnMgPSBlbGVtICYmIGVsZW0uYXR0cmlidXRlcztcblxuXHRcdC8vIEdldHMgYWxsIHZhbHVlc1xuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIHRoaXMubGVuZ3RoICkge1xuXHRcdFx0XHRkYXRhID0gZGF0YVVzZXIuZ2V0KCBlbGVtICk7XG5cblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmICFkYXRhUHJpdi5nZXQoIGVsZW0sIFwiaGFzRGF0YUF0dHJzXCIgKSApIHtcblx0XHRcdFx0XHRpID0gYXR0cnMubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSBvbmx5XG5cdFx0XHRcdFx0XHQvLyBUaGUgYXR0cnMgZWxlbWVudHMgY2FuIGJlIG51bGwgKHRyYWMtMTQ4OTQpXG5cdFx0XHRcdFx0XHRpZiAoIGF0dHJzWyBpIF0gKSB7XG5cdFx0XHRcdFx0XHRcdG5hbWUgPSBhdHRyc1sgaSBdLm5hbWU7XG5cdFx0XHRcdFx0XHRcdGlmICggbmFtZS5pbmRleE9mKCBcImRhdGEtXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0XHRcdFx0XHRuYW1lID0gY2FtZWxDYXNlKCBuYW1lLnNsaWNlKCA1ICkgKTtcblx0XHRcdFx0XHRcdFx0XHRkYXRhQXR0ciggZWxlbSwgbmFtZSwgZGF0YVsgbmFtZSBdICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZGF0YVByaXYuc2V0KCBlbGVtLCBcImhhc0RhdGFBdHRyc1wiLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0fVxuXG5cdFx0Ly8gU2V0cyBtdWx0aXBsZSB2YWx1ZXNcblx0XHRpZiAoIHR5cGVvZiBrZXkgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGF0YVVzZXIuc2V0KCB0aGlzLCBrZXkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgZGF0YTtcblxuXHRcdFx0Ly8gVGhlIGNhbGxpbmcgalF1ZXJ5IG9iamVjdCAoZWxlbWVudCBtYXRjaGVzKSBpcyBub3QgZW1wdHlcblx0XHRcdC8vIChhbmQgdGhlcmVmb3JlIGhhcyBhbiBlbGVtZW50IGFwcGVhcnMgYXQgdGhpc1sgMCBdKSBhbmQgdGhlXG5cdFx0XHQvLyBgdmFsdWVgIHBhcmFtZXRlciB3YXMgbm90IHVuZGVmaW5lZC4gQW4gZW1wdHkgalF1ZXJ5IG9iamVjdFxuXHRcdFx0Ly8gd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgZm9yIGVsZW0gPSB0aGlzWyAwIF0gd2hpY2ggd2lsbFxuXHRcdFx0Ly8gdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFuIGF0dGVtcHQgdG8gcmVhZCBhIGRhdGEgY2FjaGUgaXMgbWFkZS5cblx0XHRcdGlmICggZWxlbSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdC8vIEF0dGVtcHQgdG8gZ2V0IGRhdGEgZnJvbSB0aGUgY2FjaGVcblx0XHRcdFx0Ly8gVGhlIGtleSB3aWxsIGFsd2F5cyBiZSBjYW1lbENhc2VkIGluIERhdGFcblx0XHRcdFx0ZGF0YSA9IGRhdGFVc2VyLmdldCggZWxlbSwga2V5ICk7XG5cdFx0XHRcdGlmICggZGF0YSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQXR0ZW1wdCB0byBcImRpc2NvdmVyXCIgdGhlIGRhdGEgaW5cblx0XHRcdFx0Ly8gSFRNTDUgY3VzdG9tIGRhdGEtKiBhdHRyc1xuXHRcdFx0XHRkYXRhID0gZGF0YUF0dHIoIGVsZW0sIGtleSApO1xuXHRcdFx0XHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFdlIHRyaWVkIHJlYWxseSBoYXJkLCBidXQgdGhlIGRhdGEgZG9lc24ndCBleGlzdC5cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZXQgdGhlIGRhdGEuLi5cblx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0Ly8gV2UgYWx3YXlzIHN0b3JlIHRoZSBjYW1lbENhc2VkIGtleVxuXHRcdFx0XHRkYXRhVXNlci5zZXQoIHRoaXMsIGtleSwgdmFsdWUgKTtcblx0XHRcdH0gKTtcblx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEsIG51bGwsIHRydWUgKTtcblx0fSxcblxuXHRyZW1vdmVEYXRhOiBmdW5jdGlvbigga2V5ICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0ZGF0YVVzZXIucmVtb3ZlKCB0aGlzLCBrZXkgKTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdHF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSwgZGF0YSApIHtcblx0XHR2YXIgcXVldWU7XG5cblx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHR0eXBlID0gKCB0eXBlIHx8IFwiZnhcIiApICsgXCJxdWV1ZVwiO1xuXHRcdFx0cXVldWUgPSBkYXRhUHJpdi5nZXQoIGVsZW0sIHR5cGUgKTtcblxuXHRcdFx0Ly8gU3BlZWQgdXAgZGVxdWV1ZSBieSBnZXR0aW5nIG91dCBxdWlja2x5IGlmIHRoaXMgaXMganVzdCBhIGxvb2t1cFxuXHRcdFx0aWYgKCBkYXRhICkge1xuXHRcdFx0XHRpZiAoICFxdWV1ZSB8fCBBcnJheS5pc0FycmF5KCBkYXRhICkgKSB7XG5cdFx0XHRcdFx0cXVldWUgPSBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIHR5cGUsIGpRdWVyeS5tYWtlQXJyYXkoIGRhdGEgKSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHF1ZXVlLnB1c2goIGRhdGEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHF1ZXVlIHx8IFtdO1xuXHRcdH1cblx0fSxcblxuXHRkZXF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHtcblx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cblx0XHR2YXIgcXVldWUgPSBqUXVlcnkucXVldWUoIGVsZW0sIHR5cGUgKSxcblx0XHRcdHN0YXJ0TGVuZ3RoID0gcXVldWUubGVuZ3RoLFxuXHRcdFx0Zm4gPSBxdWV1ZS5zaGlmdCgpLFxuXHRcdFx0aG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoIGVsZW0sIHR5cGUgKSxcblx0XHRcdG5leHQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIGVsZW0sIHR5cGUgKTtcblx0XHRcdH07XG5cblx0XHQvLyBJZiB0aGUgZnggcXVldWUgaXMgZGVxdWV1ZWQsIGFsd2F5cyByZW1vdmUgdGhlIHByb2dyZXNzIHNlbnRpbmVsXG5cdFx0aWYgKCBmbiA9PT0gXCJpbnByb2dyZXNzXCIgKSB7XG5cdFx0XHRmbiA9IHF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHRzdGFydExlbmd0aC0tO1xuXHRcdH1cblxuXHRcdGlmICggZm4gKSB7XG5cblx0XHRcdC8vIEFkZCBhIHByb2dyZXNzIHNlbnRpbmVsIHRvIHByZXZlbnQgdGhlIGZ4IHF1ZXVlIGZyb20gYmVpbmdcblx0XHRcdC8vIGF1dG9tYXRpY2FsbHkgZGVxdWV1ZWRcblx0XHRcdGlmICggdHlwZSA9PT0gXCJmeFwiICkge1xuXHRcdFx0XHRxdWV1ZS51bnNoaWZ0KCBcImlucHJvZ3Jlc3NcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDbGVhciB1cCB0aGUgbGFzdCBxdWV1ZSBzdG9wIGZ1bmN0aW9uXG5cdFx0XHRkZWxldGUgaG9va3Muc3RvcDtcblx0XHRcdGZuLmNhbGwoIGVsZW0sIG5leHQsIGhvb2tzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhc3RhcnRMZW5ndGggJiYgaG9va3MgKSB7XG5cdFx0XHRob29rcy5lbXB0eS5maXJlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdC8vIE5vdCBwdWJsaWMgLSBnZW5lcmF0ZSBhIHF1ZXVlSG9va3Mgb2JqZWN0LCBvciByZXR1cm4gdGhlIGN1cnJlbnQgb25lXG5cdF9xdWV1ZUhvb2tzOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHtcblx0XHR2YXIga2V5ID0gdHlwZSArIFwicXVldWVIb29rc1wiO1xuXHRcdHJldHVybiBkYXRhUHJpdi5nZXQoIGVsZW0sIGtleSApIHx8IGRhdGFQcml2LmFjY2VzcyggZWxlbSwga2V5LCB7XG5cdFx0XHRlbXB0eTogalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICkuYWRkKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBbIHR5cGUgKyBcInF1ZXVlXCIsIGtleSBdICk7XG5cdFx0XHR9IClcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRxdWV1ZTogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG5cdFx0dmFyIHNldHRlciA9IDI7XG5cblx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0ZGF0YSA9IHR5cGU7XG5cdFx0XHR0eXBlID0gXCJmeFwiO1xuXHRcdFx0c2V0dGVyLS07XG5cdFx0fVxuXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoIDwgc2V0dGVyICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5xdWV1ZSggdGhpc1sgMCBdLCB0eXBlICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRhdGEgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHR0aGlzIDpcblx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgZGF0YSApO1xuXG5cdFx0XHRcdC8vIEVuc3VyZSBhIGhvb2tzIGZvciB0aGlzIHF1ZXVlXG5cdFx0XHRcdGpRdWVyeS5fcXVldWVIb29rcyggdGhpcywgdHlwZSApO1xuXG5cdFx0XHRcdGlmICggdHlwZSA9PT0gXCJmeFwiICYmIHF1ZXVlWyAwIF0gIT09IFwiaW5wcm9ncmVzc1wiICkge1xuXHRcdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0fSxcblx0ZGVxdWV1ZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xuXHRcdH0gKTtcblx0fSxcblx0Y2xlYXJRdWV1ZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0cmV0dXJuIHRoaXMucXVldWUoIHR5cGUgfHwgXCJmeFwiLCBbXSApO1xuXHR9LFxuXG5cdC8vIEdldCBhIHByb21pc2UgcmVzb2x2ZWQgd2hlbiBxdWV1ZXMgb2YgYSBjZXJ0YWluIHR5cGVcblx0Ly8gYXJlIGVtcHRpZWQgKGZ4IGlzIHRoZSB0eXBlIGJ5IGRlZmF1bHQpXG5cdHByb21pc2U6IGZ1bmN0aW9uKCB0eXBlLCBvYmogKSB7XG5cdFx0dmFyIHRtcCxcblx0XHRcdGNvdW50ID0gMSxcblx0XHRcdGRlZmVyID0galF1ZXJ5LkRlZmVycmVkKCksXG5cdFx0XHRlbGVtZW50cyA9IHRoaXMsXG5cdFx0XHRpID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRyZXNvbHZlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggISggLS1jb3VudCApICkge1xuXHRcdFx0XHRcdGRlZmVyLnJlc29sdmVXaXRoKCBlbGVtZW50cywgWyBlbGVtZW50cyBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0b2JqID0gdHlwZTtcblx0XHRcdHR5cGUgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0dG1wID0gZGF0YVByaXYuZ2V0KCBlbGVtZW50c1sgaSBdLCB0eXBlICsgXCJxdWV1ZUhvb2tzXCIgKTtcblx0XHRcdGlmICggdG1wICYmIHRtcC5lbXB0eSApIHtcblx0XHRcdFx0Y291bnQrKztcblx0XHRcdFx0dG1wLmVtcHR5LmFkZCggcmVzb2x2ZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXNvbHZlKCk7XG5cdFx0cmV0dXJuIGRlZmVyLnByb21pc2UoIG9iaiApO1xuXHR9XG59ICk7XG52YXIgcG51bSA9ICggL1srLV0/KD86XFxkKlxcLnwpXFxkKyg/OltlRV1bKy1dP1xcZCt8KS8gKS5zb3VyY2U7XG5cbnZhciByY3NzTnVtID0gbmV3IFJlZ0V4cCggXCJeKD86KFsrLV0pPXwpKFwiICsgcG51bSArIFwiKShbYS16JV0qKSRcIiwgXCJpXCIgKTtcblxuXG52YXIgY3NzRXhwYW5kID0gWyBcIlRvcFwiLCBcIlJpZ2h0XCIsIFwiQm90dG9tXCIsIFwiTGVmdFwiIF07XG5cbnZhciBkb2N1bWVudEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cblxuXG5cdHZhciBpc0F0dGFjaGVkID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKTtcblx0XHR9LFxuXHRcdGNvbXBvc2VkID0geyBjb21wb3NlZDogdHJ1ZSB9O1xuXG5cdC8vIFN1cHBvcnQ6IElFIDkgLSAxMSssIEVkZ2UgMTIgLSAxOCssIGlPUyAxMC4wIC0gMTAuMiBvbmx5XG5cdC8vIENoZWNrIGF0dGFjaG1lbnQgYWNyb3NzIHNoYWRvdyBET00gYm91bmRhcmllcyB3aGVuIHBvc3NpYmxlIChnaC0zNTA0KVxuXHQvLyBTdXBwb3J0OiBpT1MgMTAuMC0xMC4yIG9ubHlcblx0Ly8gRWFybHkgaU9TIDEwIHZlcnNpb25zIHN1cHBvcnQgYGF0dGFjaFNoYWRvd2AgYnV0IG5vdCBgZ2V0Um9vdE5vZGVgLFxuXHQvLyBsZWFkaW5nIHRvIGVycm9ycy4gV2UgbmVlZCB0byBjaGVjayBmb3IgYGdldFJvb3ROb2RlYC5cblx0aWYgKCBkb2N1bWVudEVsZW1lbnQuZ2V0Um9vdE5vZGUgKSB7XG5cdFx0aXNBdHRhY2hlZCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICkgfHxcblx0XHRcdFx0ZWxlbS5nZXRSb290Tm9kZSggY29tcG9zZWQgKSA9PT0gZWxlbS5vd25lckRvY3VtZW50O1xuXHRcdH07XG5cdH1cbnZhciBpc0hpZGRlbldpdGhpblRyZWUgPSBmdW5jdGlvbiggZWxlbSwgZWwgKSB7XG5cblx0XHQvLyBpc0hpZGRlbldpdGhpblRyZWUgbWlnaHQgYmUgY2FsbGVkIGZyb20galF1ZXJ5I2ZpbHRlciBmdW5jdGlvbjtcblx0XHQvLyBpbiB0aGF0IGNhc2UsIGVsZW1lbnQgd2lsbCBiZSBzZWNvbmQgYXJndW1lbnRcblx0XHRlbGVtID0gZWwgfHwgZWxlbTtcblxuXHRcdC8vIElubGluZSBzdHlsZSB0cnVtcHMgYWxsXG5cdFx0cmV0dXJuIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIgfHxcblx0XHRcdGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiAmJlxuXG5cdFx0XHQvLyBPdGhlcndpc2UsIGNoZWNrIGNvbXB1dGVkIHN0eWxlXG5cdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9NDMgLSA0NVxuXHRcdFx0Ly8gRGlzY29ubmVjdGVkIGVsZW1lbnRzIGNhbiBoYXZlIGNvbXB1dGVkIGRpc3BsYXk6IG5vbmUsIHNvIGZpcnN0IGNvbmZpcm0gdGhhdCBlbGVtIGlzXG5cdFx0XHQvLyBpbiB0aGUgZG9jdW1lbnQuXG5cdFx0XHRpc0F0dGFjaGVkKCBlbGVtICkgJiZcblxuXHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSA9PT0gXCJub25lXCI7XG5cdH07XG5cblxuXG5mdW5jdGlvbiBhZGp1c3RDU1MoIGVsZW0sIHByb3AsIHZhbHVlUGFydHMsIHR3ZWVuICkge1xuXHR2YXIgYWRqdXN0ZWQsIHNjYWxlLFxuXHRcdG1heEl0ZXJhdGlvbnMgPSAyMCxcblx0XHRjdXJyZW50VmFsdWUgPSB0d2VlbiA/XG5cdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIHR3ZWVuLmN1cigpO1xuXHRcdFx0fSA6XG5cdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIGpRdWVyeS5jc3MoIGVsZW0sIHByb3AsIFwiXCIgKTtcblx0XHRcdH0sXG5cdFx0aW5pdGlhbCA9IGN1cnJlbnRWYWx1ZSgpLFxuXHRcdHVuaXQgPSB2YWx1ZVBhcnRzICYmIHZhbHVlUGFydHNbIDMgXSB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSA/IFwiXCIgOiBcInB4XCIgKSxcblxuXHRcdC8vIFN0YXJ0aW5nIHZhbHVlIGNvbXB1dGF0aW9uIGlzIHJlcXVpcmVkIGZvciBwb3RlbnRpYWwgdW5pdCBtaXNtYXRjaGVzXG5cdFx0aW5pdGlhbEluVW5pdCA9IGVsZW0ubm9kZVR5cGUgJiZcblx0XHRcdCggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdIHx8IHVuaXQgIT09IFwicHhcIiAmJiAraW5pdGlhbCApICYmXG5cdFx0XHRyY3NzTnVtLmV4ZWMoIGpRdWVyeS5jc3MoIGVsZW0sIHByb3AgKSApO1xuXG5cdGlmICggaW5pdGlhbEluVW5pdCAmJiBpbml0aWFsSW5Vbml0WyAzIF0gIT09IHVuaXQgKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9NTRcblx0XHQvLyBIYWx2ZSB0aGUgaXRlcmF0aW9uIHRhcmdldCB2YWx1ZSB0byBwcmV2ZW50IGludGVyZmVyZW5jZSBmcm9tIENTUyB1cHBlciBib3VuZHMgKGdoLTIxNDQpXG5cdFx0aW5pdGlhbCA9IGluaXRpYWwgLyAyO1xuXG5cdFx0Ly8gVHJ1c3QgdW5pdHMgcmVwb3J0ZWQgYnkgalF1ZXJ5LmNzc1xuXHRcdHVuaXQgPSB1bml0IHx8IGluaXRpYWxJblVuaXRbIDMgXTtcblxuXHRcdC8vIEl0ZXJhdGl2ZWx5IGFwcHJveGltYXRlIGZyb20gYSBub256ZXJvIHN0YXJ0aW5nIHBvaW50XG5cdFx0aW5pdGlhbEluVW5pdCA9ICtpbml0aWFsIHx8IDE7XG5cblx0XHR3aGlsZSAoIG1heEl0ZXJhdGlvbnMtLSApIHtcblxuXHRcdFx0Ly8gRXZhbHVhdGUgYW5kIHVwZGF0ZSBvdXIgYmVzdCBndWVzcyAoZG91YmxpbmcgZ3Vlc3NlcyB0aGF0IHplcm8gb3V0KS5cblx0XHRcdC8vIEZpbmlzaCBpZiB0aGUgc2NhbGUgZXF1YWxzIG9yIGNyb3NzZXMgMSAobWFraW5nIHRoZSBvbGQqbmV3IHByb2R1Y3Qgbm9uLXBvc2l0aXZlKS5cblx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgaW5pdGlhbEluVW5pdCArIHVuaXQgKTtcblx0XHRcdGlmICggKCAxIC0gc2NhbGUgKSAqICggMSAtICggc2NhbGUgPSBjdXJyZW50VmFsdWUoKSAvIGluaXRpYWwgfHwgMC41ICkgKSA8PSAwICkge1xuXHRcdFx0XHRtYXhJdGVyYXRpb25zID0gMDtcblx0XHRcdH1cblx0XHRcdGluaXRpYWxJblVuaXQgPSBpbml0aWFsSW5Vbml0IC8gc2NhbGU7XG5cblx0XHR9XG5cblx0XHRpbml0aWFsSW5Vbml0ID0gaW5pdGlhbEluVW5pdCAqIDI7XG5cdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBpbml0aWFsSW5Vbml0ICsgdW5pdCApO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIHdlIHVwZGF0ZSB0aGUgdHdlZW4gcHJvcGVydGllcyBsYXRlciBvblxuXHRcdHZhbHVlUGFydHMgPSB2YWx1ZVBhcnRzIHx8IFtdO1xuXHR9XG5cblx0aWYgKCB2YWx1ZVBhcnRzICkge1xuXHRcdGluaXRpYWxJblVuaXQgPSAraW5pdGlhbEluVW5pdCB8fCAraW5pdGlhbCB8fCAwO1xuXG5cdFx0Ly8gQXBwbHkgcmVsYXRpdmUgb2Zmc2V0ICgrPS8tPSkgaWYgc3BlY2lmaWVkXG5cdFx0YWRqdXN0ZWQgPSB2YWx1ZVBhcnRzWyAxIF0gP1xuXHRcdFx0aW5pdGlhbEluVW5pdCArICggdmFsdWVQYXJ0c1sgMSBdICsgMSApICogdmFsdWVQYXJ0c1sgMiBdIDpcblx0XHRcdCt2YWx1ZVBhcnRzWyAyIF07XG5cdFx0aWYgKCB0d2VlbiApIHtcblx0XHRcdHR3ZWVuLnVuaXQgPSB1bml0O1xuXHRcdFx0dHdlZW4uc3RhcnQgPSBpbml0aWFsSW5Vbml0O1xuXHRcdFx0dHdlZW4uZW5kID0gYWRqdXN0ZWQ7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBhZGp1c3RlZDtcbn1cblxuXG52YXIgZGVmYXVsdERpc3BsYXlNYXAgPSB7fTtcblxuZnVuY3Rpb24gZ2V0RGVmYXVsdERpc3BsYXkoIGVsZW0gKSB7XG5cdHZhciB0ZW1wLFxuXHRcdGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudCxcblx0XHRub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUsXG5cdFx0ZGlzcGxheSA9IGRlZmF1bHREaXNwbGF5TWFwWyBub2RlTmFtZSBdO1xuXG5cdGlmICggZGlzcGxheSApIHtcblx0XHRyZXR1cm4gZGlzcGxheTtcblx0fVxuXG5cdHRlbXAgPSBkb2MuYm9keS5hcHBlbmRDaGlsZCggZG9jLmNyZWF0ZUVsZW1lbnQoIG5vZGVOYW1lICkgKTtcblx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIHRlbXAsIFwiZGlzcGxheVwiICk7XG5cblx0dGVtcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCB0ZW1wICk7XG5cblx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRkaXNwbGF5ID0gXCJibG9ja1wiO1xuXHR9XG5cdGRlZmF1bHREaXNwbGF5TWFwWyBub2RlTmFtZSBdID0gZGlzcGxheTtcblxuXHRyZXR1cm4gZGlzcGxheTtcbn1cblxuZnVuY3Rpb24gc2hvd0hpZGUoIGVsZW1lbnRzLCBzaG93ICkge1xuXHR2YXIgZGlzcGxheSwgZWxlbSxcblx0XHR2YWx1ZXMgPSBbXSxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xuXG5cdC8vIERldGVybWluZSBuZXcgZGlzcGxheSB2YWx1ZSBmb3IgZWxlbWVudHMgdGhhdCBuZWVkIHRvIGNoYW5nZVxuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGVsZW0gPSBlbGVtZW50c1sgaW5kZXggXTtcblx0XHRpZiAoICFlbGVtLnN0eWxlICkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0ZGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGxheTtcblx0XHRpZiAoIHNob3cgKSB7XG5cblx0XHRcdC8vIFNpbmNlIHdlIGZvcmNlIHZpc2liaWxpdHkgdXBvbiBjYXNjYWRlLWhpZGRlbiBlbGVtZW50cywgYW4gaW1tZWRpYXRlIChhbmQgc2xvdylcblx0XHRcdC8vIGNoZWNrIGlzIHJlcXVpcmVkIGluIHRoaXMgZmlyc3QgbG9vcCB1bmxlc3Mgd2UgaGF2ZSBhIG5vbmVtcHR5IGRpc3BsYXkgdmFsdWUgKGVpdGhlclxuXHRcdFx0Ly8gaW5saW5lIG9yIGFib3V0LXRvLWJlLXJlc3RvcmVkKVxuXHRcdFx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcImRpc3BsYXlcIiApIHx8IG51bGw7XG5cdFx0XHRcdGlmICggIXZhbHVlc1sgaW5kZXggXSApIHtcblx0XHRcdFx0XHRlbGVtLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiAmJiBpc0hpZGRlbldpdGhpblRyZWUoIGVsZW0gKSApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gZ2V0RGVmYXVsdERpc3BsYXkoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKCBkaXNwbGF5ICE9PSBcIm5vbmVcIiApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gXCJub25lXCI7XG5cblx0XHRcdFx0Ly8gUmVtZW1iZXIgd2hhdCB3ZSdyZSBvdmVyd3JpdGluZ1xuXHRcdFx0XHRkYXRhUHJpdi5zZXQoIGVsZW0sIFwiZGlzcGxheVwiLCBkaXNwbGF5ICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gU2V0IHRoZSBkaXNwbGF5IG9mIHRoZSBlbGVtZW50cyBpbiBhIHNlY29uZCBsb29wIHRvIGF2b2lkIGNvbnN0YW50IHJlZmxvd1xuXHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGlmICggdmFsdWVzWyBpbmRleCBdICE9IG51bGwgKSB7XG5cdFx0XHRlbGVtZW50c1sgaW5kZXggXS5zdHlsZS5kaXNwbGF5ID0gdmFsdWVzWyBpbmRleCBdO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBlbGVtZW50cztcbn1cblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRzaG93OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2hvd0hpZGUoIHRoaXMsIHRydWUgKTtcblx0fSxcblx0aGlkZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNob3dIaWRlKCB0aGlzICk7XG5cdH0sXG5cdHRvZ2dsZTogZnVuY3Rpb24oIHN0YXRlICkge1xuXHRcdGlmICggdHlwZW9mIHN0YXRlID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdHJldHVybiBzdGF0ZSA/IHRoaXMuc2hvdygpIDogdGhpcy5oaWRlKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIGlzSGlkZGVuV2l0aGluVHJlZSggdGhpcyApICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5zaG93KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5oaWRlKCk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG59ICk7XG52YXIgcmNoZWNrYWJsZVR5cGUgPSAoIC9eKD86Y2hlY2tib3h8cmFkaW8pJC9pICk7XG5cbnZhciBydGFnTmFtZSA9ICggLzwoW2Etel1bXlxcL1xcMD5cXHgyMFxcdFxcclxcblxcZl0qKS9pICk7XG5cbnZhciByc2NyaXB0VHlwZSA9ICggL14kfF5tb2R1bGUkfFxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSApO1xuXG5cblxuKCBmdW5jdGlvbigpIHtcblx0dmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuXHRcdGRpdiA9IGZyYWdtZW50LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkgKSxcblx0XHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApO1xuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHlcblx0Ly8gQ2hlY2sgc3RhdGUgbG9zdCBpZiB0aGUgbmFtZSBpcyBzZXQgKHRyYWMtMTEyMTcpXG5cdC8vIFN1cHBvcnQ6IFdpbmRvd3MgV2ViIEFwcHMgKFdXQSlcblx0Ly8gYG5hbWVgIGFuZCBgdHlwZWAgbXVzdCB1c2UgLnNldEF0dHJpYnV0ZSBmb3IgV1dBICh0cmFjLTE0OTAxKVxuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcInJhZGlvXCIgKTtcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcImNoZWNrZWRcIiwgXCJjaGVja2VkXCIgKTtcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcIm5hbWVcIiwgXCJ0XCIgKTtcblxuXHRkaXYuYXBwZW5kQ2hpbGQoIGlucHV0ICk7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMSBvbmx5XG5cdC8vIE9sZGVyIFdlYktpdCBkb2Vzbid0IGNsb25lIGNoZWNrZWQgc3RhdGUgY29ycmVjdGx5IGluIGZyYWdtZW50c1xuXHRzdXBwb3J0LmNoZWNrQ2xvbmUgPSBkaXYuY2xvbmVOb2RlKCB0cnVlICkuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmNoZWNrZWQ7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIE1ha2Ugc3VyZSB0ZXh0YXJlYSAoYW5kIGNoZWNrYm94KSBkZWZhdWx0VmFsdWUgaXMgcHJvcGVybHkgY2xvbmVkXG5cdGRpdi5pbm5lckhUTUwgPSBcIjx0ZXh0YXJlYT54PC90ZXh0YXJlYT5cIjtcblx0c3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCA9ICEhZGl2LmNsb25lTm9kZSggdHJ1ZSApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWU7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0Ly8gSUUgPD05IHJlcGxhY2VzIDxvcHRpb24+IHRhZ3Mgd2l0aCB0aGVpciBjb250ZW50cyB3aGVuIGluc2VydGVkIG91dHNpZGUgb2Zcblx0Ly8gdGhlIHNlbGVjdCBlbGVtZW50LlxuXHRkaXYuaW5uZXJIVE1MID0gXCI8b3B0aW9uPjwvb3B0aW9uPlwiO1xuXHRzdXBwb3J0Lm9wdGlvbiA9ICEhZGl2Lmxhc3RDaGlsZDtcbn0gKSgpO1xuXG5cbi8vIFdlIGhhdmUgdG8gY2xvc2UgdGhlc2UgdGFncyB0byBzdXBwb3J0IFhIVE1MICh0cmFjLTEzMjAwKVxudmFyIHdyYXBNYXAgPSB7XG5cblx0Ly8gWEhUTUwgcGFyc2VycyBkbyBub3QgbWFnaWNhbGx5IGluc2VydCBlbGVtZW50cyBpbiB0aGVcblx0Ly8gc2FtZSB3YXkgdGhhdCB0YWcgc291cCBwYXJzZXJzIGRvLiBTbyB3ZSBjYW5ub3Qgc2hvcnRlblxuXHQvLyB0aGlzIGJ5IG9taXR0aW5nIDx0Ym9keT4gb3Igb3RoZXIgcmVxdWlyZWQgZWxlbWVudHMuXG5cdHRoZWFkOiBbIDEsIFwiPHRhYmxlPlwiLCBcIjwvdGFibGU+XCIgXSxcblx0Y29sOiBbIDIsIFwiPHRhYmxlPjxjb2xncm91cD5cIiwgXCI8L2NvbGdyb3VwPjwvdGFibGU+XCIgXSxcblx0dHI6IFsgMiwgXCI8dGFibGU+PHRib2R5PlwiLCBcIjwvdGJvZHk+PC90YWJsZT5cIiBdLFxuXHR0ZDogWyAzLCBcIjx0YWJsZT48dGJvZHk+PHRyPlwiLCBcIjwvdHI+PC90Ym9keT48L3RhYmxlPlwiIF0sXG5cblx0X2RlZmF1bHQ6IFsgMCwgXCJcIiwgXCJcIiBdXG59O1xuXG53cmFwTWFwLnRib2R5ID0gd3JhcE1hcC50Zm9vdCA9IHdyYXBNYXAuY29sZ3JvdXAgPSB3cmFwTWFwLmNhcHRpb24gPSB3cmFwTWFwLnRoZWFkO1xud3JhcE1hcC50aCA9IHdyYXBNYXAudGQ7XG5cbi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5pZiAoICFzdXBwb3J0Lm9wdGlvbiApIHtcblx0d3JhcE1hcC5vcHRncm91cCA9IHdyYXBNYXAub3B0aW9uID0gWyAxLCBcIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz5cIiwgXCI8L3NlbGVjdD5cIiBdO1xufVxuXG5cbmZ1bmN0aW9uIGdldEFsbCggY29udGV4dCwgdGFnICkge1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0Ly8gVXNlIHR5cGVvZiB0byBhdm9pZCB6ZXJvLWFyZ3VtZW50IG1ldGhvZCBpbnZvY2F0aW9uIG9uIGhvc3Qgb2JqZWN0cyAodHJhYy0xNTE1MSlcblx0dmFyIHJldDtcblxuXHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdHJldCA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyB8fCBcIipcIiApO1xuXG5cdH0gZWxzZSBpZiAoIHR5cGVvZiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0cmV0ID0gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCB0YWcgfHwgXCIqXCIgKTtcblxuXHR9IGVsc2Uge1xuXHRcdHJldCA9IFtdO1xuXHR9XG5cblx0aWYgKCB0YWcgPT09IHVuZGVmaW5lZCB8fCB0YWcgJiYgbm9kZU5hbWUoIGNvbnRleHQsIHRhZyApICkge1xuXHRcdHJldHVybiBqUXVlcnkubWVyZ2UoIFsgY29udGV4dCBdLCByZXQgKTtcblx0fVxuXG5cdHJldHVybiByZXQ7XG59XG5cblxuLy8gTWFyayBzY3JpcHRzIGFzIGhhdmluZyBhbHJlYWR5IGJlZW4gZXZhbHVhdGVkXG5mdW5jdGlvbiBzZXRHbG9iYWxFdmFsKCBlbGVtcywgcmVmRWxlbWVudHMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsID0gZWxlbXMubGVuZ3RoO1xuXG5cdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRkYXRhUHJpdi5zZXQoXG5cdFx0XHRlbGVtc1sgaSBdLFxuXHRcdFx0XCJnbG9iYWxFdmFsXCIsXG5cdFx0XHQhcmVmRWxlbWVudHMgfHwgZGF0YVByaXYuZ2V0KCByZWZFbGVtZW50c1sgaSBdLCBcImdsb2JhbEV2YWxcIiApXG5cdFx0KTtcblx0fVxufVxuXG5cbnZhciByaHRtbCA9IC88fCYjP1xcdys7LztcblxuZnVuY3Rpb24gYnVpbGRGcmFnbWVudCggZWxlbXMsIGNvbnRleHQsIHNjcmlwdHMsIHNlbGVjdGlvbiwgaWdub3JlZCApIHtcblx0dmFyIGVsZW0sIHRtcCwgdGFnLCB3cmFwLCBhdHRhY2hlZCwgaixcblx0XHRmcmFnbWVudCA9IGNvbnRleHQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuXHRcdG5vZGVzID0gW10sXG5cdFx0aSA9IDAsXG5cdFx0bCA9IGVsZW1zLmxlbmd0aDtcblxuXHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0ZWxlbSA9IGVsZW1zWyBpIF07XG5cblx0XHRpZiAoIGVsZW0gfHwgZWxlbSA9PT0gMCApIHtcblxuXHRcdFx0Ly8gQWRkIG5vZGVzIGRpcmVjdGx5XG5cdFx0XHRpZiAoIHRvVHlwZSggZWxlbSApID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggbm9kZXMsIGVsZW0ubm9kZVR5cGUgPyBbIGVsZW0gXSA6IGVsZW0gKTtcblxuXHRcdFx0Ly8gQ29udmVydCBub24taHRtbCBpbnRvIGEgdGV4dCBub2RlXG5cdFx0XHR9IGVsc2UgaWYgKCAhcmh0bWwudGVzdCggZWxlbSApICkge1xuXHRcdFx0XHRub2Rlcy5wdXNoKCBjb250ZXh0LmNyZWF0ZVRleHROb2RlKCBlbGVtICkgKTtcblxuXHRcdFx0Ly8gQ29udmVydCBodG1sIGludG8gRE9NIG5vZGVzXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0bXAgPSB0bXAgfHwgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGNvbnRleHQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICk7XG5cblx0XHRcdFx0Ly8gRGVzZXJpYWxpemUgYSBzdGFuZGFyZCByZXByZXNlbnRhdGlvblxuXHRcdFx0XHR0YWcgPSAoIHJ0YWdOYW1lLmV4ZWMoIGVsZW0gKSB8fCBbIFwiXCIsIFwiXCIgXSApWyAxIF0udG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0d3JhcCA9IHdyYXBNYXBbIHRhZyBdIHx8IHdyYXBNYXAuX2RlZmF1bHQ7XG5cdFx0XHRcdHRtcC5pbm5lckhUTUwgPSB3cmFwWyAxIF0gKyBqUXVlcnkuaHRtbFByZWZpbHRlciggZWxlbSApICsgd3JhcFsgMiBdO1xuXG5cdFx0XHRcdC8vIERlc2NlbmQgdGhyb3VnaCB3cmFwcGVycyB0byB0aGUgcmlnaHQgY29udGVudFxuXHRcdFx0XHRqID0gd3JhcFsgMCBdO1xuXHRcdFx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdFx0XHR0bXAgPSB0bXAubGFzdENoaWxkO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCBub2RlcywgdG1wLmNoaWxkTm9kZXMgKTtcblxuXHRcdFx0XHQvLyBSZW1lbWJlciB0aGUgdG9wLWxldmVsIGNvbnRhaW5lclxuXHRcdFx0XHR0bXAgPSBmcmFnbWVudC5maXJzdENoaWxkO1xuXG5cdFx0XHRcdC8vIEVuc3VyZSB0aGUgY3JlYXRlZCBub2RlcyBhcmUgb3JwaGFuZWQgKHRyYWMtMTIzOTIpXG5cdFx0XHRcdHRtcC50ZXh0Q29udGVudCA9IFwiXCI7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmVtb3ZlIHdyYXBwZXIgZnJvbSBmcmFnbWVudFxuXHRmcmFnbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG5cblx0aSA9IDA7XG5cdHdoaWxlICggKCBlbGVtID0gbm9kZXNbIGkrKyBdICkgKSB7XG5cblx0XHQvLyBTa2lwIGVsZW1lbnRzIGFscmVhZHkgaW4gdGhlIGNvbnRleHQgY29sbGVjdGlvbiAodHJhYy00MDg3KVxuXHRcdGlmICggc2VsZWN0aW9uICYmIGpRdWVyeS5pbkFycmF5KCBlbGVtLCBzZWxlY3Rpb24gKSA+IC0xICkge1xuXHRcdFx0aWYgKCBpZ25vcmVkICkge1xuXHRcdFx0XHRpZ25vcmVkLnB1c2goIGVsZW0gKTtcblx0XHRcdH1cblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGF0dGFjaGVkID0gaXNBdHRhY2hlZCggZWxlbSApO1xuXG5cdFx0Ly8gQXBwZW5kIHRvIGZyYWdtZW50XG5cdFx0dG1wID0gZ2V0QWxsKCBmcmFnbWVudC5hcHBlbmRDaGlsZCggZWxlbSApLCBcInNjcmlwdFwiICk7XG5cblx0XHQvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5XG5cdFx0aWYgKCBhdHRhY2hlZCApIHtcblx0XHRcdHNldEdsb2JhbEV2YWwoIHRtcCApO1xuXHRcdH1cblxuXHRcdC8vIENhcHR1cmUgZXhlY3V0YWJsZXNcblx0XHRpZiAoIHNjcmlwdHMgKSB7XG5cdFx0XHRqID0gMDtcblx0XHRcdHdoaWxlICggKCBlbGVtID0gdG1wWyBqKysgXSApICkge1xuXHRcdFx0XHRpZiAoIHJzY3JpcHRUeXBlLnRlc3QoIGVsZW0udHlwZSB8fCBcIlwiICkgKSB7XG5cdFx0XHRcdFx0c2NyaXB0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZnJhZ21lbnQ7XG59XG5cblxudmFyIHJ0eXBlbmFtZXNwYWNlID0gL14oW14uXSopKD86XFwuKC4rKXwpLztcblxuZnVuY3Rpb24gcmV0dXJuVHJ1ZSgpIHtcblx0cmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHJldHVybkZhbHNlKCkge1xuXHRyZXR1cm4gZmFsc2U7XG59XG5cbi8vIFN1cHBvcnQ6IElFIDw9OSAtIDExK1xuLy8gZm9jdXMoKSBhbmQgYmx1cigpIGFyZSBhc3luY2hyb25vdXMsIGV4Y2VwdCB3aGVuIHRoZXkgYXJlIG5vLW9wLlxuLy8gU28gZXhwZWN0IGZvY3VzIHRvIGJlIHN5bmNocm9ub3VzIHdoZW4gdGhlIGVsZW1lbnQgaXMgYWxyZWFkeSBhY3RpdmUsXG4vLyBhbmQgYmx1ciB0byBiZSBzeW5jaHJvbm91cyB3aGVuIHRoZSBlbGVtZW50IGlzIG5vdCBhbHJlYWR5IGFjdGl2ZS5cbi8vIChmb2N1cyBhbmQgYmx1ciBhcmUgYWx3YXlzIHN5bmNocm9ub3VzIGluIG90aGVyIHN1cHBvcnRlZCBicm93c2Vycyxcbi8vIHRoaXMganVzdCBkZWZpbmVzIHdoZW4gd2UgY2FuIGNvdW50IG9uIGl0KS5cbmZ1bmN0aW9uIGV4cGVjdFN5bmMoIGVsZW0sIHR5cGUgKSB7XG5cdHJldHVybiAoIGVsZW0gPT09IHNhZmVBY3RpdmVFbGVtZW50KCkgKSA9PT0gKCB0eXBlID09PSBcImZvY3VzXCIgKTtcbn1cblxuLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbi8vIEFjY2Vzc2luZyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGNhbiB0aHJvdyB1bmV4cGVjdGVkbHlcbi8vIGh0dHBzOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMzM5M1xuZnVuY3Rpb24gc2FmZUFjdGl2ZUVsZW1lbnQoKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cdH0gY2F0Y2ggKCBlcnIgKSB7IH1cbn1cblxuZnVuY3Rpb24gb24oIGVsZW0sIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIG9uZSApIHtcblx0dmFyIG9yaWdGbiwgdHlwZTtcblxuXHQvLyBUeXBlcyBjYW4gYmUgYSBtYXAgb2YgdHlwZXMvaGFuZGxlcnNcblx0aWYgKCB0eXBlb2YgdHlwZXMgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHQvLyAoIHR5cGVzLU9iamVjdCwgc2VsZWN0b3IsIGRhdGEgKVxuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLU9iamVjdCwgZGF0YSApXG5cdFx0XHRkYXRhID0gZGF0YSB8fCBzZWxlY3Rvcjtcblx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRmb3IgKCB0eXBlIGluIHR5cGVzICkge1xuXHRcdFx0b24oIGVsZW0sIHR5cGUsIHNlbGVjdG9yLCBkYXRhLCB0eXBlc1sgdHlwZSBdLCBvbmUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIGVsZW07XG5cdH1cblxuXHRpZiAoIGRhdGEgPT0gbnVsbCAmJiBmbiA9PSBudWxsICkge1xuXG5cdFx0Ly8gKCB0eXBlcywgZm4gKVxuXHRcdGZuID0gc2VsZWN0b3I7XG5cdFx0ZGF0YSA9IHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHR9IGVsc2UgaWYgKCBmbiA9PSBudWxsICkge1xuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLCBzZWxlY3RvciwgZm4gKVxuXHRcdFx0Zm4gPSBkYXRhO1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyAoIHR5cGVzLCBkYXRhLCBmbiApXG5cdFx0XHRmbiA9IGRhdGE7XG5cdFx0XHRkYXRhID0gc2VsZWN0b3I7XG5cdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblx0aWYgKCBmbiA9PT0gZmFsc2UgKSB7XG5cdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0fSBlbHNlIGlmICggIWZuICkge1xuXHRcdHJldHVybiBlbGVtO1xuXHR9XG5cblx0aWYgKCBvbmUgPT09IDEgKSB7XG5cdFx0b3JpZ0ZuID0gZm47XG5cdFx0Zm4gPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdC8vIENhbiB1c2UgYW4gZW1wdHkgc2V0LCBzaW5jZSBldmVudCBjb250YWlucyB0aGUgaW5mb1xuXHRcdFx0alF1ZXJ5KCkub2ZmKCBldmVudCApO1xuXHRcdFx0cmV0dXJuIG9yaWdGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fTtcblxuXHRcdC8vIFVzZSBzYW1lIGd1aWQgc28gY2FsbGVyIGNhbiByZW1vdmUgdXNpbmcgb3JpZ0ZuXG5cdFx0Zm4uZ3VpZCA9IG9yaWdGbi5ndWlkIHx8ICggb3JpZ0ZuLmd1aWQgPSBqUXVlcnkuZ3VpZCsrICk7XG5cdH1cblx0cmV0dXJuIGVsZW0uZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0alF1ZXJ5LmV2ZW50LmFkZCggdGhpcywgdHlwZXMsIGZuLCBkYXRhLCBzZWxlY3RvciApO1xuXHR9ICk7XG59XG5cbi8qXG4gKiBIZWxwZXIgZnVuY3Rpb25zIGZvciBtYW5hZ2luZyBldmVudHMgLS0gbm90IHBhcnQgb2YgdGhlIHB1YmxpYyBpbnRlcmZhY2UuXG4gKiBQcm9wcyB0byBEZWFuIEVkd2FyZHMnIGFkZEV2ZW50IGxpYnJhcnkgZm9yIG1hbnkgb2YgdGhlIGlkZWFzLlxuICovXG5qUXVlcnkuZXZlbnQgPSB7XG5cblx0Z2xvYmFsOiB7fSxcblxuXHRhZGQ6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgZGF0YSwgc2VsZWN0b3IgKSB7XG5cblx0XHR2YXIgaGFuZGxlT2JqSW4sIGV2ZW50SGFuZGxlLCB0bXAsXG5cdFx0XHRldmVudHMsIHQsIGhhbmRsZU9iaixcblx0XHRcdHNwZWNpYWwsIGhhbmRsZXJzLCB0eXBlLCBuYW1lc3BhY2VzLCBvcmlnVHlwZSxcblx0XHRcdGVsZW1EYXRhID0gZGF0YVByaXYuZ2V0KCBlbGVtICk7XG5cblx0XHQvLyBPbmx5IGF0dGFjaCBldmVudHMgdG8gb2JqZWN0cyB0aGF0IGFjY2VwdCBkYXRhXG5cdFx0aWYgKCAhYWNjZXB0RGF0YSggZWxlbSApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIENhbGxlciBjYW4gcGFzcyBpbiBhbiBvYmplY3Qgb2YgY3VzdG9tIGRhdGEgaW4gbGlldSBvZiB0aGUgaGFuZGxlclxuXHRcdGlmICggaGFuZGxlci5oYW5kbGVyICkge1xuXHRcdFx0aGFuZGxlT2JqSW4gPSBoYW5kbGVyO1xuXHRcdFx0aGFuZGxlciA9IGhhbmRsZU9iakluLmhhbmRsZXI7XG5cdFx0XHRzZWxlY3RvciA9IGhhbmRsZU9iakluLnNlbGVjdG9yO1xuXHRcdH1cblxuXHRcdC8vIEVuc3VyZSB0aGF0IGludmFsaWQgc2VsZWN0b3JzIHRocm93IGV4Y2VwdGlvbnMgYXQgYXR0YWNoIHRpbWVcblx0XHQvLyBFdmFsdWF0ZSBhZ2FpbnN0IGRvY3VtZW50RWxlbWVudCBpbiBjYXNlIGVsZW0gaXMgYSBub24tZWxlbWVudCBub2RlIChlLmcuLCBkb2N1bWVudClcblx0XHRpZiAoIHNlbGVjdG9yICkge1xuXHRcdFx0alF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBkb2N1bWVudEVsZW1lbnQsIHNlbGVjdG9yICk7XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgdGhlIGhhbmRsZXIgaGFzIGEgdW5pcXVlIElELCB1c2VkIHRvIGZpbmQvcmVtb3ZlIGl0IGxhdGVyXG5cdFx0aWYgKCAhaGFuZGxlci5ndWlkICkge1xuXHRcdFx0aGFuZGxlci5ndWlkID0galF1ZXJ5Lmd1aWQrKztcblx0XHR9XG5cblx0XHQvLyBJbml0IHRoZSBlbGVtZW50J3MgZXZlbnQgc3RydWN0dXJlIGFuZCBtYWluIGhhbmRsZXIsIGlmIHRoaXMgaXMgdGhlIGZpcnN0XG5cdFx0aWYgKCAhKCBldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgKSApIHtcblx0XHRcdGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyA9IE9iamVjdC5jcmVhdGUoIG51bGwgKTtcblx0XHR9XG5cdFx0aWYgKCAhKCBldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSApICkge1xuXHRcdFx0ZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgPSBmdW5jdGlvbiggZSApIHtcblxuXHRcdFx0XHQvLyBEaXNjYXJkIHRoZSBzZWNvbmQgZXZlbnQgb2YgYSBqUXVlcnkuZXZlbnQudHJpZ2dlcigpIGFuZFxuXHRcdFx0XHQvLyB3aGVuIGFuIGV2ZW50IGlzIGNhbGxlZCBhZnRlciBhIHBhZ2UgaGFzIHVubG9hZGVkXG5cdFx0XHRcdHJldHVybiB0eXBlb2YgalF1ZXJ5ICE9PSBcInVuZGVmaW5lZFwiICYmIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgIT09IGUudHlwZSA/XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LmRpc3BhdGNoLmFwcGx5KCBlbGVtLCBhcmd1bWVudHMgKSA6IHVuZGVmaW5lZDtcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gSGFuZGxlIG11bHRpcGxlIGV2ZW50cyBzZXBhcmF0ZWQgYnkgYSBzcGFjZVxuXHRcdHR5cGVzID0gKCB0eXBlcyB8fCBcIlwiICkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbIFwiXCIgXTtcblx0XHR0ID0gdHlwZXMubGVuZ3RoO1xuXHRcdHdoaWxlICggdC0tICkge1xuXHRcdFx0dG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyggdHlwZXNbIHQgXSApIHx8IFtdO1xuXHRcdFx0dHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07XG5cdFx0XHRuYW1lc3BhY2VzID0gKCB0bXBbIDIgXSB8fCBcIlwiICkuc3BsaXQoIFwiLlwiICkuc29ydCgpO1xuXG5cdFx0XHQvLyBUaGVyZSAqbXVzdCogYmUgYSB0eXBlLCBubyBhdHRhY2hpbmcgbmFtZXNwYWNlLW9ubHkgaGFuZGxlcnNcblx0XHRcdGlmICggIXR5cGUgKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBldmVudCBjaGFuZ2VzIGl0cyB0eXBlLCB1c2UgdGhlIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMgZm9yIHRoZSBjaGFuZ2VkIHR5cGVcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXG5cdFx0XHQvLyBJZiBzZWxlY3RvciBkZWZpbmVkLCBkZXRlcm1pbmUgc3BlY2lhbCBldmVudCBhcGkgdHlwZSwgb3RoZXJ3aXNlIGdpdmVuIHR5cGVcblx0XHRcdHR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTtcblxuXHRcdFx0Ly8gVXBkYXRlIHNwZWNpYWwgYmFzZWQgb24gbmV3bHkgcmVzZXQgdHlwZVxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cblx0XHRcdC8vIGhhbmRsZU9iaiBpcyBwYXNzZWQgdG8gYWxsIGV2ZW50IGhhbmRsZXJzXG5cdFx0XHRoYW5kbGVPYmogPSBqUXVlcnkuZXh0ZW5kKCB7XG5cdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdG9yaWdUeXBlOiBvcmlnVHlwZSxcblx0XHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdFx0aGFuZGxlcjogaGFuZGxlcixcblx0XHRcdFx0Z3VpZDogaGFuZGxlci5ndWlkLFxuXHRcdFx0XHRzZWxlY3Rvcjogc2VsZWN0b3IsXG5cdFx0XHRcdG5lZWRzQ29udGV4dDogc2VsZWN0b3IgJiYgalF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9yICksXG5cdFx0XHRcdG5hbWVzcGFjZTogbmFtZXNwYWNlcy5qb2luKCBcIi5cIiApXG5cdFx0XHR9LCBoYW5kbGVPYmpJbiApO1xuXG5cdFx0XHQvLyBJbml0IHRoZSBldmVudCBoYW5kbGVyIHF1ZXVlIGlmIHdlJ3JlIHRoZSBmaXJzdFxuXHRcdFx0aWYgKCAhKCBoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdICkgKSB7XG5cdFx0XHRcdGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gPSBbXTtcblx0XHRcdFx0aGFuZGxlcnMuZGVsZWdhdGVDb3VudCA9IDA7XG5cblx0XHRcdFx0Ly8gT25seSB1c2UgYWRkRXZlbnRMaXN0ZW5lciBpZiB0aGUgc3BlY2lhbCBldmVudHMgaGFuZGxlciByZXR1cm5zIGZhbHNlXG5cdFx0XHRcdGlmICggIXNwZWNpYWwuc2V0dXAgfHxcblx0XHRcdFx0XHRzcGVjaWFsLnNldHVwLmNhbGwoIGVsZW0sIGRhdGEsIG5hbWVzcGFjZXMsIGV2ZW50SGFuZGxlICkgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdFx0aWYgKCBlbGVtLmFkZEV2ZW50TGlzdGVuZXIgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLmFkZEV2ZW50TGlzdGVuZXIoIHR5cGUsIGV2ZW50SGFuZGxlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmICggc3BlY2lhbC5hZGQgKSB7XG5cdFx0XHRcdHNwZWNpYWwuYWRkLmNhbGwoIGVsZW0sIGhhbmRsZU9iaiApO1xuXG5cdFx0XHRcdGlmICggIWhhbmRsZU9iai5oYW5kbGVyLmd1aWQgKSB7XG5cdFx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCA9IGhhbmRsZXIuZ3VpZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgdG8gdGhlIGVsZW1lbnQncyBoYW5kbGVyIGxpc3QsIGRlbGVnYXRlcyBpbiBmcm9udFxuXHRcdFx0aWYgKCBzZWxlY3RvciApIHtcblx0XHRcdFx0aGFuZGxlcnMuc3BsaWNlKCBoYW5kbGVycy5kZWxlZ2F0ZUNvdW50KyssIDAsIGhhbmRsZU9iaiApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aGFuZGxlcnMucHVzaCggaGFuZGxlT2JqICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEtlZXAgdHJhY2sgb2Ygd2hpY2ggZXZlbnRzIGhhdmUgZXZlciBiZWVuIHVzZWQsIGZvciBldmVudCBvcHRpbWl6YXRpb25cblx0XHRcdGpRdWVyeS5ldmVudC5nbG9iYWxbIHR5cGUgXSA9IHRydWU7XG5cdFx0fVxuXG5cdH0sXG5cblx0Ly8gRGV0YWNoIGFuIGV2ZW50IG9yIHNldCBvZiBldmVudHMgZnJvbSBhbiBlbGVtZW50XG5cdHJlbW92ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBzZWxlY3RvciwgbWFwcGVkVHlwZXMgKSB7XG5cblx0XHR2YXIgaiwgb3JpZ0NvdW50LCB0bXAsXG5cdFx0XHRldmVudHMsIHQsIGhhbmRsZU9iaixcblx0XHRcdHNwZWNpYWwsIGhhbmRsZXJzLCB0eXBlLCBuYW1lc3BhY2VzLCBvcmlnVHlwZSxcblx0XHRcdGVsZW1EYXRhID0gZGF0YVByaXYuaGFzRGF0YSggZWxlbSApICYmIGRhdGFQcml2LmdldCggZWxlbSApO1xuXG5cdFx0aWYgKCAhZWxlbURhdGEgfHwgISggZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gT25jZSBmb3IgZWFjaCB0eXBlLm5hbWVzcGFjZSBpbiB0eXBlczsgdHlwZSBtYXkgYmUgb21pdHRlZFxuXHRcdHR5cGVzID0gKCB0eXBlcyB8fCBcIlwiICkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbIFwiXCIgXTtcblx0XHR0ID0gdHlwZXMubGVuZ3RoO1xuXHRcdHdoaWxlICggdC0tICkge1xuXHRcdFx0dG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyggdHlwZXNbIHQgXSApIHx8IFtdO1xuXHRcdFx0dHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07XG5cdFx0XHRuYW1lc3BhY2VzID0gKCB0bXBbIDIgXSB8fCBcIlwiICkuc3BsaXQoIFwiLlwiICkuc29ydCgpO1xuXG5cdFx0XHQvLyBVbmJpbmQgYWxsIGV2ZW50cyAob24gdGhpcyBuYW1lc3BhY2UsIGlmIHByb3ZpZGVkKSBmb3IgdGhlIGVsZW1lbnRcblx0XHRcdGlmICggIXR5cGUgKSB7XG5cdFx0XHRcdGZvciAoIHR5cGUgaW4gZXZlbnRzICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKyB0eXBlc1sgdCBdLCBoYW5kbGVyLCBzZWxlY3RvciwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblx0XHRcdHR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTtcblx0XHRcdGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gfHwgW107XG5cdFx0XHR0bXAgPSB0bXBbIDIgXSAmJlxuXHRcdFx0XHRuZXcgUmVnRXhwKCBcIihefFxcXFwuKVwiICsgbmFtZXNwYWNlcy5qb2luKCBcIlxcXFwuKD86LipcXFxcLnwpXCIgKSArIFwiKFxcXFwufCQpXCIgKTtcblxuXHRcdFx0Ly8gUmVtb3ZlIG1hdGNoaW5nIGV2ZW50c1xuXHRcdFx0b3JpZ0NvdW50ID0gaiA9IGhhbmRsZXJzLmxlbmd0aDtcblx0XHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0XHRoYW5kbGVPYmogPSBoYW5kbGVyc1sgaiBdO1xuXG5cdFx0XHRcdGlmICggKCBtYXBwZWRUeXBlcyB8fCBvcmlnVHlwZSA9PT0gaGFuZGxlT2JqLm9yaWdUeXBlICkgJiZcblx0XHRcdFx0XHQoICFoYW5kbGVyIHx8IGhhbmRsZXIuZ3VpZCA9PT0gaGFuZGxlT2JqLmd1aWQgKSAmJlxuXHRcdFx0XHRcdCggIXRtcCB8fCB0bXAudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkgJiZcblx0XHRcdFx0XHQoICFzZWxlY3RvciB8fCBzZWxlY3RvciA9PT0gaGFuZGxlT2JqLnNlbGVjdG9yIHx8XG5cdFx0XHRcdFx0XHRzZWxlY3RvciA9PT0gXCIqKlwiICYmIGhhbmRsZU9iai5zZWxlY3RvciApICkge1xuXHRcdFx0XHRcdGhhbmRsZXJzLnNwbGljZSggaiwgMSApO1xuXG5cdFx0XHRcdFx0aWYgKCBoYW5kbGVPYmouc2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVycy5kZWxlZ2F0ZUNvdW50LS07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggc3BlY2lhbC5yZW1vdmUgKSB7XG5cdFx0XHRcdFx0XHRzcGVjaWFsLnJlbW92ZS5jYWxsKCBlbGVtLCBoYW5kbGVPYmogKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVtb3ZlIGdlbmVyaWMgZXZlbnQgaGFuZGxlciBpZiB3ZSByZW1vdmVkIHNvbWV0aGluZyBhbmQgbm8gbW9yZSBoYW5kbGVycyBleGlzdFxuXHRcdFx0Ly8gKGF2b2lkcyBwb3RlbnRpYWwgZm9yIGVuZGxlc3MgcmVjdXJzaW9uIGR1cmluZyByZW1vdmFsIG9mIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMpXG5cdFx0XHRpZiAoIG9yaWdDb3VudCAmJiAhaGFuZGxlcnMubGVuZ3RoICkge1xuXHRcdFx0XHRpZiAoICFzcGVjaWFsLnRlYXJkb3duIHx8XG5cdFx0XHRcdFx0c3BlY2lhbC50ZWFyZG93bi5jYWxsKCBlbGVtLCBuYW1lc3BhY2VzLCBlbGVtRGF0YS5oYW5kbGUgKSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdFx0XHRqUXVlcnkucmVtb3ZlRXZlbnQoIGVsZW0sIHR5cGUsIGVsZW1EYXRhLmhhbmRsZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGVsZXRlIGV2ZW50c1sgdHlwZSBdO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFJlbW92ZSBkYXRhIGFuZCB0aGUgZXhwYW5kbyBpZiBpdCdzIG5vIGxvbmdlciB1c2VkXG5cdFx0aWYgKCBqUXVlcnkuaXNFbXB0eU9iamVjdCggZXZlbnRzICkgKSB7XG5cdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFwiaGFuZGxlIGV2ZW50c1wiICk7XG5cdFx0fVxuXHR9LFxuXG5cdGRpc3BhdGNoOiBmdW5jdGlvbiggbmF0aXZlRXZlbnQgKSB7XG5cblx0XHR2YXIgaSwgaiwgcmV0LCBtYXRjaGVkLCBoYW5kbGVPYmosIGhhbmRsZXJRdWV1ZSxcblx0XHRcdGFyZ3MgPSBuZXcgQXJyYXkoIGFyZ3VtZW50cy5sZW5ndGggKSxcblxuXHRcdFx0Ly8gTWFrZSBhIHdyaXRhYmxlIGpRdWVyeS5FdmVudCBmcm9tIHRoZSBuYXRpdmUgZXZlbnQgb2JqZWN0XG5cdFx0XHRldmVudCA9IGpRdWVyeS5ldmVudC5maXgoIG5hdGl2ZUV2ZW50ICksXG5cblx0XHRcdGhhbmRsZXJzID0gKFxuXHRcdFx0XHRkYXRhUHJpdi5nZXQoIHRoaXMsIFwiZXZlbnRzXCIgKSB8fCBPYmplY3QuY3JlYXRlKCBudWxsIClcblx0XHRcdClbIGV2ZW50LnR5cGUgXSB8fCBbXSxcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZXZlbnQudHlwZSBdIHx8IHt9O1xuXG5cdFx0Ly8gVXNlIHRoZSBmaXgtZWQgalF1ZXJ5LkV2ZW50IHJhdGhlciB0aGFuIHRoZSAocmVhZC1vbmx5KSBuYXRpdmUgZXZlbnRcblx0XHRhcmdzWyAwIF0gPSBldmVudDtcblxuXHRcdGZvciAoIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0YXJnc1sgaSBdID0gYXJndW1lbnRzWyBpIF07XG5cdFx0fVxuXG5cdFx0ZXZlbnQuZGVsZWdhdGVUYXJnZXQgPSB0aGlzO1xuXG5cdFx0Ly8gQ2FsbCB0aGUgcHJlRGlzcGF0Y2ggaG9vayBmb3IgdGhlIG1hcHBlZCB0eXBlLCBhbmQgbGV0IGl0IGJhaWwgaWYgZGVzaXJlZFxuXHRcdGlmICggc3BlY2lhbC5wcmVEaXNwYXRjaCAmJiBzcGVjaWFsLnByZURpc3BhdGNoLmNhbGwoIHRoaXMsIGV2ZW50ICkgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIERldGVybWluZSBoYW5kbGVyc1xuXHRcdGhhbmRsZXJRdWV1ZSA9IGpRdWVyeS5ldmVudC5oYW5kbGVycy5jYWxsKCB0aGlzLCBldmVudCwgaGFuZGxlcnMgKTtcblxuXHRcdC8vIFJ1biBkZWxlZ2F0ZXMgZmlyc3Q7IHRoZXkgbWF5IHdhbnQgdG8gc3RvcCBwcm9wYWdhdGlvbiBiZW5lYXRoIHVzXG5cdFx0aSA9IDA7XG5cdFx0d2hpbGUgKCAoIG1hdGNoZWQgPSBoYW5kbGVyUXVldWVbIGkrKyBdICkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRldmVudC5jdXJyZW50VGFyZ2V0ID0gbWF0Y2hlZC5lbGVtO1xuXG5cdFx0XHRqID0gMDtcblx0XHRcdHdoaWxlICggKCBoYW5kbGVPYmogPSBtYXRjaGVkLmhhbmRsZXJzWyBqKysgXSApICYmXG5cdFx0XHRcdCFldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXG5cdFx0XHRcdC8vIElmIHRoZSBldmVudCBpcyBuYW1lc3BhY2VkLCB0aGVuIGVhY2ggaGFuZGxlciBpcyBvbmx5IGludm9rZWQgaWYgaXQgaXNcblx0XHRcdFx0Ly8gc3BlY2lhbGx5IHVuaXZlcnNhbCBvciBpdHMgbmFtZXNwYWNlcyBhcmUgYSBzdXBlcnNldCBvZiB0aGUgZXZlbnQncy5cblx0XHRcdFx0aWYgKCAhZXZlbnQucm5hbWVzcGFjZSB8fCBoYW5kbGVPYmoubmFtZXNwYWNlID09PSBmYWxzZSB8fFxuXHRcdFx0XHRcdGV2ZW50LnJuYW1lc3BhY2UudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkge1xuXG5cdFx0XHRcdFx0ZXZlbnQuaGFuZGxlT2JqID0gaGFuZGxlT2JqO1xuXHRcdFx0XHRcdGV2ZW50LmRhdGEgPSBoYW5kbGVPYmouZGF0YTtcblxuXHRcdFx0XHRcdHJldCA9ICggKCBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgaGFuZGxlT2JqLm9yaWdUeXBlIF0gfHwge30gKS5oYW5kbGUgfHxcblx0XHRcdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyICkuYXBwbHkoIG1hdGNoZWQuZWxlbSwgYXJncyApO1xuXG5cdFx0XHRcdFx0aWYgKCByZXQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdGlmICggKCBldmVudC5yZXN1bHQgPSByZXQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhbGwgdGhlIHBvc3REaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGVcblx0XHRpZiAoIHNwZWNpYWwucG9zdERpc3BhdGNoICkge1xuXHRcdFx0c3BlY2lhbC5wb3N0RGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHR9LFxuXG5cdGhhbmRsZXJzOiBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXJzICkge1xuXHRcdHZhciBpLCBoYW5kbGVPYmosIHNlbCwgbWF0Y2hlZEhhbmRsZXJzLCBtYXRjaGVkU2VsZWN0b3JzLFxuXHRcdFx0aGFuZGxlclF1ZXVlID0gW10sXG5cdFx0XHRkZWxlZ2F0ZUNvdW50ID0gaGFuZGxlcnMuZGVsZWdhdGVDb3VudCxcblx0XHRcdGN1ciA9IGV2ZW50LnRhcmdldDtcblxuXHRcdC8vIEZpbmQgZGVsZWdhdGUgaGFuZGxlcnNcblx0XHRpZiAoIGRlbGVnYXRlQ291bnQgJiZcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05XG5cdFx0XHQvLyBCbGFjay1ob2xlIFNWRyA8dXNlPiBpbnN0YW5jZSB0cmVlcyAodHJhYy0xMzE4MClcblx0XHRcdGN1ci5ub2RlVHlwZSAmJlxuXG5cdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9NDJcblx0XHRcdC8vIFN1cHByZXNzIHNwZWMtdmlvbGF0aW5nIGNsaWNrcyBpbmRpY2F0aW5nIGEgbm9uLXByaW1hcnkgcG9pbnRlciBidXR0b24gKHRyYWMtMzg2MSlcblx0XHRcdC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50LXR5cGUtY2xpY2tcblx0XHRcdC8vIFN1cHBvcnQ6IElFIDExIG9ubHlcblx0XHRcdC8vIC4uLmJ1dCBub3QgYXJyb3cga2V5IFwiY2xpY2tzXCIgb2YgcmFkaW8gaW5wdXRzLCB3aGljaCBjYW4gaGF2ZSBgYnV0dG9uYCAtMSAoZ2gtMjM0Mylcblx0XHRcdCEoIGV2ZW50LnR5cGUgPT09IFwiY2xpY2tcIiAmJiBldmVudC5idXR0b24gPj0gMSApICkge1xuXG5cdFx0XHRmb3IgKCA7IGN1ciAhPT0gdGhpczsgY3VyID0gY3VyLnBhcmVudE5vZGUgfHwgdGhpcyApIHtcblxuXHRcdFx0XHQvLyBEb24ndCBjaGVjayBub24tZWxlbWVudHMgKHRyYWMtMTMyMDgpXG5cdFx0XHRcdC8vIERvbid0IHByb2Nlc3MgY2xpY2tzIG9uIGRpc2FibGVkIGVsZW1lbnRzICh0cmFjLTY5MTEsIHRyYWMtODE2NSwgdHJhYy0xMTM4MiwgdHJhYy0xMTc2NClcblx0XHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPT09IDEgJiYgISggZXZlbnQudHlwZSA9PT0gXCJjbGlja1wiICYmIGN1ci5kaXNhYmxlZCA9PT0gdHJ1ZSApICkge1xuXHRcdFx0XHRcdG1hdGNoZWRIYW5kbGVycyA9IFtdO1xuXHRcdFx0XHRcdG1hdGNoZWRTZWxlY3RvcnMgPSB7fTtcblx0XHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGRlbGVnYXRlQ291bnQ7IGkrKyApIHtcblx0XHRcdFx0XHRcdGhhbmRsZU9iaiA9IGhhbmRsZXJzWyBpIF07XG5cblx0XHRcdFx0XHRcdC8vIERvbid0IGNvbmZsaWN0IHdpdGggT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzICh0cmFjLTEzMjAzKVxuXHRcdFx0XHRcdFx0c2VsID0gaGFuZGxlT2JqLnNlbGVjdG9yICsgXCIgXCI7XG5cblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gPSBoYW5kbGVPYmoubmVlZHNDb250ZXh0ID9cblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIHNlbCwgdGhpcyApLmluZGV4KCBjdXIgKSA+IC0xIDpcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZmluZCggc2VsLCB0aGlzLCBudWxsLCBbIGN1ciBdICkubGVuZ3RoO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVkU2VsZWN0b3JzWyBzZWwgXSApIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZEhhbmRsZXJzLnB1c2goIGhhbmRsZU9iaiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIG1hdGNoZWRIYW5kbGVycy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBtYXRjaGVkSGFuZGxlcnMgfSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEFkZCB0aGUgcmVtYWluaW5nIChkaXJlY3RseS1ib3VuZCkgaGFuZGxlcnNcblx0XHRjdXIgPSB0aGlzO1xuXHRcdGlmICggZGVsZWdhdGVDb3VudCA8IGhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdGhhbmRsZXJRdWV1ZS5wdXNoKCB7IGVsZW06IGN1ciwgaGFuZGxlcnM6IGhhbmRsZXJzLnNsaWNlKCBkZWxlZ2F0ZUNvdW50ICkgfSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBoYW5kbGVyUXVldWU7XG5cdH0sXG5cblx0YWRkUHJvcDogZnVuY3Rpb24oIG5hbWUsIGhvb2sgKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCBqUXVlcnkuRXZlbnQucHJvdG90eXBlLCBuYW1lLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXG5cdFx0XHRnZXQ6IGlzRnVuY3Rpb24oIGhvb2sgKSA/XG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGhvb2soIHRoaXMub3JpZ2luYWxFdmVudCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudFsgbmFtZSBdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblxuXHRcdFx0c2V0OiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggdGhpcywgbmFtZSwge1xuXHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdHZhbHVlOiB2YWx1ZVxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGZpeDogZnVuY3Rpb24oIG9yaWdpbmFsRXZlbnQgKSB7XG5cdFx0cmV0dXJuIG9yaWdpbmFsRXZlbnRbIGpRdWVyeS5leHBhbmRvIF0gP1xuXHRcdFx0b3JpZ2luYWxFdmVudCA6XG5cdFx0XHRuZXcgalF1ZXJ5LkV2ZW50KCBvcmlnaW5hbEV2ZW50ICk7XG5cdH0sXG5cblx0c3BlY2lhbDoge1xuXHRcdGxvYWQ6IHtcblxuXHRcdFx0Ly8gUHJldmVudCB0cmlnZ2VyZWQgaW1hZ2UubG9hZCBldmVudHMgZnJvbSBidWJibGluZyB0byB3aW5kb3cubG9hZFxuXHRcdFx0bm9CdWJibGU6IHRydWVcblx0XHR9LFxuXHRcdGNsaWNrOiB7XG5cblx0XHRcdC8vIFV0aWxpemUgbmF0aXZlIGV2ZW50IHRvIGVuc3VyZSBjb3JyZWN0IHN0YXRlIGZvciBjaGVja2FibGUgaW5wdXRzXG5cdFx0XHRzZXR1cDogZnVuY3Rpb24oIGRhdGEgKSB7XG5cblx0XHRcdFx0Ly8gRm9yIG11dHVhbCBjb21wcmVzc2liaWxpdHkgd2l0aCBfZGVmYXVsdCwgcmVwbGFjZSBgdGhpc2AgYWNjZXNzIHdpdGggYSBsb2NhbCB2YXIuXG5cdFx0XHRcdC8vIGB8fCBkYXRhYCBpcyBkZWFkIGNvZGUgbWVhbnQgb25seSB0byBwcmVzZXJ2ZSB0aGUgdmFyaWFibGUgdGhyb3VnaCBtaW5pZmljYXRpb24uXG5cdFx0XHRcdHZhciBlbCA9IHRoaXMgfHwgZGF0YTtcblxuXHRcdFx0XHQvLyBDbGFpbSB0aGUgZmlyc3QgaGFuZGxlclxuXHRcdFx0XHRpZiAoIHJjaGVja2FibGVUeXBlLnRlc3QoIGVsLnR5cGUgKSAmJlxuXHRcdFx0XHRcdGVsLmNsaWNrICYmIG5vZGVOYW1lKCBlbCwgXCJpbnB1dFwiICkgKSB7XG5cblx0XHRcdFx0XHQvLyBkYXRhUHJpdi5zZXQoIGVsLCBcImNsaWNrXCIsIC4uLiApXG5cdFx0XHRcdFx0bGV2ZXJhZ2VOYXRpdmUoIGVsLCBcImNsaWNrXCIsIHJldHVyblRydWUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJldHVybiBmYWxzZSB0byBhbGxvdyBub3JtYWwgcHJvY2Vzc2luZyBpbiB0aGUgY2FsbGVyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0sXG5cdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbiggZGF0YSApIHtcblxuXHRcdFx0XHQvLyBGb3IgbXV0dWFsIGNvbXByZXNzaWJpbGl0eSB3aXRoIF9kZWZhdWx0LCByZXBsYWNlIGB0aGlzYCBhY2Nlc3Mgd2l0aCBhIGxvY2FsIHZhci5cblx0XHRcdFx0Ly8gYHx8IGRhdGFgIGlzIGRlYWQgY29kZSBtZWFudCBvbmx5IHRvIHByZXNlcnZlIHRoZSB2YXJpYWJsZSB0aHJvdWdoIG1pbmlmaWNhdGlvbi5cblx0XHRcdFx0dmFyIGVsID0gdGhpcyB8fCBkYXRhO1xuXG5cdFx0XHRcdC8vIEZvcmNlIHNldHVwIGJlZm9yZSB0cmlnZ2VyaW5nIGEgY2xpY2tcblx0XHRcdFx0aWYgKCByY2hlY2thYmxlVHlwZS50ZXN0KCBlbC50eXBlICkgJiZcblx0XHRcdFx0XHRlbC5jbGljayAmJiBub2RlTmFtZSggZWwsIFwiaW5wdXRcIiApICkge1xuXG5cdFx0XHRcdFx0bGV2ZXJhZ2VOYXRpdmUoIGVsLCBcImNsaWNrXCIgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJldHVybiBub24tZmFsc2UgdG8gYWxsb3cgbm9ybWFsIGV2ZW50LXBhdGggcHJvcGFnYXRpb25cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBGb3IgY3Jvc3MtYnJvd3NlciBjb25zaXN0ZW5jeSwgc3VwcHJlc3MgbmF0aXZlIC5jbGljaygpIG9uIGxpbmtzXG5cdFx0XHQvLyBBbHNvIHByZXZlbnQgaXQgaWYgd2UncmUgY3VycmVudGx5IGluc2lkZSBhIGxldmVyYWdlZCBuYXRpdmUtZXZlbnQgc3RhY2tcblx0XHRcdF9kZWZhdWx0OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG5cdFx0XHRcdHJldHVybiByY2hlY2thYmxlVHlwZS50ZXN0KCB0YXJnZXQudHlwZSApICYmXG5cdFx0XHRcdFx0dGFyZ2V0LmNsaWNrICYmIG5vZGVOYW1lKCB0YXJnZXQsIFwiaW5wdXRcIiApICYmXG5cdFx0XHRcdFx0ZGF0YVByaXYuZ2V0KCB0YXJnZXQsIFwiY2xpY2tcIiApIHx8XG5cdFx0XHRcdFx0bm9kZU5hbWUoIHRhcmdldCwgXCJhXCIgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0YmVmb3JldW5sb2FkOiB7XG5cdFx0XHRwb3N0RGlzcGF0Y2g6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDIwK1xuXHRcdFx0XHQvLyBGaXJlZm94IGRvZXNuJ3QgYWxlcnQgaWYgdGhlIHJldHVyblZhbHVlIGZpZWxkIGlzIG5vdCBzZXQuXG5cdFx0XHRcdGlmICggZXZlbnQucmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgZXZlbnQub3JpZ2luYWxFdmVudCApIHtcblx0XHRcdFx0XHRldmVudC5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlID0gZXZlbnQucmVzdWx0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59O1xuXG4vLyBFbnN1cmUgdGhlIHByZXNlbmNlIG9mIGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgaGFuZGxlcyBtYW51YWxseS10cmlnZ2VyZWRcbi8vIHN5bnRoZXRpYyBldmVudHMgYnkgaW50ZXJydXB0aW5nIHByb2dyZXNzIHVudGlsIHJlaW52b2tlZCBpbiByZXNwb25zZSB0b1xuLy8gKm5hdGl2ZSogZXZlbnRzIHRoYXQgaXQgZmlyZXMgZGlyZWN0bHksIGVuc3VyaW5nIHRoYXQgc3RhdGUgY2hhbmdlcyBoYXZlXG4vLyBhbHJlYWR5IG9jY3VycmVkIGJlZm9yZSBvdGhlciBsaXN0ZW5lcnMgYXJlIGludm9rZWQuXG5mdW5jdGlvbiBsZXZlcmFnZU5hdGl2ZSggZWwsIHR5cGUsIGV4cGVjdFN5bmMgKSB7XG5cblx0Ly8gTWlzc2luZyBleHBlY3RTeW5jIGluZGljYXRlcyBhIHRyaWdnZXIgY2FsbCwgd2hpY2ggbXVzdCBmb3JjZSBzZXR1cCB0aHJvdWdoIGpRdWVyeS5ldmVudC5hZGRcblx0aWYgKCAhZXhwZWN0U3luYyApIHtcblx0XHRpZiAoIGRhdGFQcml2LmdldCggZWwsIHR5cGUgKSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LmFkZCggZWwsIHR5cGUsIHJldHVyblRydWUgKTtcblx0XHR9XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gUmVnaXN0ZXIgdGhlIGNvbnRyb2xsZXIgYXMgYSBzcGVjaWFsIHVuaXZlcnNhbCBoYW5kbGVyIGZvciBhbGwgZXZlbnQgbmFtZXNwYWNlc1xuXHRkYXRhUHJpdi5zZXQoIGVsLCB0eXBlLCBmYWxzZSApO1xuXHRqUXVlcnkuZXZlbnQuYWRkKCBlbCwgdHlwZSwge1xuXHRcdG5hbWVzcGFjZTogZmFsc2UsXG5cdFx0aGFuZGxlcjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0dmFyIG5vdEFzeW5jLCByZXN1bHQsXG5cdFx0XHRcdHNhdmVkID0gZGF0YVByaXYuZ2V0KCB0aGlzLCB0eXBlICk7XG5cblx0XHRcdGlmICggKCBldmVudC5pc1RyaWdnZXIgJiAxICkgJiYgdGhpc1sgdHlwZSBdICkge1xuXG5cdFx0XHRcdC8vIEludGVycnVwdCBwcm9jZXNzaW5nIG9mIHRoZSBvdXRlciBzeW50aGV0aWMgLnRyaWdnZXIoKWVkIGV2ZW50XG5cdFx0XHRcdC8vIFNhdmVkIGRhdGEgc2hvdWxkIGJlIGZhbHNlIGluIHN1Y2ggY2FzZXMsIGJ1dCBtaWdodCBiZSBhIGxlZnRvdmVyIGNhcHR1cmUgb2JqZWN0XG5cdFx0XHRcdC8vIGZyb20gYW4gYXN5bmMgbmF0aXZlIGhhbmRsZXIgKGdoLTQzNTApXG5cdFx0XHRcdGlmICggIXNhdmVkLmxlbmd0aCApIHtcblxuXHRcdFx0XHRcdC8vIFN0b3JlIGFyZ3VtZW50cyBmb3IgdXNlIHdoZW4gaGFuZGxpbmcgdGhlIGlubmVyIG5hdGl2ZSBldmVudFxuXHRcdFx0XHRcdC8vIFRoZXJlIHdpbGwgYWx3YXlzIGJlIGF0IGxlYXN0IG9uZSBhcmd1bWVudCAoYW4gZXZlbnQgb2JqZWN0KSwgc28gdGhpcyBhcnJheVxuXHRcdFx0XHRcdC8vIHdpbGwgbm90IGJlIGNvbmZ1c2VkIHdpdGggYSBsZWZ0b3ZlciBjYXB0dXJlIG9iamVjdC5cblx0XHRcdFx0XHRzYXZlZCA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdGRhdGFQcml2LnNldCggdGhpcywgdHlwZSwgc2F2ZWQgKTtcblxuXHRcdFx0XHRcdC8vIFRyaWdnZXIgdGhlIG5hdGl2ZSBldmVudCBhbmQgY2FwdHVyZSBpdHMgcmVzdWx0XG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTErXG5cdFx0XHRcdFx0Ly8gZm9jdXMoKSBhbmQgYmx1cigpIGFyZSBhc3luY2hyb25vdXNcblx0XHRcdFx0XHRub3RBc3luYyA9IGV4cGVjdFN5bmMoIHRoaXMsIHR5cGUgKTtcblx0XHRcdFx0XHR0aGlzWyB0eXBlIF0oKTtcblx0XHRcdFx0XHRyZXN1bHQgPSBkYXRhUHJpdi5nZXQoIHRoaXMsIHR5cGUgKTtcblx0XHRcdFx0XHRpZiAoIHNhdmVkICE9PSByZXN1bHQgfHwgbm90QXN5bmMgKSB7XG5cdFx0XHRcdFx0XHRkYXRhUHJpdi5zZXQoIHRoaXMsIHR5cGUsIGZhbHNlICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJlc3VsdCA9IHt9O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIHNhdmVkICE9PSByZXN1bHQgKSB7XG5cblx0XHRcdFx0XHRcdC8vIENhbmNlbCB0aGUgb3V0ZXIgc3ludGhldGljIGV2ZW50XG5cdFx0XHRcdFx0XHRldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZSA4Nitcblx0XHRcdFx0XHRcdC8vIEluIENocm9tZSwgaWYgYW4gZWxlbWVudCBoYXZpbmcgYSBmb2N1c291dCBoYW5kbGVyIGlzIGJsdXJyZWQgYnlcblx0XHRcdFx0XHRcdC8vIGNsaWNraW5nIG91dHNpZGUgb2YgaXQsIGl0IGludm9rZXMgdGhlIGhhbmRsZXIgc3luY2hyb25vdXNseS4gSWZcblx0XHRcdFx0XHRcdC8vIHRoYXQgaGFuZGxlciBjYWxscyBgLnJlbW92ZSgpYCBvbiB0aGUgZWxlbWVudCwgdGhlIGRhdGEgaXMgY2xlYXJlZCxcblx0XHRcdFx0XHRcdC8vIGxlYXZpbmcgYHJlc3VsdGAgdW5kZWZpbmVkLiBXZSBuZWVkIHRvIGd1YXJkIGFnYWluc3QgdGhpcy5cblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHQgJiYgcmVzdWx0LnZhbHVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBJZiB0aGlzIGlzIGFuIGlubmVyIHN5bnRoZXRpYyBldmVudCBmb3IgYW4gZXZlbnQgd2l0aCBhIGJ1YmJsaW5nIHN1cnJvZ2F0ZVxuXHRcdFx0XHQvLyAoZm9jdXMgb3IgYmx1ciksIGFzc3VtZSB0aGF0IHRoZSBzdXJyb2dhdGUgYWxyZWFkeSBwcm9wYWdhdGVkIGZyb20gdHJpZ2dlcmluZyB0aGVcblx0XHRcdFx0Ly8gbmF0aXZlIGV2ZW50IGFuZCBwcmV2ZW50IHRoYXQgZnJvbSBoYXBwZW5pbmcgYWdhaW4gaGVyZS5cblx0XHRcdFx0Ly8gVGhpcyB0ZWNobmljYWxseSBnZXRzIHRoZSBvcmRlcmluZyB3cm9uZyB3LnIudC4gdG8gYC50cmlnZ2VyKClgIChpbiB3aGljaCB0aGVcblx0XHRcdFx0Ly8gYnViYmxpbmcgc3Vycm9nYXRlIHByb3BhZ2F0ZXMgKmFmdGVyKiB0aGUgbm9uLWJ1YmJsaW5nIGJhc2UpLCBidXQgdGhhdCBzZWVtc1xuXHRcdFx0XHQvLyBsZXNzIGJhZCB0aGFuIGR1cGxpY2F0aW9uLlxuXHRcdFx0XHR9IGVsc2UgaWYgKCAoIGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge30gKS5kZWxlZ2F0ZVR5cGUgKSB7XG5cdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdGhpcyBpcyBhIG5hdGl2ZSBldmVudCB0cmlnZ2VyZWQgYWJvdmUsIGV2ZXJ5dGhpbmcgaXMgbm93IGluIG9yZGVyXG5cdFx0XHQvLyBGaXJlIGFuIGlubmVyIHN5bnRoZXRpYyBldmVudCB3aXRoIHRoZSBvcmlnaW5hbCBhcmd1bWVudHNcblx0XHRcdH0gZWxzZSBpZiAoIHNhdmVkLmxlbmd0aCApIHtcblxuXHRcdFx0XHQvLyAuLi5hbmQgY2FwdHVyZSB0aGUgcmVzdWx0XG5cdFx0XHRcdGRhdGFQcml2LnNldCggdGhpcywgdHlwZSwge1xuXHRcdFx0XHRcdHZhbHVlOiBqUXVlcnkuZXZlbnQudHJpZ2dlcihcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTErXG5cdFx0XHRcdFx0XHQvLyBFeHRlbmQgd2l0aCB0aGUgcHJvdG90eXBlIHRvIHJlc2V0IHRoZSBhYm92ZSBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuXHRcdFx0XHRcdFx0alF1ZXJ5LmV4dGVuZCggc2F2ZWRbIDAgXSwgalF1ZXJ5LkV2ZW50LnByb3RvdHlwZSApLFxuXHRcdFx0XHRcdFx0c2F2ZWQuc2xpY2UoIDEgKSxcblx0XHRcdFx0XHRcdHRoaXNcblx0XHRcdFx0XHQpXG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0XHQvLyBBYm9ydCBoYW5kbGluZyBvZiB0aGUgbmF0aXZlIGV2ZW50XG5cdFx0XHRcdGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSApO1xufVxuXG5qUXVlcnkucmVtb3ZlRXZlbnQgPSBmdW5jdGlvbiggZWxlbSwgdHlwZSwgaGFuZGxlICkge1xuXG5cdC8vIFRoaXMgXCJpZlwiIGlzIG5lZWRlZCBmb3IgcGxhaW4gb2JqZWN0c1xuXHRpZiAoIGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciApIHtcblx0XHRlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoIHR5cGUsIGhhbmRsZSApO1xuXHR9XG59O1xuXG5qUXVlcnkuRXZlbnQgPSBmdW5jdGlvbiggc3JjLCBwcm9wcyApIHtcblxuXHQvLyBBbGxvdyBpbnN0YW50aWF0aW9uIHdpdGhvdXQgdGhlICduZXcnIGtleXdvcmRcblx0aWYgKCAhKCB0aGlzIGluc3RhbmNlb2YgalF1ZXJ5LkV2ZW50ICkgKSB7XG5cdFx0cmV0dXJuIG5ldyBqUXVlcnkuRXZlbnQoIHNyYywgcHJvcHMgKTtcblx0fVxuXG5cdC8vIEV2ZW50IG9iamVjdFxuXHRpZiAoIHNyYyAmJiBzcmMudHlwZSApIHtcblx0XHR0aGlzLm9yaWdpbmFsRXZlbnQgPSBzcmM7XG5cdFx0dGhpcy50eXBlID0gc3JjLnR5cGU7XG5cblx0XHQvLyBFdmVudHMgYnViYmxpbmcgdXAgdGhlIGRvY3VtZW50IG1heSBoYXZlIGJlZW4gbWFya2VkIGFzIHByZXZlbnRlZFxuXHRcdC8vIGJ5IGEgaGFuZGxlciBsb3dlciBkb3duIHRoZSB0cmVlOyByZWZsZWN0IHRoZSBjb3JyZWN0IHZhbHVlLlxuXHRcdHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gc3JjLmRlZmF1bHRQcmV2ZW50ZWQgfHxcblx0XHRcdFx0c3JjLmRlZmF1bHRQcmV2ZW50ZWQgPT09IHVuZGVmaW5lZCAmJlxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD0yLjMgb25seVxuXHRcdFx0XHRzcmMucmV0dXJuVmFsdWUgPT09IGZhbHNlID9cblx0XHRcdHJldHVyblRydWUgOlxuXHRcdFx0cmV0dXJuRmFsc2U7XG5cblx0XHQvLyBDcmVhdGUgdGFyZ2V0IHByb3BlcnRpZXNcblx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgPD02IC0gNyBvbmx5XG5cdFx0Ly8gVGFyZ2V0IHNob3VsZCBub3QgYmUgYSB0ZXh0IG5vZGUgKHRyYWMtNTA0LCB0cmFjLTEzMTQzKVxuXHRcdHRoaXMudGFyZ2V0ID0gKCBzcmMudGFyZ2V0ICYmIHNyYy50YXJnZXQubm9kZVR5cGUgPT09IDMgKSA/XG5cdFx0XHRzcmMudGFyZ2V0LnBhcmVudE5vZGUgOlxuXHRcdFx0c3JjLnRhcmdldDtcblxuXHRcdHRoaXMuY3VycmVudFRhcmdldCA9IHNyYy5jdXJyZW50VGFyZ2V0O1xuXHRcdHRoaXMucmVsYXRlZFRhcmdldCA9IHNyYy5yZWxhdGVkVGFyZ2V0O1xuXG5cdC8vIEV2ZW50IHR5cGVcblx0fSBlbHNlIHtcblx0XHR0aGlzLnR5cGUgPSBzcmM7XG5cdH1cblxuXHQvLyBQdXQgZXhwbGljaXRseSBwcm92aWRlZCBwcm9wZXJ0aWVzIG9udG8gdGhlIGV2ZW50IG9iamVjdFxuXHRpZiAoIHByb3BzICkge1xuXHRcdGpRdWVyeS5leHRlbmQoIHRoaXMsIHByb3BzICk7XG5cdH1cblxuXHQvLyBDcmVhdGUgYSB0aW1lc3RhbXAgaWYgaW5jb21pbmcgZXZlbnQgZG9lc24ndCBoYXZlIG9uZVxuXHR0aGlzLnRpbWVTdGFtcCA9IHNyYyAmJiBzcmMudGltZVN0YW1wIHx8IERhdGUubm93KCk7XG5cblx0Ly8gTWFyayBpdCBhcyBmaXhlZFxuXHR0aGlzWyBqUXVlcnkuZXhwYW5kbyBdID0gdHJ1ZTtcbn07XG5cbi8vIGpRdWVyeS5FdmVudCBpcyBiYXNlZCBvbiBET00zIEV2ZW50cyBhcyBzcGVjaWZpZWQgYnkgdGhlIEVDTUFTY3JpcHQgTGFuZ3VhZ2UgQmluZGluZ1xuLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDMvV0QtRE9NLUxldmVsLTMtRXZlbnRzLTIwMDMwMzMxL2VjbWEtc2NyaXB0LWJpbmRpbmcuaHRtbFxualF1ZXJ5LkV2ZW50LnByb3RvdHlwZSA9IHtcblx0Y29uc3RydWN0b3I6IGpRdWVyeS5FdmVudCxcblx0aXNEZWZhdWx0UHJldmVudGVkOiByZXR1cm5GYWxzZSxcblx0aXNQcm9wYWdhdGlvblN0b3BwZWQ6IHJldHVybkZhbHNlLFxuXHRpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXG5cdGlzU2ltdWxhdGVkOiBmYWxzZSxcblxuXHRwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cblx0XHR0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IHJldHVyblRydWU7XG5cblx0XHRpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXHR9LFxuXHRzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG5cblx0XHRpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7XG5cdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdH1cblx0fSxcblx0c3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlO1xuXG5cdFx0aWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkge1xuXHRcdFx0ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHR9XG5cblx0XHR0aGlzLnN0b3BQcm9wYWdhdGlvbigpO1xuXHR9XG59O1xuXG4vLyBJbmNsdWRlcyBhbGwgY29tbW9uIGV2ZW50IHByb3BzIGluY2x1ZGluZyBLZXlFdmVudCBhbmQgTW91c2VFdmVudCBzcGVjaWZpYyBwcm9wc1xualF1ZXJ5LmVhY2goIHtcblx0YWx0S2V5OiB0cnVlLFxuXHRidWJibGVzOiB0cnVlLFxuXHRjYW5jZWxhYmxlOiB0cnVlLFxuXHRjaGFuZ2VkVG91Y2hlczogdHJ1ZSxcblx0Y3RybEtleTogdHJ1ZSxcblx0ZGV0YWlsOiB0cnVlLFxuXHRldmVudFBoYXNlOiB0cnVlLFxuXHRtZXRhS2V5OiB0cnVlLFxuXHRwYWdlWDogdHJ1ZSxcblx0cGFnZVk6IHRydWUsXG5cdHNoaWZ0S2V5OiB0cnVlLFxuXHR2aWV3OiB0cnVlLFxuXHRcImNoYXJcIjogdHJ1ZSxcblx0Y29kZTogdHJ1ZSxcblx0Y2hhckNvZGU6IHRydWUsXG5cdGtleTogdHJ1ZSxcblx0a2V5Q29kZTogdHJ1ZSxcblx0YnV0dG9uOiB0cnVlLFxuXHRidXR0b25zOiB0cnVlLFxuXHRjbGllbnRYOiB0cnVlLFxuXHRjbGllbnRZOiB0cnVlLFxuXHRvZmZzZXRYOiB0cnVlLFxuXHRvZmZzZXRZOiB0cnVlLFxuXHRwb2ludGVySWQ6IHRydWUsXG5cdHBvaW50ZXJUeXBlOiB0cnVlLFxuXHRzY3JlZW5YOiB0cnVlLFxuXHRzY3JlZW5ZOiB0cnVlLFxuXHR0YXJnZXRUb3VjaGVzOiB0cnVlLFxuXHR0b0VsZW1lbnQ6IHRydWUsXG5cdHRvdWNoZXM6IHRydWUsXG5cdHdoaWNoOiB0cnVlXG59LCBqUXVlcnkuZXZlbnQuYWRkUHJvcCApO1xuXG5qUXVlcnkuZWFjaCggeyBmb2N1czogXCJmb2N1c2luXCIsIGJsdXI6IFwiZm9jdXNvdXRcIiB9LCBmdW5jdGlvbiggdHlwZSwgZGVsZWdhdGVUeXBlICkge1xuXHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdID0ge1xuXG5cdFx0Ly8gVXRpbGl6ZSBuYXRpdmUgZXZlbnQgaWYgcG9zc2libGUgc28gYmx1ci9mb2N1cyBzZXF1ZW5jZSBpcyBjb3JyZWN0XG5cdFx0c2V0dXA6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBDbGFpbSB0aGUgZmlyc3QgaGFuZGxlclxuXHRcdFx0Ly8gZGF0YVByaXYuc2V0KCB0aGlzLCBcImZvY3VzXCIsIC4uLiApXG5cdFx0XHQvLyBkYXRhUHJpdi5zZXQoIHRoaXMsIFwiYmx1clwiLCAuLi4gKVxuXHRcdFx0bGV2ZXJhZ2VOYXRpdmUoIHRoaXMsIHR5cGUsIGV4cGVjdFN5bmMgKTtcblxuXHRcdFx0Ly8gUmV0dXJuIGZhbHNlIHRvIGFsbG93IG5vcm1hbCBwcm9jZXNzaW5nIGluIHRoZSBjYWxsZXJcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9LFxuXHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBGb3JjZSBzZXR1cCBiZWZvcmUgdHJpZ2dlclxuXHRcdFx0bGV2ZXJhZ2VOYXRpdmUoIHRoaXMsIHR5cGUgKTtcblxuXHRcdFx0Ly8gUmV0dXJuIG5vbi1mYWxzZSB0byBhbGxvdyBub3JtYWwgZXZlbnQtcGF0aCBwcm9wYWdhdGlvblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSxcblxuXHRcdC8vIFN1cHByZXNzIG5hdGl2ZSBmb2N1cyBvciBibHVyIGlmIHdlJ3JlIGN1cnJlbnRseSBpbnNpZGVcblx0XHQvLyBhIGxldmVyYWdlZCBuYXRpdmUtZXZlbnQgc3RhY2tcblx0XHRfZGVmYXVsdDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0cmV0dXJuIGRhdGFQcml2LmdldCggZXZlbnQudGFyZ2V0LCB0eXBlICk7XG5cdFx0fSxcblxuXHRcdGRlbGVnYXRlVHlwZTogZGVsZWdhdGVUeXBlXG5cdH07XG59ICk7XG5cbi8vIENyZWF0ZSBtb3VzZWVudGVyL2xlYXZlIGV2ZW50cyB1c2luZyBtb3VzZW92ZXIvb3V0IGFuZCBldmVudC10aW1lIGNoZWNrc1xuLy8gc28gdGhhdCBldmVudCBkZWxlZ2F0aW9uIHdvcmtzIGluIGpRdWVyeS5cbi8vIERvIHRoZSBzYW1lIGZvciBwb2ludGVyZW50ZXIvcG9pbnRlcmxlYXZlIGFuZCBwb2ludGVyb3Zlci9wb2ludGVyb3V0XG4vL1xuLy8gU3VwcG9ydDogU2FmYXJpIDcgb25seVxuLy8gU2FmYXJpIHNlbmRzIG1vdXNlZW50ZXIgdG9vIG9mdGVuOyBzZWU6XG4vLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NzAyNThcbi8vIGZvciB0aGUgZGVzY3JpcHRpb24gb2YgdGhlIGJ1ZyAoaXQgZXhpc3RlZCBpbiBvbGRlciBDaHJvbWUgdmVyc2lvbnMgYXMgd2VsbCkuXG5qUXVlcnkuZWFjaCgge1xuXHRtb3VzZWVudGVyOiBcIm1vdXNlb3ZlclwiLFxuXHRtb3VzZWxlYXZlOiBcIm1vdXNlb3V0XCIsXG5cdHBvaW50ZXJlbnRlcjogXCJwb2ludGVyb3ZlclwiLFxuXHRwb2ludGVybGVhdmU6IFwicG9pbnRlcm91dFwiXG59LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xuXHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgb3JpZyBdID0ge1xuXHRcdGRlbGVnYXRlVHlwZTogZml4LFxuXHRcdGJpbmRUeXBlOiBmaXgsXG5cblx0XHRoYW5kbGU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciByZXQsXG5cdFx0XHRcdHRhcmdldCA9IHRoaXMsXG5cdFx0XHRcdHJlbGF0ZWQgPSBldmVudC5yZWxhdGVkVGFyZ2V0LFxuXHRcdFx0XHRoYW5kbGVPYmogPSBldmVudC5oYW5kbGVPYmo7XG5cblx0XHRcdC8vIEZvciBtb3VzZWVudGVyL2xlYXZlIGNhbGwgdGhlIGhhbmRsZXIgaWYgcmVsYXRlZCBpcyBvdXRzaWRlIHRoZSB0YXJnZXQuXG5cdFx0XHQvLyBOQjogTm8gcmVsYXRlZFRhcmdldCBpZiB0aGUgbW91c2UgbGVmdC9lbnRlcmVkIHRoZSBicm93c2VyIHdpbmRvd1xuXHRcdFx0aWYgKCAhcmVsYXRlZCB8fCAoIHJlbGF0ZWQgIT09IHRhcmdldCAmJiAhalF1ZXJ5LmNvbnRhaW5zKCB0YXJnZXQsIHJlbGF0ZWQgKSApICkge1xuXHRcdFx0XHRldmVudC50eXBlID0gaGFuZGxlT2JqLm9yaWdUeXBlO1xuXHRcdFx0XHRyZXQgPSBoYW5kbGVPYmouaGFuZGxlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdGV2ZW50LnR5cGUgPSBmaXg7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblx0fTtcbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXG5cdG9uOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKTtcblx0fSxcblx0b25lOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIDEgKTtcblx0fSxcblx0b2ZmOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBmbiApIHtcblx0XHR2YXIgaGFuZGxlT2JqLCB0eXBlO1xuXHRcdGlmICggdHlwZXMgJiYgdHlwZXMucHJldmVudERlZmF1bHQgJiYgdHlwZXMuaGFuZGxlT2JqICkge1xuXG5cdFx0XHQvLyAoIGV2ZW50ICkgIGRpc3BhdGNoZWQgalF1ZXJ5LkV2ZW50XG5cdFx0XHRoYW5kbGVPYmogPSB0eXBlcy5oYW5kbGVPYmo7XG5cdFx0XHRqUXVlcnkoIHR5cGVzLmRlbGVnYXRlVGFyZ2V0ICkub2ZmKFxuXHRcdFx0XHRoYW5kbGVPYmoubmFtZXNwYWNlID9cblx0XHRcdFx0XHRoYW5kbGVPYmoub3JpZ1R5cGUgKyBcIi5cIiArIGhhbmRsZU9iai5uYW1lc3BhY2UgOlxuXHRcdFx0XHRcdGhhbmRsZU9iai5vcmlnVHlwZSxcblx0XHRcdFx0aGFuZGxlT2JqLnNlbGVjdG9yLFxuXHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlclxuXHRcdFx0KTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0XHRpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdFx0Ly8gKCB0eXBlcy1vYmplY3QgWywgc2VsZWN0b3JdIClcblx0XHRcdGZvciAoIHR5cGUgaW4gdHlwZXMgKSB7XG5cdFx0XHRcdHRoaXMub2ZmKCB0eXBlLCBzZWxlY3RvciwgdHlwZXNbIHR5cGUgXSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHRcdGlmICggc2VsZWN0b3IgPT09IGZhbHNlIHx8IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzIFssIGZuXSApXG5cdFx0XHRmbiA9IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmICggZm4gPT09IGZhbHNlICkge1xuXHRcdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCB0aGlzLCB0eXBlcywgZm4sIHNlbGVjdG9yICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cblxudmFyXG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMCAtIDExLCBFZGdlIDEyIC0gMTMgb25seVxuXHQvLyBJbiBJRS9FZGdlIHVzaW5nIHJlZ2V4IGdyb3VwcyBoZXJlIGNhdXNlcyBzZXZlcmUgc2xvd2Rvd25zLlxuXHQvLyBTZWUgaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2svZGV0YWlscy8xNzM2NTEyL1xuXHRybm9Jbm5lcmh0bWwgPSAvPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSxcblxuXHQvLyBjaGVja2VkPVwiY2hlY2tlZFwiIG9yIGNoZWNrZWRcblx0cmNoZWNrZWQgPSAvY2hlY2tlZFxccyooPzpbXj1dfD1cXHMqLmNoZWNrZWQuKS9pLFxuXG5cdHJjbGVhblNjcmlwdCA9IC9eXFxzKjwhXFxbQ0RBVEFcXFt8XFxdXFxdPlxccyokL2c7XG5cbi8vIFByZWZlciBhIHRib2R5IG92ZXIgaXRzIHBhcmVudCB0YWJsZSBmb3IgY29udGFpbmluZyBuZXcgcm93c1xuZnVuY3Rpb24gbWFuaXB1bGF0aW9uVGFyZ2V0KCBlbGVtLCBjb250ZW50ICkge1xuXHRpZiAoIG5vZGVOYW1lKCBlbGVtLCBcInRhYmxlXCIgKSAmJlxuXHRcdG5vZGVOYW1lKCBjb250ZW50Lm5vZGVUeXBlICE9PSAxMSA/IGNvbnRlbnQgOiBjb250ZW50LmZpcnN0Q2hpbGQsIFwidHJcIiApICkge1xuXG5cdFx0cmV0dXJuIGpRdWVyeSggZWxlbSApLmNoaWxkcmVuKCBcInRib2R5XCIgKVsgMCBdIHx8IGVsZW07XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxuLy8gUmVwbGFjZS9yZXN0b3JlIHRoZSB0eXBlIGF0dHJpYnV0ZSBvZiBzY3JpcHQgZWxlbWVudHMgZm9yIHNhZmUgRE9NIG1hbmlwdWxhdGlvblxuZnVuY3Rpb24gZGlzYWJsZVNjcmlwdCggZWxlbSApIHtcblx0ZWxlbS50eXBlID0gKCBlbGVtLmdldEF0dHJpYnV0ZSggXCJ0eXBlXCIgKSAhPT0gbnVsbCApICsgXCIvXCIgKyBlbGVtLnR5cGU7XG5cdHJldHVybiBlbGVtO1xufVxuZnVuY3Rpb24gcmVzdG9yZVNjcmlwdCggZWxlbSApIHtcblx0aWYgKCAoIGVsZW0udHlwZSB8fCBcIlwiICkuc2xpY2UoIDAsIDUgKSA9PT0gXCJ0cnVlL1wiICkge1xuXHRcdGVsZW0udHlwZSA9IGVsZW0udHlwZS5zbGljZSggNSApO1xuXHR9IGVsc2Uge1xuXHRcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBcInR5cGVcIiApO1xuXHR9XG5cblx0cmV0dXJuIGVsZW07XG59XG5cbmZ1bmN0aW9uIGNsb25lQ29weUV2ZW50KCBzcmMsIGRlc3QgKSB7XG5cdHZhciBpLCBsLCB0eXBlLCBwZGF0YU9sZCwgdWRhdGFPbGQsIHVkYXRhQ3VyLCBldmVudHM7XG5cblx0aWYgKCBkZXN0Lm5vZGVUeXBlICE9PSAxICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIDEuIENvcHkgcHJpdmF0ZSBkYXRhOiBldmVudHMsIGhhbmRsZXJzLCBldGMuXG5cdGlmICggZGF0YVByaXYuaGFzRGF0YSggc3JjICkgKSB7XG5cdFx0cGRhdGFPbGQgPSBkYXRhUHJpdi5nZXQoIHNyYyApO1xuXHRcdGV2ZW50cyA9IHBkYXRhT2xkLmV2ZW50cztcblxuXHRcdGlmICggZXZlbnRzICkge1xuXHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBkZXN0LCBcImhhbmRsZSBldmVudHNcIiApO1xuXG5cdFx0XHRmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcblx0XHRcdFx0Zm9yICggaSA9IDAsIGwgPSBldmVudHNbIHR5cGUgXS5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LmFkZCggZGVzdCwgdHlwZSwgZXZlbnRzWyB0eXBlIF1bIGkgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gMi4gQ29weSB1c2VyIGRhdGFcblx0aWYgKCBkYXRhVXNlci5oYXNEYXRhKCBzcmMgKSApIHtcblx0XHR1ZGF0YU9sZCA9IGRhdGFVc2VyLmFjY2Vzcyggc3JjICk7XG5cdFx0dWRhdGFDdXIgPSBqUXVlcnkuZXh0ZW5kKCB7fSwgdWRhdGFPbGQgKTtcblxuXHRcdGRhdGFVc2VyLnNldCggZGVzdCwgdWRhdGFDdXIgKTtcblx0fVxufVxuXG4vLyBGaXggSUUgYnVncywgc2VlIHN1cHBvcnQgdGVzdHNcbmZ1bmN0aW9uIGZpeElucHV0KCBzcmMsIGRlc3QgKSB7XG5cdHZhciBub2RlTmFtZSA9IGRlc3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblxuXHQvLyBGYWlscyB0byBwZXJzaXN0IHRoZSBjaGVja2VkIHN0YXRlIG9mIGEgY2xvbmVkIGNoZWNrYm94IG9yIHJhZGlvIGJ1dHRvbi5cblx0aWYgKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiICYmIHJjaGVja2FibGVUeXBlLnRlc3QoIHNyYy50eXBlICkgKSB7XG5cdFx0ZGVzdC5jaGVja2VkID0gc3JjLmNoZWNrZWQ7XG5cblx0Ly8gRmFpbHMgdG8gcmV0dXJuIHRoZSBzZWxlY3RlZCBvcHRpb24gdG8gdGhlIGRlZmF1bHQgc2VsZWN0ZWQgc3RhdGUgd2hlbiBjbG9uaW5nIG9wdGlvbnNcblx0fSBlbHNlIGlmICggbm9kZU5hbWUgPT09IFwiaW5wdXRcIiB8fCBub2RlTmFtZSA9PT0gXCJ0ZXh0YXJlYVwiICkge1xuXHRcdGRlc3QuZGVmYXVsdFZhbHVlID0gc3JjLmRlZmF1bHRWYWx1ZTtcblx0fVxufVxuXG5mdW5jdGlvbiBkb21NYW5pcCggY29sbGVjdGlvbiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKSB7XG5cblx0Ly8gRmxhdHRlbiBhbnkgbmVzdGVkIGFycmF5c1xuXHRhcmdzID0gZmxhdCggYXJncyApO1xuXG5cdHZhciBmcmFnbWVudCwgZmlyc3QsIHNjcmlwdHMsIGhhc1NjcmlwdHMsIG5vZGUsIGRvYyxcblx0XHRpID0gMCxcblx0XHRsID0gY29sbGVjdGlvbi5sZW5ndGgsXG5cdFx0aU5vQ2xvbmUgPSBsIC0gMSxcblx0XHR2YWx1ZSA9IGFyZ3NbIDAgXSxcblx0XHR2YWx1ZUlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdC8vIFdlIGNhbid0IGNsb25lTm9kZSBmcmFnbWVudHMgdGhhdCBjb250YWluIGNoZWNrZWQsIGluIFdlYktpdFxuXHRpZiAoIHZhbHVlSXNGdW5jdGlvbiB8fFxuXHRcdFx0KCBsID4gMSAmJiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0IXN1cHBvcnQuY2hlY2tDbG9uZSAmJiByY2hlY2tlZC50ZXN0KCB2YWx1ZSApICkgKSB7XG5cdFx0cmV0dXJuIGNvbGxlY3Rpb24uZWFjaCggZnVuY3Rpb24oIGluZGV4ICkge1xuXHRcdFx0dmFyIHNlbGYgPSBjb2xsZWN0aW9uLmVxKCBpbmRleCApO1xuXHRcdFx0aWYgKCB2YWx1ZUlzRnVuY3Rpb24gKSB7XG5cdFx0XHRcdGFyZ3NbIDAgXSA9IHZhbHVlLmNhbGwoIHRoaXMsIGluZGV4LCBzZWxmLmh0bWwoKSApO1xuXHRcdFx0fVxuXHRcdFx0ZG9tTWFuaXAoIHNlbGYsIGFyZ3MsIGNhbGxiYWNrLCBpZ25vcmVkICk7XG5cdFx0fSApO1xuXHR9XG5cblx0aWYgKCBsICkge1xuXHRcdGZyYWdtZW50ID0gYnVpbGRGcmFnbWVudCggYXJncywgY29sbGVjdGlvblsgMCBdLm93bmVyRG9jdW1lbnQsIGZhbHNlLCBjb2xsZWN0aW9uLCBpZ25vcmVkICk7XG5cdFx0Zmlyc3QgPSBmcmFnbWVudC5maXJzdENoaWxkO1xuXG5cdFx0aWYgKCBmcmFnbWVudC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMSApIHtcblx0XHRcdGZyYWdtZW50ID0gZmlyc3Q7XG5cdFx0fVxuXG5cdFx0Ly8gUmVxdWlyZSBlaXRoZXIgbmV3IGNvbnRlbnQgb3IgYW4gaW50ZXJlc3QgaW4gaWdub3JlZCBlbGVtZW50cyB0byBpbnZva2UgdGhlIGNhbGxiYWNrXG5cdFx0aWYgKCBmaXJzdCB8fCBpZ25vcmVkICkge1xuXHRcdFx0c2NyaXB0cyA9IGpRdWVyeS5tYXAoIGdldEFsbCggZnJhZ21lbnQsIFwic2NyaXB0XCIgKSwgZGlzYWJsZVNjcmlwdCApO1xuXHRcdFx0aGFzU2NyaXB0cyA9IHNjcmlwdHMubGVuZ3RoO1xuXG5cdFx0XHQvLyBVc2UgdGhlIG9yaWdpbmFsIGZyYWdtZW50IGZvciB0aGUgbGFzdCBpdGVtXG5cdFx0XHQvLyBpbnN0ZWFkIG9mIHRoZSBmaXJzdCBiZWNhdXNlIGl0IGNhbiBlbmQgdXBcblx0XHRcdC8vIGJlaW5nIGVtcHRpZWQgaW5jb3JyZWN0bHkgaW4gY2VydGFpbiBzaXR1YXRpb25zICh0cmFjLTgwNzApLlxuXHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRub2RlID0gZnJhZ21lbnQ7XG5cblx0XHRcdFx0aWYgKCBpICE9PSBpTm9DbG9uZSApIHtcblx0XHRcdFx0XHRub2RlID0galF1ZXJ5LmNsb25lKCBub2RlLCB0cnVlLCB0cnVlICk7XG5cblx0XHRcdFx0XHQvLyBLZWVwIHJlZmVyZW5jZXMgdG8gY2xvbmVkIHNjcmlwdHMgZm9yIGxhdGVyIHJlc3RvcmF0aW9uXG5cdFx0XHRcdFx0aWYgKCBoYXNTY3JpcHRzICkge1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0XHRcdFx0XHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdFx0XHRcdGpRdWVyeS5tZXJnZSggc2NyaXB0cywgZ2V0QWxsKCBub2RlLCBcInNjcmlwdFwiICkgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjYWxsYmFjay5jYWxsKCBjb2xsZWN0aW9uWyBpIF0sIG5vZGUsIGkgKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBoYXNTY3JpcHRzICkge1xuXHRcdFx0XHRkb2MgPSBzY3JpcHRzWyBzY3JpcHRzLmxlbmd0aCAtIDEgXS5vd25lckRvY3VtZW50O1xuXG5cdFx0XHRcdC8vIFJlZW5hYmxlIHNjcmlwdHNcblx0XHRcdFx0alF1ZXJ5Lm1hcCggc2NyaXB0cywgcmVzdG9yZVNjcmlwdCApO1xuXG5cdFx0XHRcdC8vIEV2YWx1YXRlIGV4ZWN1dGFibGUgc2NyaXB0cyBvbiBmaXJzdCBkb2N1bWVudCBpbnNlcnRpb25cblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBoYXNTY3JpcHRzOyBpKysgKSB7XG5cdFx0XHRcdFx0bm9kZSA9IHNjcmlwdHNbIGkgXTtcblx0XHRcdFx0XHRpZiAoIHJzY3JpcHRUeXBlLnRlc3QoIG5vZGUudHlwZSB8fCBcIlwiICkgJiZcblx0XHRcdFx0XHRcdCFkYXRhUHJpdi5hY2Nlc3MoIG5vZGUsIFwiZ2xvYmFsRXZhbFwiICkgJiZcblx0XHRcdFx0XHRcdGpRdWVyeS5jb250YWlucyggZG9jLCBub2RlICkgKSB7XG5cblx0XHRcdFx0XHRcdGlmICggbm9kZS5zcmMgJiYgKCBub2RlLnR5cGUgfHwgXCJcIiApLnRvTG93ZXJDYXNlKCkgICE9PSBcIm1vZHVsZVwiICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIE9wdGlvbmFsIEFKQVggZGVwZW5kZW5jeSwgYnV0IHdvbid0IHJ1biBzY3JpcHRzIGlmIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5Ll9ldmFsVXJsICYmICFub2RlLm5vTW9kdWxlICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5fZXZhbFVybCggbm9kZS5zcmMsIHtcblx0XHRcdFx0XHRcdFx0XHRcdG5vbmNlOiBub2RlLm5vbmNlIHx8IG5vZGUuZ2V0QXR0cmlidXRlKCBcIm5vbmNlXCIgKVxuXHRcdFx0XHRcdFx0XHRcdH0sIGRvYyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdC8vIFVud3JhcCBhIENEQVRBIHNlY3Rpb24gY29udGFpbmluZyBzY3JpcHQgY29udGVudHMuIFRoaXMgc2hvdWxkbid0IGJlXG5cdFx0XHRcdFx0XHRcdC8vIG5lZWRlZCBhcyBpbiBYTUwgZG9jdW1lbnRzIHRoZXkncmUgYWxyZWFkeSBub3QgdmlzaWJsZSB3aGVuXG5cdFx0XHRcdFx0XHRcdC8vIGluc3BlY3RpbmcgZWxlbWVudCBjb250ZW50cyBhbmQgaW4gSFRNTCBkb2N1bWVudHMgdGhleSBoYXZlIG5vXG5cdFx0XHRcdFx0XHRcdC8vIG1lYW5pbmcgYnV0IHdlJ3JlIHByZXNlcnZpbmcgdGhhdCBsb2dpYyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG5cdFx0XHRcdFx0XHRcdC8vIFRoaXMgd2lsbCBiZSByZW1vdmVkIGNvbXBsZXRlbHkgaW4gNC4wLiBTZWUgZ2gtNDkwNC5cblx0XHRcdFx0XHRcdFx0RE9NRXZhbCggbm9kZS50ZXh0Q29udGVudC5yZXBsYWNlKCByY2xlYW5TY3JpcHQsIFwiXCIgKSwgbm9kZSwgZG9jICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGNvbGxlY3Rpb247XG59XG5cbmZ1bmN0aW9uIHJlbW92ZSggZWxlbSwgc2VsZWN0b3IsIGtlZXBEYXRhICkge1xuXHR2YXIgbm9kZSxcblx0XHRub2RlcyA9IHNlbGVjdG9yID8galF1ZXJ5LmZpbHRlciggc2VsZWN0b3IsIGVsZW0gKSA6IGVsZW0sXG5cdFx0aSA9IDA7XG5cblx0Zm9yICggOyAoIG5vZGUgPSBub2Rlc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXHRcdGlmICggIWtlZXBEYXRhICYmIG5vZGUubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIG5vZGUgKSApO1xuXHRcdH1cblxuXHRcdGlmICggbm9kZS5wYXJlbnROb2RlICkge1xuXHRcdFx0aWYgKCBrZWVwRGF0YSAmJiBpc0F0dGFjaGVkKCBub2RlICkgKSB7XG5cdFx0XHRcdHNldEdsb2JhbEV2YWwoIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XG5cdFx0XHR9XG5cdFx0XHRub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIG5vZGUgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRodG1sUHJlZmlsdGVyOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHRyZXR1cm4gaHRtbDtcblx0fSxcblxuXHRjbG9uZTogZnVuY3Rpb24oIGVsZW0sIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdHZhciBpLCBsLCBzcmNFbGVtZW50cywgZGVzdEVsZW1lbnRzLFxuXHRcdFx0Y2xvbmUgPSBlbGVtLmNsb25lTm9kZSggdHJ1ZSApLFxuXHRcdFx0aW5QYWdlID0gaXNBdHRhY2hlZCggZWxlbSApO1xuXG5cdFx0Ly8gRml4IElFIGNsb25pbmcgaXNzdWVzXG5cdFx0aWYgKCAhc3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCAmJiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgZWxlbS5ub2RlVHlwZSA9PT0gMTEgKSAmJlxuXHRcdFx0XHQhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7XG5cblx0XHRcdC8vIFdlIGVzY2hldyBTaXp6bGUgaGVyZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29uczogaHR0cHM6Ly9qc3BlcmYuY29tL2dldGFsbC12cy1zaXp6bGUvMlxuXHRcdFx0ZGVzdEVsZW1lbnRzID0gZ2V0QWxsKCBjbG9uZSApO1xuXHRcdFx0c3JjRWxlbWVudHMgPSBnZXRBbGwoIGVsZW0gKTtcblxuXHRcdFx0Zm9yICggaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdGZpeElucHV0KCBzcmNFbGVtZW50c1sgaSBdLCBkZXN0RWxlbWVudHNbIGkgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENvcHkgdGhlIGV2ZW50cyBmcm9tIHRoZSBvcmlnaW5hbCB0byB0aGUgY2xvbmVcblx0XHRpZiAoIGRhdGFBbmRFdmVudHMgKSB7XG5cdFx0XHRpZiAoIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdFx0XHRzcmNFbGVtZW50cyA9IHNyY0VsZW1lbnRzIHx8IGdldEFsbCggZWxlbSApO1xuXHRcdFx0XHRkZXN0RWxlbWVudHMgPSBkZXN0RWxlbWVudHMgfHwgZ2V0QWxsKCBjbG9uZSApO1xuXG5cdFx0XHRcdGZvciAoIGkgPSAwLCBsID0gc3JjRWxlbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdGNsb25lQ29weUV2ZW50KCBzcmNFbGVtZW50c1sgaSBdLCBkZXN0RWxlbWVudHNbIGkgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjbG9uZUNvcHlFdmVudCggZWxlbSwgY2xvbmUgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5XG5cdFx0ZGVzdEVsZW1lbnRzID0gZ2V0QWxsKCBjbG9uZSwgXCJzY3JpcHRcIiApO1xuXHRcdGlmICggZGVzdEVsZW1lbnRzLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRzZXRHbG9iYWxFdmFsKCBkZXN0RWxlbWVudHMsICFpblBhZ2UgJiYgZ2V0QWxsKCBlbGVtLCBcInNjcmlwdFwiICkgKTtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4gdGhlIGNsb25lZCBzZXRcblx0XHRyZXR1cm4gY2xvbmU7XG5cdH0sXG5cblx0Y2xlYW5EYXRhOiBmdW5jdGlvbiggZWxlbXMgKSB7XG5cdFx0dmFyIGRhdGEsIGVsZW0sIHR5cGUsXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWwsXG5cdFx0XHRpID0gMDtcblxuXHRcdGZvciAoIDsgKCBlbGVtID0gZWxlbXNbIGkgXSApICE9PSB1bmRlZmluZWQ7IGkrKyApIHtcblx0XHRcdGlmICggYWNjZXB0RGF0YSggZWxlbSApICkge1xuXHRcdFx0XHRpZiAoICggZGF0YSA9IGVsZW1bIGRhdGFQcml2LmV4cGFuZG8gXSApICkge1xuXHRcdFx0XHRcdGlmICggZGF0YS5ldmVudHMgKSB7XG5cdFx0XHRcdFx0XHRmb3IgKCB0eXBlIGluIGRhdGEuZXZlbnRzICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIHNwZWNpYWxbIHR5cGUgXSApIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gVGhpcyBpcyBhIHNob3J0Y3V0IHRvIGF2b2lkIGpRdWVyeS5ldmVudC5yZW1vdmUncyBvdmVyaGVhZFxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5yZW1vdmVFdmVudCggZWxlbSwgdHlwZSwgZGF0YS5oYW5kbGUgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZSA8PTM1IC0gNDUrXG5cdFx0XHRcdFx0Ly8gQXNzaWduIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIHVzaW5nIGRlbGV0ZSwgc2VlIERhdGEjcmVtb3ZlXG5cdFx0XHRcdFx0ZWxlbVsgZGF0YVByaXYuZXhwYW5kbyBdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggZWxlbVsgZGF0YVVzZXIuZXhwYW5kbyBdICkge1xuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NStcblx0XHRcdFx0XHQvLyBBc3NpZ24gdW5kZWZpbmVkIGluc3RlYWQgb2YgdXNpbmcgZGVsZXRlLCBzZWUgRGF0YSNyZW1vdmVcblx0XHRcdFx0XHRlbGVtWyBkYXRhVXNlci5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRkZXRhY2g6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gcmVtb3ZlKCB0aGlzLCBzZWxlY3RvciwgdHJ1ZSApO1xuXHR9LFxuXG5cdHJlbW92ZTogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiByZW1vdmUoIHRoaXMsIHNlbGVjdG9yICk7XG5cdH0sXG5cblx0dGV4dDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdFx0alF1ZXJ5LnRleHQoIHRoaXMgKSA6XG5cdFx0XHRcdHRoaXMuZW1wdHkoKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHRcdHRoaXMudGV4dENvbnRlbnQgPSB2YWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCApO1xuXHR9LFxuXG5cdGFwcGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdHZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQoIHRoaXMsIGVsZW0gKTtcblx0XHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKCBlbGVtICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdHByZXBlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gbWFuaXB1bGF0aW9uVGFyZ2V0KCB0aGlzLCBlbGVtICk7XG5cdFx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoIGVsZW0sIHRhcmdldC5maXJzdENoaWxkICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGJlZm9yZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIGVsZW0sIHRoaXMgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0YWZ0ZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0aGlzLm5leHRTaWJsaW5nICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGVtcHR5OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZWxlbSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0Zm9yICggOyAoIGVsZW0gPSB0aGlzWyBpIF0gKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cblx0XHRcdFx0Ly8gUHJldmVudCBtZW1vcnkgbGVha3Ncblx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XG5cblx0XHRcdFx0Ly8gUmVtb3ZlIGFueSByZW1haW5pbmcgbm9kZXNcblx0XHRcdFx0ZWxlbS50ZXh0Q29udGVudCA9IFwiXCI7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Y2xvbmU6IGZ1bmN0aW9uKCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHRkYXRhQW5kRXZlbnRzID0gZGF0YUFuZEV2ZW50cyA9PSBudWxsID8gZmFsc2UgOiBkYXRhQW5kRXZlbnRzO1xuXHRcdGRlZXBEYXRhQW5kRXZlbnRzID0gZGVlcERhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGRhdGFBbmRFdmVudHMgOiBkZWVwRGF0YUFuZEV2ZW50cztcblxuXHRcdHJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmNsb25lKCB0aGlzLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApO1xuXHRcdH0gKTtcblx0fSxcblxuXHRodG1sOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGVsZW0gPSB0aGlzWyAwIF0gfHwge30sXG5cdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHRsID0gdGhpcy5sZW5ndGg7XG5cblx0XHRcdGlmICggdmFsdWUgPT09IHVuZGVmaW5lZCAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5pbm5lckhUTUw7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNlZSBpZiB3ZSBjYW4gdGFrZSBhIHNob3J0Y3V0IGFuZCBqdXN0IHVzZSBpbm5lckhUTUxcblx0XHRcdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmICFybm9Jbm5lcmh0bWwudGVzdCggdmFsdWUgKSAmJlxuXHRcdFx0XHQhd3JhcE1hcFsgKCBydGFnTmFtZS5leGVjKCB2YWx1ZSApIHx8IFsgXCJcIiwgXCJcIiBdIClbIDEgXS50b0xvd2VyQ2FzZSgpIF0gKSB7XG5cblx0XHRcdFx0dmFsdWUgPSBqUXVlcnkuaHRtbFByZWZpbHRlciggdmFsdWUgKTtcblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0XHRcdGVsZW0gPSB0aGlzWyBpIF0gfHwge307XG5cblx0XHRcdFx0XHRcdC8vIFJlbW92ZSBlbGVtZW50IG5vZGVzIGFuZCBwcmV2ZW50IG1lbW9yeSBsZWFrc1xuXHRcdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIGVsZW0sIGZhbHNlICkgKTtcblx0XHRcdFx0XHRcdFx0ZWxlbS5pbm5lckhUTUwgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbGVtID0gMDtcblxuXHRcdFx0XHQvLyBJZiB1c2luZyBpbm5lckhUTUwgdGhyb3dzIGFuIGV4Y2VwdGlvbiwgdXNlIHRoZSBmYWxsYmFjayBtZXRob2Rcblx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRcdHRoaXMuZW1wdHkoKS5hcHBlbmQoIHZhbHVlICk7XG5cdFx0XHR9XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fSxcblxuXHRyZXBsYWNlV2l0aDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGlnbm9yZWQgPSBbXTtcblxuXHRcdC8vIE1ha2UgdGhlIGNoYW5nZXMsIHJlcGxhY2luZyBlYWNoIG5vbi1pZ25vcmVkIGNvbnRleHQgZWxlbWVudCB3aXRoIHRoZSBuZXcgY29udGVudFxuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG5cblx0XHRcdGlmICggalF1ZXJ5LmluQXJyYXkoIHRoaXMsIGlnbm9yZWQgKSA8IDAgKSB7XG5cdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggdGhpcyApICk7XG5cdFx0XHRcdGlmICggcGFyZW50ICkge1xuXHRcdFx0XHRcdHBhcmVudC5yZXBsYWNlQ2hpbGQoIGVsZW0sIHRoaXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0Ly8gRm9yY2UgY2FsbGJhY2sgaW52b2NhdGlvblxuXHRcdH0sIGlnbm9yZWQgKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCgge1xuXHRhcHBlbmRUbzogXCJhcHBlbmRcIixcblx0cHJlcGVuZFRvOiBcInByZXBlbmRcIixcblx0aW5zZXJ0QmVmb3JlOiBcImJlZm9yZVwiLFxuXHRpbnNlcnRBZnRlcjogXCJhZnRlclwiLFxuXHRyZXBsYWNlQWxsOiBcInJlcGxhY2VXaXRoXCJcbn0sIGZ1bmN0aW9uKCBuYW1lLCBvcmlnaW5hbCApIHtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dmFyIGVsZW1zLFxuXHRcdFx0cmV0ID0gW10sXG5cdFx0XHRpbnNlcnQgPSBqUXVlcnkoIHNlbGVjdG9yICksXG5cdFx0XHRsYXN0ID0gaW5zZXJ0Lmxlbmd0aCAtIDEsXG5cdFx0XHRpID0gMDtcblxuXHRcdGZvciAoIDsgaSA8PSBsYXN0OyBpKysgKSB7XG5cdFx0XHRlbGVtcyA9IGkgPT09IGxhc3QgPyB0aGlzIDogdGhpcy5jbG9uZSggdHJ1ZSApO1xuXHRcdFx0alF1ZXJ5KCBpbnNlcnRbIGkgXSApWyBvcmlnaW5hbCBdKCBlbGVtcyApO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0XHRcdC8vIC5nZXQoKSBiZWNhdXNlIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdHB1c2guYXBwbHkoIHJldCwgZWxlbXMuZ2V0KCkgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHJldCApO1xuXHR9O1xufSApO1xudmFyIHJudW1ub25weCA9IG5ldyBSZWdFeHAoIFwiXihcIiArIHBudW0gKyBcIikoPyFweClbYS16JV0rJFwiLCBcImlcIiApO1xuXG52YXIgcmN1c3RvbVByb3AgPSAvXi0tLztcblxuXG52YXIgZ2V0U3R5bGVzID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHksIEZpcmVmb3ggPD0zMCAodHJhYy0xNTA5OCwgdHJhYy0xNDE1MClcblx0XHQvLyBJRSB0aHJvd3Mgb24gZWxlbWVudHMgY3JlYXRlZCBpbiBwb3B1cHNcblx0XHQvLyBGRiBtZWFud2hpbGUgdGhyb3dzIG9uIGZyYW1lIGVsZW1lbnRzIHRocm91Z2ggXCJkZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlXCJcblx0XHR2YXIgdmlldyA9IGVsZW0ub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcblxuXHRcdGlmICggIXZpZXcgfHwgIXZpZXcub3BlbmVyICkge1xuXHRcdFx0dmlldyA9IHdpbmRvdztcblx0XHR9XG5cblx0XHRyZXR1cm4gdmlldy5nZXRDb21wdXRlZFN0eWxlKCBlbGVtICk7XG5cdH07XG5cbnZhciBzd2FwID0gZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIGNhbGxiYWNrICkge1xuXHR2YXIgcmV0LCBuYW1lLFxuXHRcdG9sZCA9IHt9O1xuXG5cdC8vIFJlbWVtYmVyIHRoZSBvbGQgdmFsdWVzLCBhbmQgaW5zZXJ0IHRoZSBuZXcgb25lc1xuXHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0b2xkWyBuYW1lIF0gPSBlbGVtLnN0eWxlWyBuYW1lIF07XG5cdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gb3B0aW9uc1sgbmFtZSBdO1xuXHR9XG5cblx0cmV0ID0gY2FsbGJhY2suY2FsbCggZWxlbSApO1xuXG5cdC8vIFJldmVydCB0aGUgb2xkIHZhbHVlc1xuXHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gb2xkWyBuYW1lIF07XG5cdH1cblxuXHRyZXR1cm4gcmV0O1xufTtcblxuXG52YXIgcmJveFN0eWxlID0gbmV3IFJlZ0V4cCggY3NzRXhwYW5kLmpvaW4oIFwifFwiICksIFwiaVwiICk7XG5cbnZhciB3aGl0ZXNwYWNlID0gXCJbXFxcXHgyMFxcXFx0XFxcXHJcXFxcblxcXFxmXVwiO1xuXG5cbnZhciBydHJpbUNTUyA9IG5ldyBSZWdFeHAoXG5cdFwiXlwiICsgd2hpdGVzcGFjZSArIFwiK3woKD86XnxbXlxcXFxcXFxcXSkoPzpcXFxcXFxcXC4pKilcIiArIHdoaXRlc3BhY2UgKyBcIiskXCIsXG5cdFwiZ1wiXG4pO1xuXG5cblxuXG4oIGZ1bmN0aW9uKCkge1xuXG5cdC8vIEV4ZWN1dGluZyBib3RoIHBpeGVsUG9zaXRpb24gJiBib3hTaXppbmdSZWxpYWJsZSB0ZXN0cyByZXF1aXJlIG9ubHkgb25lIGxheW91dFxuXHQvLyBzbyB0aGV5J3JlIGV4ZWN1dGVkIGF0IHRoZSBzYW1lIHRpbWUgdG8gc2F2ZSB0aGUgc2Vjb25kIGNvbXB1dGF0aW9uLlxuXHRmdW5jdGlvbiBjb21wdXRlU3R5bGVUZXN0cygpIHtcblxuXHRcdC8vIFRoaXMgaXMgYSBzaW5nbGV0b24sIHdlIG5lZWQgdG8gZXhlY3V0ZSBpdCBvbmx5IG9uY2Vcblx0XHRpZiAoICFkaXYgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDtcIiArXG5cdFx0XHRcIm1hcmdpbi10b3A6MXB4O3BhZGRpbmc6MDtib3JkZXI6MFwiO1xuXHRcdGRpdi5zdHlsZS5jc3NUZXh0ID1cblx0XHRcdFwicG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO1wiICtcblx0XHRcdFwibWFyZ2luOmF1dG87Ym9yZGVyOjFweDtwYWRkaW5nOjFweDtcIiArXG5cdFx0XHRcIndpZHRoOjYwJTt0b3A6MSVcIjtcblx0XHRkb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoIGNvbnRhaW5lciApLmFwcGVuZENoaWxkKCBkaXYgKTtcblxuXHRcdHZhciBkaXZTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCBkaXYgKTtcblx0XHRwaXhlbFBvc2l0aW9uVmFsID0gZGl2U3R5bGUudG9wICE9PSBcIjElXCI7XG5cblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5LCBGaXJlZm94IDw9MyAtIDQ0XG5cdFx0cmVsaWFibGVNYXJnaW5MZWZ0VmFsID0gcm91bmRQaXhlbE1lYXN1cmVzKCBkaXZTdHlsZS5tYXJnaW5MZWZ0ICkgPT09IDEyO1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seSwgU2FmYXJpIDw9OS4xIC0gMTAuMSwgaU9TIDw9Ny4wIC0gOS4zXG5cdFx0Ly8gU29tZSBzdHlsZXMgY29tZSBiYWNrIHdpdGggcGVyY2VudGFnZSB2YWx1ZXMsIGV2ZW4gdGhvdWdoIHRoZXkgc2hvdWxkbid0XG5cdFx0ZGl2LnN0eWxlLnJpZ2h0ID0gXCI2MCVcIjtcblx0XHRwaXhlbEJveFN0eWxlc1ZhbCA9IHJvdW5kUGl4ZWxNZWFzdXJlcyggZGl2U3R5bGUucmlnaHQgKSA9PT0gMzY7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seVxuXHRcdC8vIERldGVjdCBtaXNyZXBvcnRpbmcgb2YgY29udGVudCBkaW1lbnNpb25zIGZvciBib3gtc2l6aW5nOmJvcmRlci1ib3ggZWxlbWVudHNcblx0XHRib3hTaXppbmdSZWxpYWJsZVZhbCA9IHJvdW5kUGl4ZWxNZWFzdXJlcyggZGl2U3R5bGUud2lkdGggKSA9PT0gMzY7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA5IG9ubHlcblx0XHQvLyBEZXRlY3Qgb3ZlcmZsb3c6c2Nyb2xsIHNjcmV3aW5lc3MgKGdoLTM2OTkpXG5cdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9NjRcblx0XHQvLyBEb24ndCBnZXQgdHJpY2tlZCB3aGVuIHpvb20gYWZmZWN0cyBvZmZzZXRXaWR0aCAoZ2gtNDAyOSlcblx0XHRkaXYuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG5cdFx0c2Nyb2xsYm94U2l6ZVZhbCA9IHJvdW5kUGl4ZWxNZWFzdXJlcyggZGl2Lm9mZnNldFdpZHRoIC8gMyApID09PSAxMjtcblxuXHRcdGRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZCggY29udGFpbmVyICk7XG5cblx0XHQvLyBOdWxsaWZ5IHRoZSBkaXYgc28gaXQgd291bGRuJ3QgYmUgc3RvcmVkIGluIHRoZSBtZW1vcnkgYW5kXG5cdFx0Ly8gaXQgd2lsbCBhbHNvIGJlIGEgc2lnbiB0aGF0IGNoZWNrcyBhbHJlYWR5IHBlcmZvcm1lZFxuXHRcdGRpdiA9IG51bGw7XG5cdH1cblxuXHRmdW5jdGlvbiByb3VuZFBpeGVsTWVhc3VyZXMoIG1lYXN1cmUgKSB7XG5cdFx0cmV0dXJuIE1hdGgucm91bmQoIHBhcnNlRmxvYXQoIG1lYXN1cmUgKSApO1xuXHR9XG5cblx0dmFyIHBpeGVsUG9zaXRpb25WYWwsIGJveFNpemluZ1JlbGlhYmxlVmFsLCBzY3JvbGxib3hTaXplVmFsLCBwaXhlbEJveFN0eWxlc1ZhbCxcblx0XHRyZWxpYWJsZVRyRGltZW5zaW9uc1ZhbCwgcmVsaWFibGVNYXJnaW5MZWZ0VmFsLFxuXHRcdGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSxcblx0XHRkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XG5cblx0Ly8gRmluaXNoIGVhcmx5IGluIGxpbWl0ZWQgKG5vbi1icm93c2VyKSBlbnZpcm9ubWVudHNcblx0aWYgKCAhZGl2LnN0eWxlICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0Ly8gU3R5bGUgb2YgY2xvbmVkIGVsZW1lbnQgYWZmZWN0cyBzb3VyY2UgZWxlbWVudCBjbG9uZWQgKHRyYWMtODkwOClcblx0ZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJjb250ZW50LWJveFwiO1xuXHRkaXYuY2xvbmVOb2RlKCB0cnVlICkuc3R5bGUuYmFja2dyb3VuZENsaXAgPSBcIlwiO1xuXHRzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSA9IGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9PT0gXCJjb250ZW50LWJveFwiO1xuXG5cdGpRdWVyeS5leHRlbmQoIHN1cHBvcnQsIHtcblx0XHRib3hTaXppbmdSZWxpYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIGJveFNpemluZ1JlbGlhYmxlVmFsO1xuXHRcdH0sXG5cdFx0cGl4ZWxCb3hTdHlsZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdHJldHVybiBwaXhlbEJveFN0eWxlc1ZhbDtcblx0XHR9LFxuXHRcdHBpeGVsUG9zaXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdHJldHVybiBwaXhlbFBvc2l0aW9uVmFsO1xuXHRcdH0sXG5cdFx0cmVsaWFibGVNYXJnaW5MZWZ0OiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcmVsaWFibGVNYXJnaW5MZWZ0VmFsO1xuXHRcdH0sXG5cdFx0c2Nyb2xsYm94U2l6ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIHNjcm9sbGJveFNpemVWYWw7XG5cdFx0fSxcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDkgLSAxMSssIEVkZ2UgMTUgLSAxOCtcblx0XHQvLyBJRS9FZGdlIG1pc3JlcG9ydCBgZ2V0Q29tcHV0ZWRTdHlsZWAgb2YgdGFibGUgcm93cyB3aXRoIHdpZHRoL2hlaWdodFxuXHRcdC8vIHNldCBpbiBDU1Mgd2hpbGUgYG9mZnNldCpgIHByb3BlcnRpZXMgcmVwb3J0IGNvcnJlY3QgdmFsdWVzLlxuXHRcdC8vIEJlaGF2aW9yIGluIElFIDkgaXMgbW9yZSBzdWJ0bGUgdGhhbiBpbiBuZXdlciB2ZXJzaW9ucyAmIGl0IHBhc3Nlc1xuXHRcdC8vIHNvbWUgdmVyc2lvbnMgb2YgdGhpcyB0ZXN0OyBtYWtlIHN1cmUgbm90IHRvIG1ha2UgaXQgcGFzcyB0aGVyZSFcblx0XHQvL1xuXHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggNzArXG5cdFx0Ly8gT25seSBGaXJlZm94IGluY2x1ZGVzIGJvcmRlciB3aWR0aHNcblx0XHQvLyBpbiBjb21wdXRlZCBkaW1lbnNpb25zLiAoZ2gtNDUyOSlcblx0XHRyZWxpYWJsZVRyRGltZW5zaW9uczogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgdGFibGUsIHRyLCB0ckNoaWxkLCB0clN0eWxlO1xuXHRcdFx0aWYgKCByZWxpYWJsZVRyRGltZW5zaW9uc1ZhbCA9PSBudWxsICkge1xuXHRcdFx0XHR0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwidGFibGVcIiApO1xuXHRcdFx0XHR0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwidHJcIiApO1xuXHRcdFx0XHR0ckNoaWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuXG5cdFx0XHRcdHRhYmxlLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7Ym9yZGVyLWNvbGxhcHNlOnNlcGFyYXRlXCI7XG5cdFx0XHRcdHRyLnN0eWxlLmNzc1RleHQgPSBcImJvcmRlcjoxcHggc29saWRcIjtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgODYrXG5cdFx0XHRcdC8vIEhlaWdodCBzZXQgdGhyb3VnaCBjc3NUZXh0IGRvZXMgbm90IGdldCBhcHBsaWVkLlxuXHRcdFx0XHQvLyBDb21wdXRlZCBoZWlnaHQgdGhlbiBjb21lcyBiYWNrIGFzIDAuXG5cdFx0XHRcdHRyLnN0eWxlLmhlaWdodCA9IFwiMXB4XCI7XG5cdFx0XHRcdHRyQ2hpbGQuc3R5bGUuaGVpZ2h0ID0gXCI5cHhcIjtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDggQ2hyb21lIDg2K1xuXHRcdFx0XHQvLyBJbiBvdXIgYm9keUJhY2tncm91bmQuaHRtbCBpZnJhbWUsXG5cdFx0XHRcdC8vIGRpc3BsYXkgZm9yIGFsbCBkaXYgZWxlbWVudHMgaXMgc2V0IHRvIFwiaW5saW5lXCIsXG5cdFx0XHRcdC8vIHdoaWNoIGNhdXNlcyBhIHByb2JsZW0gb25seSBpbiBBbmRyb2lkIDggQ2hyb21lIDg2LlxuXHRcdFx0XHQvLyBFbnN1cmluZyB0aGUgZGl2IGlzIGRpc3BsYXk6IGJsb2NrXG5cdFx0XHRcdC8vIGdldHMgYXJvdW5kIHRoaXMgaXNzdWUuXG5cdFx0XHRcdHRyQ2hpbGQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuXHRcdFx0XHRkb2N1bWVudEVsZW1lbnRcblx0XHRcdFx0XHQuYXBwZW5kQ2hpbGQoIHRhYmxlIClcblx0XHRcdFx0XHQuYXBwZW5kQ2hpbGQoIHRyIClcblx0XHRcdFx0XHQuYXBwZW5kQ2hpbGQoIHRyQ2hpbGQgKTtcblxuXHRcdFx0XHR0clN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoIHRyICk7XG5cdFx0XHRcdHJlbGlhYmxlVHJEaW1lbnNpb25zVmFsID0gKCBwYXJzZUludCggdHJTdHlsZS5oZWlnaHQsIDEwICkgK1xuXHRcdFx0XHRcdHBhcnNlSW50KCB0clN0eWxlLmJvcmRlclRvcFdpZHRoLCAxMCApICtcblx0XHRcdFx0XHRwYXJzZUludCggdHJTdHlsZS5ib3JkZXJCb3R0b21XaWR0aCwgMTAgKSApID09PSB0ci5vZmZzZXRIZWlnaHQ7XG5cblx0XHRcdFx0ZG9jdW1lbnRFbGVtZW50LnJlbW92ZUNoaWxkKCB0YWJsZSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlbGlhYmxlVHJEaW1lbnNpb25zVmFsO1xuXHRcdH1cblx0fSApO1xufSApKCk7XG5cblxuZnVuY3Rpb24gY3VyQ1NTKCBlbGVtLCBuYW1lLCBjb21wdXRlZCApIHtcblx0dmFyIHdpZHRoLCBtaW5XaWR0aCwgbWF4V2lkdGgsIHJldCxcblx0XHRpc0N1c3RvbVByb3AgPSByY3VzdG9tUHJvcC50ZXN0KCBuYW1lICksXG5cblx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDUxK1xuXHRcdC8vIFJldHJpZXZpbmcgc3R5bGUgYmVmb3JlIGNvbXB1dGVkIHNvbWVob3dcblx0XHQvLyBmaXhlcyBhbiBpc3N1ZSB3aXRoIGdldHRpbmcgd3JvbmcgdmFsdWVzXG5cdFx0Ly8gb24gZGV0YWNoZWQgZWxlbWVudHNcblx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XG5cblx0Y29tcHV0ZWQgPSBjb21wdXRlZCB8fCBnZXRTdHlsZXMoIGVsZW0gKTtcblxuXHQvLyBnZXRQcm9wZXJ0eVZhbHVlIGlzIG5lZWRlZCBmb3I6XG5cdC8vICAgLmNzcygnZmlsdGVyJykgKElFIDkgb25seSwgdHJhYy0xMjUzNylcblx0Ly8gICAuY3NzKCctLWN1c3RvbVByb3BlcnR5KSAoZ2gtMzE0NClcblx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRyZXQgPSBjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKCBuYW1lICkgfHwgY29tcHV0ZWRbIG5hbWUgXTtcblxuXHRcdC8vIHRyaW0gd2hpdGVzcGFjZSBmb3IgY3VzdG9tIHByb3BlcnR5IChpc3N1ZSBnaC00OTI2KVxuXHRcdGlmICggaXNDdXN0b21Qcm9wICkge1xuXG5cdFx0XHQvLyBydHJpbSB0cmVhdHMgVSswMDBEIENBUlJJQUdFIFJFVFVSTiBhbmQgVSswMDBDIEZPUk0gRkVFRFxuXHRcdFx0Ly8gYXMgd2hpdGVzcGFjZSB3aGlsZSBDU1MgZG9lcyBub3QsIGJ1dCB0aGlzIGlzIG5vdCBhIHByb2JsZW1cblx0XHRcdC8vIGJlY2F1c2UgQ1NTIHByZXByb2Nlc3NpbmcgcmVwbGFjZXMgdGhlbSB3aXRoIFUrMDAwQSBMSU5FIEZFRURcblx0XHRcdC8vICh3aGljaCAqaXMqIENTUyB3aGl0ZXNwYWNlKVxuXHRcdFx0Ly8gaHR0cHM6Ly93d3cudzMub3JnL1RSL2Nzcy1zeW50YXgtMy8jaW5wdXQtcHJlcHJvY2Vzc2luZ1xuXHRcdFx0cmV0ID0gcmV0LnJlcGxhY2UoIHJ0cmltQ1NTLCBcIiQxXCIgKTtcblx0XHR9XG5cblx0XHRpZiAoIHJldCA9PT0gXCJcIiAmJiAhaXNBdHRhY2hlZCggZWxlbSApICkge1xuXHRcdFx0cmV0ID0galF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lICk7XG5cdFx0fVxuXG5cdFx0Ly8gQSB0cmlidXRlIHRvIHRoZSBcImF3ZXNvbWUgaGFjayBieSBEZWFuIEVkd2FyZHNcIlxuXHRcdC8vIEFuZHJvaWQgQnJvd3NlciByZXR1cm5zIHBlcmNlbnRhZ2UgZm9yIHNvbWUgdmFsdWVzLFxuXHRcdC8vIGJ1dCB3aWR0aCBzZWVtcyB0byBiZSByZWxpYWJseSBwaXhlbHMuXG5cdFx0Ly8gVGhpcyBpcyBhZ2FpbnN0IHRoZSBDU1NPTSBkcmFmdCBzcGVjOlxuXHRcdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jcmVzb2x2ZWQtdmFsdWVzXG5cdFx0aWYgKCAhc3VwcG9ydC5waXhlbEJveFN0eWxlcygpICYmIHJudW1ub25weC50ZXN0KCByZXQgKSAmJiByYm94U3R5bGUudGVzdCggbmFtZSApICkge1xuXG5cdFx0XHQvLyBSZW1lbWJlciB0aGUgb3JpZ2luYWwgdmFsdWVzXG5cdFx0XHR3aWR0aCA9IHN0eWxlLndpZHRoO1xuXHRcdFx0bWluV2lkdGggPSBzdHlsZS5taW5XaWR0aDtcblx0XHRcdG1heFdpZHRoID0gc3R5bGUubWF4V2lkdGg7XG5cblx0XHRcdC8vIFB1dCBpbiB0aGUgbmV3IHZhbHVlcyB0byBnZXQgYSBjb21wdXRlZCB2YWx1ZSBvdXRcblx0XHRcdHN0eWxlLm1pbldpZHRoID0gc3R5bGUubWF4V2lkdGggPSBzdHlsZS53aWR0aCA9IHJldDtcblx0XHRcdHJldCA9IGNvbXB1dGVkLndpZHRoO1xuXG5cdFx0XHQvLyBSZXZlcnQgdGhlIGNoYW5nZWQgdmFsdWVzXG5cdFx0XHRzdHlsZS53aWR0aCA9IHdpZHRoO1xuXHRcdFx0c3R5bGUubWluV2lkdGggPSBtaW5XaWR0aDtcblx0XHRcdHN0eWxlLm1heFdpZHRoID0gbWF4V2lkdGg7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJldCAhPT0gdW5kZWZpbmVkID9cblxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0XHQvLyBJRSByZXR1cm5zIHpJbmRleCB2YWx1ZSBhcyBhbiBpbnRlZ2VyLlxuXHRcdHJldCArIFwiXCIgOlxuXHRcdHJldDtcbn1cblxuXG5mdW5jdGlvbiBhZGRHZXRIb29rSWYoIGNvbmRpdGlvbkZuLCBob29rRm4gKSB7XG5cblx0Ly8gRGVmaW5lIHRoZSBob29rLCB3ZSdsbCBjaGVjayBvbiB0aGUgZmlyc3QgcnVuIGlmIGl0J3MgcmVhbGx5IG5lZWRlZC5cblx0cmV0dXJuIHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBjb25kaXRpb25GbigpICkge1xuXG5cdFx0XHRcdC8vIEhvb2sgbm90IG5lZWRlZCAob3IgaXQncyBub3QgcG9zc2libGUgdG8gdXNlIGl0IGR1ZVxuXHRcdFx0XHQvLyB0byBtaXNzaW5nIGRlcGVuZGVuY3kpLCByZW1vdmUgaXQuXG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmdldDtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBIb29rIG5lZWRlZDsgcmVkZWZpbmUgaXQgc28gdGhhdCB0aGUgc3VwcG9ydCB0ZXN0IGlzIG5vdCBleGVjdXRlZCBhZ2Fpbi5cblx0XHRcdHJldHVybiAoIHRoaXMuZ2V0ID0gaG9va0ZuICkuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0fTtcbn1cblxuXG52YXIgY3NzUHJlZml4ZXMgPSBbIFwiV2Via2l0XCIsIFwiTW96XCIsIFwibXNcIiBdLFxuXHRlbXB0eVN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApLnN0eWxlLFxuXHR2ZW5kb3JQcm9wcyA9IHt9O1xuXG4vLyBSZXR1cm4gYSB2ZW5kb3ItcHJlZml4ZWQgcHJvcGVydHkgb3IgdW5kZWZpbmVkXG5mdW5jdGlvbiB2ZW5kb3JQcm9wTmFtZSggbmFtZSApIHtcblxuXHQvLyBDaGVjayBmb3IgdmVuZG9yIHByZWZpeGVkIG5hbWVzXG5cdHZhciBjYXBOYW1lID0gbmFtZVsgMCBdLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKCAxICksXG5cdFx0aSA9IGNzc1ByZWZpeGVzLmxlbmd0aDtcblxuXHR3aGlsZSAoIGktLSApIHtcblx0XHRuYW1lID0gY3NzUHJlZml4ZXNbIGkgXSArIGNhcE5hbWU7XG5cdFx0aWYgKCBuYW1lIGluIGVtcHR5U3R5bGUgKSB7XG5cdFx0XHRyZXR1cm4gbmFtZTtcblx0XHR9XG5cdH1cbn1cblxuLy8gUmV0dXJuIGEgcG90ZW50aWFsbHktbWFwcGVkIGpRdWVyeS5jc3NQcm9wcyBvciB2ZW5kb3IgcHJlZml4ZWQgcHJvcGVydHlcbmZ1bmN0aW9uIGZpbmFsUHJvcE5hbWUoIG5hbWUgKSB7XG5cdHZhciBmaW5hbCA9IGpRdWVyeS5jc3NQcm9wc1sgbmFtZSBdIHx8IHZlbmRvclByb3BzWyBuYW1lIF07XG5cblx0aWYgKCBmaW5hbCApIHtcblx0XHRyZXR1cm4gZmluYWw7XG5cdH1cblx0aWYgKCBuYW1lIGluIGVtcHR5U3R5bGUgKSB7XG5cdFx0cmV0dXJuIG5hbWU7XG5cdH1cblx0cmV0dXJuIHZlbmRvclByb3BzWyBuYW1lIF0gPSB2ZW5kb3JQcm9wTmFtZSggbmFtZSApIHx8IG5hbWU7XG59XG5cblxudmFyXG5cblx0Ly8gU3dhcHBhYmxlIGlmIGRpc3BsYXkgaXMgbm9uZSBvciBzdGFydHMgd2l0aCB0YWJsZVxuXHQvLyBleGNlcHQgXCJ0YWJsZVwiLCBcInRhYmxlLWNlbGxcIiwgb3IgXCJ0YWJsZS1jYXB0aW9uXCJcblx0Ly8gU2VlIGhlcmUgZm9yIGRpc3BsYXkgdmFsdWVzOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0NTUy9kaXNwbGF5XG5cdHJkaXNwbGF5c3dhcCA9IC9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxcblx0Y3NzU2hvdyA9IHsgcG9zaXRpb246IFwiYWJzb2x1dGVcIiwgdmlzaWJpbGl0eTogXCJoaWRkZW5cIiwgZGlzcGxheTogXCJibG9ja1wiIH0sXG5cdGNzc05vcm1hbFRyYW5zZm9ybSA9IHtcblx0XHRsZXR0ZXJTcGFjaW5nOiBcIjBcIixcblx0XHRmb250V2VpZ2h0OiBcIjQwMFwiXG5cdH07XG5cbmZ1bmN0aW9uIHNldFBvc2l0aXZlTnVtYmVyKCBfZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICkge1xuXG5cdC8vIEFueSByZWxhdGl2ZSAoKy8tKSB2YWx1ZXMgaGF2ZSBhbHJlYWR5IGJlZW5cblx0Ly8gbm9ybWFsaXplZCBhdCB0aGlzIHBvaW50XG5cdHZhciBtYXRjaGVzID0gcmNzc051bS5leGVjKCB2YWx1ZSApO1xuXHRyZXR1cm4gbWF0Y2hlcyA/XG5cblx0XHQvLyBHdWFyZCBhZ2FpbnN0IHVuZGVmaW5lZCBcInN1YnRyYWN0XCIsIGUuZy4sIHdoZW4gdXNlZCBhcyBpbiBjc3NIb29rc1xuXHRcdE1hdGgubWF4KCAwLCBtYXRjaGVzWyAyIF0gLSAoIHN1YnRyYWN0IHx8IDAgKSApICsgKCBtYXRjaGVzWyAzIF0gfHwgXCJweFwiICkgOlxuXHRcdHZhbHVlO1xufVxuXG5mdW5jdGlvbiBib3hNb2RlbEFkanVzdG1lbnQoIGVsZW0sIGRpbWVuc2lvbiwgYm94LCBpc0JvcmRlckJveCwgc3R5bGVzLCBjb21wdXRlZFZhbCApIHtcblx0dmFyIGkgPSBkaW1lbnNpb24gPT09IFwid2lkdGhcIiA/IDEgOiAwLFxuXHRcdGV4dHJhID0gMCxcblx0XHRkZWx0YSA9IDA7XG5cblx0Ly8gQWRqdXN0bWVudCBtYXkgbm90IGJlIG5lY2Vzc2FyeVxuXHRpZiAoIGJveCA9PT0gKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApICkge1xuXHRcdHJldHVybiAwO1xuXHR9XG5cblx0Zm9yICggOyBpIDwgNDsgaSArPSAyICkge1xuXG5cdFx0Ly8gQm90aCBib3ggbW9kZWxzIGV4Y2x1ZGUgbWFyZ2luXG5cdFx0aWYgKCBib3ggPT09IFwibWFyZ2luXCIgKSB7XG5cdFx0XHRkZWx0YSArPSBqUXVlcnkuY3NzKCBlbGVtLCBib3ggKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0fVxuXG5cdFx0Ly8gSWYgd2UgZ2V0IGhlcmUgd2l0aCBhIGNvbnRlbnQtYm94LCB3ZSdyZSBzZWVraW5nIFwicGFkZGluZ1wiIG9yIFwiYm9yZGVyXCIgb3IgXCJtYXJnaW5cIlxuXHRcdGlmICggIWlzQm9yZGVyQm94ICkge1xuXG5cdFx0XHQvLyBBZGQgcGFkZGluZ1xuXHRcdFx0ZGVsdGEgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cblx0XHRcdC8vIEZvciBcImJvcmRlclwiIG9yIFwibWFyZ2luXCIsIGFkZCBib3JkZXJcblx0XHRcdGlmICggYm94ICE9PSBcInBhZGRpbmdcIiApIHtcblx0XHRcdFx0ZGVsdGEgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFsgaSBdICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMgKTtcblxuXHRcdFx0Ly8gQnV0IHN0aWxsIGtlZXAgdHJhY2sgb2YgaXQgb3RoZXJ3aXNlXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRleHRyYSArPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXG5cdFx0Ly8gSWYgd2UgZ2V0IGhlcmUgd2l0aCBhIGJvcmRlci1ib3ggKGNvbnRlbnQgKyBwYWRkaW5nICsgYm9yZGVyKSwgd2UncmUgc2Vla2luZyBcImNvbnRlbnRcIiBvclxuXHRcdC8vIFwicGFkZGluZ1wiIG9yIFwibWFyZ2luXCJcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBGb3IgXCJjb250ZW50XCIsIHN1YnRyYWN0IHBhZGRpbmdcblx0XHRcdGlmICggYm94ID09PSBcImNvbnRlbnRcIiApIHtcblx0XHRcdFx0ZGVsdGEgLT0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZvciBcImNvbnRlbnRcIiBvciBcInBhZGRpbmdcIiwgc3VidHJhY3QgYm9yZGVyXG5cdFx0XHRpZiAoIGJveCAhPT0gXCJtYXJnaW5cIiApIHtcblx0XHRcdFx0ZGVsdGEgLT0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFsgaSBdICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBBY2NvdW50IGZvciBwb3NpdGl2ZSBjb250ZW50LWJveCBzY3JvbGwgZ3V0dGVyIHdoZW4gcmVxdWVzdGVkIGJ5IHByb3ZpZGluZyBjb21wdXRlZFZhbFxuXHRpZiAoICFpc0JvcmRlckJveCAmJiBjb21wdXRlZFZhbCA+PSAwICkge1xuXG5cdFx0Ly8gb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IGlzIGEgcm91bmRlZCBzdW0gb2YgY29udGVudCwgcGFkZGluZywgc2Nyb2xsIGd1dHRlciwgYW5kIGJvcmRlclxuXHRcdC8vIEFzc3VtaW5nIGludGVnZXIgc2Nyb2xsIGd1dHRlciwgc3VidHJhY3QgdGhlIHJlc3QgYW5kIHJvdW5kIGRvd25cblx0XHRkZWx0YSArPSBNYXRoLm1heCggMCwgTWF0aC5jZWlsKFxuXHRcdFx0ZWxlbVsgXCJvZmZzZXRcIiArIGRpbWVuc2lvblsgMCBdLnRvVXBwZXJDYXNlKCkgKyBkaW1lbnNpb24uc2xpY2UoIDEgKSBdIC1cblx0XHRcdGNvbXB1dGVkVmFsIC1cblx0XHRcdGRlbHRhIC1cblx0XHRcdGV4dHJhIC1cblx0XHRcdDAuNVxuXG5cdFx0Ly8gSWYgb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IGlzIHVua25vd24sIHRoZW4gd2UgY2FuJ3QgZGV0ZXJtaW5lIGNvbnRlbnQtYm94IHNjcm9sbCBndXR0ZXJcblx0XHQvLyBVc2UgYW4gZXhwbGljaXQgemVybyB0byBhdm9pZCBOYU4gKGdoLTM5NjQpXG5cdFx0KSApIHx8IDA7XG5cdH1cblxuXHRyZXR1cm4gZGVsdGE7XG59XG5cbmZ1bmN0aW9uIGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIGRpbWVuc2lvbiwgZXh0cmEgKSB7XG5cblx0Ly8gU3RhcnQgd2l0aCBjb21wdXRlZCBzdHlsZVxuXHR2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICksXG5cblx0XHQvLyBUbyBhdm9pZCBmb3JjaW5nIGEgcmVmbG93LCBvbmx5IGZldGNoIGJveFNpemluZyBpZiB3ZSBuZWVkIGl0IChnaC00MzIyKS5cblx0XHQvLyBGYWtlIGNvbnRlbnQtYm94IHVudGlsIHdlIGtub3cgaXQncyBuZWVkZWQgdG8ga25vdyB0aGUgdHJ1ZSB2YWx1ZS5cblx0XHRib3hTaXppbmdOZWVkZWQgPSAhc3VwcG9ydC5ib3hTaXppbmdSZWxpYWJsZSgpIHx8IGV4dHJhLFxuXHRcdGlzQm9yZGVyQm94ID0gYm94U2l6aW5nTmVlZGVkICYmXG5cdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiYm9yZGVyLWJveFwiLFxuXHRcdHZhbHVlSXNCb3JkZXJCb3ggPSBpc0JvcmRlckJveCxcblxuXHRcdHZhbCA9IGN1ckNTUyggZWxlbSwgZGltZW5zaW9uLCBzdHlsZXMgKSxcblx0XHRvZmZzZXRQcm9wID0gXCJvZmZzZXRcIiArIGRpbWVuc2lvblsgMCBdLnRvVXBwZXJDYXNlKCkgKyBkaW1lbnNpb24uc2xpY2UoIDEgKTtcblxuXHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9NTRcblx0Ly8gUmV0dXJuIGEgY29uZm91bmRpbmcgbm9uLXBpeGVsIHZhbHVlIG9yIGZlaWduIGlnbm9yYW5jZSwgYXMgYXBwcm9wcmlhdGUuXG5cdGlmICggcm51bW5vbnB4LnRlc3QoIHZhbCApICkge1xuXHRcdGlmICggIWV4dHJhICkge1xuXHRcdFx0cmV0dXJuIHZhbDtcblx0XHR9XG5cdFx0dmFsID0gXCJhdXRvXCI7XG5cdH1cblxuXG5cdC8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5XG5cdC8vIFVzZSBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgZm9yIHdoZW4gYm94IHNpemluZyBpcyB1bnJlbGlhYmxlLlxuXHQvLyBJbiB0aG9zZSBjYXNlcywgdGhlIGNvbXB1dGVkIHZhbHVlIGNhbiBiZSB0cnVzdGVkIHRvIGJlIGJvcmRlci1ib3guXG5cdGlmICggKCAhc3VwcG9ydC5ib3hTaXppbmdSZWxpYWJsZSgpICYmIGlzQm9yZGVyQm94IHx8XG5cblx0XHQvLyBTdXBwb3J0OiBJRSAxMCAtIDExKywgRWRnZSAxNSAtIDE4K1xuXHRcdC8vIElFL0VkZ2UgbWlzcmVwb3J0IGBnZXRDb21wdXRlZFN0eWxlYCBvZiB0YWJsZSByb3dzIHdpdGggd2lkdGgvaGVpZ2h0XG5cdFx0Ly8gc2V0IGluIENTUyB3aGlsZSBgb2Zmc2V0KmAgcHJvcGVydGllcyByZXBvcnQgY29ycmVjdCB2YWx1ZXMuXG5cdFx0Ly8gSW50ZXJlc3RpbmdseSwgaW4gc29tZSBjYXNlcyBJRSA5IGRvZXNuJ3Qgc3VmZmVyIGZyb20gdGhpcyBpc3N1ZS5cblx0XHQhc3VwcG9ydC5yZWxpYWJsZVRyRGltZW5zaW9ucygpICYmIG5vZGVOYW1lKCBlbGVtLCBcInRyXCIgKSB8fFxuXG5cdFx0Ly8gRmFsbCBiYWNrIHRvIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCB3aGVuIHZhbHVlIGlzIFwiYXV0b1wiXG5cdFx0Ly8gVGhpcyBoYXBwZW5zIGZvciBpbmxpbmUgZWxlbWVudHMgd2l0aCBubyBleHBsaWNpdCBzZXR0aW5nIChnaC0zNTcxKVxuXHRcdHZhbCA9PT0gXCJhdXRvXCIgfHxcblxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjEgLSA0LjMgb25seVxuXHRcdC8vIEFsc28gdXNlIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBmb3IgbWlzcmVwb3J0ZWQgaW5saW5lIGRpbWVuc2lvbnMgKGdoLTM2MDIpXG5cdFx0IXBhcnNlRmxvYXQoIHZhbCApICYmIGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiaW5saW5lXCIgKSAmJlxuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoZSBlbGVtZW50IGlzIHZpc2libGUgJiBjb25uZWN0ZWRcblx0XHRlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoICkge1xuXG5cdFx0aXNCb3JkZXJCb3ggPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiYm9yZGVyLWJveFwiO1xuXG5cdFx0Ly8gV2hlcmUgYXZhaWxhYmxlLCBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgYXBwcm94aW1hdGUgYm9yZGVyIGJveCBkaW1lbnNpb25zLlxuXHRcdC8vIFdoZXJlIG5vdCBhdmFpbGFibGUgKGUuZy4sIFNWRyksIGFzc3VtZSB1bnJlbGlhYmxlIGJveC1zaXppbmcgYW5kIGludGVycHJldCB0aGVcblx0XHQvLyByZXRyaWV2ZWQgdmFsdWUgYXMgYSBjb250ZW50IGJveCBkaW1lbnNpb24uXG5cdFx0dmFsdWVJc0JvcmRlckJveCA9IG9mZnNldFByb3AgaW4gZWxlbTtcblx0XHRpZiAoIHZhbHVlSXNCb3JkZXJCb3ggKSB7XG5cdFx0XHR2YWwgPSBlbGVtWyBvZmZzZXRQcm9wIF07XG5cdFx0fVxuXHR9XG5cblx0Ly8gTm9ybWFsaXplIFwiXCIgYW5kIGF1dG9cblx0dmFsID0gcGFyc2VGbG9hdCggdmFsICkgfHwgMDtcblxuXHQvLyBBZGp1c3QgZm9yIHRoZSBlbGVtZW50J3MgYm94IG1vZGVsXG5cdHJldHVybiAoIHZhbCArXG5cdFx0Ym94TW9kZWxBZGp1c3RtZW50KFxuXHRcdFx0ZWxlbSxcblx0XHRcdGRpbWVuc2lvbixcblx0XHRcdGV4dHJhIHx8ICggaXNCb3JkZXJCb3ggPyBcImJvcmRlclwiIDogXCJjb250ZW50XCIgKSxcblx0XHRcdHZhbHVlSXNCb3JkZXJCb3gsXG5cdFx0XHRzdHlsZXMsXG5cblx0XHRcdC8vIFByb3ZpZGUgdGhlIGN1cnJlbnQgY29tcHV0ZWQgc2l6ZSB0byByZXF1ZXN0IHNjcm9sbCBndXR0ZXIgY2FsY3VsYXRpb24gKGdoLTM1ODkpXG5cdFx0XHR2YWxcblx0XHQpXG5cdCkgKyBcInB4XCI7XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBBZGQgaW4gc3R5bGUgcHJvcGVydHkgaG9va3MgZm9yIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHRcblx0Ly8gYmVoYXZpb3Igb2YgZ2V0dGluZyBhbmQgc2V0dGluZyBhIHN0eWxlIHByb3BlcnR5XG5cdGNzc0hvb2tzOiB7XG5cdFx0b3BhY2l0eToge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XG5cdFx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cblx0XHRcdFx0XHQvLyBXZSBzaG91bGQgYWx3YXlzIGdldCBhIG51bWJlciBiYWNrIGZyb20gb3BhY2l0eVxuXHRcdFx0XHRcdHZhciByZXQgPSBjdXJDU1MoIGVsZW0sIFwib3BhY2l0eVwiICk7XG5cdFx0XHRcdFx0cmV0dXJuIHJldCA9PT0gXCJcIiA/IFwiMVwiIDogcmV0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdC8vIERvbid0IGF1dG9tYXRpY2FsbHkgYWRkIFwicHhcIiB0byB0aGVzZSBwb3NzaWJseS11bml0bGVzcyBwcm9wZXJ0aWVzXG5cdGNzc051bWJlcjoge1xuXHRcdFwiYW5pbWF0aW9uSXRlcmF0aW9uQ291bnRcIjogdHJ1ZSxcblx0XHRcImNvbHVtbkNvdW50XCI6IHRydWUsXG5cdFx0XCJmaWxsT3BhY2l0eVwiOiB0cnVlLFxuXHRcdFwiZmxleEdyb3dcIjogdHJ1ZSxcblx0XHRcImZsZXhTaHJpbmtcIjogdHJ1ZSxcblx0XHRcImZvbnRXZWlnaHRcIjogdHJ1ZSxcblx0XHRcImdyaWRBcmVhXCI6IHRydWUsXG5cdFx0XCJncmlkQ29sdW1uXCI6IHRydWUsXG5cdFx0XCJncmlkQ29sdW1uRW5kXCI6IHRydWUsXG5cdFx0XCJncmlkQ29sdW1uU3RhcnRcIjogdHJ1ZSxcblx0XHRcImdyaWRSb3dcIjogdHJ1ZSxcblx0XHRcImdyaWRSb3dFbmRcIjogdHJ1ZSxcblx0XHRcImdyaWRSb3dTdGFydFwiOiB0cnVlLFxuXHRcdFwibGluZUhlaWdodFwiOiB0cnVlLFxuXHRcdFwib3BhY2l0eVwiOiB0cnVlLFxuXHRcdFwib3JkZXJcIjogdHJ1ZSxcblx0XHRcIm9ycGhhbnNcIjogdHJ1ZSxcblx0XHRcIndpZG93c1wiOiB0cnVlLFxuXHRcdFwiekluZGV4XCI6IHRydWUsXG5cdFx0XCJ6b29tXCI6IHRydWVcblx0fSxcblxuXHQvLyBBZGQgaW4gcHJvcGVydGllcyB3aG9zZSBuYW1lcyB5b3Ugd2lzaCB0byBmaXggYmVmb3JlXG5cdC8vIHNldHRpbmcgb3IgZ2V0dGluZyB0aGUgdmFsdWVcblx0Y3NzUHJvcHM6IHt9LFxuXG5cdC8vIEdldCBhbmQgc2V0IHRoZSBzdHlsZSBwcm9wZXJ0eSBvbiBhIERPTSBOb2RlXG5cdHN0eWxlOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUsIGV4dHJhICkge1xuXG5cdFx0Ly8gRG9uJ3Qgc2V0IHN0eWxlcyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXG5cdFx0aWYgKCAhZWxlbSB8fCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggfHwgIWVsZW0uc3R5bGUgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lXG5cdFx0dmFyIHJldCwgdHlwZSwgaG9va3MsXG5cdFx0XHRvcmlnTmFtZSA9IGNhbWVsQ2FzZSggbmFtZSApLFxuXHRcdFx0aXNDdXN0b21Qcm9wID0gcmN1c3RvbVByb3AudGVzdCggbmFtZSApLFxuXHRcdFx0c3R5bGUgPSBlbGVtLnN0eWxlO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lLiBXZSBkb24ndFxuXHRcdC8vIHdhbnQgdG8gcXVlcnkgdGhlIHZhbHVlIGlmIGl0IGlzIGEgQ1NTIGN1c3RvbSBwcm9wZXJ0eVxuXHRcdC8vIHNpbmNlIHRoZXkgYXJlIHVzZXItZGVmaW5lZC5cblx0XHRpZiAoICFpc0N1c3RvbVByb3AgKSB7XG5cdFx0XHRuYW1lID0gZmluYWxQcm9wTmFtZSggb3JpZ05hbWUgKTtcblx0XHR9XG5cblx0XHQvLyBHZXRzIGhvb2sgZm9yIHRoZSBwcmVmaXhlZCB2ZXJzaW9uLCB0aGVuIHVucHJlZml4ZWQgdmVyc2lvblxuXHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gfHwgalF1ZXJ5LmNzc0hvb2tzWyBvcmlnTmFtZSBdO1xuXG5cdFx0Ly8gQ2hlY2sgaWYgd2UncmUgc2V0dGluZyBhIHZhbHVlXG5cdFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0dHlwZSA9IHR5cGVvZiB2YWx1ZTtcblxuXHRcdFx0Ly8gQ29udmVydCBcIis9XCIgb3IgXCItPVwiIHRvIHJlbGF0aXZlIG51bWJlcnMgKHRyYWMtNzM0NSlcblx0XHRcdGlmICggdHlwZSA9PT0gXCJzdHJpbmdcIiAmJiAoIHJldCA9IHJjc3NOdW0uZXhlYyggdmFsdWUgKSApICYmIHJldFsgMSBdICkge1xuXHRcdFx0XHR2YWx1ZSA9IGFkanVzdENTUyggZWxlbSwgbmFtZSwgcmV0ICk7XG5cblx0XHRcdFx0Ly8gRml4ZXMgYnVnIHRyYWMtOTIzN1xuXHRcdFx0XHR0eXBlID0gXCJudW1iZXJcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTWFrZSBzdXJlIHRoYXQgbnVsbCBhbmQgTmFOIHZhbHVlcyBhcmVuJ3Qgc2V0ICh0cmFjLTcxMTYpXG5cdFx0XHRpZiAoIHZhbHVlID09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIGEgbnVtYmVyIHdhcyBwYXNzZWQgaW4sIGFkZCB0aGUgdW5pdCAoZXhjZXB0IGZvciBjZXJ0YWluIENTUyBwcm9wZXJ0aWVzKVxuXHRcdFx0Ly8gVGhlIGlzQ3VzdG9tUHJvcCBjaGVjayBjYW4gYmUgcmVtb3ZlZCBpbiBqUXVlcnkgNC4wIHdoZW4gd2Ugb25seSBhdXRvLWFwcGVuZFxuXHRcdFx0Ly8gXCJweFwiIHRvIGEgZmV3IGhhcmRjb2RlZCB2YWx1ZXMuXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwibnVtYmVyXCIgJiYgIWlzQ3VzdG9tUHJvcCApIHtcblx0XHRcdFx0dmFsdWUgKz0gcmV0ICYmIHJldFsgMyBdIHx8ICggalF1ZXJ5LmNzc051bWJlclsgb3JpZ05hbWUgXSA/IFwiXCIgOiBcInB4XCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gYmFja2dyb3VuZC0qIHByb3BzIGFmZmVjdCBvcmlnaW5hbCBjbG9uZSdzIHZhbHVlc1xuXHRcdFx0aWYgKCAhc3VwcG9ydC5jbGVhckNsb25lU3R5bGUgJiYgdmFsdWUgPT09IFwiXCIgJiYgbmFtZS5pbmRleE9mKCBcImJhY2tncm91bmRcIiApID09PSAwICkge1xuXHRcdFx0XHRzdHlsZVsgbmFtZSBdID0gXCJpbmhlcml0XCI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQsIHVzZSB0aGF0IHZhbHVlLCBvdGhlcndpc2UganVzdCBzZXQgdGhlIHNwZWNpZmllZCB2YWx1ZVxuXHRcdFx0aWYgKCAhaG9va3MgfHwgISggXCJzZXRcIiBpbiBob29rcyApIHx8XG5cdFx0XHRcdCggdmFsdWUgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRpZiAoIGlzQ3VzdG9tUHJvcCApIHtcblx0XHRcdFx0XHRzdHlsZS5zZXRQcm9wZXJ0eSggbmFtZSwgdmFsdWUgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdHlsZVsgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQgZ2V0IHRoZSBub24tY29tcHV0ZWQgdmFsdWUgZnJvbSB0aGVyZVxuXHRcdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdCggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBmYWxzZSwgZXh0cmEgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT3RoZXJ3aXNlIGp1c3QgZ2V0IHRoZSB2YWx1ZSBmcm9tIHRoZSBzdHlsZSBvYmplY3Rcblx0XHRcdHJldHVybiBzdHlsZVsgbmFtZSBdO1xuXHRcdH1cblx0fSxcblxuXHRjc3M6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBleHRyYSwgc3R5bGVzICkge1xuXHRcdHZhciB2YWwsIG51bSwgaG9va3MsXG5cdFx0XHRvcmlnTmFtZSA9IGNhbWVsQ2FzZSggbmFtZSApLFxuXHRcdFx0aXNDdXN0b21Qcm9wID0gcmN1c3RvbVByb3AudGVzdCggbmFtZSApO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lLiBXZSBkb24ndFxuXHRcdC8vIHdhbnQgdG8gbW9kaWZ5IHRoZSB2YWx1ZSBpZiBpdCBpcyBhIENTUyBjdXN0b20gcHJvcGVydHlcblx0XHQvLyBzaW5jZSB0aGV5IGFyZSB1c2VyLWRlZmluZWQuXG5cdFx0aWYgKCAhaXNDdXN0b21Qcm9wICkge1xuXHRcdFx0bmFtZSA9IGZpbmFsUHJvcE5hbWUoIG9yaWdOYW1lICk7XG5cdFx0fVxuXG5cdFx0Ly8gVHJ5IHByZWZpeGVkIG5hbWUgZm9sbG93ZWQgYnkgdGhlIHVucHJlZml4ZWQgbmFtZVxuXHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gfHwgalF1ZXJ5LmNzc0hvb2tzWyBvcmlnTmFtZSBdO1xuXG5cdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIGNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcblx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgKSB7XG5cdFx0XHR2YWwgPSBob29rcy5nZXQoIGVsZW0sIHRydWUsIGV4dHJhICk7XG5cdFx0fVxuXG5cdFx0Ly8gT3RoZXJ3aXNlLCBpZiBhIHdheSB0byBnZXQgdGhlIGNvbXB1dGVkIHZhbHVlIGV4aXN0cywgdXNlIHRoYXRcblx0XHRpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0dmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKTtcblx0XHR9XG5cblx0XHQvLyBDb252ZXJ0IFwibm9ybWFsXCIgdG8gY29tcHV0ZWQgdmFsdWVcblx0XHRpZiAoIHZhbCA9PT0gXCJub3JtYWxcIiAmJiBuYW1lIGluIGNzc05vcm1hbFRyYW5zZm9ybSApIHtcblx0XHRcdHZhbCA9IGNzc05vcm1hbFRyYW5zZm9ybVsgbmFtZSBdO1xuXHRcdH1cblxuXHRcdC8vIE1ha2UgbnVtZXJpYyBpZiBmb3JjZWQgb3IgYSBxdWFsaWZpZXIgd2FzIHByb3ZpZGVkIGFuZCB2YWwgbG9va3MgbnVtZXJpY1xuXHRcdGlmICggZXh0cmEgPT09IFwiXCIgfHwgZXh0cmEgKSB7XG5cdFx0XHRudW0gPSBwYXJzZUZsb2F0KCB2YWwgKTtcblx0XHRcdHJldHVybiBleHRyYSA9PT0gdHJ1ZSB8fCBpc0Zpbml0ZSggbnVtICkgPyBudW0gfHwgMCA6IHZhbDtcblx0XHR9XG5cblx0XHRyZXR1cm4gdmFsO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKCBbIFwiaGVpZ2h0XCIsIFwid2lkdGhcIiBdLCBmdW5jdGlvbiggX2ksIGRpbWVuc2lvbiApIHtcblx0alF1ZXJ5LmNzc0hvb2tzWyBkaW1lbnNpb24gXSA9IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCwgZXh0cmEgKSB7XG5cdFx0XHRpZiAoIGNvbXB1dGVkICkge1xuXG5cdFx0XHRcdC8vIENlcnRhaW4gZWxlbWVudHMgY2FuIGhhdmUgZGltZW5zaW9uIGluZm8gaWYgd2UgaW52aXNpYmx5IHNob3cgdGhlbVxuXHRcdFx0XHQvLyBidXQgaXQgbXVzdCBoYXZlIGEgY3VycmVudCBkaXNwbGF5IHN0eWxlIHRoYXQgd291bGQgYmVuZWZpdFxuXHRcdFx0XHRyZXR1cm4gcmRpc3BsYXlzd2FwLnRlc3QoIGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICkgKSAmJlxuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDgrXG5cdFx0XHRcdFx0Ly8gVGFibGUgY29sdW1ucyBpbiBTYWZhcmkgaGF2ZSBub24temVybyBvZmZzZXRXaWR0aCAmIHplcm9cblx0XHRcdFx0XHQvLyBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCB1bmxlc3MgZGlzcGxheSBpcyBjaGFuZ2VkLlxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHRcdFx0XHRcdC8vIFJ1bm5pbmcgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IG9uIGEgZGlzY29ubmVjdGVkIG5vZGVcblx0XHRcdFx0XHQvLyBpbiBJRSB0aHJvd3MgYW4gZXJyb3IuXG5cdFx0XHRcdFx0KCAhZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCB8fCAhZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCApID9cblx0XHRcdFx0XHRzd2FwKCBlbGVtLCBjc3NTaG93LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHJldHVybiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBkaW1lbnNpb24sIGV4dHJhICk7XG5cdFx0XHRcdFx0fSApIDpcblx0XHRcdFx0XHRnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBkaW1lbnNpb24sIGV4dHJhICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBleHRyYSApIHtcblx0XHRcdHZhciBtYXRjaGVzLFxuXHRcdFx0XHRzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKSxcblxuXHRcdFx0XHQvLyBPbmx5IHJlYWQgc3R5bGVzLnBvc2l0aW9uIGlmIHRoZSB0ZXN0IGhhcyBhIGNoYW5jZSB0byBmYWlsXG5cdFx0XHRcdC8vIHRvIGF2b2lkIGZvcmNpbmcgYSByZWZsb3cuXG5cdFx0XHRcdHNjcm9sbGJveFNpemVCdWdneSA9ICFzdXBwb3J0LnNjcm9sbGJveFNpemUoKSAmJlxuXHRcdFx0XHRcdHN0eWxlcy5wb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiLFxuXG5cdFx0XHRcdC8vIFRvIGF2b2lkIGZvcmNpbmcgYSByZWZsb3csIG9ubHkgZmV0Y2ggYm94U2l6aW5nIGlmIHdlIG5lZWQgaXQgKGdoLTM5OTEpXG5cdFx0XHRcdGJveFNpemluZ05lZWRlZCA9IHNjcm9sbGJveFNpemVCdWdneSB8fCBleHRyYSxcblx0XHRcdFx0aXNCb3JkZXJCb3ggPSBib3hTaXppbmdOZWVkZWQgJiZcblx0XHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiYm9yZGVyLWJveFwiLFxuXHRcdFx0XHRzdWJ0cmFjdCA9IGV4dHJhID9cblx0XHRcdFx0XHRib3hNb2RlbEFkanVzdG1lbnQoXG5cdFx0XHRcdFx0XHRlbGVtLFxuXHRcdFx0XHRcdFx0ZGltZW5zaW9uLFxuXHRcdFx0XHRcdFx0ZXh0cmEsXG5cdFx0XHRcdFx0XHRpc0JvcmRlckJveCxcblx0XHRcdFx0XHRcdHN0eWxlc1xuXHRcdFx0XHRcdCkgOlxuXHRcdFx0XHRcdDA7XG5cblx0XHRcdC8vIEFjY291bnQgZm9yIHVucmVsaWFibGUgYm9yZGVyLWJveCBkaW1lbnNpb25zIGJ5IGNvbXBhcmluZyBvZmZzZXQqIHRvIGNvbXB1dGVkIGFuZFxuXHRcdFx0Ly8gZmFraW5nIGEgY29udGVudC1ib3ggdG8gZ2V0IGJvcmRlciBhbmQgcGFkZGluZyAoZ2gtMzY5OSlcblx0XHRcdGlmICggaXNCb3JkZXJCb3ggJiYgc2Nyb2xsYm94U2l6ZUJ1Z2d5ICkge1xuXHRcdFx0XHRzdWJ0cmFjdCAtPSBNYXRoLmNlaWwoXG5cdFx0XHRcdFx0ZWxlbVsgXCJvZmZzZXRcIiArIGRpbWVuc2lvblsgMCBdLnRvVXBwZXJDYXNlKCkgKyBkaW1lbnNpb24uc2xpY2UoIDEgKSBdIC1cblx0XHRcdFx0XHRwYXJzZUZsb2F0KCBzdHlsZXNbIGRpbWVuc2lvbiBdICkgLVxuXHRcdFx0XHRcdGJveE1vZGVsQWRqdXN0bWVudCggZWxlbSwgZGltZW5zaW9uLCBcImJvcmRlclwiLCBmYWxzZSwgc3R5bGVzICkgLVxuXHRcdFx0XHRcdDAuNVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb252ZXJ0IHRvIHBpeGVscyBpZiB2YWx1ZSBhZGp1c3RtZW50IGlzIG5lZWRlZFxuXHRcdFx0aWYgKCBzdWJ0cmFjdCAmJiAoIG1hdGNoZXMgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJlxuXHRcdFx0XHQoIG1hdGNoZXNbIDMgXSB8fCBcInB4XCIgKSAhPT0gXCJweFwiICkge1xuXG5cdFx0XHRcdGVsZW0uc3R5bGVbIGRpbWVuc2lvbiBdID0gdmFsdWU7XG5cdFx0XHRcdHZhbHVlID0galF1ZXJ5LmNzcyggZWxlbSwgZGltZW5zaW9uICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICk7XG5cdFx0fVxuXHR9O1xufSApO1xuXG5qUXVlcnkuY3NzSG9va3MubWFyZ2luTGVmdCA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5yZWxpYWJsZU1hcmdpbkxlZnQsXG5cdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdFx0cmV0dXJuICggcGFyc2VGbG9hdCggY3VyQ1NTKCBlbGVtLCBcIm1hcmdpbkxlZnRcIiApICkgfHxcblx0XHRcdFx0ZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC1cblx0XHRcdFx0XHRzd2FwKCBlbGVtLCB7IG1hcmdpbkxlZnQ6IDAgfSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuXHRcdFx0XHRcdH0gKVxuXHRcdFx0KSArIFwicHhcIjtcblx0XHR9XG5cdH1cbik7XG5cbi8vIFRoZXNlIGhvb2tzIGFyZSB1c2VkIGJ5IGFuaW1hdGUgdG8gZXhwYW5kIHByb3BlcnRpZXNcbmpRdWVyeS5lYWNoKCB7XG5cdG1hcmdpbjogXCJcIixcblx0cGFkZGluZzogXCJcIixcblx0Ym9yZGVyOiBcIldpZHRoXCJcbn0sIGZ1bmN0aW9uKCBwcmVmaXgsIHN1ZmZpeCApIHtcblx0alF1ZXJ5LmNzc0hvb2tzWyBwcmVmaXggKyBzdWZmaXggXSA9IHtcblx0XHRleHBhbmQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBpID0gMCxcblx0XHRcdFx0ZXhwYW5kZWQgPSB7fSxcblxuXHRcdFx0XHQvLyBBc3N1bWVzIGEgc2luZ2xlIG51bWJlciBpZiBub3QgYSBzdHJpbmdcblx0XHRcdFx0cGFydHMgPSB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyB2YWx1ZS5zcGxpdCggXCIgXCIgKSA6IFsgdmFsdWUgXTtcblxuXHRcdFx0Zm9yICggOyBpIDwgNDsgaSsrICkge1xuXHRcdFx0XHRleHBhbmRlZFsgcHJlZml4ICsgY3NzRXhwYW5kWyBpIF0gKyBzdWZmaXggXSA9XG5cdFx0XHRcdFx0cGFydHNbIGkgXSB8fCBwYXJ0c1sgaSAtIDIgXSB8fCBwYXJ0c1sgMCBdO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZXhwYW5kZWQ7XG5cdFx0fVxuXHR9O1xuXG5cdGlmICggcHJlZml4ICE9PSBcIm1hcmdpblwiICkge1xuXHRcdGpRdWVyeS5jc3NIb29rc1sgcHJlZml4ICsgc3VmZml4IF0uc2V0ID0gc2V0UG9zaXRpdmVOdW1iZXI7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRjc3M6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgc3R5bGVzLCBsZW4sXG5cdFx0XHRcdG1hcCA9IHt9LFxuXHRcdFx0XHRpID0gMDtcblxuXHRcdFx0aWYgKCBBcnJheS5pc0FycmF5KCBuYW1lICkgKSB7XG5cdFx0XHRcdHN0eWxlcyA9IGdldFN0eWxlcyggZWxlbSApO1xuXHRcdFx0XHRsZW4gPSBuYW1lLmxlbmd0aDtcblxuXHRcdFx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0XHRtYXBbIG5hbWVbIGkgXSBdID0galF1ZXJ5LmNzcyggZWxlbSwgbmFtZVsgaSBdLCBmYWxzZSwgc3R5bGVzICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gbWFwO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgbmFtZSwgdmFsdWUgKSA6XG5cdFx0XHRcdGpRdWVyeS5jc3MoIGVsZW0sIG5hbWUgKTtcblx0XHR9LCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTtcblx0fVxufSApO1xuXG5cbmZ1bmN0aW9uIFR3ZWVuKCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZyApIHtcblx0cmV0dXJuIG5ldyBUd2Vlbi5wcm90b3R5cGUuaW5pdCggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcgKTtcbn1cbmpRdWVyeS5Ud2VlbiA9IFR3ZWVuO1xuXG5Ud2Vlbi5wcm90b3R5cGUgPSB7XG5cdGNvbnN0cnVjdG9yOiBUd2Vlbixcblx0aW5pdDogZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nLCB1bml0ICkge1xuXHRcdHRoaXMuZWxlbSA9IGVsZW07XG5cdFx0dGhpcy5wcm9wID0gcHJvcDtcblx0XHR0aGlzLmVhc2luZyA9IGVhc2luZyB8fCBqUXVlcnkuZWFzaW5nLl9kZWZhdWx0O1xuXHRcdHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cdFx0dGhpcy5zdGFydCA9IHRoaXMubm93ID0gdGhpcy5jdXIoKTtcblx0XHR0aGlzLmVuZCA9IGVuZDtcblx0XHR0aGlzLnVuaXQgPSB1bml0IHx8ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdID8gXCJcIiA6IFwicHhcIiApO1xuXHR9LFxuXHRjdXI6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBob29rcyA9IFR3ZWVuLnByb3BIb29rc1sgdGhpcy5wcm9wIF07XG5cblx0XHRyZXR1cm4gaG9va3MgJiYgaG9va3MuZ2V0ID9cblx0XHRcdGhvb2tzLmdldCggdGhpcyApIDpcblx0XHRcdFR3ZWVuLnByb3BIb29rcy5fZGVmYXVsdC5nZXQoIHRoaXMgKTtcblx0fSxcblx0cnVuOiBmdW5jdGlvbiggcGVyY2VudCApIHtcblx0XHR2YXIgZWFzZWQsXG5cdFx0XHRob29rcyA9IFR3ZWVuLnByb3BIb29rc1sgdGhpcy5wcm9wIF07XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kdXJhdGlvbiApIHtcblx0XHRcdHRoaXMucG9zID0gZWFzZWQgPSBqUXVlcnkuZWFzaW5nWyB0aGlzLmVhc2luZyBdKFxuXHRcdFx0XHRwZXJjZW50LCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKiBwZXJjZW50LCAwLCAxLCB0aGlzLm9wdGlvbnMuZHVyYXRpb25cblx0XHRcdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMucG9zID0gZWFzZWQgPSBwZXJjZW50O1xuXHRcdH1cblx0XHR0aGlzLm5vdyA9ICggdGhpcy5lbmQgLSB0aGlzLnN0YXJ0ICkgKiBlYXNlZCArIHRoaXMuc3RhcnQ7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5zdGVwICkge1xuXHRcdFx0dGhpcy5vcHRpb25zLnN0ZXAuY2FsbCggdGhpcy5lbGVtLCB0aGlzLm5vdywgdGhpcyApO1xuXHRcdH1cblxuXHRcdGlmICggaG9va3MgJiYgaG9va3Muc2V0ICkge1xuXHRcdFx0aG9va3Muc2V0KCB0aGlzICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdFR3ZWVuLnByb3BIb29rcy5fZGVmYXVsdC5zZXQoIHRoaXMgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cbn07XG5cblR3ZWVuLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZSA9IFR3ZWVuLnByb3RvdHlwZTtcblxuVHdlZW4ucHJvcEhvb2tzID0ge1xuXHRfZGVmYXVsdDoge1xuXHRcdGdldDogZnVuY3Rpb24oIHR3ZWVuICkge1xuXHRcdFx0dmFyIHJlc3VsdDtcblxuXHRcdFx0Ly8gVXNlIGEgcHJvcGVydHkgb24gdGhlIGVsZW1lbnQgZGlyZWN0bHkgd2hlbiBpdCBpcyBub3QgYSBET00gZWxlbWVudCxcblx0XHRcdC8vIG9yIHdoZW4gdGhlcmUgaXMgbm8gbWF0Y2hpbmcgc3R5bGUgcHJvcGVydHkgdGhhdCBleGlzdHMuXG5cdFx0XHRpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgIT09IDEgfHxcblx0XHRcdFx0dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdICE9IG51bGwgJiYgdHdlZW4uZWxlbS5zdHlsZVsgdHdlZW4ucHJvcCBdID09IG51bGwgKSB7XG5cdFx0XHRcdHJldHVybiB0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF07XG5cdFx0XHR9XG5cblx0XHRcdC8vIFBhc3NpbmcgYW4gZW1wdHkgc3RyaW5nIGFzIGEgM3JkIHBhcmFtZXRlciB0byAuY3NzIHdpbGwgYXV0b21hdGljYWxseVxuXHRcdFx0Ly8gYXR0ZW1wdCBhIHBhcnNlRmxvYXQgYW5kIGZhbGxiYWNrIHRvIGEgc3RyaW5nIGlmIHRoZSBwYXJzZSBmYWlscy5cblx0XHRcdC8vIFNpbXBsZSB2YWx1ZXMgc3VjaCBhcyBcIjEwcHhcIiBhcmUgcGFyc2VkIHRvIEZsb2F0O1xuXHRcdFx0Ly8gY29tcGxleCB2YWx1ZXMgc3VjaCBhcyBcInJvdGF0ZSgxcmFkKVwiIGFyZSByZXR1cm5lZCBhcy1pcy5cblx0XHRcdHJlc3VsdCA9IGpRdWVyeS5jc3MoIHR3ZWVuLmVsZW0sIHR3ZWVuLnByb3AsIFwiXCIgKTtcblxuXHRcdFx0Ly8gRW1wdHkgc3RyaW5ncywgbnVsbCwgdW5kZWZpbmVkIGFuZCBcImF1dG9cIiBhcmUgY29udmVydGVkIHRvIDAuXG5cdFx0XHRyZXR1cm4gIXJlc3VsdCB8fCByZXN1bHQgPT09IFwiYXV0b1wiID8gMCA6IHJlc3VsdDtcblx0XHR9LFxuXHRcdHNldDogZnVuY3Rpb24oIHR3ZWVuICkge1xuXG5cdFx0XHQvLyBVc2Ugc3RlcCBob29rIGZvciBiYWNrIGNvbXBhdC5cblx0XHRcdC8vIFVzZSBjc3NIb29rIGlmIGl0cyB0aGVyZS5cblx0XHRcdC8vIFVzZSAuc3R5bGUgaWYgYXZhaWxhYmxlIGFuZCB1c2UgcGxhaW4gcHJvcGVydGllcyB3aGVyZSBhdmFpbGFibGUuXG5cdFx0XHRpZiAoIGpRdWVyeS5meC5zdGVwWyB0d2Vlbi5wcm9wIF0gKSB7XG5cdFx0XHRcdGpRdWVyeS5meC5zdGVwWyB0d2Vlbi5wcm9wIF0oIHR3ZWVuICk7XG5cdFx0XHR9IGVsc2UgaWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlID09PSAxICYmIChcblx0XHRcdFx0alF1ZXJ5LmNzc0hvb2tzWyB0d2Vlbi5wcm9wIF0gfHxcblx0XHRcdFx0XHR0d2Vlbi5lbGVtLnN0eWxlWyBmaW5hbFByb3BOYW1lKCB0d2Vlbi5wcm9wICkgXSAhPSBudWxsICkgKSB7XG5cdFx0XHRcdGpRdWVyeS5zdHlsZSggdHdlZW4uZWxlbSwgdHdlZW4ucHJvcCwgdHdlZW4ubm93ICsgdHdlZW4udW5pdCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdID0gdHdlZW4ubm93O1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufTtcblxuLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbi8vIFBhbmljIGJhc2VkIGFwcHJvYWNoIHRvIHNldHRpbmcgdGhpbmdzIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuVHdlZW4ucHJvcEhvb2tzLnNjcm9sbFRvcCA9IFR3ZWVuLnByb3BIb29rcy5zY3JvbGxMZWZ0ID0ge1xuXHRzZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblx0XHRpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgJiYgdHdlZW4uZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdID0gdHdlZW4ubm93O1xuXHRcdH1cblx0fVxufTtcblxualF1ZXJ5LmVhc2luZyA9IHtcblx0bGluZWFyOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gcDtcblx0fSxcblx0c3dpbmc6IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiAwLjUgLSBNYXRoLmNvcyggcCAqIE1hdGguUEkgKSAvIDI7XG5cdH0sXG5cdF9kZWZhdWx0OiBcInN3aW5nXCJcbn07XG5cbmpRdWVyeS5meCA9IFR3ZWVuLnByb3RvdHlwZS5pbml0O1xuXG4vLyBCYWNrIGNvbXBhdCA8MS44IGV4dGVuc2lvbiBwb2ludFxualF1ZXJ5LmZ4LnN0ZXAgPSB7fTtcblxuXG5cblxudmFyXG5cdGZ4Tm93LCBpblByb2dyZXNzLFxuXHRyZnh0eXBlcyA9IC9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxcblx0cnJ1biA9IC9xdWV1ZUhvb2tzJC87XG5cbmZ1bmN0aW9uIHNjaGVkdWxlKCkge1xuXHRpZiAoIGluUHJvZ3Jlc3MgKSB7XG5cdFx0aWYgKCBkb2N1bWVudC5oaWRkZW4gPT09IGZhbHNlICYmIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgKSB7XG5cdFx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCBzY2hlZHVsZSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR3aW5kb3cuc2V0VGltZW91dCggc2NoZWR1bGUsIGpRdWVyeS5meC5pbnRlcnZhbCApO1xuXHRcdH1cblxuXHRcdGpRdWVyeS5meC50aWNrKCk7XG5cdH1cbn1cblxuLy8gQW5pbWF0aW9ucyBjcmVhdGVkIHN5bmNocm9ub3VzbHkgd2lsbCBydW4gc3luY2hyb25vdXNseVxuZnVuY3Rpb24gY3JlYXRlRnhOb3coKSB7XG5cdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRmeE5vdyA9IHVuZGVmaW5lZDtcblx0fSApO1xuXHRyZXR1cm4gKCBmeE5vdyA9IERhdGUubm93KCkgKTtcbn1cblxuLy8gR2VuZXJhdGUgcGFyYW1ldGVycyB0byBjcmVhdGUgYSBzdGFuZGFyZCBhbmltYXRpb25cbmZ1bmN0aW9uIGdlbkZ4KCB0eXBlLCBpbmNsdWRlV2lkdGggKSB7XG5cdHZhciB3aGljaCxcblx0XHRpID0gMCxcblx0XHRhdHRycyA9IHsgaGVpZ2h0OiB0eXBlIH07XG5cblx0Ly8gSWYgd2UgaW5jbHVkZSB3aWR0aCwgc3RlcCB2YWx1ZSBpcyAxIHRvIGRvIGFsbCBjc3NFeHBhbmQgdmFsdWVzLFxuXHQvLyBvdGhlcndpc2Ugc3RlcCB2YWx1ZSBpcyAyIHRvIHNraXAgb3ZlciBMZWZ0IGFuZCBSaWdodFxuXHRpbmNsdWRlV2lkdGggPSBpbmNsdWRlV2lkdGggPyAxIDogMDtcblx0Zm9yICggOyBpIDwgNDsgaSArPSAyIC0gaW5jbHVkZVdpZHRoICkge1xuXHRcdHdoaWNoID0gY3NzRXhwYW5kWyBpIF07XG5cdFx0YXR0cnNbIFwibWFyZ2luXCIgKyB3aGljaCBdID0gYXR0cnNbIFwicGFkZGluZ1wiICsgd2hpY2ggXSA9IHR5cGU7XG5cdH1cblxuXHRpZiAoIGluY2x1ZGVXaWR0aCApIHtcblx0XHRhdHRycy5vcGFjaXR5ID0gYXR0cnMud2lkdGggPSB0eXBlO1xuXHR9XG5cblx0cmV0dXJuIGF0dHJzO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUd2VlbiggdmFsdWUsIHByb3AsIGFuaW1hdGlvbiApIHtcblx0dmFyIHR3ZWVuLFxuXHRcdGNvbGxlY3Rpb24gPSAoIEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdIHx8IFtdICkuY29uY2F0KCBBbmltYXRpb24udHdlZW5lcnNbIFwiKlwiIF0gKSxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG5cdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0aWYgKCAoIHR3ZWVuID0gY29sbGVjdGlvblsgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIHByb3AsIHZhbHVlICkgKSApIHtcblxuXHRcdFx0Ly8gV2UncmUgZG9uZSB3aXRoIHRoaXMgcHJvcGVydHlcblx0XHRcdHJldHVybiB0d2Vlbjtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gZGVmYXVsdFByZWZpbHRlciggZWxlbSwgcHJvcHMsIG9wdHMgKSB7XG5cdHZhciBwcm9wLCB2YWx1ZSwgdG9nZ2xlLCBob29rcywgb2xkZmlyZSwgcHJvcFR3ZWVuLCByZXN0b3JlRGlzcGxheSwgZGlzcGxheSxcblx0XHRpc0JveCA9IFwid2lkdGhcIiBpbiBwcm9wcyB8fCBcImhlaWdodFwiIGluIHByb3BzLFxuXHRcdGFuaW0gPSB0aGlzLFxuXHRcdG9yaWcgPSB7fSxcblx0XHRzdHlsZSA9IGVsZW0uc3R5bGUsXG5cdFx0aGlkZGVuID0gZWxlbS5ub2RlVHlwZSAmJiBpc0hpZGRlbldpdGhpblRyZWUoIGVsZW0gKSxcblx0XHRkYXRhU2hvdyA9IGRhdGFQcml2LmdldCggZWxlbSwgXCJmeHNob3dcIiApO1xuXG5cdC8vIFF1ZXVlLXNraXBwaW5nIGFuaW1hdGlvbnMgaGlqYWNrIHRoZSBmeCBob29rc1xuXHRpZiAoICFvcHRzLnF1ZXVlICkge1xuXHRcdGhvb2tzID0galF1ZXJ5Ll9xdWV1ZUhvb2tzKCBlbGVtLCBcImZ4XCIgKTtcblx0XHRpZiAoIGhvb2tzLnVucXVldWVkID09IG51bGwgKSB7XG5cdFx0XHRob29rcy51bnF1ZXVlZCA9IDA7XG5cdFx0XHRvbGRmaXJlID0gaG9va3MuZW1wdHkuZmlyZTtcblx0XHRcdGhvb2tzLmVtcHR5LmZpcmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAhaG9va3MudW5xdWV1ZWQgKSB7XG5cdFx0XHRcdFx0b2xkZmlyZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblx0XHRob29rcy51bnF1ZXVlZCsrO1xuXG5cdFx0YW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBFbnN1cmUgdGhlIGNvbXBsZXRlIGhhbmRsZXIgaXMgY2FsbGVkIGJlZm9yZSB0aGlzIGNvbXBsZXRlc1xuXHRcdFx0YW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRob29rcy51bnF1ZXVlZC0tO1xuXHRcdFx0XHRpZiAoICFqUXVlcnkucXVldWUoIGVsZW0sIFwiZnhcIiApLmxlbmd0aCApIHtcblx0XHRcdFx0XHRob29rcy5lbXB0eS5maXJlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBEZXRlY3Qgc2hvdy9oaWRlIGFuaW1hdGlvbnNcblx0Zm9yICggcHJvcCBpbiBwcm9wcyApIHtcblx0XHR2YWx1ZSA9IHByb3BzWyBwcm9wIF07XG5cdFx0aWYgKCByZnh0eXBlcy50ZXN0KCB2YWx1ZSApICkge1xuXHRcdFx0ZGVsZXRlIHByb3BzWyBwcm9wIF07XG5cdFx0XHR0b2dnbGUgPSB0b2dnbGUgfHwgdmFsdWUgPT09IFwidG9nZ2xlXCI7XG5cdFx0XHRpZiAoIHZhbHVlID09PSAoIGhpZGRlbiA/IFwiaGlkZVwiIDogXCJzaG93XCIgKSApIHtcblxuXHRcdFx0XHQvLyBQcmV0ZW5kIHRvIGJlIGhpZGRlbiBpZiB0aGlzIGlzIGEgXCJzaG93XCIgYW5kXG5cdFx0XHRcdC8vIHRoZXJlIGlzIHN0aWxsIGRhdGEgZnJvbSBhIHN0b3BwZWQgc2hvdy9oaWRlXG5cdFx0XHRcdGlmICggdmFsdWUgPT09IFwic2hvd1wiICYmIGRhdGFTaG93ICYmIGRhdGFTaG93WyBwcm9wIF0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRoaWRkZW4gPSB0cnVlO1xuXG5cdFx0XHRcdC8vIElnbm9yZSBhbGwgb3RoZXIgbm8tb3Agc2hvdy9oaWRlIGRhdGFcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0b3JpZ1sgcHJvcCBdID0gZGF0YVNob3cgJiYgZGF0YVNob3dbIHByb3AgXSB8fCBqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBCYWlsIG91dCBpZiB0aGlzIGlzIGEgbm8tb3AgbGlrZSAuaGlkZSgpLmhpZGUoKVxuXHRwcm9wVHdlZW4gPSAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoIHByb3BzICk7XG5cdGlmICggIXByb3BUd2VlbiAmJiBqUXVlcnkuaXNFbXB0eU9iamVjdCggb3JpZyApICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIFJlc3RyaWN0IFwib3ZlcmZsb3dcIiBhbmQgXCJkaXNwbGF5XCIgc3R5bGVzIGR1cmluZyBib3ggYW5pbWF0aW9uc1xuXHRpZiAoIGlzQm94ICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSwgRWRnZSAxMiAtIDE1XG5cdFx0Ly8gUmVjb3JkIGFsbCAzIG92ZXJmbG93IGF0dHJpYnV0ZXMgYmVjYXVzZSBJRSBkb2VzIG5vdCBpbmZlciB0aGUgc2hvcnRoYW5kXG5cdFx0Ly8gZnJvbSBpZGVudGljYWxseS12YWx1ZWQgb3ZlcmZsb3dYIGFuZCBvdmVyZmxvd1kgYW5kIEVkZ2UganVzdCBtaXJyb3JzXG5cdFx0Ly8gdGhlIG92ZXJmbG93WCB2YWx1ZSB0aGVyZS5cblx0XHRvcHRzLm92ZXJmbG93ID0gWyBzdHlsZS5vdmVyZmxvdywgc3R5bGUub3ZlcmZsb3dYLCBzdHlsZS5vdmVyZmxvd1kgXTtcblxuXHRcdC8vIElkZW50aWZ5IGEgZGlzcGxheSB0eXBlLCBwcmVmZXJyaW5nIG9sZCBzaG93L2hpZGUgZGF0YSBvdmVyIHRoZSBDU1MgY2FzY2FkZVxuXHRcdHJlc3RvcmVEaXNwbGF5ID0gZGF0YVNob3cgJiYgZGF0YVNob3cuZGlzcGxheTtcblx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ID09IG51bGwgKSB7XG5cdFx0XHRyZXN0b3JlRGlzcGxheSA9IGRhdGFQcml2LmdldCggZWxlbSwgXCJkaXNwbGF5XCIgKTtcblx0XHR9XG5cdFx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICk7XG5cdFx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRcdGlmICggcmVzdG9yZURpc3BsYXkgKSB7XG5cdFx0XHRcdGRpc3BsYXkgPSByZXN0b3JlRGlzcGxheTtcblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gR2V0IG5vbmVtcHR5IHZhbHVlKHMpIGJ5IHRlbXBvcmFyaWx5IGZvcmNpbmcgdmlzaWJpbGl0eVxuXHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0sIHRydWUgKTtcblx0XHRcdFx0cmVzdG9yZURpc3BsYXkgPSBlbGVtLnN0eWxlLmRpc3BsYXkgfHwgcmVzdG9yZURpc3BsYXk7XG5cdFx0XHRcdGRpc3BsYXkgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApO1xuXHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBBbmltYXRlIGlubGluZSBlbGVtZW50cyBhcyBpbmxpbmUtYmxvY2tcblx0XHRpZiAoIGRpc3BsYXkgPT09IFwiaW5saW5lXCIgfHwgZGlzcGxheSA9PT0gXCJpbmxpbmUtYmxvY2tcIiAmJiByZXN0b3JlRGlzcGxheSAhPSBudWxsICkge1xuXHRcdFx0aWYgKCBqUXVlcnkuY3NzKCBlbGVtLCBcImZsb2F0XCIgKSA9PT0gXCJub25lXCIgKSB7XG5cblx0XHRcdFx0Ly8gUmVzdG9yZSB0aGUgb3JpZ2luYWwgZGlzcGxheSB2YWx1ZSBhdCB0aGUgZW5kIG9mIHB1cmUgc2hvdy9oaWRlIGFuaW1hdGlvbnNcblx0XHRcdFx0aWYgKCAhcHJvcFR3ZWVuICkge1xuXHRcdFx0XHRcdGFuaW0uZG9uZSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRzdHlsZS5kaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7XG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdGlmICggcmVzdG9yZURpc3BsYXkgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdGRpc3BsYXkgPSBzdHlsZS5kaXNwbGF5O1xuXHRcdFx0XHRcdFx0cmVzdG9yZURpc3BsYXkgPSBkaXNwbGF5ID09PSBcIm5vbmVcIiA/IFwiXCIgOiBkaXNwbGF5O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRzdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAoIG9wdHMub3ZlcmZsb3cgKSB7XG5cdFx0c3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuXHRcdGFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHtcblx0XHRcdHN0eWxlLm92ZXJmbG93ID0gb3B0cy5vdmVyZmxvd1sgMCBdO1xuXHRcdFx0c3R5bGUub3ZlcmZsb3dYID0gb3B0cy5vdmVyZmxvd1sgMSBdO1xuXHRcdFx0c3R5bGUub3ZlcmZsb3dZID0gb3B0cy5vdmVyZmxvd1sgMiBdO1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIEltcGxlbWVudCBzaG93L2hpZGUgYW5pbWF0aW9uc1xuXHRwcm9wVHdlZW4gPSBmYWxzZTtcblx0Zm9yICggcHJvcCBpbiBvcmlnICkge1xuXG5cdFx0Ly8gR2VuZXJhbCBzaG93L2hpZGUgc2V0dXAgZm9yIHRoaXMgZWxlbWVudCBhbmltYXRpb25cblx0XHRpZiAoICFwcm9wVHdlZW4gKSB7XG5cdFx0XHRpZiAoIGRhdGFTaG93ICkge1xuXHRcdFx0XHRpZiAoIFwiaGlkZGVuXCIgaW4gZGF0YVNob3cgKSB7XG5cdFx0XHRcdFx0aGlkZGVuID0gZGF0YVNob3cuaGlkZGVuO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkYXRhU2hvdyA9IGRhdGFQcml2LmFjY2VzcyggZWxlbSwgXCJmeHNob3dcIiwgeyBkaXNwbGF5OiByZXN0b3JlRGlzcGxheSB9ICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0b3JlIGhpZGRlbi92aXNpYmxlIGZvciB0b2dnbGUgc28gYC5zdG9wKCkudG9nZ2xlKClgIFwicmV2ZXJzZXNcIlxuXHRcdFx0aWYgKCB0b2dnbGUgKSB7XG5cdFx0XHRcdGRhdGFTaG93LmhpZGRlbiA9ICFoaWRkZW47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNob3cgZWxlbWVudHMgYmVmb3JlIGFuaW1hdGluZyB0aGVtXG5cdFx0XHRpZiAoIGhpZGRlbiApIHtcblx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdLCB0cnVlICk7XG5cdFx0XHR9XG5cblx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWxvb3AtZnVuYyAqL1xuXG5cdFx0XHRhbmltLmRvbmUoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8qIGVzbGludC1lbmFibGUgbm8tbG9vcC1mdW5jICovXG5cblx0XHRcdFx0Ly8gVGhlIGZpbmFsIHN0ZXAgb2YgYSBcImhpZGVcIiBhbmltYXRpb24gaXMgYWN0dWFsbHkgaGlkaW5nIHRoZSBlbGVtZW50XG5cdFx0XHRcdGlmICggIWhpZGRlbiApIHtcblx0XHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFwiZnhzaG93XCIgKTtcblx0XHRcdFx0Zm9yICggcHJvcCBpbiBvcmlnICkge1xuXHRcdFx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgb3JpZ1sgcHJvcCBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHQvLyBQZXItcHJvcGVydHkgc2V0dXBcblx0XHRwcm9wVHdlZW4gPSBjcmVhdGVUd2VlbiggaGlkZGVuID8gZGF0YVNob3dbIHByb3AgXSA6IDAsIHByb3AsIGFuaW0gKTtcblx0XHRpZiAoICEoIHByb3AgaW4gZGF0YVNob3cgKSApIHtcblx0XHRcdGRhdGFTaG93WyBwcm9wIF0gPSBwcm9wVHdlZW4uc3RhcnQ7XG5cdFx0XHRpZiAoIGhpZGRlbiApIHtcblx0XHRcdFx0cHJvcFR3ZWVuLmVuZCA9IHByb3BUd2Vlbi5zdGFydDtcblx0XHRcdFx0cHJvcFR3ZWVuLnN0YXJ0ID0gMDtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gcHJvcEZpbHRlciggcHJvcHMsIHNwZWNpYWxFYXNpbmcgKSB7XG5cdHZhciBpbmRleCwgbmFtZSwgZWFzaW5nLCB2YWx1ZSwgaG9va3M7XG5cblx0Ly8gY2FtZWxDYXNlLCBzcGVjaWFsRWFzaW5nIGFuZCBleHBhbmQgY3NzSG9vayBwYXNzXG5cdGZvciAoIGluZGV4IGluIHByb3BzICkge1xuXHRcdG5hbWUgPSBjYW1lbENhc2UoIGluZGV4ICk7XG5cdFx0ZWFzaW5nID0gc3BlY2lhbEVhc2luZ1sgbmFtZSBdO1xuXHRcdHZhbHVlID0gcHJvcHNbIGluZGV4IF07XG5cdFx0aWYgKCBBcnJheS5pc0FycmF5KCB2YWx1ZSApICkge1xuXHRcdFx0ZWFzaW5nID0gdmFsdWVbIDEgXTtcblx0XHRcdHZhbHVlID0gcHJvcHNbIGluZGV4IF0gPSB2YWx1ZVsgMCBdO1xuXHRcdH1cblxuXHRcdGlmICggaW5kZXggIT09IG5hbWUgKSB7XG5cdFx0XHRwcm9wc1sgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRkZWxldGUgcHJvcHNbIGluZGV4IF07XG5cdFx0fVxuXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXTtcblx0XHRpZiAoIGhvb2tzICYmIFwiZXhwYW5kXCIgaW4gaG9va3MgKSB7XG5cdFx0XHR2YWx1ZSA9IGhvb2tzLmV4cGFuZCggdmFsdWUgKTtcblx0XHRcdGRlbGV0ZSBwcm9wc1sgbmFtZSBdO1xuXG5cdFx0XHQvLyBOb3QgcXVpdGUgJC5leHRlbmQsIHRoaXMgd29uJ3Qgb3ZlcndyaXRlIGV4aXN0aW5nIGtleXMuXG5cdFx0XHQvLyBSZXVzaW5nICdpbmRleCcgYmVjYXVzZSB3ZSBoYXZlIHRoZSBjb3JyZWN0IFwibmFtZVwiXG5cdFx0XHRmb3IgKCBpbmRleCBpbiB2YWx1ZSApIHtcblx0XHRcdFx0aWYgKCAhKCBpbmRleCBpbiBwcm9wcyApICkge1xuXHRcdFx0XHRcdHByb3BzWyBpbmRleCBdID0gdmFsdWVbIGluZGV4IF07XG5cdFx0XHRcdFx0c3BlY2lhbEVhc2luZ1sgaW5kZXggXSA9IGVhc2luZztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRzcGVjaWFsRWFzaW5nWyBuYW1lIF0gPSBlYXNpbmc7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIEFuaW1hdGlvbiggZWxlbSwgcHJvcGVydGllcywgb3B0aW9ucyApIHtcblx0dmFyIHJlc3VsdCxcblx0XHRzdG9wcGVkLFxuXHRcdGluZGV4ID0gMCxcblx0XHRsZW5ndGggPSBBbmltYXRpb24ucHJlZmlsdGVycy5sZW5ndGgsXG5cdFx0ZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBEb24ndCBtYXRjaCBlbGVtIGluIHRoZSA6YW5pbWF0ZWQgc2VsZWN0b3Jcblx0XHRcdGRlbGV0ZSB0aWNrLmVsZW07XG5cdFx0fSApLFxuXHRcdHRpY2sgPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggc3RvcHBlZCApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGN1cnJlbnRUaW1lID0gZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcblx0XHRcdFx0cmVtYWluaW5nID0gTWF0aC5tYXgoIDAsIGFuaW1hdGlvbi5zdGFydFRpbWUgKyBhbmltYXRpb24uZHVyYXRpb24gLSBjdXJyZW50VGltZSApLFxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgMi4zIG9ubHlcblx0XHRcdFx0Ly8gQXJjaGFpYyBjcmFzaCBidWcgd29uJ3QgYWxsb3cgdXMgdG8gdXNlIGAxIC0gKCAwLjUgfHwgMCApYCAodHJhYy0xMjQ5Nylcblx0XHRcdFx0dGVtcCA9IHJlbWFpbmluZyAvIGFuaW1hdGlvbi5kdXJhdGlvbiB8fCAwLFxuXHRcdFx0XHRwZXJjZW50ID0gMSAtIHRlbXAsXG5cdFx0XHRcdGluZGV4ID0gMCxcblx0XHRcdFx0bGVuZ3RoID0gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGg7XG5cblx0XHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRcdGFuaW1hdGlvbi50d2VlbnNbIGluZGV4IF0ucnVuKCBwZXJjZW50ICk7XG5cdFx0XHR9XG5cblx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBwZXJjZW50LCByZW1haW5pbmcgXSApO1xuXG5cdFx0XHQvLyBJZiB0aGVyZSdzIG1vcmUgdG8gZG8sIHlpZWxkXG5cdFx0XHRpZiAoIHBlcmNlbnQgPCAxICYmIGxlbmd0aCApIHtcblx0XHRcdFx0cmV0dXJuIHJlbWFpbmluZztcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdGhpcyB3YXMgYW4gZW1wdHkgYW5pbWF0aW9uLCBzeW50aGVzaXplIGEgZmluYWwgcHJvZ3Jlc3Mgbm90aWZpY2F0aW9uXG5cdFx0XHRpZiAoICFsZW5ndGggKSB7XG5cdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCAxLCAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVzb2x2ZSB0aGUgYW5pbWF0aW9uIGFuZCByZXBvcnQgaXRzIGNvbmNsdXNpb25cblx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiBdICk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSxcblx0XHRhbmltYXRpb24gPSBkZWZlcnJlZC5wcm9taXNlKCB7XG5cdFx0XHRlbGVtOiBlbGVtLFxuXHRcdFx0cHJvcHM6IGpRdWVyeS5leHRlbmQoIHt9LCBwcm9wZXJ0aWVzICksXG5cdFx0XHRvcHRzOiBqUXVlcnkuZXh0ZW5kKCB0cnVlLCB7XG5cdFx0XHRcdHNwZWNpYWxFYXNpbmc6IHt9LFxuXHRcdFx0XHRlYXNpbmc6IGpRdWVyeS5lYXNpbmcuX2RlZmF1bHRcblx0XHRcdH0sIG9wdGlvbnMgKSxcblx0XHRcdG9yaWdpbmFsUHJvcGVydGllczogcHJvcGVydGllcyxcblx0XHRcdG9yaWdpbmFsT3B0aW9uczogb3B0aW9ucyxcblx0XHRcdHN0YXJ0VGltZTogZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcblx0XHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdFx0dHdlZW5zOiBbXSxcblx0XHRcdGNyZWF0ZVR3ZWVuOiBmdW5jdGlvbiggcHJvcCwgZW5kICkge1xuXHRcdFx0XHR2YXIgdHdlZW4gPSBqUXVlcnkuVHdlZW4oIGVsZW0sIGFuaW1hdGlvbi5vcHRzLCBwcm9wLCBlbmQsXG5cdFx0XHRcdFx0YW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZ1sgcHJvcCBdIHx8IGFuaW1hdGlvbi5vcHRzLmVhc2luZyApO1xuXHRcdFx0XHRhbmltYXRpb24udHdlZW5zLnB1c2goIHR3ZWVuICk7XG5cdFx0XHRcdHJldHVybiB0d2Vlbjtcblx0XHRcdH0sXG5cdFx0XHRzdG9wOiBmdW5jdGlvbiggZ290b0VuZCApIHtcblx0XHRcdFx0dmFyIGluZGV4ID0gMCxcblxuXHRcdFx0XHRcdC8vIElmIHdlIGFyZSBnb2luZyB0byB0aGUgZW5kLCB3ZSB3YW50IHRvIHJ1biBhbGwgdGhlIHR3ZWVuc1xuXHRcdFx0XHRcdC8vIG90aGVyd2lzZSB3ZSBza2lwIHRoaXMgcGFydFxuXHRcdFx0XHRcdGxlbmd0aCA9IGdvdG9FbmQgPyBhbmltYXRpb24udHdlZW5zLmxlbmd0aCA6IDA7XG5cdFx0XHRcdGlmICggc3RvcHBlZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXHRcdFx0XHRzdG9wcGVkID0gdHJ1ZTtcblx0XHRcdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggMSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVzb2x2ZSB3aGVuIHdlIHBsYXllZCB0aGUgbGFzdCBmcmFtZTsgb3RoZXJ3aXNlLCByZWplY3Rcblx0XHRcdFx0aWYgKCBnb3RvRW5kICkge1xuXHRcdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCAxLCAwIF0gKTtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBnb3RvRW5kIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblx0XHR9ICksXG5cdFx0cHJvcHMgPSBhbmltYXRpb24ucHJvcHM7XG5cblx0cHJvcEZpbHRlciggcHJvcHMsIGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmcgKTtcblxuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdHJlc3VsdCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgZWxlbSwgcHJvcHMsIGFuaW1hdGlvbi5vcHRzICk7XG5cdFx0aWYgKCByZXN1bHQgKSB7XG5cdFx0XHRpZiAoIGlzRnVuY3Rpb24oIHJlc3VsdC5zdG9wICkgKSB7XG5cdFx0XHRcdGpRdWVyeS5fcXVldWVIb29rcyggYW5pbWF0aW9uLmVsZW0sIGFuaW1hdGlvbi5vcHRzLnF1ZXVlICkuc3RvcCA9XG5cdFx0XHRcdFx0cmVzdWx0LnN0b3AuYmluZCggcmVzdWx0ICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblx0fVxuXG5cdGpRdWVyeS5tYXAoIHByb3BzLCBjcmVhdGVUd2VlbiwgYW5pbWF0aW9uICk7XG5cblx0aWYgKCBpc0Z1bmN0aW9uKCBhbmltYXRpb24ub3B0cy5zdGFydCApICkge1xuXHRcdGFuaW1hdGlvbi5vcHRzLnN0YXJ0LmNhbGwoIGVsZW0sIGFuaW1hdGlvbiApO1xuXHR9XG5cblx0Ly8gQXR0YWNoIGNhbGxiYWNrcyBmcm9tIG9wdGlvbnNcblx0YW5pbWF0aW9uXG5cdFx0LnByb2dyZXNzKCBhbmltYXRpb24ub3B0cy5wcm9ncmVzcyApXG5cdFx0LmRvbmUoIGFuaW1hdGlvbi5vcHRzLmRvbmUsIGFuaW1hdGlvbi5vcHRzLmNvbXBsZXRlIClcblx0XHQuZmFpbCggYW5pbWF0aW9uLm9wdHMuZmFpbCApXG5cdFx0LmFsd2F5cyggYW5pbWF0aW9uLm9wdHMuYWx3YXlzICk7XG5cblx0alF1ZXJ5LmZ4LnRpbWVyKFxuXHRcdGpRdWVyeS5leHRlbmQoIHRpY2ssIHtcblx0XHRcdGVsZW06IGVsZW0sXG5cdFx0XHRhbmltOiBhbmltYXRpb24sXG5cdFx0XHRxdWV1ZTogYW5pbWF0aW9uLm9wdHMucXVldWVcblx0XHR9IClcblx0KTtcblxuXHRyZXR1cm4gYW5pbWF0aW9uO1xufVxuXG5qUXVlcnkuQW5pbWF0aW9uID0galF1ZXJ5LmV4dGVuZCggQW5pbWF0aW9uLCB7XG5cblx0dHdlZW5lcnM6IHtcblx0XHRcIipcIjogWyBmdW5jdGlvbiggcHJvcCwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgdHdlZW4gPSB0aGlzLmNyZWF0ZVR3ZWVuKCBwcm9wLCB2YWx1ZSApO1xuXHRcdFx0YWRqdXN0Q1NTKCB0d2Vlbi5lbGVtLCBwcm9wLCByY3NzTnVtLmV4ZWMoIHZhbHVlICksIHR3ZWVuICk7XG5cdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0fSBdXG5cdH0sXG5cblx0dHdlZW5lcjogZnVuY3Rpb24oIHByb3BzLCBjYWxsYmFjayApIHtcblx0XHRpZiAoIGlzRnVuY3Rpb24oIHByb3BzICkgKSB7XG5cdFx0XHRjYWxsYmFjayA9IHByb3BzO1xuXHRcdFx0cHJvcHMgPSBbIFwiKlwiIF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHByb3BzID0gcHJvcHMubWF0Y2goIHJub3RodG1sd2hpdGUgKTtcblx0XHR9XG5cblx0XHR2YXIgcHJvcCxcblx0XHRcdGluZGV4ID0gMCxcblx0XHRcdGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuXHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRwcm9wID0gcHJvcHNbIGluZGV4IF07XG5cdFx0XHRBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSA9IEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdIHx8IFtdO1xuXHRcdFx0QW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0udW5zaGlmdCggY2FsbGJhY2sgKTtcblx0XHR9XG5cdH0sXG5cblx0cHJlZmlsdGVyczogWyBkZWZhdWx0UHJlZmlsdGVyIF0sXG5cblx0cHJlZmlsdGVyOiBmdW5jdGlvbiggY2FsbGJhY2ssIHByZXBlbmQgKSB7XG5cdFx0aWYgKCBwcmVwZW5kICkge1xuXHRcdFx0QW5pbWF0aW9uLnByZWZpbHRlcnMudW5zaGlmdCggY2FsbGJhY2sgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0QW5pbWF0aW9uLnByZWZpbHRlcnMucHVzaCggY2FsbGJhY2sgKTtcblx0XHR9XG5cdH1cbn0gKTtcblxualF1ZXJ5LnNwZWVkID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGZuICkge1xuXHR2YXIgb3B0ID0gc3BlZWQgJiYgdHlwZW9mIHNwZWVkID09PSBcIm9iamVjdFwiID8galF1ZXJ5LmV4dGVuZCgge30sIHNwZWVkICkgOiB7XG5cdFx0Y29tcGxldGU6IGZuIHx8ICFmbiAmJiBlYXNpbmcgfHxcblx0XHRcdGlzRnVuY3Rpb24oIHNwZWVkICkgJiYgc3BlZWQsXG5cdFx0ZHVyYXRpb246IHNwZWVkLFxuXHRcdGVhc2luZzogZm4gJiYgZWFzaW5nIHx8IGVhc2luZyAmJiAhaXNGdW5jdGlvbiggZWFzaW5nICkgJiYgZWFzaW5nXG5cdH07XG5cblx0Ly8gR28gdG8gdGhlIGVuZCBzdGF0ZSBpZiBmeCBhcmUgb2ZmXG5cdGlmICggalF1ZXJ5LmZ4Lm9mZiApIHtcblx0XHRvcHQuZHVyYXRpb24gPSAwO1xuXG5cdH0gZWxzZSB7XG5cdFx0aWYgKCB0eXBlb2Ygb3B0LmR1cmF0aW9uICE9PSBcIm51bWJlclwiICkge1xuXHRcdFx0aWYgKCBvcHQuZHVyYXRpb24gaW4galF1ZXJ5LmZ4LnNwZWVkcyApIHtcblx0XHRcdFx0b3B0LmR1cmF0aW9uID0galF1ZXJ5LmZ4LnNwZWVkc1sgb3B0LmR1cmF0aW9uIF07XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG9wdC5kdXJhdGlvbiA9IGpRdWVyeS5meC5zcGVlZHMuX2RlZmF1bHQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gTm9ybWFsaXplIG9wdC5xdWV1ZSAtIHRydWUvdW5kZWZpbmVkL251bGwgLT4gXCJmeFwiXG5cdGlmICggb3B0LnF1ZXVlID09IG51bGwgfHwgb3B0LnF1ZXVlID09PSB0cnVlICkge1xuXHRcdG9wdC5xdWV1ZSA9IFwiZnhcIjtcblx0fVxuXG5cdC8vIFF1ZXVlaW5nXG5cdG9wdC5vbGQgPSBvcHQuY29tcGxldGU7XG5cblx0b3B0LmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCBvcHQub2xkICkgKSB7XG5cdFx0XHRvcHQub2xkLmNhbGwoIHRoaXMgKTtcblx0XHR9XG5cblx0XHRpZiAoIG9wdC5xdWV1ZSApIHtcblx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCBvcHQucXVldWUgKTtcblx0XHR9XG5cdH07XG5cblx0cmV0dXJuIG9wdDtcbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0ZmFkZVRvOiBmdW5jdGlvbiggc3BlZWQsIHRvLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXG5cdFx0Ly8gU2hvdyBhbnkgaGlkZGVuIGVsZW1lbnRzIGFmdGVyIHNldHRpbmcgb3BhY2l0eSB0byAwXG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyKCBpc0hpZGRlbldpdGhpblRyZWUgKS5jc3MoIFwib3BhY2l0eVwiLCAwICkuc2hvdygpXG5cblx0XHRcdC8vIEFuaW1hdGUgdG8gdGhlIHZhbHVlIHNwZWNpZmllZFxuXHRcdFx0LmVuZCgpLmFuaW1hdGUoIHsgb3BhY2l0eTogdG8gfSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fSxcblx0YW5pbWF0ZTogZnVuY3Rpb24oIHByb3AsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHZhciBlbXB0eSA9IGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBwcm9wICksXG5cdFx0XHRvcHRhbGwgPSBqUXVlcnkuc3BlZWQoIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICksXG5cdFx0XHRkb0FuaW1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIE9wZXJhdGUgb24gYSBjb3B5IG9mIHByb3Agc28gcGVyLXByb3BlcnR5IGVhc2luZyB3b24ndCBiZSBsb3N0XG5cdFx0XHRcdHZhciBhbmltID0gQW5pbWF0aW9uKCB0aGlzLCBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcCApLCBvcHRhbGwgKTtcblxuXHRcdFx0XHQvLyBFbXB0eSBhbmltYXRpb25zLCBvciBmaW5pc2hpbmcgcmVzb2x2ZXMgaW1tZWRpYXRlbHlcblx0XHRcdFx0aWYgKCBlbXB0eSB8fCBkYXRhUHJpdi5nZXQoIHRoaXMsIFwiZmluaXNoXCIgKSApIHtcblx0XHRcdFx0XHRhbmltLnN0b3AoIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdGRvQW5pbWF0aW9uLmZpbmlzaCA9IGRvQW5pbWF0aW9uO1xuXG5cdFx0cmV0dXJuIGVtcHR5IHx8IG9wdGFsbC5xdWV1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0dGhpcy5lYWNoKCBkb0FuaW1hdGlvbiApIDpcblx0XHRcdHRoaXMucXVldWUoIG9wdGFsbC5xdWV1ZSwgZG9BbmltYXRpb24gKTtcblx0fSxcblx0c3RvcDogZnVuY3Rpb24oIHR5cGUsIGNsZWFyUXVldWUsIGdvdG9FbmQgKSB7XG5cdFx0dmFyIHN0b3BRdWV1ZSA9IGZ1bmN0aW9uKCBob29rcyApIHtcblx0XHRcdHZhciBzdG9wID0gaG9va3Muc3RvcDtcblx0XHRcdGRlbGV0ZSBob29rcy5zdG9wO1xuXHRcdFx0c3RvcCggZ290b0VuZCApO1xuXHRcdH07XG5cblx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0Z290b0VuZCA9IGNsZWFyUXVldWU7XG5cdFx0XHRjbGVhclF1ZXVlID0gdHlwZTtcblx0XHRcdHR5cGUgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmICggY2xlYXJRdWV1ZSApIHtcblx0XHRcdHRoaXMucXVldWUoIHR5cGUgfHwgXCJmeFwiLCBbXSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGRlcXVldWUgPSB0cnVlLFxuXHRcdFx0XHRpbmRleCA9IHR5cGUgIT0gbnVsbCAmJiB0eXBlICsgXCJxdWV1ZUhvb2tzXCIsXG5cdFx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0XHRcdGRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKTtcblxuXHRcdFx0aWYgKCBpbmRleCApIHtcblx0XHRcdFx0aWYgKCBkYXRhWyBpbmRleCBdICYmIGRhdGFbIGluZGV4IF0uc3RvcCApIHtcblx0XHRcdFx0XHRzdG9wUXVldWUoIGRhdGFbIGluZGV4IF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yICggaW5kZXggaW4gZGF0YSApIHtcblx0XHRcdFx0XHRpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICYmIHJydW4udGVzdCggaW5kZXggKSApIHtcblx0XHRcdFx0XHRcdHN0b3BRdWV1ZSggZGF0YVsgaW5kZXggXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xuXHRcdFx0XHRpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmXG5cdFx0XHRcdFx0KCB0eXBlID09IG51bGwgfHwgdGltZXJzWyBpbmRleCBdLnF1ZXVlID09PSB0eXBlICkgKSB7XG5cblx0XHRcdFx0XHR0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCBnb3RvRW5kICk7XG5cdFx0XHRcdFx0ZGVxdWV1ZSA9IGZhbHNlO1xuXHRcdFx0XHRcdHRpbWVycy5zcGxpY2UoIGluZGV4LCAxICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gU3RhcnQgdGhlIG5leHQgaW4gdGhlIHF1ZXVlIGlmIHRoZSBsYXN0IHN0ZXAgd2Fzbid0IGZvcmNlZC5cblx0XHRcdC8vIFRpbWVycyBjdXJyZW50bHkgd2lsbCBjYWxsIHRoZWlyIGNvbXBsZXRlIGNhbGxiYWNrcywgd2hpY2hcblx0XHRcdC8vIHdpbGwgZGVxdWV1ZSBidXQgb25seSBpZiB0aGV5IHdlcmUgZ290b0VuZC5cblx0XHRcdGlmICggZGVxdWV1ZSB8fCAhZ290b0VuZCApIHtcblx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cdGZpbmlzaDogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0aWYgKCB0eXBlICE9PSBmYWxzZSApIHtcblx0XHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaW5kZXgsXG5cdFx0XHRcdGRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKSxcblx0XHRcdFx0cXVldWUgPSBkYXRhWyB0eXBlICsgXCJxdWV1ZVwiIF0sXG5cdFx0XHRcdGhvb2tzID0gZGF0YVsgdHlwZSArIFwicXVldWVIb29rc1wiIF0sXG5cdFx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0XHRcdGxlbmd0aCA9IHF1ZXVlID8gcXVldWUubGVuZ3RoIDogMDtcblxuXHRcdFx0Ly8gRW5hYmxlIGZpbmlzaGluZyBmbGFnIG9uIHByaXZhdGUgZGF0YVxuXHRcdFx0ZGF0YS5maW5pc2ggPSB0cnVlO1xuXG5cdFx0XHQvLyBFbXB0eSB0aGUgcXVldWUgZmlyc3Rcblx0XHRcdGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgW10gKTtcblxuXHRcdFx0aWYgKCBob29rcyAmJiBob29rcy5zdG9wICkge1xuXHRcdFx0XHRob29rcy5zdG9wLmNhbGwoIHRoaXMsIHRydWUgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTG9vayBmb3IgYW55IGFjdGl2ZSBhbmltYXRpb25zLCBhbmQgZmluaXNoIHRoZW1cblx0XHRcdGZvciAoIGluZGV4ID0gdGltZXJzLmxlbmd0aDsgaW5kZXgtLTsgKSB7XG5cdFx0XHRcdGlmICggdGltZXJzWyBpbmRleCBdLmVsZW0gPT09IHRoaXMgJiYgdGltZXJzWyBpbmRleCBdLnF1ZXVlID09PSB0eXBlICkge1xuXHRcdFx0XHRcdHRpbWVyc1sgaW5kZXggXS5hbmltLnN0b3AoIHRydWUgKTtcblx0XHRcdFx0XHR0aW1lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIExvb2sgZm9yIGFueSBhbmltYXRpb25zIGluIHRoZSBvbGQgcXVldWUgYW5kIGZpbmlzaCB0aGVtXG5cdFx0XHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0XHRpZiAoIHF1ZXVlWyBpbmRleCBdICYmIHF1ZXVlWyBpbmRleCBdLmZpbmlzaCApIHtcblx0XHRcdFx0XHRxdWV1ZVsgaW5kZXggXS5maW5pc2guY2FsbCggdGhpcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFR1cm4gb2ZmIGZpbmlzaGluZyBmbGFnXG5cdFx0XHRkZWxldGUgZGF0YS5maW5pc2g7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKCBbIFwidG9nZ2xlXCIsIFwic2hvd1wiLCBcImhpZGVcIiBdLCBmdW5jdGlvbiggX2ksIG5hbWUgKSB7XG5cdHZhciBjc3NGbiA9IGpRdWVyeS5mblsgbmFtZSBdO1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4gc3BlZWQgPT0gbnVsbCB8fCB0eXBlb2Ygc3BlZWQgPT09IFwiYm9vbGVhblwiID9cblx0XHRcdGNzc0ZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSA6XG5cdFx0XHR0aGlzLmFuaW1hdGUoIGdlbkZ4KCBuYW1lLCB0cnVlICksIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH07XG59ICk7XG5cbi8vIEdlbmVyYXRlIHNob3J0Y3V0cyBmb3IgY3VzdG9tIGFuaW1hdGlvbnNcbmpRdWVyeS5lYWNoKCB7XG5cdHNsaWRlRG93bjogZ2VuRngoIFwic2hvd1wiICksXG5cdHNsaWRlVXA6IGdlbkZ4KCBcImhpZGVcIiApLFxuXHRzbGlkZVRvZ2dsZTogZ2VuRngoIFwidG9nZ2xlXCIgKSxcblx0ZmFkZUluOiB7IG9wYWNpdHk6IFwic2hvd1wiIH0sXG5cdGZhZGVPdXQ6IHsgb3BhY2l0eTogXCJoaWRlXCIgfSxcblx0ZmFkZVRvZ2dsZTogeyBvcGFjaXR5OiBcInRvZ2dsZVwiIH1cbn0sIGZ1bmN0aW9uKCBuYW1lLCBwcm9wcyApIHtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHRoaXMuYW5pbWF0ZSggcHJvcHMsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH07XG59ICk7XG5cbmpRdWVyeS50aW1lcnMgPSBbXTtcbmpRdWVyeS5meC50aWNrID0gZnVuY3Rpb24oKSB7XG5cdHZhciB0aW1lcixcblx0XHRpID0gMCxcblx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzO1xuXG5cdGZ4Tm93ID0gRGF0ZS5ub3coKTtcblxuXHRmb3IgKCA7IGkgPCB0aW1lcnMubGVuZ3RoOyBpKysgKSB7XG5cdFx0dGltZXIgPSB0aW1lcnNbIGkgXTtcblxuXHRcdC8vIFJ1biB0aGUgdGltZXIgYW5kIHNhZmVseSByZW1vdmUgaXQgd2hlbiBkb25lIChhbGxvd2luZyBmb3IgZXh0ZXJuYWwgcmVtb3ZhbClcblx0XHRpZiAoICF0aW1lcigpICYmIHRpbWVyc1sgaSBdID09PSB0aW1lciApIHtcblx0XHRcdHRpbWVycy5zcGxpY2UoIGktLSwgMSApO1xuXHRcdH1cblx0fVxuXG5cdGlmICggIXRpbWVycy5sZW5ndGggKSB7XG5cdFx0alF1ZXJ5LmZ4LnN0b3AoKTtcblx0fVxuXHRmeE5vdyA9IHVuZGVmaW5lZDtcbn07XG5cbmpRdWVyeS5meC50aW1lciA9IGZ1bmN0aW9uKCB0aW1lciApIHtcblx0alF1ZXJ5LnRpbWVycy5wdXNoKCB0aW1lciApO1xuXHRqUXVlcnkuZnguc3RhcnQoKTtcbn07XG5cbmpRdWVyeS5meC5pbnRlcnZhbCA9IDEzO1xualF1ZXJ5LmZ4LnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG5cdGlmICggaW5Qcm9ncmVzcyApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRpblByb2dyZXNzID0gdHJ1ZTtcblx0c2NoZWR1bGUoKTtcbn07XG5cbmpRdWVyeS5meC5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdGluUHJvZ3Jlc3MgPSBudWxsO1xufTtcblxualF1ZXJ5LmZ4LnNwZWVkcyA9IHtcblx0c2xvdzogNjAwLFxuXHRmYXN0OiAyMDAsXG5cblx0Ly8gRGVmYXVsdCBzcGVlZFxuXHRfZGVmYXVsdDogNDAwXG59O1xuXG5cbi8vIEJhc2VkIG9mZiBvZiB0aGUgcGx1Z2luIGJ5IENsaW50IEhlbGZlcnMsIHdpdGggcGVybWlzc2lvbi5cbmpRdWVyeS5mbi5kZWxheSA9IGZ1bmN0aW9uKCB0aW1lLCB0eXBlICkge1xuXHR0aW1lID0galF1ZXJ5LmZ4ID8galF1ZXJ5LmZ4LnNwZWVkc1sgdGltZSBdIHx8IHRpbWUgOiB0aW1lO1xuXHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cblx0cmV0dXJuIHRoaXMucXVldWUoIHR5cGUsIGZ1bmN0aW9uKCBuZXh0LCBob29rcyApIHtcblx0XHR2YXIgdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCBuZXh0LCB0aW1lICk7XG5cdFx0aG9va3Muc3RvcCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0d2luZG93LmNsZWFyVGltZW91dCggdGltZW91dCApO1xuXHRcdH07XG5cdH0gKTtcbn07XG5cblxuKCBmdW5jdGlvbigpIHtcblx0dmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICksXG5cdFx0c2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJzZWxlY3RcIiApLFxuXHRcdG9wdCA9IHNlbGVjdC5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJvcHRpb25cIiApICk7XG5cblx0aW5wdXQudHlwZSA9IFwiY2hlY2tib3hcIjtcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4zIG9ubHlcblx0Ly8gRGVmYXVsdCB2YWx1ZSBmb3IgYSBjaGVja2JveCBzaG91bGQgYmUgXCJvblwiXG5cdHN1cHBvcnQuY2hlY2tPbiA9IGlucHV0LnZhbHVlICE9PSBcIlwiO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHQvLyBNdXN0IGFjY2VzcyBzZWxlY3RlZEluZGV4IHRvIG1ha2UgZGVmYXVsdCBvcHRpb25zIHNlbGVjdFxuXHRzdXBwb3J0Lm9wdFNlbGVjdGVkID0gb3B0LnNlbGVjdGVkO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHQvLyBBbiBpbnB1dCBsb3NlcyBpdHMgdmFsdWUgYWZ0ZXIgYmVjb21pbmcgYSByYWRpb1xuXHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApO1xuXHRpbnB1dC52YWx1ZSA9IFwidFwiO1xuXHRpbnB1dC50eXBlID0gXCJyYWRpb1wiO1xuXHRzdXBwb3J0LnJhZGlvVmFsdWUgPSBpbnB1dC52YWx1ZSA9PT0gXCJ0XCI7XG59ICkoKTtcblxuXG52YXIgYm9vbEhvb2ssXG5cdGF0dHJIYW5kbGUgPSBqUXVlcnkuZXhwci5hdHRySGFuZGxlO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGF0dHI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkuYXR0ciwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH0sXG5cblx0cmVtb3ZlQXR0cjogZnVuY3Rpb24oIG5hbWUgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggdGhpcywgbmFtZSApO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdGF0dHI6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcblx0XHR2YXIgcmV0LCBob29rcyxcblx0XHRcdG5UeXBlID0gZWxlbS5ub2RlVHlwZTtcblxuXHRcdC8vIERvbid0IGdldC9zZXQgYXR0cmlidXRlcyBvbiB0ZXh0LCBjb21tZW50IGFuZCBhdHRyaWJ1dGUgbm9kZXNcblx0XHRpZiAoIG5UeXBlID09PSAzIHx8IG5UeXBlID09PSA4IHx8IG5UeXBlID09PSAyICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIEZhbGxiYWNrIHRvIHByb3Agd2hlbiBhdHRyaWJ1dGVzIGFyZSBub3Qgc3VwcG9ydGVkXG5cdFx0aWYgKCB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgPT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LnByb3AoIGVsZW0sIG5hbWUsIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0Ly8gQXR0cmlidXRlIGhvb2tzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBsb3dlcmNhc2UgdmVyc2lvblxuXHRcdC8vIEdyYWIgbmVjZXNzYXJ5IGhvb2sgaWYgb25lIGlzIGRlZmluZWRcblx0XHRpZiAoIG5UeXBlICE9PSAxIHx8ICFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblx0XHRcdGhvb2tzID0galF1ZXJ5LmF0dHJIb29rc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gfHxcblx0XHRcdFx0KCBqUXVlcnkuZXhwci5tYXRjaC5ib29sLnRlc3QoIG5hbWUgKSA/IGJvb2xIb29rIDogdW5kZWZpbmVkICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gbnVsbCApIHtcblx0XHRcdFx0alF1ZXJ5LnJlbW92ZUF0dHIoIGVsZW0sIG5hbWUgKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGhvb2tzICYmIFwic2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0KCByZXQgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggbmFtZSwgdmFsdWUgKyBcIlwiICk7XG5cdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXG5cdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmICggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBuYW1lICkgKSAhPT0gbnVsbCApIHtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXG5cdFx0cmV0ID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgbmFtZSApO1xuXG5cdFx0Ly8gTm9uLWV4aXN0ZW50IGF0dHJpYnV0ZXMgcmV0dXJuIG51bGwsIHdlIG5vcm1hbGl6ZSB0byB1bmRlZmluZWRcblx0XHRyZXR1cm4gcmV0ID09IG51bGwgPyB1bmRlZmluZWQgOiByZXQ7XG5cdH0sXG5cblx0YXR0ckhvb2tzOiB7XG5cdFx0dHlwZToge1xuXHRcdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRcdGlmICggIXN1cHBvcnQucmFkaW9WYWx1ZSAmJiB2YWx1ZSA9PT0gXCJyYWRpb1wiICYmXG5cdFx0XHRcdFx0bm9kZU5hbWUoIGVsZW0sIFwiaW5wdXRcIiApICkge1xuXHRcdFx0XHRcdHZhciB2YWwgPSBlbGVtLnZhbHVlO1xuXHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgdmFsdWUgKTtcblx0XHRcdFx0XHRpZiAoIHZhbCApIHtcblx0XHRcdFx0XHRcdGVsZW0udmFsdWUgPSB2YWw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRyZW1vdmVBdHRyOiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0dmFyIG5hbWUsXG5cdFx0XHRpID0gMCxcblxuXHRcdFx0Ly8gQXR0cmlidXRlIG5hbWVzIGNhbiBjb250YWluIG5vbi1IVE1MIHdoaXRlc3BhY2UgY2hhcmFjdGVyc1xuXHRcdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjYXR0cmlidXRlcy0yXG5cdFx0XHRhdHRyTmFtZXMgPSB2YWx1ZSAmJiB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApO1xuXG5cdFx0aWYgKCBhdHRyTmFtZXMgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdHdoaWxlICggKCBuYW1lID0gYXR0ck5hbWVzWyBpKysgXSApICkge1xuXHRcdFx0XHRlbGVtLnJlbW92ZUF0dHJpYnV0ZSggbmFtZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG4vLyBIb29rcyBmb3IgYm9vbGVhbiBhdHRyaWJ1dGVzXG5ib29sSG9vayA9IHtcblx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIG5hbWUgKSB7XG5cdFx0aWYgKCB2YWx1ZSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdC8vIFJlbW92ZSBib29sZWFuIGF0dHJpYnV0ZXMgd2hlbiBzZXQgdG8gZmFsc2Vcblx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCBlbGVtLCBuYW1lICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lICk7XG5cdFx0fVxuXHRcdHJldHVybiBuYW1lO1xuXHR9XG59O1xuXG5qUXVlcnkuZWFjaCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goIC9cXHcrL2cgKSwgZnVuY3Rpb24oIF9pLCBuYW1lICkge1xuXHR2YXIgZ2V0dGVyID0gYXR0ckhhbmRsZVsgbmFtZSBdIHx8IGpRdWVyeS5maW5kLmF0dHI7XG5cblx0YXR0ckhhbmRsZVsgbmFtZSBdID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdHZhciByZXQsIGhhbmRsZSxcblx0XHRcdGxvd2VyY2FzZU5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cblx0XHRpZiAoICFpc1hNTCApIHtcblxuXHRcdFx0Ly8gQXZvaWQgYW4gaW5maW5pdGUgbG9vcCBieSB0ZW1wb3JhcmlseSByZW1vdmluZyB0aGlzIGZ1bmN0aW9uIGZyb20gdGhlIGdldHRlclxuXHRcdFx0aGFuZGxlID0gYXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdO1xuXHRcdFx0YXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdID0gcmV0O1xuXHRcdFx0cmV0ID0gZ2V0dGVyKCBlbGVtLCBuYW1lLCBpc1hNTCApICE9IG51bGwgP1xuXHRcdFx0XHRsb3dlcmNhc2VOYW1lIDpcblx0XHRcdFx0bnVsbDtcblx0XHRcdGF0dHJIYW5kbGVbIGxvd2VyY2FzZU5hbWUgXSA9IGhhbmRsZTtcblx0XHR9XG5cdFx0cmV0dXJuIHJldDtcblx0fTtcbn0gKTtcblxuXG5cblxudmFyIHJmb2N1c2FibGUgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFxuXHRyY2xpY2thYmxlID0gL14oPzphfGFyZWEpJC9pO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHByb3A6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkucHJvcCwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH0sXG5cblx0cmVtb3ZlUHJvcDogZnVuY3Rpb24oIG5hbWUgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRkZWxldGUgdGhpc1sgalF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lIF07XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0cHJvcDogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdHZhciByZXQsIGhvb2tzLFxuXHRcdFx0blR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuXG5cdFx0Ly8gRG9uJ3QgZ2V0L3NldCBwcm9wZXJ0aWVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuXHRcdGlmICggblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBuVHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7XG5cblx0XHRcdC8vIEZpeCBuYW1lIGFuZCBhdHRhY2ggaG9va3Ncblx0XHRcdG5hbWUgPSBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWU7XG5cdFx0XHRob29rcyA9IGpRdWVyeS5wcm9wSG9va3NbIG5hbWUgXTtcblx0XHR9XG5cblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIGhvb2tzICYmIFwic2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0KCByZXQgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gKCBlbGVtWyBuYW1lIF0gPSB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblxuXHRcdHJldHVybiBlbGVtWyBuYW1lIF07XG5cdH0sXG5cblx0cHJvcEhvb2tzOiB7XG5cdFx0dGFiSW5kZXg6IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxuXHRcdFx0XHQvLyBlbGVtLnRhYkluZGV4IGRvZXNuJ3QgYWx3YXlzIHJldHVybiB0aGVcblx0XHRcdFx0Ly8gY29ycmVjdCB2YWx1ZSB3aGVuIGl0IGhhc24ndCBiZWVuIGV4cGxpY2l0bHkgc2V0XG5cdFx0XHRcdC8vIFVzZSBwcm9wZXIgYXR0cmlidXRlIHJldHJpZXZhbCAodHJhYy0xMjA3Milcblx0XHRcdFx0dmFyIHRhYmluZGV4ID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgXCJ0YWJpbmRleFwiICk7XG5cblx0XHRcdFx0aWYgKCB0YWJpbmRleCApIHtcblx0XHRcdFx0XHRyZXR1cm4gcGFyc2VJbnQoIHRhYmluZGV4LCAxMCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHJmb2N1c2FibGUudGVzdCggZWxlbS5ub2RlTmFtZSApIHx8XG5cdFx0XHRcdFx0cmNsaWNrYWJsZS50ZXN0KCBlbGVtLm5vZGVOYW1lICkgJiZcblx0XHRcdFx0XHRlbGVtLmhyZWZcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIDA7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdHByb3BGaXg6IHtcblx0XHRcImZvclwiOiBcImh0bWxGb3JcIixcblx0XHRcImNsYXNzXCI6IFwiY2xhc3NOYW1lXCJcblx0fVxufSApO1xuXG4vLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcbi8vIEFjY2Vzc2luZyB0aGUgc2VsZWN0ZWRJbmRleCBwcm9wZXJ0eVxuLy8gZm9yY2VzIHRoZSBicm93c2VyIHRvIHJlc3BlY3Qgc2V0dGluZyBzZWxlY3RlZFxuLy8gb24gdGhlIG9wdGlvblxuLy8gVGhlIGdldHRlciBlbnN1cmVzIGEgZGVmYXVsdCBvcHRpb24gaXMgc2VsZWN0ZWRcbi8vIHdoZW4gaW4gYW4gb3B0Z3JvdXBcbi8vIGVzbGludCBydWxlIFwibm8tdW51c2VkLWV4cHJlc3Npb25zXCIgaXMgZGlzYWJsZWQgZm9yIHRoaXMgY29kZVxuLy8gc2luY2UgaXQgY29uc2lkZXJzIHN1Y2ggYWNjZXNzaW9ucyBub29wXG5pZiAoICFzdXBwb3J0Lm9wdFNlbGVjdGVkICkge1xuXHRqUXVlcnkucHJvcEhvb2tzLnNlbGVjdGVkID0ge1xuXHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdC8qIGVzbGludCBuby11bnVzZWQtZXhwcmVzc2lvbnM6IFwib2ZmXCIgKi9cblxuXHRcdFx0dmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XHRcdGlmICggcGFyZW50ICYmIHBhcmVudC5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRwYXJlbnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fSxcblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0XHQvKiBlc2xpbnQgbm8tdW51c2VkLWV4cHJlc3Npb25zOiBcIm9mZlwiICovXG5cblx0XHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRpZiAoIHBhcmVudCApIHtcblx0XHRcdFx0cGFyZW50LnNlbGVjdGVkSW5kZXg7XG5cblx0XHRcdFx0aWYgKCBwYXJlbnQucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0XHRwYXJlbnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG5qUXVlcnkuZWFjaCggW1xuXHRcInRhYkluZGV4XCIsXG5cdFwicmVhZE9ubHlcIixcblx0XCJtYXhMZW5ndGhcIixcblx0XCJjZWxsU3BhY2luZ1wiLFxuXHRcImNlbGxQYWRkaW5nXCIsXG5cdFwicm93U3BhblwiLFxuXHRcImNvbFNwYW5cIixcblx0XCJ1c2VNYXBcIixcblx0XCJmcmFtZUJvcmRlclwiLFxuXHRcImNvbnRlbnRFZGl0YWJsZVwiXG5dLCBmdW5jdGlvbigpIHtcblx0alF1ZXJ5LnByb3BGaXhbIHRoaXMudG9Mb3dlckNhc2UoKSBdID0gdGhpcztcbn0gKTtcblxuXG5cblxuXHQvLyBTdHJpcCBhbmQgY29sbGFwc2Ugd2hpdGVzcGFjZSBhY2NvcmRpbmcgdG8gSFRNTCBzcGVjXG5cdC8vIGh0dHBzOi8vaW5mcmEuc3BlYy53aGF0d2cub3JnLyNzdHJpcC1hbmQtY29sbGFwc2UtYXNjaWktd2hpdGVzcGFjZVxuXHRmdW5jdGlvbiBzdHJpcEFuZENvbGxhcHNlKCB2YWx1ZSApIHtcblx0XHR2YXIgdG9rZW5zID0gdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTtcblx0XHRyZXR1cm4gdG9rZW5zLmpvaW4oIFwiIFwiICk7XG5cdH1cblxuXG5mdW5jdGlvbiBnZXRDbGFzcyggZWxlbSApIHtcblx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlICYmIGVsZW0uZ2V0QXR0cmlidXRlKCBcImNsYXNzXCIgKSB8fCBcIlwiO1xufVxuXG5mdW5jdGlvbiBjbGFzc2VzVG9BcnJheSggdmFsdWUgKSB7XG5cdGlmICggQXJyYXkuaXNBcnJheSggdmFsdWUgKSApIHtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH1cblx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0cmV0dXJuIHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW107XG5cdH1cblx0cmV0dXJuIFtdO1xufVxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGFkZENsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGNsYXNzTmFtZXMsIGN1ciwgY3VyVmFsdWUsIGNsYXNzTmFtZSwgaSwgZmluYWxWYWx1ZTtcblxuXHRcdGlmICggaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBqICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5hZGRDbGFzcyggdmFsdWUuY2FsbCggdGhpcywgaiwgZ2V0Q2xhc3MoIHRoaXMgKSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0Y2xhc3NOYW1lcyA9IGNsYXNzZXNUb0FycmF5KCB2YWx1ZSApO1xuXG5cdFx0aWYgKCBjbGFzc05hbWVzLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjdXJWYWx1ZSA9IGdldENsYXNzKCB0aGlzICk7XG5cdFx0XHRcdGN1ciA9IHRoaXMubm9kZVR5cGUgPT09IDEgJiYgKCBcIiBcIiArIHN0cmlwQW5kQ29sbGFwc2UoIGN1clZhbHVlICkgKyBcIiBcIiApO1xuXG5cdFx0XHRcdGlmICggY3VyICkge1xuXHRcdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgY2xhc3NOYW1lcy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0XHRcdGNsYXNzTmFtZSA9IGNsYXNzTmFtZXNbIGkgXTtcblx0XHRcdFx0XHRcdGlmICggY3VyLmluZGV4T2YoIFwiIFwiICsgY2xhc3NOYW1lICsgXCIgXCIgKSA8IDAgKSB7XG5cdFx0XHRcdFx0XHRcdGN1ciArPSBjbGFzc05hbWUgKyBcIiBcIjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBPbmx5IGFzc2lnbiBpZiBkaWZmZXJlbnQgdG8gYXZvaWQgdW5uZWVkZWQgcmVuZGVyaW5nLlxuXHRcdFx0XHRcdGZpbmFsVmFsdWUgPSBzdHJpcEFuZENvbGxhcHNlKCBjdXIgKTtcblx0XHRcdFx0XHRpZiAoIGN1clZhbHVlICE9PSBmaW5hbFZhbHVlICkge1xuXHRcdFx0XHRcdFx0dGhpcy5zZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIiwgZmluYWxWYWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHJlbW92ZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGNsYXNzTmFtZXMsIGN1ciwgY3VyVmFsdWUsIGNsYXNzTmFtZSwgaSwgZmluYWxWYWx1ZTtcblxuXHRcdGlmICggaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBqICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5yZW1vdmVDbGFzcyggdmFsdWUuY2FsbCggdGhpcywgaiwgZ2V0Q2xhc3MoIHRoaXMgKSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiB0aGlzLmF0dHIoIFwiY2xhc3NcIiwgXCJcIiApO1xuXHRcdH1cblxuXHRcdGNsYXNzTmFtZXMgPSBjbGFzc2VzVG9BcnJheSggdmFsdWUgKTtcblxuXHRcdGlmICggY2xhc3NOYW1lcy5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Y3VyVmFsdWUgPSBnZXRDbGFzcyggdGhpcyApO1xuXG5cdFx0XHRcdC8vIFRoaXMgZXhwcmVzc2lvbiBpcyBoZXJlIGZvciBiZXR0ZXIgY29tcHJlc3NpYmlsaXR5IChzZWUgYWRkQ2xhc3MpXG5cdFx0XHRcdGN1ciA9IHRoaXMubm9kZVR5cGUgPT09IDEgJiYgKCBcIiBcIiArIHN0cmlwQW5kQ29sbGFwc2UoIGN1clZhbHVlICkgKyBcIiBcIiApO1xuXG5cdFx0XHRcdGlmICggY3VyICkge1xuXHRcdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgY2xhc3NOYW1lcy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0XHRcdGNsYXNzTmFtZSA9IGNsYXNzTmFtZXNbIGkgXTtcblxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlICphbGwqIGluc3RhbmNlc1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBjdXIuaW5kZXhPZiggXCIgXCIgKyBjbGFzc05hbWUgKyBcIiBcIiApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRcdGN1ciA9IGN1ci5yZXBsYWNlKCBcIiBcIiArIGNsYXNzTmFtZSArIFwiIFwiLCBcIiBcIiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIE9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuXG5cdFx0XHRcdFx0ZmluYWxWYWx1ZSA9IHN0cmlwQW5kQ29sbGFwc2UoIGN1ciApO1xuXHRcdFx0XHRcdGlmICggY3VyVmFsdWUgIT09IGZpbmFsVmFsdWUgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLCBmaW5hbFZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0dG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSwgc3RhdGVWYWwgKSB7XG5cdFx0dmFyIGNsYXNzTmFtZXMsIGNsYXNzTmFtZSwgaSwgc2VsZixcblx0XHRcdHR5cGUgPSB0eXBlb2YgdmFsdWUsXG5cdFx0XHRpc1ZhbGlkVmFsdWUgPSB0eXBlID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkoIHZhbHVlICk7XG5cblx0XHRpZiAoIGlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkudG9nZ2xlQ2xhc3MoXG5cdFx0XHRcdFx0dmFsdWUuY2FsbCggdGhpcywgaSwgZ2V0Q2xhc3MoIHRoaXMgKSwgc3RhdGVWYWwgKSxcblx0XHRcdFx0XHRzdGF0ZVZhbFxuXHRcdFx0XHQpO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZW9mIHN0YXRlVmFsID09PSBcImJvb2xlYW5cIiAmJiBpc1ZhbGlkVmFsdWUgKSB7XG5cdFx0XHRyZXR1cm4gc3RhdGVWYWwgPyB0aGlzLmFkZENsYXNzKCB2YWx1ZSApIDogdGhpcy5yZW1vdmVDbGFzcyggdmFsdWUgKTtcblx0XHR9XG5cblx0XHRjbGFzc05hbWVzID0gY2xhc3Nlc1RvQXJyYXkoIHZhbHVlICk7XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggaXNWYWxpZFZhbHVlICkge1xuXG5cdFx0XHRcdC8vIFRvZ2dsZSBpbmRpdmlkdWFsIGNsYXNzIG5hbWVzXG5cdFx0XHRcdHNlbGYgPSBqUXVlcnkoIHRoaXMgKTtcblxuXHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGNsYXNzTmFtZXMubGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdFx0Y2xhc3NOYW1lID0gY2xhc3NOYW1lc1sgaSBdO1xuXG5cdFx0XHRcdFx0Ly8gQ2hlY2sgZWFjaCBjbGFzc05hbWUgZ2l2ZW4sIHNwYWNlIHNlcGFyYXRlZCBsaXN0XG5cdFx0XHRcdFx0aWYgKCBzZWxmLmhhc0NsYXNzKCBjbGFzc05hbWUgKSApIHtcblx0XHRcdFx0XHRcdHNlbGYucmVtb3ZlQ2xhc3MoIGNsYXNzTmFtZSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzZWxmLmFkZENsYXNzKCBjbGFzc05hbWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gVG9nZ2xlIHdob2xlIGNsYXNzIG5hbWVcblx0XHRcdH0gZWxzZSBpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgfHwgdHlwZSA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRcdGNsYXNzTmFtZSA9IGdldENsYXNzKCB0aGlzICk7XG5cdFx0XHRcdGlmICggY2xhc3NOYW1lICkge1xuXG5cdFx0XHRcdFx0Ly8gU3RvcmUgY2xhc3NOYW1lIGlmIHNldFxuXHRcdFx0XHRcdGRhdGFQcml2LnNldCggdGhpcywgXCJfX2NsYXNzTmFtZV9fXCIsIGNsYXNzTmFtZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSWYgdGhlIGVsZW1lbnQgaGFzIGEgY2xhc3MgbmFtZSBvciBpZiB3ZSdyZSBwYXNzZWQgYGZhbHNlYCxcblx0XHRcdFx0Ly8gdGhlbiByZW1vdmUgdGhlIHdob2xlIGNsYXNzbmFtZSAoaWYgdGhlcmUgd2FzIG9uZSwgdGhlIGFib3ZlIHNhdmVkIGl0KS5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGJyaW5nIGJhY2sgd2hhdGV2ZXIgd2FzIHByZXZpb3VzbHkgc2F2ZWQgKGlmIGFueXRoaW5nKSxcblx0XHRcdFx0Ly8gZmFsbGluZyBiYWNrIHRvIHRoZSBlbXB0eSBzdHJpbmcgaWYgbm90aGluZyB3YXMgc3RvcmVkLlxuXHRcdFx0XHRpZiAoIHRoaXMuc2V0QXR0cmlidXRlICkge1xuXHRcdFx0XHRcdHRoaXMuc2V0QXR0cmlidXRlKCBcImNsYXNzXCIsXG5cdFx0XHRcdFx0XHRjbGFzc05hbWUgfHwgdmFsdWUgPT09IGZhbHNlID9cblx0XHRcdFx0XHRcdFx0XCJcIiA6XG5cdFx0XHRcdFx0XHRcdGRhdGFQcml2LmdldCggdGhpcywgXCJfX2NsYXNzTmFtZV9fXCIgKSB8fCBcIlwiXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRoYXNDbGFzczogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHZhciBjbGFzc05hbWUsIGVsZW0sXG5cdFx0XHRpID0gMDtcblxuXHRcdGNsYXNzTmFtZSA9IFwiIFwiICsgc2VsZWN0b3IgKyBcIiBcIjtcblx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0KCBcIiBcIiArIHN0cmlwQW5kQ29sbGFwc2UoIGdldENsYXNzKCBlbGVtICkgKSArIFwiIFwiICkuaW5kZXhPZiggY2xhc3NOYW1lICkgPiAtMSApIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59ICk7XG5cblxuXG5cbnZhciBycmV0dXJuID0gL1xcci9nO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHZhbDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBob29rcywgcmV0LCB2YWx1ZUlzRnVuY3Rpb24sXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdO1xuXG5cdFx0aWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdGlmICggZWxlbSApIHtcblx0XHRcdFx0aG9va3MgPSBqUXVlcnkudmFsSG9va3NbIGVsZW0udHlwZSBdIHx8XG5cdFx0XHRcdFx0alF1ZXJ5LnZhbEhvb2tzWyBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcblxuXHRcdFx0XHRpZiAoIGhvb2tzICYmXG5cdFx0XHRcdFx0XCJnZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHRcdCggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBcInZhbHVlXCIgKSApICE9PSB1bmRlZmluZWRcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldCA9IGVsZW0udmFsdWU7XG5cblx0XHRcdFx0Ly8gSGFuZGxlIG1vc3QgY29tbW9uIHN0cmluZyBjYXNlc1xuXHRcdFx0XHRpZiAoIHR5cGVvZiByZXQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJldC5yZXBsYWNlKCBycmV0dXJuLCBcIlwiICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBIYW5kbGUgY2FzZXMgd2hlcmUgdmFsdWUgaXMgbnVsbC91bmRlZiBvciBudW1iZXJcblx0XHRcdFx0cmV0dXJuIHJldCA9PSBudWxsID8gXCJcIiA6IHJldDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhbHVlSXNGdW5jdGlvbiA9IGlzRnVuY3Rpb24oIHZhbHVlICk7XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdHZhciB2YWw7XG5cblx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSAhPT0gMSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHZhbHVlSXNGdW5jdGlvbiApIHtcblx0XHRcdFx0dmFsID0gdmFsdWUuY2FsbCggdGhpcywgaSwgalF1ZXJ5KCB0aGlzICkudmFsKCkgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhbCA9IHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUcmVhdCBudWxsL3VuZGVmaW5lZCBhcyBcIlwiOyBjb252ZXJ0IG51bWJlcnMgdG8gc3RyaW5nXG5cdFx0XHRpZiAoIHZhbCA9PSBudWxsICkge1xuXHRcdFx0XHR2YWwgPSBcIlwiO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCB0eXBlb2YgdmFsID09PSBcIm51bWJlclwiICkge1xuXHRcdFx0XHR2YWwgKz0gXCJcIjtcblxuXHRcdFx0fSBlbHNlIGlmICggQXJyYXkuaXNBcnJheSggdmFsICkgKSB7XG5cdFx0XHRcdHZhbCA9IGpRdWVyeS5tYXAoIHZhbCwgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRcdHJldHVybiB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICsgXCJcIjtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXG5cdFx0XHRob29rcyA9IGpRdWVyeS52YWxIb29rc1sgdGhpcy50eXBlIF0gfHwgalF1ZXJ5LnZhbEhvb2tzWyB0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcblxuXHRcdFx0Ly8gSWYgc2V0IHJldHVybnMgdW5kZWZpbmVkLCBmYWxsIGJhY2sgdG8gbm9ybWFsIHNldHRpbmdcblx0XHRcdGlmICggIWhvb2tzIHx8ICEoIFwic2V0XCIgaW4gaG9va3MgKSB8fCBob29rcy5zZXQoIHRoaXMsIHZhbCwgXCJ2YWx1ZVwiICkgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0dGhpcy52YWx1ZSA9IHZhbDtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXHR2YWxIb29rczoge1xuXHRcdG9wdGlvbjoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0XHR2YXIgdmFsID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgXCJ2YWx1ZVwiICk7XG5cdFx0XHRcdHJldHVybiB2YWwgIT0gbnVsbCA/XG5cdFx0XHRcdFx0dmFsIDpcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9MTAgLSAxMSBvbmx5XG5cdFx0XHRcdFx0Ly8gb3B0aW9uLnRleHQgdGhyb3dzIGV4Y2VwdGlvbnMgKHRyYWMtMTQ2ODYsIHRyYWMtMTQ4NTgpXG5cdFx0XHRcdFx0Ly8gU3RyaXAgYW5kIGNvbGxhcHNlIHdoaXRlc3BhY2Vcblx0XHRcdFx0XHQvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNzdHJpcC1hbmQtY29sbGFwc2Utd2hpdGVzcGFjZVxuXHRcdFx0XHRcdHN0cmlwQW5kQ29sbGFwc2UoIGpRdWVyeS50ZXh0KCBlbGVtICkgKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHNlbGVjdDoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIHZhbHVlLCBvcHRpb24sIGksXG5cdFx0XHRcdFx0b3B0aW9ucyA9IGVsZW0ub3B0aW9ucyxcblx0XHRcdFx0XHRpbmRleCA9IGVsZW0uc2VsZWN0ZWRJbmRleCxcblx0XHRcdFx0XHRvbmUgPSBlbGVtLnR5cGUgPT09IFwic2VsZWN0LW9uZVwiLFxuXHRcdFx0XHRcdHZhbHVlcyA9IG9uZSA/IG51bGwgOiBbXSxcblx0XHRcdFx0XHRtYXggPSBvbmUgPyBpbmRleCArIDEgOiBvcHRpb25zLmxlbmd0aDtcblxuXHRcdFx0XHRpZiAoIGluZGV4IDwgMCApIHtcblx0XHRcdFx0XHRpID0gbWF4O1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aSA9IG9uZSA/IGluZGV4IDogMDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIHNlbGVjdGVkIG9wdGlvbnNcblx0XHRcdFx0Zm9yICggOyBpIDwgbWF4OyBpKysgKSB7XG5cdFx0XHRcdFx0b3B0aW9uID0gb3B0aW9uc1sgaSBdO1xuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRcdFx0XHQvLyBJRTgtOSBkb2Vzbid0IHVwZGF0ZSBzZWxlY3RlZCBhZnRlciBmb3JtIHJlc2V0ICh0cmFjLTI1NTEpXG5cdFx0XHRcdFx0aWYgKCAoIG9wdGlvbi5zZWxlY3RlZCB8fCBpID09PSBpbmRleCApICYmXG5cblx0XHRcdFx0XHRcdFx0Ly8gRG9uJ3QgcmV0dXJuIG9wdGlvbnMgdGhhdCBhcmUgZGlzYWJsZWQgb3IgaW4gYSBkaXNhYmxlZCBvcHRncm91cFxuXHRcdFx0XHRcdFx0XHQhb3B0aW9uLmRpc2FibGVkICYmXG5cdFx0XHRcdFx0XHRcdCggIW9wdGlvbi5wYXJlbnROb2RlLmRpc2FibGVkIHx8XG5cdFx0XHRcdFx0XHRcdFx0IW5vZGVOYW1lKCBvcHRpb24ucGFyZW50Tm9kZSwgXCJvcHRncm91cFwiICkgKSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gR2V0IHRoZSBzcGVjaWZpYyB2YWx1ZSBmb3IgdGhlIG9wdGlvblxuXHRcdFx0XHRcdFx0dmFsdWUgPSBqUXVlcnkoIG9wdGlvbiApLnZhbCgpO1xuXG5cdFx0XHRcdFx0XHQvLyBXZSBkb24ndCBuZWVkIGFuIGFycmF5IGZvciBvbmUgc2VsZWN0c1xuXHRcdFx0XHRcdFx0aWYgKCBvbmUgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gTXVsdGktU2VsZWN0cyByZXR1cm4gYW4gYXJyYXlcblx0XHRcdFx0XHRcdHZhbHVlcy5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB2YWx1ZXM7XG5cdFx0XHR9LFxuXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIG9wdGlvblNldCwgb3B0aW9uLFxuXHRcdFx0XHRcdG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsXG5cdFx0XHRcdFx0dmFsdWVzID0galF1ZXJ5Lm1ha2VBcnJheSggdmFsdWUgKSxcblx0XHRcdFx0XHRpID0gb3B0aW9ucy5sZW5ndGg7XG5cblx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0b3B0aW9uID0gb3B0aW9uc1sgaSBdO1xuXG5cdFx0XHRcdFx0LyogZXNsaW50LWRpc2FibGUgbm8tY29uZC1hc3NpZ24gKi9cblxuXHRcdFx0XHRcdGlmICggb3B0aW9uLnNlbGVjdGVkID1cblx0XHRcdFx0XHRcdGpRdWVyeS5pbkFycmF5KCBqUXVlcnkudmFsSG9va3Mub3B0aW9uLmdldCggb3B0aW9uICksIHZhbHVlcyApID4gLTFcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdG9wdGlvblNldCA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0LyogZXNsaW50LWVuYWJsZSBuby1jb25kLWFzc2lnbiAqL1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gRm9yY2UgYnJvd3NlcnMgdG8gYmVoYXZlIGNvbnNpc3RlbnRseSB3aGVuIG5vbi1tYXRjaGluZyB2YWx1ZSBpcyBzZXRcblx0XHRcdFx0aWYgKCAhb3B0aW9uU2V0ICkge1xuXHRcdFx0XHRcdGVsZW0uc2VsZWN0ZWRJbmRleCA9IC0xO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB2YWx1ZXM7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59ICk7XG5cbi8vIFJhZGlvcyBhbmQgY2hlY2tib3hlcyBnZXR0ZXIvc2V0dGVyXG5qUXVlcnkuZWFjaCggWyBcInJhZGlvXCIsIFwiY2hlY2tib3hcIiBdLCBmdW5jdGlvbigpIHtcblx0alF1ZXJ5LnZhbEhvb2tzWyB0aGlzIF0gPSB7XG5cdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0XHRcdHJldHVybiAoIGVsZW0uY2hlY2tlZCA9IGpRdWVyeS5pbkFycmF5KCBqUXVlcnkoIGVsZW0gKS52YWwoKSwgdmFsdWUgKSA+IC0xICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRpZiAoICFzdXBwb3J0LmNoZWNrT24gKSB7XG5cdFx0alF1ZXJ5LnZhbEhvb2tzWyB0aGlzIF0uZ2V0ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiApID09PSBudWxsID8gXCJvblwiIDogZWxlbS52YWx1ZTtcblx0XHR9O1xuXHR9XG59ICk7XG5cblxuXG5cbi8vIFJldHVybiBqUXVlcnkgZm9yIGF0dHJpYnV0ZXMtb25seSBpbmNsdXNpb25cblxuXG5zdXBwb3J0LmZvY3VzaW4gPSBcIm9uZm9jdXNpblwiIGluIHdpbmRvdztcblxuXG52YXIgcmZvY3VzTW9ycGggPSAvXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sXG5cdHN0b3BQcm9wYWdhdGlvbkNhbGxiYWNrID0gZnVuY3Rpb24oIGUgKSB7XG5cdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0fTtcblxualF1ZXJ5LmV4dGVuZCggalF1ZXJ5LmV2ZW50LCB7XG5cblx0dHJpZ2dlcjogZnVuY3Rpb24oIGV2ZW50LCBkYXRhLCBlbGVtLCBvbmx5SGFuZGxlcnMgKSB7XG5cblx0XHR2YXIgaSwgY3VyLCB0bXAsIGJ1YmJsZVR5cGUsIG9udHlwZSwgaGFuZGxlLCBzcGVjaWFsLCBsYXN0RWxlbWVudCxcblx0XHRcdGV2ZW50UGF0aCA9IFsgZWxlbSB8fCBkb2N1bWVudCBdLFxuXHRcdFx0dHlwZSA9IGhhc093bi5jYWxsKCBldmVudCwgXCJ0eXBlXCIgKSA/IGV2ZW50LnR5cGUgOiBldmVudCxcblx0XHRcdG5hbWVzcGFjZXMgPSBoYXNPd24uY2FsbCggZXZlbnQsIFwibmFtZXNwYWNlXCIgKSA/IGV2ZW50Lm5hbWVzcGFjZS5zcGxpdCggXCIuXCIgKSA6IFtdO1xuXG5cdFx0Y3VyID0gbGFzdEVsZW1lbnQgPSB0bXAgPSBlbGVtID0gZWxlbSB8fCBkb2N1bWVudDtcblxuXHRcdC8vIERvbid0IGRvIGV2ZW50cyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXG5cdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gZm9jdXMvYmx1ciBtb3JwaHMgdG8gZm9jdXNpbi9vdXQ7IGVuc3VyZSB3ZSdyZSBub3QgZmlyaW5nIHRoZW0gcmlnaHQgbm93XG5cdFx0aWYgKCByZm9jdXNNb3JwaC50ZXN0KCB0eXBlICsgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZS5pbmRleE9mKCBcIi5cIiApID4gLTEgKSB7XG5cblx0XHRcdC8vIE5hbWVzcGFjZWQgdHJpZ2dlcjsgY3JlYXRlIGEgcmVnZXhwIHRvIG1hdGNoIGV2ZW50IHR5cGUgaW4gaGFuZGxlKClcblx0XHRcdG5hbWVzcGFjZXMgPSB0eXBlLnNwbGl0KCBcIi5cIiApO1xuXHRcdFx0dHlwZSA9IG5hbWVzcGFjZXMuc2hpZnQoKTtcblx0XHRcdG5hbWVzcGFjZXMuc29ydCgpO1xuXHRcdH1cblx0XHRvbnR5cGUgPSB0eXBlLmluZGV4T2YoIFwiOlwiICkgPCAwICYmIFwib25cIiArIHR5cGU7XG5cblx0XHQvLyBDYWxsZXIgY2FuIHBhc3MgaW4gYSBqUXVlcnkuRXZlbnQgb2JqZWN0LCBPYmplY3QsIG9yIGp1c3QgYW4gZXZlbnQgdHlwZSBzdHJpbmdcblx0XHRldmVudCA9IGV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdID9cblx0XHRcdGV2ZW50IDpcblx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoIHR5cGUsIHR5cGVvZiBldmVudCA9PT0gXCJvYmplY3RcIiAmJiBldmVudCApO1xuXG5cdFx0Ly8gVHJpZ2dlciBiaXRtYXNrOiAmIDEgZm9yIG5hdGl2ZSBoYW5kbGVyczsgJiAyIGZvciBqUXVlcnkgKGFsd2F5cyB0cnVlKVxuXHRcdGV2ZW50LmlzVHJpZ2dlciA9IG9ubHlIYW5kbGVycyA/IDIgOiAzO1xuXHRcdGV2ZW50Lm5hbWVzcGFjZSA9IG5hbWVzcGFjZXMuam9pbiggXCIuXCIgKTtcblx0XHRldmVudC5ybmFtZXNwYWNlID0gZXZlbnQubmFtZXNwYWNlID9cblx0XHRcdG5ldyBSZWdFeHAoIFwiKF58XFxcXC4pXCIgKyBuYW1lc3BhY2VzLmpvaW4oIFwiXFxcXC4oPzouKlxcXFwufClcIiApICsgXCIoXFxcXC58JClcIiApIDpcblx0XHRcdG51bGw7XG5cblx0XHQvLyBDbGVhbiB1cCB0aGUgZXZlbnQgaW4gY2FzZSBpdCBpcyBiZWluZyByZXVzZWRcblx0XHRldmVudC5yZXN1bHQgPSB1bmRlZmluZWQ7XG5cdFx0aWYgKCAhZXZlbnQudGFyZ2V0ICkge1xuXHRcdFx0ZXZlbnQudGFyZ2V0ID0gZWxlbTtcblx0XHR9XG5cblx0XHQvLyBDbG9uZSBhbnkgaW5jb21pbmcgZGF0YSBhbmQgcHJlcGVuZCB0aGUgZXZlbnQsIGNyZWF0aW5nIHRoZSBoYW5kbGVyIGFyZyBsaXN0XG5cdFx0ZGF0YSA9IGRhdGEgPT0gbnVsbCA/XG5cdFx0XHRbIGV2ZW50IF0gOlxuXHRcdFx0alF1ZXJ5Lm1ha2VBcnJheSggZGF0YSwgWyBldmVudCBdICk7XG5cblx0XHQvLyBBbGxvdyBzcGVjaWFsIGV2ZW50cyB0byBkcmF3IG91dHNpZGUgdGhlIGxpbmVzXG5cdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFx0aWYgKCAhb25seUhhbmRsZXJzICYmIHNwZWNpYWwudHJpZ2dlciAmJiBzcGVjaWFsLnRyaWdnZXIuYXBwbHkoIGVsZW0sIGRhdGEgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZXJtaW5lIGV2ZW50IHByb3BhZ2F0aW9uIHBhdGggaW4gYWR2YW5jZSwgcGVyIFczQyBldmVudHMgc3BlYyAodHJhYy05OTUxKVxuXHRcdC8vIEJ1YmJsZSB1cCB0byBkb2N1bWVudCwgdGhlbiB0byB3aW5kb3c7IHdhdGNoIGZvciBhIGdsb2JhbCBvd25lckRvY3VtZW50IHZhciAodHJhYy05NzI0KVxuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiAhc3BlY2lhbC5ub0J1YmJsZSAmJiAhaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0YnViYmxlVHlwZSA9IHNwZWNpYWwuZGVsZWdhdGVUeXBlIHx8IHR5cGU7XG5cdFx0XHRpZiAoICFyZm9jdXNNb3JwaC50ZXN0KCBidWJibGVUeXBlICsgdHlwZSApICkge1xuXHRcdFx0XHRjdXIgPSBjdXIucGFyZW50Tm9kZTtcblx0XHRcdH1cblx0XHRcdGZvciAoIDsgY3VyOyBjdXIgPSBjdXIucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0ZXZlbnRQYXRoLnB1c2goIGN1ciApO1xuXHRcdFx0XHR0bXAgPSBjdXI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE9ubHkgYWRkIHdpbmRvdyBpZiB3ZSBnb3QgdG8gZG9jdW1lbnQgKGUuZy4sIG5vdCBwbGFpbiBvYmogb3IgZGV0YWNoZWQgRE9NKVxuXHRcdFx0aWYgKCB0bXAgPT09ICggZWxlbS5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50ICkgKSB7XG5cdFx0XHRcdGV2ZW50UGF0aC5wdXNoKCB0bXAuZGVmYXVsdFZpZXcgfHwgdG1wLnBhcmVudFdpbmRvdyB8fCB3aW5kb3cgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBGaXJlIGhhbmRsZXJzIG9uIHRoZSBldmVudCBwYXRoXG5cdFx0aSA9IDA7XG5cdFx0d2hpbGUgKCAoIGN1ciA9IGV2ZW50UGF0aFsgaSsrIF0gKSAmJiAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblx0XHRcdGxhc3RFbGVtZW50ID0gY3VyO1xuXHRcdFx0ZXZlbnQudHlwZSA9IGkgPiAxID9cblx0XHRcdFx0YnViYmxlVHlwZSA6XG5cdFx0XHRcdHNwZWNpYWwuYmluZFR5cGUgfHwgdHlwZTtcblxuXHRcdFx0Ly8galF1ZXJ5IGhhbmRsZXJcblx0XHRcdGhhbmRsZSA9ICggZGF0YVByaXYuZ2V0KCBjdXIsIFwiZXZlbnRzXCIgKSB8fCBPYmplY3QuY3JlYXRlKCBudWxsICkgKVsgZXZlbnQudHlwZSBdICYmXG5cdFx0XHRcdGRhdGFQcml2LmdldCggY3VyLCBcImhhbmRsZVwiICk7XG5cdFx0XHRpZiAoIGhhbmRsZSApIHtcblx0XHRcdFx0aGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTmF0aXZlIGhhbmRsZXJcblx0XHRcdGhhbmRsZSA9IG9udHlwZSAmJiBjdXJbIG9udHlwZSBdO1xuXHRcdFx0aWYgKCBoYW5kbGUgJiYgaGFuZGxlLmFwcGx5ICYmIGFjY2VwdERhdGEoIGN1ciApICkge1xuXHRcdFx0XHRldmVudC5yZXN1bHQgPSBoYW5kbGUuYXBwbHkoIGN1ciwgZGF0YSApO1xuXHRcdFx0XHRpZiAoIGV2ZW50LnJlc3VsdCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRldmVudC50eXBlID0gdHlwZTtcblxuXHRcdC8vIElmIG5vYm9keSBwcmV2ZW50ZWQgdGhlIGRlZmF1bHQgYWN0aW9uLCBkbyBpdCBub3dcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICkge1xuXG5cdFx0XHRpZiAoICggIXNwZWNpYWwuX2RlZmF1bHQgfHxcblx0XHRcdFx0c3BlY2lhbC5fZGVmYXVsdC5hcHBseSggZXZlbnRQYXRoLnBvcCgpLCBkYXRhICkgPT09IGZhbHNlICkgJiZcblx0XHRcdFx0YWNjZXB0RGF0YSggZWxlbSApICkge1xuXG5cdFx0XHRcdC8vIENhbGwgYSBuYXRpdmUgRE9NIG1ldGhvZCBvbiB0aGUgdGFyZ2V0IHdpdGggdGhlIHNhbWUgbmFtZSBhcyB0aGUgZXZlbnQuXG5cdFx0XHRcdC8vIERvbid0IGRvIGRlZmF1bHQgYWN0aW9ucyBvbiB3aW5kb3csIHRoYXQncyB3aGVyZSBnbG9iYWwgdmFyaWFibGVzIGJlICh0cmFjLTYxNzApXG5cdFx0XHRcdGlmICggb250eXBlICYmIGlzRnVuY3Rpb24oIGVsZW1bIHR5cGUgXSApICYmICFpc1dpbmRvdyggZWxlbSApICkge1xuXG5cdFx0XHRcdFx0Ly8gRG9uJ3QgcmUtdHJpZ2dlciBhbiBvbkZPTyBldmVudCB3aGVuIHdlIGNhbGwgaXRzIEZPTygpIG1ldGhvZFxuXHRcdFx0XHRcdHRtcCA9IGVsZW1bIG9udHlwZSBdO1xuXG5cdFx0XHRcdFx0aWYgKCB0bXAgKSB7XG5cdFx0XHRcdFx0XHRlbGVtWyBvbnR5cGUgXSA9IG51bGw7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gUHJldmVudCByZS10cmlnZ2VyaW5nIG9mIHRoZSBzYW1lIGV2ZW50LCBzaW5jZSB3ZSBhbHJlYWR5IGJ1YmJsZWQgaXQgYWJvdmVcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdHlwZTtcblxuXHRcdFx0XHRcdGlmICggZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblx0XHRcdFx0XHRcdGxhc3RFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIHR5cGUsIHN0b3BQcm9wYWdhdGlvbkNhbGxiYWNrICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZWxlbVsgdHlwZSBdKCk7XG5cblx0XHRcdFx0XHRpZiAoIGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRcdFx0XHRsYXN0RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCB0eXBlLCBzdG9wUHJvcGFnYXRpb25DYWxsYmFjayApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoIHRtcCApIHtcblx0XHRcdFx0XHRcdGVsZW1bIG9udHlwZSBdID0gdG1wO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBldmVudC5yZXN1bHQ7XG5cdH0sXG5cblx0Ly8gUGlnZ3liYWNrIG9uIGEgZG9ub3IgZXZlbnQgdG8gc2ltdWxhdGUgYSBkaWZmZXJlbnQgb25lXG5cdC8vIFVzZWQgb25seSBmb3IgYGZvY3VzKGluIHwgb3V0KWAgZXZlbnRzXG5cdHNpbXVsYXRlOiBmdW5jdGlvbiggdHlwZSwgZWxlbSwgZXZlbnQgKSB7XG5cdFx0dmFyIGUgPSBqUXVlcnkuZXh0ZW5kKFxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCgpLFxuXHRcdFx0ZXZlbnQsXG5cdFx0XHR7XG5cdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdGlzU2ltdWxhdGVkOiB0cnVlXG5cdFx0XHR9XG5cdFx0KTtcblxuXHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBlLCBudWxsLCBlbGVtICk7XG5cdH1cblxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0dHJpZ2dlcjogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggdHlwZSwgZGF0YSwgdGhpcyApO1xuXHRcdH0gKTtcblx0fSxcblx0dHJpZ2dlckhhbmRsZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBlbGVtID0gdGhpc1sgMCBdO1xuXHRcdGlmICggZWxlbSApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuZXZlbnQudHJpZ2dlciggdHlwZSwgZGF0YSwgZWxlbSwgdHJ1ZSApO1xuXHRcdH1cblx0fVxufSApO1xuXG5cbi8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00NFxuLy8gRmlyZWZveCBkb2Vzbid0IGhhdmUgZm9jdXMoaW4gfCBvdXQpIGV2ZW50c1xuLy8gUmVsYXRlZCB0aWNrZXQgLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02ODc3ODdcbi8vXG4vLyBTdXBwb3J0OiBDaHJvbWUgPD00OCAtIDQ5LCBTYWZhcmkgPD05LjAgLSA5LjFcbi8vIGZvY3VzKGluIHwgb3V0KSBldmVudHMgZmlyZSBhZnRlciBmb2N1cyAmIGJsdXIgZXZlbnRzLFxuLy8gd2hpY2ggaXMgc3BlYyB2aW9sYXRpb24gLSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50cy1mb2N1c2V2ZW50LWV2ZW50LW9yZGVyXG4vLyBSZWxhdGVkIHRpY2tldCAtIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ0OTg1N1xuaWYgKCAhc3VwcG9ydC5mb2N1c2luICkge1xuXHRqUXVlcnkuZWFjaCggeyBmb2N1czogXCJmb2N1c2luXCIsIGJsdXI6IFwiZm9jdXNvdXRcIiB9LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xuXG5cdFx0Ly8gQXR0YWNoIGEgc2luZ2xlIGNhcHR1cmluZyBoYW5kbGVyIG9uIHRoZSBkb2N1bWVudCB3aGlsZSBzb21lb25lIHdhbnRzIGZvY3VzaW4vZm9jdXNvdXRcblx0XHR2YXIgaGFuZGxlciA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdGpRdWVyeS5ldmVudC5zaW11bGF0ZSggZml4LCBldmVudC50YXJnZXQsIGpRdWVyeS5ldmVudC5maXgoIGV2ZW50ICkgKTtcblx0XHR9O1xuXG5cdFx0alF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGZpeCBdID0ge1xuXHRcdFx0c2V0dXA6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIEhhbmRsZTogcmVndWxhciBub2RlcyAodmlhIGB0aGlzLm93bmVyRG9jdW1lbnRgKSwgd2luZG93XG5cdFx0XHRcdC8vICh2aWEgYHRoaXMuZG9jdW1lbnRgKSAmIGRvY3VtZW50ICh2aWEgYHRoaXNgKS5cblx0XHRcdFx0dmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLmRvY3VtZW50IHx8IHRoaXMsXG5cdFx0XHRcdFx0YXR0YWNoZXMgPSBkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4ICk7XG5cblx0XHRcdFx0aWYgKCAhYXR0YWNoZXMgKSB7XG5cdFx0XHRcdFx0ZG9jLmFkZEV2ZW50TGlzdGVuZXIoIG9yaWcsIGhhbmRsZXIsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4LCAoIGF0dGFjaGVzIHx8IDAgKSArIDEgKTtcblx0XHRcdH0sXG5cdFx0XHR0ZWFyZG93bjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBkb2MgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcy5kb2N1bWVudCB8fCB0aGlzLFxuXHRcdFx0XHRcdGF0dGFjaGVzID0gZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCApIC0gMTtcblxuXHRcdFx0XHRpZiAoICFhdHRhY2hlcyApIHtcblx0XHRcdFx0XHRkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApO1xuXHRcdFx0XHRcdGRhdGFQcml2LnJlbW92ZSggZG9jLCBmaXggKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXgsIGF0dGFjaGVzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9ICk7XG59XG52YXIgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XG5cbnZhciBub25jZSA9IHsgZ3VpZDogRGF0ZS5ub3coKSB9O1xuXG52YXIgcnF1ZXJ5ID0gKCAvXFw/LyApO1xuXG5cblxuLy8gQ3Jvc3MtYnJvd3NlciB4bWwgcGFyc2luZ1xualF1ZXJ5LnBhcnNlWE1MID0gZnVuY3Rpb24oIGRhdGEgKSB7XG5cdHZhciB4bWwsIHBhcnNlckVycm9yRWxlbTtcblx0aWYgKCAhZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdC8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5XG5cdC8vIElFIHRocm93cyBvbiBwYXJzZUZyb21TdHJpbmcgd2l0aCBpbnZhbGlkIGlucHV0LlxuXHR0cnkge1xuXHRcdHhtbCA9ICggbmV3IHdpbmRvdy5ET01QYXJzZXIoKSApLnBhcnNlRnJvbVN0cmluZyggZGF0YSwgXCJ0ZXh0L3htbFwiICk7XG5cdH0gY2F0Y2ggKCBlICkge31cblxuXHRwYXJzZXJFcnJvckVsZW0gPSB4bWwgJiYgeG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInBhcnNlcmVycm9yXCIgKVsgMCBdO1xuXHRpZiAoICF4bWwgfHwgcGFyc2VyRXJyb3JFbGVtICkge1xuXHRcdGpRdWVyeS5lcnJvciggXCJJbnZhbGlkIFhNTDogXCIgKyAoXG5cdFx0XHRwYXJzZXJFcnJvckVsZW0gP1xuXHRcdFx0XHRqUXVlcnkubWFwKCBwYXJzZXJFcnJvckVsZW0uY2hpbGROb2RlcywgZnVuY3Rpb24oIGVsICkge1xuXHRcdFx0XHRcdHJldHVybiBlbC50ZXh0Q29udGVudDtcblx0XHRcdFx0fSApLmpvaW4oIFwiXFxuXCIgKSA6XG5cdFx0XHRcdGRhdGFcblx0XHQpICk7XG5cdH1cblx0cmV0dXJuIHhtbDtcbn07XG5cblxudmFyXG5cdHJicmFja2V0ID0gL1xcW1xcXSQvLFxuXHRyQ1JMRiA9IC9cXHI/XFxuL2csXG5cdHJzdWJtaXR0ZXJUeXBlcyA9IC9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxcblx0cnN1Ym1pdHRhYmxlID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO1xuXG5mdW5jdGlvbiBidWlsZFBhcmFtcyggcHJlZml4LCBvYmosIHRyYWRpdGlvbmFsLCBhZGQgKSB7XG5cdHZhciBuYW1lO1xuXG5cdGlmICggQXJyYXkuaXNBcnJheSggb2JqICkgKSB7XG5cblx0XHQvLyBTZXJpYWxpemUgYXJyYXkgaXRlbS5cblx0XHRqUXVlcnkuZWFjaCggb2JqLCBmdW5jdGlvbiggaSwgdiApIHtcblx0XHRcdGlmICggdHJhZGl0aW9uYWwgfHwgcmJyYWNrZXQudGVzdCggcHJlZml4ICkgKSB7XG5cblx0XHRcdFx0Ly8gVHJlYXQgZWFjaCBhcnJheSBpdGVtIGFzIGEgc2NhbGFyLlxuXHRcdFx0XHRhZGQoIHByZWZpeCwgdiApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIEl0ZW0gaXMgbm9uLXNjYWxhciAoYXJyYXkgb3Igb2JqZWN0KSwgZW5jb2RlIGl0cyBudW1lcmljIGluZGV4LlxuXHRcdFx0XHRidWlsZFBhcmFtcyhcblx0XHRcdFx0XHRwcmVmaXggKyBcIltcIiArICggdHlwZW9mIHYgPT09IFwib2JqZWN0XCIgJiYgdiAhPSBudWxsID8gaSA6IFwiXCIgKSArIFwiXVwiLFxuXHRcdFx0XHRcdHYsXG5cdFx0XHRcdFx0dHJhZGl0aW9uYWwsXG5cdFx0XHRcdFx0YWRkXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdH0gZWxzZSBpZiAoICF0cmFkaXRpb25hbCAmJiB0b1R5cGUoIG9iaiApID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0Ly8gU2VyaWFsaXplIG9iamVjdCBpdGVtLlxuXHRcdGZvciAoIG5hbWUgaW4gb2JqICkge1xuXHRcdFx0YnVpbGRQYXJhbXMoIHByZWZpeCArIFwiW1wiICsgbmFtZSArIFwiXVwiLCBvYmpbIG5hbWUgXSwgdHJhZGl0aW9uYWwsIGFkZCApO1xuXHRcdH1cblxuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gU2VyaWFsaXplIHNjYWxhciBpdGVtLlxuXHRcdGFkZCggcHJlZml4LCBvYmogKTtcblx0fVxufVxuXG4vLyBTZXJpYWxpemUgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cyBvciBhIHNldCBvZlxuLy8ga2V5L3ZhbHVlcyBpbnRvIGEgcXVlcnkgc3RyaW5nXG5qUXVlcnkucGFyYW0gPSBmdW5jdGlvbiggYSwgdHJhZGl0aW9uYWwgKSB7XG5cdHZhciBwcmVmaXgsXG5cdFx0cyA9IFtdLFxuXHRcdGFkZCA9IGZ1bmN0aW9uKCBrZXksIHZhbHVlT3JGdW5jdGlvbiApIHtcblxuXHRcdFx0Ly8gSWYgdmFsdWUgaXMgYSBmdW5jdGlvbiwgaW52b2tlIGl0IGFuZCB1c2UgaXRzIHJldHVybiB2YWx1ZVxuXHRcdFx0dmFyIHZhbHVlID0gaXNGdW5jdGlvbiggdmFsdWVPckZ1bmN0aW9uICkgP1xuXHRcdFx0XHR2YWx1ZU9yRnVuY3Rpb24oKSA6XG5cdFx0XHRcdHZhbHVlT3JGdW5jdGlvbjtcblxuXHRcdFx0c1sgcy5sZW5ndGggXSA9IGVuY29kZVVSSUNvbXBvbmVudCgga2V5ICkgKyBcIj1cIiArXG5cdFx0XHRcdGVuY29kZVVSSUNvbXBvbmVudCggdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSApO1xuXHRcdH07XG5cblx0aWYgKCBhID09IG51bGwgKSB7XG5cdFx0cmV0dXJuIFwiXCI7XG5cdH1cblxuXHQvLyBJZiBhbiBhcnJheSB3YXMgcGFzc2VkIGluLCBhc3N1bWUgdGhhdCBpdCBpcyBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzLlxuXHRpZiAoIEFycmF5LmlzQXJyYXkoIGEgKSB8fCAoIGEuanF1ZXJ5ICYmICFqUXVlcnkuaXNQbGFpbk9iamVjdCggYSApICkgKSB7XG5cblx0XHQvLyBTZXJpYWxpemUgdGhlIGZvcm0gZWxlbWVudHNcblx0XHRqUXVlcnkuZWFjaCggYSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRhZGQoIHRoaXMubmFtZSwgdGhpcy52YWx1ZSApO1xuXHRcdH0gKTtcblxuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gSWYgdHJhZGl0aW9uYWwsIGVuY29kZSB0aGUgXCJvbGRcIiB3YXkgKHRoZSB3YXkgMS4zLjIgb3Igb2xkZXJcblx0XHQvLyBkaWQgaXQpLCBvdGhlcndpc2UgZW5jb2RlIHBhcmFtcyByZWN1cnNpdmVseS5cblx0XHRmb3IgKCBwcmVmaXggaW4gYSApIHtcblx0XHRcdGJ1aWxkUGFyYW1zKCBwcmVmaXgsIGFbIHByZWZpeCBdLCB0cmFkaXRpb25hbCwgYWRkICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSByZXN1bHRpbmcgc2VyaWFsaXphdGlvblxuXHRyZXR1cm4gcy5qb2luKCBcIiZcIiApO1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRzZXJpYWxpemU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBqUXVlcnkucGFyYW0oIHRoaXMuc2VyaWFsaXplQXJyYXkoKSApO1xuXHR9LFxuXHRzZXJpYWxpemVBcnJheTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gQ2FuIGFkZCBwcm9wSG9vayBmb3IgXCJlbGVtZW50c1wiIHRvIGZpbHRlciBvciBhZGQgZm9ybSBlbGVtZW50c1xuXHRcdFx0dmFyIGVsZW1lbnRzID0galF1ZXJ5LnByb3AoIHRoaXMsIFwiZWxlbWVudHNcIiApO1xuXHRcdFx0cmV0dXJuIGVsZW1lbnRzID8galF1ZXJ5Lm1ha2VBcnJheSggZWxlbWVudHMgKSA6IHRoaXM7XG5cdFx0fSApLmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgdHlwZSA9IHRoaXMudHlwZTtcblxuXHRcdFx0Ly8gVXNlIC5pcyggXCI6ZGlzYWJsZWRcIiApIHNvIHRoYXQgZmllbGRzZXRbZGlzYWJsZWRdIHdvcmtzXG5cdFx0XHRyZXR1cm4gdGhpcy5uYW1lICYmICFqUXVlcnkoIHRoaXMgKS5pcyggXCI6ZGlzYWJsZWRcIiApICYmXG5cdFx0XHRcdHJzdWJtaXR0YWJsZS50ZXN0KCB0aGlzLm5vZGVOYW1lICkgJiYgIXJzdWJtaXR0ZXJUeXBlcy50ZXN0KCB0eXBlICkgJiZcblx0XHRcdFx0KCB0aGlzLmNoZWNrZWQgfHwgIXJjaGVja2FibGVUeXBlLnRlc3QoIHR5cGUgKSApO1xuXHRcdH0gKS5tYXAoIGZ1bmN0aW9uKCBfaSwgZWxlbSApIHtcblx0XHRcdHZhciB2YWwgPSBqUXVlcnkoIHRoaXMgKS52YWwoKTtcblxuXHRcdFx0aWYgKCB2YWwgPT0gbnVsbCApIHtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggQXJyYXkuaXNBcnJheSggdmFsICkgKSB7XG5cdFx0XHRcdHJldHVybiBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWwgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4geyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZSggckNSTEYsIFwiXFxyXFxuXCIgKSB9O1xuXHRcdH0gKS5nZXQoKTtcblx0fVxufSApO1xuXG5cbnZhclxuXHRyMjAgPSAvJTIwL2csXG5cdHJoYXNoID0gLyMuKiQvLFxuXHRyYW50aUNhY2hlID0gLyhbPyZdKV89W14mXSovLFxuXHRyaGVhZGVycyA9IC9eKC4qPyk6WyBcXHRdKihbXlxcclxcbl0qKSQvbWcsXG5cblx0Ly8gdHJhYy03NjUzLCB0cmFjLTgxMjUsIHRyYWMtODE1MjogbG9jYWwgcHJvdG9jb2wgZGV0ZWN0aW9uXG5cdHJsb2NhbFByb3RvY29sID0gL14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sXG5cdHJub0NvbnRlbnQgPSAvXig/OkdFVHxIRUFEKSQvLFxuXHRycHJvdG9jb2wgPSAvXlxcL1xcLy8sXG5cblx0LyogUHJlZmlsdGVyc1xuXHQgKiAxKSBUaGV5IGFyZSB1c2VmdWwgdG8gaW50cm9kdWNlIGN1c3RvbSBkYXRhVHlwZXMgKHNlZSBhamF4L2pzb25wLmpzIGZvciBhbiBleGFtcGxlKVxuXHQgKiAyKSBUaGVzZSBhcmUgY2FsbGVkOlxuXHQgKiAgICAtIEJFRk9SRSBhc2tpbmcgZm9yIGEgdHJhbnNwb3J0XG5cdCAqICAgIC0gQUZURVIgcGFyYW0gc2VyaWFsaXphdGlvbiAocy5kYXRhIGlzIGEgc3RyaW5nIGlmIHMucHJvY2Vzc0RhdGEgaXMgdHJ1ZSlcblx0ICogMykga2V5IGlzIHRoZSBkYXRhVHlwZVxuXHQgKiA0KSB0aGUgY2F0Y2hhbGwgc3ltYm9sIFwiKlwiIGNhbiBiZSB1c2VkXG5cdCAqIDUpIGV4ZWN1dGlvbiB3aWxsIHN0YXJ0IHdpdGggdHJhbnNwb3J0IGRhdGFUeXBlIGFuZCBUSEVOIGNvbnRpbnVlIGRvd24gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdCAqL1xuXHRwcmVmaWx0ZXJzID0ge30sXG5cblx0LyogVHJhbnNwb3J0cyBiaW5kaW5nc1xuXHQgKiAxKSBrZXkgaXMgdGhlIGRhdGFUeXBlXG5cdCAqIDIpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcblx0ICogMykgc2VsZWN0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gZ28gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdCAqL1xuXHR0cmFuc3BvcnRzID0ge30sXG5cblx0Ly8gQXZvaWQgY29tbWVudC1wcm9sb2cgY2hhciBzZXF1ZW5jZSAodHJhYy0xMDA5OCk7IG11c3QgYXBwZWFzZSBsaW50IGFuZCBldmFkZSBjb21wcmVzc2lvblxuXHRhbGxUeXBlcyA9IFwiKi9cIi5jb25jYXQoIFwiKlwiICksXG5cblx0Ly8gQW5jaG9yIHRhZyBmb3IgcGFyc2luZyB0aGUgZG9jdW1lbnQgb3JpZ2luXG5cdG9yaWdpbkFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiYVwiICk7XG5cbm9yaWdpbkFuY2hvci5ocmVmID0gbG9jYXRpb24uaHJlZjtcblxuLy8gQmFzZSBcImNvbnN0cnVjdG9yXCIgZm9yIGpRdWVyeS5hamF4UHJlZmlsdGVyIGFuZCBqUXVlcnkuYWpheFRyYW5zcG9ydFxuZnVuY3Rpb24gYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBzdHJ1Y3R1cmUgKSB7XG5cblx0Ly8gZGF0YVR5cGVFeHByZXNzaW9uIGlzIG9wdGlvbmFsIGFuZCBkZWZhdWx0cyB0byBcIipcIlxuXHRyZXR1cm4gZnVuY3Rpb24oIGRhdGFUeXBlRXhwcmVzc2lvbiwgZnVuYyApIHtcblxuXHRcdGlmICggdHlwZW9mIGRhdGFUeXBlRXhwcmVzc2lvbiAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGZ1bmMgPSBkYXRhVHlwZUV4cHJlc3Npb247XG5cdFx0XHRkYXRhVHlwZUV4cHJlc3Npb24gPSBcIipcIjtcblx0XHR9XG5cblx0XHR2YXIgZGF0YVR5cGUsXG5cdFx0XHRpID0gMCxcblx0XHRcdGRhdGFUeXBlcyA9IGRhdGFUeXBlRXhwcmVzc2lvbi50b0xvd2VyQ2FzZSgpLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW107XG5cblx0XHRpZiAoIGlzRnVuY3Rpb24oIGZ1bmMgKSApIHtcblxuXHRcdFx0Ly8gRm9yIGVhY2ggZGF0YVR5cGUgaW4gdGhlIGRhdGFUeXBlRXhwcmVzc2lvblxuXHRcdFx0d2hpbGUgKCAoIGRhdGFUeXBlID0gZGF0YVR5cGVzWyBpKysgXSApICkge1xuXG5cdFx0XHRcdC8vIFByZXBlbmQgaWYgcmVxdWVzdGVkXG5cdFx0XHRcdGlmICggZGF0YVR5cGVbIDAgXSA9PT0gXCIrXCIgKSB7XG5cdFx0XHRcdFx0ZGF0YVR5cGUgPSBkYXRhVHlwZS5zbGljZSggMSApIHx8IFwiKlwiO1xuXHRcdFx0XHRcdCggc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdICkudW5zaGlmdCggZnVuYyApO1xuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBhcHBlbmRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQoIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSA9IHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSApLnB1c2goIGZ1bmMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLy8gQmFzZSBpbnNwZWN0aW9uIGZ1bmN0aW9uIGZvciBwcmVmaWx0ZXJzIGFuZCB0cmFuc3BvcnRzXG5mdW5jdGlvbiBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggc3RydWN0dXJlLCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSICkge1xuXG5cdHZhciBpbnNwZWN0ZWQgPSB7fSxcblx0XHRzZWVraW5nVHJhbnNwb3J0ID0gKCBzdHJ1Y3R1cmUgPT09IHRyYW5zcG9ydHMgKTtcblxuXHRmdW5jdGlvbiBpbnNwZWN0KCBkYXRhVHlwZSApIHtcblx0XHR2YXIgc2VsZWN0ZWQ7XG5cdFx0aW5zcGVjdGVkWyBkYXRhVHlwZSBdID0gdHJ1ZTtcblx0XHRqUXVlcnkuZWFjaCggc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdLCBmdW5jdGlvbiggXywgcHJlZmlsdGVyT3JGYWN0b3J5ICkge1xuXHRcdFx0dmFyIGRhdGFUeXBlT3JUcmFuc3BvcnQgPSBwcmVmaWx0ZXJPckZhY3RvcnkoIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIgKTtcblx0XHRcdGlmICggdHlwZW9mIGRhdGFUeXBlT3JUcmFuc3BvcnQgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0IXNlZWtpbmdUcmFuc3BvcnQgJiYgIWluc3BlY3RlZFsgZGF0YVR5cGVPclRyYW5zcG9ydCBdICkge1xuXG5cdFx0XHRcdG9wdGlvbnMuZGF0YVR5cGVzLnVuc2hpZnQoIGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdFx0aW5zcGVjdCggZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9IGVsc2UgaWYgKCBzZWVraW5nVHJhbnNwb3J0ICkge1xuXHRcdFx0XHRyZXR1cm4gISggc2VsZWN0ZWQgPSBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHRcdHJldHVybiBzZWxlY3RlZDtcblx0fVxuXG5cdHJldHVybiBpbnNwZWN0KCBvcHRpb25zLmRhdGFUeXBlc1sgMCBdICkgfHwgIWluc3BlY3RlZFsgXCIqXCIgXSAmJiBpbnNwZWN0KCBcIipcIiApO1xufVxuXG4vLyBBIHNwZWNpYWwgZXh0ZW5kIGZvciBhamF4IG9wdGlvbnNcbi8vIHRoYXQgdGFrZXMgXCJmbGF0XCIgb3B0aW9ucyAobm90IHRvIGJlIGRlZXAgZXh0ZW5kZWQpXG4vLyBGaXhlcyB0cmFjLTk4ODdcbmZ1bmN0aW9uIGFqYXhFeHRlbmQoIHRhcmdldCwgc3JjICkge1xuXHR2YXIga2V5LCBkZWVwLFxuXHRcdGZsYXRPcHRpb25zID0galF1ZXJ5LmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9ucyB8fCB7fTtcblxuXHRmb3IgKCBrZXkgaW4gc3JjICkge1xuXHRcdGlmICggc3JjWyBrZXkgXSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0KCBmbGF0T3B0aW9uc1sga2V5IF0gPyB0YXJnZXQgOiAoIGRlZXAgfHwgKCBkZWVwID0ge30gKSApIClbIGtleSBdID0gc3JjWyBrZXkgXTtcblx0XHR9XG5cdH1cblx0aWYgKCBkZWVwICkge1xuXHRcdGpRdWVyeS5leHRlbmQoIHRydWUsIHRhcmdldCwgZGVlcCApO1xuXHR9XG5cblx0cmV0dXJuIHRhcmdldDtcbn1cblxuLyogSGFuZGxlcyByZXNwb25zZXMgdG8gYW4gYWpheCByZXF1ZXN0OlxuICogLSBmaW5kcyB0aGUgcmlnaHQgZGF0YVR5cGUgKG1lZGlhdGVzIGJldHdlZW4gY29udGVudC10eXBlIGFuZCBleHBlY3RlZCBkYXRhVHlwZSlcbiAqIC0gcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyByZXNwb25zZVxuICovXG5mdW5jdGlvbiBhamF4SGFuZGxlUmVzcG9uc2VzKCBzLCBqcVhIUiwgcmVzcG9uc2VzICkge1xuXG5cdHZhciBjdCwgdHlwZSwgZmluYWxEYXRhVHlwZSwgZmlyc3REYXRhVHlwZSxcblx0XHRjb250ZW50cyA9IHMuY29udGVudHMsXG5cdFx0ZGF0YVR5cGVzID0gcy5kYXRhVHlwZXM7XG5cblx0Ly8gUmVtb3ZlIGF1dG8gZGF0YVR5cGUgYW5kIGdldCBjb250ZW50LXR5cGUgaW4gdGhlIHByb2Nlc3Ncblx0d2hpbGUgKCBkYXRhVHlwZXNbIDAgXSA9PT0gXCIqXCIgKSB7XG5cdFx0ZGF0YVR5cGVzLnNoaWZ0KCk7XG5cdFx0aWYgKCBjdCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0Y3QgPSBzLm1pbWVUeXBlIHx8IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCBcIkNvbnRlbnQtVHlwZVwiICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ2hlY2sgaWYgd2UncmUgZGVhbGluZyB3aXRoIGEga25vd24gY29udGVudC10eXBlXG5cdGlmICggY3QgKSB7XG5cdFx0Zm9yICggdHlwZSBpbiBjb250ZW50cyApIHtcblx0XHRcdGlmICggY29udGVudHNbIHR5cGUgXSAmJiBjb250ZW50c1sgdHlwZSBdLnRlc3QoIGN0ICkgKSB7XG5cdFx0XHRcdGRhdGFUeXBlcy51bnNoaWZ0KCB0eXBlICk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBoYXZlIGEgcmVzcG9uc2UgZm9yIHRoZSBleHBlY3RlZCBkYXRhVHlwZVxuXHRpZiAoIGRhdGFUeXBlc1sgMCBdIGluIHJlc3BvbnNlcyApIHtcblx0XHRmaW5hbERhdGFUeXBlID0gZGF0YVR5cGVzWyAwIF07XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBUcnkgY29udmVydGlibGUgZGF0YVR5cGVzXG5cdFx0Zm9yICggdHlwZSBpbiByZXNwb25zZXMgKSB7XG5cdFx0XHRpZiAoICFkYXRhVHlwZXNbIDAgXSB8fCBzLmNvbnZlcnRlcnNbIHR5cGUgKyBcIiBcIiArIGRhdGFUeXBlc1sgMCBdIF0gKSB7XG5cdFx0XHRcdGZpbmFsRGF0YVR5cGUgPSB0eXBlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGlmICggIWZpcnN0RGF0YVR5cGUgKSB7XG5cdFx0XHRcdGZpcnN0RGF0YVR5cGUgPSB0eXBlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIE9yIGp1c3QgdXNlIGZpcnN0IG9uZVxuXHRcdGZpbmFsRGF0YVR5cGUgPSBmaW5hbERhdGFUeXBlIHx8IGZpcnN0RGF0YVR5cGU7XG5cdH1cblxuXHQvLyBJZiB3ZSBmb3VuZCBhIGRhdGFUeXBlXG5cdC8vIFdlIGFkZCB0aGUgZGF0YVR5cGUgdG8gdGhlIGxpc3QgaWYgbmVlZGVkXG5cdC8vIGFuZCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2Vcblx0aWYgKCBmaW5hbERhdGFUeXBlICkge1xuXHRcdGlmICggZmluYWxEYXRhVHlwZSAhPT0gZGF0YVR5cGVzWyAwIF0gKSB7XG5cdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggZmluYWxEYXRhVHlwZSApO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzcG9uc2VzWyBmaW5hbERhdGFUeXBlIF07XG5cdH1cbn1cblxuLyogQ2hhaW4gY29udmVyc2lvbnMgZ2l2ZW4gdGhlIHJlcXVlc3QgYW5kIHRoZSBvcmlnaW5hbCByZXNwb25zZVxuICogQWxzbyBzZXRzIHRoZSByZXNwb25zZVhYWCBmaWVsZHMgb24gdGhlIGpxWEhSIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIGFqYXhDb252ZXJ0KCBzLCByZXNwb25zZSwganFYSFIsIGlzU3VjY2VzcyApIHtcblx0dmFyIGNvbnYyLCBjdXJyZW50LCBjb252LCB0bXAsIHByZXYsXG5cdFx0Y29udmVydGVycyA9IHt9LFxuXG5cdFx0Ly8gV29yayB3aXRoIGEgY29weSBvZiBkYXRhVHlwZXMgaW4gY2FzZSB3ZSBuZWVkIHRvIG1vZGlmeSBpdCBmb3IgY29udmVyc2lvblxuXHRcdGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzLnNsaWNlKCk7XG5cblx0Ly8gQ3JlYXRlIGNvbnZlcnRlcnMgbWFwIHdpdGggbG93ZXJjYXNlZCBrZXlzXG5cdGlmICggZGF0YVR5cGVzWyAxIF0gKSB7XG5cdFx0Zm9yICggY29udiBpbiBzLmNvbnZlcnRlcnMgKSB7XG5cdFx0XHRjb252ZXJ0ZXJzWyBjb252LnRvTG93ZXJDYXNlKCkgXSA9IHMuY29udmVydGVyc1sgY29udiBdO1xuXHRcdH1cblx0fVxuXG5cdGN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTtcblxuXHQvLyBDb252ZXJ0IHRvIGVhY2ggc2VxdWVudGlhbCBkYXRhVHlwZVxuXHR3aGlsZSAoIGN1cnJlbnQgKSB7XG5cblx0XHRpZiAoIHMucmVzcG9uc2VGaWVsZHNbIGN1cnJlbnQgXSApIHtcblx0XHRcdGpxWEhSWyBzLnJlc3BvbnNlRmllbGRzWyBjdXJyZW50IF0gXSA9IHJlc3BvbnNlO1xuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHRoZSBkYXRhRmlsdGVyIGlmIHByb3ZpZGVkXG5cdFx0aWYgKCAhcHJldiAmJiBpc1N1Y2Nlc3MgJiYgcy5kYXRhRmlsdGVyICkge1xuXHRcdFx0cmVzcG9uc2UgPSBzLmRhdGFGaWx0ZXIoIHJlc3BvbnNlLCBzLmRhdGFUeXBlICk7XG5cdFx0fVxuXG5cdFx0cHJldiA9IGN1cnJlbnQ7XG5cdFx0Y3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpO1xuXG5cdFx0aWYgKCBjdXJyZW50ICkge1xuXG5cdFx0XHQvLyBUaGVyZSdzIG9ubHkgd29yayB0byBkbyBpZiBjdXJyZW50IGRhdGFUeXBlIGlzIG5vbi1hdXRvXG5cdFx0XHRpZiAoIGN1cnJlbnQgPT09IFwiKlwiICkge1xuXG5cdFx0XHRcdGN1cnJlbnQgPSBwcmV2O1xuXG5cdFx0XHQvLyBDb252ZXJ0IHJlc3BvbnNlIGlmIHByZXYgZGF0YVR5cGUgaXMgbm9uLWF1dG8gYW5kIGRpZmZlcnMgZnJvbSBjdXJyZW50XG5cdFx0XHR9IGVsc2UgaWYgKCBwcmV2ICE9PSBcIipcIiAmJiBwcmV2ICE9PSBjdXJyZW50ICkge1xuXG5cdFx0XHRcdC8vIFNlZWsgYSBkaXJlY3QgY29udmVydGVyXG5cdFx0XHRcdGNvbnYgPSBjb252ZXJ0ZXJzWyBwcmV2ICsgXCIgXCIgKyBjdXJyZW50IF0gfHwgY29udmVydGVyc1sgXCIqIFwiICsgY3VycmVudCBdO1xuXG5cdFx0XHRcdC8vIElmIG5vbmUgZm91bmQsIHNlZWsgYSBwYWlyXG5cdFx0XHRcdGlmICggIWNvbnYgKSB7XG5cdFx0XHRcdFx0Zm9yICggY29udjIgaW4gY29udmVydGVycyApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSWYgY29udjIgb3V0cHV0cyBjdXJyZW50XG5cdFx0XHRcdFx0XHR0bXAgPSBjb252Mi5zcGxpdCggXCIgXCIgKTtcblx0XHRcdFx0XHRcdGlmICggdG1wWyAxIF0gPT09IGN1cnJlbnQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gSWYgcHJldiBjYW4gYmUgY29udmVydGVkIHRvIGFjY2VwdGVkIGlucHV0XG5cdFx0XHRcdFx0XHRcdGNvbnYgPSBjb252ZXJ0ZXJzWyBwcmV2ICsgXCIgXCIgKyB0bXBbIDAgXSBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0Y29udmVydGVyc1sgXCIqIFwiICsgdG1wWyAwIF0gXTtcblx0XHRcdFx0XHRcdFx0aWYgKCBjb252ICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gQ29uZGVuc2UgZXF1aXZhbGVuY2UgY29udmVydGVyc1xuXHRcdFx0XHRcdFx0XHRcdGlmICggY29udiA9PT0gdHJ1ZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnYgPSBjb252ZXJ0ZXJzWyBjb252MiBdO1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBpbnNlcnQgdGhlIGludGVybWVkaWF0ZSBkYXRhVHlwZVxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGNvbnZlcnRlcnNbIGNvbnYyIF0gIT09IHRydWUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjdXJyZW50ID0gdG1wWyAwIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggdG1wWyAxIF0gKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBcHBseSBjb252ZXJ0ZXIgKGlmIG5vdCBhbiBlcXVpdmFsZW5jZSlcblx0XHRcdFx0aWYgKCBjb252ICE9PSB0cnVlICkge1xuXG5cdFx0XHRcdFx0Ly8gVW5sZXNzIGVycm9ycyBhcmUgYWxsb3dlZCB0byBidWJibGUsIGNhdGNoIGFuZCByZXR1cm4gdGhlbVxuXHRcdFx0XHRcdGlmICggY29udiAmJiBzLnRocm93cyApIHtcblx0XHRcdFx0XHRcdHJlc3BvbnNlID0gY29udiggcmVzcG9uc2UgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0cmVzcG9uc2UgPSBjb252KCByZXNwb25zZSApO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0c3RhdGU6IFwicGFyc2VyZXJyb3JcIixcblx0XHRcdFx0XHRcdFx0XHRlcnJvcjogY29udiA/IGUgOiBcIk5vIGNvbnZlcnNpb24gZnJvbSBcIiArIHByZXYgKyBcIiB0byBcIiArIGN1cnJlbnRcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4geyBzdGF0ZTogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3BvbnNlIH07XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBDb3VudGVyIGZvciBob2xkaW5nIHRoZSBudW1iZXIgb2YgYWN0aXZlIHF1ZXJpZXNcblx0YWN0aXZlOiAwLFxuXG5cdC8vIExhc3QtTW9kaWZpZWQgaGVhZGVyIGNhY2hlIGZvciBuZXh0IHJlcXVlc3Rcblx0bGFzdE1vZGlmaWVkOiB7fSxcblx0ZXRhZzoge30sXG5cblx0YWpheFNldHRpbmdzOiB7XG5cdFx0dXJsOiBsb2NhdGlvbi5ocmVmLFxuXHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0aXNMb2NhbDogcmxvY2FsUHJvdG9jb2wudGVzdCggbG9jYXRpb24ucHJvdG9jb2wgKSxcblx0XHRnbG9iYWw6IHRydWUsXG5cdFx0cHJvY2Vzc0RhdGE6IHRydWUsXG5cdFx0YXN5bmM6IHRydWUsXG5cdFx0Y29udGVudFR5cGU6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04XCIsXG5cblx0XHQvKlxuXHRcdHRpbWVvdXQ6IDAsXG5cdFx0ZGF0YTogbnVsbCxcblx0XHRkYXRhVHlwZTogbnVsbCxcblx0XHR1c2VybmFtZTogbnVsbCxcblx0XHRwYXNzd29yZDogbnVsbCxcblx0XHRjYWNoZTogbnVsbCxcblx0XHR0aHJvd3M6IGZhbHNlLFxuXHRcdHRyYWRpdGlvbmFsOiBmYWxzZSxcblx0XHRoZWFkZXJzOiB7fSxcblx0XHQqL1xuXG5cdFx0YWNjZXB0czoge1xuXHRcdFx0XCIqXCI6IGFsbFR5cGVzLFxuXHRcdFx0dGV4dDogXCJ0ZXh0L3BsYWluXCIsXG5cdFx0XHRodG1sOiBcInRleHQvaHRtbFwiLFxuXHRcdFx0eG1sOiBcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcIixcblx0XHRcdGpzb246IFwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0XCJcblx0XHR9LFxuXG5cdFx0Y29udGVudHM6IHtcblx0XHRcdHhtbDogL1xcYnhtbFxcYi8sXG5cdFx0XHRodG1sOiAvXFxiaHRtbC8sXG5cdFx0XHRqc29uOiAvXFxianNvblxcYi9cblx0XHR9LFxuXG5cdFx0cmVzcG9uc2VGaWVsZHM6IHtcblx0XHRcdHhtbDogXCJyZXNwb25zZVhNTFwiLFxuXHRcdFx0dGV4dDogXCJyZXNwb25zZVRleHRcIixcblx0XHRcdGpzb246IFwicmVzcG9uc2VKU09OXCJcblx0XHR9LFxuXG5cdFx0Ly8gRGF0YSBjb252ZXJ0ZXJzXG5cdFx0Ly8gS2V5cyBzZXBhcmF0ZSBzb3VyY2UgKG9yIGNhdGNoYWxsIFwiKlwiKSBhbmQgZGVzdGluYXRpb24gdHlwZXMgd2l0aCBhIHNpbmdsZSBzcGFjZVxuXHRcdGNvbnZlcnRlcnM6IHtcblxuXHRcdFx0Ly8gQ29udmVydCBhbnl0aGluZyB0byB0ZXh0XG5cdFx0XHRcIiogdGV4dFwiOiBTdHJpbmcsXG5cblx0XHRcdC8vIFRleHQgdG8gaHRtbCAodHJ1ZSA9IG5vIHRyYW5zZm9ybWF0aW9uKVxuXHRcdFx0XCJ0ZXh0IGh0bWxcIjogdHJ1ZSxcblxuXHRcdFx0Ly8gRXZhbHVhdGUgdGV4dCBhcyBhIGpzb24gZXhwcmVzc2lvblxuXHRcdFx0XCJ0ZXh0IGpzb25cIjogSlNPTi5wYXJzZSxcblxuXHRcdFx0Ly8gUGFyc2UgdGV4dCBhcyB4bWxcblx0XHRcdFwidGV4dCB4bWxcIjogalF1ZXJ5LnBhcnNlWE1MXG5cdFx0fSxcblxuXHRcdC8vIEZvciBvcHRpb25zIHRoYXQgc2hvdWxkbid0IGJlIGRlZXAgZXh0ZW5kZWQ6XG5cdFx0Ly8geW91IGNhbiBhZGQgeW91ciBvd24gY3VzdG9tIG9wdGlvbnMgaGVyZSBpZlxuXHRcdC8vIGFuZCB3aGVuIHlvdSBjcmVhdGUgb25lIHRoYXQgc2hvdWxkbid0IGJlXG5cdFx0Ly8gZGVlcCBleHRlbmRlZCAoc2VlIGFqYXhFeHRlbmQpXG5cdFx0ZmxhdE9wdGlvbnM6IHtcblx0XHRcdHVybDogdHJ1ZSxcblx0XHRcdGNvbnRleHQ6IHRydWVcblx0XHR9XG5cdH0sXG5cblx0Ly8gQ3JlYXRlcyBhIGZ1bGwgZmxlZGdlZCBzZXR0aW5ncyBvYmplY3QgaW50byB0YXJnZXRcblx0Ly8gd2l0aCBib3RoIGFqYXhTZXR0aW5ncyBhbmQgc2V0dGluZ3MgZmllbGRzLlxuXHQvLyBJZiB0YXJnZXQgaXMgb21pdHRlZCwgd3JpdGVzIGludG8gYWpheFNldHRpbmdzLlxuXHRhamF4U2V0dXA6IGZ1bmN0aW9uKCB0YXJnZXQsIHNldHRpbmdzICkge1xuXHRcdHJldHVybiBzZXR0aW5ncyA/XG5cblx0XHRcdC8vIEJ1aWxkaW5nIGEgc2V0dGluZ3Mgb2JqZWN0XG5cdFx0XHRhamF4RXh0ZW5kKCBhamF4RXh0ZW5kKCB0YXJnZXQsIGpRdWVyeS5hamF4U2V0dGluZ3MgKSwgc2V0dGluZ3MgKSA6XG5cblx0XHRcdC8vIEV4dGVuZGluZyBhamF4U2V0dGluZ3Ncblx0XHRcdGFqYXhFeHRlbmQoIGpRdWVyeS5hamF4U2V0dGluZ3MsIHRhcmdldCApO1xuXHR9LFxuXG5cdGFqYXhQcmVmaWx0ZXI6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggcHJlZmlsdGVycyApLFxuXHRhamF4VHJhbnNwb3J0OiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMgKSxcblxuXHQvLyBNYWluIG1ldGhvZFxuXHRhamF4OiBmdW5jdGlvbiggdXJsLCBvcHRpb25zICkge1xuXG5cdFx0Ly8gSWYgdXJsIGlzIGFuIG9iamVjdCwgc2ltdWxhdGUgcHJlLTEuNSBzaWduYXR1cmVcblx0XHRpZiAoIHR5cGVvZiB1cmwgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0XHRvcHRpb25zID0gdXJsO1xuXHRcdFx0dXJsID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdC8vIEZvcmNlIG9wdGlvbnMgdG8gYmUgYW4gb2JqZWN0XG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0XHR2YXIgdHJhbnNwb3J0LFxuXG5cdFx0XHQvLyBVUkwgd2l0aG91dCBhbnRpLWNhY2hlIHBhcmFtXG5cdFx0XHRjYWNoZVVSTCxcblxuXHRcdFx0Ly8gUmVzcG9uc2UgaGVhZGVyc1xuXHRcdFx0cmVzcG9uc2VIZWFkZXJzU3RyaW5nLFxuXHRcdFx0cmVzcG9uc2VIZWFkZXJzLFxuXG5cdFx0XHQvLyB0aW1lb3V0IGhhbmRsZVxuXHRcdFx0dGltZW91dFRpbWVyLFxuXG5cdFx0XHQvLyBVcmwgY2xlYW51cCB2YXJcblx0XHRcdHVybEFuY2hvcixcblxuXHRcdFx0Ly8gUmVxdWVzdCBzdGF0ZSAoYmVjb21lcyBmYWxzZSB1cG9uIHNlbmQgYW5kIHRydWUgdXBvbiBjb21wbGV0aW9uKVxuXHRcdFx0Y29tcGxldGVkLFxuXG5cdFx0XHQvLyBUbyBrbm93IGlmIGdsb2JhbCBldmVudHMgYXJlIHRvIGJlIGRpc3BhdGNoZWRcblx0XHRcdGZpcmVHbG9iYWxzLFxuXG5cdFx0XHQvLyBMb29wIHZhcmlhYmxlXG5cdFx0XHRpLFxuXG5cdFx0XHQvLyB1bmNhY2hlZCBwYXJ0IG9mIHRoZSB1cmxcblx0XHRcdHVuY2FjaGVkLFxuXG5cdFx0XHQvLyBDcmVhdGUgdGhlIGZpbmFsIG9wdGlvbnMgb2JqZWN0XG5cdFx0XHRzID0galF1ZXJ5LmFqYXhTZXR1cCgge30sIG9wdGlvbnMgKSxcblxuXHRcdFx0Ly8gQ2FsbGJhY2tzIGNvbnRleHRcblx0XHRcdGNhbGxiYWNrQ29udGV4dCA9IHMuY29udGV4dCB8fCBzLFxuXG5cdFx0XHQvLyBDb250ZXh0IGZvciBnbG9iYWwgZXZlbnRzIGlzIGNhbGxiYWNrQ29udGV4dCBpZiBpdCBpcyBhIERPTSBub2RlIG9yIGpRdWVyeSBjb2xsZWN0aW9uXG5cdFx0XHRnbG9iYWxFdmVudENvbnRleHQgPSBzLmNvbnRleHQgJiZcblx0XHRcdFx0KCBjYWxsYmFja0NvbnRleHQubm9kZVR5cGUgfHwgY2FsbGJhY2tDb250ZXh0LmpxdWVyeSApID9cblx0XHRcdFx0alF1ZXJ5KCBjYWxsYmFja0NvbnRleHQgKSA6XG5cdFx0XHRcdGpRdWVyeS5ldmVudCxcblxuXHRcdFx0Ly8gRGVmZXJyZWRzXG5cdFx0XHRkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpLFxuXHRcdFx0Y29tcGxldGVEZWZlcnJlZCA9IGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLFxuXG5cdFx0XHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuXHRcdFx0c3RhdHVzQ29kZSA9IHMuc3RhdHVzQ29kZSB8fCB7fSxcblxuXHRcdFx0Ly8gSGVhZGVycyAodGhleSBhcmUgc2VudCBhbGwgYXQgb25jZSlcblx0XHRcdHJlcXVlc3RIZWFkZXJzID0ge30sXG5cdFx0XHRyZXF1ZXN0SGVhZGVyc05hbWVzID0ge30sXG5cblx0XHRcdC8vIERlZmF1bHQgYWJvcnQgbWVzc2FnZVxuXHRcdFx0c3RyQWJvcnQgPSBcImNhbmNlbGVkXCIsXG5cblx0XHRcdC8vIEZha2UgeGhyXG5cdFx0XHRqcVhIUiA9IHtcblx0XHRcdFx0cmVhZHlTdGF0ZTogMCxcblxuXHRcdFx0XHQvLyBCdWlsZHMgaGVhZGVycyBoYXNodGFibGUgaWYgbmVlZGVkXG5cdFx0XHRcdGdldFJlc3BvbnNlSGVhZGVyOiBmdW5jdGlvbigga2V5ICkge1xuXHRcdFx0XHRcdHZhciBtYXRjaDtcblx0XHRcdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0XHRcdGlmICggIXJlc3BvbnNlSGVhZGVycyApIHtcblx0XHRcdFx0XHRcdFx0cmVzcG9uc2VIZWFkZXJzID0ge307XG5cdFx0XHRcdFx0XHRcdHdoaWxlICggKCBtYXRjaCA9IHJoZWFkZXJzLmV4ZWMoIHJlc3BvbnNlSGVhZGVyc1N0cmluZyApICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmVzcG9uc2VIZWFkZXJzWyBtYXRjaFsgMSBdLnRvTG93ZXJDYXNlKCkgKyBcIiBcIiBdID1cblx0XHRcdFx0XHRcdFx0XHRcdCggcmVzcG9uc2VIZWFkZXJzWyBtYXRjaFsgMSBdLnRvTG93ZXJDYXNlKCkgKyBcIiBcIiBdIHx8IFtdIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmNvbmNhdCggbWF0Y2hbIDIgXSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRtYXRjaCA9IHJlc3BvbnNlSGVhZGVyc1sga2V5LnRvTG93ZXJDYXNlKCkgKyBcIiBcIiBdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gbWF0Y2ggPT0gbnVsbCA/IG51bGwgOiBtYXRjaC5qb2luKCBcIiwgXCIgKTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBSYXcgc3RyaW5nXG5cdFx0XHRcdGdldEFsbFJlc3BvbnNlSGVhZGVyczogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbXBsZXRlZCA/IHJlc3BvbnNlSGVhZGVyc1N0cmluZyA6IG51bGw7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gQ2FjaGVzIHRoZSBoZWFkZXJcblx0XHRcdFx0c2V0UmVxdWVzdEhlYWRlcjogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0XHRcdGlmICggY29tcGxldGVkID09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRuYW1lID0gcmVxdWVzdEhlYWRlcnNOYW1lc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gPVxuXHRcdFx0XHRcdFx0XHRyZXF1ZXN0SGVhZGVyc05hbWVzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSB8fCBuYW1lO1xuXHRcdFx0XHRcdFx0cmVxdWVzdEhlYWRlcnNbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBPdmVycmlkZXMgcmVzcG9uc2UgY29udGVudC10eXBlIGhlYWRlclxuXHRcdFx0XHRvdmVycmlkZU1pbWVUeXBlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRcdFx0XHRpZiAoIGNvbXBsZXRlZCA9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0cy5taW1lVHlwZSA9IHR5cGU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRcdHN0YXR1c0NvZGU6IGZ1bmN0aW9uKCBtYXAgKSB7XG5cdFx0XHRcdFx0dmFyIGNvZGU7XG5cdFx0XHRcdFx0aWYgKCBtYXAgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBFeGVjdXRlIHRoZSBhcHByb3ByaWF0ZSBjYWxsYmFja3Ncblx0XHRcdFx0XHRcdFx0anFYSFIuYWx3YXlzKCBtYXBbIGpxWEhSLnN0YXR1cyBdICk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdC8vIExhenktYWRkIHRoZSBuZXcgY2FsbGJhY2tzIGluIGEgd2F5IHRoYXQgcHJlc2VydmVzIG9sZCBvbmVzXG5cdFx0XHRcdFx0XHRcdGZvciAoIGNvZGUgaW4gbWFwICkge1xuXHRcdFx0XHRcdFx0XHRcdHN0YXR1c0NvZGVbIGNvZGUgXSA9IFsgc3RhdHVzQ29kZVsgY29kZSBdLCBtYXBbIGNvZGUgXSBdO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIENhbmNlbCB0aGUgcmVxdWVzdFxuXHRcdFx0XHRhYm9ydDogZnVuY3Rpb24oIHN0YXR1c1RleHQgKSB7XG5cdFx0XHRcdFx0dmFyIGZpbmFsVGV4dCA9IHN0YXR1c1RleHQgfHwgc3RyQWJvcnQ7XG5cdFx0XHRcdFx0aWYgKCB0cmFuc3BvcnQgKSB7XG5cdFx0XHRcdFx0XHR0cmFuc3BvcnQuYWJvcnQoIGZpbmFsVGV4dCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRkb25lKCAwLCBmaW5hbFRleHQgKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdC8vIEF0dGFjaCBkZWZlcnJlZHNcblx0XHRkZWZlcnJlZC5wcm9taXNlKCBqcVhIUiApO1xuXG5cdFx0Ly8gQWRkIHByb3RvY29sIGlmIG5vdCBwcm92aWRlZCAocHJlZmlsdGVycyBtaWdodCBleHBlY3QgaXQpXG5cdFx0Ly8gSGFuZGxlIGZhbHN5IHVybCBpbiB0aGUgc2V0dGluZ3Mgb2JqZWN0ICh0cmFjLTEwMDkzOiBjb25zaXN0ZW5jeSB3aXRoIG9sZCBzaWduYXR1cmUpXG5cdFx0Ly8gV2UgYWxzbyB1c2UgdGhlIHVybCBwYXJhbWV0ZXIgaWYgYXZhaWxhYmxlXG5cdFx0cy51cmwgPSAoICggdXJsIHx8IHMudXJsIHx8IGxvY2F0aW9uLmhyZWYgKSArIFwiXCIgKVxuXHRcdFx0LnJlcGxhY2UoIHJwcm90b2NvbCwgbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKTtcblxuXHRcdC8vIEFsaWFzIG1ldGhvZCBvcHRpb24gdG8gdHlwZSBhcyBwZXIgdGlja2V0IHRyYWMtMTIwMDRcblx0XHRzLnR5cGUgPSBvcHRpb25zLm1ldGhvZCB8fCBvcHRpb25zLnR5cGUgfHwgcy5tZXRob2QgfHwgcy50eXBlO1xuXG5cdFx0Ly8gRXh0cmFjdCBkYXRhVHlwZXMgbGlzdFxuXHRcdHMuZGF0YVR5cGVzID0gKCBzLmRhdGFUeXBlIHx8IFwiKlwiICkudG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFsgXCJcIiBdO1xuXG5cdFx0Ly8gQSBjcm9zcy1kb21haW4gcmVxdWVzdCBpcyBpbiBvcmRlciB3aGVuIHRoZSBvcmlnaW4gZG9lc24ndCBtYXRjaCB0aGUgY3VycmVudCBvcmlnaW4uXG5cdFx0aWYgKCBzLmNyb3NzRG9tYWluID09IG51bGwgKSB7XG5cdFx0XHR1cmxBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImFcIiApO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTggLSAxMSwgRWRnZSAxMiAtIDE1XG5cdFx0XHQvLyBJRSB0aHJvd3MgZXhjZXB0aW9uIG9uIGFjY2Vzc2luZyB0aGUgaHJlZiBwcm9wZXJ0eSBpZiB1cmwgaXMgbWFsZm9ybWVkLFxuXHRcdFx0Ly8gZS5nLiBodHRwOi8vZXhhbXBsZS5jb206ODB4L1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dXJsQW5jaG9yLmhyZWYgPSBzLnVybDtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTggLSAxMSBvbmx5XG5cdFx0XHRcdC8vIEFuY2hvcidzIGhvc3QgcHJvcGVydHkgaXNuJ3QgY29ycmVjdGx5IHNldCB3aGVuIHMudXJsIGlzIHJlbGF0aXZlXG5cdFx0XHRcdHVybEFuY2hvci5ocmVmID0gdXJsQW5jaG9yLmhyZWY7XG5cdFx0XHRcdHMuY3Jvc3NEb21haW4gPSBvcmlnaW5BbmNob3IucHJvdG9jb2wgKyBcIi8vXCIgKyBvcmlnaW5BbmNob3IuaG9zdCAhPT1cblx0XHRcdFx0XHR1cmxBbmNob3IucHJvdG9jb2wgKyBcIi8vXCIgKyB1cmxBbmNob3IuaG9zdDtcblx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdC8vIElmIHRoZXJlIGlzIGFuIGVycm9yIHBhcnNpbmcgdGhlIFVSTCwgYXNzdW1lIGl0IGlzIGNyb3NzRG9tYWluLFxuXHRcdFx0XHQvLyBpdCBjYW4gYmUgcmVqZWN0ZWQgYnkgdGhlIHRyYW5zcG9ydCBpZiBpdCBpcyBpbnZhbGlkXG5cdFx0XHRcdHMuY3Jvc3NEb21haW4gPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENvbnZlcnQgZGF0YSBpZiBub3QgYWxyZWFkeSBhIHN0cmluZ1xuXHRcdGlmICggcy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiYgdHlwZW9mIHMuZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHMuZGF0YSA9IGpRdWVyeS5wYXJhbSggcy5kYXRhLCBzLnRyYWRpdGlvbmFsICk7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwbHkgcHJlZmlsdGVyc1xuXHRcdGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBwcmVmaWx0ZXJzLCBzLCBvcHRpb25zLCBqcVhIUiApO1xuXG5cdFx0Ly8gSWYgcmVxdWVzdCB3YXMgYWJvcnRlZCBpbnNpZGUgYSBwcmVmaWx0ZXIsIHN0b3AgdGhlcmVcblx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdHJldHVybiBqcVhIUjtcblx0XHR9XG5cblx0XHQvLyBXZSBjYW4gZmlyZSBnbG9iYWwgZXZlbnRzIGFzIG9mIG5vdyBpZiBhc2tlZCB0b1xuXHRcdC8vIERvbid0IGZpcmUgZXZlbnRzIGlmIGpRdWVyeS5ldmVudCBpcyB1bmRlZmluZWQgaW4gYW4gQU1ELXVzYWdlIHNjZW5hcmlvICh0cmFjLTE1MTE4KVxuXHRcdGZpcmVHbG9iYWxzID0galF1ZXJ5LmV2ZW50ICYmIHMuZ2xvYmFsO1xuXG5cdFx0Ly8gV2F0Y2ggZm9yIGEgbmV3IHNldCBvZiByZXF1ZXN0c1xuXHRcdGlmICggZmlyZUdsb2JhbHMgJiYgalF1ZXJ5LmFjdGl2ZSsrID09PSAwICkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIFwiYWpheFN0YXJ0XCIgKTtcblx0XHR9XG5cblx0XHQvLyBVcHBlcmNhc2UgdGhlIHR5cGVcblx0XHRzLnR5cGUgPSBzLnR5cGUudG9VcHBlckNhc2UoKTtcblxuXHRcdC8vIERldGVybWluZSBpZiByZXF1ZXN0IGhhcyBjb250ZW50XG5cdFx0cy5oYXNDb250ZW50ID0gIXJub0NvbnRlbnQudGVzdCggcy50eXBlICk7XG5cblx0XHQvLyBTYXZlIHRoZSBVUkwgaW4gY2FzZSB3ZSdyZSB0b3lpbmcgd2l0aCB0aGUgSWYtTW9kaWZpZWQtU2luY2Vcblx0XHQvLyBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIgbGF0ZXIgb25cblx0XHQvLyBSZW1vdmUgaGFzaCB0byBzaW1wbGlmeSB1cmwgbWFuaXB1bGF0aW9uXG5cdFx0Y2FjaGVVUkwgPSBzLnVybC5yZXBsYWNlKCByaGFzaCwgXCJcIiApO1xuXG5cdFx0Ly8gTW9yZSBvcHRpb25zIGhhbmRsaW5nIGZvciByZXF1ZXN0cyB3aXRoIG5vIGNvbnRlbnRcblx0XHRpZiAoICFzLmhhc0NvbnRlbnQgKSB7XG5cblx0XHRcdC8vIFJlbWVtYmVyIHRoZSBoYXNoIHNvIHdlIGNhbiBwdXQgaXQgYmFja1xuXHRcdFx0dW5jYWNoZWQgPSBzLnVybC5zbGljZSggY2FjaGVVUkwubGVuZ3RoICk7XG5cblx0XHRcdC8vIElmIGRhdGEgaXMgYXZhaWxhYmxlIGFuZCBzaG91bGQgYmUgcHJvY2Vzc2VkLCBhcHBlbmQgZGF0YSB0byB1cmxcblx0XHRcdGlmICggcy5kYXRhICYmICggcy5wcm9jZXNzRGF0YSB8fCB0eXBlb2Ygcy5kYXRhID09PSBcInN0cmluZ1wiICkgKSB7XG5cdFx0XHRcdGNhY2hlVVJMICs9ICggcnF1ZXJ5LnRlc3QoIGNhY2hlVVJMICkgPyBcIiZcIiA6IFwiP1wiICkgKyBzLmRhdGE7XG5cblx0XHRcdFx0Ly8gdHJhYy05NjgyOiByZW1vdmUgZGF0YSBzbyB0aGF0IGl0J3Mgbm90IHVzZWQgaW4gYW4gZXZlbnR1YWwgcmV0cnlcblx0XHRcdFx0ZGVsZXRlIHMuZGF0YTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIG9yIHVwZGF0ZSBhbnRpLWNhY2hlIHBhcmFtIGlmIG5lZWRlZFxuXHRcdFx0aWYgKCBzLmNhY2hlID09PSBmYWxzZSApIHtcblx0XHRcdFx0Y2FjaGVVUkwgPSBjYWNoZVVSTC5yZXBsYWNlKCByYW50aUNhY2hlLCBcIiQxXCIgKTtcblx0XHRcdFx0dW5jYWNoZWQgPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgXCJfPVwiICsgKCBub25jZS5ndWlkKysgKSArXG5cdFx0XHRcdFx0dW5jYWNoZWQ7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFB1dCBoYXNoIGFuZCBhbnRpLWNhY2hlIG9uIHRoZSBVUkwgdGhhdCB3aWxsIGJlIHJlcXVlc3RlZCAoZ2gtMTczMilcblx0XHRcdHMudXJsID0gY2FjaGVVUkwgKyB1bmNhY2hlZDtcblxuXHRcdC8vIENoYW5nZSAnJTIwJyB0byAnKycgaWYgdGhpcyBpcyBlbmNvZGVkIGZvcm0gYm9keSBjb250ZW50IChnaC0yNjU4KVxuXHRcdH0gZWxzZSBpZiAoIHMuZGF0YSAmJiBzLnByb2Nlc3NEYXRhICYmXG5cdFx0XHQoIHMuY29udGVudFR5cGUgfHwgXCJcIiApLmluZGV4T2YoIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIgKSA9PT0gMCApIHtcblx0XHRcdHMuZGF0YSA9IHMuZGF0YS5yZXBsYWNlKCByMjAsIFwiK1wiICk7XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IHRoZSBJZi1Nb2RpZmllZC1TaW5jZSBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIsIGlmIGluIGlmTW9kaWZpZWQgbW9kZS5cblx0XHRpZiAoIHMuaWZNb2RpZmllZCApIHtcblx0XHRcdGlmICggalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSApIHtcblx0XHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJJZi1Nb2RpZmllZC1TaW5jZVwiLCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdICkge1xuXHRcdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIklmLU5vbmUtTWF0Y2hcIiwgalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIGNvcnJlY3QgaGVhZGVyLCBpZiBkYXRhIGlzIGJlaW5nIHNlbnRcblx0XHRpZiAoIHMuZGF0YSAmJiBzLmhhc0NvbnRlbnQgJiYgcy5jb250ZW50VHlwZSAhPT0gZmFsc2UgfHwgb3B0aW9ucy5jb250ZW50VHlwZSApIHtcblx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiQ29udGVudC1UeXBlXCIsIHMuY29udGVudFR5cGUgKTtcblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIEFjY2VwdHMgaGVhZGVyIGZvciB0aGUgc2VydmVyLCBkZXBlbmRpbmcgb24gdGhlIGRhdGFUeXBlXG5cdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlcihcblx0XHRcdFwiQWNjZXB0XCIsXG5cdFx0XHRzLmRhdGFUeXBlc1sgMCBdICYmIHMuYWNjZXB0c1sgcy5kYXRhVHlwZXNbIDAgXSBdID9cblx0XHRcdFx0cy5hY2NlcHRzWyBzLmRhdGFUeXBlc1sgMCBdIF0gK1xuXHRcdFx0XHRcdCggcy5kYXRhVHlwZXNbIDAgXSAhPT0gXCIqXCIgPyBcIiwgXCIgKyBhbGxUeXBlcyArIFwiOyBxPTAuMDFcIiA6IFwiXCIgKSA6XG5cdFx0XHRcdHMuYWNjZXB0c1sgXCIqXCIgXVxuXHRcdCk7XG5cblx0XHQvLyBDaGVjayBmb3IgaGVhZGVycyBvcHRpb25cblx0XHRmb3IgKCBpIGluIHMuaGVhZGVycyApIHtcblx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIGksIHMuaGVhZGVyc1sgaSBdICk7XG5cdFx0fVxuXG5cdFx0Ly8gQWxsb3cgY3VzdG9tIGhlYWRlcnMvbWltZXR5cGVzIGFuZCBlYXJseSBhYm9ydFxuXHRcdGlmICggcy5iZWZvcmVTZW5kICYmXG5cdFx0XHQoIHMuYmVmb3JlU2VuZC5jYWxsKCBjYWxsYmFja0NvbnRleHQsIGpxWEhSLCBzICkgPT09IGZhbHNlIHx8IGNvbXBsZXRlZCApICkge1xuXG5cdFx0XHQvLyBBYm9ydCBpZiBub3QgZG9uZSBhbHJlYWR5IGFuZCByZXR1cm5cblx0XHRcdHJldHVybiBqcVhIUi5hYm9ydCgpO1xuXHRcdH1cblxuXHRcdC8vIEFib3J0aW5nIGlzIG5vIGxvbmdlciBhIGNhbmNlbGxhdGlvblxuXHRcdHN0ckFib3J0ID0gXCJhYm9ydFwiO1xuXG5cdFx0Ly8gSW5zdGFsbCBjYWxsYmFja3Mgb24gZGVmZXJyZWRzXG5cdFx0Y29tcGxldGVEZWZlcnJlZC5hZGQoIHMuY29tcGxldGUgKTtcblx0XHRqcVhIUi5kb25lKCBzLnN1Y2Nlc3MgKTtcblx0XHRqcVhIUi5mYWlsKCBzLmVycm9yICk7XG5cblx0XHQvLyBHZXQgdHJhbnNwb3J0XG5cdFx0dHJhbnNwb3J0ID0gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XG5cblx0XHQvLyBJZiBubyB0cmFuc3BvcnQsIHdlIGF1dG8tYWJvcnRcblx0XHRpZiAoICF0cmFuc3BvcnQgKSB7XG5cdFx0XHRkb25lKCAtMSwgXCJObyBUcmFuc3BvcnRcIiApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRqcVhIUi5yZWFkeVN0YXRlID0gMTtcblxuXHRcdFx0Ly8gU2VuZCBnbG9iYWwgZXZlbnRcblx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBcImFqYXhTZW5kXCIsIFsganFYSFIsIHMgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhamF4U2VuZCwgc3RvcCB0aGVyZVxuXHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdHJldHVybiBqcVhIUjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVGltZW91dFxuXHRcdFx0aWYgKCBzLmFzeW5jICYmIHMudGltZW91dCA+IDAgKSB7XG5cdFx0XHRcdHRpbWVvdXRUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRqcVhIUi5hYm9ydCggXCJ0aW1lb3V0XCIgKTtcblx0XHRcdFx0fSwgcy50aW1lb3V0ICk7XG5cdFx0XHR9XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbXBsZXRlZCA9IGZhbHNlO1xuXHRcdFx0XHR0cmFuc3BvcnQuc2VuZCggcmVxdWVzdEhlYWRlcnMsIGRvbmUgKTtcblx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdC8vIFJldGhyb3cgcG9zdC1jb21wbGV0aW9uIGV4Y2VwdGlvbnNcblx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdFx0dGhyb3cgZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFByb3BhZ2F0ZSBvdGhlcnMgYXMgcmVzdWx0c1xuXHRcdFx0XHRkb25lKCAtMSwgZSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhbGxiYWNrIGZvciB3aGVuIGV2ZXJ5dGhpbmcgaXMgZG9uZVxuXHRcdGZ1bmN0aW9uIGRvbmUoIHN0YXR1cywgbmF0aXZlU3RhdHVzVGV4dCwgcmVzcG9uc2VzLCBoZWFkZXJzICkge1xuXHRcdFx0dmFyIGlzU3VjY2Vzcywgc3VjY2VzcywgZXJyb3IsIHJlc3BvbnNlLCBtb2RpZmllZCxcblx0XHRcdFx0c3RhdHVzVGV4dCA9IG5hdGl2ZVN0YXR1c1RleHQ7XG5cblx0XHRcdC8vIElnbm9yZSByZXBlYXQgaW52b2NhdGlvbnNcblx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbXBsZXRlZCA9IHRydWU7XG5cblx0XHRcdC8vIENsZWFyIHRpbWVvdXQgaWYgaXQgZXhpc3RzXG5cdFx0XHRpZiAoIHRpbWVvdXRUaW1lciApIHtcblx0XHRcdFx0d2luZG93LmNsZWFyVGltZW91dCggdGltZW91dFRpbWVyICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIERlcmVmZXJlbmNlIHRyYW5zcG9ydCBmb3IgZWFybHkgZ2FyYmFnZSBjb2xsZWN0aW9uXG5cdFx0XHQvLyAobm8gbWF0dGVyIGhvdyBsb25nIHRoZSBqcVhIUiBvYmplY3Qgd2lsbCBiZSB1c2VkKVxuXHRcdFx0dHJhbnNwb3J0ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHQvLyBDYWNoZSByZXNwb25zZSBoZWFkZXJzXG5cdFx0XHRyZXNwb25zZUhlYWRlcnNTdHJpbmcgPSBoZWFkZXJzIHx8IFwiXCI7XG5cblx0XHRcdC8vIFNldCByZWFkeVN0YXRlXG5cdFx0XHRqcVhIUi5yZWFkeVN0YXRlID0gc3RhdHVzID4gMCA/IDQgOiAwO1xuXG5cdFx0XHQvLyBEZXRlcm1pbmUgaWYgc3VjY2Vzc2Z1bFxuXHRcdFx0aXNTdWNjZXNzID0gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDAgfHwgc3RhdHVzID09PSAzMDQ7XG5cblx0XHRcdC8vIEdldCByZXNwb25zZSBkYXRhXG5cdFx0XHRpZiAoIHJlc3BvbnNlcyApIHtcblx0XHRcdFx0cmVzcG9uc2UgPSBhamF4SGFuZGxlUmVzcG9uc2VzKCBzLCBqcVhIUiwgcmVzcG9uc2VzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFVzZSBhIG5vb3AgY29udmVydGVyIGZvciBtaXNzaW5nIHNjcmlwdCBidXQgbm90IGlmIGpzb25wXG5cdFx0XHRpZiAoICFpc1N1Y2Nlc3MgJiZcblx0XHRcdFx0alF1ZXJ5LmluQXJyYXkoIFwic2NyaXB0XCIsIHMuZGF0YVR5cGVzICkgPiAtMSAmJlxuXHRcdFx0XHRqUXVlcnkuaW5BcnJheSggXCJqc29uXCIsIHMuZGF0YVR5cGVzICkgPCAwICkge1xuXHRcdFx0XHRzLmNvbnZlcnRlcnNbIFwidGV4dCBzY3JpcHRcIiBdID0gZnVuY3Rpb24oKSB7fTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29udmVydCBubyBtYXR0ZXIgd2hhdCAodGhhdCB3YXkgcmVzcG9uc2VYWFggZmllbGRzIGFyZSBhbHdheXMgc2V0KVxuXHRcdFx0cmVzcG9uc2UgPSBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MgKTtcblxuXHRcdFx0Ly8gSWYgc3VjY2Vzc2Z1bCwgaGFuZGxlIHR5cGUgY2hhaW5pbmdcblx0XHRcdGlmICggaXNTdWNjZXNzICkge1xuXG5cdFx0XHRcdC8vIFNldCB0aGUgSWYtTW9kaWZpZWQtU2luY2UgYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyLCBpZiBpbiBpZk1vZGlmaWVkIG1vZGUuXG5cdFx0XHRcdGlmICggcy5pZk1vZGlmaWVkICkge1xuXHRcdFx0XHRcdG1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFwiTGFzdC1Nb2RpZmllZFwiICk7XG5cdFx0XHRcdFx0aWYgKCBtb2RpZmllZCApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bW9kaWZpZWQgPSBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJldGFnXCIgKTtcblx0XHRcdFx0XHRpZiAoIG1vZGlmaWVkICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBpZiBubyBjb250ZW50XG5cdFx0XHRcdGlmICggc3RhdHVzID09PSAyMDQgfHwgcy50eXBlID09PSBcIkhFQURcIiApIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJub2NvbnRlbnRcIjtcblxuXHRcdFx0XHQvLyBpZiBub3QgbW9kaWZpZWRcblx0XHRcdFx0fSBlbHNlIGlmICggc3RhdHVzID09PSAzMDQgKSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwibm90bW9kaWZpZWRcIjtcblxuXHRcdFx0XHQvLyBJZiB3ZSBoYXZlIGRhdGEsIGxldCdzIGNvbnZlcnQgaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gcmVzcG9uc2Uuc3RhdGU7XG5cdFx0XHRcdFx0c3VjY2VzcyA9IHJlc3BvbnNlLmRhdGE7XG5cdFx0XHRcdFx0ZXJyb3IgPSByZXNwb25zZS5lcnJvcjtcblx0XHRcdFx0XHRpc1N1Y2Nlc3MgPSAhZXJyb3I7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gRXh0cmFjdCBlcnJvciBmcm9tIHN0YXR1c1RleHQgYW5kIG5vcm1hbGl6ZSBmb3Igbm9uLWFib3J0c1xuXHRcdFx0XHRlcnJvciA9IHN0YXR1c1RleHQ7XG5cdFx0XHRcdGlmICggc3RhdHVzIHx8ICFzdGF0dXNUZXh0ICkge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcImVycm9yXCI7XG5cdFx0XHRcdFx0aWYgKCBzdGF0dXMgPCAwICkge1xuXHRcdFx0XHRcdFx0c3RhdHVzID0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gU2V0IGRhdGEgZm9yIHRoZSBmYWtlIHhociBvYmplY3Rcblx0XHRcdGpxWEhSLnN0YXR1cyA9IHN0YXR1cztcblx0XHRcdGpxWEhSLnN0YXR1c1RleHQgPSAoIG5hdGl2ZVN0YXR1c1RleHQgfHwgc3RhdHVzVGV4dCApICsgXCJcIjtcblxuXHRcdFx0Ly8gU3VjY2Vzcy9FcnJvclxuXHRcdFx0aWYgKCBpc1N1Y2Nlc3MgKSB7XG5cdFx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsgc3VjY2Vzcywgc3RhdHVzVGV4dCwganFYSFIgXSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0LCBlcnJvciBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRqcVhIUi5zdGF0dXNDb2RlKCBzdGF0dXNDb2RlICk7XG5cdFx0XHRzdGF0dXNDb2RlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRpZiAoIGZpcmVHbG9iYWxzICkge1xuXHRcdFx0XHRnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggaXNTdWNjZXNzID8gXCJhamF4U3VjY2Vzc1wiIDogXCJhamF4RXJyb3JcIixcblx0XHRcdFx0XHRbIGpxWEhSLCBzLCBpc1N1Y2Nlc3MgPyBzdWNjZXNzIDogZXJyb3IgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb21wbGV0ZVxuXHRcdFx0Y29tcGxldGVEZWZlcnJlZC5maXJlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0IF0gKTtcblxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIFwiYWpheENvbXBsZXRlXCIsIFsganFYSFIsIHMgXSApO1xuXG5cdFx0XHRcdC8vIEhhbmRsZSB0aGUgZ2xvYmFsIEFKQVggY291bnRlclxuXHRcdFx0XHRpZiAoICEoIC0talF1ZXJ5LmFjdGl2ZSApICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBcImFqYXhTdG9wXCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBqcVhIUjtcblx0fSxcblxuXHRnZXRKU09OOiBmdW5jdGlvbiggdXJsLCBkYXRhLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdldCggdXJsLCBkYXRhLCBjYWxsYmFjaywgXCJqc29uXCIgKTtcblx0fSxcblxuXHRnZXRTY3JpcHQ6IGZ1bmN0aW9uKCB1cmwsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ2V0KCB1cmwsIHVuZGVmaW5lZCwgY2FsbGJhY2ssIFwic2NyaXB0XCIgKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcImdldFwiLCBcInBvc3RcIiBdLCBmdW5jdGlvbiggX2ksIG1ldGhvZCApIHtcblx0alF1ZXJ5WyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrLCB0eXBlICkge1xuXG5cdFx0Ly8gU2hpZnQgYXJndW1lbnRzIGlmIGRhdGEgYXJndW1lbnQgd2FzIG9taXR0ZWRcblx0XHRpZiAoIGlzRnVuY3Rpb24oIGRhdGEgKSApIHtcblx0XHRcdHR5cGUgPSB0eXBlIHx8IGNhbGxiYWNrO1xuXHRcdFx0Y2FsbGJhY2sgPSBkYXRhO1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHQvLyBUaGUgdXJsIGNhbiBiZSBhbiBvcHRpb25zIG9iamVjdCAod2hpY2ggdGhlbiBtdXN0IGhhdmUgLnVybClcblx0XHRyZXR1cm4galF1ZXJ5LmFqYXgoIGpRdWVyeS5leHRlbmQoIHtcblx0XHRcdHVybDogdXJsLFxuXHRcdFx0dHlwZTogbWV0aG9kLFxuXHRcdFx0ZGF0YVR5cGU6IHR5cGUsXG5cdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0c3VjY2VzczogY2FsbGJhY2tcblx0XHR9LCBqUXVlcnkuaXNQbGFpbk9iamVjdCggdXJsICkgJiYgdXJsICkgKTtcblx0fTtcbn0gKTtcblxualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIGZ1bmN0aW9uKCBzICkge1xuXHR2YXIgaTtcblx0Zm9yICggaSBpbiBzLmhlYWRlcnMgKSB7XG5cdFx0aWYgKCBpLnRvTG93ZXJDYXNlKCkgPT09IFwiY29udGVudC10eXBlXCIgKSB7XG5cdFx0XHRzLmNvbnRlbnRUeXBlID0gcy5oZWFkZXJzWyBpIF0gfHwgXCJcIjtcblx0XHR9XG5cdH1cbn0gKTtcblxuXG5qUXVlcnkuX2V2YWxVcmwgPSBmdW5jdGlvbiggdXJsLCBvcHRpb25zLCBkb2MgKSB7XG5cdHJldHVybiBqUXVlcnkuYWpheCgge1xuXHRcdHVybDogdXJsLFxuXG5cdFx0Ly8gTWFrZSB0aGlzIGV4cGxpY2l0LCBzaW5jZSB1c2VyIGNhbiBvdmVycmlkZSB0aGlzIHRocm91Z2ggYWpheFNldHVwICh0cmFjLTExMjY0KVxuXHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0ZGF0YVR5cGU6IFwic2NyaXB0XCIsXG5cdFx0Y2FjaGU6IHRydWUsXG5cdFx0YXN5bmM6IGZhbHNlLFxuXHRcdGdsb2JhbDogZmFsc2UsXG5cblx0XHQvLyBPbmx5IGV2YWx1YXRlIHRoZSByZXNwb25zZSBpZiBpdCBpcyBzdWNjZXNzZnVsIChnaC00MTI2KVxuXHRcdC8vIGRhdGFGaWx0ZXIgaXMgbm90IGludm9rZWQgZm9yIGZhaWx1cmUgcmVzcG9uc2VzLCBzbyB1c2luZyBpdCBpbnN0ZWFkXG5cdFx0Ly8gb2YgdGhlIGRlZmF1bHQgY29udmVydGVyIGlzIGtsdWRneSBidXQgaXQgd29ya3MuXG5cdFx0Y29udmVydGVyczoge1xuXHRcdFx0XCJ0ZXh0IHNjcmlwdFwiOiBmdW5jdGlvbigpIHt9XG5cdFx0fSxcblx0XHRkYXRhRmlsdGVyOiBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cdFx0XHRqUXVlcnkuZ2xvYmFsRXZhbCggcmVzcG9uc2UsIG9wdGlvbnMsIGRvYyApO1xuXHRcdH1cblx0fSApO1xufTtcblxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHdyYXBBbGw6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdHZhciB3cmFwO1xuXG5cdFx0aWYgKCB0aGlzWyAwIF0gKSB7XG5cdFx0XHRpZiAoIGlzRnVuY3Rpb24oIGh0bWwgKSApIHtcblx0XHRcdFx0aHRtbCA9IGh0bWwuY2FsbCggdGhpc1sgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRoZSBlbGVtZW50cyB0byB3cmFwIHRoZSB0YXJnZXQgYXJvdW5kXG5cdFx0XHR3cmFwID0galF1ZXJ5KCBodG1sLCB0aGlzWyAwIF0ub3duZXJEb2N1bWVudCApLmVxKCAwICkuY2xvbmUoIHRydWUgKTtcblxuXHRcdFx0aWYgKCB0aGlzWyAwIF0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0d3JhcC5pbnNlcnRCZWZvcmUoIHRoaXNbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHR3cmFwLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBlbGVtID0gdGhpcztcblxuXHRcdFx0XHR3aGlsZSAoIGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQgKSB7XG5cdFx0XHRcdFx0ZWxlbSA9IGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZWxlbTtcblx0XHRcdH0gKS5hcHBlbmQoIHRoaXMgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHR3cmFwSW5uZXI6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdGlmICggaXNGdW5jdGlvbiggaHRtbCApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLndyYXBJbm5lciggaHRtbC5jYWxsKCB0aGlzLCBpICkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0galF1ZXJ5KCB0aGlzICksXG5cdFx0XHRcdGNvbnRlbnRzID0gc2VsZi5jb250ZW50cygpO1xuXG5cdFx0XHRpZiAoIGNvbnRlbnRzLmxlbmd0aCApIHtcblx0XHRcdFx0Y29udGVudHMud3JhcEFsbCggaHRtbCApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZWxmLmFwcGVuZCggaHRtbCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHR3cmFwOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHR2YXIgaHRtbElzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKCBodG1sICk7XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdGpRdWVyeSggdGhpcyApLndyYXBBbGwoIGh0bWxJc0Z1bmN0aW9uID8gaHRtbC5jYWxsKCB0aGlzLCBpICkgOiBodG1sICk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdHVud3JhcDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHRoaXMucGFyZW50KCBzZWxlY3RvciApLm5vdCggXCJib2R5XCIgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeSggdGhpcyApLnJlcGxhY2VXaXRoKCB0aGlzLmNoaWxkTm9kZXMgKTtcblx0XHR9ICk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cbn0gKTtcblxuXG5qUXVlcnkuZXhwci5wc2V1ZG9zLmhpZGRlbiA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4gIWpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZSggZWxlbSApO1xufTtcbmpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4gISEoIGVsZW0ub2Zmc2V0V2lkdGggfHwgZWxlbS5vZmZzZXRIZWlnaHQgfHwgZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCApO1xufTtcblxuXG5cblxualF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIgPSBmdW5jdGlvbigpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpO1xuXHR9IGNhdGNoICggZSApIHt9XG59O1xuXG52YXIgeGhyU3VjY2Vzc1N0YXR1cyA9IHtcblxuXHRcdC8vIEZpbGUgcHJvdG9jb2wgYWx3YXlzIHlpZWxkcyBzdGF0dXMgY29kZSAwLCBhc3N1bWUgMjAwXG5cdFx0MDogMjAwLFxuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHQvLyB0cmFjLTE0NTA6IHNvbWV0aW1lcyBJRSByZXR1cm5zIDEyMjMgd2hlbiBpdCBzaG91bGQgYmUgMjA0XG5cdFx0MTIyMzogMjA0XG5cdH0sXG5cdHhoclN1cHBvcnRlZCA9IGpRdWVyeS5hamF4U2V0dGluZ3MueGhyKCk7XG5cbnN1cHBvcnQuY29ycyA9ICEheGhyU3VwcG9ydGVkICYmICggXCJ3aXRoQ3JlZGVudGlhbHNcIiBpbiB4aHJTdXBwb3J0ZWQgKTtcbnN1cHBvcnQuYWpheCA9IHhoclN1cHBvcnRlZCA9ICEheGhyU3VwcG9ydGVkO1xuXG5qUXVlcnkuYWpheFRyYW5zcG9ydCggZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdHZhciBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaztcblxuXHQvLyBDcm9zcyBkb21haW4gb25seSBhbGxvd2VkIGlmIHN1cHBvcnRlZCB0aHJvdWdoIFhNTEh0dHBSZXF1ZXN0XG5cdGlmICggc3VwcG9ydC5jb3JzIHx8IHhoclN1cHBvcnRlZCAmJiAhb3B0aW9ucy5jcm9zc0RvbWFpbiApIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c2VuZDogZnVuY3Rpb24oIGhlYWRlcnMsIGNvbXBsZXRlICkge1xuXHRcdFx0XHR2YXIgaSxcblx0XHRcdFx0XHR4aHIgPSBvcHRpb25zLnhocigpO1xuXG5cdFx0XHRcdHhoci5vcGVuKFxuXHRcdFx0XHRcdG9wdGlvbnMudHlwZSxcblx0XHRcdFx0XHRvcHRpb25zLnVybCxcblx0XHRcdFx0XHRvcHRpb25zLmFzeW5jLFxuXHRcdFx0XHRcdG9wdGlvbnMudXNlcm5hbWUsXG5cdFx0XHRcdFx0b3B0aW9ucy5wYXNzd29yZFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdC8vIEFwcGx5IGN1c3RvbSBmaWVsZHMgaWYgcHJvdmlkZWRcblx0XHRcdFx0aWYgKCBvcHRpb25zLnhockZpZWxkcyApIHtcblx0XHRcdFx0XHRmb3IgKCBpIGluIG9wdGlvbnMueGhyRmllbGRzICkge1xuXHRcdFx0XHRcdFx0eGhyWyBpIF0gPSBvcHRpb25zLnhockZpZWxkc1sgaSBdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIE92ZXJyaWRlIG1pbWUgdHlwZSBpZiBuZWVkZWRcblx0XHRcdFx0aWYgKCBvcHRpb25zLm1pbWVUeXBlICYmIHhoci5vdmVycmlkZU1pbWVUeXBlICkge1xuXHRcdFx0XHRcdHhoci5vdmVycmlkZU1pbWVUeXBlKCBvcHRpb25zLm1pbWVUeXBlICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBYLVJlcXVlc3RlZC1XaXRoIGhlYWRlclxuXHRcdFx0XHQvLyBGb3IgY3Jvc3MtZG9tYWluIHJlcXVlc3RzLCBzZWVpbmcgYXMgY29uZGl0aW9ucyBmb3IgYSBwcmVmbGlnaHQgYXJlXG5cdFx0XHRcdC8vIGFraW4gdG8gYSBqaWdzYXcgcHV6emxlLCB3ZSBzaW1wbHkgbmV2ZXIgc2V0IGl0IHRvIGJlIHN1cmUuXG5cdFx0XHRcdC8vIChpdCBjYW4gYWx3YXlzIGJlIHNldCBvbiBhIHBlci1yZXF1ZXN0IGJhc2lzIG9yIGV2ZW4gdXNpbmcgYWpheFNldHVwKVxuXHRcdFx0XHQvLyBGb3Igc2FtZS1kb21haW4gcmVxdWVzdHMsIHdvbid0IGNoYW5nZSBoZWFkZXIgaWYgYWxyZWFkeSBwcm92aWRlZC5cblx0XHRcdFx0aWYgKCAhb3B0aW9ucy5jcm9zc0RvbWFpbiAmJiAhaGVhZGVyc1sgXCJYLVJlcXVlc3RlZC1XaXRoXCIgXSApIHtcblx0XHRcdFx0XHRoZWFkZXJzWyBcIlgtUmVxdWVzdGVkLVdpdGhcIiBdID0gXCJYTUxIdHRwUmVxdWVzdFwiO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU2V0IGhlYWRlcnNcblx0XHRcdFx0Zm9yICggaSBpbiBoZWFkZXJzICkge1xuXHRcdFx0XHRcdHhoci5zZXRSZXF1ZXN0SGVhZGVyKCBpLCBoZWFkZXJzWyBpIF0gKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIENhbGxiYWNrXG5cdFx0XHRcdGNhbGxiYWNrID0gZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdFx0Y2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrID0geGhyLm9ubG9hZCA9XG5cdFx0XHRcdFx0XHRcdFx0eGhyLm9uZXJyb3IgPSB4aHIub25hYm9ydCA9IHhoci5vbnRpbWVvdXQgPVxuXHRcdFx0XHRcdFx0XHRcdFx0eGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG5cblx0XHRcdFx0XHRcdFx0aWYgKCB0eXBlID09PSBcImFib3J0XCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0eGhyLmFib3J0KCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIHR5cGUgPT09IFwiZXJyb3JcIiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0Ly8gT24gYSBtYW51YWwgbmF0aXZlIGFib3J0LCBJRTkgdGhyb3dzXG5cdFx0XHRcdFx0XHRcdFx0Ly8gZXJyb3JzIG9uIGFueSBwcm9wZXJ0eSBhY2Nlc3MgdGhhdCBpcyBub3QgcmVhZHlTdGF0ZVxuXHRcdFx0XHRcdFx0XHRcdGlmICggdHlwZW9mIHhoci5zdGF0dXMgIT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZSggMCwgXCJlcnJvclwiICk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlKFxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIEZpbGU6IHByb3RvY29sIGFsd2F5cyB5aWVsZHMgc3RhdHVzIDA7IHNlZSB0cmFjLTg2MDUsIHRyYWMtMTQyMDdcblx0XHRcdFx0XHRcdFx0XHRcdFx0eGhyLnN0YXR1cyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0eGhyLnN0YXR1c1RleHRcblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlKFxuXHRcdFx0XHRcdFx0XHRcdFx0eGhyU3VjY2Vzc1N0YXR1c1sgeGhyLnN0YXR1cyBdIHx8IHhoci5zdGF0dXMsXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzVGV4dCxcblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRcdFx0XHRcdFx0XHRcdC8vIElFOSBoYXMgbm8gWEhSMiBidXQgdGhyb3dzIG9uIGJpbmFyeSAodHJhYy0xMTQyNilcblx0XHRcdFx0XHRcdFx0XHRcdC8vIEZvciBYSFIyIG5vbi10ZXh0LCBsZXQgdGhlIGNhbGxlciBoYW5kbGUgaXQgKGdoLTI0OTgpXG5cdFx0XHRcdFx0XHRcdFx0XHQoIHhoci5yZXNwb25zZVR5cGUgfHwgXCJ0ZXh0XCIgKSAhPT0gXCJ0ZXh0XCIgIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlb2YgeGhyLnJlc3BvbnNlVGV4dCAhPT0gXCJzdHJpbmdcIiA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHsgYmluYXJ5OiB4aHIucmVzcG9uc2UgfSA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHsgdGV4dDogeGhyLnJlc3BvbnNlVGV4dCB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0eGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG5cdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0Ly8gTGlzdGVuIHRvIGV2ZW50c1xuXHRcdFx0XHR4aHIub25sb2FkID0gY2FsbGJhY2soKTtcblx0XHRcdFx0ZXJyb3JDYWxsYmFjayA9IHhoci5vbmVycm9yID0geGhyLm9udGltZW91dCA9IGNhbGxiYWNrKCBcImVycm9yXCIgKTtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA5IG9ubHlcblx0XHRcdFx0Ly8gVXNlIG9ucmVhZHlzdGF0ZWNoYW5nZSB0byByZXBsYWNlIG9uYWJvcnRcblx0XHRcdFx0Ly8gdG8gaGFuZGxlIHVuY2F1Z2h0IGFib3J0c1xuXHRcdFx0XHRpZiAoIHhoci5vbmFib3J0ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0eGhyLm9uYWJvcnQgPSBlcnJvckNhbGxiYWNrO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdFx0Ly8gQ2hlY2sgcmVhZHlTdGF0ZSBiZWZvcmUgdGltZW91dCBhcyBpdCBjaGFuZ2VzXG5cdFx0XHRcdFx0XHRpZiAoIHhoci5yZWFkeVN0YXRlID09PSA0ICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIEFsbG93IG9uZXJyb3IgdG8gYmUgY2FsbGVkIGZpcnN0LFxuXHRcdFx0XHRcdFx0XHQvLyBidXQgdGhhdCB3aWxsIG5vdCBoYW5kbGUgYSBuYXRpdmUgYWJvcnRcblx0XHRcdFx0XHRcdFx0Ly8gQWxzbywgc2F2ZSBlcnJvckNhbGxiYWNrIHRvIGEgdmFyaWFibGVcblx0XHRcdFx0XHRcdFx0Ly8gYXMgeGhyLm9uZXJyb3IgY2Fubm90IGJlIGFjY2Vzc2VkXG5cdFx0XHRcdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZXJyb3JDYWxsYmFjaygpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDcmVhdGUgdGhlIGFib3J0IGNhbGxiYWNrXG5cdFx0XHRcdGNhbGxiYWNrID0gY2FsbGJhY2soIFwiYWJvcnRcIiApO1xuXG5cdFx0XHRcdHRyeSB7XG5cblx0XHRcdFx0XHQvLyBEbyBzZW5kIHRoZSByZXF1ZXN0ICh0aGlzIG1heSByYWlzZSBhbiBleGNlcHRpb24pXG5cdFx0XHRcdFx0eGhyLnNlbmQoIG9wdGlvbnMuaGFzQ29udGVudCAmJiBvcHRpb25zLmRhdGEgfHwgbnVsbCApO1xuXHRcdFx0XHR9IGNhdGNoICggZSApIHtcblxuXHRcdFx0XHRcdC8vIHRyYWMtMTQ2ODM6IE9ubHkgcmV0aHJvdyBpZiB0aGlzIGhhc24ndCBiZWVuIG5vdGlmaWVkIGFzIGFuIGVycm9yIHlldFxuXHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSxcblxuXHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9XG59ICk7XG5cblxuXG5cbi8vIFByZXZlbnQgYXV0by1leGVjdXRpb24gb2Ygc2NyaXB0cyB3aGVuIG5vIGV4cGxpY2l0IGRhdGFUeXBlIHdhcyBwcm92aWRlZCAoU2VlIGdoLTI0MzIpXG5qUXVlcnkuYWpheFByZWZpbHRlciggZnVuY3Rpb24oIHMgKSB7XG5cdGlmICggcy5jcm9zc0RvbWFpbiApIHtcblx0XHRzLmNvbnRlbnRzLnNjcmlwdCA9IGZhbHNlO1xuXHR9XG59ICk7XG5cbi8vIEluc3RhbGwgc2NyaXB0IGRhdGFUeXBlXG5qUXVlcnkuYWpheFNldHVwKCB7XG5cdGFjY2VwdHM6IHtcblx0XHRzY3JpcHQ6IFwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBcIiArXG5cdFx0XHRcImFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdFwiXG5cdH0sXG5cdGNvbnRlbnRzOiB7XG5cdFx0c2NyaXB0OiAvXFxiKD86amF2YXxlY21hKXNjcmlwdFxcYi9cblx0fSxcblx0Y29udmVydGVyczoge1xuXHRcdFwidGV4dCBzY3JpcHRcIjogZnVuY3Rpb24oIHRleHQgKSB7XG5cdFx0XHRqUXVlcnkuZ2xvYmFsRXZhbCggdGV4dCApO1xuXHRcdFx0cmV0dXJuIHRleHQ7XG5cdFx0fVxuXHR9XG59ICk7XG5cbi8vIEhhbmRsZSBjYWNoZSdzIHNwZWNpYWwgY2FzZSBhbmQgY3Jvc3NEb21haW5cbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBcInNjcmlwdFwiLCBmdW5jdGlvbiggcyApIHtcblx0aWYgKCBzLmNhY2hlID09PSB1bmRlZmluZWQgKSB7XG5cdFx0cy5jYWNoZSA9IGZhbHNlO1xuXHR9XG5cdGlmICggcy5jcm9zc0RvbWFpbiApIHtcblx0XHRzLnR5cGUgPSBcIkdFVFwiO1xuXHR9XG59ICk7XG5cbi8vIEJpbmQgc2NyaXB0IHRhZyBoYWNrIHRyYW5zcG9ydFxualF1ZXJ5LmFqYXhUcmFuc3BvcnQoIFwic2NyaXB0XCIsIGZ1bmN0aW9uKCBzICkge1xuXG5cdC8vIFRoaXMgdHJhbnNwb3J0IG9ubHkgZGVhbHMgd2l0aCBjcm9zcyBkb21haW4gb3IgZm9yY2VkLWJ5LWF0dHJzIHJlcXVlc3RzXG5cdGlmICggcy5jcm9zc0RvbWFpbiB8fCBzLnNjcmlwdEF0dHJzICkge1xuXHRcdHZhciBzY3JpcHQsIGNhbGxiYWNrO1xuXHRcdHJldHVybiB7XG5cdFx0XHRzZW5kOiBmdW5jdGlvbiggXywgY29tcGxldGUgKSB7XG5cdFx0XHRcdHNjcmlwdCA9IGpRdWVyeSggXCI8c2NyaXB0PlwiIClcblx0XHRcdFx0XHQuYXR0ciggcy5zY3JpcHRBdHRycyB8fCB7fSApXG5cdFx0XHRcdFx0LnByb3AoIHsgY2hhcnNldDogcy5zY3JpcHRDaGFyc2V0LCBzcmM6IHMudXJsIH0gKVxuXHRcdFx0XHRcdC5vbiggXCJsb2FkIGVycm9yXCIsIGNhbGxiYWNrID0gZnVuY3Rpb24oIGV2dCApIHtcblx0XHRcdFx0XHRcdHNjcmlwdC5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdGNhbGxiYWNrID0gbnVsbDtcblx0XHRcdFx0XHRcdGlmICggZXZ0ICkge1xuXHRcdFx0XHRcdFx0XHRjb21wbGV0ZSggZXZ0LnR5cGUgPT09IFwiZXJyb3JcIiA/IDQwNCA6IDIwMCwgZXZ0LnR5cGUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0Ly8gVXNlIG5hdGl2ZSBET00gbWFuaXB1bGF0aW9uIHRvIGF2b2lkIG91ciBkb21NYW5pcCBBSkFYIHRyaWNrZXJ5XG5cdFx0XHRcdGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoIHNjcmlwdFsgMCBdICk7XG5cdFx0XHR9LFxuXHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9XG59ICk7XG5cblxuXG5cbnZhciBvbGRDYWxsYmFja3MgPSBbXSxcblx0cmpzb25wID0gLyg9KVxcPyg/PSZ8JCl8XFw/XFw/LztcblxuLy8gRGVmYXVsdCBqc29ucCBzZXR0aW5nc1xualF1ZXJ5LmFqYXhTZXR1cCgge1xuXHRqc29ucDogXCJjYWxsYmFja1wiLFxuXHRqc29ucENhbGxiYWNrOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgY2FsbGJhY2sgPSBvbGRDYWxsYmFja3MucG9wKCkgfHwgKCBqUXVlcnkuZXhwYW5kbyArIFwiX1wiICsgKCBub25jZS5ndWlkKysgKSApO1xuXHRcdHRoaXNbIGNhbGxiYWNrIF0gPSB0cnVlO1xuXHRcdHJldHVybiBjYWxsYmFjaztcblx0fVxufSApO1xuXG4vLyBEZXRlY3QsIG5vcm1hbGl6ZSBvcHRpb25zIGFuZCBpbnN0YWxsIGNhbGxiYWNrcyBmb3IganNvbnAgcmVxdWVzdHNcbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBcImpzb24ganNvbnBcIiwgZnVuY3Rpb24oIHMsIG9yaWdpbmFsU2V0dGluZ3MsIGpxWEhSICkge1xuXG5cdHZhciBjYWxsYmFja05hbWUsIG92ZXJ3cml0dGVuLCByZXNwb25zZUNvbnRhaW5lcixcblx0XHRqc29uUHJvcCA9IHMuanNvbnAgIT09IGZhbHNlICYmICggcmpzb25wLnRlc3QoIHMudXJsICkgP1xuXHRcdFx0XCJ1cmxcIiA6XG5cdFx0XHR0eXBlb2Ygcy5kYXRhID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdCggcy5jb250ZW50VHlwZSB8fCBcIlwiIClcblx0XHRcdFx0XHQuaW5kZXhPZiggXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiApID09PSAwICYmXG5cdFx0XHRcdHJqc29ucC50ZXN0KCBzLmRhdGEgKSAmJiBcImRhdGFcIlxuXHRcdCk7XG5cblx0Ly8gSGFuZGxlIGlmZiB0aGUgZXhwZWN0ZWQgZGF0YSB0eXBlIGlzIFwianNvbnBcIiBvciB3ZSBoYXZlIGEgcGFyYW1ldGVyIHRvIHNldFxuXHRpZiAoIGpzb25Qcm9wIHx8IHMuZGF0YVR5cGVzWyAwIF0gPT09IFwianNvbnBcIiApIHtcblxuXHRcdC8vIEdldCBjYWxsYmFjayBuYW1lLCByZW1lbWJlcmluZyBwcmVleGlzdGluZyB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggaXRcblx0XHRjYWxsYmFja05hbWUgPSBzLmpzb25wQ2FsbGJhY2sgPSBpc0Z1bmN0aW9uKCBzLmpzb25wQ2FsbGJhY2sgKSA/XG5cdFx0XHRzLmpzb25wQ2FsbGJhY2soKSA6XG5cdFx0XHRzLmpzb25wQ2FsbGJhY2s7XG5cblx0XHQvLyBJbnNlcnQgY2FsbGJhY2sgaW50byB1cmwgb3IgZm9ybSBkYXRhXG5cdFx0aWYgKCBqc29uUHJvcCApIHtcblx0XHRcdHNbIGpzb25Qcm9wIF0gPSBzWyBqc29uUHJvcCBdLnJlcGxhY2UoIHJqc29ucCwgXCIkMVwiICsgY2FsbGJhY2tOYW1lICk7XG5cdFx0fSBlbHNlIGlmICggcy5qc29ucCAhPT0gZmFsc2UgKSB7XG5cdFx0XHRzLnVybCArPSAoIHJxdWVyeS50ZXN0KCBzLnVybCApID8gXCImXCIgOiBcIj9cIiApICsgcy5qc29ucCArIFwiPVwiICsgY2FsbGJhY2tOYW1lO1xuXHRcdH1cblxuXHRcdC8vIFVzZSBkYXRhIGNvbnZlcnRlciB0byByZXRyaWV2ZSBqc29uIGFmdGVyIHNjcmlwdCBleGVjdXRpb25cblx0XHRzLmNvbnZlcnRlcnNbIFwic2NyaXB0IGpzb25cIiBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICFyZXNwb25zZUNvbnRhaW5lciApIHtcblx0XHRcdFx0alF1ZXJ5LmVycm9yKCBjYWxsYmFja05hbWUgKyBcIiB3YXMgbm90IGNhbGxlZFwiICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzcG9uc2VDb250YWluZXJbIDAgXTtcblx0XHR9O1xuXG5cdFx0Ly8gRm9yY2UganNvbiBkYXRhVHlwZVxuXHRcdHMuZGF0YVR5cGVzWyAwIF0gPSBcImpzb25cIjtcblxuXHRcdC8vIEluc3RhbGwgY2FsbGJhY2tcblx0XHRvdmVyd3JpdHRlbiA9IHdpbmRvd1sgY2FsbGJhY2tOYW1lIF07XG5cdFx0d2luZG93WyBjYWxsYmFja05hbWUgXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmVzcG9uc2VDb250YWluZXIgPSBhcmd1bWVudHM7XG5cdFx0fTtcblxuXHRcdC8vIENsZWFuLXVwIGZ1bmN0aW9uIChmaXJlcyBhZnRlciBjb252ZXJ0ZXJzKVxuXHRcdGpxWEhSLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIElmIHByZXZpb3VzIHZhbHVlIGRpZG4ndCBleGlzdCAtIHJlbW92ZSBpdFxuXHRcdFx0aWYgKCBvdmVyd3JpdHRlbiA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRqUXVlcnkoIHdpbmRvdyApLnJlbW92ZVByb3AoIGNhbGxiYWNrTmFtZSApO1xuXG5cdFx0XHQvLyBPdGhlcndpc2UgcmVzdG9yZSBwcmVleGlzdGluZyB2YWx1ZVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0d2luZG93WyBjYWxsYmFja05hbWUgXSA9IG92ZXJ3cml0dGVuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTYXZlIGJhY2sgYXMgZnJlZVxuXHRcdFx0aWYgKCBzWyBjYWxsYmFja05hbWUgXSApIHtcblxuXHRcdFx0XHQvLyBNYWtlIHN1cmUgdGhhdCByZS11c2luZyB0aGUgb3B0aW9ucyBkb2Vzbid0IHNjcmV3IHRoaW5ncyBhcm91bmRcblx0XHRcdFx0cy5qc29ucENhbGxiYWNrID0gb3JpZ2luYWxTZXR0aW5ncy5qc29ucENhbGxiYWNrO1xuXG5cdFx0XHRcdC8vIFNhdmUgdGhlIGNhbGxiYWNrIG5hbWUgZm9yIGZ1dHVyZSB1c2Vcblx0XHRcdFx0b2xkQ2FsbGJhY2tzLnB1c2goIGNhbGxiYWNrTmFtZSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDYWxsIGlmIGl0IHdhcyBhIGZ1bmN0aW9uIGFuZCB3ZSBoYXZlIGEgcmVzcG9uc2Vcblx0XHRcdGlmICggcmVzcG9uc2VDb250YWluZXIgJiYgaXNGdW5jdGlvbiggb3ZlcndyaXR0ZW4gKSApIHtcblx0XHRcdFx0b3ZlcndyaXR0ZW4oIHJlc3BvbnNlQ29udGFpbmVyWyAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmVzcG9uc2VDb250YWluZXIgPSBvdmVyd3JpdHRlbiA9IHVuZGVmaW5lZDtcblx0XHR9ICk7XG5cblx0XHQvLyBEZWxlZ2F0ZSB0byBzY3JpcHRcblx0XHRyZXR1cm4gXCJzY3JpcHRcIjtcblx0fVxufSApO1xuXG5cblxuXG4vLyBTdXBwb3J0OiBTYWZhcmkgOCBvbmx5XG4vLyBJbiBTYWZhcmkgOCBkb2N1bWVudHMgY3JlYXRlZCB2aWEgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50XG4vLyBjb2xsYXBzZSBzaWJsaW5nIGZvcm1zOiB0aGUgc2Vjb25kIG9uZSBiZWNvbWVzIGEgY2hpbGQgb2YgdGhlIGZpcnN0IG9uZS5cbi8vIEJlY2F1c2Ugb2YgdGhhdCwgdGhpcyBzZWN1cml0eSBtZWFzdXJlIGhhcyB0byBiZSBkaXNhYmxlZCBpbiBTYWZhcmkgOC5cbi8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzczMzdcbnN1cHBvcnQuY3JlYXRlSFRNTERvY3VtZW50ID0gKCBmdW5jdGlvbigpIHtcblx0dmFyIGJvZHkgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIFwiXCIgKS5ib2R5O1xuXHRib2R5LmlubmVySFRNTCA9IFwiPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT5cIjtcblx0cmV0dXJuIGJvZHkuY2hpbGROb2Rlcy5sZW5ndGggPT09IDI7XG59ICkoKTtcblxuXG4vLyBBcmd1bWVudCBcImRhdGFcIiBzaG91bGQgYmUgc3RyaW5nIG9mIGh0bWxcbi8vIGNvbnRleHQgKG9wdGlvbmFsKTogSWYgc3BlY2lmaWVkLCB0aGUgZnJhZ21lbnQgd2lsbCBiZSBjcmVhdGVkIGluIHRoaXMgY29udGV4dCxcbi8vIGRlZmF1bHRzIHRvIGRvY3VtZW50XG4vLyBrZWVwU2NyaXB0cyAob3B0aW9uYWwpOiBJZiB0cnVlLCB3aWxsIGluY2x1ZGUgc2NyaXB0cyBwYXNzZWQgaW4gdGhlIGh0bWwgc3RyaW5nXG5qUXVlcnkucGFyc2VIVE1MID0gZnVuY3Rpb24oIGRhdGEsIGNvbnRleHQsIGtlZXBTY3JpcHRzICkge1xuXHRpZiAoIHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiBbXTtcblx0fVxuXHRpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRrZWVwU2NyaXB0cyA9IGNvbnRleHQ7XG5cdFx0Y29udGV4dCA9IGZhbHNlO1xuXHR9XG5cblx0dmFyIGJhc2UsIHBhcnNlZCwgc2NyaXB0cztcblxuXHRpZiAoICFjb250ZXh0ICkge1xuXG5cdFx0Ly8gU3RvcCBzY3JpcHRzIG9yIGlubGluZSBldmVudCBoYW5kbGVycyBmcm9tIGJlaW5nIGV4ZWN1dGVkIGltbWVkaWF0ZWx5XG5cdFx0Ly8gYnkgdXNpbmcgZG9jdW1lbnQuaW1wbGVtZW50YXRpb25cblx0XHRpZiAoIHN1cHBvcnQuY3JlYXRlSFRNTERvY3VtZW50ICkge1xuXHRcdFx0Y29udGV4dCA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCggXCJcIiApO1xuXG5cdFx0XHQvLyBTZXQgdGhlIGJhc2UgaHJlZiBmb3IgdGhlIGNyZWF0ZWQgZG9jdW1lbnRcblx0XHRcdC8vIHNvIGFueSBwYXJzZWQgZWxlbWVudHMgd2l0aCBVUkxzXG5cdFx0XHQvLyBhcmUgYmFzZWQgb24gdGhlIGRvY3VtZW50J3MgVVJMIChnaC0yOTY1KVxuXHRcdFx0YmFzZSA9IGNvbnRleHQuY3JlYXRlRWxlbWVudCggXCJiYXNlXCIgKTtcblx0XHRcdGJhc2UuaHJlZiA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7XG5cdFx0XHRjb250ZXh0LmhlYWQuYXBwZW5kQ2hpbGQoIGJhc2UgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29udGV4dCA9IGRvY3VtZW50O1xuXHRcdH1cblx0fVxuXG5cdHBhcnNlZCA9IHJzaW5nbGVUYWcuZXhlYyggZGF0YSApO1xuXHRzY3JpcHRzID0gIWtlZXBTY3JpcHRzICYmIFtdO1xuXG5cdC8vIFNpbmdsZSB0YWdcblx0aWYgKCBwYXJzZWQgKSB7XG5cdFx0cmV0dXJuIFsgY29udGV4dC5jcmVhdGVFbGVtZW50KCBwYXJzZWRbIDEgXSApIF07XG5cdH1cblxuXHRwYXJzZWQgPSBidWlsZEZyYWdtZW50KCBbIGRhdGEgXSwgY29udGV4dCwgc2NyaXB0cyApO1xuXG5cdGlmICggc2NyaXB0cyAmJiBzY3JpcHRzLmxlbmd0aCApIHtcblx0XHRqUXVlcnkoIHNjcmlwdHMgKS5yZW1vdmUoKTtcblx0fVxuXG5cdHJldHVybiBqUXVlcnkubWVyZ2UoIFtdLCBwYXJzZWQuY2hpbGROb2RlcyApO1xufTtcblxuXG4vKipcbiAqIExvYWQgYSB1cmwgaW50byBhIHBhZ2VcbiAqL1xualF1ZXJ5LmZuLmxvYWQgPSBmdW5jdGlvbiggdXJsLCBwYXJhbXMsIGNhbGxiYWNrICkge1xuXHR2YXIgc2VsZWN0b3IsIHR5cGUsIHJlc3BvbnNlLFxuXHRcdHNlbGYgPSB0aGlzLFxuXHRcdG9mZiA9IHVybC5pbmRleE9mKCBcIiBcIiApO1xuXG5cdGlmICggb2ZmID4gLTEgKSB7XG5cdFx0c2VsZWN0b3IgPSBzdHJpcEFuZENvbGxhcHNlKCB1cmwuc2xpY2UoIG9mZiApICk7XG5cdFx0dXJsID0gdXJsLnNsaWNlKCAwLCBvZmYgKTtcblx0fVxuXG5cdC8vIElmIGl0J3MgYSBmdW5jdGlvblxuXHRpZiAoIGlzRnVuY3Rpb24oIHBhcmFtcyApICkge1xuXG5cdFx0Ly8gV2UgYXNzdW1lIHRoYXQgaXQncyB0aGUgY2FsbGJhY2tcblx0XHRjYWxsYmFjayA9IHBhcmFtcztcblx0XHRwYXJhbXMgPSB1bmRlZmluZWQ7XG5cblx0Ly8gT3RoZXJ3aXNlLCBidWlsZCBhIHBhcmFtIHN0cmluZ1xuXHR9IGVsc2UgaWYgKCBwYXJhbXMgJiYgdHlwZW9mIHBhcmFtcyA9PT0gXCJvYmplY3RcIiApIHtcblx0XHR0eXBlID0gXCJQT1NUXCI7XG5cdH1cblxuXHQvLyBJZiB3ZSBoYXZlIGVsZW1lbnRzIHRvIG1vZGlmeSwgbWFrZSB0aGUgcmVxdWVzdFxuXHRpZiAoIHNlbGYubGVuZ3RoID4gMCApIHtcblx0XHRqUXVlcnkuYWpheCgge1xuXHRcdFx0dXJsOiB1cmwsXG5cblx0XHRcdC8vIElmIFwidHlwZVwiIHZhcmlhYmxlIGlzIHVuZGVmaW5lZCwgdGhlbiBcIkdFVFwiIG1ldGhvZCB3aWxsIGJlIHVzZWQuXG5cdFx0XHQvLyBNYWtlIHZhbHVlIG9mIHRoaXMgZmllbGQgZXhwbGljaXQgc2luY2Vcblx0XHRcdC8vIHVzZXIgY2FuIG92ZXJyaWRlIGl0IHRocm91Z2ggYWpheFNldHVwIG1ldGhvZFxuXHRcdFx0dHlwZTogdHlwZSB8fCBcIkdFVFwiLFxuXHRcdFx0ZGF0YVR5cGU6IFwiaHRtbFwiLFxuXHRcdFx0ZGF0YTogcGFyYW1zXG5cdFx0fSApLmRvbmUoIGZ1bmN0aW9uKCByZXNwb25zZVRleHQgKSB7XG5cblx0XHRcdC8vIFNhdmUgcmVzcG9uc2UgZm9yIHVzZSBpbiBjb21wbGV0ZSBjYWxsYmFja1xuXHRcdFx0cmVzcG9uc2UgPSBhcmd1bWVudHM7XG5cblx0XHRcdHNlbGYuaHRtbCggc2VsZWN0b3IgP1xuXG5cdFx0XHRcdC8vIElmIGEgc2VsZWN0b3Igd2FzIHNwZWNpZmllZCwgbG9jYXRlIHRoZSByaWdodCBlbGVtZW50cyBpbiBhIGR1bW15IGRpdlxuXHRcdFx0XHQvLyBFeGNsdWRlIHNjcmlwdHMgdG8gYXZvaWQgSUUgJ1Blcm1pc3Npb24gRGVuaWVkJyBlcnJvcnNcblx0XHRcdFx0alF1ZXJ5KCBcIjxkaXY+XCIgKS5hcHBlbmQoIGpRdWVyeS5wYXJzZUhUTUwoIHJlc3BvbnNlVGV4dCApICkuZmluZCggc2VsZWN0b3IgKSA6XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIHVzZSB0aGUgZnVsbCByZXN1bHRcblx0XHRcdFx0cmVzcG9uc2VUZXh0ICk7XG5cblx0XHQvLyBJZiB0aGUgcmVxdWVzdCBzdWNjZWVkcywgdGhpcyBmdW5jdGlvbiBnZXRzIFwiZGF0YVwiLCBcInN0YXR1c1wiLCBcImpxWEhSXCJcblx0XHQvLyBidXQgdGhleSBhcmUgaWdub3JlZCBiZWNhdXNlIHJlc3BvbnNlIHdhcyBzZXQgYWJvdmUuXG5cdFx0Ly8gSWYgaXQgZmFpbHMsIHRoaXMgZnVuY3Rpb24gZ2V0cyBcImpxWEhSXCIsIFwic3RhdHVzXCIsIFwiZXJyb3JcIlxuXHRcdH0gKS5hbHdheXMoIGNhbGxiYWNrICYmIGZ1bmN0aW9uKCBqcVhIUiwgc3RhdHVzICkge1xuXHRcdFx0c2VsZi5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Y2FsbGJhY2suYXBwbHkoIHRoaXMsIHJlc3BvbnNlIHx8IFsganFYSFIucmVzcG9uc2VUZXh0LCBzdGF0dXMsIGpxWEhSIF0gKTtcblx0XHRcdH0gKTtcblx0XHR9ICk7XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn07XG5cblxuXG5cbmpRdWVyeS5leHByLnBzZXVkb3MuYW5pbWF0ZWQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0cmV0dXJuIGpRdWVyeS5ncmVwKCBqUXVlcnkudGltZXJzLCBmdW5jdGlvbiggZm4gKSB7XG5cdFx0cmV0dXJuIGVsZW0gPT09IGZuLmVsZW07XG5cdH0gKS5sZW5ndGg7XG59O1xuXG5cblxuXG5qUXVlcnkub2Zmc2V0ID0ge1xuXHRzZXRPZmZzZXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBpICkge1xuXHRcdHZhciBjdXJQb3NpdGlvbiwgY3VyTGVmdCwgY3VyQ1NTVG9wLCBjdXJUb3AsIGN1ck9mZnNldCwgY3VyQ1NTTGVmdCwgY2FsY3VsYXRlUG9zaXRpb24sXG5cdFx0XHRwb3NpdGlvbiA9IGpRdWVyeS5jc3MoIGVsZW0sIFwicG9zaXRpb25cIiApLFxuXHRcdFx0Y3VyRWxlbSA9IGpRdWVyeSggZWxlbSApLFxuXHRcdFx0cHJvcHMgPSB7fTtcblxuXHRcdC8vIFNldCBwb3NpdGlvbiBmaXJzdCwgaW4tY2FzZSB0b3AvbGVmdCBhcmUgc2V0IGV2ZW4gb24gc3RhdGljIGVsZW1cblx0XHRpZiAoIHBvc2l0aW9uID09PSBcInN0YXRpY1wiICkge1xuXHRcdFx0ZWxlbS5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcblx0XHR9XG5cblx0XHRjdXJPZmZzZXQgPSBjdXJFbGVtLm9mZnNldCgpO1xuXHRcdGN1ckNTU1RvcCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwidG9wXCIgKTtcblx0XHRjdXJDU1NMZWZ0ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJsZWZ0XCIgKTtcblx0XHRjYWxjdWxhdGVQb3NpdGlvbiA9ICggcG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiB8fCBwb3NpdGlvbiA9PT0gXCJmaXhlZFwiICkgJiZcblx0XHRcdCggY3VyQ1NTVG9wICsgY3VyQ1NTTGVmdCApLmluZGV4T2YoIFwiYXV0b1wiICkgPiAtMTtcblxuXHRcdC8vIE5lZWQgdG8gYmUgYWJsZSB0byBjYWxjdWxhdGUgcG9zaXRpb24gaWYgZWl0aGVyXG5cdFx0Ly8gdG9wIG9yIGxlZnQgaXMgYXV0byBhbmQgcG9zaXRpb24gaXMgZWl0aGVyIGFic29sdXRlIG9yIGZpeGVkXG5cdFx0aWYgKCBjYWxjdWxhdGVQb3NpdGlvbiApIHtcblx0XHRcdGN1clBvc2l0aW9uID0gY3VyRWxlbS5wb3NpdGlvbigpO1xuXHRcdFx0Y3VyVG9wID0gY3VyUG9zaXRpb24udG9wO1xuXHRcdFx0Y3VyTGVmdCA9IGN1clBvc2l0aW9uLmxlZnQ7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y3VyVG9wID0gcGFyc2VGbG9hdCggY3VyQ1NTVG9wICkgfHwgMDtcblx0XHRcdGN1ckxlZnQgPSBwYXJzZUZsb2F0KCBjdXJDU1NMZWZ0ICkgfHwgMDtcblx0XHR9XG5cblx0XHRpZiAoIGlzRnVuY3Rpb24oIG9wdGlvbnMgKSApIHtcblxuXHRcdFx0Ly8gVXNlIGpRdWVyeS5leHRlbmQgaGVyZSB0byBhbGxvdyBtb2RpZmljYXRpb24gb2YgY29vcmRpbmF0ZXMgYXJndW1lbnQgKGdoLTE4NDgpXG5cdFx0XHRvcHRpb25zID0gb3B0aW9ucy5jYWxsKCBlbGVtLCBpLCBqUXVlcnkuZXh0ZW5kKCB7fSwgY3VyT2Zmc2V0ICkgKTtcblx0XHR9XG5cblx0XHRpZiAoIG9wdGlvbnMudG9wICE9IG51bGwgKSB7XG5cdFx0XHRwcm9wcy50b3AgPSAoIG9wdGlvbnMudG9wIC0gY3VyT2Zmc2V0LnRvcCApICsgY3VyVG9wO1xuXHRcdH1cblx0XHRpZiAoIG9wdGlvbnMubGVmdCAhPSBudWxsICkge1xuXHRcdFx0cHJvcHMubGVmdCA9ICggb3B0aW9ucy5sZWZ0IC0gY3VyT2Zmc2V0LmxlZnQgKSArIGN1ckxlZnQ7XG5cdFx0fVxuXG5cdFx0aWYgKCBcInVzaW5nXCIgaW4gb3B0aW9ucyApIHtcblx0XHRcdG9wdGlvbnMudXNpbmcuY2FsbCggZWxlbSwgcHJvcHMgKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjdXJFbGVtLmNzcyggcHJvcHMgKTtcblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblxuXHQvLyBvZmZzZXQoKSByZWxhdGVzIGFuIGVsZW1lbnQncyBib3JkZXIgYm94IHRvIHRoZSBkb2N1bWVudCBvcmlnaW5cblx0b2Zmc2V0OiBmdW5jdGlvbiggb3B0aW9ucyApIHtcblxuXHRcdC8vIFByZXNlcnZlIGNoYWluaW5nIGZvciBzZXR0ZXJcblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gb3B0aW9ucyA9PT0gdW5kZWZpbmVkID9cblx0XHRcdFx0dGhpcyA6XG5cdFx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5Lm9mZnNldC5zZXRPZmZzZXQoIHRoaXMsIG9wdGlvbnMsIGkgKTtcblx0XHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHZhciByZWN0LCB3aW4sXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdO1xuXG5cdFx0aWYgKCAhZWxlbSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4gemVyb3MgZm9yIGRpc2Nvbm5lY3RlZCBhbmQgaGlkZGVuIChkaXNwbGF5OiBub25lKSBlbGVtZW50cyAoZ2gtMjMxMClcblx0XHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0XHQvLyBSdW5uaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBvbiBhXG5cdFx0Ly8gZGlzY29ubmVjdGVkIG5vZGUgaW4gSUUgdGhyb3dzIGFuIGVycm9yXG5cdFx0aWYgKCAhZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiB7IHRvcDogMCwgbGVmdDogMCB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBkb2N1bWVudC1yZWxhdGl2ZSBwb3NpdGlvbiBieSBhZGRpbmcgdmlld3BvcnQgc2Nyb2xsIHRvIHZpZXdwb3J0LXJlbGF0aXZlIGdCQ1Jcblx0XHRyZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHR3aW4gPSBlbGVtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogcmVjdC50b3AgKyB3aW4ucGFnZVlPZmZzZXQsXG5cdFx0XHRsZWZ0OiByZWN0LmxlZnQgKyB3aW4ucGFnZVhPZmZzZXRcblx0XHR9O1xuXHR9LFxuXG5cdC8vIHBvc2l0aW9uKCkgcmVsYXRlcyBhbiBlbGVtZW50J3MgbWFyZ2luIGJveCB0byBpdHMgb2Zmc2V0IHBhcmVudCdzIHBhZGRpbmcgYm94XG5cdC8vIFRoaXMgY29ycmVzcG9uZHMgdG8gdGhlIGJlaGF2aW9yIG9mIENTUyBhYnNvbHV0ZSBwb3NpdGlvbmluZ1xuXHRwb3NpdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCAhdGhpc1sgMCBdICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciBvZmZzZXRQYXJlbnQsIG9mZnNldCwgZG9jLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcblx0XHRcdHBhcmVudE9mZnNldCA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07XG5cblx0XHQvLyBwb3NpdGlvbjpmaXhlZCBlbGVtZW50cyBhcmUgb2Zmc2V0IGZyb20gdGhlIHZpZXdwb3J0LCB3aGljaCBpdHNlbGYgYWx3YXlzIGhhcyB6ZXJvIG9mZnNldFxuXHRcdGlmICggalF1ZXJ5LmNzcyggZWxlbSwgXCJwb3NpdGlvblwiICkgPT09IFwiZml4ZWRcIiApIHtcblxuXHRcdFx0Ly8gQXNzdW1lIHBvc2l0aW9uOmZpeGVkIGltcGxpZXMgYXZhaWxhYmlsaXR5IG9mIGdldEJvdW5kaW5nQ2xpZW50UmVjdFxuXHRcdFx0b2Zmc2V0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRvZmZzZXQgPSB0aGlzLm9mZnNldCgpO1xuXG5cdFx0XHQvLyBBY2NvdW50IGZvciB0aGUgKnJlYWwqIG9mZnNldCBwYXJlbnQsIHdoaWNoIGNhbiBiZSB0aGUgZG9jdW1lbnQgb3IgaXRzIHJvb3QgZWxlbWVudFxuXHRcdFx0Ly8gd2hlbiBhIHN0YXRpY2FsbHkgcG9zaXRpb25lZCBlbGVtZW50IGlzIGlkZW50aWZpZWRcblx0XHRcdGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudDtcblx0XHRcdG9mZnNldFBhcmVudCA9IGVsZW0ub2Zmc2V0UGFyZW50IHx8IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG5cdFx0XHR3aGlsZSAoIG9mZnNldFBhcmVudCAmJlxuXHRcdFx0XHQoIG9mZnNldFBhcmVudCA9PT0gZG9jLmJvZHkgfHwgb2Zmc2V0UGFyZW50ID09PSBkb2MuZG9jdW1lbnRFbGVtZW50ICkgJiZcblx0XHRcdFx0alF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcInBvc2l0aW9uXCIgKSA9PT0gXCJzdGF0aWNcIiApIHtcblxuXHRcdFx0XHRvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQucGFyZW50Tm9kZTtcblx0XHRcdH1cblx0XHRcdGlmICggb2Zmc2V0UGFyZW50ICYmIG9mZnNldFBhcmVudCAhPT0gZWxlbSAmJiBvZmZzZXRQYXJlbnQubm9kZVR5cGUgPT09IDEgKSB7XG5cblx0XHRcdFx0Ly8gSW5jb3Jwb3JhdGUgYm9yZGVycyBpbnRvIGl0cyBvZmZzZXQsIHNpbmNlIHRoZXkgYXJlIG91dHNpZGUgaXRzIGNvbnRlbnQgb3JpZ2luXG5cdFx0XHRcdHBhcmVudE9mZnNldCA9IGpRdWVyeSggb2Zmc2V0UGFyZW50ICkub2Zmc2V0KCk7XG5cdFx0XHRcdHBhcmVudE9mZnNldC50b3AgKz0galF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcImJvcmRlclRvcFdpZHRoXCIsIHRydWUgKTtcblx0XHRcdFx0cGFyZW50T2Zmc2V0LmxlZnQgKz0galF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcImJvcmRlckxlZnRXaWR0aFwiLCB0cnVlICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gU3VidHJhY3QgcGFyZW50IG9mZnNldHMgYW5kIGVsZW1lbnQgbWFyZ2luc1xuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6IG9mZnNldC50b3AgLSBwYXJlbnRPZmZzZXQudG9wIC0galF1ZXJ5LmNzcyggZWxlbSwgXCJtYXJnaW5Ub3BcIiwgdHJ1ZSApLFxuXHRcdFx0bGVmdDogb2Zmc2V0LmxlZnQgLSBwYXJlbnRPZmZzZXQubGVmdCAtIGpRdWVyeS5jc3MoIGVsZW0sIFwibWFyZ2luTGVmdFwiLCB0cnVlIClcblx0XHR9O1xuXHR9LFxuXG5cdC8vIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIGRvY3VtZW50RWxlbWVudCBpbiB0aGUgZm9sbG93aW5nIGNhc2VzOlxuXHQvLyAxKSBGb3IgdGhlIGVsZW1lbnQgaW5zaWRlIHRoZSBpZnJhbWUgd2l0aG91dCBvZmZzZXRQYXJlbnQsIHRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuXG5cdC8vICAgIGRvY3VtZW50RWxlbWVudCBvZiB0aGUgcGFyZW50IHdpbmRvd1xuXHQvLyAyKSBGb3IgdGhlIGhpZGRlbiBvciBkZXRhY2hlZCBlbGVtZW50XG5cdC8vIDMpIEZvciBib2R5IG9yIGh0bWwgZWxlbWVudCwgaS5lLiBpbiBjYXNlIG9mIHRoZSBodG1sIG5vZGUgLSBpdCB3aWxsIHJldHVybiBpdHNlbGZcblx0Ly9cblx0Ly8gYnV0IHRob3NlIGV4Y2VwdGlvbnMgd2VyZSBuZXZlciBwcmVzZW50ZWQgYXMgYSByZWFsIGxpZmUgdXNlLWNhc2VzXG5cdC8vIGFuZCBtaWdodCBiZSBjb25zaWRlcmVkIGFzIG1vcmUgcHJlZmVyYWJsZSByZXN1bHRzLlxuXHQvL1xuXHQvLyBUaGlzIGxvZ2ljLCBob3dldmVyLCBpcyBub3QgZ3VhcmFudGVlZCBhbmQgY2FuIGNoYW5nZSBhdCBhbnkgcG9pbnQgaW4gdGhlIGZ1dHVyZVxuXHRvZmZzZXRQYXJlbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgb2Zmc2V0UGFyZW50ID0gdGhpcy5vZmZzZXRQYXJlbnQ7XG5cblx0XHRcdHdoaWxlICggb2Zmc2V0UGFyZW50ICYmIGpRdWVyeS5jc3MoIG9mZnNldFBhcmVudCwgXCJwb3NpdGlvblwiICkgPT09IFwic3RhdGljXCIgKSB7XG5cdFx0XHRcdG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBvZmZzZXRQYXJlbnQgfHwgZG9jdW1lbnRFbGVtZW50O1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG4vLyBDcmVhdGUgc2Nyb2xsTGVmdCBhbmQgc2Nyb2xsVG9wIG1ldGhvZHNcbmpRdWVyeS5lYWNoKCB7IHNjcm9sbExlZnQ6IFwicGFnZVhPZmZzZXRcIiwgc2Nyb2xsVG9wOiBcInBhZ2VZT2Zmc2V0XCIgfSwgZnVuY3Rpb24oIG1ldGhvZCwgcHJvcCApIHtcblx0dmFyIHRvcCA9IFwicGFnZVlPZmZzZXRcIiA9PT0gcHJvcDtcblxuXHRqUXVlcnkuZm5bIG1ldGhvZCBdID0gZnVuY3Rpb24oIHZhbCApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgbWV0aG9kLCB2YWwgKSB7XG5cblx0XHRcdC8vIENvYWxlc2NlIGRvY3VtZW50cyBhbmQgd2luZG93c1xuXHRcdFx0dmFyIHdpbjtcblx0XHRcdGlmICggaXNXaW5kb3coIGVsZW0gKSApIHtcblx0XHRcdFx0d2luID0gZWxlbTtcblx0XHRcdH0gZWxzZSBpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdHdpbiA9IGVsZW0uZGVmYXVsdFZpZXc7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggdmFsID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiB3aW4gPyB3aW5bIHByb3AgXSA6IGVsZW1bIG1ldGhvZCBdO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHdpbiApIHtcblx0XHRcdFx0d2luLnNjcm9sbFRvKFxuXHRcdFx0XHRcdCF0b3AgPyB2YWwgOiB3aW4ucGFnZVhPZmZzZXQsXG5cdFx0XHRcdFx0dG9wID8gdmFsIDogd2luLnBhZ2VZT2Zmc2V0XG5cdFx0XHRcdCk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsZW1bIG1ldGhvZCBdID0gdmFsO1xuXHRcdFx0fVxuXHRcdH0sIG1ldGhvZCwgdmFsLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdH07XG59ICk7XG5cbi8vIFN1cHBvcnQ6IFNhZmFyaSA8PTcgLSA5LjEsIENocm9tZSA8PTM3IC0gNDlcbi8vIEFkZCB0aGUgdG9wL2xlZnQgY3NzSG9va3MgdXNpbmcgalF1ZXJ5LmZuLnBvc2l0aW9uXG4vLyBXZWJraXQgYnVnOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MjkwODRcbi8vIEJsaW5rIGJ1ZzogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NTg5MzQ3XG4vLyBnZXRDb21wdXRlZFN0eWxlIHJldHVybnMgcGVyY2VudCB3aGVuIHNwZWNpZmllZCBmb3IgdG9wL2xlZnQvYm90dG9tL3JpZ2h0O1xuLy8gcmF0aGVyIHRoYW4gbWFrZSB0aGUgY3NzIG1vZHVsZSBkZXBlbmQgb24gdGhlIG9mZnNldCBtb2R1bGUsIGp1c3QgY2hlY2sgZm9yIGl0IGhlcmVcbmpRdWVyeS5lYWNoKCBbIFwidG9wXCIsIFwibGVmdFwiIF0sIGZ1bmN0aW9uKCBfaSwgcHJvcCApIHtcblx0alF1ZXJ5LmNzc0hvb2tzWyBwcm9wIF0gPSBhZGRHZXRIb29rSWYoIHN1cHBvcnQucGl4ZWxQb3NpdGlvbixcblx0XHRmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XG5cdFx0XHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdFx0XHRjb21wdXRlZCA9IGN1ckNTUyggZWxlbSwgcHJvcCApO1xuXG5cdFx0XHRcdC8vIElmIGN1ckNTUyByZXR1cm5zIHBlcmNlbnRhZ2UsIGZhbGxiYWNrIHRvIG9mZnNldFxuXHRcdFx0XHRyZXR1cm4gcm51bW5vbnB4LnRlc3QoIGNvbXB1dGVkICkgP1xuXHRcdFx0XHRcdGpRdWVyeSggZWxlbSApLnBvc2l0aW9uKClbIHByb3AgXSArIFwicHhcIiA6XG5cdFx0XHRcdFx0Y29tcHV0ZWQ7XG5cdFx0XHR9XG5cdFx0fVxuXHQpO1xufSApO1xuXG5cbi8vIENyZWF0ZSBpbm5lckhlaWdodCwgaW5uZXJXaWR0aCwgaGVpZ2h0LCB3aWR0aCwgb3V0ZXJIZWlnaHQgYW5kIG91dGVyV2lkdGggbWV0aG9kc1xualF1ZXJ5LmVhY2goIHsgSGVpZ2h0OiBcImhlaWdodFwiLCBXaWR0aDogXCJ3aWR0aFwiIH0sIGZ1bmN0aW9uKCBuYW1lLCB0eXBlICkge1xuXHRqUXVlcnkuZWFjaCgge1xuXHRcdHBhZGRpbmc6IFwiaW5uZXJcIiArIG5hbWUsXG5cdFx0Y29udGVudDogdHlwZSxcblx0XHRcIlwiOiBcIm91dGVyXCIgKyBuYW1lXG5cdH0sIGZ1bmN0aW9uKCBkZWZhdWx0RXh0cmEsIGZ1bmNOYW1lICkge1xuXG5cdFx0Ly8gTWFyZ2luIGlzIG9ubHkgZm9yIG91dGVySGVpZ2h0LCBvdXRlcldpZHRoXG5cdFx0alF1ZXJ5LmZuWyBmdW5jTmFtZSBdID0gZnVuY3Rpb24oIG1hcmdpbiwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgY2hhaW5hYmxlID0gYXJndW1lbnRzLmxlbmd0aCAmJiAoIGRlZmF1bHRFeHRyYSB8fCB0eXBlb2YgbWFyZ2luICE9PSBcImJvb2xlYW5cIiApLFxuXHRcdFx0XHRleHRyYSA9IGRlZmF1bHRFeHRyYSB8fCAoIG1hcmdpbiA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gdHJ1ZSA/IFwibWFyZ2luXCIgOiBcImJvcmRlclwiICk7XG5cblx0XHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIGRvYztcblxuXHRcdFx0XHRpZiAoIGlzV2luZG93KCBlbGVtICkgKSB7XG5cblx0XHRcdFx0XHQvLyAkKCB3aW5kb3cgKS5vdXRlcldpZHRoL0hlaWdodCByZXR1cm4gdy9oIGluY2x1ZGluZyBzY3JvbGxiYXJzIChnaC0xNzI5KVxuXHRcdFx0XHRcdHJldHVybiBmdW5jTmFtZS5pbmRleE9mKCBcIm91dGVyXCIgKSA9PT0gMCA/XG5cdFx0XHRcdFx0XHRlbGVtWyBcImlubmVyXCIgKyBuYW1lIF0gOlxuXHRcdFx0XHRcdFx0ZWxlbS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbIFwiY2xpZW50XCIgKyBuYW1lIF07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBHZXQgZG9jdW1lbnQgd2lkdGggb3IgaGVpZ2h0XG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHRkb2MgPSBlbGVtLmRvY3VtZW50RWxlbWVudDtcblxuXHRcdFx0XHRcdC8vIEVpdGhlciBzY3JvbGxbV2lkdGgvSGVpZ2h0XSBvciBvZmZzZXRbV2lkdGgvSGVpZ2h0XSBvciBjbGllbnRbV2lkdGgvSGVpZ2h0XSxcblx0XHRcdFx0XHQvLyB3aGljaGV2ZXIgaXMgZ3JlYXRlc3Rcblx0XHRcdFx0XHRyZXR1cm4gTWF0aC5tYXgoXG5cdFx0XHRcdFx0XHRlbGVtLmJvZHlbIFwic2Nyb2xsXCIgKyBuYW1lIF0sIGRvY1sgXCJzY3JvbGxcIiArIG5hbWUgXSxcblx0XHRcdFx0XHRcdGVsZW0uYm9keVsgXCJvZmZzZXRcIiArIG5hbWUgXSwgZG9jWyBcIm9mZnNldFwiICsgbmFtZSBdLFxuXHRcdFx0XHRcdFx0ZG9jWyBcImNsaWVudFwiICsgbmFtZSBdXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID9cblxuXHRcdFx0XHRcdC8vIEdldCB3aWR0aCBvciBoZWlnaHQgb24gdGhlIGVsZW1lbnQsIHJlcXVlc3RpbmcgYnV0IG5vdCBmb3JjaW5nIHBhcnNlRmxvYXRcblx0XHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCB0eXBlLCBleHRyYSApIDpcblxuXHRcdFx0XHRcdC8vIFNldCB3aWR0aCBvciBoZWlnaHQgb24gdGhlIGVsZW1lbnRcblx0XHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHR5cGUsIHZhbHVlLCBleHRyYSApO1xuXHRcdFx0fSwgdHlwZSwgY2hhaW5hYmxlID8gbWFyZ2luIDogdW5kZWZpbmVkLCBjaGFpbmFibGUgKTtcblx0XHR9O1xuXHR9ICk7XG59ICk7XG5cblxualF1ZXJ5LmVhY2goIFtcblx0XCJhamF4U3RhcnRcIixcblx0XCJhamF4U3RvcFwiLFxuXHRcImFqYXhDb21wbGV0ZVwiLFxuXHRcImFqYXhFcnJvclwiLFxuXHRcImFqYXhTdWNjZXNzXCIsXG5cdFwiYWpheFNlbmRcIlxuXSwgZnVuY3Rpb24oIF9pLCB0eXBlICkge1xuXHRqUXVlcnkuZm5bIHR5cGUgXSA9IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vbiggdHlwZSwgZm4gKTtcblx0fTtcbn0gKTtcblxuXG5cblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXG5cdGJpbmQ6IGZ1bmN0aW9uKCB0eXBlcywgZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIHRoaXMub24oIHR5cGVzLCBudWxsLCBkYXRhLCBmbiApO1xuXHR9LFxuXHR1bmJpbmQ6IGZ1bmN0aW9uKCB0eXBlcywgZm4gKSB7XG5cdFx0cmV0dXJuIHRoaXMub2ZmKCB0eXBlcywgbnVsbCwgZm4gKTtcblx0fSxcblxuXHRkZWxlZ2F0ZTogZnVuY3Rpb24oIHNlbGVjdG9yLCB0eXBlcywgZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIHRoaXMub24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKTtcblx0fSxcblx0dW5kZWxlZ2F0ZTogZnVuY3Rpb24oIHNlbGVjdG9yLCB0eXBlcywgZm4gKSB7XG5cblx0XHQvLyAoIG5hbWVzcGFjZSApIG9yICggc2VsZWN0b3IsIHR5cGVzIFssIGZuXSApXG5cdFx0cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgP1xuXHRcdFx0dGhpcy5vZmYoIHNlbGVjdG9yLCBcIioqXCIgKSA6XG5cdFx0XHR0aGlzLm9mZiggdHlwZXMsIHNlbGVjdG9yIHx8IFwiKipcIiwgZm4gKTtcblx0fSxcblxuXHRob3ZlcjogZnVuY3Rpb24oIGZuT3ZlciwgZm5PdXQgKSB7XG5cdFx0cmV0dXJuIHRoaXMubW91c2VlbnRlciggZm5PdmVyICkubW91c2VsZWF2ZSggZm5PdXQgfHwgZm5PdmVyICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goXG5cdCggXCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXplIHNjcm9sbCBjbGljayBkYmxjbGljayBcIiArXG5cdFwibW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgXCIgK1xuXHRcImNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnVcIiApLnNwbGl0KCBcIiBcIiApLFxuXHRmdW5jdGlvbiggX2ksIG5hbWUgKSB7XG5cblx0XHQvLyBIYW5kbGUgZXZlbnQgYmluZGluZ1xuXHRcdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIGRhdGEsIGZuICkge1xuXHRcdFx0cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAwID9cblx0XHRcdFx0dGhpcy5vbiggbmFtZSwgbnVsbCwgZGF0YSwgZm4gKSA6XG5cdFx0XHRcdHRoaXMudHJpZ2dlciggbmFtZSApO1xuXHRcdH07XG5cdH1cbik7XG5cblxuXG5cbi8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seVxuLy8gTWFrZSBzdXJlIHdlIHRyaW0gQk9NIGFuZCBOQlNQXG4vLyBSZXF1aXJlIHRoYXQgdGhlIFwid2hpdGVzcGFjZSBydW5cIiBzdGFydHMgZnJvbSBhIG5vbi13aGl0ZXNwYWNlXG4vLyB0byBhdm9pZCBPKE5eMikgYmVoYXZpb3Igd2hlbiB0aGUgZW5naW5lIHdvdWxkIHRyeSBtYXRjaGluZyBcIlxccyskXCIgYXQgZWFjaCBzcGFjZSBwb3NpdGlvbi5cbnZhciBydHJpbSA9IC9eW1xcc1xcdUZFRkZcXHhBMF0rfChbXlxcc1xcdUZFRkZcXHhBMF0pW1xcc1xcdUZFRkZcXHhBMF0rJC9nO1xuXG4vLyBCaW5kIGEgZnVuY3Rpb24gdG8gYSBjb250ZXh0LCBvcHRpb25hbGx5IHBhcnRpYWxseSBhcHBseWluZyBhbnlcbi8vIGFyZ3VtZW50cy5cbi8vIGpRdWVyeS5wcm94eSBpcyBkZXByZWNhdGVkIHRvIHByb21vdGUgc3RhbmRhcmRzIChzcGVjaWZpY2FsbHkgRnVuY3Rpb24jYmluZClcbi8vIEhvd2V2ZXIsIGl0IGlzIG5vdCBzbGF0ZWQgZm9yIHJlbW92YWwgYW55IHRpbWUgc29vblxualF1ZXJ5LnByb3h5ID0gZnVuY3Rpb24oIGZuLCBjb250ZXh0ICkge1xuXHR2YXIgdG1wLCBhcmdzLCBwcm94eTtcblxuXHRpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcInN0cmluZ1wiICkge1xuXHRcdHRtcCA9IGZuWyBjb250ZXh0IF07XG5cdFx0Y29udGV4dCA9IGZuO1xuXHRcdGZuID0gdG1wO1xuXHR9XG5cblx0Ly8gUXVpY2sgY2hlY2sgdG8gZGV0ZXJtaW5lIGlmIHRhcmdldCBpcyBjYWxsYWJsZSwgaW4gdGhlIHNwZWNcblx0Ly8gdGhpcyB0aHJvd3MgYSBUeXBlRXJyb3IsIGJ1dCB3ZSB3aWxsIGp1c3QgcmV0dXJuIHVuZGVmaW5lZC5cblx0aWYgKCAhaXNGdW5jdGlvbiggZm4gKSApIHtcblx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHR9XG5cblx0Ly8gU2ltdWxhdGVkIGJpbmRcblx0YXJncyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMiApO1xuXHRwcm94eSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBmbi5hcHBseSggY29udGV4dCB8fCB0aGlzLCBhcmdzLmNvbmNhdCggc2xpY2UuY2FsbCggYXJndW1lbnRzICkgKSApO1xuXHR9O1xuXG5cdC8vIFNldCB0aGUgZ3VpZCBvZiB1bmlxdWUgaGFuZGxlciB0byB0aGUgc2FtZSBvZiBvcmlnaW5hbCBoYW5kbGVyLCBzbyBpdCBjYW4gYmUgcmVtb3ZlZFxuXHRwcm94eS5ndWlkID0gZm4uZ3VpZCA9IGZuLmd1aWQgfHwgalF1ZXJ5Lmd1aWQrKztcblxuXHRyZXR1cm4gcHJveHk7XG59O1xuXG5qUXVlcnkuaG9sZFJlYWR5ID0gZnVuY3Rpb24oIGhvbGQgKSB7XG5cdGlmICggaG9sZCApIHtcblx0XHRqUXVlcnkucmVhZHlXYWl0Kys7XG5cdH0gZWxzZSB7XG5cdFx0alF1ZXJ5LnJlYWR5KCB0cnVlICk7XG5cdH1cbn07XG5qUXVlcnkuaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5qUXVlcnkucGFyc2VKU09OID0gSlNPTi5wYXJzZTtcbmpRdWVyeS5ub2RlTmFtZSA9IG5vZGVOYW1lO1xualF1ZXJ5LmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xualF1ZXJ5LmlzV2luZG93ID0gaXNXaW5kb3c7XG5qUXVlcnkuY2FtZWxDYXNlID0gY2FtZWxDYXNlO1xualF1ZXJ5LnR5cGUgPSB0b1R5cGU7XG5cbmpRdWVyeS5ub3cgPSBEYXRlLm5vdztcblxualF1ZXJ5LmlzTnVtZXJpYyA9IGZ1bmN0aW9uKCBvYmogKSB7XG5cblx0Ly8gQXMgb2YgalF1ZXJ5IDMuMCwgaXNOdW1lcmljIGlzIGxpbWl0ZWQgdG9cblx0Ly8gc3RyaW5ncyBhbmQgbnVtYmVycyAocHJpbWl0aXZlcyBvciBvYmplY3RzKVxuXHQvLyB0aGF0IGNhbiBiZSBjb2VyY2VkIHRvIGZpbml0ZSBudW1iZXJzIChnaC0yNjYyKVxuXHR2YXIgdHlwZSA9IGpRdWVyeS50eXBlKCBvYmogKTtcblx0cmV0dXJuICggdHlwZSA9PT0gXCJudW1iZXJcIiB8fCB0eXBlID09PSBcInN0cmluZ1wiICkgJiZcblxuXHRcdC8vIHBhcnNlRmxvYXQgTmFOcyBudW1lcmljLWNhc3QgZmFsc2UgcG9zaXRpdmVzIChcIlwiKVxuXHRcdC8vIC4uLmJ1dCBtaXNpbnRlcnByZXRzIGxlYWRpbmctbnVtYmVyIHN0cmluZ3MsIHBhcnRpY3VsYXJseSBoZXggbGl0ZXJhbHMgKFwiMHguLi5cIilcblx0XHQvLyBzdWJ0cmFjdGlvbiBmb3JjZXMgaW5maW5pdGllcyB0byBOYU5cblx0XHQhaXNOYU4oIG9iaiAtIHBhcnNlRmxvYXQoIG9iaiApICk7XG59O1xuXG5qUXVlcnkudHJpbSA9IGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRyZXR1cm4gdGV4dCA9PSBudWxsID9cblx0XHRcIlwiIDpcblx0XHQoIHRleHQgKyBcIlwiICkucmVwbGFjZSggcnRyaW0sIFwiJDFcIiApO1xufTtcblxuXG5cbi8vIFJlZ2lzdGVyIGFzIGEgbmFtZWQgQU1EIG1vZHVsZSwgc2luY2UgalF1ZXJ5IGNhbiBiZSBjb25jYXRlbmF0ZWQgd2l0aCBvdGhlclxuLy8gZmlsZXMgdGhhdCBtYXkgdXNlIGRlZmluZSwgYnV0IG5vdCB2aWEgYSBwcm9wZXIgY29uY2F0ZW5hdGlvbiBzY3JpcHQgdGhhdFxuLy8gdW5kZXJzdGFuZHMgYW5vbnltb3VzIEFNRCBtb2R1bGVzLiBBIG5hbWVkIEFNRCBpcyBzYWZlc3QgYW5kIG1vc3Qgcm9idXN0XG4vLyB3YXkgdG8gcmVnaXN0ZXIuIExvd2VyY2FzZSBqcXVlcnkgaXMgdXNlZCBiZWNhdXNlIEFNRCBtb2R1bGUgbmFtZXMgYXJlXG4vLyBkZXJpdmVkIGZyb20gZmlsZSBuYW1lcywgYW5kIGpRdWVyeSBpcyBub3JtYWxseSBkZWxpdmVyZWQgaW4gYSBsb3dlcmNhc2Vcbi8vIGZpbGUgbmFtZS4gRG8gdGhpcyBhZnRlciBjcmVhdGluZyB0aGUgZ2xvYmFsIHNvIHRoYXQgaWYgYW4gQU1EIG1vZHVsZSB3YW50c1xuLy8gdG8gY2FsbCBub0NvbmZsaWN0IHRvIGhpZGUgdGhpcyB2ZXJzaW9uIG9mIGpRdWVyeSwgaXQgd2lsbCB3b3JrLlxuXG4vLyBOb3RlIHRoYXQgZm9yIG1heGltdW0gcG9ydGFiaWxpdHksIGxpYnJhcmllcyB0aGF0IGFyZSBub3QgalF1ZXJ5IHNob3VsZFxuLy8gZGVjbGFyZSB0aGVtc2VsdmVzIGFzIGFub255bW91cyBtb2R1bGVzLCBhbmQgYXZvaWQgc2V0dGluZyBhIGdsb2JhbCBpZiBhblxuLy8gQU1EIGxvYWRlciBpcyBwcmVzZW50LiBqUXVlcnkgaXMgYSBzcGVjaWFsIGNhc2UuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWVcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qcmJ1cmtlL3JlcXVpcmVqcy93aWtpL1VwZGF0aW5nLWV4aXN0aW5nLWxpYnJhcmllcyN3aWtpLWFub25cblxuaWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblx0ZGVmaW5lKCBcImpxdWVyeVwiLCBbXSwgZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGpRdWVyeTtcblx0fSApO1xufVxuXG5cblxuXG52YXJcblxuXHQvLyBNYXAgb3ZlciBqUXVlcnkgaW4gY2FzZSBvZiBvdmVyd3JpdGVcblx0X2pRdWVyeSA9IHdpbmRvdy5qUXVlcnksXG5cblx0Ly8gTWFwIG92ZXIgdGhlICQgaW4gY2FzZSBvZiBvdmVyd3JpdGVcblx0XyQgPSB3aW5kb3cuJDtcblxualF1ZXJ5Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiggZGVlcCApIHtcblx0aWYgKCB3aW5kb3cuJCA9PT0galF1ZXJ5ICkge1xuXHRcdHdpbmRvdy4kID0gXyQ7XG5cdH1cblxuXHRpZiAoIGRlZXAgJiYgd2luZG93LmpRdWVyeSA9PT0galF1ZXJ5ICkge1xuXHRcdHdpbmRvdy5qUXVlcnkgPSBfalF1ZXJ5O1xuXHR9XG5cblx0cmV0dXJuIGpRdWVyeTtcbn07XG5cbi8vIEV4cG9zZSBqUXVlcnkgYW5kICQgaWRlbnRpZmllcnMsIGV2ZW4gaW4gQU1EXG4vLyAodHJhYy03MTAyI2NvbW1lbnQ6MTAsIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5L3B1bGwvNTU3KVxuLy8gYW5kIENvbW1vbkpTIGZvciBicm93c2VyIGVtdWxhdG9ycyAodHJhYy0xMzU2NilcbmlmICggdHlwZW9mIG5vR2xvYmFsID09PSBcInVuZGVmaW5lZFwiICkge1xuXHR3aW5kb3cualF1ZXJ5ID0gd2luZG93LiQgPSBqUXVlcnk7XG59XG5cblxuXG5cbnJldHVybiBqUXVlcnk7XG59ICk7XG4iLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiLCIvKipcbiAqIEBwcmVzZXJ2ZSB0YWJsZUV4cG9ydC5qcXVlcnkucGx1Z2luXG4gKlxuICogVmVyc2lvbiAxLjI2LjBcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtMjAyMiBoaHVyeixcbiAqICAgaHR0cHM6Ly9naXRodWIuY29tL2hodXJ6L3RhYmxlRXhwb3J0LmpxdWVyeS5wbHVnaW5cbiAqXG4gKiBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20va2F5YWxzaHJpL3RhYmxlRXhwb3J0LmpxdWVyeS5wbHVnaW5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2VcbiAqKi9cblwidXNlIHN0cmljdFwiOyhmdW5jdGlvbigkKXskLmZuLnRhYmxlRXhwb3J0PWZ1bmN0aW9uKG9wdGlvbnMpe2xldCBkb2NEYXRhO2NvbnN0IGRlZmF1bHRzPXtjc3ZFbmNsb3N1cmU6J1wiJyxjc3ZTZXBhcmF0b3I6XCIsXCIsY3N2VXNlQk9NOnRydWUsZGF0ZTp7aHRtbDpcImRkL21tL3l5eXlcIn0sZGlzcGxheVRhYmxlTmFtZTpmYWxzZSxlc2NhcGU6ZmFsc2UsZXhwb3J0SGlkZGVuQ2VsbHM6ZmFsc2UsZmlsZU5hbWU6XCJ0YWJsZUV4cG9ydFwiLGh0bWxDb250ZW50OmZhbHNlLGh0bWxIeXBlcmxpbms6XCJjb250ZW50XCIsaWdub3JlQ29sdW1uOltdLGlnbm9yZVJvdzpbXSxqc29uU2NvcGU6XCJhbGxcIixqc3BkZjp7b3JpZW50YXRpb246XCJwXCIsdW5pdDpcInB0XCIsZm9ybWF0OlwiYTRcIixtYXJnaW5zOntsZWZ0OjIwLHJpZ2h0OjEwLHRvcDoxMCxib3R0b206MTB9LG9uRG9jQ3JlYXRlZDpudWxsLGF1dG90YWJsZTp7c3R5bGVzOntjZWxsUGFkZGluZzoyLHJvd0hlaWdodDoxMixmb250U2l6ZTo4LGZpbGxDb2xvcjoyNTUsdGV4dENvbG9yOjUwLGZvbnRTdHlsZTpcIm5vcm1hbFwiLG92ZXJmbG93OlwiZWxsaXBzaXplXCIsaGFsaWduOlwiaW5oZXJpdFwiLHZhbGlnbjpcIm1pZGRsZVwifSxoZWFkZXJTdHlsZXM6e2ZpbGxDb2xvcjpbNTIsNzMsOTRdLHRleHRDb2xvcjoyNTUsZm9udFN0eWxlOlwiYm9sZFwiLGhhbGlnbjpcImluaGVyaXRcIix2YWxpZ246XCJtaWRkbGVcIn0sYWx0ZXJuYXRlUm93U3R5bGVzOntmaWxsQ29sb3I6MjQ1fSx0YWJsZUV4cG9ydDp7ZG9jOm51bGwsb25BZnRlckF1dG90YWJsZTpudWxsLG9uQmVmb3JlQXV0b3RhYmxlOm51bGwsb25BdXRvdGFibGVUZXh0Om51bGwsb25UYWJsZTpudWxsLG91dHB1dEltYWdlczp0cnVlfX19LG1zbzp7ZmlsZUZvcm1hdDpcInhsc2h0bWxcIixvbk1zb051bWJlckZvcm1hdDpudWxsLHBhZ2VGb3JtYXQ6XCJhNFwiLHBhZ2VPcmllbnRhdGlvbjpcInBvcnRyYWl0XCIscnRsOmZhbHNlLHN0eWxlczpbXSx3b3Jrc2hlZXROYW1lOlwiXCIseGxzeDp7Zm9ybWF0SWQ6e2RhdGU6MTQsbnVtYmVyczoyLGN1cnJlbmN5OjE2NH0sZm9ybWF0OntjdXJyZW5jeTpcIiQjLCMjMC4wMDtbUmVkXS0kIywjIzAuMDBcIn0sb25IeXBlcmxpbms6bnVsbH19LG51bWJlcnM6e2h0bWw6e2RlY2ltYWxNYXJrOlwiLlwiLHRob3VzYW5kc1NlcGFyYXRvcjpcIixcIn0sb3V0cHV0OntkZWNpbWFsTWFyazpcIi5cIix0aG91c2FuZHNTZXBhcmF0b3I6XCIsXCJ9fSxvbkFmdGVyU2F2ZVRvRmlsZTpudWxsLG9uQmVmb3JlU2F2ZVRvRmlsZTpudWxsLG9uQ2VsbERhdGE6bnVsbCxvbkNlbGxIdG1sRGF0YTpudWxsLG9uQ2VsbEh0bWxIeXBlcmxpbms6bnVsbCxvbklnbm9yZVJvdzpudWxsLG9uVGFibGVFeHBvcnRCZWdpbjpudWxsLG9uVGFibGVFeHBvcnRFbmQ6bnVsbCxvdXRwdXRNb2RlOlwiZmlsZVwiLHBkZm1ha2U6e2VuYWJsZWQ6ZmFsc2UsZG9jRGVmaW5pdGlvbjp7cGFnZVNpemU6XCJBNFwiLHBhZ2VPcmllbnRhdGlvbjpcInBvcnRyYWl0XCIsc3R5bGVzOntoZWFkZXI6e2JhY2tncm91bmQ6XCIjMzQ0OTVFXCIsY29sb3I6XCIjRkZGRkZGXCIsYm9sZDp0cnVlLGFsaWdubWVudDpcImNlbnRlclwiLGZpbGxDb2xvcjpcIiMzNDQ5NUVcIn0sYWx0ZXJuYXRlUm93OntmaWxsQ29sb3I6XCIjZjVmNWY1XCJ9fSxkZWZhdWx0U3R5bGU6e2NvbG9yOlwiIzAwMDAwMFwiLGZvbnRTaXplOjgsZm9udDpcIlJvYm90b1wifX0sZm9udHM6e319LHByZXNlcnZlOntsZWFkaW5nV1M6ZmFsc2UsdHJhaWxpbmdXUzpmYWxzZX0scHJldmVudEluamVjdGlvbjp0cnVlLHNxbDp7dGFibGVFbmNsb3N1cmU6XCJgXCIsY29sdW1uRW5jbG9zdXJlOlwiYFwifSx0Ym9keVNlbGVjdG9yOlwidHJcIix0Zm9vdFNlbGVjdG9yOlwidHJcIix0aGVhZFNlbGVjdG9yOlwidHJcIix0YWJsZU5hbWU6XCJUYWJsZVwiLHR5cGU6XCJjc3ZcIn07Y29uc3QgcGFnZUZvcm1hdHM9e2EwOlsyMzgzLjk0LDMzNzAuMzldLGExOlsxNjgzLjc4LDIzODMuOTRdLGEyOlsxMTkwLjU1LDE2ODMuNzhdLGEzOls4NDEuODksMTE5MC41NV0sYTQ6WzU5NS4yOCw4NDEuODldLGE1Ols0MTkuNTMsNTk1LjI4XSxhNjpbMjk3LjY0LDQxOS41M10sYTc6WzIwOS43NiwyOTcuNjRdLGE4OlsxNDcuNCwyMDkuNzZdLGE5OlsxMDQuODgsMTQ3LjRdLGExMDpbNzMuNywxMDQuODhdLGIwOlsyODM0LjY1LDQwMDguMTldLGIxOlsyMDA0LjA5LDI4MzQuNjVdLGIyOlsxNDE3LjMyLDIwMDQuMDldLGIzOlsxMDAwLjYzLDE0MTcuMzJdLGI0Ols3MDguNjYsMTAwMC42M10sYjU6WzQ5OC45LDcwOC42Nl0sYjY6WzM1NC4zMyw0OTguOV0sYjc6WzI0OS40NSwzNTQuMzNdLGI4OlsxNzUuNzUsMjQ5LjQ1XSxiOTpbMTI0LjcyLDE3NS43NV0sYjEwOls4Ny44NywxMjQuNzJdLGMwOlsyNTk5LjM3LDM2NzYuNTRdLGMxOlsxODM2Ljg1LDI1OTkuMzddLGMyOlsxMjk4LjI3LDE4MzYuODVdLGMzOls5MTguNDMsMTI5OC4yN10sYzQ6WzY0OS4xMyw5MTguNDNdLGM1Ols0NTkuMjEsNjQ5LjEzXSxjNjpbMzIzLjE1LDQ1OS4yMV0sYzc6WzIyOS42MSwzMjMuMTVdLGM4OlsxNjEuNTcsMjI5LjYxXSxjOTpbMTEzLjM5LDE2MS41N10sYzEwOls3OS4zNywxMTMuMzldLGRsOlszMTEuODEsNjIzLjYyXSxsZXR0ZXI6WzYxMiw3OTJdLFwiZ292ZXJubWVudC1sZXR0ZXJcIjpbNTc2LDc1Nl0sbGVnYWw6WzYxMiwxMDA4XSxcImp1bmlvci1sZWdhbFwiOls1NzYsMzYwXSxsZWRnZXI6WzEyMjQsNzkyXSx0YWJsb2lkOls3OTIsMTIyNF0sXCJjcmVkaXQtY2FyZFwiOlsxNTMsMjQzXX07Y29uc3QganNQZGZUaGVtZXM9e3N0cmlwZWQ6e3RhYmxlOntmaWxsQ29sb3I6MjU1LHRleHRDb2xvcjo4MCxmb250U3R5bGU6XCJub3JtYWxcIixmaWxsU3R5bGU6XCJGXCJ9LGhlYWRlcjp7dGV4dENvbG9yOjI1NSxmaWxsQ29sb3I6WzQxLDEyOCwxODVdLHJvd0hlaWdodDoyMyxmb250U3R5bGU6XCJib2xkXCJ9LGJvZHk6e30sYWx0ZXJuYXRlUm93OntmaWxsQ29sb3I6MjQ1fX0sZ3JpZDp7dGFibGU6e2ZpbGxDb2xvcjoyNTUsdGV4dENvbG9yOjgwLGZvbnRTdHlsZTpcIm5vcm1hbFwiLGxpbmVXaWR0aDouMSxmaWxsU3R5bGU6XCJERlwifSxoZWFkZXI6e3RleHRDb2xvcjoyNTUsZmlsbENvbG9yOlsyNiwxODgsMTU2XSxyb3dIZWlnaHQ6MjMsZmlsbFN0eWxlOlwiRlwiLGZvbnRTdHlsZTpcImJvbGRcIn0sYm9keTp7fSxhbHRlcm5hdGVSb3c6e319LHBsYWluOntoZWFkZXI6e2ZvbnRTdHlsZTpcImJvbGRcIn19fTtjb25zdCBqc1BkZkRlZmF1bHRTdHlsZXM9e2NlbGxQYWRkaW5nOjUsZm9udFNpemU6MTAsZm9udDpcImhlbHZldGljYVwiLGxpbmVDb2xvcjoyMDAsbGluZVdpZHRoOi4xLGZvbnRTdHlsZTpcIm5vcm1hbFwiLG92ZXJmbG93OlwiZWxsaXBzaXplXCIsZmlsbENvbG9yOjI1NSx0ZXh0Q29sb3I6MjAsaGFsaWduOlwibGVmdFwiLHZhbGlnbjpcInRvcFwiLGZpbGxTdHlsZTpcIkZcIixyb3dIZWlnaHQ6MjAsY29sdW1uV2lkdGg6XCJhdXRvXCJ9O2NvbnN0IEZPTlRfUk9XX1JBVElPPTEuMTU7Y29uc3QgZWw9dGhpcztsZXQgRG93bmxvYWRFdnQ9bnVsbDtsZXQgJGhlYWRfcm93cz1bXTtsZXQgJHJvd3M9W107bGV0IHJvd0luZGV4PTA7bGV0IHRyRGF0YT1cIlwiO2xldCBjb2xOYW1lcz1bXTtsZXQgcmFuZ2VzPVtdO2xldCBibG9iO2xldCAkaGlkZGVuVGFibGVFbGVtZW50cz1bXTtsZXQgY2hlY2tDZWxsVmlzaWJpbGl0eT1mYWxzZTskLmV4dGVuZCh0cnVlLGRlZmF1bHRzLG9wdGlvbnMpO2lmKGRlZmF1bHRzLnR5cGU9PT1cInhsc3hcIil7ZGVmYXVsdHMubXNvLmZpbGVGb3JtYXQ9ZGVmYXVsdHMudHlwZTtkZWZhdWx0cy50eXBlPVwiZXhjZWxcIn1pZih0eXBlb2YgZGVmYXVsdHMuZXhjZWxGaWxlRm9ybWF0IT09XCJ1bmRlZmluZWRcIiYmdHlwZW9mIGRlZmF1bHRzLm1zby5maWxlRm9ybWF0PT09XCJ1bmRlZmluZWRcIilkZWZhdWx0cy5tc28uZmlsZUZvcm1hdD1kZWZhdWx0cy5leGNlbEZpbGVGb3JtYXQ7aWYodHlwZW9mIGRlZmF1bHRzLmV4Y2VsUGFnZUZvcm1hdCE9PVwidW5kZWZpbmVkXCImJnR5cGVvZiBkZWZhdWx0cy5tc28ucGFnZUZvcm1hdD09PVwidW5kZWZpbmVkXCIpZGVmYXVsdHMubXNvLnBhZ2VGb3JtYXQ9ZGVmYXVsdHMuZXhjZWxQYWdlRm9ybWF0O2lmKHR5cGVvZiBkZWZhdWx0cy5leGNlbFBhZ2VPcmllbnRhdGlvbiE9PVwidW5kZWZpbmVkXCImJnR5cGVvZiBkZWZhdWx0cy5tc28ucGFnZU9yaWVudGF0aW9uPT09XCJ1bmRlZmluZWRcIilkZWZhdWx0cy5tc28ucGFnZU9yaWVudGF0aW9uPWRlZmF1bHRzLmV4Y2VsUGFnZU9yaWVudGF0aW9uO2lmKHR5cGVvZiBkZWZhdWx0cy5leGNlbFJUTCE9PVwidW5kZWZpbmVkXCImJnR5cGVvZiBkZWZhdWx0cy5tc28ucnRsPT09XCJ1bmRlZmluZWRcIilkZWZhdWx0cy5tc28ucnRsPWRlZmF1bHRzLmV4Y2VsUlRMO2lmKHR5cGVvZiBkZWZhdWx0cy5leGNlbHN0eWxlcyE9PVwidW5kZWZpbmVkXCImJnR5cGVvZiBkZWZhdWx0cy5tc28uc3R5bGVzPT09XCJ1bmRlZmluZWRcIilkZWZhdWx0cy5tc28uc3R5bGVzPWRlZmF1bHRzLmV4Y2Vsc3R5bGVzO2lmKHR5cGVvZiBkZWZhdWx0cy5vbk1zb051bWJlckZvcm1hdCE9PVwidW5kZWZpbmVkXCImJnR5cGVvZiBkZWZhdWx0cy5tc28ub25Nc29OdW1iZXJGb3JtYXQ9PT1cInVuZGVmaW5lZFwiKWRlZmF1bHRzLm1zby5vbk1zb051bWJlckZvcm1hdD1kZWZhdWx0cy5vbk1zb051bWJlckZvcm1hdDtpZih0eXBlb2YgZGVmYXVsdHMud29ya3NoZWV0TmFtZSE9PVwidW5kZWZpbmVkXCImJnR5cGVvZiBkZWZhdWx0cy5tc28ud29ya3NoZWV0TmFtZT09PVwidW5kZWZpbmVkXCIpZGVmYXVsdHMubXNvLndvcmtzaGVldE5hbWU9ZGVmYXVsdHMud29ya3NoZWV0TmFtZTtpZih0eXBlb2YgZGVmYXVsdHMubXNvLnhzbHghPT1cInVuZGVmaW5lZFwiJiZ0eXBlb2YgZGVmYXVsdHMubXNvLnhsc3g9PT1cInVuZGVmaW5lZFwiKWRlZmF1bHRzLm1zby54bHN4PWRlZmF1bHRzLm1zby54c2x4O2RlZmF1bHRzLm1zby5wYWdlT3JpZW50YXRpb249ZGVmYXVsdHMubXNvLnBhZ2VPcmllbnRhdGlvbi5zdWJzdHIoMCwxKT09PVwibFwiP1wibGFuZHNjYXBlXCI6XCJwb3J0cmFpdFwiO2RlZmF1bHRzLmRhdGUuaHRtbD1kZWZhdWx0cy5kYXRlLmh0bWx8fFwiXCI7aWYoZGVmYXVsdHMuZGF0ZS5odG1sLmxlbmd0aCl7Y29uc3QgcGF0dD1bXTtwYXR0W1wiZGRcIl09XCIoM1swMV18WzEyXVswLTldfDA/WzEtOV0pXCI7cGF0dFtcIm1tXCJdPVwiKDFbMDEyXXwwP1sxLTldKVwiO3BhdHRbXCJ5eXl5XCJdPVwiKCg/OjFbNi05XXwyWzAtMl0pXFxcXGR7Mn0pXCI7cGF0dFtcInl5XCJdPVwiKFxcXFxkezJ9KVwiO2NvbnN0IHNlcGFyYXRvcj1kZWZhdWx0cy5kYXRlLmh0bWwubWF0Y2goL1teYS16QS1aMC05XS8pWzBdO2NvbnN0IGZvcm1hdEl0ZW1zPWRlZmF1bHRzLmRhdGUuaHRtbC50b0xvd2VyQ2FzZSgpLnNwbGl0KHNlcGFyYXRvcik7ZGVmYXVsdHMuZGF0ZS5yZWdleD1cIl5cXFxccypcIjtkZWZhdWx0cy5kYXRlLnJlZ2V4Kz1wYXR0W2Zvcm1hdEl0ZW1zWzBdXTtkZWZhdWx0cy5kYXRlLnJlZ2V4Kz1cIiguKVwiO2RlZmF1bHRzLmRhdGUucmVnZXgrPXBhdHRbZm9ybWF0SXRlbXNbMV1dO2RlZmF1bHRzLmRhdGUucmVnZXgrPVwiXFxcXDJcIjtkZWZhdWx0cy5kYXRlLnJlZ2V4Kz1wYXR0W2Zvcm1hdEl0ZW1zWzJdXTtkZWZhdWx0cy5kYXRlLnJlZ2V4Kz1cIlxcXFxzKiRcIjtkZWZhdWx0cy5kYXRlLnBhdHRlcm49bmV3IFJlZ0V4cChkZWZhdWx0cy5kYXRlLnJlZ2V4LFwiZ1wiKTtsZXQgZj1mb3JtYXRJdGVtcy5pbmRleE9mKFwiZGRcIikrMTtkZWZhdWx0cy5kYXRlLm1hdGNoX2Q9ZisoZj4xPzE6MCk7Zj1mb3JtYXRJdGVtcy5pbmRleE9mKFwibW1cIikrMTtkZWZhdWx0cy5kYXRlLm1hdGNoX209ZisoZj4xPzE6MCk7Zj0oZm9ybWF0SXRlbXMuaW5kZXhPZihcInl5eXlcIik+PTA/Zm9ybWF0SXRlbXMuaW5kZXhPZihcInl5eXlcIik6Zm9ybWF0SXRlbXMuaW5kZXhPZihcInl5XCIpKSsxO2RlZmF1bHRzLmRhdGUubWF0Y2hfeT1mKyhmPjE/MTowKX1jb2xOYW1lcz1HZXRDb2x1bW5OYW1lcyhlbCk7aWYodHlwZW9mIGRlZmF1bHRzLm9uVGFibGVFeHBvcnRCZWdpbj09PVwiZnVuY3Rpb25cIilkZWZhdWx0cy5vblRhYmxlRXhwb3J0QmVnaW4oKTtpZihkZWZhdWx0cy50eXBlPT09XCJjc3ZcInx8ZGVmYXVsdHMudHlwZT09PVwidHN2XCJ8fGRlZmF1bHRzLnR5cGU9PT1cInR4dFwiKXtsZXQgY3N2RGF0YT1cIlwiO2xldCByb3dMZW5ndGg9MDtyYW5nZXM9W107cm93SW5kZXg9MDtjb25zdCBjc3ZTdHJpbmc9ZnVuY3Rpb24oY2VsbCxyb3dJbmRleCxjb2xJbmRleCl7bGV0IHJlc3VsdD1cIlwiO2lmKGNlbGwhPT1udWxsKXtjb25zdCBkYXRhU3RyaW5nPXBhcnNlU3RyaW5nKGNlbGwscm93SW5kZXgsY29sSW5kZXgpO2NvbnN0IGNzdlZhbHVlPWRhdGFTdHJpbmc9PT1udWxsfHxkYXRhU3RyaW5nPT09XCJcIj9cIlwiOmRhdGFTdHJpbmcudG9TdHJpbmcoKTtpZihkZWZhdWx0cy50eXBlPT09XCJ0c3ZcIil7aWYoZGF0YVN0cmluZyBpbnN0YW5jZW9mIERhdGUpZGF0YVN0cmluZy50b0xvY2FsZVN0cmluZygpO3Jlc3VsdD1yZXBsYWNlQWxsKGNzdlZhbHVlLFwiXFx0XCIsXCIgXCIpfWVsc2V7aWYoZGF0YVN0cmluZyBpbnN0YW5jZW9mIERhdGUpcmVzdWx0PWRlZmF1bHRzLmNzdkVuY2xvc3VyZStkYXRhU3RyaW5nLnRvTG9jYWxlU3RyaW5nKCkrZGVmYXVsdHMuY3N2RW5jbG9zdXJlO2Vsc2V7cmVzdWx0PXByZXZlbnRJbmplY3Rpb24oY3N2VmFsdWUpO3Jlc3VsdD1yZXBsYWNlQWxsKHJlc3VsdCxkZWZhdWx0cy5jc3ZFbmNsb3N1cmUsZGVmYXVsdHMuY3N2RW5jbG9zdXJlK2RlZmF1bHRzLmNzdkVuY2xvc3VyZSk7aWYocmVzdWx0LmluZGV4T2YoZGVmYXVsdHMuY3N2U2VwYXJhdG9yKT49MHx8L1tcXHJcXG4gXS9nLnRlc3QocmVzdWx0KSlyZXN1bHQ9ZGVmYXVsdHMuY3N2RW5jbG9zdXJlK3Jlc3VsdCtkZWZhdWx0cy5jc3ZFbmNsb3N1cmV9fX1yZXR1cm4gcmVzdWx0fTtjb25zdCBDb2xsZWN0Q3N2RGF0YT1mdW5jdGlvbigkcm93cyxyb3dzZWxlY3RvcixsZW5ndGgpeyRyb3dzLmVhY2goZnVuY3Rpb24oKXt0ckRhdGE9XCJcIjtGb3JFYWNoVmlzaWJsZUNlbGwodGhpcyxyb3dzZWxlY3Rvcixyb3dJbmRleCxsZW5ndGgrJHJvd3MubGVuZ3RoLGZ1bmN0aW9uKGNlbGwscm93LGNvbCl7dHJEYXRhKz1jc3ZTdHJpbmcoY2VsbCxyb3csY29sKSsoZGVmYXVsdHMudHlwZT09PVwidHN2XCI/XCJcXHRcIjpkZWZhdWx0cy5jc3ZTZXBhcmF0b3IpfSk7dHJEYXRhPSQudHJpbSh0ckRhdGEpLnN1YnN0cmluZygwLHRyRGF0YS5sZW5ndGgtMSk7aWYodHJEYXRhLmxlbmd0aD4wKXtpZihjc3ZEYXRhLmxlbmd0aD4wKWNzdkRhdGErPVwiXFxuXCI7Y3N2RGF0YSs9dHJEYXRhfXJvd0luZGV4Kyt9KTtyZXR1cm4gJHJvd3MubGVuZ3RofTtyb3dMZW5ndGgrPUNvbGxlY3RDc3ZEYXRhKCQoZWwpLmZpbmQoXCJ0aGVhZFwiKS5maXJzdCgpLmZpbmQoZGVmYXVsdHMudGhlYWRTZWxlY3RvciksXCJ0aCx0ZFwiLHJvd0xlbmd0aCk7ZmluZFRhYmxlRWxlbWVudHMoJChlbCksXCJ0Ym9keVwiKS5lYWNoKGZ1bmN0aW9uKCl7cm93TGVuZ3RoKz1Db2xsZWN0Q3N2RGF0YShmaW5kVGFibGVFbGVtZW50cygkKHRoaXMpLGRlZmF1bHRzLnRib2R5U2VsZWN0b3IpLFwidGQsdGhcIixyb3dMZW5ndGgpfSk7aWYoZGVmYXVsdHMudGZvb3RTZWxlY3Rvci5sZW5ndGgpQ29sbGVjdENzdkRhdGEoJChlbCkuZmluZChcInRmb290XCIpLmZpcnN0KCkuZmluZChkZWZhdWx0cy50Zm9vdFNlbGVjdG9yKSxcInRkLHRoXCIscm93TGVuZ3RoKTtjc3ZEYXRhKz1cIlxcblwiO2lmKGRlZmF1bHRzLm91dHB1dE1vZGU9PT1cInN0cmluZ1wiKXJldHVybiBjc3ZEYXRhO2lmKGRlZmF1bHRzLm91dHB1dE1vZGU9PT1cImJhc2U2NFwiKXJldHVybiBiYXNlNjRlbmNvZGUoY3N2RGF0YSk7aWYoZGVmYXVsdHMub3V0cHV0TW9kZT09PVwid2luZG93XCIpe2Rvd25sb2FkRmlsZShmYWxzZSxcImRhdGE6dGV4dC9cIisoZGVmYXVsdHMudHlwZT09PVwiY3N2XCI/XCJjc3ZcIjpcInBsYWluXCIpK1wiO2NoYXJzZXQ9dXRmLTgsXCIsY3N2RGF0YSk7cmV0dXJufXNhdmVUb0ZpbGUoY3N2RGF0YSxkZWZhdWx0cy5maWxlTmFtZStcIi5cIitkZWZhdWx0cy50eXBlLFwidGV4dC9cIisoZGVmYXVsdHMudHlwZT09PVwiY3N2XCI/XCJjc3ZcIjpcInBsYWluXCIpLFwidXRmLThcIixcIlwiLGRlZmF1bHRzLnR5cGU9PT1cImNzdlwiJiZkZWZhdWx0cy5jc3ZVc2VCT00pfWVsc2UgaWYoZGVmYXVsdHMudHlwZT09PVwic3FsXCIpe3Jvd0luZGV4PTA7cmFuZ2VzPVtdO2xldCB0ZERhdGE9XCJJTlNFUlQgSU5UTyBcIitkZWZhdWx0cy5zcWwudGFibGVFbmNsb3N1cmUrZGVmYXVsdHMudGFibGVOYW1lK2RlZmF1bHRzLnNxbC50YWJsZUVuY2xvc3VyZStcIiAoXCI7JGhlYWRfcm93cz1jb2xsZWN0SGVhZFJvd3MoJChlbCkpOyQoJGhlYWRfcm93cykuZWFjaChmdW5jdGlvbigpe0ZvckVhY2hWaXNpYmxlQ2VsbCh0aGlzLFwidGgsdGRcIixyb3dJbmRleCwkaGVhZF9yb3dzLmxlbmd0aCxmdW5jdGlvbihjZWxsLHJvdyxjb2wpe2xldCBjb2xOYW1lPXBhcnNlU3RyaW5nKGNlbGwscm93LGNvbCl8fFwiXCI7aWYoY29sTmFtZS5pbmRleE9mKGRlZmF1bHRzLnNxbC5jb2x1bW5FbmNsb3N1cmUpPi0xKWNvbE5hbWU9cmVwbGFjZUFsbChjb2xOYW1lLnRvU3RyaW5nKCksZGVmYXVsdHMuc3FsLmNvbHVtbkVuY2xvc3VyZSxkZWZhdWx0cy5zcWwuY29sdW1uRW5jbG9zdXJlK2RlZmF1bHRzLnNxbC5jb2x1bW5FbmNsb3N1cmUpO3RkRGF0YSs9ZGVmYXVsdHMuc3FsLmNvbHVtbkVuY2xvc3VyZStjb2xOYW1lK2RlZmF1bHRzLnNxbC5jb2x1bW5FbmNsb3N1cmUrXCIsXCJ9KTtyb3dJbmRleCsrO3RkRGF0YT0kLnRyaW0odGREYXRhKS5zdWJzdHJpbmcoMCx0ZERhdGEubGVuZ3RoLTEpfSk7dGREYXRhKz1cIikgVkFMVUVTIFwiOyRyb3dzPWNvbGxlY3RSb3dzKCQoZWwpKTskKCRyb3dzKS5lYWNoKGZ1bmN0aW9uKCl7dHJEYXRhPVwiXCI7Rm9yRWFjaFZpc2libGVDZWxsKHRoaXMsXCJ0ZCx0aFwiLHJvd0luZGV4LCRoZWFkX3Jvd3MubGVuZ3RoKyRyb3dzLmxlbmd0aCxmdW5jdGlvbihjZWxsLHJvdyxjb2wpe2xldCBkYXRhU3RyaW5nPXBhcnNlU3RyaW5nKGNlbGwscm93LGNvbCl8fFwiXCI7aWYoZGF0YVN0cmluZy5pbmRleE9mKFwiJ1wiKT4tMSlkYXRhU3RyaW5nPXJlcGxhY2VBbGwoZGF0YVN0cmluZy50b1N0cmluZygpLFwiJ1wiLFwiJydcIik7dHJEYXRhKz1cIidcIitkYXRhU3RyaW5nK1wiJyxcIn0pO2lmKHRyRGF0YS5sZW5ndGg+Myl7dGREYXRhKz1cIihcIit0ckRhdGE7dGREYXRhPSQudHJpbSh0ZERhdGEpLnN1YnN0cmluZygwLHRkRGF0YS5sZW5ndGgtMSk7dGREYXRhKz1cIiksXCJ9cm93SW5kZXgrK30pO3RkRGF0YT0kLnRyaW0odGREYXRhKS5zdWJzdHJpbmcoMCx0ZERhdGEubGVuZ3RoLTEpO3RkRGF0YSs9XCI7XCI7aWYoZGVmYXVsdHMub3V0cHV0TW9kZT09PVwic3RyaW5nXCIpcmV0dXJuIHRkRGF0YTtpZihkZWZhdWx0cy5vdXRwdXRNb2RlPT09XCJiYXNlNjRcIilyZXR1cm4gYmFzZTY0ZW5jb2RlKHRkRGF0YSk7c2F2ZVRvRmlsZSh0ZERhdGEsZGVmYXVsdHMuZmlsZU5hbWUrXCIuc3FsXCIsXCJhcHBsaWNhdGlvbi9zcWxcIixcInV0Zi04XCIsXCJcIixmYWxzZSl9ZWxzZSBpZihkZWZhdWx0cy50eXBlPT09XCJqc29uXCIpe2NvbnN0IGpzb25IZWFkZXJBcnJheT1bXTtyYW5nZXM9W107JGhlYWRfcm93cz1jb2xsZWN0SGVhZFJvd3MoJChlbCkpOyQoJGhlYWRfcm93cykuZWFjaChmdW5jdGlvbigpe2NvbnN0IGpzb25BcnJheVRkPVtdO0ZvckVhY2hWaXNpYmxlQ2VsbCh0aGlzLFwidGgsdGRcIixyb3dJbmRleCwkaGVhZF9yb3dzLmxlbmd0aCxmdW5jdGlvbihjZWxsLHJvdyxjb2wpe2pzb25BcnJheVRkLnB1c2gocGFyc2VTdHJpbmcoY2VsbCxyb3csY29sKSl9KTtqc29uSGVhZGVyQXJyYXkucHVzaChqc29uQXJyYXlUZCl9KTtjb25zdCBqc29uQXJyYXk9W107JHJvd3M9Y29sbGVjdFJvd3MoJChlbCkpOyQoJHJvd3MpLmVhY2goZnVuY3Rpb24oKXtjb25zdCBqc29uT2JqZWN0VGQ9e307bGV0IGNvbEluZGV4PTA7Rm9yRWFjaFZpc2libGVDZWxsKHRoaXMsXCJ0ZCx0aFwiLHJvd0luZGV4LCRoZWFkX3Jvd3MubGVuZ3RoKyRyb3dzLmxlbmd0aCxmdW5jdGlvbihjZWxsLHJvdyxjb2wpe2lmKGpzb25IZWFkZXJBcnJheS5sZW5ndGgpe2pzb25PYmplY3RUZFtqc29uSGVhZGVyQXJyYXlbanNvbkhlYWRlckFycmF5Lmxlbmd0aC0xXVtjb2xJbmRleF1dPXBhcnNlU3RyaW5nKGNlbGwscm93LGNvbCl9ZWxzZXtqc29uT2JqZWN0VGRbY29sSW5kZXhdPXBhcnNlU3RyaW5nKGNlbGwscm93LGNvbCl9Y29sSW5kZXgrK30pO2lmKCQuaXNFbXB0eU9iamVjdChqc29uT2JqZWN0VGQpPT09ZmFsc2UpanNvbkFycmF5LnB1c2goanNvbk9iamVjdFRkKTtyb3dJbmRleCsrfSk7bGV0IHNhdmVfZGF0YTtpZihkZWZhdWx0cy5qc29uU2NvcGU9PT1cImhlYWRcIilzYXZlX2RhdGE9SlNPTi5zdHJpbmdpZnkoanNvbkhlYWRlckFycmF5KTtlbHNlIGlmKGRlZmF1bHRzLmpzb25TY29wZT09PVwiZGF0YVwiKXNhdmVfZGF0YT1KU09OLnN0cmluZ2lmeShqc29uQXJyYXkpO2Vsc2Ugc2F2ZV9kYXRhPUpTT04uc3RyaW5naWZ5KHtoZWFkZXI6anNvbkhlYWRlckFycmF5LGRhdGE6anNvbkFycmF5fSk7aWYoZGVmYXVsdHMub3V0cHV0TW9kZT09PVwic3RyaW5nXCIpcmV0dXJuIHNhdmVfZGF0YTtpZihkZWZhdWx0cy5vdXRwdXRNb2RlPT09XCJiYXNlNjRcIilyZXR1cm4gYmFzZTY0ZW5jb2RlKHNhdmVfZGF0YSk7c2F2ZVRvRmlsZShzYXZlX2RhdGEsZGVmYXVsdHMuZmlsZU5hbWUrXCIuanNvblwiLFwiYXBwbGljYXRpb24vanNvblwiLFwidXRmLThcIixcImJhc2U2NFwiLGZhbHNlKX1lbHNlIGlmKGRlZmF1bHRzLnR5cGU9PT1cInhtbFwiKXtyb3dJbmRleD0wO3Jhbmdlcz1bXTtsZXQgeG1sPSc8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJ1dGYtOFwiPz4nO3htbCs9XCI8dGFibGVkYXRhPjxmaWVsZHM+XCI7JGhlYWRfcm93cz1jb2xsZWN0SGVhZFJvd3MoJChlbCkpOyQoJGhlYWRfcm93cykuZWFjaChmdW5jdGlvbigpe0ZvckVhY2hWaXNpYmxlQ2VsbCh0aGlzLFwidGgsdGRcIixyb3dJbmRleCwkaGVhZF9yb3dzLmxlbmd0aCxmdW5jdGlvbihjZWxsLHJvdyxjb2wpe3htbCs9XCI8ZmllbGQ+XCIrcGFyc2VTdHJpbmcoY2VsbCxyb3csY29sKStcIjwvZmllbGQ+XCJ9KTtyb3dJbmRleCsrfSk7eG1sKz1cIjwvZmllbGRzPjxkYXRhPlwiO2xldCByb3dDb3VudD0xOyRyb3dzPWNvbGxlY3RSb3dzKCQoZWwpKTskKCRyb3dzKS5lYWNoKGZ1bmN0aW9uKCl7bGV0IGNvbENvdW50PTE7dHJEYXRhPVwiXCI7Rm9yRWFjaFZpc2libGVDZWxsKHRoaXMsXCJ0ZCx0aFwiLHJvd0luZGV4LCRoZWFkX3Jvd3MubGVuZ3RoKyRyb3dzLmxlbmd0aCxmdW5jdGlvbihjZWxsLHJvdyxjb2wpe3RyRGF0YSs9XCI8Y29sdW1uLVwiK2NvbENvdW50K1wiPlwiK3BhcnNlU3RyaW5nKGNlbGwscm93LGNvbCkrXCI8L2NvbHVtbi1cIitjb2xDb3VudCtcIj5cIjtjb2xDb3VudCsrfSk7aWYodHJEYXRhLmxlbmd0aD4wJiZ0ckRhdGEhPT1cIjxjb2x1bW4tMT48L2NvbHVtbi0xPlwiKXt4bWwrPSc8cm93IGlkPVwiJytyb3dDb3VudCsnXCI+Jyt0ckRhdGErXCI8L3Jvdz5cIjtyb3dDb3VudCsrfXJvd0luZGV4Kyt9KTt4bWwrPVwiPC9kYXRhPjwvdGFibGVkYXRhPlwiO2lmKGRlZmF1bHRzLm91dHB1dE1vZGU9PT1cInN0cmluZ1wiKXJldHVybiB4bWw7aWYoZGVmYXVsdHMub3V0cHV0TW9kZT09PVwiYmFzZTY0XCIpcmV0dXJuIGJhc2U2NGVuY29kZSh4bWwpO3NhdmVUb0ZpbGUoeG1sLGRlZmF1bHRzLmZpbGVOYW1lK1wiLnhtbFwiLFwiYXBwbGljYXRpb24veG1sXCIsXCJ1dGYtOFwiLFwiYmFzZTY0XCIsZmFsc2UpfWVsc2UgaWYoZGVmYXVsdHMudHlwZT09PVwiZXhjZWxcIiYmZGVmYXVsdHMubXNvLmZpbGVGb3JtYXQ9PT1cInhtbHNzXCIpe2NvbnN0IHNoZWV0RGF0YT1bXTtjb25zdCBkb2NOYW1lcz1bXTskKGVsKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gaXNWaXNpYmxlKCQodGhpcykpfSkuZWFjaChmdW5jdGlvbigpe2NvbnN0ICR0YWJsZT0kKHRoaXMpO2xldCBzc05hbWU9XCJcIjtpZih0eXBlb2YgZGVmYXVsdHMubXNvLndvcmtzaGVldE5hbWU9PT1cInN0cmluZ1wiJiZkZWZhdWx0cy5tc28ud29ya3NoZWV0TmFtZS5sZW5ndGgpc3NOYW1lPWRlZmF1bHRzLm1zby53b3Jrc2hlZXROYW1lK1wiIFwiKyhkb2NOYW1lcy5sZW5ndGgrMSk7ZWxzZSBpZih0eXBlb2YgZGVmYXVsdHMubXNvLndvcmtzaGVldE5hbWVbZG9jTmFtZXMubGVuZ3RoXSE9PVwidW5kZWZpbmVkXCIpc3NOYW1lPWRlZmF1bHRzLm1zby53b3Jrc2hlZXROYW1lW2RvY05hbWVzLmxlbmd0aF07aWYoIXNzTmFtZS5sZW5ndGgpc3NOYW1lPSR0YWJsZS5maW5kKFwiY2FwdGlvblwiKS50ZXh0KCl8fFwiXCI7aWYoIXNzTmFtZS5sZW5ndGgpc3NOYW1lPVwiVGFibGUgXCIrKGRvY05hbWVzLmxlbmd0aCsxKTtzc05hbWU9JC50cmltKHNzTmFtZS5yZXBsYWNlKC9bXFxcXFxcL1tcXF0qOj8nXCJdL2csXCJcIikuc3Vic3RyaW5nKDAsMzEpKTtkb2NOYW1lcy5wdXNoKCQoXCI8ZGl2IC8+XCIpLnRleHQoc3NOYW1lKS5odG1sKCkpO2lmKGRlZmF1bHRzLmV4cG9ydEhpZGRlbkNlbGxzPT09ZmFsc2UpeyRoaWRkZW5UYWJsZUVsZW1lbnRzPSR0YWJsZS5maW5kKFwidHIsIHRoLCB0ZFwiKS5maWx0ZXIoXCI6aGlkZGVuXCIpO2NoZWNrQ2VsbFZpc2liaWxpdHk9JGhpZGRlblRhYmxlRWxlbWVudHMubGVuZ3RoPjB9cm93SW5kZXg9MDtjb2xOYW1lcz1HZXRDb2x1bW5OYW1lcyh0aGlzKTtkb2NEYXRhPVwiPFRhYmxlPlxcclwiO2Z1bmN0aW9uIENvbGxlY3RYbWxzc0RhdGEoJHJvd3Mscm93c2VsZWN0b3IsbGVuZ3RoKXtjb25zdCBzcGFucz1bXTskKCRyb3dzKS5lYWNoKGZ1bmN0aW9uKCl7bGV0IHNzSW5kZXg9MDtsZXQgbkNvbHM9MDt0ckRhdGE9XCJcIjtGb3JFYWNoVmlzaWJsZUNlbGwodGhpcyxcInRkLHRoXCIscm93SW5kZXgsbGVuZ3RoKyRyb3dzLmxlbmd0aCxmdW5jdGlvbihjZWxsLHJvdyxjb2wpe2lmKGNlbGwhPT1udWxsKXtsZXQgc3R5bGU9XCJcIjtsZXQgZGF0YT1wYXJzZVN0cmluZyhjZWxsLHJvdyxjb2wpO2xldCB0eXBlPVwiU3RyaW5nXCI7aWYoalF1ZXJ5LmlzTnVtZXJpYyhkYXRhKSE9PWZhbHNlKXt0eXBlPVwiTnVtYmVyXCJ9ZWxzZXtjb25zdCBudW1iZXI9cGFyc2VQZXJjZW50KGRhdGEpO2lmKG51bWJlciE9PWZhbHNlKXtkYXRhPW51bWJlcjt0eXBlPVwiTnVtYmVyXCI7c3R5bGUrPScgc3M6U3R5bGVJRD1cInBjdDFcIid9fWlmKHR5cGUhPT1cIk51bWJlclwiKWRhdGE9ZGF0YS5yZXBsYWNlKC9cXG4vZyxcIjxicj5cIik7bGV0IGNvbHNwYW49Z2V0Q29sc3BhbihjZWxsKTtsZXQgcm93c3Bhbj1nZXRSb3dzcGFuKGNlbGwpOyQuZWFjaChzcGFucyxmdW5jdGlvbigpe2NvbnN0IHJhbmdlPXRoaXM7aWYocm93SW5kZXg+PXJhbmdlLnMuciYmcm93SW5kZXg8PXJhbmdlLmUuciYmbkNvbHM+PXJhbmdlLnMuYyYmbkNvbHM8PXJhbmdlLmUuYyl7Zm9yKGxldCBpPTA7aTw9cmFuZ2UuZS5jLXJhbmdlLnMuYzsrK2kpe25Db2xzKys7c3NJbmRleCsrfX19KTtpZihyb3dzcGFufHxjb2xzcGFuKXtyb3dzcGFuPXJvd3NwYW58fDE7Y29sc3Bhbj1jb2xzcGFufHwxO3NwYW5zLnB1c2goe3M6e3I6cm93SW5kZXgsYzpuQ29sc30sZTp7cjpyb3dJbmRleCtyb3dzcGFuLTEsYzpuQ29scytjb2xzcGFuLTF9fSl9aWYoY29sc3Bhbj4xKXtzdHlsZSs9JyBzczpNZXJnZUFjcm9zcz1cIicrKGNvbHNwYW4tMSkrJ1wiJztuQ29scys9Y29sc3Bhbi0xfWlmKHJvd3NwYW4+MSl7c3R5bGUrPScgc3M6TWVyZ2VEb3duPVwiJysocm93c3Bhbi0xKSsnXCIgc3M6U3R5bGVJRD1cInJzcDFcIid9aWYoc3NJbmRleD4wKXtzdHlsZSs9JyBzczpJbmRleD1cIicrKG5Db2xzKzEpKydcIic7c3NJbmRleD0wfXRyRGF0YSs9XCI8Q2VsbFwiK3N0eWxlKyc+PERhdGEgc3M6VHlwZT1cIicrdHlwZSsnXCI+JyskKFwiPGRpdiAvPlwiKS50ZXh0KGRhdGEpLmh0bWwoKStcIjwvRGF0YT48L0NlbGw+XFxyXCI7bkNvbHMrK319KTtpZih0ckRhdGEubGVuZ3RoPjApZG9jRGF0YSs9JzxSb3cgc3M6QXV0b0ZpdEhlaWdodD1cIjBcIj5cXHInK3RyRGF0YStcIjwvUm93PlxcclwiO3Jvd0luZGV4Kyt9KTtyZXR1cm4gJHJvd3MubGVuZ3RofWNvbnN0IHJvd0xlbmd0aD1Db2xsZWN0WG1sc3NEYXRhKGNvbGxlY3RIZWFkUm93cygkdGFibGUpLFwidGgsdGRcIiwwKTtDb2xsZWN0WG1sc3NEYXRhKGNvbGxlY3RSb3dzKCR0YWJsZSksXCJ0ZCx0aFwiLHJvd0xlbmd0aCk7ZG9jRGF0YSs9XCI8L1RhYmxlPlxcclwiO3NoZWV0RGF0YS5wdXNoKGRvY0RhdGEpfSk7Y29uc3QgY291bnQ9e307Y29uc3QgZmlyc3RPY2N1cnJlbmNlcz17fTtsZXQgaXRlbSxpdGVtQ291bnQ7Zm9yKGxldCBuPTAsYz1kb2NOYW1lcy5sZW5ndGg7bjxjO24rKyl7aXRlbT1kb2NOYW1lc1tuXTtpdGVtQ291bnQ9Y291bnRbaXRlbV07aXRlbUNvdW50PWNvdW50W2l0ZW1dPWl0ZW1Db3VudD09bnVsbD8xOml0ZW1Db3VudCsxO2lmKGl0ZW1Db3VudD09PTIpZG9jTmFtZXNbZmlyc3RPY2N1cnJlbmNlc1tpdGVtXV09ZG9jTmFtZXNbZmlyc3RPY2N1cnJlbmNlc1tpdGVtXV0uc3Vic3RyaW5nKDAsMjkpK1wiLTFcIjtpZihjb3VudFtpdGVtXT4xKWRvY05hbWVzW25dPWRvY05hbWVzW25dLnN1YnN0cmluZygwLDI5KStcIi1cIitjb3VudFtpdGVtXTtlbHNlIGZpcnN0T2NjdXJyZW5jZXNbaXRlbV09bn1jb25zdCBDcmVhdGlvbkRhdGU9KG5ldyBEYXRlKS50b0lTT1N0cmluZygpO2xldCB4bWxzc0RvY0ZpbGU9Jzw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCI/PlxccicrJzw/bXNvLWFwcGxpY2F0aW9uIHByb2dpZD1cIkV4Y2VsLlNoZWV0XCI/PlxccicrJzxXb3JrYm9vayB4bWxucz1cInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206b2ZmaWNlOnNwcmVhZHNoZWV0XCJcXHInKycgeG1sbnM6bz1cInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206b2ZmaWNlOm9mZmljZVwiXFxyJysnIHhtbG5zOng9XCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOm9mZmljZTpleGNlbFwiXFxyJysnIHhtbG5zOnNzPVwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTpvZmZpY2U6c3ByZWFkc2hlZXRcIlxccicrJyB4bWxuczpodG1sPVwiaHR0cDovL3d3dy53My5vcmcvVFIvUkVDLWh0bWw0MFwiPlxccicrJzxEb2N1bWVudFByb3BlcnRpZXMgeG1sbnM9XCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOm9mZmljZTpvZmZpY2VcIj5cXHInK1wiICA8Q3JlYXRlZD5cIitDcmVhdGlvbkRhdGUrXCI8L0NyZWF0ZWQ+XFxyXCIrXCI8L0RvY3VtZW50UHJvcGVydGllcz5cXHJcIisnPE9mZmljZURvY3VtZW50U2V0dGluZ3MgeG1sbnM9XCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOm9mZmljZTpvZmZpY2VcIj5cXHInK1wiICA8QWxsb3dQTkcvPlxcclwiK1wiPC9PZmZpY2VEb2N1bWVudFNldHRpbmdzPlxcclwiKyc8RXhjZWxXb3JrYm9vayB4bWxucz1cInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206b2ZmaWNlOmV4Y2VsXCI+XFxyJytcIiAgPFdpbmRvd0hlaWdodD45MDAwPC9XaW5kb3dIZWlnaHQ+XFxyXCIrXCIgIDxXaW5kb3dXaWR0aD4xMzg2MDwvV2luZG93V2lkdGg+XFxyXCIrXCIgIDxXaW5kb3dUb3BYPjA8L1dpbmRvd1RvcFg+XFxyXCIrXCIgIDxXaW5kb3dUb3BZPjA8L1dpbmRvd1RvcFk+XFxyXCIrXCIgIDxQcm90ZWN0U3RydWN0dXJlPkZhbHNlPC9Qcm90ZWN0U3RydWN0dXJlPlxcclwiK1wiICA8UHJvdGVjdFdpbmRvd3M+RmFsc2U8L1Byb3RlY3RXaW5kb3dzPlxcclwiK1wiPC9FeGNlbFdvcmtib29rPlxcclwiK1wiPFN0eWxlcz5cXHJcIisnICA8U3R5bGUgc3M6SUQ9XCJEZWZhdWx0XCIgc3M6TmFtZT1cIk5vcm1hbFwiPlxccicrJyAgICA8QWxpZ25tZW50IHNzOlZlcnRpY2FsPVwiQm90dG9tXCIvPlxccicrXCIgICAgPEJvcmRlcnMvPlxcclwiK1wiICAgIDxGb250Lz5cXHJcIitcIiAgICA8SW50ZXJpb3IvPlxcclwiK1wiICAgIDxOdW1iZXJGb3JtYXQvPlxcclwiK1wiICAgIDxQcm90ZWN0aW9uLz5cXHJcIitcIiAgPC9TdHlsZT5cXHJcIisnICA8U3R5bGUgc3M6SUQ9XCJyc3AxXCI+XFxyJysnICAgIDxBbGlnbm1lbnQgc3M6VmVydGljYWw9XCJDZW50ZXJcIi8+XFxyJytcIiAgPC9TdHlsZT5cXHJcIisnICA8U3R5bGUgc3M6SUQ9XCJwY3QxXCI+XFxyJysnICAgIDxOdW1iZXJGb3JtYXQgc3M6Rm9ybWF0PVwiUGVyY2VudFwiLz5cXHInK1wiICA8L1N0eWxlPlxcclwiK1wiPC9TdHlsZXM+XFxyXCI7Zm9yKGxldCBqPTA7ajxzaGVldERhdGEubGVuZ3RoO2orKyl7eG1sc3NEb2NGaWxlKz0nPFdvcmtzaGVldCBzczpOYW1lPVwiJytkb2NOYW1lc1tqXSsnXCIgc3M6UmlnaHRUb0xlZnQ9XCInKyhkZWZhdWx0cy5tc28ucnRsP1wiMVwiOlwiMFwiKSsnXCI+XFxyJytzaGVldERhdGFbal07aWYoZGVmYXVsdHMubXNvLnJ0bCl7eG1sc3NEb2NGaWxlKz0nPFdvcmtzaGVldE9wdGlvbnMgeG1sbnM9XCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOm9mZmljZTpleGNlbFwiPlxccicrXCI8RGlzcGxheVJpZ2h0VG9MZWZ0Lz5cXHJcIitcIjwvV29ya3NoZWV0T3B0aW9ucz5cXHJcIn1lbHNlIHhtbHNzRG9jRmlsZSs9JzxXb3Jrc2hlZXRPcHRpb25zIHhtbG5zPVwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTpvZmZpY2U6ZXhjZWxcIi8+XFxyJzt4bWxzc0RvY0ZpbGUrPVwiPC9Xb3Jrc2hlZXQ+XFxyXCJ9eG1sc3NEb2NGaWxlKz1cIjwvV29ya2Jvb2s+XFxyXCI7aWYoZGVmYXVsdHMub3V0cHV0TW9kZT09PVwic3RyaW5nXCIpcmV0dXJuIHhtbHNzRG9jRmlsZTtpZihkZWZhdWx0cy5vdXRwdXRNb2RlPT09XCJiYXNlNjRcIilyZXR1cm4gYmFzZTY0ZW5jb2RlKHhtbHNzRG9jRmlsZSk7c2F2ZVRvRmlsZSh4bWxzc0RvY0ZpbGUsZGVmYXVsdHMuZmlsZU5hbWUrXCIueG1sXCIsXCJhcHBsaWNhdGlvbi94bWxcIixcInV0Zi04XCIsXCJiYXNlNjRcIixmYWxzZSl9ZWxzZSBpZihkZWZhdWx0cy50eXBlPT09XCJleGNlbFwiJiZkZWZhdWx0cy5tc28uZmlsZUZvcm1hdD09PVwieGxzeFwiKXtjb25zdCBzaGVldE5hbWVzPVtdO2NvbnN0IHdvcmtib29rPVhMU1gudXRpbHMuYm9va19uZXcoKTskKGVsKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gaXNWaXNpYmxlKCQodGhpcykpfSkuZWFjaChmdW5jdGlvbigpe2NvbnN0ICR0YWJsZT0kKHRoaXMpO2NvbnN0IHdzPXhsc3hUYWJsZVRvU2hlZXQodGhpcyk7bGV0IHNoZWV0TmFtZT1cIlwiO2lmKHR5cGVvZiBkZWZhdWx0cy5tc28ud29ya3NoZWV0TmFtZT09PVwic3RyaW5nXCImJmRlZmF1bHRzLm1zby53b3Jrc2hlZXROYW1lLmxlbmd0aClzaGVldE5hbWU9ZGVmYXVsdHMubXNvLndvcmtzaGVldE5hbWUrXCIgXCIrKHNoZWV0TmFtZXMubGVuZ3RoKzEpO2Vsc2UgaWYodHlwZW9mIGRlZmF1bHRzLm1zby53b3Jrc2hlZXROYW1lW3NoZWV0TmFtZXMubGVuZ3RoXSE9PVwidW5kZWZpbmVkXCIpc2hlZXROYW1lPWRlZmF1bHRzLm1zby53b3Jrc2hlZXROYW1lW3NoZWV0TmFtZXMubGVuZ3RoXTtpZighc2hlZXROYW1lLmxlbmd0aClzaGVldE5hbWU9JHRhYmxlLmZpbmQoXCJjYXB0aW9uXCIpLnRleHQoKXx8XCJcIjtpZighc2hlZXROYW1lLmxlbmd0aClzaGVldE5hbWU9XCJUYWJsZSBcIisoc2hlZXROYW1lcy5sZW5ndGgrMSk7c2hlZXROYW1lPSQudHJpbShzaGVldE5hbWUucmVwbGFjZSgvW1xcXFxcXC9bXFxdKjo/J1wiXS9nLFwiXCIpLnN1YnN0cmluZygwLDMxKSk7c2hlZXROYW1lcy5wdXNoKHNoZWV0TmFtZSk7WExTWC51dGlscy5ib29rX2FwcGVuZF9zaGVldCh3b3JrYm9vayx3cyxzaGVldE5hbWUpfSk7Y29uc3Qgd2JEYXRhPVhMU1gud3JpdGUod29ya2Jvb2sse3R5cGU6XCJiaW5hcnlcIixib29rVHlwZTpkZWZhdWx0cy5tc28uZmlsZUZvcm1hdCxib29rU1NUOmZhbHNlfSk7c2F2ZVRvRmlsZSh4bHN4V29ya2Jvb2tUb0FycmF5QnVmZmVyKHdiRGF0YSksZGVmYXVsdHMuZmlsZU5hbWUrXCIuXCIrZGVmYXVsdHMubXNvLmZpbGVGb3JtYXQsXCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGVldFwiLFwiVVRGLThcIixcIlwiLGZhbHNlKX1lbHNlIGlmKGRlZmF1bHRzLnR5cGU9PT1cImV4Y2VsXCJ8fGRlZmF1bHRzLnR5cGU9PT1cInhsc1wifHxkZWZhdWx0cy50eXBlPT09XCJ3b3JkXCJ8fGRlZmF1bHRzLnR5cGU9PT1cImRvY1wiKXtjb25zdCBNU0RvY1R5cGU9ZGVmYXVsdHMudHlwZT09PVwiZXhjZWxcInx8ZGVmYXVsdHMudHlwZT09PVwieGxzXCI/XCJleGNlbFwiOlwid29yZFwiO2NvbnN0IE1TRG9jRXh0PU1TRG9jVHlwZT09PVwiZXhjZWxcIj9cInhsc1wiOlwiZG9jXCI7Y29uc3QgTVNEb2NTY2hlbWE9J3htbG5zOng9XCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOm9mZmljZTonK01TRG9jVHlwZSsnXCInO2RvY0RhdGE9XCJcIjtsZXQgZG9jTmFtZT1cIlwiOyQoZWwpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBpc1Zpc2libGUoJCh0aGlzKSl9KS5lYWNoKGZ1bmN0aW9uKCl7Y29uc3QgJHRhYmxlPSQodGhpcyk7aWYoZG9jTmFtZT09PVwiXCIpe2RvY05hbWU9ZGVmYXVsdHMubXNvLndvcmtzaGVldE5hbWV8fCR0YWJsZS5maW5kKFwiY2FwdGlvblwiKS50ZXh0KCl8fFwiVGFibGVcIjtkb2NOYW1lPSQudHJpbShkb2NOYW1lLnJlcGxhY2UoL1tcXFxcXFwvW1xcXSo6PydcIl0vZyxcIlwiKS5zdWJzdHJpbmcoMCwzMSkpfWlmKGRlZmF1bHRzLmV4cG9ydEhpZGRlbkNlbGxzPT09ZmFsc2UpeyRoaWRkZW5UYWJsZUVsZW1lbnRzPSR0YWJsZS5maW5kKFwidHIsIHRoLCB0ZFwiKS5maWx0ZXIoXCI6aGlkZGVuXCIpO2NoZWNrQ2VsbFZpc2liaWxpdHk9JGhpZGRlblRhYmxlRWxlbWVudHMubGVuZ3RoPjB9cm93SW5kZXg9MDtyYW5nZXM9W107Y29sTmFtZXM9R2V0Q29sdW1uTmFtZXModGhpcyk7ZG9jRGF0YSs9XCI8dGFibGU+PHRoZWFkPlwiOyRoZWFkX3Jvd3M9Y29sbGVjdEhlYWRSb3dzKCR0YWJsZSk7JCgkaGVhZF9yb3dzKS5lYWNoKGZ1bmN0aW9uKCl7Y29uc3QgJHJvdz0kKHRoaXMpO3RyRGF0YT1cIlwiO0ZvckVhY2hWaXNpYmxlQ2VsbCh0aGlzLFwidGgsdGRcIixyb3dJbmRleCwkaGVhZF9yb3dzLmxlbmd0aCxmdW5jdGlvbihjZWxsLHJvdyxjb2wpe2lmKGNlbGwhPT1udWxsKXtsZXQgdGhTdHlsZT1cIlwiO3RyRGF0YSs9XCI8dGhcIjtpZihkZWZhdWx0cy5tc28uc3R5bGVzLmxlbmd0aCl7Y29uc3QgY2VsbFN0eWxlcz1kb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGNlbGwsbnVsbCk7Y29uc3Qgcm93U3R5bGVzPWRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoJHJvd1swXSxudWxsKTtmb3IobGV0IGNzc1N0eWxlIGluIGRlZmF1bHRzLm1zby5zdHlsZXMpe2xldCB0aENzcz1jZWxsU3R5bGVzW2RlZmF1bHRzLm1zby5zdHlsZXNbY3NzU3R5bGVdXTtpZih0aENzcz09PVwiXCIpdGhDc3M9cm93U3R5bGVzW2RlZmF1bHRzLm1zby5zdHlsZXNbY3NzU3R5bGVdXTtpZih0aENzcyE9PVwiXCImJnRoQ3NzIT09XCIwcHggbm9uZSByZ2IoMCwgMCwgMClcIiYmdGhDc3MhPT1cInJnYmEoMCwgMCwgMCwgMClcIil7dGhTdHlsZSs9dGhTdHlsZT09PVwiXCI/J3N0eWxlPVwiJzpcIjtcIjt0aFN0eWxlKz1kZWZhdWx0cy5tc28uc3R5bGVzW2Nzc1N0eWxlXStcIjpcIit0aENzc319fWlmKHRoU3R5bGUhPT1cIlwiKXRyRGF0YSs9XCIgXCIrdGhTdHlsZSsnXCInO2NvbnN0IHRkQ29sc3Bhbj1nZXRDb2xzcGFuKGNlbGwpO2lmKHRkQ29sc3Bhbj4wKXRyRGF0YSs9JyBjb2xzcGFuPVwiJyt0ZENvbHNwYW4rJ1wiJztjb25zdCB0ZFJvd3NwYW49Z2V0Um93c3BhbihjZWxsKTtpZih0ZFJvd3NwYW4+MCl0ckRhdGErPScgcm93c3Bhbj1cIicrdGRSb3dzcGFuKydcIic7dHJEYXRhKz1cIj5cIitwYXJzZVN0cmluZyhjZWxsLHJvdyxjb2wpK1wiPC90aD5cIn19KTtpZih0ckRhdGEubGVuZ3RoPjApZG9jRGF0YSs9XCI8dHI+XCIrdHJEYXRhK1wiPC90cj5cIjtyb3dJbmRleCsrfSk7ZG9jRGF0YSs9XCI8L3RoZWFkPjx0Ym9keT5cIjskcm93cz1jb2xsZWN0Um93cygkdGFibGUpOyQoJHJvd3MpLmVhY2goZnVuY3Rpb24oKXtjb25zdCAkcm93PSQodGhpcyk7dHJEYXRhPVwiXCI7Rm9yRWFjaFZpc2libGVDZWxsKHRoaXMsXCJ0ZCx0aFwiLHJvd0luZGV4LCRoZWFkX3Jvd3MubGVuZ3RoKyRyb3dzLmxlbmd0aCxmdW5jdGlvbihjZWxsLHJvdyxjb2wpe2lmKGNlbGwhPT1udWxsKXtsZXQgdGRWYWx1ZT1wYXJzZVN0cmluZyhjZWxsLHJvdyxjb2wpO2xldCB0ZFN0eWxlPVwiXCI7bGV0IHRkQ3NzPSQoY2VsbCkuYXR0cihcImRhdGEtdGFibGVleHBvcnQtbXNvbnVtYmVyZm9ybWF0XCIpO2lmKHR5cGVvZiB0ZENzcz09PVwidW5kZWZpbmVkXCImJnR5cGVvZiBkZWZhdWx0cy5tc28ub25Nc29OdW1iZXJGb3JtYXQ9PT1cImZ1bmN0aW9uXCIpdGRDc3M9ZGVmYXVsdHMubXNvLm9uTXNvTnVtYmVyRm9ybWF0KGNlbGwscm93LGNvbCk7aWYodHlwZW9mIHRkQ3NzIT09XCJ1bmRlZmluZWRcIiYmdGRDc3MhPT1cIlwiKXRkU3R5bGU9XCJzdHlsZT1cXFwibXNvLW51bWJlci1mb3JtYXQ6J1wiK3RkQ3NzK1wiJ1wiO2lmKGRlZmF1bHRzLm1zby5zdHlsZXMubGVuZ3RoKXtjb25zdCBjZWxsU3R5bGVzPWRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoY2VsbCxudWxsKTtjb25zdCByb3dTdHlsZXM9ZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSgkcm93WzBdLG51bGwpO2ZvcihsZXQgY3NzU3R5bGUgaW4gZGVmYXVsdHMubXNvLnN0eWxlcyl7dGRDc3M9Y2VsbFN0eWxlc1tkZWZhdWx0cy5tc28uc3R5bGVzW2Nzc1N0eWxlXV07aWYodGRDc3M9PT1cIlwiKXRkQ3NzPXJvd1N0eWxlc1tkZWZhdWx0cy5tc28uc3R5bGVzW2Nzc1N0eWxlXV07aWYodGRDc3MhPT1cIlwiJiZ0ZENzcyE9PVwiMHB4IG5vbmUgcmdiKDAsIDAsIDApXCImJnRkQ3NzIT09XCJyZ2JhKDAsIDAsIDAsIDApXCIpe3RkU3R5bGUrPXRkU3R5bGU9PT1cIlwiPydzdHlsZT1cIic6XCI7XCI7dGRTdHlsZSs9ZGVmYXVsdHMubXNvLnN0eWxlc1tjc3NTdHlsZV0rXCI6XCIrdGRDc3N9fX10ckRhdGErPVwiPHRkXCI7aWYodGRTdHlsZSE9PVwiXCIpdHJEYXRhKz1cIiBcIit0ZFN0eWxlKydcIic7Y29uc3QgdGRDb2xzcGFuPWdldENvbHNwYW4oY2VsbCk7aWYodGRDb2xzcGFuPjApdHJEYXRhKz0nIGNvbHNwYW49XCInK3RkQ29sc3BhbisnXCInO2NvbnN0IHRkUm93c3Bhbj1nZXRSb3dzcGFuKGNlbGwpO2lmKHRkUm93c3Bhbj4wKXRyRGF0YSs9JyByb3dzcGFuPVwiJyt0ZFJvd3NwYW4rJ1wiJztpZih0eXBlb2YgdGRWYWx1ZT09PVwic3RyaW5nXCImJnRkVmFsdWUhPT1cIlwiKXt0ZFZhbHVlPXByZXZlbnRJbmplY3Rpb24odGRWYWx1ZSk7dGRWYWx1ZT10ZFZhbHVlLnJlcGxhY2UoL1xcbi9nLFwiPGJyPlwiKX10ckRhdGErPVwiPlwiK3RkVmFsdWUrXCI8L3RkPlwifX0pO2lmKHRyRGF0YS5sZW5ndGg+MClkb2NEYXRhKz1cIjx0cj5cIit0ckRhdGErXCI8L3RyPlwiO3Jvd0luZGV4Kyt9KTtpZihkZWZhdWx0cy5kaXNwbGF5VGFibGVOYW1lKWRvY0RhdGErPVwiPHRyPjx0ZD48L3RkPjwvdHI+PHRyPjx0ZD48L3RkPjwvdHI+PHRyPjx0ZD5cIitwYXJzZVN0cmluZygkKFwiPHA+XCIrZGVmYXVsdHMudGFibGVOYW1lK1wiPC9wPlwiKSkrXCI8L3RkPjwvdHI+XCI7ZG9jRGF0YSs9XCI8L3Rib2R5PjwvdGFibGU+XCJ9KTtsZXQgZG9jRmlsZT0nPGh0bWwgeG1sbnM6bz1cInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206b2ZmaWNlOm9mZmljZVwiICcrTVNEb2NTY2hlbWErJyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDBcIj4nO2RvY0ZpbGUrPSc8bWV0YSBodHRwLWVxdWl2PVwiY29udGVudC10eXBlXCIgY29udGVudD1cImFwcGxpY2F0aW9uL3ZuZC5tcy0nK01TRG9jVHlwZSsnOyBjaGFyc2V0PVVURi04XCI+Jztkb2NGaWxlKz1cIjxoZWFkPlwiO2lmKE1TRG9jVHlwZT09PVwiZXhjZWxcIil7ZG9jRmlsZSs9XCJcXHgzYyEtLVtpZiBndGUgbXNvIDldPlwiO2RvY0ZpbGUrPVwiPHhtbD5cIjtkb2NGaWxlKz1cIjx4OkV4Y2VsV29ya2Jvb2s+XCI7ZG9jRmlsZSs9XCI8eDpFeGNlbFdvcmtzaGVldHM+XCI7ZG9jRmlsZSs9XCI8eDpFeGNlbFdvcmtzaGVldD5cIjtkb2NGaWxlKz1cIjx4Ok5hbWU+XCI7ZG9jRmlsZSs9ZG9jTmFtZTtkb2NGaWxlKz1cIjwveDpOYW1lPlwiO2RvY0ZpbGUrPVwiPHg6V29ya3NoZWV0T3B0aW9ucz5cIjtkb2NGaWxlKz1cIjx4OkRpc3BsYXlHcmlkbGluZXMvPlwiO2lmKGRlZmF1bHRzLm1zby5ydGwpZG9jRmlsZSs9XCI8eDpEaXNwbGF5UmlnaHRUb0xlZnQvPlwiO2RvY0ZpbGUrPVwiPC94OldvcmtzaGVldE9wdGlvbnM+XCI7ZG9jRmlsZSs9XCI8L3g6RXhjZWxXb3Jrc2hlZXQ+XCI7ZG9jRmlsZSs9XCI8L3g6RXhjZWxXb3Jrc2hlZXRzPlwiO2RvY0ZpbGUrPVwiPC94OkV4Y2VsV29ya2Jvb2s+XCI7ZG9jRmlsZSs9XCI8L3htbD5cIjtkb2NGaWxlKz1cIjwhW2VuZGlmXS0tXFx4M2VcIn1kb2NGaWxlKz1cIjxzdHlsZT5cIjtkb2NGaWxlKz1cIkBwYWdlIHsgc2l6ZTpcIitkZWZhdWx0cy5tc28ucGFnZU9yaWVudGF0aW9uK1wiOyBtc28tcGFnZS1vcmllbnRhdGlvbjpcIitkZWZhdWx0cy5tc28ucGFnZU9yaWVudGF0aW9uK1wiOyB9XCI7ZG9jRmlsZSs9XCJAcGFnZSBTZWN0aW9uMSB7c2l6ZTpcIitwYWdlRm9ybWF0c1tkZWZhdWx0cy5tc28ucGFnZUZvcm1hdF1bMF0rXCJwdCBcIitwYWdlRm9ybWF0c1tkZWZhdWx0cy5tc28ucGFnZUZvcm1hdF1bMV0rXCJwdFwiO2RvY0ZpbGUrPVwiOyBtYXJnaW46MS4waW4gMS4yNWluIDEuMGluIDEuMjVpbjttc28taGVhZGVyLW1hcmdpbjouNWluO21zby1mb290ZXItbWFyZ2luOi41aW47bXNvLXBhcGVyLXNvdXJjZTowO31cIjtkb2NGaWxlKz1cImRpdi5TZWN0aW9uMSB7cGFnZTpTZWN0aW9uMTt9XCI7ZG9jRmlsZSs9XCJAcGFnZSBTZWN0aW9uMiB7c2l6ZTpcIitwYWdlRm9ybWF0c1tkZWZhdWx0cy5tc28ucGFnZUZvcm1hdF1bMV0rXCJwdCBcIitwYWdlRm9ybWF0c1tkZWZhdWx0cy5tc28ucGFnZUZvcm1hdF1bMF0rXCJwdFwiO2RvY0ZpbGUrPVwiO21zby1wYWdlLW9yaWVudGF0aW9uOlwiK2RlZmF1bHRzLm1zby5wYWdlT3JpZW50YXRpb24rXCI7bWFyZ2luOjEuMjVpbiAxLjBpbiAxLjI1aW4gMS4waW47bXNvLWhlYWRlci1tYXJnaW46LjVpbjttc28tZm9vdGVyLW1hcmdpbjouNWluO21zby1wYXBlci1zb3VyY2U6MDt9XCI7ZG9jRmlsZSs9XCJkaXYuU2VjdGlvbjIge3BhZ2U6U2VjdGlvbjI7fVwiO2RvY0ZpbGUrPVwiYnIge21zby1kYXRhLXBsYWNlbWVudDpzYW1lLWNlbGw7fVwiO2RvY0ZpbGUrPVwiPC9zdHlsZT5cIjtkb2NGaWxlKz1cIjwvaGVhZD5cIjtkb2NGaWxlKz1cIjxib2R5PlwiO2RvY0ZpbGUrPSc8ZGl2IGNsYXNzPVwiU2VjdGlvbicrKGRlZmF1bHRzLm1zby5wYWdlT3JpZW50YXRpb249PT1cImxhbmRzY2FwZVwiP1wiMlwiOlwiMVwiKSsnXCI+Jztkb2NGaWxlKz1kb2NEYXRhO2RvY0ZpbGUrPVwiPC9kaXY+XCI7ZG9jRmlsZSs9XCI8L2JvZHk+XCI7ZG9jRmlsZSs9XCI8L2h0bWw+XCI7aWYoZGVmYXVsdHMub3V0cHV0TW9kZT09PVwic3RyaW5nXCIpcmV0dXJuIGRvY0ZpbGU7aWYoZGVmYXVsdHMub3V0cHV0TW9kZT09PVwiYmFzZTY0XCIpcmV0dXJuIGJhc2U2NGVuY29kZShkb2NGaWxlKTtzYXZlVG9GaWxlKGRvY0ZpbGUsZGVmYXVsdHMuZmlsZU5hbWUrXCIuXCIrTVNEb2NFeHQsXCJhcHBsaWNhdGlvbi92bmQubXMtXCIrTVNEb2NUeXBlLFwiXCIsXCJiYXNlNjRcIixmYWxzZSl9ZWxzZSBpZihkZWZhdWx0cy50eXBlPT09XCJwbmdcIil7aHRtbDJjYW52YXMoJChlbClbMF0pLnRoZW4oZnVuY3Rpb24oY2FudmFzKXtjb25zdCBpbWFnZT1jYW52YXMudG9EYXRhVVJMKCk7Y29uc3QgYnl0ZVN0cmluZz1hdG9iKGltYWdlLnN1YnN0cmluZygyMikpO2NvbnN0IGJ1ZmZlcj1uZXcgQXJyYXlCdWZmZXIoYnl0ZVN0cmluZy5sZW5ndGgpO2NvbnN0IGludEFycmF5PW5ldyBVaW50OEFycmF5KGJ1ZmZlcik7Zm9yKGxldCBpPTA7aTxieXRlU3RyaW5nLmxlbmd0aDtpKyspaW50QXJyYXlbaV09Ynl0ZVN0cmluZy5jaGFyQ29kZUF0KGkpO2lmKGRlZmF1bHRzLm91dHB1dE1vZGU9PT1cInN0cmluZ1wiKXJldHVybiBieXRlU3RyaW5nO2lmKGRlZmF1bHRzLm91dHB1dE1vZGU9PT1cImJhc2U2NFwiKXJldHVybiBiYXNlNjRlbmNvZGUoaW1hZ2UpO2lmKGRlZmF1bHRzLm91dHB1dE1vZGU9PT1cIndpbmRvd1wiKXt3aW5kb3cub3BlbihpbWFnZSk7cmV0dXJufXNhdmVUb0ZpbGUoYnVmZmVyLGRlZmF1bHRzLmZpbGVOYW1lK1wiLnBuZ1wiLFwiaW1hZ2UvcG5nXCIsXCJcIixcIlwiLGZhbHNlKX0pfWVsc2UgaWYoZGVmYXVsdHMudHlwZT09PVwicGRmXCIpe2lmKGRlZmF1bHRzLnBkZm1ha2UuZW5hYmxlZD09PXRydWUpe2NvbnN0IGRvY0RlZmluaXRpb249e2NvbnRlbnQ6W119OyQuZXh0ZW5kKHRydWUsZG9jRGVmaW5pdGlvbixkZWZhdWx0cy5wZGZtYWtlLmRvY0RlZmluaXRpb24pO3Jhbmdlcz1bXTskKGVsKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gaXNWaXNpYmxlKCQodGhpcykpfSkuZWFjaChmdW5jdGlvbigpe2NvbnN0ICR0YWJsZT0kKHRoaXMpO2NvbnN0IHdpZHRocz1bXTtjb25zdCBib2R5PVtdO3Jvd0luZGV4PTA7Y29uc3QgQ29sbGVjdFBkZm1ha2VEYXRhPWZ1bmN0aW9uKCRyb3dzLGNvbHNlbGVjdG9yLGxlbmd0aCl7bGV0IHJMZW5ndGg9MDskKCRyb3dzKS5lYWNoKGZ1bmN0aW9uKCl7Y29uc3Qgcj1bXTtGb3JFYWNoVmlzaWJsZUNlbGwodGhpcyxjb2xzZWxlY3Rvcixyb3dJbmRleCxsZW5ndGgsZnVuY3Rpb24oY2VsbCxyb3csY29sKXtsZXQgY2VsbENvbnRlbnQ7aWYodHlwZW9mIGNlbGwhPT1cInVuZGVmaW5lZFwiJiZjZWxsIT09bnVsbCl7Y29uc3QgY29sc3Bhbj1nZXRDb2xzcGFuKGNlbGwpO2NvbnN0IHJvd3NwYW49Z2V0Um93c3BhbihjZWxsKTtjZWxsQ29udGVudD17dGV4dDpwYXJzZVN0cmluZyhjZWxsLHJvdyxjb2wpfHxcIiBcIn07aWYoY29sc3Bhbj4xfHxyb3dzcGFuPjEpe2NlbGxDb250ZW50W1wiY29sU3BhblwiXT1jb2xzcGFufHwxO2NlbGxDb250ZW50W1wicm93U3BhblwiXT1yb3dzcGFufHwxfX1lbHNlIGNlbGxDb250ZW50PXt0ZXh0OlwiIFwifTtpZihjb2xzZWxlY3Rvci5pbmRleE9mKFwidGhcIik+PTApY2VsbENvbnRlbnRbXCJzdHlsZVwiXT1cImhlYWRlclwiO3IucHVzaChjZWxsQ29udGVudCl9KTtpZihyLmxlbmd0aClib2R5LnB1c2gocik7aWYockxlbmd0aDxyLmxlbmd0aClyTGVuZ3RoPXIubGVuZ3RoO3Jvd0luZGV4Kyt9KTtyZXR1cm4gckxlbmd0aH07JGhlYWRfcm93cz1jb2xsZWN0SGVhZFJvd3MoJHRhYmxlKTtsZXQgY29sY291bnQ9Q29sbGVjdFBkZm1ha2VEYXRhKCRoZWFkX3Jvd3MsXCJ0aCx0ZFwiLCRoZWFkX3Jvd3MubGVuZ3RoKTtmb3IobGV0IGk9d2lkdGhzLmxlbmd0aDtpPGNvbGNvdW50O2krKyl3aWR0aHMucHVzaChcIipcIik7JHJvd3M9Y29sbGVjdFJvd3MoJHRhYmxlKTtjb2xjb3VudD1Db2xsZWN0UGRmbWFrZURhdGEoJHJvd3MsXCJ0ZFwiLCRoZWFkX3Jvd3MubGVuZ3RoKyRyb3dzLmxlbmd0aCk7Zm9yKGxldCBpPXdpZHRocy5sZW5ndGg7aTxjb2xjb3VudDtpKyspd2lkdGhzLnB1c2goXCIqXCIpO2RvY0RlZmluaXRpb24uY29udGVudC5wdXNoKHt0YWJsZTp7aGVhZGVyUm93czokaGVhZF9yb3dzLmxlbmd0aD8kaGVhZF9yb3dzLmxlbmd0aDpudWxsLHdpZHRoczp3aWR0aHMsYm9keTpib2R5fSxsYXlvdXQ6e2xheW91dDpcIm5vQm9yZGVyc1wiLGhMaW5lU3R5bGU6ZnVuY3Rpb24oaSxub2RlKXtyZXR1cm4gMH0sdkxpbmVXaWR0aDpmdW5jdGlvbihpLG5vZGUpe3JldHVybiAwfSxoTGluZUNvbG9yOmZ1bmN0aW9uKGksbm9kZSl7cmV0dXJuIGk8bm9kZS50YWJsZS5oZWFkZXJSb3dzP2RlZmF1bHRzLnBkZm1ha2UuZG9jRGVmaW5pdGlvbi5zdHlsZXMuaGVhZGVyLmJhY2tncm91bmQ6ZGVmYXVsdHMucGRmbWFrZS5kb2NEZWZpbml0aW9uLnN0eWxlcy5hbHRlcm5hdGVSb3cuZmlsbENvbG9yfSx2TGluZUNvbG9yOmZ1bmN0aW9uKGksbm9kZSl7cmV0dXJuIGk8bm9kZS50YWJsZS5oZWFkZXJSb3dzP2RlZmF1bHRzLnBkZm1ha2UuZG9jRGVmaW5pdGlvbi5zdHlsZXMuaGVhZGVyLmJhY2tncm91bmQ6ZGVmYXVsdHMucGRmbWFrZS5kb2NEZWZpbml0aW9uLnN0eWxlcy5hbHRlcm5hdGVSb3cuZmlsbENvbG9yfSxmaWxsQ29sb3I6ZnVuY3Rpb24ocm93SW5kZXgsbm9kZSxjb2x1bW5JbmRleCl7cmV0dXJuIHJvd0luZGV4JTI9PT0wP2RlZmF1bHRzLnBkZm1ha2UuZG9jRGVmaW5pdGlvbi5zdHlsZXMuYWx0ZXJuYXRlUm93LmZpbGxDb2xvcjpudWxsfX0scGFnZUJyZWFrOmRvY0RlZmluaXRpb24uY29udGVudC5sZW5ndGg/XCJiZWZvcmVcIjp1bmRlZmluZWR9KX0pO2lmKHR5cGVvZiBwZGZNYWtlIT09XCJ1bmRlZmluZWRcIiYmdHlwZW9mIHBkZk1ha2UuY3JlYXRlUGRmIT09XCJ1bmRlZmluZWRcIil7cGRmTWFrZS5mb250cz17Um9ib3RvOntub3JtYWw6XCJSb2JvdG8tUmVndWxhci50dGZcIixib2xkOlwiUm9ib3RvLU1lZGl1bS50dGZcIixpdGFsaWNzOlwiUm9ib3RvLUl0YWxpYy50dGZcIixib2xkaXRhbGljczpcIlJvYm90by1NZWRpdW1JdGFsaWMudHRmXCJ9fTtpZihwZGZNYWtlLnZmcy5oYXNPd25Qcm9wZXJ0eShcIk1pcnphLVJlZ3VsYXIudHRmXCIpKXtkb2NEZWZpbml0aW9uLmRlZmF1bHRTdHlsZS5mb250PVwiTWlyemFcIjskLmV4dGVuZCh0cnVlLHBkZk1ha2UuZm9udHMse01pcnphOntub3JtYWw6XCJNaXJ6YS1SZWd1bGFyLnR0ZlwiLGJvbGQ6XCJNaXJ6YS1Cb2xkLnR0ZlwiLGl0YWxpY3M6XCJNaXJ6YS1NZWRpdW0udHRmXCIsYm9sZGl0YWxpY3M6XCJNaXJ6YS1TZW1pQm9sZC50dGZcIn19KX1lbHNlIGlmKHBkZk1ha2UudmZzLmhhc093blByb3BlcnR5KFwiZ2JzbjAwbHAudHRmXCIpKXtkb2NEZWZpbml0aW9uLmRlZmF1bHRTdHlsZS5mb250PVwiZ2JzbjAwbHBcIjskLmV4dGVuZCh0cnVlLHBkZk1ha2UuZm9udHMse2dic24wMGxwOntub3JtYWw6XCJnYnNuMDBscC50dGZcIixib2xkOlwiZ2JzbjAwbHAudHRmXCIsaXRhbGljczpcImdic24wMGxwLnR0ZlwiLGJvbGRpdGFsaWNzOlwiZ2JzbjAwbHAudHRmXCJ9fSl9ZWxzZSBpZihwZGZNYWtlLnZmcy5oYXNPd25Qcm9wZXJ0eShcIlpDT09MWGlhb1dlaS1SZWd1bGFyLnR0ZlwiKSl7ZG9jRGVmaW5pdGlvbi5kZWZhdWx0U3R5bGUuZm9udD1cIlpDT09MWGlhb1dlaVwiOyQuZXh0ZW5kKHRydWUscGRmTWFrZS5mb250cyx7WkNPT0xYaWFvV2VpOntub3JtYWw6XCJaQ09PTFhpYW9XZWktUmVndWxhci50dGZcIixib2xkOlwiWkNPT0xYaWFvV2VpLVJlZ3VsYXIudHRmXCIsaXRhbGljczpcIlpDT09MWGlhb1dlaS1SZWd1bGFyLnR0ZlwiLGJvbGRpdGFsaWNzOlwiWkNPT0xYaWFvV2VpLVJlZ3VsYXIudHRmXCJ9fSl9JC5leHRlbmQodHJ1ZSxwZGZNYWtlLmZvbnRzLGRlZmF1bHRzLnBkZm1ha2UuZm9udHMpO3BkZk1ha2UuY3JlYXRlUGRmKGRvY0RlZmluaXRpb24pLmdldEJ1ZmZlcihmdW5jdGlvbihidWZmZXIpe3NhdmVUb0ZpbGUoYnVmZmVyLGRlZmF1bHRzLmZpbGVOYW1lK1wiLnBkZlwiLFwiYXBwbGljYXRpb24vcGRmXCIsXCJcIixcIlwiLGZhbHNlKX0pfX1lbHNlIGlmKGRlZmF1bHRzLmpzcGRmLmF1dG90YWJsZT09PWZhbHNlKXtsZXQgZG9jPW5ldyBqc3BkZi5qc1BERih7b3JpZW50YXRpb246ZGVmYXVsdHMuanNwZGYub3JpZW50YXRpb24sdW5pdDpkZWZhdWx0cy5qc3BkZi51bml0LGZvcm1hdDpkZWZhdWx0cy5qc3BkZi5mb3JtYXR9KTtkb2MuaHRtbChlbFswXSx7Y2FsbGJhY2s6ZnVuY3Rpb24oKXtqc1BkZk91dHB1dChkb2MsZmFsc2UpfSxodG1sMmNhbnZhczp7c2NhbGU6KGRvYy5pbnRlcm5hbC5wYWdlU2l6ZS53aWR0aC1kZWZhdWx0cy5qc3BkZi5tYXJnaW5zLmxlZnQqMikvZWxbMF0uc2Nyb2xsV2lkdGh9LHg6ZGVmYXVsdHMuanNwZGYubWFyZ2lucy5sZWZ0LHk6ZGVmYXVsdHMuanNwZGYubWFyZ2lucy50b3B9KX1lbHNle2NvbnN0IHRlT3B0aW9ucz1kZWZhdWx0cy5qc3BkZi5hdXRvdGFibGUudGFibGVFeHBvcnQ7aWYodHlwZW9mIGRlZmF1bHRzLmpzcGRmLmZvcm1hdD09PVwic3RyaW5nXCImJmRlZmF1bHRzLmpzcGRmLmZvcm1hdC50b0xvd2VyQ2FzZSgpPT09XCJiZXN0Zml0XCIpe2xldCByaz1cIlwiLHJvPVwiXCI7bGV0IG13PTA7JChlbCkuZWFjaChmdW5jdGlvbigpe2lmKGlzVmlzaWJsZSgkKHRoaXMpKSl7Y29uc3Qgdz1nZXRQcm9wZXJ0eVVuaXRWYWx1ZSgkKHRoaXMpLmdldCgwKSxcIndpZHRoXCIsXCJwdFwiKTtpZih3Pm13KXtpZih3PnBhZ2VGb3JtYXRzLmEwWzBdKXtyaz1cImEwXCI7cm89XCJsXCJ9Zm9yKGxldCBrZXkgaW4gcGFnZUZvcm1hdHMpe2lmKHBhZ2VGb3JtYXRzLmhhc093blByb3BlcnR5KGtleSkpe2lmKHBhZ2VGb3JtYXRzW2tleV1bMV0+dyl7cms9a2V5O3JvPVwibFwiO2lmKHBhZ2VGb3JtYXRzW2tleV1bMF0+dylybz1cInBcIn19fW13PXd9fX0pO2RlZmF1bHRzLmpzcGRmLmZvcm1hdD1yaz09PVwiXCI/XCJhNFwiOnJrO2RlZmF1bHRzLmpzcGRmLm9yaWVudGF0aW9uPXJvPT09XCJcIj9cIndcIjpyb31pZih0ZU9wdGlvbnMuZG9jPT1udWxsKXt0ZU9wdGlvbnMuZG9jPW5ldyBqc3BkZi5qc1BERihkZWZhdWx0cy5qc3BkZi5vcmllbnRhdGlvbixkZWZhdWx0cy5qc3BkZi51bml0LGRlZmF1bHRzLmpzcGRmLmZvcm1hdCk7dGVPcHRpb25zLndTY2FsZUZhY3Rvcj0xO3RlT3B0aW9ucy5oU2NhbGVGYWN0b3I9MTtpZih0eXBlb2YgZGVmYXVsdHMuanNwZGYub25Eb2NDcmVhdGVkPT09XCJmdW5jdGlvblwiKWRlZmF1bHRzLmpzcGRmLm9uRG9jQ3JlYXRlZCh0ZU9wdGlvbnMuZG9jKX1pZih0ZU9wdGlvbnMub3V0cHV0SW1hZ2VzPT09dHJ1ZSl0ZU9wdGlvbnMuaW1hZ2VzPXt9O2lmKHR5cGVvZiB0ZU9wdGlvbnMuaW1hZ2VzIT09XCJ1bmRlZmluZWRcIil7JChlbCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIGlzVmlzaWJsZSgkKHRoaXMpKX0pLmVhY2goZnVuY3Rpb24oKXtsZXQgcm93Q291bnQ9MDtyYW5nZXM9W107aWYoZGVmYXVsdHMuZXhwb3J0SGlkZGVuQ2VsbHM9PT1mYWxzZSl7JGhpZGRlblRhYmxlRWxlbWVudHM9JCh0aGlzKS5maW5kKFwidHIsIHRoLCB0ZFwiKS5maWx0ZXIoXCI6aGlkZGVuXCIpO2NoZWNrQ2VsbFZpc2liaWxpdHk9JGhpZGRlblRhYmxlRWxlbWVudHMubGVuZ3RoPjB9JGhlYWRfcm93cz1jb2xsZWN0SGVhZFJvd3MoJCh0aGlzKSk7JHJvd3M9Y29sbGVjdFJvd3MoJCh0aGlzKSk7JCgkcm93cykuZWFjaChmdW5jdGlvbigpe0ZvckVhY2hWaXNpYmxlQ2VsbCh0aGlzLFwidGQsdGhcIiwkaGVhZF9yb3dzLmxlbmd0aCtyb3dDb3VudCwkaGVhZF9yb3dzLmxlbmd0aCskcm93cy5sZW5ndGgsZnVuY3Rpb24oY2VsbCl7Y29sbGVjdEltYWdlcyhjZWxsLCQoY2VsbCkuY2hpbGRyZW4oKSx0ZU9wdGlvbnMpfSk7cm93Q291bnQrK30pfSk7JGhlYWRfcm93cz1bXTskcm93cz1bXX1sb2FkSW1hZ2VzKHRlT3B0aW9ucyxmdW5jdGlvbigpeyQoZWwpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBpc1Zpc2libGUoJCh0aGlzKSl9KS5lYWNoKGZ1bmN0aW9uKCl7bGV0IGNvbEtleTtyb3dJbmRleD0wO3Jhbmdlcz1bXTtpZihkZWZhdWx0cy5leHBvcnRIaWRkZW5DZWxscz09PWZhbHNlKXskaGlkZGVuVGFibGVFbGVtZW50cz0kKHRoaXMpLmZpbmQoXCJ0ciwgdGgsIHRkXCIpLmZpbHRlcihcIjpoaWRkZW5cIik7Y2hlY2tDZWxsVmlzaWJpbGl0eT0kaGlkZGVuVGFibGVFbGVtZW50cy5sZW5ndGg+MH1jb2xOYW1lcz1HZXRDb2x1bW5OYW1lcyh0aGlzKTt0ZU9wdGlvbnMuY29sdW1ucz1bXTt0ZU9wdGlvbnMucm93cz1bXTt0ZU9wdGlvbnMudGVDZWxscz17fTtpZih0eXBlb2YgdGVPcHRpb25zLm9uVGFibGU9PT1cImZ1bmN0aW9uXCIpaWYodGVPcHRpb25zLm9uVGFibGUoJCh0aGlzKSxkZWZhdWx0cyk9PT1mYWxzZSlyZXR1cm4gdHJ1ZTtkZWZhdWx0cy5qc3BkZi5hdXRvdGFibGUudGFibGVFeHBvcnQ9bnVsbDtjb25zdCBhdE9wdGlvbnM9JC5leHRlbmQodHJ1ZSx7fSxkZWZhdWx0cy5qc3BkZi5hdXRvdGFibGUpO2RlZmF1bHRzLmpzcGRmLmF1dG90YWJsZS50YWJsZUV4cG9ydD10ZU9wdGlvbnM7YXRPcHRpb25zLm1hcmdpbj17fTskLmV4dGVuZCh0cnVlLGF0T3B0aW9ucy5tYXJnaW4sZGVmYXVsdHMuanNwZGYubWFyZ2lucyk7YXRPcHRpb25zLnRhYmxlRXhwb3J0PXRlT3B0aW9ucztpZih0eXBlb2YgYXRPcHRpb25zLmNyZWF0ZWRIZWFkZXJDZWxsIT09XCJmdW5jdGlvblwiKXthdE9wdGlvbnMuY3JlYXRlZEhlYWRlckNlbGw9ZnVuY3Rpb24oY2VsbCxkYXRhKXtpZih0eXBlb2YgdGVPcHRpb25zLmNvbHVtbnNbZGF0YS5jb2x1bW4uZGF0YUtleV0hPT1cInVuZGVmaW5lZFwiKXtjb25zdCBjb2w9dGVPcHRpb25zLmNvbHVtbnNbZGF0YS5jb2x1bW4uZGF0YUtleV07aWYodHlwZW9mIGNvbC5yZWN0IT09XCJ1bmRlZmluZWRcIil7bGV0IHJoO2NlbGwuY29udGVudFdpZHRoPWNvbC5yZWN0LndpZHRoO2lmKHR5cGVvZiB0ZU9wdGlvbnMuaGVpZ2h0UmF0aW89PT1cInVuZGVmaW5lZFwifHx0ZU9wdGlvbnMuaGVpZ2h0UmF0aW89PT0wKXtpZihkYXRhLnJvdy5yYXdbZGF0YS5jb2x1bW4uZGF0YUtleV0ucm93c3BhbilyaD1kYXRhLnJvdy5yYXdbZGF0YS5jb2x1bW4uZGF0YUtleV0ucmVjdC5oZWlnaHQvZGF0YS5yb3cucmF3W2RhdGEuY29sdW1uLmRhdGFLZXldLnJvd3NwYW47ZWxzZSByaD1kYXRhLnJvdy5yYXdbZGF0YS5jb2x1bW4uZGF0YUtleV0ucmVjdC5oZWlnaHQ7dGVPcHRpb25zLmhlaWdodFJhdGlvPWNlbGwuc3R5bGVzLnJvd0hlaWdodC9yaH1yaD1kYXRhLnJvdy5yYXdbZGF0YS5jb2x1bW4uZGF0YUtleV0ucmVjdC5oZWlnaHQqdGVPcHRpb25zLmhlaWdodFJhdGlvO2lmKHJoPmNlbGwuc3R5bGVzLnJvd0hlaWdodCljZWxsLnN0eWxlcy5yb3dIZWlnaHQ9cmh9Y2VsbC5zdHlsZXMuaGFsaWduPWF0T3B0aW9ucy5oZWFkZXJTdHlsZXMuaGFsaWduPT09XCJpbmhlcml0XCI/XCJjZW50ZXJcIjphdE9wdGlvbnMuaGVhZGVyU3R5bGVzLmhhbGlnbjtjZWxsLnN0eWxlcy52YWxpZ249YXRPcHRpb25zLmhlYWRlclN0eWxlcy52YWxpZ247aWYodHlwZW9mIGNvbC5zdHlsZSE9PVwidW5kZWZpbmVkXCImJmNvbC5zdHlsZS5oaWRkZW4hPT10cnVlKXtpZihhdE9wdGlvbnMuaGVhZGVyU3R5bGVzLmhhbGlnbj09PVwiaW5oZXJpdFwiKWNlbGwuc3R5bGVzLmhhbGlnbj1jb2wuc3R5bGUuYWxpZ247aWYoYXRPcHRpb25zLnN0eWxlcy5maWxsQ29sb3I9PT1cImluaGVyaXRcIiljZWxsLnN0eWxlcy5maWxsQ29sb3I9Y29sLnN0eWxlLmJjb2xvcjtpZihhdE9wdGlvbnMuc3R5bGVzLnRleHRDb2xvcj09PVwiaW5oZXJpdFwiKWNlbGwuc3R5bGVzLnRleHRDb2xvcj1jb2wuc3R5bGUuY29sb3I7aWYoYXRPcHRpb25zLnN0eWxlcy5mb250U3R5bGU9PT1cImluaGVyaXRcIiljZWxsLnN0eWxlcy5mb250U3R5bGU9Y29sLnN0eWxlLmZzdHlsZX19fX1pZih0eXBlb2YgYXRPcHRpb25zLmNyZWF0ZWRDZWxsIT09XCJmdW5jdGlvblwiKXthdE9wdGlvbnMuY3JlYXRlZENlbGw9ZnVuY3Rpb24oY2VsbCxkYXRhKXtjb25zdCB0ZWNlbGw9dGVPcHRpb25zLnRlQ2VsbHNbZGF0YS5yb3cuaW5kZXgrXCI6XCIrZGF0YS5jb2x1bW4uZGF0YUtleV07Y2VsbC5zdHlsZXMuaGFsaWduPWF0T3B0aW9ucy5zdHlsZXMuaGFsaWduPT09XCJpbmhlcml0XCI/XCJjZW50ZXJcIjphdE9wdGlvbnMuc3R5bGVzLmhhbGlnbjtjZWxsLnN0eWxlcy52YWxpZ249YXRPcHRpb25zLnN0eWxlcy52YWxpZ247aWYodHlwZW9mIHRlY2VsbCE9PVwidW5kZWZpbmVkXCImJnR5cGVvZiB0ZWNlbGwuc3R5bGUhPT1cInVuZGVmaW5lZFwiJiZ0ZWNlbGwuc3R5bGUuaGlkZGVuIT09dHJ1ZSl7aWYoYXRPcHRpb25zLnN0eWxlcy5oYWxpZ249PT1cImluaGVyaXRcIiljZWxsLnN0eWxlcy5oYWxpZ249dGVjZWxsLnN0eWxlLmFsaWduO2lmKGF0T3B0aW9ucy5zdHlsZXMuZmlsbENvbG9yPT09XCJpbmhlcml0XCIpY2VsbC5zdHlsZXMuZmlsbENvbG9yPXRlY2VsbC5zdHlsZS5iY29sb3I7aWYoYXRPcHRpb25zLnN0eWxlcy50ZXh0Q29sb3I9PT1cImluaGVyaXRcIiljZWxsLnN0eWxlcy50ZXh0Q29sb3I9dGVjZWxsLnN0eWxlLmNvbG9yO2lmKGF0T3B0aW9ucy5zdHlsZXMuZm9udFN0eWxlPT09XCJpbmhlcml0XCIpY2VsbC5zdHlsZXMuZm9udFN0eWxlPXRlY2VsbC5zdHlsZS5mc3R5bGV9fX1pZih0eXBlb2YgYXRPcHRpb25zLmRyYXdIZWFkZXJDZWxsIT09XCJmdW5jdGlvblwiKXthdE9wdGlvbnMuZHJhd0hlYWRlckNlbGw9ZnVuY3Rpb24oY2VsbCxkYXRhKXtjb25zdCBjb2xvcHQ9dGVPcHRpb25zLmNvbHVtbnNbZGF0YS5jb2x1bW4uZGF0YUtleV07aWYoKGNvbG9wdC5zdHlsZS5oYXNPd25Qcm9wZXJ0eShcImhpZGRlblwiKSE9PXRydWV8fGNvbG9wdC5zdHlsZS5oaWRkZW4hPT10cnVlKSYmY29sb3B0LnJvd0luZGV4Pj0wKXJldHVybiBwcmVwYXJlQXV0b1RhYmxlVGV4dChjZWxsLGRhdGEsY29sb3B0KTtlbHNlIHJldHVybiBmYWxzZX19aWYodHlwZW9mIGF0T3B0aW9ucy5kcmF3Q2VsbCE9PVwiZnVuY3Rpb25cIil7YXRPcHRpb25zLmRyYXdDZWxsPWZ1bmN0aW9uKGNlbGwsZGF0YSl7Y29uc3QgdGVDZWxsPXRlT3B0aW9ucy50ZUNlbGxzW2RhdGEucm93LmluZGV4K1wiOlwiK2RhdGEuY29sdW1uLmRhdGFLZXldO2NvbnN0IGRyYXcyY2FudmFzPXR5cGVvZiB0ZUNlbGwhPT1cInVuZGVmaW5lZFwiJiZ0ZUNlbGwuaXNDYW52YXM7aWYoZHJhdzJjYW52YXMhPT10cnVlKXtpZihwcmVwYXJlQXV0b1RhYmxlVGV4dChjZWxsLGRhdGEsdGVDZWxsKSl7dGVPcHRpb25zLmRvYy5yZWN0KGNlbGwueCxjZWxsLnksY2VsbC53aWR0aCxjZWxsLmhlaWdodCxjZWxsLnN0eWxlcy5maWxsU3R5bGUpO2lmKHR5cGVvZiB0ZUNlbGwhPT1cInVuZGVmaW5lZFwiJiYodHlwZW9mIHRlQ2VsbC5oYXNVc2VyRGVmVGV4dD09PVwidW5kZWZpbmVkXCJ8fHRlQ2VsbC5oYXNVc2VyRGVmVGV4dCE9PXRydWUpJiZ0eXBlb2YgdGVDZWxsLmVsZW1lbnRzIT09XCJ1bmRlZmluZWRcIiYmdGVDZWxsLmVsZW1lbnRzLmxlbmd0aCl7Y29uc3QgaFNjYWxlPWNlbGwuaGVpZ2h0L3RlQ2VsbC5yZWN0LmhlaWdodDtpZihoU2NhbGU+dGVPcHRpb25zLmhTY2FsZUZhY3Rvcil0ZU9wdGlvbnMuaFNjYWxlRmFjdG9yPWhTY2FsZTt0ZU9wdGlvbnMud1NjYWxlRmFjdG9yPWNlbGwud2lkdGgvdGVDZWxsLnJlY3Qud2lkdGg7Y29uc3QgeVNhdmU9Y2VsbC50ZXh0UG9zLnk7ZHJhd0F1dG90YWJsZUVsZW1lbnRzKGNlbGwsdGVDZWxsLmVsZW1lbnRzLHRlT3B0aW9ucyk7Y2VsbC50ZXh0UG9zLnk9eVNhdmU7ZHJhd0F1dG90YWJsZVRleHQoY2VsbCx0ZUNlbGwuZWxlbWVudHMsdGVPcHRpb25zKX1lbHNlIGRyYXdBdXRvdGFibGVUZXh0KGNlbGwse30sdGVPcHRpb25zKX19ZWxzZXtjb25zdCBjb250YWluZXI9dGVDZWxsLmVsZW1lbnRzWzBdO2NvbnN0IGltZ0lkPSQoY29udGFpbmVyKS5hdHRyKFwiZGF0YS10YWJsZWV4cG9ydC1jYW52YXNcIik7Y29uc3Qgcj1jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7Y2VsbC53aWR0aD1yLndpZHRoKnRlT3B0aW9ucy53U2NhbGVGYWN0b3I7Y2VsbC5oZWlnaHQ9ci5oZWlnaHQqdGVPcHRpb25zLmhTY2FsZUZhY3RvcjtkYXRhLnJvdy5oZWlnaHQ9Y2VsbC5oZWlnaHQ7anNQZGZEcmF3SW1hZ2UoY2VsbCxjb250YWluZXIsaW1nSWQsdGVPcHRpb25zKX1yZXR1cm4gZmFsc2V9fXRlT3B0aW9ucy5oZWFkZXJyb3dzPVtdOyRoZWFkX3Jvd3M9Y29sbGVjdEhlYWRSb3dzKCQodGhpcykpOyQoJGhlYWRfcm93cykuZWFjaChmdW5jdGlvbigpe2NvbEtleT0wO3RlT3B0aW9ucy5oZWFkZXJyb3dzW3Jvd0luZGV4XT1bXTtGb3JFYWNoVmlzaWJsZUNlbGwodGhpcyxcInRoLHRkXCIscm93SW5kZXgsJGhlYWRfcm93cy5sZW5ndGgsZnVuY3Rpb24oY2VsbCxyb3csY29sKXtjb25zdCBvYmo9Z2V0Q2VsbFN0eWxlcyhjZWxsKTtvYmoudGl0bGU9cGFyc2VTdHJpbmcoY2VsbCxyb3csY29sKTtvYmoua2V5PWNvbEtleSsrO29iai5yb3dJbmRleD1yb3dJbmRleDt0ZU9wdGlvbnMuaGVhZGVycm93c1tyb3dJbmRleF0ucHVzaChvYmopfSk7cm93SW5kZXgrK30pO2lmKHJvd0luZGV4PjApe2xldCBsYXN0cm93PXJvd0luZGV4LTE7d2hpbGUobGFzdHJvdz49MCl7JC5lYWNoKHRlT3B0aW9ucy5oZWFkZXJyb3dzW2xhc3Ryb3ddLGZ1bmN0aW9uKCl7bGV0IG9iaj10aGlzO2lmKGxhc3Ryb3c+MCYmdGhpcy5yZWN0PT09bnVsbClvYmo9dGVPcHRpb25zLmhlYWRlcnJvd3NbbGFzdHJvdy0xXVt0aGlzLmtleV07aWYob2JqIT09bnVsbCYmb2JqLnJvd0luZGV4Pj0wJiYob2JqLnN0eWxlLmhhc093blByb3BlcnR5KFwiaGlkZGVuXCIpIT09dHJ1ZXx8b2JqLnN0eWxlLmhpZGRlbiE9PXRydWUpKXRlT3B0aW9ucy5jb2x1bW5zLnB1c2gob2JqKX0pO2xhc3Ryb3c9dGVPcHRpb25zLmNvbHVtbnMubGVuZ3RoPjA/LTE6bGFzdHJvdy0xfX1sZXQgcm93Q291bnQ9MDskcm93cz1bXTskcm93cz1jb2xsZWN0Um93cygkKHRoaXMpKTskKCRyb3dzKS5lYWNoKGZ1bmN0aW9uKCl7Y29uc3Qgcm93RGF0YT1bXTtjb2xLZXk9MDtGb3JFYWNoVmlzaWJsZUNlbGwodGhpcyxcInRkLHRoXCIscm93SW5kZXgsJGhlYWRfcm93cy5sZW5ndGgrJHJvd3MubGVuZ3RoLGZ1bmN0aW9uKGNlbGwscm93LGNvbCl7bGV0IG9iajtpZih0eXBlb2YgdGVPcHRpb25zLmNvbHVtbnNbY29sS2V5XT09PVwidW5kZWZpbmVkXCIpe29iaj17dGl0bGU6XCJcIixrZXk6Y29sS2V5LHN0eWxlOntoaWRkZW46dHJ1ZX19O3RlT3B0aW9ucy5jb2x1bW5zLnB1c2gob2JqKX1yb3dEYXRhLnB1c2gocGFyc2VTdHJpbmcoY2VsbCxyb3csY29sKSk7aWYodHlwZW9mIGNlbGwhPT1cInVuZGVmaW5lZFwiJiZjZWxsIT09bnVsbCl7b2JqPWdldENlbGxTdHlsZXMoY2VsbCk7b2JqLmlzQ2FudmFzPWNlbGwuaGFzQXR0cmlidXRlKFwiZGF0YS10YWJsZWV4cG9ydC1jYW52YXNcIik7b2JqLmVsZW1lbnRzPW9iai5pc0NhbnZhcz8kKGNlbGwpOiQoY2VsbCkuY2hpbGRyZW4oKTtpZih0eXBlb2YgJChjZWxsKS5kYXRhKFwidGVVc2VyRGVmVGV4dFwiKSE9PVwidW5kZWZpbmVkXCIpb2JqLmhhc1VzZXJEZWZUZXh0PXRydWU7dGVPcHRpb25zLnRlQ2VsbHNbcm93Q291bnQrXCI6XCIrY29sS2V5KytdPW9ian1lbHNle29iaj0kLmV4dGVuZCh0cnVlLHt9LHRlT3B0aW9ucy50ZUNlbGxzW3Jvd0NvdW50K1wiOlwiKyhjb2xLZXktMSldKTtvYmouY29sc3Bhbj0tMTt0ZU9wdGlvbnMudGVDZWxsc1tyb3dDb3VudCtcIjpcIitjb2xLZXkrK109b2JqfX0pO2lmKHJvd0RhdGEubGVuZ3RoKXt0ZU9wdGlvbnMucm93cy5wdXNoKHJvd0RhdGEpO3Jvd0NvdW50Kyt9cm93SW5kZXgrK30pO2lmKHR5cGVvZiB0ZU9wdGlvbnMub25CZWZvcmVBdXRvdGFibGU9PT1cImZ1bmN0aW9uXCIpdGVPcHRpb25zLm9uQmVmb3JlQXV0b3RhYmxlKCQodGhpcyksdGVPcHRpb25zLmNvbHVtbnMsdGVPcHRpb25zLnJvd3MsYXRPcHRpb25zKTtqc1BkZkF1dG9UYWJsZSh0ZU9wdGlvbnMuZG9jLHRlT3B0aW9ucy5jb2x1bW5zLHRlT3B0aW9ucy5yb3dzLGF0T3B0aW9ucyk7aWYodHlwZW9mIHRlT3B0aW9ucy5vbkFmdGVyQXV0b3RhYmxlPT09XCJmdW5jdGlvblwiKXRlT3B0aW9ucy5vbkFmdGVyQXV0b3RhYmxlKCQodGhpcyksYXRPcHRpb25zKTtkZWZhdWx0cy5qc3BkZi5hdXRvdGFibGUuc3RhcnRZPWpzUGRmQXV0b1RhYmxlRW5kUG9zWSgpK2F0T3B0aW9ucy5tYXJnaW4udG9wfSk7anNQZGZPdXRwdXQodGVPcHRpb25zLmRvYyx0eXBlb2YgdGVPcHRpb25zLmltYWdlcyE9PVwidW5kZWZpbmVkXCImJmpRdWVyeS5pc0VtcHR5T2JqZWN0KHRlT3B0aW9ucy5pbWFnZXMpPT09ZmFsc2UpO2lmKHR5cGVvZiB0ZU9wdGlvbnMuaGVhZGVycm93cyE9PVwidW5kZWZpbmVkXCIpdGVPcHRpb25zLmhlYWRlcnJvd3MubGVuZ3RoPTA7aWYodHlwZW9mIHRlT3B0aW9ucy5jb2x1bW5zIT09XCJ1bmRlZmluZWRcIil0ZU9wdGlvbnMuY29sdW1ucy5sZW5ndGg9MDtpZih0eXBlb2YgdGVPcHRpb25zLnJvd3MhPT1cInVuZGVmaW5lZFwiKXRlT3B0aW9ucy5yb3dzLmxlbmd0aD0wO2RlbGV0ZSB0ZU9wdGlvbnMuZG9jO3RlT3B0aW9ucy5kb2M9bnVsbH0pfX1mdW5jdGlvbiBjb2xsZWN0SGVhZFJvd3MoJHRhYmxlKXtjb25zdCByZXN1bHQ9W107ZmluZFRhYmxlRWxlbWVudHMoJHRhYmxlLFwidGhlYWRcIikuZWFjaChmdW5jdGlvbigpe3Jlc3VsdC5wdXNoLmFwcGx5KHJlc3VsdCxmaW5kVGFibGVFbGVtZW50cygkKHRoaXMpLGRlZmF1bHRzLnRoZWFkU2VsZWN0b3IpLnRvQXJyYXkoKSl9KTtyZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIGNvbGxlY3RSb3dzKCR0YWJsZSl7Y29uc3QgcmVzdWx0PVtdO2ZpbmRUYWJsZUVsZW1lbnRzKCR0YWJsZSxcInRib2R5XCIpLmVhY2goZnVuY3Rpb24oKXtyZXN1bHQucHVzaC5hcHBseShyZXN1bHQsZmluZFRhYmxlRWxlbWVudHMoJCh0aGlzKSxkZWZhdWx0cy50Ym9keVNlbGVjdG9yKS50b0FycmF5KCkpfSk7aWYoZGVmYXVsdHMudGZvb3RTZWxlY3Rvci5sZW5ndGgpe2ZpbmRUYWJsZUVsZW1lbnRzKCR0YWJsZSxcInRmb290XCIpLmVhY2goZnVuY3Rpb24oKXtyZXN1bHQucHVzaC5hcHBseShyZXN1bHQsZmluZFRhYmxlRWxlbWVudHMoJCh0aGlzKSxkZWZhdWx0cy50Zm9vdFNlbGVjdG9yKS50b0FycmF5KCkpfSl9cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiBmaW5kVGFibGVFbGVtZW50cygkcGFyZW50LHNlbGVjdG9yKXtjb25zdCBwYXJlbnRTZWxlY3Rvcj0kcGFyZW50WzBdLnRhZ05hbWU7Y29uc3QgcGFyZW50TGV2ZWw9JHBhcmVudC5wYXJlbnRzKHBhcmVudFNlbGVjdG9yKS5sZW5ndGg7cmV0dXJuICRwYXJlbnQuZmluZChzZWxlY3RvcikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHBhcmVudExldmVsPT09JCh0aGlzKS5jbG9zZXN0KHBhcmVudFNlbGVjdG9yKS5wYXJlbnRzKHBhcmVudFNlbGVjdG9yKS5sZW5ndGh9KX1mdW5jdGlvbiBHZXRDb2x1bW5OYW1lcyh0YWJsZSl7Y29uc3QgcmVzdWx0PVtdO2xldCBtYXhDb2xzPTA7bGV0IHJvdz0wO2xldCBjb2w9MDskKHRhYmxlKS5maW5kKFwidGhlYWRcIikuZmlyc3QoKS5maW5kKFwidGhcIikuZWFjaChmdW5jdGlvbihpbmRleCxlbCl7Y29uc3QgaGFzRGF0YUZpZWxkPSQoZWwpLmF0dHIoXCJkYXRhLWZpZWxkXCIpIT09dW5kZWZpbmVkO2lmKHR5cGVvZiBlbC5wYXJlbnROb2RlLnJvd0luZGV4IT09XCJ1bmRlZmluZWRcIiYmcm93IT09ZWwucGFyZW50Tm9kZS5yb3dJbmRleCl7cm93PWVsLnBhcmVudE5vZGUucm93SW5kZXg7Y29sPTA7bWF4Q29scz0wfWNvbnN0IGNvbFNwYW49Z2V0Q29sc3BhbihlbCk7bWF4Q29scys9Y29sU3Bhbj9jb2xTcGFuOjE7d2hpbGUoY29sPG1heENvbHMpe3Jlc3VsdFtjb2xdPWhhc0RhdGFGaWVsZD8kKGVsKS5hdHRyKFwiZGF0YS1maWVsZFwiKTpjb2wudG9TdHJpbmcoKTtjb2wrK319KTtyZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIGlzVmlzaWJsZSgkZWxlbWVudCl7bGV0IGlzUm93PXR5cGVvZiAkZWxlbWVudFswXS5yb3dJbmRleCE9PVwidW5kZWZpbmVkXCI7Y29uc3QgaXNDZWxsPWlzUm93PT09ZmFsc2UmJnR5cGVvZiAkZWxlbWVudFswXS5jZWxsSW5kZXghPT1cInVuZGVmaW5lZFwiO2NvbnN0IGlzRWxlbWVudFZpc2libGU9aXNDZWxsfHxpc1Jvdz9pc1RhYmxlRWxlbWVudFZpc2libGUoJGVsZW1lbnQpOiRlbGVtZW50LmlzKFwiOnZpc2libGVcIik7bGV0IHRhYmxlZXhwb3J0RGlzcGxheT0kZWxlbWVudC5hdHRyKFwiZGF0YS10YWJsZWV4cG9ydC1kaXNwbGF5XCIpO2lmKGlzQ2VsbCYmdGFibGVleHBvcnREaXNwbGF5IT09XCJub25lXCImJnRhYmxlZXhwb3J0RGlzcGxheSE9PVwiYWx3YXlzXCIpeyRlbGVtZW50PSQoJGVsZW1lbnRbMF0ucGFyZW50Tm9kZSk7aXNSb3c9dHlwZW9mICRlbGVtZW50WzBdLnJvd0luZGV4IT09XCJ1bmRlZmluZWRcIjt0YWJsZWV4cG9ydERpc3BsYXk9JGVsZW1lbnQuYXR0cihcImRhdGEtdGFibGVleHBvcnQtZGlzcGxheVwiKX1pZihpc1JvdyYmdGFibGVleHBvcnREaXNwbGF5IT09XCJub25lXCImJnRhYmxlZXhwb3J0RGlzcGxheSE9PVwiYWx3YXlzXCIpe3RhYmxlZXhwb3J0RGlzcGxheT0kZWxlbWVudC5jbG9zZXN0KFwidGFibGVcIikuYXR0cihcImRhdGEtdGFibGVleHBvcnQtZGlzcGxheVwiKX1yZXR1cm4gdGFibGVleHBvcnREaXNwbGF5IT09XCJub25lXCImJihpc0VsZW1lbnRWaXNpYmxlPT09dHJ1ZXx8dGFibGVleHBvcnREaXNwbGF5PT09XCJhbHdheXNcIil9ZnVuY3Rpb24gaXNUYWJsZUVsZW1lbnRWaXNpYmxlKCRlbGVtZW50KXtsZXQgaGlkZGVuRWxzPVtdO2lmKGNoZWNrQ2VsbFZpc2liaWxpdHkpe2hpZGRlbkVscz0kaGlkZGVuVGFibGVFbGVtZW50cy5maWx0ZXIoZnVuY3Rpb24oKXtsZXQgZm91bmQ9ZmFsc2U7aWYodGhpcy5ub2RlVHlwZT09PSRlbGVtZW50WzBdLm5vZGVUeXBlKXtpZih0eXBlb2YgdGhpcy5yb3dJbmRleCE9PVwidW5kZWZpbmVkXCImJnRoaXMucm93SW5kZXg9PT0kZWxlbWVudFswXS5yb3dJbmRleClmb3VuZD10cnVlO2Vsc2UgaWYodHlwZW9mIHRoaXMuY2VsbEluZGV4IT09XCJ1bmRlZmluZWRcIiYmdGhpcy5jZWxsSW5kZXg9PT0kZWxlbWVudFswXS5jZWxsSW5kZXgmJnR5cGVvZiB0aGlzLnBhcmVudE5vZGUucm93SW5kZXghPT1cInVuZGVmaW5lZFwiJiZ0eXBlb2YgJGVsZW1lbnRbMF0ucGFyZW50Tm9kZS5yb3dJbmRleCE9PVwidW5kZWZpbmVkXCImJnRoaXMucGFyZW50Tm9kZS5yb3dJbmRleD09PSRlbGVtZW50WzBdLnBhcmVudE5vZGUucm93SW5kZXgpZm91bmQ9dHJ1ZX1yZXR1cm4gZm91bmR9KX1yZXR1cm4gY2hlY2tDZWxsVmlzaWJpbGl0eT09PWZhbHNlfHxoaWRkZW5FbHMubGVuZ3RoPT09MH1mdW5jdGlvbiBpc0NvbHVtbklnbm9yZWQoJGNlbGwscm93TGVuZ3RoLGNvbEluZGV4KXtsZXQgcmVzdWx0PWZhbHNlO2lmKGlzVmlzaWJsZSgkY2VsbCkpe2lmKGRlZmF1bHRzLmlnbm9yZUNvbHVtbi5sZW5ndGg+MCl7aWYoJC5pbkFycmF5KGNvbEluZGV4LGRlZmF1bHRzLmlnbm9yZUNvbHVtbikhPT0tMXx8JC5pbkFycmF5KGNvbEluZGV4LXJvd0xlbmd0aCxkZWZhdWx0cy5pZ25vcmVDb2x1bW4pIT09LTF8fGNvbE5hbWVzLmxlbmd0aD5jb2xJbmRleCYmdHlwZW9mIGNvbE5hbWVzW2NvbEluZGV4XSE9PVwidW5kZWZpbmVkXCImJiQuaW5BcnJheShjb2xOYW1lc1tjb2xJbmRleF0sZGVmYXVsdHMuaWdub3JlQ29sdW1uKSE9PS0xKXJlc3VsdD10cnVlfX1lbHNlIHJlc3VsdD10cnVlO3JldHVybiByZXN1bHR9ZnVuY3Rpb24gRm9yRWFjaFZpc2libGVDZWxsKHRhYmxlUm93LHNlbGVjdG9yLHJvd0luZGV4LHJvd0NvdW50LGNlbGxjYWxsYmFjayl7aWYodHlwZW9mIGNlbGxjYWxsYmFjaz09PVwiZnVuY3Rpb25cIil7bGV0IGlnbm9yZVJvdz1mYWxzZTtpZih0eXBlb2YgZGVmYXVsdHMub25JZ25vcmVSb3c9PT1cImZ1bmN0aW9uXCIpaWdub3JlUm93PWRlZmF1bHRzLm9uSWdub3JlUm93KCQodGFibGVSb3cpLHJvd0luZGV4KTtpZihpZ25vcmVSb3c9PT1mYWxzZSYmKGRlZmF1bHRzLmlnbm9yZVJvdy5sZW5ndGg9PT0wfHwkLmluQXJyYXkocm93SW5kZXgsZGVmYXVsdHMuaWdub3JlUm93KT09PS0xJiYkLmluQXJyYXkocm93SW5kZXgtcm93Q291bnQsZGVmYXVsdHMuaWdub3JlUm93KT09PS0xKSYmaXNWaXNpYmxlKCQodGFibGVSb3cpKSl7Y29uc3QgJGNlbGxzPWZpbmRUYWJsZUVsZW1lbnRzKCQodGFibGVSb3cpLHNlbGVjdG9yKTtsZXQgY2VsbHNDb3VudD0kY2VsbHMubGVuZ3RoO2xldCBjb2xDb3VudD0wO2xldCBjb2xJbmRleD0wOyRjZWxscy5lYWNoKGZ1bmN0aW9uKCl7Y29uc3QgJGNlbGw9JCh0aGlzKTtsZXQgY29sc3Bhbj1nZXRDb2xzcGFuKHRoaXMpO2xldCByb3dzcGFuPWdldFJvd3NwYW4odGhpcyk7bGV0IGM7JC5lYWNoKHJhbmdlcyxmdW5jdGlvbigpe2NvbnN0IHJhbmdlPXRoaXM7aWYocm93SW5kZXg+cmFuZ2Uucy5yJiZyb3dJbmRleDw9cmFuZ2UuZS5yJiZjb2xDb3VudD49cmFuZ2Uucy5jJiZjb2xDb3VudDw9cmFuZ2UuZS5jKXtmb3IoYz0wO2M8PXJhbmdlLmUuYy1yYW5nZS5zLmM7KytjKXtjZWxsc0NvdW50Kys7Y29sSW5kZXgrKztjZWxsY2FsbGJhY2sobnVsbCxyb3dJbmRleCxjb2xDb3VudCsrKX19fSk7aWYocm93c3Bhbnx8Y29sc3Bhbil7cm93c3Bhbj1yb3dzcGFufHwxO2NvbHNwYW49Y29sc3Bhbnx8MTtyYW5nZXMucHVzaCh7czp7cjpyb3dJbmRleCxjOmNvbENvdW50fSxlOntyOnJvd0luZGV4K3Jvd3NwYW4tMSxjOmNvbENvdW50K2NvbHNwYW4tMX19KX1pZihpc0NvbHVtbklnbm9yZWQoJGNlbGwsY2VsbHNDb3VudCxjb2xJbmRleCsrKT09PWZhbHNlKXtjZWxsY2FsbGJhY2sodGhpcyxyb3dJbmRleCxjb2xDb3VudCsrKX1pZihjb2xzcGFuPjEpe2ZvcihjPTA7Yzxjb2xzcGFuLTE7KytjKXtjb2xJbmRleCsrO2NlbGxjYWxsYmFjayhudWxsLHJvd0luZGV4LGNvbENvdW50KyspfX19KTskLmVhY2gocmFuZ2VzLGZ1bmN0aW9uKCl7Y29uc3QgcmFuZ2U9dGhpcztpZihyb3dJbmRleD49cmFuZ2Uucy5yJiZyb3dJbmRleDw9cmFuZ2UuZS5yJiZjb2xDb3VudD49cmFuZ2Uucy5jJiZjb2xDb3VudDw9cmFuZ2UuZS5jKXtmb3IobGV0IGM9MDtjPD1yYW5nZS5lLmMtcmFuZ2Uucy5jOysrYyl7Y2VsbGNhbGxiYWNrKG51bGwscm93SW5kZXgsY29sQ291bnQrKyl9fX0pfX19ZnVuY3Rpb24ganNQZGZEcmF3SW1hZ2UoY2VsbCxjb250YWluZXIsaW1nSWQsdGVPcHRpb25zKXtpZih0eXBlb2YgdGVPcHRpb25zLmltYWdlcyE9PVwidW5kZWZpbmVkXCIpe2NvbnN0IGltYWdlPXRlT3B0aW9ucy5pbWFnZXNbaW1nSWRdO2lmKHR5cGVvZiBpbWFnZSE9PVwidW5kZWZpbmVkXCIpe2NvbnN0IHI9Y29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2NvbnN0IGFyQ2VsbD1jZWxsLndpZHRoL2NlbGwuaGVpZ2h0O2NvbnN0IGFySW1nPXIud2lkdGgvci5oZWlnaHQ7bGV0IGltZ1dpZHRoPWNlbGwud2lkdGg7bGV0IGltZ0hlaWdodD1jZWxsLmhlaWdodDtjb25zdCBweDJwdD0uMjY0NTgzKjcyLzI1LjQ7bGV0IHV5PTA7aWYoYXJJbWc8PWFyQ2VsbCl7aW1nSGVpZ2h0PU1hdGgubWluKGNlbGwuaGVpZ2h0LHIuaGVpZ2h0KTtpbWdXaWR0aD1yLndpZHRoKmltZ0hlaWdodC9yLmhlaWdodH1lbHNlIGlmKGFySW1nPmFyQ2VsbCl7aW1nV2lkdGg9TWF0aC5taW4oY2VsbC53aWR0aCxyLndpZHRoKTtpbWdIZWlnaHQ9ci5oZWlnaHQqaW1nV2lkdGgvci53aWR0aH1pbWdXaWR0aCo9cHgycHQ7aW1nSGVpZ2h0Kj1weDJwdDtpZihpbWdIZWlnaHQ8Y2VsbC5oZWlnaHQpdXk9KGNlbGwuaGVpZ2h0LWltZ0hlaWdodCkvMjt0cnl7dGVPcHRpb25zLmRvYy5hZGRJbWFnZShpbWFnZS5zcmMsY2VsbC50ZXh0UG9zLngsY2VsbC55K3V5LGltZ1dpZHRoLGltZ0hlaWdodCl9Y2F0Y2goZSl7fWNlbGwudGV4dFBvcy54Kz1pbWdXaWR0aH19fWZ1bmN0aW9uIGpzUGRmT3V0cHV0KGRvYyxoYXNpbWFnZXMpe2lmKGRlZmF1bHRzLm91dHB1dE1vZGU9PT1cInN0cmluZ1wiKXJldHVybiBkb2Mub3V0cHV0KCk7aWYoZGVmYXVsdHMub3V0cHV0TW9kZT09PVwiYmFzZTY0XCIpcmV0dXJuIGJhc2U2NGVuY29kZShkb2Mub3V0cHV0KCkpO2lmKGRlZmF1bHRzLm91dHB1dE1vZGU9PT1cIndpbmRvd1wiKXt3aW5kb3cuVVJMPXdpbmRvdy5VUkx8fHdpbmRvdy53ZWJraXRVUkw7d2luZG93Lm9wZW4od2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoZG9jLm91dHB1dChcImJsb2JcIikpKTtyZXR1cm59Y29uc3QgZmlsZU5hbWU9ZGVmYXVsdHMuZmlsZU5hbWUrXCIucGRmXCI7dHJ5e2NvbnN0IGJsb2I9ZG9jLm91dHB1dChcImJsb2JcIik7c2F2ZUFzKGJsb2IsZmlsZU5hbWUpO2lmKHR5cGVvZiBkZWZhdWx0cy5vbkFmdGVyU2F2ZVRvRmlsZT09PVwiZnVuY3Rpb25cIilkZWZhdWx0cy5vbkFmdGVyU2F2ZVRvRmlsZShibG9iLGZpbGVOYW1lKX1jYXRjaChlKXtkb3dubG9hZEZpbGUoZmlsZU5hbWUsXCJkYXRhOmFwcGxpY2F0aW9uL3BkZlwiKyhoYXNpbWFnZXM/XCJcIjpcIjtiYXNlNjRcIikrXCIsXCIsaGFzaW1hZ2VzP2RvYy5vdXRwdXQoXCJibG9iXCIpOmRvYy5vdXRwdXQoKSl9fWZ1bmN0aW9uIHByZXBhcmVBdXRvVGFibGVUZXh0KGNlbGwsZGF0YSxjZWxsb3B0KXtsZXQgY3M9MDtpZih0eXBlb2YgY2VsbG9wdCE9PVwidW5kZWZpbmVkXCIpY3M9Y2VsbG9wdC5jb2xzcGFuO2lmKGNzPj0wKXtsZXQgY2VsbFdpZHRoPWNlbGwud2lkdGg7bGV0IHRleHRQb3NYPWNlbGwudGV4dFBvcy54O2NvbnN0IGk9ZGF0YS50YWJsZS5jb2x1bW5zLmluZGV4T2YoZGF0YS5jb2x1bW4pO2ZvcihsZXQgYz0xO2M8Y3M7YysrKXtjb25zdCBjb2x1bW49ZGF0YS50YWJsZS5jb2x1bW5zW2krY107Y2VsbFdpZHRoKz1jb2x1bW4ud2lkdGh9aWYoY3M+MSl7aWYoY2VsbC5zdHlsZXMuaGFsaWduPT09XCJyaWdodFwiKXRleHRQb3NYPWNlbGwudGV4dFBvcy54K2NlbGxXaWR0aC1jZWxsLndpZHRoO2Vsc2UgaWYoY2VsbC5zdHlsZXMuaGFsaWduPT09XCJjZW50ZXJcIil0ZXh0UG9zWD1jZWxsLnRleHRQb3MueCsoY2VsbFdpZHRoLWNlbGwud2lkdGgpLzJ9Y2VsbC53aWR0aD1jZWxsV2lkdGg7Y2VsbC50ZXh0UG9zLng9dGV4dFBvc1g7aWYodHlwZW9mIGNlbGxvcHQhPT1cInVuZGVmaW5lZFwiJiZjZWxsb3B0LnJvd3NwYW4+MSljZWxsLmhlaWdodD1jZWxsLmhlaWdodCpjZWxsb3B0LnJvd3NwYW47aWYoY2VsbC5zdHlsZXMudmFsaWduPT09XCJtaWRkbGVcInx8Y2VsbC5zdHlsZXMudmFsaWduPT09XCJib3R0b21cIil7Y29uc3Qgc3BsaXR0ZWRUZXh0PXR5cGVvZiBjZWxsLnRleHQ9PT1cInN0cmluZ1wiP2NlbGwudGV4dC5zcGxpdCgvXFxyXFxufFxccnxcXG4vZyk6Y2VsbC50ZXh0O2NvbnN0IGxpbmVDb3VudD1zcGxpdHRlZFRleHQubGVuZ3RofHwxO2lmKGxpbmVDb3VudD4yKWNlbGwudGV4dFBvcy55LT0oMi1GT05UX1JPV19SQVRJTykvMipkYXRhLnJvdy5zdHlsZXMuZm9udFNpemUqKGxpbmVDb3VudC0yKS8zfXJldHVybiB0cnVlfWVsc2UgcmV0dXJuIGZhbHNlfWZ1bmN0aW9uIGNvbGxlY3RJbWFnZXMoY2VsbCxlbGVtZW50cyx0ZU9wdGlvbnMpe2lmKHR5cGVvZiBjZWxsIT09XCJ1bmRlZmluZWRcIiYmY2VsbCE9PW51bGwpe2lmKGNlbGwuaGFzQXR0cmlidXRlKFwiZGF0YS10YWJsZWV4cG9ydC1jYW52YXNcIikpe2NvbnN0IGltZ0lkPShuZXcgRGF0ZSkuZ2V0VGltZSgpOyQoY2VsbCkuYXR0cihcImRhdGEtdGFibGVleHBvcnQtY2FudmFzXCIsaW1nSWQpO3RlT3B0aW9ucy5pbWFnZXNbaW1nSWRdPXt1cmw6J1tkYXRhLXRhYmxlZXhwb3J0LWNhbnZhcz1cIicraW1nSWQrJ1wiXScsc3JjOm51bGx9fWVsc2UgaWYoZWxlbWVudHMhPT1cInVuZGVmaW5lZFwiJiZlbGVtZW50cyE9bnVsbCl7ZWxlbWVudHMuZWFjaChmdW5jdGlvbigpe2lmKCQodGhpcykuaXMoXCJpbWdcIikpe2NvbnN0IGltZ0lkPXN0ckhhc2hDb2RlKHRoaXMuc3JjKTt0ZU9wdGlvbnMuaW1hZ2VzW2ltZ0lkXT17dXJsOnRoaXMuc3JjLHNyYzp0aGlzLnNyY319Y29sbGVjdEltYWdlcyhjZWxsLCQodGhpcykuY2hpbGRyZW4oKSx0ZU9wdGlvbnMpfSl9fX1mdW5jdGlvbiBsb2FkSW1hZ2VzKHRlT3B0aW9ucyxjYWxsYmFjayl7bGV0IGltYWdlQ291bnQ9MDtsZXQgcGVuZGluZ0NvdW50PTA7ZnVuY3Rpb24gZG9uZSgpe2NhbGxiYWNrKGltYWdlQ291bnQpfWZ1bmN0aW9uIGxvYWRJbWFnZShpbWFnZSl7aWYoaW1hZ2UudXJsKXtpZighaW1hZ2Uuc3JjKXtjb25zdCAkaW1nQ29udGFpbmVyPSQoaW1hZ2UudXJsKTtpZigkaW1nQ29udGFpbmVyLmxlbmd0aCl7aW1hZ2VDb3VudD0rK3BlbmRpbmdDb3VudDtodG1sMmNhbnZhcygkaW1nQ29udGFpbmVyWzBdKS50aGVuKGZ1bmN0aW9uKGNhbnZhcyl7aW1hZ2Uuc3JjPWNhbnZhcy50b0RhdGFVUkwoXCJpbWFnZS9wbmdcIik7aWYoIS0tcGVuZGluZ0NvdW50KWRvbmUoKX0pfX1lbHNle2NvbnN0IGltZz1uZXcgSW1hZ2U7aW1hZ2VDb3VudD0rK3BlbmRpbmdDb3VudDtpbWcuY3Jvc3NPcmlnaW49XCJBbm9ueW1vdXNcIjtpbWcub25lcnJvcj1pbWcub25sb2FkPWZ1bmN0aW9uKCl7aWYoaW1nLmNvbXBsZXRlKXtpZihpbWcuc3JjLmluZGV4T2YoXCJkYXRhOmltYWdlL1wiKT09PTApe2ltZy53aWR0aD1pbWFnZS53aWR0aHx8aW1nLndpZHRofHwwO2ltZy5oZWlnaHQ9aW1hZ2UuaGVpZ2h0fHxpbWcuaGVpZ2h0fHwwfWlmKGltZy53aWR0aCtpbWcuaGVpZ2h0KXtjb25zdCBjYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtjb25zdCBjdHg9Y2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtjYW52YXMud2lkdGg9aW1nLndpZHRoO2NhbnZhcy5oZWlnaHQ9aW1nLmhlaWdodDtjdHguZHJhd0ltYWdlKGltZywwLDApO2ltYWdlLnNyYz1jYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpfX1pZighLS1wZW5kaW5nQ291bnQpZG9uZSgpfTtpbWcuc3JjPWltYWdlLnVybH19fWlmKHR5cGVvZiB0ZU9wdGlvbnMuaW1hZ2VzIT09XCJ1bmRlZmluZWRcIil7Zm9yKGxldCBpIGluIHRlT3B0aW9ucy5pbWFnZXMpaWYodGVPcHRpb25zLmltYWdlcy5oYXNPd25Qcm9wZXJ0eShpKSlsb2FkSW1hZ2UodGVPcHRpb25zLmltYWdlc1tpXSl9cmV0dXJuIHBlbmRpbmdDb3VudHx8ZG9uZSgpfWZ1bmN0aW9uIGRyYXdBdXRvdGFibGVFbGVtZW50cyhjZWxsLGVsZW1lbnRzLHRlT3B0aW9ucyl7ZWxlbWVudHMuZWFjaChmdW5jdGlvbigpe2lmKCQodGhpcykuaXMoXCJkaXZcIikpe2NvbnN0IGJDb2xvcj1yZ2IyYXJyYXkoZ2V0U3R5bGUodGhpcyxcImJhY2tncm91bmQtY29sb3JcIiksWzI1NSwyNTUsMjU1XSk7Y29uc3QgbENvbG9yPXJnYjJhcnJheShnZXRTdHlsZSh0aGlzLFwiYm9yZGVyLXRvcC1jb2xvclwiKSxbMCwwLDBdKTtjb25zdCBsV2lkdGg9Z2V0UHJvcGVydHlVbml0VmFsdWUodGhpcyxcImJvcmRlci10b3Atd2lkdGhcIixkZWZhdWx0cy5qc3BkZi51bml0KTtjb25zdCByPXRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7Y29uc3QgdXg9dGhpcy5vZmZzZXRMZWZ0KnRlT3B0aW9ucy53U2NhbGVGYWN0b3I7Y29uc3QgdXk9dGhpcy5vZmZzZXRUb3AqdGVPcHRpb25zLmhTY2FsZUZhY3Rvcjtjb25zdCB1dz1yLndpZHRoKnRlT3B0aW9ucy53U2NhbGVGYWN0b3I7Y29uc3QgdWg9ci5oZWlnaHQqdGVPcHRpb25zLmhTY2FsZUZhY3Rvcjt0ZU9wdGlvbnMuZG9jLnNldERyYXdDb2xvci5hcHBseSh1bmRlZmluZWQsbENvbG9yKTt0ZU9wdGlvbnMuZG9jLnNldEZpbGxDb2xvci5hcHBseSh1bmRlZmluZWQsYkNvbG9yKTt0ZU9wdGlvbnMuZG9jLnNldExpbmVXaWR0aChsV2lkdGgpO3RlT3B0aW9ucy5kb2MucmVjdChjZWxsLngrdXgsY2VsbC55K3V5LHV3LHVoLGxXaWR0aD9cIkZEXCI6XCJGXCIpfWVsc2UgaWYoJCh0aGlzKS5pcyhcImltZ1wiKSl7Y29uc3QgaW1nSWQ9c3RySGFzaENvZGUodGhpcy5zcmMpO2pzUGRmRHJhd0ltYWdlKGNlbGwsdGhpcyxpbWdJZCx0ZU9wdGlvbnMpfWRyYXdBdXRvdGFibGVFbGVtZW50cyhjZWxsLCQodGhpcykuY2hpbGRyZW4oKSx0ZU9wdGlvbnMpfSl9ZnVuY3Rpb24gZHJhd0F1dG90YWJsZVRleHQoY2VsbCx0ZXh0dGFncyx0ZU9wdGlvbnMpe2lmKHR5cGVvZiB0ZU9wdGlvbnMub25BdXRvdGFibGVUZXh0PT09XCJmdW5jdGlvblwiKXt0ZU9wdGlvbnMub25BdXRvdGFibGVUZXh0KHRlT3B0aW9ucy5kb2MsY2VsbCx0ZXh0dGFncyl9ZWxzZXtsZXQgeD1jZWxsLnRleHRQb3MueDtsZXQgeT1jZWxsLnRleHRQb3MueTtjb25zdCBzdHlsZT17aGFsaWduOmNlbGwuc3R5bGVzLmhhbGlnbix2YWxpZ246Y2VsbC5zdHlsZXMudmFsaWdufTtpZih0ZXh0dGFncy5sZW5ndGgpe2xldCB0YWc9dGV4dHRhZ3NbMF07d2hpbGUodGFnLnByZXZpb3VzU2libGluZyl0YWc9dGFnLnByZXZpb3VzU2libGluZztsZXQgYj1mYWxzZSxpPWZhbHNlO3doaWxlKHRhZyl7bGV0IHR4dD10YWcuaW5uZXJUZXh0fHx0YWcudGV4dENvbnRlbnR8fFwiXCI7Y29uc3QgbGVhZGluZ1NwYWNlPXR4dC5sZW5ndGgmJnR4dFswXT09PVwiIFwiP1wiIFwiOlwiXCI7Y29uc3QgdHJhaWxpbmdTcGFjZT10eHQubGVuZ3RoPjEmJnR4dFt0eHQubGVuZ3RoLTFdPT09XCIgXCI/XCIgXCI6XCJcIjtpZihkZWZhdWx0cy5wcmVzZXJ2ZS5sZWFkaW5nV1MhPT10cnVlKXR4dD1sZWFkaW5nU3BhY2UrdHJpbUxlZnQodHh0KTtpZihkZWZhdWx0cy5wcmVzZXJ2ZS50cmFpbGluZ1dTIT09dHJ1ZSl0eHQ9dHJpbVJpZ2h0KHR4dCkrdHJhaWxpbmdTcGFjZTtpZigkKHRhZykuaXMoXCJiclwiKSl7eD1jZWxsLnRleHRQb3MueDt5Kz10ZU9wdGlvbnMuZG9jLmludGVybmFsLmdldEZvbnRTaXplKCl9aWYoJCh0YWcpLmlzKFwiYlwiKSliPXRydWU7ZWxzZSBpZigkKHRhZykuaXMoXCJpXCIpKWk9dHJ1ZTtpZihifHxpKXRlT3B0aW9ucy5kb2Muc2V0Rm9udChcInVuZGVmaW5lZCBcIixiJiZpP1wiYm9sZGl0YWxpY1wiOmI/XCJib2xkXCI6XCJpdGFsaWNcIik7bGV0IHc9dGVPcHRpb25zLmRvYy5nZXRTdHJpbmdVbml0V2lkdGgodHh0KSp0ZU9wdGlvbnMuZG9jLmludGVybmFsLmdldEZvbnRTaXplKCk7aWYodyl7aWYoY2VsbC5zdHlsZXMub3ZlcmZsb3c9PT1cImxpbmVicmVha1wiJiZ4PmNlbGwudGV4dFBvcy54JiZ4K3c+Y2VsbC50ZXh0UG9zLngrY2VsbC53aWR0aCl7Y29uc3QgY2hhcnM9XCIuLCElKjs6PS1cIjtpZihjaGFycy5pbmRleE9mKHR4dC5jaGFyQXQoMCkpPj0wKXtjb25zdCBzPXR4dC5jaGFyQXQoMCk7dz10ZU9wdGlvbnMuZG9jLmdldFN0cmluZ1VuaXRXaWR0aChzKSp0ZU9wdGlvbnMuZG9jLmludGVybmFsLmdldEZvbnRTaXplKCk7aWYoeCt3PD1jZWxsLnRleHRQb3MueCtjZWxsLndpZHRoKXtqc1BkZkF1dG9UYWJsZVRleHQocyx4LHksc3R5bGUpO3R4dD10eHQuc3Vic3RyaW5nKDEsdHh0Lmxlbmd0aCl9dz10ZU9wdGlvbnMuZG9jLmdldFN0cmluZ1VuaXRXaWR0aCh0eHQpKnRlT3B0aW9ucy5kb2MuaW50ZXJuYWwuZ2V0Rm9udFNpemUoKX14PWNlbGwudGV4dFBvcy54O3krPXRlT3B0aW9ucy5kb2MuaW50ZXJuYWwuZ2V0Rm9udFNpemUoKX1pZihjZWxsLnN0eWxlcy5vdmVyZmxvdyE9PVwidmlzaWJsZVwiKXt3aGlsZSh0eHQubGVuZ3RoJiZ4K3c+Y2VsbC50ZXh0UG9zLngrY2VsbC53aWR0aCl7dHh0PXR4dC5zdWJzdHJpbmcoMCx0eHQubGVuZ3RoLTEpO3c9dGVPcHRpb25zLmRvYy5nZXRTdHJpbmdVbml0V2lkdGgodHh0KSp0ZU9wdGlvbnMuZG9jLmludGVybmFsLmdldEZvbnRTaXplKCl9fWpzUGRmQXV0b1RhYmxlVGV4dCh0eHQseCx5LHN0eWxlKTt4Kz13fWlmKGJ8fGkpe2lmKCQodGFnKS5pcyhcImJcIikpYj1mYWxzZTtlbHNlIGlmKCQodGFnKS5pcyhcImlcIikpaT1mYWxzZTt0ZU9wdGlvbnMuZG9jLnNldEZvbnQoXCJ1bmRlZmluZWQgXCIsIWImJiFpP1wibm9ybWFsXCI6Yj9cImJvbGRcIjpcIml0YWxpY1wiKX10YWc9dGFnLm5leHRTaWJsaW5nfWNlbGwudGV4dFBvcy54PXg7Y2VsbC50ZXh0UG9zLnk9eX1lbHNle2pzUGRmQXV0b1RhYmxlVGV4dChjZWxsLnRleHQsY2VsbC50ZXh0UG9zLngsY2VsbC50ZXh0UG9zLnksc3R5bGUpfX19ZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cmluZyl7cmV0dXJuIHN0cmluZz09bnVsbD9cIlwiOnN0cmluZy50b1N0cmluZygpLnJlcGxhY2UoLyhbLiorP149IToke30oKXxcXFtcXF1cXC9cXFxcXSkvZyxcIlxcXFwkMVwiKX1mdW5jdGlvbiByZXBsYWNlQWxsKHN0cmluZyxmaW5kLHJlcGxhY2Upe3JldHVybiBzdHJpbmc9PW51bGw/XCJcIjpzdHJpbmcudG9TdHJpbmcoKS5yZXBsYWNlKG5ldyBSZWdFeHAoZXNjYXBlUmVnRXhwKGZpbmQpLFwiZ1wiKSxyZXBsYWNlKX1mdW5jdGlvbiB0cmltTGVmdChzdHJpbmcpe3JldHVybiBzdHJpbmc9PW51bGw/XCJcIjpzdHJpbmcudG9TdHJpbmcoKS5yZXBsYWNlKC9eXFxzKy8sXCJcIil9ZnVuY3Rpb24gdHJpbVJpZ2h0KHN0cmluZyl7cmV0dXJuIHN0cmluZz09bnVsbD9cIlwiOnN0cmluZy50b1N0cmluZygpLnJlcGxhY2UoL1xccyskLyxcIlwiKX1mdW5jdGlvbiBwYXJzZURhdGVVVEMocyl7aWYoZGVmYXVsdHMuZGF0ZS5odG1sLmxlbmd0aD09PTApcmV0dXJuIGZhbHNlO2RlZmF1bHRzLmRhdGUucGF0dGVybi5sYXN0SW5kZXg9MDtjb25zdCBtYXRjaD1kZWZhdWx0cy5kYXRlLnBhdHRlcm4uZXhlYyhzKTtpZihtYXRjaD09bnVsbClyZXR1cm4gZmFsc2U7Y29uc3QgeT0rbWF0Y2hbZGVmYXVsdHMuZGF0ZS5tYXRjaF95XTtpZih5PDB8fHk+ODA5OSlyZXR1cm4gZmFsc2U7Y29uc3QgbT1tYXRjaFtkZWZhdWx0cy5kYXRlLm1hdGNoX21dKjE7Y29uc3QgZD1tYXRjaFtkZWZhdWx0cy5kYXRlLm1hdGNoX2RdKjE7aWYoIWlzRmluaXRlKGQpKXJldHVybiBmYWxzZTtjb25zdCBvPW5ldyBEYXRlKHksbS0xLGQsMCwwLDApO2lmKG8uZ2V0RnVsbFllYXIoKT09PXkmJm8uZ2V0TW9udGgoKT09PW0tMSYmby5nZXREYXRlKCk9PT1kKXJldHVybiBuZXcgRGF0ZShEYXRlLlVUQyh5LG0tMSxkLDAsMCwwKSk7ZWxzZSByZXR1cm4gZmFsc2V9ZnVuY3Rpb24gcGFyc2VOdW1iZXIodmFsdWUpe3ZhbHVlPXZhbHVlfHxcIjBcIjtpZihcIlwiIT09ZGVmYXVsdHMubnVtYmVycy5odG1sLnRob3VzYW5kc1NlcGFyYXRvcil2YWx1ZT1yZXBsYWNlQWxsKHZhbHVlLGRlZmF1bHRzLm51bWJlcnMuaHRtbC50aG91c2FuZHNTZXBhcmF0b3IsXCJcIik7aWYoXCIuXCIhPT1kZWZhdWx0cy5udW1iZXJzLmh0bWwuZGVjaW1hbE1hcmspdmFsdWU9cmVwbGFjZUFsbCh2YWx1ZSxkZWZhdWx0cy5udW1iZXJzLmh0bWwuZGVjaW1hbE1hcmssXCIuXCIpO3JldHVybiB0eXBlb2YgdmFsdWU9PT1cIm51bWJlclwifHxqUXVlcnkuaXNOdW1lcmljKHZhbHVlKSE9PWZhbHNlP3ZhbHVlOmZhbHNlfWZ1bmN0aW9uIHBhcnNlUGVyY2VudCh2YWx1ZSl7aWYodmFsdWUuaW5kZXhPZihcIiVcIik+LTEpe3ZhbHVlPXBhcnNlTnVtYmVyKHZhbHVlLnJlcGxhY2UoLyUvZyxcIlwiKSk7aWYodmFsdWUhPT1mYWxzZSl2YWx1ZT12YWx1ZS8xMDB9ZWxzZSB2YWx1ZT1mYWxzZTtyZXR1cm4gdmFsdWV9ZnVuY3Rpb24gcGFyc2VTdHJpbmcoY2VsbCxyb3dJbmRleCxjb2xJbmRleCxjZWxsSW5mbyl7bGV0IHJlc3VsdD1cIlwiO2xldCBjZWxsVHlwZT1cInRleHRcIjtpZihjZWxsIT09bnVsbCl7Y29uc3QgJGNlbGw9JChjZWxsKTtsZXQgaHRtbERhdGE7JGNlbGwucmVtb3ZlRGF0YShcInRlVXNlckRlZlRleHRcIik7aWYoJGNlbGxbMF0uaGFzQXR0cmlidXRlKFwiZGF0YS10YWJsZWV4cG9ydC1jYW52YXNcIikpe2h0bWxEYXRhPVwiXCJ9ZWxzZSBpZigkY2VsbFswXS5oYXNBdHRyaWJ1dGUoXCJkYXRhLXRhYmxlZXhwb3J0LXZhbHVlXCIpKXtodG1sRGF0YT0kY2VsbC5hdHRyKFwiZGF0YS10YWJsZWV4cG9ydC12YWx1ZVwiKTtodG1sRGF0YT1odG1sRGF0YT9odG1sRGF0YStcIlwiOlwiXCI7JGNlbGwuZGF0YShcInRlVXNlckRlZlRleHRcIiwxKX1lbHNle2h0bWxEYXRhPSRjZWxsLmh0bWwoKTtpZih0eXBlb2YgZGVmYXVsdHMub25DZWxsSHRtbERhdGE9PT1cImZ1bmN0aW9uXCIpe2h0bWxEYXRhPWRlZmF1bHRzLm9uQ2VsbEh0bWxEYXRhKCRjZWxsLHJvd0luZGV4LGNvbEluZGV4LGh0bWxEYXRhKTskY2VsbC5kYXRhKFwidGVVc2VyRGVmVGV4dFwiLDEpfWVsc2UgaWYoaHRtbERhdGEhPT1cIlwiKXtjb25zdCBodG1sPSQucGFyc2VIVE1MKFwiPGRpdj5cIitodG1sRGF0YStcIjwvZGl2PlwiLG51bGwsZmFsc2UpO2xldCBpbnB1dEluZGV4PTA7bGV0IHNlbGVjdEluZGV4PTA7aHRtbERhdGE9XCJcIjskLmVhY2goaHRtbCxmdW5jdGlvbigpe2lmKCQodGhpcykuaXMoXCJpbnB1dFwiKSl7aHRtbERhdGErPSRjZWxsLmZpbmQoXCJpbnB1dFwiKS5lcShpbnB1dEluZGV4KyspLnZhbCgpfWVsc2UgaWYoJCh0aGlzKS5pcyhcInNlbGVjdFwiKSl7aHRtbERhdGErPSRjZWxsLmZpbmQoXCJzZWxlY3Qgb3B0aW9uOnNlbGVjdGVkXCIpLmVxKHNlbGVjdEluZGV4KyspLnRleHQoKX1lbHNlIGlmKCQodGhpcykuaXMoXCJiclwiKSl7aHRtbERhdGErPVwiPGJyPlwifWVsc2V7aWYodHlwZW9mICQodGhpcykuaHRtbCgpPT09XCJ1bmRlZmluZWRcIilodG1sRGF0YSs9JCh0aGlzKS50ZXh0KCk7ZWxzZSBpZihqUXVlcnkoKS5ib290c3RyYXBUYWJsZT09PXVuZGVmaW5lZHx8JCh0aGlzKS5oYXNDbGFzcyhcImZodC1jZWxsXCIpPT09ZmFsc2UmJiQodGhpcykuaGFzQ2xhc3MoXCJmaWx0ZXJDb250cm9sXCIpPT09ZmFsc2UmJiRjZWxsLnBhcmVudHMoXCIuZGV0YWlsLXZpZXdcIikubGVuZ3RoPT09MClodG1sRGF0YSs9JCh0aGlzKS5odG1sKCk7aWYoJCh0aGlzKS5pcyhcImFcIikpe2NvbnN0IGhyZWY9JGNlbGwuZmluZChcImFcIikuYXR0cihcImhyZWZcIil8fFwiXCI7aWYodHlwZW9mIGRlZmF1bHRzLm9uQ2VsbEh0bWxIeXBlcmxpbms9PT1cImZ1bmN0aW9uXCIpe3Jlc3VsdCs9ZGVmYXVsdHMub25DZWxsSHRtbEh5cGVybGluaygkY2VsbCxyb3dJbmRleCxjb2xJbmRleCxocmVmLGh0bWxEYXRhKX1lbHNlIGlmKGRlZmF1bHRzLmh0bWxIeXBlcmxpbms9PT1cImhyZWZcIil7cmVzdWx0Kz1ocmVmfWVsc2V7cmVzdWx0Kz1odG1sRGF0YX1odG1sRGF0YT1cIlwifX19KX19aWYoaHRtbERhdGEmJmh0bWxEYXRhIT09XCJcIiYmZGVmYXVsdHMuaHRtbENvbnRlbnQ9PT10cnVlKXtyZXN1bHQ9JC50cmltKGh0bWxEYXRhKX1lbHNlIGlmKGh0bWxEYXRhJiZodG1sRGF0YSE9PVwiXCIpe2NvbnN0IGNlbGxGb3JtYXQ9JGNlbGwuYXR0cihcImRhdGEtdGFibGVleHBvcnQtY2VsbGZvcm1hdFwiKTtpZihjZWxsRm9ybWF0IT09XCJcIil7bGV0IHRleHQ9aHRtbERhdGEucmVwbGFjZSgvXFxuL2csXCJcXHUyMDI4XCIpLnJlcGxhY2UoLyg8XFxzKmJyKFtePl0qKT4pL2dpLFwi4oGgXCIpO2NvbnN0IG9iaj0kKFwiPGRpdi8+XCIpLmh0bWwodGV4dCkuY29udGVudHMoKTtsZXQgbnVtYmVyPWZhbHNlO3RleHQ9XCJcIjskLmVhY2gob2JqLnRleHQoKS5zcGxpdChcIlxcdTIwMjhcIiksZnVuY3Rpb24oaSx2KXtpZihpPjApdGV4dCs9XCIgXCI7aWYoZGVmYXVsdHMucHJlc2VydmUubGVhZGluZ1dTIT09dHJ1ZSl2PXRyaW1MZWZ0KHYpO3RleHQrPWRlZmF1bHRzLnByZXNlcnZlLnRyYWlsaW5nV1MhPT10cnVlP3RyaW1SaWdodCh2KTp2fSk7JC5lYWNoKHRleHQuc3BsaXQoXCLigaBcIiksZnVuY3Rpb24oaSx2KXtpZihpPjApcmVzdWx0Kz1cIlxcblwiO2lmKGRlZmF1bHRzLnByZXNlcnZlLmxlYWRpbmdXUyE9PXRydWUpdj10cmltTGVmdCh2KTtpZihkZWZhdWx0cy5wcmVzZXJ2ZS50cmFpbGluZ1dTIT09dHJ1ZSl2PXRyaW1SaWdodCh2KTtyZXN1bHQrPXYucmVwbGFjZSgvXFx1MDBBRC9nLFwiXCIpfSk7cmVzdWx0PXJlc3VsdC5yZXBsYWNlKC9cXHUwMEEwL2csXCIgXCIpO2lmKGRlZmF1bHRzLnR5cGU9PT1cImpzb25cInx8ZGVmYXVsdHMudHlwZT09PVwiZXhjZWxcIiYmZGVmYXVsdHMubXNvLmZpbGVGb3JtYXQ9PT1cInhtbHNzXCJ8fGRlZmF1bHRzLm51bWJlcnMub3V0cHV0PT09ZmFsc2Upe251bWJlcj1wYXJzZU51bWJlcihyZXN1bHQpO2lmKG51bWJlciE9PWZhbHNlKXtjZWxsVHlwZT1cIm51bWJlclwiO3Jlc3VsdD1OdW1iZXIobnVtYmVyKX19ZWxzZSBpZihkZWZhdWx0cy5udW1iZXJzLmh0bWwuZGVjaW1hbE1hcmshPT1kZWZhdWx0cy5udW1iZXJzLm91dHB1dC5kZWNpbWFsTWFya3x8ZGVmYXVsdHMubnVtYmVycy5odG1sLnRob3VzYW5kc1NlcGFyYXRvciE9PWRlZmF1bHRzLm51bWJlcnMub3V0cHV0LnRob3VzYW5kc1NlcGFyYXRvcil7bnVtYmVyPXBhcnNlTnVtYmVyKHJlc3VsdCk7aWYobnVtYmVyIT09ZmFsc2Upe2NvbnN0IGZyYWM9KFwiXCIrbnVtYmVyLnN1YnN0cihudW1iZXI8MD8xOjApKS5zcGxpdChcIi5cIik7aWYoZnJhYy5sZW5ndGg9PT0xKWZyYWNbMV09XCJcIjtjb25zdCBtb2Q9ZnJhY1swXS5sZW5ndGg+Mz9mcmFjWzBdLmxlbmd0aCUzOjA7Y2VsbFR5cGU9XCJudW1iZXJcIjtyZXN1bHQ9KG51bWJlcjwwP1wiLVwiOlwiXCIpKyhkZWZhdWx0cy5udW1iZXJzLm91dHB1dC50aG91c2FuZHNTZXBhcmF0b3I/KG1vZD9mcmFjWzBdLnN1YnN0cigwLG1vZCkrZGVmYXVsdHMubnVtYmVycy5vdXRwdXQudGhvdXNhbmRzU2VwYXJhdG9yOlwiXCIpK2ZyYWNbMF0uc3Vic3RyKG1vZCkucmVwbGFjZSgvKFxcZHszfSkoPz1cXGQpL2csXCIkMVwiK2RlZmF1bHRzLm51bWJlcnMub3V0cHV0LnRob3VzYW5kc1NlcGFyYXRvcik6ZnJhY1swXSkrKGZyYWNbMV0ubGVuZ3RoP2RlZmF1bHRzLm51bWJlcnMub3V0cHV0LmRlY2ltYWxNYXJrK2ZyYWNbMV06XCJcIil9fX1lbHNlIHJlc3VsdD1odG1sRGF0YX1pZihkZWZhdWx0cy5lc2NhcGU9PT10cnVlKXtyZXN1bHQ9ZXNjYXBlKHJlc3VsdCl9aWYodHlwZW9mIGRlZmF1bHRzLm9uQ2VsbERhdGE9PT1cImZ1bmN0aW9uXCIpe3Jlc3VsdD1kZWZhdWx0cy5vbkNlbGxEYXRhKCRjZWxsLHJvd0luZGV4LGNvbEluZGV4LHJlc3VsdCxjZWxsVHlwZSk7JGNlbGwuZGF0YShcInRlVXNlckRlZlRleHRcIiwxKX19aWYoY2VsbEluZm8hPT11bmRlZmluZWQpY2VsbEluZm8udHlwZT1jZWxsVHlwZTtyZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIHByZXZlbnRJbmplY3Rpb24oc3RyKXtpZihzdHIubGVuZ3RoPjAmJmRlZmF1bHRzLnByZXZlbnRJbmplY3Rpb249PT10cnVlKXtjb25zdCBjaGFycz1cIj0rLUBcIjtpZihjaGFycy5pbmRleE9mKHN0ci5jaGFyQXQoMCkpPj0wKXJldHVyblwiJ1wiK3N0cn1yZXR1cm4gc3RyfWZ1bmN0aW9uIGh5cGhlbmF0ZShhLGIsYyl7cmV0dXJuIGIrXCItXCIrYy50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIHJnYjJhcnJheShyZ2Jfc3RyaW5nLGRlZmF1bHRfcmVzdWx0KXtjb25zdCByZT0vXnJnYlxcKChcXGR7MSwzfSksXFxzKihcXGR7MSwzfSksXFxzKihcXGR7MSwzfSlcXCkkLztjb25zdCBiaXRzPXJlLmV4ZWMocmdiX3N0cmluZyk7bGV0IHJlc3VsdD1kZWZhdWx0X3Jlc3VsdDtpZihiaXRzKXJlc3VsdD1bcGFyc2VJbnQoYml0c1sxXSkscGFyc2VJbnQoYml0c1syXSkscGFyc2VJbnQoYml0c1szXSldO3JldHVybiByZXN1bHR9ZnVuY3Rpb24gZ2V0Q2VsbFN0eWxlcyhjZWxsKXtsZXQgYT1nZXRTdHlsZShjZWxsLFwidGV4dC1hbGlnblwiKTtjb25zdCBmdz1nZXRTdHlsZShjZWxsLFwiZm9udC13ZWlnaHRcIik7Y29uc3QgZnM9Z2V0U3R5bGUoY2VsbCxcImZvbnQtc3R5bGVcIik7bGV0IGY9XCJcIjtpZihhPT09XCJzdGFydFwiKWE9Z2V0U3R5bGUoY2VsbCxcImRpcmVjdGlvblwiKT09PVwicnRsXCI/XCJyaWdodFwiOlwibGVmdFwiO2lmKGZ3Pj03MDApZj1cImJvbGRcIjtpZihmcz09PVwiaXRhbGljXCIpZis9ZnM7aWYoZj09PVwiXCIpZj1cIm5vcm1hbFwiO2NvbnN0IHJlc3VsdD17c3R5bGU6e2FsaWduOmEsYmNvbG9yOnJnYjJhcnJheShnZXRTdHlsZShjZWxsLFwiYmFja2dyb3VuZC1jb2xvclwiKSxbMjU1LDI1NSwyNTVdKSxjb2xvcjpyZ2IyYXJyYXkoZ2V0U3R5bGUoY2VsbCxcImNvbG9yXCIpLFswLDAsMF0pLGZzdHlsZTpmfSxjb2xzcGFuOmdldENvbHNwYW4oY2VsbCkscm93c3BhbjpnZXRSb3dzcGFuKGNlbGwpfTtpZihjZWxsIT09bnVsbCl7Y29uc3Qgcj1jZWxsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3Jlc3VsdC5yZWN0PXt3aWR0aDpyLndpZHRoLGhlaWdodDpyLmhlaWdodH19cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiBnZXRDb2xzcGFuKGNlbGwpe2xldCByZXN1bHQ9JChjZWxsKS5hdHRyKFwiZGF0YS10YWJsZWV4cG9ydC1jb2xzcGFuXCIpO2lmKHR5cGVvZiByZXN1bHQ9PT1cInVuZGVmaW5lZFwiJiYkKGNlbGwpLmlzKFwiW2NvbHNwYW5dXCIpKXJlc3VsdD0kKGNlbGwpLmF0dHIoXCJjb2xzcGFuXCIpO3JldHVybiBwYXJzZUludChyZXN1bHQpfHwwfWZ1bmN0aW9uIGdldFJvd3NwYW4oY2VsbCl7bGV0IHJlc3VsdD0kKGNlbGwpLmF0dHIoXCJkYXRhLXRhYmxlZXhwb3J0LXJvd3NwYW5cIik7aWYodHlwZW9mIHJlc3VsdD09PVwidW5kZWZpbmVkXCImJiQoY2VsbCkuaXMoXCJbcm93c3Bhbl1cIikpcmVzdWx0PSQoY2VsbCkuYXR0cihcInJvd3NwYW5cIik7cmV0dXJuIHBhcnNlSW50KHJlc3VsdCl8fDB9ZnVuY3Rpb24gZ2V0U3R5bGUodGFyZ2V0LHByb3Ape3RyeXtpZih3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSl7cHJvcD1wcm9wLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pLyxoeXBoZW5hdGUpO3JldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQsbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShwcm9wKX1pZih0YXJnZXQuY3VycmVudFN0eWxlKXtyZXR1cm4gdGFyZ2V0LmN1cnJlbnRTdHlsZVtwcm9wXX1yZXR1cm4gdGFyZ2V0LnN0eWxlW3Byb3BdfWNhdGNoKGUpe31yZXR1cm5cIlwifWZ1bmN0aW9uIGdldFVuaXRWYWx1ZShwYXJlbnQsdmFsdWUsdW5pdCl7Y29uc3QgYmFzZWxpbmU9MTAwO2NvbnN0IHRlbXA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0ZW1wLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCI7dGVtcC5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCI7cGFyZW50LmFwcGVuZENoaWxkKHRlbXApO3RlbXAuc3R5bGUud2lkdGg9YmFzZWxpbmUrdW5pdDtjb25zdCBmYWN0b3I9YmFzZWxpbmUvdGVtcC5vZmZzZXRXaWR0aDtwYXJlbnQucmVtb3ZlQ2hpbGQodGVtcCk7cmV0dXJuIHZhbHVlKmZhY3Rvcn1mdW5jdGlvbiBnZXRQcm9wZXJ0eVVuaXRWYWx1ZSh0YXJnZXQscHJvcCx1bml0KXtjb25zdCB2YWx1ZT1nZXRTdHlsZSh0YXJnZXQscHJvcCk7bGV0IG51bWVyaWM9dmFsdWUubWF0Y2goL1xcZCsvKTtpZihudW1lcmljIT09bnVsbCl7bnVtZXJpYz1udW1lcmljWzBdO3JldHVybiBnZXRVbml0VmFsdWUodGFyZ2V0LnBhcmVudEVsZW1lbnQsbnVtZXJpYyx1bml0KX1yZXR1cm4gMH1mdW5jdGlvbiB4bHN4V29ya2Jvb2tUb0FycmF5QnVmZmVyKHMpe2NvbnN0IGJ1Zj1uZXcgQXJyYXlCdWZmZXIocy5sZW5ndGgpO2NvbnN0IHZpZXc9bmV3IFVpbnQ4QXJyYXkoYnVmKTtmb3IobGV0IGk9MDtpIT09cy5sZW5ndGg7KytpKXZpZXdbaV09cy5jaGFyQ29kZUF0KGkpJjI1NTtyZXR1cm4gYnVmfWZ1bmN0aW9uIHhsc3hUYWJsZVRvU2hlZXQodGFibGUpe2xldCBzc2ZJZDtjb25zdCB3cz17fTtjb25zdCByb3dzPXRhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidHJcIik7Y29uc3Qgc2hlZXRSb3dzPU1hdGgubWluKDFlNyxyb3dzLmxlbmd0aCk7Y29uc3QgcmFuZ2U9e3M6e3I6MCxjOjB9LGU6e3I6MCxjOjB9fTtsZXQgbWVyZ2VzPVtdLG1pZHg9MDtsZXQgX1I9MCxSPTAsX0M9MCxDPTAsUlM9MCxDUz0wO2xldCBlbHQ7Y29uc3Qgc3NmVGFibGU9WExTWC5TU0YuZ2V0X3RhYmxlKCk7Zm9yKDtfUjxyb3dzLmxlbmd0aCYmUjxzaGVldFJvd3M7KytfUil7Y29uc3Qgcm93PXJvd3NbX1JdO2xldCBpZ25vcmVSb3c9ZmFsc2U7aWYodHlwZW9mIGRlZmF1bHRzLm9uSWdub3JlUm93PT09XCJmdW5jdGlvblwiKWlnbm9yZVJvdz1kZWZhdWx0cy5vbklnbm9yZVJvdygkKHJvdyksX1IpO2lmKGlnbm9yZVJvdz09PXRydWV8fGRlZmF1bHRzLmlnbm9yZVJvdy5sZW5ndGghPT0wJiYoJC5pbkFycmF5KF9SLGRlZmF1bHRzLmlnbm9yZVJvdykhPT0tMXx8JC5pbkFycmF5KF9SLXJvd3MubGVuZ3RoLGRlZmF1bHRzLmlnbm9yZVJvdykhPT0tMSl8fGlzVmlzaWJsZSgkKHJvdykpPT09ZmFsc2Upe2NvbnRpbnVlfWNvbnN0IGVsdHM9cm93LmNoaWxkcmVuO2xldCBfQ0xlbmd0aD0wO2ZvcihfQz0wO19DPGVsdHMubGVuZ3RoOysrX0Mpe2VsdD1lbHRzW19DXTtDUz0rZ2V0Q29sc3BhbihlbHQpfHwxO19DTGVuZ3RoKz1DU31sZXQgQ1NPZmZzZXQ9MDtmb3IoX0M9Qz0wO19DPGVsdHMubGVuZ3RoOysrX0Mpe2VsdD1lbHRzW19DXTtDUz0rZ2V0Q29sc3BhbihlbHQpfHwxO2NvbnN0IGNvbD1fQytDU09mZnNldDtpZihpc0NvbHVtbklnbm9yZWQoJChlbHQpLF9DTGVuZ3RoLGNvbCsoY29sPEM/Qy1jb2w6MCkpKWNvbnRpbnVlO0NTT2Zmc2V0Kz1DUy0xO2ZvcihtaWR4PTA7bWlkeDxtZXJnZXMubGVuZ3RoOysrbWlkeCl7Y29uc3QgbT1tZXJnZXNbbWlkeF07aWYobS5zLmM9PUMmJm0ucy5yPD1SJiZSPD1tLmUucil7Qz1tLmUuYysxO21pZHg9LTF9fWlmKChSUz0rZ2V0Um93c3BhbihlbHQpKT4wfHxDUz4xKW1lcmdlcy5wdXNoKHtzOntyOlIsYzpDfSxlOntyOlIrKFJTfHwxKS0xLGM6QytDUy0xfX0pO2NvbnN0IGNlbGxJbmZvPXt0eXBlOlwiXCJ9O2xldCB2PXBhcnNlU3RyaW5nKGVsdCxfUixfQytDU09mZnNldCxjZWxsSW5mbyk7bGV0IG89e3Q6XCJzXCIsdjp2fTtsZXQgX3Q9XCJcIjtjb25zdCBjZWxsRm9ybWF0PSQoZWx0KS5hdHRyKFwiZGF0YS10YWJsZWV4cG9ydC1jZWxsZm9ybWF0XCIpfHx1bmRlZmluZWQ7aWYoY2VsbEZvcm1hdCE9PVwiXCIpe3NzZklkPXBhcnNlSW50KCQoZWx0KS5hdHRyKFwiZGF0YS10YWJsZWV4cG9ydC14bHN4Zm9ybWF0aWRcIil8fDApO2lmKHNzZklkPT09MCYmdHlwZW9mIGRlZmF1bHRzLm1zby54bHN4LmZvcm1hdElkLm51bWJlcnM9PT1cImZ1bmN0aW9uXCIpc3NmSWQ9ZGVmYXVsdHMubXNvLnhsc3guZm9ybWF0SWQubnVtYmVycygkKGVsdCksX1IsX0MrQ1NPZmZzZXQpO2lmKHNzZklkPT09MCYmdHlwZW9mIGRlZmF1bHRzLm1zby54bHN4LmZvcm1hdElkLmRhdGU9PT1cImZ1bmN0aW9uXCIpc3NmSWQ9ZGVmYXVsdHMubXNvLnhsc3guZm9ybWF0SWQuZGF0ZSgkKGVsdCksX1IsX0MrQ1NPZmZzZXQpO2lmKHNzZklkPT09NDl8fHNzZklkPT09XCJAXCIpX3Q9XCJzXCI7ZWxzZSBpZihjZWxsSW5mby50eXBlPT09XCJudW1iZXJcInx8c3NmSWQ+MCYmc3NmSWQ8MTR8fHNzZklkPjM2JiZzc2ZJZDw0MXx8c3NmSWQ9PT00OClfdD1cIm5cIjtlbHNlIGlmKGNlbGxJbmZvLnR5cGU9PT1cImRhdGVcInx8c3NmSWQ+MTMmJnNzZklkPDM3fHxzc2ZJZD40NCYmc3NmSWQ8NDh8fHNzZklkPT09NTYpX3Q9XCJkXCJ9ZWxzZSBfdD1cInNcIjtpZih2IT1udWxsKXtsZXQgdmQ7aWYodi5sZW5ndGg9PT0wKXtvLnQ9XCJ6XCJ9ZWxzZSBpZih2LnRyaW0oKS5sZW5ndGg9PT0wKXt9ZWxzZSBpZihfdD09PVwic1wiKXt9ZWxzZSBpZihjZWxsSW5mby50eXBlPT09XCJmdW5jdGlvblwiKXtvPXtmOnZ9fWVsc2UgaWYodj09PVwiVFJVRVwiKXtvPXt0OlwiYlwiLHY6dHJ1ZX19ZWxzZSBpZih2PT09XCJGQUxTRVwiKXtvPXt0OlwiYlwiLHY6ZmFsc2V9fWVsc2UgaWYoX3Q9PT1cIm5cInx8aXNGaW5pdGUoeGxzeFRvTnVtYmVyKHYsZGVmYXVsdHMubnVtYmVycy5vdXRwdXQpKSl7Y29uc3Qgdm49eGxzeFRvTnVtYmVyKHYsZGVmYXVsdHMubnVtYmVycy5vdXRwdXQpO2lmKHNzZklkPT09MCYmdHlwZW9mIGRlZmF1bHRzLm1zby54bHN4LmZvcm1hdElkLm51bWJlcnMhPT1cImZ1bmN0aW9uXCIpe3NzZklkPWRlZmF1bHRzLm1zby54bHN4LmZvcm1hdElkLm51bWJlcnN9aWYoaXNGaW5pdGUodm4pfHxpc0Zpbml0ZSh2KSlvPXt0OlwiblwiLHY6aXNGaW5pdGUodm4pP3ZuOnYsejp0eXBlb2Ygc3NmSWQ9PT1cInN0cmluZ1wiP3NzZklkOnNzZklkIGluIHNzZlRhYmxlP3NzZlRhYmxlW3NzZklkXTpzc2ZJZD09PWRlZmF1bHRzLm1zby54bHN4LmZvcm1hdElkLmN1cnJlbmN5P2RlZmF1bHRzLm1zby54bHN4LmZvcm1hdC5jdXJyZW5jeTpcIjAuMDBcIn19ZWxzZSBpZigodmQ9cGFyc2VEYXRlVVRDKHYpKSE9PWZhbHNlfHxfdD09PVwiZFwiKXtpZihzc2ZJZD09PTAmJnR5cGVvZiBkZWZhdWx0cy5tc28ueGxzeC5mb3JtYXRJZC5kYXRlIT09XCJmdW5jdGlvblwiKXtzc2ZJZD1kZWZhdWx0cy5tc28ueGxzeC5mb3JtYXRJZC5kYXRlfW89e3Q6XCJkXCIsdjp2ZCE9PWZhbHNlP3ZkOnYsejp0eXBlb2Ygc3NmSWQ9PT1cInN0cmluZ1wiP3NzZklkOnNzZklkIGluIHNzZlRhYmxlP3NzZlRhYmxlW3NzZklkXTpcIm0vZC95eVwifX1jb25zdCAkYVRhZz0kKGVsdCkuZmluZChcImFcIik7aWYoJGFUYWcmJiRhVGFnLmxlbmd0aCl7Y29uc3QgaHJlZj0kYVRhZ1swXS5oYXNBdHRyaWJ1dGUoXCJocmVmXCIpPyRhVGFnLmF0dHIoXCJocmVmXCIpOlwiXCI7Y29uc3QgY29udGVudD1kZWZhdWx0cy5odG1sSHlwZXJsaW5rIT09XCJocmVmXCJ8fGhyZWY9PT1cIlwiP3Y6XCJcIjtjb25zdCBoeXBlcmxpbms9aHJlZiE9PVwiXCI/Jz1IWVBFUkxJTksoXCInK2hyZWYrKGNvbnRlbnQubGVuZ3RoPydcIixcIicrY29udGVudDpcIlwiKSsnXCIpJzpcIlwiO2lmKGh5cGVybGluayE9PVwiXCIpe2lmKHR5cGVvZiBkZWZhdWx0cy5tc28ueGxzeC5vbkh5cGVybGluaz09PVwiZnVuY3Rpb25cIil7dj1kZWZhdWx0cy5tc28ueGxzeC5vbkh5cGVybGluaygkKGVsdCksX1IsX0MsaHJlZixjb250ZW50LGh5cGVybGluayk7aWYodi5pbmRleE9mKFwiPUhZUEVSTElOS1wiKSE9PTApe289e3Q6XCJzXCIsdjp2fX1lbHNle289e2Y6dn19fWVsc2V7bz17ZjpoeXBlcmxpbmt9fX19fXdzW3hsc3hFbmNvZGVDZWxsKHtjOkMscjpSfSldPW87aWYocmFuZ2UuZS5jPEMpe3JhbmdlLmUuYz1DfUMrPUNTfSsrUn1pZihtZXJnZXMubGVuZ3RoKXt3c1tcIiFtZXJnZXNcIl09KHdzW1wiIW1lcmdlc1wiXXx8W10pLmNvbmNhdChtZXJnZXMpfXJhbmdlLmUucj1NYXRoLm1heChyYW5nZS5lLnIsUi0xKTt3c1tcIiFyZWZcIl09eGxzeEVuY29kZVJhbmdlKHJhbmdlKTtpZihSPj1zaGVldFJvd3Mpe3dzW1wiIWZ1bGxyZWZcIl09eGxzeEVuY29kZVJhbmdlKChyYW5nZS5lLnI9cm93cy5sZW5ndGgtX1IrUi0xLHJhbmdlKSl9cmV0dXJuIHdzfWZ1bmN0aW9uIHhsc3hFbmNvZGVSb3cocm93KXtyZXR1cm5cIlwiKyhyb3crMSl9ZnVuY3Rpb24geGxzeEVuY29kZUNvbChjb2wpe2xldCBzPVwiXCI7Zm9yKCsrY29sO2NvbDtjb2w9TWF0aC5mbG9vcigoY29sLTEpLzI2KSl7cz1TdHJpbmcuZnJvbUNoYXJDb2RlKChjb2wtMSklMjYrNjUpK3N9cmV0dXJuIHN9ZnVuY3Rpb24geGxzeEVuY29kZUNlbGwoY2VsbCl7cmV0dXJuIHhsc3hFbmNvZGVDb2woY2VsbC5jKSt4bHN4RW5jb2RlUm93KGNlbGwucil9ZnVuY3Rpb24geGxzeEVuY29kZVJhbmdlKGNzLGNlKXtpZih0eXBlb2YgY2U9PT1cInVuZGVmaW5lZFwifHx0eXBlb2YgY2U9PT1cIm51bWJlclwiKXtyZXR1cm4geGxzeEVuY29kZVJhbmdlKGNzLnMsY3MuZSl9aWYodHlwZW9mIGNzIT09XCJzdHJpbmdcIil7Y3M9eGxzeEVuY29kZUNlbGwoY3MpfWlmKHR5cGVvZiBjZSE9PVwic3RyaW5nXCIpe2NlPXhsc3hFbmNvZGVDZWxsKGNlKX1yZXR1cm4gY3M9PT1jZT9jczpjcytcIjpcIitjZX1mdW5jdGlvbiB4bHN4VG9OdW1iZXIocyxudW1iZXJzRm9ybWF0KXtsZXQgdj1OdW1iZXIocyk7aWYoaXNGaW5pdGUodikpcmV0dXJuIHY7bGV0IHd0PTE7bGV0IHNzPXM7aWYoXCJcIiE9PW51bWJlcnNGb3JtYXQudGhvdXNhbmRzU2VwYXJhdG9yKXNzPXNzLnJlcGxhY2UobmV3IFJlZ0V4cChcIihbXFxcXGRdKVwiK251bWJlcnNGb3JtYXQudGhvdXNhbmRzU2VwYXJhdG9yK1wiKFtcXFxcZF0pXCIsXCJnXCIpLFwiJDEkMlwiKTtpZihcIi5cIiE9PW51bWJlcnNGb3JtYXQuZGVjaW1hbE1hcmspc3M9c3MucmVwbGFjZShuZXcgUmVnRXhwKFwiKFtcXFxcZF0pXCIrbnVtYmVyc0Zvcm1hdC5kZWNpbWFsTWFyaytcIihbXFxcXGRdKVwiLFwiZ1wiKSxcIiQxLiQyXCIpO3NzPXNzLnJlcGxhY2UoL1skXS9nLFwiXCIpLnJlcGxhY2UoL1slXS9nLGZ1bmN0aW9uKCl7d3QqPTEwMDtyZXR1cm5cIlwifSk7aWYoaXNGaW5pdGUodj1OdW1iZXIoc3MpKSlyZXR1cm4gdi93dDtzcz1zcy5yZXBsYWNlKC9bKF0oLiopWyldLyxmdW5jdGlvbigkJCwkMSl7d3Q9LXd0O3JldHVybiAkMX0pO2lmKGlzRmluaXRlKHY9TnVtYmVyKHNzKSkpcmV0dXJuIHYvd3Q7cmV0dXJuIHZ9ZnVuY3Rpb24gc3RySGFzaENvZGUoc3RyKXtsZXQgaGFzaD0wLGksY2hyLGxlbjtpZihzdHIubGVuZ3RoPT09MClyZXR1cm4gaGFzaDtmb3IoaT0wLGxlbj1zdHIubGVuZ3RoO2k8bGVuO2krKyl7Y2hyPXN0ci5jaGFyQ29kZUF0KGkpO2hhc2g9KGhhc2g8PDUpLWhhc2grY2hyO2hhc2h8PTB9cmV0dXJuIGhhc2h9ZnVuY3Rpb24gc2F2ZVRvRmlsZShkYXRhLGZpbGVOYW1lLHR5cGUsY2hhcnNldCxlbmNvZGluZyxib20pe2xldCBzYXZlSXQ9dHJ1ZTtpZih0eXBlb2YgZGVmYXVsdHMub25CZWZvcmVTYXZlVG9GaWxlPT09XCJmdW5jdGlvblwiKXtzYXZlSXQ9ZGVmYXVsdHMub25CZWZvcmVTYXZlVG9GaWxlKGRhdGEsZmlsZU5hbWUsdHlwZSxjaGFyc2V0LGVuY29kaW5nKTtpZih0eXBlb2Ygc2F2ZUl0IT09XCJib29sZWFuXCIpc2F2ZUl0PXRydWV9aWYoc2F2ZUl0KXt0cnl7YmxvYj1uZXcgQmxvYihbZGF0YV0se3R5cGU6dHlwZStcIjtjaGFyc2V0PVwiK2NoYXJzZXR9KTtzYXZlQXMoYmxvYixmaWxlTmFtZSxib209PT1mYWxzZSk7aWYodHlwZW9mIGRlZmF1bHRzLm9uQWZ0ZXJTYXZlVG9GaWxlPT09XCJmdW5jdGlvblwiKWRlZmF1bHRzLm9uQWZ0ZXJTYXZlVG9GaWxlKGRhdGEsZmlsZU5hbWUpfWNhdGNoKGUpe2Rvd25sb2FkRmlsZShmaWxlTmFtZSxcImRhdGE6XCIrdHlwZSsoY2hhcnNldC5sZW5ndGg/XCI7Y2hhcnNldD1cIitjaGFyc2V0OlwiXCIpKyhlbmNvZGluZy5sZW5ndGg/XCI7XCIrZW5jb2Rpbmc6XCJcIikrXCIsXCIsYm9tP1wiXFx1ZmVmZlwiK2RhdGE6ZGF0YSl9fX1mdW5jdGlvbiBkb3dubG9hZEZpbGUoZmlsZW5hbWUsaGVhZGVyLGRhdGEpe2NvbnN0IHVhPXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O2lmKGZpbGVuYW1lIT09ZmFsc2UmJndpbmRvdy5uYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYil7d2luZG93Lm5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKG5ldyBCbG9iKFtkYXRhXSksZmlsZW5hbWUpfWVsc2UgaWYoZmlsZW5hbWUhPT1mYWxzZSYmKHVhLmluZGV4T2YoXCJNU0lFIFwiKT4wfHwhIXVhLm1hdGNoKC9UcmlkZW50LipydlxcOjExXFwuLykpKXtjb25zdCBmcmFtZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO2lmKGZyYW1lKXtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZyYW1lKTtmcmFtZS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwiZGlzcGxheTpub25lXCIpO2ZyYW1lLmNvbnRlbnREb2N1bWVudC5vcGVuKFwidHh0L3BsYWluXCIsXCJyZXBsYWNlXCIpO2ZyYW1lLmNvbnRlbnREb2N1bWVudC53cml0ZShkYXRhKTtmcmFtZS5jb250ZW50RG9jdW1lbnQuY2xvc2UoKTtmcmFtZS5jb250ZW50V2luZG93LmZvY3VzKCk7Y29uc3QgZXh0ZW5zaW9uPWZpbGVuYW1lLnN1YnN0cihmaWxlbmFtZS5sYXN0SW5kZXhPZihcIi5cIikrMSk7c3dpdGNoKGV4dGVuc2lvbil7Y2FzZVwiZG9jXCI6Y2FzZVwianNvblwiOmNhc2VcInBuZ1wiOmNhc2VcInBkZlwiOmNhc2VcInhsc1wiOmNhc2VcInhsc3hcIjpmaWxlbmFtZSs9XCIudHh0XCI7YnJlYWt9ZnJhbWUuY29udGVudERvY3VtZW50LmV4ZWNDb21tYW5kKFwiU2F2ZUFzXCIsdHJ1ZSxmaWxlbmFtZSk7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChmcmFtZSl9fWVsc2V7Y29uc3QgRG93bmxvYWRMaW5rPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO2lmKERvd25sb2FkTGluayl7bGV0IGJsb2JVcmw9bnVsbDtEb3dubG9hZExpbmsuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtpZihmaWxlbmFtZSE9PWZhbHNlKURvd25sb2FkTGluay5kb3dubG9hZD1maWxlbmFtZTtlbHNlIERvd25sb2FkTGluay50YXJnZXQ9XCJfYmxhbmtcIjtpZih0eXBlb2YgZGF0YT09PVwib2JqZWN0XCIpe3dpbmRvdy5VUkw9d2luZG93LlVSTHx8d2luZG93LndlYmtpdFVSTDtjb25zdCBiaW5hcnlEYXRhPVtdO2JpbmFyeURhdGEucHVzaChkYXRhKTtibG9iVXJsPXdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKGJpbmFyeURhdGEse3R5cGU6aGVhZGVyfSkpO0Rvd25sb2FkTGluay5ocmVmPWJsb2JVcmx9ZWxzZSBpZihoZWFkZXIudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiYmFzZTY0LFwiKT49MCl7RG93bmxvYWRMaW5rLmhyZWY9aGVhZGVyK2Jhc2U2NGVuY29kZShkYXRhKX1lbHNle0Rvd25sb2FkTGluay5ocmVmPWhlYWRlcitlbmNvZGVVUklDb21wb25lbnQoZGF0YSl9ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChEb3dubG9hZExpbmspO2lmKGRvY3VtZW50LmNyZWF0ZUV2ZW50KXtpZihEb3dubG9hZEV2dD09PW51bGwpRG93bmxvYWRFdnQ9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJNb3VzZUV2ZW50c1wiKTtEb3dubG9hZEV2dC5pbml0RXZlbnQoXCJjbGlja1wiLHRydWUsZmFsc2UpO0Rvd25sb2FkTGluay5kaXNwYXRjaEV2ZW50KERvd25sb2FkRXZ0KX1lbHNlIGlmKGRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KURvd25sb2FkTGluay5maXJlRXZlbnQoXCJvbmNsaWNrXCIpO2Vsc2UgaWYodHlwZW9mIERvd25sb2FkTGluay5vbmNsaWNrPT09XCJmdW5jdGlvblwiKURvd25sb2FkTGluay5vbmNsaWNrKCk7c2V0VGltZW91dChmdW5jdGlvbigpe2lmKGJsb2JVcmwpd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwoYmxvYlVybCk7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChEb3dubG9hZExpbmspO2lmKHR5cGVvZiBkZWZhdWx0cy5vbkFmdGVyU2F2ZVRvRmlsZT09PVwiZnVuY3Rpb25cIilkZWZhdWx0cy5vbkFmdGVyU2F2ZVRvRmlsZShkYXRhLGZpbGVuYW1lKX0sMTAwKX19fWZ1bmN0aW9uIHV0ZjhFbmNvZGUodGV4dCl7aWYodHlwZW9mIHRleHQ9PT1cInN0cmluZ1wiKXt0ZXh0PXRleHQucmVwbGFjZSgvXFx4MGRcXHgwYS9nLFwiXFxuXCIpO2xldCB1dGZUZXh0PVwiXCI7Zm9yKGxldCBuPTA7bjx0ZXh0Lmxlbmd0aDtuKyspe2NvbnN0IGM9dGV4dC5jaGFyQ29kZUF0KG4pO2lmKGM8MTI4KXt1dGZUZXh0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGMpfWVsc2UgaWYoYz4xMjcmJmM8MjA0OCl7dXRmVGV4dCs9U3RyaW5nLmZyb21DaGFyQ29kZShjPj42fDE5Mik7dXRmVGV4dCs9U3RyaW5nLmZyb21DaGFyQ29kZShjJjYzfDEyOCl9ZWxzZXt1dGZUZXh0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGM+PjEyfDIyNCk7dXRmVGV4dCs9U3RyaW5nLmZyb21DaGFyQ29kZShjPj42JjYzfDEyOCk7dXRmVGV4dCs9U3RyaW5nLmZyb21DaGFyQ29kZShjJjYzfDEyOCl9fXJldHVybiB1dGZUZXh0fXJldHVybiB0ZXh0fWZ1bmN0aW9uIGJhc2U2NGVuY29kZShpbnB1dCl7bGV0IGNocjEsY2hyMixjaHIzLGVuYzEsZW5jMixlbmMzLGVuYzQ7Y29uc3Qga2V5U3RyPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIjtsZXQgb3V0cHV0PVwiXCI7bGV0IGk9MDtpbnB1dD11dGY4RW5jb2RlKGlucHV0KTt3aGlsZShpPGlucHV0Lmxlbmd0aCl7Y2hyMT1pbnB1dC5jaGFyQ29kZUF0KGkrKyk7Y2hyMj1pbnB1dC5jaGFyQ29kZUF0KGkrKyk7Y2hyMz1pbnB1dC5jaGFyQ29kZUF0KGkrKyk7ZW5jMT1jaHIxPj4yO2VuYzI9KGNocjEmMyk8PDR8Y2hyMj4+NDtlbmMzPShjaHIyJjE1KTw8MnxjaHIzPj42O2VuYzQ9Y2hyMyY2MztpZihpc05hTihjaHIyKSl7ZW5jMz1lbmM0PTY0fWVsc2UgaWYoaXNOYU4oY2hyMykpe2VuYzQ9NjR9b3V0cHV0PW91dHB1dCtrZXlTdHIuY2hhckF0KGVuYzEpK2tleVN0ci5jaGFyQXQoZW5jMikra2V5U3RyLmNoYXJBdChlbmMzKStrZXlTdHIuY2hhckF0KGVuYzQpfXJldHVybiBvdXRwdXR9dmFyIGpzUGRmRG9jLGpzUGRmQ3Vyc29yLGpzUGRmU2V0dGluZ3MsanNQZGZQYWdlQ291bnQsanNQZGZUYWJsZTtmdW5jdGlvbiBqc1BkZkF1dG9UYWJsZShkb2MsaGVhZGVycyxkYXRhLG9wdGlvbnMpe2pzUGRmVmFsaWRhdGVJbnB1dChoZWFkZXJzLGRhdGEsb3B0aW9ucyk7anNQZGZEb2M9ZG9jO2pzUGRmU2V0dGluZ3M9anNQZGZJbml0T3B0aW9ucyhvcHRpb25zfHx7fSk7anNQZGZQYWdlQ291bnQ9MTtqc1BkZkN1cnNvcj17eTpqc1BkZlNldHRpbmdzLnN0YXJ0WT09PWZhbHNlP2pzUGRmU2V0dGluZ3MubWFyZ2luLnRvcDpqc1BkZlNldHRpbmdzLnN0YXJ0WX07Y29uc3QgdXNlclN0eWxlcz17dGV4dENvbG9yOjMwLGZvbnRTaXplOmpzUGRmRG9jLmludGVybmFsLmdldEZvbnRTaXplKCksZm9udFN0eWxlOmpzUGRmRG9jLmludGVybmFsLmdldEZvbnQoKS5mb250U3R5bGV9O2pzUGRmQ3JlYXRlTW9kZWxzKGhlYWRlcnMsZGF0YSk7anNQZGZDYWxjdWxhdGVXaWR0aHMoKTtjb25zdCBmaXJzdFJvd0hlaWdodD1qc1BkZlRhYmxlLnJvd3NbMF0mJmpzUGRmU2V0dGluZ3MucGFnZUJyZWFrPT09XCJhdXRvXCI/anNQZGZUYWJsZS5yb3dzWzBdLmhlaWdodDowO2xldCBtaW5UYWJsZUJvdHRvbVBvcz1qc1BkZlNldHRpbmdzLnN0YXJ0WStqc1BkZlNldHRpbmdzLm1hcmdpbi5ib3R0b20ranNQZGZUYWJsZS5oZWFkZXJSb3cuaGVpZ2h0K2ZpcnN0Um93SGVpZ2h0O2lmKGpzUGRmU2V0dGluZ3MucGFnZUJyZWFrPT09XCJhdm9pZFwiKXttaW5UYWJsZUJvdHRvbVBvcys9anNQZGZUYWJsZS5oZWlnaHR9aWYoanNQZGZTZXR0aW5ncy5wYWdlQnJlYWs9PT1cImFsd2F5c1wiJiZqc1BkZlNldHRpbmdzLnN0YXJ0WSE9PWZhbHNlfHxqc1BkZlNldHRpbmdzLnN0YXJ0WSE9PWZhbHNlJiZtaW5UYWJsZUJvdHRvbVBvcz5qc1BkZkRvYy5pbnRlcm5hbC5wYWdlU2l6ZS5oZWlnaHQpe2pzUGRmRG9jLmFkZFBhZ2UoKTtqc1BkZkN1cnNvci55PWpzUGRmU2V0dGluZ3MubWFyZ2luLnRvcH1qc1BkZkFwcGx5U3R5bGVzKHVzZXJTdHlsZXMpO2pzUGRmU2V0dGluZ3MuYmVmb3JlUGFnZUNvbnRlbnQoanNQZGZIb29rc0RhdGEoKSk7aWYoanNQZGZTZXR0aW5ncy5kcmF3SGVhZGVyUm93KGpzUGRmVGFibGUuaGVhZGVyUm93LGpzUGRmSG9va3NEYXRhKHtyb3c6anNQZGZUYWJsZS5oZWFkZXJSb3d9KSkhPT1mYWxzZSl7anNQZGZQcmludFJvdyhqc1BkZlRhYmxlLmhlYWRlclJvdyxqc1BkZlNldHRpbmdzLmRyYXdIZWFkZXJDZWxsKX1qc1BkZkFwcGx5U3R5bGVzKHVzZXJTdHlsZXMpO2pzUGRmUHJpbnRSb3dzKCk7anNQZGZTZXR0aW5ncy5hZnRlclBhZ2VDb250ZW50KGpzUGRmSG9va3NEYXRhKCkpO2pzUGRmQXBwbHlTdHlsZXModXNlclN0eWxlcyk7cmV0dXJuIGpzUGRmRG9jfWZ1bmN0aW9uIGpzUGRmQXV0b1RhYmxlRW5kUG9zWSgpe2lmKHR5cGVvZiBqc1BkZkN1cnNvcj09PVwidW5kZWZpbmVkXCJ8fHR5cGVvZiBqc1BkZkN1cnNvci55PT09XCJ1bmRlZmluZWRcIil7cmV0dXJuIDB9cmV0dXJuIGpzUGRmQ3Vyc29yLnl9ZnVuY3Rpb24ganNQZGZBdXRvVGFibGVUZXh0KHRleHQseCx5LHN0eWxlcyl7aWYodHlwZW9mIHghPT1cIm51bWJlclwifHx0eXBlb2YgeSE9PVwibnVtYmVyXCIpe2NvbnNvbGUuZXJyb3IoXCJUaGUgeCBhbmQgeSBwYXJhbWV0ZXJzIGFyZSByZXF1aXJlZC4gTWlzc2luZyBmb3IgdGhlIHRleHQ6IFwiLHRleHQpfWNvbnN0IGZvbnRTaXplPWpzUGRmRG9jLmludGVybmFsLmdldEZvbnRTaXplKCkvanNQZGZEb2MuaW50ZXJuYWwuc2NhbGVGYWN0b3I7Y29uc3QgbGluZUhlaWdodFByb3BvcnRpb249Rk9OVF9ST1dfUkFUSU87Y29uc3Qgc3BsaXRSZWdleD0vXFxyXFxufFxccnxcXG4vZztsZXQgc3BsaXR0ZWRUZXh0PW51bGw7bGV0IGxpbmVDb3VudD0xO2lmKHN0eWxlcy52YWxpZ249PT1cIm1pZGRsZVwifHxzdHlsZXMudmFsaWduPT09XCJib3R0b21cInx8c3R5bGVzLmhhbGlnbj09PVwiY2VudGVyXCJ8fHN0eWxlcy5oYWxpZ249PT1cInJpZ2h0XCIpe3NwbGl0dGVkVGV4dD10eXBlb2YgdGV4dD09PVwic3RyaW5nXCI/dGV4dC5zcGxpdChzcGxpdFJlZ2V4KTp0ZXh0O2xpbmVDb3VudD1zcGxpdHRlZFRleHQubGVuZ3RofHwxfXkrPWZvbnRTaXplKigyLWxpbmVIZWlnaHRQcm9wb3J0aW9uKTtpZihzdHlsZXMudmFsaWduPT09XCJtaWRkbGVcIil5LT1saW5lQ291bnQvMipmb250U2l6ZTtlbHNlIGlmKHN0eWxlcy52YWxpZ249PT1cImJvdHRvbVwiKXktPWxpbmVDb3VudCpmb250U2l6ZTtpZihzdHlsZXMuaGFsaWduPT09XCJjZW50ZXJcInx8c3R5bGVzLmhhbGlnbj09PVwicmlnaHRcIil7bGV0IGFsaWduU2l6ZT1mb250U2l6ZTtpZihzdHlsZXMuaGFsaWduPT09XCJjZW50ZXJcIilhbGlnblNpemUqPS41O2lmKHNwbGl0dGVkVGV4dCYmbGluZUNvdW50Pj0xKXtmb3IobGV0IGlMaW5lPTA7aUxpbmU8c3BsaXR0ZWRUZXh0Lmxlbmd0aDtpTGluZSsrKXtqc1BkZkRvYy50ZXh0KHNwbGl0dGVkVGV4dFtpTGluZV0seC1qc1BkZkRvYy5nZXRTdHJpbmdVbml0V2lkdGgoc3BsaXR0ZWRUZXh0W2lMaW5lXSkqYWxpZ25TaXplLHkpO3krPWZvbnRTaXplfXJldHVybiBqc1BkZkRvY314LT1qc1BkZkRvYy5nZXRTdHJpbmdVbml0V2lkdGgodGV4dCkqYWxpZ25TaXplfWpzUGRmRG9jLnRleHQodGV4dCx4LHkpO3JldHVybiBqc1BkZkRvY31mdW5jdGlvbiBqc1BkZlZhbGlkYXRlSW5wdXQoaGVhZGVycyxkYXRhLG9wdGlvbnMpe2lmKCFoZWFkZXJzfHx0eXBlb2YgaGVhZGVycyE9PVwib2JqZWN0XCIpe2NvbnNvbGUuZXJyb3IoXCJUaGUgaGVhZGVycyBzaG91bGQgYmUgYW4gb2JqZWN0IG9yIGFycmF5LCBpczogXCIrdHlwZW9mIGhlYWRlcnMpfWlmKCFkYXRhfHx0eXBlb2YgZGF0YSE9PVwib2JqZWN0XCIpe2NvbnNvbGUuZXJyb3IoXCJUaGUgZGF0YSBzaG91bGQgYmUgYW4gb2JqZWN0IG9yIGFycmF5LCBpczogXCIrdHlwZW9mIGRhdGEpfWlmKCEhb3B0aW9ucyYmdHlwZW9mIG9wdGlvbnMhPT1cIm9iamVjdFwiKXtjb25zb2xlLmVycm9yKFwiVGhlIGRhdGEgc2hvdWxkIGJlIGFuIG9iamVjdCBvciBhcnJheSwgaXM6IFwiK3R5cGVvZiBkYXRhKX1pZighQXJyYXkucHJvdG90eXBlLmZvckVhY2gpe2NvbnNvbGUuZXJyb3IoXCJUaGUgY3VycmVudCBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgQXJyYXkucHJvdG90eXBlLmZvckVhY2ggd2hpY2ggaXMgcmVxdWlyZWQgZm9yIGpzUERGLUF1dG9UYWJsZVwiKX19ZnVuY3Rpb24ganNQZGZJbml0T3B0aW9ucyh1c2VyT3B0aW9ucyl7Y29uc3Qgc2V0dGluZ3M9anNQZGZFeHRlbmQoanNQZGZEZWZhdWx0T3B0aW9ucygpLHVzZXJPcHRpb25zKTtpZih0eXBlb2Ygc2V0dGluZ3MuZXh0ZW5kV2lkdGghPT1cInVuZGVmaW5lZFwiKXtzZXR0aW5ncy50YWJsZVdpZHRoPXNldHRpbmdzLmV4dGVuZFdpZHRoP1wiYXV0b1wiOlwid3JhcFwiO2NvbnNvbGUuZXJyb3IoXCJVc2Ugb2YgZGVwcmVjYXRlZCBvcHRpb246IGV4dGVuZFdpZHRoLCB1c2UgdGFibGVXaWR0aCBpbnN0ZWFkLlwiKX1pZih0eXBlb2Ygc2V0dGluZ3MubWFyZ2lucyE9PVwidW5kZWZpbmVkXCIpe2lmKHR5cGVvZiBzZXR0aW5ncy5tYXJnaW49PT1cInVuZGVmaW5lZFwiKXNldHRpbmdzLm1hcmdpbj1zZXR0aW5ncy5tYXJnaW5zO2NvbnNvbGUuZXJyb3IoXCJVc2Ugb2YgZGVwcmVjYXRlZCBvcHRpb246IG1hcmdpbnMsIHVzZSBtYXJnaW4gaW5zdGVhZC5cIil9W1tcInBhZGRpbmdcIixcImNlbGxQYWRkaW5nXCJdLFtcImxpbmVIZWlnaHRcIixcInJvd0hlaWdodFwiXSxcImZvbnRTaXplXCIsXCJvdmVyZmxvd1wiXS5mb3JFYWNoKGZ1bmN0aW9uKG8pe2NvbnN0IGRlcHJlY2F0ZWRPcHRpb249dHlwZW9mIG89PT1cInN0cmluZ1wiP286b1swXTtjb25zdCBzdHlsZT10eXBlb2Ygbz09PVwic3RyaW5nXCI/bzpvWzFdO2lmKHR5cGVvZiBzZXR0aW5nc1tkZXByZWNhdGVkT3B0aW9uXSE9PVwidW5kZWZpbmVkXCIpe2lmKHR5cGVvZiBzZXR0aW5ncy5zdHlsZXNbc3R5bGVdPT09XCJ1bmRlZmluZWRcIil7c2V0dGluZ3Muc3R5bGVzW3N0eWxlXT1zZXR0aW5nc1tkZXByZWNhdGVkT3B0aW9uXX1jb25zb2xlLmVycm9yKFwiVXNlIG9mIGRlcHJlY2F0ZWQgb3B0aW9uOiBcIitkZXByZWNhdGVkT3B0aW9uK1wiLCB1c2UgdGhlIHN0eWxlIFwiK3N0eWxlK1wiIGluc3RlYWQuXCIpfX0pO2NvbnN0IG1hcmdpblNldHRpbmc9c2V0dGluZ3MubWFyZ2luO3NldHRpbmdzLm1hcmdpbj17fTtpZih0eXBlb2YgbWFyZ2luU2V0dGluZy5ob3Jpem9udGFsPT09XCJudW1iZXJcIil7bWFyZ2luU2V0dGluZy5yaWdodD1tYXJnaW5TZXR0aW5nLmhvcml6b250YWw7bWFyZ2luU2V0dGluZy5sZWZ0PW1hcmdpblNldHRpbmcuaG9yaXpvbnRhbH1pZih0eXBlb2YgbWFyZ2luU2V0dGluZy52ZXJ0aWNhbD09PVwibnVtYmVyXCIpe21hcmdpblNldHRpbmcudG9wPW1hcmdpblNldHRpbmcudmVydGljYWw7bWFyZ2luU2V0dGluZy5ib3R0b209bWFyZ2luU2V0dGluZy52ZXJ0aWNhbH1bXCJ0b3BcIixcInJpZ2h0XCIsXCJib3R0b21cIixcImxlZnRcIl0uZm9yRWFjaChmdW5jdGlvbihzaWRlLGkpe2lmKHR5cGVvZiBtYXJnaW5TZXR0aW5nPT09XCJudW1iZXJcIil7c2V0dGluZ3MubWFyZ2luW3NpZGVdPW1hcmdpblNldHRpbmd9ZWxzZXtjb25zdCBrZXk9QXJyYXkuaXNBcnJheShtYXJnaW5TZXR0aW5nKT9pOnNpZGU7c2V0dGluZ3MubWFyZ2luW3NpZGVdPXR5cGVvZiBtYXJnaW5TZXR0aW5nW2tleV09PT1cIm51bWJlclwiP21hcmdpblNldHRpbmdba2V5XTo0MH19KTtyZXR1cm4gc2V0dGluZ3N9ZnVuY3Rpb24ganNQZGZDcmVhdGVNb2RlbHMoaW5wdXRIZWFkZXJzLGlucHV0RGF0YSl7anNQZGZUYWJsZT1uZXcganNQZGZUYWJsZUNsYXNzO2pzUGRmVGFibGUueD1qc1BkZlNldHRpbmdzLm1hcmdpbi5sZWZ0O2NvbnN0IHNwbGl0UmVnZXg9L1xcclxcbnxcXHJ8XFxuL2c7Y29uc3QgaGVhZGVyUm93PW5ldyBqc1BkZlJvd0NsYXNzKGlucHV0SGVhZGVycyk7aGVhZGVyUm93LmluZGV4PS0xO2NvbnN0IHRoZW1lU3R5bGVzPWpzUGRmRXh0ZW5kKGpzUGRmRGVmYXVsdFN0eWxlcyxqc1BkZlRoZW1lc1tqc1BkZlNldHRpbmdzLnRoZW1lXS50YWJsZSxqc1BkZlRoZW1lc1tqc1BkZlNldHRpbmdzLnRoZW1lXS5oZWFkZXIpO2hlYWRlclJvdy5zdHlsZXM9anNQZGZFeHRlbmQodGhlbWVTdHlsZXMsanNQZGZTZXR0aW5ncy5zdHlsZXMsanNQZGZTZXR0aW5ncy5oZWFkZXJTdHlsZXMpO2lucHV0SGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHJhd0NvbHVtbixkYXRhS2V5KXtpZih0eXBlb2YgcmF3Q29sdW1uPT09XCJvYmplY3RcIil7ZGF0YUtleT10eXBlb2YgcmF3Q29sdW1uLmRhdGFLZXkhPT1cInVuZGVmaW5lZFwiP3Jhd0NvbHVtbi5kYXRhS2V5OnJhd0NvbHVtbi5rZXl9aWYodHlwZW9mIHJhd0NvbHVtbi53aWR0aCE9PVwidW5kZWZpbmVkXCIpe2NvbnNvbGUuZXJyb3IoXCJVc2Ugb2YgZGVwcmVjYXRlZCBvcHRpb246IGNvbHVtbi53aWR0aCwgdXNlIGNvbHVtbi5zdHlsZXMuY29sdW1uV2lkdGggaW5zdGVhZC5cIil9Y29uc3QgY29sPW5ldyBqc1BkZkNvbHVtbkNsYXNzKGRhdGFLZXkpO2NvbC5zdHlsZXM9anNQZGZTZXR0aW5ncy5jb2x1bW5TdHlsZXNbY29sLmRhdGFLZXldfHx7fTtqc1BkZlRhYmxlLmNvbHVtbnMucHVzaChjb2wpO2NvbnN0IGNlbGw9bmV3IGpzUGRmQ2VsbENsYXNzO2NlbGwucmF3PXR5cGVvZiByYXdDb2x1bW49PT1cIm9iamVjdFwiP3Jhd0NvbHVtbi50aXRsZTpyYXdDb2x1bW47Y2VsbC5zdHlsZXM9JC5leHRlbmQoe30saGVhZGVyUm93LnN0eWxlcyk7Y2VsbC50ZXh0PVwiXCIrY2VsbC5yYXc7Y2VsbC5jb250ZW50V2lkdGg9Y2VsbC5zdHlsZXMuY2VsbFBhZGRpbmcqMitqc1BkZkdldFN0cmluZ1dpZHRoKGNlbGwudGV4dCxjZWxsLnN0eWxlcyk7Y2VsbC50ZXh0PWNlbGwudGV4dC5zcGxpdChzcGxpdFJlZ2V4KTtoZWFkZXJSb3cuY2VsbHNbZGF0YUtleV09Y2VsbDtqc1BkZlNldHRpbmdzLmNyZWF0ZWRIZWFkZXJDZWxsKGNlbGwse2NvbHVtbjpjb2wscm93OmhlYWRlclJvdyxzZXR0aW5nczpqc1BkZlNldHRpbmdzfSl9KTtqc1BkZlRhYmxlLmhlYWRlclJvdz1oZWFkZXJSb3c7aW5wdXREYXRhLmZvckVhY2goZnVuY3Rpb24ocmF3Um93LGkpe2NvbnN0IHJvdz1uZXcganNQZGZSb3dDbGFzcyhyYXdSb3cpO2NvbnN0IGlzQWx0ZXJuYXRlPWklMj09PTA7Y29uc3QgdGhlbWVTdHlsZXM9anNQZGZFeHRlbmQoanNQZGZEZWZhdWx0U3R5bGVzLGpzUGRmVGhlbWVzW2pzUGRmU2V0dGluZ3MudGhlbWVdLnRhYmxlLGlzQWx0ZXJuYXRlP2pzUGRmVGhlbWVzW2pzUGRmU2V0dGluZ3MudGhlbWVdLmFsdGVybmF0ZVJvdzp7fSk7Y29uc3QgdXNlclN0eWxlcz1qc1BkZkV4dGVuZChqc1BkZlNldHRpbmdzLnN0eWxlcyxqc1BkZlNldHRpbmdzLmJvZHlTdHlsZXMsaXNBbHRlcm5hdGU/anNQZGZTZXR0aW5ncy5hbHRlcm5hdGVSb3dTdHlsZXM6e30pO3Jvdy5zdHlsZXM9anNQZGZFeHRlbmQodGhlbWVTdHlsZXMsdXNlclN0eWxlcyk7cm93LmluZGV4PWk7anNQZGZUYWJsZS5jb2x1bW5zLmZvckVhY2goZnVuY3Rpb24oY29sdW1uKXtjb25zdCBjZWxsPW5ldyBqc1BkZkNlbGxDbGFzcztjZWxsLnJhdz1yYXdSb3dbY29sdW1uLmRhdGFLZXldO2NlbGwuc3R5bGVzPWpzUGRmRXh0ZW5kKHJvdy5zdHlsZXMsY29sdW1uLnN0eWxlcyk7Y2VsbC50ZXh0PXR5cGVvZiBjZWxsLnJhdyE9PVwidW5kZWZpbmVkXCI/XCJcIitjZWxsLnJhdzpcIlwiO3Jvdy5jZWxsc1tjb2x1bW4uZGF0YUtleV09Y2VsbDtqc1BkZlNldHRpbmdzLmNyZWF0ZWRDZWxsKGNlbGwsanNQZGZIb29rc0RhdGEoe2NvbHVtbjpjb2x1bW4scm93OnJvd30pKTtjZWxsLmNvbnRlbnRXaWR0aD1jZWxsLnN0eWxlcy5jZWxsUGFkZGluZyoyK2pzUGRmR2V0U3RyaW5nV2lkdGgoY2VsbC50ZXh0LGNlbGwuc3R5bGVzKTtjZWxsLnRleHQ9Y2VsbC50ZXh0LnNwbGl0KHNwbGl0UmVnZXgpfSk7anNQZGZUYWJsZS5yb3dzLnB1c2gocm93KX0pfWZ1bmN0aW9uIGpzUGRmQ2FsY3VsYXRlV2lkdGhzKCl7bGV0IHRhYmxlQ29udGVudFdpZHRoPTA7anNQZGZUYWJsZS5jb2x1bW5zLmZvckVhY2goZnVuY3Rpb24oY29sdW1uKXtjb2x1bW4uY29udGVudFdpZHRoPWpzUGRmVGFibGUuaGVhZGVyUm93LmNlbGxzW2NvbHVtbi5kYXRhS2V5XS5jb250ZW50V2lkdGg7anNQZGZUYWJsZS5yb3dzLmZvckVhY2goZnVuY3Rpb24ocm93KXtjb25zdCBjZWxsV2lkdGg9cm93LmNlbGxzW2NvbHVtbi5kYXRhS2V5XS5jb250ZW50V2lkdGg7aWYoY2VsbFdpZHRoPmNvbHVtbi5jb250ZW50V2lkdGgpe2NvbHVtbi5jb250ZW50V2lkdGg9Y2VsbFdpZHRofX0pO2NvbHVtbi53aWR0aD1jb2x1bW4uY29udGVudFdpZHRoO3RhYmxlQ29udGVudFdpZHRoKz1jb2x1bW4uY29udGVudFdpZHRofSk7anNQZGZUYWJsZS5jb250ZW50V2lkdGg9dGFibGVDb250ZW50V2lkdGg7Y29uc3QgbWF4VGFibGVXaWR0aD1qc1BkZkRvYy5pbnRlcm5hbC5wYWdlU2l6ZS53aWR0aC1qc1BkZlNldHRpbmdzLm1hcmdpbi5sZWZ0LWpzUGRmU2V0dGluZ3MubWFyZ2luLnJpZ2h0O2xldCBwcmVmZXJyZWRUYWJsZVdpZHRoPW1heFRhYmxlV2lkdGg7aWYodHlwZW9mIGpzUGRmU2V0dGluZ3MudGFibGVXaWR0aD09PVwibnVtYmVyXCIpe3ByZWZlcnJlZFRhYmxlV2lkdGg9anNQZGZTZXR0aW5ncy50YWJsZVdpZHRofWVsc2UgaWYoanNQZGZTZXR0aW5ncy50YWJsZVdpZHRoPT09XCJ3cmFwXCIpe3ByZWZlcnJlZFRhYmxlV2lkdGg9anNQZGZUYWJsZS5jb250ZW50V2lkdGh9anNQZGZUYWJsZS53aWR0aD1wcmVmZXJyZWRUYWJsZVdpZHRoPG1heFRhYmxlV2lkdGg/cHJlZmVycmVkVGFibGVXaWR0aDptYXhUYWJsZVdpZHRoO2NvbnN0IGR5bmFtaWNDb2x1bW5zPVtdO2xldCBkeW5hbWljQ29sdW1uc0NvbnRlbnRXaWR0aD0wO2NvbnN0IGZhaXJXaWR0aD1qc1BkZlRhYmxlLndpZHRoL2pzUGRmVGFibGUuY29sdW1ucy5sZW5ndGg7bGV0IHN0YXRpY1dpZHRoPTA7anNQZGZUYWJsZS5jb2x1bW5zLmZvckVhY2goZnVuY3Rpb24oY29sdW1uKXtjb25zdCBjb2xTdHlsZXM9anNQZGZFeHRlbmQoanNQZGZEZWZhdWx0U3R5bGVzLGpzUGRmVGhlbWVzW2pzUGRmU2V0dGluZ3MudGhlbWVdLnRhYmxlLGpzUGRmU2V0dGluZ3Muc3R5bGVzLGNvbHVtbi5zdHlsZXMpO2lmKGNvbFN0eWxlcy5jb2x1bW5XaWR0aD09PVwid3JhcFwiKXtjb2x1bW4ud2lkdGg9Y29sdW1uLmNvbnRlbnRXaWR0aH1lbHNlIGlmKHR5cGVvZiBjb2xTdHlsZXMuY29sdW1uV2lkdGg9PT1cIm51bWJlclwiKXtjb2x1bW4ud2lkdGg9Y29sU3R5bGVzLmNvbHVtbldpZHRofWVsc2UgaWYoY29sU3R5bGVzLmNvbHVtbldpZHRoPT09XCJhdXRvXCJ8fHRydWUpe2lmKGNvbHVtbi5jb250ZW50V2lkdGg8PWZhaXJXaWR0aCYmanNQZGZUYWJsZS5jb250ZW50V2lkdGg+anNQZGZUYWJsZS53aWR0aCl7Y29sdW1uLndpZHRoPWNvbHVtbi5jb250ZW50V2lkdGh9ZWxzZXtkeW5hbWljQ29sdW1ucy5wdXNoKGNvbHVtbik7ZHluYW1pY0NvbHVtbnNDb250ZW50V2lkdGgrPWNvbHVtbi5jb250ZW50V2lkdGg7Y29sdW1uLndpZHRoPTB9fXN0YXRpY1dpZHRoKz1jb2x1bW4ud2lkdGh9KTtqc1BkZkRpc3RyaWJ1dGVXaWR0aChkeW5hbWljQ29sdW1ucyxzdGF0aWNXaWR0aCxkeW5hbWljQ29sdW1uc0NvbnRlbnRXaWR0aCxmYWlyV2lkdGgpO2pzUGRmVGFibGUuaGVpZ2h0PTA7Y29uc3QgYWxsPWpzUGRmVGFibGUucm93cy5jb25jYXQoanNQZGZUYWJsZS5oZWFkZXJSb3cpO2FsbC5mb3JFYWNoKGZ1bmN0aW9uKHJvdyxpKXtsZXQgbGluZUJyZWFrQ291bnQ9MDtsZXQgY3Vyc29yWD1qc1BkZlRhYmxlLng7anNQZGZUYWJsZS5jb2x1bW5zLmZvckVhY2goZnVuY3Rpb24oY29sKXtjb25zdCBjZWxsPXJvdy5jZWxsc1tjb2wuZGF0YUtleV07Y29sLng9Y3Vyc29yWDtqc1BkZkFwcGx5U3R5bGVzKGNlbGwuc3R5bGVzKTtjb25zdCB0ZXh0U3BhY2U9Y29sLndpZHRoLWNlbGwuc3R5bGVzLmNlbGxQYWRkaW5nKjI7aWYoY2VsbC5zdHlsZXMub3ZlcmZsb3c9PT1cImxpbmVicmVha1wiKXtjZWxsLnRleHQ9anNQZGZEb2Muc3BsaXRUZXh0VG9TaXplKGNlbGwudGV4dCx0ZXh0U3BhY2UrMSx7Zm9udFNpemU6Y2VsbC5zdHlsZXMuZm9udFNpemV9KX1lbHNlIGlmKGNlbGwuc3R5bGVzLm92ZXJmbG93PT09XCJlbGxpcHNpemVcIil7Y2VsbC50ZXh0PWpzUGRmRWxsaXBzaXplKGNlbGwudGV4dCx0ZXh0U3BhY2UsY2VsbC5zdHlsZXMpfWVsc2UgaWYoY2VsbC5zdHlsZXMub3ZlcmZsb3c9PT1cInZpc2libGVcIil7fWVsc2UgaWYoY2VsbC5zdHlsZXMub3ZlcmZsb3c9PT1cImhpZGRlblwiKXtjZWxsLnRleHQ9anNQZGZFbGxpcHNpemUoY2VsbC50ZXh0LHRleHRTcGFjZSxjZWxsLnN0eWxlcyxcIlwiKX1lbHNlIGlmKHR5cGVvZiBjZWxsLnN0eWxlcy5vdmVyZmxvdz09PVwiZnVuY3Rpb25cIil7Y2VsbC50ZXh0PWNlbGwuc3R5bGVzLm92ZXJmbG93KGNlbGwudGV4dCx0ZXh0U3BhY2UpfWVsc2V7Y29uc29sZS5lcnJvcihcIlVucmVjb2duaXplZCBvdmVyZmxvdyB0eXBlOiBcIitjZWxsLnN0eWxlcy5vdmVyZmxvdyl9Y29uc3QgY291bnQ9QXJyYXkuaXNBcnJheShjZWxsLnRleHQpP2NlbGwudGV4dC5sZW5ndGgtMTowO2lmKGNvdW50PmxpbmVCcmVha0NvdW50KXtsaW5lQnJlYWtDb3VudD1jb3VudH1jdXJzb3JYKz1jb2wud2lkdGh9KTtyb3cuaGVpZ2h0U3R5bGU9cm93LnN0eWxlcy5yb3dIZWlnaHQ7cm93LmhlaWdodD1yb3cuaGVpZ2h0U3R5bGUrbGluZUJyZWFrQ291bnQqcm93LnN0eWxlcy5mb250U2l6ZSpGT05UX1JPV19SQVRJTysoMi1GT05UX1JPV19SQVRJTykvMipyb3cuc3R5bGVzLmZvbnRTaXplO2pzUGRmVGFibGUuaGVpZ2h0Kz1yb3cuaGVpZ2h0fSl9ZnVuY3Rpb24ganNQZGZEaXN0cmlidXRlV2lkdGgoZHluYW1pY0NvbHVtbnMsc3RhdGljV2lkdGgsZHluYW1pY0NvbHVtbnNDb250ZW50V2lkdGgsZmFpcldpZHRoKXtjb25zdCBleHRyYVdpZHRoPWpzUGRmVGFibGUud2lkdGgtc3RhdGljV2lkdGgtZHluYW1pY0NvbHVtbnNDb250ZW50V2lkdGg7Zm9yKGxldCBpPTA7aTxkeW5hbWljQ29sdW1ucy5sZW5ndGg7aSsrKXtjb25zdCBjb2w9ZHluYW1pY0NvbHVtbnNbaV07Y29uc3QgcmF0aW89Y29sLmNvbnRlbnRXaWR0aC9keW5hbWljQ29sdW1uc0NvbnRlbnRXaWR0aDtjb25zdCBpc05vbmVEeW5hbWljPWNvbC5jb250ZW50V2lkdGgrZXh0cmFXaWR0aCpyYXRpbzxmYWlyV2lkdGg7aWYoZXh0cmFXaWR0aDwwJiZpc05vbmVEeW5hbWljKXtkeW5hbWljQ29sdW1ucy5zcGxpY2UoaSwxKTtkeW5hbWljQ29sdW1uc0NvbnRlbnRXaWR0aC09Y29sLmNvbnRlbnRXaWR0aDtjb2wud2lkdGg9ZmFpcldpZHRoO3N0YXRpY1dpZHRoKz1jb2wud2lkdGg7anNQZGZEaXN0cmlidXRlV2lkdGgoZHluYW1pY0NvbHVtbnMsc3RhdGljV2lkdGgsZHluYW1pY0NvbHVtbnNDb250ZW50V2lkdGgsZmFpcldpZHRoKTticmVha31lbHNle2NvbC53aWR0aD1jb2wuY29udGVudFdpZHRoK2V4dHJhV2lkdGgqcmF0aW99fX1mdW5jdGlvbiBqc1BkZlByaW50Um93cygpe2pzUGRmVGFibGUucm93cy5mb3JFYWNoKGZ1bmN0aW9uKHJvdyxpKXtpZihqc1BkZklzTmV3UGFnZShyb3cuaGVpZ2h0KSl7anNQZGZBZGRQYWdlKCl9cm93Lnk9anNQZGZDdXJzb3IueTtpZihqc1BkZlNldHRpbmdzLmRyYXdSb3cocm93LGpzUGRmSG9va3NEYXRhKHtyb3c6cm93fSkpIT09ZmFsc2Upe2pzUGRmUHJpbnRSb3cocm93LGpzUGRmU2V0dGluZ3MuZHJhd0NlbGwpfX0pfWZ1bmN0aW9uIGpzUGRmQWRkUGFnZSgpe2pzUGRmU2V0dGluZ3MuYWZ0ZXJQYWdlQ29udGVudChqc1BkZkhvb2tzRGF0YSgpKTtqc1BkZkRvYy5hZGRQYWdlKCk7anNQZGZQYWdlQ291bnQrKztqc1BkZkN1cnNvcj17eDpqc1BkZlNldHRpbmdzLm1hcmdpbi5sZWZ0LHk6anNQZGZTZXR0aW5ncy5tYXJnaW4udG9wfTtqc1BkZlNldHRpbmdzLmJlZm9yZVBhZ2VDb250ZW50KGpzUGRmSG9va3NEYXRhKCkpO2lmKGpzUGRmU2V0dGluZ3MuZHJhd0hlYWRlclJvdyhqc1BkZlRhYmxlLmhlYWRlclJvdyxqc1BkZkhvb2tzRGF0YSh7cm93OmpzUGRmVGFibGUuaGVhZGVyUm93fSkpIT09ZmFsc2Upe2pzUGRmUHJpbnRSb3coanNQZGZUYWJsZS5oZWFkZXJSb3csanNQZGZTZXR0aW5ncy5kcmF3SGVhZGVyQ2VsbCl9fWZ1bmN0aW9uIGpzUGRmSXNOZXdQYWdlKHJvd0hlaWdodCl7Y29uc3QgYWZ0ZXJSb3dQb3M9anNQZGZDdXJzb3IueStyb3dIZWlnaHQranNQZGZTZXR0aW5ncy5tYXJnaW4uYm90dG9tO3JldHVybiBhZnRlclJvd1Bvcz49anNQZGZEb2MuaW50ZXJuYWwucGFnZVNpemUuaGVpZ2h0fWZ1bmN0aW9uIGpzUGRmUHJpbnRSb3cocm93LGhvb2tIYW5kbGVyKXtmb3IobGV0IGk9MDtpPGpzUGRmVGFibGUuY29sdW1ucy5sZW5ndGg7aSsrKXtjb25zdCBjb2x1bW49anNQZGZUYWJsZS5jb2x1bW5zW2ldO2NvbnN0IGNlbGw9cm93LmNlbGxzW2NvbHVtbi5kYXRhS2V5XTtpZighY2VsbCl7Y29udGludWV9anNQZGZBcHBseVN0eWxlcyhjZWxsLnN0eWxlcyk7Y2VsbC54PWNvbHVtbi54O2NlbGwueT1qc1BkZkN1cnNvci55O2NlbGwuaGVpZ2h0PXJvdy5oZWlnaHQ7Y2VsbC53aWR0aD1jb2x1bW4ud2lkdGg7aWYoY2VsbC5zdHlsZXMudmFsaWduPT09XCJ0b3BcIil7Y2VsbC50ZXh0UG9zLnk9anNQZGZDdXJzb3IueStjZWxsLnN0eWxlcy5jZWxsUGFkZGluZ31lbHNlIGlmKGNlbGwuc3R5bGVzLnZhbGlnbj09PVwiYm90dG9tXCIpe2NlbGwudGV4dFBvcy55PWpzUGRmQ3Vyc29yLnkrcm93LmhlaWdodC1jZWxsLnN0eWxlcy5jZWxsUGFkZGluZ31lbHNle2NlbGwudGV4dFBvcy55PWpzUGRmQ3Vyc29yLnkrcm93LmhlaWdodC8yfWlmKGNlbGwuc3R5bGVzLmhhbGlnbj09PVwicmlnaHRcIil7Y2VsbC50ZXh0UG9zLng9Y2VsbC54K2NlbGwud2lkdGgtY2VsbC5zdHlsZXMuY2VsbFBhZGRpbmd9ZWxzZSBpZihjZWxsLnN0eWxlcy5oYWxpZ249PT1cImNlbnRlclwiKXtjZWxsLnRleHRQb3MueD1jZWxsLngrY2VsbC53aWR0aC8yfWVsc2V7Y2VsbC50ZXh0UG9zLng9Y2VsbC54K2NlbGwuc3R5bGVzLmNlbGxQYWRkaW5nfWNvbnN0IGRhdGE9anNQZGZIb29rc0RhdGEoe2NvbHVtbjpjb2x1bW4scm93OnJvd30pO2lmKGhvb2tIYW5kbGVyKGNlbGwsZGF0YSkhPT1mYWxzZSl7anNQZGZEb2MucmVjdChjZWxsLngsY2VsbC55LGNlbGwud2lkdGgsY2VsbC5oZWlnaHQsY2VsbC5zdHlsZXMuZmlsbFN0eWxlKTtqc1BkZkF1dG9UYWJsZVRleHQoY2VsbC50ZXh0LGNlbGwudGV4dFBvcy54LGNlbGwudGV4dFBvcy55LHtoYWxpZ246Y2VsbC5zdHlsZXMuaGFsaWduLHZhbGlnbjpjZWxsLnN0eWxlcy52YWxpZ259KX19anNQZGZDdXJzb3IueSs9cm93LmhlaWdodH1mdW5jdGlvbiBqc1BkZkFwcGx5U3R5bGVzKHN0eWxlcyl7Y29uc3QgYXJyPVt7ZnVuYzpqc1BkZkRvYy5zZXRGaWxsQ29sb3IsdmFsdWU6c3R5bGVzLmZpbGxDb2xvcn0se2Z1bmM6anNQZGZEb2Muc2V0VGV4dENvbG9yLHZhbHVlOnN0eWxlcy50ZXh0Q29sb3J9LHtmdW5jOmpzUGRmRG9jLnNldEZvbnQsdmFsdWU6c3R5bGVzLmZvbnQsc3R5bGU6c3R5bGVzLmZvbnRTdHlsZX0se2Z1bmM6anNQZGZEb2Muc2V0RHJhd0NvbG9yLHZhbHVlOnN0eWxlcy5saW5lQ29sb3J9LHtmdW5jOmpzUGRmRG9jLnNldExpbmVXaWR0aCx2YWx1ZTpzdHlsZXMubGluZVdpZHRofSx7ZnVuYzpqc1BkZkRvYy5zZXRGb250LHZhbHVlOnN0eWxlcy5mb250fSx7ZnVuYzpqc1BkZkRvYy5zZXRGb250U2l6ZSx2YWx1ZTpzdHlsZXMuZm9udFNpemV9XTthcnIuZm9yRWFjaChmdW5jdGlvbihvYmope2lmKHR5cGVvZiBvYmoudmFsdWUhPT1cInVuZGVmaW5lZFwiKXtpZihvYmoudmFsdWUuY29uc3RydWN0b3I9PT1BcnJheSl7b2JqLmZ1bmMuYXBwbHkoanNQZGZEb2Msb2JqLnZhbHVlKX1lbHNlIGlmKHR5cGVvZiBvYmouc3R5bGUhPT1cInVuZGVmaW5lZFwiKXtvYmouZnVuYyhvYmoudmFsdWUsb2JqLnN0eWxlKX1lbHNle29iai5mdW5jKG9iai52YWx1ZSl9fX0pfWZ1bmN0aW9uIGpzUGRmSG9va3NEYXRhKGFkZGl0aW9uYWxEYXRhKXthZGRpdGlvbmFsRGF0YT1hZGRpdGlvbmFsRGF0YXx8e307Y29uc3QgZGF0YT17cGFnZUNvdW50OmpzUGRmUGFnZUNvdW50LHNldHRpbmdzOmpzUGRmU2V0dGluZ3MsdGFibGU6anNQZGZUYWJsZSxjdXJzb3I6anNQZGZDdXJzb3J9O2ZvcihsZXQgcHJvcCBpbiBhZGRpdGlvbmFsRGF0YSl7aWYoYWRkaXRpb25hbERhdGEuaGFzT3duUHJvcGVydHkocHJvcCkpe2RhdGFbcHJvcF09YWRkaXRpb25hbERhdGFbcHJvcF19fXJldHVybiBkYXRhfWZ1bmN0aW9uIGpzUGRmRWxsaXBzaXplKHRleHQsd2lkdGgsc3R5bGVzLGVsbGlwc2l6ZVN0cil7ZWxsaXBzaXplU3RyPXR5cGVvZiBlbGxpcHNpemVTdHIhPT1cInVuZGVmaW5lZFwiP2VsbGlwc2l6ZVN0cjpcIi4uLlwiO2lmKEFycmF5LmlzQXJyYXkodGV4dCkpe3RleHQuZm9yRWFjaChmdW5jdGlvbihzdHIsaSl7dGV4dFtpXT1qc1BkZkVsbGlwc2l6ZShzdHIsd2lkdGgsc3R5bGVzLGVsbGlwc2l6ZVN0cil9KTtyZXR1cm4gdGV4dH1pZih3aWR0aD49anNQZGZHZXRTdHJpbmdXaWR0aCh0ZXh0LHN0eWxlcykpe3JldHVybiB0ZXh0fXdoaWxlKHdpZHRoPGpzUGRmR2V0U3RyaW5nV2lkdGgodGV4dCtlbGxpcHNpemVTdHIsc3R5bGVzKSl7aWYodGV4dC5sZW5ndGg8Mil7YnJlYWt9dGV4dD10ZXh0LnN1YnN0cmluZygwLHRleHQubGVuZ3RoLTEpfXJldHVybiB0ZXh0LnRyaW0oKStlbGxpcHNpemVTdHJ9ZnVuY3Rpb24ganNQZGZHZXRTdHJpbmdXaWR0aCh0ZXh0LHN0eWxlcyl7anNQZGZBcHBseVN0eWxlcyhzdHlsZXMpO2NvbnN0IHc9anNQZGZEb2MuZ2V0U3RyaW5nVW5pdFdpZHRoKHRleHQpO3JldHVybiB3KnN0eWxlcy5mb250U2l6ZX1mdW5jdGlvbiBqc1BkZkV4dGVuZChkZWZhdWx0cyl7Y29uc3QgZXh0ZW5kZWQ9e307bGV0IHByb3A7Zm9yKHByb3AgaW4gZGVmYXVsdHMpe2lmKGRlZmF1bHRzLmhhc093blByb3BlcnR5KHByb3ApKXtleHRlbmRlZFtwcm9wXT1kZWZhdWx0c1twcm9wXX19Zm9yKGxldCBpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl7Y29uc3Qgb3B0aW9ucz1hcmd1bWVudHNbaV07Zm9yKHByb3AgaW4gb3B0aW9ucyl7aWYob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShwcm9wKSl7ZXh0ZW5kZWRbcHJvcF09b3B0aW9uc1twcm9wXX19fXJldHVybiBleHRlbmRlZH1pZih0eXBlb2YgZGVmYXVsdHMub25UYWJsZUV4cG9ydEVuZD09PVwiZnVuY3Rpb25cIilkZWZhdWx0cy5vblRhYmxlRXhwb3J0RW5kKCk7cmV0dXJuIHRoaXN9O2Z1bmN0aW9uIGpzUGRmRGVmYXVsdE9wdGlvbnMoKXtyZXR1cm57dGhlbWU6XCJzdHJpcGVkXCIsc3R5bGVzOnt9LGhlYWRlclN0eWxlczp7fSxib2R5U3R5bGVzOnt9LGFsdGVybmF0ZVJvd1N0eWxlczp7fSxjb2x1bW5TdHlsZXM6e30sc3RhcnRZOmZhbHNlLG1hcmdpbjo0MCxwYWdlQnJlYWs6XCJhdXRvXCIsdGFibGVXaWR0aDpcImF1dG9cIixjcmVhdGVkSGVhZGVyQ2VsbDpmdW5jdGlvbihjZWxsLGRhdGEpe30sY3JlYXRlZENlbGw6ZnVuY3Rpb24oY2VsbCxkYXRhKXt9LGRyYXdIZWFkZXJSb3c6ZnVuY3Rpb24ocm93LGRhdGEpe30sZHJhd1JvdzpmdW5jdGlvbihyb3csZGF0YSl7fSxkcmF3SGVhZGVyQ2VsbDpmdW5jdGlvbihjZWxsLGRhdGEpe30sZHJhd0NlbGw6ZnVuY3Rpb24oY2VsbCxkYXRhKXt9LGJlZm9yZVBhZ2VDb250ZW50OmZ1bmN0aW9uKGRhdGEpe30sYWZ0ZXJQYWdlQ29udGVudDpmdW5jdGlvbihkYXRhKXt9fX12YXIganNQZGZUYWJsZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24ganNQZGZUYWJsZUNsYXNzKCl7dGhpcy5oZWlnaHQ9MDt0aGlzLndpZHRoPTA7dGhpcy54PTA7dGhpcy55PTA7dGhpcy5jb250ZW50V2lkdGg9MDt0aGlzLnJvd3M9W107dGhpcy5jb2x1bW5zPVtdO3RoaXMuaGVhZGVyUm93PW51bGw7dGhpcy5zZXR0aW5ncz17fX1yZXR1cm4ganNQZGZUYWJsZUNsYXNzfSgpO3ZhciBqc1BkZlJvd0NsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24ganNQZGZSb3dDbGFzcyhyYXcpe3RoaXMucmF3PXJhd3x8e307dGhpcy5pbmRleD0wO3RoaXMuc3R5bGVzPXt9O3RoaXMuY2VsbHM9e307dGhpcy5oZWlnaHQ9MDt0aGlzLnk9MH1yZXR1cm4ganNQZGZSb3dDbGFzc30oKTt2YXIganNQZGZDZWxsQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBqc1BkZkNlbGxDbGFzcyhyYXcpe3RoaXMucmF3PXJhdzt0aGlzLnN0eWxlcz17fTt0aGlzLnRleHQ9XCJcIjt0aGlzLmNvbnRlbnRXaWR0aD0wO3RoaXMudGV4dFBvcz17fTt0aGlzLmhlaWdodD0wO3RoaXMud2lkdGg9MDt0aGlzLng9MDt0aGlzLnk9MH1yZXR1cm4ganNQZGZDZWxsQ2xhc3N9KCk7dmFyIGpzUGRmQ29sdW1uQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBqc1BkZkNvbHVtbkNsYXNzKGRhdGFLZXkpe3RoaXMuZGF0YUtleT1kYXRhS2V5O3RoaXMub3B0aW9ucz17fTt0aGlzLnN0eWxlcz17fTt0aGlzLmNvbnRlbnRXaWR0aD0wO3RoaXMud2lkdGg9MDt0aGlzLng9MH1yZXR1cm4ganNQZGZDb2x1bW5DbGFzc30oKX0pKGpRdWVyeSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9